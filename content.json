{"meta":{"title":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„çš„åšå®¢","subtitle":"SOMEWHERE NOT HERE","description":"åˆ†äº«çŸ¥è¯†&æŠ€æœ¯&æ€è€ƒ&æˆé•¿","author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„","url":"http://www.wmyskxz.com","root":"/"},"pages":[{"title":"about","date":"2019-06-21T11:12:57.000Z","updated":"2019-06-21T11:13:36.000Z","comments":true,"path":"about/back.html","permalink":"http://www.wmyskxz.com/about/back.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-08-11T02:01:04.448Z","updated":"2020-08-11T02:01:03.376Z","comments":true,"path":"about/index.html","permalink":"http://www.wmyskxz.com/about/index.html","excerpt":"","text":"ã€Œ 96å¹´å¥‹åŠ›å¥”è·‘çš„è‡ªç”±æŠ€æœ¯äºº ã€ å…³äºæœ¬ç«™æœ¬ç«™æ‰€ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ï¼šVolantisï¼Œä¸ä¸»é¢˜ç›¸å…³çš„ç–‘é—®è¯·å‰å»ä¸»é¢˜æ–‡æ¡£é¡µé¢æŸ¥è¯¢æˆ–è€…æ issue æ±‚åŠ©ï¼Œè¯·ä¸è¦åœ¨æˆ‘çš„åšå®¢è¯„è®ºé‡Œé¢å‘ï¼Œè°¢è°¢ï¼ Voliantishttps://volantis.js.org/"},{"title":"categories","date":"2019-06-21T12:48:39.000Z","updated":"2020-08-11T01:27:56.526Z","comments":true,"path":"categories/back.html","permalink":"http://www.wmyskxz.com/categories/back.html","excerpt":"","text":""},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-08-11T01:27:56.523Z","updated":"2020-08-11T01:27:56.522Z","comments":true,"path":"categories/index.html","permalink":"http://www.wmyskxz.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-06-21T12:49:45.000Z","updated":"2019-06-21T12:50:00.000Z","comments":true,"path":"tags/back.html","permalink":"http://www.wmyskxz.com/tags/back.html","excerpt":"","text":""},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-08-11T01:31:02.299Z","updated":"2020-08-11T01:31:02.299Z","comments":true,"path":"tags/index.html","permalink":"http://www.wmyskxz.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ä½ è®°ç¬”è®°å—ï¼Ÿå…³äºæœ€è¿‘çŸ¥è¯†ç®¡ç†å·¥å…·é©æ–°æ½®å¿ƒè„æœ‰è¯è¦è¯´","slug":"ä½ è®°ç¬”è®°å—ï¼Ÿå…³äºæœ€è¿‘çŸ¥è¯†ç®¡ç†å·¥å…·é©æ–°æ½®å¿ƒè„æœ‰è¯è¦è¯´","date":"2020-08-16T07:03:00.000Z","updated":"2020-08-16T07:50:03.155Z","comments":true,"path":"2020/08/16/ni-ji-bi-ji-ma-guan-yu-zui-jin-zhi-shi-guan-li-gong-ju-ge-xin-chao-xin-zang-you-hua-yao-shuo/","link":"","permalink":"http://www.wmyskxz.com/2020/08/16/ni-ji-bi-ji-ma-guan-yu-zui-jin-zhi-shi-guan-li-gong-ju-ge-xin-chao-xin-zang-you-hua-yao-shuo/","excerpt":"","text":"ä»¥ä¸‹æ¥è‡ªäºçŸ¥ä¹é—®é¢˜ï¼šå¦‚ä½•è¯„ä»·ã€Œæˆ‘æ¥ wolai.comã€è¿™ä¸ªäº§å“ï¼Ÿ çš„å›ç­”ã€‚ä½†æ›´å¤šçš„æ˜¯åˆ†äº«è‡ªå·±å…³äºçŸ¥è¯†ç®¡ç†æ–¹é¢çš„æ€è€ƒã€‚ æœ€è¿‘æ­£å¥½åœ¨å­¦ä¹ äº§å“å’Œç ”ç©¶ç¬”è®°ç±»è½¯ä»¶ç›¸å…³çš„çŸ¥è¯†ï¼Œä¹Ÿåœ¨å†™ã€ŒMoreThanJavaã€ç³»åˆ—çš„è¿‡ç¨‹ä¸­æ€è€ƒæ›´å¥½çš„çŸ¥è¯†ç»„ç»‡æ–¹å¼ï¼ŒåŒæ—¶åˆä½œä¸º Notionã€å°è±¡ç¬”è®°çš„é•¿æœŸä½¿ç”¨ç”¨æˆ·ï¼Œä»…ä»¥æˆ‘ä¸ªäººçš„è§’åº¦æ¥å¯¹ã€Œwolaiã€å’Œã€Œæ›´å¥½çš„çŸ¥è¯†ç»„ç»‡æ–¹å¼ã€è°ˆè°ˆæ„Ÿå—ã€æƒ³æ³•ã€æœŸå¾…å’Œæ€è€ƒã€‚ å…³äºæˆ‘æ¥ ã€Œå…œå…œè½¬è½¬ä¹‹åï¼Œæˆ‘å‘ç°ï¼Œæ‰€æœ‰çš„ä¸°è¡£è¶³é£Ÿï¼Œæœ€åéƒ½æ˜¯è‡ªå·±åŠ¨æ‰‹ã€‚äºæ˜¯ï¼Œä¾¿æœ‰äº† â€œæˆ‘æ¥â€ã€â€”â€” æ¥è‡ªçŸ¥ä¹å›ç­”ã€Œå¦‚ä½•è¯„ä»·wolaiè¿™æ¬¾äº§å“ã€é©¬æ€»äº²è‡ªçš„å›ç­” æˆ‘æ¥è¿™ä¸ªåå­—ï¼Œå¤šå¤šå°‘å°‘è•´å«ç€ä¸€ä¸ä¸ªäººä¸»ä¹‰çš„é‡å¿ƒï¼šæ´»çš„ç½‘çŠ¶ç³»ç»Ÿã€ç»§æ‰¿æ‰€æœ‰ç¬”è®°ç±»è½¯ä»¶çš„ä¼˜ç‚¹ã€å¯¹ä¸­æ–‡æè‡´å‹å¥½ã€è§£å†³æ‰€æœ‰çš„ä¸å®Œç¾ã€‚ ä½†æ˜¯ä¸ç®¡æ˜¯å®˜ç½‘çš„ä»‹ç»ï¼Œè¿˜æ˜¯é©¬æ€»åœ¨çŸ¥ä¹ä¸Šçš„å›ç­”ï¼Œéƒ½èšç„¦åœ¨ ã€Œè¿™æ˜¯ä¸€ä¸ªæ›´å¥½çš„è½¯ä»¶ã€ è¿™ä¸ªé—®é¢˜ä¸Šï¼Œå…³äº ã€Œå¦‚ä½•å¸¦æ¥æ›´å¤§çš„ä»·å€¼ã€ è¿™ç‚¹å¯¹äºå¤§å¤šæ•°äººå´æ˜¯æ¨¡ç³Šçš„ï¼ˆäº‹å®ä¸Šåªæœ‰å°‘éƒ¨åˆ†äººèƒ½éå¸¸ç›´è§‚åœ°æ„ŸçŸ¥åˆ°ä»·å€¼â€”â€”åšä¿¡ç¬¬äºŒå¤§è„‘å’Œé•¿æœŸä½¿ç”¨ç¬”è®°ç±»è½¯ä»¶çš„ç”¨æˆ·ï¼‰ã€‚ æ¯”å¦‚ï¼Œç›¸æ¯”å°è±¡ç¬”è®°å®˜ç½‘ç›´è§‚çš„ä»·å€¼ä½“ç°ï¼š wolai å°±æ˜¾å¾—å«è“„è®¸å¤šï¼š å…ˆç»“åˆè‡ªå·±ä½¿ç”¨ç¬”è®°ç±»è½¯ä»¶æ—¶é‡åˆ°é—®é¢˜å’Œå­¦ä¹ çš„ç»å†æ¥ç®€å•è¯´æ˜ä¸€ä¸‹å…¶ä¸­çš„ä»·å€¼å§ã€‚ é¦–å…ˆï¼Œè®°å½•ç¬”è®°æœ‰ä»·å€¼é¦–å…ˆï¼Œè®°å½•æœ‰ä»·å€¼ï¼Œç¬”è®°æœ‰ä»·å€¼ï¼Œè®°å½•ç¬”è®°æœ‰ä»·å€¼ã€‚ çŸ¥è¯†å¤§çˆ†ç‚¸ åŸå› ä¹‹ä¸€æ˜¯æˆ‘ä»¬é‡åˆ°äº†é—®é¢˜ï¼šä¿¡æ¯è¿‡è½½ï¼ŒçŸ¥è¯†çˆ†ç‚¸ï¼ŒåŒæ—¶å¤§è„‘åˆå¯¹ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£é€‚åº”æ€§å¾ˆå·®ã€‚ æ ¹æ®IDCå‘è¡¨çš„ã€Šæ•°æ®æ—¶ä»£ 2025ã€‹çš„æŠ¥å‘Šæ˜¾ç¤ºï¼šå…¨çƒæ¯å¹´äº§ç”Ÿçš„æ•°æ®å°†ä» 2018 å¹´çš„ 33ZB å¢é•¿åˆ° 175ZB ï¼Œç›¸å½“äºæ¯å¤©äº§ç”Ÿ 491EB çš„æ•°æ®ã€‚å¦‚æœæŠŠ 175ZB å…¨éƒ¨å­˜åœ¨ DVD å…‰ç›˜ä¸­ï¼Œé‚£ä¹ˆ DVD å åŠ èµ·æ¥çš„é«˜åº¦å°†æ˜¯åœ°çƒåˆ°æœˆçƒè·ç¦»çš„ 23 å€ï¼ˆæœˆåœ°æœ€è¿‘è·ç¦»çº¦ 39.3 ä¸‡å…¬é‡Œï¼‰ï¼Œæˆ–è€…ç»•åœ°çƒ 222 åœˆï¼ˆä¸€åœˆçº¦ä¸ºå››ä¸‡å…¬é‡Œï¼‰ã€‚ä»¥ 25Mb /ç§’ç½‘é€Ÿè®¡ç®—ï¼Œè¦ä¸‹è½½å®Œè¿™ 175ZB çš„æ•°æ®ï¼Œéœ€è¦ 18 äº¿å¹´ã€‚è™½ç„¶è¿™ç§æŒ‡æ•°çº§çš„å¢é•¿ä¸ºä¸ªäººå’Œæ•´ä¸ªç¤¾ä¼šå¸¦æ¥äº†å·¨å¤§çš„æœºé‡ï¼Œä½†æ— è®ºæ˜¯äººç±»çš„å¤§è„‘è¿˜æ˜¯ç›®å‰çš„æŠ€æœ¯ï¼Œéƒ½æ— æ³•å……åˆ†å‘æŒ¥å…¶æ½œåŠ›ã€‚ Tipsï¼šByte &lt; KB &lt; MB &lt; GB &lt; TB &lt; PB &lt; EB &lt; ZB &lt; YB å¤§è„‘å¹¶ä¸é è°± è™½ç„¶å¤§è„‘çš„å­˜å‚¨é‡æƒŠäººï¼ˆå¹¶ä¸”æ¶ˆè€—é‡å¾ˆå°‘â€”â€”ç›¸å½“äºä¸€ä¸ª 5w çš„ç¯æ³¡ï¼‰ï¼Œä½†ä¹Ÿæ˜¯å‡ºäº†åçš„ä¸é è°±â€”â€”è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„å¤§è„‘å¹¶ä¸ä¼šå­˜å‚¨æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œè€Œæ˜¯æŠŠå®ƒä»¬å­˜å‚¨ä¸ºä¸€ä¸ªä¸€ä¸ªçš„ã€Œæ¨¡å—ã€ï¼Œå›å¿†å‘ç”Ÿçš„æ—¶å€™ä¹Ÿæ˜¯å°†å„ç§ã€Œæ¨¡å—ã€æ‹¼æ¥æˆå¤§æ¦‚çš„æ ·å­ã€‚ æ¯”å¦‚å½“ä½ ç»å†ã€Œ2001 å¹´é‚£ä¸ªå¯’å†·çš„ä¸‹é›ªçš„æ™šä¸Šã€ï¼Œä½ ä¼šæŠŠã€Œå¯’å†·ã€ã€Œä¸‹é›ªã€ã€Œæ™šä¸Šã€ä»¥åŠ ã€Œ2001 å¹´ã€è¿™äº›ã€Œè®°å¿†ã€åˆ†åˆ«å­˜å‚¨ï¼Œç­‰éœ€è¦è°ƒç”¨çš„æ—¶å€™å†ä¸€èµ·ã€Œæ‹¼è£…ã€å‡ºæ¥ã€‚åŒæ ·å½“ä½ å›å¿†å»å¹´å¾ˆå†·çš„æ™šä¸Šé‡è§äº†ä¸€ä¸ªè€æœ‹å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªã€Œå¯’å†·ã€çš„æ„Ÿè§‰å°±æ˜¯è¢«å¤ç”¨çš„ â€”â€” è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ€»ä¼šæœ‰ä¸€ç§ã€Œæ­¤æ—¶æ­¤åœ°æ­¤æ™¯æˆ‘ä¼¼ä¹åœ¨å“ªé‡Œè§åˆ°è¿‡ã€çš„åŸå›  ã€‚ å¦å¤–ï¼ŒåŸºäºä¸Šè¿°å­˜å‚¨æ–¹å¼ï¼Œæˆ‘ä»¬å¾ˆå°‘èƒ½ç²¾ç¡®åœ°è¿›è¡Œé‡åŒ– â€”â€” æˆ‘ä»¬ç”Ÿæ´»ä¸­ç»å¸¸ä½¿ç”¨ ã€Œå¯èƒ½ã€ã€ã€Œè‚¯å®šã€ã€ã€Œä¹Ÿè®¸ã€ç­‰è¯ï¼Œåœ¨æˆ‘ä»¬çš„ç›´è§‰ä¸­ï¼Œæˆ‘ä»¬ä¼šæ„Ÿè§‰åˆ°ç±»ä¼¼äºæˆ‘ä»¬å¯¹è¿™äº›ä¿¡å¿µæ¨¡ç³Šçš„æ¦‚ç‡ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬ç»å¸¸è¢«å®¢è§‚æ•°æ®æ‰“è„¸ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ€»å¼ºè°ƒå®¢è§‚ï¼Œä½†å§‹ç»ˆè¿˜æ˜¯åšä¸åˆ°çš„åŸå› ï¼Œå› ä¸ºæˆ‘ä»¬çš„è®°å¿†æ˜¯æ¨¡ç³Šçš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä»Šå¤©çš„å¤§è„‘è¿˜æ˜¯ä¼šæœ‰è®¸å¤šçš„è®¤çŸ¥åå·®ï¼Œè®©æˆ‘ä»¬åšå‡ºå„ç§é”™è¯¯çš„å†³ç­–ã€‚ è¿™å°±æ˜¯æˆ‘ä»¬çš„å¤§è„‘ï¼Œè™½ç„¶å­˜å‚¨é‡å¾ˆå¤§è€—èƒ½å¾ˆå°‘ï¼Œä½†æ˜¯ä¸å¤Ÿç²¾ç¡®ï¼Œå……æ»¡äº†ä¸ç¡®å®šæ€§ã€‚ äº’è”ç½‘æœ‰å®³è®º æ–°çš„åª’ä»‹ä¼šå¸¦æ¥æ–°çš„æ€ç»´æ–¹å¼ã€‚ åœ¨ä¹¦é¢æ–‡åŒ–å‡ºç°ä¹‹å‰çš„çº¯å£å¤´æ–‡åŒ–ä¸­ï¼Œæ€ç»´å—åˆ¶äºäººç±»çš„è®°å¿†èƒ½åŠ›ï¼Œä½ çš„çŸ¥è¯†å°±æ˜¯ä½ èƒ½è®°ä½çš„å†…å®¹ï¼Œè€Œä½ èƒ½è®°ä½çš„åˆå—é™äºå¤´è„‘å­˜å‚¨å®¹é‡ã€‚åœ¨æ²¡æœ‰æ–‡å­—è®°è½½çš„æ–‡åŒ–ä¸­ï¼Œäººç±»çš„è®°å¿†å°±æ˜¯æœ€é‡è¦çš„åª’ä»‹ï¼Œæˆè¯­ã€è°šè¯­ã€è¯—æ­Œå’Œæ•…äº‹åŒ…å«äº†ä¸–ä»£ç›¸ä¼ çš„å£å¤´æ™ºæ…§ã€‚ å½“äººä»¬èƒ½å¤ŸæŠŠæ–‡å­—ä¹¦å†™ä¸‹æ¥æ—¶ï¼Œæ–‡å­—å°±æŠŠçŸ¥è¯†ä»ä¸ªä½“è®°å¿†çš„æŸç¼šä¸­è§£æ”¾äº†å‡ºæ¥ï¼Œä½¿å¾—è¯­è¨€ä¸å†å—åˆ°è®°å¿†å’ŒèƒŒè¯µæ‰€è¦æ±‚çš„è¯—æ­ŒéŸµå¾‹åŠå…¬å¼åŒ–ç»“æ„çš„çº¦æŸï¼Œæ€ç»´å’Œè¡¨è¾¾çš„å¹¿é˜”ç–†åŸŸéšä¹‹å‘å¤§è„‘å¼€æ”¾ã€‚ éº¦å…‹å¢æ±‰å†™é“ï¼šâ€œè¥¿æ–¹ä¸–ç•Œæ‰€å–å¾—çš„æˆå°±ï¼Œæ­£æ˜¯è¯»å†™èƒ½åŠ›å¸¦æ¥å·¨å¤§ä»·å€¼çš„æœ‰åŠ›è¯æ˜ï¼Œè¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚â€ è€Œåæ²ƒå°”ç‰¹Â·ç¿åœ¨1982å¹´å‡ºç‰ˆçš„å½±å“å·¨å¤§çš„ç ”ç©¶è‘—ä½œã€Šå£å¤´æ–‡åŒ–ä¸ä¹¦é¢æ–‡åŒ–ã€‹ï¼ˆOrality and Literacyï¼‰ä¸­æŒæœ‰ç±»ä¼¼çš„è§‚ç‚¹ã€‚ä»–è¯„è®ºè¯´ï¼Œâ€œå£å¤´æ–‡åŒ–èƒ½å¤Ÿäº§ç”Ÿå¼ºå¤§è€Œä¼˜ç¾çš„å£å¤´è¡¨ç°èƒ½åŠ›ï¼Œå…·æœ‰å¾ˆé«˜çš„è‰ºæœ¯ä»·å€¼å’Œäººæ–‡ä»·å€¼ã€‚ä¸€æ—¦ä¹¦å†™å æ®äº†äººä»¬çš„å¿ƒçµï¼Œå£å¤´æ–‡åŒ–è¿å­˜åœ¨çš„å¯èƒ½æ€§éƒ½æ²¡æœ‰äº†â€ã€‚ ä½†å…³äºäº’è”è®¡ç®—è®¾å¤‡å¸¦ç»™æˆ‘ä»¬äººç±»æ€ç»´æ–¹å¼çš„æ”¹å˜ï¼Œæˆ‘æƒ³æ¯ä¸ªäººéƒ½æ·±æœ‰ä½“ä¼šï¼Œå¹¶ä¸”å„ç§æ‰¹åˆ¤ä¹Ÿå·²ç»å¤ªå¤šäº†ã€‚ åŠ£å¸é©±é€è‰¯å¸çš„å¸‚åœºï¼ˆä¸ªæ€§åŒ–çš„æ— é™æ¨é€ã€æ³›æ»¥çš„å…«å¦å’Œæš´æˆ¾æ— çŸ¥çš„è¨€è®ºè®©ç»å¤§éƒ¨åˆ†äººå¾ˆéš¾èšç„¦åˆ°æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸Šï¼‰ã€éšç§ä¸§å¤±å¸¦æ¥çš„è¯šå®ä¸§å¤±é—®é¢˜ï¼ˆåœ¨ç½‘ç»œä¸Šæˆ‘ä»¬å±•ç¤ºçš„æ˜¯è‡ªå·±å¸Œæœ›è¢«è®¤åŒçš„ä¸œè¥¿ï¼Œå®ƒå¸¦æœ‰ä¸€äº›å¼ºåˆ¶çš„è¡¨æ¼”æˆåˆ†ï¼‰ã€éšä¾¿è°éƒ½èƒ½è¯´ä¸€å˜´çš„å£å¤´äº¤æµç¤¾ä¼šçš„å›å½’ï¼Œè¿™äº›å¯¹äºå¤§å¤šæ•°äººæ¥è¯´ï¼Œå’Œè¿™ä¸ªæ–°åª’ä»‹å»ºç«‹çš„è¿æ¥ï¼Œéƒ½æ˜¯ç›¸å½“æœ‰å®³çš„ã€‚ å¦‚æœè¯´ç°çŠ¶æ˜¯è®¡ç®—è®¾å¤‡ä½œä¸ºä¸€ç§æ–°åª’ä»‹ï¼Œè¢«æˆ‘ä»¬äººç±»ç”¨åäº†ï¼Œé‚£ä¹ˆå®ƒæœ¬æ¥èƒ½å¸¦æ¥ä»€ä¹ˆæ–°çš„æ€ç»´ï¼Ÿ è®¡ç®—è®¾å¤‡é‡Œï¼Œæ„å»ºä¸–ç•Œçš„æˆæœ¬å¾ˆä½ï¼Œäº’åŠ¨æ€§å¾ˆå¥½ï¼Œåé¦ˆå¾ˆå¿«ã€‚ æƒ³æƒ³ä¸‹æ£‹ï¼Œæ¯”å¦‚å›´æ£‹ã€‚å½“ä½ å­¦ä¹ å›´æ£‹æ—¶ï¼Œé¦–å…ˆè¦å­¦ä¼šå¾ˆå¤šè§„åˆ™ï¼Œæ¥ä»å°å±€éƒ¨å»é˜…è¯»æ£‹å­çš„ç»„åˆï¼šé»‘è‰²åœ¨è¿™é‡Œï¼Œç™½è‰²åœ¨é‚£é‡Œï¼Œå¾€å“ªé‡Œä¸‹æ˜¯å¯ä»¥çš„ï¼Œå¾€å“ªé‡Œä¸‹æ˜¯æœ‰åˆ©çš„ã€‚ ç„¶åï¼Œéšç€ä½ çš„æ°´å¹³é€æ¸æé«˜ï¼Œå°±è¦å­¦ä¼šä»è¿œå¤„çœ‹ï¼šä½ ä¸æ˜¯ alpha goï¼Œæ— æ³•è¿›è¡Œå…¨å±€çš„è®¡ç®—ï¼Œä»è¿œå¤„çœ‹çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ç›´è§‰ã€‚ å›´æ£‹ï¼Œä»¥åŠå¾ˆå¤šç±»ä¼¼çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯å½“æ€ç»´å¤æ‚åº¦è¶‹äºæé™ï¼Œæˆ‘ä»¬çš„è„‘å­å°±è¦å¼€å§‹å˜å¾—ç´Šä¹±çš„æƒ…å†µä¸‹ï¼Œé€¼æˆ‘ä»¬è°ƒåŠ¨ä¸¤ç§æˆªç„¶ä¸åŒçš„æ€ç»´æ–¹å¼ã€‚ ç¦»æ•£å’Œè¿ç»­ã€‚ ç†æ€§å’Œç›´è§‰ã€‚ è¿™ç§åˆ‡æ¢éš¾åº¦éå¸¸çš„å¤§ã€‚è€Œè®°å½•ï¼Œç‰¹åˆ«æ˜¯å¸¦æœ‰è‡ªå·±æ·±åˆ»æ€è€ƒçš„è®°å½•èƒ½å¤Ÿå°½å¯èƒ½åœ°æŠŠå¤æ‚åº¦å¦‚æ­¤é«˜çš„ä¸–ç•ŒæŠ½è±¡ç–è§£å‡ºæ¥ã€‚åªæ˜¯ä¼šä½¿ç”¨äº’è”è®¡ç®—è®¾å¤‡å¹¶ä¸èƒ½æŒæ¡è¿™ä¸ªåª’ä»‹æœ¬èº«ï¼Œå°±åƒå…‰æ˜¯å­¦ä¹ é˜…è¯»å’Œæ–‡å­—å¹¶ä¸èƒ½å†™å‡ºå¥½æ–‡ç« ä¸€æ ·ã€‚ ä»€ä¹ˆåº”è¯¥äº¤ç»™æœºå™¨ï¼Œä»€ä¹ˆåº”è¯¥äº¤ç»™ç›´è§‰ï¼Œæ˜¯æˆ‘ä»¬åœ¨å½“ä»Šé«˜é€Ÿå‘å±•äº’è”ç½‘ä¸–ç•Œï¼Œéœ€è¦ä¸æ–­éœ€è¦å­¦ä¹ çš„æŠ€èƒ½ã€‚ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè®¸å¤šäººæ€è€ƒ ã€Œå¤åˆ©ã€ çš„æ—¶å€™å¾€å¾€åªè€ƒè™‘äº†é‡‘é’±çš„å›æŠ¥ï¼Œå´å¿˜è®°äº†çŸ¥è¯†ä¹Ÿæ˜¯æœ‰å¤åˆ©çš„ã€‚å½“è¿™æ ·ç§¯ç´¯ä¸€æ®µæ—¶é—´ä¹‹åï¼Œä½ çš„çŸ¥è¯†èŠ‚ç‚¹è¶Šæ¥è¶Šå¤šï¼Œè¿æ¥è¶Šæ¥è¶Šä¸°å¯Œï¼Œå°±ä¼šäº§ç”ŸçŸ¥è¯†çš„å¤åˆ©æ•ˆåº” â€”â€” æ¯•ç«ŸçŸ¥è¯†ç½‘ç»œæ˜¯å…·æœ‰æå¼ºçš„ã€Œæ¢…ç‰¹å¡å¤«ã€æ•ˆåº”çš„ã€‚ å…¶æ¬¡ï¼Œä¼ ç»Ÿç¬”è®°å…·æœ‰å±€é™æ€§æˆ‘ä»¬å¤„äºæ•°å­—ä¸–ç•Œä¸­ï¼Œå‡ ä¹éšæ—¶éšåœ°éƒ½èƒ½è·å–å‡ ä¹æ‰€æœ‰çš„çŸ¥è¯†ï¼Œç”šè‡³ä¹Ÿæœ‰ ã€ŒçŸ¥è¯†çš„æŒ‘æˆ˜ä¸åœ¨äºè·å–çŸ¥è¯†ï¼Œè€Œåœ¨äºçŸ¥é“ä»€ä¹ˆçŸ¥è¯†æœ‰ä»·å€¼ï¼Œå¹¶ä¸”å»ºç«‹ä¸€ä¸ªç³»ç»Ÿã€ çš„å®šè®ºã€‚ä½†æˆ‘ä»è§‰å¾—è¿™æ˜¯æˆ–å¤šæˆ–å°‘å¸¦æœ‰å¹¸å­˜è€…åå·®çš„è§†è§’ï¼Œè¿™æœ¬è´¨ä¸Šè·Ÿè°ˆè®ºã€Œé£æœºæ˜¯ç›¸å¯¹è¾ƒå®‰å…¨çš„äº¤é€šå·¥å…·ã€ä¸€æ ·ï¼Œç„¶è€Œäº‹å®ä¸Šæ˜¯ä¸­å›½äººæœ‰ 10 äº¿äººæ²¡æœ‰åè¿‡é£æœºã€‚ å¯¹äºå¸®åŠ©æˆ‘ä»¬å¦‚ä½•å»ºç«‹ä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬æœ‰è®¸å¤šçš„ä¼ ç»Ÿå·¥å…·å¯ä»¥é€‰æ‹©ï¼Œä½†ä»–ä»¬ä¼¼ä¹éƒ½æœ‰å„è‡ªçš„å±€é™æ€§ã€‚ ä¸ºä»€ä¹ˆåˆ†ç±»æ˜¯ä¸ªåä¸»æ„ï¼Ÿ ç”¨æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ¥ç»„ç»‡ç¬”è®°çš„æ–¹å¼ä¼šå¯¼è‡´ç¬”è®°å½¢æˆåƒµç¡¬çš„ç»“æ„ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ä¹¦æœ¬ç›®å½•ç»„ç»‡å®ƒï¼Œæˆ–éšç€æ—¶é—´ä¸æ–­æ–°å¢æŒ‰ç…§æ—¶é—´çº¿ç»„ç»‡ã€‚è¿™ç§çº¿æ€§çš„ç»„ç»‡æ–¹å¼æœ€å¤§çš„é—®é¢˜åœ¨äºï¼šä½ å¹¶ä¸èƒ½ä¸€å¼€å§‹å°±èƒ½é¢„è§ä¼šé‡åˆ°ä»€ä¹ˆçŸ¥è¯†ï¼Œå“ªæ€•ä½ åšäº†å¾ˆå¥½çš„å­¦ä¹ è®¡åˆ’ï¼Œä½†æ€»ä¼šé‚‚é€…ä¸€äº›å­˜åœ¨ä½ åˆ†ç±»ä½“ç³»ä¹‹å¤–çš„ã€é›¶ç¢çš„ç¬”è®°ã€‚ æ€ä¹ˆç®¡ç†å®ƒä»¬å‘¢ï¼Ÿæ–°å»ºä¸€ä¸ªã€Œç»¼åˆã€æˆ–è€…ã€Œå…¶ä»–ã€å—ï¼Ÿè¿™ç›¸å½“äºæ²¡æœ‰åˆ†ç±»ï¼Œä½ ä¼šæ¯«ä¸æ„å¤–åœ°å¿˜æ‰ä½ å¤§éƒ¨åˆ†å­˜åœ¨äºè¿™ä¸ªåˆ†ç±»ä¸‹çš„ç¬”è®°ã€‚ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¤§å¤šæ•°äººéƒ½å¿˜äº†è‡ªå·±è¿˜æœ‰ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹çš„åŸå› ï¼‰ æ ‡ç­¾çš„å‘æ˜ä¸€éƒ¨åˆ†è§£å†³äº†å•ä¸€ç»´åº¦çš„æ–‡ä»¶å¤¹æ‰€å¸¦æ¥çš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬æŒ‰ç…§æ ‡ç­¾æŸ¥çœ‹ç¬”è®°æ—¶ä¹Ÿå¾ˆå±€é™ï¼šæˆ‘ä»¬ä¸€æ¬¡åªèƒ½çœ‹åˆ°å‡ ä¸ªæ ‡ç­¾å†…çš„å†…å®¹ï¼Œæ­¤å¤–çš„å†…å®¹åˆ™è¢«é®è”½äº†ï¼Œå› æ­¤åœ¨ç»„ç»‡ä¿¡æ¯å’Œèµ„æ–™æ–¹é¢å®ç”¨æ€§å¹¶ä¸å¾ˆé«˜ã€‚ å¦å¤–ï¼Œä¸ºäº†è®©æ ‡ç­¾ç³»ç»Ÿä¸ä¼šè¿‡åº¦è†¨èƒ€ï¼Œä½ è¿˜éœ€è¦å°å¿ƒçš„æ§åˆ¶æ ‡ç­¾çš„æ•°é‡ï¼Œä½ éœ€è¦è®°å¾—ä½ æ›¾ç»ä½¿ç”¨è¿‡çš„æ ‡ç­¾ä»¥é¿å…æ­§ä¹‰çš„æ ‡ç­¾ï¼ˆä¾‹å¦‚ #ç§»åŠ¨ç«¯ å’Œ #æ‰‹æœºç«¯ï¼‰ç­‰ç­‰ã€‚ è¿™æ ·åšçŸ¥è¯†ç®¡ç†çš„å¿ƒæ™ºè´Ÿæ‹…å¤ªé‡äº†ï¼Œæ‰€ä»¥æ›´å¥½çš„åŠæ³•æ˜¯ï¼šæˆ‘ä»¬åº”è¯¥ç”¨ç½‘ç»œç»“æ„ï¼ˆwebï¼‰æ¥ç»„ç»‡æˆ‘ä»¬çš„ç¬”è®° â€”â€” ä¸ä»…ä»…ä¾é æ ‡ç­¾ï¼Œè¿˜è¦æŠŠæ‰€æœ‰ç¬”è®°è¿æ¥åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å¯ä»¥æ¯æ¬¡åªå…³æ³¨åœ¨è¿™å¼ ç½‘ç»œçš„æŸä¸ªè¿æ¥ç‚¹ä¸Šï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬åŒæ—¶ä¹Ÿèƒ½çœ‹åˆ°æ›´å¤šçš„è”ç»“å‘ç”Ÿåœ¨èƒŒåã€‚ æœç´¢çš„å±€é™æ€§ æ­¤å¤–ï¼Œæœç´¢ä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„ã€‚è’‹æ–¹èˆŸè¯´è¿‡ï¼Œæœç´¢æ°¸è¿œåšä¸åˆ°åƒäººç±»çš„å¤§è„‘ä¸€æ ·ï¼Œé€šè¿‡ä¸€ä¸ªå…·ä½“çš„åœºæ™¯ï¼Œè”æƒ³å‡ºæ— é™ç›¸å…³ã€æœ‰è¶£çš„åœºæ™¯æ•…äº‹ã€‚ æˆ‘ä»¬åœ¨ä¸Šé¢è®ºè¿°è¿‡æˆ‘ä»¬çš„å¤§è„‘æ˜¯æŒ‰ç…§ ã€Œæ¨¡å—ã€ æ¥è®°å¿†çš„ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æŒ‰ ã€Œæ¨¡å—ã€ è¿›è¡Œå‘æ•£æ€è€ƒçš„ã€‚ ä¾‹å¦‚ï¼Œæˆ‘æ­¤åˆ»å¬åˆ°äº†ä¸€é¦–å¤å…¸é’¢ç´æ›²ï¼Œå¦‚æœçŸ¥é“é”®ç›˜ä¹å™¨çš„å†å²ï¼Œå°±å¾ˆå®¹æ˜“æƒ³èµ·å·´èµ«ï¼Œæƒ³èµ·å·´èµ«ï¼Œå°±ä¼šæƒ³èµ·æµ·é¡¿ä»¥åŠä»–çš„è€å¸ˆæ³¢å°”æ³¢æ‹‰ã€‚å·´èµ«å–œæ¬¢ç”¨ç¾½ç®¡é”®ç´ï¼Œè€Œæµ·é¡¿ä¸æ˜¯ä¸€ä½é”®ç›˜éŸ³ä¹å®¶ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œåœ¨æ™šæœŸåˆ›ä½œä¸­ï¼Œä»–è¿˜æ˜¯æ³¨æ„åˆ°äº†é’¢ç´çš„å¹¿æ³›åº”ç”¨ã€‚å¦‚æœçŸ¥é“å·´èµ«å’Œæµ·é¡¿é€šè¿‡æ•°å­¦å’ŒéŸ³ä¹æ¥ä½“ç°äº†ç¥çš„æ„å¿—ï¼Œé‚£å°±å¾ˆå®¹æ˜“è”æƒ³åˆ°18ä¸–çºªå­¦é—®ä¸ç¥å­¦çš„å…³ç³»ã€‚å¦‚æ­¤ä¸‹å»ï¼Œä¸¾ä¸€åä¸‰ï¼Œæµ®æƒ³è”ç¿©ã€‚ï¼ˆps:è¿™ä¸€æ®µæ‘˜å½•çš„â€¦ï¼‰ ç½‘çŠ¶é“¾æ¥æ˜¯å¦‚ä½•ç ´å±€çš„ï¼Ÿæˆ‘ä»¬å…ˆæ¥å°è¯•ä¸€ä¸‹é—®è‡ªå·±å‡ ä¸ªé—®é¢˜ï¼š ä½ è¿˜è®°å¾—å‡ å¹´å‰çœ‹çš„æŸä¸€æœ¬ä¹¦å—ï¼Ÿè¿˜è®°å¾—æ•´ç†çš„ç¬”è®°é‡Œå†™çš„ä»€ä¹ˆå—ï¼Ÿ æˆ‘ä»¬æ‰”è¿›æ”¶è—çš„ â€œæœ‰ç”¨çŸ¥è¯†â€ æœ‰å¤šå°‘æ˜¯è¢«çœŸæ­£ä½¿ç”¨è¿‡çš„ï¼Ÿ æ˜¯ä¸æ˜¯åœ¨é‡å¤è®°å½•ä¸€äº›ä¿¡æ¯ï¼Œè€Œè¿™äº›ä¿¡æ¯å¯èƒ½å‰ä¸€æ®µæ—¶é—´å°±æ•´ç†è¿‡ï¼Ÿ ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ æœ‰ä¸€ä¸ªè§‚ç‚¹æ˜¯ï¼šäººç±»çš„å¤§è„‘æ ¹æœ¬å°±ä¸æ˜¯ç”¨æ¥è®°å¿†çš„ã€‚æˆ‘ä»¬çš„è®¤çŸ¥ä¸­æœ‰ä¸€ä¸ªæ·±å±‚çš„åŸåˆ™ï¼šæˆ‘ä»¬åœ¨è®¤çŸ¥ä¸Šè¦æ¯”è®°å¿†ä¸Šè¦å¥½å¾—å¤šã€‚ ä½ å¯èƒ½æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼šè¯»äº†ä¸€ç¯‡æ–‡ç« ï¼Œå¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆç‰¹åˆ«ä»¤äººæƒŠè®¶çš„ä¸œè¥¿ã€‚ä½ åŸºæœ¬ä¸ŠåŒæ„ä½œè€…æ‰€è¯´çš„ä¸€åˆ‡ï¼Œå³ä½¿ä½ ä»¥å‰ä»æ¥æ²¡æœ‰å®Œå…¨è¿™ä¹ˆæƒ³è¿‡ã€‚ä½ å¯ä»¥è®¤å¯ä»–ä»¬æ‰€å†™çš„ä¸œè¥¿çš„æœ‰æ•ˆæ€§ï¼Œå› ä¸ºä½  â€œå·²ç»çŸ¥é“äº†â€ã€‚ä½†è¿™å†³ä¸æ„å‘³ç€ä½ å¯ä»¥è‡ªå·±å›å¿†å¹¶å†™ä¸‹æ¥ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ å·²ç»çŸ¥é“äº†ï¼Œé‚£ä¹ˆè¿™äº›çŸ¥è¯†åœ¨å“ªé‡Œå‘¢ï¼Ÿåœ¨ä½ èƒ½è®¤è¯†ä½†ä¸èƒ½å›å¿†èµ·æ¥çš„å¹¿å¤§ç©ºé—´é‡Œã€‚ å¤§è„‘æ ¹æœ¬ä¸æ˜¯ç”¨æ¥è®°å¿†çš„ã€‚ä½ è®°ä½äº†ä¸€ä¸ªç”µè¯å·ç ï¼Œå‡ åˆ†é’Ÿåå®ƒå°±æ¶ˆå¤±äº†ã€‚ä½ çš„å¤§è„‘ä¸­æ‰€æœ‰çš„åŠŸèƒ½éƒ½åœ¨ä¸æ–­æ¸…é™¤æ—§çš„è®°å¿†ï¼Œå‰Šå¼±æœªä½¿ç”¨çš„è¿æ¥ã€‚å¦ä¸€æ–¹é¢ï¼Œä½ çš„å¤§è„‘çš„è¯†åˆ«èƒ½åŠ›æ˜¯æƒŠäººçš„ï¼šæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ç¬é—´è®¤å‡ºäººè„¸ï¼Œå¤šå¹´åçš„äººè„¸ã€‚æˆ‘ä»¬åªéœ€è¯»å‡ å¥å°±èƒ½çœ‹å‡ºæˆ‘ä»¬ä»¥å‰è¯»è¿‡çš„å†…å®¹ã€‚å³ä½¿æ˜¯ä¸è¿‡å»çš„ç»éªŒåªæœ‰éšçº¦ç›¸ä¼¼çš„æƒ…å†µï¼Œä¹Ÿä¼šå¼•å‘ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰ã€‚ é€šè¿‡ä¾èµ–è¯†åˆ«è€Œä¸æ˜¯å›å¿†ï¼Œæˆ‘ä»¬åœ¨åˆ›é€ æ€§çš„è¿½æ±‚ä¸­è·å¾—äº†æ›´å¤§çš„å¸¦å®½å’Œè®°å¿†åŠ›ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šè¯†åˆ«å¹¶ä¸æ˜¯å­¤ç«‹çš„ï¼Œå®ƒéœ€è¦æŸç§å¤–éƒ¨åˆºæ¿€ã€‚å®ƒéœ€è¦æŸç§å¤–éƒ¨åˆºæ¿€æ¥è®©æˆ‘ä»¬è®¤è¯†ã€‚å®ƒéœ€è¦ä¸€ä¸ªå…·ä½“çš„åª’ä»‹ï¼Œè®©æˆ‘ä»¬çš„æ„Ÿå®˜æ¥æ¨åŠ¨ã€‚ ç½‘çŠ¶é“¾æ¥çš„ç»“æ„èƒ½å¤Ÿå…è®¸åˆ›é€ ä¸€ä¸ªä¸°å¯Œè§¦å‘å™¨ã€æç¤ºå’Œé’©å­çš„ç¯å¢ƒï¼Œä»¥å¼•å‘è®°å¿†ã€è”ç³»ï¼Œç”šè‡³æ›´å¤šçš„æ–°æƒ³æ³•ã€‚ æ‡‚çš„ ã€Œè·Ÿè¿‡å»çš„è‡ªå·±å–ç»ã€ æ˜¯éå¸¸é‡è¦å’Œé«˜æ•ˆçš„æ–¹å¼ã€‚ æ³•å›½ç§‘å­¦å®¶è±æ˜‚Â·è¿ªè’™æ›¾ç»å°±æ‰“è¿‡çš„ä¸€ä¸ªæ¯”æ–¹ï¼Œç”¨æ°´åœ¨åœ°ä¸Šçš„æµæ·Œæ¥è¯´æ˜ç»éªŒå¯¹å¤§è„‘äº§ç”Ÿçš„å½±å“ï¼šâ€œæ°´æµç»è¿‡çš„åœ°æ–¹ï¼Œä¼šè‡ªè¡Œå†²å‡ºä¸€æ¡ä¸æ–­åŠ å®½ã€åŠ æ·±çš„æ²Ÿæ¸ ã€‚ä»¥åå†æœ‰æ°´æµçš„æ—¶å€™ï¼Œæ°´ä¼šè‡ªç„¶æ²¿ç€ä»¥å‰çš„è½¨è¿¹æµæ·Œã€‚å¤§è„‘å†…éƒ¨ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¤–éƒ¨äº‹ç‰©åœ¨ç¥ç»ç³»ç»Ÿä¸­ç•™ä¸‹çš„å°è¿¹ä¼šä¸ºè‡ªå·±å¡‘é€ å‡ºè¶Šæ¥è¶Šåˆé€‚çš„è·¯å¾„ã€‚åœ¨ç±»ä¼¼çš„å¤–éƒ¨åˆºæ¿€ä½œç”¨ä¸‹ï¼Œè¿™äº›æå…¶é‡è¦çš„é€šè·¯å³ä½¿æ›¾ç»ä¸­æ–­è¿‡ï¼Œæ­¤æ—¶ä¹Ÿä¼šé‡ç°ã€‚â€ æˆ‘ä»¬åœ¨ä½¿ç”¨ç½‘çŠ¶ç¬”è®°çš„æ—¶å€™ï¼Œé€šè¿‡ä¸æ–­ä¸ä¹‹å‰çš„çŸ¥è¯†ç‚¹è¿›è¡Œç¢°æ’ï¼ˆæœ‰è‡ªå·±çš„æ€è€ƒï¼‰ï¼Œåˆä¸æ–­åœ°äº§ç”Ÿæ–°çš„é“¾æ¥ï¼Œå°±å¯ä»¥ä¸æ–­å¼ºåŒ–è‡ªå·±çš„è¿™äº›çŸ¥è¯†ä½“ç³»ã€‚ å¦å¤–ä¹Ÿå¼•ç”¨ä¸€ä¸‹@å°‘æ¥ åœ¨å°‘æ•°æ´¾è¯´çš„è¯ï¼š å¦å¤–ï¼Œä¸è¦æˆä¸ºå·¥å…·çš„å¥´éš¶ï¼Œé‡è¦ä¸æ˜¯è®°å½•ï¼Œè€Œæ˜¯è®°å½•è¿‡ç¨‹ä¸­ç‹¬ç«‹çš„æ€è€ƒã€‚åœ¨ Notion ä¸­æ–‡ç¤¾ç¾¤ä¸­å¤©å¤©çœ‹åˆ°è®¸å¤šç”¨æˆ·å«åš·ç€è®© Notion æ”¯æŒåŒå‘é“¾æ¥ï¼Œä½†æ˜¯ä¸å¦¨æƒ³æƒ³æ˜¯å·¥å…·ä¸èƒ½æ„å»ºç½‘çŠ¶ä½“ç³»ï¼Œè¿˜æ˜¯ä½ å¤§è„‘ä¸­æ ¹æœ¬æ²¡æœ‰å¯¹çŸ¥è¯†çš„ä½“ç³»ï¼Ÿå¥—ç”¨ä¸€å¥åœ¨å¼ ç«‹å®ªæ–‡ç« ä¸­çœ‹åˆ°çš„ä¸€ä¸ªæ•…äº‹ï¼šè‘›å­˜å£®å¯¹å°‘å¹´è‘›ä¼˜è¯´ï¼Œè¦çœŸå–œæ¬¢éŸ³ä¹ï¼Œå¹å£å“¨éƒ½è¡Œã€‚ å·¥å…·å¸¦æ¥çš„æ€ç»´æ–¹å¼çš„æ”¹å˜ å·¥å…·ä¼šå¸¦æ¥æ€ç»´æ–¹å¼çš„æ”¹å˜ï¼Œä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯æ—¶é’Ÿï¼Œå®ƒæ”¹å˜äº†æˆ‘ä»¬çœ‹å¾…è‡ªå·±çš„æ–¹å¼ã€‚ åœ¨æ—¶é’Ÿå‡ºç°ä¹‹å‰ï¼Œäººä»¬ç»å†çš„æ—¶é—´éƒ½æ˜¯ä¸€ç§è¿ç»­çš„å‘¨æœŸæ€§æµåŠ¨ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œæ—¶é—´æ˜¯è¢« â€œè®°å½•â€ ä¸‹æ¥çš„ï¼Œæ¯”å¦‚å½±å­å›´ç€å®ƒç§»åŠ¨çš„æ—¥å†•ã€æ²™å­ä»å…¶ä¸­æµå‡ºçš„æ²™æ¼ã€æ°´ä»å†…éƒ¨èººä¸‹çš„æ¼å£¶ã€‚ åœ¨é‚£ä¸ªæ—¶å€™ï¼Œç²¾ç¡®åœ°æµ‹é‡æ—¶é—´ï¼Œæˆ–è€…æŠŠä¸€å¤©åˆ’åˆ†æˆç»†å°çš„ç‰‡æ®µï¼Œéƒ½æ²¡æœ‰ç‰¹åˆ«çš„å¿…è¦ã€‚å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œæ—¥æœˆæ˜Ÿè¾°çš„ç§»åŠ¨æä¾›äº†ä»–ä»¬æ‰€éœ€çš„å”¯ä¸€æ—¶é’Ÿã€‚ç”¨æ³•å›½ä¸­å¤å²å­¦å®¶é›…å…‹Â·å‹’é«˜å¤«ï¼ˆJacques Le Goffï¼‰çš„è¯è¯´ï¼Œé‚£æ—¶çš„ç”Ÿæ´»â€œç”±å†œè€•èŠ‚å¾‹æ”¯é…ï¼Œæœ‰å¿™æœ‰é—²ï¼Œæœ‰ç²—æœ‰ç»†ï¼Œå¯¹ç”Ÿäº§åŠ›æ¼ ä¸å…³å¿ƒâ€ã€‚ ä¸€æ—¦é’Ÿè¡¨æŠŠæ—¶é—´é‡æ–°å®šä¹‰ä¸ºä¸€è¿ä¸²ä¸ºæœŸç›¸åŒçš„å•ä½ï¼Œæˆ‘ä»¬çš„å¤´è„‘å°±å¼€å§‹é‡è§†å·¥ä½œä¸­çš„æ¡ç†å’Œåˆ†å·¥ã€‚ æœºæ¢°é’Ÿå‡ºç°åï¼Œäººä»¬å¼€å§‹è®¤ä¸ºä»–ä»¬çš„å¤§è„‘å’Œä»–ä»¬çš„èº«ä½“ç”šè‡³æ•´ä¸ªå®‡å®™éƒ½â€œåƒé’Ÿè¡¨â€é‚£æ ·è¿è¡Œã€‚åœ¨é’Ÿè¡¨å†…éƒ¨ç´§å¯†å’¬åˆçš„é½¿è½®ç»“æ„ä¸­ï¼Œè¡¨é’ˆçš„è½¬åŠ¨ç¬¦åˆç‰©ç†å®šå¾‹ï¼Œå½¢æˆäº†ä¸€ä¸ªå¯ä»¥è¿½æœ¬æº¯æºçš„å› æœé•¿é“¾ï¼Œæˆ‘ä»¬ç”±æ­¤å‘ç°äº†ä¸€ä¸ªæœºæ¢°å¼éšå–»ï¼Œä¼¼ä¹å¯ä»¥ç”¨æ¥è§£é‡Šä¸€åˆ‡äº‹ç‰©çš„å·¥ä½œæ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’å…³ç³»ã€‚ å¯¹äºæ‰€æœ‰çš„äº‹ç‰©å’Œç°è±¡ï¼Œæˆ‘ä»¬å¼€å§‹çœ‹åˆ°æ„æˆæ•´ä½“çš„ç¢ç‰‡ï¼Œç„¶ååˆçœ‹åˆ°æ„æˆç¢ç‰‡çš„ç¢ç‰‡ã€‚æˆ‘ä»¬çš„æ€ç»´å˜æˆäº†äºšé‡Œå£«å¤šå¾·æ¨¡å¼ï¼Œå¼ºè°ƒé€šè¿‡è¡¨é¢ç°è±¡æ´æ‚‰éšè—åœ¨ç‰©è´¨ä¸–ç•ŒèƒŒåçš„æŠ½è±¡æœ¬è´¨ã€‚åœ¨æ¨åŠ¨æˆ‘ä»¬èµ°å‡ºä¸­ä¸–çºªï¼Œè¿›å…¥æ–‡è‰ºå¤å…´æ—¶æœŸï¼Œåæ¥åˆè¿›å…¥å¯è’™è¿åŠ¨æ—¶æœŸçš„è¿‡ç¨‹ä¸­ï¼Œé’Ÿè¡¨éƒ½æ‰®æ¼”äº†è‡³å…³é‡è¦çš„è§’è‰²ã€‚ ä½¿ç”¨ç½‘çŠ¶ç»“æ„çš„ç¬”è®°åˆéœ€è¦æˆ‘ä»¬è¿›è¡Œæ€æ ·çš„æ€ç»´æ–¹å¼çš„æ”¹å˜å‘¢ï¼Ÿæ•´ç†äº†ä¸€äº›å®ç”¨çš„éƒ¨åˆ†ã€‚ æ”¶è—æ— ç”¨ï¼Œä½ éœ€è¦è‡ªå·±æ•´ç†ä¿¡æ¯ å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½ä¼šé™·å…¥ ã€Œæ”¶è—è€…è°¬è¯¯ã€ï¼Œæ„Ÿè§‰æ”¶è—åˆ°å°±æ˜¯å­¦ä¹ åˆ°ï¼Œä½†å®é™…ä¸Šã€ŒçŸ¥æ™“æŸäº‹ã€å¹¶ä¸æ˜¯ã€ŒçŸ¥é“æŸäº‹ã€ã€‚æ”¶è—æ›´åƒæ˜¯æŠŠä¿¡æ¯æ¬è¿ï¼ˆè€ŒéåŠ å·¥ï¼‰ï¼Œé€”ä¸­æ²¡æœ‰å¢åŠ ä»»ä½•çŸ¥è¯†ã€‚ æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼šResearch, Read, Assimilate; rinse and repeatã€‚æ²¡å¿…è¦æ•æ‰ 100% çš„ä¿¡æ¯ï¼Œå¤§è„‘åƒä¸ªè¿‡æ»¤å™¨ï¼Œåªæœ‰ä¸æ–­æ”¹å˜è¿‡æ»¤å™¨ï¼Œæ‰èƒ½è®©ä¿¡æ¯çœŸæ­£è¾“å…¥åˆ°å¤§è„‘ï¼ˆæ½œæ„è¯†ä¼šé»˜è®¤è¿‡æ»¤æ‰å¤§é‡æ— ç”¨ä¿¡æ¯ï¼Œè¿™ä¸€ç‚¹å¾ˆéš¾è§‰å¯Ÿåˆ°ï¼‰ ä¿¡æ¯è¢«ä½ çš„æ„Ÿå®˜æ”¶é›†ã€‚ä¿¡æ¯ä¸æ˜¯è¿™ä¸–é—´ä¸‡ç‰©çš„å±æ€§ï¼Œè€Œæ˜¯æˆ‘ä»¬è§£é‡Šä»–ä»¬çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥æ¶ˆè´¹ä¿¡æ¯çš„æ—¶å€™ï¼Œä¸æ–­çš„è®°å½•å°±æ˜¯ä¸€ä¸ªè§£é‡Šçš„è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‘å¤§è„‘å†…ã€Œå†™å…¥ã€çš„è¿‡ç¨‹ã€‚ é˜…è¯»æ˜¯ä¸€ç§å»ºæ„ä¸»ä¹‰çš„æ´»åŠ¨ï¼šä¿¡æ¯å¿…é¡»ä»ç°æœ‰çš„æ•°æ®ä¸­åˆ›é€ å‡ºæ¥ã€‚è¿™å°±æ„å‘³ç€éœ€è¦ä¸€ä¸ªåˆ›é€ è€…ï¼Œåœ¨å…¶ä¸­åŠ å…¥è‡ªå·±çš„æ„Ÿæ‚Ÿã€‚ä½ çš„å·¥ä½œæ˜¯å¯¹æ–‡æœ¬è¿›è¡Œæ„ä¹‰çš„å»ºæ„ï¼Œåˆ›é€ ä¿¡æ¯ï¼Œå¹¶å°†å…¶è®°å½•ä¸‹æ¥ï¼Œå› ä¸ºä½ è‡ªå·±çš„è§£è¯»æ‰æ˜¯æœ€é‡è¦çš„ã€‚ æ ‡å‡†åŒ–è¡Œä¸ºï¼Œåè€Œæ¿€å‘åˆ›é€ åŠ› åœ¨ç”¨é›†è£…ç®±è¿è¾“ä¹‹å‰ï¼Œå…¨çƒè¿è¾“çš„æ•ˆç‡æ˜¯å¾ˆä½ä¸‹çš„ï¼Œæ‰€æœ‰çš„é…å¥—è®¾æ–½éƒ½æ˜¯éæ ‡å‡†åŒ–çš„ã€‚å…¨çƒè´¸æ˜“çš„åˆ°æ¥æ˜¯å› ä¸ºå…¨éƒ¨è¿è¾“è¿‡ç¨‹éƒ½å›´ç»•é›†è£…ç®±è¿›è¡Œäº†è®¾è®¡ï¼Œè¿™æ ·è®©è¾“å‡ºå’Œè¾“å…¥æ•ˆç‡å˜å¾—æé«˜ï¼Œç»§è€Œå¸¦åŠ¨äº†è®¸å¤šåœ°åŒºè´¸æ˜“çš„è…¾é£ã€‚ åœ¨æ—¥å¸¸çš„è®°å½•ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ—¶è‡³ä»Šæ—¥ï¼Œè®¸å¤šäººä»ç„¶ä»¥ä¸´æ—¶çš„ã€éšæœºçš„æ–¹å¼è®°ç¬”è®° â€”â€” ç”šè‡³å¾ˆå¤šäººä¸åšè®°å½•ã€‚å¦‚æœä»–ä»¬çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„é‡‘å¥ï¼Œä»–ä»¬ä¼šåœ¨ä¸‹é¢åˆ’çº¿ã€‚å¦‚æœä»–ä»¬æƒ³å‘è¡¨è¯„è®ºï¼Œä»–ä»¬ä¼šæŠŠå®ƒå†™åœ¨ç©ºç™½å¤„ã€‚å¦‚æœä»–ä»¬æœ‰ä¸€ä¸ªå¥½ä¸»æ„ï¼Œä»–ä»¬ä¼šæŠŠå®ƒå†™åœ¨æ‰‹è¾¹çš„ä»»ä½•ä¸€ä¸ªç¬”è®°æœ¬ä¸Šï¼ˆæˆ–è€…æ‰‹æœºå¤‡å¿˜å½•ï¼‰ã€‚å¦‚æœä¸€ç¯‡æ–‡ç« çœ‹èµ·æ¥è¶³å¤Ÿé‡è¦ï¼Œä»–ä»¬å¯èƒ½ä¼šåŠªåŠ›ä¿å­˜ä¸€ä¸ªæ‘˜å½•ã€‚è¿™ä½¿å¾—ä»–ä»¬åœ¨è®¸å¤šä¸åŒçš„åœ°æ–¹ç”¨ä¸åŒçš„è®°å½•æ–¹å¼è®°å½•äº†è®¸å¤šå„ç§æ ¼å¼çš„å†…å®¹ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå½“ä»–ä»¬å¼€å§‹å†™ä½œçš„æ—¶å€™ï¼Œä»–ä»¬é¦–å…ˆå¾—é’ˆå¯¹è¿™äº›å‡Œä¹±çš„è®°å½•ï¼Œè¿›è¡Œä¸€ä¸ªå¤§è§„æ¨¡çš„æ”¶é›†å’Œæ•´ç† â€”â€” æˆ–è€…ç›´æ¥ä»è„‘å­ä¸­è°ƒå–ã€‚ ä¸å…¶ä¸ºä½ é˜…è¯»çš„æ¯ä¸€ç±»ä¿¡æ¯ã€Œå‘æ˜ã€ä¸€ç§æ–°çš„è®°ç¬”è®°çš„æ–¹å¼ï¼Œä¸å¦‚æ¯æ¬¡éƒ½ä½¿ç”¨ä¸€ç§å®Œå…¨æ ‡å‡†åŒ–çš„æ ¼å¼ã€‚ä¸ç®¡è¿™äº›ç¬”è®°åŒ…å«ä»€ä¹ˆå†…å®¹ï¼Œå®ƒä»¬ä¸å“ªä¸ªä¸»é¢˜æœ‰å…³ï¼Œæˆ–è€…å®ƒä»¬é€šè¿‡ä»€ä¹ˆåª’ä»‹ä¼ æ’­â€”â€”ä½ å¯¹å¾…æ¯ä¸€ä¸ªç¬”è®°çš„æ–¹å¼å®Œå…¨ç›¸åŒã€‚ æ­£æ˜¯è¿™ç§ç¬”è®°çš„æ ‡å‡†åŒ–ï¼Œä½¿å¾—å±äºä½ çš„ä¿¡æ¯èƒ½å¤Ÿåœ¨ä¸€ä¸ªåœ°æ–¹å»ºç«‹èµ·æ¥ï¼Œä»é‡å˜åˆ°è´¨å˜ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ ‡å‡†çš„æ ¼å¼ï¼Œè™½ç„¶æ”¶é›†çš„æ•°æ®é‡ä¼šå¢åŠ ï¼Œä½†æ•´ç†çš„æ—¶é—´ä¹Ÿä¼šå¢åŠ ï¼Œæˆ–è€…æœ€ç»ˆæ²¦ä¸ºåƒåœ¾æ¡¶ã€‚é€šç”¨æ ¼å¼æ¶ˆé™¤äº†ä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œä¹Ÿæ¶ˆé™¤äº†æ··ä¹±ã€‚å°±åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œæ ‡å‡†åŒ–çš„ç¬”è®°å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‹¼è£…åœ¨ä¸€èµ·ï¼Œç»„è£…æˆæ— ç©·æ— å°½çš„å½¢çŠ¶ï¼ŒåŒæ—¶åˆä¸ä¼šä¸¢å¤±å®ƒä»¬æ‰€åŒ…å«çš„ä¿¡æ¯ã€‚ é€šè¿‡æ ‡å‡†åŒ–å’Œç®€åŒ–ç¬”è®°çš„æ ¼å¼å’Œå¤„ç†æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥æ›´èšç„¦åœ¨ä¸‹é¢çš„æµç¨‹ï¼šæ€è€ƒã€åæ€ã€å†™ä½œã€è®¨è®ºã€æµ‹è¯•å’Œåˆ†äº«ã€‚è¿™æ˜¯ä¸€é¡¹å¢å€¼çš„å·¥ä½œï¼Œç°åœ¨æˆ‘ä»¬æœ‰æ—¶é—´æ›´æœ‰æ•ˆåœ°å®Œæˆå®ƒã€‚ æ”¾ä¸‹æ€ç»´çš„åŒ…è¢± æˆ‘ä»¬æœ‰äº†å¿«é€Ÿç´¢å¼•çŸ¥è¯†çš„æ–¹æ³•ï¼Œå¹¶å°†å…¶å‹ç¼©æˆè®¸å¤šçŸ¥è¯†åŒ…ï¼Œæ‰€ä»¥æ•´ä¸ªå­¦ä¹ çš„æ–¹æ³•å°±å‘ç”Ÿäº†å˜åŒ–ã€‚è¿…é€Ÿå¿˜æ‰æ‰€å­¦çš„ä¸œè¥¿ï¼Œæˆ–è®¸æ˜¯æ–°çš„ç›®æ ‡ã€‚æˆ‘å¸Œæœ›æˆ‘çš„æ€ç»´æˆä¸ºä¸€ä¸ªç©ºçš„å®¹å™¨ï¼Œèƒ½è®©å¤–ç•Œçš„æƒ³æ³•çŸ­æš‚çš„åœç•™ï¼Œç„¶åé©¶å…¥ç¬¬äºŒå¤§è„‘ã€‚è¿™æ ·æˆ‘æ—¢å¯ä»¥ä¿æŒæ¸…æ™°åœ°å¤§è„‘ï¼Œåˆèƒ½å»ºç«‹èµ·æŒä¹…çš„ç»“æ„ã€‚ è¿˜æœ‰ä¸€ä¸ªå…³é”®çš„æ˜¯ï¼šä¸è¦æŒ‰ç…§ä»»ä½•æ—¶é—´è¡¨ï¼Œæˆ–ç‰¹å®šçš„é¡ºåºï¼Œæˆ–è€…ä½œä¸ºå·¥ä½œæµç¨‹çš„ä¸€éƒ¨åˆ†æ¥æ€»ç»“ç¬”è®°ã€‚å®Œå…¨æ ¹æ®éœ€è¦æ¥æ€»ç»“å®ƒä»¬ï¼Œå°¤å…¶æ˜¯ä½ å·²ç»åœ¨ä¸ºå…¶ä»–ç›®çš„å¤ä¹ ç¬”è®°çš„æ—¶å€™ã€‚ è¿™å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œä¼¼ä¹å¾ˆéš¾ç†è§£ï¼Œä¹Ÿå¾ˆéš¾ç›¸ä¿¡ã€‚å®ƒè¿èƒŒæŸç§å¸¸è¯† â€”â€” çŸ¥è¯†ä¼¼ä¹æ˜¯æŸç§å¯å˜è´¨çš„å•†å“ï¼Œå°±åƒçŸ³æ²¹æˆ–å¤§è±†ä¸€æ ·ã€‚ä½ çš„ç¬¬äºŒå¤§è„‘ä¸æ˜¯ä¸€ä¸ªå·¥å‚ï¼Œå®ƒæ˜¯ä¸€ä¸ªç½‘ç»œ â€”â€” å½“åœ°çš„å±…æ°‘åŒºã€åŸå¸‚ä¸­å¿ƒå’Œé«˜é€Ÿå…¬è·¯éƒ½åœ¨ä»¥ä¸åŒçš„æ–¹å¼ã€ä¸åŒçš„é€Ÿåº¦å˜åŒ–ã€‚ ä¸€ä¸ªç‰¹å®šçš„ç¬”è®°å¯èƒ½è¦åˆ°å‡ ä¸ªæœˆæˆ–å‡ å¹´åæ‰ä¼šè¢«æ€»ç»“å‡ºæ¥ï¼Œå½“ç„¶æ›´å¤šç¬”è®°å¯èƒ½æ°¸è¿œä¸ä¼šè¢«æ€»ç»“å‡ºæ¥ã€‚å…¶å®è¿™æ˜¯å¾ˆå¸¸è§çš„ï¼Œå› ä¸ºä½ ç¬¬ä¸€å¤§è„‘çš„è¿ä½œæ–¹å¼å°±æ˜¯è¿™æ · â€”â€” è¦ä¹ˆä½¿ç”¨ï¼Œè¦ä¹ˆå¤±å»ã€‚ä¸åº”è¯¥è¯•å›¾åƒæ§èµ·æ²™å­ä¸€æ ·ï¼Œä¸è®©ä»»ä½•ä¿¡æ¯ä»ç¼éš™ä¸­æµä¸‹ã€‚è€Œæ˜¯åº”è¯¥ç¼–ç»‡ä¸€ä¸ªç½‘ç»œï¼Œå½“ä½ æèµ·æ¥çš„æ—¶å€™ï¼Œèƒ½æŒ‰å›¾ç´¢éª¥çš„æ‰¾åˆ°ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œè€Œé‚£äº›æ²¡æœ‰å’Œç½‘ç»œè¿æ¥çš„ä¸œè¥¿ï¼Œå¿˜äº†å°±å¿˜äº†å§ã€‚ æ•°å­—ç¬”è®°å®ƒæ°¸è¿œä¸ä¼šå¿˜è®°ä»»ä½•ä¸œè¥¿ â€”â€” è¿™æ˜¯ä¸€ä¸ªæ³¨æ„åŠ›ä¸è¶³çš„æ—¶ä»£çš„è¯…å’’ã€‚æˆ‘ä»¬éœ€è¦å¢åŠ  â€œæ•°å­—è®¤çŸ¥ â€œçš„é—å¿˜æœºåˆ¶ã€‚æˆ‘è®¤ä¸ºï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å»ºç«‹æ³¨æ„åŠ›å¼•å¯¼æœºåˆ¶ã€‚ä½†è¿™éœ€è¦æ³¨æ„åŠ›çš„å¼•å¯¼ã€‚æ¸è¿›å¼çš„æ€»ç»“ï¼Œæ˜¯ç°åœ¨çš„è‡ªæˆ‘å’Œæœªæ¥çš„è‡ªæˆ‘ä¹‹é—´çš„ä¸€ç§å¾®å¦™è”ç³»ï¼Œåœ¨è¿™ä¸ªè”ç³»ä¸­ï¼Œä½ å°†ç°åœ¨é‡åˆ°çš„ä»»ä½•æ´å¯ŸåŠ›è·ƒä¼ ç»™æœªæ¥çš„è‡ªæˆ‘ï¼Œä»¥æ¢å–ä½ æœªæ¥çš„è‡ªæˆ‘åœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´ç‚¹ä¸Šåˆ©ç”¨è¿™äº›æ´å¯ŸåŠ›ã€‚ å·¥å…·ä¸æˆ‘ä»¬æ˜¯åŒå‘çš„å…³ç³» æˆ‘ä»¬å’Œå·¥å…·ä¹‹é—´å½¢æˆçš„ç´§å¯†è”ç³»æ˜¯åŒå‘çš„ã€‚å°±åœ¨æŠ€æœ¯æˆä¸ºæˆ‘ä»¬è‡ªèº«çš„å¤–å»¶æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæˆäº†æŠ€æœ¯çš„å¤–å»¶ã€‚æœ¨åŒ æŠŠé”¤å­æ‹¿åœ¨æ‰‹ä¸­çš„æ—¶å€™ï¼Œä»–ç”¨æ‰‹èƒ½åšçš„åªæœ‰é”¤å­èƒ½åšçš„äº‹æƒ…ã€‚é‚£åªæ‰‹å˜æˆäº†é’‰é’‰å­å’Œæ‹”é’‰å­çš„å·¥å…·ã€‚æˆ˜å£«æŠŠæœ›è¿œé•œæ”¾åœ¨çœ¼å‰çš„æ—¶å€™ï¼Œä»–èƒ½çœ‹åˆ°çš„åªæœ‰é•œå¤´å…è®¸ä»–çœ‹åˆ°çš„ä¸œè¥¿ã€‚ä»–çš„è§†é‡å˜è¿œäº†ï¼Œå´å¯¹è¿‘å¤„çš„æ™¯è±¡è§†è€Œä¸è§äº†ã€‚ Alan Kay åœ¨ 2012 å¹´çš„ SCIx ä¸Šæåˆ°ï¼Œæ¯å½“ä½ åˆ›é€ ä¸€ä¸ªå·¥å…·çš„æ—¶å€™ï¼Œä½ æ—¢åšäº†ä¸€ä¸ªå¢å¼ºå™¨åˆåšäº†ä¸€ä¸ªå‡è‚¢ã€‚æ±½è½¦åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢å¼ºäº†æˆ‘ä»¬ï¼ŒåŒæ—¶åœ¨å¦ä¸€æ–¹é¢å¼±åŒ–äº†æˆ‘ä»¬çš„èº«ä½“ã€‚ è™½ç„¶æˆ‘ä»¬é€šè¿‡ä¸€äº›å·¥å…·èƒ½æå¤§çš„å¢å¼ºæˆ‘ä»¬å¯¹äºã€Œç¬¬äºŒå¤§è„‘ã€çš„å»ºè®¾ï¼Œä½†æ˜¯è¿™ä¸€åˆ‡çš„ä»·å€¼è¿˜æ˜¯å»ºç«‹åœ¨ã€Œç¬¬ä¸€å¤§è„‘ã€çš„èƒŒåâ€”â€”å› ä¸ºæ‰€è°“çš„çŸ¥è¯†å’Œæ™ºæ…§ï¼Œç›®å‰æ¥çœ‹ï¼Œåªæœ‰ç¬¬ä¸€å¤§è„‘æ‰èƒ½ç”Ÿæˆã€‚ æ›´å¥½çš„çŸ¥è¯†ç»„ç»‡å½¢å¼æœ€è¿‘è‡ªå·±ä¸€ç›´åœ¨è¾“å‡ºã€ŒMoreThanJavaã€çš„å†…å®¹ï¼Œåœ¨å›é¡¾ Java åŸºç¡€å†…å®¹çš„æ—¶å€™ï¼Œå‘ç°è®¸å¤šçš„çŸ¥è¯†ç‚¹å¹¶ä¸æ˜¯çº¿æ€§å­˜åœ¨çš„ï¼Œè€Œå‘æ•£çš„ä»£ä»·å°±æ˜¯ â€œæ–‡ç« è¿‡é•¿â€ï¼Œç”šè‡³æ˜¯ä¸€å‘ä¸å¯æ”¶æ‹¾çš„é‚£ç§ã€‚ æ‰€ä»¥æˆ‘å¼€å§‹å…³æ³¨å’Œæ€è€ƒ ã€Œæ›´å¥½çš„çŸ¥è¯†ç»„ç»‡å½¢å¼ã€ï¼ŒåŒå‘é“¾æ¥èƒ½è§£å†³ç»å¤§éƒ¨åˆ†çš„é—®é¢˜ï¼ˆä¸ç”¨è¿‡å¤šæ‹…å¿ƒéšè—åœ¨è¡¨é¢ä¸‹çš„æš—çŸ¥è¯†ä¸­çš„ä¸€äº›æ€æƒ³ä¹Ÿéå¸¸å€¼å¾—å€Ÿé‰´ã€‚æˆ‘åˆ—ä¸¾å‡ ä¸ªç‚¹æ¥è¯´æ˜ä¸€ä¸‹è‡ªå·±çš„æ€è€ƒã€‚ æ›´å¤šçš„å†…å®¹å±•ç¤ºé«˜å¯†åº¦é«˜è´¨é‡çš„å†…å®¹è¾“å‡ºï¼Œæœ¬èº«å°±ç»™äººæ·±åˆ»çš„å°è±¡ï¼Œå›¾ç‰‡å°±æ˜¯å¾ˆå…¸å‹çš„ä¾‹å­ã€‚åˆ¶å›¾å²å­¦å®¶äºšç‘ŸÂ·é²æ»¨é€Šï¼ˆArthur Robinsonï¼‰è§£é‡Šè¯´ï¼šâ€œä»¥ç¼©å°çš„ç©ºé—´æ¥æ›¿ä»£ç°å®ç©ºé—´ï¼Œè¿™æœ¬èº«å°±ä¼šç»™äººç•™ä¸‹æ·±åˆ»çš„å°è±¡ã€‚â€ å¦å¤–äººçš„æ³¨æ„åŠ›æœ¬æ¥å°±æ˜¯æœ‰é™çš„ï¼Œåœ¨æœ‰é™çš„æ—¶é—´å†…ä¸æ–­è·å–æœ‰ç”¨çš„çŸ¥è¯†å†…å®¹ä¸ä»…èƒ½å¸®æˆ‘ä»¬é‡æ–°æ•è·æ³¨æ„åŠ›ï¼Œä¹Ÿèƒ½åŠ æ·±æˆ‘ä»¬çš„å°è±¡ã€‚ï¼ˆå‚ç…§æŠ–éŸ³ï¼‰ ä¸‹é¢æˆ‘ä¸¾ä¸€äº›æˆ‘è®¤ä¸ºå®ç”¨çš„èƒ½å¤Ÿå±•ç¤ºæ›´å¤šå†…å®¹çš„æ–¹æ³•ï¼š æ ‡é¢˜å¯ä»¥æŠ˜å ï¼› Tab å®¹å™¨ï¼› Folding æŠ˜å å®¹å™¨ï¼› åˆ†æ æ˜¾ç¤ºï¼› ä¾‹å¦‚ï¼Œæˆ‘æƒ³è¦è¯´æ˜ç”¨æˆ·ç•Œé¢è®¾è®¡çš„ç‰ˆå¼è®¾è®¡ä¸­å¸¸è§å¸ƒå±€å½¢å¼ä»¥åŠé€‚ç”¨åœºæ™¯ï¼Œä½ æ˜¯æ›´å–œæ¬¢ä¸æ–­å¾€ä¸‹æ‹‰å¸¦æ¥çš„ çº¿æ€§é˜…è¯»ä½“éªŒï¼š è¿˜æ˜¯æ›´å–œæ¬¢æ¨ªå‘åˆ†æ é“¾æ¥å¯¹æ¯”æ€§æ›´å¼ºçš„é˜…è¯»ä½“éªŒå‘¢ï¼Ÿ è¿™å¯¹äºéœ€è¦å¯¹æ¯”é˜…è¯»çš„å†…å®¹éå¸¸å®ç”¨ã€‚å¦å¤–æœ‰ä¸€äº›ä¸éœ€è¦ç«‹é©¬å±•ç¤ºçš„å†…å®¹æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¼•å…¥ Folding å®¹å™¨ç»™æš‚æ—¶éšè—èµ·æ¥ï¼Œä¾‹å¦‚ï¼š æ€»ä¹‹æŠŠæˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„å†…å®¹å°½å¯èƒ½åœ°å±•ç¤ºå‡ºæ¥ï¼ŒæŠŠæˆ‘ä»¬ä¸éœ€è¦ç«‹é©¬å…³å¿ƒæˆ–è€…ä¸€äº›æç¤ºä¿¡æ¯éšè—èµ·æ¥æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ï¼ˆè¿™æ¯”ä¸‹æ½œä¸€ä¸ªé¡µé¢è¦æ¥å¾—é«˜æ•ˆå¾—å¤šï¼‰ å¤šåª’ä½“çš„æ”¯æŒè¿™ä¸€ç‚¹ä¸å¿…å¤šè¯´ï¼ŒçŸ¥è¯†çš„å½¢å¼ç°åœ¨å¤šç§å¤šæ ·ï¼ˆè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ï¼‰ï¼Œå€ŸåŠ›äºäº’è”ç½‘çš„å‘å±•ï¼Œå¤šåª’ä½“çš„æ”¯æŒéå¸¸å¿…è¦ã€‚ å¦å¤–æƒ³å¤šæä¸€å¥çš„æ˜¯å¯¹äºè¶…é“¾æ¥ï¼Œæ˜¯å¦åº”è¯¥æ‘’å¼ƒæ‰åªæ˜¯å­—ä½“å˜æµ…ï¼Œå¢åŠ ä¸‹åˆ’çº¿çš„ä¼ ç»Ÿã€‚ æŠŠè¶…é“¾æ¥ç¼–ç¨‹ä¸°å¯Œçš„æŒ‰é’®ï¼š æˆ–æ˜¯å«æœ‰æŒ‰é’®çš„å›¾æ ‡ï¼š éƒ½æ˜¯å¯èƒ½ä¹Ÿå€¼å¾—çš„å°è¯•ã€‚ å¦å¤–å›¾ç‰‡å’Œè§†é¢‘çš„å±•ç¤ºæ–¹å¼ä¹Ÿå€¼å¾—è€ƒé‡ã€‚ æ›´åŠ ä¸°å¯Œå®ç”¨çš„ç»„ä»¶æœ‰ä¸€äº›ç»„ä»¶å¾ˆå®ç”¨ï¼Œæ¯”å¦‚æ—¶é—´çº¿ï¼š è¯¸å¦‚æ­¤ç±»çš„è¿˜æœ‰ä¸€äº›å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ€è€ƒï¼Œè¿›ä¸€æ­¥å®Œæˆã€Œç¬¬äºŒå¤§è„‘ã€ä½¿å‘½çš„å·¥å…·éƒ½å€¼å¾—è€ƒè™‘ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™å¾—çœ‹æˆ‘æ¥çš„æ„¿æ™¯æ˜¯ä»€ä¹ˆäº†ï¼‰ å‡ ç‚¹ç–‘é—®å’Œæ€è€ƒâ¶ åˆ†äº«åŠŸèƒ½è¯¥å¦‚ä½•åšï¼Ÿè¿‡å»ï¼Œåœ¨ä¼ ç»Ÿç¬”è®°ã€ç”šè‡³æ˜¯å†…å®¹åˆ†äº«å‘ç”Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ é€’çš„éƒ½æ˜¯ä¸€ä¸ªéå¸¸ç¡®åˆ‡çš„ä¿¡æ¯ã€‚å®ƒæ˜¯ä¸€ç¯‡æ–‡ç« ã€ä¸€æ®µè§†é¢‘ã€ä¸€é¦–æ­Œâ€¦. ä¸ç®¡è¿™äº›ç¡®åˆ‡ä¿¡æ¯é‡Œé¢å‘ç”Ÿäº†æ€æ ·çš„å¼•ç”¨å’Œé“¾æ¥ï¼Œæˆ‘ä»¬åˆ†äº«çš„å§‹ç»ˆæ˜¯æˆ‘æƒ³è¦åˆ†äº«çš„ä¸€ä¸ª â€œç‚¹â€ ç»™ä½ ã€‚ ä½†æ˜¯å½“åŒå‘é“¾æ¥æ—¶æ—¶å‘ç”Ÿçš„æ—¶å€™ï¼Œè¿™ä¸€åˆ‡éƒ½å°†å˜å¾—æœ‰äº›å¤æ‚ã€‚å› ä¸ºæ²¡æœ‰æ‰€è°“çš„ â€œç‚¹â€ äº†ï¼Œæ‰€æœ‰ä¿¡æ¯éƒ½ç›´æ¥æˆ–è€…é—´æ¥åœ°äº’ç›¸è”ç³»ï¼Œæ‰€ä»¥é—®é¢˜æ˜¯ï¼š æˆ‘åˆ†äº«çš„ä¿¡æ¯ä¸­å­˜åœ¨çš„åŒå‘é“¾æ¥ï¼Œéƒ½åº”è¯¥å‘è¢«åˆ†äº«çš„äººå…¬å¼€å—ï¼Ÿ å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæˆ‘ä¸æƒ³åˆ†äº«çš„ä¿¡æ¯åº”è¯¥å¦‚ä½•è¢«ä¿æŠ¤ï¼Ÿ å¦‚æœä¸æ˜¯ï¼Œæˆ‘éœ€è¦è®¾ç½®æ¯ä¸€ä¸ªä¿¡æ¯çš„å…¬å¼€çº§åˆ«å—ï¼Ÿ â· æ›´åŠ â€æ™ºèƒ½â€çš„åŒå‘é“¾æ¥è¿™ä¸€ç‚¹æ¥è‡ªäºæˆ‘çœŸå®çš„ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘åœ¨é˜…è¯»ã€Šäº’è”ç½‘å¦‚ä½•æ¯’åŒ–äº†æˆ‘ä»¬çš„å¤§è„‘ã€‹æ—¶ï¼Œåœ¨å‘½åä¸ºä¹¦åçš„é¡µé¢ä¸‹æ‘˜æŠ„äº†ä¸€å¥è¯ï¼ˆåœ¨ä¹¦åçš„é¡µé¢ä¸‹æ‘˜æŠ„è¯­å¥æ˜¯æˆ‘è®¤ä¸ºæ­£ç¡®çš„æ“ä½œï¼‰ï¼š [[çº½çº¦å¤§å­¦]][[ç¥ç»å­¦å®¶]][[çº¦ç‘Ÿå¤«Â·å‹’æœå…‹æ–¯]]ï¼ˆJoseph LeDouxï¼‰åœ¨å…¶è‘—ä½œ[[ã€Šé€šè¿‡çªè§¦çœ‹è‡ªå·±ã€‹]]ï¼ˆSynaptic Selfï¼‰ä¸­è§£é‡Šè¯´ï¼Œå¤©æ€§å’Œæ•™å…»â€œå®é™…ä¸Šå¿—åŒé“åˆï¼ŒäºŒè€…éƒ½æ˜¯é€šè¿‡å½¢æˆå¤§è„‘å½“ä¸­çš„çªè§¦ç»„ç»‡ï¼Œæœ€ç»ˆè¾¾åˆ°å®ƒä»¬çš„ç²¾ç¥æ•ˆæœå’Œè¡Œä¸ºæ•ˆæœâ€ã€‚ å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬ä¸Šæ–¹å‡ºç°å‡ ä¸ªå¸Œæœ›è¢«åŒå‘é“¾æ¥çš„æ¦‚å¿µï¼šçº½çº¦å¤§å­¦ã€ç¥ç»å­¦å®¶ã€çº¦ç‘Ÿå¤«Â·å‹’æœå…‹æ–¯ã€ã€Šé€šè¿‡çªè§¦çœ‹è‡ªå·±ã€‹ä»¥åŠä»¥ä¹¦åå‘½åçš„é¡µé¢æœ¬èº«ï¼Œæˆ‘ä»¬ç†æƒ³ä¸­çš„é“¾æ¥æƒ…å†µæ˜¯ï¼š ç„¶è€Œï¼Œå½“æˆ‘ä»¬æ‘˜æŠ„å®Œè¿™å¥è¯ï¼Œé»˜è®¤å»ºç«‹å¥½çš„é“¾æ¥å¦‚ä¸‹ï¼š è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦é¢å¤–å»ºç«‹å¦‚ä¸‹çš„é“¾æ¥ï¼š æˆ‘èƒ½æƒ³åˆ°æœ€å¥½çš„æ–¹å¼å°±æ˜¯ï¼Œæˆ‘åœ¨ã€Œçº¦ç‘Ÿå¤«Â·æœå‹’å…‹æ–¯ã€è¿™ä¸ª Page ä¸‹ç”¨åŒå‘é“¾æ¥çš„æ–¹å¼å†™æ˜ï¼Œå®ƒæ˜¯ä¸€ä½æ¥è‡ªäºçº½çº¦å¤§å­¦çš„ç¥ç»å­¦å®¶ï¼Œå¹¶ä¸”æœ‰è‘—ä½œã€Šé€šè¿‡çªè§¦çœ‹è‡ªå·±ã€‹ã€‚ è¿™æ²¡å•¥é—®é¢˜.. ä½†ä¼šæ‰“æ–­æˆ‘çš„æ€è€ƒå’Œé˜…è¯».. æ‰€ä»¥é—®é¢˜æ˜¯ï¼šå¦‚æœè®©ä¸€å¥è¯é‡Œçš„åŒå‘é“¾æ¥éƒ½å»ºç«‹é»˜è®¤çš„é“¾æ¥ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿï¼ˆå¯¹åº”è¿™é‡Œå°±æ˜¯ç³»ç»Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬å»ºç«‹äº†é¢å¤–çš„é“¾æ¥å¹¶æ–°å¢äº†çº½çº¦å¤§å­¦å’Œç¥ç»å­¦å®¶çš„é“¾æ¥ï¼‰ é¢å¤–çš„é“¾æ¥ä¼¼ä¹å¹¶ä¸ä¼šå¯¹æˆ‘ä»¬é€ æˆè´Ÿæ‹…ï¼Œç›¸åè‡ªå·±åšé¢å¤–çš„é“¾æ¥åè€Œä¼šå¢åŠ è´Ÿæ‹…ï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ å¦å¤–ï¼Œå½“æˆ‘æƒ³è¦æŠŠæŸä¸€ä¸ªæ¦‚å¿µä¸çŸ¥è¯†åº“è¿›è¡Œé“¾æ¥çš„æ—¶å€™ï¼Œæˆ‘æœŸå¾…çš„å¹¶ä¸æ˜¯åªæ˜¯é“¾æ¥ï¼Œè¢«é“¾æ¥åŒæ ·æ˜¯æˆ‘æœŸå¾…çš„ã€‚ ä¾‹å¦‚æˆ‘åœ¨ä¸Šé¢å†™ï¼š åŸå› æ˜¯æˆ‘ä»¬é‡åˆ°äº†é—®é¢˜ï¼šä¿¡æ¯è¿‡è½½ï¼ŒçŸ¥è¯†çˆ†ç‚¸ï¼ŒåŒæ—¶[[å¤§è„‘]]åˆå¯¹ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£é€‚åº”æ€§å¾ˆå·®ã€‚ è¿™å¥è¯çš„æ—¶å€™ï¼Œæˆ‘æœŸå¾…è·Ÿå¤§è„‘ç›¸å…³çš„é“¾æ¥èƒ½ä»æŸä¸ªåœ°æ–¹è·³å‡ºæ¥è€Œä¸å½±å“æˆ‘æ­¤åˆ»çš„å†™ä½œã€‚ â¸ å¢åŠ è¿”å›ä¸Šä¸€é¡µåŠŸèƒ½orä¸´æ—¶å·¥ä½œç©ºé—´ç¡®å®ï¼ŒåŒå‘é“¾æ¥èƒ½å¤Ÿè§¦å‘æˆ‘ä»¬åœºæ™¯å¼ã€æ¦‚å¿µæ˜¯çš„å‘æ•£æ€è€ƒï¼Œä½†æ˜¯éšç€å‘æ•£çš„è¿›è¡Œï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¿˜è®°äº†æˆ‘ä»¬åŸæœ¬å‡ºå‘çš„ä½ç½®ã€‚ï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘ä½¿ç”¨è½¯ä»¶å¸¸å›°æ‰°çš„é—®é¢˜â€”â€”è·³è½¬ç€è·³è½¬ç€å‘ç°ä¸çŸ¥é“å»å“ªå„¿äº†ï¼‰ æˆ–è€…ç›´æ¥åšä¸€ä¸ªä¸´æ—¶å·¥ä½œç©ºé—´ï¼ŒæŠŠéœ€è¦ç”¨åˆ°çš„ææ–™å’Œé“¾æ¥éƒ½å¯ä»¥ä¸´æ—¶åœ°æ‰”è¿‡å»ä¿å­˜ã€‚å‘ç°åœ¨æ‚¬æµ®ç›®å½•çš„ä¸‹è¾¹å„¿æœ‰è¶³å¤Ÿçš„ç©ºé—´å¯ä»¥ä½¿ç”¨.. è¿™æ ·è·³è½¬ç€è·³è½¬ç€å°±ä¸çŸ¥é“å»å“ªå„¿çš„é—®é¢˜å°±èƒ½å¤Ÿå¾—åˆ°æœ‰æ•ˆè§£å†³äº†.. Emmmâ€¦ æˆ‘æš‚æ—¶è¿˜æ²¡æœ‰æƒ³åˆ°æ›´å¥½çš„æ–¹å¼â€¦ å¯¹æˆ‘æ¥çš„æœŸå¾…é™äºè‡ªèº«çš„æ°´å¹³ï¼Œå†™è¿™ç¯‡å›ç­”èŠ±äº†ä¸å°‘ç²¾åŠ›.. è€Œä¸”å°±åœ¨ä½¿ç”¨ wolai å†™ä½œçš„è¿‡ç¨‹ä¸­ï¼ˆ2 å¤©ï¼‰ï¼Œè¢«æç¤ºè¦å‡çº§äº†ä¸¤æ¬¡.. ä¸å¾—ä¸ä½©æœ wolai æ›´æ–°è¿­ä»£çš„èƒ½åŠ›ã€‚ å¸Œæœ›é©¬æ€»ä¸ä»…çœŸçš„èƒ½å¤ŸæŠŠæˆ‘æ¥æ‰“é€ æˆä¸º â€œé›†æ‰€æœ‰ä¼˜ç‚¹â€ äºä¸€èº«çš„ â€œå®Œç¾äº‘ç«¯ç¬”è®°â€ å§ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€äº›ç§å¿ƒåœ°å¸Œæœ›æˆ‘æ¥èƒ½å¤Ÿæˆä¸º çŸ¥è¯†ç®¡ç†çš„ â€œå¸ƒé“è€…â€ï¼ˆè¿™ä¸€ç‚¹å¯ä»¥å‚çœ‹å°è±¡ç¬”è®°çš„å®˜æ–¹åšå®¢ï¼‰ï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥è½¯ä»¶çš„æœ€å¤§ä»·å€¼å§ï¼ˆå› ä¸ºæ˜¯çœŸçš„å–œæ¬¢æˆ‘æ¥ï¼‰ã€‚ ä¸ç®¡æˆ‘æ¥æœ€ç»ˆå®šä»·å¤šå°‘ï¼Œæˆ‘éƒ½ä¼šæ”¯æŒï¼ ï¼ˆå¦å¤–æˆ‘è¿˜ä¸è¦è„¸åœ°é—®äº†ä¸€ä¸‹æˆ‘æ¥æ‹›ä¸æ‹›äºº.. çœ‹åˆ°æ‹›äººæ ‡å‡†åå°±åŒ¿äº†â€¦ æ‚è„¸ğŸ¤¦â€â™‚ï¸é€ƒâ€¦ğŸ˜¸ï¼‰ ï¼ˆENDï¼‰ è¿™é‡Œæ˜¯ æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ï¼Œä¸€ä½ 96 å¹´ å¥‹åŠ›å¥”è·‘ çš„ è‡ªç”±æŠ€æœ¯äººï¼Œåœ¨è¿™é‡Œåˆ†äº« çŸ¥è¯†/æŠ€æœ¯/æ€è€ƒ/æˆé•¿ï¼Œè¿˜ä¸æ¥å…³æ³¨ï¼","categories":[{"name":"çŸ¥ä¹é—®ç­”","slug":"çŸ¥ä¹é—®ç­”","permalink":"http://www.wmyskxz.com/categories/%E7%9F%A5%E4%B9%8E%E9%97%AE%E7%AD%94/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"çŸ¥ä¹é—®ç­”","slug":"çŸ¥ä¹é—®ç­”","permalink":"http://www.wmyskxz.com/tags/%E7%9F%A5%E4%B9%8E%E9%97%AE%E7%AD%94/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 7ï¼šæ¥å£è¯¦è§£","slug":"ã€ŒMoreThanJavaã€Day-7ï¼šæ¥å£è¯¦è§£","date":"2020-08-13T07:26:00.000Z","updated":"2020-08-16T07:50:03.379Z","comments":true,"path":"2020/08/13/morethanjava-day-7-jie-kou-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2020/08/13/morethanjava-day-7-jie-kou-xiang-jie/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. æ¥å£æ¦‚è¿°Java æ˜¯å•ç»§æ‰¿çš„ã€‚è¿™æ„å‘³ç€å­ç±»ä»…ä»ä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿ã€‚é€šå¸¸ï¼Œè¿™å°±æ˜¯ä½ éœ€è¦çš„ã€‚æœ‰æ—¶å€™å¤šç»§æ‰¿ä¼šæä¾›æ–¹ä¾¿ï¼Œä½†ä¹Ÿä¼šé€ æˆæ··ä¹±ï¼Œä¾‹å¦‚ï¼Œå½“ç»§æ‰¿çš„ä¸¤ä¸ªçˆ¶ç±»å…·æœ‰ä¸åŒç‰ˆæœ¬çš„ç­¾åç›¸åŒçš„ä¸¤ä¸ªæ–¹æ³•æ—¶è¯¥è°ƒç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿ æ¥å£ä¸º Java æä¾›äº†å¤šç»§æ‰¿çš„ä¸€äº›ä¼˜ç‚¹ï¼Œè€Œæ²¡æœ‰ç¼ºç‚¹ã€‚ æ¥å£çš„æ¦‚å¿µåœ¨ Java ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œæ¥å£ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯å¯¹å¸Œæœ›ç¬¦åˆè¿™ä¸ªæ¥å£çš„ç±»çš„ä¸€ç»„éœ€æ±‚ã€‚ æˆ‘ä»¬ ä¹‹å‰ æ¥è§¦çš„ æŠ½è±¡ç±»ï¼Œæ€§æ ¼åå†…å‘ï¼Œæè¿°çš„æ˜¯ä¸€ç»„ç›¸å¯¹å…·ä½“çš„ç‰¹å¾ï¼Œæ¯”å¦‚æŸå“ç‰Œç‰¹å®šå‹å·çš„æ±½è½¦ï¼Œåº•ç›˜æ¶æ„ã€æ§åˆ¶ç”µè·¯ã€åˆ¹è½¦ç³»ç»Ÿç­‰æ˜¯æŠ½è±¡å‡ºæ¥çš„å…±åŒç‰¹å¾ï¼Œä½†æ ¹æ®åŠ¨æ„Ÿå‹ã€èˆ’é€‚å‹ã€è±ªåå‹çš„åŒºåˆ†ï¼Œå†…é¥°ã€è½¦å¤´ç¯ã€æ˜¾ç¤ºå±ç­‰éƒ½å¯ä»¥å­˜æ”¾ä¸åŒç‰ˆæœ¬çš„å…·ä½“å®ç°ã€‚ è€Œ æ¥å£ æ˜¯å¼€æ”¾çš„ï¼Œæ€§æ ¼åå¤–å‘ï¼Œå®ƒå°±åƒä¸€ä»½åˆåŒï¼Œå®šä¹‰äº†æ–¹æ³•åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼ï¼Œç”šè‡³æ˜¯æŠ›å‡ºå¼‚å¸¸çš„ç±»å‹ã€‚è°éƒ½å¯ä»¥å®ç°å®ƒï¼Œä½†å¦‚æœæƒ³å®ç°å®ƒçš„ç±»å°±å¿…é¡»éµå®ˆè¿™ä»½æ¥å£çº¦å®šçš„åˆåŒã€‚ æƒ³ä¸€æƒ³æ¯”è¾ƒç†Ÿæ‚‰çš„ USB æ¥å£ï¼šå®ƒä¸ä»…ä»…çº¦æŸäº† U ç›˜ (å®ç°ç±») çš„å¤§å°å’Œå½¢çŠ¶ï¼ŒåŒæ ·ä¹Ÿçº¦æŸäº†ç”µè„‘æ’æ§½ (ä½¿ç”¨ç±»)ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œæ¥å£ç±»ä¼¼ã€‚ æ¥å£çš„å®šä¹‰åœ¨ Java ä¸­ä½¿ç”¨ interface å…³é”®å­—æ¥å®šä¹‰æ¥å£ã€‚æ¥å£æ˜¯é¡¶çº§çš„ â€œç±»â€ï¼Œè™½ç„¶å…³é”®å­—æ˜¯ interfaceï¼Œä½†ç¼–è¯‘ä¹‹åçš„å­—èŠ‚ç æ‰©å±•åè¿˜æ˜¯ .classã€‚ä¸€ä¸ªå…¸å‹æ¥å£çš„ç»“æ„å¦‚ä¸‹ï¼š public interface InterfaceName { constant definitions method headers (without implementations). } æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨ å‰é¢æ–‡ç«  è®¨è®ºã€Œä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ç»§æ‰¿ï¼Ÿã€ä¸­ä¸¾çš„é¸Ÿç±»çš„ä¾‹å­ï¼Œä»»ä½•èƒ½é£çš„é¸Ÿéƒ½å¿…é¡»å®ç°å¦‚ä¸‹æ¥å£ï¼š public interface Flyable { void fly(); } æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½è‡ªåŠ¨æ˜¯ publicã€‚å› æ­¤ï¼Œåœ¨æ¥å£ä¸­å£°æ˜æ–¹æ³•æ—¶ï¼Œä¸å¿…æä¾›å…³é”®å­— publicã€‚(åœ¨ Java 9 ä¸­å…è®¸äº†æ¥å£å®šä¹‰å£°æ˜ä¸º private çš„æ–¹æ³•ï¼Œåœ¨è¿™ä¹‹å‰éƒ½æ˜¯ä¸å…è®¸çš„..) æƒ³ä¸€æƒ³æ¥å£å°±åƒæ˜¯åˆåŒä¸€æ ·ï¼Œæ‰€ä»¥ä»»ä½•ä¸æ¸…æ™°çš„ç»†èŠ‚éƒ½æ˜¯ä¸å…è®¸çš„ã€‚å› æ­¤ï¼Œæ¥å£ä¸­åªå…è®¸æ˜ç¡®çš„æ–¹æ³•å®šä¹‰å’Œå¸¸é‡å‡ºç°ã€‚(ä¸‹æ–¹çš„ä¾‹å­ä¸­æ¼”ç¤ºäº†ä¸€ä¸ªä¸è¢«å…è®¸çš„æ¥å£å®šä¹‰ â€”â€” å› ä¸º y å˜é‡æ²¡æœ‰ç¡®å®šçš„å€¼) interface ErrorInterfaceDefine { public final int x = 32; public double y; // No variables allowed public double addup(); } è¿™çœ‹èµ·æ¥æœ‰ç‚¹å„¿åƒç±»çš„å®šä¹‰ï¼Œä½†æ²¡æœ‰ä»»ä½•å¯¹è±¡èƒ½å¤Ÿæ„å»ºä¸€ä¸ªæ¥å£ (newä¸€ä¸ªæ¥å£.. å› ä¸ºæ¥å£æ˜¯ç»å¯¹æŠ½è±¡çš„ï¼Œä¸å…è®¸å®ç°..)*ï¼Œä½†ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªç±»å®ç° *(å…³é”®å­— impelents) æ¥å£ï¼Œä¸€æ—¦ä½ è¿™ä¹ˆåšäº†ï¼Œä½ å°±å¯ä»¥æ„é€ è¿™ä¸ª (å®ç°æ¥å£çš„) ç±»çš„å¯¹è±¡ã€‚ ä¾‹å¦‚éº»é›€æ—¢èƒ½é£ã€ä¹Ÿèƒ½å«ã€è¿˜èƒ½ä¸‹è›‹ï¼š(å®ç°å¤šä¸ªæ¥å£ä½¿ç”¨ , åˆ†éš”) public class Sparrow impelents Flayable, Tweetable, EggLayable {//éº»é›€ //... çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... @Override public void fly() { //... } @Override public void tweet() { //... } @Override public void layEgg() { //... } } æ¥å£çš„å±æ€§â¶ æ¥å£ä¸æ˜¯ç±»ï¼Œä¸èƒ½ä½¿ç”¨ new è¿ç®—ç¬¦å®ä¾‹åŒ–ä¸€ä¸ªæ¥å£ï¼Œä½†å´å¯ä»¥ç”¨æ¥å¼•ç”¨å®ç°äº†è¿™ä¸ªæ¥å£çš„ç±»å¯¹è±¡ï¼š Comparable x = new Employee(...); // OK provided Emloyee implements Comparable â· ä¸å»ºç«‹ç±»çš„ç»§æ‰¿å±‚æ¬¡ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥æ‰©å±•æ¥å£ï¼æ¯”å¦‚ï¼Œå‡è®¾è¿™é‡Œæœ‰ä¸€ä¸ªåä¸º Moveable çš„æ¥å£ï¼š public interface Moveable { void move(double x, double y); } ç„¶åï¼Œå¯ä»¥å‡è®¾ä¸€ä¸ªåä¸º Powered çš„æ¥å£æ‰©å±•äº†ä»¥ä¸Šçš„ Moveable æ¥å£ï¼š public interface Powered extends Moveable { double milesPerGallon(); } â¸ è™½ç„¶åœ¨æ¥å£ä¸­ä¸èƒ½åŒ…å«å®ä¾‹å­—æ®µï¼Œä½†æ˜¯å¯ä»¥åŒ…å«å¸¸é‡ã€‚æ¯”å¦‚ï¼š public interface Powered extends Moveable { double SPEED_LIMIT = 95; // a public static final constant double milesPerGallon(); } â¹ å¦å¤–æœ‰ä¸€äº›æ¥å£ä¹‹å®šä¹‰äº†å¸¸é‡ï¼Œè€Œæ²¡æœ‰å®šä¹‰æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæ ‡å‡†åº“ä¸­çš„ SwingConstants å°±æ˜¯è¿™æ ·ä¸€ä¸ªæ¥å£ï¼Œå…¶ä¸­åªåŒ…å«äº† NORTHã€SOUTH å’Œ HORIZONTAL ç­‰å¸¸é‡ã€‚ä»»ä½•å®ç° SwingConstants æ¥å£çš„ç±»éƒ½è‡ªåŠ¨åœ°ç»§æ‰¿äº†è¿™äº›å¸¸é‡ï¼Œå¹¶å¯ä»¥åœ¨æ–¹æ³•ä¸­å¼•ç”¨å®ƒä»¬ï¼Œè€Œä¸å¿…é‡‡ç”¨ SwingConstants.NORTH è¿™æ ·ç¹ççš„ä¹¦å†™å½¢å¼ã€‚ä¸è¿‡ï¼Œè¿™æ ·ä½¿ç”¨æ¥å£æ›´åƒæ˜¯é€€åŒ–ï¼Œæ‰€ä»¥å»ºè®®æœ€å¥½ä¸è¦è¿™æ ·ä½¿ç”¨â€¦ â¡ï¸ ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†å¯ä»¥å®ç°å¾ˆå¤šä¸ªæ¥å£ã€‚è¿™å°±ä¸ºå®šä¹‰ç±»çš„è¡Œä¸ºæä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚(æˆ‘ä»¬ä¹‹å‰ä¹Ÿè®¨è®ºè¿‡â€”â€”åœ¨è®¨è®ºç»§æ‰¿çš„ç« èŠ‚â€”â€”è¿™é‡Œä¸å†èµ˜è¿°) é™æ€å’Œç§æœ‰æ–¹æ³•â¡ï¸ åœ¨ Java 8 ä¸­ï¼Œå…è®¸åœ¨æ¥å£ä¸­å¢åŠ é™æ€æ–¹æ³• (å…è®¸ä¸æ„å»ºå¯¹è±¡è€Œç›´æ¥ä½¿ç”¨çš„å…·ä½“æ–¹æ³•)ã€‚ç†è®ºä¸Šè®²ï¼Œæ²¡æœ‰ä»»ä½•ç†ç”±è®¤ä¸ºè¿™æ˜¯ä¸åˆæ³•çš„ï¼Œåªæ˜¯è¿™æœ‰è¿å°†æ¥å£ä½œä¸ºæŠ½è±¡è§„èŒƒçš„åˆè¡·ã€‚ ç›®å‰ä¸ºæ­¢ï¼Œé€šå¸¸çš„åšæ³•éƒ½æ˜¯å°†é™æ€æ–¹æ³•æ”¾åœ¨ ä¼´éšç±» (å¯ä»¥ç†è§£ä¸ºæ“ä½œç»§æ‰¿æ¥å£çš„å®ç”¨å·¥å…·ç±») ä¸­ã€‚åœ¨æ ‡å‡†åº“ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆå¯¹å‡ºç°çš„æ¥å£å’Œå®ç”¨å·¥å…·ç±»ï¼Œå¦‚ Collection/ Collections æˆ– Path/ Pathsã€‚ åœ¨ Java 11 ä¸­ï¼ŒPath æ¥å£å°±æä¾›äº†ä¸€ä¸ªä¸ä¹‹å·¥å…·ç±» Paths.get() ç­‰ä»·çš„æ–¹æ³• (è¯¥æ–¹æ³•ç”¨äºå°†ä¸€ä¸ª URI æˆ–è€…å­—ç¬¦ä¸²åºåˆ—æ„é€ æˆä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„)ï¼š public interface Path { public static Path of(String first, String... more) { ... } public static Path of(URI uri) { ... } } è¿™æ ·ä¸€æ¥ï¼ŒPaths ç±»å°±ä¸å†æ˜¯å¿…è¦çš„äº†ã€‚ç±»ä¼¼åœ°ï¼Œå¦‚æœå®ç°ä½ è‡ªå·±çš„æ¥å£æ—¶ï¼Œæ²¡æœ‰ç†ç”±å†é¢å¤–æä¾›ä¸€ä¸ªå¸¦æœ‰å®ç”¨æ–¹æ³•çš„å·¥å…·ç±»ã€‚ â¡ï¸ å¦å¤–ï¼Œåœ¨ Java 9 ä¸­ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å¯ä»¥æ˜¯ privateã€‚private æ–¹æ³•å¯ä»¥æ˜¯é™æ€æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ã€‚ç”±äºç§æœ‰æ–¹æ³•åªèƒ½åœ¨æ¥å£æœ¬èº«çš„æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒä»¬çš„ç”¨æ³•å¾ˆæœ‰é™ï¼Œåªèƒ½ä½œä¸ºæ¥å£ä¸­å…¶ä»–æ–¹æ³•çš„è¾…åŠ©æ–¹æ³•ã€‚ é»˜è®¤æ–¹æ³•åœ¨ Java 8 ä¸­ï¼Œå…è®¸ä¸ºæ¥å£æ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤çš„å®ç°ã€‚å¿…é¡»ç”¨ default ä¿®é¥°ç¬¦æ ‡è®°è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚ JDK ä¸­çš„ Iterator æ¥å£ï¼š public interface Iterator&lt;E> { boolean hasNext(); E next(); default void remove() { throw new UnsupportedOperationExceition(\"remove\"); } } è¿™å°†éå¸¸æœ‰ç”¨ï¼å¦‚æœä½ è¦å®ç°ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå°±éœ€è¦æä¾› hasNext() å’Œ next() æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•æ²¡æœ‰é»˜è®¤å®ç°â€”â€”å®ƒä»¬ä¾èµ–äºä½ è¦éå†è®¿é—®çš„æ•°æ®ç»“æ„ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ çš„è¿­ä»£å™¨æ˜¯ åªè¯» çš„ï¼Œé‚£ä¹ˆå°±ä¸ç”¨æ“å¿ƒå®ç° remove() æ–¹æ³•ã€‚ é»˜è®¤æ–¹æ³•ä¹Ÿå¯ä»¥è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹é€  Collection æ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹ä¾¿çš„ isEmpty() æ–¹æ³•ï¼š public interface Collection { int size(); // an abstract method default boolean isEmpty() { return size() == 0; } } è¿™æ ·ï¼Œå®ç° Collection çš„ç¨‹åºå‘˜å°±ä¸ç”¨å†æ“å¿ƒå®ç° isEmpty() æ–¹æ³•äº†ã€‚ (äº‹å®ä¸Šè¿™ä¹Ÿæ˜¯ AbstractCollection æŠ½è±¡ç±»çš„å®šä¹‰â€”â€”æ‰€æœ‰çš„é›†åˆå…·ä½“å®ç°å‡ ä¹éƒ½ç»§æ‰¿äº† AbstractCollectionæŠ½è±¡ç±»â€”â€”ä½†ä¸ºä»€ä¹ˆé¡¶å±‚çš„ Collection æ¥å£ä¸åšè¿™æ ·çš„ä¿®æ”¹å‘¢ï¼Ÿæˆ‘èµ·åˆæ˜¯æ€€ç–‘æœ‰ä¸€äº›ç‰¹æ®Šçš„é›†åˆä¸ºç©ºçš„å®šä¹‰æœ‰ç‰¹æ®Šæ€§ï¼Œä½†æˆ‘æ²¡æœ‰æ‰¾åˆ°..å‡ ä¹æ‰€æœ‰çš„é›†åˆä¸ºç©ºåˆ¤å®šéƒ½ä¸ºè‡ªèº«çš„å…ƒç´ ç­‰äº 0ã€‚æ‰€ä»¥ç­”æ¡ˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯è§£å†³é»˜è®¤æ–¹æ³•å†²çªçš„ â€œç±»ä¼˜å…ˆâ€ åŸåˆ™ï¼ğŸ‘‡) è§£å†³é»˜è®¤æ–¹æ³•å†²çªå¦‚æœå…ˆåœ¨ä¸€ä¸ªæ¥å£ä¸­å°†ä¸€ä¸ªæ–¹æ³•å®šä¹‰ä¸ºé»˜è®¤æ–¹æ³•ï¼Œç„¶ååˆåœ¨ç±»æˆ–å¦ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰åŒæ ·çš„æ–¹æ³•ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ // æµ‹è¯•æ¥å£ 1 public interface TestInterface1 { default void sameMethod() { System.out.println(\"Invoke TestInterface1 methodï¼\"); } } // æµ‹è¯•æ¥å£ 2 public interface TestInterface2 { default void sameMethod() { System.out.println(\"Invoke TestInterface2 methodï¼\"); } } // ç»§æ‰¿ä¸¤ä¸ªæ¥å£çš„æµ‹è¯•ç±» public class TestObject implements TestInterface1, TestInterface2 { @Override public void sameMethod() { // è¿™é‡Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸¤ä¸ªæ¥å£ä¸­çš„ä¸€ä¸ªé»˜è®¤å®ç° // å¦‚ï¼š TestInterface1.super.sameMethod(); System.out.println(\"Invoke Object methodï¼\"); } } // æµ‹è¯•ç±» public class Tester { public static void main(String[] args) { TestObject testObject = new TestObject(); testObject.sameMethod(); } } æµ‹è¯•è¾“å‡ºï¼š Invoke Object methodï¼ â¡ï¸ å¯¹äº Scale æˆ–è€… C++ è¿™äº›è¯­è¨€æ¥è¯´ï¼Œè§£å†³è¿™ç§å…·æœ‰ äºŒä¹‰æ€§ çš„æƒ…å†µè§„åˆ™ä¼šå¾ˆå¤æ‚ï¼ŒJava çš„è§„åˆ™åˆ™ç®€å•å¾—å¤šï¼š ç±»ä¼˜å…ˆã€‚å¦‚æœæœ¬ç±»ä¸­æä¾›äº†ä¸€ä¸ªå…·ä½“æ–¹æ³•ç¬¦åˆç­¾åï¼Œåˆ™åŒåä¸”å…·æœ‰ç›¸åŒå‚æ•°åˆ—è¡¨çš„æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•ä¼šè¢«å¿½ç•¥ï¼› æ¥å£å†²çªã€‚å¦‚æœä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªåŒåä¸”å‚æ•°åˆ—è¡¨ç›¸åŒçš„æ–¹æ³• (é¡ºåºå’Œç±»å‹éƒ½ç›¸åŒ) ï¼Œåˆ™å¿…é¡»è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥è§£å†³å†²çª (å°±æ˜¯ğŸ‘†ä»£ç çš„æƒ…å†µï¼Œä¸è¦†ç›–ç¼–è¯‘å™¨ä¸ä¼šç¼–è¯‘..)ï¼› Java è®¾è®¡è€…æ›´å¼ºè°ƒä¸€è‡´æ€§ï¼Œè®©ç¨‹åºå‘˜è‡ªå·±æ¥è§£å†³è¿™æ ·çš„äºŒä¹‰æ€§ä¼¼ä¹ä¹Ÿæ˜¾å¾—å¾ˆåˆç†ã€‚å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªå®ç°ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥å‘Šé”™è¯¯ï¼Œç¨‹åºå‘˜å°±å¿…é¡»è§£å†³è¿™ä¸ªäºŒä¹‰æ€§ã€‚(å¦‚æœä¸¤ä¸ªæ¥å£éƒ½æ²¡æœ‰ä¸ºå…±äº«æ–¹æ³•æä¾›é»˜è®¤å®ç°ï¼Œåˆ™ä¸å­˜åœ¨å†²çªï¼Œè¦ä¹ˆå®ç°ï¼Œè¦ä¹ˆä¸å®ç°..) â¡ï¸ æˆ‘ä»¬åªè®¨è®ºäº†ä¸¤ä¸ªæ¥å£çš„å‘½åå†²çªã€‚ç°åœ¨æ¥è€ƒè™‘å¦ä¸€ç§æƒ…å†µï¼Œä¸€ä¸ªç±»ç»§æ‰¿è‡ªä¸€ä¸ªç±»ï¼ŒåŒæ—¶å®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•å’Œæ¥å£æ‹¥æœ‰åŒæ ·çš„æ–¹æ³•ç­¾åï¼Œåˆå°†æ€ä¹ˆåŠå‘¢ï¼Ÿ // æµ‹è¯•æ¥å£ public interface TestInterface { default void sameMethod() { System.out.println(\"Invoke TestInterface Methodï¼\"); } } // çˆ¶ç±» public class Father { void sameMethod() { System.out.println(\"Invoke Father Methodï¼\"); } } // å­ç±» public class Son extends Father implements TestInterface { @Override public void sameMethod() { System.out.println(\"Invoke Son Methodï¼\"); } } // æµ‹è¯•ç±» public class Tester { public static void main(String[] args) { new Son().sameMethod(); } } ç¨‹åºè¾“å‡ºï¼š Invoke Son Methodï¼ è¿˜è®°å¾—æˆ‘ä»¬è¯´è¿‡çš„æ–¹æ³•è°ƒç”¨çš„è¿‡ç¨‹å— (å…ˆæ‰¾æœ¬ç±»çš„æ–¹æ³•æ‰¾ä¸åˆ°å†ä»çˆ¶ç±»æ‰¾)ï¼ŸåŠ ä¸Šè¿™é‡Œæåˆ°çš„ â€œç±»ä¼˜å…ˆâ€ åŸåˆ™ (æœ¬ç±»ä¸­æœ‰æ–¹æ³•åˆ™ç›´æ¥è°ƒç”¨)ï¼Œè¿™å¾ˆå®¹æ˜“ç†è§£ï¼ åƒä¸‡ä¸è¦è®©ä¸€ä¸ªé»˜è®¤æ–¹æ³•é‡æ–°å®šä¹‰ Object ç±»ä¸­çš„æŸä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½ä¸º toString() æˆ– equals() å®šä¹‰é»˜è®¤æ–¹æ³•ï¼Œå°½ç®¡å¯¹äº List ä¹‹ç±»çš„æ¥å£è¿™å¯èƒ½å¾ˆæœ‰å¸å¼•åŠ›ï¼Œä½†ç”±äº ç±»ä¼˜å…ˆåŸåˆ™ï¼Œè¿™æ ·çš„æ–¹æ³•ç»å¯¹æ— æ³•è¶…è¶Š Object.toString() æˆ–è€… Object.equals()ã€‚ (è¿™é‡Œå°±å¯¹åº”ä¸Šæ–¹æ€è€ƒä¸ºä»€ä¹ˆä¸åœ¨ Collection ä¸­å®šä¹‰é»˜è®¤çš„ isEmpty() æ–¹æ³•çš„ç­”æ¡ˆ) Part 2. æ¥å£ä¸å·¥å‚æ¨¡å¼ è¿™ä¸€éƒ¨åˆ†èŠ‚é€‰è‡ª æå®¢æ—¶é—´ | è®¾è®¡æ¨¡å¼ä¹‹ç¾ï¼šhttps://time.geekbang.org/column/article/197254 åŸä½œè€…ï¼šç‹äº‰ æ¥å£æ˜¯å®ç°å¤šé‡ç»§æ‰¿çš„é€”å¾„ï¼Œè€Œç”Ÿæˆéµå¾ªæŸä¸ªæ¥å£çš„å¯¹è±¡çš„å…¸å‹æ–¹å¼å°±æ˜¯ å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼ã€‚è¿™ä¸ç›´æ¥è°ƒç”¨æ„é€ å™¨æ„é€ å¯¹è±¡ä¸åŒï¼Œæˆ‘ä»¬åœ¨å·¥å‚å¯¹è±¡ä¸Šè°ƒç”¨çš„æ˜¯åˆ›å»ºæ–¹æ³•ï¼Œè€Œè¯¥å·¥å‚å¯¹è±¡å°†ç”Ÿæˆæ¥å£çš„æŸä¸ªå®ç°å¯¹è±¡ã€‚ ç†è®ºä¸Šï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬çš„ä»£ç å°†å®Œå…¨ä¸æ¥å£çš„å®ç°åˆ†ç¦»ï¼Œè¿™å°±ä½¿å¾—æˆ‘ä»¬å¯ä»¥é€æ˜åœ°å°†æŸä¸ªå®ç°æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå®ç°ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¾‹æ¼”ç¤ºä¸€ä¸‹ã€‚ ç®€å•å·¥å‚æ¨¡å¼å‡è®¾æˆ‘ä»¬ç°åœ¨éœ€è¦æ ¹æ®æ–‡ä»¶çš„åç¼€å (jsonã€xmlã€yaml) æ¥é€‰æ‹©ä¸åŒçš„è§£æå™¨ (JsonRuleConfigParserã€XmlRuleConfigParser)ï¼Œå°†å­˜å‚¨åœ¨æ–‡ä»¶ä¸­çš„é…ç½®è§£ææˆå†…å­˜å¯¹è±¡ RuleConfigï¼š public class RuleConfigSource { public RuleConfig load(String ruleConfigFilePath) { String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(ruleConfigFileExtension)) { parser = new JsonRuleConfigParser(); } else if (\"xml\".equalsIgnoreCase(ruleConfigFileExtension)) { parser = new XmlRuleConfigParser(); } else if (\"yaml\".equalsIgnoreCase(ruleConfigFileExtension)) { parser = new YamlRuleConfigParser(); } else { throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); } String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; } private String getFileExtension(String filePath) { //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; } } â¡ï¸ ä¸ºäº†è®©ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œæˆ‘ä»¬è¦å–„äº å°†åŠŸèƒ½ç‹¬ç«‹çš„ä»£ç å—å°è£…æˆå‡½æ•°ã€‚æŒ‰ç…§è¿™ä¸ªè®¾è®¡æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»£ç ä¸­æ¶‰åŠ parser åˆ›å»ºçš„éƒ¨åˆ†é€»è¾‘å‰¥ç¦»å‡ºæ¥ï¼ŒæŠ½è±¡æˆ createParser() å‡½æ•°ã€‚é‡æ„ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š public RuleConfig load(String ruleConfigFilePath) { String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = createParser(ruleConfigFileExtension); if (parser == null) { throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); } String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; } private String getFileExtension(String filePath) { //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; } private IRuleConfigParser createParser(String configFormat) { IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(configFormat)) { parser = new JsonRuleConfigParser(); } else if (\"xml\".equalsIgnoreCase(configFormat)) { parser = new XmlRuleConfigParser(); } else if (\"yaml\".equalsIgnoreCase(configFormat)) { parser = new YamlRuleConfigParser(); } return parser; } } â¡ï¸ ä¸ºäº†è®©ç±»çš„èŒè´£æ›´åŠ å•ä¸€ã€ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥å°† createParser() å‡½æ•°å‰¥ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„ç±»ä¸­ï¼Œè®©è¿™ä¸ªç±»åªè´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€‚è€Œè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬ç°åœ¨è¦å°†çš„ ç®€å•å·¥å‚ æ¨¡å¼ç±»ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š public class RuleConfigSource { public RuleConfig load(String ruleConfigFilePath) { String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = RuleConfigParserFactory.createParser(ruleConfigFileExtension); if (parser == null) { throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); } String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; } private String getFileExtension(String filePath) { //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; } } public class RuleConfigParserFactory { public static IRuleConfigParser createParser(String configFormat) { IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(configFormat)) { parser = new JsonRuleConfigParser(); } else if (\"xml\".equalsIgnoreCase(configFormat)) { parser = new XmlRuleConfigParser(); } else if (\"yaml\".equalsIgnoreCase(configFormat)) { parser = new YamlRuleConfigParser(); } return parser; } } (è¿™æ ·çš„ Factory ä»£ç æš‚ç§°ä¸ºç¬¬ä¸€ç§å®ç°) åœ¨ç±»çš„å‘½åä¸­ä½“ç°è®¾è®¡æ¨¡å¼æ˜¯éå¸¸å¥½çš„æ–¹å¼ (ä¾‹å¦‚è¿™é‡Œçš„ RuleConfigParserFactory)ã€‚å¤§éƒ¨åˆ†å·¥å‚ç±»éƒ½æ˜¯ä»¥ â€œFactoryâ€ è¿™ä¸ªå•è¯ç»“å°¾çš„ï¼Œä½†ä¹Ÿä¸æ˜¯å¿…é¡»çš„ï¼Œæ¯”å¦‚ Java ä¸­çš„ DateFormatã€Calenderã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œå·¥å‚ç±»ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯ create å¼€å¤´ï¼Œæ¯”å¦‚ä»£ç ä¸­çš„ createParser()ï¼Œä½†æœ‰çš„ä¹Ÿå‘½åä¸º getInstance()ã€createInstance()ã€newInstance()ï¼Œæœ‰çš„ç”šè‡³å‘½åä¸º valueOf() ï¼ˆæ¯”å¦‚ Java String ç±»çš„ valueOf() å‡½æ•°ï¼‰ ç­‰ç­‰ï¼Œè¿™ä¸ªæˆ‘ä»¬æ ¹æ®å…·ä½“çš„åœºæ™¯å’Œä¹ æƒ¯æ¥å‘½åå°±å¥½ã€‚ â¡ï¸ åœ¨ä¸Šé¢çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡è°ƒç”¨ RuleConfigParserFactory çš„ createParser() çš„æ—¶å€™ï¼Œéƒ½è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ parserã€‚å®é™…ä¸Šï¼Œå¦‚æœ parser å¯ä»¥å¤ç”¨ï¼Œä¸ºäº†èŠ‚çœå†…å­˜å’Œå¯¹è±¡åˆ›å»ºçš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥å°† parser äº‹å…ˆåˆ›å»ºå¥½ç¼“å­˜èµ·æ¥ã€‚å½“è°ƒç”¨ createParser() å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»ç¼“å­˜ä¸­å–å‡º parser å¯¹è±¡ç›´æ¥ä½¿ç”¨ï¼š public class RuleConfigParserFactory { private static final Map&lt;String, RuleConfigParser> cachedParsers = new HashMap&lt;>(); static { cachedParsers.put(\"json\", new JsonRuleConfigParser()); cachedParsers.put(\"xml\", new XmlRuleConfigParser()); cachedParsers.put(\"yaml\", new YamlRuleConfigParser()); } public static IRuleConfigParser createParser(String configFormat) { if (configFormat == null || configFormat.isEmpty()) { return null;//è¿”å›nullè¿˜æ˜¯IllegalArgumentExceptionå…¨å‡­ä½ è‡ªå·±è¯´äº†ç®— } IRuleConfigParser parser = cachedParsers.get(configFormat.toLowerCase()); return parser; } } (è¿™æ ·çš„ Factory ä»£ç æš‚ç§°ä¸ºç¬¬äºŒç§å®ç°) è¿™æœ‰ç‚¹ç±»ä¼¼äºå•ä¾‹æ¨¡å¼å’Œç®€å•å·¥å‚æ¨¡å¼çš„ç»“åˆã€‚ ä½†ä¸Šé¢ä¸¤ç§å®ç°çš„ç®€å•å·¥å‚ï¼Œéƒ½æœ‰è¿èƒŒ å¼€é—­åŸåˆ™ (å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­)ã€‚æƒ³è±¡ä¸€ä¸‹ç°åœ¨æˆ‘ä»¬å¦‚æœè¦æ–°å¢ä¸€ç§ parserï¼Œé‚£ä¹ˆåŠ¿å¿…ä¼šä¿®æ”¹ RuleCOnfigParserFactory é‡Œé¢çš„ä»£ç ï¼ä½†å¥½åœ¨å°±æ—¥å¸¸çš„ä½¿ç”¨æ¥è¯´ï¼Œå¦‚æœä¸æ˜¯éœ€è¦é¢‘ç¹åœ°æ·»åŠ æ–°çš„ parserï¼Œåªæ˜¯å¶å°”ä¿®æ”¹ä¸€ä¸‹ RuleConfigParserFactory ä»£ç ï¼Œç¨å¾®ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä¹Ÿæ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ã€‚ å·¥å‚æ–¹æ³•å›çœ‹ğŸ‘†æˆ‘ä»¬ä¸Šæ–¹çš„ç¬¬ä¸€ç§å®ç°ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä»¬çš„ if-else ä»£ç ä¼šéšç€æ–‡ä»¶ç§ç±»çš„å¢åŠ åˆ—å¾—è¶Šæ¥è¶Šé•¿ï¼Œæœ€ç»ˆä¸ä»…å¯è¯»æ€§å¾ˆå·®ï¼Œä¹Ÿå˜å¾—æ›´åŠ éš¾ä»¥ç»´æŠ¤ (å¤æ‚åº¦å¢åŠ )ï¼Œè€Œä¸”ä¹Ÿä¸æ€ä¹ˆä¼˜é›…ã€‚ å¦‚æœæˆ‘ä»¬éå¾—å»æ‰ if-else åˆ†æ”¯é€»è¾‘çš„è¯ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ¯”è¾ƒç»å…¸å¤„ç†æ–¹æ³•å°±æ˜¯åˆ©ç”¨å¤šæ€ã€‚æŒ‰ç…§å¤šæ€çš„å®ç°æ€è·¯ï¼Œå¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œé‡æ„ã€‚é‡æ„ä¹‹åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š public interface IRuleConfigParserFactory { IRuleConfigParser createParser(); } public class JsonRuleConfigParserFactory implements IRuleConfigParserFactory { @Override public IRuleConfigParser createParser() { return new JsonRuleConfigParser(); } } public class XmlRuleConfigParserFactory implements IRuleConfigParserFactory { @Override public IRuleConfigParser createParser() { return new XmlRuleConfigParser(); } } public class YamlRuleConfigParserFactory implements IRuleConfigParserFactory { @Override public IRuleConfigParser createParser() { return new YamlRuleConfigParser(); } } å®é™…ä¸Šï¼Œè¿™å°±æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼çš„å…¸å‹ä»£ç å®ç°ã€‚è¿™æ ·å½“æˆ‘ä»¬æ–°å¢ä¸€ç§ parser çš„æ—¶å€™ï¼Œåªéœ€è¦æ–°å¢ä¸€ä¸ªå®ç°äº† IRuleConfigParserFactory æ¥å£çš„ Factory ç±»å³å¯ã€‚æ‰€ä»¥ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ¯”èµ·ç®€å•å·¥å‚æ¨¡å¼æ›´åŠ ç¬¦åˆå¼€é—­åŸåˆ™ã€‚ ä»ä¸Šé¢çš„å·¥å‚æ–¹æ³•çš„å®ç°æ¥çœ‹ï¼Œä¸€åˆ‡éƒ½å¾ˆå®Œç¾ï¼Œä½†æ˜¯å®é™…ä¸Šå­˜åœ¨æŒºå¤§çš„é—®é¢˜ã€‚é—®é¢˜å­˜åœ¨äºè¿™äº›å·¥å‚ç±»çš„ä½¿ç”¨ä¸Šã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•ç”¨è¿™äº›å·¥å‚ç±»æ¥å®ç° RuleConfigSource çš„ load() å‡½æ•°ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š public class RuleConfigSource { public RuleConfig load(String ruleConfigFilePath) { String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParserFactory parserFactory = null; if (\"json\".equalsIgnoreCase(ruleConfigFileExtension)) { parserFactory = new JsonRuleConfigParserFactory(); } else if (\"xml\".equalsIgnoreCase(ruleConfigFileExtension)) { parserFactory = new XmlRuleConfigParserFactory(); } else if (\"yaml\".equalsIgnoreCase(ruleConfigFileExtension)) { parserFactory = new YamlRuleConfigParserFactory(); } else { throw new InvalidRuleConfigException(\"Rule config file format is not supported: \" + ruleConfigFilePath); } IRuleConfigParser parser = parserFactory.createParser(); String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; } private String getFileExtension(String filePath) { //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; } } ä»ä¸Šé¢çš„ä»£ç å®ç°æ¥çœ‹ï¼Œå·¥å‚ç±»å¯¹è±¡çš„åˆ›å»ºé€»è¾‘åˆè€¦åˆè¿›äº† load() å‡½æ•°ä¸­ï¼Œè·Ÿæˆ‘ä»¬æœ€åˆçš„ä»£ç ç‰ˆæœ¬éå¸¸ç›¸ä¼¼ï¼Œå¼•å…¥å·¥å‚æ–¹æ³•éä½†æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œåå€’è®©è®¾è®¡å˜å¾—æ›´åŠ å¤æ‚äº†ã€‚é‚£æ€ä¹ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥ä¸ºå·¥å‚ç±»å†åˆ›å»ºä¸€ä¸ªç®€å•å·¥å‚ï¼Œä¹Ÿå°±æ˜¯ å·¥å‚çš„å·¥å‚ï¼Œç”¨æ¥åˆ›å»ºå·¥å‚ç±»å¯¹è±¡ã€‚è¿™æ®µè¯å¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Œæˆ‘æŠŠä»£ç å®ç°å‡ºæ¥äº†ï¼Œä½ ä¸€çœ‹å°±èƒ½æ˜ç™½äº†ã€‚å…¶ä¸­ï¼ŒRuleConfigParserFactoryMap ç±»æ˜¯åˆ›å»ºå·¥å‚å¯¹è±¡çš„å·¥å‚ç±»ï¼ŒgetParserFactory() è¿”å›çš„æ˜¯ç¼“å­˜å¥½çš„å•ä¾‹å·¥å‚å¯¹è±¡ã€‚ public class RuleConfigSource { public RuleConfig load(String ruleConfigFilePath) { String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParserFactory parserFactory = RuleConfigParserFactoryMap.getParserFactory(ruleConfigFileExtension); if (parserFactory == null) { throw new InvalidRuleConfigException(\"Rule config file format is not supported: \" + ruleConfigFilePath); } IRuleConfigParser parser = parserFactory.createParser(); String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; } private String getFileExtension(String filePath) { //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; } } //å› ä¸ºå·¥å‚ç±»åªåŒ…å«æ–¹æ³•ï¼Œä¸åŒ…å«æˆå‘˜å˜é‡ï¼Œå®Œå…¨å¯ä»¥å¤ç”¨ï¼Œ //ä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å·¥å‚ç±»å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œç®€å•å·¥å‚æ¨¡å¼çš„ç¬¬äºŒç§å®ç°æ€è·¯æ›´åŠ åˆé€‚ã€‚ public class RuleConfigParserFactoryMap { //å·¥å‚çš„å·¥å‚ private static final Map&lt;String, IRuleConfigParserFactory> cachedFactories = new HashMap&lt;>(); static { cachedFactories.put(\"json\", new JsonRuleConfigParserFactory()); cachedFactories.put(\"xml\", new XmlRuleConfigParserFactory()); cachedFactories.put(\"yaml\", new YamlRuleConfigParserFactory()); } public static IRuleConfigParserFactory getParserFactory(String type) { if (type == null || type.isEmpty()) { return null; } IRuleConfigParserFactory parserFactory = cachedFactories.get(type.toLowerCase()); return parserFactory; } } å½“æˆ‘ä»¬éœ€è¦æ·»åŠ æ–°çš„è§„åˆ™é…ç½®è§£æå™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºæ–°çš„ parser ç±»å’Œ parser factory ç±»ï¼Œå¹¶ä¸”åœ¨ RuleConfigParserFactoryMap ç±»ä¸­ï¼Œå°†æ–°çš„ parser factory å¯¹è±¡æ·»åŠ åˆ° cachedFactories ä¸­å³å¯ã€‚ä»£ç çš„æ”¹åŠ¨éå¸¸å°‘ï¼ŒåŸºæœ¬ä¸Šç¬¦åˆå¼€é—­åŸåˆ™ã€‚ å®é™…ä¸Šï¼Œå¯¹äºè§„åˆ™é…ç½®æ–‡ä»¶è§£æè¿™ä¸ªåº”ç”¨åœºæ™¯æ¥è¯´ï¼Œå·¥å‚æ¨¡å¼éœ€è¦é¢å¤–åˆ›å»ºè¯¸å¤š Factory ç±»ï¼Œä¹Ÿä¼šå¢åŠ ä»£ç çš„å¤æ‚æ€§ï¼Œè€Œä¸”ï¼Œæ¯ä¸ª Factory ç±»åªæ˜¯åšç®€å•çš„ new æ“ä½œï¼ŒåŠŸèƒ½éå¸¸å•è–„ ï¼ˆåªæœ‰ä¸€è¡Œä»£ç ï¼‰ï¼Œä¹Ÿæ²¡å¿…è¦è®¾è®¡æˆç‹¬ç«‹çš„ç±»ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªåº”ç”¨åœºæ™¯ä¸‹ï¼Œç®€å•å·¥å‚æ¨¡å¼ç®€å•å¥½ç”¨ï¼Œæ¯”å·¥å‚æ–¹æ³•æ¨¡å¼æ›´åŠ åˆé€‚ã€‚ ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼å‘¢ï¼Ÿæˆ‘ä»¬å‰é¢æåˆ°ï¼Œä¹‹æ‰€ä»¥å°†æŸä¸ªä»£ç å—å‰¥ç¦»å‡ºæ¥ï¼Œç‹¬ç«‹ä¸ºå‡½æ•°æˆ–è€…ç±»ï¼ŒåŸå› æ˜¯è¿™ä¸ªä»£ç å—çš„é€»è¾‘è¿‡äºå¤æ‚ï¼Œå‰¥ç¦»ä¹‹åèƒ½è®©ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæ›´åŠ å¯è¯»ã€å¯ç»´æŠ¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœä»£ç å—æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œå°±å‡ è¡Œä»£ç è€Œå·²ï¼Œæˆ‘ä»¬å®Œå…¨æ²¡å¿…è¦å°†å®ƒæ‹†åˆ†æˆå•ç‹¬çš„å‡½æ•°æˆ–è€…ç±»ã€‚ æ‰€ä»¥è®©æˆ‘ä»¬æœ‰è¶³å¤Ÿç†ç”±ä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼çš„æƒ…å†µå¤§æ¦‚æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š å½“å¯¹è±¡çš„åˆ›å»ºé€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä¸åªæ˜¯ç®€å•çš„ new ä¸€ä¸‹å°±å¯ä»¥ï¼Œè€Œæ˜¯è¦ç»„åˆå…¶ä»–ç±»å¯¹è±¡ï¼Œåšå„ç§åˆå§‹åŒ–æ“ä½œçš„æ—¶å€™ï¼› é¿å…çƒ¦äººçš„ if-else åˆ†æ”¯é€»è¾‘æ—¶ï¼› æŠ½è±¡å·¥å‚(Abstract Factory)åœ¨ç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•ä¸­ï¼Œç±»åªæœ‰ä¸€ç§åˆ†ç±»æ–¹å¼ã€‚æ¯”å¦‚ï¼Œåœ¨è§„åˆ™é…ç½®è§£æé‚£ä¸ªä¾‹å­ä¸­ï¼Œè§£æå™¨ç±»åªä¼šæ ¹æ®é…ç½®æ–‡ä»¶æ ¼å¼ (Jsonã€Xmlã€Yamlâ€¦â€¦) æ¥åˆ†ç±»ã€‚ä½†æ˜¯ï¼Œå¦‚æœç±»æœ‰ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŒ‰ç…§é…ç½®æ–‡ä»¶æ ¼å¼æ¥åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§è§£æçš„å¯¹è±¡ (Rule è§„åˆ™é…ç½®è¿˜æ˜¯ System ç³»ç»Ÿé…ç½®) æ¥åˆ†ç±»ï¼Œé‚£å°±ä¼šå¯¹åº”ä¸‹é¢è¿™ 6 ä¸ª parser ç±»ã€‚ é’ˆå¯¹è§„åˆ™é…ç½®çš„è§£æå™¨ï¼šåŸºäºæ¥å£IRuleConfigParser JsonRuleConfigParser XmlRuleConfigParser YamlRuleConfigParser é’ˆå¯¹ç³»ç»Ÿé…ç½®çš„è§£æå™¨ï¼šåŸºäºæ¥å£ISystemConfigParser JsonSystemConfigParser XmlSystemConfigParser YamlSystemConfigParser é’ˆå¯¹è¿™ç§ç‰¹æ®Šçš„åœºæ™¯ï¼Œå¦‚æœè¿˜æ˜¯ç»§ç»­ç”¨å·¥å‚æ–¹æ³•æ¥å®ç°çš„è¯ï¼Œæˆ‘ä»¬è¦é’ˆå¯¹æ¯ä¸ª parser éƒ½ç¼–å†™ä¸€ä¸ªå·¥å‚ç±»ï¼Œä¹Ÿå°±æ˜¯è¦ç¼–å†™ 6 ä¸ªå·¥å‚ç±»ã€‚å¦‚æœæˆ‘ä»¬æœªæ¥è¿˜éœ€è¦å¢åŠ é’ˆå¯¹ä¸šåŠ¡é…ç½®çš„è§£æå™¨ (æ¯”å¦‚ IBizConfigParser)ï¼Œé‚£å°±è¦å†å¯¹åº”åœ°å¢åŠ  4 ä¸ªå·¥å‚ç±»ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼Œè¿‡å¤šçš„ç±»ä¹Ÿä¼šè®©ç³»ç»Ÿéš¾ç»´æŠ¤ã€‚è¿™ä¸ªé—®é¢˜è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ æŠ½è±¡å·¥å‚å°±æ˜¯é’ˆå¯¹è¿™ç§éå¸¸ç‰¹æ®Šçš„åœºæ™¯è€Œè¯ç”Ÿçš„ã€‚æˆ‘ä»¬å¯ä»¥è®©ä¸€ä¸ªå·¥å‚è´Ÿè´£åˆ›å»ºå¤šä¸ªä¸åŒç±»å‹çš„å¯¹è±¡ (IRuleConfigParserã€ISystemConfigParser ç­‰)ï¼Œè€Œä¸æ˜¯åªåˆ›å»ºä¸€ç§ parser å¯¹è±¡ã€‚è¿™æ ·å°±å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘å·¥å‚ç±»çš„ä¸ªæ•°ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š public interface IConfigParserFactory { IRuleConfigParser createRuleParser(); ISystemConfigParser createSystemParser(); //æ­¤å¤„å¯ä»¥æ‰©å±•æ–°çš„parserç±»å‹ï¼Œæ¯”å¦‚IBizConfigParser } public class JsonConfigParserFactory implements IConfigParserFactory { @Override public IRuleConfigParser createRuleParser() { return new JsonRuleConfigParser(); } @Override public ISystemConfigParser createSystemParser() { return new JsonSystemConfigParser(); } } public class XmlConfigParserFactory implements IConfigParserFactory { @Override public IRuleConfigParser createRuleParser() { return new XmlRuleConfigParser(); } @Override public ISystemConfigParser createSystemParser() { return new XmlSystemConfigParser(); } } // çœç•¥YamlConfigParserFactoryä»£ç  é‡ç‚¹å›é¡¾ æ¥å£çš„æ¦‚å¿µ / æ¥å£çš„å®šä¹‰ / æ¥å£çš„å®ç° / æ¥å£çš„å±æ€§ï¼› æ¥å£çš„é™æ€å’Œç§æœ‰æ–¹æ³• / å¦‚ä½•è§£å†³é»˜è®¤æ–¹æ³•çš„å†²çªï¼› æ¥å£å’Œå·¥å‚æ¨¡å¼ï¼› ç»ƒä¹ ç»ƒä¹  1ï¼šå®ç°ä¸€ä¸ªå›¾å½¢ç»˜åˆ¶å·¥å…· åˆ›å»ºä¸€ä¸ªå¯ä»¥ç»˜åˆ¶ä¸åŒå½¢çŠ¶çš„ç»˜å›¾å·¥å…·ï¼Œå¯ä»¥ç»˜åˆ¶åœ†å½¢ã€çŸ©å½¢ã€ä¸‰è§’å½¢ï¼Œæ¯ä¸ªå›¾å½¢éƒ½ä¼šæœ‰ä¸€ä¸ª draw() æ–¹æ³•ç”¨äºç»˜å›¾ï¼Œè€Œç»˜å›¾å·¥å…·ä¹Ÿæœ‰ä¸€ä¸ª draw() æ–¹æ³•ï¼Œæ ¹æ®ä¼ å…¥ç±»å‹çš„ä¸åŒè°ƒç”¨ä¸åŒçš„æ–¹æ³•ã€‚ åˆ›å»º IShape æ¥å£ï¼š public interface IShape { void draw(); } ç»§æ‰¿ IShape æ¥å£åˆ›å»ºåœ†å½¢ã€çŸ©å½¢ã€ä¸‰è§’å½¢ï¼š // åœ†å½¢ public class Circle implements IShape { @Override public void draw() { System.out.println(\"Draw Circle...\"); } } // çŸ©å½¢ public class Rectangle implements IShape { @Override public void draw() { System.out.println(\"Draw Rectangle...\"); } } // ä¸‰è§’å½¢ public class Triangle implements IShape { @Override public void draw() { System.out.println(\"Draw Triangle...\"); } } å›¾å½¢ç»˜åˆ¶å·¥å…·ï¼š public class Paint { public static void draw(IShape shape) { shape.draw(); } } æµ‹è¯•ç±»ï¼š public class Tester { public static void main(String[] args) { Paint.draw(new Circle()); Paint.draw(new Rectangle()); Paint.draw(new Triangle()); } } ç¨‹åºè¾“å‡ºï¼š Draw Circle... Draw Rectangle... Draw Triangle... (psï¼šè¯´å®è¯è¿™ä¸€ç¯‡æ–‡ç« è™½ç„¶å†™äº†ä¸¤å¤©.. ä½†æ„Ÿè§‰æ€»ä½“è´¨é‡æŒºå·®çš„.. åŸå› æœ‰è®¸å¤šï¼Œä¸€æ¥æ˜¯å‘ç°å­˜åœ¨å¾ˆå¤šçŸ¥è¯†ç‚¹äº¤å‰çš„æƒ…å†µâ€”â€”ä¹Ÿå°±æ˜¯è¯´çŸ¥è¯†æ˜¯äº’ç›¸è”ç³»çš„ï¼Œæƒ³è¦è¯´æ¸…æ¥šä¸å®¹æ˜“â€”â€”è€Œä¸”å¸¸å¸¸ç»„ç»‡èµ·æ¥éå¸¸åºå¤§ã€‚äºŒæ¥æ˜¯å‘ç°å…‰è¯´æ¸…æ¥šä¸€ä¸ªçŸ¥è¯†ç‚¹ä¹ŸæŒºä¸å®¹æ˜“çš„..æ‰€ä»¥åœ¨è€ƒè™‘æ–°çš„ç»„ç»‡å½¢å¼.. æœ€è¿‘æœ‰æ¥è§¦åˆ°ä¸€äº›åŒå‘é“¾æ¥çš„å·¥å…·.. æ¢ç´¢æ¢ç´¢..) å‚è€ƒèµ„æ–™ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html æå®¢æ—¶é—´ | è®¾è®¡æ¨¡å¼ä¹‹ç¾ - https://time.geekbang.org/column/article/177110 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼ (å¦å¤–è¿™äº›åŸºç¡€çš„çŸ¥è¯†ä½“ç³»æˆ‘æ‰“ç®—è‡ªå·±å·å·æ…¢æ…¢åœ¨åšå®¢æ­å»ºå•¦.. ç­‰æœ‰ç¡®å®çš„æˆæœä¹‹åå†åˆ†äº«å§.. å…¬ä¼—å·è¿˜æ˜¯å¸Œæœ›åˆ†äº«æ›´å¤šèƒ½å¯¹å°ä¼™ä¼´ä»¬æœ‰ç”¨çš„å®é™…çš„ä¸œè¥¿.. Respect~)","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 6ï¼šé¢å‘å¯¹è±¡è¿›é˜¶â€”â€”å¤šæ€","slug":"ã€ŒMoreThanJavaã€Day-6ï¼šé¢å‘å¯¹è±¡è¿›é˜¶â€”â€”å¤šæ€","date":"2020-08-10T12:30:00.000Z","updated":"2020-08-16T07:50:03.125Z","comments":true,"path":"2020/08/10/morethanjava-day-6-mian-xiang-dui-xiang-jin-jie-duo-tai/","link":"","permalink":"http://www.wmyskxz.com/2020/08/10/morethanjava-day-6-mian-xiang-dui-xiang-jin-jie-duo-tai/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. å¤šæ€æ¦‚è¿°å¤šæ€ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ åŒä¸€ä¸ªè¡Œä¸º å…·æœ‰ å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼ æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ä¸­ï¼Œå¤šæ€çš„èƒ½åŠ›æ˜¯é€šè¿‡æ•°æ®æŠ½è±¡å’Œç»§æ‰¿ä¹‹åå¾—æ¥çš„ã€‚ æ¯”å¦‚ï¼Œæœ‰ä¸€æ¯æ°´ï¼Œæˆ‘ä¸çŸ¥é“å®ƒæ˜¯æ¸©çš„ã€å†°çš„è¿˜æ˜¯çƒ«çš„ï¼Œä½†æ˜¯æˆ‘ä¸€æ‘¸æˆ‘å°±çŸ¥é“äº†ï¼Œæˆ‘æ‘¸æ°´æ¯çš„è¿™ä¸ªåŠ¨ä½œ (æ–¹æ³•)ï¼Œå¯¹äºä¸åŒæ¸©åº¦çš„æ°´ (è¿è¡Œæ—¶ä¸åŒçš„å¯¹è±¡ç±»å‹)ï¼Œå°±ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œè¿™å°±æ˜¯å¤šæ€ã€‚ ä»£ç æ¼”ç¤ºï¼š // åŸºç±»å®šä¹‰ public class Water { public void showTem() { } } // å†°æ°´ public class IceWater extends Water { @Override public void showTem() { System.out.println(\"æˆ‘çš„æ¸©åº¦æ˜¯: 0åº¦\"); } } // æ¸©æ°´ public class WarmWater extends Water { @Override public void showTem() { System.out.println(\"æˆ‘çš„æ¸©åº¦æ˜¯: 40åº¦\"); } } // å¼€æ°´ public class HotWater extends Water { @Override public void showTem() { System.out.println(\"æˆ‘çš„æ¸©åº¦æ˜¯: 100åº¦\"); } } // æµ‹è¯•ç±» public class TestWater { public static void main(String[] args) { Water w = new WarmWater(); w.showTem(); w = new IceWater(); w.showTem(); w = new HotWater(); w.showTem(); } } ç»“æœè¾“å‡ºï¼š æˆ‘çš„æ¸©åº¦æ˜¯: 40åº¦ æˆ‘çš„æ¸©åº¦æ˜¯: 0åº¦ æˆ‘çš„æ¸©åº¦æ˜¯: 100åº¦ è¿™é‡Œçš„æ–¹æ³• showTem() å°±ç›¸å½“äºä½ å»æ‘¸æ°´æ¯ã€‚æˆ‘ä»¬å®šä¹‰çš„ Water ç±»å‹çš„å¼•ç”¨å˜é‡ w å°±ç›¸å½“äºæ°´æ¯ï¼Œä½ åœ¨æ°´æ¯é‡Œæ”¾äº†ä»€ä¹ˆæ¸©åº¦çš„æ°´ï¼Œé‚£ä¹ˆæˆ‘æ‘¸å‡ºæ¥çš„æ„Ÿè§‰å°±æ˜¯ä»€ä¹ˆã€‚å°±åƒä»£ç ä¸­çš„é‚£æ ·ï¼Œæ”¾ç½®ä¸åŒæ¸©åº¦çš„æ°´ï¼Œå¾—åˆ°çš„æ¸©åº¦ä¹Ÿå°±ä¸åŒï¼Œä½†æ°´æ¯æ˜¯åŒä¸€ä¸ªã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™æœ‰ä¸€æ¡å…³äºå¤šæ€çš„åŸåˆ™ï¼Œå®ƒçš„æè¿°å¤§æ¦‚æ˜¯è¿™æ ·å­çš„ï¼šå­ç±»å¯¹è±¡ (object of subtype/derived class) èƒ½å¤Ÿ æ›¿æ¢ ç¨‹åº (program) ä¸­ çˆ¶ç±»å¯¹è±¡ (object of base/parent class) å‡ºç°çš„ ä»»ä½•åœ°æ–¹ï¼Œå¹¶ä¸” ä¿è¯åŸæ¥ç¨‹åºçš„é€»è¾‘è¡Œä¸º (behavior) ä¸å˜åŠæ­£ç¡®æ€§ä¸è¢«ç ´åã€‚ è¿™ä¹ˆè¯´å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œç®€å•è¯´å°±æ˜¯ å­ç±»å’Œçˆ¶ç±»çš„è¡Œä¸ºåº”è¯¥ä¿æŒä¸€è‡´ã€‚ å“ªäº›ä»£ç æ˜æ˜¾è¿èƒŒäº† LSPï¼Ÿå®é™…ä¸Šï¼Œé‡Œå¼æ›¿æ¢åŸåˆ™è¿˜æœ‰å¦å¤–ä¸€ä¸ªæ›´åŠ èƒ½è½åœ°ã€æ›´æœ‰æŒ‡å¯¼æ„ä¹‰çš„æè¿°ï¼Œé‚£å°±æ˜¯ â€œDesign By Contractâ€ï¼Œä¸­æ–‡ç¿»è¯‘å°±æ˜¯ â€œæŒ‰ç…§åè®®æ¥è®¾è®¡â€ã€‚å®šä¹‰ä¸­çˆ¶ç±»å’Œå­ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æˆæ¥å£å’Œå®ç°ç±»ä¹‹é—´çš„å…³ç³»ã€‚ ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™å¥è¯ï¼Œæˆ‘ä¸¾å‡ ä¸ªè¿åé‡Œå¼æ›¿æ¢åŸåˆ™çš„ä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ã€‚ 1 - å­ç±»è¿èƒŒçˆ¶ç±»å£°æ˜è¦å®ç°çš„åŠŸèƒ½çˆ¶ç±»ä¸­æä¾›çš„ sortOrdersByAmount() è®¢å•æ’åºå‡½æ•°ï¼Œæ˜¯æŒ‰ç…§é‡‘é¢ä»å°åˆ°å¤§æ¥ç»™è®¢å•æ’åºçš„ï¼Œè€Œå­ç±»é‡å†™è¿™ä¸ª sortOrdersByAmount() è®¢å•æ’åºå‡½æ•°ä¹‹åï¼Œæ˜¯æŒ‰ç…§åˆ›å»ºæ—¥æœŸæ¥ç»™è®¢å•æ’åºçš„ã€‚é‚£å­ç±»çš„è®¾è®¡å°±è¿èƒŒé‡Œå¼æ›¿æ¢åŸåˆ™ã€‚ 2 - å­ç±»è¿èƒŒçˆ¶ç±»å¯¹è¾“å…¥ã€è¾“å‡ºã€å¼‚å¸¸çš„çº¦å®šåœ¨çˆ¶ç±»ä¸­ï¼ŒæŸä¸ªå‡½æ•°çº¦å®šï¼šè¿è¡Œå‡ºé”™çš„æ—¶å€™è¿”å› nullï¼›è·å–æ•°æ®ä¸ºç©ºçš„æ—¶å€™è¿”å›ç©ºé›†åˆï¼ˆempty collectionï¼‰ã€‚è€Œå­ç±»é‡è½½å‡½æ•°ä¹‹åï¼Œå®ç°å˜äº†ï¼Œè¿è¡Œå‡ºé”™è¿”å›å¼‚å¸¸ï¼ˆexceptionï¼‰ï¼Œè·å–ä¸åˆ°æ•°æ®è¿”å› nullã€‚é‚£å­ç±»çš„è®¾è®¡å°±è¿èƒŒé‡Œå¼æ›¿æ¢åŸåˆ™ã€‚ 3 - å­ç±»è¿èƒŒçˆ¶ç±»æ³¨é‡Šä¸­æ‰€ç½—åˆ—çš„ä»»ä½•ç‰¹æ®Šè¯´æ˜çˆ¶ç±»ä¸­å®šä¹‰çš„ withdraw() æç°å‡½æ•°çš„æ³¨é‡Šæ˜¯è¿™ä¹ˆå†™çš„ï¼šâ€œç”¨æˆ·çš„æç°é‡‘é¢ä¸å¾—è¶…è¿‡è´¦æˆ·ä½™é¢â€¦â€¦â€ï¼Œè€Œå­ç±»é‡å†™ withdraw() å‡½æ•°ä¹‹åï¼Œé’ˆå¯¹ VIP è´¦å·å®ç°äº†é€æ”¯æç°çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯æç°é‡‘é¢å¯ä»¥å¤§äºè´¦æˆ·ä½™é¢ï¼Œé‚£è¿™ä¸ªå­ç±»çš„è®¾è®¡ä¹Ÿæ˜¯ä¸ç¬¦åˆé‡Œå¼æ›¿æ¢åŸåˆ™çš„ã€‚ å½“ç„¶ï¼Œå½“å‰çš„å¤§ç¯å¢ƒä¸‹ï¼Œæ³¨é‡Šçš„å¯ä¿¡åº¦è¿˜æ˜¯å¾—æ–Ÿé…Œæ–Ÿé…Œ.. (ä¸å¯å°½ä¿¡..) Part 2. å‘ä¸Šè½¬å‹ &amp;&amp; å‘ä¸‹è½¬å‹å†è°ˆå‘ä¸Šè½¬å‹åœ¨ ä¸Šä¸€ç¯‡æ–‡ç«  é‡Œé¢æˆ‘ä»¬å·²ç»è°ˆåˆ° â€”â€” å¯¹è±¡æ—¢å¯ä»¥ä½œä¸ºå®ƒæœ¬èº«çš„ç±»å‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®ƒåŸºç±»çš„ç±»å‹ä½¿ç”¨ã€‚è€Œè¿™ç§æŠŠå¯¹æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è§†ä¸ºå…¶åŸºç±»å‹çš„å¼•ç”¨çš„åšæ³•è¢«ç§°ä¸º å‘ä¸Šè½¬å‹ (å› ä¸ºåœ¨ç»§æ‰¿æ ‘çš„ç”»æ³•ä¸­ï¼ŒåŸºç±»ä½äºå­ç±»ä¸Šæ–¹)ã€‚ è¯­å¥ Water w = new WarmWater(); å°±æ˜¯å‘ä¸Šè½¬å‹çš„å…¸å‹ä»£ç ï¼Œè¿™ä¼šå°†å­ç±»ç±»å‹ WarmWater è½¬æˆçˆ¶ç±»çš„ Water ç±»å‹ã€‚ å­˜åœ¨é—®é¢˜â¶ å‘ä¸Šè½¬å‹æ—¶ï¼Œå­ç±»å•ç‹¬å®šä¹‰çš„æ–¹æ³•ä¼šä¸¢å¤±ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¦‚æœåœ¨æ¸©æ°´ä¸­å®šä¹‰ä¸€ä¸ªå–æ°´çš„æ–¹æ³• drink()ï¼Œé‚£ä¹ˆå½“ w å¼•ç”¨æŒ‡å‘ WarmWater ç±»å®ä¾‹çš„æ—¶å€™æ˜¯è®¿é—®ä¸åˆ° drink() æ–¹æ³•çš„ï¼Œw.drink() ä¼šæŠ¥é”™ã€‚ â· å­ç±»å¼•ç”¨ä¸èƒ½æŒ‡å‘çˆ¶ç±»å¯¹è±¡ã€‚ HotWater hotWater = (HotWater)new Water(); è¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚ å‘ä¸Šè½¬å‹çš„å¥½å¤„ å‡å°‘é‡å¤ä»£ç ï¼Œæé«˜ä»£ç å¯è¯»æ€§ï¼› æé«˜ç³»ç»Ÿæ‰©å±•æ€§ï¼› ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æœ‰è®¸å¤šä¸åŒæ¸©åº¦çš„æ°´ï¼Œå¦‚æœä¸ç”¨å‘ä¸Šè½¬å‹ï¼Œæ‘¸æ°´æ¯è¿™ä¸ªåŠ¨ä½œæˆ‘éœ€è¦è¿™æ ·å†™ï¼š // Water ç±»ä¸­æ–¹æ³•å®šä¹‰ public void showTem(IceWater water) { water.showTem(); } public void showTem(WarmWater water) { water.showTem(); } public void showTem(HotWater water) { water.showTem(); } // æµ‹è¯•ç±»ä¸­è°ƒç”¨ water.showTem(new IceWater()); water.showTem(new WarmWater()); water.showTem(new HotWater()); æ¯ä¸€ç§ä¸åŒæ¸©åº¦çš„æ°´æˆ‘éƒ½éœ€è¦åœ¨ Water ä¸­å•ç‹¬å®šä¹‰ä¸€ä¸ªæ–¹æ³• (å› ä¸ºéƒ½æ˜¯ä¸åŒçš„ç±»å‹)ï¼Œæ•°é‡ä¸€å¤šï¼Œå°±ä¼šå˜å¾—éå¸¸å†—ä½™å’Œå¤æ‚ã€‚ ä½†ä½¿ç”¨å‘ä¸Šè½¬å‹ï¼Œä¸€åˆ‡å°±è½»æ¾å¤šäº†ï¼š // Water ç±»ä¸­æ–¹æ³•å®šä¹‰ public void showTem(Water water) { water.showTem(); } // æµ‹è¯•ç±»ä¸­è°ƒç”¨ water.showTem(new IceWater()); water.showTem(new WarmWater()); water.showTem(new HotWater()); å°±ç®—æ–°æ·»åŠ ä¸€ç§æ¸©åº¦çš„æ°´ï¼Œæˆ‘ä¹Ÿåªéœ€è¦ç»§æ‰¿ Water å®ç° showTem() æ–¹æ³•å°±è¡Œäº†ï¼ŒåŸæœ‰çš„ä»£ç å‡ ä¹ä¸éœ€è¦ä¿®æ”¹ã€‚è¿™ä¹Ÿä½“ç°äº†è½¯ä»¶è®¾è®¡åŸåˆ™ä¸­é‡è¦çš„ å¼€é—­åŸåˆ™ â€”â€” å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚ å‘ä¸‹è½¬å‹ä¸å‘ä¸Šè½¬å‹ç›¸å¯¹åº”çš„å°±æ˜¯å‘ä¸‹è½¬å‹äº† â€”â€” ä¹Ÿå°±æ˜¯æŠŠçˆ¶ç±»å¯¹è±¡è½¬ä¸ºå­ç±»å¯¹è±¡ã€‚(è¿™æœ‰å¤§å‘â€¦) è¿˜æ˜¯ç”¨ä¸Šé¢çš„æ‘¸æ°´æ¯çš„ä¾‹å­æ¥è¯´æ˜ï¼Œæˆ‘ä»¬å…ˆåœ¨æ¸©æ°´ WarmWater ä¸­åŠ å…¥ä¸€ä¸ªå–æ°´çš„æ–¹æ³•ï¼š public class WarmWater extends Water { @Override public void showTem() { System.out.println(\"æˆ‘çš„æ¸©åº¦æ˜¯: 40åº¦\"); } // æ–°å¢åŠ çš„å–æ°´çš„æ–¹æ³• public void drink() { System.out.println(\"å–æ°´...\"); } } ç¤ºä¾‹ä»£ç ï¼š class Tester { public static void main(String[] args) { Water water = new WarmWater();// å­ç±»å®ä¾‹èµ‹ç»™çˆ¶ç±»å¼•ç”¨ - å‘ä¸Šè½¬å‹ WarmWater warmWater = (WarmWater) water;// Waterå‘ä¸‹è½¬å‹ä¸ºWarmWater warmWater.drink(); IceWater iceWater = (IceWater) water;// Waterå‘ä¸‹è½¬å‹ä¸ºIceWater iceWater.drink();// IDE æç¤ºæ— æ³•æ‰¾åˆ° drink() æ–¹æ³• } } ä¸ºä»€ä¹ˆç¬¬ä¸€æ®µä»£ç ä¸æŠ¥é”™å‘¢ï¼Ÿå› ä¸º water æœ¬èº«å°±æ˜¯ WarmWater ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒç†æ‰€å½“ç„¶çš„å¯ä»¥å‘ä¸‹è½¬å‹ä¸º WarmWater ç±»å‹äº†ï¼Œä¹Ÿç†æ‰€å½“ç„¶çš„ä¸èƒ½è½¬å‹ä¸º IceWaterï¼Œè¿™å°±å¥½åƒä½ è§è¿‡ ä¸€æ¡ç‹—çªç„¶å˜æˆä¸€åªçŒ« çš„æƒ…å†µå—ï¼Ÿ å†æ¥çœ‹ä¸‹åˆ—ä»£ç ï¼š class Tester { public static void main(String[] args) { Water water = new Water(); WarmWater warmWater = (WarmWater) water; // ä¸‹åˆ—ä»£ç æŠ¥é”™ï¼šjava.lang.ClassCastException: class Water cannot be cast to class WarmWater warmWater.drink(); } } ä¸Šé¢ä¾‹å­æƒ³è¦è¯´æ˜çš„æ˜¯ï¼ŒWater ç±»å‹çš„å¯¹è±¡ (çˆ¶ç±»å‹) ä¸èƒ½å‘ä¸‹è½¬å‹ä¸ºä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚è¿™å°±å¥½åƒä½ å»è€ƒå¤ï¼Œä½ å‘ç°äº†ä¸€ä¸ªæ–°ç”Ÿç‰©ï¼Œä½ çŸ¥é“å®ƒæ˜¯ä¸€ç§åŠ¨ç‰©ï¼Œä½†ä½ ä¸èƒ½ç›´æ¥è¯´å®ƒæ˜¯çŒ«æˆ–è€…ç‹—â€¦ å‘ä¸‹è½¬å‹æ³¨æ„äº‹é¡¹ å‘ä¸‹è½¬å‹çš„å‰ææ˜¯çˆ¶ç±»å¯¹è±¡æŒ‡å‘çš„æ˜¯å­ç±»å¯¹è±¡ï¼›(ä¹Ÿå°±æ˜¯å¯¹åº”ä¸Šé¢å®ä¾‹ä»£ç ä¸­å‘ä¸‹è½¬å‹ WarmWater çš„æƒ…å†µ.. new WarmWater() é¦–å…ˆå¾—å®Œæˆå‘ä¸Šçš„è½¬å‹..) å‘ä¸‹è½¬å‹åªèƒ½è½¬å‹ä¸ºæœ¬ç±»å¯¹è±¡ï¼›(çŒ«æ˜¯ä¸èƒ½å˜æˆç‹—çš„.. å¯¹åº”ä¸Šæ–¹ WamWater ç±»å‹å°±ä¸èƒ½è½¬æˆ IceWarm ç±»å‹çš„æƒ…å†µ) å‘ä¸‹è½¬å‹çš„æ„ä¹‰æœ‰çš„å°ä¼™ä¼´å¯èƒ½çœ‹åˆ°è¿™é‡Œæœ‰ç‚¹æ‡µäº†.. å‘ä¸‹è½¬å‹éœ€è¦å…ˆå‘ä¸Šè½¬å‹ï¼Œè¿™è½¬æ¥è½¬å»å¥½ç©å„¿æ˜¯å—ï¼Ÿ å‘ä¸Šè½¬å‹è®©æˆ‘ä»¬æœ‰äº†ç»Ÿä¸€å¤„ç†ä¸€ç±»æŠ½è±¡äº‹ç‰©çš„èƒ½åŠ›ï¼Œè¿™å¤§å¤§å‡å°‘äº†æˆ‘ä»¬çš„é‡å¤ä»£ç ï¼Œå¹¶å¢åŠ äº†æˆ‘ä»¬ä»£ç çš„å¯æ‰©å±•æ€§ã€‚å¯äº‹å®ä¸Šæ˜¯ï¼Œå°½ç®¡æˆ‘ä»¬å°½åŠ›æŠ½è±¡ä¸€ç±»äº‹ç‰©ï¼Œè®©ä»–ä»¬å°½å¯èƒ½åœ°ä¿è¯è¡Œä¸ºçš„ç»Ÿä¸€ï¼Œä½†æ€»æœ‰ä¾‹å¤–ï¼(å°±åƒ ä¸Šä¸€æ¬¡ æˆ‘ä»¬è®¨è®ºç»§æ‰¿æ—¶æåˆ°çš„é¸Ÿç±»çš„ä¾‹å­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰é¸Ÿéƒ½èƒ½é£æˆ–è€…å«ï¼) æ‰€ä»¥å½“ä¾‹å¤–æ¥ä¸´æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŠæ—¶åˆ¤æ–­å¹¶åšå¯¹åº”çš„å¤„ç†ã€‚(è¿™ä¹Ÿæ¯”è¾ƒç¬¦åˆç°å®çš„æƒ…å†µ) æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ JDK ä¸­çš„æŸä¸€äº›é›†åˆç±»ï¼Œå¯¹äºé›†åˆç±»æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦è®°ä½å­˜å‚¨æ‰€æœ‰å­˜å‚¨å¯¹è±¡çš„ç±»å‹ï¼Œè€Œæ˜¯ç»Ÿä¸€æŠ½è±¡æˆäº† Node ç±»å‹ï¼Œå°±æ‹¿ HashMap æ¥è¯´å§ï¼Œå­˜å‚¨ä¸€ä¸ªå…ƒç´  (putVal() æ–¹æ³•) æ—¶å°±è¦åˆ¤å®šå½“å‰èŠ‚ç‚¹æ—¶å±äºé“¾è¡¨è¿˜æ˜¯çº¢é»‘æ ‘çš„éƒ¨åˆ†ï¼š Part 3. å¤šæ€ç»å…¸æ¡ˆä¾‹åˆ†ææˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç»å…¸çš„ä¾‹å­ï¼š // A ç±» public class A { public String show(D object) { return \"A and D\"; } public String show(A object) { return \"A and A\"; } } // B ç±» public class B extends A { public String show(B object) { return \"B and B\"; } @Override public String show(A object) { return \"B and A\"; } } // C ç±» public class C extends B{ } // D ç±» public class D extends B{ } æµ‹è¯•ç±»ï¼š public class Tester { public static void main(String[] args) { A a = new A(); A aRefB = new B(); B b = new B(); C c = new C(); D d = new D(); System.out.println(\"1-\" + a.show(b)); System.out.println(\"2-\" + a.show(c)); System.out.println(\"3-\" + a.show(d)); System.out.println(\"4-\" + aRefB.show(b)); System.out.println(\"5-\" + aRefB.show(c)); System.out.println(\"6-\" + aRefB.show(d)); System.out.println(\"7-\" + b.show(b)); System.out.println(\"8-\" + b.show(c)); System.out.println(\"9-\" + b.show(d)); } } è¾“å‡ºç»“æœï¼š 1-A and A 2-A and A 3-A and D 4-B and A 5-B and A 6-A and D 7-B and B 8-B and B 9-A and D å‰ä¸‰ä¸ªæ¯”è¾ƒå®¹æ˜“ï¼Œå› ä¸º Bã€C éƒ½æœ¬è´¨ä¸Šæ˜¯ A ç±»ï¼Œæ‰€ä»¥ 1 å’Œ 2 éƒ½è¿›å…¥äº† A ç±»ä¸­ç­¾åä¸º show(A) çš„æ–¹æ³•ã€‚ ä½†æ˜¯ç¬¬å››ä¸ªéå¸¸å¥‡æ€ªï¼ŒA å¯¹è±¡ç±»å‹å¼•ç”¨äº†ä¸€ä¸ª B ç±»å‹çš„å®ä¾‹ï¼Œè¾“å‡ºæ˜¯ B and Aï¼Œè€Œä¸æ˜¯æƒ³è±¡ä¸­çš„ B and Bï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ è¿™é‡Œæœ‰ä¸€ä¸ªæ–°çŸ¥è¯†ç‚¹ï¼šå†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•çš„æ˜¯å¼•ç”¨å˜é‡ç±»å‹ã€‚ æ‹¿è¿™é‡Œçš„ aRefB.show(b) æ¥è¯´å¥½äº†ï¼ŒaRefB è™½ç„¶æ˜¯ A ç±»å‹çš„å¼•ç”¨ï¼Œä½†é¦–å…ˆä¼šæŸ¥æ‰¾ B å¯¹è±¡ä¸­çš„æ–¹æ³• (å› ä¸ºå®ƒå®é™…çš„æŒ‡å‘æ˜¯ B)ï¼Œè€Œå¼•ç”¨ b æ­£å¥½æ˜¯ä¸€ä¸ª B ç±»å‹ (å®è´¨ä¸Šæ˜¯ is-a A ç±»å‹)ï¼Œæ‰€ä»¥ç¬¦åˆ B å¯¹è±¡ä¸­ç­¾åä¸º show(A) çš„æ–¹æ³•ï¼Œå°±è¾“å‡ºäº† B and Aã€‚å¦‚æœ B ç±»å‹ä¸­æ²¡æœ‰ç¬¦åˆç­¾åçš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¼šä»çˆ¶ç±»ä¸­æŸ¥æ‰¾ï¼Œç»§ç»­è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ‰¾åˆ°æˆ–è€…æŠ¥é”™ã€‚ å¦‚æœä½ èƒ½ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œå¹¶åˆ†æå…¶ä»–çš„æƒ…å†µï¼Œé‚£ä¹ˆè¯´æ˜ä½ çœŸçš„æŒæ¡äº†ã€‚ å†æ¥åˆ†æ b.show(d) è¾“å‡º A and D çš„æƒ…å†µï¼Œå°±ç®€å•å¾ˆå¤šäº†ï¼šB å¯¹è±¡ä¸­ä¸å­˜åœ¨ show(D) è¿™æ ·çš„ç­¾åï¼Œæ‰€ä»¥ä»çˆ¶ç±» A ä¸­æŸ¥æ‰¾ï¼Œæ•…è¾“å‡ºäº† A and Dã€‚ è¦ç‚¹å›é¡¾ å¤šæ€æ¦‚è¿° / é‡Œæ°æ›¿æ¢åŸåˆ™ / å‘ä¸Šå‘ä¸‹è½¬å‹ï¼› å…¸å‹å¤šæ€æ¡ˆä¾‹åˆ†æ / ç»ƒä¹ ï¼› ç»ƒä¹ ç»ƒä¹  1ï¼šå·¥èµ„ç»“ç®—ç³»ç»Ÿ æŸå…¬å¸æœ‰ä¸‰ç§ç±»å‹çš„å‘˜å·¥ï¼Œåˆ†åˆ«æ˜¯éƒ¨é—¨ç»ç†ã€ç¨‹åºå‘˜å’Œé”€å”®å‘˜ã€‚éœ€è¦è®¾è®¡ä¸€ä¸ªå·¥èµ„ç»“ç®—ç³»ç»Ÿï¼Œæ ¹æ®æä¾›çš„å‘˜å·¥ä¿¡æ¯æ¥è®¡ç®—æœˆè–ªã€‚ éƒ¨é—¨ç»ç†çš„æœˆè–ªæ˜¯æ¯æœˆå›ºå®š 15000 å…ƒï¼›ç¨‹åºå‘˜çš„æœˆè–ªæŒ‰æ¯æœˆå·¥ä½œæ—¶é—´è®¡ç®—ï¼Œæ¯å°æ—¶ 150 å…ƒï¼›é”€å”®å‘˜çš„æœˆè–ªæ˜¯ 1200 åº•è–ªåŠ ä¸Šé”€å”®é¢ 5% çš„ææˆï¼› æŠ½è±¡å‘˜å·¥ç±»ï¼š public abstract class AbstractEmployee { private String name; public AbstractEmployee(String name) { this.name = name; } // è·å–å·¥èµ„ public abstract double getSalary(); public String getName() { return name; } public void setName(String name) { this.name = name; } } é¡¹ç›®ç»ç†ç±»ï¼š public class Manager extends AbstractEmployee { public Manager(String name) { super(name); } @Override public double getSalary() { return 15000; } } ç¨‹åºå‘˜ç±»ï¼š public class Programer extends AbstractEmployee { private Integer workHours; public Programer(String name, Integer workHours) { super(name); this.workHours = workHours; } // ä»…æä¾›å•ç‹¬çš„ set æ–¹æ³•ï¼Œå·¥ä½œæ—¶é—´ç†è®ºä¸Šæ¥è¯´æ˜¯ä¸€ä¸ªç§äººçš„æ¶ˆæ¯.. public void setWorkHours(Integer workHours) { this.workHours = workHours; } @Override public double getSalary() { return 150 * workHours; } } é”€å”®å‘˜ç±»ï¼š public class Salesman extends AbstractEmployee { private Integer salesAmount; public Salesman(String name, Integer salesAmount) { super(name); this.salesAmount = salesAmount; } // ä¹Ÿä»…æä¾› set æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½è®¿é—®é”€å”®äººå‘˜çš„é”€å”®é‡‘é¢ public void setSalesAmount(Integer salesAmount) { this.salesAmount = salesAmount; } @Override public double getSalary() { return 1200 + 0.05 * salesAmount; } } æµ‹è¯•ç±»ï¼š import java.util.List; public class Tester { public static void main(String[] args) { // é¡¹ç›®ç»ç†å¼ ä¸‰ã€996ç¨‹åºå‘˜æå››ã€æœˆé”€å”®è¿‡ä¸‡çš„æ˜æ˜Ÿé”€å”®å‘˜ç‹äº” List&lt;AbstractEmployee> employees = List .of(new Manager(\"å¼ ä¸‰\"), new Programer(\"æå››\", (21 - 9) * 6), new Salesman(\"ç‹äº”\", 10000)); // å‘å·¥èµ„.. for (AbstractEmployee employee : employees) { System.out.println(employee.getName() + \"å·¥èµ„ä¸ºï¼š\" + employee.getSalary()); } } } ç¨‹åºè¾“å‡ºï¼š å¼ ä¸‰å·¥èµ„ä¸ºï¼š15000.0 æå››å·¥èµ„ä¸ºï¼š10800.0 ç‹äº”å·¥èµ„ä¸ºï¼š1700.0 (psï¼šæœ‰æ„Ÿå—åˆ°æ¥è‡ªäºç°å®ä¸»ä¹‰çš„æ­£ä¹‰å…‰è¾‰æ´’åœ¨ä½ çš„èº«ä¸Šå—ï¼Ÿ) å‚è€ƒèµ„æ–™ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html é‡æ–°è®¤è¯†javaï¼ˆäº”ï¼‰ â€”- é¢å‘å¯¹è±¡ä¹‹å¤šæ€ï¼ˆå‘ä¸Šè½¬å‹ä¸å‘ä¸‹è½¬å‹ï¼‰ - https://blog.csdn.net/qq_31655965/article/details/54746235 æå®¢æ—¶é—´ | è®¾è®¡æ¨¡å¼ä¹‹ç¾ - https://time.geekbang.org/column/article/177110 Python 100 å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ - https://github.com/jackfrued/Python-100-Days æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 5ï¼šé¢å‘å¯¹è±¡è¿›é˜¶â€”â€”ç»§æ‰¿è¯¦è§£","slug":"ã€ŒMoreThanJavaã€Day-5ï¼šé¢å‘å¯¹è±¡è¿›é˜¶â€”â€”ç»§æ‰¿è¯¦è§£","date":"2020-08-07T08:35:00.000Z","updated":"2020-08-16T07:50:03.292Z","comments":true,"path":"2020/08/07/morethanjava-day-5-mian-xiang-dui-xiang-jin-jie-ji-cheng-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2020/08/07/morethanjava-day-5-mian-xiang-dui-xiang-jin-jie-ji-cheng-xiang-jie/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. ç»§æ‰¿æ¦‚è¿°ä¸Šä¸€ç¯‡æ–‡ç«  ä¸­æˆ‘ä»¬ç®€å•ä»‹ç»äº†ç»§æ‰¿çš„ä½œç”¨ï¼Œå®ƒå…è®¸åˆ›å»º å…·æœ‰é€»è¾‘ç­‰çº§ç»“æ„çš„ç±»ä½“ç³»ï¼Œå½¢æˆä¸€ä¸ªç»§æ‰¿æ ‘ã€‚ ç»§æ‰¿ä½¿æ‚¨å¯ä»¥åŸºäºç°æœ‰ç±»å®šä¹‰æ–°ç±»ã€‚ æ–°ç±»ä¸ç°æœ‰ç±»ç›¸ä¼¼ï¼Œä½†æ˜¯å¯èƒ½å…·æœ‰å…¶ä»–å®ä¾‹å˜é‡å’Œæ–¹æ³•ã€‚è¿™ä½¿ç¼–ç¨‹æ›´åŠ å®¹æ˜“ï¼Œå› ä¸ºæ‚¨å¯ä»¥ åœ¨ç°æœ‰çš„ç±»ä¸Šæ„å»ºï¼Œè€Œä¸å¿…ä»å¤´å¼€å§‹ã€‚ ç»§æ‰¿æ˜¯ç°ä»£è½¯ä»¶å–å¾—å·¨å¤§æˆåŠŸçš„éƒ¨åˆ†åŸå› ã€‚ ç¨‹åºå‘˜èƒ½å¤Ÿåœ¨å…ˆå‰çš„å·¥ä½œåŸºç¡€ä¸Šç»§ç»­å‘å±•å¹¶ä¸æ–­æ”¹è¿›å’Œå‡çº§ç°æœ‰è½¯ä»¶ã€‚ é¢å‘å¯¹è±¡ä¹‹å‰ï¼Œå†™ä»£ç çš„ä¸€äº›é—®é¢˜å¦‚æœä½ æœ‰ä¸€ä¸ªç±»çš„æºä»£ç ï¼Œä½ å¯ä»¥å¤åˆ¶ä»£ç å¹¶æ”¹å˜å®ƒå˜æˆä½ æƒ³è¦çš„æ ·å­ã€‚åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹å‰ï¼Œå°±æ˜¯è¿™æ ·å­åšçš„ã€‚ä½†è‡³å°‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š â¶ å¾ˆéš¾ä¿æŒä»…ä»…æœ‰æ¡ã€‚ å‡è®¾æ‚¨å·²ç»æœ‰äº†å‡ åä¸ªéœ€è¦çš„ç±»ï¼Œå¹¶ä¸”éœ€è¦åŸºäºåŸå§‹ç±»åˆ›é€ æ–°çš„ä¸€äº›ç±»ï¼Œå†åŸºäºæ–°çš„ç±»åˆ›é€ å‡ºæ›´æ–°çš„ç±»ï¼Œæœ€ç»ˆæ‚¨å°†è·å¾—æ•°åä¸ªæºæ–‡ä»¶ï¼Œè¿™äº›æºæ–‡ä»¶éƒ½æ˜¯é€šè¿‡å…¶ä»–å·²æ›´æ”¹çš„æºæ–‡ä»¶çš„å¦å¤–ç‰ˆæœ¬ã€‚ å‡è®¾ç°åœ¨åœ¨ä¸€ä¸ªæºæ–‡ä»¶ä¸­å‘ç°äº†é”™è¯¯ï¼Œä¸€äº›åŸºäºå®ƒçš„æºæ–‡ä»¶éœ€è¦è¿›è¡Œä¿®å¤ï¼Œä½†æ˜¯å¯¹äºå…¶ä»–æºæ–‡ä»¶æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦ï¼æ²¡æœ‰ç»†è‡´çš„å†™ä»£ç çš„è®¡åˆ’ï¼Œæ‚¨æœ€ç»ˆä¼šé™·å…¥æ··ä¹±â€¦. â· éœ€è¦å­¦ä¹ åŸå§‹ä»£ç ã€‚ å‡è®¾æ‚¨æœ‰ä¸€ä¸ªå¤æ‚çš„ç±»ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å®Œæˆæ‰€éœ€çš„å·¥ä½œï¼Œä½†æ˜¯æ‚¨éœ€è¦è¿›è¡Œä¸€äº›å°çš„ä¿®æ”¹ã€‚å¦‚æœæ‚¨ä¿®æ”¹äº†æºä»£ç ï¼Œå³ä½¿æ˜¯è¿›è¡Œäº†å¾ˆå°çš„æ›´æ”¹ï¼Œä¹Ÿå¯èƒ½ä¼šç ´åæŸäº›å†…å®¹ã€‚å› æ­¤ï¼Œæ‚¨å¿…é¡»ç ”ç©¶åŸå§‹ä»£ç ä»¥ç¡®ä¿æ‰€åšçš„æ›´æ”¹æ­£ç¡®ï¼Œè¿™å¯èƒ½å¹¶ä¸å®¹æ˜“ã€‚ Java çš„è‡ªåŠ¨ç»§æ‰¿æœºåˆ¶æå¤§åœ°ç¼“è§£äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ å•ç»§æ‰¿ç”¨äºä½œä¸ºæ–°ç±»æ¨¡æ¿çš„ç±»ç§°ä¸º çˆ¶ç±» (æˆ–è¶…ç±»æˆ–åŸºç±»)ï¼ŒåŸºäºçˆ¶ç±»åˆ›å»ºçš„ç±»ç§°ä¸º å­ç±» (æˆ–æ´¾ç”Ÿç±»)ã€‚ å°±åƒä¸Šå›¾ä¸­æ¼”ç¤ºçš„é‚£æ ·ï¼Œç®­å¤´ä»å­ç±»æŒ‡å‘çˆ¶ç±»ã€‚(åœ¨ä¸Šå›¾ä¸­ï¼Œäº‘è¡¨ç¤ºç±»ï¼Œè€ŒçŸ©å½¢è¡¨ç¤ºå¯¹è±¡ï¼Œè¿™æ ·çš„è¡¨ç¤ºçš„æ–¹æ³•æ¥è‡ªäº Grady Booch å†™çš„ã€Šé¢å‘å¯¹è±¡çš„åˆ†æå’Œè®¾è®¡ã€‹ä¸€ä¹¦ã€‚è€Œåœ¨å®˜æ–¹çš„ UML-ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ ä¸­ï¼Œç±»å’Œå¯¹è±¡éƒ½ç”¨çŸ©å½¢è¡¨ç¤ºï¼Œè¯·æ³¨æ„è¿™ä¸€ç‚¹) åœ¨ Java ä¸­ï¼Œå­ç±»ä»…ä»ä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿ç‰¹å¾ï¼Œè¿™è¢«ç§°ä¸º å•ç»§æ‰¿ (ä¸äººç±»ä¸åŒ)ã€‚ æœ‰äº›è¯­è¨€å…è®¸â€å­©å­â€ä»å¤šä¸ªâ€çˆ¶æ¯â€é‚£é‡Œç»§æ‰¿ï¼Œè¿™è¢«ç§°ä¸º å¤šç»§æ‰¿ã€‚ä½†ç”±äºå…·æœ‰å¤šé‡ç»§æ‰¿ï¼Œæœ‰æ—¶å¾ˆéš¾è¯´å‡ºå“ªä¸ªçˆ¶æ¯ä¸ºå­©å­è´¡çŒ®äº†å“ªäº›ç‰¹å¾ (è·Ÿäººç±»ä¸€æ ·..)ã€‚ Java é€šè¿‡ä½¿ç”¨å•ç»§æ‰¿é¿å…äº†è¿™äº›é—®é¢˜ã€‚(æ„æ€ Java åªå…è®¸å•ç»§æ‰¿) is-a å…³ç³» ä¸Šå›¾æ˜¾ç¤ºäº†ä¸€ä¸ªçˆ¶ç±» (Video è§†é¢‘ç±»)ï¼Œä¸€ä¸ªå­ç±» (Movie ç”µå½±ç±»)ã€‚å®ƒä»¬ä¹‹é—´çš„å®çº¿è¡¨ç¤º â€œis-aâ€ çš„å…³ç³»ï¼šç”µå½±æ˜¯è§†é¢‘ã€‚ æ³¨æ„ï¼Œç»§æ‰¿æ˜¯åœ¨ç±»ä¹‹é—´ï¼Œè€Œä¸æ˜¯åœ¨å¯¹è±¡ä¹‹é—´ã€‚ (ä¸Šå›¾ä¸¤æœµäº‘éƒ½ä»£è¡¨ç±») çˆ¶ç±»æ˜¯æ„é€ å¯¹è±¡æ—¶ä½¿ç”¨çš„è“å›¾ï¼Œå­ç±»ç”¨äºæ„é€ çœ‹èµ·æ¥åƒçˆ¶å¯¹è±¡çš„å¯¹è±¡ï¼Œä½†å…·æœ‰é™„åŠ åŠŸèƒ½çš„å¯¹è±¡ã€‚ ç±»ä¹‹é—´çš„å…³ç³»ç®€è¿°ç®€å•åœ°è¯´ï¼Œç±»å’Œç±»ä¹‹é—´çš„å…³ç³»æœ‰ä¸‰ç§ï¼šis-aã€has-a å’Œ use-aã€‚ is-a å…³ç³»ä¹Ÿå«ç»§æ‰¿æˆ–æ³›åŒ–ï¼Œæ¯”å¦‚å­¦ç”Ÿå’Œäººçš„å…³ç³»ã€æ‰‹æœºå’Œç”µå­äº§å“çš„å…³ç³»éƒ½å±äºç»§æ‰¿å…³ç³»ï¼› has-a å…³ç³»é€šå¸¸ç§°ä¹‹ä¸ºå…³è”ï¼Œæ¯”å¦‚éƒ¨é—¨å’Œå‘˜å·¥çš„å…³ç³»ã€æ±½è½¦å’Œå¼•æ“çš„å…³ç³»éƒ½å±äºå…³è”å…³ç³»ï¼›å…³è”å…³ç³»å¦‚æœæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³è”ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º èšåˆå…³ç³»ï¼›å¦‚æœæ•´ä½“è¿›ä¸€æ­¥è´Ÿè´£äº†éƒ¨åˆ†çš„ç”Ÿå‘½å‘¨æœŸ (æ•´ä½“å’Œéƒ¨åˆ†æ˜¯ä¸å¯åˆ†å‰²çš„ï¼ŒåŒæ—¶åŒåœ¨ä¹ŸåŒæ—¶æ¶ˆäº¡)ï¼Œé‚£ä¹ˆè¿™ç§å°±æ˜¯æœ€å¼ºçš„å…³è”å…³ç³»ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º åˆæˆ å…³ç³»ã€‚ use-a å…³ç³»é€šå¸¸ç§°ä¹‹ä¸ºä¾èµ–ï¼Œæ¯”å¦‚å¸æœºæœ‰ä¸€ä¸ªé©¾é©¶çš„è¡Œä¸º (æ–¹æ³•)*ï¼Œå…¶ä¸­ *(çš„å‚æ•°) ä½¿ç”¨åˆ°äº†æ±½è½¦ï¼Œé‚£ä¹ˆå¸æœºå’Œæ±½è½¦çš„å…³ç³»å°±æ˜¯ä¾èµ–å…³ç³»ã€‚ åˆ©ç”¨ç±»ä¹‹é—´çš„è¿™äº›å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·²æœ‰ç±»çš„åŸºç¡€ä¸Šæ¥å®ŒæˆæŸäº›æ“ä½œï¼Œä¹Ÿå¯ä»¥åœ¨å·²æœ‰ç±»çš„åŸºç¡€ä¸Šåˆ›å»ºæ–°çš„ç±»ï¼Œè¿™äº›éƒ½æ˜¯å®ç°ä»£ç å¤ç”¨çš„é‡è¦æ‰‹æ®µã€‚å¤ç”¨ç°æœ‰çš„ä»£ç ä¸ä»…å¯ä»¥å‡å°‘å¼€å‘çš„å·¥ä½œé‡ï¼Œä¹Ÿæœ‰åˆ©äºä»£ç çš„ç®¡ç†å’Œç»´æŠ¤ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­éƒ½ä¼šä½¿ç”¨åˆ°çš„æŠ€æœ¯æ‰‹æ®µã€‚ å±‚çº§ç»“æ„ ä¸Šå›¾æ˜¾ç¤ºäº†ä¸€ä¸ªçˆ¶ç±»å’Œä¸€ä¸ªå­ç±»çš„ å±‚æ¬¡ç»“æ„ï¼Œä»¥åŠä»æ¯ä¸ªç±»æ„é€ çš„ä¸€äº›å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡ç”¨çŸ©å½¢è¡¨ç¤ºï¼Œä»¥è¡¨è¾¾å®ƒä»¬æ¯”è®¾è®¡çš„ç±»æ›´çœŸå®ã€‚ åœ¨å±‚æ¬¡ç»“æ„ä¸­ï¼Œæ¯ä¸ªç±»æœ€å¤šæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†å¯èƒ½æœ‰å‡ ä¸ªå­ç±»ã€‚ å±‚æ¬¡ç»“æ„é¡¶éƒ¨çš„ç±»æ²¡æœ‰çˆ¶çº§ã€‚æ­¤ç±»ç§°ä¸ºå±‚æ¬¡ç»“æ„çš„ æ ¹ã€‚ å¦å¤–ï¼Œä¸€ä¸ªç±»å¯ä»¥æ˜¯å¦ä¸€ä¸ªå­ç±»çš„çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯çˆ¶ç±»çš„å­ç±»ã€‚å°±åƒäººç±»ä¸€æ ·ï¼Œä¸€ä¸ªäººæ˜¯æŸäº›äººç±»çš„å­©å­ï¼Œä¹Ÿæ˜¯å…¶ä»–äººç±»çš„çˆ¶æ¯ã€‚(ä½†åœ¨ Java ä¸­ï¼Œä¸€ä¸ªå­©å­åªæœ‰ä¸€ä¸ªçˆ¶æ¯) Part 2. ç»§æ‰¿çš„å®ç°ä»çˆ¶ç±»æ´¾ç”Ÿå­ç±»çš„è¯­æ³•æ˜¯ä½¿ç”¨ extend å…³é”®å­—ï¼š class ChildClass extend ParentClass { // å­ç±»çš„æ–°æˆå‘˜å’Œæ„é€ å‡½æ•°.... } çˆ¶ç±»çš„æˆå‘˜ (å˜é‡å’Œæ–¹æ³•) é€šè¿‡ç»§æ‰¿åŒ…å«åœ¨å­ç±»ä¸­ã€‚å…¶ä»–æˆå‘˜å°†åœ¨å…¶ç±»å®šä¹‰ä¸­æ·»åŠ åˆ°å­ç±»ã€‚ è§†é¢‘è§‚å½± App ç¤ºä¾‹Java ç¼–ç¨‹æ˜¯é€šè¿‡åˆ›å»ºç±»å±‚æ¬¡ç»“æ„å¹¶ä»ä¸­å®ä¾‹åŒ–å¯¹è±¡æ¥å®Œæˆçš„ã€‚æ‚¨å¯ä»¥æ‰©å±•è‡ªå·±çš„ç±»æˆ–æ‰©å±•å·²ç»å­˜åœ¨çš„ç±»ã€‚Java å¼€å‘å·¥å…·åŒ… (JDK) ä¸ºæ‚¨æä¾›äº†ä¸°å¯Œçš„åŸºç±»é›†åˆï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•è¿™äº›åŸºç±»ã€‚ (å¦‚æœæŸäº›ç±»å·²ç»ä½¿ç”¨ final ä¿®é¥°ï¼Œåˆ™æ— æ³•ç»§æ‰¿) ä¸‹é¢æ¼”ç¤ºäº†ä¸€ä¸ªä½¿ç”¨ Video ç±»ä½œä¸ºåŸºç±»çš„è§†é¢‘è§‚å½± App çš„ç¨‹åºè®¾è®¡ï¼š Video åŸºç±»ï¼š class Video { private String title; // name of video private int length; // number of minutes // constructor public Video(String title, int length) { this.title = title; this.length = length; } public String toString() { return \"title=\" + title + \", length=\" + length; } public String getTitle() { return title;} public void setTitle(String title) { this.title = title;} public int getLength() { return length;} public void setLength(int length) { this.length = length;} } Movie ç”µå½±ç±»ç»§æ‰¿ Videoï¼š class Movie extends Video { private String director;// name of the director private String rating; // num of rating // constructor public Movie(String title, int length, String director, String rating) { super(title, length); this.director = director; this.rating = rating; } public String getDirector() { return director; } public String getRating() { return rating; } } è¿™ä¸¤ä¸ªç±»å‡å·²å®šä¹‰ï¼šVideo ç±»å¯ç”¨äºæ„é€ è§†é¢‘ç±»å‹çš„å¯¹è±¡ï¼Œç°åœ¨ Movie ç±»å¯ç”¨äºæ„é€ ç”µå½±ç±»å‹çš„å¯¹è±¡ã€‚ Movie ç±»å…·æœ‰åœ¨ Video ä¸­å®šä¹‰çš„æˆå‘˜å˜é‡å’Œå…¬å…±æ–¹æ³•ã€‚ ä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æŸ¥çœ‹ä¸Šæ–¹çš„ç¤ºä¾‹ï¼Œåœ¨ Movie ç±»çš„åˆå§‹åŒ–æ„é€ å‡½æ•°ä¸­æœ‰ä¸€æ¡ super(title, length); çš„è¯­å¥ï¼Œæ˜¯ â€œè°ƒç”¨çˆ¶ç±» Video ä¸­å¸¦æœ‰ titleã€length å‚æ•°çš„æ„é€ å™¨â€ çš„ç®€å†™å½¢å¼ã€‚ ç”±äº Movie ç±»çš„æ„é€ å™¨ä¸èƒ½è®¿é—® Video ç±»çš„ç§æœ‰å­—æ®µï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡ä¸€ä¸ªæ„é€ å™¨æ¥åˆå§‹åŒ–è¿™äº›ç§æœ‰å­—æ®µã€‚å¯ä»¥åˆ©ç”¨ç‰¹æ®Šçš„ super è¯­æ³•è°ƒç”¨è¿™ä¸ªæ„é€ å™¨ã€‚ é‡è¦è¯´æ˜ï¼šsuper() å¿…é¡»æ˜¯å­ç±»æ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥ã€‚ (è¿™æ„å‘³å­ç±»æ„é€ å™¨æ€»æ˜¯ä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨) è¿™ä»¶äº‹ç»å¸¸è¢«å¿½ç•¥ï¼Œå¯¼è‡´çš„ç»“æœå°±æ˜¯ä¸€äº›ç¥ç§˜çš„ç¼–è¯‘å™¨é”™è¯¯æ¶ˆæ¯ã€‚ å¦‚æœå­ç±»çš„æ„é€ å™¨æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå°†è‡ªåŠ¨åœ°è°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å™¨ã€‚å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ•°çš„æ„é€ å™¨ï¼Œå¹¶ä¸”åœ¨å­ç±»çš„æ„é€ å™¨ä¸­åˆæ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„å…¶ä»–æ„é€ å™¨ï¼ŒJava ç¼–è¯‘å™¨å°±ä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ Video ç¼ºå°‘æ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ•…ğŸ‘†ä¸Šé¢å›¾ç‰‡ä»£ç ä¼šæŠ¥é”™) åˆ›å»ºä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°å…³äºæ„é€ å‡½æ•°çš„ä¸€äº›ç»†èŠ‚ï¼š æ‚¨å¯ä»¥æ˜¾å¼ä¸ºç±»ç¼–å†™æ— å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ å¦‚æœæ‚¨æ²¡æœ‰ä¸ºç±»ç¼–å†™ä»»ä½•æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå°†è‡ªåŠ¨æä¾›æ— å‚æ•°æ„é€ å‡½æ•° ï¼ˆç§°ä¸ºé»˜è®¤æ„é€ å‡½æ•°ï¼‰ã€‚ å¦‚æœä¸ºä¸€ä¸ªç±»ç¼–å†™äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨æä¾›é»˜è®¤çš„æ„é€ å‡½æ•°ã€‚ å› æ­¤ï¼šå¦‚æœæ‚¨ä¸ºç±»ç¼–å†™äº†é¢å¤–çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆï¼Œåˆ™è¿˜å¿…é¡»ç¼–å†™ä¸€ä¸ªæ— å‚æ•°æ„é€ å‡½æ•° (ä¾›å­ç±»è°ƒç”¨)ã€‚ åœ¨ç¤ºä¾‹ç¨‹åºä¸­ï¼Œç±» Video åŒ…å«æ„é€ å‡½æ•°ï¼Œå› æ­¤ä¸ä¼šè‡ªåŠ¨æä¾›é»˜è®¤æ„é€ å‡½æ•°ã€‚ æ‰€ä»¥ï¼ŒMovie ç±» super() å‡½æ•°å»ºè®®é»˜è®¤ä½¿ç”¨çš„æ„é€ å‡½æ•° (ä¼šè‡ªåŠ¨è°ƒç”¨æ— å‚æ•°æ„é€ å‡½æ•°) ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚ è§£å†³æ–¹æ³•æ˜¯å°†æ— å‚æ•°æ„é€ å‡½æ•°æ˜¾å¼æ”¾åœ¨ç±»ä¸­ Video ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š class Video { private String title; // name of video private int length; // number of minutes // no-argument constructor public Video() { this.title = \"unknown\"; this.length = 0; } // constructor public Video(String title, int length) { this.title = title; this.length = length; } ... } è¦†ç›–æ–¹æ³•è®©æˆ‘ä»¬æ¥å®ä¾‹åŒ– Movie å¯¹è±¡ï¼š public class Tester { public static void main(String[] args) { Video video = new Video(\"è§†é¢‘1\", 90); Movie movie = new Movie(\"æ‚Ÿç©ºä¼ \", 139, \"éƒ­å­å¥\", \"5.9\"); System.out.println(video.toString()); System.out.println(movie.toString()); } } ç¨‹åºè¾“å‡ºï¼š title=è§†é¢‘1, length=90 title=æ‚Ÿç©ºä¼ , length=139 movie.toString() æ˜¯ Movie ç±»ç›´æ¥ç»§æ‰¿è‡ª Video ç±»ï¼Œå®ƒå¹¶æ²¡æœ‰ä½¿ç”¨ Movie å¯¹è±¡å…·æœ‰çš„æ–°å˜é‡ï¼Œå› æ­¤å¹¶ä¸ä¼šæ‰“å°å¯¼æ¼”å’Œè¯„åˆ†ã€‚ æˆ‘ä»¬éœ€è¦ç»™ Movie ç±»æ·»åŠ æ–°çš„ toString() çš„ä½¿ç”¨æ–¹æ³•ï¼š // æ·»åŠ åˆ° Movie ç±»ä¸­ public String toString() { return \"title:\" + getTitle() + \", length:\" + getLength() + \", director:\" + getDirector() + \", rating:\" + getRating(); } ç°åœ¨ï¼ŒMovie æ‹¥æœ‰äº†è‡ªå·±çš„ toString() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨äº†ç»§æ‰¿è‡ª Video çš„å˜é‡å’Œè‡ªå·±å®šä¹‰çš„å˜é‡ã€‚ å³ä½¿çˆ¶ç±»æœ‰ä¸€ä¸ª toString() æ–¹æ³•ï¼Œå­ç±»ä¸­æ–°å®šä¹‰çš„ toString() ä¹Ÿä¼š è¦†ç›– çˆ¶ç±»çš„ç‰ˆæœ¬ã€‚å½“å­ç±»æ–¹æ³•çš„ ç­¾å (å°±æ˜¯è¿”å›å€¼ + æ–¹æ³•åç§° + å‚æ•°åˆ—è¡¨) ä¸çˆ¶ç±»ç›¸åŒæ—¶ï¼Œå­ç±»çš„æ–¹æ³•å°±ä¼š è¦†ç›– çˆ¶ç±»çš„æ–¹æ³•ã€‚ ç°åœ¨è¿è¡Œç¨‹åºï¼ŒMovie æ‰“å°å‡ºäº†æˆ‘ä»¬æœŸæœ›çš„å®Œæ•´ä¿¡æ¯ï¼š title=è§†é¢‘1, length=90 title:æ‚Ÿç©ºä¼ , length:139, director:éƒ­å­å¥, rating:5.9 æœ‰äº›äººè®¤ä¸º super ä¸ this å¼•ç”¨æ˜¯ç±»ä¼¼çš„æ¦‚å¿µï¼Œå®é™…ä¸Šï¼Œè¿™æ ·æ¯”è¾ƒå¹¶ä¸å¤ªæ°å½“ã€‚è¿™æ˜¯å› ä¸º super ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼Œä¸èƒ½å°†å€¼ super èµ‹ç»™å¦ä¸€ä¸ªå¯¹è±¡å˜é‡ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæŒ‡ç¤ºç¼–è¯‘å™¨è°ƒç”¨çˆ¶ç±»æ–¹æ³•çš„ç‰¹æ®Šå…³é”®å­—ã€‚ æ­£åƒå‰é¢æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œåœ¨å­ç±»ä¸­å¯ä»¥å¢åŠ å­—æ®µã€å¢åŠ æ–¹æ³•æˆ–è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¸è¿‡ï¼Œç»§æ‰¿ç»å¯¹ä¸ä¼šåˆ é™¤ä»»ä½•å­—æ®µæˆ–æ–¹æ³•ã€‚ Part 3. æ›´å¤šç»†èŠ‚protected å…³é”®å­—å¦‚æœç±»ä¸­åˆ›å»ºçš„å˜é‡æˆ–è€…æ–¹æ³•ä½¿ç”¨ protected æè¿°ï¼Œåˆ™æŒ‡æ˜äº† â€œå°±ç±»ç”¨æˆ·è€Œè¨€ï¼Œè¿™æ˜¯ private çš„ï¼Œä½†å¯¹äºä»»ä½•ç»§æ‰¿äºæ­¤ç±»çš„å¯¼å‡ºç±»æˆ–è€…ä»»ä½•ä½äºåŒä¸€ä¸ª åŒ… å†…çš„ç±»æ¥è¯´ï¼Œå®ƒæ˜¯å¯ä»¥è®¿é—®çš„â€ã€‚ä¸‹é¢æˆ‘ä»¬å°±ä¸Šé¢çš„ä¾‹å­æ¥æ¼”ç¤ºï¼š public class Video { protected String title; // name of video protected int length; // number of minutes ... } public class Movie extends Video { ... public String toString() { return \"title:\" + title + \", length:\" + length + \", director:\" + director + \", rating:\" + rating; } ... } åœ¨ protected ä¿®é¥°ä¹‹å‰ï¼Œå¦‚æœå­ç±» Movie è¦è®¿é—®çˆ¶ç±» Video çš„ title ç§æœ‰å˜é‡åªèƒ½é€šè¿‡çˆ¶ç±»æš´éœ²å‡ºæ¥çš„ getTitle() å…¬å…±æ–¹æ³•ï¼Œç°åœ¨åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ å‘ä¸Šè½¬å‹â€œä¸ºæ–°çš„ç±»æä¾›æ–¹æ³•â€ å¹¶ä¸æ˜¯ç»§æ‰¿æŠ€æœ¯ä¸­æœ€é‡è¦çš„æ–¹é¢ï¼Œå…¶æœ€é‡è¦çš„æ–¹é¢æ˜¯ç”¨æ¥è¡¨ç°æ–°ç±»å’ŒåŸºç±»ä¹‹é—´çš„å…³ç³»ã€‚è¿™ç§å…³ç³»å¯ä»¥ç”¨ â€œæ–°ç±»æ˜¯ç°æœ‰ç±»çš„ä¸€ç§ç±»å‹â€ è¿™å¥è¯åŠ ä»¥æ¦‚æ‹¬ã€‚ ç”±äºç»§æ‰¿å¯ä»¥ç¡®ä¿åŸºç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•åœ¨å­ç±»ä¸­ä¹ŸåŒæ ·æœ‰æ•ˆï¼Œæ‰€ä»¥èƒ½å¤Ÿå‘åŸºç±»å‘é€çš„æ‰€æœ‰ä¿¡æ¯ä¹ŸåŒæ ·å¯ä»¥å‘å­ç±»å‘é€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ Video ç±»å…·æœ‰ä¸€ä¸ª play() æ–¹æ³•ï¼Œ é‚£ä¹ˆ Movie ç±»ä¹Ÿå°†åŒæ ·å…·å¤‡ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å‡†ç¡®åœ°è¯´ Movie å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç§ç±»å‹çš„ Videoã€‚(ä½“ç° is-a å…³ç³») è¿™ä¸€æ¦‚å¿µçš„ä½“ç°ç”¨ä¸‹é¢çš„ä¾‹å­æ¥è¯´æ˜ï¼š public class Video { ... public void play() {} public static void start(Video video) { // ... video.play(); } ... } // æµ‹è¯•ç±» public class Tester { public static void main(String[] args) { Movie movie = new Movie(\"æ‚Ÿç©ºä¼ \", 139, \"éƒ­å­å¥\", \"5.9\"); Video.start(movie); } } åœ¨ç¤ºä¾‹ä¸­ï¼Œstart() æ–¹æ³•å¯ä»¥æ¥å— Video ç±»å‹çš„å¼•ç”¨ï¼Œè¿™æ˜¯åœ¨å¤ªæœ‰è¶£äº†ï¼ åœ¨æµ‹è¯•ç±»ä¸­ï¼Œä¼ é€’ç»™ start() æ–¹æ³•çš„æ˜¯ä¸€ä¸ª Movie å¼•ç”¨ã€‚é‰´äº Java æ˜¯ä¸€ä¸ªå¯¹ç±»å‹æ£€æŸ¥ååˆ†ä¸¥æ ¼çš„è¯­è¨€ï¼Œæ¥å—æŸç§ç±»å‹ (ä¸Šä¾‹æ˜¯ Video ç±»å‹) çš„æ–¹æ³•åŒæ ·å¯ä»¥æ¥å—å¦å¤–ä¸€ç§ç±»å‹ (ä¸Šä¾‹æ˜¯ Movie ç±»å‹) å°±ä¼šæ˜¾å¾—å¾ˆå¥‡æ€ªï¼ é™¤éä½ è®¤è¯†åˆ° Movei å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç§ Video å¯¹è±¡ã€‚ åœ¨ start() æ–¹æ³•ä¸­ï¼Œç¨‹åºä»£ç å¯ä»¥å¯¹ Video å’Œå®ƒæ‰€æœ‰å­ç±»èµ·ä½œç”¨ï¼Œè¿™ç§å°† Movie å¼•ç”¨è½¬æ¢ä¸º Video å¼•ç”¨çš„åŠ¨ä½œï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º å‘ä¸Šè½¬å‹ (è¿™æ ·ç§°å‘¼æ˜¯å› ä¸ºåœ¨ç»§æ‰¿æ ‘çš„ç”»æ³•ä¸Šï¼ŒåŸºç±»åœ¨å­ç±»çš„ä¸Šæ–¹â€¦)ã€‚ Object ç±»æ‰€æœ‰çš„ç±»å‡å…·æœ‰çˆ¶ç±»ï¼Œé™¤äº† Object ç±»ã€‚Java ç±»å±‚æ¬¡ç»“æ„çš„æœ€é¡¶éƒ¨å°±æ˜¯ Object ç±»ã€‚ å¦‚æœç±»æ²¡æœ‰æ˜¾å¼åœ°æŒ‡æ˜ç»§æ‰¿å“ªä¸€ä¸ªçˆ¶ç±»ï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨åœ°ç»§æ‰¿è‡ª Object ç±»ã€‚å¦‚æœä¸€ä¸ªå­ç±»ç»§æ‰¿äº†ä¸€ä¸ªçˆ¶ç±»ï¼Œé‚£ä¹ˆçˆ¶ç±»è¦ä¹ˆç»§æ‰¿å®ƒçš„çˆ¶ç±»ï¼Œè¦ä¹ˆè‡ªåŠ¨ç»§æ‰¿ Objectã€‚æœ€ç»ˆï¼Œæ‰€æœ‰çš„ç±»éƒ½å°† Object ä½œä¸ºç¥–å…ˆã€‚ è¿™æ„å‘³ç€ Java ä¸­çš„æ‰€æœ‰ç±»éƒ½å…·æœ‰ä¸€äº›å…±åŒçš„ç‰¹å¾ã€‚è¿™äº›ç‰¹å¾åœ¨è¢«å®šä¹‰åœ¨ Object ä¸­ï¼š (å…¶ä¸­ finalize() æ–¹æ³•åœ¨ Java 9 ä¹‹åå¼ƒç”¨äº†ï¼ŒåŸå› æ˜¯å› ä¸ºå®ƒæœ¬èº«å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼šæ­»é”ã€æŒ‚èµ·å’Œå…¶ä»–é—®é¢˜â€¦) (æƒ³çœ‹æºç å¯ä»¥æ‰“ä¸€ä¸ª Objectï¼Œç„¶åæŒ‰ä½ Ctrl ä¸æ”¾ï¼Œç„¶åç‚¹å‡» Object å°±å¯ä»¥è¿›å…¥ JDK æºç æŸ¥çœ‹äº†ï¼Œæºç æœ‰ååˆ†è§„èŒƒçš„æ³¨é‡Šå’Œç»“æ„ï¼Œä½ æœ‰æ—¶ç”šè‡³ä¼šå‘ç°ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿â€¦) Java ä¹‹çˆ¶ Gosling è®¾è®¡çš„ Object ç±»ï¼Œæ˜¯å¯¹ä¸‡äº‹ä¸‡ç‰©çš„æŠ½è±¡ï¼Œæ˜¯åœ¨å“²å­¦æ–¹å‘ä¸Šè¿›è¡Œçš„å»¶ä¼¸æ€è€ƒï¼Œé«˜åº¦æ¦‚æ‹¬äº†äº‹ç‰©çš„è‡ªç„¶è¡Œä¸ºå’Œç¤¾ä¼šè¡Œä¸ºã€‚æˆ‘ä»¬éƒ½çŸ¥é“å“²å­¦çš„ä¸‰å¤§ç»å…¸é—®é¢˜ï¼šæˆ‘æ˜¯è°ï¼Ÿæˆ‘ä»å“ªé‡Œæ¥ï¼Ÿæˆ‘åˆ°å“ªé‡Œå»ï¼Ÿåœ¨ Object ç±»ä¸­ï¼Œè¿™äº›é—®é¢˜éƒ½å¯ä»¥å¾—åˆ°éšçº¦çš„è§£ç­”ï¼š æˆ‘æ˜¯è°ï¼Ÿ getClass() è¯´æ˜æœ¬è´¨ä¸Šæ˜¯è°ï¼Œè€Œ toString() æ˜¯å½“å‰çš„åç‰‡ï¼› æˆ‘ä»å“ªé‡Œæ¥ï¼Ÿ Object() æ„é€ æ–¹æ³•æ˜¯ç”Ÿäº§å¯¹è±¡çš„åŸºæœ¬æ–¹å¼ï¼Œclone() æ˜¯ç¹æ®–å¯¹è±¡çš„å¦ä¸€ç§æ–¹å¼ï¼› æˆ‘åˆ°å“ªé‡Œå»ï¼Ÿ finalize() æ˜¯åœ¨å¯¹è±¡é”€æ¯æ—¶è§¦å‘çš„æ–¹æ³•ï¼›(Java 9 ä¹‹åå·²ç§»é™¤) å¦å¤–ï¼ŒObject è¿˜æ˜ å°„äº†ç¤¾ä¼šç§‘å­¦é¢†åŸŸçš„ä¸€äº›é—®é¢˜ï¼š ä¸–ç•Œæ˜¯å¦å› ä½ è€Œä¸åŒï¼Ÿ hashCode() å’Œ equals() å°±æ˜¯åˆ¤æ–­ä¸å…¶ä»–å…ƒç´ æ˜¯å¦ç›¸åŒçš„ä¸€ç»„æ–¹æ³•ï¼› ä¸ä»–äººå¦‚ä½•åè°ƒï¼Ÿ wait() å’Œ notify() å°±æ˜¯å¯¹è±¡é—´é€šä¿¡ä¸åä½œçš„ä¸€ç»„æ–¹æ³•ï¼› ç†è§£æ–¹æ³•è°ƒç”¨å‡†ç¡®åœ°ç†è§£å¦‚ä½•åœ¨å¯¹è±¡ä¸Šåº”ç”¨æ–¹æ³•è°ƒç”¨éå¸¸é‡è¦ã€‚ä¸‹é¢å‡è®¾æˆ‘ä»¬è¦è°ƒç”¨ x.f(args)ï¼Œx æ˜¯å£°æ˜ä¸º C çš„ä¸€ä¸ªå¯¹è±¡ã€‚ä¸‹é¢æ˜¯è°ƒç”¨è¿‡ç¨‹çš„è¯¦ç»†æè¿°ï¼š ç¼–è¯‘å™¨æŸ¥çœ‹å¯¹è±¡çš„å£°æ˜ç±»å‹å’Œæ–¹æ³•åã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ‰å¯èƒ½å­˜åœ¨å¤šä¸ªåå­—ä¸º f ä½†å‚æ•°ç±»å‹ä¸ä¸€æ ·çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½å­˜åœ¨ f(int) å’Œ f(String)ã€‚ç¼–è¯‘å™¨å°†ä¼šä¸€ä¸€åˆ—ä¸¾ C ç±»ä¸­æ‰€æœ‰åä¸º f çš„æ–¹æ³•å’Œå…¶çˆ¶ç±»ä¸­æ‰€æœ‰åä¸º f è€Œä¸”å¯ä»¥è®¿é—®çš„æ–¹æ³• (çˆ¶ç±»ä¸­çš„ç§æœ‰æ–¹æ³•ä¸å¯è®¿é—®)ã€‚è‡³æ­¤ï¼Œç¼–è¯‘å™¨ä¸€ç›´åˆ°æ‰€æœ‰å¯èƒ½è¢«è°ƒç”¨çš„å€™é€‰æ–¹æ³•ã€‚ æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å™¨è¦ç¡®å®šæ–¹æ³•è°ƒç”¨ä¸­æä¾›çš„å‚æ•°ç±»å‹ã€‚å¦‚æœåœ¨æ‰€æœ‰åä¸º f çš„æ–¹æ³•ä¸­å­˜åœ¨ä¸€ä¸ªä¸æ‰€æä¾›å‚æ•°ç±»å‹å®Œå…¨åŒ¹é…çš„æ–¹æ³•ï¼Œå°±é€‰æ‹©è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º é‡è½½è§£æ (overloading resolution)ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè°ƒç”¨ x.f(&quot;Hello&quot;)ï¼Œç¼–è¯‘æœŸå°†ä¼šæŒ‘é€‰ f(String)ï¼Œè€Œä¸æ˜¯ f(int)ã€‚ç”±äºå…è®¸ç±»å‹è½¬æ¢ (ä¾‹å¦‚ï¼Œint å¯ä»¥è½¬æ¢æˆ double)ï¼Œæ‰€ä»¥æƒ…å†µå¯èƒ½ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰æ‰¾åˆ°ä¸å‚æ•°ç±»å‹åŒ¹é…çš„æ–¹æ³•ï¼Œæˆ–è€…å‘ç°ç»è¿‡ç±»å‹è½¬æ¢åæœ‰å¤šä¸ªæ–¹æ³•ä¸ä¹‹åŒ¹é…ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚è‡³æ­¤ï¼Œç¼–è¯‘å™¨å·²ç»çŸ¥é“éœ€è¦è°ƒç”¨çš„æ–¹æ³•çš„åå­—å’Œå‚æ•°ç±»å‹ã€‚ å¦‚æœæ˜¯ private æ–¹æ³•ã€static æ–¹æ³•ã€final æ–¹æ³• (æœ‰å…³ final ä¿®é¥°ç¬¦ä¼šåœ¨ä¸‹é¢è®²åˆ°) æˆ–è€…æ„é€ å™¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¯ä»¥æ˜ç¡®åœ°çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚è¿™ç§°ä¸º é™æ€ç»‘å®š (static binding)ã€‚ä¸æ­¤å¯¹åº”çš„æ˜¯ï¼Œå¦‚æœè¦è°ƒç”¨çš„æ–¹æ³•ä¾èµ–äºéšå¼å‚æ•°çš„å®é™…ç±»å‹ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨è¿è¡Œæ—¶ åŠ¨æ€ç»‘å®šã€‚åœ¨æˆ‘ä»¬çš„å®ä¾‹ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåˆ©ç”¨åŠ¨æ€ç»‘å®šç”Ÿæˆä¸€ä¸ªè°ƒç”¨ f(String) çš„æŒ‡ä»¤ã€‚ ç¨‹åºè¿è¡Œå¹¶ä¸”é‡‡ç”¨åŠ¨æ€ç»‘å®šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œè™šæ‹Ÿæœºå¿…é¡»è°ƒç”¨ä¸ x æ‰€å¼•ç”¨å¯¹è±¡çš„å®é™…ç±»å‹å¯¹åº”çš„é‚£ä¸ªæ–¹æ³•ã€‚å‡è®¾ x çš„å®é™…ç±»å‹æ˜¯ Dï¼Œå®ƒæ˜¯ C ç±»çš„å­ç±»ã€‚å¦‚æœ D ç±»å®šä¹‰äº†æ–¹æ³• f(String)ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼›å¦åˆ™ï¼Œå°†åœ¨ D ç±»çš„çˆ¶ç±»ä¸­å¯»æ‰¾ f(String)ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ¯æ¬¡è°ƒç”¨æ–¹æ³•éƒ½è¦å®Œæˆè¿™æ ·çš„æœç´¢ï¼Œæ—¶é—´å¼€é”€ç›¸å½“å¤§ã€‚å› æ­¤ï¼Œè™šæ‹Ÿæœºé¢„å…ˆä¸ºæ¯ä¸ªç±»è®¡ç®—äº†ä¸€ä¸ª æ–¹æ³•è¡¨ (method table)ï¼Œ å…¶ä¸­åˆ—å‡ºäº†æ‰€æœ‰æ–¹æ³•çš„ç­¾åå’Œè¦è°ƒç”¨çš„å®é™…æ–¹æ³• *(å­˜ç€å„ä¸ªæ–¹æ³•çš„å®é™…å…¥å£åœ°å€)ã€‚è¿™æ ·ä¸€æ¥ï¼Œåœ¨çœŸæ­£è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œè™šæ‹Ÿæœºä»…æŸ¥æ‰¾è¿™ä¸ªè¡¨å°±è¡Œäº†ã€‚(ä»¥ä¸‹æ˜¯ Video-çˆ¶ç±» å’Œ Movie-å­ç±» çš„æ–¹æ³•è¡¨ç»“æ„æ¼”ç¤ºå›¾)* ä¾‹å¦‚æˆ‘ä»¬è°ƒç”¨ä¸Šè¿°ä¾‹å­ Movie ç±»çš„ play() æ–¹æ³•ã€‚ public void play() {}; ç”±äº play() æ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œå› æ­¤ä¸å¿…æ‹…å¿ƒ é‡è½½è§£æ çš„é—®é¢˜ã€‚åˆä¸æ˜¯ private/ static/ final æ–¹æ³•ï¼Œæ‰€ä»¥å°†é‡‡ç”¨ åŠ¨æ€ç»‘å®š çš„æ–¹å¼ã€‚ åœ¨è¿è¡Œæ—¶ï¼Œè°ƒç”¨ object.play() çš„è§£æè¿‡ç¨‹ä¸ºï¼š é¦–å…ˆï¼Œè™šæ‹Ÿæœºè·å– object çš„å®é™…ç±»å‹çš„æ–¹æ³•è¡¨ã€‚è¿™å¯èƒ½æ˜¯ Videoã€Movie çš„æ–¹æ³•è¡¨ï¼Œä¹Ÿå¯èƒ½æ˜¯ Video ç±»çš„å…¶ä»–å­ç±»çš„æ–¹æ³•è¡¨ï¼› æ¥ä¸‹æ¥ï¼Œè™šæ‹ŸæœºæŸ¥æ‰¾å®šä¹‰äº† play() ç­¾åçš„ç±»ã€‚æ­¤æ—¶ï¼Œè™šæ‹Ÿæœºå·²ç»çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•äº†ï¼›(è¿™é‡Œå¦‚æœ object å®é™…ç±»å‹ä¸º Movie åˆ™è°ƒç”¨ Movie.play()ï¼Œä¸º Video åˆ™è°ƒç”¨ Video.play()ï¼Œå¦‚æœæ²¡æ‰¾åˆ°æ‰å¾€çˆ¶ç±»å»æ‰¾..) æœ€åï¼Œè™šæ‹Ÿæœºè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ åŠ¨æ€ç»‘å®šæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼šæ— é¡»å¯¹ç°æœ‰çš„ä»£ç è¿›è¡Œä¿®æ”¹å°±å¯ä»¥å¯¹ç¨‹åºè¿›è¡Œæ‰©å±•ã€‚ å‡è®¾ç°åœ¨æ–°å¢ä¸€ä¸ªç±» ShortVideoï¼Œå¹¶ä¸”å˜é‡ object æœ‰å¯èƒ½å¼•ç”¨è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¯¹åŒ…å«è°ƒç”¨ object.play() çš„ä»£ç é‡æ–°è¿›è¡Œç¼–è¯‘ã€‚å¦‚æœ object æ°å¥½å¼•ç”¨ä¸€ä¸ª ShortVideo ç±»çš„å¯¹è±¡ï¼Œå°±ä¼šè‡ªåŠ¨åœ°è°ƒç”¨ object.play() æ–¹æ³•ã€‚ è­¦å‘Šï¼šåœ¨è¦†ç›–ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå­ç±»çš„æ–¹æ³• ä¸èƒ½ä½äº çˆ¶ç±»æ–¹æ³•çš„ å¯è§æ€§ (public &gt; protected &gt; private)ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœçˆ¶ç±»æ–¹æ³•æ˜¯ publicï¼Œå­ç±»æ–¹æ³•å¿…é¡»ä¹Ÿè¦å£°æ˜ä¸º publicã€‚ final å…³é”®å­—æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›ç»„ç»‡äººä»¬åˆ©ç”¨æŸä¸ªç±»å®šä¹‰å­ç±»ã€‚ä¸å…è®¸æ‰©å±• (è¢«ç»§æ‰¿) çš„ç±»è¢«ç§°ä¸º final ç±»ã€‚å¦‚æœåœ¨å®šä¹‰ç±»çš„æ—¶å€™ä½¿ç”¨äº† final ä¿®é¥°ç¬¦å°±è¡¨æ˜è¿™ä¸ªç±»æ˜¯ final ç±»äº†ï¼š public final class ShortVideo extends Video { ... } ç±»ä¸­çš„æŸä¸ªç‰¹å®šæ–¹æ³•ä¹Ÿå¯ä»¥è¢«å£°æ˜ä¸º finalã€‚å¦‚æœè¿™æ ·åšï¼Œå­ç±»å°±ä¸èƒ½è¦†ç›–è¿™ä¸ªæ–¹æ³• (final ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨åœ°ç§°ä¸º final æ–¹æ³•)ã€‚ä¾‹å¦‚ï¼š public class Video { ... public final void Stop() { ... } ... } å¦‚æœä¸€ä¸ª å­—æ®µ è¢«å£°æ˜ä¸ºäº† final ç±»å‹ï¼Œé‚£ä¹ˆå¯¹äº final å­—æ®µæ¥è¯´ï¼Œæ„é€ å¯¹è±¡ä¹‹åå°±ä¸å…è®¸æ”¹å˜å®ƒä»¬çš„å€¼äº†ã€‚ä¸è¿‡ï¼Œå¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸º finalï¼Œåªæœ‰å…¶ä¸­çš„æ–¹æ³•è‡ªåŠ¨åœ°ç§°ä¸º finalï¼Œè€Œä¸åŒ…æ‹¬å­—æ®µï¼Œè¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚ å°†æ–¹æ³•æˆ–ç±»å£°æ˜ä¸º final çš„ä¸»è¦åŸå› æ˜¯ï¼šç¡®ä¿å®ƒä»¬ä¸ä¼šåœ¨å­ç±»ä¸­æ”¹å˜è¯­ä¹‰ã€‚ JDK ä¸­çš„ä¾‹å­ Calendar ç±» (JDK å®ç°çš„æ—¥å†ç±») ä¸­çš„ getTime å’Œ setTime æ–¹æ³•éƒ½å£°æ˜ä¸ºäº† finalï¼Œè¿™å°±è¡¨æ˜ Calendar ç±»çš„è®¾è®¡è€…è´Ÿè´£å®ç° Data ç±»ä¸æ—¥å†çŠ¶æ€ä¹‹é—´çš„è½¬æ¢ï¼Œè€Œä¸å…è®¸å­ç±»æ¥æ·»ä¹±ã€‚ åŒæ ·çš„ï¼ŒString ç±»ä¹Ÿæ˜¯ final ç±» (ç”šè‡³é¢è¯•ä¸­ä¹Ÿç»å¸¸å‡ºç°)ï¼Œè¿™æ„å‘³ç€ä¸å…è®¸ä»»ä½•äººå®šä¹‰ String çš„å­ç±»ï¼Œæ¢è€Œè¨€ä¹‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ª String å¼•ç”¨ï¼Œå®ƒå¼•ç”¨çš„ä¸€å®šæ˜¯ä¸€ä¸ª String å¯¹è±¡ï¼Œè€Œä¸å¯èƒ½æ˜¯å…¶ä»–ç±»çš„å¯¹è±¡ã€‚ å†…è”åœ¨æ—©èµ·çš„ Java ä¸­ï¼Œæœ‰äº›ç¨‹åºå‘˜ä¸ºäº†é¿å…åŠ¨æ€ç»‘å®šå¸¦æ¥çš„ç³»ç»Ÿå¼€é”€è€Œä½¿ç”¨ final å…³é”®å­—ã€‚å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è¢«è¦†ç›–å¹¶ä¸”å¾ˆçŸ­ï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿå¯¹å®ƒè¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸º å†…è” (inlining)ã€‚ ä¾‹å¦‚ï¼Œå†…è”è°ƒç”¨ e.getName() ä¼šè¢«æ›¿æ¢ä¸ºè®¿é—®å­—æ®µ e.nameã€‚ è¿™æ˜¯ä¸€é¡¹å¾ˆæœ‰æ„ä¹‰çš„æ”¹è¿›ï¼ŒCPU åœ¨å¤„ç†å½“å‰æŒ‡ä»¤æ—¶ï¼Œåˆ†æ”¯ä¼šæ‰°ä¹±é¢„å–æŒ‡ä»¤çš„ç­–ç•¥ï¼Œæ‰€ä»¥ï¼ŒCPU ä¸å–œæ¬¢åˆ†æ”¯ã€‚ç„¶è€Œï¼Œå¦‚æœ getName åœ¨å¦å¤–ä¸€ä¸ªç±»ä¸­ è¢«è¦†ç›–ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±æ— æ³•çŸ¥é“è¦†ç›–çš„ä»£ç å°†ä¼šåšä»€ä¹ˆæ“ä½œï¼Œå› æ­¤ä¹Ÿå°±ä¸èƒ½å¯¹å®ƒè¿›è¡Œå†…è”å¤„ç†äº†ã€‚ å¹¸è¿çš„æ˜¯ï¼Œè™šæ‹Ÿæœºä¸­çš„ å³æ—¶ç¼–è¯‘å™¨ (JIT) æ¯”ä¼ ç»Ÿç¼–è¯‘å™¨çš„å¤„ç†èƒ½åŠ›å¼ºå¾—å¤šã€‚è¿™ç§ç¼–è¯‘å™¨å¯ä»¥å‡†ç¡®åœ°çŸ¥é“ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œå¹¶èƒ½å¤Ÿæ£€æµ‹å‡ºæ˜¯å¦æœ‰ç±»ç¡®å®è¦†ç›–äº†ç»™å®šçš„æ–¹æ³•ã€‚ å¦‚æœæ–¹æ³•å¾ˆçŸ­ã€è¢«é¢‘ç¹è°ƒç”¨è€Œä¸”ç¡®å®æ²¡æœ‰è¢«è¦†ç›–ï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨å°±ä¼šå°†è¿™ä¸ªæ–¹æ³•è¿›è¡Œå†…è”å¤„ç†ã€‚å¦‚æœè™šæ‹ŸæœºåŠ è½½äº†å¦å¤–ä¸€ä¸ªå­ç±»ï¼Œè€Œè¿™ä¸ªå­ç±»è¦†ç›–äº†ä¸€ä¸ªå†…è”æ–¹æ³•ï¼Œé‚£ä¹ˆä¼˜åŒ–å™¨å°†å–æ¶ˆå¯¹è¿™ä¸ªæ–¹æ³•çš„å†…è”ã€‚è¿™ä¸ªè¿‡ç¨‹å¾ˆæ…¢ï¼Œä¸è¿‡å¾ˆå°‘ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ æŠ½è±¡ç±»åœ¨ç±»çš„è‡ªä¸‹è€Œä¸Šçš„ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­ï¼Œä½äºä¸Šå±‚çš„ç±»æ›´å…·æœ‰ä¸€èˆ¬æ€§ï¼Œä¹Ÿæ›´åŠ æŠ½è±¡ã€‚ä»æŸç§è§’åº¦çœ‹ï¼Œç¥–å…ˆç±»æ›´å…·æœ‰ä¸€èˆ¬æ€§ï¼Œäººä»¬é€šå¸¸åªæ˜¯å°†å®ƒä½œä¸ºæ´¾ç”Ÿå…¶ä»–ç±»çš„åŸºç±»ï¼Œè€Œä¸æ˜¯ç”¨æ¥æ„é€ ä½ æƒ³ä½¿ç”¨çš„ç‰¹å®šçš„å®ä¾‹ã€‚ è€ƒè™‘ä¸€ä¸ª Person ç±»çš„ç»§æ‰¿ç»“æ„ï¼š æ¯ä¸ªäººéƒ½æœ‰ä¸€äº›å±æ€§ï¼Œå¦‚åå­—ã€‚å­¦ç”Ÿä¸å‘˜å·¥éƒ½æœ‰åå­—ã€‚ ç°åœ¨ï¼Œå‡è®¾éœ€è¦å¢åŠ ä¸€ä¸ª getDescription() çš„æ–¹æ³•ï¼Œå®ƒè¿”å›å¯¹ä¸€ä¸ªäººç®€çŸ­çš„æè¿°ï¼Œå­¦ç”Ÿç±»å¯ä»¥è¿”å›ï¼šä¸€ä¸ªè®¡ç®—æœºåœ¨è¯»çš„å­¦ç”Ÿï¼Œå‘˜å·¥å¯ä»¥è¿”å› ä¸€ä¸ªåœ¨é˜¿é‡Œå°±èŒçš„åç«¯å·¥ç¨‹å¸ˆ ä¹‹ç±»çš„ã€‚è¿™åœ¨ Student å’Œ Employee ç±»ä¸­å®ç°å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯åœ¨ Person ç±»ä¸­åº”è¯¥æä¾›ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿ é™¤äº†å§“åï¼ŒPerson ç±»å¯¹è¿™ä¸ªäººä¸€æ— æ‰€çŸ¥ã€‚ æœ‰ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨ abstract å…³é”®å­—ï¼ŒæŠŠè¯¥æ–¹æ³•å®šä¹‰ä¸ºä¸€ä¸ª æŠ½è±¡æ–¹æ³•ï¼Œè¿™æ„å‘³ç€ä½ å¹¶ä¸éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦å®šä¹‰å‡ºæ¥å°±å¥½äº†ï¼š(ä»¥ä¸‹ä»£ç ä¸º Person ç±»ä¸­çš„æŠ½è±¡å®šä¹‰) public abstract String getDescription() {} ä¸ºäº†æé«˜ç¨‹åºçš„æ¸…æ™°åº¦ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•çš„ç±»æœ¬èº«å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ï¼š public abstract class Person { ... public abstract String getDescription() {} ... } ã€Šé˜¿é‡ŒJavaå¼€å‘è§„èŒƒã€‹å¼ºåˆ¶è§„å®šæŠ½è±¡ç±»å‘½å ä½¿ç”¨ Abstract æˆ– Base å¼€å¤´ï¼Œè¿™é‡Œåªæ˜¯åšæ¼”ç¤ºæ‰€ä»¥å°±ç®€å•ç”¨ Person ä»£æ›¿å•¦~ æŠ½è±¡æ–¹æ³•å……å½“ç€å ä½æ–¹æ³•çš„è§’è‰²ï¼Œå®ƒä»¬åœ¨å­ç±»ä¸­è¢«ç»§æ‰¿å¹¶å®ç°ã€‚ æ‰©å±•æŠ½è±¡ç±»å¯ä»¥ç”±ä¸¤ç§é€‰æ‹©ã€‚ä¸€ç§æ˜¯åœ¨å­ç±»ä¸­ä¿ç•™æŠ½è±¡ç±»ä¸­çš„éƒ¨åˆ†æˆ–æ‰€æœ‰æŠ½è±¡æ–¹æ³•ä»æœªå®ç°ï¼Œè¿™æ ·å°±å¿…é¡»å°†å­ç±»æ ‡è®°ä¸ºæŠ½è±¡ç±» (å› ä¸ºè¿˜æœ‰æŠ½è±¡æ–¹æ³•)ï¼›å¦ä¸€ç§åšæ³•å°±æ˜¯å®ç°å…¨éƒ¨æ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå­ç±»å°±ä¸æ˜¯æŠ½è±¡çš„äº†ã€‚ (å³ä½¿ä¸åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†ç±»å£°æ˜ä¸ºæŠ½è±¡ç±») æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸º abstractï¼Œå°±ä¸èƒ½åˆ›å»ºè¿™ä¸ªç±»çš„å®ä¾‹ï¼Œä¾‹å¦‚ï¼šnew Person(); å°±æ˜¯é”™è¯¯çš„ï¼Œä½†å¯ä»¥åˆ›å»ºå…·ä½“å­ç±»çš„å¯¹è±¡ï¼šPerson p = new Student(args);ï¼Œè¿™é‡Œçš„ p æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ Person çš„å˜é‡ï¼Œå®ƒå¼•ç”¨äº†ä¸€ä¸ªéæŠ½è±¡å­ç±» Student çš„å®ä¾‹ã€‚ Part 4. ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ç»§æ‰¿ï¼Ÿå…ˆåˆ«æ€¥ç€å¥‡æ€ªå’Œæ„¤æ‡‘ï¼Œåˆšå­¦ä¹ å®Œç»§æ‰¿ä¹‹åï¼Œå°±å‘Šè¯‰è¯´ä¸æ¨èä½¿ç”¨ï¼Œè¿™æ˜¯ æœ‰åŸå› çš„ï¼ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæœ‰ä¸€æ¡éå¸¸ç»å…¸çš„è®¾è®¡åŸåˆ™ï¼šç»„åˆä¼˜äºç»§æ‰¿ã€‚ä½¿ç”¨ç»§æ‰¿æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿç»„åˆç›¸æ¯”ç»§æ‰¿æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿå¦‚ä½•åˆ¤æ–­è¯¥ç”¨ç»„åˆè¿˜æ˜¯ç»§æ‰¿ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±å›´ç»•è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œæ¥è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚ ä»¥ä¸‹å†…å®¹å¤§éƒ¨åˆ†å¼•ç”¨è‡ªï¼šhttps://time.geekbang.org/column/article/169593 ä½¿ç”¨ç»§æ‰¿æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸Šé¢è¯´åˆ°ï¼Œç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡çš„å››å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œç”¨æ¥è¡¨ç¤ºç±»ä¹‹é—´çš„ is-a å…³ç³»ï¼Œå¯ä»¥è§£å†³ä»£ç å¤ç”¨çš„é—®é¢˜ã€‚è™½ç„¶ç»§æ‰¿æœ‰è¯¸å¤šä½œç”¨ï¼Œä½†ç»§æ‰¿å±‚æ¬¡è¿‡æ·±ã€è¿‡å¤æ‚ï¼Œä¹Ÿä¼šå½±å“åˆ°ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ã€‚ å‡è®¾æˆ‘ä»¬è¦è®¾è®¡ä¸€ä¸ªå…³äºé¸Ÿçš„ç±»ï¼Œæˆ‘ä»¬å°† â€œé¸Ÿç±»â€ è¿™æ ·ä¸€ä¸ªæŠ½è±¡çš„äº‹ç‰©æ¦‚å¿µï¼Œå®šä¹‰ä¸ºä¸€ä¸ªæŠ½è±¡ç±» AbstractBirdã€‚æ‰€æœ‰æ›´ç»†åˆ†çš„é¸Ÿï¼Œæ¯”å¦‚éº»é›€ã€é¸½å­ã€ä¹Œé¸¦ç­‰ï¼Œéƒ½ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå¤§éƒ¨åˆ†é¸Ÿéƒ½ä¼šé£ï¼Œé‚£æˆ‘ä»¬å¯ä¸å¯ä»¥åœ¨ AbstractBird æŠ½è±¡ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ª fly() æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å°½ç®¡å¤§éƒ¨åˆ†é¸Ÿéƒ½ä¼šé£ï¼Œä½†ä¹Ÿæœ‰ç‰¹ä¾‹ï¼Œæ¯”å¦‚é¸µé¸Ÿå°±ä¸ä¼šé£ã€‚é¸µé¸Ÿç»§æ‰¿å…·æœ‰ fly() æ–¹æ³•çš„çˆ¶ç±»ï¼Œé‚£é¸µé¸Ÿå°±å…·æœ‰â€œé£â€è¿™æ ·çš„è¡Œä¸ºï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬å¯¹ç°å®ä¸–ç•Œä¸­äº‹ç‰©çš„è®¤è¯†ã€‚å½“ç„¶ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œæˆ‘åœ¨é¸µé¸Ÿè¿™ä¸ªå­ç±»ä¸­é‡å†™ (override) fly() æ–¹æ³•ï¼Œè®©å®ƒæŠ›å‡º UnSupportedMethodException å¼‚å¸¸ä¸å°±å¯ä»¥äº†å—ï¼Ÿå…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š public class AbstractBird { //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... public void fly() { //... } } public class Ostrich extends AbstractBird { //é¸µé¸Ÿ //...çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... public void fly() { throw new UnSupportedMethodException(\"I can't fly.'\"); } } è¿™ç§è®¾è®¡æ€è·¯è™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†ä¸å¤Ÿä¼˜ç¾ã€‚å› ä¸ºé™¤äº†é¸µé¸Ÿä¹‹å¤–ï¼Œä¸ä¼šé£çš„é¸Ÿè¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¼é¹…ã€‚å¯¹äºè¿™äº›ä¸ä¼šé£çš„é¸Ÿæ¥è¯´ï¼Œæˆ‘ä»¬éƒ½éœ€è¦é‡å†™ fly() æ–¹æ³•ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚ è¿™æ ·çš„è®¾è®¡ï¼Œä¸€æ–¹é¢ï¼Œå¾’å¢äº†ç¼–ç çš„å·¥ä½œé‡ï¼›å¦ä¸€æ–¹é¢ï¼Œä¹Ÿè¿èƒŒäº†æˆ‘ä»¬ä¹‹åè¦è®²çš„æœ€å°çŸ¥è¯†åŸåˆ™ (Least Knowledge Principleï¼Œä¹Ÿå«æœ€å°‘çŸ¥è¯†åŸåˆ™æˆ–è€…è¿ªç±³ç‰¹æ³•åˆ™)ï¼Œæš´éœ²ä¸è¯¥æš´éœ²çš„æ¥å£ç»™å¤–éƒ¨ï¼Œå¢åŠ äº†ç±»ä½¿ç”¨è¿‡ç¨‹ä¸­è¢«è¯¯ç”¨çš„æ¦‚ç‡ã€‚ ä½ å¯èƒ½åˆä¼šè¯´ï¼Œé‚£æˆ‘ä»¬å†é€šè¿‡ AbstractBird ç±»æ´¾ç”Ÿå‡ºä¸¤ä¸ªæ›´åŠ ç»†åˆ†çš„æŠ½è±¡ç±»ï¼šä¼šé£çš„é¸Ÿç±» AbstractFlyableBird å’Œä¸ä¼šé£çš„é¸Ÿç±» AbstractUnFlyableBirdï¼Œè®©éº»é›€ã€ä¹Œé¸¦è¿™äº›ä¼šé£çš„é¸Ÿéƒ½ç»§æ‰¿ AbstractFlyableBirdï¼Œè®©é¸µé¸Ÿã€ä¼é¹…è¿™äº›ä¸ä¼šé£çš„é¸Ÿï¼Œéƒ½ç»§æ‰¿ AbstractUnFlyableBird ç±»ï¼Œä¸å°±å¯ä»¥äº†å—ï¼Ÿå…·ä½“çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç»§æ‰¿å…³ç³»å˜æˆäº†ä¸‰å±‚ã€‚ä¸è¿‡ï¼Œæ•´ä½“ä¸Šæ¥è®²ï¼Œç›®å‰çš„ç»§æ‰¿å…³ç³»è¿˜æ¯”è¾ƒç®€å•ï¼Œå±‚æ¬¡æ¯”è¾ƒæµ…ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§å¯ä»¥æ¥å—çš„è®¾è®¡æ€è·¯ã€‚æˆ‘ä»¬å†ç»§ç»­åŠ ç‚¹éš¾åº¦ã€‚åœ¨åˆšåˆšè¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨â€œé¸Ÿä¼šä¸ä¼šé£â€ï¼Œä½†å¦‚æœæˆ‘ä»¬å…³æ³¨æ›´å¤šçš„é—®é¢˜ï¼Œä¾‹å¦‚ â€œé¸Ÿä¼šä¸ä¼šå«â€ã€â€é¸Ÿä¼šä¸ä¼šä¸‹å•â€œ ç­‰â€¦ é‚£è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•è®¾è®¡ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å‘¢ï¼Ÿ æ€»ä¹‹ï¼Œç»§æ‰¿æœ€å¤§çš„é—®é¢˜å°±åœ¨äºï¼šç»§æ‰¿å±‚æ¬¡è¿‡æ·±ã€ç»§æ‰¿å…³ç³»è¿‡äºå¤æ‚ä¼šå½±å“åˆ°ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸æ¨èä½¿ç”¨ç»§æ‰¿ã€‚é‚£åˆšåˆšä¾‹å­ä¸­ç»§æ‰¿å­˜åœ¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•æ¥è§£å†³å‘¢ï¼Ÿ ç»„åˆç›¸æ¯”ç»§æ‰¿æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç»„åˆ (composition)*ã€æ¥å£ã€å§”æ‰˜ *(delegation) ä¸‰ä¸ªæŠ€æœ¯æ‰‹æ®µï¼Œä¸€å—å„¿æ¥è§£å†³åˆšåˆšç»§æ‰¿å­˜åœ¨çš„é—®é¢˜ã€‚ æˆ‘ä»¬å‰é¢è®²åˆ°æ¥å£çš„æ—¶å€™è¯´è¿‡ï¼Œæ¥å£è¡¨ç¤ºå…·æœ‰æŸç§è¡Œä¸ºç‰¹æ€§ã€‚é’ˆå¯¹â€œä¼šé£â€è¿™æ ·ä¸€ä¸ªè¡Œä¸ºç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª Flyable æ¥å£ (ç›¸å½“äºå®šä¹‰æŸä¸€ç§è¡Œä¸ºï¼Œä¸‹æ–¹ä¼šæœ‰ä»£ç è¯´æ˜)ï¼Œåªè®©ä¼šé£çš„é¸Ÿå»å®ç°è¿™ä¸ªæ¥å£ã€‚å¯¹äºä¼šå«ã€ä¼šä¸‹è›‹è¿™äº›è¡Œä¸ºç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç±»ä¼¼åœ°å®šä¹‰ Tweetable æ¥å£ã€EggLayable æ¥å£ã€‚æˆ‘ä»¬å°†è¿™ä¸ªè®¾è®¡æ€è·¯ç¿»è¯‘æˆ Java ä»£ç çš„è¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š public interface Flyable { void fly(); } public interface Tweetable { void tweet(); } public interface EggLayable { void layEgg(); } public class Ostrich implements Tweetable, EggLayable {//é¸µé¸Ÿ //... çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... @Override public void tweet() { //... } @Override public void layEgg() { //... } } public class Sparrow impelents Flayable, Tweetable, EggLayable {//éº»é›€ //... çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... @Override public void fly() { //... } @Override public void tweet() { //... } @Override public void layEgg() { //... } } ä¸è¿‡ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæ¥å£åªå£°æ˜æ–¹æ³•ï¼Œä¸å®šä¹‰å®ç°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªä¼šä¸‹è›‹çš„é¸Ÿéƒ½è¦å®ç°ä¸€é layEgg() æ–¹æ³•ï¼Œå¹¶ä¸”å®ç°é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´ä»£ç é‡å¤çš„é—®é¢˜ã€‚é‚£è¿™ä¸ªé—®é¢˜åˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥é’ˆå¯¹ä¸‰ä¸ªæ¥å£å†å®šä¹‰ä¸‰ä¸ªå®ç°ç±»ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šå®ç°äº† fly() æ–¹æ³•çš„ FlyAbility ç±»ã€å®ç°äº† tweet() æ–¹æ³•çš„ TweetAbility ç±»ã€å®ç°äº† layEgg() æ–¹æ³•çš„ EggLayAbility ç±»ã€‚ç„¶åï¼Œé€šè¿‡ ç»„åˆå’Œå§”æ‰˜ æŠ€æœ¯æ¥æ¶ˆé™¤ä»£ç é‡å¤ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š public interface Flyable { void fly()ï¼› } public class FlyAbility implements Flyable { @Override public void fly() { //... } } //çœç•¥Tweetable/TweetAbility/EggLayable/EggLayAbility public class Ostrich implements Tweetable, EggLayable {//é¸µé¸Ÿ private TweetAbility tweetAbility = new TweetAbility(); //ç»„åˆ private EggLayAbility eggLayAbility = new EggLayAbility(); //ç»„åˆ //... çœç•¥å…¶ä»–å±æ€§å’Œæ–¹æ³•... @Override public void tweet() { tweetAbility.tweet(); // å§”æ‰˜ } @Override public void layEgg() { eggLayAbility.layEgg(); // å§”æ‰˜ } } å½“ç„¶å•¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ JDK 1.8 ä¹‹åæ”¯æŒçš„æ¥å£é»˜è®¤æ–¹æ³•ï¼š public interface Flyable { default void fly() { // flyçš„ çš„é»˜è®¤å®ç° } } æˆ‘ä»¬çŸ¥é“ç»§æ‰¿ä¸»è¦æœ‰ä¸‰ä¸ªä½œç”¨ï¼šè¡¨ç¤º is-a å…³ç³»ï¼Œæ”¯æŒå¤šæ€ç‰¹æ€§ï¼Œä»£ç å¤ç”¨ã€‚è€Œè¿™ä¸‰ä¸ªä½œç”¨éƒ½å¯ä»¥é€šè¿‡å…¶ä»–æŠ€æœ¯æ‰‹æ®µæ¥è¾¾æˆã€‚æ¯”å¦‚ï¼š is-a å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆå’Œæ¥å£çš„ has-a å…³ç³»æ¥æ›¿ä»£ï¼› å¤šæ€ç‰¹æ€§æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ¥å£æ¥å®ç°ï¼› ä»£ç å¤ç”¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆå’Œå§”æ‰˜æ¥å®ç°ï¼› æ‰€ä»¥ï¼Œä»ç†è®ºä¸Šè®²ï¼Œé€šè¿‡ç»„åˆã€æ¥å£ã€å§”æ‰˜ä¸‰ä¸ªæŠ€æœ¯æ‰‹æ®µï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æ›¿æ¢æ‰ç»§æ‰¿ï¼Œåœ¨é¡¹ç›®ä¸­ä¸ç”¨æˆ–è€…å°‘ç”¨ç»§æ‰¿å…³ç³»ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å¤æ‚çš„ç»§æ‰¿å…³ç³»ã€‚ å¦‚ä½•åˆ¤æ–­è¯¥ç”¨ç»„åˆè¿˜æ˜¯ç»§æ‰¿ï¼Ÿå°½ç®¡æˆ‘ä»¬é¼“åŠ±å¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ï¼Œä½†ç»„åˆä¹Ÿå¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œç»§æ‰¿ä¹Ÿå¹¶éä¸€æ— æ˜¯å¤„ã€‚ä»ä¸Šé¢çš„ä¾‹å­æ¥çœ‹ï¼Œç»§æ‰¿æ”¹å†™æˆç»„åˆæ„å‘³ç€è¦åšæ›´ç»†ç²’åº¦çš„ç±»çš„æ‹†åˆ†ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œæˆ‘ä»¬è¦å®šä¹‰æ›´å¤šçš„ç±»å’Œæ¥å£ã€‚ç±»å’Œæ¥å£çš„å¢å¤šä¹Ÿå°±æˆ–å¤šæˆ–å°‘åœ°å¢åŠ ä»£ç çš„å¤æ‚ç¨‹åº¦å’Œç»´æŠ¤æˆæœ¬ã€‚æ‰€ä»¥ï¼Œåœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ ¹æ®å…·ä½“çš„æƒ…å†µï¼Œæ¥å…·ä½“é€‰æ‹©è¯¥ç”¨ç»§æ‰¿è¿˜æ˜¯ç»„åˆã€‚ å¦‚æœç±»ä¹‹é—´çš„ç»§æ‰¿ç»“æ„ç¨³å®š (ä¸ä¼šè½»æ˜“æ”¹å˜)ï¼Œç»§æ‰¿å±‚æ¬¡æ¯”è¾ƒæµ… *(æ¯”å¦‚ï¼Œæœ€å¤šæœ‰ä¸¤å±‚ç»§æ‰¿å…³ç³»)ï¼Œç»§æ‰¿å…³ç³»ä¸å¤æ‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¤§èƒ†åœ°ä½¿ç”¨ç»§æ‰¿ã€‚åä¹‹ï¼Œç³»ç»Ÿè¶Šä¸ç¨³å®šï¼Œç»§æ‰¿å±‚æ¬¡å¾ˆæ·±ï¼Œç»§æ‰¿å…³ç³»å¤æ‚ï¼Œæˆ‘ä»¬å°±å°½é‡ä½¿ç”¨ç»„åˆæ¥æ›¿ä»£ç»§æ‰¿ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº› è®¾è®¡æ¨¡å¼ ä¼šå›ºå®šä½¿ç”¨ç»§æ‰¿æˆ–è€…ç»„åˆã€‚æ¯”å¦‚ï¼Œè£…é¥°è€…æ¨¡å¼ï¼ˆdecorator patternï¼‰ã€ç­–ç•¥æ¨¡å¼ï¼ˆstrategy patternï¼‰ã€ç»„åˆæ¨¡å¼ï¼ˆcomposite patternï¼‰ç­‰éƒ½ä½¿ç”¨äº† ç»„åˆå…³ç³»ï¼Œè€Œ æ¨¡æ¿æ¨¡å¼ï¼ˆtemplate patternï¼‰ä½¿ç”¨äº† ç»§æ‰¿å…³ç³»ã€‚ å‰é¢æˆ‘ä»¬è®²åˆ°ç»§æ‰¿å¯ä»¥å®ç°ä»£ç å¤ç”¨ã€‚åˆ©ç”¨ç»§æ‰¿ç‰¹æ€§ï¼Œæˆ‘ä»¬æŠŠç›¸åŒçš„å±æ€§å’Œæ–¹æ³•ï¼ŒæŠ½å–å‡ºæ¥ï¼Œå®šä¹‰åˆ°çˆ¶ç±»ä¸­ã€‚å­ç±»å¤ç”¨çˆ¶ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¾¾åˆ°ä»£ç å¤ç”¨çš„ç›®çš„ã€‚ä½†æ˜¯ï¼Œæœ‰çš„æ—¶å€™ï¼Œä»ä¸šåŠ¡å«ä¹‰ä¸Šï¼ŒA ç±»å’Œ B ç±»å¹¶ä¸ä¸€å®šå…·æœ‰ç»§æ‰¿å…³ç³»ã€‚æ¯”å¦‚ï¼ŒCrawler ç±»å’Œ PageAnalyzer ç±»ï¼Œå®ƒä»¬éƒ½ç”¨åˆ°äº† URL æ‹¼æ¥å’Œåˆ†å‰²çš„åŠŸèƒ½ï¼Œä½†å¹¶ä¸å…·æœ‰ç»§æ‰¿å…³ç³» (æ—¢ä¸æ˜¯çˆ¶å­å…³ç³»ï¼Œä¹Ÿä¸æ˜¯å…„å¼Ÿå…³ç³»)ã€‚ä»…ä»…ä¸ºäº†ä»£ç å¤ç”¨ï¼Œç”Ÿç¡¬åœ°æŠ½è±¡å‡ºä¸€ä¸ªçˆ¶ç±»å‡ºæ¥ï¼Œä¼šå½±å“åˆ°ä»£ç çš„å¯è¯»æ€§ã€‚å¦‚æœä¸ç†Ÿæ‚‰èƒŒåè®¾è®¡æ€è·¯çš„åŒäº‹ï¼Œå‘ç° Crawler ç±»å’Œ PageAnalyzer ç±»ç»§æ‰¿åŒä¸€ä¸ªçˆ¶ç±»ï¼Œè€Œçˆ¶ç±»ä¸­å®šä¹‰çš„å´åªæ˜¯ URL ç›¸å…³çš„æ“ä½œï¼Œä¼šè§‰å¾—è¿™ä¸ªä»£ç å†™å¾—è«åå…¶å¦™ï¼Œç†è§£ä¸äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½¿ç”¨ç»„åˆå°±æ›´åŠ åˆç†ã€æ›´åŠ çµæ´»ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š public class Url { //...çœç•¥å±æ€§å’Œæ–¹æ³• } public class Crawler { private Url url; // ç»„åˆ public Crawler() { this.url = new Url(); } //... } public class PageAnalyzer { private Url url; // ç»„åˆ public PageAnalyzer() { this.url = new Url(); } //.. } è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯è¦æ±‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ç»§æ‰¿ã€‚å¦‚æœä½ ä¸èƒ½æ”¹å˜ä¸€ä¸ªå‡½æ•°çš„å…¥å‚ç±»å‹ï¼Œè€Œå…¥å‚åˆéæ¥å£ï¼Œä¸ºäº†æ”¯æŒå¤šæ€ï¼Œåªèƒ½é‡‡ç”¨ç»§æ‰¿æ¥å®ç°ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ ·ä¸€æ®µä»£ç ï¼Œå…¶ä¸­ FeignClient æ˜¯ä¸€ä¸ªå¤–éƒ¨ç±»ï¼Œæˆ‘ä»¬æ²¡æœ‰æƒé™å»ä¿®æ”¹è¿™éƒ¨åˆ†ä»£ç ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›èƒ½é‡å†™è¿™ä¸ªç±»åœ¨è¿è¡Œæ—¶æ‰§è¡Œçš„ encode() å‡½æ•°ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½é‡‡ç”¨ç»§æ‰¿æ¥å®ç°äº†ã€‚ public class FeignClient { // Feign Clientæ¡†æ¶ä»£ç  //...çœç•¥å…¶ä»–ä»£ç ... public void encode(String url) { //... } } public void demofunction(FeignClient feignClient) { //... feignClient.encode(url); //... } public class CustomizedFeignClient extends FeignClient { @Override public void encode(String url) { //...é‡å†™encodeçš„å®ç°...} } // è°ƒç”¨ FeignClient client = new CustomizedFeignClient(); demofunction(client); å°½ç®¡æœ‰äº›äººè¯´ï¼Œè¦æœç»ç»§æ‰¿ï¼Œ100% ç”¨ç»„åˆä»£æ›¿ç»§æ‰¿ï¼Œä½†æ˜¯æˆ‘çš„è§‚ç‚¹æ²¡é‚£ä¹ˆæç«¯ï¼ä¹‹æ‰€ä»¥ â€œå¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿â€ è¿™ä¸ªå£å·å–Šå¾—è¿™ä¹ˆå“ï¼Œåªæ˜¯å› ä¸ºï¼Œé•¿æœŸä»¥æ¥ï¼Œæˆ‘ä»¬è¿‡åº¦ä½¿ç”¨ç»§æ‰¿ã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œç»„åˆå¹¶ä¸å®Œç¾ï¼Œç»§æ‰¿ä¹Ÿä¸æ˜¯ä¸€æ— æ˜¯å¤„ã€‚åªè¦æˆ‘ä»¬æ§åˆ¶å¥½å®ƒä»¬çš„å‰¯ä½œç”¨ã€å‘æŒ¥å®ƒä»¬å„è‡ªçš„ä¼˜åŠ¿ï¼Œåœ¨ä¸åŒçš„åœºåˆä¸‹ï¼Œæ°å½“åœ°é€‰æ‹©ä½¿ç”¨ç»§æ‰¿è¿˜æ˜¯ç»„åˆï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬æ‰€è¿½æ±‚çš„å¢ƒç•Œã€‚ è¦ç‚¹å›é¡¾ ç»§æ‰¿æ¦‚è¿° / å•ç»§æ‰¿ / is-a å…³ç³» / ç±»ä¹‹é—´çš„å…³ç³» / å±‚çº§ç»“æ„ï¼› ç»§æ‰¿çš„å®ç° / è¦†ç›–æ–¹æ³• / protedcted / å‘ä¸Šè½¬å‹ï¼› Object ç±» / æ–¹æ³•è°ƒç”¨ / final / å†…è” / ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ç»§æ‰¿ï¼› ç»ƒä¹ æš‚æ— ï¼› å‚è€ƒèµ„æ–™ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ ã€Šç å‡ºé«˜æ•ˆ Java å¼€å‘æ‰‹å†Œã€‹ è®¾è®¡æ¨¡å¼ä¹‹ç¾ - ä¸ºä½•è¯´è¦å¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ï¼Ÿå¦‚ä½•å†³å®šè¯¥ç”¨ç»„åˆè¿˜æ˜¯ç»§æ‰¿ï¼Ÿ - https://time.geekbang.org/column/article/169593 Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html#part02 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 4ï¼šé¢å‘å¯¹è±¡åŸºç¡€","slug":"ã€ŒMoreThanJavaã€Day-4ï¼šé¢å‘å¯¹è±¡åŸºç¡€","date":"2020-08-04T04:03:00.000Z","updated":"2020-08-16T07:50:03.169Z","comments":true,"path":"2020/08/04/morethanjava-day-4-mian-xiang-dui-xiang-ji-chu/","link":"","permalink":"http://www.wmyskxz.com/2020/08/04/morethanjava-day-4-mian-xiang-dui-xiang-ji-chu/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. é¢å‘å¯¹è±¡è®¾è®¡æ¦‚è¿° é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ (Object-Oriented Programming, OOP) æ˜¯å½“ä»Šä¸»æµçš„ç¨‹åºè®¾è®¡èŒƒå‹ï¼Œå®ƒå–ä»£äº† 20 ä¸–çºª 70 å¹´ä»£çš„ â€œç»“æ„åŒ–â€ æˆ–è¿‡ç¨‹å¼ç¼–ç¨‹æŠ€æœ¯ã€‚ç”±äº Java æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œæ‰€ä»¥å¿…é¡»ç†Ÿæ‚‰ OOP æ‰èƒ½å¤Ÿå¾ˆå¥½åœ°ä½¿ç”¨ Javaã€‚ äº†è§£æŠ½è±¡æŠ½è±¡çš„ä½œç”¨æ˜¯å°†å¤æ‚çš„æœºåˆ¶éšè—åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä»…ä¿ç•™æˆ‘ä»¬ä¸ä¹‹äº¤äº’æ‰€å¿…é¡»çš„ä¿¡æ¯ã€‚ ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡å¹³æ—¶ä½¿ç”¨ ã€Œç”µæ¢¯ã€ çš„åœºæ™¯ã€‚ å¦‚æœæ‚¨åœ¨åŠå…¬æ¥¼å·¥ä½œï¼Œè¿™å¯èƒ½æ˜¯æ‚¨æ—¥å¸¸å·¥ä½œçš„ä¸€éƒ¨åˆ†ã€‚ä½ æŒ‰ä¸‹å‘ä¸Šæˆ–å‘ä¸‹æŒ‰é’®ï¼Œç„¶åç­‰å¾…é—¨æ»‘å¼€ã€‚å®Œæˆæ“ä½œåï¼Œæ‚¨è¿›å…¥ä¸€ä¸ª â€œç›’å­â€ï¼Œè¯¥ â€œç›’å­â€ çš„ä¸€é¢å¢™ä¸Šæœ‰ä¸€ä¸ªæŒ‰é’®é¢æ¿ï¼Œç„¶åæŒ‰ä¸‹æ‰€éœ€çš„æŒ‰é’®ã€‚å½“ç”µæ¢¯åˆ°è¾¾æ‚¨è¦å»åˆ°çš„æ¥¼å±‚åï¼Œæ‚¨ä¼šæŒ¤è¿‡å…¶ä»–äººç„¶åèµ°å‡ºå»ã€‚ è¦ä½¿ç”¨ç”µæ¢¯ï¼Œæ‚¨åªéœ€è¦äº†è§£å¦‚ä½•æŒ‰ä¸‹æ­£ç¡®çš„æŒ‰é’®å°±å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚ è€Œéšè—åœ¨ç”µæ¢¯èƒŒåçš„æ”¯æŒå®ƒå·¥ä½œçš„ä¸€ç³»åˆ—ä¸œè¥¿ â€”â€” æ»‘è½®ç³»ç»Ÿã€æœºæ¢°ã€ç”µçº¿ã€å‡éœ‡å™¨ã€å®‰å…¨ç³»ç»Ÿç­‰ç­‰â€¦ æ‚¨å¯ä»¥å®Œå…¨ä¸çŸ¥é“ä¹Ÿå®Œå…¨ä¸å¿…æ“å¿ƒâ€¦ ç”µæ¢¯è¿™ä¸ª â€œé“ç›’å­â€ ä»¥åŠç›¸åº”çš„æŒ‰é’®é¢æ¿ï¼Œå°±æ˜¯å¯¹æ•´ä¸ªã€Œè¿è¾“ç³»ç»Ÿã€æˆåŠŸçš„æŠ½è±¡ (äº‹å®ä¸Šç”µæ¢¯èƒŒåè¿˜åŒ…å«æ£€ä¿®ã€ç»´æŠ¤ç­‰ä¸€ç³»åˆ—äº‹æƒ…â€¦)ï¼Œå®ƒéšè—äº†è¶³å¤Ÿå¤šçš„ç»†èŠ‚ï¼Œä¹Ÿæå¤§åœ°æ–¹ä¾¿äº†æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚ ä»€ä¹ˆæ˜¯å¯¹è±¡ç®€å•æ¥è¯´ï¼Œå¯¹è±¡æ˜¯å¯¹ç°å®ä¸–ç•Œçš„æŠ½è±¡ã€‚ (ä¾‹å¦‚ä¸Šæ–¹å¯¹æ•´ä¸ªè¿è¾“ç³»ç»ŸæŠ½è±¡ä¹‹åï¼Œå°±å¾—åˆ°äº†ã€Œç”µæ¢¯ã€è¿™ä¸ªå¯¹è±¡â€¦) ä»€ä¹ˆä¸œè¥¿æ˜¯å¯¹è±¡ï¼Ÿä»€ä¹ˆä¸œè¥¿ä¸æ˜¯å¯¹è±¡ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå›°æ‰°å“²å­¦å®¶æ•°åƒå¹´çš„é—®é¢˜ã€‚å‹’å†…Â·ç¬›å¡å°” (17ä¸–çºªçš„å“²å­¦å®¶) è§‚å¯Ÿåˆ°ï¼Œäººç±»æ˜¯ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼çœ‹å¾…ä¸–ç•Œçš„ (ä¾‹å¦‚ä¸ç”µæ¢¯çš„äº¤äº’)ã€‚äººç±»çš„å¤§è„‘ä¼šä»å¯¹è±¡çš„è§’åº¦è®¤è¯†ä¸–ç•Œ (ä¾‹å¦‚é¸Ÿç±»ã€é±¼ç±»)ï¼Œæˆ‘ä»¬çš„æ€æƒ³å’Œè®°å¿†ä¹Ÿè¢«ç»„ç»‡æˆç‰©ä½“å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³» (ä¾‹å¦‚ï¼Œé¸Ÿåƒè™«)ã€‚ å¯¹è±¡åƒæ˜¯ä¸€ç§æ¨¡æ¿äºšé‡Œå£«å¤šå¾·å¤§æ¦‚æ˜¯ç¬¬ä¸€ä¸ªæ·±å…¥ç ”ç©¶ ç±»å‹ (type) çš„å“²å­¦å®¶ï¼Œå®ƒæ›¾ç»æå‡ºè¿‡ é±¼ç±» å’Œ é¸Ÿç±» è¿™æ ·çš„æ¦‚å¿µã€‚æ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä½†åŒæ—¶ä¹Ÿæ˜¯å…·æœ‰ç›¸åŒçš„ç‰¹æ€§å’Œè¡Œä¸ºçš„å¯¹è±¡æ‰€å½’å±çš„ç±»çš„ä¸€éƒ¨åˆ†ã€‚ è¿™å°±å¥½åƒæˆ‘ä»¬æ‹¿ç€ä¸€ä¸ªæ¨¡å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å…·åˆ¶ä½œå‡ºå„ç§å„æ ·ä¸œè¥¿ï¼Œæ¯ä¸ªä¸œè¥¿éƒ½æœ‰è‡ªå·±çš„ â€œä¸ªæ€§â€ï¼Œä½†å®ƒä»¬åˆéƒ½éµå¾ªä¸€äº›ç›¸åŒçš„åŸºæœ¬æ¨¡å¼ï¼š å¯¹è±¡çš„ç‰¹å¾æˆ‘ä»¬å¯ä»¥æŠŠä½ çš„ã€Œé“¶è¡Œè´¦æˆ·ã€æŠ½è±¡æˆä¸€ä¸ªå¯¹è±¡ï¼Œä½†å®ƒä¸æ˜¯ç”±ç‰©è´¨æ„æˆçš„ã€‚(è™½ç„¶æ‚¨å’Œé“¶è¡Œå¯ä»¥ä½¿ç”¨çº¸å¼ å’Œå…¶ä»–ææ–™æ¥è®°å½•æ‚¨çš„è´¦æˆ·ï¼Œä½†æ‚¨çš„è´¦æˆ·ç‹¬ç«‹äºè¿™äº›ææ–™è€Œå­˜åœ¨ã€‚) è™½ç„¶å®ƒä¸æ˜¯ç‰©è´¨çš„ï¼Œä½†ä½ çš„è´¦æˆ·æ˜¯æœ‰ å±æ€§ çš„ (ä½™é¢ã€åˆ©ç‡ã€æŒæœ‰è€…ç­‰..)ï¼Œä½ å¯ä»¥å¯¹å®ƒåšä¸€äº›äº‹æƒ… (å­˜æ¬¾ã€å–æ¬¾ã€æŸ¥çœ‹ä½™é¢ç­‰..,)ï¼Œå®ƒè‡ªå·±ä¹Ÿå¯ä»¥åšä¸€äº›äº‹æƒ… (äº¤æ˜“æ”¶è´¹ã€ç§¯ç´¯åˆ©æ¯ç­‰â€¦)ã€‚ è¿™è¶³å¤Ÿæ¸…æ¥šå§ã€‚äº‹å®ä¸Šï¼Œè¿™äº›ç‰¹å¾å®ƒä»¬éƒ½æœ‰åå­—ï¼š å¯¹è±¡å…·æœ‰ æ ‡è¯† identityï¼›(æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ç‹¬ç«‹çš„ä¸ªä½“) å¯¹è±¡å…·æœ‰ çŠ¶æ€ stateï¼›(å®ƒå…·æœ‰å„ç§å¯èƒ½ä¼šæ”¹å˜çš„å±æ€§) å¯¹è±¡å…·æœ‰ è¡Œä¸º behaviorï¼›(å®ƒå¯ä»¥åšäº‹æƒ…ï¼Œä¹Ÿå¯ä»¥è®©åˆ«äººå¯¹å®ƒåšäº‹æƒ…) è¿™å°±æ˜¯å¯¹ä¸€ä¸ªç‰©ä½“çš„ä¸€èˆ¬æè¿°ã€‚(ä¸Šé¢çš„åˆ—è¡¨æ¥è‡ªäº 1994 å¹´ Grady Booch/Addison-Wesley å‡ºç‰ˆçš„ã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹ä¸€ä¹¦ã€‚) å½“ä½ å¼€å§‹ç¼–å†™é¢å‘å¯¹è±¡çš„è½¯ä»¶æ—¶ï¼Œä½ ä¼šå‘ç°è¿™ä¸ªåˆ—è¡¨å°†å¸®åŠ©ä½ å†³å®šä½ çš„å¯¹è±¡åº”è¯¥æ˜¯ä»€ä¹ˆæ ·ã€‚ ç¼–ç¨‹è¯­è¨€ä¸­çš„æŠ½è±¡è¿‡ç¨‹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æä¾›æŠ½è±¡æœºåˆ¶ã€‚å¯ä»¥è®¤ä¸ºï¼Œäººä»¬æ‰€èƒ½å¤Ÿè§£å†³çš„é—®é¢˜çš„å¤æ‚æ€§ç›´æ¥å–å†³äºæŠ½è±¡çš„ç±»å‹å’Œè´¨é‡ã€‚ æ‰€è°“çš„ â€œç±»å‹â€ æ˜¯æŒ‡ â€œæ‰€æŠ½è±¡çš„æ˜¯ä»€ä¹ˆï¼Ÿâ€ã€‚ æ±‡ç¼–è¯­è¨€æ˜¯å¯¹åº•å±‚æœºå™¨è¯­è¨€çš„è½»å¾®æŠ½è±¡ï¼Œæ¥ç€å‡ºç°çš„è®¸å¤š â€œå‘½ä»¤å¼â€ è¯­è¨€ (å¦‚ FORTRANã€BASICã€C ç­‰..) éƒ½æ˜¯å¯¹æ±‡ç¼–è¯­è¨€çš„è¿›ä¸€æ­¥æŠ½è±¡ã€‚ è¿™äº›è¯­è¨€åœ¨æ±‡ç¼–è¯­è¨€åŸºç¡€ä¸Šæœ‰äº†å¾ˆå¤§å¹…åº¦çš„æ”¹è¿›ï¼Œä½†æ˜¯å®ƒä»¬æ‰€ä½œçš„ä¸»è¦æŠ½è±¡ä»è¦æ±‚åœ¨è§£å†³é—®é¢˜æ—¶è¦åŸºäºè®¡ç®—æœºçš„ç»“æ„ï¼Œè€Œä¸æ˜¯åŸºäºæ‰€è¦è§£å†³çš„é—®é¢˜çš„ç»“æ„æ¥è€ƒè™‘ã€‚ ä¼ ç»Ÿçš„ç»“æ„åŒ–ç¨‹åºè®¾è®¡é€šè¿‡è®¾è®¡ä¸€ç³»åˆ—çš„è¿‡ç¨‹ (å³ç®—æ³•) æ¥æ±‚è§£é—®é¢˜ã€‚ä¸€æ—¦ç¡®å®šäº†è¿™äº›è¿‡ç¨‹ï¼Œå°±è¦å¼€å§‹è€ƒè™‘å­˜å‚¨æ•°æ®çš„é€‚å½“æ–¹å¼ã€‚ è¿™å°±æ˜¯ Pascal è¯­è¨€çš„è®¾è®¡è€… Niklaus Wirth å°†å…¶è‘—ä½œå‘½åä¸ºã€Šç®—æ³• + æ•°æ®ç»“æ„ = ç¨‹åºã€‹(Algorithms + Data Structures = Programs, Prentice Hall, 1975) çš„åŸå› ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ Wirth çš„è¿™ä¸ªä¹¦åä¸­ï¼Œç®—æ³•æ˜¯ç¬¬ä¸€ä½çš„ï¼Œæ•°æ®ç»“æ„æ˜¯ç¬¬äºŒä½çš„ï¼Œè¿™å°±æ˜ç¡®çš„è¡¨è¿°äº†ç¨‹åºå‘˜çš„å·¥ä½œæ–¹å¼ã€‚é¦–å…ˆè¦ç¡®å®šå¦‚ä½•æ“ä½œæ•°æ®ï¼Œç„¶åå†å†³å®šå¦‚ä½•ç»„ç»‡æ•°æ®çš„ç»“æ„ï¼Œä»¥ä¾¿äºæ“ä½œæ•°æ®ã€‚ è€Œ OOP å´è°ƒæ¢äº†è¿™ä¸ªæ¬¡åºï¼Œå°†æ•°æ®æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œç„¶åå†è€ƒè™‘æ“ä½œæ•°æ®çš„ç®—æ³•ã€‚(åœ¨ OOP ä¸­ï¼Œä¹Ÿæœ‰è¯´æ³•æ˜¯ï¼šç¨‹åº = å¯¹è±¡ + äº¤äº’) è¿™ä½¿å¾—ç¨‹åºå‘˜å¿…é¡»å»ºç«‹èµ·åœ¨ æœºå™¨æ¨¡å‹ (ä½äº â€œè§£ç©ºé—´â€ å†…ï¼Œè¿™æ˜¯ä½ å¯¹é—®é¢˜å»ºæ¨¡çš„åœ°æ–¹ï¼Œä¾‹å¦‚è®¡ç®—æœº) å’Œ å®é™…éœ€è¦è§£å†³é—®é¢˜çš„æ¨¡å‹ (ä½äº â€œé—®é¢˜ç©ºé—´â€ å†…ï¼Œè¿™æ˜¯é—®é¢˜å­˜åœ¨çš„åœ°æ–¹ï¼Œä¾‹å¦‚ä¸€é¡¹ä¸šåŠ¡) ä¹‹é—´çš„ å…³è”ã€‚ å»ºç«‹è¿™ç§æ˜ å°„æ˜¯è´¹åŠ›çš„ï¼Œè€Œä¸”è¿™ä¸å±äºç¼–ç¨‹è¯­è¨€å›ºæœ‰çš„åŠŸèƒ½ï¼Œè¿™ä½¿å¾—ç¨‹åºéš¾ä»¥ç¼–å†™ï¼Œå¹¶ä¸”ç»´æŠ¤ä»£ä»·é«˜æ˜‚ï¼ŒåŒæ—¶ä¹Ÿäº§ç”Ÿäº†ä½œä¸ºå‰¯äº§ç‰©çš„æ•´ä¸ª â€œç¼–ç¨‹æ–¹æ³•â€ è¡Œä¸šã€‚ é¢å‘å¯¹è±¡æ€æƒ³çš„çªç ´å¦ä¸€ç§å¯¹æœºå™¨å»ºæ¨¡çš„æ–¹å¼å°±æ˜¯é’ˆå¯¹å¾…è§£é—®é¢˜å»ºæ¨¡ã€‚ æ—©æœŸçš„ç¼–ç¨‹è¯­è¨€ï¼Œä¾‹å¦‚ LISP å’Œ APLï¼Œéƒ½æ˜¯é€‰æ‹©ä¸€äº›ç‰¹å®šçš„è§†è§’æ¥ â€œè§£é‡Šä¸–ç•Œâ€ (åˆ†åˆ«æ•Œè¥ â€œæ‰€æœ‰é—®é¢˜æœ€ç»ˆéƒ½æ˜¯åˆ—è¡¨â€ æˆ–è€… â€œæ‰€æœ‰é—®é¢˜éƒ½æ˜¯ç®—æ³•å½¢å¼çš„â€)ã€‚PROLOG åˆ™å°†æ‰€æœ‰é—®é¢˜éƒ½è½¬æ¢æˆå†³ç­–é“¾ã€‚æ­¤å¤–è¿˜äº§ç”Ÿäº†åŸºäºçº¦æŸæ¡ä»¶ç¼–ç¨‹çš„è¯­è¨€å’Œä¸“é—¨é€šè¿‡å¯¹å›¾å½¢ç¬¦å·æ“ä½œæ¥å®ç°ç¼–ç¨‹çš„è¯­è¨€ (åæ¥è¢«è¯æ˜é™åˆ¶æ€§è¿‡å¼º)ã€‚ è¿™äº›æ–¹å¼å¯¹äºå®ƒä»¬æœ¬èº«æ‰€è¦è§£å†³çš„ ç‰¹å®šç±»å‹çš„é—®é¢˜ éƒ½æ˜¯ä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸€æ—¦ è¶…å‡º å…¶ç‰¹å®šé¢†åŸŸï¼Œå®ƒä»¬å°±åŠ›ä¸ä»å¿ƒäº†ã€‚ é¢å‘å¯¹è±¡çš„æ–¹å¼é€šè¿‡å‘ç¨‹åºå‘˜æä¾›è¡¨ç¤ºé—®é¢˜ç©ºé—´ä¸­çš„å…ƒç´ çš„å·¥å…·è€Œæ›´è¿‘äº†ä¸€æ­¥ã€‚ è¿™ç§è¡¨ç¤ºæ–¹å¼éå¸¸é€šç”¨ï¼Œä½¿å¾—ç¨‹åºå‘˜ä¸ä¼šå—é™äºä»»ä½•ç‰¹å®šç±»å‹çš„é—®é¢˜ã€‚æˆ‘ä»¬æŠŠé—®é¢˜ç©ºé—´ä¸­çš„ä¸€äº›åŸºæœ¬å…ƒç´ è¿›ä¸€æ­¥æŠ½è±¡æˆè§£ç©ºé—´ä¸­çš„ â€œå¯¹è±¡â€ã€‚è¿™ç§æ€æƒ³çš„å®è´¨æ˜¯ï¼šç¨‹åºå¯ä»¥é€šè¿‡æ·»åŠ æ–°ç±»å‹çš„å¯¹è±¡ä½¿å…¶è‡ªèº«é€‚ç”¨äºæŸä¸ªç‰¹å®šçš„é—®é¢˜ã€‚ å› æ­¤ï¼Œå½“ä½ åœ¨é˜…è¯»æè¿°è§£å†³æ–¹æ¡ˆçš„ä»£ç çš„åŒæ—¶ï¼Œä¹Ÿæ˜¯åœ¨é˜…è¯»é—®é¢˜çš„è¡¨è¿°ã€‚ç›¸æ¯”ä¹‹å‰çš„è¯­è¨€ï¼Œè¿™æ˜¯ä¸€ç§æ›´çµæ´»å’Œæ›´å¼ºåŠ›çš„è¯­è¨€æŠ½è±¡ã€‚æ‰€ä»¥ï¼ŒOOP å…è®¸æ ¹æ®é—®é¢˜æ¥æè¿°é—®é¢˜ï¼Œè€Œä¸æ˜¯æ ¹æ®è¿è¡Œè§£å†³æ–¹æ¡ˆçš„è®¡ç®—æœºæ¥æè¿°é—®é¢˜ã€‚ é¢å‘å¯¹è±¡è½¯ä»¶çš„æœ€é‡è¦çš„çªç ´ä¹‹ä¸€å°±æ˜¯å…è®¸æˆ‘ä»¬æŒ‰ç…§ è‡ªç„¶çš„é¢å‘å¯¹è±¡çš„å¤§è„‘æ€ç»´æ–¹å¼ç›¸åŒ¹é…çš„æ–¹å¼ç»„ç»‡è½¯ä»¶ã€‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨å…·æœ‰å±æ€§å¹¶èƒ½å¤Ÿä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æ›´æ”¹ä¸»å­˜å‚¨å™¨ä¸­çš„ bit æ•°æ®çš„æœºå™¨æŒ‡ä»¤ã€‚å½“ç„¶ï¼Œåœ¨æœºå™¨å±‚é¢ä¸Šä»€ä¹ˆä¹Ÿæ²¡æœ‰æ”¹å˜â€”â€”bit æ•°æ®ä»æ˜¯ç”±æœºå™¨æŒ‡ä»¤æ“ä½œçš„ï¼Œä½†è‡³å°‘æˆ‘ä»¬ä¸ç”¨å†è€ƒè™‘æœºå™¨æŒ‡ä»¤äº†ï¼ å¯¹äºä¸€äº›è§„æ¨¡è¾ƒå°çš„é—®é¢˜ï¼Œå°†å…¶åˆ†è§£ä¸ºè¿‡ç¨‹çš„å¼€å‘æ–¹å¼æ¯”è¾ƒç†æƒ³ã€‚é¢å‘å¯¹è±¡æ›´åŠ é€‚åˆè§£å†³è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜ã€‚è¦æƒ³å®ç°ä¸€ä¸ªç®€å•çš„ Web æµè§ˆå™¨å¯èƒ½éœ€è¦å¤§çº¦ 2000 ä¸ªè¿‡ç¨‹ï¼Œè¿™äº›è¿‡ç¨‹å¯èƒ½éœ€è¦å¯¹ä¸€ç»„å…¨å±€æ•°æ®è¿›è¡Œæ“ä½œã€‚ é‡‡ç”¨é¢å‘å¯¹è±¡çš„è®¾è®¡é£æ ¼ï¼Œå¯èƒ½åªéœ€è¦å¤§çº¦ 100 ä¸ªç±»ï¼Œæ¯ä¸ªç±»å¹³å‡åŒ…å« 20 ä¸ªæ–¹æ³•ã€‚è¿™æ˜æ˜¾æ˜“äºç¨‹åºå‘˜æŒæ¡ï¼Œä¹Ÿå®¹æ˜“æ‰¾åˆ° BUGã€‚(å‡è®¾ç»™å®šå¯¹è±¡çš„æ•°æ®å‡ºé”™äº†ï¼Œåœ¨è®¿é—®è¿™ä¸ªæ•°æ®é¡¹çš„ 20 ä¸ªæ–¹æ³•ä¸­æŸ¥æ‰¾é”™è¯¯è¦æ¯”åœ¨ 2000 ä¸ªè¿‡ç¨‹ä¸­æŸ¥æ‰¾è¦å®¹æ˜“å¤šäº†) OOP çš„èµ·æºæ­£å¦‚æˆ‘ä»¬ä¸Šé¢æè¿°çš„é‚£æ ·ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ˜¯å½“ä»Šä¸å¯å›é¿çš„ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å˜æˆç°å®çš„ã€‚ æ—¶é—´å›åˆ°ä¸Šä¸–çºª 60 å¹´ä»£ï¼Œé‚£ä¸ªæ—¶å€™è®¡ç®—æœºå›¾å½¢è¿˜ä¸å­˜åœ¨ã€‚å½“æ—¶ï¼Œç¾å›½è®¡ç®—æœºç§‘å­¦å®¶ Ivan Edward Sutherland å®ç°äº†èƒ½å¤Ÿç»˜å›¾çš„åº”ç”¨ç¨‹åºï¼Œåå«ï¼šSketchPadã€‚ å®ƒæ˜¯ä¸“é—¨ä¸ºè®¾è®¡äººå‘˜å¼€å‘çš„ï¼Œå®ƒå…è®¸è®¾è®¡äººå‘˜ä½¿ç”¨æ‰‹å†™ç¬”é€šè¿‡è®¡ç®—æœºç»˜åˆ¶ç®€å•çš„å‡ ä½•å½¢çŠ¶ï¼Œä¾‹å¦‚ä¸‰è§’å½¢ã€æ­£æ–¹å½¢ã€åœ†å½¢ç­‰ã€‚è¯¥é¡¹ç›®ä¹Ÿæ˜¯ è®¡ç®—æœºè¾…åŠ©è®¾è®¡ CAD çš„èµ·ç‚¹ã€‚ è¿™æˆä¸ºäº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ å¥ åŸºå…¸èŒƒ ä¹‹ä¸€ã€‚ å› ä¸ºåœ¨ Ivan çš„ç¨‹åºè®¾è®¡ä¸­ï¼Œä½¿ç”¨äº†æˆ‘ä»¬ç°åœ¨ç§°ä¸º â€œå¯¹è±¡â€ çš„è¡¨ç°å½¢å¼æ¥æè¿°ç°å®ç”Ÿæ´»ä¸­çš„å‡ ä½•å›¾å½¢ï¼Œè¿™äº›å›¾å½¢å¯¹äºè®¾è®¡äººå‘˜æ¥è¯´æ˜¯å®Œå…¨å¯ä»¥ç†è§£çš„ï¼ è¿™å…¶ä¸­æ²¡æœ‰æ— ç©·æ— å°½çš„å˜é‡å’Œå‡½æ•°ï¼Œè€Œæ˜¯é€šè¿‡å…·ä½“çš„å‡ ä½•å›¾å½¢ (å¯¹è±¡å½¢å¼) æ¥æè¿° (åŒ…æ‹¬ä¸Šä¸‹æ–‡æ•°æ®ï¼Œéƒ½å­˜å‚¨åœ¨å˜é‡ä¸­) å’Œæ“ä½œ (å‡½æ•°å®ç°) è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ä»¥ä¸€ç§å…³ç³»è¿›è¡Œç®¡ç†è¿™äº›ç‰¹å®šçš„å…ƒç´ ã€‚ è¿™äº›ä¸œè¥¿åœ¨ç°åœ¨éƒ½æœ‰ç¡®åˆ‡çš„åç§°ã€‚(åˆ†åˆ«å¯¹åº” â€œå±æ€§â€ å’Œ â€œæ–¹æ³•â€) OOP çš„è§„èŒƒåŒ–Ivan çš„é¡¹ç›®å’Œå…¶ä»–ä¸€äº›é¡¹ç›®åœ¨ 1967 å¹´å½±å“äº† Simula ç¼–ç¨‹è¯­è¨€ã€‚è¯¥è¯­è¨€ç¬¬ä¸€æ¬¡ç›´æ¥å°†é¢å‘å¯¹è±¡çš„æ€æƒ³å¼•å…¥åˆ°äº† ç¼–ç¨‹è¯­è¨€ä¸­ (é‡å¤§æ›´æ–°ä¹‹åè¢«ç§°ä¸º Simula-67)ã€‚ 1970 å¹´ä»£ï¼ŒXerox (è´Ÿè´£é¼ æ ‡å’Œå›¾å½¢ç•Œé¢çš„å‘æ˜) åœ¨ä¸ªäººç”µè„‘ä¸Šå·¥ä½œã€‚ä»–ä»¬å¸Œæœ›é€šè¿‡æ“çºµ GUI å’Œé¼ æ ‡æ¥åˆ›å»ºä»»ä½•äººéƒ½å¯ä»¥è½»æ¾ä½¿ç”¨çš„è®¡ç®—æœºã€‚ ä¸ºäº†è¡¨ç¤ºå±å¹•ä¸Šçš„æ‰€æœ‰å…ƒç´ å¹¶æ”¯æŒå…¶æ˜¾ç¤ºå’Œæ“ä½œçš„é€»è¾‘ï¼Œç”±è‰¾ä¼¦Â·å‡¯ (Alan Kay) é¢†å¯¼çš„å›¢é˜Ÿåˆ›å»ºäº† SmallTalk è¯­è¨€ï¼Œè¯¥è¯­è¨€çš„çµæ„Ÿæ¥è‡ª Simulaã€‚æ ¹æ®è®¸å¤šèµ„æ–™æ˜¾ç¤ºï¼Œè¿™æ ‡å¿—ç€æˆ‘ä»¬ä»Šå¤©ä½¿ç”¨çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ¦‚å¿µçš„æ­£å¼ç¡®ç«‹ï¼ OOP çš„æ™®åŠåŒ–ä¸Šè¿°è¿™äº›æ–¹æ³•åœ¨ 1981 å¹´å¼€å§‹æµè¡Œï¼Œå¹¶æˆä¸ºäº†ä¼Ÿå¤§çš„é¢å‘å¯¹è±¡è¯­è¨€çš„èµ·ç‚¹ï¼Œä¾‹å¦‚ï¼š Objective-C æ˜¯ iOS æœ¬æœºå¼€å‘çš„åŸå§‹è¯­è¨€ã€‚ä»é‚£ä»¥åï¼ŒApple å¯¹å…¶è¿›è¡Œäº†æ”¹è¿›å’Œå¢å¼ºï¼Œå®ƒä»ç„¶æ˜¯ iOS å¼€å‘äººå‘˜çš„å¸¸è§é€‰æ‹©ã€‚ C ++ æ˜¯ C ç¼–ç¨‹è¯­è¨€çš„é¢å‘å¯¹è±¡ç‰ˆæœ¬ã€‚C å’Œ C++ ä»è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨éå¸¸ä¸“ä¸šçš„è¡Œä¸šä¸­ã€‚ å¦‚æˆ‘ä»¬æ‰€è§ï¼Œåœ¨ç¼–ç¨‹æ–¹é¢å–å¾—äº†ä»¤äººéš¾ä»¥ç½®ä¿¡çš„è¿›æ­¥ï¼Œè¿™æ˜¯å¯¹ä»¥ä¸‹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šç®€åŒ–è½¯ä»¶å¼€å‘ï¼ é¢å‘å¯¹è±¡è®¾è®¡çš„ç‰¹æ®Šæ•ˆç‡ä»ä½•è€Œæ¥ï¼Ÿ éƒ¨åˆ†å½±å“æ¥è‡ªäºæ›´æ¸…æ™°çš„è¡¨è¾¾å¤æ‚ç³»ç»Ÿçš„æ–¹å¼ï¼› ä¹Ÿè®¸æœ€é‡è¦çš„åŸå›  ï¼ˆä¹Ÿæ˜¯ä»æ“ä½œç³»ç»Ÿä½“ç³»ç»“æ„æ´¾ç”Ÿè€Œæ¥çš„ï¼‰ æ˜¯ï¼Œå½“æ‚¨ç»™æŸäººä¸€ä¸ªç»“æ„æ—¶ï¼Œæ‚¨å¾ˆå°‘å¸Œæœ›ä»–ä»¬æ‹¥æœ‰æ— é™çš„ç‰¹æƒã€‚ä»…ä»…è¿›è¡Œç±»å‹åŒ¹é…ç”šè‡³è¿˜ä¸èƒ½æ»¡è¶³éœ€æ±‚ã€‚ä¿æŠ¤æŸäº›å¯¹è±¡è€Œä¸ä¿æŠ¤æŸäº›å¯¹è±¡ä¹Ÿä¸æ˜¯éå¸¸åˆç†æœ‰ç”¨ã€‚ æ­£ç¡®æ‰§è¡Œå°è£…ä¸ä»…æ˜¯å¯¹çŠ¶æ€æŠ½è±¡çš„æ‰¿è¯ºï¼Œè€Œä¸”æ˜¯æ¶ˆé™¤ç¼–ç¨‹ä¸­é¢å‘çŠ¶æ€çš„éšå–»çš„ä¸€ç§æ‰¿è¯ºã€‚ Part 2. ç±»ä¸å¯¹è±¡æ¦‚è¿° å›¾ç‰‡æ¥æºï¼šhttps://javatutorial.net/java-oop ç®€å•çš„è¯´ï¼Œç±»æ˜¯å¯¹è±¡çš„è“å›¾æˆ–æ¨¡æ¿ï¼Œè€Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚ è¿™ä¸ªè§£é‡Šè™½ç„¶æœ‰ç‚¹åƒç”¨æ¦‚å¿µåœ¨è§£é‡Šæ¦‚å¿µï¼Œä½†æ˜¯ä»è¿™å¥è¯æˆ‘ä»¬è‡³å°‘å¯ä»¥çœ‹å‡ºï¼Œç±»æ˜¯æŠ½è±¡çš„æ¦‚å¿µï¼Œè€Œå¯¹è±¡æ˜¯å…·ä½“çš„ä¸œè¥¿ã€‚ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸–ç•Œä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œå¯¹è±¡éƒ½æœ‰å±æ€§å’Œè¡Œä¸ºï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè€Œä¸”å¯¹è±¡ä¸€å®šå±äºæŸä¸ªç±» (å‹)*ã€‚å½“æˆ‘ä»¬æŠŠä¸€å¤§å †æ‹¥æœ‰å…±åŒç‰¹å¾çš„å¯¹è±¡çš„é™æ€ç‰¹å¾ *(å±æ€§) å’ŒåŠ¨æ€ç‰¹å¾ (è¡Œä¸º) éƒ½æŠ½å–å‡ºæ¥åï¼Œå°±å¯ä»¥å®šä¹‰å‡ºä¸€ä¸ªå«åš â€œç±»â€ çš„ä¸œè¥¿ã€‚ å®šä¹‰ç±»ä½¿ç”¨ç±»å‡ ä¹å¯ä»¥æ¨¡æ‹Ÿä»»ä½•ä¸œè¥¿ã€‚å‡è®¾æˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªè¡¨ç¤ºå°ç‹— Dog çš„ç®€å•ç±» â€”â€” å®ƒè¡¨ç¤ºçš„ä¸æ˜¯ç‰¹å®šçš„å°ç‹—ï¼Œè€Œæ˜¯ä»»ä½•å°ç‹—ã€‚ å¯¹äºå¤§å¤šæ•°å® ç‰©ç‹—ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“äº›ä»€ä¹ˆå‘¢ï¼Ÿâ€”â€” å®ƒä»¬éƒ½æœ‰åå­—å’Œå¹´é¾„ï¼Œè¿˜ä¼šå«ã€ä¼šåƒä¸œè¥¿ã€‚ç”±äºå¤§å¤šæ•°çš„å°ç‹—éƒ½å…·å¤‡ä¸Šè¿°ä¸¤é¡¹ä¿¡æ¯ (åå­—å’Œå¹´é¾„) å’Œä¸¤ç§è¡Œä¸º (å«å’Œåƒä¸œè¥¿)ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ Dog ç±»å°†åŒ…å«å®ƒä»¬ï¼Œè¿™ä¸ªç±»çœ‹ä¸Šå»ä¼šæ˜¯è¿™æ ·ï¼š ä»£ç å®ç°èµ·æ¥å¤§æ¦‚ä¼šåƒè¿™æ ·ï¼š public class Dog { // å‚æ•° private String name; private Integer age; // æ„é€ å™¨ public Dog(String name, Integer age) { this.name = name; this.age = age; } // å­—æ®µè®¿é—®å™¨ public String getName() { return name; } // å­—æ®µè®¿é—®å™¨ public Integer getAge() { return age; } // æ–¹æ³• - å« void bark() { System.out.println(\"æ±ªæ±ªæ±ªï¼\"); } // æ–¹æ³• - åƒä¸œè¥¿ void eat() { System.out.println(\"ä¸€åª\" + age + \"å²å¤§çš„åå« \" + name + \" çš„ç‹—æ­£åœ¨åƒä¸œè¥¿ï¼\"); } } å‰–æ Dog ç±»ä¸‹é¢å„ä¸ªéƒ¨åˆ†æˆ‘ä»¬å°†å¯¹ä¸Šé¢æè¿°çš„ Dog ç±»è¿›è¡Œå‰–æã€‚é¦–å…ˆä»è¿™ä¸ªç±»çš„æ–¹æ³•å¼€å§‹å§ï¼Œä¸Šè¿°æºç æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™ä¸ªç±»åŒ…å«ä¸€ä¸ªæ„é€ å™¨å’Œå››ä¸ªæ–¹æ³•ï¼š public Dog(String name, Integer age) public String getName() public Integer getAge() public void bark() public void eat() è¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½è¢«æ ‡è®°ä¸º publicã€‚å…³é”®å­— public æ„å‘³ç€ä»»ä½•ç±»çš„ä»»ä½•æ–¹æ³•éƒ½å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³• (å…±æœ‰å››ç§è®¿é—®çº§åˆ«ï¼Œå°†åœ¨ä¹‹åä»‹ç»åˆ°) æ¥ä¸‹æ¥ï¼Œè¿˜éœ€è¦æ³¨æ„ Dog ç±»å®ä¾‹ä¸­æœ‰ 2 ä¸ªå®ä¾‹å­—æ®µç”¨æ¥å­˜æ”¾å°†è¦æ“ä½œçš„æ•°æ®ï¼š private String name; private Integer age; å…³é”®å­— private ç¡®ä¿åªæœ‰ Dog ç±»è‡ªèº«çš„æ–¹æ³•èƒ½å¤Ÿè®¿é—®åˆ°è¿™äº›å®ä¾‹å­—æ®µï¼Œè€Œå…¶ä»–ç±»çš„æ–¹æ³•ä¸èƒ½å¤Ÿè¯»å†™è¿™äº›å­—æ®µã€‚(è¿™ä¹Ÿæ˜¯ Private ç§æœ‰æœ¬èº«çš„å«ä¹‰) æ³¨æ„ï¼šè™½ç„¶å¯ä»¥ç”¨ public æ ‡è®°å®ä¾‹å­—æ®µï¼Œä½†è¿™æ˜¯ä¸€ç§å¾ˆä¸å¥½çš„åšæ³•ã€‚public ä¿®é¥°æ•°æ®å­—æ®µåï¼Œç¨‹åºä¸­çš„ä»»ä½•æ–¹æ³•éƒ½å¯ä»¥å¯¹å…¶è¿›è¡Œè¯»å–å’Œä¿®æ”¹ï¼Œè¿™å°±å®Œå…¨ç ´åäº† å°è£…ã€‚(è¿™ä¼šä½¿ç¨‹åºéå¸¸ä¸å¯æ§) å¼ºçƒˆå»ºè®®å°†å®åŠ›å­—æ®µæ ‡è®°ä¸º private æœ€åï¼Œè¯·æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå®ä¾‹å­—æ®µæœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼šname å­—æ®µæ˜¯ String ç±»å‹çš„å¯¹è±¡ï¼Œage æ˜¯ Integer ç±»å‹çš„å¯¹è±¡ã€‚è¿™ç§æƒ…å†µååˆ†å¸¸è§ï¼šç±»åŒ…å«çš„å®ä¾‹å­—æ®µé€šå¸¸å±äºæŸä¸ªç±»ç±»å‹ã€‚ ä»æ„é€ å™¨å¼€å§‹è¿™ä¸ªä¸ç±»åç›¸åŒä¸”æƒé™ä¸º public çš„æ–¹æ³• Dog() æˆ‘ä»¬æŠŠå®ƒç§°ä¸º æ„é€ å™¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒï¼š public Dog(String name, Integer age) { this.name = name; this.age = age; } åœ¨æ„é€  Dog ç±»å¯¹è±¡çš„æ—¶å€™ï¼Œæ„é€ å™¨ä¼šè¿è¡Œï¼Œä»è€Œå°†å®ä¾‹å­—æ®µåˆå§‹åŒ–ä¸ºæ‰€å¸Œæœ›çš„åˆå§‹çŠ¶æ€ã€‚ ä¾‹å¦‚ï¼Œå½“æ—¶ç”¨ä¸‹é¢è¿™æ¡ä»£ç åˆ›å»º Dog ç±»æ—¶ï¼š new Dog(\"å¤§é»„\", 1) å°†ä¼šæŠŠæ•°æ®è®¾ç½®ä¸ºï¼š name = \"å¤§é»„\" age = 1 æ„é€ å™¨ä¸å…¶ä»–æ–¹æ³•æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚æ„é€ å™¨æ€»æ˜¯ç»“åˆ new å…³é”®å­—æ¥è°ƒç”¨ã€‚ä¸èƒ½å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡è°ƒç”¨æ„é€ å™¨æ¥è¾¾åˆ°é‡æ–°è®¾ç½®å±æ€§çš„ç›®çš„ã€‚ä¾‹å¦‚ (ä¸‹æ–¹ä»£ç å°†äº§ç”Ÿç¼–è¯‘é”™è¯¯)ï¼š dogInstance.Dog(\"å°é»„\", 2); // ERROR æœ‰å…³æ„é€ å™¨è¿˜æœ‰å¾ˆå¤šå¯ä»¥è¯´çš„åœ°æ–¹ï¼Œç°åœ¨åªéœ€è¦è®°ä½ï¼š æ„é€ å™¨ä¸ç±»åŒåï¼› æ¯ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ„é€ å™¨ï¼› æ„é€ å™¨å¯ä»¥æœ‰ 0 ä¸ªã€1 ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼› æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼ï¼› æ„é€ å™¨æ€»æ˜¯ä¼´éšç€ new æ“ä½œç¬¦ä¸€èµ·è°ƒç”¨ã€‚ å°è£…çš„ä¼˜ç‚¹æœ€åä»”ç»†çœ‹ä¸€ä¸‹éå¸¸ç®€å•çš„ getName/getAge æ–¹æ³•ã€‚ public String getName() { return name; } public Integer getAge() { return age; } è¿™äº›éƒ½æ˜¯å…¸å‹çš„è®¿é—®å™¨æ–¹æ³•ã€‚ç”±äºå®ƒä»¬åªè¿”å›å®ä¾‹å­—æ®µå€¼ï¼Œå› æ­¤åˆç§°ä¸º å­—æ®µè®¿é—®å™¨ã€‚ å¦‚æœå°† nameã€age å­—æ®µæ ‡è®°ä¸º publicï¼Œå…è®¸ä»»æ„æ–¹æ³•è®¿é—®ï¼Œè€Œä¸æ˜¯ç¼–å†™å•ç‹¬çš„è®¿é—®å…¶æ–¹æ³•ï¼Œéš¾é“ä¸æ˜¯æ›´å®¹æ˜“ä¸€äº›å˜›ï¼Ÿ ä¸Šé¢çš„ä¾‹å­ä¼¼ä¹å¹¶ä¸æ˜æ˜¾ (è€Œä¸” name è¿˜æ˜¯ä¸€ä¸ªåªè¯»å­—æ®µ)ï¼Œæ‰€ä»¥ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªæ›´åŠ æœ‰è¶£çš„ä¾‹å­ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»ï¼Œç”·äººæ­£åœ¨è¾›è‹¦æŒ£é’±å¹¶æ—¶ä¸æ—¶åœ°æŸ¥çœ‹ä½™é¢ï¼Œè€Œæ­¤æ—¶æ¥äº†ä¸€ä¸ªå°å·ï¼Œä¸“é—¨å·ç”·äººçš„é’±ï¼Œé€®ç€ä¸€ä¸ªå·ä¸€ä¸ªï¼Œè€Œè¢«å·äº†ä¹‹åç”·äººæŠ“åˆ°äº†å°å·ï¼Œæ­¤æ—¶ç”±äºå°å·çš„é’±æ˜¯ç§æœ‰çš„ï¼Œç”·äººæŠ“ç€å°å·å’¬ç‰™åˆ‡é½¿å´æ²¡æœ‰ä¸æ¯«åŠæ³•å¯ä»¥æŠŠé’±æ‹¿å›æ¥ï¼ å°è£…ä¸ä»…ä»…å¸®åŠ©æˆ‘ä»¬æé«˜å®‰å…¨æ€§ï¼Œæ›´å¯ä»¥ç®€åŒ–æ“ä½œå’Œæé«˜ å†…èšæ€§ã€‚ å‡è®¾ä½ å†™äº†ä¸€ä¸ªå¾ˆåºå¤§çš„ç³»ç»Ÿï¼Œä¸€å¼€å§‹ä½ çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š public int age; ä½ çš„ç¨‹åºé‡Œå¤§æ¦‚æœ‰ 100 æ¡ç±»ä¼¼äºè¿™æ ·çš„è¯­å¥ï¼š instance.age = 10; æ­¤æ—¶çªç„¶è¦æ±‚ä½ æŠŠæ•°æ®ç±»å‹å˜ä¸€ä¸‹æˆ–è€…å¯¹è¿™ä¸ªå­—æ®µå…¶ä»–ä¸€äº›ä»€ä¹ˆç»Ÿä¸€çš„å¤„ç†ï¼Œéœ€è¦ä¿®æ”¹ 100 å¤„çš„ä½ ï¼Œæ˜¯ä¸æ˜¯å‚»äº†ï¼Ÿ å°è£…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯æ¨¡å—åŒ–ã€‚è¿™æ–¹ä¾¿æˆ‘ä»¬æŠŠæ•£è½åœ¨å„å¤„çš„ä»£ç æ”¶æ‹¢å¹¶åšç»Ÿä¸€çš„å¤„ç†ã€‚ è®¾è®¡æ¨¡å¼å™¨å¤§åŸåˆ™ä¹‹ä¸€çš„ è¿ªç±³ç‰¹æ³•åˆ™ å°±æ˜¯å¯¹äºå°è£…çš„å…·ä½“è¦æ±‚ï¼Œå³ A æ¨¡å—ä½¿ç”¨ B æ¨¡å—çš„æŸä¸ªæ¥å£è¡Œä¸ºï¼Œå¯¹ B æ¨¡å—ä¸­é™¤æ­¤è¡Œä¸ºä¹‹å¤–çš„å…¶ä»–ä¿¡æ¯çŸ¥é“å¾—å°½å¯èƒ½å°‘ã€‚ æ¯”å¦‚ï¼šè€³å¡çš„æ’å­”å°±æ˜¯æä¾›å£°éŸ³è¾“å‡ºçš„è¡Œä¸ºæ¥å£ï¼Œåªéœ€è¦å…³å¿ƒè¿™ä¸ªæ’å­”æ˜¯å¦æœ‰ç›¸åº”çš„è€³å¡æ ‡è®°ï¼Œæ˜¯å¦æ˜¯åœ†å½¢ï¼Œæœ‰æ²¡æœ‰å£°éŸ³å³å¯ï¼Œè‡³äºå†…éƒ¨ CPU å¦‚ä½•è¿ç®—éŸ³é¢‘ä¿¡æ¯ï¼Œä»¥åŠå„ä¸ªç”µå®¹å¦‚ä½•ååŒå·¥ä½œï¼Œæ ¹æœ¬ä¸éœ€è¦å…³æ³¨ï¼Œè¿™ä½¿å¾—æ¨¡å—ä¹‹é—´çš„åä½œåªéœ€å¿ äºæ¥å£ã€å¿ äºåŠŸèƒ½å®ç°å³å¯ã€‚ åˆ›å»ºå’Œä½¿ç”¨ç±»å®šä¹‰äº† class åªæ˜¯å®šä¹‰äº†å¯¹è±¡æ¨¡æ¿ï¼Œè€Œè¦æ ¹æ®æ¨¡æ¿åˆ›å»ºå‡ºçœŸæ­£çš„å¯¹è±¡å®ä¾‹ï¼Œå¿…é¡»ä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶è°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°æ‰è¡Œï¼š Dog dog = new Dog(\"å¤§é»„\", 1); ä¸Šè¿°ä»£ç åˆ›å»ºäº†ä¸€ä¸ª Dog ç±»å‹çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡å˜é‡ dog æŒ‡å‘å®ƒã€‚(ä¸‹é¢æˆ‘ä»¬å°†è¯¦ç»†è¯´æ˜æ˜¯æ€ä¹ˆ â€œæŒ‡å‘â€ å®ƒçš„â€¦) ç¬¬ä¸€ä¸ª Dog è¡¨æ˜äº† dog å˜é‡çš„ç±»å‹ï¼Œç¬¬äºŒä¸ª Dog åˆ™æ˜¯è°ƒç”¨äº† Dog ç±»çš„æ„é€ å‡½æ•°ã€‚åœ¨ Java 10 ä¸­ï¼Œå¦‚æœå¯ä»¥ä»å˜é‡çš„åˆå§‹å€¼æ¨å¯¼å‡ºå®ƒä»¬çš„ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ var å…³é”®å­—æ¥å£°æ˜å±€éƒ¨å˜é‡ï¼Œè€Œæ— é¡»æŒ‡å®šç±»å‹ã€‚ä¾‹å¦‚ï¼š var dog = new Dog(\"å¤§é»„\", 1); è¿™ä¸€ç‚¹å¾ˆå¥½ï¼Œå› ä¸ºå¯ä»¥é¿å…é‡å¤å†™ç±»å‹å Dogã€‚ä½†æ˜¯å‚æ•°å’Œå­—æ®µçš„ç±»å‹è¿˜æ˜¯å¿…é¡»æ˜¾å¼åœ°å£°æ˜ï¼Œè¯¥ç”¨æ³•ä»…èƒ½ç”¨äºæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡ã€‚ è¦æƒ³ä½¿ç”¨ç±»ä¸­å…¬ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ . (è‹±æ–‡å¥å·) æ¥è¿æ¥ç±»ä¸­çš„æ–¹æ³•å¹¶è°ƒç”¨ï¼š dog.eat(); // è°ƒç”¨è¯¥å®ä¾‹çš„ eat() æ–¹æ³• Java ä½¿ç”¨å¼•ç”¨æ¥æ“çºµå¯¹è±¡æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è‡ªå·±çš„æ“çºµå†…å­˜ä¸­å…ƒç´ çš„æ–¹å¼ã€‚æœ‰æ—¶å€™ï¼Œç¨‹åºå‘˜å¿…é¡»æ³¨æ„å°†è¦å¤„ç†çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹ã€‚ä½ æ˜¯ç›´æ¥æ“çºµå…ƒç´ ï¼Œè¿˜æ˜¯ç”¨æŸç§åŸºäºç‰¹æ®Šè¯­æ³•çš„é—´æ¥è¡¨ç¤º (ä¾‹å¦‚ C å’Œ C++ é‡Œçš„æŒ‡é’ˆ) æ¥æ“çºµå¯¹è±¡ï¼Ÿ åœ¨ Java ä¸­ä¸€åˆ‡éƒ½è¢«è§†ä¸ºå¯¹è±¡ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å›ºå®šçš„è¯­æ³•ã€‚å°½ç®¡è¿™ä¸€åˆ‡éƒ½çœ‹ä½œå¯¹è±¡ï¼Œä½†æ“çºµçš„æ ‡è¯†ç¬¦ (ä¾‹å¦‚ä¸Šé¢çš„ dog å˜é‡) å®é™…ä¸Šæ˜¯ å¯¹è±¡çš„ä¸€ä¸ª â€œå¼•ç”¨â€ (reference)ã€‚ åªè¦æ¡ä½è¿™ä¸ªé¥æ§å™¨ï¼Œå°±èƒ½ä¿æŒä¸ç”µè§†æœºçš„è¿æ¥ã€‚å½“æœ‰äººæƒ³æ”¹å˜é¢‘é“æˆ–å‡å°éŸ³é‡æ—¶ï¼Œå®é™…æ“çºµçš„æ˜¯é¥æ§å™¨ (å¼•ç”¨)ï¼Œå†ç”±æ§åˆ¶å™¨æ¥è°ƒæ§ç”µè§†æœº (å¯¹è±¡)ã€‚ å¦‚æœæƒ³åœ¨æˆ¿é—´é‡Œå››å¤„èµ°èµ°ï¼ŒåŒæ—¶ä»èƒ½è°ƒæ§ç”µè§†æœºï¼Œé‚£ä¹ˆåªéœ€è¦æºå¸¦é¥æ§å™¨å°±å¯ä»¥äº†ï¼Œè€Œä¸æ˜¯èƒŒç€ç”µè§†æœºâ€¦ æ­¤å¤–ï¼Œå³ä½¿æ²¡æœ‰ç”µè§†æœºï¼Œé¥æ§å™¨ä¹Ÿå¯ä»¥ç‹¬ç«‹å­˜åœ¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ‹¥æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸ä¸€å®šéœ€è¦æœ‰ä¸€ä¸ªå¯¹è±¡ä¸å®ƒå…³è”ã€‚å› æ­¤ï¼Œå¦‚æœä½ æƒ³æ“çºµä¸€ä¸ªè¯æˆ–è€…ä¸€ä¸ªå¥å­ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ª String å¯¹è±¡ï¼š String s; ä½†æ˜¯è¿™é‡Œåˆ›å»ºçš„åªæ˜¯å¼•ç”¨ï¼Œå¹¶ä¸æ˜¯å¯¹è±¡ã€‚å¦‚æœæ­¤æ—¶å‘ s å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ s å®é™…ä¸Šæ²¡æœ‰ä¸ä»»ä½•äº‹ç‰©ç›¸å…³è” (å³æ²¡æœ‰ç”µè§†æœº)ã€‚ å› æ­¤ï¼Œä¸€ç§å®‰å…¨çš„åšæ³•æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªå¼•ç”¨çš„åŒæ—¶ä¾¿è¿›è¡Œåˆå§‹åŒ–ã€‚ String s = \"abcd\"; è¿™é‡Œè¿ç”¨åˆ°äº† Java è¯­è¨€çš„ä¸€ä¸ªç‰¹æ€§ï¼šå­—ç¬¦ä¸²å¯ä»¥ç›´æ¥ä½¿ç”¨å¸¦å¼•å·çš„æ–‡æœ¬è¿›è¡Œåˆå§‹åŒ– (å…¶ä»–å¯¹è±¡éœ€è¦ä½¿ç”¨ new)ã€‚ null å¼•ç”¨ä¸Šé¢æˆ‘ä»¬å·²ç»äº†è§£åˆ°ï¼Œä¸€ä¸ªå¯¹è±¡å˜é‡åŒ…å«ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚å½“å¼•ç”¨æ²¡æœ‰å…³è”å¯¹è±¡æ—¶ï¼Œå®é™…ä¸ŠæŒ‡å‘äº†ä¸€ä¸ªç‰¹æ®Šçš„å€¼ nullï¼Œè¿™è¡¨ç¤ºå®ƒæ²¡æœ‰å¼•ç”¨ä»»ä½•å¯¹è±¡ã€‚(å¯ä»¥ç†è§£ä¸º String s; ç­‰åŒäº String s = null;) å¬ä¸Šå»è¿™æ˜¯ä¸€ç§å¤„ç†ç‰¹æ®Šæƒ…å†µçš„ä¾¿æ·æœºåˆ¶ï¼Œå¦‚æœªçŸ¥çš„åå­—ã€‚ä½†ä½¿ç”¨ null å€¼éœ€è¦éå¸¸å°å¿ƒï¼å¦‚æœå¯¹ null å€¼åº”ç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿä¸€ä¸ª NullPointException å¼‚å¸¸ã€‚ String s = null; System.out.println(s.length()); // NullPointException è¿™æ˜¯ä¸€ä¸ªå¾ˆä¸¥é‡çš„é”™è¯¯ï¼å¦‚æœä½ çš„ç¨‹åºæ²¡æœ‰ â€œæ•è·â€ (ç†è§£ä¸ºæ‰‹åŠ¨æ£€æµ‹å’Œå¤„ç†) å¼‚å¸¸ï¼Œç¨‹åºå°±ä¼šç»ˆæ­¢ï¼æ­£å¸¸æƒ…å†µä¸‹ï¼Œç¨‹åºå¹¶ä¸ä¼šæ•è·è¿™äº›å¼‚å¸¸ï¼Œè€Œæ˜¯ä¾èµ–äºç¨‹åºå‘˜ä»ä¸€å¼€å§‹å°±ä¸è¦å¸¦æ¥å¼‚å¸¸ã€‚(è¿™æ˜¾ç„¶å¾ˆéš¾..) å®šä¹‰ä¸€ä¸ªç±»æ—¶ï¼Œæœ€å¥½æ¸…æ¥šçš„çŸ¥é“å“ªäº›å­—æ®µå¯èƒ½ä¸º nullã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ (Dog ç±»)ï¼Œæˆ‘ä»¬ä¸å¸Œæœ› name å’Œ age å­—æ®µä¸º nullã€‚ å¯¹æ­¤æˆ‘ä»¬æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ã€‚ â€œå®½å®¹å‹â€ æ–¹æ³• æ˜¯æŠŠ null å‚æ•°è½¬æ¢ä¸ºä¸€ä¸ªé€‚å½“çš„é null å€¼ï¼š if (n == null) { name = \"unknow\"; } else { name = n; } åœ¨ Java 9 ä¸­ï¼ŒObjects ç±» (JDK è‡ªå¸¦çš„å·¥å…·ç±») å¯¹æ­¤æä¾›äº†ä¸€ä¸ªä¾¿åˆ©æ–¹æ³•ï¼š name = Objects.requireNonNullElse(n, \"unknow\"); // æ•ˆæœä¸ä¸Šé¢ä»£ç ç­‰åŒ â€œä¸¥æ ¼å‹â€ æ–¹æ³• åˆ™æ˜¯å¹²è„†æ‹’ç» null å‚æ•°ï¼š name = Objects.requireNonNull(n, \"The name cannot be null!\"); å¦‚æœæŠŠä¸Šè¿°ä»£ç æ·»åŠ è¿› Dog ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”æœ‰äººç”¨ null åå­—æ„é€ äº†ä¸€ä¸ª Dog ç±»ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ª NullPointerException å¼‚å¸¸ã€‚ä¹çœ‹ä¸Šå»ï¼Œè¿™ç§åšæ³•ä¼¼ä¹ä¸å¤ªå¥½ï¼Œä½†æœ‰ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š å¼‚å¸¸æŠ¥å‘Šä¼šæä¾›è¿™ä¸ªé—®é¢˜çš„æè¿°ï¼›(ä¹Ÿå°±æ˜¯ The name cannot be null!) å¼‚å¸¸æŠ¥å‘Šä¼šå‡†ç¡®åœ°æ”¯å‡ºé—®é¢˜æ‰€åœ¨çš„ä½ç½®ï¼Œå¦åˆ™å¼‚å¸¸å¯èƒ½åœ¨å…¶ä»–åœ°æ–¹å‡ºç°ï¼Œè€Œå¾ˆéš¾è¿½è¸ªåˆ°çœŸæ­£å¯¼è‡´é—®é¢˜çš„è¿™ä¸ªæ„é€ å™¨å‚æ•°ï¼› Part 3. é¢å‘å¯¹è±¡çš„å››å¤§ç‰¹æ€§ å›¾ç‰‡æ¥æºï¼šhttps://flashgene.com/archives/51547.html é¢å‘å¯¹è±¡æœ‰ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚æœ‰çš„åœ°æ–¹æ”¯æŒæŠŠ â€œæŠ½è±¡â€ ä¹Ÿå½’çº³è¿›æ¥ï¼Œåˆå¹¶ç§°ä¸ºé¢å‘å¯¹è±¡çš„å››å¤§ç‰¹æ€§ã€‚æˆ‘è§‰å¾—ä¹Ÿæ— å¯åšéã€‚ (å…³äºç»§æ‰¿å’Œå¤šæ€ä¼šåœ¨åç»­ç« èŠ‚é‡Œé¢è¯¦ç»†è¯´æ˜, è¿™é‡Œåªä½œç®€å•æè¿°ç”¨äºç®€å•ç†è§£..) æŠ½è±¡æŠ½è±¡æ˜¯é¢ç›¸å¯¹è±¡æ€æƒ³æœ€åŸºç¡€çš„èƒ½åŠ›ä¹‹ä¸€ï¼Œæ­£ç¡®è€Œä¸¥è°¨çš„ä¸šåŠ¡æŠ½è±¡å’Œå»ºæ¨¡åˆ†æèƒ½åŠ›æ˜¯åç»­çš„å°è£…ã€ç»§æ‰¿ã€å¤šæ€çš„åŸºç¡€ï¼Œæ˜¯è½¯ä»¶å¤§å¦çš„åŸºçŸ³ã€‚(ä¸Šé¢æœ‰ä¸“é—¨çš„ä¸€èŠ‚æè¿°ï¼Œè¿™é‡Œä¸å†å±•å¼€) å°è£…æ­£å¦‚æˆ‘ä»¬ä¸Šé¢ ç”·äººä¸å°å· çš„ä¾‹å­ï¼Œå°è£…ä¸ä»…èƒ½æé«˜æˆ‘ä»¬çš„å®‰å…¨æ€§ã€å¸®åŠ©æˆ‘ä»¬æŠŠå®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œè¿˜æ˜¯ä¸€ç§å¯¹è±¡åŠŸèƒ½å†…èšçš„è¡¨ç°å½¢å¼ï¼Œè¿™æœ‰åŠ©äºè®©æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦å˜ä½ï¼Œä¹Ÿæ›´å…·æœ‰ç»´æŠ¤æ€§ã€‚(å°è£…çš„ä¼˜ç‚¹ä¸Šæ–¹æœ‰ä»‹ç»ï¼Œè¿™é‡Œä¹Ÿä¸å†å±•å¼€) å°è£…ä½¿é¢å‘å¯¹è±¡çš„ä¸–ç•Œå˜å¾—å•çº¯ï¼Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»å˜å¾—ç®€å•ï¼Œâ€è‡ªæ‰«é—¨å‰é›ªâ€ å°±è¡Œäº†ã€‚ç‰¹åˆ«æ˜¯å½“ä»Šæ™ºèƒ½åŒ–çš„æ—¶ä»£ï¼Œå¯¹å°è£…çš„è¦æ±‚è¶Šæ¥è¶Šé«˜äº†ï¼Œä¾‹å¦‚ å°çˆ±åŒå­¦ å¥½äº†ï¼Œå¯¹å¤–çš„å”¯ä¸€æ¥å£å°±æ˜¯è¯­éŸ³è¾“å…¥ï¼Œéšè—äº†æŒ‡ä»¤å†…éƒ¨çš„ç»†èŠ‚å®ç°å’Œç›¸å…³æ•°æ®ï¼Œè¿™å¤§å¤§é™ä½äº†ä½¿ç”¨æˆæœ¬ï¼Œä¹Ÿæœ‰æ•ˆåœ°ä¿æŠ¤äº†å†…éƒ¨æ•°æ®å®‰å…¨ã€‚ ç»§æ‰¿ç»§æ‰¿å…è®¸åˆ›å»º å…·æœ‰é€»è¾‘ç­‰çº§ç»“æ„çš„ç±»ä½“ç³»ï¼Œå½¢æˆä¸€ä¸ªç»§æ‰¿æ ‘ã€‚å°±æ‹¿æˆ‘ä»¬ä¸Šé¢åˆ›å»ºçš„ Dog ç±»æ¥è¯´æ˜å§ï¼Œä¸æ˜¯åªæœ‰ç‹—æ‹¥æœ‰é‚£äº›å±æ€§å’Œæ–¹æ³•ï¼ŒçŒ«ä¹Ÿæœ‰ï¼(å¯èƒ½çŒ«å«ä¸èƒ½ç”¨ bark è¡¨ç¤ºï¼Œä½†æœ¬è´¨éƒ½æ˜¯å«) è‡ªç„¶ç•Œä¸­ï¼Œæœ‰è®¸å¤šåŠ¨ç‰© (åŠ¨ç‰©æ˜¯å¯¹è¿™äº›ç”Ÿç‰©çš„è‡ªç„¶æŠ½è±¡) éƒ½æœ‰è¿™æ ·çš„è¡Œä¸ºï¼Œé‚£ä¹ˆå¥½äº†ï¼Œæˆ‘ä»¬å¾€ä¸Šå†æŠ½è±¡ä¸€ä¸ª Animal å¯¹è±¡ï¼š åªè¦ç»§æ‰¿è‡ª Animal ç±»ï¼Œé‚£ä¹ˆå°±ä¼šæ‹¥æœ‰ Animal è¿™ä¸ªçˆ¶ç±»æ‰€æè¿°çš„å±æ€§å’Œæ–¹æ³• (å­ç±»å½“ç„¶å¯ä»¥æœ‰è‡ªå·±çš„å®ç°ï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬åœ¨åç»­ç« èŠ‚ä¸­è¯¦ç»†æè¿°)ã€‚è¿™è®©è½¯ä»¶åœ¨ä¸šåŠ¡å¤šå˜çš„å®¢è§‚æ¡ä»¶ä¸‹ï¼ŒæŸäº›åŸºç¡€æ¨¡å—å¯ä»¥è¢«ç›´æ¥å¤ç”¨ã€é—´æ¥å¤ç”¨æˆ–å¢å¼ºå¤ç”¨ã€‚ ç»§æ‰¿æŠŠæ¯ç‡¥çš„ä»£ç ä¸–ç•Œå˜å¾—æ›´æœ‰å±‚æ¬¡æ„Ÿï¼Œæ›´å…·æœ‰æ‰©å±•æ€§ï¼Œä¸ºå¤šæ€æ‰“ä¸‹äº†è¯­æ³•åŸºç¡€ã€‚ ä¸è¿‡ç»§æ‰¿ä¹Ÿæœ‰å‡ ä¸ª ç¼ºç‚¹ï¼š ç»§æ‰¿æ˜¯ä¸€ç§ å¼ºè€¦åˆ çš„å…³ç³»ï¼Œçˆ¶ç±»å¦‚æœåšå‡ºä¸€å®šæ”¹å˜ï¼Œé‚£ä¹ˆå­ç±»ä¹Ÿå¿…ç„¶ä¼šæ”¹å˜ï¼› ç»§æ‰¿ ç ´åäº†å°è£…ï¼Œå¯¹äºå­ç±»è€Œè¨€ï¼Œå®ƒçš„å®ç°å¯¹å­ç±»æ¥è¯´éƒ½æ˜¯é€æ˜çš„ï¼› å¤šæ€å¤šæ€æ˜¯ä»¥ä¸Šè¿°çš„ä¸‰ä¸ªé¢å‘å¯¹è±¡ç‰¹å¾ä¸ºåŸºç¡€ï¼Œæ ¹æ®è¿è¡Œæ—¶çš„å®é™…å¯¹è±¡ç±»å‹ï¼ŒåŒä¸€ä¸ªæ–¹æ³•äº§ç”Ÿä¸åŒçš„è¿è¡Œç»“æœï¼Œä½¿åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰ä¸åŒçš„è¡¨ç°å½¢å¼ã€‚ å¤ªå­¦æœ¯åŒ–äº†ä¸€ç‚¹ï¼Œä¸¾ä¸ªä¾‹å­å¯èƒ½æ˜ç™½ç‚¹ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€æ¯æ°´ï¼Œæˆ‘ä¸çŸ¥é“å®ƒæ˜¯æ¸©çš„ã€å†°çš„è¿˜æ˜¯çƒ«çš„ï¼Œä½†æ˜¯æˆ‘ä¸€æ‘¸æˆ‘å°±çŸ¥é“äº†ï¼Œæˆ‘æ‘¸æ°´æ¯çš„è¿™ä¸ªåŠ¨ä½œ (æ–¹æ³•)ï¼Œå¯¹äºä¸åŒæ¸©åº¦çš„æ°´ (è¿è¡Œæ—¶ä¸åŒçš„å¯¹è±¡ç±»å‹)ï¼Œå°±ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œè¿™å°±æ˜¯å¤šæ€ã€‚ è‡ªç„¶ç•Œä¸­æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ç¢³å®¶æ—ã€‚å¦‚æœä½ å‘Šè¯‰ä½ çš„å¥³æœ‹å‹å°†åœ¨å¥¹çš„ç”Ÿæ—¥æ™šä¼šä¸Šé€å¥¹ä¸€å—ç¢³ï¼Œå¥³æœ‹å‹å½“ç„¶ä¸é«˜å…´äº†ï¼Œå¯äº‹å®ä¸Šå´æ˜¯ 5 å…‹æ‹‰çš„é’»çŸ³ã€‚é’»çŸ³å°±æ˜¯ç¢³å…ƒç´ åœ¨ä¸æ–­è¿›åŒ–è¿‡ç¨‹ä¸­çš„ä¸€ç§å¤šæ€è¡¨ç°ã€‚ ä¸¥æ ¼æ„ä¹‰æ¥è¯´ï¼Œå¤šæ€å¹¶ä¸æ˜¯é¢å‘å¯¹è±¡çš„ä¸€ç§ç‰¹è´¨ï¼Œè€Œæ˜¯ä¸€ç§ç”±ç»§æ‰¿è¡Œä¸ºè¡ç”Ÿè€Œæ¥çš„è¿›åŒ–èƒ½åŠ›è€Œå·²ã€‚ (å®Œ) è¦ç‚¹å›é¡¾ ç±»å’Œå¯¹è±¡ - ä»€ä¹ˆæ˜¯ç±» / ä»€ä¹ˆæ˜¯å¯¹è±¡ / OOP èµ·æºå’Œå‘å±• / é¢å‘å¯¹è±¡å…¶ä»–ç›¸å…³æ¦‚å¿µ å®šä¹‰ç±» - åŸºæœ¬ç»“æ„ / å±æ€§å’Œæ–¹æ³• / æ„é€ å™¨ ä½¿ç”¨å¯¹è±¡ - åˆ›å»ºå¯¹è±¡ / ç»™å¯¹è±¡å‘æ¶ˆæ¯ é¢å‘å¯¹è±¡çš„å››å¤§æ”¯æŸ± - æŠ½è±¡ / å°è£… / ç»§æ‰¿ / å¤šæ€çš„ç®€å•ä»‹ç» åŸºç¡€ç»ƒä¹  - å®šä¹‰ Dog ç±» / å®šä¹‰æ—¶é’Ÿç±» / å®šä¹‰å›¾å½¢ç±» (ä¸‹æ–¹) ç»ƒä¹ ç»ƒä¹  1ï¼šå®šä¹‰ä¸€ä¸ªç±»æè¿°æ•°å­—æ—¶é’Ÿå‚è€ƒç­”æ¡ˆï¼š public class Clock { private Integer hour; private Integer minute; private Integer second; public Clock(Integer hour, Integer minute, Integer second) { this.hour = hour; this.minute = minute; this.second = second; } /** * æ—¶é’Ÿèµ°å­—(èµ°1s) */ public void run() { second += 1; if (second.equals(60)) { second = 0; minute += 1; if (minute.equals(60)) { minute = 0; hour += 1; if (hour.equals(24)) { hour = 0; } } } } /** * æ˜¾ç¤ºå½“å‰æ—¶é—´ * @return */ public String showCurrentTime() { return String.format(\"å½“å‰æ—¶é—´æ˜¯ï¼š%dæ—¶:%dåˆ†:%dç§’\", hour, minute, second); } /** * å†…éƒ¨æµ‹è¯• * @throws InterruptedException - ä½¿ç”¨ Thread.sleep() éœ€è¦æ‰‹åŠ¨æ£€æµ‹è¯¥å¼‚å¸¸, è¿™é‡ŒèŠ‚çº¦ç¯‡å¹…ç›´æ¥æŠ›å‡º */ public static void main(String[] args) throws InterruptedException { Clock clock = new Clock(23, 59, 58); while (true) { clock.run(); System.out.println(clock.showCurrentTime()); // è®©å½“å‰çº¿ç¨‹ç¡ 1s Thread.sleep(1000); } } } ç»ƒä¹  2ï¼šå®šä¹‰ä¸€ä¸ªç±»æè¿°å¹³é¢ä¸Šçš„ç‚¹å¹¶æä¾›ç§»åŠ¨ç‚¹å’Œè®¡ç®—åˆ°å¦ä¸€ä¸ªç‚¹è·ç¦»çš„æ–¹æ³•å‚è€ƒç­”æ¡ˆï¼š public class Point { private Integer x; private Integer y; public Point() { this.x = 0; this.y = 0; } public Point(Integer x, Integer y) { this.x = x; this.y = y; } /** * ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® */ public void moveTo(Integer x, Integer y) { this.x = x; this.y = y; } /** * ç§»åŠ¨æŒ‡å®šçš„è·ç¦» */ public void moveBy(Integer dx, Integer dy) { this.x += dx; this.y += dy; } /** * è®¡ç®—å¹¶è¿”å›ä¸å¦ä¸€ä¸ªç‚¹çš„è·ç¦» */ public Double distanceTo(Point other) { int dx = this.x - other.x; int dy = this.y - other.y; return Math.sqrt(dx ^ 2 + dy ^ 2); } /** * å½“å‰çš„åæ ‡ä¿¡æ¯ */ public String currentLocation() { return String.format(\"å½“å‰ç‚¹æ¨ªåæ ‡ï¼š%dï¼Œçºµåæ ‡ï¼š%d\", x, y); } /** * å†…éƒ¨æµ‹è¯• */ public static void main(String[] args) { Point point1 = new Point(3, 5); Point point2 = new Point(); System.out.println(point1.currentLocation()); System.out.println(point2.currentLocation()); point2.moveTo(-1, 2); System.out.println(point2.currentLocation()); System.out.println(point1.distanceTo(point2)); } } å‚è€ƒèµ„æ–™ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ ã€Šç å‡ºé«˜æ•ˆ Java å¼€å‘æ‰‹å†Œã€‹ Deepen your knowledge by learning Object Oriented Programming (OOP) with Swift - https://openclassrooms.com/en/courses/4542221-deepen-your-knowledge-by-learning-object-oriented-programming-oop-with-swift Think like a computer: the logic of programming - https://openclassrooms.com/en/courses/5261196-think-like-a-computer-the-logic-of-programming Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html#part02 Python 100 å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ - https://github.com/jackfrued/Python-100-Days æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€å¥½æ–‡æ¨èã€‘é»‘è“OSæ‰‹å†Œæ˜¯å¦‚ä½•è¯¦ç»†é˜è¿°åº•å±‚çš„è¿›ç¨‹å’Œçº¿ç¨‹æ¨¡å‹çš„ï¼Ÿ","slug":"ã€å¥½æ–‡æ¨èã€‘é»‘è“OSæ‰‹å†Œæ˜¯å¦‚ä½•è¯¦ç»†é˜è¿°åº•å±‚çš„è¿›ç¨‹å’Œçº¿ç¨‹æ¨¡å‹çš„ï¼Ÿ","date":"2020-07-31T09:12:00.000Z","updated":"2020-08-16T07:50:03.188Z","comments":true,"path":"2020/07/31/hao-wen-tui-jian-hei-mei-os-shou-ce-shi-ru-he-xiang-xi-chan-shu-di-ceng-de-jin-cheng-he-xian-cheng-mo-xing-de/","link":"","permalink":"http://www.wmyskxz.com/2020/07/31/hao-wen-tui-jian-hei-mei-os-shou-ce-shi-ru-he-xiang-xi-chan-shu-di-ceng-de-jin-cheng-he-xian-cheng-mo-xing-de/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ å†™åœ¨å‰é¢è¯¥æ–‡ç« çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯ç¿»è¯‘è‡ªæ˜¯é»‘è“ 10 å®æ—¶æ“ä½œç³»ç»Ÿ QNX Neutrino çš„å¼€å‘æ‰‹å†Œï¼Œè¯¥æ‰‹å†Œä¸ä»…è¯¦ç»†åœ°é˜è¿°äº† BlackBerry 10 OS çš„åŸç†ä»¥åŠ OS çš„ä½“ç³»ç»“æ„ï¼Œè¿˜æè¿°äº†å…¶ QNX Neutrino å¾®å†…æ ¸çš„è¯¦ç»†ä¿¡æ¯ (åŒ…æ‹¬è¿›ç¨‹çº¿ç¨‹ã€å¤šå’Œå¤„ç†ã€ç½‘ç»œæ¶æ„ã€æ–‡ä»¶ç³»ç»Ÿç­‰â€¦éå¸¸å®Œæ•´..)ã€‚ æˆ‘é˜…è¯»äº†å…¶ä¸­ã€Œæè¿°è¿›ç¨‹å’Œçº¿ç¨‹ã€çš„ç²¾åéƒ¨åˆ†ï¼Œè§‰å¾—å†™çš„éå¸¸ä¸é”™ï¼Œç‰¹æ„ç¿»è¯‘ (ä¸»è¦é æœ‰é“å’Œ Google ç¿»è¯‘) è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ (éƒ¨åˆ†å†…å®¹æœ‰æ”¹åŠ¨)ã€‚ æ‰‹å†Œä¸­è¯¦ç»†æè¿°äº†è®¸å¤šå…³äº Linux å‡½æ•°è°ƒç”¨æ¶‰åŠåº•å±‚æ–¹é¢çš„ç»†èŠ‚ï¼Œåœ¨æœ¬æ–‡ä¸­æˆ‘å¤§éƒ½æ²¡æœ‰è´´å‡ºæ¥ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¼ºçƒˆå»ºè®®å»æ‹œè¯»ä¸€ä¸‹åŸæ–‡ï¼ åŸæ–‡åœ°å€ï¼šhttps://developer.blackberry.com/native/documentation/dev/rtos/arch/about_system_architecture.html Part 1. è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€åœ¨æˆ‘ä»¬å¼€å§‹è®¨è®ºçº¿ç¨‹ã€è¿›ç¨‹ã€æ—¶é—´ç‰‡å’Œæ‰€æœ‰å…¶ä»–çš„ç²¾å½©çš„æ¦‚å¿µä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥å»ºç«‹ä¸€ä¸ªç±»æ¯”ã€‚ æˆ‘è¦åšçš„é¦–å…ˆæ˜¯ è¯´æ˜çº¿ç¨‹å’Œè¿›ç¨‹æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æˆ‘èƒ½æƒ³åˆ°çš„æœ€å¥½çš„æ–¹æ³• (ä¸æ¶‰åŠå®æ—¶ç³»ç»Ÿçš„è®¾è®¡) æ˜¯åœ¨æŸç§æƒ…å†µä¸‹æƒ³è±¡æˆ‘ä»¬çš„çº¿ç¨‹å’Œè¿›ç¨‹ã€‚ è¿›ç¨‹å°±åƒä¸€æ ‹æˆ¿å­ æˆ¿å­å®é™…ä¸Šæ˜¯ å…·æœ‰æŸäº›å±æ€§çš„å®¹å™¨ (ä¾‹å¦‚å§å®¤æ•°é‡ã€å åœ°é¢ç§¯ã€åŒºåŸŸåˆ’åˆ†ç­‰)ã€‚ å¦‚æœæ‚¨ä»¥è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ¿å­å®é™…ä¸Šå¹¶ä¸ä¼šä¸»åŠ¨åšä»»ä½•äº‹æƒ…â€”â€”â€”â€”å®ƒæ˜¯ä¸€ä¸ª è¢«åŠ¨çš„å¯¹è±¡ã€‚è¿™å®é™…ä¸Šå°±æ˜¯è¿›ç¨‹å¹²çš„äº‹æƒ…äº† (å……å½“å®¹å™¨)ã€‚ çº¿ç¨‹å°±åƒæ˜¯å±…ä½è€… å±…ä½åœ¨æˆ¿å­é‡Œé¢çš„äººæ˜¯ æ´»åŠ¨çš„å¯¹è±¡ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨å„ç§æˆ¿é—´ï¼Œçœ‹ç”µè§†ã€åšé¥­ã€æ´—æ¾¡ç­‰ç­‰ç­‰â€¦ å•çº¿ç¨‹å¦‚æœæ‚¨ç‹¬å±…è¿‡ï¼Œé‚£ä¹ˆæ‚¨å°±ä¼šçŸ¥é“â€”â€”â€”â€”æ‚¨å¯ä»¥åœ¨å®¶é‡Œçš„ä»»ä½•æ—¶é—´åšæ‚¨ä»»ä½•æƒ³åšçš„äº‹ï¼Œå› ä¸ºå®¶é‡Œé¢æ²¡æœ‰å…¶ä»–äººï¼Œæ‚¨åªè¦éµä»å†…å¿ƒçš„è§„åˆ™å°±å¥½ã€‚ å¤šçº¿ç¨‹å¦‚æœåœ¨æ‚¨çš„æˆ¿å­ä¸­å†å¦å¤–æ·»åŠ ä¸€ä¸ªäººï¼Œæƒ…å†µå°†å‘ç”Ÿå·¨å˜ã€‚ å‡è®¾æ‚¨ç»“å©šäº†ï¼Œé‚£ä¹ˆç°åœ¨æ‚¨çš„å®¶é‡Œä½ç€æ‚¨å’Œæ‚¨çš„é…å¶ã€‚å› æ­¤æ‚¨ä¸èƒ½åœ¨ ä»»ä½•æ—¶é—´ éƒ½èƒ½å¤Ÿä½¿ç”¨å•æ‰€ï¼Œå› ä¸ºæ‚¨éœ€è¦é¦–å…ˆç¡®ä¿æ‚¨çš„é…åˆä¸åœ¨å…¶ä¸­ï¼ å¦‚æœæ‚¨æœ‰ä¸¤ä¸ª è´Ÿè´£ä»»çš„æˆå¹´äºº å±…ä½åœ¨æˆ¿å±‹ä¸­ï¼Œé‚£ä¹ˆé€šå¸¸æ‚¨å¯ä»¥åœ¨ ã€Œå®‰å…¨æ€§ã€ è¿™ä¸€å—å„¿ç¨å¾®æ”¾æ¾ä¸€äº› (å› ä¸ºæ‚¨çŸ¥é“å¦ä¸€ä¸ªæˆå¹´äººä¼šå°Šé‡æ‚¨çš„ç©ºé—´ï¼Œä¸ä¼šè¯•å›¾æ•…æ„åœ¨å¨æˆ¿æ”¾ç«ä¹‹ç±»çš„..)ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæŠŠå‡ ä¸ª ç†Šå­©å­ æ··åœ¨ä¸€èµ·ï¼Œäº‹æƒ…å°±ä¼šå˜å¾—æ›´åŠ æœ‰è¶£äº†â€¦ è¯´å›è¿›ç¨‹å’Œçº¿ç¨‹å°±åƒæ˜¯æˆ¿å±‹å ç”¨åœŸåœ°ä¸€æ ·ï¼Œè¿›ç¨‹ä¹Ÿè¦å ç”¨å†…å­˜ã€‚ ä¹Ÿæ­£å¦‚æˆ¿å±‹æ‹¥æœ‰è€…å¯ä»¥éšæ„è¿›å…¥ä»–ä»¬æƒ³å»çš„ä»»ä½•æˆ¿é—´ä¸€æ ·ï¼Œè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¹Ÿ éƒ½æ‹¥æœ‰ å¯¹è¯¥å†…å­˜åŒºåŸŸè®¿é—®çš„æƒé™ã€‚ å¦‚æœæŸä¸ªçº¿ç¨‹è¢«åˆ†é…äº†æŸäº›ä¸œè¥¿ (ä¾‹å¦‚å“¥å“¥è¿›ç¨‹å‡ºå»ä¹°äº†æ¸¸æˆæœºğŸ®å›å®¶)ï¼Œé‚£ä¹ˆå…¶ä»–æ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥ç«‹å³è®¿é—®å®ƒ (å› ä¸ºå®ƒå­˜åœ¨äºå…¬å…±åœ°å€ç©ºé—´ä¸­â€”â€”â€”â€”éƒ½åœ¨æˆ¿å­é‡Œ)ã€‚ åŒæ ·ï¼Œå¦‚æœç»™è¿›ç¨‹åˆ†é…é¢å¤–å¤šçš„ä¸€å—ç©ºé—´ï¼Œåˆ™æ–°çš„åŒºåŸŸä¹Ÿèƒ½å¤Ÿç”¨äºæ‰€æœ‰çº¿ç¨‹ã€‚ è¿™é‡Œçš„çªé—¨åœ¨äºè¯†åˆ«å†…å­˜æ˜¯å¦åº”è¯¥å¯¹è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹å¯ç”¨ã€‚ å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæ‚¨å°†éœ€è¦è®©æ‰€æœ‰çº¿ç¨‹åŒæ­¥å®ƒä»¬å¯¹å…¶çš„è®¿é—®ã€‚ å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å‡å®šå®ƒåªèƒ½ç”¨äºæŸä¸ªç‰¹å®šçš„çº¿ç¨‹ (åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºåªæœ‰ç‰¹å®šçº¿ç¨‹èƒ½å¤Ÿè®¿é—®å®ƒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡è®¾çº¿ç¨‹ä¸ä¼šè‡ªå·±æŠŠè‡ªå·±ç©å„¿åçš„å‰æä¸‹ï¼Œä¸éœ€è¦åŒæ­¥æ“ä½œ)ã€‚ ä»æ—¥å¸¸çš„ç”Ÿæ´»ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œäº‹æƒ…å¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•ã€‚ ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†åŸºæœ¬ç‰¹å¾ (æ‰€æœ‰å†…å®¹éƒ½æ˜¯å…±äº«çš„)ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ·±å…¥æ¢ç©¶ä¸€ä¸‹äº‹æƒ…å˜å¾—æœ‰è¶£çš„åœ°æ–¹ä»¥åŠåŸå› ã€‚ ä¸‹å›¾æ˜¾ç¤ºäº†æˆ‘ä»¬è¡¨ç¤ºçº¿ç¨‹å’Œè¿›ç¨‹çš„æ–¹å¼ã€‚è¿›ç¨‹æ˜¯ä¸€ä¸ªåœ†åœˆï¼Œä»£è¡¨â€œå®¹å™¨â€æ¦‚å¿µï¼ˆåœ°å€ç©ºé—´ï¼‰ï¼Œä¸‰ä¸ªé•¿æ–¹å½¢æ˜¯çº¿ç¨‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å›¾ã€‚ äº’æ–¥åœ¨ç”Ÿæ´»ä¸­ï¼Œå¦‚æœæ‚¨æƒ³æ´—ä¸ªæ¾¡ï¼Œå¹¶ä¸”å·²ç»æœ‰äººåœ¨æ´—æ‰‹é—´äº†ï¼Œæ‚¨å°†ä¸å¾—ä¸ç­‰å¾…ã€‚çº¿ç¨‹åˆæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿ è¿™æ˜¯é€šè¿‡ä¸€ç§å«åš äº’æ–¥ (mutual exclusion) çš„æ“ä½œå®Œæˆçš„ã€‚å’Œä½ æƒ³çš„å·®ä¸å¤šâ€”â€”å½“æ¶‰åŠåˆ° ç‰¹å®šèµ„æº æ—¶ï¼Œè®¸å¤šçº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚ å½“ä½ æƒ³è¦ç‹¬å æµ´å®¤æ´—æ¾¡æ—¶ï¼Œä½ é€šå¸¸ä¼šèµ°è¿›æµ´å®¤ï¼Œä»é‡Œé¢é”ä¸Šé—¨ã€‚ä»»ä½•æƒ³è¦ä¸Šå•æ‰€çš„äººéƒ½ä¼šè¢«é”æŒ¡ä½ã€‚å½“ä½ æ´—å®Œä¹‹åï¼Œä½ ä¼šæ‰“å¼€é—¨ï¼Œå…è®¸å…¶ä»–äººè¿›å…¥ã€‚ è¿™å°±æ˜¯çº¿ç¨‹çš„ä½œç”¨ã€‚ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ä¸€ä¸ªå«åš äº’æ–¥é” (mutex) çš„å¯¹è±¡ (äº’æ–¥é” MUTual EXclusion çš„é¦–å­—æ¯ç¼©å†™)ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒé—¨ä¸Šçš„é” â€”â€” ä¸€æ—¦ä¸€ä¸ªçº¿ç¨‹é”å®šäº†äº’æ–¥é”ï¼Œå…¶ä»–çº¿ç¨‹å°±ä¸èƒ½è·å¾—è¯¥äº’æ–¥é”ï¼Œç›´åˆ°æ‹¥æœ‰å®ƒçš„çº¿ç¨‹é‡Šæ”¾å®ƒã€‚å°±åƒé—¨é”ä¸€æ ·ï¼Œç­‰å¾…è·å¾—äº’æ–¥é”çš„çº¿ç¨‹å°†è¢«é˜»æŒ¡ã€‚ äº’æ–¥é”å’Œé—¨é”çš„å¦ä¸€ä¸ªæœ‰è¶£çš„ç›¸ä¼¼ä¹‹å¤„æ˜¯ï¼Œäº’æ–¥é”å®é™…ä¸Šæ˜¯ä¸€ç§ â€œå»ºè®®â€ é” (â€œadvisoryâ€ lock)ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸éµå®ˆä½¿ç”¨äº’æ–¥é”çš„çº¦å®šï¼Œé‚£ä¹ˆä¿æŠ¤å°±æ²¡æœ‰ç”¨äº†ã€‚åœ¨æˆ‘ä»¬çš„æˆ¿å­æ¯”å–»ä¸­ï¼Œè¿™å°±åƒæœ‰äººä¸é¡¾é—¨å’Œé”çš„æƒ¯ä¾‹ï¼Œä»ä¸€å µå¢™é—¯è¿›ç›¥æ´—å®¤ã€‚ ä¼˜å…ˆçº§å¦‚æœå«ç”Ÿé—´ç°åœ¨ä¸Šé”äº†ï¼Œæœ‰å¾ˆå¤šäººåœ¨ç­‰ç€ä½¿ç”¨æ€ä¹ˆåŠï¼Ÿæ˜¾ç„¶ï¼Œæ‰€æœ‰äººéƒ½ååœ¨å¤–é¢ï¼Œç­‰ç€æ´—æ‰‹é—´é‡Œçš„äººå‡ºæ¥ã€‚ çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šå½“é—¨æ‰“å¼€æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ?è°ä¸‹ä¸€ä¸ªå»? ä½ ä¼šæƒ³ï¼Œè®©ç­‰å¾…æ—¶é—´æœ€é•¿çš„äººä¸‹ä¸€ä¸ªèµ°æˆ–è®¸æ˜¯ â€œå…¬å¹³çš„â€ã€‚åˆæˆ–è€…ï¼Œè®©å¹´é¾„æœ€å¤§çš„äººæ’åœ¨ç¬¬äºŒä½ä¹Ÿå¯èƒ½æ˜¯ â€œå…¬å¹³çš„â€ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ç¡®å®šä»€ä¹ˆæ˜¯â€œå…¬å¹³â€ã€‚ æˆ‘ä»¬é€šè¿‡ä¸¤ä¸ªå› ç´ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šä¼˜å…ˆçº§ å’Œ ç­‰å¾…çš„æ—¶é•¿ã€‚ å‡è®¾ä¸¤ä¸ªäººåŒæ—¶å‡ºç°åœ¨é”ç€çš„æµ´å®¤é—¨å£ã€‚å…¶ä¸­ä¸€ä¸ªæœ‰ä¸€ä¸ªæœ‰æ€¥äº‹ (ä¾‹å¦‚ï¼šä»–ä»¬å¼€ä¼šå·²ç»è¿Ÿåˆ°äº†â€¦)ï¼Œè€Œå¦ä¸€ä¸ªæ²¡æœ‰ã€‚è®©é‚£ä¸ªæœ‰æ€¥äº‹çš„äººå»åšä¸‹ä¸€ä¸ªï¼Œä¸æ˜¯å¾ˆæœ‰æ„ä¹‰å—ï¼Ÿ å½“ç„¶ï¼é—®é¢˜çš„å…³é”®æ˜¯ä½ å¦‚ä½•å†³å®šè°æ›´ â€œé‡è¦â€ã€‚ è¿™å¯ä»¥é€šè¿‡åˆ†é…ä¼˜å…ˆçº§æ¥å®ç° (æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—ï¼Œä¾‹å¦‚ 1 æ˜¯æœ€ä½çš„å¯ç”¨ä¼˜å…ˆçº§ï¼Œ255 æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„æœ€é«˜ä¼˜å…ˆçº§)ã€‚æˆ¿å­ä¸­é‚£äº›æœ‰æ€¥äº‹çš„äººå°†è¢«ç»™äºˆæ›´é«˜çš„ä¼˜å…ˆæƒï¼Œè€Œé‚£äº›æ²¡æœ‰æ€¥äº‹çš„äººå°†è¢«ç»™äºˆè¾ƒä½çš„ä¼˜å…ˆæƒã€‚ çº¿ç¨‹ä¹Ÿæ˜¯ä¸€æ ·ã€‚çº¿ç¨‹ä»çˆ¶çº¿ç¨‹ç»§æ‰¿è‡ªå·±çš„è°ƒåº¦ç®—æ³•ï¼Œä½†æ˜¯å¯ä»¥è°ƒç”¨ Linux ç³»ç»Ÿå‡½æ•° pthread_setschedparam() æ¥æ›´æ”¹è‡ªå·±çš„è°ƒåº¦ç­–ç•¥å’Œä¼˜å…ˆçº§ (å¦‚æœå®ƒæœ‰æƒé™è¿™ä¹ˆåšçš„è¯)ã€‚ å¦‚æœæœ‰å¾ˆå¤šçº¿ç¨‹åœ¨ç­‰å¾…ï¼Œå¹¶ä¸”äº’æ–¥é”è¢«è§£é”ï¼Œæˆ‘ä»¬å°†æŠŠäº’æ–¥é”ç»™ä¼˜å…ˆçº§æœ€é«˜çš„ç­‰å¾…çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œå‡è®¾ä¸¤ä¸ªäººæœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ã€‚ç°åœ¨è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿ å¥½å§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®©ç­‰å¾…æ—¶é—´æœ€é•¿çš„äººä¸‹ä¸€ä¸ªå»æ‰æ˜¯ â€œå…¬å¹³çš„â€ã€‚è¿™ä¸ä»…æ˜¯â€œå…¬å¹³çš„â€ï¼Œä¹Ÿæ˜¯å†…æ ¸å®é™…æ‰€åšçš„ã€‚åœ¨æœ‰ä¸€å †çº¿ç¨‹ç­‰å¾…çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸»è¦æ ¹æ®ä¼˜å…ˆçº§ï¼Œå…¶æ¬¡æ˜¯ç­‰å¾…çš„é•¿åº¦ã€‚ äº’æ–¥é”å½“ç„¶ä¸æ˜¯æˆ‘ä»¬å°†é‡åˆ°çš„å”¯ä¸€ åŒæ­¥å¯¹è±¡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä»–ä¸€äº›ä¾‹å­ã€‚ ä¿¡å·é‡è®©æˆ‘ä»¬ä»æµ´å®¤è½¬åˆ°å¨æˆ¿ï¼Œå› ä¸ºé‚£é‡Œæ˜¯ä¸€ä¸ªç¤¾ä¼šè®¤å¯çš„å¯ä»¥åŒæ—¶å®¹çº³ä¸€ä¸ªäººä»¥ä¸Šçš„åœ°æ–¹ã€‚åœ¨å¨æˆ¿é‡Œï¼Œä½ å¯èƒ½ä¸æƒ³è®©æ¯ä¸ªäººéƒ½åŒæ—¶å¾…åœ¨é‚£é‡Œã€‚äº‹å®ä¸Šï¼Œä½ å¯èƒ½æƒ³è¦é™åˆ¶å¨æˆ¿é‡Œçš„äººæ•° (å¨å¸ˆå¤ªå¤šç­‰ç­‰â€¦)ã€‚ å‡è®¾ä½ ä¸å¸Œæœ›åŒæ—¶æœ‰ è¶…è¿‡ä¸¤ä¸ªäºº åœ¨é‡Œé¢ï¼Œè¿™å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ¥å®ç°å—ï¼Ÿè¿™å¯¹äºæˆ‘ä»¬çš„ç±»æ¯”æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬ç¨å¾®è®¨è®ºä¸€ä¸‹ã€‚ è®¡æ•°ä¸º 1 çš„ä¿¡å·é‡åœ¨ä¸Šé¢ç±»æ¯”çš„å«ç”Ÿé—´çš„ä¾‹å­ä¸­ï¼Œå¯ä»¥æœ‰ä¸¤ç§æƒ…å†µï¼Œå¹¶ä¸”ä¸¤ç§çŠ¶æ€ç›¸äº’å…³è”: é—¨æ²¡é”ï¼Œæˆ¿é—´é‡Œæ²¡äººï¼› é—¨é”äº†ï¼Œæˆ¿é—´é‡Œæœ‰äººï¼› è¿™é‡Œå¹¶æ²¡æœ‰å…¶ä»–å¯èƒ½çš„ç»„åˆ â€”â€” æˆ¿é—´é‡Œæ²¡æœ‰äººçš„æ—¶å€™é—¨ä¸èƒ½é”ä¸Š (æˆ‘ä»¬æ€ä¹ˆèƒ½æ‰“å¼€å®ƒ?)ï¼Œæˆ¿é—´é‡Œæœ‰äººçš„æ—¶å€™é—¨ä¹Ÿä¸èƒ½æ‰“å¼€ (ä»–ä»¬æ€ä¹ˆèƒ½ä¿è¯è‡ªå·±çš„éšç§å‘¢?)ã€‚è¿™æ˜¯ä¸€ä¸ªè®¡æ•°ä¸º 1 çš„ä¿¡å·é‡ç¤ºä¾‹ï¼šæˆ¿é—´ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªäººï¼Œæˆ–è€…æœ‰ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨è¯¥ä¿¡å·é‡ã€‚ è¿™é‡Œçš„å…³é”®æ˜¯æˆ‘ä»¬æè¿°é”çš„æ–¹å¼ã€‚ åœ¨ä½ å…¸å‹çš„æµ´å®¤é”é‡Œï¼Œä½ åªèƒ½ä»é‡Œé¢ä¸Šé”å’Œè§£é” (æ²¡æœ‰å¯ä»¥ä»å¤–éƒ¨è®¿é—®çš„é”)ã€‚å®é™…ä¸Šï¼Œè¿™æ„å‘³ç€äº’æ–¥é”çš„æ‰€æœ‰æƒæ˜¯ä¸€ä¸ªåŸå­æ“ä½œ â€”â€” åœ¨ä½ è·å¾—äº’æ–¥é”çš„è¿‡ç¨‹ä¸­ï¼Œå…¶ä»–çº¿ç¨‹ä¸å¯èƒ½è·å¾—å®ƒï¼Œç»“æœå°±æ˜¯ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ â€œå¨æˆ¿â€ ä¸Šé”ï¼Œå¯¼è‡´å¦ä¸€ä¸ªçº¿ç¨‹å°†æ— æ³•è¿›å…¥ã€‚åœ¨æˆ‘ä»¬ç”¨æˆ¿å­æ¥æ¯”å–»çš„æ•…äº‹é‡Œï¼Œè¿™ä¸€ç‚¹å°±ä¸é‚£ä¹ˆæ˜æ˜¾äº†ï¼Œå› ä¸ºäººç±»æ¯” 1 å’Œ 0 èªæ˜å¾—å¤šã€‚ å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬å¨æˆ¿éœ€è¦çš„æ˜¯ä¸€ç§ä¸åŒç±»å‹çš„é”ã€‚ è®¡æ•°å¤§äº 1 çš„ä¿¡å·é‡å‡è®¾æˆ‘ä»¬åœ¨å¨æˆ¿å®‰è£…äº†ä¼ ç»Ÿçš„åŸºäºé’¥åŒ™çš„é”ã€‚è¿™æŠŠé”çš„å·¥ä½œåŸç†æ˜¯ï¼Œå¦‚æœä½ æœ‰ä¸€æŠŠé’¥åŒ™ï¼Œä½ å°±å¯ä»¥å¼€é—¨è¿›å»ã€‚ä»»ä½•ä½¿ç”¨è¿™æŠŠé”çš„äººéƒ½åŒæ„ï¼Œå½“ä»–ä»¬è¿›å…¥å†…éƒ¨æ—¶ï¼Œä»–ä»¬å°†ç«‹å³ä»å†…éƒ¨é”é—¨ï¼Œè¿™æ ·ï¼Œä»»ä½•åœ¨å¤–éƒ¨çš„äººéƒ½å°†å§‹ç»ˆéœ€è¦ä¸€æŠŠé’¥åŒ™ã€‚ å¥½äº†ï¼Œç°åœ¨æ§åˆ¶æˆ‘ä»¬æƒ³è¦å¤šå°‘äººåœ¨å¨æˆ¿å°±å˜æˆä¸€ä»¶ç®€å•çš„äº‹æƒ…äº† â€”â€” æŠŠä¸¤æŠŠé’¥åŒ™æŒ‚åœ¨é—¨å¤–ï¼å¨æˆ¿æ€»æ˜¯é”ç€ã€‚å½“æœ‰äººæƒ³è¿›å¨æˆ¿æ—¶ï¼Œä»–ä»¬è¦çœ‹æ˜¯å¦æœ‰é’¥åŒ™æŒ‚åœ¨é—¨å¤–ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œä»–ä»¬å°±æŠŠå®ƒå¸¦åœ¨èº«è¾¹ï¼Œæ‰“å¼€å¨æˆ¿çš„é—¨ï¼Œèµ°è¿›å»ï¼Œç”¨é’¥åŒ™é”é—¨ã€‚ å› ä¸ºè¿›å…¥å¨æˆ¿çš„äººå¿…é¡»åœ¨ä»–ä»¬è¿›å…¥å¨æˆ¿æ—¶å¸¦ç€é’¥åŒ™ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡é™åˆ¶é—¨å¤–æŒ‚é’©ä¸Šå¯ç”¨çš„é’¥åŒ™æ•°é‡æ¥ç›´æ¥æ§åˆ¶å…è®¸è¿›å…¥å¨æˆ¿çš„äººæ•°ã€‚ å¯¹äºçº¿ç¨‹ï¼Œè¿™æ˜¯é€šè¿‡ ä¿¡å·é‡ æ¥å®Œæˆçš„ã€‚â€œæ™®é€šâ€ ä¿¡å·é‡å°±åƒäº’æ–¥é”ä¸€æ ·å·¥ä½œ â€”â€” ä½ è¦ä¹ˆæ‹¥æœ‰äº’æ–¥é”ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä½ å¯ä»¥è®¿é—®èµ„æºï¼Œè¦ä¹ˆä¸æ‹¥æœ‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä½ ä¸èƒ½è®¿é—®èµ„æºã€‚æˆ‘ä»¬åˆšæ‰åœ¨å¨æˆ¿ä¸­æè¿°çš„ä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°ä¿¡å·é‡ â€”â€” å®ƒè·Ÿè¸ªè®¡æ•° (æ ¹æ®çº¿ç¨‹å¯ç”¨çš„ â€œé’¥åŒ™â€ çš„æ•°é‡)ã€‚ ä½œä¸ºäº’æ–¥é”çš„ä¿¡å·é‡æˆ‘ä»¬åˆšæ‰é—®äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜:â€œå¯ä»¥ç”¨äº’æ–¥é”æ¥å®ç°å—?â€ å¯¹äºä½¿ç”¨äº’æ–¥é”å®ç°è®¡æ•°ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚åè¿‡æ¥æ€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¿¡å·é‡ä½œä¸ºäº’æ–¥é”å—ï¼Ÿ å½“ç„¶å¯ä»¥ï¼äº‹å®ä¸Šï¼Œåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™æ­£æ˜¯å®ƒä»¬æ‰€åšçš„ â€”â€” å®ƒä»¬æ²¡æœ‰äº’æ–¥é”ï¼Œåªæœ‰ä¿¡å·é‡ï¼é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ä¸ºäº’æ–¥é”è´¹å¿ƒå‘¢ï¼Ÿ è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå…ˆçœ‹çœ‹ä½ çš„æ´—æ‰‹é—´ã€‚ä½ æˆ¿å­çš„å»ºé€ è€…æ˜¯å¦‚ä½•å®ç° â€œäº’æ–¥é”â€ çš„ï¼Ÿæˆ‘æ•¢è‚¯å®šä½ å®¶çš„å•æ‰€å¤–é¢å¹¶æ²¡æœ‰æŒ‚åœ¨å¢™ä¸Šçš„é’¥åŒ™ï¼ äº’æ–¥é”æ˜¯ä¸€ç§ â€œç‰¹æ®Šç”¨é€”â€ çš„ä¿¡å·é‡ã€‚å¦‚æœæ‚¨å¸Œæœ›åœ¨ä»£ç çš„ç‰¹å®šéƒ¨åˆ†ä¸­è¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆäº’æ–¥æ˜¯ç›®å‰ä¸ºæ­¢æœ€æœ‰æ•ˆçš„å®ç°ã€‚ (äº‹å®ä¸Šæ–‡ç« çš„åç»­ä»‹ç»äº†å…¶ä»–åŒæ­¥æ–¹æ¡ˆâ€”â€”ç§°ä¸º condvarsã€barrier å’Œ sleeponsï¼Œè¿™äº›å°±æ˜¯ Java ä¸­åŒæ­¥æ–¹æ¡ˆçš„æ“ä½œç³»ç»Ÿå±‚é¢çš„åŸå‹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡Œå»é˜…è¯»ä¸€ä¸‹.. å·®åˆ«ä¸å¤§ï¼Œåªä¸è¿‡ä½¿ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„æè¿°â€¦) ä¸ºäº†é¿å…æ··æ·†ï¼Œè¯·è®¤è¯†åˆ° äº’æ–¥é”è¿˜æœ‰å…¶ä»–å±æ€§ï¼Œæ¯”å¦‚ ä¼˜å…ˆçº§ç»§æ‰¿ï¼Œè¿™æ˜¯å®ƒä¸ ä¿¡å·é‡ çš„åŒºåˆ«ã€‚ Part 2. å†…æ ¸çš„ä½œç”¨æˆ¿å­çš„ç±»æ¯”å¾ˆå¥½åœ°è§£é‡Šäº†åŒæ­¥çš„æ¦‚å¿µï¼Œä½†æ˜¯å®ƒåœ¨å¦ä¸€ä¸ªä¸»è¦é¢†åŸŸæ˜¯è§£é‡Šä¸é€šçš„ã€‚åœ¨æˆ‘ä»¬å®¶é‡Œï¼Œæœ‰è®¸å¤š â€œçº¿ç¨‹â€ æ˜¯åŒæ—¶è¿è¡Œçš„ã€‚ç„¶è€Œï¼Œåœ¨ä¸€ä¸ªçœŸå®çš„å®æ—¶ç³»ç»Ÿä¸­ï¼Œé€šå¸¸åªæœ‰ä¸€ä¸ª CPUï¼Œæ‰€ä»¥ä¸€æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ª â€œä¸œè¥¿â€ã€‚ å•æ ¸ CPUè®©æˆ‘ä»¬çœ‹çœ‹åœ¨ç°å®æƒ…å†µä¸­ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œç‰¹åˆ«æ˜¯åœ¨ç³»ç»Ÿä¸­ åªæœ‰ä¸€ä¸ª CPU çš„æƒ…å†µä¸‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºåªæœ‰ä¸€ä¸ª CPUï¼Œå› æ­¤åœ¨ ä»»ä½•ç»™å®šçš„æ—¶é—´ç‚¹åªèƒ½è¿è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚å†…æ ¸å†³å®š (ä½¿ç”¨ä¸€äº›è§„åˆ™ï¼Œæˆ‘ä»¬å°†å¾ˆå¿«çœ‹åˆ°) åˆ°åº•è¯¥è¿è¡Œå“ªä¸ªçº¿ç¨‹ã€‚ å¤šæ ¸CPU (SMP)å¦‚æœæ‚¨è´­ä¹°çš„ç³»ç»Ÿå…·æœ‰å¤šä¸ªç›¸åŒçš„ CPUï¼Œå®ƒä»¬éƒ½å…±äº«å†…å­˜å’Œè®¾å¤‡ï¼Œé‚£ä¹ˆæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ª SMP box (SMP ä»£è¡¨å¯¹ç§°çš„å¤šå¤„ç†å™¨ï¼Œâ€œå¯¹ç§°çš„â€ éƒ¨åˆ†è¡¨ç¤ºç³»ç»Ÿä¸­çš„æ‰€æœ‰ CPU éƒ½æ˜¯ç›¸åŒçš„)*ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å¹¶å‘ *(åŒæ—¶) è¿è¡Œçš„çº¿ç¨‹æ•°é‡å—åˆ° CPU æ•°é‡çš„é™åˆ¶ã€‚(å®é™…ä¸Šï¼Œå•å¤„ç†å™¨æœºç®±ä¹Ÿæ˜¯å¦‚æ­¤!) ç”±äºæ¯ä¸ªå¤„ç†å™¨ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå› æ­¤å¦‚æœæœ‰å¤šä¸ªå¤„ç†å™¨ï¼Œå¤šä¸ªçº¿ç¨‹å°±å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ ç°åœ¨è®©æˆ‘ä»¬å…ˆå¿½ç•¥ CPU çš„æ•°é‡ â€”â€” ä¸€ä¸ªæœ‰ç”¨çš„æŠ½è±¡æ˜¯æŠŠç³»ç»Ÿè®¾è®¡æˆå¤šçº¿ç¨‹åŒæ—¶è¿è¡Œçš„æ ·å­ï¼Œå³ä½¿äº‹å®å¹¶éå¦‚æ­¤ã€‚(ç¨åï¼Œåœ¨ â€œä½¿ç”¨ SMP æ—¶è¦æ³¨æ„çš„äº‹æƒ…â€ ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ° SMP çš„ä¸€äº›éç›´è§‚å½±å“â€¦) å†…æ ¸ä½œä¸ºä»²è£ç¨‹åºé‚£ä¹ˆï¼Œåœ¨ä»»ä½•ç»™å®šçš„æ—¶åˆ»ï¼Œè°æ¥å†³å®šå“ªä¸ªçº¿ç¨‹å°†è¿è¡Œï¼Ÿè¿™æ˜¯å†…æ ¸çš„å·¥ä½œã€‚ å†…æ ¸ç¡®å®šåœ¨ç‰¹å®šæ—¶åˆ»åº”è¯¥ä½¿ç”¨ CPU çš„çº¿ç¨‹ï¼Œå¹¶å°†ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°è¯¥çº¿ç¨‹ã€‚è®©æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹å†…æ ¸å¯¹ CPU åšäº†ä»€ä¹ˆã€‚ CPU æœ‰è®¸å¤šå¯„å­˜å™¨ (ç¡®åˆ‡çš„æ•°ç›®å–å†³äºå¤„ç†å™¨å®¶æ—ï¼Œä¾‹å¦‚ï¼Œx86 å¯¹ MIPSï¼Œä»¥åŠç‰¹å®šçš„å®¶æ—æˆå‘˜ï¼Œä¾‹å¦‚ï¼Œ80486 å¯¹ å¥”è…¾)ã€‚å½“çº¿ç¨‹è¿è¡Œæ—¶ï¼Œä¿¡æ¯å­˜å‚¨åœ¨è¿™äº›å¯„å­˜å™¨ä¸­ (ä¾‹å¦‚ï¼Œå½“å‰ç¨‹åºä½ç½®)ã€‚ å½“å†…æ ¸å†³å®šå¦ä¸€ä¸ªçº¿ç¨‹åº”è¯¥è¿è¡Œæ—¶ï¼Œå®ƒéœ€è¦: ä¿å­˜å½“å‰è¿è¡Œçº¿ç¨‹çš„å¯„å­˜å™¨å’Œå…¶ä»–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼› å°†æ–°çº¿ç¨‹çš„å¯„å­˜å™¨å’Œä¸Šä¸‹æ–‡åŠ è½½åˆ° CPU ä¸­ï¼› ä½†æ˜¯å†…æ ¸å¦‚ä½•å†³å®šåº”è¯¥è¿è¡Œå¦ä¸€ä¸ªçº¿ç¨‹å‘¢ï¼Ÿ å®ƒä¼šæŸ¥çœ‹æŸä¸ªç‰¹å®šçº¿ç¨‹æ­¤æ—¶æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨è¯¥ CPUã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬è°ˆåˆ°äº’æ–¥é”æ—¶ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§ é˜»å¡çŠ¶æ€ (å½“ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰äº’æ–¥é”ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿæƒ³è·å¾—å®ƒæ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µ;ç¬¬äºŒä¸ªçº¿ç¨‹å°†è¢«é˜»å¡)ã€‚ å› æ­¤ï¼Œä»å†…æ ¸çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ¶ˆè€— CPUï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹ç”±äºè¢«é˜»å¡è€Œä¸èƒ½ç­‰å¾…äº’æ–¥é”ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå†…æ ¸è®©å¯ä»¥è¿è¡Œçš„çº¿ç¨‹æ¶ˆè€— CPUï¼Œå¹¶å°†å¦ä¸€ä¸ªçº¿ç¨‹æ”¾å…¥ä¸€ä¸ªå†…éƒ¨åˆ—è¡¨ (ä»¥ä¾¿å†…æ ¸å¯ä»¥è·Ÿè¸ªå®ƒå¯¹äº’æ–¥é”çš„è¯·æ±‚)ã€‚ æ˜¾ç„¶ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„æƒ…å†µã€‚å‡è®¾æœ‰è®¸å¤šçº¿ç¨‹å¯ä»¥ä½¿ç”¨è¯¥ CPUã€‚è¿˜è®°å¾—æˆ‘ä»¬åŸºäºä¼˜å…ˆçº§å’Œç­‰å¾…é•¿åº¦æ¥å§”æ‰˜å¯¹äº’æ–¥çš„è®¿é—®å—ï¼Ÿå†…æ ¸ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ¡ˆæ¥ç¡®å®šä¸‹ä¸€ä¸ªå°†è¿è¡Œå“ªä¸ªçº¿ç¨‹ã€‚æœ‰ä¸¤ä¸ªå› ç´ ï¼šä¼˜å…ˆçº§ å’Œ è°ƒåº¦ç®—æ³•ï¼ŒåŸºäºæ­¤é¡ºåºè¯„ä¼°ã€‚ ä¼˜å…ˆçº§è€ƒè™‘ä¸¤ä¸ªèƒ½å¤Ÿä½¿ç”¨ CPU çš„çº¿ç¨‹ã€‚å¦‚æœè¿™äº›çº¿ç¨‹å…·æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆç­”æ¡ˆçœŸçš„å¾ˆç®€å• â€”â€” å†…æ ¸å°† CPU åˆ†é…ç»™ä¼˜å…ˆçº§æœ€é«˜çš„çº¿ç¨‹ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨è®¨è®ºè·å¾—äº’æ–¥é”æ—¶æåˆ°çš„ï¼Œä¼˜å…ˆçº§æ˜¯ä» 1 (å¯ç”¨æ€§æœ€ä½çš„) å¼€å§‹çš„ã€‚ æ³¨æ„ï¼Œä¼˜å…ˆçº§ä¸ºé›¶æ˜¯ä¸ºç©ºé—²çº¿ç¨‹ä¿ç•™çš„ â€”â€” æ‚¨ä¸èƒ½ä½¿ç”¨å®ƒã€‚ (å¦‚æœæ‚¨æƒ³çŸ¥é“æ‚¨çš„ç³»ç»Ÿçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œå¯ä»¥ä½¿ç”¨ Linux çš„ç³»ç»Ÿå‡½æ•° sched_get_priority_min() å’Œ sched_get_priority_max() â€”â€” å®ƒä»¬çš„åŸå‹è¢«å®šä¹‰åœ¨ &lt;sched.h&gt; ä¸­ã€‚æˆ‘ä»¬å‡è®¾ 1 æ˜¯æœ€ä½å¯ç”¨æ€§ï¼Œ255 æ˜¯æœ€é«˜å¯ç”¨æ€§ã€‚) å¦‚æœå¦ä¸€ä¸ªå…·æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹çªç„¶èƒ½å¤Ÿä½¿ç”¨ CPUï¼Œå†…æ ¸å°†ç«‹å³ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸º æŠ¢å  â€”â€” é«˜ä¼˜å…ˆçº§çº¿ç¨‹æŠ¢å äº†ä½ä¼˜å…ˆçº§çº¿ç¨‹ã€‚å½“é«˜ä¼˜å…ˆçº§çº¿ç¨‹å®Œæˆæ—¶ï¼Œå†…æ ¸ä¸Šä¸‹æ–‡åˆ‡æ¢å›ä¹‹å‰è¿è¡Œçš„ä½ä¼˜å…ˆçº§çº¿ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º æ¢å¤ â€”â€” å†…æ ¸ç»§ç»­è¿è¡Œå‰ä¸€ä¸ªçº¿ç¨‹ã€‚ ç°åœ¨ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹èƒ½å¤Ÿä½¿ç”¨ CPUï¼Œå¹¶ä¸”å…·æœ‰å®Œå…¨ç›¸åŒçš„ä¼˜å…ˆçº§ã€‚ è°ƒåº¦ç®—æ³•è®©æˆ‘ä»¬å‡è®¾å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å½“å‰æ­£åœ¨ä½¿ç”¨è¯¥ CPUã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å†…æ ¸ç”¨äºå†³å®šä½•æ—¶è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„è§„åˆ™ã€‚(å½“ç„¶ï¼Œè¿™æ•´ä¸ªè®¨è®ºå®é™…ä¸Šåªé€‚ç”¨äºå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹) å†…æ ¸æœ‰ä¸¤ç§ä¸»è¦è°ƒåº¦ç®—æ³• (ç­–ç•¥)*ï¼šè½®è¯¢è°ƒåº¦ *(æˆ–ç®€ç§°â€œRRâ€) å’Œ FIFO (å…ˆå…¥å…ˆå‡º)ã€‚ FIFO(First In First Outï¼Œå…ˆè¿›å…ˆå‡º)åœ¨ FIFO è°ƒåº¦ç®—æ³•ä¸­ï¼Œå…è®¸çº¿ç¨‹ä¸€ç›´ä½¿ç”¨ CPU (åªè¦å®ƒæƒ³è¦ä½¿ç”¨)*ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœè¯¥çº¿ç¨‹æ­£åœ¨è¿›è¡Œéå¸¸é•¿çš„æ•°å­¦è®¡ç®—ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–å…·æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å‡†å¤‡å¥½ï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹å¯èƒ½ä¼šæ°¸è¿œè¿è¡Œä¸‹å»ã€‚é‚£ä¹ˆå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹å‘¢ï¼Ÿå®ƒä»¬ä¹Ÿè¢«é”åœ¨å¤–é¢äº†ã€‚(æ˜¾ç„¶ï¼Œæ­¤æ—¶ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹Ÿè¢«é”å®šã€‚)* å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ”¾å¼ƒæˆ–è‡ªæ„¿æ”¾å¼ƒ CPUï¼Œé‚£ä¹ˆå†…æ ¸å°†æŸ¥æ‰¾ å…·æœ‰ç›¸åŒä¼˜å…ˆçº§ã€èƒ½å¤Ÿä½¿ç”¨è¯¥ CPU çš„å…¶ä»–çº¿ç¨‹ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆå†…æ ¸å°†å¯»æ‰¾èƒ½å¤Ÿä½¿ç”¨ CPU çš„ä½ä¼˜å…ˆçº§çº¿ç¨‹ã€‚ æ³¨æ„ï¼Œæœ¯è¯­ â€œè‡ªæ„¿æ”¾å¼ƒCPUâ€ å¯èƒ½æ„å‘³ç€ä¸¤ç§æƒ…å†µã€‚ å¦‚æœçº¿ç¨‹è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œæˆ–è€…åœ¨ä¿¡å·é‡ä¸Šé˜»å¡ï¼Œé‚£ä¹ˆæ˜¯çš„ï¼Œä¸€ä¸ªä½ä¼˜å…ˆçº§çš„çº¿ç¨‹å¯ä»¥è¿è¡Œ (å¦‚ä¸Šæ‰€è¿°)ã€‚ ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ª â€œç‰¹æ®Šâ€ è°ƒç”¨ï¼Œsched_yield() (åŸºäºå†…æ ¸è°ƒç”¨ SchedYield())ï¼Œå®ƒä»…å°† CPU è®©ç»™å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ â€”â€” å¦‚æœé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å·²ç»å‡†å¤‡å¥½è¿è¡Œï¼Œé‚£ä¹ˆä½ä¼˜å…ˆçº§çš„çº¿ç¨‹å°†æ°¸è¿œä¸ä¼šæœ‰æœºä¼šè¿è¡Œã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹ç¡®å®è°ƒç”¨äº† sched_yield()ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹å‡†å¤‡è¿è¡Œï¼Œé‚£ä¹ˆåŸå§‹çº¿ç¨‹å°†ç»§ç»­è¿è¡Œã€‚å®é™…ä¸Šï¼Œsched_yield() ç”¨äºåœ¨ CPU ä¸Šå¯¹å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹è¿›è¡Œè®¿é—®ã€‚ åœ¨ä¸‹é¢çš„å›¾ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸‰ä¸ªçº¿ç¨‹åœ¨ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ä¸­è¿è¡Œ: å¦‚æœæˆ‘ä»¬å‡è®¾çº¿ç¨‹â€œAâ€å’Œâ€œBâ€å·²ç»å‡†å¤‡å¥½äº†ï¼Œçº¿ç¨‹â€œCâ€è¢«é˜»å¡äº†(å¯èƒ½åœ¨ç­‰å¾…äº’æ–¥)ï¼Œçº¿ç¨‹â€œDâ€(æ²¡æœ‰æ˜¾ç¤º)æ­£åœ¨æ‰§è¡Œï¼Œé‚£ä¹ˆå†…æ ¸ç»´æŠ¤çš„å°±ç»ªé˜Ÿåˆ—çš„ä¸€éƒ¨åˆ†çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š è¿™æ˜¾ç¤ºäº†å†…æ ¸çš„ å†…éƒ¨å°±ç»ªé˜Ÿåˆ—ï¼Œå†…æ ¸ä½¿ç”¨å®ƒæ¥å†³å®šä¸‹ä¸€æ­¥è°ƒåº¦è°ã€‚æ³¨æ„ï¼Œçº¿ç¨‹â€œCâ€æ²¡æœ‰åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºå®ƒè¢«é˜»å¡äº†ï¼›çº¿ç¨‹â€œDâ€ä¹Ÿæ²¡æœ‰åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºå®ƒæ­£åœ¨è¿è¡Œã€‚ è½®å¾ª(Round Robin)RR è°ƒåº¦ç®—æ³• ä¸ FIFO ç›¸åŒï¼Œåªæ˜¯å¦‚æœæœ‰å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ï¼Œåˆ™è¯¥çº¿ç¨‹ä¸ä¼šæ°¸è¿œè¿è¡Œã€‚å®ƒåªå¯¹ç³»ç»Ÿå®šä¹‰çš„æ—¶é—´ç‰‡è¿è¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‡½æ•° sched_rr_get_interval() æ¥ç¡®å®šæ—¶é—´ç‰‡çš„å€¼ã€‚æ—¶é—´ç‰‡é€šå¸¸ä¸º 4 æ¯«ç§’ï¼Œä½†å®é™…ä¸Šæ˜¯ ticksize çš„ 4 å€ï¼Œæ‚¨å¯ä»¥æŸ¥è¯¢æˆ–ä½¿ç”¨ ClockPeriod() è®¾ç½® ticksizeã€‚ å®é™…å‘ç”Ÿçš„æƒ…å†µæ˜¯ï¼Œå†…æ ¸å¯åŠ¨ä¸€ä¸ª RR çº¿ç¨‹ï¼Œå¹¶è®°å½•æ—¶é—´ã€‚å¦‚æœ RR çº¿ç¨‹è¿è¡Œäº†ä¸€æ®µæ—¶é—´ï¼Œåˆ†é…ç»™å®ƒçš„æ—¶é—´å°±ä¼šè¶…æ—¶ (æ—¶é—´ç‰‡å·²ç»è¿‡æœŸ)ã€‚å†…æ ¸æŸ¥çœ‹æ˜¯å¦æœ‰å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹å·²ç»å‡†å¤‡å¥½äº†ã€‚å¦‚æœæœ‰ï¼Œå†…æ ¸è¿è¡Œå®ƒã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå†…æ ¸å°†ç»§ç»­è¿è¡Œ RR çº¿ç¨‹ (å†…æ ¸æˆäºˆçº¿ç¨‹å¦ä¸€ä¸ªæ—¶é—´ç‰‡)ã€‚ è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ è°ƒåº¦è§„åˆ™ (å¯¹äºå•ä¸ªCPU)ï¼ŒæŒ‰é‡è¦æ€§æ’åº: ä¸€æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚ æœ€é«˜ä¼˜å…ˆçº§çš„å°±ç»ªçº¿ç¨‹å°†è¿è¡Œã€‚ çº¿ç¨‹å°†ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°é˜»å¡æˆ–é€€å‡ºã€‚ RR çº¿ç¨‹å°†è¿è¡Œå®ƒçš„æ—¶é—´ç‰‡ï¼Œç„¶åå†…æ ¸å°†é‡æ–°å®‰æ’å®ƒ (å¦‚æœéœ€è¦)ã€‚ ä¸‹é¢çš„æµç¨‹å›¾æ˜¾ç¤ºäº†å†…æ ¸åšå‡ºçš„å†³ç­–ï¼š å¯¹äºå¤š CPU ç³»ç»Ÿï¼Œè§„åˆ™æ˜¯ç›¸åŒçš„ï¼Œé™¤äº†å¤šä¸ª CPU å¯ä»¥å¹¶å‘åœ°è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹è¿è¡Œçš„é¡ºåº (åœ¨å¤šä¸ª CPU ä¸Šè¿è¡Œå“ªäº›çº¿ç¨‹) çš„ç¡®å®šæ–¹æ³•ä¸åœ¨å•ä¸ª CPU ä¸Šå®Œå…¨ç›¸åŒ â€”â€” æœ€é«˜ä¼˜å…ˆçº§çš„å°±ç»ªçº¿ç¨‹å°†åœ¨ä¸€ä¸ª CPU ä¸Šè¿è¡Œã€‚å¯¹äºä¼˜å…ˆçº§è¾ƒä½æˆ–ç­‰å¾…æ—¶é—´è¾ƒé•¿çš„çº¿ç¨‹ï¼Œå†…æ ¸åœ¨å®‰æ’å®ƒä»¬ä»¥é¿å…ç¼“å­˜ä½¿ç”¨æ•ˆç‡ä½ä¸‹æ–¹é¢å…·æœ‰ä¸€å®šçš„çµæ´»æ€§ã€‚ å†…æ ¸çŠ¶æ€æˆ‘ä»¬ä¸€ç›´åœ¨æ¾æ•£åœ°è®¨è®º â€œè¿è¡Œâ€ã€â€œå°±ç»ªâ€ å’Œ â€œé˜»å¡â€ â€”â€” ç°åœ¨è®©æˆ‘ä»¬æ›´åŠ æ·±å…¥åœ°æ¥è®¨è®ºè¿™äº›çº¿ç¨‹çŠ¶æ€ã€‚ è¿è¡Œæ€ï¼ˆRUNNINGï¼‰è¿è¡ŒçŠ¶æ€ä»…ä»…æ„å‘³ç€çº¿ç¨‹æ­£åœ¨ç§¯æåœ°æ¶ˆè€— CPUã€‚åœ¨ä¸€ä¸ª SMP ç³»ç»Ÿä¸Šï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åœ¨è¿è¡Œ;åœ¨å•å¤„ç†å™¨ç³»ç»Ÿä¸­ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œã€‚ å°±ç»ªæ€ï¼ˆREADYï¼‰å°±ç»ªçŠ¶æ€æ„å‘³ç€è¿™ä¸ªçº¿ç¨‹ç°åœ¨å°±å¯ä»¥è¿è¡Œ â€”â€” ä½†å®ƒä¸ä¼šç«‹åˆ»è¿è¡Œï¼Œå› ä¸ºå¦ä¸€ä¸ªçº¿ç¨‹ (å…·æœ‰ç›¸åŒæˆ–æ›´é«˜ä¼˜å…ˆçº§) æ­£åœ¨è¿è¡Œã€‚å¦‚æœä¸¤ä¸ªçº¿ç¨‹èƒ½å¤Ÿä½¿ç”¨ CPUï¼Œä¸€ä¸ªçº¿ç¨‹ä¼˜å…ˆçº§ä¸º 10ï¼Œä¸€ä¸ªçº¿ç¨‹ä¼˜å…ˆçº§ä¸º 7ï¼Œé‚£ä¹ˆä¼˜å…ˆçº§ä¸º 10 çš„çº¿ç¨‹å°†æ­£åœ¨è¿è¡Œï¼Œä¼˜å…ˆçº§ä¸º 7 çš„çº¿ç¨‹å°†å‡†å¤‡å°±ç»ªã€‚ é˜»å¡çŠ¶æ€ï¼ˆBLOCKEDï¼‰æˆ‘ä»¬æŠŠé˜»å¡çŠ¶æ€ç§°ä¸ºä»€ä¹ˆï¼Ÿé—®é¢˜æ˜¯ï¼Œé˜»å¡çŠ¶æ€å¹¶ä¸åªæœ‰ä¸€ä¸ªã€‚åœ¨å†…æ ¸çš„ä½œç”¨ä¸‹ï¼Œå®é™…ä¸Šæœ‰è¶…è¿‡ 12 ç§é˜»å¡çŠ¶æ€ã€‚ ä¸ºä»€ä¹ˆé‚£ä¹ˆå¤šï¼Ÿå› ä¸ºå†…æ ¸ä¼šè·Ÿè¸ªçº¿ç¨‹è¢«é˜»å¡çš„åŸå› ã€‚ æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä¸¤ç§é˜»å¡çŠ¶æ€ â€”â€” å½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡ç­‰å¾…äº’æ–¥é”æ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹å¤„äºäº’æ–¥é”çŠ¶æ€ï¼›å½“çº¿ç¨‹è¢«é˜»å¡ç­‰å¾…ä¿¡å·é‡æ—¶ï¼Œå®ƒå¤„äº SEM çŠ¶æ€ã€‚è¿™äº›çŠ¶æ€åªæ˜¯è¡¨æ˜çº¿ç¨‹é˜»å¡åœ¨å“ªä¸ªé˜Ÿåˆ— (å’Œå“ªä¸ªèµ„æº) ä¸Šã€‚ å¦‚æœåœ¨ä¸€ä¸ªäº’æ–¥é”ä¸Šé˜»å¡äº†è®¸å¤šçº¿ç¨‹ (å¤„äºäº’æ–¥é”é˜»å¡çŠ¶æ€)ï¼Œå†…æ ¸ä¸ä¼šæ³¨æ„åˆ°å®ƒä»¬ï¼Œç›´åˆ°æ‹¥æœ‰è¯¥äº’æ–¥é”çš„çº¿ç¨‹é‡Šæ”¾å®ƒã€‚æ­¤æ—¶ï¼Œé˜»å¡çš„ä¸€ä¸ªçº¿ç¨‹å·²ç»å‡†å¤‡å°±ç»ªï¼Œå†…æ ¸å°†åšå‡ºé‡æ–°è°ƒåº¦å†³ç­– (å¦‚æœéœ€è¦)ã€‚ ä¸ºä»€ä¹ˆè¯´ â€œå¦‚æœéœ€è¦â€ å‘¢ï¼Ÿåˆšåˆšé‡Šæ”¾äº’æ–¥é”çš„çº¿ç¨‹å¯èƒ½è¿˜æœ‰å…¶ä»–äº‹æƒ…è¦åšï¼Œå¹¶ä¸”æ¯”ç­‰å¾…çš„çº¿ç¨‹æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒä¸ªè§„åˆ™ï¼Œå³ â€œæœ€é«˜ä¼˜å…ˆçº§çš„å°±ç»ªçº¿ç¨‹å°†è¿è¡Œâ€ï¼Œè¿™æ„å‘³ç€è°ƒåº¦é¡ºåºæ²¡æœ‰æ”¹å˜ â€”â€” é«˜ä¼˜å…ˆçº§çº¿ç¨‹ç»§ç»­è¿è¡Œã€‚ å†…æ ¸çŠ¶æ€ï¼Œå®Œæ•´çš„åˆ—è¡¨ä¸‹é¢æ˜¯å†…æ ¸é˜»å¡çŠ¶æ€çš„å®Œæ•´åˆ—è¡¨ï¼Œå¹¶ç®€è¦è¯´æ˜äº†æ¯ä¸ªçŠ¶æ€ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™ä¸ªåˆ—è¡¨å¯ä»¥åœ¨ \\&lt;sys/neutrino.h&gt; â€”â€” ä½ ä¼šæ³¨æ„åˆ°æ‰€æœ‰çš„çŠ¶æ€éƒ½ä»¥ STATE_ ä½œä¸ºå‰ç¼€ (ä¾‹å¦‚ï¼Œè¿™ä¸ªè¡¨ä¸­çš„ â€œREADYâ€ åœ¨å¤´æ–‡ä»¶ä¸­ä»¥ STATE_READY çš„å½¢å¼åˆ—å‡º)ï¼š çŠ¶æ€æ ‡è¯† å½“å‰çº¿ç¨‹åŠ¨ä½œ CONDVAR ç­‰å¾…ä¸€ä¸ªæ¡ä»¶å˜é‡è¢«é€šçŸ¥ã€‚ DEAD çº¿ç¨‹æ­»äº¡ã€‚å†…æ ¸æ­£åœ¨ç­‰å¾…é‡Šæ”¾çº¿ç¨‹çš„èµ„æºã€‚ INTR ç­‰å¾…ä¸­æ–­ã€‚ JOIN ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„å®Œæˆã€‚ MUTEX ç­‰å¾…è·å–äº’æ–¥é”ã€‚ NANOSLEEP ç¡ä¸€æ®µæ—¶é—´ (å½“å‰çš„çº¿ç¨‹å°†æš‚åœæ‰§è¡Œ,ç›´åˆ° rqtp å‚æ•°æ‰€æŒ‡å®šçš„æ—¶é—´é—´éš”)ã€‚ NET_REPLY ç­‰å¾…é€šè¿‡ç½‘ç»œå‘é€çš„å›å¤ã€‚ NET_SEND ç­‰å¾…ä¸€ä¸ªè„‰å†²æˆ–æ¶ˆæ¯é€šè¿‡ç½‘ç»œä¼ é€ã€‚ READY ä¸åœ¨ CPU ä¸Šè¿è¡Œï¼Œä½†å·²å‡†å¤‡è¿è¡Œ (ä¸€ä¸ªæˆ–å¤šä¸ªæ›´é«˜æˆ–åŒç­‰ä¼˜å…ˆçº§çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œ)ã€‚ RECEIVE ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚ REPLY ç­‰å¾…æœåŠ¡å™¨å›å¤æ¶ˆæ¯ã€‚ RUNNING æ­£åœ¨ CPU ä¸Šç§¯æåœ°è¿è¡Œã€‚ SEM ç­‰å¾…è·å–ä¿¡å·é‡ã€‚ SEND ç­‰å¾…æœåŠ¡å™¨æ¥æ”¶æ¶ˆæ¯ã€‚ SIGSUSPEND ç­‰å¾…ä¿¡å·ã€‚ SIGWAITINFO ç­‰å¾…ä¿¡å·ã€‚ STACK ç­‰å¾…åˆ†é…æ›´å¤šå †æ ˆã€‚ STOPPED æš‚åœ(SIGSTOPä¿¡å·)ã€‚ WAITCTX ç­‰å¾…å¯„å­˜å™¨ä¸Šä¸‹æ–‡ (é€šå¸¸æ˜¯æµ®ç‚¹) å¯ç”¨ (ä»…åœ¨SMPç³»ç»Ÿä¸Š)ã€‚ WAITPAGE ç­‰å¾…è¿›ç¨‹ç®¡ç†è€…è§£å†³é¡µé¢ä¸Šçš„ä¸€ä¸ªé”™è¯¯ã€‚ WAITTHREAD ç­‰å¾…åˆ›å»ºçº¿ç¨‹ã€‚ éœ€è¦è®°ä½çš„é‡è¦ä¸€ç‚¹æ˜¯ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡æ—¶ï¼Œæ— è®ºå®ƒå¤„äºä½•ç§çŠ¶æ€ï¼Œå®ƒéƒ½ä¸ä¼šæ¶ˆè€—CPUã€‚ç›¸åï¼Œçº¿ç¨‹æ¶ˆè€— CPU çš„å”¯ä¸€çŠ¶æ€æ˜¯è¿è¡ŒçŠ¶æ€ã€‚ Part 3. çº¿ç¨‹å’Œè¿›ç¨‹è®©æˆ‘ä»¬ä»çœŸå®çš„å®æ—¶ç³»ç»Ÿçš„è§’åº¦å›åˆ°å¯¹çº¿ç¨‹å’Œè¿›ç¨‹çš„è®¨è®ºã€‚ æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚(ä¸€ä¸ªæ²¡æœ‰çº¿ç¨‹çš„è¿›ç¨‹å°†ä¸èƒ½åšä»»ä½•äº‹æƒ… â€”â€” ä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰äººåœ¨å®¶æ‰§è¡Œä»»ä½•æœ‰ç”¨çš„å·¥ä½œã€‚) ä¸€ä¸ªç³»ç»Ÿå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ã€‚(åŒæ ·çš„è®¨è®ºä¹Ÿé€‚ç”¨äº â€”â€” ä¸€ä¸ªæ²¡æœ‰ä»»ä½•è¿›ç¨‹çš„ç³»ç»Ÿä¸ä¼šæœ‰ä»»ä½•ä½œç”¨ã€‚) é‚£ä¹ˆè¿™äº›è¿›ç¨‹å’Œçº¿ç¨‹æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿæœ€ç»ˆï¼Œå®ƒä»¬å½¢æˆä¸€ä¸ªç³»ç»Ÿ â€”â€” æ‰§è¡ŒæŸä¸ªç›®æ ‡çš„çº¿ç¨‹å’Œè¿›ç¨‹çš„é›†åˆã€‚ åœ¨æœ€é«˜å±‚æ¬¡ä¸Šï¼Œç³»ç»Ÿç”±è®¸å¤šè¿›ç¨‹ç»„æˆã€‚æ¯ä¸ªè¿›ç¨‹éƒ½è´Ÿè´£æä¾›æŸç§æ€§è´¨çš„æœåŠ¡ â€”â€” æ— è®ºæ˜¯æ–‡ä»¶ç³»ç»Ÿã€æ˜¾ç¤ºé©±åŠ¨ç¨‹åºã€æ•°æ®é‡‡é›†æ¨¡å—ã€æ§åˆ¶æ¨¡å—ï¼Œè¿˜æ˜¯å…¶ä»–ä»€ä¹ˆã€‚ åœ¨æ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œå¯èƒ½æœ‰è®¸å¤šçº¿ç¨‹ã€‚çº¿ç¨‹çš„æ•°é‡æ˜¯ä¸åŒçš„ã€‚ä¸€ä¸ªåªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹çš„è¿›ç¨‹å¯ä»¥å®Œæˆä¸å¦ä¸€ä¸ªä½¿ç”¨äº”ä¸ªçº¿ç¨‹çš„è¿›ç¨‹ç›¸åŒçš„åŠŸèƒ½ã€‚æœ‰äº›é—®é¢˜æœ¬èº«æ˜¯å¤šçº¿ç¨‹çš„ï¼Œå®é™…ä¸Šè§£å†³èµ·æ¥ç›¸å¯¹ç®€å•ï¼Œè€Œå…¶ä»–è¿›ç¨‹æœ¬èº«æ˜¯å•çº¿ç¨‹çš„ï¼Œå¾ˆéš¾å®ç°å¤šçº¿ç¨‹ã€‚ å¦‚ä½•ç”¨çº¿ç¨‹è¿›è¡Œè®¾è®¡çš„è¯é¢˜å¾ˆå®¹æ˜“å°±ä¼šè¢«å¦ä¸€æœ¬ä¹¦å ç”¨ â€”â€” åœ¨è¿™é‡Œæˆ‘ä»¬åªå…³æ³¨åŸºç¡€çŸ¥è¯†ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å¤šä¸ªè¿›ç¨‹ï¼Ÿé‚£ä¹ˆä¸ºä»€ä¹ˆä¸è®©ä¸€ä¸ªè¿›ç¨‹æ‹¥æœ‰æ— æ•°çº¿ç¨‹å‘¢ï¼Ÿè™½ç„¶æœ‰äº›æ“ä½œç³»ç»Ÿå¼ºè¿«ä½ è¿™æ ·ç¼–ç ï¼Œä½†å°†äº‹æƒ…åˆ†è§£æˆå¤šä¸ªè¿›ç¨‹çš„å¥½å¤„æœ‰å¾ˆå¤š: åˆ†ç¦»å’Œæ¨¡å—åŒ–ï¼› å¯ç»´æŠ¤æ€§ï¼› å¯é æ€§ï¼› å°†é—®é¢˜ â€œåˆ†è§£â€ æˆå‡ ä¸ªç‹¬ç«‹é—®é¢˜çš„èƒ½åŠ›æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¦‚å¿µã€‚å®ƒä¹Ÿæ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒã€‚ä¸€ä¸ªç³»ç»Ÿç”±è®¸å¤šç‹¬ç«‹çš„æ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€å®šçš„èŒè´£ã€‚è¿™äº›ç‹¬ç«‹çš„æ¨¡å—æ˜¯ä¸åŒçš„è¿›ç¨‹ã€‚QSS çš„äººå‘˜ä½¿ç”¨è¿™ä¸ªæŠ€å·§æ¥å¼€å‘ç‹¬ç«‹çš„æ¨¡å—ï¼Œè€Œä¸éœ€è¦æ¨¡å—ç›¸äº’ä¾èµ–ã€‚æ¨¡å—ä¹‹é—´å”¯ä¸€çš„ â€œä¾èµ–â€ æ˜¯é€šè¿‡å°‘é‡å®šä¹‰è‰¯å¥½çš„æ¥å£å®ç°çš„ã€‚ ç”±äºç¼ºä¹ç›¸äº’ä¾èµ–å…³ç³»ï¼Œè¿™è‡ªç„¶ä¼šå¢å¼ºå¯ç»´æŠ¤æ€§ã€‚å› ä¸ºæ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ç‰¹å®šå®šä¹‰ï¼Œæ‰€ä»¥ä¿®å¤ä¸€ä¸ªæ¨¡å—ç›¸å½“å®¹æ˜“ â€”â€” å°¤å…¶æ˜¯åœ¨å®ƒä¸ç»‘å®šåˆ°ä»»ä½•å…¶ä»–æ¨¡å—çš„æƒ…å†µä¸‹ã€‚ ç„¶è€Œï¼Œå¯é æ€§å¯èƒ½æ˜¯æœ€é‡è¦çš„ä¸€ç‚¹ã€‚è¿›ç¨‹å°±åƒæˆ¿å­ä¸€æ ·ï¼Œæœ‰ä¸€äº›å®šä¹‰æ˜ç¡®çš„ â€œè¾¹ç•Œâ€ã€‚ä½åœ¨æˆ¿å­é‡Œçš„äººå¾ˆæ¸…æ¥šè‡ªå·±ä»€ä¹ˆæ—¶å€™åœ¨æˆ¿å­é‡Œï¼Œä»€ä¹ˆæ—¶å€™ä¸åœ¨æˆ¿å­é‡Œã€‚ä¸€ä¸ªçº¿ç¨‹æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æƒ³æ³• â€”â€” å¦‚æœå®ƒåœ¨è¿›ç¨‹ä¸­è®¿é—®å†…å­˜ï¼Œå®ƒå¯ä»¥å­˜æ´»ã€‚å¦‚æœå®ƒè¶…å‡ºäº†è¿›ç¨‹åœ°å€ç©ºé—´çš„èŒƒå›´ï¼Œå®ƒå°±ä¼šè¢«æ€æ­»ã€‚è¿™æ„å‘³ç€è¿è¡Œåœ¨ä¸åŒè¿›ç¨‹ä¸­çš„ä¸¤ä¸ªçº¿ç¨‹å¯ä»¥æœ‰æ•ˆåœ°ç›¸äº’éš”ç¦»ã€‚ è¿›ç¨‹åœ°å€ç©ºé—´ç”±ç³»ç»Ÿçš„è¿›ç¨‹ç®¡ç†å™¨æ¨¡å—ç»´æŠ¤å’Œæ‰§è¡Œã€‚å½“ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨æ—¶ï¼Œè¿›ç¨‹ç®¡ç†å™¨ä¼šåˆ†é…ä¸€äº›å†…å­˜ç»™å®ƒï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ã€‚å†…å­˜è¢«æ ‡è®°ä¸ºè¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰ã€‚ è¿™æ„å‘³ç€å¦‚æœè¿›ç¨‹ä¸­æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå†…æ ¸éœ€è¦åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„æ“ä½œ â€”â€” æˆ‘ä»¬ä¸éœ€è¦æ”¹å˜åœ°å€ç©ºé—´ï¼Œåªéœ€è¦æ”¹å˜å“ªä¸ªçº¿ç¨‹åœ¨è¿è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¿…é¡»åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆè¿›ç¨‹ç®¡ç†å™¨å°±ä¼šä»‹å…¥å¹¶å¯¼è‡´åœ°å€ç©ºé—´çš„åˆ‡æ¢ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œè™½ç„¶åœ¨è¿™ä¸ªé¢å¤–çš„æ­¥éª¤ä¸­ä¼šæœ‰ä¸€äº›é¢å¤–çš„å¼€é”€ï¼Œä½†æ˜¯åœ¨ç³»ç»Ÿçš„ä½œç”¨ä¸‹ä»ç„¶æ˜¯éå¸¸å¿«çš„ã€‚ å¦‚ä½•å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ç°åœ¨è®©æˆ‘ä»¬å°†æ³¨æ„åŠ›ç¨å¾®è½¬å‘å¯ç”¨äºå¤„ç†çº¿ç¨‹å’Œè¿›ç¨‹çš„å‡½æ•°è°ƒç”¨ ã€‚ä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼›å”¯ä¸€æ–½åŠ çš„é™åˆ¶æ˜¯é‚£äº›æ¥è‡ªåŸºæœ¬å®‰å…¨æ€§çš„é™åˆ¶ (æ–‡ä»¶è®¿é—®ã€ç‰¹æƒé™åˆ¶ç­‰)ã€‚ æƒ³è¦å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹å¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³• (å…·ä½“çš„ç»†èŠ‚æˆ‘ä»¬åœ¨è¿™é‡Œä¸ä»‹ç»)ï¼š å‘½ä»¤è¡Œå¯åŠ¨ï¼› ä½¿ç”¨ system() å‡½æ•°è°ƒç”¨å¯åŠ¨ï¼šè¿™æ˜¯æœ€ç®€å•çš„ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥å°±å¯ä»¥ã€‚å®é™…ä¸Šï¼Œsystem() å¯åŠ¨äº†ä¸€ä¸ªå¤–å£³ç¨‹åºæ¥å¤„ç†æ‚¨è¦æ‰§è¡Œçš„å‘½ä»¤ï¼› ä½¿ç”¨ exec() ç³»åˆ—å‡½æ•° å’Œ spawn() å‡½æ•°è°ƒç”¨å¯åŠ¨ï¼šå½“ä¸€ä¸ªè¿›ç¨‹å‘å‡º exec() å‡½æ•°ï¼Œåˆ™è¯¥è¿›ç¨‹åœæ­¢è¿è¡Œå½“å‰ç¨‹åºï¼Œå¹¶å¼€å§‹è¿è¡Œå¦ä¸€ä¸ªç¨‹åºï¼›è¿›ç¨‹ ID æ²¡æœ‰æ”¹å˜ â€”â€”â€” è¿›ç¨‹å˜æˆäº†å¦ä¸€ä¸ªç¨‹åºï¼›è€Œè°ƒç”¨ spwan() å‡½æ•°åˆ™ä¼šåˆ›å»ºå¦ä¸€ä¸ªè¿›ç¨‹ (å¸¦æœ‰æ–°çš„è¿›ç¨‹ ID)ï¼Œè¯¥è¿›ç¨‹ä¸å‡½æ•°çš„å‚æ•°ä¸­æŒ‡å®šçš„ç¨‹åºç›¸å¯¹åº”ã€‚ ä½¿ç”¨ fork() è°ƒç”¨å¯åŠ¨ï¼šå®Œå…¨å¤åˆ¶å½“å‰è¿›ç¨‹ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ•°æ®ä¹Ÿä¸åˆ›å»º (æˆ–çˆ¶) è¿›ç¨‹çš„æ•°æ®ç›¸åŒã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œå½“æ‚¨è°ƒç”¨ fork() æ—¶ï¼Œæ‚¨åˆ›å»ºäº†å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹åœ¨ç›¸åŒçš„ä½ç½®æ‰§è¡Œç›¸åŒçš„ä»£ç ï¼Œä¸¤ä¸ªè¿›ç¨‹éƒ½å°†ä» fork() è°ƒç”¨ä¸­ä½œä¸ºçˆ¶è¿›ç¨‹è¿”å›ã€‚(æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œæœç´¢ä¸€ä¸‹â€¦) ä½¿ç”¨ vfork() è°ƒç”¨å¯åŠ¨ï¼šä¸æ™®é€š fork() å‡½æ•°ç›¸æ¯”ï¼Œvfork() å‡½æ•°çš„èµ„æºæ¶ˆè€—è¦å°‘å¾—å¤šï¼Œå› ä¸ºå®ƒå…±äº«çˆ¶çº¿ç¨‹çš„åœ°å€ç©ºé—´ã€‚vfork() å‡½æ•°åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹ï¼Œç„¶åæŒ‚èµ·çˆ¶çº¿ç¨‹ï¼Œç›´åˆ°å­çº¿ç¨‹è°ƒç”¨ exec() æˆ–é€€å‡ºã€‚å¦å¤–ï¼Œvfork() å¯ä»¥åœ¨ç‰©ç†å†…å­˜æ¨¡å‹ç³»ç»Ÿä¸Šå·¥ä½œï¼Œè€Œ fork() ä¸èƒ½ â€”â€” fork() éœ€è¦åˆ›å»ºç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œè¿™åœ¨ç‰©ç†å†…å­˜æ¨¡å‹ä¸­æ˜¯ä¸å¯èƒ½çš„ã€‚ å¦‚ä½•å¯åŠ¨çº¿ç¨‹ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•å¯åŠ¨å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹ã€‚ ä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥åœ¨åŒä¸€è¿›ç¨‹ä¸­åˆ›å»ºå¦ä¸€ä¸ªçº¿ç¨‹ã€‚æ²¡æœ‰ä»»ä½•é™åˆ¶ ï¼ˆå½“ç„¶ï¼Œå†…å­˜ç©ºé—´ä¸è¶³é™¤å¤–ï¼ï¼‰ã€‚æœ€å¸¸è§çš„æ–¹æ³•æ˜¯é€šè¿‡ POSIX pthread_create() è°ƒç”¨ï¼š #include &lt;pthread.h> int pthread_create (pthread_t *thread, const pthread_attr_t *attr, void *(*start_routine) (void *), void *arg); å‚æ•°ç»†èŠ‚å’Œæ›´å¤šçº¿ç¨‹ç®¡ç†çš„å†…å®¹è¿™é‡Œå°±ä¸è®¨è®ºäº†.. çº¿ç¨‹æ˜¯ä¸ªå¥½ä¸»æ„æœ‰ä¸¤ç±»é—®é¢˜ï¼Œçº¿ç¨‹çš„åº”ç”¨æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ å¹¶è¡ŒåŒ–æ“ä½œï¼Œå¦‚è®¡ç®—è®¸å¤šæ•°å­¦é—®é¢˜ (å›¾å½¢ã€æ•°å­—ä¿¡å·å¤„ç†ç­‰â€¦)ï¼› å…±äº«æ•°æ®æ‰§è¡Œå‡ ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ï¼Œå¦‚æœåŠ¡å™¨åŒæ—¶æœåŠ¡å¤šä¸ªå®¢æˆ·ï¼› ç¬¬ä¸€ç±»é—®é¢˜å¾ˆå®¹æ˜“ç†è§£ï¼ŒæŠŠåŒä¸€ä¸ªé—®é¢˜åˆ†æˆå››ä»½å¹¶è®©å››ä¸ª CPU åŒæ—¶è®¡ç®—ï¼Œè¿™å½“ç„¶æ„Ÿè§‰ä¼šå¿«ä¸Šä¸å°‘ã€‚ ç¬¬äºŒç±»é—®é¢˜ç¨å¾®éº»çƒ¦ä¸€äº›ï¼Œæˆ‘ä»¬å€ŸåŠ©ç½‘ç»œä¸­ä¸€å°ã€Œè®¡ç®—å›¾å½¢ç»“æœå¹¶å‘å¾€è¿œç«¯çš„èŠ‚ç‚¹ã€ç”¨æ¥æ¼”ç¤ºï¼Œå¹¶è¿›ä¸€æ­¥è¯´æ˜ã€Œä¸ºä»€ä¹ˆå•æ ¸ CPU ç³»ç»Ÿä½¿ç”¨å¤šçº¿ç¨‹ä»ç„¶æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç¨‹åºï¼Œéœ€è¦å…ˆè®¡ç®—å›¾å½¢çš„éƒ¨åˆ† (å‡è®¾ä½¿ç”¨ â€œCâ€ è¡¨ç¤º)ï¼Œç„¶åéœ€è¦ä¼ è¾“åˆ°è¿œç«¯ (å‡è®¾ä½¿ç”¨ â€œXâ€ è¡¨ç¤º)ï¼Œå¹¶æœ€ç»ˆç­‰å¾…è¿œç«¯å›åº”åšä¸‹ä¸€æ­¥æ“ä½œ (å‡è®¾ä½¿ç”¨ â€œWâ€ è¡¨ç¤º)ï¼Œä»¥ä¸‹å°±æ˜¯è¯¥ç¨‹åºåœ¨å•æ ¸ CPU ä¸‹çš„ä½¿ç”¨æƒ…å†µï¼š ç­‰ä¸€ä¸‹ï¼è¿™æµªè´¹äº†æˆ‘ä»¬è®¸å¤šå®è´µçš„å¯ç”¨äºè®¡ç®—çš„æ—¶é—´ï¼å› ä¸ºç­‰å¾…è¿œç«¯å›å¤çš„è¿‡ç¨‹ï¼ŒCPU åšçš„ä»…ä»…æ˜¯ â€œç­‰å¾…â€ è€Œå·².. å¦‚æœæˆ‘ä»¬ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œåº”è¯¥å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨æˆ‘ä»¬çš„ CPUï¼Œå¯¹å—ï¼Ÿ è¿™æ ·å¥½å¾—å¤šï¼Œå› ä¸ºç°åœ¨ï¼Œå³ä½¿ç¬¬äºŒä¸ªçº¿ç¨‹èŠ±äº†ä¸€äº›æ—¶é—´ç­‰å¾…ï¼Œæˆ‘ä»¬ä¹Ÿå‡å°‘äº†è®¡ç®—æ‰€éœ€çš„æ€»æ—¶é—´ã€‚ æˆ‘ä»¬å¯ä»¥æ¥ç®€å•è®¡ç®—ä¸€ä¸‹ã€‚å‡è®¾æˆ‘ä»¬è®¡ç®—çš„æ—¶é—´è®°ä¸º Tè®¡ç®—ï¼Œå‘é€å’Œç­‰å¾…çš„æ—¶é—´åˆ†åˆ«è®°ä¸ºï¼šTå‘é€ å’Œ Tç­‰å¾…ã€‚é‚£ä¹ˆåœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æ€»è¿è¡Œæ—¶é—´ä¸ºï¼š ï¼ˆTè®¡ç®— + Tå‘é€ + Tç­‰å¾…ï¼‰ x ä»»åŠ¡æ•°é‡ è€Œä½¿ç”¨ä¸¤ä¸ªçº¿ç¨‹ï¼š (Tè®¡ç®— + Tå‘é€) x ä»»åŠ¡æ•°é‡ + Tç­‰å¾… ç›´æ¥å‡å°‘äº†ï¼š Tç­‰å¾… x (ä»»åŠ¡æ•°é‡ - 1) è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é€Ÿåº¦æœ€ç»ˆè¿˜æ˜¯å—åˆ°ä»¥ä¸‹å› ç´ çš„å†³å®šï¼š Tè®¡ç®— + Tå‘é€ x ä»»åŠ¡æ•°é‡ å› ä¸ºæˆ‘ä»¬å¿…é¡»è‡³å°‘è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„è®¡ç®—ï¼Œå¹¶ä¸”å¿…é¡»å°†æ•°æ®ä¼ è¾“åˆ°ç¡¬ä»¶ä¹‹å¤– â€”â€” å°½ç®¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹è¦†ç›–è®¡ç®—å‘¨æœŸï¼Œä½†åªæœ‰ä¸€ä¸ªç¡¬ä»¶èµ„æºå¯ä»¥ä¼ è¾“ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå››çº¿ç¨‹çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨ 4 æ ¸çš„ç³»ç»Ÿä¸Šè¿è¡Œå®ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€ç»ˆå°†å¾—åˆ°å¦‚ä¸‹å›¾ç¤ºçš„ç»“æœï¼š è¯·æ³¨æ„ï¼Œå››ä¸ª CPU çš„æ¯ä¸ªåˆ©ç”¨ç‡å‡æœªå¾—åˆ°å……åˆ†åˆ©ç”¨ (å¦‚å›¾ç¤º â€œåˆ©ç”¨ç‡â€ ä¸­çš„ç°è‰²çŸ©å½¢æ‰€ç¤º)ã€‚ä¸Šå›¾ä¸­æœ‰ä¸¤ä¸ªæœ‰è¶£çš„åŒºåŸŸã€‚å½“å››ä¸ªçº¿ç¨‹å¯åŠ¨æ—¶ï¼Œå®ƒä»¬å„è‡ªè¿›è¡Œè®¡ç®—ã€‚ä¸è¿‡ï¼Œå½“çº¿ç¨‹åœ¨æ¯æ¬¡è®¡ç®—å®Œæˆæ—¶ï¼Œå®ƒä»¬éƒ½åœ¨äº‰å¤ºä¼ è¾“ç¡¬ä»¶ (å›¾ä¸­çš„ â€œXâ€ éƒ¨åˆ† â€”â€” ä¸€æ¬¡åªèƒ½è¿›è¡Œä¸€æ¬¡ä¼ è¾“)ã€‚è¿™ç®—æ˜¯åœ¨å¯åŠ¨éƒ¨åˆ†ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå°å¼‚å¸¸ã€‚ä¸€æ—¦çº¿ç¨‹ç»è¿‡æ­¤é˜¶æ®µï¼Œç”±äºä¼ è¾“æ—¶é—´æ¯”è®¡ç®—å‘¨æœŸçš„ 1/4 å°å¾—å¤šï¼Œå› æ­¤å®ƒä»¬è‡ªç„¶ä¼šä¸ä¼ è¾“ç¡¬ä»¶åŒæ­¥ã€‚é¦–å…ˆï¼Œå¿½ç•¥å°å¼‚å¸¸ï¼Œè¯¥ç³»ç»Ÿçš„ç‰¹å¾åœ¨äºä»¥ä¸‹å…¬å¼ï¼š ï¼ˆTè®¡ç®— + Tå‘é€ + Tç­‰å¾…ï¼‰ x ä»»åŠ¡æ•°é‡ / CPU æ•°é‡ è¯¥å…¬å¼æŒ‡å‡ºï¼Œåœ¨å››ä¸ª CPU ä¸Šä½¿ç”¨å››ä¸ªçº¿ç¨‹å°†æ¯”æˆ‘ä»¬åˆšå¼€å§‹ä½¿ç”¨çš„å•çº¿ç¨‹æ¨¡å‹å¿«å¤§çº¦ 4 å€ã€‚ é€šè¿‡ç»“åˆä»ç®€å•æ‹¥æœ‰å¤šçº¿ç¨‹å•å¤„ç†å™¨ç‰ˆæœ¬ä¸­å­¦åˆ°çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ç†æ‰€å½“ç„¶åœ°å¸Œæœ›æ‹¥æœ‰æ›´å¤šçš„ CPU è¿è¡Œæ›´å¤šçš„çº¿ç¨‹ï¼Œä»¥ä¾¿å¤šä½™çš„çº¿ç¨‹å¯ä»¥ â€œå¸æ”¶â€ å‘é€ç¡®è®¤ç­‰å¾… ï¼ˆå’Œå‘é€ä¿¡æ¯ï¼‰ ä¸­çš„ç©ºé—²çš„ CPU æ—¶é—´ã€‚ ä½†æ˜¯ä½ å°è¯•åƒæˆ‘è¿™æ ·ç”»ä¸€ä¸‹ 8 æ ¸ 8 çº¿ç¨‹çš„æƒ…å†µï¼Œä½ å°±ä¼šæ³¨æ„åˆ°ä¸€äº›ç¥å¥‡çš„äº‹æƒ…ï¼šæˆ‘ä»¬ä»ç„¶ä¼šé­é‡åˆ©ç”¨ç‡ä¸è¶³çš„æƒ…å†µï¼Œå¹¶ä¸”ä¼šå‘ç° CPU å¤„äº â€œåœæ»ç­‰å¾…â€ çŠ¶æ€çš„å¯èƒ½åŒæ—¶ä¼šæœ‰å¾ˆå¤šä¸ªã€‚ è¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå¾ˆé‡è¦çš„æ•™è®­ â€”â€” æˆ‘ä»¬ä¸èƒ½ç®€å•çš„å¢åŠ  CPU ä»¥å€é€Ÿæˆ‘ä»¬çš„è¿ç®—é€Ÿåº¦ã€‚ æˆ‘ä»¬å¸Œæœ›è¶Šæ¥è¶Šå¿«ï¼Œä½†å­˜åœ¨è®¸å¤šé™åˆ¶å› ç´ ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™äº›é™åˆ¶å› ç´ ä»…å—å¤š CPU ä¸»æ¿çš„è®¾è®¡ â€”â€” å½“è®¸å¤š CPU å°è¯•è®¿é—®ç›¸åŒçš„å†…å­˜åŒºåŸŸæ—¶ï¼Œä¼šå‘ç”Ÿå¤šå°‘å†…å­˜å’Œè®¾å¤‡äº‰ç”¨ã€‚ å°½ç®¡å¤šçº¿ç¨‹å¤šæ ¸ç»™æˆ‘ä»¬å¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼Œä½† â€œæ›´åŠ å¤æ‚çš„ç¯å¢ƒâ€ ä¹Ÿè®©æˆ‘ä»¬é¢ä¸´æ›´å¤šçš„å›°éš¾å’ŒæŒ‘æˆ˜ã€‚å¯ä»¥å‚è€ƒæˆ‘ä»¬ç±»æ¯”çš„ä¾‹å­ï¼Œåœ¨ç”Ÿæ´»ä¸­ï¼Œä½ é¢ä¸´çš„æƒ…å†µå¦‚æœä»”ç»†æ€è€ƒå’Œç½—åˆ—çš„è¯ï¼Œé‚£å°†ä¼šæ˜¯å¤šä¹ˆå¤æ‚â€¦. è¿™é‡Œä¹Ÿä¸å±•å¼€è®²äº† æ€»ç»“ç›¸ä¿¡çœ‹å®Œçš„æœ‹å‹éƒ½èƒ½å¤Ÿå¯¹è¿›ç¨‹å’Œçº¿ç¨‹è¿›ä¸€æ­¥åŠ æ·±å°è±¡.. è¿›ç¨‹åƒæˆ¿å­ï¼Œçº¿ç¨‹åƒä½æˆ·ï¼Œéå¸¸æ·±å…¥äººå¿ƒï¼ åŸæ–‡ç« çš„ååŠç¨‹è¿˜è¯¦ç»†åœ°ä»‹ç»äº†å¾ˆå¤šçº¿ç¨‹åŒæ­¥çš„æ›´å¤šå†…å®¹ï¼Œæ¶‰åŠ Linux åº•å±‚çš„å‡½æ•°è°ƒç”¨ï¼Œå†åé¢ä¸€ä¸ªç« èŠ‚è¿˜è¯¦ç»†åœ°ä»‹ç»äº†è¿›ç¨‹é—´çš„é€šè®¯ç›¸å…³çš„å†…å®¹ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹ï¼Œè¯·ç§»æ­¥åŸæ–‡ï¼ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"},{"name":"å¤šçº¿ç¨‹","slug":"MoreThanJava/å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"ç¿»è¯‘æ–‡","slug":"ç¿»è¯‘æ–‡","permalink":"http://www.wmyskxz.com/tags/%E7%BF%BB%E8%AF%91%E6%96%87/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"96å¹´/ç¦»èŒ8ä¸ªæœˆ/æ‹’ç»åä¸ºoffer/ç›®å‰è‡ªç”±èŒä¸š-è®°è¿™å¤§åŠå¹´æ¥çš„æŒ£æ‰ä¸è¿·èŒ«","slug":"96å¹´-ç¦»èŒ8ä¸ªæœˆ-æ‹’ç»åä¸ºoffer-ç›®å‰è‡ªç”±èŒä¸š-è®°è¿™å¤§åŠå¹´æ¥çš„æŒ£æ‰ä¸è¿·èŒ«","date":"2020-07-26T03:48:00.000Z","updated":"2020-08-13T07:49:59.139Z","comments":true,"path":"2020/07/26/96-nian-chi-zhi-8-ge-yue-ju-jue-hua-wei-offer-mu-qian-zi-you-zhi-ye-ji-zhe-da-ban-nian-lai-de-zheng-zha-yu-mi-mang/","link":"","permalink":"http://www.wmyskxz.com/2020/07/26/96-nian-chi-zhi-8-ge-yue-ju-jue-hua-wei-offer-mu-qian-zi-you-zhi-ye-ji-zhe-da-ban-nian-lai-de-zheng-zha-yu-mi-mang/","excerpt":"","text":"ä»…ä»¥æ­¤æ–‡ï¼Œè®°å½•è‡ªå·±è¿™å¤§åŠå¹´æ¥çš„æŒ£æ‰ä¸è¿·èŒ«ã€‚ 2019 å¹´ 11 æœˆåœ¨å…¬å¸å·¥ä½œä¸ƒä¸ªæœˆä¹‹åï¼Œæˆ‘è¢«è£å‘˜äº†ã€‚ å›å¿†è‡ªå·±è¿™ä¸ƒä¸ªæœˆçš„ç»å†ï¼Œä¸ç®¡æ˜¯é‡åˆ°çš„äººå’Œäº‹ï¼Œæ›´å¤šæ„Ÿåˆ°çš„æ˜¯æ”¶è·å’Œæ„Ÿæ©ï¼Œäºæ˜¯æˆ‘å†™ä¸‹äº†ï¼šã€Œåº”å±Šæ¯•ä¸šç”Ÿå·¥ä½œ7ä¸ªæœˆå°ç»“ã€ï¼Œå½“åšå¯¹äºè¿™ä¸ƒä¸ªæœˆçš„å°å°æ€»ç»“ã€‚ æœ¬æƒ³å¥½å¥½ä¼‘æ¯å‡ å¤©ï¼Œä¸æ–™ç¬¬äºŒå¤©è¿˜åœ¨ç¡æ¢¦ä¸­ï¼Œå°±æœ‰ HR å’ŒçŒå¤´æ‰¾ä¸Šé—¨æ¥äº†.. æ—¢ç„¶æ¥äº†ï¼Œå°±å¥½å¥½å‡†å¤‡å¤ä¹ é¢è¯•å§.. 2019 å¹´ 12 æœˆç–¯ç‹‚é¢è¯•ingâ€¦ç„¶å 12 æœˆå¼€å§‹äº†ç–¯ç‹‚é¢è¯•ï¼ŒåŒ…æ‹¬åä¸º (å£å¤´ Offer)*ã€å­—èŠ‚è·³åŠ¨ *(ä¸€é¢æŒ‚,é¢è¯•å®˜è¯´å¾ˆä¹…æ²¡é—®è¿‡åº”å±Šç”Ÿäº†..) ç­‰ï¼Œä¸€ä¸‹å­å°±é¢åˆ°äº† 12 æœˆä¸­æ—¬äº†ã€‚ è¯´å®è¯ï¼Œé‚£æ®µæ—¶é—´å¥½æ€•é¢è¯•å®˜é—®ï¼šã€Œä½ å¯¹ HashMap äº†è§£å¤šå°‘ï¼Ÿã€ è¿™ç§é—®é¢˜ã€‚ ä»ã€ŒåŸºç¡€ç»“æ„ã€åˆ°ã€Œ1.7 åˆ° 1.8 ç‰ˆæœ¬å˜åŒ–ã€ï¼› ä»ã€Œä¸å…¶ä»– Map ç»“æ„å¯¹æ¯”å’ŒåŒºåˆ«ã€åˆ°ã€ŒHashMap å…·ä½“çš„ put/resize/hash ç­‰çš„å…·ä½“è¿‡ç¨‹ã€ï¼› ä»ã€Œä¸ºä»€ä¹ˆ String/Integer é€‚åˆåš HashMap çš„ Kã€åˆ°ã€ŒHashMap ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ hashCode() å¤„ç†åçš„å“ˆå¸Œå€¼ç›´æ¥ä½œä¸º table ä¸‹æ ‡ã€ï¼› ä»ã€Œä»€ä¹ˆæ˜¯å“ˆå¸Œï¼Œä»€ä¹ˆæ˜¯å“ˆå¸Œå†²çªã€åˆ°ã€ŒHashMap å¦‚ä½•è§£å†³å“ˆå¸Œå†²çªã€ï¼› å†ä» HashMap å»¶ä¼¸çš„å…¶ä»– Java å¸¸ç”¨é›†åˆâ€¦. è¿™äº›æ•™ç§‘ä¹¦å¼å›ç­”æˆ‘éƒ½å¿«è¯´åäº†.. ç–¯ç‹‚é¢è¯•çš„ç”Ÿæ´»ï¼Œä¹Ÿä»æˆ‘æ‹¿åˆ°åä¸ºå£å¤´ Offer å¼€å§‹é€æ¸å‘Šä¸€æ®µè½.. æ‹’ç»åä¸º Offerâ€¦è™½ç„¶æ‹¿åˆ°äº†åä¸ºçš„å£å¤´ Offer (ç­¾çº¦æ˜¯ç¬¬ä¸‰æ–¹ï¼Œäº«å—åä¸ºå¾…é‡)ï¼Œä½†æˆ‘æ‹’ç»äº†â€¦ å¹¶ä¸”æŠŠå…¶ä»–æ‰€æœ‰çš„ Offer éƒ½æ‹’ç»äº†â€¦ æˆ‘å¤§æ¦‚æ˜¯è·Ÿé’±ä¸å¤ªèƒ½è¿‡å¾—å»å§.. å½¼æ—¶è·Ÿåä¸ºè°ˆä¸‹æ¥çš„æ¡ä»¶ï¼Œè–ªèµ„ç›´æ¥ç¿»äº†ä¸€å€ï¼Œä¸€ä¸ªæœˆèƒ½æ‹¿åˆ°çš„è–ªèµ„ç”šè‡³æ˜¯éƒ¨åˆ†åŒå­¦æœ‹å‹çš„ä¸‰å€å››å€è¿˜å¤šâ€¦ å»ï¼Œé‚£å°±æ˜¯ä¸€ä»½çœ‹ä¸Šå»ååˆ†ä½“é¢ã€å……å®ä¸”å¥‹æ–—çš„å·¥ä½œï¼Œä½†å¯æƒ³è€ŒçŸ¥çš„æ˜¯ï¼Œå±äºè‡ªå·±çš„æ—¶é—´ä¼šç›´çº¿ç¼©æ°´ï¼Œç”šè‡³è¿‡ä¸Šæ¯å¤©ä¸‹ç­å›å®¶ï¼Œæ—¶é—´å°±åªå¤Ÿæ´—æ¾¡ç¡è§‰çš„ç”Ÿæ´»â€¦ æˆ‘è‡ªè§‰æœ‰äº›å·¥ä½œç‹‚çš„æ½œè´¨ï¼Œä¹‹å‰ä¸Šç­çš„æ—¶å€™ï¼Œç²¾åŠ›æ€»æ˜¯å¾ˆæ—ºç››ï¼Œä½†ä¸€æ—¦ç¥ç»ä¸€æ¾æ‡ˆä¸‹æ¥ï¼Œå°±èƒ½å¤Ÿèººä¸Šä¸€æ•´å¤©ï¼Œè€Œæˆ‘ç”šè‡³æ˜¯æ‡’è§‰éƒ½ä¸ç¡çš„äººâ€¦ æˆ‘æƒ§æ€•å·¥ä½œç‹‚çš„çŠ¶æ€è®©æˆ‘æ²¡æœ‰æ—¶é—´æ€è€ƒæˆ–è€…å®¡è§†è‡ªå·±ï¼Œå½“æˆ‘æ„è¯†å¤„äºè‡ªåŠ¨é©¾é©¶æ—¶ï¼Œå¾ˆå¤šé—®é¢˜å’Œçç¢å°±ä¼šé€æ¸åœ°è¿œç¦»æˆ‘ï¼Œå·¥ä½œä¹Ÿä¼¼ä¹ä¼šå˜æˆä¸€ç§é€ƒé¿ç°å®å’Œå¡«æ»¡æ—¶é—´çš„æ–¹å¼ï¼Œæˆ‘æƒ³èµ·åœ¨è¿™ä¹‹åé‚£äº›ä¸ºäº†å·¥ä½œè€Œå·¥ä½œçš„ç‰‡æ®µå°±æ„Ÿåˆ°éš¾å—ã€‚(ç‰¹åˆ«æ˜¯è¿˜ä¼šç‰ºç‰²éƒ¨åˆ†å¥åº·) å¦‚æœå·¥ä½œæ˜¯ä¸ºäº†æœªæ¥å¹¸ç¦å¿«ä¹çš„ç”Ÿæ´»ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥å¿å—å½“ä¸‹çš„ä¸å¿«ä¹å’Œä¸å¹¸ç¦ï¼Ÿ æ‰€ä»¥è®©æˆ‘æ„Ÿåˆ°å¥‡æ€ªçš„æ˜¯ï¼šã€Œæˆ‘æ˜¯å¦å¿…é¡»åŸ‹å¤´å·¥ä½œå¹¶è¿‡ç€ â€œæ‚²æƒ¨çš„ç”Ÿæ´»â€ï¼Œä»¥ä¾¿è®©æˆ‘çš„æœªæ¥æ„Ÿè§‰åˆ°å¿«ä¹å’Œå¹¸ç¦ï¼Ÿã€ å½“ç„¶ä¹ŸçœŸä¸æ˜¯é»‘åä¸º.. é‚£å¤©åä¸ºé¢æˆ‘çš„éƒ¨é—¨ Leader è·Ÿæˆ‘é€šç”µè¯çš„æ—¶å€™å·²ç»è¿‡æ™šä¸Š 10 ç‚¹äº†ï¼Œè¯´é“ï¼šã€Œå…¶å®åŠ ç­æ²¡æœ‰å¤–é¢ä¼ é‚£ä¹ˆå‰å®³å•¦ï¼Œä½ çœ‹æˆ‘ç°åœ¨å·²ç»å‡†å¤‡ä¸‹ç­å›å®¶å•¦ã€‚ã€ çœ‹ä¸æ¸…çš„ç­”æ¡ˆâ€¦ç»å†è¿‡çš„åƒç¯‡ä¸€å¾‹çš„é¢è¯•ï¼Œé‚£äº›ååå¤å¤çš„é¢è¯•å¥—è·¯é—®é¢˜ï¼Œè®©æˆ‘ä¹Ÿå¼€å§‹å¯¹ã€Œå·¥ä½œã€å¼€å§‹é‡æ–°å®¡è§†èµ·æ¥ï¼šã€Œæ— éæ˜¯æ¢ä¸ªåœ°æ–¹æ‹§èºä¸è€Œå·²å—ï¼Ÿã€ åˆçœ‹å‘å…¬å¸é«˜å±‚å’Œé‚£äº›æŠ€æœ¯å¤§ç‰›ä»¬ï¼Œä»–ä»¬èƒŒä¸Šäº†æˆ¿è´·ã€è½¦è´·ï¼Œå®¶é‡Œè€å©†å­©å­ç­‰ç€ç…§é¡¾ï¼Œä¸€åˆ»ä¸æ•¢åœæ­‡å¿™ç¢Œçš„èº«å½±ï¼Œæˆ‘é—®è‡ªå·±ï¼šã€Œè¿™å°±æ˜¯æˆ‘æœªæ¥ç†æƒ³çš„ç”Ÿæ´»å—ï¼Ÿã€ ç­”æ¡ˆå¾ˆæ˜æ˜¾ã€‚ æˆ‘ä¸æƒ³è¦ 30% or 50% çš„å¹¸ç¦ï¼Œæˆ‘å¯¹è‡ªå·±æ‰¿è¯ºçš„æ˜¯ 100% çš„å¹¸ç¦ (å°½ç®¡è¿™ä¸€ç‚¹éƒ½ä¸ç°å®ï¼Œç”šè‡³æœ‰ç‚¹é­”å¹»ä¸»ä¹‰)ã€‚ å½¼æ—¶è¿™äº›è‡ªä»¥ä¸ºæ˜¯ã€å¤©çœŸçƒ‚æ¼«çš„æƒ³æ³•ï¼Œå……æ–¥ç€æˆ‘çš„å¤§è„‘ã€‚è¿™äº›ä¹Ÿè®©é‚£ä¸ª 22 å²çš„å°‘å¹´å……æ»¡äº†è¿·èŒ«ã€‚ å°±åƒæ˜¯ä¸Šå›¾ï¼Œå‰æ–¹çš„è·¯äºæˆ‘è€Œè¨€ï¼Œå°±åƒä¸åœåŠ é€Ÿçš„æ»šè½®ä¸€æ ·ï¼Œä¸€æ—¦è¸ä¸Šäº†ï¼Œè¦ä¹ˆä¿æŒæŒç»­çš„çƒ­è¯šå’Œå…´å¥‹ï¼Œè¦ä¹ˆç­‰å¾…ç€æ»šè½®å°†æˆ‘é‡é‡åœ°ç”©åœ¨å¢™å£ä¸Šã€‚è€Œæˆ‘æœ‰å¼ºçƒˆçš„é¢„æ„Ÿï¼Œæˆ‘ä¼šæ˜¯åè€… (å³ä½¿æˆ‘å¯¹ç¼–ç¨‹ä¿æœ‰å¼ºçƒˆçš„çƒ­æƒ…å’Œå…´è¶£)ã€‚ æœºä¼šå’Œè®¡åˆ’â€¦å¯æ˜¯å¦‚æœä¸å·¥ä½œï¼Œå¹²ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘æƒ³èµ·å¥½æœ‹å‹å¾ˆæ—©ä¹‹å‰å°±å¯¹æˆ‘å‘å‡ºè¿‡çš„ï¼Œæˆä¸ºã€ŒMC (æˆ‘çš„ä¸–ç•Œ) å¼€å‘è€…ã€çš„é‚€è¯· (å½¼æ—¶æœ‹å‹æ—©å·²æ˜¯æŒ‚ä¸Šç½‘æ˜“å®˜ç½‘ä¸‰å¤§æ˜æ˜Ÿå¼€å‘å›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜)ã€‚ è¯¦ç»†å’¨è¯¢ä¸€ç•ªåï¼Œä»ä»–é‚£é‡Œå¾—çŸ¥çš„å…³é”®ä¿¡æ¯æ˜¯ï¼š æ¯å¤© 3-5 ä¸ªå°æ—¶çš„è‡ªç”±å·¥ä½œæ—¶é•¿ (æ€»ä¹‹å°±æ˜¯å¾ˆè‡ªç”±)ï¼› è¿˜è¿‡å¾—å»çš„æ”¶å…¥ (éƒ¨åˆ†æ˜¯æ¥è‡ªäºå›¢é˜Ÿç§¯æ”’çš„å£ç¢‘)ï¼› éƒ½è¯´å…ˆæ±‚ç”Ÿå­˜å†æ±‚å‘å±•ã€‚è¿™æ ·çš„å·¥ä½œå’Œæœºä¼šä¸ä»…å¾ˆå¥½åœ°è§£å†³äº†æˆ‘çš„ç”Ÿæ´»é—®é¢˜ï¼Œè€Œä¸”æœ¬èº«è¿˜ååˆ†æœ‰è¶£ï¼Œå¯ä»¥è‡ªå·±æ„æ€è‡ªå·±çš„äº§å“å¹¶å®ç°å®ƒ (å†™ Python ä»£ç )ï¼Œå¹¶é€šè¿‡å®ƒæ¥èµšå–åˆ©æ¶¦ï¼ŒæŒºæœ‰æ„æ€ã€‚ å¦å¤–å®¡è§†è¿‡å»ï¼Œå‘ç°è‡ªå·±å¾ˆå¤§éƒ¨åˆ†å¹¸ç¦æ¥è‡ªäº ã€Œåˆ†äº«ã€ è¿™äº‹å„¿ã€‚ å¾ˆå¤šç°åœ¨çœ‹ä»ç„¶è§‰å¾— ç‰›é€¼ çš„æ–‡ç« ï¼Œéƒ½æ˜¯è‡ªå·±æœ‰å¤§é‡ç©ºä½™æ—¶é—´è®¤çœŸæ€è€ƒé—®é¢˜æ—¶æ€»ç»“çš„ï¼Œå·¥ä½œä¹‹åå†™çš„å¤§éƒ¨åˆ†æ–‡ç«  (19 å¹´ 4 æœˆåˆ° 19 å¹´ 11 æœˆçš„æ–‡ç« ) éƒ½æ˜¾å¾—å·®äº†é‚£ä¹ˆç‚¹å„¿æ„æ€ã€‚å”¯ä¸€è‡ªå·±è¿˜æ»¡æ„çš„ ä¸€ç¯‡æ–‡ç«  ä¹Ÿæ˜¯ç†¬äº†å¾ˆå¤šä¸ªå¤§å¤œç†¬å‡ºæ¥çš„â€¦ è€Œå·¥ä½œä¹‹åè¿™æ ·çš„æœºä¼šå’Œæ—¶é—´å°±å˜å¾—ç›¸å¯¹å°‘äº†èµ·æ¥â€¦ è¿™ä¹Ÿæ˜¯åæ¥æˆ‘åˆ›å»º ã€ŒMoreThanJavaã€ æ–‡é›†çš„åŸå› ï¼Œæˆ‘å¸Œæœ›æˆ‘å†™çš„ä¸œè¥¿å¾ˆå¤šå¹´ä¹‹åå›çœ‹æ—¶ï¼Œä»ä¿ç•™ç€ç‰¹æ®Šçš„ä»·å€¼ã€‚ åˆ†äº«ã€å†™æ–‡æ˜¯æˆ‘å–œæ¬¢çš„äº‹ (äº‹å®ä¸Šæˆ‘å¾ˆå‘å¾€é‚£ç§èƒ½æŠŠäº‹æƒ…è¯´æ¸…æ¥šï¼Œæ€æƒ³è¡¨è¾¾æ˜ç™½çš„äºº)ï¼Œå¹¶ä¸”è·Ÿ 3yã€Guideã€æ•–ä¸™ éƒ½äº¤æµäº†ä¸€ä¸‹ï¼Œä¼¼ä¹å…¬ä¼—å·çš„å‘å±•ç©ºé—´è¿˜æ˜¯å¾ˆå¤§çš„ã€‚åšè‡ªå·±å–œæ¬¢çš„äº‹ï¼Œé¡ºä¾¿è¿˜èƒ½èµšé’±ï¼Œä¼¼ä¹è¿˜è›®é…·çš„æ ·å­ã€‚ å†è€…è‡ªå·±çš„å…´è¶£è¿˜æŒºå¹¿æ³›çš„ã€‚å‰ä»–ã€é’¢ç´ã€ç»˜ç”»ã€è®¾è®¡ã€UI ç­‰å¤šå¤šå°‘å°‘éƒ½æƒ³å­¦ä¹ å­¦ä¹ ã€‚è€Œè¿™äº›æ— ä¸éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´ã€‚ ä¹Ÿæƒ³è¶å¹´è½»å¤šå‡ºå»èµ°èµ°ï¼Œåæ­£æœ‰ç½‘å°±è¡Œï¼Œå»ä¸½æ±Ÿä¹‹ç±»çš„åœ°æ–¹ä½ä¸€æ®µæ—¶é—´å†å›æ¥ä¹Ÿä¸æ˜¯ä¸å¯ã€‚ æ¯…ç„¶è€Œç„¶çš„å†³å®šâ€¦è¿™ä¼šæ˜¯ä¸€ä¸ªå¥½çš„å†³å®šå—ï¼Ÿ æˆ‘å¸¦ç€æˆ‘çš„è¿™äº›æƒ³æ³•å…ˆæ˜¯å’¨è¯¢äº†å‰è¾ˆé¢†å¯¼ï¼Œæˆ‘ä»¬èŠäº†å¾ˆä¹…ï¼Œä»–å¸®åŠ©æˆ‘ç†é¡ºäº†è¿™å…¶ä¸­çš„å¾—å¤±å¹¶ç»™äº†æˆ‘ä¸€äº›å¾ˆå¥½çš„å»ºè®® (æ‰‹åŠ¨æ„Ÿè°¢)ï¼Œæˆ‘æ›´åŠ åšå®šäº†äº›ã€‚ æˆ‘åˆå‘Šè¯‰äº†æˆ‘çš„å¥½æœ‹å‹ä»¬ï¼Œä»–ä»¬ä¹Ÿè¡¨ç¤ºæ”¯æŒï¼Œå€¼å¾—å°è¯•ã€‚ äºæ˜¯æ‹’æ‰äº†æ‰€æœ‰çš„ offerï¼Œæˆ‘ä¹Ÿç»™å¥½æœ‹å‹æ‰“ç”µè¯ç¡®å®šäº†åŠ å…¥å·¥ä½œå®¤çš„äº‹æƒ…ï¼Œå†³å¿ƒæˆä¸ºã€ŒMC å¼€å‘è€…ã€çš„ä¸€å‘˜å¼€å§‹è‡ªå·±çš„è®¡åˆ’ã€‚ å¹¶å‡è£…è®¸è¯ºè‡ªå·±ä¸€å¹´æ—¶é—´å»å°è¯•å°è¯•ã€‚å³ä½¿ä¸€å¹´ä¹‹åï¼Œæˆ‘ä¹Ÿæ‰ 23 å²ï¼Œä»ç„¶æœ‰å¤§æŠŠçš„æœºä¼šå¯ä»¥é€‰æ‹©ã€‚ 2020 å¹´ 1 æœˆå†æ¬¡å©‰æ‹’åä¸ºâ€¦ä¸ºäº†é˜²æ­¢è‡ªå·±ä¸€ä¸ªäººè‡ªé—­ï¼Œæˆ‘æ‰¾åˆ°è¿˜åœ¨è¯»ç ”ç©¶ç”Ÿçš„åŒå­¦ä¸€èµ·åˆç§Ÿã€‚ æˆ‘æ¬ç¦»äº†ä¹‹å‰å·¥ä½œçš„åœ°æ–¹ï¼Œç­‰ä¸€åˆ‡å‡†å¤‡å¥½æƒ³å¥½ä¹‹åï¼Œæˆ‘å‘Šè¯‰äº†æˆ‘å¦ˆï¼Œæˆ‘å¦ˆä¸€ç§’çŠ¹è±«ä¹Ÿæ²¡æœ‰ï¼šã€Œæˆ‘ä¸åŒæ„ï¼ã€ åˆ«äººæŒ¤ç ´å¤´æƒ³è¿›åä¸ºéƒ½è¿›ä¸å»ï¼Œä¸ºä»€ä¹ˆä¼šæ‹’ç»è¿™ä¹ˆå¥½çš„å·¥ä½œï¼Ÿ ä¸ºä»€ä¹ˆåœ¨åº”è¯¥å¥‹æ–—æŒ£é’±çš„å¹´çºªä¸é€‰æ‹©åŠªåŠ›å·¥ä½œé€‰æ‹©å‡ºæ¥å•å¹²ï¼Ÿ åˆ«è¯´æˆ‘å¦ˆäº†.. ä¼°è®¡è¿™äº‹å„¿åä¸ºä¹‹å‰è·Ÿæˆ‘æ²Ÿé€šçš„é¢†å¯¼ä¹Ÿæ²¡æ€ä¹ˆæƒ³æ˜ç™½å§.. äºæ˜¯æˆ‘åœ¨ 2020 å¹´ 1 æœˆ 6 å· çš„ä¸‹åˆåˆæ¥åˆ°äº†åä¸ºé¢†å¯¼çš„ç”µè¯ï¼š æˆ‘å†æ¬¡å©‰æ‹’äº†â€¦ åšè¿™æ ·çš„å†³å®šï¼Œéœ€è¦çš„ä¸ä»…ä»…æ˜¯å‹‡æ°”ï¼Œè¿˜éœ€è¦æœ‰ç‰¹æ®Šçš„å‚»æ¥åŠ²å„¿ã€‚ å½“ç„¶è¿˜å¾—æœ‰è¿æ°”ã€‚è¿™é‡Œæƒ³å¤šè¯´ä¸€äº›ï¼ŒæŠ›å¼€é’±ï¼Œæœ‰å¤šå°‘äººèƒ½çœŸçš„æƒ³æ˜ç™½ã€Œä¸ºä»€ä¹ˆå·¥ä½œã€è¿™ä»¶äº‹æƒ…å‘¢ï¼ŸçœŸæ­£å€ŸåŠ©å¹³å°åšå®äº‹çš„æ¯•ç«Ÿæ˜¯å°‘æ•°ï¼Œé‚£æ—¢ç„¶å¤§éƒ¨åˆ†äººéƒ½æ˜¯ä¸ºäº†é’±ï¼Œé€”å¾„å°±çœŸçš„åªå‰©ä¸‹å·¥ä½œä¸€æ¡äº†å—ï¼Ÿ åŠªåŠ›å­¦ä¹ æ˜¯ä¸ºäº†æ‰¾åˆ°ä¸€ä¸ªå¥½çš„å•ä½å¥½çš„å·¥ä½œï¼ŒåŠªåŠ›å·¥ä½œæ˜¯ä¸ºäº†æŒ£æ›´å¤šçš„é’±ï¼Œè¿™ä¼¼ä¹æˆäº†å”¯ä¸€çš„é€‰æ‹© (è‡³å°‘æ˜¯åœ¨æˆ‘èº«å¤„çš„ç¯å¢ƒä¸­ç»™æˆ‘è¥é€ å‡ºæ¥å”¯ä¸€çš„è·¯..)ï¼Œå½“æ‰€æœ‰çš„ç­”æ¡ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªæ–¹å‘ï¼Œé‚£æˆ‘å°±å±å®ä¸æ•¢è‹ŸåŒäº† (è‡³å°‘ä¸å”¯ä¸€)ã€‚ è€Œä¸”å¾ˆå¥‡æ€ªçš„åœ°æ–¹æ˜¯ï¼Œæ—¢ç„¶æŒ£é’±è¿™ä¹ˆé‡è¦ï¼Œä¸ºä»€ä¹ˆå­¦æ ¡ä»æ¥ä¸æ•™å‘¢ (ç‰¹åˆ«æ˜¯ä¹å¹´ä¹‰åŠ¡æ•™è‚²)ï¼Ÿå­¦æ ¡åè€Œæ•™ç»™ä½ çš„æ˜¯æˆä¸ºä¸€ä¸ªä¼˜ç§€å‘˜å·¥çš„å¿…å¤‡æŠ€èƒ½ï¼Œä»ç»“æœæ¥çœ‹ï¼Œè¿™å¹¶ä¸èƒ½è®©å¤§éƒ¨åˆ†çš„äººæŒ£åˆ°é’±ã€‚ æ—¶å¸¸å¬åˆ°ï¼šã€Œå•Šï¼ä¸æƒ³ä¸Šç­å‘ï¼ã€ï¼Œæ˜¯å› ä¸ºåšç€ä¸å–œæ¬¢çš„äº‹æƒ…ã€‚ç›¸åï¼Œå¦‚æœæŠŠå–œæ¬¢å˜æˆå·¥ä½œï¼Œé‚£ä¹ˆæƒ…å†µå°†å®Œå…¨ä¸åŒã€‚ è¯´ç€è¯´ç€ï¼Œå°±æœ‰æ„¤é’é‚£ä¹ˆç‚¹å„¿å‘³é“äº†â€¦æ”¶ï¼ æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘å®å±å¾ˆå¹¸è¿çš„é‚£ä¸€æ‹¨ï¼Œå¹¸è¿åœ°èƒ½å¤Ÿå–œæ¬¢è®¡ç®—æœºï¼Œå¹¸è¿åœ°æœ‰æœºä¼šï¼Œå¹¸è¿åœ°èƒ½å¤Ÿè‡ªç”±åœ°åšè¿™æ ·çš„é€‰æ‹©â€¦ æ¥äº†ä¸€ä¸ªå¤–åŒ…é¡¹ç›®â€¦ç”±äºæ¬åˆ°äº†å­¦æ ¡é™„è¿‘ï¼Œå°±æ—¶å¸¸åœ¨å®éªŒå®¤æ™ƒæ‚ â€¦ ç”±æ­¤ä¹Ÿå¾ˆå·§åœ°å—åˆ°å®éªŒå®¤å­¦é•¿çš„æ¨èï¼Œåœ¨å­¦æ ¡è€å¸ˆæ‰‹åº•ä¸‹æ¥äº†ä¸€ä¸ªå¤–åŒ…é¡¹ç›® (è¿˜æ˜¯æœ‰ä¸å°‘é’±çš„)â€¦ åç«¯ã€å‰ç«¯ã€UIã€å¾®ä¿¡å°ç¨‹åºå…¨éƒ¨éƒ½ç”±æˆ‘ä¸€ä¸ªäººæŠŠæ§ (å°±æ˜¯æˆ‘ä¸€ä¸ªäººå†™)ï¼Œè¿™æ„Ÿè§‰è¿˜æ˜¯æŒºèˆ’æœçš„ï¼Œäºæ˜¯å¼€å§‹äº†ä¸€è¾¹å†™é¡¹ç›®ä¸€è¾¹å­¦ä¹  MC çš„ç”Ÿæ´»â€¦ å¼€å§‹å­¦åšé¥­â€¦æ—¶é—´å¤šèµ·æ¥ï¼Œä¹Ÿè¦å­¦ä¼šç…§é¡¾å¥½è‡ªå·±ï¼Œå¼€å§‹å­¦ä¸€äº›ç®€å•çš„ã€Œä¸€äººé£Ÿã€ï¼š 2020 å¹´ 2 æœˆ2 æœˆç”±äºè¿‡å¹´åŠ ä¸Šç–«æƒ…çš„å½±å“ï¼Œæ•ˆç‡æ‹‰åˆ°äº†æœ€ä½â€¦ å‡ ä¹å¹²ä¸äº†ä»€ä¹ˆäº‹æƒ…â€¦ æ¯•ç«Ÿå¤§è¿‡å¹´è¿˜æœ‰ä»€ä¹ˆäº‹æƒ…å¥½å¿™å‘¢ï¼Ÿ(åè®½â€¦) äºæ˜¯å¿«äºŒæœˆåº•å°±æ¯…ç„¶ç¦»å¼€äº†è€å®¶ï¼Œå›åˆ°äº†æˆéƒ½.. å›æˆéƒ½ç¬¬äºŒå¤©.. è€å®¶å°±ç»™å°è·¯äº†.. ä¸è®©å‡ºäº†.. 2020 å¹´ 3 æœˆå­¦ä¹  Redis å’Œ Pythonâ€¦ä¸€è¾¹ç»§ç»­è¿›è¡Œç€é¡¹ç›®ï¼Œä¸€è¾¹æŠ½å‡ºæ—¶é—´æ¥é’»ç ”ä¸€ä¸‹ Redisã€‚ ä¹‹å‰å°±æ˜¯èƒŒäº†ä¸€äº›å¸¸è§çš„é¢è¯•é¢˜ï¼Œä¹Ÿæ²¡æœ‰æ·±å…¥äº†è§£è¿‡ï¼Œè‡ªå·±ä¸è¶Ÿä¸€éæ°´ï¼Œè¸©ä¸€éå‘å§‹ç»ˆè§‰å¾—å¿ƒé‡Œä¸è¸å®ã€‚ Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ Redis(2)â€”â€”è·³è·ƒè¡¨ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äºº Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘ Redis(8)â€”â€”å‘å¸ƒ/è®¢é˜…ä¸Stream Redis(9)â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹ å¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒæˆ‘é¢è¯•è¢«Redisé—®å¾—è„¸éƒ½ç»¿äº† å¦å¤–ç”±äº MC æ˜¯ä½¿ç”¨çš„ Pythonï¼Œä¹Ÿç²—æµ…åœ°è‡ªå­¦äº†ä¸€æŠŠ Pythonï¼š æ‡‚ä¸€ç‚¹Pythonç³»åˆ—â€”â€”å¿«é€Ÿå…¥é—¨ å‚ä¸ç½‘æ˜“ MC å­£åº¦ Mod å¼€å‘â€¦ç¬¬ä¸€æ¬¡ä¸Šæ‰‹çš„é¡¹ç›®å°±æ˜¯ç½‘æ˜“ç¬¬ä¸‰å­£åº¦å‡†å¤‡æ¨å‡ºçš„å­£åº¦ Modï¼šã€Œæ˜Ÿé™…æ¢é™©ï¼šè¿«é™ã€(å€æ„Ÿè£å¹¸â€¦ å¤šå°‘æœ‰ç‚¹å„¿å‡ºé“å³å·…å³°çš„æ„å‘³åœ¨é‡Œé¢â€¦) è¿™æ˜¯å½“æ—¶åœ¨æµ‹è¯•éšæœºç”Ÿæˆæ ‘ç®—æ³•çš„ç”»é¢ï¼š 2020 å¹´ 4 æœˆMoreThanJava å¼€ç¯‡â€¦æœ¬ç€ã€Œåˆ†äº«ã€çš„åˆè¡·ï¼Œå°±ç€æœ€åˆçš„è®¡åˆ’ï¼Œã€ŒMoreThanJavaã€ç³»åˆ—å¼€å·¥ï¼š çœ‹ç€è¿˜æŒºåƒé‚£ä¹ˆå›äº‹çš„ã€‚ å››æœˆæ–°å¢æ–‡ç« ï¼š ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„ ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ä¸€åˆ‡ä¼¼ä¹éƒ½ä¸é‚£ä¹ˆå¦‚æ„¿â€¦æˆ‘çªç„¶æœ‰äº›è§‰å¾—ï¼ŒæŠŠç”Ÿæ´»æ¯”å–»æˆä¸€æ¡æ²³æµçš„å¦å¤–ä¸€å±‚æ„æ€æ˜¯ï¼šã€Œå°±ç®—ä½ ä¸åŠ¨ï¼Œç”Ÿæ´»ä¹Ÿä¼šæ¨ç€ä½ å¾€å‰èµ°ã€ å‡å¦‚ç”Ÿæ´»ä¸æ¨ä½ äº†ï¼Œä½ è¿˜ç»§ç»­èµ°å—ï¼Ÿæ˜¯å¾€å‰å—ï¼Ÿå“ªé‡Œåˆæ˜¯å‰ï¼Ÿ ä¸€æ–¹é¢ï¼Œæˆ‘è‡ªè§‰æœ‰ç€æ˜ç¡®çš„ç›®æ ‡ä»¥åŠä¸€å®šè¦ç•™ä¸‹é‚£ä¹ˆä¸€ç¬”çš„ä¿¡å¿µã€‚ å¦ä¸€æ–¹é¢ï¼Œç”Ÿæ´»å¹¶ä¸è½»æ¾ï¼Œç‰¹åˆ«æ˜¯æœ¬è¯¥å‘å°é¡¹ç›®æŒ‚å•†åŸèµšé’±çš„æˆ‘ï¼Œåˆšå¼€å§‹å°±æ¥è§¦åˆ°äº†è¿™ä¹ˆå¤§çš„ä¸€ä¸ªå­£åº¦ Modï¼Œæ²¡æœ‰ç«‹é©¬èƒ½æ‹¿åˆ°çš„é¢å¤–æ”¶å…¥è¿˜å¾—å¸®ç€å¹²ä¸å°‘æ´»å„¿ä»¥åŠç†Ÿæ‚‰ MC çš„å¼€å‘ (ä¸è¿‡å¥½æ­¹æ¥äº†ä¸€ä¸ªå¤–åŒ…é¡¹ç›®æœ‰æ”¶å…¥)ï¼Œè¿˜å¾—ç‹¬è‡ªé¢å¯¹ç”Ÿæ´»ä¸­çš„çç¢ã€‚ å†å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ªäººçš„æ—¶é—´ç¡®å®èƒ½å¤Ÿè·å¾—éš¾å¾—çš„ä¸“æ³¨ï¼Œä¸ä»…ä»…åŒ…æ‹¬å­¦ä¹ ã€å·¥ä½œï¼Œå¨±ä¹ä¹Ÿæ˜¯ä¸€æ ·ã€‚ç‰¹åˆ«æ˜¯å½“ç”Ÿæ´»ä¸å†æ¨ç€ä½ çš„æ—¶å€™ã€‚ ä¸€è¾¹è¿‡ç€é¢“åºŸçš„ç”Ÿæ´»ï¼Œä¸€è¾¹åˆåœ¨å†…å¿ƒç»™è‡ªå·±å–Šè¯.. è¿™ç§çº ç»“ä»ä¸Šé¢èŠ‚é€‰çš„æ ‡é¢˜å°±èƒ½ç•¥å¾®æ„Ÿå—ä¸€äºŒäº†.. ä¼¼ä¹ä¸€åˆ‡éƒ½ä¸å¦‚æœ€åˆçš„é‚£èˆ¬å¦‚æ„¿ï¼Œè®¡åˆ’ä¹Ÿå¥½ï¼Œæ”¶å…¥ä¹Ÿå¥½ï¼Œç”šè‡³è¿ç”Ÿæ´»éƒ½å¼€å§‹å˜å¾—ä¸€å›¢ç³Ÿ.. ç¼©æ°´çš„é’±åŒ…â€¦æœ€ç»ˆè¿«ä½¿æˆ‘æ”¹å˜çš„ï¼Œè¿˜æ˜¯é‚£ä¸ªæœ€åˆæˆ‘æœ‰äº›ä¸å¯¹ä»˜çš„ä¸œè¥¿ï¼šé’±ã€‚ æˆ‘ç»™è‡ªå·±æ­å»ºäº†ä¸€ä¸ªè¿˜æ¯”è¾ƒæ»¡æ„çš„å·¥ä½œç¯å¢ƒï¼Œ2 å— 4k å±å¹•ï¼Œä¸€å¼ å‡é™æ¡Œï¼Œä¸€æŠŠç”µç«æ¤…ã€‚ä½†è¿™äº›ä½¿æˆ‘ä¸å¾—ä¸è®¡åˆ’ç€è¿‡æ—¥å­ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘é¢å¤–ä¹°ä¸‹ä¸€å°åä¸ºç¬”è®°æœ¬ä¹‹å (MC æ˜¯å¾®è½¯çš„æ¸¸æˆ.. Mac è¿è¡Œä¸äº†.. è™šæ‹Ÿæœºä¹Ÿä¸è¡Œ.. è›‹ç–¼..)ã€‚ (psï¼šå…¶ä¸­ä¸€å—æ˜¾ç¤ºå™¨åœ¨ä¹‹åçš„æ¬å®¶è¿‡ç¨‹ä¸­è¿˜é­é‡äº†ä¸æµ‹â€¦è¿˜ä¸ä¿ä¿®â€¦) æˆ‘å¼€å§‹é€¼è¿«è‡ªå·±æ—©ä¸Šæ™¨è·‘ï¼Œæ™šä¸Šåšè¿åŠ¨..å°½ç®¡æ²¡èƒ½åšæŒå¾ˆä¹…..(ç°åœ¨åšæŒå»æ‰“æ‰“çƒ) æˆ‘å¼€å§‹è¦æ±‚è‡ªå·±æ¯å¤©è‡³å°‘è¦çœ‹ä¸€ä¸ªå°æ—¶ä¹¦ï¼Œä¿æŒè¾“å…¥æ˜¯ä¸€ä»¶ç‰¹åˆ«é‡è¦çš„äº‹æƒ…..å°½ç®¡ä¹Ÿæ–­æ–­ç»­ç»­çš„å§.. æœ€é‡è¦çš„æ˜¯ï¼Œå¼ºè¿«è‡ªå·±ä¸Šçº²ä¸Šçº¿ï¼Œå’Œå›¢é˜Ÿæˆå‘˜å‡ºäº†è‡ªå·±ç¬¬ä¸€æ¬¾ Mod ç»„ä»¶.. æŒ‚ä¸Šäº†å•†åŸ.. å°½ç®¡é”€é‡ä¹Ÿä¸æ€ä¹ˆå¥½å§.. ä½†è¿™ä¸€åˆ‡å¯¹äºæˆ‘æ¥è¯´ï¼Œéƒ½æ˜¯ä¸€ç§ç§¯æçš„ã€Œå¼€å§‹ã€.. å°½ç®¡çª˜è¿«ï¼Œä½†å¯¹è‡ªå·±çš„æŠ•èµ„è¿˜æ˜¯ä¸æ¯«ä¸åå•¬çš„ï¼Œæ¯”å¦‚ï¼š 2020 å¹´ 5 æœˆé‡å¿ƒçš„è½¬ç§»â€¦ç”Ÿæ´»çš„ã€Œçª˜è¿«ã€ä½¿æˆ‘ä¸å¾—ä¸è½¬ç§»æ›´å¤šçš„é‡å¿ƒåœ¨ MC ç»„ä»¶çš„æ„æ€å’Œå¼€å‘ä¸Šï¼Œæ•´ä¸ª 5 æœˆï¼Œæˆ‘æ²¡æœ‰å‘ä¸€ç¯‡åŸåˆ›æ–‡ç«  (æ­¤æ—¶æˆ‘åè€Œå› ä¸ºä¹‹å‰çš„ Redis ç³»åˆ—æ–‡ç« å§.. æ¥äº†ä¸€äº›å¹¿å‘Šå‘..).. ä¹Ÿç”±æ­¤ï¼Œæˆ‘å¾—ä»¥æ„æ€äº†ä¸€ä¸ªï¼Œå’Œå›¢é˜Ÿè®¨è®ºä¹‹åé¢„è®¡ä¼š å–çˆ† çš„ç»„ä»¶ï¼Œç”šè‡³æˆ‘ä»¬ä¸€åº¦è¿˜è°ƒç ”äº†æ‰¾ä¸»æ’­æ¨å¹¿çš„ä»·æ ¼ (æ‚„æ‚„è¯´ï¼Œä¸€æ¡è§†é¢‘äº”ä½æ•°â€¦)â€¦ å› ä¸ºå®ƒä¸ä»…é¢ è¦†äº† MC çš„ä¼ ç»Ÿç©æ³•ï¼Œæ›´æœ‰åºå¤§æœ‰è¶£çš„ä¸–ç•Œè§‚ (å€Ÿé‰´å¤šä¸ªåŠ¨æ¼«æ¥çš„) å’Œä¸°å¯Œå¤šå½©çš„æ–°æ¨¡å‹â€¦ æŒ‰ç…§å†å²çš„æ•°æ®å’Œç»éªŒæ¥çœ‹ï¼Œè¿™ä¸ªç»„ä»¶å¤§å–ï¼(ç›¸å½“äºåˆ¶ä½œäº†ä¸€æ¬¾å…¨æ–°çš„æ¸¸æˆä¸€æ ·â€¦) äºæ˜¯æˆ‘æŠŠæ‰€æœ‰çš„é‡å¿ƒæ”¾åœ¨äº†ç»„ä»¶çš„å¼€å‘ä¸Šï¼Œä¸€è¾¹å­¦ä¹ ä¸€è¾¹åŠ¨æ‰‹å®è·µå’Œæ”¹è¿›ç€è‡ªå·±çš„æƒ³æ³•.. è¿™è®©æˆ‘å…´å¥‹ä¸å·²ï¼Œä»æ—©åˆ°æ™š.. æˆ‘æ„Ÿè§‰è¿™é…·æäº†.. 2020 å¹´ 6 æœˆæ¢å¤è¾“å‡ºâ€¦ç”¨äº†æ•´ä¸ª 5 æœˆï¼Œç»„ä»¶ç»ˆäºå‡†å¤‡ä¸Šçº¿äº†.. åŒæ—¶ä¸Šçº¿çš„è¿˜æœ‰å¦å¤–ä¸€ä¸ªï¼ŒèŠ±ä¸¤ä¸ªå°æ—¶å°±å†™å®Œçš„ç‰¹åˆ«ç®€å•åˆå¥½ç©å„¿çš„ç©å„¿æ³•â€¦ æœ‰äº†å‰ä¸€ä¸ªæœˆç§¯æ”’çš„åŠ²å„¿ï¼Œå†™èµ·æ–‡ç« æ¥ä¹Ÿé¡ºç•…äº†è®¸å¤š..(å…¶å®æœ‰äº›æ–‡ç« ä¹‹å‰å°±æŸ¥äº†å¾ˆä¹…çš„èµ„æ–™â€¦) äº”æœˆè¾“å‡ºï¼š ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿° ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç† ã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€ ã€ŒMoreThanJavaã€Java å‘å±•å²åŠèµ·èˆªæ–°ä¸–ç•Œ ç°å®æ‰“å‡»â€¦æˆ‘ä»¬ç®—å¥½ç»„ä»¶å‘å¸ƒçš„æ—¶é—´ï¼Œå°½ä¸€åˆ‡å¯èƒ½åœ°å¢åŠ æ¨¡ç»„çš„çƒ­åº¦ï¼Œä½†å®ƒæ²¡æœ‰æŒ‰ç…§é¢„æƒ³çš„é‚£èˆ¬ç«çƒ­â€¦ ç”šè‡³å¯ä»¥è¯´æœ‰äº›å†·æ·¡â€¦ å› ä¸ºçœ‹æœ€ç»ˆçš„æˆäº¤é‡å’Œæ€»é‡‘é¢æ¥è¯´ï¼Œè·Ÿæˆ‘ä¸¤ä¸ªå°æ—¶å°±åšå®Œçš„æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«æœ¬è´¨çš„åŒºåˆ«â€¦ ç”šè‡³ä¸“é—¨ä»¿ç…§ä¼ ç»Ÿ RPG æ¸¸æˆé‡æ–°è®¾è®¡å’Œå®ç°çš„ UIï¼Œå±…ç„¶è¢«äººè¯Ÿç—…æˆæ˜¯ BUG..(å› ä¸ºæœ‰ä¸€ç‚¹ä¸ç¬¦åˆåŸç‰ˆæ¸¸æˆçš„æ“ä½œä¹ æƒ¯) è¿˜å› æ­¤ç»™äº†è®¸å¤šä½è¯„åˆ†çš„å·®è¯„â€¦ è¿™å±å®ç»™æˆ‘ä»¬æ¥äº†ä¸€æ¬¡æ‰“å‡»â€¦ ç‰¹åˆ«æ˜¯ç­–åˆ’æœ¬äºº (æˆ‘)â€¦ ä¸è¿‡æ›´å¤šçš„æ˜¯ç»™æˆ‘ä»¬ä¸Šäº†ä¸€è¯¾ã€‚äº‹å®æ˜¯ï¼šè¿™æ˜¯æˆ‘ä»¬è‡ªå·±éå¸¸å–œæ¬¢çš„ç»„ä»¶ï¼Œè€Œä¸æ˜¯å¹¿å¤§ç©å®¶ä»¬å–œæ¬¢çš„ç»„ä»¶ã€‚(å¯¹äºå¦‚ä½•æ‰¾å‡†ç©å®¶å£å‘³è¿™äº‹å„¿ï¼Œé™¤äº†å¤šè¯•é”™ï¼Œå¹¿æ’’ç½‘ï¼Œæˆ‘è¿˜çœŸæ²¡ä»€ä¹ˆå¥½åŠæ³•â€¦) å¦å¤–ä»äº§å“çš„è§’åº¦åè¿‡å¤´æ¥å®¡è§†ï¼š æœ¬èº«å…¨æ–°çš„æ¨¡å¼éœ€è¦æœ‰å­¦ä¹ æˆæœ¬ï¼› åˆæ²¡æœ‰ç‰¹åˆ«å‹å¥½çš„æç¤ºç³»ç»Ÿ (ã€Œä¸€ä¸ªå¥½çš„æç¤ºç³»ç»Ÿæ¯”åä¸ªæ–°åŠŸèƒ½éƒ½æœ‰ç”¨ã€ä¸çŸ¥å“ªå„¿çœ‹çš„ï¼Œä½†æ­¤åˆ»æ˜ å…¥è„‘æµ·..)ï¼› åŠ ä¸Šæ¸¸æˆçš„éƒ¨åˆ†ï¼Œå¤§å¤šéƒ½æ˜¯é å‡ ä¹ç›¸åŒçš„æ–¹å¼ç¡¬è‚ (ç±»ä¼¼äºåˆ·å¡”)ï¼› ç­‰ç­‰ç­‰.. ä»¥ä¸Šç§ç§çš„åŸå› ï¼Œå°±é€ æˆäº†è¿™æ—¢ä¸æ˜¯é‚£ç§è®©äººæ„‰æ‚¦åˆ°çˆ†çš„äº§å“ï¼Œåˆæ ¹æœ¬ä¸æ˜¯é‚£ç§èƒ½å¤Ÿå¸®åŠ©ç©å®¶æŠµå¾¡æŸç§ææƒ§çš„äº§å“ï¼Œæ‰€ä»¥æ‰ä¼šè¿™èˆ¬ â€œä¸ç—›ä¸ç—’â€ã€‚ â€œä»¤äººç¾¡æ…•â€çš„è‡ªç”±èŒä¸šâ€¦ä»æŸç§ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç¡®å®è¿‡ä¸Šäº† â€œä»¤äººç¾¡æ…•â€ çš„ç”Ÿæ´»ï¼šä¸ç”¨æœä¹æ™šäº”çš„æ‰“å¡ç­¾åˆ°ï¼Œä¸ç”¨ç¡¬ç€å¤´çš®å‡ºå»åº”é…¬ï¼Œä¸ç”¨åšè¿å¿ƒçš„äº‹åªä¸ºäº†åº”ä»˜ KPIï¼Œä¹Ÿä¸ç”¨é¢å¯¹å¤æ‚çš„èŒåœºå…³ç³»ï¼Œä¸€åˆ‡éƒ½åªæœ‰è‡ªå·±ï¼Œæƒ³åƒå•¥å°±å¯ä»¥åƒï¼Œæƒ³å»å“ªå„¿ç©å„¿å°±å¯ä»¥å»ï¼Œåšè‡ªå·±å–œæ¬¢çš„äº‹ï¼Œå¯¹è‡ªå·±è´Ÿè´£å°±å¤Ÿäº†ã€‚ ä¸è€ƒè™‘é’±çš„å‰æä¸‹ï¼Œæˆ‘å‡å€Ÿç€ â€œè‡ªç”±â€ çš„åä¹‰ï¼Œç¡®å®è¿‡å¾—èˆ’æœæäº†â€¦ èº«ä½“æ–¹é¢é™¤äº†ä¹…åçš„å±è‚¡ä¹Ÿæ˜¯è¶Šå‘åœ°å¥åº·â€¦ ä½†å…¶å®åªæœ‰è‡ªå·±çŸ¥é“ï¼Œè¿™å…¶ä¸­çš„éš¾.. ä¸€æ–¹é¢è™½ç„¶æˆ‘è¿˜ç®—èƒ½å¤Ÿä¿æŒè§„å¾‹çš„ä½œæ¯å’Œç”Ÿæ´» (æˆ‘ç‰¹åˆ«éœ€è¦ç»´æŒè¿™ç§çŠ¶æ€ä»¥ç»´æŒåšäº‹çš„èƒ½é‡â€¦)ï¼Œä½†èƒ½å¤Ÿæ‰“æ–­ä½ çš„äº‹æƒ…æ¯”æƒ³è±¡ä¸­è¦å¤šå¾—å¤šï¼Œç‰¹åˆ«æ˜¯å½“ä½  â€œè‡ªç”±â€ ä¹‹åã€‚ æ¯•ç«Ÿåˆä¸å·¥ä½œï¼Œèƒ½æœ‰ä»€ä¹ˆäº‹å‘¢ï¼Ÿ(åè®½â€¦ å®é™…ä¸Šéœ€è¦åšçš„äº‹æ˜¯è¶Šæ¥è¶Šå¤šçš„â€¦) å¦ä¸€æ–¹é¢æ¥è¯´ï¼Œè¿™ç§ â€œè‡ªç”±â€ å…¶å®å¾ˆè‡ªæˆ‘ï¼Œå°±å½“å‰æ¥è¯´ï¼Œè´¢åŠ¡æ–¹é¢çš„ã€Œçª˜å¢ƒã€ä½¿æˆ‘ä¸å¾—ä¸è¿™æ ·ï¼šåªèƒ½ä¹Ÿåªå¤Ÿå¯¹è‡ªå·±è´Ÿè´£ã€‚ ä¸å…è°ˆåˆ°é’±è¿™ä¸ªè¯é¢˜æ—¶ï¼Œå¿ƒé‡Œé»˜é»˜ç®—äº†ä¸€ä¸‹å¦‚æœå»åä¸ºè¿™å‡ ä¸ªæœˆèƒ½å¤Ÿæ‹¿åˆ°çš„å·¥èµ„å’Œè‡ªå·±è¿™å‡ ä¸ªæœˆçš„æ”¶å…¥ä¸€å¯¹æ¯” (å·®è·æ¥è¿‘å…­ä½æ•°)*ï¼Œå¿ƒé‡Œè¿˜æ˜¯ä¼šä¸å…é…¸ä¸Šä¸€æŠŠã€‚(å®é™…æƒ…å†µå¦‚ä¸‹å›¾)* æ‰€ä»¥å®é™…ä¸Šï¼Œç½‘ç»œä¸Šæˆ‘æ˜¯ä¹äºåˆ†äº«çš„ çƒ­å¿ƒåšä¸»ï¼Œæœ‹å‹å‰æˆ‘æ˜¯ä»¤äºº â€œç¾¡æ…•â€ çš„ è‡ªç”±èŒä¸šè€… (ç›®å‰ä»…å®ç°äº†æ—¶é—´è‡ªç”±)ï¼Œå®¶äººé¢å‰æˆ‘åˆ™æ˜¯ å®¶é‡Œè¹²çš„ä¸ä¸Šç­çš„è‡ªé—­ç½‘ç˜¾å°‘å¹´ã€‚ 2020 å¹´ 7 æœˆä¿æŒè¾“å‡ºâ€¦ä¸ƒæœˆçš„å‰åŠç¨‹ï¼Œè¿˜æ˜¯è¾“å‡ºäº†ä¸€äº›æ–‡ç« çš„â€¦ åœ¨å†™ Day 4 é¢å‘å¯¹è±¡çš„æ–‡ç« æ—¶ï¼ŒæŸ¥äº†å¾ˆå¤šå¤©èµ„æ–™æ€»è§‰å¾—å·®ç‚¹æ„æ€.. å°±æœ‰ç‚¹å¡ä½çš„æ„å‘³äº†..(æˆ‘æ—¶å¸¸ç”¨å®Œæˆæ¯”å®Œç¾é‡è¦æ¥åŠè‡ªå·±ï¼Œä½†å¤§éƒ¨åˆ†æ—¶å€™è¿˜æ˜¯åŠä¸è¿‡.. æˆ‘åªæ˜¯å¸Œæœ›åŠ›æ‰€èƒ½åŠçš„èŒƒå›´å†…èƒ½å°½å¯èƒ½åšå¾—æ›´å¥½è€Œå·²..) ä¸ƒæœˆæ–°å¢æ–‡ç« ï¼š ã€ŒMoreThanJavaã€Day 1ï¼šç¯å¢ƒæ­å»ºå’Œç¨‹åºåŸºæœ¬ç»“æ„å…ƒç´  ã€ŒMoreThanJavaã€Day 2ï¼šå˜é‡ã€æ•°æ®ç±»å‹å’Œè¿ç®—ç¬¦ ã€ŒMoreThanJavaã€Day 3ï¼šæ„å»ºç¨‹åºé€»è¾‘çš„æ–¹æ³• ã€çŸ¥ä¹é—®é¢˜ã€‘å¦‚ä½•è®©ä¸æ‡‚ç¼–ç¨‹çš„äººæ„Ÿå—åˆ°ç¼–ç¨‹çš„é­…åŠ› ç½‘æ˜“ MC åˆ›ä½œå¤§å¸ˆèµ›â€¦ä¸ƒæœˆçš„ååŠç¨‹è·Ÿéšå›¢é˜Ÿå‚åŠ äº†ç½‘æ˜“è·ŸæŠ–éŸ³è”åˆä¸¾åŠçš„æ¯”èµ›ï¼Œæˆ‘æ˜¯ä¸»ç¼–ç¨‹ã€‚ ä¹‹å‰çš„ â€œå¤±è´¥â€ å¹¶æ²¡æœ‰æ‰“æ¶ˆæˆ‘ä»¬çš„ç§¯ææ€§ï¼Œåè€Œè®©æˆ‘ä»¬è¿¸å‘å‡ºäº†å¾ˆå¤šæœ‰æ„æ€çš„æƒ³æ³•.. éšç€è®¸å¤šç»„ä»¶çš„å‘å¸ƒï¼Œæ”¶å…¥æ–¹é¢ä¹Ÿç›¸æ¯”ä¹‹å‰è¶Šæ¥è¶Šå¥½â€¦ è¿™å‡ å¤©ç¼–ç çš„å·¥ä½œä¹Ÿå·®ä¸å¤šå¿«è¿›å…¥å°¾å£°äº†.. è®¡åˆ’è·Ÿæœ‹å‹ä»¬ä¸€èµ·å‡ºå»æ—…ä¸ªæ¸¸ä½œä¸ºä¸ƒæœˆå’Œä¸ŠåŠå¹´çš„ç»ˆç»“~ æ€»ç»“æ‰¿è¯ºç»™è‡ªå·±çš„æ—¶é—´å·²ç»è¿‡å»å¤§åŠï¼Œæ§èµ·è‡ªå·±ç»™è‡ªå·±çš„ç­”å·ï¼Œå‹‰å¼ºèƒ½ç®—ä¸ªåŠæ ¼åˆ†ã€‚äº‹å®ä¸Šå¤§éƒ¨åˆ†æ—¶å€™è‡ªå·±ç”šè‡³æ˜¯æ€ æƒ°çš„ï¼Œä½†æˆ‘æ„¿æ„ç»™è¿™ä¸ªåŠæ ¼åˆ†ã€‚ å¯¹äºè‡ªå·±æ¥è¯´ï¼Œä¸Šç­å¯¹æˆ‘æ¥è¯´æ˜¯æœ€å®¹æ˜“çš„é€‰æ‹© (äº‹å®ä¸Šè¿™æœŸé—´æœ‰å¾ˆå¤šæœºä¼šæˆ‘éƒ½æ‹’ç»äº†..)ï¼Œæˆ‘ä¹Ÿå¹¶ä¸è§‰å¾—ä¸Šç­è¾›è‹¦ä¹‹ç±»çš„ï¼Œç›¸åï¼Œç°åœ¨éœ€è¦ç›´é¢è‡ªå·±å†…å¿ƒå„ç§å„æ ·å¤æ‚çš„å£°éŸ³ï¼Œéœ€è¦åº”ä»˜å®¶äººæœ‹å‹çš„ â€œå…³å¿ƒçˆ±æŠ¤â€ åè€Œè®©æˆ‘æœ‰äº›ç–²æƒ«ã€‚ å½“å‰çš„æ—¶å…‰ï¼Œä¸€æ®µæ—¶é—´çš„ã€Œçª˜å¢ƒã€æ˜¯æˆ‘ç»™æœªæ¥çš„è‡ªå·±ä¸‹çš„èµŒæ³¨ã€‚ å°½ç®¡æœ‰äº›è‰°éš¾ï¼Œä½†æˆ‘æ˜¯å¾ˆæ„¿æ„ï¼Œä¹Ÿè§‰å¾—å¾ˆå€¼å¾—å°è¯•çš„ã€‚ å°±åƒ @Lenciel è¯´çš„é‚£æ · (æœ€è¿‘å¾ˆå–œæ¬¢é€›ä»–çš„åšå®¢..)ï¼š â€œç©¶ç«Ÿè¯¥æ€ä¹ˆæ´»ï¼Œè‡ªå·±çœŸæ­£äº«å—ä»€ä¹ˆï¼Œå–œæ¬¢ä»€ä¹ˆï¼Œå¾ˆå¤šæ—¶å€™ä¸æ˜¯é€šè¿‡å¾ªè§„è¹ˆçŸ©çš„ç”Ÿæ´»å°±èƒ½å¼„æ˜ç™½çš„ï¼Œæ€»å¾—ä¸ºä»€ä¹ˆä¸œè¥¿æ‹¼è¿‡ã€‚â€ åç»­çš„è®¡åˆ’è¿™é‡Œå°±ä¸åˆ—äº†.. æœ€åä»¥æˆ‘å¾®åšçš„ç­¾åæ¥ä½œä¸ºç»“å°¾å§ï¼š ã€Œæƒ³åšä¸€ä¸ªè‡ªç”±ä¸”è‡ªå¾‹çš„äººï¼Œé åŠ¿å¿…å®ç°çš„å†³å¿ƒè®¤çœŸåœ°æ´»ç€ï¼ã€ å¸Œæœ›ä½ æˆ‘éƒ½èƒ½å¤Ÿå¥”èµ´åœ¨è·¯ä¸Šå§â€¦ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€çŸ¥ä¹é—®é¢˜ã€‘å¦‚ä½•è®©ä¸æ‡‚ç¼–ç¨‹çš„äººæ„Ÿå—åˆ°ç¼–ç¨‹çš„é­…åŠ›","slug":"ã€çŸ¥ä¹é—®é¢˜ã€‘å¦‚ä½•è®©ä¸æ‡‚ç¼–ç¨‹çš„äººæ„Ÿå—åˆ°ç¼–ç¨‹çš„é­…åŠ›","date":"2020-07-15T15:21:00.000Z","updated":"2020-08-16T07:50:03.237Z","comments":true,"path":"2020/07/15/zhi-hu-wen-ti-ru-he-rang-bu-dong-bian-cheng-de-ren-gan-shou-dao-bian-cheng-de-mei-li/","link":"","permalink":"http://www.wmyskxz.com/2020/07/15/zhi-hu-wen-ti-ru-he-rang-bu-dong-bian-cheng-de-ren-gan-shou-dao-bian-cheng-de-mei-li/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ çŸ¥ä¹é—®é¢˜ï¼šå¦‚ä½•è®©ä¸æ‡‚ç¼–ç¨‹çš„äººæ„Ÿå—åˆ°ç¼–ç¨‹çš„é­…åŠ›ï¼Ÿ é“¾æ¥ï¼šhttps://www.zhihu.com/question/406408447 Part 0. å‰è¨€é—®ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ï¼šã€Œå¦‚ä½•è®©ä¸æ‡‚ç¯®çƒçš„äººæ„Ÿå—åˆ°ç¯®çƒçš„ä¹è¶£ï¼Ÿã€ å¾ˆæ˜æ˜¾ï¼Œç­”æ¡ˆå–å†³äºäººã€‚ å¯¹äºæŸäº›äººæ¥è¯´ï¼Œç¼–ç å¯èƒ½æ˜¯ä¹å‘³è€Œè‰°å·¨çš„ï¼Œä½†å¯¹äºæœ‰äº›äººåˆ™æ˜¯éå¸¸æœ‰è¶£ä¸”æœ‰ç›Šçš„ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œç¼–å†™å¥½ä»£ç ä¹‹åï¼Œæˆ‘ä»¬å¾ˆéš¾è¯„åˆ¤ç¼–ç çš„è¿‡ç¨‹æ˜¯æ— èŠè¿˜æ˜¯æœ‰è¶£çš„ã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´å¥½åœ°äº†è§£ ã€Œè®¡ç®—æœºç¼–ç¨‹æ˜¯ä»€ä¹ˆã€ï¼Œå› æ­¤æ‚¨å¯ä»¥è‡ªå·±æ¥è¯„åˆ¤è¿™æ˜¯å¦è®©ä½ æ„Ÿåˆ°ä¹è¶£ã€‚ å°±å½“ä»£çš„å‘å±•æ°´å¹³æ¥è¯´ï¼Œåªè¦æœ‰ç”µçš„ä¸œè¥¿å°±ä¼šæ¶‰åŠåˆ°ç¼–ç ï¼› Part 1. è®¡ç®—æœºå‘å±•ç®€å² | è§£å†³å®é™…çš„é—®é¢˜ åŸæ–‡åœ°å€ï¼šã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ä¸€åˆ‡çš„å¼€ç«¯ | ç»‡å¸ƒæœºè¡£é£Ÿä½è¡Œæ˜¯äººç±»çš„åŸºæœ¬éœ€æ±‚ï¼Œä¸–ç•Œå„åœ°éƒ½æœ‰çººç»‡å’Œç»‡æœºçš„å‘æ˜ã€‚ å¦‚ä½•æå‡çººç»‡çš„æ•ˆç‡ï¼Œæˆä¸ºä¸€ä¸ªå¾ˆé‡è¦çš„è¯¾é¢˜ã€‚ ä¸ ã€Œé’ˆç»‡ç‰©ã€ ä¸åŒï¼Œã€Œæœºç»‡ç‰©ã€ ç”±ä¸¤æ¡æˆ–ä¸¤ç»„ä»¥ä¸Šçš„ç›¸äº’å‚ç›´çš„ä¸¤ä¸ªç³»ç»Ÿçº±çº¿æˆ–ä¸çº¿æ„æˆï¼Œçºµå‘çš„çº±çº¿ å« ç»çº±ï¼Œæ¨ªå‘çš„çº±çº¿ å« çº¬çº±ã€‚ é€šè¿‡ä¸¤æ¡çº¿ä¸åŒè§„å¾‹çš„äº¤é”™ï¼Œå°±ä¼šå½¢æˆä¸åŒçš„é¢œè‰²å’Œæ’åˆ—çš„å˜åŒ–ï¼Œä¹Ÿå°±ä¼šå¸¦æ¥ä¸åŒçš„çº¹æ ·ã€‚ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.sohu.com/a/301616592_99894978 æœ€åŸå§‹çš„ç»‡æœºæ˜¯æ‰‹åŠ¨å®Œæˆçš„ã€‚ åæ¥äººä»¬å‘ç°ï¼Œç»‡ç‰©çº¹æ ·çš„å˜åŒ–æ€»æ˜¯æŒ‰ç…§ä¸€å®šè§„å¾‹æ’åˆ—å®Œæˆçš„ï¼Œåˆ°äº†æˆ˜å›½æ—¶æœŸï¼Œå°±å‘æ˜äº† å¤šç»¼å¼æèŠ±ç»‡æœºï¼Œé€šè¿‡ ç»¼æ¡† æ¥å®Œæˆè¿™ä¸€é¡¹å·¥ä½œï¼š [å›¾ç‰‡ä¸Šä¼ å¤±è´¥â€¦(image-a35874-1594826100047)] è¿™æˆ–è®¸å°±æ˜¯æœ€åŸå§‹çš„ ç¼–ç ï¼šé€šè¿‡æŠŠ æèµ·è§„å¾‹ç›¸åŒçš„ç»çº± ç©¿å…¥ åŒä¸€ä¸ªç»¼æ¡†çš„ç»¼ä¸ ä¸­ï¼Œæ¥è¾¾åˆ°å½“æŸä¸€ä¸ªç»¼æ¡†æèµ·æ—¶ (é€šè¿‡è„šè¸æ¿å®Œæˆ)ï¼Œè¡¨è¾¾æŸä¸€ä¸ªç‰¹å®šçº¹è·¯çš„çº¿è¢«æèµ·ï¼Œä¹Ÿå°±å®Œæˆäº† ç‰¹å®šçº¹è·¯çš„ç¼–ç»‡ï¼ŒåŠ å¿«äº†å·¥ä½œæ•ˆç‡ã€‚ ç»‡å¸ƒæœºçš„æ›´è¿›ä¸€æ­¥ | æŸç»¼æèŠ±ç»‡æœºä¸è¿‡é‡‡ç”¨ç»¼æ¡†ä¹Ÿæœ‰ä¸€ä¸ªæ˜æ˜¾çš„é™åˆ¶ï¼Œé‚£å°±æ˜¯ æ— æ³•ç»‡å‡ºæ¯”è¾ƒå¤æ‚çš„çº¹æ ·ï¼Œå› ä¸ºçº¹æ ·å¤æ‚åˆ™ä»£è¡¨ç€éœ€è¦æ›´å¤šçš„ç»çº¬çº±ä»¥åŠç»çº±æå‡çš„è§„å¾‹æ›´å¤æ‚ï¼Œæ„å‘³ç€å¯èƒ½å¼•å…¥æˆç™¾ä¸Šåƒæ¬¡çº¬çº±æ‰èƒ½å®Œæˆä¸€ä¸ªå¾ªç¯ã€‚ å¦‚æœä»ç„¶é‡‡ç”¨ç»¼æ¡†æ§åˆ¶çº±çº¿æå‡ï¼Œåˆ™å¯èƒ½éœ€è¦æˆç™¾ä¸Šåƒä¸ªç»¼æ¡†ï¼Œè¿™åœ¨æœºæ¢°ä¸Šå®ç°æ˜¯éå¸¸å›°éš¾çš„ï¼Œå› æ­¤ä¾¿æœ‰äº† æŸç»¼æèŠ±ç»‡æœºã€‚ æŸç»¼æèŠ±ç»‡æœºæ²¡æœ‰ç»¼æ¡†ï¼Œè€Œæ˜¯è¢« è®¾è®¡æˆä¸¤å±‚ï¼Œæ¯ä¸€æ ¹ç»çº±ä¼šç©¿å…¥ç»¼ä¸ä¸­å®ç° å•ç‹¬çš„æ§åˆ¶ï¼Œä¸Šå±‚ çš„äººå°†éœ€è¦æèµ·çš„ç»çº±æèµ·ï¼Œè€Œ ä¸‹å±‚ çš„äººåˆ™å†ç»çº±æèµ·åé€šè¿‡æ¢­å­å°†çº¬çº±é€å…¥ç»‡å£ï¼Œå¹¶ç”¨æ‰“çº¬è£…ç½®å°†å¼•å…¥çš„çº¬çº±æ‰“ç‰¢ã€‚ ç„¶è€Œé€šå¸¸æ¥è¯´ï¼Œè¿™ç±»ç»‡æœºä¸Šä¼šæœ‰æˆåƒä¸Šä¸‡æ ¹çº¬çº±ï¼Œçº¹æ ·å¤æ‚ï¼Œäºæ˜¯èªæ˜çš„è€ç¥–å®—ä»¬å‘æ˜äº† èŠ±æœ¬ï¼š ç®€å•æ¥è¯´ï¼ŒèŠ±æœ¬å­˜å‚¨äº†çº¹æ ·ä¿¡æ¯ã€‚ å›¾ä¸­èŠ±æœ¬çš„ç«–çº¿è¿æ¥ç©¿å…¥äº†ç»çº±çš„ç»¼ä¸ï¼Œæ¨ªçº¿å­˜å‚¨äº†æ¯ä¸€æ¬¡å¼•å…¥çº¬çº±æ—¶æèŠ±ä¿¡æ¯ï¼Œå½“ç«–çº¿è¶Šè¿‡æ¨ªçº¿è¦†ç›–åœ¨æ¨ªçº¿å‰æ–¹æ—¶ï¼Œè¡¨æ˜å¯¹åº”çš„ç»çº±è¦è¢«æèµ·ã€‚ è¿™å°±æœ‰ç‚¹å„¿ ç¼–ç è§„åˆ™ çš„æ„æ€ã€‚ ä¼šè¯´è¯çš„ã€Œæœºå™¨ã€ | é›…å¡å°”ç»‡å¸ƒæœºä¸Šé¢è¯´åˆ°çš„æŸç»¼æèŠ±ç»‡æœºè™½ç„¶æ˜¯ä¸€å¤§è¿›æ­¥ï¼Œä½†å¯æƒ³è€ŒçŸ¥çš„æ˜¯ï¼Œå®ƒä»ç„¶æ•ˆç‡ç¼“æ…¢å¹¶ä¸”ç»‡å¸ƒå·¥äººçš„åŠ³åŠ¨é‡éå¸¸å¤§ï¼Œä¹Ÿéå¸¸è¾›è‹¦ã€‚ æ—¶é—´æ¥åˆ° 18 ä¸–çºªçš„æ¬§æ´²ã€‚1725 å¹´ï¼Œå¸ƒä¹” å¼€æ‹“æ€§çš„ä½¿ç”¨ æ‰“å­”çº¸å¸¦ æ¥æ§åˆ¶ç»çº¿çš„æèµ·å’Œæ”¾ä¸‹ï¼Œä»è€Œè®©ç»‡å‡ºèŠ±æ ·æˆä¸ºä¸€ç§åŠè‡ªåŠ¨åŒ–çš„å·¥ä½œï¼š å†å²ä¸Šç¬¬ä¸€æ¬¡ï¼Œæœºå™¨èƒ½å¤Ÿè¯»å‡ºå­˜å‚¨ä»‹è´¨ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”ç…§å…¶è¡Œäº‹ã€‚ åœ¨å¸ƒä¹”æå‡ºæ„æƒ³ 65 åçš„ 1790 å¹´ï¼Œçº¦ç‘Ÿå¤«Â·ç›ä¸½Â·é›…å¡å°” æ ¹æ®å‰äººçš„æˆæœè®¾è®¡äº†æ–°å¼ç»‡æœºï¼Œæœ€ç»ˆäº 1805 å¹´å®Œæˆäº†é¦–å° è‡ªåŠ¨æèŠ±ç»‡æœºï¼š é›…å¡å°”å°† ç©¿å­”çº¸å¸¦ æ”¹è¿›ä¸º ç©¿å­”å¡ç‰‡ï¼Œæ ¹æ®çº¹æ ·å›¾æ¡ˆåœ¨å¡ç‰‡ä¸Šæ‰“å­”ï¼Œé€šè¿‡å­”çš„æœ‰æ—  å¸¦åŠ¨ä¸€ç³»åˆ—æœºæ¢°è¿åŠ¨è£…ç½®æ¥ æ§åˆ¶ç»çº±çš„æå‡ï¼Œä¸€å¼ å¡ç‰‡å¯¹åº”å¾ªç¯å†…ä¸€æ¬¡å¼•çº¬æ—¶ç»çº±æå‡çš„ä¿¡æ¯ï¼Œå¼•çº¬å®Œæˆåï¼Œå¯é€šè¿‡è„šè¸æ¿æ§åˆ¶å¡å­”å¡ç‰‡è½¬åŠ¨ï¼Œä¸‹ä¸€å¼ å¡ç‰‡ç¿»è½¬è‡³å·¥ä½œä½ç½®ä»¥æ§åˆ¶æ–°ä¸€æ¬¡å¼•çº¬çš„æèŠ±ï¼š [å›¾ç‰‡ä¸Šä¼ å¤±è´¥â€¦(image-547502-1594826100047)] é›…å¡å°”ç»‡æœºå¤§å¹…åº¦èŠ‚çœäº†æ—¶é—´å’Œå·¥ä½œé‡ (å…¨è‡ªåŠ¨ä¸”æ•ˆç‡æ˜¯ä¹‹å‰çš„äºŒåäº”å€)ï¼Œè€Œä¸”åªéœ€ä¸€ä½å·¥äººï¼Œå¾ˆå¿«å°±è¢«å¹¿æ³›ä½¿ç”¨åœ¨å·¥å‚ç”Ÿäº§ä¸­ï¼Œé›…å¡å°”ä¹Ÿè£è·äº†æ‹¿ç ´ä»‘æˆäºˆçš„è£èª‰å‹‹ç« ã€‚ ç©¿å­”å¡ç‰‡æ§åˆ¶ç»‡ç‰©çº¹æ ·çš„è®¾è®¡æˆä¸ºäº†ç¨‹åºè®¾è®¡æ€æƒ³çš„èŒèŠ½ï¼Œä¸ºä¿¡æ¯æŠ€æœ¯çš„å‘å±•å¼€å±•äº†ä¸€æ¡æ–°çš„é“è·¯ã€‚ ç¨‹åºè®¾è®¡æ€æƒ³å¼€å§‹èŒèŠ½ | å·®åˆ†æœº æ—¶é—´æ¥åˆ° 19 ä¸–çºªåˆï¼Œæ³•å›½äºº å·´è´å¥‡ (Chanles Badbbage) åœ¨è´¾å¡ç»‡æœºçš„å¯å‘ä¸‹ï¼Œè®¾è®¡å¹¶åˆ¶é€ äº† å·®åˆ†æœºã€‚ æ•…äº‹èƒŒæ™¯18 ä¸–çºªæœ«ï¼Œæ³•å›½æ”¿åºœåœ¨å¼€åˆ›ç±³åˆ¶ä¹‹åï¼Œå†³å®šåœ¨æ•°å­¦ä¸­ç»Ÿä¸€é‡‡ç”¨åè¿›åˆ¶ï¼Œç«Ÿå¥‡è‘©åœ°æƒ³æŠŠåŸæœ¬ 90 åº¦çš„ç›´è§’åˆ’åˆ†æˆ 100 åº¦ã€æŠŠåŸæœ¬ 60 ç§’çš„ 1 åˆ†é’Ÿåˆ’åˆ†æˆ 100 ç§’ï¼Œå°½ç®¡ä»ç°åœ¨çœ‹æ¥è¿™æ ·çš„æƒ³æ³•ç»é€¼æ˜¯ä¸€ç§å€’é€€ï¼Œä½†ä»–ä»¬åœ¨å½“æ—¶çœŸå°±å®æ–½äº†ã€‚è¿™ä¸€æ”¹åˆ¶å¸¦æ¥çš„ä¸å…‰æ˜¯äººä»¬åœ¨ä½¿ç”¨æ—¶ç›´è§‚ä¸Šçš„åˆ«æ‰­ï¼ŒåŸæœ¬åˆ¶ä½œå¥½çš„æ•°å­¦ç”¨è¡¨ ï¼ˆå¦‚ä¸‰è§’å‡½æ•°è¡¨ï¼‰ éƒ½éœ€è¦å…¨éƒ¨é‡åˆ¶ã€‚ æ³•å›½æ”¿åºœå°†è¿™é¡¹ä¸§å¿ƒç—…ç‹‚çš„å·¥ç¨‹äº¤ç»™äº† æ•°å­¦å®¶æ™®ç½—å°¼ ï¼ˆGaspard de Pronyï¼‰ï¼Œæ™®ç½—å°¼æ­£å¤´ç–¼ç€è¦å¦‚ä½•æ‰èƒ½å®Œæˆè¿™é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼Œçªç„¶æƒ³èµ·è‘—åç»æµå­¦å®¶ *äºšå½“Â·æ–¯å¯†** *ï¼ˆAdam Smithï¼‰ çš„é‚£æœ¬ã€Šå¯Œå›½è®ºã€‹ï¼Œä»–å†³å®šé‡‡ç”¨ä¹¦ä¸­æå‡ºçš„ åŠ³åŠ¨åˆ†å·¥ çš„åšæ³•ï¼Œå°†åˆ¶è¡¨çš„å·¥ä½œäººå‘˜åˆ†æˆä¸‰ç»„ï¼š ç¬¬ä¸€ç»„ ç”±äº”å…­åç‰›é€¼çš„æ•°å­¦å®¶ç»„æˆï¼Œä»–ä»¬è´Ÿè´£åˆ¶å®šè¿ç®—ä¸­æ‰€éœ€çš„å…¬å¼ï¼› ç¬¬äºŒç»„ ç”±ä¹åˆ°åä¸ªæ“…é•¿æ•°å­¦çš„äººç»„æˆï¼Œä»–ä»¬è´Ÿè´£è®¡ç®—å‡ºä¸€äº›å…³é”®æ•°æ®ï¼Œå¹¶æŠŠç¬¬ä¸€ç»„åˆ¶å®šå¥½çš„å…¬å¼è¿›è¡Œç®€åŒ–ï¼› ç¬¬ä¸‰ç»„ ç”±çº¦ä¸€ç™¾åè®¡ç®—äººå‘˜ç»„æˆï¼Œä»–ä»¬åˆ©ç”¨ç¬¬äºŒç»„æä¾›çš„å…³é”®æ•°æ®å’Œå…¬å¼ï¼Œåšæœ€ç®€å•çš„åŠ å‡æ“ä½œå°±èƒ½å¾—å‡ºæœ€ç»ˆç»“æœã€‚ ç¬¬ä¸‰ç»„çš„å·¥ä½œç®€å•åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œå°±æ˜¯ä»–ä»¬ç”šè‡³éƒ½ä¸çŸ¥é“è‡ªå·±æ­£åœ¨ç®—ä»€ä¹ˆç©æ„å„¿ï¼Œäº‹å®ä¸Šä»–ä»¬çš„æ–‡åŒ–ç¨‹åº¦å¤§éƒ¨åˆ†éƒ½ä¸é«˜ï¼Œé‡Œå¤´å¥½å¤šéƒ½æ˜¯ç†å‘å¸ˆã€å¤±ä¸šäººå‘˜ä»€ä¹ˆçš„ã€‚å¯è§å³ä¾¿æ–‡ç›²éƒ½èƒ½å®Œæˆçš„è®¡ç®—ï¼Œåœ¨é‚£ä¸ªæ—¶ä»£è¿˜æ˜¯å¾—ä¾é äººåŠ›å»åšã€‚ è€Œä¸ºäº†ä¿è¯ç”¨è¡¨çš„æ­£ç¡®æ€§ï¼Œæ™®ç½—å°¼è¦æ±‚ æ¯ä¸ªæ•°è‡³å°‘ç®—ä¸¤éï¼Œå¹¶ä¸” è¦åœ¨æ³•å›½çš„ä¸åŒåœ°ç‚¹ç”¨ä¸åŒçš„æ–¹æ³•è®¡ç®—ã€‚è¿™é¡¹åŠ³æ°‘ä¼¤è´¢çš„å·¥ç¨‹æ•´æ•´è¿›è¡Œäº†åå¹´æ‰å®Œæˆï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œæœ€ç»ˆçš„è¡¨é‡Œä»ç„¶æœ‰é”™ã€‚è¯´åˆ°è¿™ä¸€ç‚¹ï¼Œå¯ä»¥è¯´ï¼Œé‚£ä¸ªæ—¶ä»£åŸºæœ¬æ²¡æœ‰ä¸€ç‰ˆæ•°å­¦ç”¨è¡¨æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œæœ‰äº›ç‰ˆæœ¬ç”šè‡³é”™è¯¯ç™¾å‡ºï¼Œè¦çŸ¥é“æ•°å­¦ç”¨è¡¨å‡ºé”™æœ‰æ—¶åæœä¼šå¾ˆä¸¥é‡ï¼Œæ¯”å¦‚èˆªæµ·è¡¨ä¸€å‡ºé”™å°±å¯èƒ½ç›´æ¥å¯¼è‡´èˆ¹æ¯äººäº¡ã€‚ å·´è´å¥‡ åœ¨äº†è§£åˆ°æ™®ç½—å°¼çš„äº‹è¿¹åæ³ªæµæ»¡é¢ï¼Œå†³å¿ƒè¦åšä¸€å¥—å®Œå…¨æ­£ç¡®çš„æ•°å­¦ç”¨è¡¨ï¼Œä¸ºè¾¾ç›®çš„ï¼Œä»–å°è¯•äº†å„ç§å‡å°‘é”™è¯¯çš„æ‰‹æ®µï¼Œæ¯”å¦‚è°ƒæ•´çº¸å¼ å’Œå¢¨æ°´çš„é¢œè‰²ä»¥æé«˜æ•°å­—çš„è¯†åˆ«åº¦ï¼Œç›´æ¥æ‹¿ç°æœ‰çš„å¤šä¸ªç‰ˆæœ¬çš„è¡¨è¿›è¡ŒèªŠæŠ„ã€æ¯”å¯¹ã€è®©ä¸åŒäººå‘˜åå¤æ ¡å¯¹ï¼Œåœ¨ 1827 å¹´å‡ºç‰ˆäº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œç»“æœé‡Œå¤´è¿˜æ˜¯æœ‰é”™ã€‚åªè¦æ˜¯äººä¸ºçš„å°±æ²¡æœ‰å®Œç¾çš„ï¼Œå·´è´å¥‡å½»åº•è·ªäº†ï¼Œä»–å‘èª“è¦é€ ä¸€å°æœºå™¨ï¼Œè®©æœºå™¨å»ç”Ÿäº§æ•°å­¦è¡¨ã€‚ è¿™å°±æ˜¯å²ä¸Šè‘—åçš„ å·®åˆ†æœº äº†ã€‚ ä¼¦æ•¦ç§‘å­¦åšç‰©é¦†Â·å·®åˆ†æœºè®¾è®¡å›¾çº¸&amp;åŠæˆå“ï¼š ç¬¬ä¸€å°çœŸæ­£æ„ä¹‰ä¸Šçš„ç”µè„‘ | åˆ†ææœºå°½ç®¡æ²¡èƒ½äº²æ‰‹å®ç°å·®åˆ†æœºï¼Œä½†å·´è´å¥‡å¹¶ä¸ä¼šæ°”é¦ï¼Œæˆ–è€…è¯´ä»–æœ¬æ¥å°±æ˜¯æ ¹æœ¬åœä¸ä¸‹æ¥çš„é‚£ç§äººã€‚æ˜çŸ¥å®ç°ä¸äº†ï¼Œå·´è´å¥‡ä»åœ¨ä¸€åˆ»ä¸åœåœ°æ”¹è¿›ç€è‡ªå·±çš„è®¾è®¡ï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œä»–æ„æ€å‡ºäº†ä¸€ç§ç©ºå‰çš„æœºå™¨â€”â€”åˆ†ææœºï¼Œæ­£å¼æˆä¸ºç°ä»£è®¡ç®—æœºå²ä¸Šçš„ç¬¬ä¸€ä½ä¼Ÿå¤§å…ˆé©±ã€‚ (Father of computing) 1834 å¹´ï¼Œåˆ†ææœºæ¦‚å¿µè¯ç”Ÿä¹‹é™…ï¼Œå·´è´å¥‡è‡ªå·±éƒ½ä¸ºä¹‹æ„Ÿåˆ°æ— æ¯”éœ‡æƒŠã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä»»ä½•ä¸€å°è®¡ç®—æœºå™¨éƒ½åªèƒ½å®Œæˆå…¶è¢«é¢„å®šèµ‹äºˆçš„è®¡ç®—ä»»åŠ¡ï¼Œè¦ä¹ˆæ˜¯ç®€å•çš„åŠ å‡ä¹˜é™¤ï¼Œè¦ä¹ˆåƒå·®åˆ†æœºé‚£æ ·åªèƒ½åšå·®åˆ†è¿ç®—ï¼Œå®ƒä»¬éƒ½å±äº calculatorï¼Œè€Œåˆ†ææœºæ‰æ˜¯çœŸæ­£çš„ computerï¼Œå®ƒä¸å±€é™äºç‰¹å®šåŠŸèƒ½ï¼Œè€Œç«Ÿç„¶æ˜¯å¯ç¼–ç¨‹çš„ï¼Œå¯ä»¥ç”¨æ¥ è®¡ç®—ä»»æ„å‡½æ•°â€”â€”ç°ä»£äººæ— è®ºå¦‚ä½•ä¹Ÿæ— æ³•æƒ³è±¡åœ¨ä¸€å¨é½¿è½®ä¸Šå†™ç¨‹åºæ˜¯æ€æ ·ä¸€ç§ä½“éªŒå§ï¼ å·´è´å¥‡è®¾è®¡çš„åˆ†ææœºä¸»è¦åŒ…æ‹¬ä¸‰å¤§éƒ¨åˆ†ï¼š ç”¨äºå­˜å‚¨æ•°æ®çš„è®¡æ•°è£…ç½®ï¼Œå·´è´å¥‡ç§°ä¹‹ä¸º â€œä»“åº“â€ï¼ˆstoreï¼‰ï¼Œç›¸å½“äºç°åœ¨ CPU ä¸­çš„å­˜å‚¨å™¨ï¼Œè¿™éƒ¨åˆ†æ˜¯ä»å·®åˆ†æœºä¸Šçš„è®¡æ•°è£…ç½®æ”¹è¿›è€Œæ¥çš„ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³è±¡å®ƒçš„æ¨¡æ ·ï¼› ä¸“é—¨è´Ÿè´£å››åˆ™è¿ç®—çš„è£…ç½®ï¼Œå·´è´å¥‡ç§°ä¹‹ä¸º â€œå·¥å‚â€ï¼ˆmillï¼‰ï¼Œç›¸å½“äºç°åœ¨ CPU ä¸­çš„è¿ç®—å™¨ï¼Œè¿™éƒ¨åˆ†çš„ç»“æ„ç›¸å¯¹å¤æ‚ï¼Œå·´è´å¥‡é’ˆå¯¹ä¹˜é™¤æ³•è¿˜åšäº†ä¸€äº›ä¼˜åŒ–ï¼› æ§åˆ¶æ“ä½œé¡ºåºã€é€‰æ‹©æ‰€éœ€å¤„ç†çš„æ•°æ®å’Œè¾“å‡ºç»“æœçš„è£…ç½®ï¼Œå·´è´å¥‡æ²¡æœ‰èµ·åå­—ï¼Œç”±äºå…¶å‘ˆæ¡¶çŠ¶ï¼Œæˆ‘ä»¬å¯ä»¥å«å®ƒ â€œæ§åˆ¶æ¡¶â€ï¼Œæ§åˆ¶æ¡¶æ˜¾ç„¶ç›¸å½“äºç°åœ¨ CPU ä¸­çš„æ§åˆ¶å™¨ã€‚ ä»¥ä¸Šä¸‰éƒ¨åˆ†ï¼ŒåŠ ä¸Šå·´è´å¥‡å¹¶æ²¡æœ‰ç–æ¼çš„è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼Œæˆ‘ä»¬æƒŠè®¶åœ°å‘ç°ï¼Œåˆ†ææœºçš„ç»„æˆéƒ¨åˆ†å’Œç°åœ¨å†¯Â·è¯ºä¾æ›¼æ¶æ„æ‰€è¦æ±‚çš„äº”å¤§éƒ¨ä»¶ä¸€æ¨¡ä¸€æ ·ï¼ å·´è´å¥‡å¦ä¸€å¤§äº†ä¸èµ·çš„åˆ›ä¸¾å°±æ˜¯å°† ç©¿å­”å¡ç‰‡ï¼ˆpunched cardï¼‰ å¼•å…¥äº†è®¡ç®—æœºå™¨é¢†åŸŸï¼Œç”¨äºæ§åˆ¶æ•°æ®è¾“å…¥å’Œè®¡ç®—ï¼Œä»é‚£æ—¶èµ·ï¼Œåˆ°ç¬¬ä¸€å°ç”µå­è®¡ç®—æœºè¯ç”Ÿä¸ºæ­¢ï¼ŒæœŸé—´å‡ ä¹æ‰€æœ‰çš„æ•°å­—è®¡ç®—æœºéƒ½ä½¿ç”¨äº†ç©¿å­”å¡ç‰‡ã€‚ [å›¾ç‰‡ä¸Šä¼ å¤±è´¥â€¦(image-14c434-1594826100047)] æ•´ä¸ªåˆ†ææœºå°±æ˜¯åœ¨ç±»ä¼¼è¿™æ ·çš„é½¿è½®å’Œæ‹‰æ†ä½œç”¨ä¸‹å®ç°å¯ç¼–ç¨‹è¿ç®—çš„ï¼šå…ˆä»æ•°æ®å¡ç‰‡è¯»å…¥æ•°æ®åˆ°å­˜å‚¨å™¨ï¼Œå†å°†å­˜å‚¨å™¨ä¸­çš„æ•°æ®ä¼ è¾“åˆ°è¿ç®—å™¨ï¼Œè¿ç®—å™¨ç®—å®Œååˆå°†æ•°æ®ä¼ å›å­˜å‚¨å™¨ã€‚ å¯æƒœçš„æ˜¯ï¼Œå·´è´å¥‡ç©·å…¶ä¸€ç”Ÿä¹Ÿæ²¡èƒ½çœŸæ­£æŠŠåˆ†ææœºåšå‡ºæ¥ï¼Œç•™ç»™åä¸–çš„åˆæ˜¯ä¸€å°æ¨¡å‹æœºå’Œä¸¤åƒå¤šå¼ å›¾çº¸ï¼Œä»¥åŠè¿™æ ·ä¸€æ®µé—è¨€ï¼š ã€Œå¦‚æœä¸€ä¸ªäººä¸å› æˆ‘ä¸€ç”Ÿçš„å€Ÿé‰´è€Œå´æ­¥ï¼Œä»ç„¶ä¸€å¾€ç›´å‰åˆ¶æˆä¸€å°æœ¬èº«å…·æœ‰å…¨éƒ¨æ•°å­¦åˆ†æèƒ½åŠ›çš„æœºå™¨â€¦â€¦é‚£ä¹ˆæˆ‘æ„¿å°†æˆ‘çš„å£°èª‰æ¯«ä¸åå•¬åœ°è®©ç»™ä»–ï¼Œå› ä¸ºåªæœ‰ä»–èƒ½å¤Ÿå®Œå…¨ç†è§£æˆ‘çš„ç§ç§åŠªåŠ›ä»¥åŠè¿™äº›åŠªåŠ›æ‰€å¾—æˆæœçš„çœŸæ­£ä»·å€¼ã€‚ã€ ä¼¦æ•¦ç§‘å­¦åšç‰©é¦†Â·åˆ†ææœºè®¾è®¡å›¾çº¸&amp;æ¨¡å‹æœºï¼š ç©¿å­”æ—¶ä»£çš„åˆ°æ¥ | åˆ¶è¡¨æœºä» 1790 å¹´å¼€å§‹ï¼Œç¾å›½æ¯ 10 è¿›è¡Œä¸€æ¬¡äººå£æ™®æŸ¥ã€‚ç™¾å¹´é—´ï¼Œéšç€äººå£ç¹è¡å’Œç§»æ°‘çš„å¢å¤šï¼Œä» 1790 å¹´çš„ 400 ä¸‡ä¸åˆ°ï¼Œåˆ° 1880 å¹´çš„ 5000 å¤šä¸‡ï¼Œäººå£æ€»æ•°å‘ˆçˆ†ç‚¸å¼åœ°å¢é•¿ã€‚ ä¸åƒç°åœ¨è¿™ä¸ªçš„äº’è”ç½‘æ—¶ä»£ï¼Œäººä¸€å‡ºç”Ÿï¼Œå„ç§ä¿¡æ¯å°±å·²ç»ç”µå­åŒ–ã€ç™»è®°å¥½äº†ï¼Œç”šè‡³è¿˜èƒ½æ•°æ®æŒ–æ˜ï¼Œä½ æ— æ³•æƒ³è±¡ï¼Œåœ¨é‚£ä¸ªè®¡ç®—è®¾å¤‡ç®€é™‹å¾—åŸºæœ¬åªèƒ½é æ‰‹æ‘‡è¿›è¡Œå››åˆ™è¿ç®—çš„ 19 ä¸–çºªï¼Œåƒä¸‡çº§çš„äººå£ç»Ÿè®¡å°±å·²ç»æˆäº†å½“æ—¶æ”¿åºœçš„ â€œä¸èƒ½æ‰¿å—ä¹‹é‡â€ã€‚ 1880 å¹´å¼€å§‹çš„ç¬¬ 10 æ¬¡äººå£æ™®æŸ¥ï¼Œå†æ—¶ 8 å¹´æ‰æœ€ç»ˆå®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬åœ¨ä¼‘æ¯ä¸¤å¹´ä¹‹åå°±è¦å¼€å§‹ç¬¬ 11 æ¬¡æ™®æŸ¥äº†ï¼Œè€Œè¿™ä¸€æ¬¡æ™®æŸ¥ï¼Œéœ€è¦çš„æ—¶é—´ææ€•è¦è¶…è¿‡ 10 å¹´ï¼Œé‚£ç¬¬ 12 æ¬¡ã€13 æ¬¡å‘¢ï¼Ÿæœ¬æ¥å°±æ˜¯ 10 å¹´ä¸€æ¬¡çš„ç»Ÿè®¡ï¼Œå¦‚æœæ¯æ¬¡è€—æ—¶éƒ½åœ¨ 10 å¹´ä»¥ä¸Šï¼Œè¿™ä»¶äº‹æƒ…å°±å˜å¾—æ²¡æœ‰æ„ä¹‰äº†ã€‚ è¿™å¯æ„ç…äº†å½“æ—¶çš„äººå£è°ƒæŸ¥åŠå…¬å®¤ï¼Œä»–ä»¬å†³å®šé¢å‘å…¨ç¤¾ä¼šæ‹›æ ‡ï¼Œå¯»æ±‚èƒ½å‡è½»æ‰‹å·¥åŠ³åŠ¨ã€æé«˜ç»Ÿè®¡æ•ˆç‡çš„å‘æ˜ã€‚æ­£æ‰€è°“æœºä¼šéƒ½æ˜¯ç»™æœ‰å‡†å¤‡çš„äººçš„ï¼Œä¸€ä½æ¯•ä¸šäºå“¥ä¼¦æ¯”äºšå¤§å­¦çš„å¹´è½»äºº èµ«å°”æ›¼Â·éœå°”ç‘æ–¯ ï¼ˆHerman Hollerithï¼‰ å¸¦ç€ä»–åœ¨ 1884 å¹´ç”³è¯·çš„ä¸“åˆ©ä»ä¼—å¤šæ–¹æ¡ˆä¸­è„±é¢–è€Œå‡ºã€‚ åˆ¶è¡¨æœºä»–å‘æ˜çš„æœºå™¨å« åˆ¶è¡¨æœº ï¼ˆtabulator/tabulating machineï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸“é—¨ç”¨æ¥åˆ¶ä½œæ•°æ®ç»Ÿè®¡è¡¨çš„æœºå™¨ã€‚åˆ¶è¡¨æœºä¸»è¦ç”±ç¤ºæ•°è£…ç½®ã€ç©¿å­”æœºã€è¯»å¡è£…ç½®å’Œåˆ†ç±»ç®±ç»„æˆã€‚ ç¤ºæ•°è£…ç½®åŒ…å« 4 è¡Œã€10 åˆ—å…± 40 ä¸ªç¤ºæ•°è¡¨ç›˜ï¼Œæ¯ä¸ªç›˜é¢è¢«å‡åŒ€åœ°åˆ†æˆ 100 æ ¼ï¼Œå¹¶è£…æœ‰ä¸¤æ ¹æŒ‡é’ˆï¼Œå’Œé’Ÿè¡¨ååˆ†ç›¸åƒï¼Œâ€œåˆ†é’ˆâ€ è½¬ä¸€åœˆå¯è®¡ 100ï¼Œâ€œæ—¶é’ˆâ€ è½¬ä¸€åœˆåˆ™è®¡ 10000ã€‚å¯è§ï¼Œæ•´ä¸ªç¤ºæ•°è£…ç½®å¯ä»¥è¡¨è¾¾å¾ˆåºå¤§çš„æ•°æ®ã€‚ åˆ¶è¡¨æœºçš„å·¥ä½œæ˜¯å›´ç»•ç©¿å­”å¡ç‰‡å±•å¼€çš„ï¼šæ“ä½œå‘˜å…ˆä½¿ç”¨ç©¿å­”æœºåˆ¶ä½œç©¿å­”å¡ç‰‡ï¼Œå†ä½¿ç”¨è¯»å¡è£…ç½®è¯†åˆ«å¡ç‰‡ä¸Šçš„ä¿¡æ¯ï¼Œæœºå™¨è‡ªåŠ¨å®Œæˆç»Ÿè®¡å¹¶åœ¨ç¤ºæ•°è¡¨ç›˜ä¸Šå®æ—¶æ˜¾ç¤ºç»“æœï¼Œæœ€åï¼Œå°†å¡ç‰‡æŠ•å…¥åˆ†ç±»ç®±çš„æŸä¸€æ ¼ä¸­ï¼Œè¿›è¡Œåˆ†ç±»å­˜æ”¾ï¼Œä»¥ä¾›ä¸‹æ¬¡ç»Ÿè®¡ä½¿ç”¨ã€‚ ç©¿å­”å¡ç‰‡çš„åº”ç”¨æ­¤å‰çš„æŸä¸€å¤©ï¼Œéœå°”ç‘æ–¯æ­£åœ¨ç«è½¦ç«™æ’é˜Ÿæ£€ç¥¨ï¼Œç›®å…‰ä¸ç»æ„è½åˆ°æ£€ç¥¨å‘˜æ‰‹ä¸­å’”å’”ç›´å“çš„æ‰“å­”æœºä¸Šã€‚ä»–å‘ç°ï¼Œæ£€ç¥¨å‘˜ä¼šç‰¹æ„æ ¹æ®ä¹˜å®¢çš„æ€§åˆ«å’Œå¹´é¾„æ®µï¼Œåœ¨è½¦ç¥¨çš„ä¸åŒåœ°æ–¹æ‰“å­”ã€‚è¶Šæ¥è¶Šå¤šçš„äººè¿‡æ£€ï¼Œä»–è¿›ä¸€æ­¥ç¡®è®¤äº†è¿™ä¸ªè§„å¾‹ã€‚ä¸€ä¸ªçµæ„Ÿæœä»–è¢­æ¥ï¼šå¦‚æœæœ‰ä¸€å¼ æ›´å¤§çš„å¡ï¼Œä¸Šé¢æœ‰æ›´å¤šçš„ä½ç½®å¯ä»¥æ‰“å­”ï¼Œå°±å¯ä»¥ç”¨æ¥è¡¨ç¤ºæ›´å¤šçš„èº«ä»½ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›½ç±ã€äººç§ã€æ€§åˆ«ã€ç”Ÿæ—¥ç­‰ç­‰ã€‚ è¿™å°±æ˜¯ç”¨åœ¨ 1890 å¹´äººå£æ™®æŸ¥ä¸­çš„ç©¿å­”å¡ç‰‡ï¼Œä¸€å¼ å¡ç‰‡è®°å½•ä¸€ä¸ªå±…æ°‘çš„ä¿¡æ¯ã€‚å¡ç‰‡è®¾è®¡é•¿çº¦ 18.73cmï¼Œå®½çº¦ 8.26cmï¼Œæ­£å¥½æ˜¯å½“æ—¶ä¸€å¼ ç¾å…ƒçº¸å¸çš„å°ºå¯¸ï¼Œå› ä¸ºéœå°”ç‘æ–¯ç›´æ¥ç”¨è´¢æ”¿éƒ¨è£…é’±çš„ç›’å­æ¥è£…å¡ç‰‡ã€‚ å¡ç‰‡è®¾æœ‰ 300 å¤šä¸ªå­”ä½ï¼Œä¸é›…å¡å°”å’Œå·´è´å¥‡çš„åšæ³•ä¸€æ ·ï¼Œé æ¯ä¸ªå­”ä½æ‰“å­”ä¸å¦æ¥è¡¨ç¤ºä¿¡æ¯ã€‚å°½ç®¡è¿™ç§å½¢å¼é¢‡æœ‰å‡ åˆ†äºŒè¿›åˆ¶çš„æ„å‘³ï¼Œä½†å½“æ—¶çš„è®¾è®¡è¿˜è¿œä¸å¤Ÿæˆç†Ÿï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°äºŒè¿›åˆ¶çœŸæ­£çš„ä»·å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ç°åœ¨ä¸€èˆ¬ç”¨ 1 ä½æ•°æ®å°±å¯ä»¥è¡¨ç¤ºæ€§åˆ«ï¼Œæ¯”å¦‚ 1 è¡¨ç¤ºç”·æ€§ï¼Œ0 è¡¨ç¤ºå¥³æ€§ï¼Œè€Œéœå°”ç‘æ–¯åœ¨å¡ç‰‡ä¸Šç”¨äº†ä¸¤ä¸ªå­”ä½ï¼Œè¡¨ç¤ºç”·æ€§å°±å…¶ä¸­ä¸€å¤„æ‰“å­”ï¼Œè¡¨ç¤ºå¥³æ€§å°±åœ¨å¦ä¸€å¤„æ‰“å­”ã€‚å…¶å®æ€§åˆ«è¿˜å‡‘åˆï¼Œè¡¨ç¤ºæ—¥æœŸæ—¶æµªè´¹å¾—å°±å¤šäº†ï¼Œ12 ä¸ªæœˆéœ€è¦ 12 ä¸ªå­”ä½ï¼Œè€Œå¸¸è§„çš„äºŒè¿›åˆ¶ç¼–ç åªéœ€è¦ 4 ä½ã€‚å½“ç„¶ï¼Œè¿™æ ·çš„å±€é™ä¹Ÿä¸åˆ¶è¡¨æœºä¸­ç®€å•çš„ç”µè·¯å®ç°æœ‰å…³ã€‚ ç»†å¿ƒçš„è¯»è€…å¯èƒ½å‘ç°å¡ç‰‡çš„å³ä¸‹è§’è¢«åˆ‡æ‰äº†ï¼Œé‚£ä¸æ˜¯æ®‹ç¼ºï¼Œè€Œæ˜¯ä¸ºäº†é¿å…æ”¾åè€Œä¸“é—¨è®¾è®¡çš„ï¼Œå’Œç°åœ¨çš„äºŒç»´ç åªæœ‰ 3 ä¸ªè§’æ˜¯ä¸€ä¸ªé“ç†ã€‚ è¿™ç±»å®ç”¨çš„ç»†èŠ‚è®¾è®¡åœ¨ç©¿å­”æœºä¸Šè¡¨ç°å¾—æ›´ä¸ºå‡ºè‰²ã€‚ä¸‹å›¾ä¸ºä¸€ä½æ“ä½œå‘˜æ­£åœ¨ä½¿ç”¨ç©¿å­”æœºç»™å¡ç‰‡æ‰“å­”çš„æƒ…æ™¯ï¼Œå¥¹å¹¶ä¸éœ€è¦åœ¨å¡ç‰‡ä¸ŠåƒåŠ›åœ°æœå¯»å­”ä½ï¼Œè€Œæ˜¯ç›´æ¥å¯¹ç€å­”è·æ›´å¤§çš„æ“ä½œé¢æ¿æ‰“å­”ï¼Œä¸€æ ¹æ æ†å°†ä¸¤è€…çš„å­”ä½ä¸€ä¸€å¯¹åº”ã€‚æ“ä½œé¢æ¿è¿˜åšæˆäº†å¼§å½¢ï¼Œé¢‡æœ‰ä¸€åˆ†å¦‚ä»Šäººä½“å·¥ç¨‹å­¦é”®ç›˜çš„é£å§¿ã€‚ åœ¨åˆ¶è¡¨æœºå‰ï¼Œç©¿å­”å¡ç‰‡ï¼ˆæˆ–çº¸å¸¦ï¼‰å¤šç”¨äºå­˜å‚¨æŒ‡ä»¤è€Œä¸æ˜¯æ•°æ®ã€‚æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ï¼Œä¸€æ˜¯é›…å¡å°”æèŠ±æœºï¼Œç”¨ç©¿å­”å¡ç‰‡æ§åˆ¶ç»çº¿ææ²‰ï¼›äºŒæ˜¯è‡ªåŠ¨é’¢ç´ï¼Œç”¨ç©¿å­”çº¸å¸¦æ§åˆ¶ç´é”®å‹æ”¾ã€‚ç¾å‰§ã€Šè¥¿éƒ¨ä¸–ç•Œã€‹ä¸­ï¼Œæ¯æ¬¡æ•…äº‹å¾ªç¯çš„å¼€å§‹ï¼Œéƒ½ä¼šç»™ä¸€ä¸ªè‡ªåŠ¨é’¢ç´çš„ç‰¹å†™ï¼Œå¼¹å¥èµ·çœ‹ä¼¼å®é™å®‰é€¸ã€å®åˆ™è¯¡å¼‚è¿å’Œçš„èƒŒæ™¯ä¹ã€‚ æ˜¯éœå°”ç‘æ–¯å°†ç©¿å­”å¡ç‰‡ä½œä¸º æ•°æ®å­˜å‚¨ä»‹è´¨ å¼€æ¥ï¼Œå¹¶å¼€å¯äº†ä¸€ä¸ªå´­æ–°çš„ æ•°æ®å¤„ç†çºªå…ƒã€‚åæ¥äººä»¬ä¹ŸæŠŠè¿™ç±»å¡ç‰‡ç§°ä¸ºéœå°”ç‘æ–¯å¡ç‰‡ï¼Œç©¿å­”å¡ç‰‡å’Œç©¿å­”çº¸å¸¦ä½œä¸ºè¾“å…¥è¾“å‡ºè½½ä½“ï¼Œç»Ÿæ²»äº†è®¡ç®—é¢†åŸŸæ•´æ•´ä¸€ä¸ªä¸–çºªã€‚ å•å…ƒè®°å½•æ—¶ä»£åœ¨åˆ¶è¡¨æœºçš„é«˜æ•ˆè¿è½¬ä¸‹ï¼Œ1890 å¹´çš„äººå£æ™®æŸ¥åªèŠ±äº† 6 å¹´æ—¶é—´ã€‚1896 å¹´ï¼Œéœå°”ç‘æ–¯æˆç«‹åˆ¶è¡¨æœºå…¬å¸ï¼ˆThe Tabulating Machine Companyï¼‰å¹¶ä¸æ–­æ”¹è¿›è‡ªå·±çš„äº§å“ï¼Œå…ˆåä¸è‹±å›½ã€æ„å¤§åˆ©ã€å¾·å›½ã€ä¿„ç½—æ–¯ã€æ¾³å¤§åˆ©äºšã€åŠ æ‹¿å¤§ã€æ³•å›½ã€æŒªå¨ã€ç¾å›½æ³¢å¤šé»å„ã€å¤å·´ã€è²å¾‹å®¾ç­‰å¤šä¸ªå›½å®¶å’Œåœ°åŒºåˆä½œå¼€å±•äº†äººå£æ™®æŸ¥ã€‚ åˆ° 1914 å¹´ï¼Œåˆ¶è¡¨æœºå…¬å¸æ¯å¤©ç”Ÿäº§çš„ç©¿å­”å¡ç‰‡å¤šè¾¾ 200 ä¸‡å¼ ã€‚ä¸å¤šä¹…ï¼Œä¸€äº›ç«äº‰å¯¹æ‰‹é€æ¸èµ·å®¶ï¼Œå†å²è¿æ¥äº†ç¹è£çš„æ•°æ®å¤„ç†æ—¶ä»£ã€‚å®ƒä»¬çš„äº§å“ä¹Ÿä¸å†å±€é™äºäººå£æ™®æŸ¥ï¼Œé€æ¸æ‰©å±•åˆ°ä¼šè®¡ã€åº“å­˜ç®¡ç†ç­‰ä¸€äº›åŒæ ·éœ€è¦è·Ÿå¤§æ•°æ®æ‰“äº¤é“çš„é¢†åŸŸï¼Œè¿™äº›æœºå™¨ä½œä¸ºåˆ¶è¡¨æœºçš„åè£”è¢«ç»Ÿç§°ä¸ºå•å…ƒè®°å½•è®¾å¤‡ï¼ˆunit record equipmentï¼‰ã€‚ å›´ç»•ç©¿å­”å¡ç‰‡çš„åˆ¶å¡ã€è¯»å¡ã€æ•°æ®å¤„ç†å’Œå¡ç‰‡åˆ†ç±»æ˜¯å®ƒä»¬çš„æ ‡å‡†åŠŸèƒ½ï¼Œç©¿å­”æœºã€è¯»å¡å™¨ã€åˆ†ç±»å™¨æ˜¯å®ƒä»¬çš„æ ‡å‡†é…ç½®ã€‚è¿™äº›éƒ¨ä»¶çš„è‡ªåŠ¨åŒ–ç¨‹åº¦è¶Šæ¥è¶Šé«˜ï¼Œæ¯”å¦‚æ‰‹åŠ¨çš„è¯»å¡è£…ç½®å¾ˆå¿«è¢«è‡ªåŠ¨è¯»å¡æœºæ‰€å–ä»£ï¼Œè¯»å¡é€Ÿåº¦ä»æ¯åˆ†é’Ÿ 100 å¼ é€æ­¥æé«˜è‡³æ¯åˆ†é’Ÿ 2000 å¼ ã€‚éšç€è¯†åˆ«ç²¾åº¦çš„æé«˜ï¼Œå¡ç‰‡çš„å­”è·ä¹Ÿè¶Šæ¥è¶Šå°ï¼Œå…·æœ‰ 80ï½90 åˆ—å­”ä½çš„å¡ç‰‡æˆä¸ºä¸»æµï¼Œæœ‰äº›å¡ç‰‡çš„å­”ä½ç”šè‡³å¤šè¾¾ 130 åˆ—ã€‚ æœºå™¨çš„åŠŸèƒ½ä¹Ÿé€æ¸å¼ºå¤§ï¼Œä¸å†åªæ˜¯ç®€å•åœ°ç»Ÿè®¡ç©¿å­”æ•°ç›®ï¼Œå‡æ³•ã€ä¹˜æ³•ç­‰è¿ç®—èƒ½åŠ›é™†ç»­ç™»åœºã€‚1928 å¹´ï¼Œå“¥ä¼¦æ¯”äºšå¤§å­¦çš„ç§‘å­¦å®¶ä»¬ç”šè‡³ç”¨å•å…ƒè®°å½•è®¾å¤‡è®¡ç®—æœˆçƒçš„è¿è¡Œè½¨è¿¹ï¼Œä»–ä»¬åœ¨ 50 ä¸‡å¼ å¡ç‰‡ä¸Šæ‰“äº† 2000 ä¸‡ä¸ªå­”ï¼Œå½°æ˜¾ç€å•å…ƒè®°å½•è®¾å¤‡çš„æ— é™æ½œåŠ›ã€‚ æœºå™¨çš„ç”µè·¯å®ç°è¶Šæ¥è¶Šå¤æ‚ï¼Œä½†åŒæ—¶ä¹Ÿè¶Šæ¥è¶Šé€šç”¨ã€‚1890 å¹´æ‰€ç”¨çš„é‚£å°åˆ¶è¡¨æœºçš„ çº¿è·¯æ˜¯å›ºå®šçš„ï¼Œé‡åˆ°æ–°çš„ç»Ÿè®¡ä»»åŠ¡ï¼Œæ”¹é€ èµ·æ¥ååˆ†éº»çƒ¦ã€‚ 1906 å¹´ï¼Œéœå°”ç‘æ–¯ä¾¿å¼•å…¥äº†æ¥æ’çº¿æ¿ï¼ˆplugboardï¼‰â€”â€”ä¸€å—å¸ƒæ»¡å¯¼ç”µå­”çš„æ¿å¡ï¼Œå¯é€šè¿‡æ”¹å˜å¯¼çº¿æ’è„šåœ¨æ¿ä¸Šçš„ä½ç½®æ”¹å˜çº¿è·¯é€»è¾‘ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œæ¥æ’çº¿æ¿çš„å†…éƒ¨å·²ç»å¸ƒå¥½äº†å…·æœ‰å„ç§åŠŸèƒ½çš„çº¿è·¯ï¼Œä½†å®ƒä»¬éƒ½å¤„åœ¨æ–­å¼€çŠ¶æ€ï¼Œå„è‡ªè¿æ¥ç€æ¥æ’çº¿æ¿ä¸Šçš„æŸä¸¤ä¸ªå­”ä½ï¼Œåƒä¸€çªå—·å—·å¾…å“ºçš„å°é¸Ÿé•¿å¤§ç€å˜´å·´ï¼Œå¤–éƒ¨çš„å¯¼çº¿å°±åƒç¾å‘³çš„è™«å­ï¼Œå½“è™«å­çš„å¤´å°¾åˆ†åˆ«ä¸å°é¸Ÿçš„ä¸Šå–™å’Œä¸‹å–™æ¥è§¦ï¼Œçº¿è·¯å°±è¢«å¯¼é€šï¼Œè¿™åªå°é¸Ÿå°±å¼€å§‹å·¥ä½œäº†ã€‚å¦‚æ­¤ï¼Œæ¯æ¬¡ä½¿ç”¨å°±å¯ä»¥æ¿€æ´»ä¸åŒçš„ â€œå°é¸Ÿâ€ï¼Œä»è€Œå®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚è¿™å·²ç»æ˜¯ä¸€ç§å¯ç¼–ç¨‹æ€§çš„ä½“ç°ã€‚ 1911 å¹´ï¼Œåˆ¶è¡¨æœºå…¬å¸ä¸å¦å¤– 3 å®¶å…¬å¸åˆå¹¶æˆç«‹ CTR å…¬å¸ ï¼ˆComputing-Tabulating-Recording Companyï¼‰ï¼Œåˆ¶è¡¨æœºå…¬å¸ä½œä¸ºå…¶å­å…¬å¸ç»§ç»­è¿è¥åˆ° 1933 å¹´ã€‚ 1924 å¹´ï¼ŒCTR æ›´åä¸º å›½é™…å•†ä¸šæœºå™¨å…¬å¸ï¼ˆInternational Business Machines Corporationï¼‰ï¼Œå°±æ˜¯ç°åœ¨å¤§åé¼é¼çš„ IBM å…¬å¸ã€‚å¯è§ï¼Œåœ¨å¦‚ä»Šä¼—å¤šå¹´è½»çš„ IT å…¬å¸ä¸­ï¼Œæ‹¥æœ‰ç™¾å¹´å†å²çš„ IBM æ˜¯ä½å½“ä¹‹æ— æ„§çš„å‰è¾ˆï¼Œå®ƒå®Œæ•´åœ°å‚ä¸å’Œè§è¯äº†æ•´ä¸ªç°ä»£è®¡ç®—æœºçš„å‘å±•å²ã€‚IBM ä¿æŒäº†åˆ¶è¡¨æœºå…¬å¸åœ¨å•å…ƒè®°å½•å¸‚åœºçš„é¾™å¤´åœ°ä½ï¼Œåˆ° 1955 å¹´ï¼Œå…¶æ¯å¤©ç”Ÿäº§çš„ç©¿å­”å¡ç‰‡å¤šè¾¾ 7250 ä¸‡å¼ ã€‚ 1937 å¹´å¼€å§‹ï¼Œå•å…ƒè®°å½•è®¾å¤‡é€æ­¥ç”µå­åŒ–ï¼Œä¸ç”µå­è®¡ç®—æœºçš„ç•Œçº¿æ¸æ¸æ¨¡ç³Šï¼Œå¹¶æœ€ç»ˆä¸ºåè€…è®©è·¯ã€‚éšç€ 1976 å¹´ IBM ä¸€å‹æœ€æ ¸å¿ƒçš„å•å…ƒè®°å½•äº§å“çš„åœäº§ï¼ŒçŸ­æš‚çš„å•å…ƒè®°å½•æ—¶ä»£ä¹Ÿå®£å‘Šè°¢å¹•ï¼Œå®ƒä»¿ä½›æ˜¯ç”µå­è®¡ç®—æ—¶ä»£æ¥ä¸´å‰çš„é¢„æ¼”å’Œé“ºå«ï¼Œè®¸å¤šè®¾è®¡è¢«æ²¿ç”¨ä¸‹æ¥ï¼Œæ¯”å¦‚ç©¿å­”å¡ç‰‡å’Œæ¥æ’çº¿æ¿ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œå³ä½¿ç”µå­è®¡ç®—æœºé€æ¸æ™®åŠï¼Œè®¸å¤šæœºæ„ç”±äºç”¨æƒ¯äº†å•å…ƒè®°å½•è®¾å¤‡ï¼Œè¿Ÿè¿Ÿä¸æ„¿æ›´æ¢ï¼Œå°‘æ•°æœºæ„ç”šè‡³ä¸€ç›´ç”¨åˆ°äº† 21 ä¸–çºªã€‚ ä¸€å¥è¯æ€»ç»“ç¼–ç¨‹èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³ä¸€äº›éå¸¸å®é™…çš„é—®é¢˜ï¼Œç”¨ä¸€ç§éå¸¸é…·çš„æ–¹å¼ã€‚ æ„Ÿå…´è¶£ä¹Ÿå¯ä»¥æ‰©å±•é˜…è¯»ä¸€ä¸‹ï¼šæ”¹å˜ä¸–ç•Œçš„ä»£ç è¡Œ Part 2. äºŒè¿›åˆ¶å’Œ CPU åŸç† | ç¼–ç ä¸­è•´è—çš„æ™ºæ…§ åŸæ–‡åœ°å€ï¼šã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç† åŸæ¥ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·è®¡æ•°çš„åœ¨è®¨è®ºã€ŒäºŒè¿›åˆ¶ã€å’Œã€ŒCPU å¦‚ä½•å·¥ä½œã€ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¨è®ºä¸€ä¸‹æˆ‘ä»¬ç”Ÿæ´»ä¸­æœ€ç¨€ç–å¹³å¸¸çš„ æ•°å­—ï¼Œæˆ‘ä»¬ä¸ä¹‹é¢‘ç¹åœ°æ‰“äº¤é“ï¼šä¸€ä¸ªçº¦å®šçš„æ—¶é—´ã€ä¸€ä»¶å•†å“çš„ä»·æ ¼ã€ä¸€ä¸ªäººçš„èº«é«˜â€¦.å´å¾ˆå°‘æœ‰äººç»†ç»†æƒ³è¿‡ï¼Œè¿™äº›æ•°å­—æ˜¯å¦‚ä½•è¡¨è¾¾å‡ºæ¥çš„ï¼Ÿä¸ºä»€ä¹ˆä½ ç†æ‰€å½“ç„¶åœ°æŠŠ 1024 ç†è§£ä¸ºã€Œä¸€åƒé›¶äºŒåå››ã€è€Œä¸æ˜¯åˆ«çš„å«ä¹‰ï¼Ÿ ä¹Ÿè®¸ä½ ä»æœªæƒ³è¿‡ï¼Œåœ¨è¿™ç®€å•çš„è®°æ•°ä¸­ï¼Œæ²‰æ·€ç€äººç±»çš„å¤§æ™ºæ…§ã€‚ ä¸€è¿›åˆ¶è®¡æ•°æ³•æ—©åœ¨æ•°å­—çš„æ¦‚å¿µäº§ç”Ÿä¹‹å‰ï¼Œäººç±»å°±å­¦ä¼šäº†ä½¿ç”¨æ ‘æã€çŸ³å­ã€è´å£³ç­‰è‡ªç„¶ç•Œéšå¤„å¯è§çš„å°ç‰©ä»¶è¡¨ç¤ºçŒç‰©çš„ã€æœå®çš„ã€éƒ¨è½äººå£çš„æ•°é‡ã€‚æ¯”å¦‚åœ¨æŸä¸ªè§’è½å †ä¸Šä¸€å †çŸ³å­ï¼Œæ¯æ‰“åˆ° 1 åªçŒç‰©ï¼Œå°±æ‰” 1 é¢—çŸ³å­è¿›å»ï¼Œæ¯åƒæ‰ 2 åªçŒç‰©ï¼Œå°±ä»ä¸­å–èµ° 2 é¢—çŸ³å­ã€‚ä»–ä»¬å¹¶ä¸åœ¨æ„çŸ³å­çš„æ€»æ•°ï¼Œåªæ˜¯æ—¶ä¸æ—¶åœ°ç…ä¸€çœ¼ï¼Œå¿ƒåº•å¤§è‡´æœ‰æ•°ã€‚ å…¶å®è¿™æ˜¯ä¸€ç§æœ€æœ´ç´ çš„è®°æ•°æ–¹å¼ï¼Œæ•°å­¦å®¶ç§°ä¹‹ä¸º ä¸€è¿›åˆ¶è®°æ•°æ³•ï¼ˆunary numeral systemï¼‰ã€‚æˆ‘ä»¬æŠŠå®ƒç¬¦å·åŒ–ä¸€ä¸‹ï¼Œæ¯”å¦‚ç”¨æ–œæ  / æ¥è¡¨ç¤ºï¼š 1 å°±æ˜¯ /ï¼› 2 å°±æ˜¯ //ï¼› 4 å°±æ˜¯ ////ï¼› å¥½åƒæ²¡æ¯›ç—…ï¼Œæˆ‘ä»¬å¹³æ—¶æ°æ‰‹æŒ‡ç”¨çš„å°±æ˜¯è¿™ç§è®°æ•°æ³•ï¼Œä½†æ•°å­—ä¸€å¤§ï¼Œåœºé¢å°±è¦å¤±æ§äº†ã€‚ ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ä¸ºäº†è§£å†³è®°å½•å¤§æ•°çš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬å¾—å‘æ˜ä¸€äº›å…¶ä»–ç¬¦å·æ¥è¡¨ç¤ºæ›´å¤§çš„æ•°å€¼ï¼Œæ¯”å¦‚ç”¨æ¨ªæ  - è¡¨ç¤º 10ï¼Œç”¨åå­— + è¡¨ç¤º 100ã€‚é‚£ä¹ˆï¼š 16 å°±æ˜¯ -//////; 32 å°±æ˜¯ ---//; 128 å°±æ˜¯ +--////////; æ¼‚äº®â€¦.è¿™ç§é ç¬¦å·ç±»å‹å’Œç¬¦å·æ•°é‡è¡¨ç¤ºæ•°å­—çš„æ–¹æ³•è¢«ç§°ä¸º ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ï¼ˆsign-value notationï¼‰ï¼Œå¤åŸƒåŠå’Œå¤ç½—é©¬ç”¨çš„éƒ½æ˜¯å®ƒï¼Œåªä¸è¿‡ç¬¦å·å„ä¸ç›¸åŒã€‚ å¤åŸƒåŠçš„è®°æ•°ç¬¦å·ï¼š 1 10 100 1000 10000 100000 1000000 1024 åœ¨å¤åŸƒåŠå°±å†™ä½œï¼š ä½ ä¼šå‘ç°ï¼Œç¬¦å€¼ç›¸åŠ è®°æ•°æ³•çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯ï¼Œç¬¦å·çš„é¡ºåºå¯ä»¥ä»»æ„æ‰“ä¹±ï¼Œæ•°å­—å«ä¹‰ä¸å—å½±å“ã€‚æˆ‘å›½è—æ—æ›¾ç”¨çŸ³å­è¡¨ç¤º 1ã€æœ¨æ£è¡¨ç¤º 10ã€æœæ ¸è¡¨ç¤º 100ã€èš•è±†è¡¨ç¤º 1000ã€ç“¦ç‰‡è¡¨ç¤º 10000ï¼Œé‚£ä¹ˆï¼Œå½“ä½ æŠŠ 1 é¢—èš•è±†ã€2 æ ¹æœ¨æ£å’Œ 4 é¢—çŸ³å­èƒ¡ä¹±åœ°æ”¥åœ¨æ‰‹é‡Œï¼Œåˆ«äººä¾ç„¶çŸ¥é“å®ƒä»¬æ˜¯ 1024ã€‚ å¤ç½—é©¬çš„åšæ³•ç•¥æœ‰ä¸åŒï¼Œä»–ä»¬å¯¹äº”è¿›åˆ¶æƒ…æœ‰ç‹¬é’Ÿï¼š 1 5 10 50 100 500 1000 I V X L C D M è¿™äº›ç¬¦å·æ²¿ç”¨è‡³ä»Šï¼Œæƒ³å¿…å¤§å®¶ï¼ˆè‡³å°‘å¯¹å‰ 3 ä¸ªï¼‰éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œè®¸å¤šé’Ÿè¡¨ä»ä¿ç•™ç€ä½¿ç”¨ç½—é©¬æ•°å­—çš„ä¹ æƒ¯ï¼Œ1~12 åˆ†åˆ«è¡¨ç¤ºä¸ºï¼šIã€IIã€IIIã€IVã€Vã€VIã€VIIã€VIIIã€IXã€Xã€XIã€XIIã€‚ä½ ä¼šå‘ç°ï¼Œç½—é©¬è®°æ•°æ³•æ˜¯ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•çš„å˜ç§ï¼Œå› ä¸ºå®ƒä¸å…‰ã€Œç›¸åŠ ã€ï¼Œè¿˜ã€Œç›¸å‡ã€ã€‚è¿™ç§æ–¹å¼å°±ä¸å…è®¸ç¬¦å·ä¹±åºäº†ï¼ŒIV å’Œ VI è¡¨ç¤ºçš„æ˜¯ä¸åŒçš„æ•°å­—ã€‚ é‚£ç½—é©¬äººä½•è‹¦è¦ä½¿ç”¨è¿™ç§æ›´å¤æ‚çš„è®°æ•°æ³•å‘¢ï¼Ÿæ— éæ˜¯ä¸ºäº†è¯»å†™æ–¹ä¾¿ã€‚åŒæ ·è¡¨ç¤º 9ï¼ŒIX æ¯” VIIII æ›´ç®€æ´ã€‚ å…¶å®æœ‰ä¸€ç§æ›´å¥½ä½¿çš„æ–¹æ³•â€”â€”ç”¨å¦å¤–ä¸€äº›åˆ—ç¬¦å·æ¥è¡¨ç¤ºç¬¦å·çš„æ•°é‡ã€‚æ¯”å¦‚ç”¨ A è¡¨ç¤º 1 ä¸ªç¬¦å·ï¼Œç”¨ B è¡¨ç¤º 2 ä¸ªç¬¦å·ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç”¨ I è¡¨ç¤º 9 ä¸ªç¬¦å·ã€‚ å¦‚æ­¤ï¼Œä¸Šæ–‡è¡¨ç¤º 256 çš„ ++-----////// å°±å¯ä»¥å†™ä½œ B+E-F/ã€‚ä½ ä¸€å®šæ„Ÿè§‰è«åå…¶å¦™ï¼Œè¿™ç§å†™æ³•å“ªé‡Œæ–¹ä¾¿äº†ã€‚å…¶å®ä¸­æ–‡çš„æ•°å­—è¡¨ç¤ºå°±æ˜¯è¿™ç§å½¢å¼ï¼Œåªä¸è¿‡æˆ‘ä»¬ç”¨å¾—å¤ªä¹ æƒ¯äº†ï¼Œä»¥è‡³äºæ²¡æœ‰å‘ç°ã€‚ åœ¨ä¸­æ–‡ä¸­ï¼Œä¸ªã€åã€ç™¾ ä»£æ›¿äº† /ã€-ã€+ï¼Œè€Œ ä¸€ã€äºŒã€ä¸‰ ä»£æ›¿äº† Aã€Bã€Cã€‚256 å°±å†™ä½œ äºŒç™¾äº”åå…­ä¸ªï¼Œä¸ª æ¯”è¾ƒç´¯èµ˜ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠå®ƒçœç•¥äº†ã€‚ å…¶å®åƒæ—¥è¯­ã€è‹±è¯­ç”¨çš„ä¹ŸåŒæ ·æ˜¯è¿™ç§è®°æ•°æ³•ï¼Œç®€æ´ã€ä¼˜é›…ã€‚ ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œè¿™ç§å½¢å¼è™½ä¾¿äºè¯»å†™ï¼Œå´ä¸ä¾¿äºè®¡ç®—ã€‚ä¸­å›½å¤äººä¸ºç®—ç­¹å’Œç®—ç›˜è¿™ç±»ç»å…¸ç®—å…·æ­å»ºèµ·å¹¿é˜”çš„èˆå°ï¼Œå´æ²¡ç»™ç¬”ç®—ç•™å‡ºä¸€å¸­ä¹‹åœ°ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè®©ä½ æŠŠè¿™äº›æ±‰å­—å†™åœ¨è‰ç¨¿çº¸ä¸Šï¼Œåˆ—ä¸ªç«–å¼ï¼Œä½ çš„å†…å¿ƒä¸€å®šéå¸¸åˆ«æ‰­ã€‚ ä½å€¼åˆ¶è®°æ•°æ³•å…¬å…ƒ5ä¸–çºªï¼Œå°åº¦æ•°å­¦å®¶é˜¿è€¶æ³¢å¤šï¼ˆAryabhata 476â€“550ï¼‰åˆ›ç«‹äº†ç°åœ¨å¹¿æ³›ä½¿ç”¨çš„ ä½å€¼åˆ¶è®°æ•°æ³•ï¼ˆpositional notation/place-value notationï¼‰ï¼Œè¯¥è®°æ•°æ³•ä½¿ç”¨çš„ä¸»è¦ç¬¦å·ï¼Œæ˜¯åŒä¸ºå°åº¦äººå‘æ˜çš„é˜¿æ‹‰ä¼¯æ•°å­—ï¼š0ã€1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€‚ ä¸ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ç±»æ¯”ï¼Œä½å€¼åˆ¶ä¸­çš„ 1ã€2ã€3 ä»£æ›¿çš„æ˜¯ Aã€Bã€Cï¼Œé‚£ /ã€-ã€+ å‘¢ï¼Ÿæ˜¯ é é˜¿æ‹‰ä¼¯æ•°å­—çš„ä½ç½®æ¥è¡¨ç¤ºçš„ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæœ€å³ä½ç›¸å½“äº /ï¼Œæ¬¡å³ä½ç›¸å½“äº -ã€‚é æ¯ä¸ªä½ç½®ä¸Šçš„æ•°å€¼æ¥è¡¨ç¤ºæ•°å­—ï¼Œæ•…åä½å€¼åˆ¶ã€‚ ä¸¥è°¨çš„æ•°å­¦å®¶ç”¨ä¸€ç§å¤šé¡¹å¼é«˜åº¦æ¦‚æ‹¬äº†ä½å€¼åˆ¶è®°æ•°æ³•çš„æœ¬è´¨ï¼Œåœ¨åè¿›åˆ¶ä¸­ï¼Œè¿™ä¸ªå¤šé¡¹å¼æ˜¯è¿™æ ·çš„ï¼š è¿™æ˜¯ä¸€ä¸ª n ä½åè¿›åˆ¶æ•°ï¼Œai å°±æ˜¯ç¬¬ i ä½ä¸Šçš„æ•°å€¼ã€‚ä¸ºä¾¿äºç›´è§‚ç†è§£ï¼Œä¸¾ä¸ª 1024 çš„ä¾‹å­å§ï¼š ç”±äºæˆ‘ä»¬ç†Ÿæ‚‰äº†åè¿›åˆ¶ï¼Œè¿™æ ·è´¹å¿ƒè´¹åŠ›çš„å±•å¼€å¯èƒ½ä¼šè®©ä½ è§‰å¾—å¥½ç¬‘ï¼Œä½†å½“æˆ‘ä»¬æŠŠå®ƒæ¨å¹¿åˆ°å…¶ä»–è¿›åˆ¶æ—¶ï¼Œè¿™ä¸ªå¤šé¡¹å¼çš„ä»·å€¼å°±ä½“ç°äº†å‡ºæ¥ã€‚n ä½ b è¿›åˆ¶æ•°çš„ä½å€¼åˆ¶è¡¨ç¤ºï¼š 1024 ç”¨äºŒè¿›åˆ¶æ€ä¹ˆè¡¨ç¤ºï¼Ÿ å› æ­¤ï¼Œ1024 çš„äºŒè¿›åˆ¶å†™ä½œ 10000000000ã€‚ é™¤äº†æœ€æ™®éçš„åè¿›åˆ¶å’Œè®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶ï¼Œå¸¸è§çš„è¿˜æœ‰ä¸ƒè¿›åˆ¶ï¼ˆå¦‚ 1 å‘¨ 7 å¤©ï¼‰ã€åäºŒè¿›åˆ¶ï¼ˆå¦‚ 1 å¹´ 12 ä¸ªæœˆï¼‰ã€åå…­è¿›åˆ¶ï¼ˆå¦‚å¤ä»£ 1 æ–¤ 16 ä¸¤ï¼‰ã€å…­åè¿›åˆ¶ï¼ˆå¦‚å…­åç”²å­ï¼‰ç­‰ç­‰ï¼Œåªè¦æœ‰æ„ä¹‰ï¼Œä»»ä½•è¿›åˆ¶éƒ½å¯ä»¥ä¸ºä½ æ‰€ç”¨ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨äºŒè¿›åˆ¶è‡³æ­¤ï¼Œä½ å¯¹ã€ŒäºŒè¿›åˆ¶ã€æˆ–è®¸ä¸å†é‚£ä¹ˆé™Œç”Ÿï¼Œå®ƒä»…ä»…æ˜¯æ•°åˆ¶çš„ä¸€ç§è€Œå·²ã€‚ å¯ä¸ºä»€ä¹ˆä¸€å®šæ˜¯äºŒè¿›åˆ¶å‘¢ï¼Ÿä½¿ç”¨äººç±»ä¹ æƒ¯çš„åè¿›åˆ¶ä¸å¥½å—ï¼Ÿ ç†ç”±ä¸€ï¼šç‰©ç†ä¸Šæ˜“äºå®ç°è®¡ç®—æœºä¾é ç”µåŠ›å·¥ä½œï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€éœ€è¦å°†æ•°å­—ä¿¡å·æ˜ å°„åˆ°ç”µä¿¡å·ï¼Œå®ç°è¿™ç§æ˜ å°„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼š 0 - æ²¡æœ‰ç”µï¼ˆ0 Vï¼‰ 1 - æœ‰ç‚¹ï¼ˆ5 Vï¼‰ äºŒè¿›åˆ¶åœ¨æŠ€æœ¯ä¸Šæœ€å®¹æ˜“å®ç°ã€‚è¿™æ˜¯å› ä¸ºå…·æœ‰ä¸¤ç§ ç¨³å®šçŠ¶æ€ çš„ç‰©ç†å™¨ä»¶å¾ˆå¤šï¼Œå¦‚é—¨ç”µè·¯çš„å¯¼é€šä¸æˆªæ­¢ã€ç”µå‹çš„é«˜ä¸ä½ç­‰ï¼Œè€Œå®ƒä»¬æ°å¥½å¯ä»¥å¯¹åº”è¡¨ç¤º â€œ1â€ å’Œ â€œ0â€ è¿™ä¸¤ä¸ªæ•°ç ã€‚å‡å¦‚é‡‡ç”¨åè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±è¦åˆ¶é€ å…·æœ‰ 10 ç§ ç¨³å®šçŠ¶æ€ çš„ç‰©ç†ç”µè·¯ï¼Œè€Œè¿™æ˜¯éå¸¸å›°éš¾çš„ã€‚ ç†ç”±äºŒï¼šæœºå™¨å¯é æ€§é«˜ä¸ºä»€ä¹ˆä½¿ç”¨æ›´å¤æ‚çš„æ•°å­—ç³»ç»Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ å‡è®¾æˆ‘ä»¬ä½¿ç”¨ä¸‰å…ƒï¼ˆ3 ä½æ•°å­—ï¼‰æ•°å­—ç³»ç»Ÿæ¶‰åŠè®¡ç®—æœºï¼Œå¦‚æœæˆ‘ä»¬å…·æœ‰ä» 0 V åˆ° 5 V çš„ç”µå‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿›è¡Œä»¥ä¸‹çš„æ˜ å°„ï¼š 0 - 0 V; 1 - 2.5 V; 2 - 5 V; å›¾ç‰‡æ¥æºï¼šhttps://pmihaylov.com/intro-binary-numbers/ çœ‹èµ·æ¥åˆç†å§ï¼Ÿä½†æ˜¯ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¥ 2.5 V çš„ç”µå‹å‘é€äº†ä¸€ä¸ªæ•°å­—ã€‚ä½†æ˜¯ç”±äºç”µè·¯ä¸­çš„ä¸€äº›å™ªå£°ï¼Œæˆ‘åœ¨è¾“å‡ºç«¯å¾—åˆ° 2.3 V çš„ç”µå‹ï¼Œå› æ­¤å°†å…¶è§†ä¸º 0ã€‚ç»“æœæ˜¯ï¼Ÿ æœ‰äººç»™æˆ‘å‘é€äº† 1ï¼Œä½†æˆ‘å°†å…¶è§†ä¸º 0ã€‚æ•°æ®ä¸¢å¤±å¯æ˜¯ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ã€‚ ä½¿ç”¨äºŒè¿›åˆ¶åˆ™å¯é å¾—å¤šï¼Œç”±äºç”µå‹çš„é«˜å’Œä½ã€ç”µæµçš„æœ‰å’Œæ— ç­‰éƒ½æ˜¯ä¸€ç§ è´¨çš„å˜åŒ–ï¼Œä¸¤ç§ç‰©ç†çŠ¶æ€ç¨³å®šã€åˆ†æ˜ï¼Œå› æ­¤ï¼ŒäºŒè¿›åˆ¶ç ä¼ è¾“çš„æŠ—å¹²æ‰°èƒ½åŠ›å¼ºï¼Œé‰´åˆ«ä¿¡æ¯çš„å¯é æ€§é«˜ã€‚ ä¸ºä»€ä¹ˆè®¡ç®—æœºç³»ç»Ÿå¿…é¡»æœ‰æ—¶é’Ÿ å›¾ç‰‡æ¥æºï¼šhttp://programmedlessons.org/Java9/chap02/ch02_11.html å»ºç«‹æ•°å­—ç³»ç»Ÿçš„ç›®çš„æ˜¯ ä»…åœ¨æŸäº›æ—¶é—´ç‚¹æµ‹è¯•å¼€/å…³ï¼ˆäºŒè¿›åˆ¶ï¼‰å€¼ï¼Œè¿™ä½¿ç”µçº¿ï¼ˆæˆ–å…¶ä»–è®¾å¤‡ï¼‰æœ‰æ—¶é—´æ›´æ¢ã€‚è¿™å°±æ˜¯è®¡ç®—æœºç³»ç»Ÿæœ‰æ—¶é’Ÿçš„åŸå› ã€‚ æ—¶é’Ÿä¼šå‘¨æœŸæ€§åœ°è¿›è¡Œä¿¡å·çš„æµ‹é‡ï¼Œå›¾ä¸­æ‰€ç¤ºçš„ T1 å’Œ T2 å°±æ˜¯å¯ä»¥æµ‹é‡ä¿¡å·çš„æ—¶é—´ç‚¹ã€‚ æ—¶é’Ÿåˆ©ç”¨æ‰€æœ‰è¿™äº›æ—¶é—´ç‚¹æ¥ä¿æŒåŒæ­¥ã€‚æ›´å¿«çš„æ—¶é’Ÿæ„å‘³ç€æ¯ç§’å¯ä»¥å¯¹ç”µçº¿è¿›è¡Œæ›´å¤šæ¬¡æµ‹è¯•ï¼Œå¹¶ä¸”æ•´ä¸ªç³»ç»Ÿè¿è¡Œå¾—æ›´å¿«ã€‚2 GHz å¤„ç†å™¨æ¯ç§’æ£€æŸ¥äºŒè¿›åˆ¶å€¼ 20 äº¿æ¬¡ã€‚åœ¨è¿™äº›æ—¶é—´ä¹‹é—´ï¼Œå…è®¸å€¼æ”¹å˜å¹¶ç¨³å®šä¸‹æ¥ã€‚å¤„ç†å™¨èŠ¯ç‰‡é€Ÿåº¦è¶Šå¿«ï¼Œæ¯ç§’å¯ä»¥æµ‹è¯•çš„æ¬¡æ•°å°±è¶Šå¤šï¼Œæ¯ç§’å¯ä»¥åšå‡ºçš„å†³ç­–å°±è¶Šå¤šã€‚ ç†ç”±ä¸‰ï¼šè¿ç®—è§„åˆ™ç®€å•æ•°å­¦æ¨å¯¼å·²ç»è¯æ˜ï¼Œå¯¹ N è¿›åˆ¶æ•°è¿›è¡Œç®—æœ¯æ±‚å’Œæˆ–æ±‚ç§¯è¿ç®—ï¼Œå…¶è¿ç®—è§„åˆ™å„æœ‰ N(N+1)/2 ç§ã€‚å¦‚é‡‡ç”¨åè¿›åˆ¶ï¼Œåˆ™ N=10ï¼Œå°±æœ‰ 55 ç§æ±‚å’Œæˆ–æ±‚ç§¯çš„è¿ç®—è§„åˆ™ï¼›è€Œé‡‡ç”¨äºŒè¿›åˆ¶ï¼Œåˆ™ N=2ï¼Œä»…æœ‰ 3 ç§æ±‚å’Œæˆ–æ±‚ç§¯çš„è¿ç®—è§„åˆ™ï¼Œä»¥ä¸Šé¢æåˆ°çš„åŠ æ³•ä¸ºä¾‹ï¼š 0+0=0ï¼Œ0+1=1 (1+0=1)ï¼Œ1+1=10 å› è€Œå¯ä»¥å¤§å¤§ç®€åŒ–è¿ç®—å™¨ç­‰ç‰©ç†å™¨ä»¶çš„è®¾è®¡ã€‚ ç†ç”±å››ï¼šé€»è¾‘åˆ¤æ–­æ–¹ä¾¿é‡‡ç”¨äºŒè¿›åˆ¶åï¼Œä»…æœ‰çš„ä¸¤ä¸ªç¬¦å· â€œ1â€ å’Œ â€œ0â€ æ­£å¥½å¯ä»¥ä¸é€»è¾‘å‘½é¢˜çš„ä¸¤ä¸ªå€¼ â€œçœŸâ€ å’Œ â€œå‡â€ ç›¸å¯¹åº”ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°ä½¿ç”¨é€»è¾‘ä»£æ•°è¿™ä¸€æœ‰åŠ›å·¥å…·æ¥åˆ†æå’Œè®¾è®¡è®¡ç®—æœºçš„é€»è¾‘ç”µè·¯ã€‚ è™½ç„¶åœ¨ 1950 å¹´ä»£å°±é€ å‡ºäº†æ›´åŠ é«˜æ•ˆçš„ä¸‰å…ƒè®¡ç®—æœºï¼Œä½†åœ¨æ•ˆç‡å’Œå¤æ‚åº¦çš„å–èˆä¸Šï¼Œå§‹ç»ˆæŠµä¸è¿‡äºŒè¿›åˆ¶ã€‚äºŒè¿›åˆ¶ä»ç„¶åœ¨å½“ä»Šä¸–ç•Œä¸­é•¿æœŸå­˜åœ¨ã€‚ CPU çš„å®é™…å·¥ä½œæ–¹å¼ç®€å•æ¼”ç¤ºä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°è®¡ç®—æœºä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¿è¡Œï¼Œå®ƒä»¬åªæœ‰ä¸¤ç§çŠ¶æ€ï¼šå¼€ï¼ˆ1ï¼‰å’Œå…³ï¼ˆ0ï¼‰ï¼Œä¸ºäº†æ‰§è¡ŒäºŒè¿›åˆ¶è®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„ç”µå­å…ƒå™¨ä»¶ï¼Œç§°ä¸º ã€Œæ™¶ä½“ç®¡ã€ã€‚æš‚æ—¶æˆ‘ä»¬æŠŠå®ƒç†è§£ä¸ºä¸€ç§å¼€å…³å§ï¼Œé€šç”µå°±æ‰“å¼€ï¼Œæ²¡ç”µæµé€šè¿‡å°±å…³é—­ã€‚ åˆ©ç”¨ã€Œå¼€å…³ã€æ­å»ºé€»è¾‘ç”µè·¯æˆ‘ä»¬çŸ¥é“ï¼Œç»™ç”µç¯é€šä¸Šç”µï¼Œå®ƒå°±ä¼šäº®ï¼š äºæ˜¯ï¼Œç»“åˆä¸Šå¼€å…³ï¼Œæˆ‘ä»¬å°±èƒ½æ­å»ºå‡ºæœ€åŸºç¡€çš„ ä¸é—¨ å’Œ æˆ–é—¨ã€‚ ä¸é—¨ è¯¥ç”µè·¯çš„é€»è¾‘æ˜¯ï¼šåªæœ‰å½“ A å’Œ B åŒæ—¶å¼€å¯æ—¶ï¼ŒLED ç¯æ‰ä¼šäº®ï¼Œä¹Ÿå°±æ˜¯è®¤ä¸ºè¾“å‡º 1ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç”µä¿¡å·æ¥ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ï¼š A B Y 0 0 0 1 0 0 0 1 0 1 1 1 æˆ–é—¨ è¯¥ç”µè·¯çš„é€»è¾‘æ˜¯ï¼šå½“ A æˆ–è€… B å¼€å¯æ—¶ï¼ŒLED ç¯å°±ä¼šäº®ï¼Œä¹Ÿå°±æ˜¯è®¤ä¸ºè¾“å‡º 1ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç”µä¿¡å·æ¥ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ï¼š A B Y 0 0 0 1 0 1 0 1 1 1 1 1 å…¶ä»–é—¨ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ›´å¤šçš„ç”µå­å…ƒå™¨ä»¶æ¥åˆ›é€ å‡ºåŸºç¡€çš„ 7 ç§é€»è¾‘é—¨ç”µè·¯ï¼š å›¾ç‰‡æ¥æºï¼šhttps://www.zhihu.com/question/348237008/answer/843382847 | @Zign è¿™é‡Œéœ€è¦ç‰¹åˆ«æä¸€ä¸‹ å¼‚æˆ–é—¨ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“æœ‰ä¸€ç§ç”µå­å…ƒå™¨ä»¶å¯ä»¥åˆ©ç”¨ç”µæ°”ç‰¹æ€§å¯¹ è¾“å…¥å–åï¼Œä¹Ÿå°±æ˜¯è¯´è¾“å…¥ 1 åˆ™è¾“å‡º 0ï¼Œè¾“å…¥ 0 åˆ™è¾“å‡º 1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ ç®€å•æ¨¡æ‹Ÿ å‡ºå¼‚æˆ–é—¨é€»è¾‘ç”µè·¯ï¼ˆå®é™…ä¼šæ›´å¤æ‚äº›ï¼Œè¿™é‡Œä»…å±•ç¤ºå‡ºå¼‚æˆ–çš„æ„æ€ï¼‰ï¼š A&#39; å’Œ B&#39; åˆ†åˆ«è¡¨ç¤º A å’Œ B å¼€å…³çš„åå€¼ï¼Œä»å›¾ä¸­æˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“åªæœ‰å½“ Aã€B åªå­˜åœ¨ä¸€ä¸ªè¾“å…¥ 1 æ—¶ï¼Œæ•´ä¸ªç”µè·¯æ‰ä¼šè¾“å‡º 1ã€‚ åˆ©ç”¨é€»è¾‘é—¨åˆ¶ä½œç®€å•åŠ æ³•å™¨æ¼”ç¤ºOKï¼Œä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°æˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨ â€œå¼€å…³â€ æ¥æ¨¡æ‹Ÿé€»è¾‘çš„è¿ç®—ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¯•ç€è¿˜åŸä¸€ä¸ªç®€å•çš„åŠ æ³•è¿ç®—å™¨æ˜¯å¦‚ä½•å®ç°çš„ï¼š ä»…éœ€ä¸¤ä¸ªé—¨ï¼Œå°±å¯ä»¥å®ŒæˆåŸºæœ¬çš„äºŒè¿›åˆ¶åŠ æ³•è¿ç®—ã€‚ä¸Šå›¾æ˜¯åˆ©ç”¨ logic.ly åˆ›å»ºçš„åŠåŠ æ³•å™¨ï¼ŒAã€B ç›¸å½“äºä½¿æˆ‘ä»¬è®¡ç®—çš„ä¸¤ä¸ªæ•°ï¼Œæœ€åä¸€å—ç›¸å½“äºæ˜¯æˆ‘ä»¬çš„æ•°æ˜¾èŠ¯ç‰‡ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯æ ¹æ®è¾“å…¥æ˜¾ç¤ºæ•°å­—ï¼Œä»ä¸Šåˆ°ä¸‹çš„å¼•è„šï¼ˆä¹Ÿå°±æ˜¯å›¾ä¸­è¾“å…¥çš„åœ°æ–¹ï¼Œé€šå¸¸æˆ‘ä»¬è¿™æ ·ç§°å‘¼ï¼‰åˆ†åˆ«å¯¹åº”äº† 20=1ã€21=2ã€22=4ã€23=8 çš„è¾“å…¥ï¼Œæ²¡æœ‰ä»»ä½•è¾“å…¥æ—¶æ˜¾ç¤ºä¸º 0ï¼Œå¦‚æœ å¼•è„š 1ï¼ˆå¯¹åº” 20=1ï¼‰åƒä¸Šå›¾ä¸€æ ·æœ‰è¾“å…¥ï¼Œåˆ™æ˜¾ç¤º 0 + 1 = 1ã€‚ æˆ‘ä»¬æ¥ç†è§£ä¸€ä¸‹ä¸Šæ–¹çš„ç”µè·¯ï¼š å¦‚æœä»…æ‰“å¼€ä¸€ä¸ªè¾“å…¥ï¼Œä½†ä¸åŒæ—¶æ‰“å¼€ä¸¤ä¸ªè¾“å…¥ï¼Œåˆ™æ­¤å¤„çš„ XOR é—¨ï¼ˆå¼‚æˆ–é—¨ï¼‰å°†æ‰“å¼€ï¼Œæ­¤æ—¶å¯¹åº”è¾“å…¥ å¼•è„š 1ï¼Œæ˜¾ç¤º æ•°å­— 1ï¼ˆç±»ä¼¼äº 1 + 0 å’Œ 0 + 1)ï¼› å¦‚æœä¸¤ä¸ªè¾“å…¥å‡æ‰“å¼€ï¼Œåˆ™ AND é—¨(ä¸é—¨)å°†æ‰“å¼€ï¼Œæ­¤æ—¶å¯¹åº”è¾“å…¥ å¼•è„š 2ï¼Œæ˜¾ç¤º æ•°å­— 2ï¼ˆç±»ä¼¼äº 1 + 1ï¼‰ï¼› å¦‚æœæ²¡æœ‰è¾“å…¥ï¼Œåˆ™ AND é—¨å’Œ XOR é—¨éƒ½ä¿æŒå…³é—­ï¼Œæ­¤æ—¶æ˜¾ç¤º æ•°å­— 0ï¼ˆç±»ä¼¼äº 0 + 0ï¼‰ï¼› å› æ­¤ï¼Œå¦‚æœä¸¤ä¸ªéƒ½æ‰“å¼€ï¼Œåˆ™ XOR ä¿æŒå…³é—­ï¼Œå¹¶ä¸” AND é—¨æ‰“å¼€ï¼Œå¾—å‡ºæ­£ç¡®çš„ç­”æ¡ˆä¸º 2ï¼š ä½†è¿™åªæ˜¯æœ€åŸºç¡€çš„åŠåŠ æ³•è¿ç®—å™¨ï¼Œä¸æ˜¯å¤ªæœ‰ç”¨ï¼Œå› ä¸ºå®ƒåªèƒ½è§£å†³æœ€ç®€å•çš„æ•°å­¦é—®é¢˜ä¹‹ä¸€ã€‚ä½†å¦‚æœæˆ‘ä»¬æŠŠå®ƒä»¬ä¸¤ä¸ªä¸å¦ä¸€ä¸ªè¾“å…¥è¿æ¥ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„åŠ æ³•å™¨ï¼š ä»”ç»†æ€è€ƒå‡ éï¼Œä½ å°±ä¼šå¾—çŸ¥è¿™ä¸ªä¸‰ä¸ªè¾“å…¥çš„åŠ æ³•å™¨å·²ç»å¯ä»¥è®¡ç®— 3 ä¸ªäºŒè¿›åˆ¶æ•°å­—çš„åŠ æ³•è¿ç®—äº†ï¼Œæˆ‘ä»¬å¦‚æ³•ç‚®åˆ¶ï¼Œå¯ä»¥é€šè¿‡è¿æ¥æ›´å¤šçš„â€è¿›ä½â€æ¥ä½¿è¿™ä¸ªåŠ æ³•å™¨èƒ½å¤Ÿè¿ç®—æ›´å¤šçš„æ•°ï¼Œè¿™å½“ç„¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªè®¡ç®—é“¾æ¡æ›´é•¿ã€‚ å¤§å¤šæ•°å…¶ä»–æ•°å­¦è¿ç®—éƒ½å¯ä»¥åŠ æ³•å®Œæˆã€‚ä¹˜æ³•åªæ˜¯é‡å¤åŠ æ³•ï¼Œå‡æ³•å¯ä»¥é€šè¿‡ä¸€äº›å¥‡ç‰¹çš„ä½åè½¬æ¥å®Œæˆï¼Œè€Œé™¤æ³•åªæ˜¯é‡å¤å‡æ³•ã€‚å¹¶ä¸”ï¼Œå°½ç®¡æ‰€æœ‰ç°ä»£è®¡ç®—æœºéƒ½å…·æœ‰åŸºäºç¡¬ä»¶çš„è§£å†³æ–¹æ¡ˆä»¥åŠ å¿«æ›´å¤æ‚çš„æ“ä½œï¼Œä½†ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®Œæ•´çš„åŠ æ³•å™¨æ¥å®Œæˆå…¨éƒ¨æ“ä½œã€‚ ä¸€å¥è¯æ€»ç»“ç¼–ç ä¼´éšæ¢ç´¢å’Œå­¦ä¹ æ–°çŸ¥çš„è¿‡ç¨‹ï¼Œå¦‚æœæ„¿æ„ï¼Œæˆ‘ä»¬èƒ½ä»ä¸­è·å–å¾ˆå¤šç±»ä¼¼äºè§£å‡ºä¸€é“æ•°å­¦é¢˜çš„ä¹è¶£ã€‚ Part 3. æœºå™¨æŒ‡ä»¤åˆ°é«˜çº§è¯­è¨€ | ç«™åœ¨å…ˆé©±å·¨äººçš„è‚©è†€ åŸæ–‡åœ°å€ï¼šã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€ æœºå™¨æŒ‡ä»¤æˆ‘ä»¬å·²ç»äº†è§£äº† äºŒè¿›åˆ¶å’Œ CPU çš„åŸºæœ¬åŸç†ï¼ŒçŸ¥é“äº†ç¨‹åºè¿è¡Œæ—¶ï¼ŒCPU æ¯ç§’æ•°ä»¥äº¿æ¬¡ã€åäº¿æ¬¡ã€ç™¾äº¿æ¬¡åœ°éœ‡è¡ç€æ—¶é’Ÿï¼ŒåŒæ­¥æ‰§è¡Œç€å¾®å°çš„ ã€Œç”µå­æ“ä½œã€ï¼Œä¾‹å¦‚ï¼šä»å†…å­˜è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®åˆ° CPU åˆæˆ–è€…åˆ¤æ–­å­—èŠ‚ä¸­çš„æŸä¸€ä½æ˜¯ 0 è¿˜æ˜¯ 1ã€‚ CPU æœ¬èº«æœ‰ä¸€ç»„ è§„å®šå¥½çš„ å¯ä»¥æ‰§è¡Œçš„ ã€ŒåŸºæœ¬åŠ¨ä½œã€ï¼ˆè¢«ç§°ä¸º æœºå™¨æŒ‡ä»¤ï¼‰ï¼š è¯»å–æŒ‡ä»¤ï¼›2. æ‰§è¡ŒæŒ‡ä»¤ï¼›3. å†™å¯„å­˜å™¨ï¼› è¿™å‡ ä¹å°±æ˜¯ CPU å·¥ä½œçš„å…¨éƒ¨äº†ã€‚ è¿™äº›åŠ¨ä½œè™½ç„¶æ¯æ¬¡åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯æ¯ç§’å¯ä»¥æ‰§è¡Œæ•°åäº¿æ¬¡ï¼Œè¿™ä¸ªæ•°é‡çº§çš„ã€Œå°æ“ä½œã€ç´¯åŠ æˆä¸ºä¸€ä¸ªå¤§çš„ã€Œæœ‰ç”¨çš„æ“ä½œã€ã€‚ å¤„ç†å™¨æ‰€åšçš„ä¸€åˆ‡éƒ½æ˜¯åŸºäºè¿™äº›å¾®å°çš„æ“ä½œï¼å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å·²ç»ä¸å†éœ€è¦äº†è§£è¿™äº›æ“ä½œçš„è¯¦ç»†ä¿¡æ¯å°±å¯ä»¥ç¼–å†™å’Œä½¿ç”¨å„ç±»ç¨‹åºã€‚è¯¸å¦‚ Java è¿™ä¸€ç±»çš„ ã€Œé«˜çº§è¯­è¨€ã€ çš„ ç›®çš„ å°±æ˜¯ å°†è¿™äº›å¾®å°çš„ç”µå­æ“ä½œç»„ç»‡æˆç”±äººç±»å¯è¯»çš„ã€Œç¨‹åºè¯­è¨€ã€è¡¨ç¤ºçš„å¤§å‹æœ‰ç”¨å•å…ƒã€‚ å°½ç®¡æœºå™¨è¯­è¨€æœ‰ä¸€äº›åäººç±»ï¼Œä½†è‡³å°‘æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ¥ç¼–å†™ä»£ç äº†ï¼Œå¦‚ï¼š 00000001 00000010 00000001 00000100 00000100 00000000 ä¼¼ä¹çœ‹ç€è¿™ä¸€æ®µå„¿ä»£ç æœ‰ç‚¹è¿·ç³Šï¼Œå¹¶ä¸” å¯è¯»æ€§å¤ªå·®äº†ã€‚ å¦‚æ­¤ä½ å°±ä¼šæ„ŸçŸ¥åˆ° ä¸Šä¸ªä¸–çºª çš„ç¨‹åºå‘˜ä½¿ç”¨ æ‰“å­”å¡ç‰‡ï¼š ä½¿ç”¨ çº¸å¸¦ï¼š ç”šè‡³æ˜¯ ç›´æ¥æ’æ‹”çº¿è·¯ or æŒ‰ä¸‹å¼€å…³ï¼š æ˜¯ä¸€ä»¶å¤šä¹ˆç¡¬æ ¸çš„äº‹æƒ…â€¦ æ±‡ç¼–è¯­è¨€PU çš„æŒ‡ä»¤éƒ½æ˜¯ äºŒè¿›åˆ¶ çš„ï¼Œè¿™æ˜¾ç„¶å¯¹äºäººç±»æ¥è¯´æ˜¯ ä¸å¯è¯» çš„ã€‚ä¸ºäº†è§£å†³äºŒè¿›åˆ¶æŒ‡ä»¤çš„å¯è¯»æ€§é—®é¢˜ï¼Œå·¥ç¨‹å¸ˆå°†é‚£äº›æŒ‡ä»¤å†™æˆäº† å…«è¿›åˆ¶ã€‚äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶æ˜¯è½»è€Œæ˜“ä¸¾çš„ï¼Œä½†æ˜¯å…«è¿›åˆ¶çš„å¯è¯»æ€§ä¹Ÿä¸è¡Œã€‚ å¾ˆè‡ªç„¶åœ°ï¼Œæœ€åè¿˜æ˜¯ç”¨æ–‡å­—è¡¨è¾¾ï¼ŒåŠ æ³•æŒ‡ä»¤å†™æˆ ADDã€‚å†…å­˜åœ°å€ä¹Ÿä¸å†ç›´æ¥å¼•ç”¨ï¼Œè€Œæ˜¯ ç”¨æ ‡ç­¾ è¡¨ç¤ºã€‚ è¿™æ ·çš„è¯ï¼Œå°±å¤šå‡ºä¸€ä¸ªæ­¥éª¤ï¼Œè¦æŠŠè¿™äº›æ–‡å­—æŒ‡ä»¤ç¿»è¯‘æˆäºŒè¿›åˆ¶ï¼Œè¿™ä¸ªæ­¥éª¤å°±ç§°ä¸º assemblingï¼Œå®Œæˆè¿™ä¸ªæ­¥éª¤çš„ç¨‹åºå°±å«åš assemblerã€‚å®ƒå¤„ç†çš„æ–‡æœ¬ï¼Œè‡ªç„¶å°±å«åš aseembly codeã€‚æ ‡å‡†åŒ–ä»¥åï¼Œç§°ä¸º assembly languageï¼Œç¼©å†™ä¸º asmï¼Œä¸­æ–‡è¯‘ä¸º æ±‡ç¼–è¯­è¨€ã€‚ æ±‡ç¼–è¯­è¨€æ¼”ç¤ºä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ï¼š (1 + 4) * 2 + 3 æˆ‘ä»¬æŒ‰ç…§ ã€Œåç¼€è¡¨ç¤ºæ³•ã€ è¿›è¡Œä¸€ä¸‹è½¬æ¢ï¼š 1ï¼Œ4ï¼Œ+ï¼Œ2ï¼Œ*ï¼Œ3ï¼Œ+ æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„æ–¹æ³•æ˜¯ ã€Œä¸­ç¼€è¡¨ç¤ºæ³•ã€ï¼Œä¹Ÿå°±æ˜¯æŠŠè®¡ç®—ç¬¦å·æ”¾ä¸­é—´ï¼Œä¾‹å¦‚ 1 + 3ï¼Œåç¼€åˆ™æ˜¯æŠŠç¬¦å·æ”¾æœ€åï¼Œä¾‹å¦‚ 1, 3, +ã€‚ è¿™æ ·åšçš„å¥½å¤„æ˜¯æ²¡æœ‰å…ˆä¹˜é™¤ååŠ å‡çš„å½±å“ï¼Œä¹Ÿæ²¡æœ‰æ‹¬å·ï¼Œç›´æ¥è¿ç®—å°±è¡Œäº†ã€‚ï¼ˆä¾‹å¦‚ 1, 3, +ï¼Œå…ˆæŠŠ 1 å’Œ 3 ä¿å­˜èµ·æ¥ç¢°åˆ° + çŸ¥é“æ˜¯åŠ æ³•åˆ™ç›´æ¥ç›¸åŠ ï¼‰ OKï¼Œæˆ‘ä»¬ä»å¤´å¼€å§‹ä½¿ç”¨æ±‡ç¼–è¯­è¨€æ¥ç¼–å†™ä¸€ä¸‹ç¨‹åºï¼Œé¦–å…ˆç¬¬ä¸€æ­¥ï¼šæŠŠ 1 ä¿å­˜èµ·æ¥ï¼ˆæ”¾å…¥å¯„å­˜å™¨ï¼‰ï¼š MOV 1 ä¹‹åæ˜¯ 4, +ï¼Œé‚£å°±ç›´æ¥åŠ ä¸€ä¸‹ï¼š ADD 4 ç„¶åæ˜¯ 2, *ï¼Œé‚£å°±ç›´æ¥ä¹˜ä¸€ä¸‹ï¼ˆSHL æ˜¯å‘å·¦ç§»åŠ¨ä¸€ä½çš„æ„æ€ï¼ŒäºŒè¿›åˆ¶ä¸­å·¦ç§»ä¸€ä¸ªå•ä½å°±ç›¸å½“äºä¹˜ä»¥ 2ï¼Œä¾‹å¦‚ 01 è¡¨ç¤º 1ï¼Œè€Œ 10 åˆ™è¡¨ç¤º 2ï¼‰ï¼š SHL 0 æœ€åæ˜¯ 3, +ï¼Œå†åŠ ä¸€ä¸‹ï¼š ADD 3 å®Œæ•´ç¨‹åºå¦‚ä¸‹ï¼š MOV 1 ADD 4 SHL 0 ADD 3 è¿™ä¼¼ä¹çœ‹èµ·æ¥æ¯” 00001111 è¿™æ ·çš„äºŒè¿›åˆ¶è¦å¥½ä¸Šå¤ªå¤šäº†ï¼ç¨‹åºå‘˜ä»¬æ„ŸåŠ¨åˆ°è½æ³ªï¼š é«˜çº§è¯­è¨€æ‘†è„±äº† äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¯è¯»çš„ æ±‡ç¼–è¯­è¨€ï¼Œä½†ä»ç„¶ååˆ†ç¹çå’Œå¤æ‚ï¼Œæ¯ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ä»£è¡¨ä¸€ä¸ªåŸºæœ¬æ“ä½œï¼Œä¾‹å¦‚ï¼šã€Œä»å†…å­˜ x ä½ç½®è·å–ä¸€ä¸ªæ•°å­—å¹¶æ”¾å…¥å¯„å­˜å™¨ Aã€ã€ã€Œå°†å¯„å­˜å™¨ A ä¸­çš„æ•°å­—æ·»åŠ åˆ°å¯„å­˜å™¨ B çš„æ•°å­—ä¸Šã€ã€‚è¿™æ ·çš„ç¼–ç¨‹é£æ ¼æ—¢è´¹æ—¶åˆå®¹æ˜“å‡ºé”™ï¼Œå¹¶ä¸”ä¸€æ—¦å‡ºé”™è¿˜å¾ˆéš¾å‘ç°ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ ã€Œ1969 å¹´é˜¿æ³¢ç½— 11å·ç™»æœˆè®¡åˆ’ã€ ç”¨æ¥ é˜²æ­¢ç™»æœˆèˆ±è®¡ç®—æœºè€—å°½è‡ªèº«èµ„æº çš„ BAILOUT ä»£ç ï¼š POODOO INHINT CA Q TS ALMCADR TC BANKCALL CADR VAC5STOR # STORE ERASABLES FOR DEBUGGING PURPOSES. INDEX ALMCADR CAF 0 ABORT2 TC BORTENT OCT77770 OCT 77770 # DONT MOVE CA V37FLBIT # IS AVERAGE G ON MASK FLAGWRD7 CCS A TC WHIMPER -1 # YES. DONT DO POODOO. DO BAILOUT. TC DOWNFLAG ADRES STATEFLG TC DOWNFLAG ADRES REINTFLG TC DOWNFLAG ADRES NODOFLAG TC BANKCALL CADR MR.KLEAN TC WHIMPER å‡ºå¤„ï¼šæ”¹å˜ä¸–ç•Œçš„ä»£ç è¡Œ - https://www.infoq.cn/article/5CaYH8NbS6BmptWKRgkX ä¼¼ä¹ä¸å¤ªå®¹æ˜“è¯»çš„æ ·å­â€¦ é˜¿æ³¢ç½—ç™»æœˆè®¡åˆ’çš„æºä»£ç åœ¨ Github ä¸Šå·²ç»å…¬å¼€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»ä¸‹æ–¹é“¾æ¥è†œæ‹œä¸€ä¸‹ï¼ˆå¯ä»¥å»æ„Ÿå—ä¸€ä¸‹å½“æ—¶ç¨‹åºå‘˜çš„å·¥ç¨‹èƒ½åŠ›ï¼‰ï¼š https://github.com/chrislgarry/Apollo-11 å¦å¤–é™„ä¸€ä¸‹å½“æ—¶ä»£ç çš„è®¾è®¡è´Ÿè´£äºº Margaret Heafield Hamiltonï¼ˆå¥³ç¨‹åºå‘˜ï¼‰å’Œå®Œæˆçš„å †èµ·æ¥è·Ÿäººä¸€æ ·é«˜çš„ä»£ç é‡ï¼š ç¬¬ä¸€ä¸ªé«˜çº§è¯­è¨€ï¼šFORTRANå½“ John Backus åœ¨ 1950 å¹´ä»¥ä¸€åç§‘å­¦ç¨‹åºå‘˜çš„èº«ä»½åŠ å…¥ IBM æ—¶ï¼Œå·²ç»å¯ä»¥ä½¿ç”¨è¯¸å¦‚ ADD ä¹‹ç±»çš„åŠ©è®°è¯ä»£æ›¿æ•°å­—ä»£ç æ¥ç¼–å†™ç¨‹åºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ±‡ç¼–è¯­è¨€ã€‚è¿™ä½¿ç¼–ç¨‹å˜å¾—å®¹æ˜“ä¸€äº›ï¼Œä½†æ˜¯å³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„ç¨‹åºä¹Ÿéœ€è¦æ•°åæ¬¡æ“ä½œï¼Œå¹¶ä¸”ä»ç„¶å¾ˆéš¾æ‰¾åˆ°é”™è¯¯ã€‚ å·´å…‹æ–¯è®¤ä¸ºï¼Œåº”è¯¥æœ‰å¯èƒ½åˆ›å»ºä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½¿ä¸€ç³»åˆ—è®¡ç®—å¯ä»¥ç”¨ç±»ä¼¼äºæ•°å­¦ç¬¦å·çš„å½¢å¼æ¥è¡¨è¾¾ã€‚ç„¶åï¼Œä½¿ç”¨ç‰¹å®šçš„ç¿»è¯‘ç¨‹åºï¼ˆä»¥ä»Šå¤©çš„æœ¯è¯­æ¥è¯´æ˜¯ç¼–è¯‘å™¨ï¼‰å¯ä»¥å°†å…¶è½¬æ¢ä¸ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„æ•°å­—ä»£ç ã€‚ Backus åœ¨ 1953 å¹´å‘ä»–çš„ç»ç†æå‡ºäº†è¿™ä¸ªæƒ³æ³•ã€‚ä»–å¾—åˆ°äº†é¢„ç®—ï¼Œå¹¶è¢«é¼“åŠ±é›‡ç”¨ä¸€ä¸ªå°å›¢é˜Ÿæ¥æµ‹è¯•è¯¥æƒ³æ³•çš„å¯è¡Œæ€§ã€‚ä¸‰å¹´åï¼Œè¯¥å›¢é˜Ÿå‘å¸ƒäº†ä¸€æœ¬æ‰‹å†Œï¼Œå…¶ä¸­æè¿°äº† IBM Mathematical Formula Translating Systemï¼ˆç®€ç§° FORTRANï¼‰ã€‚ä¸ä¹…ä¹‹åï¼Œ IBM å‘ IBM 704 çš„ç”¨æˆ·æä¾›äº†ç¬¬ä¸€ä¸ª FORTRAN ç¼–è¯‘å™¨ã€‚ Backus å’Œä»–çš„å›¢é˜Ÿåˆ›é€ äº†ä¸–ç•Œä¸Šç¬¬ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚ç§‘å­¦å®¶å’Œå·¥ç¨‹å¸ˆå°†ä¸å†éœ€è¦å°†å…¶ç¨‹åºç¼–å†™ä¸ºæ•°å­—ä»£ç æˆ–å†—é•¿çš„åŠ©è®°ç¬¦ã€‚ FORTRAN ä»£ç æ¼”ç¤ºä¸‹é¢æ¼”ç¤ºè®¡ç®—å¹¶è¾“å‡º 8 * 6 çš„ä»£ç å®ä¾‹ï¼š program VF0944 implicit none integer a, b, c a= 8 b= 6 c= a*b print *, 'Hello World, a, b, c= ', a, b, c end program VF0944 å¯¹æ¯”æ±‡ç¼–ä»£ç ï¼Œæ˜¯ä¸æ˜¯çœ‹ä¸Šå»è¦æ¸…æ™°ï¼ˆäººç±»å¯è¯»ï¼‰å¤šäº†å‘¢ï¼Ÿ FORTRAN çš„æ„ä¹‰FORTRAN çš„é—®ä¸–åœ¨è®¡ç®—æœºå²ä¸Šå…·æœ‰åˆ’æ—¶ä»£çš„æ„ä¹‰ï¼Œå®ƒä½¿è®¡ç®—æœºè¯­è¨€ä»åŸå§‹çš„ä½çº§æ±‡ç¼–è¯­è¨€èµ°å‡ºæ¥ï¼Œè¿›å…¥äº†æ›´é«˜çš„å¢ƒç•Œï¼Œä½¿å¾— è®¡ç®—æœºè¯­è¨€ä¸å†æ˜¯è®¡ç®—æœºä¸“å®¶çš„ä¸“åˆ©ï¼Œä½¿å¹¿å¤§çš„å·¥ç¨‹æŠ€æœ¯äººå‘˜æœ‰äº†è¿›è¡Œè®¡ç®—æœºç¼–ç¨‹çš„æ‰‹æ®µã€‚ ç”±æ­¤è®¡ç®—æœºæ›´å¿«åœ°æ·±å…¥åˆ°äº†ç¤¾ä¼šä¹‹ä¸­ï¼Œå®ƒåœ¨å·¥ä¸šéƒ¨é—¨ä¸­åˆéœ²å¤´è§’ï¼Œæ›´æ˜¯åœ¨ç«ç®­ã€å¯¼å¼¹ã€äººé€ åœ°çƒå«æ˜Ÿçš„è®¾è®¡ä¸­å¤§æ˜¾èº«æ‰‹ï¼Œå› æ­¤æœ‰äººç§° FORTRAN è¯­è¨€ä½¿è®¡ç®—æœºçš„å·¥ä¸šåº”ç”¨æˆäº†å¯èƒ½ï¼Œæ˜¯æ¨åŠ¨ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜ä»¥åè¥¿æ–¹å·¥ä¸šç»æµå¤è‹å’Œè¿›å…¥ç¬¬äºŒæ¬¡å·¥ä¸šé©å‘½çš„æ— å½¢åŠ›é‡ï¼Œæ˜¯ â€œçœ‹ä¸è§çš„è’¸æ±½æœºâ€ã€‚ ä¸€å¥è¯æ€»ç»“è®¡ç®—æœºå…ˆé©±ä»¬å·²ç»ä¸ºæˆ‘ä»¬æ¶è®¾å¥½äº†è®¡ç®—æœºçš„ä¸–ç•Œï¼Œç«™åœ¨å…ˆé©±å·¨äººä»¬çš„è‚©è†€ï¼Œæˆ‘ä»¬å¦‚ä»Šå¾ˆå®¹æ˜“ä¹Ÿå¯ä»¥çœ‹å¾—æ›´é«˜å’Œæ›´è¿œã€‚ Part 4. æ„å»ºè‡ªå·±ç‹¬æœ‰çš„ç¨‹åº(ä¸–ç•Œ) å›¾ç‰‡æ¥æºè‡ªï¼šhttps://www.infoq.cn/article/5CaYH8NbS6BmptWKRgkX ç¼–ç çš„ä¹è¶£æœ‰å¾ˆå¤šï¼ŒæŠŠè‡ªå·±çš„æƒ³æ³•åŠ¨æ‰‹å®è·µå°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚ ä¾‹å¦‚ç½‘å‹ç©å„¿æ¸¸æˆæ´»åŠ¨éœ€è¦ä¸åœç‚¹é¼ æ ‡ï¼Œäºæ˜¯å†™äº†ä¸€ä¸ªé¼ æ ‡è¿ç‚¹å™¨ï¼š ä¾‹å¦‚ç»™è‡ªå·±å¿ƒçˆ±çš„å¦¹å­å†™ä¸€ä¸ªæ‹çˆ±çºªå¿µç½‘ç«™ï¼š ä¾‹å¦‚ç»™ FlappyBird åŠ ä¸€ä¸ªå¼ºåŒ–å­¦ä¹ ç®—æ³•è®©å®ƒè‡ªå·±å­¦ä¹ å¦‚ä½•é£è¡Œï¼š(å›¾ç¤ºå·²ç»èƒ½è‡ªå·±é£ 4527 æ­¥äº†) ä¾‹å¦‚ç½‘å‹è‡ªå·±å†™çš„æ–‡è¨€æ–‡è¯­è¨€ï¼š(ä½¿ç”¨æ–‡è¨€æ–‡å†™ä»£ç ) // HelloWorld ç¨‹åºæ¼”ç¤º å¾æœ‰ä¸€æ•¸ã€‚æ›°ä¸‰ã€‚åä¹‹æ›°ã€Œç”²ã€ã€‚ ç‚ºæ˜¯ã€Œç”²ã€éã€‚ å¾æœ‰ä¸€è¨€ã€‚æ›°ã€Œã€Œå•å¤©åœ°å¥½åœ¨ã€‚ã€ã€ã€‚æ›¸ä¹‹ã€‚ äº‘äº‘ã€‚ è¿è¡Œè¾“å‡ºï¼š å•å¤©åœ°å¥½åœ¨ã€‚ å•å¤©åœ°å¥½åœ¨ã€‚ å•å¤©åœ°å¥½åœ¨ã€‚ ä¸€å¥è¯æ€»ç»“æˆ‘ä»¬å¯ä»¥åŠ¨æ‰‹é€šè¿‡ç¼–ç¨‹æŠŠæˆ‘ä»¬çš„å¾ˆå¤šæƒ³æ³•ä»˜è¯¸äºå®ç° (å‰ææ˜¯ä¸æ–­æ¢ç´¢å’Œå­¦ä¹ )ï¼Œå¹¶åœ¨è¿æ¥æŒ‘æˆ˜å’Œæœ€ç»ˆå®ç°çš„è¿‡ç¨‹ä¸­è·å¾—æ— é™çš„ä¹è¶£ã€‚ å°æ€»ç»“æ€»ä½“è€Œè¨€ï¼ŒIT æ˜¯ä»¤äººå…´å¥‹çš„ã€‚ ç´ æœ‰ã€Œè½¯ä»¶åå™¬ä¸–ç•Œã€çš„è¯´æ³•ï¼Œæˆ‘ä»¬ä¹Ÿæ­£ç”Ÿæ´»åœ¨è®¡ç®—æœºå½“é“çš„ä¸–ç•Œã€‚ å¹¶ä¸”ç¼–ç¨‹å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½å…·å¤‡çš„æŠ€èƒ½ï¼Œå€ŸåŠ©æŠ€æœ¯ï¼Œä¸€åˆ‡çš†æœ‰å¯èƒ½ï¼Œå¹¶ä¸”ç°åœ¨äº’è”ç½‘æ—¶ä»£æ¯”ä»¥å¾€éƒ½æ›´æœ‰æœºä¼šå­¦ä¹ å’Œåˆ›å»ºã€Œè‡ªå·±çš„ä¸–ç•Œã€ã€‚ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"},{"name":"çŸ¥ä¹é—®é¢˜","slug":"MoreThanJava/çŸ¥ä¹é—®é¢˜","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"},{"name":"çŸ¥ä¹é—®é¢˜","slug":"çŸ¥ä¹é—®é¢˜","permalink":"http://www.wmyskxz.com/tags/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 3ï¼šæ„å»ºç¨‹åºé€»è¾‘çš„æ–¹æ³•","slug":"ã€ŒMoreThanJavaã€Day-3ï¼šæ„å»ºç¨‹åºé€»è¾‘çš„æ–¹æ³•","date":"2020-07-05T11:33:00.000Z","updated":"2020-08-16T07:50:03.146Z","comments":true,"path":"2020/07/05/morethanjava-day-3-gou-jian-cheng-xu-luo-ji-de-fang-fa/","link":"","permalink":"http://www.wmyskxz.com/2020/07/05/morethanjava-day-3-gou-jian-cheng-xu-luo-ji-de-fang-fa/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. åˆ†æ”¯ç»“æ„ å›¾ç‰‡æ¥æºï¼šhttp://www.jituwang.com/vector/201512/569157.html è¿„ä»Šä¸ºæ­¢ï¼Œæˆ‘ä»¬å†™çš„ Java ä»£ç éƒ½æ˜¯ä¸€æ¡ä¸€æ¡è¯­å¥é¡ºåºæ‰§è¡Œçš„ï¼Œè¿™ç§ä»£ç ç»“æ„é€šå¸¸ç§°ä¹‹ä¸º é¡ºåºç»“æ„ã€‚ ç„¶è€Œä»…æœ‰é¡ºåºç»“æ„å¹¶ä¸èƒ½è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªæ¸¸æˆï¼Œæ¸¸æˆç¬¬ä¸€å…³çš„é€šå…³æ¡ä»¶æ˜¯è·å¾— 1000 åˆ†ï¼Œå¦‚æœåˆ†æ•°åˆ°è¾¾åˆ™è¿›å…¥ä¸‹ä¸€å…³ï¼Œå¦‚æœæœªåˆ°è¾¾åˆ™ â€œGame Overâ€ï¼š è¿™é‡Œå°±äº§ç”Ÿäº†ä¸¤ä¸ªåˆ†æ”¯ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªåˆ†æ”¯åªæœ‰ä¸€ä¸ªä¼šè¢«æ‰§è¡Œã€‚ç±»ä¼¼çš„åœºæ™¯è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬å°†è¿™ç§ç»“æ„ç§°ä¹‹ä¸º ã€Œåˆ†æ”¯ç»“æ„ã€ æˆ– ã€Œé€‰æ‹©ç»“æ„ã€ã€‚ ã€Œæ˜¯å¦è¿›å…¥ä¸‹ä¸€å…³ã€è¿™æ ·çš„å†³ç­–ä¼¼ä¹å¾ˆå°ï¼Œä½†æ˜¯åœ¨ç¼–ç¨‹ä¸­ï¼Œå¤æ‚çš„å†³ç­–æ˜¯ç”±è®¸å¤šè¿™ç§å°çš„å†³ç­–ç»„æˆçš„ã€‚ä¸‹é¢æ˜¯å®ç°æ˜¯å¦è¿›å…¥ä¸‹ä¸€å…³çš„ç¨‹åºæ¼”ç¤ºï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { Scanner scan = new Scanner(System.in); String answer; System.out.print(\"ç©å®¶æ˜¯å¦è¾¾åˆ° 1000 åˆ†?(Y or N): \"); answer = scan.nextLine(); if (\"Y\".equals(answer)) { System.out.println(\"è¿›å…¥ä¸‹ä¸€å…³\"); // true branch } else { System.out.println(\"Game Over\"); // false branch } } } ç¨‹åºé¦–å…ˆæé†’ç”¨æˆ·ç”¨å•ä¸€çš„å­—ç¬¦ Y æˆ– N æ¥å›ç­”ï¼š System.out.print(\"ç©å®¶æ˜¯å¦è¾¾åˆ° 1000 åˆ†?(Y or N): \"); ç„¶åä½¿ç”¨ Scanner ç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ï¼š answer = scan.nextLine(); ç„¶åä½¿ç”¨ if å…³é”®å­—æ¥åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦æ˜¯å¦ç­‰äº Yï¼š if (\"Y\".equals(answer)) å¦‚æœç›¸ç­‰åˆ™è¿›å…¥ true branchï¼Œå¦åˆ™è¿›å…¥ false branchã€‚ ç¼©è¿›ï¼š è¿™é‡Œ if ä¸‹æ–¹çš„ç¼©è¿›æ˜¯ä¸ºäº†è®©ç”¨æˆ·æ›´å®¹æ˜“çœ‹åˆ°ç¨‹åºçš„é€»è¾‘ï¼Œç¼–è¯‘å™¨å°†å¿½ç•¥æ‰è¿™äº›ç¼©è¿›ã€‚ åˆç†çš„ç¼©è¿›å’Œç¨‹åºå¸ƒå±€å¾ˆé‡è¦ï¼Œæ²¡æœ‰é€‚å½“çš„è·ç¦»å’Œç¼©è¿›ï¼Œçœ‹ç¨‹åºçš„é€»è¾‘æœ‰æ—¶ä¼šç¨æ˜¾å›°éš¾ã€‚æ‚¨ä¹ŸæœŸæœ›å°½å¯èƒ½æ¸…æ™°åœ°è¡¨æ˜ç¨‹åºåœ¨åšä»€ä¹ˆä¸æ˜¯å—ï¼Ÿ if æ¡ä»¶è¯­å¥åœ¨ Java ä¸­ï¼Œè¦æ„é€ åˆ†æ”¯ç»“æ„å¯ä»¥ä½¿ç”¨ ifã€else å…³é”®å­—ã€‚ if è¯­å¥çš„åŸºæœ¬è¯­æ³•æ˜¯ï¼š if (æ¡ä»¶) { // æ¡ä»¶æ»¡è¶³æ—¶æ‰§è¡Œçš„è¯­å¥ } å½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œåˆ™ä¼šæ‰§è¡Œ if è¯­å¥ä¸­çš„ä»£ç å—å„¿ï¼Œå¦åˆ™æ‰§è¡Œ if è¯­å¥å—åé¢çš„ä»£ç ã€‚ ä¾‹å¦‚ï¼š public class Tester { public static void main(String[] args) { int n = 70; if (n >= 60) { System.out.println(\"åŠæ ¼äº†\"); } System.out.println(\"END\"); } } å°½ç®¡å½“ if è¯­å¥å—åªæœ‰ä¸€è¡Œè¯­å¥æ—¶ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å· {}ï¼š if (n >= 60) System.out.println(\"åŠæ ¼äº†\"); å½“è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ å‡è®¾æŸä¸ªæ—¶å€™ï¼Œçªç„¶æƒ³ç»™ if è¯­å¥å—å¢åŠ ä¸€æ¡è¯­å¥æ—¶ï¼š public class Tester { public static void main(String[] args) { int n = 50; if (n >= 60) System.out.println(\"åŠæ ¼äº†\"); System.out.println(\"æ­å–œä½ \"); // æ³¨æ„è¿™æ¡è¯­å¥ä¸æ˜¯ifè¯­å¥å—çš„ä¸€éƒ¨åˆ† System.out.println(\"END\"); } } ç”±äºä½¿ç”¨ç¼©è¿›æ ¼å¼ï¼Œå¾ˆå®¹æ˜“æŠŠä¸¤è¡Œè¯­å¥éƒ½çœ‹æˆ if è¯­å¥çš„æ‰§è¡Œå—ï¼Œä½†å®é™…ä¸Šåªæœ‰ç¬¬ä¸€è¡Œè¯­å¥æ˜¯ if çš„æ‰§è¡Œå—ã€‚ åœ¨ä½¿ç”¨ git è¿™äº›ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè‡ªåŠ¨åˆå¹¶æ—¶æ›´å®¹æ˜“å‡ºé—®é¢˜ï¼Œæ‰€ä»¥ä¸æ¨èå¿½ç•¥èŠ±æ‹¬å·çš„å†™æ³•ã€‚(äº‹å®ä¸Šï¼Œä½ ä½¿ç”¨ IDEA çš„è‡ªåŠ¨æ’ç‰ˆä»£ç çš„åŠŸèƒ½ä¼šå¸®ä½ è‡ªåŠ¨è¿˜åŸæˆæœ‰èŠ±æ‹¬å·çš„å†™æ³•ï¼Œå¿«æ·é”®ã€Œctrl + alt + lã€) else è¯­å¥if è¯­å¥è¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ª else { ... }ï¼Œå½“æ¡ä»¶åˆ¤æ–­ä¸º false æ—¶ï¼Œå°†æ‰§è¡Œ else çš„è¯­å¥å—ï¼š public class Tester { public static void main(String[] args) { int n = 70; if (n >= 60) { System.out.println(\"åŠæ ¼äº†\"); } else { System.out.println(\"æŒ‚ç§‘äº†\"); } System.out.println(\"END\"); } } ä¿®æ”¹ä¸Šé¢ä»£ç çš„ n å€¼ï¼Œè§‚å¯Ÿ if æ¡ä»¶ä¸º true/ false æ—¶ï¼Œç¨‹åºæ‰§è¡Œçš„è¯­å¥å—ã€‚ æ³¨æ„ï¼Œelse ä¸æ˜¯å¿…é¡»çš„ã€‚ è¿˜å¯ä»¥ç”¨å¤šä¸ª if ... else if ... ä¸²è”ã€‚ä¾‹å¦‚ï¼š public class Tester { public static void main(String[] args) { int n = 70; if (n >= 90) { System.out.println(\"ä¼˜ç§€\"); } else if (n >= 60) { System.out.println(\"åŠæ ¼äº†\"); } else { System.out.println(\"æŒ‚ç§‘äº†\"); } System.out.println(\"END\"); } } ä¸²è”çš„æ•ˆæœå…¶å®ç›¸å½“äºï¼š if (n >= 90) { // n >= 90ä¸ºtrue: System.out.println(\"ä¼˜ç§€\"); } else { // n >= 90ä¸ºfalse: if (n >= 60) { // n >= 60ä¸ºtrue: System.out.println(\"åŠæ ¼äº†\"); } else { // n >= 60ä¸ºfalse: System.out.println(\"æŒ‚ç§‘äº†\"); } } æ³¨æ„é¡ºåºå’Œä¸´ç•Œæ¡ä»¶åœ¨ä¸²è”ä½¿ç”¨å¤šä¸ª if æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„åˆ¤æ–­é¡ºåºã€‚è§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼š public class Tester { public static void main(String[] args) { int n = 100; if (n >= 60) { System.out.println(\"åŠæ ¼äº†\"); } else if (n >= 90) { System.out.println(\"ä¼˜ç§€\"); } else { System.out.println(\"æŒ‚ç§‘äº†\"); } } } æ‰§è¡Œå‘ç°ï¼Œn = 100 æ—¶ï¼Œæ»¡è¶³æ¡ä»¶ n &gt;= 90ï¼Œä½†è¾“å‡ºçš„ä¸æ˜¯ &quot;ä¼˜ç§€&quot;ï¼Œè€Œæ˜¯ &quot;åŠæ ¼äº†&quot;ï¼ŒåŸå› æ˜¯ if è¯­å¥ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œæ—¶ï¼Œå…ˆåˆ¤æ–­ n &gt;= 60 æˆåŠŸåï¼Œåç»­ else ä¸å†æ‰§è¡Œï¼Œå› æ­¤ï¼Œif (n &gt;= 90) æ²¡æœ‰æœºä¼šæ‰§è¡Œäº†ã€‚ æ­£ç¡®çš„æ–¹å¼æ˜¯æŒ‰ç…§åˆ¤æ–­èŒƒå›´ä»å¤§åˆ°å°ä¾æ¬¡åˆ¤æ–­ï¼š // ä»å¤§åˆ°å°ä¾æ¬¡åˆ¤æ–­ï¼š if (n >= 90) { // ... } else if (n >= 60) { // ... } else { // ... } æˆ–è€…æ”¹å†™æˆä»å°åˆ°å¤§ä¾æ¬¡åˆ¤æ–­ï¼š // ä»å°åˆ°å¤§ä¾æ¬¡åˆ¤æ–­ï¼š if (n &lt; 60) { // ... } else if (n &lt; 90) { // ... } else { // ... } ä½¿ç”¨ if æ—¶ï¼Œè¿˜è¦ç‰¹åˆ«æ³¨æ„è¾¹ç•Œæ¡ä»¶ã€‚ä¾‹å¦‚ï¼š public class Tester { public static void main(String[] args) { int n = 90; if (n > 90) { System.out.println(\"ä¼˜ç§€\"); } else if (n >= 60) { System.out.println(\"åŠæ ¼äº†\"); } else { System.out.println(\"æŒ‚ç§‘äº†\"); } } } å‡è®¾æˆ‘ä»¬æœŸæœ› 90 åˆ†æˆ–æ›´é«˜ä¸º â€œä¼˜ç§€â€ï¼Œä¸Šè¿°ä»£ç è¾“å‡ºçš„å´æ˜¯ â€œåŠæ ¼â€ï¼ŒåŸå› æ˜¯ &gt; å’Œ &gt;= æ•ˆæœæ˜¯ä¸åŒçš„ã€‚ Part 2. å¾ªç¯ç»“æ„ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.zlovezl.cn/articles/two-tips-on-loop-writing/ é¡ºåºç»“æ„çš„ç¨‹åºè¯­å¥åªèƒ½è¢«æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ‚¨æƒ³è¦åŒæ ·çš„æ“ä½œæ‰§è¡Œå¤šæ¬¡ï¼Œå°±éœ€è¦ä½¿ç”¨å¾ªç¯ç»“æ„ã€‚ Java ä¸­æœ‰ä¸‰ç§ä¸»è¦çš„å¾ªç¯ç»“æ„ï¼š while å¾ªç¯ï¼› do...while å¾ªç¯ï¼› for å¾ªç¯ (åœ¨ Java 5 ä¸­è¿˜å¼•å…¥äº†ä¸€ç§ä¸»è¦ç”¨äºæ•°ç»„çš„å¢å¼ºå‹ for å¾ªç¯)ï¼› while å¾ªç¯while æ˜¯æœ€åŸºæœ¬çš„å¾ªç¯ï¼Œå®ƒçš„ç»“æ„ä¸ºï¼š while ( å¸ƒå°”è¡¨è¾¾å¼ ) { // å¾ªç¯å†…å®¹ } åªè¦å¸ƒå°”è¡¨è¾¾å¼ä¸º trueï¼Œå¾ªç¯å°±ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚ å®ä¾‹public class Test { public static void main(String args[]) { int x = 10; while (x &lt; 20) { System.out.println(\"value of x : \" + x); x++; } } } ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š value of x : 10 value of x : 11 value of x : 12 value of x : 13 value of x : 14 value of x : 15 value of x : 16 value of x : 17 value of x : 18 value of x : 19 doâ€¦while å¾ªç¯å¯¹äº while è¯­å¥è€Œè¨€ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¸èƒ½è¿›å…¥å¾ªç¯ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å³ä½¿ä¸æ»¡è¶³æ¡ä»¶ï¼Œä¹Ÿè‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚ doâ€¦while å¾ªç¯å’Œ while å¾ªç¯ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œdoâ€¦while å¾ªç¯è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ do { // ä»£ç è¯­å¥ } while (å¸ƒå°”è¡¨è¾¾å¼); æ³¨æ„ï¼šå¸ƒå°”è¡¨è¾¾å¼åœ¨å¾ªç¯ä½“çš„åé¢ï¼Œæ‰€ä»¥è¯­å¥å—åœ¨æ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼ä¹‹å‰å·²ç»æ‰§è¡Œäº†ã€‚ å¦‚æœå¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸º trueï¼Œåˆ™è¯­å¥å—ä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ä¸º falseã€‚ å®ä¾‹public class Test { public static void main(String args[]) { int x = 10; do { System.out.println(\"value of x : \" + x); x++; } while (x &lt; 20); } } ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š value of x : 10 value of x : 11 value of x : 12 value of x : 13 value of x : 14 value of x : 15 value of x : 16 value of x : 17 value of x : 18 value of x : 19 for å¾ªç¯è™½ç„¶æ‰€æœ‰å¾ªç¯ç»“æ„éƒ½å¯ä»¥ç”¨ while æˆ–è€… do...while è¡¨ç¤ºï¼Œä½† Java æä¾›äº†å¦ä¸€ç§è¯­å¥ â€”â€” for å¾ªç¯ï¼Œä½¿ä¸€äº›å¾ªç¯ç»“æ„å˜å¾—æ›´åŠ ç®€å•ã€‚ for å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°æ˜¯åœ¨æ‰§è¡Œå‰å°±ç¡®å®šçš„ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š for(åˆå§‹åŒ–; å¸ƒå°”è¡¨è¾¾å¼; æ›´æ–°) { // ä»£ç è¯­å¥ } å…³äº for å¾ªç¯æœ‰ä»¥ä¸‹å‡ ç‚¹è¯´æ˜ï¼š æœ€å…ˆæ‰§è¡Œåˆå§‹åŒ–æ­¥éª¤ã€‚å¯ä»¥å£°æ˜ä¸€ç§ç±»å‹ï¼Œä½†å¯åˆå§‹åŒ–ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯æ§åˆ¶å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç©ºè¯­å¥ã€‚ ç„¶åï¼Œæ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ã€‚å¦‚æœä¸º trueï¼Œå¾ªç¯ä½“è¢«æ‰§è¡Œã€‚å¦‚æœä¸ºfalseï¼Œå¾ªç¯ç»ˆæ­¢ï¼Œå¼€å§‹æ‰§è¡Œå¾ªç¯ä½“åé¢çš„è¯­å¥ã€‚ æ‰§è¡Œä¸€æ¬¡å¾ªç¯åï¼Œæ›´æ–°å¾ªç¯æ§åˆ¶å˜é‡ã€‚ å†æ¬¡æ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼ã€‚å¾ªç¯æ‰§è¡Œä¸Šé¢çš„è¿‡ç¨‹ã€‚ å®ä¾‹public class Test { public static void main(String args[]) { for (int x = 10; x &lt; 20; x = x + 1) { System.out.println(\"value of x : \" + x); } } } ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š value of x : 10 value of x : 11 value of x : 12 value of x : 13 value of x : 14 value of x : 15 value of x : 16 value of x : 17 value of x : 18 value of x : 19 æ‚¨å¯ä»¥å† IDEA ä¸­å¿«é€Ÿè¾“å…¥ fori å…³é”®å­—æ¥å¿«é€Ÿåˆ›å»º for å¾ªç¯çš„åŸºæœ¬ç»“æ„ æ§åˆ¶å¾ªç¯break å…³é”®å­—break ä¸»è¦ç”¨åœ¨å¾ªç¯è¯­å¥æˆ–è€… switch è¯­å¥ä¸­ï¼Œç”¨æ¥è·³å‡ºæ•´ä¸ªè¯­å¥å—ã€‚ break è·³å‡ºæœ€é‡Œå±‚çš„å¾ªç¯ï¼Œå¹¶ä¸”ç»§ç»­æ‰§è¡Œè¯¥å¾ªç¯ä¸‹é¢çš„è¯­å¥ã€‚ å®ä¾‹public class Test { public static void main(String args[]) { int[] numbers = {10, 20, 30, 40, 50}; for (int x : numbers) { // x ç­‰äº 30 æ—¶è·³å‡ºå¾ªç¯ if (x == 30) { break; } System.out.print(x); System.out.print(\"\\n\"); } } } ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 10 20 continue å…³é”®å­—continue é€‚ç”¨äºä»»ä½•å¾ªç¯æ§åˆ¶ç»“æ„ä¸­ã€‚ä½œç”¨æ˜¯è®©ç¨‹åºç«‹åˆ»è·³è½¬åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯çš„è¿­ä»£ã€‚ åœ¨ for å¾ªç¯ä¸­ï¼Œcontinue è¯­å¥ä½¿ç¨‹åºç«‹å³è·³è½¬åˆ°æ›´æ–°è¯­å¥ã€‚ åœ¨ while æˆ–è€… doâ€¦while å¾ªç¯ä¸­ï¼Œç¨‹åºç«‹å³è·³è½¬åˆ°å¸ƒå°”è¡¨è¾¾å¼çš„åˆ¤æ–­è¯­å¥ã€‚ å®ä¾‹public class Tester { public static void main(String args[]) { int[] numbers = {10, 20, 30, 40, 50}; for (int x : numbers) { if (x == 30) { continue; } System.out.print(x); System.out.print(\"\\n\"); } } } ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 10 20 40 50 Part 3. æ„é€ ç¨‹åºé€»è¾‘ å›¾ç‰‡æ¥æºï¼šhttp://www.mzh.ren/machine-learning-3.html è™½ç„¶è¿„ä»Šä¸ºæ­¢æˆ‘ä»¬å­¦ä¹ çš„å†…å®¹åªæ˜¯ Java çš„å†°å±±ä¸€è§’ï¼Œä½†æ˜¯è¿™äº›å†…å®¹å·²ç»è¶³å¤Ÿæˆ‘ä»¬æ¥æ„å»ºç¨‹åºä¸­çš„é€»è¾‘ã€‚ å¯¹äºç¼–ç¨‹è¯­è¨€çš„åˆå­¦è€…æ¥è¯´ï¼Œåœ¨å­¦ä¹ äº† Java çš„æ ¸å¿ƒè¯­è¨€å…ƒç´  ï¼ˆå˜é‡ã€ç±»å‹ã€è¿ç®—ç¬¦ã€è¡¨è¾¾å¼ã€åˆ†æ”¯ç»“æ„ã€å¾ªç¯ç»“æ„ç­‰ï¼‰ ä¹‹åï¼Œå¿…é¡»åšçš„ä¸€ä»¶äº‹æƒ…å°±æ˜¯å°è¯•ç”¨æ‰€å­¦çŸ¥è¯†å»è§£å†³ç°å®ä¸­çš„é—®é¢˜ï¼Œæ¢å¥è¯è¯´å°±æ˜¯é”»ç‚¼è‡ªå·±æŠŠç”¨äººç±»è‡ªç„¶è¯­è¨€æè¿°çš„ç®—æ³• ï¼ˆè§£å†³é—®é¢˜çš„æ–¹æ³•å’Œæ­¥éª¤ï¼‰ ç¿»è¯‘æˆ Java ä»£ç çš„èƒ½åŠ›ï¼Œè€Œè¿™ä»¶äº‹æƒ…å¿…é¡»é€šè¿‡å¤§é‡çš„ç»ƒä¹ æ‰èƒ½è¾¾æˆã€‚ æˆ‘ä»¬åœ¨è¿™ä¸€ Part ä¸ºå¤§å®¶æ•´ç†äº†ä¸€äº›ç»å…¸çš„æ¡ˆä¾‹å’Œä¹ é¢˜ï¼Œå¸Œæœ›é€šè¿‡è¿™äº›ä¾‹å­ï¼Œä¸€æ–¹é¢å¸®åŠ©å¤§å®¶å·©å›ºä¹‹å‰æ‰€å­¦çš„ Java çŸ¥è¯†ï¼Œå¦ä¸€æ–¹é¢å¸®åŠ©å¤§å®¶äº†è§£å¦‚ä½•å»ºç«‹ç¨‹åºä¸­çš„é€»è¾‘ä»¥åŠå¦‚ä½•è¿ç”¨ä¸€äº›ç®€å•çš„ç®—æ³•è§£å†³ç°å®ä¸­çš„é—®é¢˜ã€‚ ç»å…¸çš„ä¾‹å­é¢˜ç›®ä¸€ï¼šå¯»æ‰¾æ°´ä»™èŠ±æ•° è¯´æ˜ï¼šæ°´ä»™èŠ±æ•°ä¹Ÿè¢«ç§°ä¸ºè¶…å®Œå…¨æ•°å­—ä¸å˜æ•°ã€è‡ªæ‹æ•°ã€è‡ªå¹‚æ•°ã€é˜¿å§†æ–¯ç‰¹æœ—æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ª 3 ä½æ•°ï¼Œè¯¥æ•°å­—æ¯ä¸ªä½ä¸Šæ•°å­—çš„ç«‹æ–¹ä¹‹å’Œæ­£å¥½ç­‰äºå®ƒæœ¬èº«ï¼Œä¾‹å¦‚ï¼š13 + 53+ 33=153ã€‚ public class Tester { public static void main(String[] args) { findAllDaffodilNumberAndPrint(); } /** * æŸ¥æ‰¾æ‰€æœ‰çš„æ°´ä»™èŠ±æ•°å¹¶æ‰“å° */ public static void findAllDaffodilNumberAndPrint() { for (int num = 100; num &lt; 1000; num++) { int low = num % 10; int mid = num / 10 % 10; int high = num / 100; // Math.pow(x, 3) ç›¸å½“äºæ±‚ x çš„ 3 æ¬¡æ–¹ if (num == Math.pow(low, 3) + Math.pow(mid, 3) + Math.pow(high, 3)) { System.out.println(num); } } } } é¢˜ç›®äºŒï¼šç™¾é’±ç™¾é¸¡é—®é¢˜ è¯´æ˜ï¼šç™¾é’±ç™¾é¸¡æ˜¯æˆ‘å›½å¤ä»£æ•°å­¦å®¶å¼ ä¸˜å»ºåœ¨ã€Šç®—ç»ã€‹ä¸€ä¹¦ä¸­æå‡ºçš„æ•°å­¦é—®é¢˜ï¼šé¸¡ç¿ä¸€å€¼é’±äº”ï¼Œé¸¡æ¯ä¸€å€¼é’±ä¸‰ï¼Œé¸¡é›ä¸‰å€¼é’±ä¸€ã€‚ç™¾é’±ä¹°ç™¾é¸¡ï¼Œé—®é¸¡ç¿ã€é¸¡æ¯ã€é¸¡é›å„å‡ ä½•ï¼Ÿç¿»è¯‘æˆç°ä»£æ–‡æ˜¯ï¼šå…¬é¸¡ 5 å…ƒä¸€åªï¼Œæ¯é¸¡ 3 å…ƒä¸€åªï¼Œå°é¸¡ 1 å…ƒä¸‰åªï¼Œç”¨ 100 å—é’±ä¹°ä¸€ç™¾åªé¸¡ï¼Œé—®å…¬é¸¡ã€æ¯é¸¡ã€å°é¸¡å„æœ‰å¤šå°‘åªï¼Ÿ public class Tester { public static void main(String[] args) { getResultAndPrint(); } /** * è·å–ç™¾é’±ç™¾é¸¡çš„ç»“æœå¹¶è¾“å‡º */ public static void getResultAndPrint() { for (int cockNum = 0; cockNum &lt; 20; cockNum++) { for (int henNum = 0; henNum &lt; 33; henNum++) { int chickNum = 100 - cockNum - henNum; if (5 * cockNum + 3 * henNum + chickNum / 3 == 100) { System.out .println(\"å…¬é¸¡ï¼š\" + cockNum + \"åª, æ¯é¸¡ï¼š\" + henNum + \"åª, å°é¸¡ï¼š\" + chickNum + \"åª\"); } } } } } ä¸Šé¢ä½¿ç”¨çš„æ–¹æ³•å«åš ç©·ä¸¾æ³•ï¼Œä¹Ÿç§°ä¸º æš´åŠ›æœç´¢æ³•ï¼Œè¿™ç§æ–¹æ³•é€šè¿‡ä¸€é¡¹ä¸€é¡¹çš„åˆ—ä¸¾å¤‡é€‰è§£å†³æ–¹æ¡ˆä¸­æ‰€æœ‰å¯èƒ½çš„å€™é€‰é¡¹å¹¶æ£€æŸ¥æ¯ä¸ªå€™é€‰é¡¹æ˜¯å¦ç¬¦åˆé—®é¢˜çš„æè¿°ï¼Œæœ€ç»ˆå¾—åˆ°é—®é¢˜çš„è§£ã€‚ è¿™ç§æ–¹æ³•çœ‹èµ·æ¥æ¯”è¾ƒç¬¨æ‹™ï¼Œä½†å¯¹äºè¿ç®—èƒ½åŠ›éå¸¸å¼ºå¤§çš„è®¡ç®—æœºæ¥è¯´ï¼Œé€šå¸¸éƒ½æ˜¯ä¸€ä¸ªå¯è¡Œçš„ç”šè‡³æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œè€Œä¸”é—®é¢˜çš„è§£å¦‚æœå­˜åœ¨ï¼Œè¿™ç§æ–¹æ³•ä¸€å®šèƒ½å¤Ÿæ‰¾åˆ°å®ƒã€‚ è¦ç‚¹å›é¡¾ åˆ†æ”¯ç»“æ„ if å’Œ else çš„ä½¿ç”¨å’Œå®ä¾‹ï¼› å¾ªç¯ç»“æ„ whileã€do...while å’Œ for å¾ªç¯çš„ä½¿ç”¨å’Œå®ä¾‹ï¼› æ§åˆ¶å¾ªç¯çš„ break å’Œ continue å®ä¾‹ï¼› æ„å»ºç¨‹åºé€»è¾‘çš„ç»ƒä¹ ï¼› ç»ƒä¹ ç»ƒä¹  1ï¼šç™¾åˆ†ä¹‹æˆç»©è½¬æ¢æˆç­‰çº§åˆ¶æˆç»© è¦æ±‚ï¼š å¦‚æœè¾“å…¥æˆç»©åœ¨ 90 åˆ†ä»¥ä¸Š (å« 90 åˆ†) è¾“å‡º Aï¼› 80 ~ 90 åˆ† (ä¸å« 90) è¾“å‡º Bï¼› 70 ~ 80 åˆ† (ä¸å« 80) è¾“å‡º Cï¼› 60 ~ 70 åˆ† (ä¸å« 70) è¾“å‡º Dï¼› 60 åˆ†ä»¥ä¸‹è¾“å‡º Eï¼› å‚è€ƒç­”æ¡ˆï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { Scanner scan = new Scanner(System.in); int score = scan.nextInt(); if (score >= 90) { System.out.println(\"A\"); } else if (score >= 80) { System.out.println(\"B\"); } else if (score >= 70) { System.out.println(\"C\"); } else if (score >= 60) { System.out.println(\"D\"); } else { System.out.println(\"E\"); } } } ç»ƒä¹  2ï¼šè¾“å…¥ä¸‰æ¡è¾¹é•¿ï¼Œå¦‚æœèƒ½æ„æˆä¸‰è§’å½¢å°±è®¡ç®—å‘¨é•¿å’Œé¢ç§¯å‚è€ƒç­”æ¡ˆï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { Scanner scan = new Scanner(System.in); double a = scan.nextDouble(); double b = scan.nextDouble(); double c = scan.nextDouble(); if (a + b > c &amp;&amp; a + c > b &amp;&amp; b + c > a) { double perimeter = a + b + c; System.out.println(\"ä¸‰è§’å½¢å‘¨é•¿ä¸ºï¼š\" + perimeter); double p = (a + b + c) / 2; double area = Math.sqrt(p * (p - a) * (p - b) * (p - c)); System.out.println(\"ä¸‰è§’å½¢é¢ç§¯ä¸ºï¼š\" + area); } else { System.out.println(\"ä¸èƒ½æ„æˆä¸‰è§’å½¢ï¼\"); } } } ç»ƒä¹  3ï¼šæ‰“å°å¦‚ä¸‹æ‰€ç¤ºçš„ä¸‰è§’å½¢å›¾æ¡ˆ* ** *** **** ***** * ** *** **** ***** * *** ***** ******* ********* å‚è€ƒç­”æ¡ˆï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { System.out.println(\"è¯·è¾“å…¥è¡Œæ•°ï¼š\"); Scanner scanner = new Scanner(System.in); int row = scanner.nextInt(); for (int i = 0; i &lt; row; i++) { for (int j = row - i - 1; j &lt; row; j++) { System.out.print(\"*\"); } // æ¢è¡Œ System.out.println(); } for (int i = 0; i &lt; row; i++) { for (int j = 0; j &lt; row; j++) { if (j &lt; row - i - 1) { System.out.print(\" \"); } else { System.out.print(\"*\"); } } // æ¢è¡Œ System.out.println(); } for (int i = 0; i &lt; row; i++) { for (int j = 0; j &lt; row - i - 1; j++) { System.out.print(\" \"); } for (int j = 0; j &lt; 2 * i + 1; j++) { System.out.print(\"*\"); } // æ¢è¡Œ System.out.println(); } } } è‡ªå–èµ„æ–™ä¼˜ç§€å…¥é—¨èµ„æ–™é€‰å– Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html Javaé›¶åŸºç¡€å…¥é—¨æ•™ç¨‹åŒ…å«é¢å‘å¯¹è±¡ - https://study.163.com/course/courseMain.htm?courseId=1003108028 ç½‘æ˜“äº‘è¯¾å ‚ - é¡¶å°–ä¸­æ–‡å¤§å­¦è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹ä½“ç³» - https://study.163.com/curricula/cs.htm TeachYourselfCS-CN (è‡ªå­¦è®¡ç®—æœºç§‘å­¦) - https://github.com/keithnull/TeachYourselfCS-CN Cè¯­è¨€ä¸­æ–‡ç½‘ Java å…¥é—¨ç³»åˆ—æ•™ç¨‹ - http://c.biancheng.net/java/10/ å»–é›ªå³° Java æ•™ç¨‹ - https://www.liaoxuefeng.com/wiki/1252599548343744 æ³¨é‡åŠ¨æ‰‹èƒ½åŠ›çš„ Java æ•™ç¨‹ - https://how2j.cn/ æ¨èä¹¦ç±Java æ ¸å¿ƒæŠ€æœ¯Â·å· I(åŸä¹¦ç¬¬ 11 ç‰ˆ) æ¨èç†ç”±ï¼š è¿™æœ¬ä¹¦åœ¨çŸ¥è¯†ä½“ç³»å®Œæ•´å……å®çš„åŒæ—¶ï¼Œåˆæ¯”ã€ŠThinking in Javaã€‹æš´é£å¼çš„çŸ¥è¯†æ´—ç¤¼æ¥å¾—è½»æ¾ï¼Œæ–°äººå…¥é—¨ä¹¦ç±å¼ºçƒˆæ¨èï¼ ç å‡ºé«˜æ•ˆï¼šJavaå¼€å‘æ‰‹å†Œ æ¨èç†ç”±ï¼š é˜¿é‡Œç³»å‡ºå“ã€‚ä»æœ€åŸºç¡€çš„è®¡ç®—æœºåŸºç¡€å…¥æ‰‹ï¼Œåˆ° Java çš„æ–¹æ–¹é¢é¢ï¼ŒåŠ ä¸Šç²¾ç¾çš„é…å›¾å’Œé€šä¿—æ˜“æ‡‚çš„è§£é‡Šï¼Œæ˜¯éå¸¸é€‚åˆæ–°æ‰‹é˜…è¯»çš„ä¸€æœ¬å„¿å…³äº Java çš„æŠ€æœ¯ä¹¦ç±ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å·Iã€‹(ç¬¬11ç‰ˆ) Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html#part02 èœé¸Ÿæ•™ç¨‹ - https://www.runoob.com/java/ Cè¯­è¨€ä¸­æ–‡ç½‘ Java å…¥é—¨ç³»åˆ—æ•™ç¨‹ - http://c.biancheng.net/java/10/ Python 100 å¤©ä»æ–°æ‰‹åˆ°å¤§å¸ˆ - https://github.com/jackfrued/Python-100-Days æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 2ï¼šå˜é‡ã€æ•°æ®ç±»å‹å’Œè¿ç®—ç¬¦","slug":"ã€ŒMoreThanJavaã€Day-2ï¼šå˜é‡ã€æ•°æ®ç±»å‹å’Œè¿ç®—ç¬¦","date":"2020-07-04T13:48:00.000Z","updated":"2020-08-16T07:50:03.163Z","comments":true,"path":"2020/07/04/morethanjava-day-2-bian-liang-shu-ju-lei-xing-he-yun-suan-fu/","link":"","permalink":"http://www.wmyskxz.com/2020/07/04/morethanjava-day-2-bian-liang-shu-ju-lei-xing-he-yun-suan-fu/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. æ•°æ®ç±»å‹ å‡è®¾æ‚¨é‡åˆ°äº†ä»¥ä¸‹æ’•ç¢çš„çº¸ç‰‡ï¼Œæ‚¨è§‰å¾—ä¼šæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ åœ¨ä¸äº†è§£ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹ï¼Œå¾ˆéš¾è¯´å‡º MIX çš„å«ä¹‰ï¼Œå®ƒå¯èƒ½æ˜¯ç½—é©¬æ•°å­— 1009ï¼Œä¹Ÿå¯ä»¥æ˜¯è‹±è¯­å•è¯ mix æˆ–è€…åˆ«çš„ä»€ä¹ˆä¸œè¥¿ã€‚ åœ¨ä¸çŸ¥é“ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸²å­—æ¯æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ ä¸ä¸€ä¸²å­—æ¯ä¸€æ ·ï¼Œä¸€ä¸² 01 çš„å«ä¹‰å–å†³äºå¦‚ä½•ä½¿ç”¨ã€‚è€Œå†³å®šè¿™ä¸€ä¸²æ•°æ®å¦‚ä½•ä½¿ç”¨çš„æ–¹æ¡ˆè¢«ç§°ä¸ºå…¶ æ•°æ®ç±»å‹ (è·Ÿæ–‡ä»¶ç±»å‹æœ‰äº›ç±»ä¼¼)ã€‚ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹Java æ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ã€‚è¿™æ„å‘³ç€å¿…é¡»ä¸ºæ¯ä¸€æ¡æ•°æ®å£°æ˜ä¸€ç§ç±»å‹ã€‚åœ¨ Java ä¸­å…±æœ‰ 8 ç§åŸºæœ¬ç±»å‹ (primitive type)*ï¼Œå…¶ä¸­ 4 ç§æ•´å‹ã€2 ç§æµ®ç‚¹ç±»å‹ã€1 ç§å­—ç¬¦ç±»å‹ã€1 ç§è¡¨ç¤ºçœŸå€¼çš„ boolean *(å¸ƒå°”) ç±»å‹ã€‚ æ•´å‹æ•´å‹è¢«ç”¨æ¥è¡¨ç¤ºæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å€¼ï¼Œå…è®¸æ˜¯è´Ÿæ•°ã€‚Java æä¾›äº† 4 ç§æ•´å‹ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š ç±»å‹ å­˜å‚¨éœ€æ±‚ å–å€¼èŒƒå›´ int 4 å­—èŠ‚ -2147483648 ~ 2147483647 (åˆšè¶…è¿‡ 20 äº¿ï¼Œè¿™ä¸ªæ•°å€¼ä¹Ÿå°±æ˜¯ 232 å¯¹åŠåˆ†æˆæ­£è´Ÿå€¼ï¼Œ32=4å­—èŠ‚*æ¯ä¸ªå­—èŠ‚8ä½) short 2 å­—èŠ‚ -32768 ~ 32767 long 8 å­—èŠ‚ -9223372036854775808 ~ 9223372036854775807 byte 1 å­—èŠ‚ -128 ~ 127 åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œint ç±»å‹æœ€å¸¸ç”¨ã€‚ä½†å¦‚æœæƒ³è¦è¡¨ç¤ºæ•´ä¸ªåœ°çƒçš„å±…ä½äººå£ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ long ç±»å‹äº†ã€‚byte å’Œ short ç±»å‹ä¸»è¦ç”¨äºç‰¹å®šçš„åº”ç”¨åœºåˆï¼Œä¾‹å¦‚ï¼Œåº•å±‚çš„æ–‡ä»¶å¤„ç†æˆ–è€…å­˜å‚¨ç©ºé—´å¾ˆå®è´µæ—¶çš„å¤§æ•°ç»„ (å› ä¸ºèŠ‚çº¦å†…å­˜)ã€‚ æµ®ç‚¹ç±»å‹æµ®ç‚¹ç±»å‹ç”¨äºè¡¨ç¤ºæœ‰å°æ•°éƒ¨åˆ†çš„æ•°å€¼ã€‚åœ¨ Java ä¸­æœ‰ä¸¤ç§æµ®ç‚¹ç±»å‹ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š ç±»å‹ å­˜å‚¨éœ€æ±‚ å–å€¼èŒƒå›´ float 4 å­—èŠ‚ å¤§çº¦ Â±3.40282347E + 38F (å¤§çº¦æœ‰æ•ˆæ•°ä¸º 6 ~ 7) double 8 å­—èŠ‚ å¤§çº¦ Â±1.7976931486231580E + 308 (å¤§çº¦æœ‰æ•ˆæ•°ä¸º 15 ä½) double è¡¨ç¤ºè¿™ç§ç±»å‹çš„æ•°å€¼ç²¾åº¦æ˜¯ float ç±»å‹çš„ä¸¤å€ (ä¹Ÿæœ‰äººç§° double ä¸ºåŒç²¾åº¦æ•°å€¼)ã€‚ æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜é—®ä¸€ä¸ªé—®é¢˜ï¼š0.1 + 0.2 = ï¼Ÿ å…ˆåˆ«å¥‡æ€ªï¼Œåœ¨ IDEA ä¸­å°è¯•ç€è¾“å‡ºä¸€ä¸‹è¿™å¥è¯å°±çŸ¥é“äº†ï¼š System.out.println(0.1 + 0.2); // è¾“å‡ºï¼š0.30000000000000004 0.1 + 0.2 ä¸ºä»€ä¹ˆä¼šç­‰äº 0.30000000000000004ï¼Ÿè€Œä¸æ˜¯æˆ‘ä»¬æƒ³è±¡ä¸­çš„ 0.3ï¼Ÿ è¿™ä¸æ˜¯å› ä¸ºå®ƒä»¬åœ¨è®¡ç®—æ—¶å‡ºç°äº†é”™è¯¯ï¼Œè€Œæ˜¯å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æ ‡å‡†çš„è¦æ±‚ã€‚ é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ä¸€ç‚¹ï¼šç¼–ç¨‹ä¸­çš„æµ®ç‚¹æ•°å¹¶ä¸èƒ½å’Œæ•°å­¦ä¸­çš„å°æ•°çœ‹åšåŒä¸€ä¸ªä¸œè¥¿ã€‚ ç¼–ç¨‹ä¸­çš„æµ®ç‚¹æ•°çš„ç²¾åº¦å¾€å¾€éƒ½æ˜¯æœ‰é™çš„ï¼Œå•ç²¾åº¦çš„æµ®ç‚¹æ•°ä½¿ç”¨ 32 ä½è¡¨ç¤ºï¼Œè€ŒåŒç²¾åº¦çš„æµ®ç‚¹æ•°ä½¿ç”¨ 64 ä½è¡¨ç¤ºï¼› æ•°å­¦ä¸­çš„å°æ•°ç³»ç»Ÿå¯ä»¥é€šè¿‡å¼•å…¥æ— é™åºåˆ—â€¦.å¯ä»¥è¡¨ç¤ºä»»æ„çš„å®æ•°ï¼› è¯·è€ƒè™‘ä½¿ç”¨ åè¿›åˆ¶ è¡¨ç¤º 1/3ï¼š 0.3333333333333333.... å¦‚æœæƒ³è¦å®Œæ•´åœ°è¡¨è¾¾ 1/3 çš„ç²¾åº¦ï¼Œé‚£ä¹ˆå°æ•°ç‚¹ä¹‹åçš„ 3 éœ€è¦æ— é™åœ°å†™ä¸‹å»ã€‚å¦‚æœéœ€è¦è®©ä½ åœ¨ä¸€å¼ çº¸ä¸Šè¡¨è¾¾æ¸…æ™°ï¼Œæ˜¾ç„¶ç”±äºçº¸å¼ å¤§å°çš„é™åˆ¶ä½ æ— æ³•æ— é™åœ°å†™ä¸‹å»â€¦ 0.1 å’Œ 0.2 åœ¨ äºŒè¿›åˆ¶ ä¸­åŒ 1/3 åœ¨ åè¿›åˆ¶ ä¸­ä¸€æ ·ï¼Œä¸å±äºæ•´æ•°çš„èŒƒç•´ï¼Œæ‰€ä»¥åªèƒ½ç”¨è¿‘ä¼¼å€¼æ¥ä»£æ›¿ï¼Œç”±äºç²¾åº¦çš„é™åˆ¶ 0.1 å’Œ 0.2 ä½¿ç”¨å•ç²¾åº¦æµ®ç‚¹æ•°è¡¨ç¤ºçš„å®é™…å€¼ä¸ºï¼š0.100000001490116119384765625 å’Œ 0.20000000298023223876953125ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ èµ·æ¥å¾—åˆ°çš„ç»“æœä¸æˆ‘ä»¬åœ¨ä¸€å¼€å§‹çœ‹åˆ°çš„éå¸¸ç›¸ä¼¼ï¼š åœ¨äº¤æ˜“ç³»ç»Ÿæˆ–è€…ç§‘å­¦è®¡ç®—çš„åœºæ™¯ä¸­ï¼Œå¦‚æœéœ€è¦æ›´é«˜çš„ç²¾åº¦å°æ•°ï¼Œå¯ä»¥ä½¿ç”¨å…·æœ‰ 28 ä¸ªæœ‰æ•ˆä½æ•°çš„ decimal æˆ–è€…ç›´æ¥ä½¿ç”¨åˆ†æ•°ï¼Œä¸è¿‡è¿™äº›è¡¨ç¤ºæ–¹æ³•çš„å¼€é”€ä¹Ÿéšç€æœ‰æ•ˆä½æ•°çš„å¢åŠ è€Œæé«˜ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§éœ€è¦é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ³•ã€‚ é‡æ–°å›åˆ°æœ€å¼€å§‹çš„é—®é¢˜ â€” 0.1 å’Œ 0.2 ç›¸åŠ ä¸ç­‰äº 0.3 çš„åŸå› åŒ…æ‹¬ä»¥ä¸‹ä¸¤ä¸ªï¼š ä½¿ç”¨äºŒè¿›åˆ¶è¡¨è¾¾åè¿›åˆ¶çš„å°æ•°æ—¶ï¼ŒæŸäº›æ•°å­—æ— æ³•è¢«æœ‰é™ä½çš„äºŒè¿›åˆ¶å°æ•°è¡¨ç¤ºï¼› å•ç²¾åº¦å’ŒåŒç²¾åº¦çš„æµ®ç‚¹æ•°åªåŒ…æ‹¬ 7 ä½æˆ–è€… 15 ä½çš„æœ‰æ•ˆå°æ•°ä½ï¼Œå­˜å‚¨éœ€è¦æ— é™ä½è¡¨ç¤ºçš„å°æ•°æ—¶åªèƒ½å­˜å‚¨è¿‘ä¼¼å€¼ï¼› åœ¨ä½¿ç”¨å•ç²¾åº¦å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°æ—¶ä¹Ÿåº”è¯¥ç‰¢è®°å®ƒä»¬åªæœ‰ 7 ä½å’Œ 15 ä½çš„æœ‰æ•ˆä½æ•°ã€‚ char ç±»å‹char ç”¨æ¥è¡¨ç¤ºå•ä¸ªå­—ç¬¦ã€‚åœ¨ Java ä¸­ char ç±»å‹çš„æ•°æ®ä½¿ç”¨ 16 ä½æ¥å­˜å‚¨å’Œè¡¨ç¤ºï¼Œè€Œè®¸å¤šç¼–ç¨‹è¯­è¨€åˆ™ä»…ç”¨ 8 ä½ã€‚ char ç±»å‹çš„å­—é¢é‡å€¼éœ€è¦ç”¨ å•å¼•å· æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼š&#39;A&#39; æ˜¯ç¼–ç å€¼ä¸º 65 çš„ å­—ç¬¦å¸¸é‡ï¼Œå®ƒä¸ &quot;A&quot; ä¸åŒï¼Œ&quot;A&quot; æ˜¯ä»…åŒ…å«å­—ç¬¦ A çš„ å­—ç¬¦ä¸² (String ç±»å‹)ã€‚ å¼ºçƒˆå»ºè®®ï¼šä¸è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨ char ç±»å‹ï¼Œé™¤éæ‚¨ç¡®å®éœ€è¦å¤„ç† UTF-16 ä»£ç å•å…ƒã€‚ (æ›´å¤šç›¸å…³èµ„æ–™æ”¾å…¥äº†ä¸‹é¢çš„è‡ªå–èµ„æ–™ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»é˜…è¯»ä¸€ä¸‹æ›´å¤š char ç±»å‹çš„ä¸œè¥¿ï¼Œä¸æ„Ÿå…´è¶£è·³è¿‡å³å¯â€¦) boolean ç±»å‹boolean (å¸ƒå°”) ç±»å‹æœ‰ä¸¤ä¸ªå€¼ï¼šfalse å’Œ true (æ³¨æ„è¿™ä¸¤ä¸ªæ˜¯å¸ƒå°”ç±»å‹çš„å­—é¢å¸¸é‡ä¹Ÿæ˜¯ä¿ç•™å­—)ï¼Œç”¨æ¥åˆ¤æ–­é€»è¾‘æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚ å¯¹è±¡ç±»å‹Java ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å±äºã€ŒåŸºæœ¬æ•°æ®ç±»å‹ã€æˆ–ã€Œå¯¹è±¡ã€ä¸­çš„ä¸€ç§ã€‚ è™½ç„¶åªæœ‰å…«ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½† Java æœ‰è®¸å¤šæ»¡è¶³æ‚¨éœ€æ±‚çš„ç›¸å…³ç±»å‹çš„å¯¹è±¡ä¾›æ‚¨ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²çš„ String ç±»å‹ã€‚ æˆ‘ä»¬ä¼šåœ¨ä¹‹åçš„å†…å®¹ä¸­æ›´å¤šåœ°è®¨è®ºå¯¹è±¡ (å› ä¸º Java æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€)ï¼Œç°åœ¨ï¼Œæ‚¨éœ€è¦äº†è§£ä»¥ä¸‹ä¿¡æ¯ï¼š åŸºæœ¬æ•°æ®ç±»å‹ä½¿ç”¨å°‘é‡çš„å›ºå®šå­—èŠ‚æ•° (ä¸‹é¢ä¼šè¯¦ç»†ä»‹ç»)ï¼› åªæœ‰ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‚¨æ— æ³•åˆ›å»ºæ–°çš„åŸå§‹æ•°æ®ç±»å‹ï¼› ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªè¾ƒå¤§çš„æ•°æ®å—ï¼Œå¯èƒ½ä½¿ç”¨å¾ˆå¤šå­—èŠ‚çš„å†…å­˜ï¼› å¯¹è±¡ç±»å‹çš„æ•°æ®è¢«ç§°ä¸º ç±»ï¼› Java ä¸­å·²ç»å°è£…äº†è¶³å¤Ÿå¤šçš„ç±»ç”¨æ¥æ»¡è¶³æ‚¨å„ç±»çš„éœ€æ±‚ï¼Œæ‚¨ä¹Ÿå¯ä»¥å‘æ˜æ–°çš„ç±»æ¥æ»¡è¶³ç¨‹åºçš„ç‰¹å®šéœ€æ±‚ï¼› Part 2. å˜é‡ è®¡ç®—æœºå†…å­˜ä¸­æœ‰æ•°ä»¥åäº¿è®¡çš„å­—èŠ‚ç”¨äºå­˜å‚¨æœºå™¨æŒ‡ä»¤å’Œæ•°æ®ã€‚ ç¨‹åºè¿è¡Œæ—¶ï¼ŒæŸäº›å†…å­˜ç”¨äºå­˜å‚¨æœºå™¨æŒ‡ä»¤ï¼Œè€Œå¦å¤–ä¸€äº›åˆ™ç”¨äºå­˜å‚¨æ•°æ®ã€‚åæ¥ï¼Œå½“å¦ä¸€ä¸ªç¨‹åºè¿è¡Œæ—¶ï¼Œä»¥å‰ä¿å­˜çš„æœºå™¨æŒ‡ä»¤ä¸­çš„æŸäº›å­—èŠ‚ç°åœ¨å¯ä»¥ç”¨æ¥ä¿å­˜æ•°æ®ï¼Œè€Œä¹‹å‰ä¿å­˜çš„æ•°æ®ä¸­çš„æŸäº›å­—èŠ‚ç°åœ¨å¯ä»¥ä¿å­˜æœºå™¨æŒ‡ä»¤ã€‚ è®¡ç®—æœºå…ˆé©± çº¦ç¿°Â·å†¯Â·è¯ºä¾æ›¼ (John von Neumann) çš„æƒ³æ³•æ˜¯ï¼šä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å™¨æ¥å­˜å‚¨æŒ‡ä»¤å’Œæ•°æ®ã€‚ å›æƒ³ä¸€ä¸‹ï¼Œæ•°æ®ç±»å‹æ˜¯ä¸€ç§ä½¿ç”¨ä½æ¨¡å¼æ¥è¡¨ç¤ºå€¼çš„æ–¹æ¡ˆã€‚ å¯ä»¥æŠŠ å˜é‡ è§†ä¸ºä¸€ä¸ªç”±ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ç»„æˆçš„å°ç›’å­ï¼Œè¯¥ç›’å­å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ç±»å‹ä¿å­˜å€¼ã€‚ è¦å°†å€¼å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»¥åå†å–å›å®ƒï¼Œåˆ™ç¨‹åºå¿…é¡»ä¸ºæ¯ä¸ªå˜é‡æŒ‡å®šä¸€ä¸ªåç§°ï¼Œå¦‚ className/ payAmount (å˜é‡åé‡‡ç”¨å°é©¼å³°å‘½åæ³•)ã€‚ å˜é‡éšè¿è¡Œç¨‹åºçš„éœ€è¦è€Œå˜åŒ–ã€‚å½“æ­£åœ¨è¿è¡Œçš„ç¨‹åºä¸å†éœ€è¦å˜é‡æ—¶ï¼Œè¯¥å†…å­˜éƒ¨åˆ†å¯ç”¨äºå…¶ä»–ç›®çš„ã€‚ å£°æ˜å˜é‡åœ¨ Java ä¸­ï¼Œæ¯ä¸ªå˜é‡éƒ½å¿…é¡»æœ‰ä¸€ä¸ªç±»å‹ (type)ã€‚åœ¨å£°æ˜å˜é‡æ—¶ï¼Œéœ€è¦å…ˆæŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œç„¶åæ˜¯å˜é‡åï¼š double salary; int vacationDays; long earthPopluation; boolean finished; å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªå˜é‡éƒ½ä»¥åˆ†å· (;) ç»“æŸã€‚ç”±äºå£°æ˜æ˜¯ä¸€æ¡å®Œæ•´çš„ Java è¯­å¥ï¼Œè€Œæ‰€æœ‰çš„ Java è¯­å¥éƒ½ä»¥åˆ†å·ç»“æŸï¼Œæ‰€ä»¥è¿™é‡Œçš„åˆ†å·æ˜¯å¿…é¡»çš„ã€‚ å˜é‡å‘½ååœ¨ Java ä¸­ï¼Œå˜é‡å‘½åéœ€è¦éµå¾ªä»¥ä¸‹ç¡¬æ€§è§„å®šå’Œå¼ºçƒˆå»ºè®®éµå®ˆçš„éç¡¬æ€§è§„å®šï¼š ç¡¬æ€§è§„åˆ™ å˜é‡åå¿…é¡»æ˜¯ä¸€ä¸ªä»¥å­—æ¯å¼€å¤´å¹¶ç”±å­—æ¯æˆ–æ•°å­—æ„æˆçš„åºåˆ— (å°½ç®¡ $ æ˜¯åˆæ³•çš„ï¼Œä½†ä¸è¦åœ¨ä½ è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªå­—ç¬¦ï¼Œå®ƒåªç”¨åœ¨ Java ç¼–è¯‘å™¨æˆ–å…¶ä»–å·¥å…·ç”Ÿæˆçš„åå­—ä¸­)ï¼› æ¯ä¸€ä¸ªå­—ç¬¦éƒ½æœ‰æ„ä¹‰ï¼Œä¸”å¤§å°å†™æ•æ„Ÿï¼› ä¸è¦ä½¿ç”¨ Java ä¸­çš„ä¿ç•™å­—ï¼› ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹è§„åˆ™ ã€å¼ºåˆ¶ã€‘ ä»£ç ä¸­çš„å‘½å (æ‰€æœ‰æ ‡è¯†ç¬¦) å‡ä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·å¼€å§‹ï¼Œä¹Ÿä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ç»“æŸï¼›(åä¾‹: $name) ã€å¼ºåˆ¶] ä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³ä¸è‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ï¼›(åä¾‹ï¼šDaZhePromotion - æ‰“æŠ˜) ã€å¼ºåˆ¶ã€‘ æœç»å®Œå…¨ä¸è§„èŒƒçš„ç¼©å†™ï¼Œé¿å…è¯ä¸è¾¾æ„ï¼›(åä¾‹ï¼šcondition ç¼©å†™æˆ condi) ã€æ¨èã€‘ ä¸ºäº†è¾¾åˆ°ä»£ç è‡ªè§£é‡Šçš„ç›®çš„ï¼Œä»»ä½•è‡ªå®šä¹‰ç¼–ç¨‹å…ƒç´ åœ¨å‘½åæ—¶ï¼Œä½¿ç”¨å°½é‡å®Œæ•´çš„å•è¯ç»„åˆæ¥è¡¨è¾¾å…¶æ„ï¼›(åä¾‹ï¼šint a; çš„éšæ„å‘½åæ–¹å¼) å˜é‡åˆå§‹åŒ–å£°æ˜ä¸€ä¸ªå˜é‡ä¹‹åï¼Œå¿…é¡»ç”¨èµ‹å€¼è¯­å¥å¯¹å˜é‡è¿›è¡Œæ˜¾å¼åˆå§‹åŒ–ï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡çš„å€¼ã€‚ä¾‹å¦‚ï¼ŒJava ç¼–è¯‘å™¨è®¤ä¸ºä¸‹é¢çš„è¯­å¥åºåˆ—æ˜¯é”™è¯¯çš„ï¼š int amount; System.out.println(amount); // ERROR -- variable not initialized è¦ç›¸å¯¹ä¸€ä¸ªå·²ç»å£°æ˜è¿‡çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå°±éœ€è¦å°†å˜é‡åæ”¾åœ¨ç­‰å· (=) å·¦ä¾§ï¼Œå†æŠŠä¸€ä¸ªé€‚å½“å–å€¼æ”¾åœ¨ç­‰å·çš„å³ä¾§ï¼š int amount; amount = 12; ä¹Ÿå¯ä»¥å°†å˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–æ”¾åœ¨åŒä¸€è¡Œä¸­ã€‚ä¾‹å¦‚ï¼š int amount = 12; æœ€åï¼Œåœ¨ Java ä¸­å¯ä»¥å°†å£°æ˜æ”¾åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹ã€‚ ä½†è®©å˜é‡å°½å¯èƒ½åœ°é è¿‘å˜é‡ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„åœ°æ–¹ï¼Œè¿™æ˜¯ä¸€ç§è‰¯å¥½çš„ç¨‹åºç¼–å†™é£æ ¼ã€‚ å˜é‡ä½¿ç”¨èŒƒä¾‹æˆ‘ä»¬æ¥ä½¿ç”¨å˜é‡å®Œæˆä¸¤ä¸ªæ•°çš„åŠ å‡ä¹˜é™¤ï¼š int num1 = 2; int num2 = 3; System.out.println(num1 + num2); System.out.println(num1 - num2); System.out.println(num1 * num2); System.out.println(num1 / num2); Part 3. è¿ç®—ç¬¦ è®¡ç®—æœºçš„æœ€åŸºæœ¬ç”¨é€”ä¹‹ä¸€å°±æ˜¯æ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œä½œä¸ºä¸€é—¨è®¡ç®—æœºè¯­è¨€ï¼ŒJava ä¹Ÿæä¾›äº†ä¸€å¥—ä¸°å¯Œçš„è¿ç®—ç¬¦æ¥æ“çºµå˜é‡ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿ç®—ç¬¦åˆ†æˆä»¥ä¸‹å‡ ç»„ï¼š ç®—æœ¯è¿ç®—ç¬¦; å…³ç³»è¿ç®—ç¬¦; ä½è¿ç®—ç¬¦; é€»è¾‘è¿ç®—ç¬¦; èµ‹å€¼è¿ç®—ç¬¦; å…¶ä»–è¿ç®—ç¬¦; ç®—æœ¯è¿ç®—ç¬¦ç®—æœ¯è¿ç®—ç¬¦ç”¨åœ¨æ•°å­¦è¡¨è¾¾å¼ä¸­ï¼Œå®ƒä»¬çš„ä½œç”¨å’Œåœ¨æ•°å­¦ä¸­çš„ä½œç”¨ä¸€æ ·ã€‚ä¸‹è¡¨åˆ—å‡ºäº†æ‰€æœ‰çš„ç®—æœ¯è¿ç®—ç¬¦ã€‚ è¡¨æ ¼ä¸­çš„å®ä¾‹å‡è®¾æ•´æ•°å˜é‡ A çš„å€¼ä¸º 10ï¼Œå˜é‡ B çš„å€¼ä¸º 20ï¼š å®ä¾‹ä¸‹é¢çš„ç®€å•ç¤ºä¾‹ç¨‹åºæ¼”ç¤ºäº†ç®—æœ¯è¿ç®—ç¬¦ã€‚å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ Java ç¨‹åºå¹¶ä¿å­˜ä¸º Test.java æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªç¨‹åºï¼š public class Test { public static void main(String[] args) { int a = 10; int b = 20; int c = 25; int d = 25; System.out.println(\"a + b = \" + (a + b)); System.out.println(\"a - b = \" + (a - b)); System.out.println(\"a * b = \" + (a * b)); System.out.println(\"b / a = \" + (b / a)); System.out.println(\"b % a = \" + (b % a)); System.out.println(\"c % a = \" + (c % a)); System.out.println(\"a++ = \" + (a++)); System.out.println(\"a-- = \" + (a--)); // æŸ¥çœ‹ d++ ä¸ ++d çš„ä¸åŒ System.out.println(\"d++ = \" + (d++)); System.out.println(\"++d = \" + (++d)); } } è¿è¡Œç»“æœï¼š a + b = 30 a - b = -10 a * b = 200 b / a = 2 b % a = 0 c % a = 5 a++ = 10 a-- = 11 d++ = 25 ++d = 27 i++ ä¸ ++i åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿå®é™…ä¸Šï¼Œä¸ç®¡æ˜¯å‰ç½® ++ï¼Œè¿˜æ˜¯åç½® ++ï¼Œéƒ½æ˜¯å…ˆå°†å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åæ‰ç»§ç»­è®¡ç®—çš„ã€‚ äºŒè€…ä¹‹é—´çœŸæ­£çš„åŒºåˆ«æ˜¯ï¼šå‰ç½® ++ æ˜¯å°†å˜é‡çš„å€¼åŠ  1 åï¼Œä½¿ç”¨å¢å€¼åçš„å˜é‡è¿›è¡Œè¿ç®—çš„ï¼Œè€Œåç½® ++ æ˜¯é¦–å…ˆå°†å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥ä¸‹æ¥å¯¹å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åä½¿ç”¨é‚£ä¸ªä¸´æ—¶å˜é‡è¿›è¡Œè¿ç®—ã€‚ å…³ç³»è¿ç®—ç¬¦ä¸‹è¡¨ä¸ºJavaæ”¯æŒçš„å…³ç³»è¿ç®—ç¬¦ã€‚ è¡¨æ ¼ä¸­çš„å®ä¾‹æ•´æ•°å˜é‡ A çš„å€¼ä¸º 10ï¼Œå˜é‡ B çš„å€¼ä¸º 20ï¼š å®ä¾‹ä¸‹é¢çš„ç®€å•ç¤ºä¾‹ç¨‹åºæ¼”ç¤ºäº†å…³ç³»è¿ç®—ç¬¦ã€‚å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ Java ç¨‹åºå¹¶ä¿å­˜ä¸º Test.java æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªç¨‹åºï¼š public class Test { public static void main(String[] args) { int a = 10; int b = 20; System.out.println(\"a == b = \" + (a == b)); System.out.println(\"a != b = \" + (a != b)); System.out.println(\"a > b = \" + (a > b)); System.out.println(\"a &lt; b = \" + (a &lt; b)); System.out.println(\"b >= a = \" + (b >= a)); System.out.println(\"b &lt;= a = \" + (b &lt;= a)); } } è¿è¡Œç»“æœï¼š a == b = false a != b = true a > b = false a < b = true b >= a = true b > 2; /* 15 = 1111 */ System.out.println(\"a >> 2 = \" + c); c = a >>> 2; /* 15 = 0000 1111 */ System.out.println(\"a >>> 2 = \" + c); } } è¿è¡Œç»“æœï¼š a & b = 12 a | b = 61 a ^ b = 49 ~a = -61 a < 2 = 240 a >> 2 = 15 a >>> 2 = 15>= 2; System.out.println(\"c >>= 2 = \" + c); c >>= 2; System.out.println(\"c >>= 2 = \" + c); c &amp;= a; System.out.println(\"c &amp;= a = \" + c); c ^= a; System.out.println(\"c ^= a = \" + c); c |= a; System.out.println(\"c |= a = \" + c); } } è¿è¡Œç»“æœï¼š c = a + b = 30 c += a = 40 c -= a = 30 c *= a = 300 c /= a = 1 c %= a = 5 c = 2 = 5 c >>= 2 = 1 c &= a = 0 c ^= a = 10 c |= a = 10 å…¶ä»–è¿ç®—ç¬¦æ¡ä»¶è¿ç®—ç¬¦ (?:)æ¡ä»¶è¿ç®—ç¬¦ä¹Ÿè¢«ç§°ä¸ºä¸‰å…ƒè¿ç®—ç¬¦ã€‚è¯¥è¿ç®—ç¬¦æœ‰ 3 ä¸ªæ“ä½œæ•°ï¼Œå¹¶ä¸”éœ€è¦åˆ¤æ–­å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ã€‚è¯¥è¿ç®—ç¬¦çš„ä¸»è¦æ˜¯å†³å®šå“ªä¸ªå€¼åº”è¯¥èµ‹å€¼ç»™å˜é‡ã€‚ variable x = (expression) ? value if true : value if false å®ä¾‹ä¸‹é¢çš„ç®€å•ç¤ºä¾‹ç¨‹åºæ¼”ç¤ºäº†å…³ç³»è¿ç®—ç¬¦ã€‚å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ Java ç¨‹åºå¹¶ä¿å­˜ä¸º Test.java æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘å¹¶è¿è¡Œè¿™ä¸ªç¨‹åºï¼š public class Test { public static void main(String[] args) { int a, b; a = 10; // å¦‚æœ a ç­‰äº 1 æˆç«‹ï¼Œåˆ™è®¾ç½® b ä¸º 20ï¼Œå¦åˆ™ä¸º 30 b = (a == 1) ? 20 : 30; System.out.println(\"Value of b is : \" + b); // å¦‚æœ a ç­‰äº 10 æˆç«‹ï¼Œåˆ™è®¾ç½® b ä¸º 20ï¼Œå¦åˆ™ä¸º 30 b = (a == 10) ? 20 : 30; System.out.println(\"Value of b is : \" + b); } } è¿è¡Œç»“æœï¼š Value of b is : 30 Value of b is : 20 instanceof è¿ç®—ç¬¦è¯¥è¿ç®—ç¬¦ç”¨äºæ“ä½œå¯¹è±¡å®ä¾‹ï¼Œæ£€æŸ¥è¯¥å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç‰¹å®šç±»å‹ï¼ˆç±»ç±»å‹æˆ–æ¥å£ç±»å‹ï¼‰ã€‚ instanceof è¿ç®—ç¬¦ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š ( Object reference variable ) instanceof (class/interface type) å¦‚æœè¿ç®—ç¬¦å·¦ä¾§å˜é‡æ‰€æŒ‡çš„å¯¹è±¡ï¼Œæ˜¯æ“ä½œç¬¦å³ä¾§ç±»æˆ–æ¥å£ (class/interface) çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆç»“æœä¸ºçœŸã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š String name = \"James\"; boolean result = name instanceof String; // ç”±äº name æ˜¯ String ç±»å‹ï¼Œæ‰€ä»¥è¿”å›çœŸ è¦ç‚¹å›é¡¾ Java æ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œä»»ä½•ä¸€ç§æ•°æ®éƒ½å±äº 1 ç§åŸºæœ¬ç±»å‹æˆ–è€…å¯¹è±¡ç±»å‹ (ç±») ä¸­çš„ä¸€ç§ï¼› 8 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼› ä¸ºä»€ä¹ˆå¼•å…¥å˜é‡ã€å¦‚ä½•å®šä¹‰ä½¿ç”¨å˜é‡ä»¥åŠå˜é‡åçš„å‘½åè§„èŒƒï¼› Java ä¸­çš„è¿ç®—ç¬¦ä»¥åŠä½¿ç”¨å®ä¾‹ï¼› ç»ƒä¹ è·å–ç”¨æˆ·è¾“å…¥ Scannerjava.util.Scanner æ˜¯ Java5 çš„æ–°ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Scanner ç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ã€‚ ä¸‹é¢æ˜¯åˆ›å»º Scanner å¯¹è±¡çš„åŸºæœ¬è¯­æ³•ï¼š Scanner scanner = new Scanner(System.in); åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¯¥ç±»çš„ nextLine() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºè¯»å–å­—ç¬¦ä¸²ï¼š import java.util.Scanner; // Import the Scanner class class MyClass { public static void main(String[] args) { Scanner scanner = new Scanner(System.in); // Create a Scanner object System.out.println(\"Enter username\"); String userName = scanner.nextLine(); // Read user input System.out.println(\"Username is: \" + userName); // Output user input } } è¾“å…¥ç±»å‹åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† nextLine() ç”¨äºè¯»å–å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚è¦é˜…è¯»å…¶ä»–ç±»å‹ï¼Œè¯·æŸ¥çœ‹ä¸‹è¡¨ï¼š å¼•ç”¨è‡ªï¼šhttps://www.w3schools.com/java/java_user_input.asp ç»ƒä¹  1ï¼šè¾“å…¥åœ†çš„åŠå¾„è®¡ç®—å‘¨é•¿å’Œé¢ç§¯å‚è€ƒç­”æ¡ˆï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { System.out.println(\"è¯·è¾“å…¥åœ†çš„åŠå¾„ï¼š\"); Scanner scanner = new Scanner(System.in); int radius = scanner.nextInt(); // è®¡ç®—å‘¨é•¿å’Œé¢ç§¯ double area = radius * radius * 3.14; double perimeter = 2 * 3.14 * radius; System.out.println(\"è¯¥åœ†çš„é¢ç§¯ä¸ºï¼š\" + area); System.out.println(\"è¯¥åœ†çš„å‘¨é•¿ä¸ºï¼š\" + perimeter); } } ç»ƒä¹  2ï¼šè¾“å…¥å¹´ä»½åˆ¤æ–­æ˜¯ä¸æ˜¯é—°å¹´æç¤ºï¼š é—°å¹´éœ€è¦æ»¡è¶³ï¼š èƒ½è¢« 4 æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½è¢« 100 æ•´é™¤ï¼› æˆ–è€…èƒ½è¢« 400 æ•´é™¤ï¼› å‚è€ƒç­”æ¡ˆï¼š import java.util.Scanner; public class Tester { public static void main(String[] args) { System.out.println(\"è¯·è¾“å…¥å¹´ä»½ï¼š\"); Scanner scanner = new Scanner(System.in); int year = scanner.nextInt(); boolean leapYear; boolean divisbleBy4 = year % 4 == 0; boolean notDivisbleBy100 = year % 100 != 0; boolean divisibleBy400 = year % 400 == 0; leapYear = (divisbleBy4 &amp;&amp; notDivisbleBy100) || divisibleBy400; System.out.println(\"è¯¥å¹´ä»½æ˜¯å¦æ˜¯é—°å¹´ï¼š\" + leapYear); } } è‡ªå–èµ„æ–™æ‰©å±•é˜…è¯»æ¨è Java åŸºæœ¬æ•°æ®ç±»å‹ | èœé¸Ÿæ•™ç¨‹ - https://www.runoob.com/java/java-basic-datatypes.html æµ®ç‚¹ç±»å‹ç²¾åº¦æ·±åº¦è®¨è®ºï¼š ä¸ºä»€ä¹ˆ 0.1 + 0.2 = 0.3ï¼Ÿ - https://draveness.me/whys-the-design-decimal-and-rational/ ä¸ºä»€ä¹ˆ 0.1 + 0.2 = 0.300000004ï¼Ÿ - https://draveness.me/whys-the-design-floating-point-arithmetic/#fn:2 IEEE754æ ‡å‡†: æµ®ç‚¹æ•°åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ - https://www.jianshu.com/p/8ee02e9bb57d ä¸ºä»€ä¹ˆJavaä¸­charç±»å‹ä¸èƒ½å®Œæ•´è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Ÿ - https://fookwood.com/java-string-charset-char æ¨èä¹¦ç±Java æ ¸å¿ƒæŠ€æœ¯Â·å· I(åŸä¹¦ç¬¬ 11 ç‰ˆ) æ¨èç†ç”±ï¼š è¿™æœ¬ä¹¦åœ¨çŸ¥è¯†ä½“ç³»å®Œæ•´å……å®çš„åŒæ—¶ï¼Œåˆæ¯”ã€ŠThinking in Javaã€‹æš´é£å¼çš„çŸ¥è¯†æ´—ç¤¼æ¥å¾—è½»æ¾ï¼Œæ–°äººå…¥é—¨ä¹¦ç±å¼ºçƒˆæ¨èï¼ ç å‡ºé«˜æ•ˆï¼šJavaå¼€å‘æ‰‹å†Œ æ¨èç†ç”±ï¼š é˜¿é‡Œç³»å‡ºå“ã€‚ä»æœ€åŸºç¡€çš„è®¡ç®—æœºåŸºç¡€å…¥æ‰‹ï¼Œåˆ° Java çš„æ–¹æ–¹é¢é¢ï¼ŒåŠ ä¸Šç²¾ç¾çš„é…å›¾å’Œé€šä¿—æ˜“æ‡‚çš„è§£é‡Šï¼Œæ˜¯éå¸¸é€‚åˆæ–°æ‰‹é˜…è¯»çš„ä¸€æœ¬å„¿å…³äº Java çš„æŠ€æœ¯ä¹¦ç±ã€‚ å‚è€ƒèµ„æ–™ Introduction to Computer Science using Java - http://programmedlessons.org/Java9/index.html#part02 Java è¿ç®—ç¬¦ | èœé¸Ÿæ•™ç¨‹ - https://www.runoob.com/java/java-operators.html ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å·Iã€‹(ç¬¬11ç‰ˆ) æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Day 1ï¼šç¯å¢ƒæ­å»ºå’Œç¨‹åºåŸºæœ¬ç»“æ„å…ƒç´ ","slug":"ã€ŒMoreThanJavaã€Day-1ï¼šç¯å¢ƒæ­å»ºå’Œç¨‹åºåŸºæœ¬ç»“æ„å…ƒç´ ","date":"2020-07-03T09:41:00.000Z","updated":"2020-08-16T07:50:03.202Z","comments":true,"path":"2020/07/03/morethanjava-day-1-huan-jing-da-jian-he-cheng-xu-ji-ben-jie-gou-yuan-su/","link":"","permalink":"http://www.wmyskxz.com/2020/07/03/morethanjava-day-1-huan-jing-da-jian-he-cheng-xu-ji-ben-jie-gou-yuan-su/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 0. æ­å»ºå¥½å¼€å‘ç¯å¢ƒ å›¾ç‰‡æ¥æºï¼šhttps://developer.51cto.com/art/201907/599480.htm åœ¨ä¸€åˆ‡å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ­å»ºå¥½æˆ‘ä»¬çš„ å¼€å‘ç¯å¢ƒ (ä»å‰æ–‡å¾—çŸ¥ Java ç¨‹åºçš„è¿è¡Œéœ€è¦ JVMï¼Œç¼–å†™ Java ä»£ç éœ€è¦ IDE)*ï¼Œæˆ–è€…åœ¨æ‚¨å®Œå…¨å‡†å¤‡å¥½ä¹‹å‰å¯ä»¥ *æš‚æ—¶ä½¿ç”¨ åœ¨çº¿ç‰ˆæœ¬çš„ Java ç¯å¢ƒæ¥è¿è¡Œå‰é¢ä¸€äº›å†…å®¹æ¶‰åŠçš„ç®€å•ä»£ç ï¼šhttps://c.runoob.com/compile/10 å®‰è£… JDK å¹¶é…ç½®ç¯å¢ƒJVMã€JRE å’Œ JDK æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ JVMï¼ˆJava Virtual Machineï¼ŒJava è™šæ‹Ÿæœºï¼‰ï¼šæ˜¯æ•´ä¸ª Java å®ç°è·¨å¹³å°çš„æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œèƒ½å¤Ÿè¿è¡Œä»¥ Java è¯­è¨€å†™ä½œçš„è½¯ä»¶ç¨‹åºã€‚ JREï¼ˆJava Runtime Environmentï¼ŒJava è¿è¡Œç¯å¢ƒï¼‰ï¼šæ˜¯è¿è¡Œ JAVA ç¨‹åºæ‰€å¿…é¡»çš„ç¯å¢ƒçš„é›†åˆï¼ŒåŒ…å« JVM æ ‡å‡†å®ç°åŠ Java æ ¸å¿ƒç±»åº“ã€‚ JDKï¼ˆJava Development Kidï¼ŒJava å¼€å‘å¼€æºå·¥å…·åŒ…ï¼‰ï¼šæ˜¯é’ˆå¯¹ Java å¼€å‘äººå‘˜çš„äº§å“ï¼Œæ˜¯æ•´ä¸ª Java çš„æ ¸å¿ƒï¼ŒåŒ…æ‹¬äº† Java è¿è¡Œç¯å¢ƒ JREã€Java å·¥å…·å’Œ Java åŸºç¡€ç±»åº“ã€‚ è¿™ä¸‰è€…çš„å…³ç³»æ˜¯ä¸€å±‚å±‚çš„åµŒå¥—å…³ç³»ï¼šJDK &gt; JRE &gt; JVM JDK åŒ…å«äº† Java çš„ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨ç­‰ä¸€ç³»åˆ—å¼€å‘å·¥å…·ï¼Œæ‰€ä»¥ä½œä¸ºå¼€å‘äººå‘˜æˆ‘ä»¬éœ€è¦å®‰è£… JDKï¼Œè€ŒæŸä¸€äº›åªéœ€è¦è¿è¡Œç¼–è¯‘å¥½çš„ Java ç¨‹åºçš„æœåŠ¡å™¨åˆ™å¯ä»¥åªå®‰è£… JRE å³å¯ ï¼ˆæå°‘æ•°æƒ…å†µï¼Œé€šå¸¸è¿˜æ˜¯å®‰è£… JDKï¼‰ã€‚ ä¸‹è½½å®‰è£… JDKJava ç¨‹åºå¿…é¡»è¿è¡Œåœ¨ JVM ä¹‹ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯å®‰è£… JDKã€‚æˆ‘ä»¬é€‰æ‹©æœ€æ–°çš„ JDK 14 è¿›è¡Œå®‰è£…ï¼š é€‰æ‹©åˆé€‚è‡ªå·±ç”µè„‘å¹³å°çš„ JDK è¿›è¡Œä¸‹è½½å®‰è£…å³å¯ï¼š é…ç½®ç¯å¢ƒWindows å¹³å° ç¬¬ä¸€æ­¥ åœ¨ Windows å®‰è£…ä¹‹åéœ€è¦é¢å¤– é…ç½®ç¯å¢ƒå˜é‡ï¼Œé¦–å…ˆã€å³é”®æˆ‘çš„ç”µè„‘ã€‘ â†’ é€‰æ‹©ã€å±æ€§(R)ã€‘ â†’ æ‰“å¼€ã€é«˜çº§ç³»ç»Ÿè®¾ç½®ã€‘ï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.jikeyuan.cn/index.php/a/174.html ç¬¬äºŒæ­¥ åœ¨ã€é«˜çº§ã€‘æ ‡ç­¾ä¸‹é€‰æ‹©ã€ç¯å¢ƒå˜é‡ã€‘ï¼Œå¹¶å¯¹ç¯å¢ƒå˜é‡ã€pathã€‘è¿›è¡Œç¼–è¾‘æ“ä½œï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.jikeyuan.cn/index.php/a/174.html ç¬¬ä¸‰æ­¥ æ–°å»ºç¯å¢ƒå˜é‡ï¼Œç„¶åæŠŠåˆšæ‰å®‰è£… jdk çš„å®‰è£…è·¯å¾„å¤åˆ¶è¿›å»ï¼Œè·¯å¾„æˆªæ­¢åˆ° bin ç›®å½•ï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.jikeyuan.cn/index.php/a/174.html ç¬¬å››æ­¥ å¿«æ·é”®ã€Win + Rã€‘è¾“å…¥ã€cmdã€‘è°ƒå‡º dos çª—å£ï¼Œè¾“å…¥ã€java -versionã€‘è¿›è¡ŒéªŒè¯ï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.jikeyuan.cn/index.php/a/174.html Mac å¹³å° ç¬¬ä¸€æ­¥ æ‰“å¼€è‹¹æœ dos çª—å£ï¼Œå…ˆç¡®è®¤è‡ªå·±ä½¿ç”¨çš„ shell æ˜¯ zsh è¿˜æ˜¯ bashï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ echo $SHELLï¼š å¦‚æœè¾“å‡º /bin/bash åˆ™ä¸º bash; å¦‚æœè¾“å‡ºç»“æœä¸º /bin/zsh åˆ™ä¸º zshã€‚ ç¬¬äºŒæ­¥ æ ¹æ®ä¸Šé¢ä¸åŒçš„ç»“æœ ä¿®æ”¹ shell é…ç½®æ–‡ä»¶ï¼Œè‹¥ä¸º bashï¼Œåˆ™æ‰“å¼€ ~/.bash_profileï¼Œè‹¥ä¸º zsh åˆ™æ‰“å¼€ ~/.zshrcï¼Œåœ¨å“åº”çš„æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå¹¶ä¿å­˜ï¼š export JAVA_HOME=$(/usr/libexec/java_home) ç¬¬ä¸‰æ­¥ åœ¨ ~/ ç›®å½•ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œ source å‘½ä»¤ï¼šåŒæ ·å¦‚æœæ˜¯ bashï¼Œåˆ™æ‰§è¡Œ source .bash_profileï¼Œè€Œå¦‚æœæ˜¯ zshï¼Œåˆ™æ‰§è¡Œ source .zshrcï¼Œè®©åˆšæ‰çš„ä¿®æ”¹ç”Ÿæ•ˆã€‚ ç¬¬å››æ­¥ å‘½ä»¤è¡Œæ‰§è¡Œ java -version æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼š Java çš„ä¸åŒç‰ˆæœ¬éšç€ Java çš„å‘å±•ï¼ŒSUN å…¬å¸ç»™ Java åˆ†å‡ºäº†ä¸‰ä¸ªä¸åŒç‰ˆæœ¬ï¼š Java SE(Standard Edition)ï¼šæ ‡å‡†ç‰ˆï¼ŒåŒ…å«æ ‡å‡†çš„ JVM å’Œæ ‡å‡†åº“ï¼› Java EE(Enterprise Edition)ï¼šä¼ä¸šç‰ˆï¼Œåœ¨ SE çš„åŸºç¡€ä¸ŠåŠ äº†å¤§é‡çš„ API å’Œåº“ï¼Œä»¥æ–¹ä¾¿å¼€å‘ Web åº”ç”¨ã€æ•°æ®åº“ã€æ¶ˆæ¯æœåŠ¡ç­‰ï¼› Java ME(Micro Edition)ï¼šæ˜¯é’ˆå¯¹åµŒå…¥å¼è®¾å¤‡ â€œç˜¦èº«â€ ä¹‹åçš„ Java SEï¼› æ¯«æ— ç–‘é—®ï¼ŒJava SE æ˜¯ Java å¹³å°çš„æ ¸å¿ƒï¼Œè€Œ Java EE æ˜¯è¿›ä¸€æ­¥å­¦ä¹  Web åº”ç”¨æ‰€å¿…é¡»çš„ã€‚ å®‰è£… IDEA å¼€å‘å·¥å…·ä½“éªŒè®°äº‹æœ¬ç¼–å†™è¿è¡Œ Java ç¨‹åºJava æºä»£ç æœ¬è´¨ä¸Šå…¶å®å°±æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ¥è¯´ä»»ä½•å¯ä»¥ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶çš„ç¼–è¾‘å™¨éƒ½å¯ä»¥ä½œä¸ºæˆ‘ä»¬çš„ Java ä»£ç ç¼–è¾‘å·¥å…·ã€‚æ¯”å¦‚ï¼šWindows è®°äº‹æœ¬ã€Mac OS X ä¸‹çš„æ–‡æœ¬ç¼–è¾‘ã€Linux ä¸‹çš„ vi ç­‰ã€‚ ä½†æ˜¯è¿™äº›ç®€å•å·¥å…·æ²¡æœ‰ã€Œè¯­æ³•çš„é«˜äº®æç¤ºã€ã€ã€Œè‡ªåŠ¨å®Œæˆã€ç­‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½çš„ç¼ºå¤±ä¼š å¤§å¤§é™ä½ä»£ç çš„ç¼–å†™æ•ˆç‡ã€‚ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºä¸€ä¸ª HelloWorld.java æ–‡ä»¶ç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼š public class HelloWorld { public static void main(String[] args) { System.out.println(\"Hello World\"); } } æ³¨æ„ï¼š HelloWorld.java æ–‡ä»¶åä¸å…è®¸å‡ºç°ç©ºæ ¼ï¼Œä»¥åŠè¦ä¿è¯å’Œç¬¬ä¸€è¡Œ class åè·Ÿç€çš„å­—ç¬¦ä¸² HelloWorld ä¿æŒä¸€è‡´ï¼› ç¬¬äºŒæ­¥ï¼šç¼–è¯‘å’Œè¿è¡Œå°† Java æºç¨‹åºç¼–å†™å¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡Œç¼–è¯‘æ‰èƒ½è¿è¡Œã€‚ç¼–è¯‘ Java æºç¨‹åºä½¿ç”¨çš„æ˜¯ JDK ä¸­çš„ javac å‘½ä»¤ï¼Œä¾‹å¦‚ç¼–è¯‘ä¸ŠèŠ‚çš„ HelloWorld.javaï¼Œå®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼š javac HelloWorld.java è¯¥å‘½ä»¤ä¼šè®© Java ç¼–è¯‘å™¨è¯»å– JavaWorld.java æ–‡ä»¶çš„æºä»£ç ï¼Œå¹¶æŠŠå®ƒç¼–è¯‘æˆç¬¦åˆ Java è™šæ‹Ÿæœºè§„èŒƒçš„å­—èŠ‚ç æ–‡ä»¶ (.class æ–‡ä»¶)ã€‚ æƒ³è¦è¿è¡Œå­—èŠ‚ç æ–‡ä»¶ä¹Ÿéœ€è¦ä½¿ç”¨ JDK ä¸­çš„ java å‘½ä»¤ï¼Œä¾‹å¦‚è¿è¡Œä¸Šé¢ç”Ÿæˆçš„ .class æ–‡ä»¶ï¼Œå®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼š java HelloWorld å…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š æ›´åŠ æ™ºèƒ½çš„ IDEA å°½ç®¡èƒ½å¤Ÿä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ¥ç¼–å†™æˆ‘ä»¬çš„ Java ç¨‹åºï¼Œä½†æ•ˆç‡ç€å®ä¸æ•¢æ­ç»´ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨æ›´åŠ å…ˆè¿›çš„ é›†æˆå¼€å‘å·¥å…· ï¼ˆä¿—ç§° IDEï¼ŒIntegrated Development Environmentï¼‰ã€‚ ä¸ä»…ä»…åŒ…å«æ›´åŠ æ™ºèƒ½çš„ä»£ç ç¼–è¾‘å™¨ã€ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨ï¼Œè¿˜æœ‰å‹å¥½çš„ç”¨æˆ·ç•Œé¢ä»¥åŠå„å¼å„æ ·å¸®åŠ©æˆ‘ä»¬æå‡æ•ˆç‡çš„æ’ä»¶ã€‚ å¯¹äºæ•ˆç‡è¿™æ–¹é¢ï¼Œä¸‹é¢æˆ‘ä»¬å°±å‡ ä¸ªæ–¹é¢ç®€å•æ„Ÿå—ä¸€ä¸‹ã€‚ æ›´å‹å¥½çš„ä»£ç æç¤ºåŠŸèƒ½ä¸ä»…ä»…æ˜¯åŸºç¡€çš„å…³é”®å­—çš„æé†’ï¼ŒIDEA ä¼šåŸºäºå½“å‰çš„ä¸Šä¸‹æ–‡ (ä¹Ÿå°±æ˜¯åŸºäºä½äºå½“å‰ä»£ç ä¸Šä¸‹çš„ä»£ç è¿›è¡Œåˆ†æ)ï¼Œæ›´åŠ æ™ºèƒ½çš„è¿›è¡Œè¿‡æ»¤å’Œæé†’ï¼š å¼ºå¤§çš„çº é”™èƒ½åŠ›æˆ‘ä»¬æ€»æ˜¯ä¼šçŠ¯ä¸€äº›ä½çº§é”™è¯¯ï¼Œæ¯”å¦‚ä¸€ä¸ç•™ç¥æ‰“é”™ä¸€ä¸ªå­—æ¯ï¼Œå¯èƒ½æ‰¾äº†å¥½ä¹…éƒ½æ‰¾ä¸åˆ°é”™è¯¯æ‰€åœ¨ï¼ŒIDEA çš„çº é”™èƒ½åŠ›ä¹Ÿè®¸å¯ä»¥å¸®åˆ°ä½ ï¼Œçœ‹ä¸€ä¸ªä¾‹å­ï¼š æ™ºèƒ½æç¤ºé‡æ„ä»£ç å¦‚æœä½ å†™çš„ä»£ç è¿‡äºå¤æ‚ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„æ–¹å¼æ¥æ›¿ä»£ä½ å†™çš„ä»£ç ï¼Œé‚£ä¹ˆ IDEA ä¼šç»™ä½ ä¸€ä¸ªæç¤ºï¼Œå‘Šè¯‰ä½ è¿˜å¯ä»¥æœ‰æ›´å¥½çš„æ–¹å¼ã€‚å¦‚ä¸‹å›¾ï¼š ä¸€äº›é…·ç‚«çš„æ“ä½œæ¯”å¦‚ä½ çœ‹æˆ‘ä»å¤´å†™ä¸€ä¸ª HelloWorld ç¨‹åºï¼š è¿™åº”è¯¥æ¯”ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦æ•²å¿«å¤šäº†å§â€¦(å°å£°bbï¼šæ–‡ç« æœ«å°¾æœ‰æ•™ç¨‹å“¦) And Moreâ€¦æ¥ä¸€ä¸ªæ€»ç»“ï¼š éªŒè¯ç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸæ‰“å¼€ã€IDEAã€‘æ–°å»ºä¸€ä¸ªç©ºç™½çš„ Java é¡¹ç›®ï¼š å³é”®åœ¨ã€scrã€‘ç›®å½•æ–°å»ºä¸€ä¸ªç©ºç™½çš„ã€HelloIDEAã€‘çš„ Java Class æ–‡ä»¶ï¼š ç„¶åæ¥ä¸‹æ¥åƒæˆ‘è¿™æ ·æ“ä½œï¼Œæ¥ç¼–å†™ä¸€ä¸ªã€HelloIDEAã€‘çš„ Java ç¨‹åºï¼š psvmï¼šæ˜¯ public static void main çš„ç¼©å†™ï¼› soutï¼šæ˜¯ System.out çš„ç¼©å†™ï¼› æ‚¨åœ¨ IDEA ä¸­é”®å…¥ä»¥ä¸Šå•è¯æ—¶ä¼šç”± IDEA æç¤ºæ™ºèƒ½å¿«é€Ÿåœ°å®Œæˆè¾“å…¥ï¼Œä»¥æ­¤æ¥æå‡æ•ˆç‡ï¼› æ€•æœ‰äº›åŒå­¦è¿·æƒ‘ï¼Œç‚¹å‡»å·¦è¾¹çš„ç»¿ä¸‰è§’ä¼šå¼¹å‡ºå¦‚ä¸‹çš„ä¿¡æ¯ï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ªé€‰é¡¹å°±èƒ½å¤Ÿè¿è¡Œå•¦ï¼š Part 1. æ ‡è¯†ç¬¦å’Œä¿ç•™å­— å›¾ç‰‡æ¥æºï¼šhttps://medium.com/@thiagonascimento/time-to-first-hello-world-11a4735602f2 public class HelloWorld { public static void main(String[] args) { System.out.println(\"Hello World!\"); } } æˆ‘ä»¬æ¥çœ‹çœ‹åˆšæ‰æˆ‘ä»¬å†™çš„ Hello World ç¨‹åºã€‚ ç¬¬ä¸€è¡Œï¼špublic class HelloWorld { å…³é”®å­— publicï¼šç§°ä¸º è®¿é—®ä¿®é¥°ç¬¦ (access modifier)ï¼Œç”¨æ¥æ§åˆ¶ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å¯¹è¿™ä¸€æ®µä»£ç çš„è®¿é—®çº§åˆ« (è¿™é‡Œæš‚æ—¶ç†è§£ä¸ºå…¬ç”¨çš„ï¼Œä¹‹åä¼šæ›´åŠ è¯¦ç»†åœ°ä»‹ç»)ï¼› å…³é”®å­— classï¼šè¡¨æ˜ Java ç¨‹åºä¸­çš„å…¨éƒ¨å†…å®¹éƒ½åŒ…å«åœ¨ç±»ä¸­ (ä¹‹åä¼šèŠ±å¾ˆå¤šåŠŸå¤«æ¥è¯´æ˜ç±»ï¼Œè¿™é‡Œå¯ä»¥ä»…ä»…æŠŠç±»ç†è§£ä¸ºç¨‹åºé€»è¾‘çš„ä¸€ä¸ªå®¹å™¨ï¼Œç¨‹åºé€»è¾‘å®šä¹‰äº†åº”ç”¨è½¯ä»¶çš„è¡Œä¸º)ã€‚ HelloWorldï¼šå…³é”®å­— class åé¢ç´§è·Ÿçš„æ˜¯ç±»åï¼Œå®ƒé™¤äº†å¿…é¡»è·Ÿæ–‡ä»¶åä¿æŒä¸€è‡´å¤–ï¼Œè¿˜åº”è¯¥éµå¾ª Java ç±»åçš„å‘½åè§„èŒƒ â€”â€” ç±»åä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚å¦‚æœåå­—ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯éœ€è¦å¤§å†™ã€‚ ä¾‹å¦‚ï¼šFirstSample å°±éµå¾ªäº† Java ç±»çš„å‘½åè§„èŒƒçš„åŸåˆ™ï¼› è¿™æ ·çš„ å‘½åæ–¹å¼ è¢«ç§°ä¸º é©¼å³°å‘½åæ³• (camel case)ï¼Œé¦–å­—æ¯æ˜¯å¤§å†™çš„åˆ™ç§°ä¸º *å¤§é©¼å³°å‘½åæ³•ï¼Œé¦–å­—æ¯å°å†™çš„åˆ™ç§°ä¸º **å°é©¼å³°å‘½åæ³• *(å¦‚ï¼šfirstSampleï¼Œåç»­æ–‡ç« ä¼šæåˆ°çš„å˜é‡å°±é‡‡ç”¨è¿™ç§æ–¹å¼) ç±»åå‘½åè§„èŒƒï¼š Badï¼šhelloã€Good123ã€Note_Bookã€_World Goodï¼šHelloã€Testerã€NoteBook æ ‡è¯†ç¬¦åœ¨ç¼–ç¨‹ä¸­ï¼ŒæŸä¸ªä¸œè¥¿çš„åç§°å°±è¢«ç§°ä¸º æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ä¸Šè¿°çš„ç±»å HelloWorldã€‚åœ¨ Java ä¸­å®šä¹‰æ ‡è¯†ç¬¦å­˜åœ¨ä»¥ä¸‹å‡ ç§è§„åˆ™ï¼š åªèƒ½ç”±æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿(_)å’Œç¾å…ƒç¬¦å·($)ç»„æˆï¼› ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—ï¼› æ ‡è¯†ç¬¦å†…ä¸å…è®¸æœ‰ç©ºæ ¼ï¼› ä¸èƒ½ä½¿ç”¨ Java ä¿ç•™å­— (ä¸‹æ–¹æœ‰åˆ—å‡º Java ä¸­å­˜åœ¨çš„ä¿ç•™å­—)ï¼› æ ‡è¯†ç¬¦å‘½åç¤ºèŒƒï¼š Badï¼šLady Luck (åï¼šæ ‡è¯†ç¬¦å†…ä¸å…è®¸æœ‰ç©ºæ ¼)ã€x/y *(é”™è¯¯ï¼šæ ‡è¯†ç¬¦ä¸­ä¸å…è®¸ä½¿ç”¨æ–œæ )ã€1stPrize (é”™è¯¯ï¼šä»¥æ•°å­—å¼€å¤´)ã€abc (åï¼šæ²¡æœ‰ä»»ä½•æ„ä¹‰)ã€_name *(åï¼šä¸è¦ä»¥ _ æˆ– $ å¼€å¤´) Goodï¼šuserNameã€StudentManagerã€NoteBook ä¿ç•™å­—ä¿ç•™å­—å°±æ˜¯åƒ class è¿™æ ·æœ‰ç‰¹æ®Šå«ä¹‰çš„æ ‡è¯†ç¬¦ï¼Œæ‚¨åªèƒ½å°†ä¿ç•™å­—ç”¨äºå…¶è®¾å®šçš„ä¸“å±ç”¨é€” (å¦‚ class é™¤äº†å®šä¹‰ç±»ï¼Œæ‚¨å°†ä¸èƒ½ç”¨ä½œå…¶ä»–ä»»ä½•ç›®çš„)ã€‚ åœ¨ Java ä¸­å­˜åœ¨ä»¥ä¸‹çš„ä¿ç•™å­—ï¼š(æ— éœ€è®°å¿†ï¼Œå®ƒä»¬ä¸­çš„å¤§éƒ¨åˆ†éƒ½æˆ–å¤šæˆ–å°‘åœ°å‡ºç°åœ¨ä¹‹åæ‚¨çš„ç¼–ç ä¸­.. IDEA ä¹Ÿä¼šæœ‰æ™ºèƒ½çš„æç¤º) abstract class extends implements null strictfp true assert const false import package super try boolean continue final instanceof private switch void break default finally int protected synchronized volatile byte do float interface public this while case double for long return throw catch else goto native short throws char enum if new static transient Part 2. ç¨‹åºçš„åŸºæœ¬ç»“æ„å’Œæ–¹æ³•ç®€è¿° ç¨‹åºåŸºæœ¬ç»“æ„åœ¨ç±»çš„ç¬¬ä¸€ä¸ªå¤§æ‹¬å·å’Œæœ€åä¸€ä¸ªå¤§æ‹¬å·ä¹‹é—´æè¿°äº†ç¨‹åºæ‰€åšçš„ä¸€åˆ‡ï¼š public class ClassName { } é¦–å…ˆï¼Œæ¯ä¸ªæºä»£ç æ–‡ä»¶å¿…é¡»æœ‰ä¸€ä¸ªä¸»ç±» (åå­—åŒæ–‡ä»¶å)ï¼Œåœ¨ä¹‹åçš„æ–‡ç« ä¸­æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªæºä»£ç æ–‡ä»¶å¯èƒ½ä¼šåŒæ—¶å­˜åœ¨å‡ ä¸ªç±»çš„æƒ…å†µå‘ç”Ÿï¼Œæš‚æ—¶ä¸è€ƒè™‘ã€‚ åœ¨ä¸Šæ–‡ç¨‹åºçš„ç¬¬ä¸‰è¡Œï¼špublic static void main ( String[] args )ï¼Œå±•ç¤ºäº†ç¨‹åºåœ¨ä½•å¤„å¼€å§‹è¿è¡Œï¼ŒJava è™šæ‹Ÿæœºæ€»æ˜¯ä»æŒ‡å®šç±»çš„ main æ–¹æ³•çš„ä»£ç å¼€å§‹æ‰§è¡Œï¼Œå› æ­¤ä¸ºäº†ä»£ç èƒ½å¤Ÿæ‰§è¡Œï¼Œåœ¨ç±»çš„åŸæ–‡ä»¶ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ª main æ–¹æ³•ã€‚ å¯¹è¿™ä¸€è¡Œç¨å¾®åšä¸€ä¸‹è§£é‡Šï¼š publicï¼šè®¿é—®ä¿®é¥°ç¬¦ï¼Œç”¨æ¥æè¿°è¯¥æ–¹æ³•çš„è®¿é—®æƒé™çº§åˆ«ï¼Œè¿™é‡Œä¸ºæ‰€æœ‰äººéƒ½èƒ½è®¿é—®ï¼› staticï¼šä¿ç•™å­—ï¼Œç”¨æ¥å®šä¹‰è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼› voidï¼šç”¨æ¥æè¿°è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„è¿”å›å€¼ï¼› mainï¼šæ–¹æ³•åï¼› (String[] args)ï¼šæè¿°äº†è¯¥æ–¹æ³•æ‰€æ¥æ”¶çš„å‚æ•°ï¼› æ‰€ä»¥åˆšå¼€å§‹æ¥è§¦çš„ç¨‹åºç»“æ„å¤§æ¦‚çœ‹èµ·æ¥åƒæ˜¯ä¸‹é¢è¿™æ ·ï¼š public class ClassName { public static void main(String[] args) { ...... } } ç”±äº Java æ˜¯å¤§å°å†™æ•æ„Ÿ çš„ï¼Œæ‰€ä»¥ main è¿™ä¸ªå•è¯ä¸å…è®¸ä»»ä½•çš„ä¿®æ”¹ã€‚(Java è¯­è¨€è§„èŒƒä¸­è§„å®š main æ–¹æ³•å¿…é¡»å£°æ˜ä¸º public) å¤§æ‹¬å·çš„ä½¿ç”¨é£æ ¼æ›¾ç»å¼•å‘è¿‡è®¸å¤šæ— æ„ä¹‰çš„äº‰è®ºï¼Œä»¥ä¸‹ä¸¤ç§é£æ ¼ï¼Œå“ªä¸€ç§æ›´å¥½å‘¢ï¼Ÿï¼š public class ClassName { } public class ClassName { } æ²¡æœ‰ç­”æ¡ˆï¼Œè™½ç„¶å¯¹äº Java ç¼–è¯‘å™¨æ¥è¯´ç©ºç™½ç¬¦ä¼šè¢«çœç•¥ï¼Œè¿™ä¸¤ç§å¹¶æ— å·®åˆ«ï¼Œä½†ä½œä¸ºå¼€å‘è€…çš„æˆ‘ä»¬ï¼Œé€‰æ‹© Java æƒ¯ç”¨çš„é£æ ¼ (ç¬¬ä¸€ç§) å°±å¥½äº†â€¦ println()è€ƒè™‘ä¸‹é¢è¿™ä¸€æ®µä»£ç ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸Šé¢çš„ HelloWorld ç¨‹åº main æ–¹æ³•ä¸­çš„è¯­å¥ï¼š { System.out.println(\"Hello Worldï¼\"); } ä¸€å¯¹å¤§æ‹¬å·è¡¨ç¤º æ–¹æ³•ä½“ çš„å¼€å§‹ä¸ç»“æŸï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­åªåŒ…å«ä¸€æ¡è¯­å¥ã€‚è·Ÿå¤§å¤šæ•°ç¨‹åºè®¾è®¡è¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥æŠŠ Java ä¸­çš„è¯­å¥çœ‹æˆæ˜¯è¯­è¨€ä¸­çš„ä¸€ä¸ªå¥å­ã€‚ åœ¨ Java ä¸­ï¼Œæ¯ä¸ªå¥å­å¿…é¡»ç”¨åˆ†å·ç»“æŸ (è‹±æ–‡åˆ†å·)ã€‚ ç‰¹åˆ«éœ€è¦è¯´æ˜ï¼Œå›è½¦å¹¶ä¸æ˜¯è¯­å¥çš„ç»“æŸæ ‡å¿—ï¼Œå› æ­¤ï¼Œå¦‚æœéœ€è¦å¯ä»¥å°†ä¸€æ¡è¯­å¥å†™åœ¨å¤šè¡Œä¸Šã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† System.out è¿™ä¸ªå¯¹è±¡å¹¶è°ƒç”¨äº†å®ƒçš„ println æ–¹æ³• (ç‚¹å· . ç”¨äºè°ƒç”¨æ–¹æ³•)ã€‚å®ƒçš„ä½œç”¨æ˜¯åœ¨å±å¹•ä¸Šè¾“å‡ºæŒ‡å®šçš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è¾“å‡º æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ åˆ™å¯ä»¥è¿™æ ·è°ƒç”¨ï¼š System.out.println(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"); Java ä½¿ç”¨æ–¹æ³•çš„é€šç”¨è¯­æ³•æ˜¯ï¼š object.method(parameters) è¿™ä¸€æ¡è¯­å¥çš„ä½œç”¨æ˜¯åœ¨å±å¹•ä¸Šè¾“å‡º Hello World!ï¼Œè¿™ä¸€éƒ¨åˆ†ç”±å­—ç¬¦ç»„æˆçš„åºåˆ— (å…¶ä¸­ä¸åº”è¯¥åŒ…å«å¼•å·) è¢«ç§°ä¸º å­—ç¬¦ä¸²ã€‚å®ƒå¯ä»¥åŒ…å«ä»»ä½•æœ‰æ•ˆå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œæ ‡ç‚¹ç¬¦å·ã€‚ æ–¹æ³•ç®€è¿°æ–¹æ³• æ˜¯æ ¹æ®è¯­å¥æ„å»ºçš„ã€‚ç¨‹åºé€šå¸¸åŒ…å«è®¸å¤šæ–¹æ³•ã€‚ æˆ‘ä»¬çš„ç¤ºä¾‹ç¨‹åºä»…åŒ…å«ä¸€ç§æ–¹æ³• (main æ–¹æ³•)ã€‚å½“ç„¶æˆ‘ä»¬è¿˜è°ƒç”¨äº†ç³»ç»Ÿå¸®æˆ‘ä»¬å†™å¥½çš„ System.out.println() æ–¹æ³•ã€‚ å°è¯•å®šä¹‰è‡ªå·±çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¯•ç€ä»¿ç…§ main æ–¹æ³•æ¥å†™ä¸€ä¸ªè‡ªå·±çš„æ–¹æ³•ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦è¾“å‡ºä¸€æ®µå¿ƒç†å­¦ä¸‰å¤§å·¨å¤´ä¹‹ä¸€é˜¿å¾·å‹’çš„ä¸€æ®µè¯ï¼š public static void printAdlerOneQuote() { System.out.println( \"å¤ªåœ¨æ„åˆ«äººçš„è§†çº¿å’Œè¯„ä»·ï¼Œæ‰ä¼šä¸æ–­å¯»æ±‚åˆ«äººçš„è®¤å¯ã€‚\" + \"å¯¹è®¤å¯çš„è¿½æ±‚ï¼Œæ‰æ‰¼æ€äº†è‡ªç”±ã€‚\" + \"ç”±äºä¸æƒ³è¢«ä»»ä½•äººè®¨åŒï¼Œæ‰é€‰æ‹©äº†ä¸è‡ªç”±çš„ç”Ÿæ´»æ–¹å¼ã€‚\" + \"æ¢è¨€ä¹‹ï¼Œè‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ã€‚\" ); } æœ‰å‡ ç‚¹éœ€è¦è¯´æ˜ï¼š æ–¹æ³•åé‡‡ç”¨å°é©¼å³°å‘½åæ³•ï¼Œä¸”å°½é‡ä¿è¯æœ‰æ„ä¹‰çš„å‘½åï¼šå¦‚æœè¿™é‡ŒæŠŠæ–¹æ³•åä¿®æ”¹æˆ abc ä¼¼ä¹å°±æœ‰ç‚¹å„¿ä¸çŸ¥æ‰€äº‘äº†ï¼› ä¸€è¡Œä»£ç é‡ä¸è¦è¶…è¿‡å¯è§†è·ç¦»ï¼šå¦‚æœå…¨éƒ¨å†—ä½™åœ¨ä¸€è¡Œï¼Œä¸ä»…çœ‹è¿™ä¸€æ®µä»£ç ä¼šèŠ±é¢å¤–çš„ç²¾åŠ›å»ç¿»çœ‹å’Œç†è§£ï¼Œä¹Ÿä¼šç»™å…¶ä»–é˜…è¯»ä»£ç çš„äººé€ æˆå›°æ‰°ï¼› å»ºè®®ï¼šä¸€ä¸ªæ–¹æ³•åªåšä¸€ä»¶äº‹æƒ…ã€‚æ‚¨å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•é™¤äº†åƒæ–¹æ³•åæè¿°çš„é‚£æ ·æ‰“å°ä¸€å¥é˜¿å¾·å‹’çš„åè¨€ä¹‹å¤–ï¼Œæ²¡æœ‰åšå…¶ä»–ä»»ä½•çš„æ“ä½œï¼Œè¿™æ ·åšèƒ½å¤§å¤§å¢åŠ ä»£ç çš„å¯é˜…è¯»æ€§ï¼› åœ¨ main æ–¹æ³•ä¸­è°ƒç”¨æ­£å¸¸çš„æ–¹æ³•è°ƒç”¨éœ€è¦åƒä¸Šé¢æåˆ°çš„é‚£æ ·ï¼šobject.method(parameters)ï¼Œä½†ç”±äºèº«å¤„åŒä¸€ä¸ªç±»ä¸­ï¼Œthis.printAdlerOneQuote(); å°±å¯ä»¥ç®€å†™æˆï¼šprintAdlerOneQuote();ã€‚ å®Œæ•´çš„ç¨‹åºä»£ç å¦‚ä¸‹ï¼š public class HelloWorld { public static void main(String[] args) { System.out.println(\"Hello Worldï¼\"); printAdlerOneQuote(); } public static void printAdlerOneQuote() { System.out.println( \"å¤ªåœ¨æ„åˆ«äººçš„è§†çº¿å’Œè¯„ä»·ï¼Œæ‰ä¼šä¸æ–­å¯»æ±‚åˆ«äººçš„è®¤å¯ã€‚\" + \"å¯¹è®¤å¯çš„è¿½æ±‚ï¼Œæ‰æ‰¼æ€äº†è‡ªç”±ã€‚\" + \"ç”±äºä¸æƒ³è¢«ä»»ä½•äººè®¨åŒï¼Œæ‰é€‰æ‹©äº†ä¸è‡ªç”±çš„ç”Ÿæ´»æ–¹å¼ã€‚\" + \"æ¢è¨€ä¹‹ï¼Œè‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ã€‚\" ); } } ç»ƒä¹ ï¼šå°è¯•è¾“å‡ºè‡ªå·±å–œæ¬¢çš„ä¸€æ®µè¯åœ¨å±å¹•ä¸­å‚è€ƒç­”æ¡ˆï¼š(ä¸Šé¢çš„å®Œæ•´ä»£ç æ¼”ç¤º) Part 3. è¯­æ³•é”™è¯¯å’Œ Bug å›¾ç‰‡æ¥æºï¼šhttps://blog.csdn.net/csdnnews/article/details/86684475 ç®€è¿°è¯­æ³•é”™è¯¯åœ¨æºæ–‡ä»¶ä¸­ï¼Œå­—ç¬¦ä¸²æ–‡å­—å¿…é¡»ä»…åœ¨ä¸€è¡Œä¸Šã€‚ä»¥ä¸‹å†…å®¹ä¸åˆæ³•ï¼Œå°†æ— æ³•ç¼–è¯‘ï¼š System.out.println(\"Hello \" \"Worldï¼\"); æ‚¨ç¼–å†™çš„ä»£ç ä¸ç¬¦åˆ Java çš„è¯­æ³•è§„å®šï¼Œå°±ä¼šå‘ç”Ÿ è¯­æ³•é”™è¯¯ã€‚ åœ¨ Java ç¼–è¯‘å™¨å°†æºä»£ç æ–‡ä»¶ç¼–è¯‘æˆ .class æ–‡ä»¶ä¹‹å‰ï¼Œä¼šé»˜è®¤å¸®ä½ åšè®¸å¤šå·¥ä½œï¼Œæ£€æŸ¥è¯­æ³•å°±æ˜¯å…¶ä¸­ä¸€é¡¹ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨æ¡Œé¢ä¸Šè¯•ç€åˆ›å»ºä¸€ä¸ªã€HelloWorld.javaã€‘æ–‡ä»¶ç„¶åè¾“å…¥ä¸€æ®µå­˜åœ¨é”™è¯¯çš„ä»£ç  (æ‚¨å¯ä»¥è¯•ç€æ£€æŸ¥ä¸€ä¸‹å“ªé‡Œå‡ºç°äº†ä¸€å¤„é”™è¯¯)ï¼š public Class HelloWorld { public static void main(String[] args) { System.out.println(\"Hello World\"); } } ç„¶åå†å½“å‰ç›®å½•æ‰§è¡Œ javac HelloWorld.java å°è¯•ç¼–è¯‘è¿™ä¸ªå­˜åœ¨é”™è¯¯çš„ Java æºæ–‡ä»¶ï¼š â†’ javac HelloWorld.java HelloWorld.java:1: é”™è¯¯: éœ€è¦class, interfaceæˆ–enum public Class HelloWorld { ^ HelloWorld.java:3: é”™è¯¯: éœ€è¦class, interfaceæˆ–enum public static void main(String[] args) { ^ HelloWorld.java:6: é”™è¯¯: éœ€è¦class, interfaceæˆ–enum } ^ 3 ä¸ªé”™è¯¯ Java ç¼–è¯‘å™¨æç¤ºæˆ‘ä»¬æœ‰ä¸‰å¤„é”™è¯¯ï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¹Ÿç¡®å®ç²—å¿ƒåœ°æŠŠ class é”™è¯¯çš„å†™æˆäº† Classã€‚ ç¼–è¯‘å™¨ä¹Ÿæœªåˆ›å»ºæ–°çš„å­—èŠ‚ç æ–‡ä»¶ (.class)ï¼Œå› ä¸ºåœ¨é‡åˆ°é”™è¯¯æ—¶å®ƒå°†åœæ­¢ç¿»è¯‘ã€‚ Bug ç®€è¿°ä»…ä»…å› ä¸ºç¨‹åºé€šè¿‡ç¼–è¯‘å¹¶ä¸”æˆåŠŸè¿è¡Œå¹¶ä¸æ„å‘³ç€å®ƒæ˜¯æ­£ç¡®çš„ã€‚ ä¾‹å¦‚ï¼Œæ‚¨çš„ä»»åŠ¡æ˜¯åˆ›å»ºä¸€ä¸ªåœ¨å±å¹•ä¸Šè¾“å‡º Hello Wrold!ï¼Œä½†æ˜¯æ‚¨å´é”™è¯¯åœ°å†™æˆäº† Hello Bug!ï¼Œè¿è¡Œæ—¶æ²¡æœ‰æŒ‰ç…§é¢„æœŸæ‰§è¡Œï¼Œåˆ™å°±ç§°è¯¥ç¨‹åºå­˜åœ¨ Bugï¼ Bug èµ·æºBug ä¸€è¯çš„åŸæ„æ˜¯ â€œè‡­è™«â€ æˆ– â€œè™«å­â€ã€‚ ç¬¬ä¸€ä¸ªæœ‰è®°è½½çš„ Bug æ˜¯ç¾å›½æµ·å†›ç¼–ç¨‹å‘˜ã€ç¼–è¯‘å™¨çš„å‘æ˜è€…æ ¼è•¾æ–¯Â·å“ˆç€ ï¼ˆGraceHopperï¼‰ å‘ç°çš„ã€‚ 1945 å¹´ 9 æœˆ 9 æ—¥ï¼Œä¸‹åˆä¸‰ç‚¹ã€‚å“ˆç€ä¸­å°‰æ­£é¢†ç€å¥¹çš„å°ç»„æ„é€ ä¸€ä¸ªç§°ä¸ºâ€œé©¬å…‹äºŒå‹â€çš„è®¡ç®—æœºã€‚è¿™è¿˜ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç”µå­è®¡ç®—æœºï¼Œå®ƒä½¿ç”¨äº†å¤§é‡çš„ç»§ç”µå™¨ï¼Œä¸€ç§ç”µå­æœºæ¢°è£…ç½®ã€‚ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜è¿˜æ²¡æœ‰ç»“æŸã€‚å“ˆç€çš„å°ç»„æ—¥ä»¥ç»§å¤œåœ°å·¥ä½œã€‚æœºæˆ¿æ˜¯ä¸€é—´ç¬¬ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜æ—¶å»ºé€ çš„è€å»ºç­‘ã€‚é‚£æ˜¯ä¸€ä¸ªç‚çƒ­çš„å¤å¤©ï¼Œæˆ¿é—´æ²¡æœ‰ç©ºè°ƒï¼Œæ‰€æœ‰çª—æˆ·éƒ½æ•å¼€æ•£çƒ­ã€‚ çªç„¶ï¼Œé©¬å…‹äºŒå‹æ­»æœºäº†ã€‚æŠ€æœ¯äººå‘˜è¯•äº†å¾ˆå¤šåŠæ³•ï¼Œæœ€åå®šä½åˆ°ç¬¬ 70 å·ç»§ç”µå™¨å‡ºé”™ã€‚å“ˆç€è§‚å¯Ÿè¿™ä¸ªå‡ºé”™çš„ç»§ç”µå™¨ï¼Œå‘ç°ä¸€åªé£è›¾èººåœ¨ä¸­é—´ï¼Œå·²ç»è¢«ç»§ç”µå™¨æ‰“æ­»ã€‚å¥¹å°å¿ƒåœ°ç”¨æ‘„å­å°†è›¾å­å¤¹å‡ºæ¥ï¼Œç”¨é€æ˜èƒ¶å¸ƒå¸–åˆ°ã€Œäº‹ä»¶è®°å½•æœ¬ã€ä¸­ï¼Œå¹¶æ³¨æ˜ã€Œç¬¬ä¸€ä¸ªå‘ç°è™«å­çš„å®ä¾‹ã€ã€‚ ä»æ­¤ä»¥åï¼Œäººä»¬å°†è®¡ç®—æœºé”™è¯¯ç§°ä¸º Bugï¼Œä¸ä¹‹ç›¸å¯¹åº”ï¼Œäººä»¬å°†å‘ç° Bug å¹¶åŠ ä»¥çº æ­£çš„è¿‡ç¨‹å«åš â€œDebugâ€ï¼Œæ„å³ã€Œæ‰è™«å­ã€æˆ–ã€Œæ€è™«å­ã€ã€‚ ä»¥ä¸Šå†…å®¹å¼•ç”¨è‡ªï¼šhttp://www.cxyym.com/2014/11/999/ Bug æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿæ¥å‡ ä¸ªæ¸…å¥‡çš„æ®µå­å§ã€‚ æ®µå­ä¸€ï¼šåºåšè„±å£ç§€å¤§ä¼šè§£é‡Š Bug B ç«™è‡ªå–ï¼šhttps://www.bilibili.com/video/BV1oJ411S7o4?from=search&amp;seid=7940414495637079568 æ®µå­äºŒï¼šæµ‹è¯•å·¥ç¨‹å¸ˆä»¬æ¥åˆ°ä¸€å®¶é…’å§ å¼•ç”¨è‡ªçŸ¥ä¹@ç¬¬ä¸ƒåœ°åŒºçš„ç­”æ¡ˆï¼šhttps://www.zhihu.com/question/365343579/answer/967299388 æ®µå­ä¸‰ï¼šé¢†å¯¼è®©æˆ‘ä¿®æˆ¿å­ å¼•ç”¨è‡ªçŸ¥ä¹@å“’æŸçš„ç­”æ¡ˆï¼šhttps://www.zhihu.com/question/365343579/answer/967299388 åœ°çƒäººå’Œç¨‹åºå‘˜çœ¼ä¸­æ”¹ Bug çš„ä¸åŒä¿®æ”¹ç¨‹åºä¸­çš„ Bugï¼Œè¦ç»è¿‡ä¸‰ä¸ªæ­¥éª¤ï¼š æ‰¾åˆ°å®ƒï¼› æƒ³åŠæ³•è§£å†³å®ƒï¼› ç¡®è®¤å®ƒå·²ç»è¢«è§£å†³ ï¼ˆå¹¶ä¸”æ²¡æœ‰å¼•å…¥å…¶å®ƒé—®é¢˜ï¼‰ï¼› è¯´èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œåœ¨åœ°çƒäºº ï¼ˆç¨‹åºå‘˜ç­‰åŒäºå¤–æ˜Ÿäººï¼‰ çœ‹èµ·æ¥ï¼Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š ä½†æ˜¯ï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ‰¾ä¸€ä¸ª Bug å¾€å¾€æ˜¯è¿™æ ·çš„ï¼š æ‰¾åˆ°ä¹‹åå‘¢ï¼Œè§£å†³è¿™ä¸ª Bug åˆæ˜¯ä¸€ä¸ªéš¾é¢˜ï¼š æ¢ä¸ªæŸ±å­ä»€ä¹ˆçš„æ¯”è¾ƒç®€å•ï¼Œè¿˜æœ‰æ›´å´©æºƒçš„ï¼ ä»¥ä¸Šå†…å®¹å¼•ç”¨è‡ªï¼šhttp://www.accessoft.com/blog/article-show.asp?userid=11&amp;Id=17629 Part 4. æ³¨é‡Š å›¾ç‰‡æ¥æºï¼šhttp://www.cocoachina.com/articles/20146 æ³¨é‡Š æ˜¯å†™ç¨‹åºçš„äººç•™ä¸‹çš„é˜…è¯»ç¬”è®°ã€‚ é€šå¸¸æ³¨é‡Šä»¥ä¸¤ä¸ªå­—ç¬¦ // å¼€å¤´ã€‚Java ç¼–è¯‘å™¨å°†å¿½ç•¥é‚£äº›å­—ç¬¦ä»¥åŠåœ¨è¯¥è¡Œä¹‹åçš„æ‰€æœ‰å­—ç¬¦ã€‚ä¾‹å¦‚ï¼š public class HelloWorld { // ç¨‹åºå…¥å£ public static void main(String[] args) { // è¾“å‡º Hello World! System.out.println(\"Hello World!\"); } } è¿™ä¸€æ®µä»£ç è·Ÿæˆ‘ä»¬æœ€å¼€å§‹çš„ HelloWrold ç¨‹åºå®Œå…¨ç›¸åŒã€‚å¤§å¤šæ•°çš„ç¨‹åºç¼–è¾‘å™¨ (ä¾‹å¦‚ IDEA) éƒ½è¶³å¤Ÿèªæ˜ï¼Œå¯ä»¥è¯†åˆ«æ³¨é‡Šå¹¶å°†å…¶æ˜¾ç¤ºä¸ºæ— å…³ç´§è¦çš„ä¸€äº›é¢œè‰²ï¼š ä¸å¤§å¤šæ•°ç¨‹åºè®¾è®¡è¯­è¨€ä¸€æ ·ï¼ŒJava ä¸­çš„æ³¨é‡Šä¹Ÿä¸ä¼šå‡ºç°åœ¨å¯æ‰§è¡Œç¨‹åºä¸­ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨æºç¨‹åºä¸­æ ¹æ®éœ€è¦æ·»åŠ ä»»æ„å¤šçš„æ³¨é‡Šï¼Œè€Œä¸å¿…æ‹…å¿ƒå¯æ‰§è¡Œä»£ç ä¼šè†¨èƒ€ã€‚ ä¸‰ç§æ³¨é‡Šçš„æ–¹å¼/** * æ–‡æ¡£æ³¨é‡Š * å¯ä»¥æ³¨é‡Šå¤šæ¡å†…å®¹ */ public static void main(String[] args) { // è¿™æ˜¯å•è¡Œæ³¨é‡Š System.out.println(\"æ¼”ç¤ºä¸‰ç§æ³¨é‡Šæ–¹å¼\"); /* è¿™æ˜¯å¤šè¡Œæ³¨é‡Š */ } å•è¡Œæ³¨é‡Šï¼šä»¥ // æ ‡è¯†ï¼Œåªèƒ½æ³¨é‡Šä¸€è¡Œå†…å®¹ï¼› å¤šè¡Œæ³¨é‡Šï¼šåŒ…å«åœ¨ /* å’Œ */ ä¹‹é—´ï¼Œèƒ½æ³¨é‡Šå¤šè¡Œå†…å®¹ï¼Œä¸ºäº†æé«˜å¯é˜…è¯»æ€§ï¼Œä¸€èˆ¬é¦–è¡Œå’Œå°¾è¡Œä¸å†™æ³¨é‡Šä¿¡æ¯ï¼› æ–‡æ¡£æ³¨é‡Šï¼šåŒ…å«åœ¨ /** (ä¸¤ä¸ª *) å’Œ */ ä¹‹é—´ï¼Œä¹Ÿèƒ½æ³¨é‡Šå¤šè¡Œå†…å®¹ï¼Œä¸€èˆ¬ç”¨åœ¨ç±»ã€æ–¹æ³•å’Œå˜é‡ä¸Šé¢ï¼Œç”¨æ¥æè¿°å…¶ä½œç”¨ (è¿™æ˜¯ Java çš„ä¸€ç§è§„èŒƒï¼Œä¹‹åä¼šæ›´å¤šçš„è§è¯†åˆ°)ï¼› å‡ ç‚¹å»ºè®® æ³¨é‡Šçš„ç›®çš„æ˜¯ï¼š å°½é‡å¸®åŠ©è¯»è€…äº†è§£å¾—å’Œä½œè€…ä¸€æ ·å¤šã€‚ â€”â€” ã€Šç¼–å†™å¯è¯»ä»£ç çš„è‰ºæœ¯ã€‹ ä»¥ä¸‹èŠ‚é€‰è‡ªã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹å¯¹äºæ³¨é‡Šçš„å‡ ç‚¹è¦æ±‚ï¼š ã€å¼ºåˆ¶ã€‘ ç±»ã€é›·å±æ€§ã€ç±»æ–¹æ³•çš„æ³¨é‡Šå¿…é¡»ä½¿ç”¨ Javadoc è§„èŒƒï¼Œä½¿ç”¨ /**å†…å®¹*/ æ ¼å¼ï¼Œä¸å¾—ä½¿ç”¨ // æ–¹å¼ (ä¸Šé¢çš„æ¼”ç¤ºç¨‹åºä¸­å°±ä¸ç¬¦åˆè§„èŒƒï¼Œéœ€è¦æ³¨æ„)ï¼› ã€å¼ºåˆ¶ã€‘ æ–¹æ³•å†…éƒ¨çš„å•è¡Œæ³¨é‡Šï¼Œåœ¨è¢«æ³¨é‡Šè¯­å¥ä¸Šæ–¹å¦èµ·ä¸€è¡Œï¼Œä½¿ç”¨ // æ³¨é‡Šã€‚æ–¹æ³•å†…éƒ¨çš„å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨ /* */ å¹¶æ³¨æ„ä¸ä»£ç å¯¹é½ï¼› ã€æ¨èã€‘ ä¸å…¶ç”¨ã€ŒåŠåŠå­ã€è‹±æ–‡æ¥æ³¨é‡Šï¼Œä¸å¦‚ç”¨ä¸­æ–‡æ³¨é‡ŠæŠŠé—®é¢˜è¯´æ¸…æ¥šã€‚ä¸“æœ‰åè¯ä¸å…³é”®å­—ä¿æŒè‹±æ–‡åŸæ–‡å³å¯ï¼› ã€æ¨èã€‘ åœ¨ä¿®æ”¹ä»£ç çš„åŒæ—¶ï¼Œè¦å¯¹æ³¨é‡Šè¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼› ã€å‚è€ƒã€‘ å¯¹äºæ³¨é‡Šçš„è¦æ±‚ï¼š èƒ½å¤Ÿå‡†ç¡®åæ˜ è®¾è®¡æ€æƒ³å’Œä»£ç é€»è¾‘ï¼› èƒ½å¤Ÿæè¿°ä¸šåŠ¡å«ä¹‰ï¼Œä½¿å…¶ä»–ç¨‹åºå‘˜èƒ½å¤Ÿè¿…é€Ÿäº†è§£ä»£ç èƒŒåçš„ä¿¡æ¯ã€‚å®Œå…¨æ²¡æœ‰æ³¨é‡Šçš„å¤§æ®µä»£ç å¯¹äºé˜…è¯»è€…å¦‚åŒå¤©ä¹¦ï¼›æ³¨é‡Šæ˜¯ç»™è‡ªå·±çœ‹çš„ï¼Œåº”åšåˆ°å³ä½¿é—´éš”å¾ˆé•¿æ—¶é—´ï¼Œä¹Ÿèƒ½æ¸…æ™°ç†è§£å½“æ—¶çš„æ€è·¯ï¼›æ³¨é‡Šä¹Ÿæ˜¯ç»™ç»§ä»»è€…çœ‹å¾—ï¼Œä½¿å…¶èƒ½å¤Ÿå¿«é€Ÿæ¥æ›¿è‡ªå·±çš„å·¥ä½œï¼› ã€å‚è€ƒã€‘ å¥½çš„å‘½åã€ä»£ç ç»“æ„æ˜¯è‡ªè§£é‡Šçš„ï¼Œæ³¨é‡ŠåŠ›æ±‚ç²¾ç®€å‡†ç¡®ã€è¡¨è¾¾åˆ°ä½ã€‚é¿å…å‡ºç°æ³¨é‡Šçš„ä¸€ä¸ªæç«¯ï¼šè¿‡å¤šè¿‡æ»¥çš„æ³¨é‡Šã€‚å› ä¸ºä»£ç çš„é€»è¾‘ä¸€æ—¦ä¿®æ”¹ï¼Œä¿®æ”¹æ³¨é‡Šä¹Ÿæ˜¯ç›¸å½“å¤§çš„è´Ÿæ‹…ï¼› å¯¹äºä»¥ä¸Šçš„ä¸€äº›å»ºè®®ï¼Œæˆ‘ç›¸ä¿¡åœ¨æ‚¨ä¹‹åçš„ç¼–ç¨‹ä¹‹è·¯ä¸Šä¼šè¶Šå‘åœ°ä½“ä¼šæ·±åˆ»ã€‚ è¦ç‚¹å›é¡¾ JVMã€JREã€JDK çš„è¯´æ˜å’Œè”ç³»ï¼› Java å¼€å‘ç¯å¢ƒçš„æ­å»ºæ–¹æ³•ï¼› æ ‡è¯†ç¬¦å’Œä¿ç•™å­—çš„å®šä¹‰ä»¥åŠæ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼› ç¨‹åºçš„åŸºæœ¬ç»“æ„å’Œæ–¹æ³•å®šä¹‰å’Œè°ƒç”¨çš„ç®€å•æ–¹æ³•ï¼› è¯­æ³•é”™è¯¯å’Œ Bug (èµ·æºã€æ€ä¹ˆäº§ç”Ÿçš„)ï¼› æ³¨é‡Šçš„å®šä¹‰ã€ä¸‰ç§æ³¨é‡Šçš„æ–¹å¼ã€æ³¨é‡Šçš„è§„èŒƒï¼› ç»ƒä¹ ç»ƒä¹  1ï¼šå°è¯•è¾“å‡ºè‡ªå·±å–œæ¬¢çš„ä¸€æ®µè¯åœ¨å±å¹•ä¸­å‚è€ƒç­”æ¡ˆï¼š(ä¸Šé¢æœ‰å®Œæ•´ä»£ç æ¼”ç¤º) ç»ƒä¹  2ï¼šå°è¯•æŠŠä¸Šæ–¹è¾“å‡ºçš„å†…å®¹å•ç‹¬å®ç°ä¸ºè‡ªå·±çš„æ–¹æ³•å¹¶åœ¨ main æ–¹æ³•ä¸­è°ƒç”¨è¿è¡Œå‚è€ƒç­”æ¡ˆï¼š(ä¸Šé¢æœ‰å®Œæ•´ä»£ç æ¼”ç¤º) ç»ƒä¹  3ï¼šç»™è‡ªå·±çš„ä»£ç æ·»åŠ ä¸Šæ³¨é‡Šå¹¶è®©æœ‹å‹é˜…è¯»è¯¢é—®æ˜¯å¦æ¸…æ™°å¿…è¦å‚è€ƒç­”æ¡ˆï¼š(ä¸Šé¢æœ‰å®Œæ•´ä»£ç æ¼”ç¤º) è‡ªå–èµ„æ–™ç›¸å…³æ‰©å±•é˜…è¯»èµ„æ–™ Java æ•™ç¨‹ | å»–é›ªå³°å®˜æ–¹ç½‘ç«™ - https://www.liaoxuefeng.com/wiki/1252599548343744 å²ä¸Šæœ€ç®€å•çš„ Intellij IDEA æ•™ç¨‹ - https://github.com/judasn/IntelliJ-IDEA-Tutorial è®¡ç®—æœºå‘å±•å²ä¸Šåå¤§è‘—åè½¯ä»¶ç¼ºé™· - https://zhuanlan.zhihu.com/p/31167236 æ¨èä¹¦ç±Java æ ¸å¿ƒæŠ€æœ¯Â·å· I(åŸä¹¦ç¬¬ 11 ç‰ˆ) æ¨èç†ç”±ï¼š è¿™æœ¬ä¹¦åœ¨çŸ¥è¯†ä½“ç³»å®Œæ•´å……å®çš„åŒæ—¶ï¼Œåˆæ¯”ã€ŠThinking in Javaã€‹æš´é£å¼çš„çŸ¥è¯†æ´—ç¤¼æ¥å¾—è½»æ¾ï¼Œæ–°äººå…¥é—¨ä¹¦ç±å¼ºçƒˆæ¨èï¼ å¯è¯»ä»£ç çš„è‰ºæœ¯ æ¨èç†ç”±ï¼š ç¼–å†™å¯é˜…è¯»çš„ä»£ç æ˜¯ç¨‹åºå‘˜ä»å§‹è‡³ç»ˆéœ€è¦æå‡çš„èƒ½åŠ›ï¼Œè¿™æœ¬ä¹¦å®Œæ•´å‘ˆä½“ç³»çš„ç»“æ„ï¼Œå’Œæœ´å®å……å®çš„å®ä¾‹ï¼Œè®©è¯»è€…é€šè¿‡é˜…è¯»å°±èƒ½åœ¨å®è·µä¸­çœŸå®åœ°è¿ç”¨èµ·æ¥ï¼Œæ¨èï¼ å‚è€ƒèµ„æ–™ ã€ŠThinking in Javaã€‹ç¬¬å››ç‰ˆ ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ç¬¬11ç‰ˆ å»–é›ªå³°ç³»åˆ— Java æ•™ç¨‹ - https://www.liaoxuefeng.com/wiki/1252599548343744 å†å²ä¸Šçš„ç¬¬ä¸€ä¸ªè®¡ç®—æœºBug - http://www.cxyym.com/2014/11/999/ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€Java å‘å±•å²åŠèµ·èˆªæ–°ä¸–ç•Œ","slug":"ã€ŒMoreThanJavaã€Java-å‘å±•å²åŠèµ·èˆªæ–°ä¸–ç•Œ","date":"2020-06-09T03:18:00.000Z","updated":"2020-08-16T07:50:03.225Z","comments":true,"path":"2020/06/09/morethanjava-java-fa-zhan-shi-ji-qi-hang-xin-shi-jie/","link":"","permalink":"http://www.wmyskxz.com/2020/06/09/morethanjava-java-fa-zhan-shi-ji-qi-hang-xin-shi-jie/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. Java å‘å±•ç®€å² å›¾ç‰‡æ¥æºï¼šhttps://www.geeksforgeeks.org/the-complete-history-of-java-programming-language/ èµ·æºï¼šâ€Greenâ€ é¡¹ç›®20 ä¸–çºª 90 å¹´ä»£ï¼Œå•ç‰‡å¼è®¡ç®—æœºç³»ç»Ÿè¯ç”Ÿï¼Œå•ç‰‡å¼è®¡ç®—æœºç³»ç»Ÿä¸ä»…å»‰ä»·ï¼Œè€Œä¸”åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨å®ƒå¯ä»¥å¤§å¹…åº¦æå‡æ¶ˆè´¹æ€§ç”µå­äº§å“çš„æ™ºèƒ½åŒ–ç¨‹åº¦ã€‚ SUN å…¬å¸ä¸ºäº†æŠ¢å å¸‚åœºå…ˆæœºï¼Œåœ¨ 1991 å¹´æˆç«‹äº†ä¸€ä¸ªç”±è©¹å§†æ–¯Â·é«˜æ–¯æ—ï¼ˆJames Goslingï¼‰é¢†å¯¼ï¼Œåä¸º â€œGreenâ€ é¡¹ç›®å°ç»„ï¼Œç›®çš„æ˜¯å¼€å‘ä¸€ç§ èƒ½å¤Ÿåœ¨å„ç§æ¶ˆè´¹æ€§ç”µå­äº§å“ä¸Šè¿è¡Œçš„ç¨‹åºæ¶æ„ï¼ˆä¸»è¦æ˜¯åƒ æœ‰çº¿ç”µè§†è½¬æ¢ç›’ è¿™ä¸€ç±» å¤„ç†èƒ½åŠ›å’Œå†…å­˜éƒ½å¾ˆæœ‰é™ï¼Œå¹¶ä¸” CPU å‚å•†åˆå„ä¸ç›¸åŒ çš„æ¶ˆè´¹è®¾å¤‡ï¼‰ã€‚ ç”±äºè¿™äº›æ¶ˆè´¹è®¾å¤‡çš„å¤„ç†èƒ½åŠ›å’Œå†…å­˜éƒ½æœ‰é™ï¼Œæ‰€ä»¥è¯­è¨€å¿…é¡» éå¸¸å°ä¸”èƒ½å¤Ÿç”Ÿæˆéå¸¸ç´§å‡‘çš„ä»£ç ã€‚å¦å¤–ï¼Œç”±äºä¸åŒå‚å•†ä¼šé€‰æ‹©ä¸åŒçš„ CPUï¼Œå› æ­¤å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯è¿™ç§è¯­è¨€ ä¸åº”è¯¥ä¸ä»»ä½•ç‰¹å®šçš„ä½“ç³»ç»“æ„ç»‘å®šã€‚ä»£ç çŸ­å°ã€ç´§å‡‘ä¸”ä¸å¹³å°æ— å…³ï¼Œè¿™äº›è¦æ±‚ä¿ƒä½¿å¼€å‘å›¢é˜Ÿè®¾è®¡å‡ºä¸€ä¸ª å¯ç§»æ¤çš„è¯­è¨€ï¼Œå¯ä»¥ä¸ºè™šæ‹Ÿæœºç”Ÿæˆä¸­é—´ä»£ç ã€‚ ä¸è¿‡ï¼ŒSun å…¬å¸çš„äººéƒ½æœ‰ UNIX çš„åº”ç”¨èƒŒæ™¯ã€‚å› æ­¤ï¼Œæ‰€å¼€å‘çš„è¯­è¨€ä»¥ C++ ä¸ºåŸºç¡€ï¼Œè€Œä¸æ˜¯ Lisp/ Smalltalk æˆ– Pascalã€‚ä¸è¿‡ï¼Œå°±åƒ Gosling åœ¨ä¸“è®¿ä¸­è°ˆé“ï¼šâ€œæ¯•ç«Ÿï¼Œè¯­è¨€åªæ˜¯å®ç°ç›®æ ‡çš„å·¥å…·ï¼Œè€Œä¸æ˜¯ç›®æ ‡æœ¬èº«ã€‚â€ Gosling æŠŠè¿™ç§è¯­è¨€ç§°ä¸º â€œOakâ€ï¼ˆç›´è¯‘ä¸ºæ©¡æ ‘ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºå®ƒéå¸¸å–œæ¬¢è‡ªå·±åŠå…¬å®¤çª—å¤–çš„ä¸€é¢—æ©¡æ ‘â€¦ï¼‰ã€‚åæ¥ Sun å…¬å¸å‘ç°ï¼ŒOak æ˜¯ä¸€ç§å·²æœ‰çš„è®¡ç®—æœºè¯­è¨€åå­—ï¼Œäºæ˜¯ Gosling å’Œä»–çš„å›¢é˜Ÿè¿›è¡Œäº†ä¸€æ¬¡å¤´è„‘é£æš´ï¼Œå¤šæ¬¡è®¨è®ºåï¼Œä» Java/ DNA/ SILK/ RUBY ä¸­å†³å®šä½¿ç”¨ Java æ¥å‘½åã€‚äº‹å®è¯æ˜è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰çµæ„Ÿçš„é€‰æ‹©ã€‚ åŸ‹æ²¡ï¼šæ²¡äººä¸º â€œGreenâ€ é¡¹ç›®ä¹°å•1992 å¹´ï¼ŒGreen é¡¹ç›®å‘å¸ƒäº†å®ƒçš„ç¬¬ä¸€ä¸ªäº§å“ï¼Œç§°ä¹‹ä¸º ã€Œ* 7ã€ã€‚è¿™ä¸ªäº§å“å¯ä»¥æä¾›éå¸¸æ™ºèƒ½çš„è¿œç¨‹æ§åˆ¶ã€‚é—æ†¾çš„æ˜¯ï¼ŒSun å…¬å¸å¯¹ç”Ÿäº§è¿™ä¸ªäº§å“å¹¶ä¸æ„Ÿå…´è¶£ã€‚Green é¡¹ç›®ç»„çš„äººå‘˜å¿…é¡»æ‰¾å‡ºå…¶ä»–çš„æ–¹æ³•æ¥è®²ä»–ä»¬çš„æŠ€æœ¯æ¨å‘å¸‚åœºã€‚ ç„¶è€Œï¼Œä»ç„¶æ²¡æœ‰ä»»ä½•ä¸€å®¶æ ‡å‡†æ¶ˆè´¹å“ç”µå­å…¬å¸å¯¹æ­¤æ„Ÿå…´è¶£ã€‚äºæ˜¯ï¼ŒGreen é¡¹ç›®ç»„æŠ•æ ‡äº†ä¸€ä¸ªè®¾è®¡æœ‰çº¿ç”µè§†ç›’çš„é¡¹ç›®ï¼Œå®ƒèƒ½æä¾›è§†é¢‘ç‚¹æ’­ç­‰æ–°å‹æœ‰çº¿æœåŠ¡ï¼Œä½†ä»–ä»¬æ²¡èƒ½æ‹¿åˆ°è¿™ä¸ªåˆåŒ ï¼ˆæœ‰è¶£çš„æ˜¯ï¼Œå¾—åˆ°è¿™ä¸ªé¡¹ç›®çš„å…¬å¸çš„é¢†å¯¼æ°æ°æ˜¯å¼€è¾Ÿ Netscape å…¬å¸çš„ Jim Clarkã€‚Netscape å…¬å¸åæ¥å¯¹ Java çš„æˆåŠŸç»™äºˆäº†å¾ˆå¤§çš„å¸®åŠ©ã€‚ï¼‰ Green é¡¹ç›® ï¼ˆè¿™æ—¶å·²ç»æ¢äº†ä¸€ä¸ªæ–°åå­— â€”â€”â€”â€” â€œFirst Person å…¬å¸â€ï¼‰ åœ¨ 1993 å¹´ä¸€æ•´å¹´ä»¥åŠ 1994 å¹´ä¸ŠåŠå¹´ï¼Œä¸€ç›´åœ¨è‹¦è‹¦å¯»æ‰¾ä¹°å®¶è´­ä¹°ä»–ä»¬çš„æŠ€æœ¯ã€‚ç„¶è€Œï¼Œä¸€ä¸ªä¹Ÿæ²¡æœ‰æ‰¾åˆ° ï¼ˆPartick Naughton â€”â€”â€”â€” é¡¹ç›®ç»„çš„åˆ›å§‹äººä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å®Œæˆäº†å¤§å¤šæ•°è¥é”€å·¥ä½œçš„äººï¼Œå£°ç§°ä¸ºäº†é”€å”®è¿™é¡¹æŠ€æœ¯ï¼Œå·²ç´¯è®¡é£è¡Œäº† 300,000 è‹±é‡Œï¼‰ã€‚ 1994 å¹´ First Person å…¬å¸è§£æ•£äº†ã€‚ è½¬æœºï¼šInternet çš„å£®å¤§å½“è¿™ä¸€åˆ‡åœ¨ Sun å…¬å¸å‘ç”Ÿçš„æ—¶å€™ï¼ŒInternet çš„ä¸‡ç»´ç½‘ä¹Ÿåœ¨æ—¥æ¸å‘å±•å£®å¤§ã€‚ä¸‡ç»´ç½‘çš„å…³é”®æ˜¯æŠŠè¶…æ–‡æœ¬é¡µé¢è½¬æ¢åˆ°å±å¹•ä¸Šçš„æµè§ˆå™¨ã€‚ 1994 å¹´å¤§å¤šæ•°äººéƒ½åœ¨ä½¿ç”¨ Mosaicï¼Œè¿™æ˜¯ä¸€ä¸ª 1993 å¹´å‡ºè‡ªä¼Šåˆ©è¯ºæ–¯å¤§å­¦è¶…çº§è®¡ç®—ä¸­å¿ƒçš„éå•†ä¸šåŒ–çš„ Web æµè§ˆå™¨ï¼ˆ Mosaic çš„ä¸€éƒ¨åˆ†æ˜¯ç”± Marc Andreessen ç¼–å†™çš„ã€‚å½“æ—¶ï¼Œä»–ä½œä¸ºä¸€åå‚åŠ åŠå·¥åŠè¯»é¡¹ç›®çš„æœ¬ç§‘ç”Ÿï¼Œ ç¼–å†™äº†è¿™ä¸ªè½¯ä»¶ï¼Œæ¯å°æ—¶çš„è–ªæ°´åªæœ‰ 6.85 ç¾å…ƒã€‚ä»–åæ¥æˆäº† Netscape å…¬å¸çš„åˆ›å§‹äººä¹‹ä¸€å’ŒæŠ€æœ¯æ€»ç›‘ï¼Œ å¯è°“ååˆ©åŒæ”¶ã€‚) åœ¨æ¥å— SunWorld é‡‡è®¿çš„æ—¶å€™ï¼ŒGosling è¯´åœ¨ 1994 å¹´ä¸­æœŸï¼ŒJava è¯­è¨€çš„å¼€å‘è€…æ„è¯†åˆ°ï¼š â€œæˆ‘ä»¬èƒ½å¤Ÿå»ºç«‹ä¸€ä¸ªç›¸å½“é…·çš„æµè§ˆå™¨ã€‚åœ¨å®¢æˆ·æœº/ æœåŠ¡å™¨ä¸»æµæ¨¡å‹ä¸­ï¼Œæµè§ˆå™¨æ°å¥½éœ€è¦æˆ‘ä»¬å·²ç»å®Œæˆçš„ä¸€äº›å·¥ä½œï¼šä½“ç³»ç»“æ„ä¸­ç«‹ã€å®æ—¶ã€å¯é ã€å®‰å…¨ â€”â€”â€”â€” è¿™äº›åœ¨å·¥ä½œç«™ç¯å¢ƒå¹¶ä¸å¤ªé‡è¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å†³å®šå¼€å‘æµè§ˆå™¨â€ å®é™…çš„æµè§ˆå™¨æ˜¯ç”± Patrick Naughton å’Œ Jonathan Payne å¼€å‘çš„ï¼Œå¹¶æ¼”å˜ä¸º HotJava æµè§ˆå™¨ã€‚ä¸ºäº†ç‚«è€€ Java è¯­è¨€è¶…å¼ºçš„èƒ½åŠ›ï¼ŒHotJava æµè§ˆå™¨é‡‡ç”¨ Java ç¼–å†™ã€‚è®¾è®¡è€…è®© HotJava æµè§ˆå™¨å…·æœ‰åœ¨ç½‘é¡µä¸­æ‰§è¡Œå†…åµŒä»£ç çš„èƒ½åŠ›ã€‚ è¿™ä¸€ â€œæŠ€æœ¯è¯æ˜â€ åœ¨ 1995 å¹´ 5 æœˆ 23 æ—¥çš„ SunWorldâ€™95 ä¸Šå¾—åˆ°å±•ç¤ºï¼ŒåŒæ—¶å¼•å‘äº†äººä»¬å»¶ç»­è‡³ä»Šçš„å¯¹ Java çš„ç‹‚çƒ­è¿½é€ã€‚ è‡³æ­¤ï¼Œè¿™ä¸€åœºæŒç»­é•¿è¾¾ 20 å¤šå¹´çš„ã€ŒJava çƒ­ã€å¼€å§‹äº†ã€‚ è§‚å¯Ÿè¿‘ 20 å¹´çš„æ•°æ®ï¼ŒJava çš„æ’åä»æœªè·Œå‡ºè¿‡å‰ä¸‰ï¼Œè€Œä¸”æœ‰å°†è¿‘ä¸€åŠçš„å¹´ä»½æŠ¢å äº†é€æ˜ï¼Œä¸å¾—ä¸ä»¤äººæ„Ÿå¹ï¼šã€Œæµæ°´çš„ç¨‹åºå‘˜ï¼Œé“æ‰“çš„ Java å•Šï¼ã€ Part 2. Java ä¸ Internet å›¾ç‰‡æ¥æºï¼šhttps://www.morethanshipping.com/internet-things-iot-will-help-logistics/ å¦‚æœ Java ä»…ä»…åªæ˜¯ä¼—å¤šçš„ç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„ä¸€ç§ï¼Œä½ å¯èƒ½å°±ä¼šé—®ï¼šä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤é‡è¦å‘¢ï¼Ÿä¸ºä»€ä¹ˆå®ƒä¿ƒä½¿è®¡ç®—æœºç¼–ç¨‹è¯­è¨€å‘å‰è¿ˆè¿›äº†é©å‘½æ€§çš„ä¸€æ­¥ï¼Ÿ å¦‚æœä»ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡çš„è§’åº¦çœ‹ï¼Œé—®é¢˜çš„ç­”æ¡ˆä¼¼ä¹ä¸å¤ªæ˜æ˜¾ã€‚å°½ç®¡ Java å¯¹äºè§£å†³ä¼ ç»Ÿçš„å•æœºç¨‹åºè®¾è®¡é—®é¢˜éå¸¸æœ‰ç”¨ï¼Œä½†åŒæ ·é‡è¦çš„äº‹ï¼Œå®ƒè§£å†³äº†åœ¨ä¸‡ç»´ç½‘ï¼ˆWWWï¼‰ä¸Šçš„ç¨‹åºè®¾è®¡é—®é¢˜ã€‚ Web 1.0 æ—¶ä»£çš„ç¨‹åºè®¾è®¡é—®é¢˜åœ¨åˆšåˆ›é€  Java çš„å¹´ä»£ï¼ˆ20 ä¸–çºª 90 å¹´ä»£ï¼‰ï¼Œæ•´ä¸ªäº’è”ç½‘è¿˜å¤„äº Web 1.0 çš„ç½‘ç»œèŒèŠ½é˜¶æ®µã€‚ åœ¨ ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç«  å…¶å®æœ‰å¯¹ Web åšäº†ä¸€äº›æ¦‚å¿µæ€§çš„æè¿°ï¼ˆæ¦‚å¿µã€å‘å±•ã€ä½“ç³»ç»“æ„ï¼‰ã€‚ é—®é¢˜ä¸€ï¼šç½‘é¡µæ²¡æœ‰äº¤äº’Web 1.0 çš„ç½‘ç«™æ˜¯é™æ€çš„ã€‚æœ€åˆçš„äº’è”ç½‘åªæœ‰ä¸€ç§å¾ˆç®€å•çš„ å•å‘è¿‡ç¨‹ï¼šä½  å¯¹æŸä¸€ä¸ªæœåŠ¡å™¨å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åå®ƒ è¿”å› ç»™ä½ ä¸€ä¸ª æ–‡ä»¶ï¼Œä½ çš„æœºå™¨ï¼ˆä¿—ç§°å®¢æˆ·ç«¯ï¼‰ä¸Šçš„ æµè§ˆå™¨è½¯ä»¶ æ ¹æ®æœ¬åœ°æœºå™¨çš„æ ¼å¼æ¥ è§£è¯»å¹¶å±•ç¤º è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚è¿™æœŸé—´æ²¡æœ‰ä»»ä½•çš„äº¤äº’å‘ç”Ÿï¼Œå› ä¸ºæœ€åˆçš„æµè§ˆå™¨åªæ˜¯ä¸€ä¸ª â€œå±•ç¤ºå™¨â€ï¼Œå®ƒç”šè‡³ä¸èƒ½æ‰§è¡Œæœ€ç®€å•çš„è®¡ç®—ä»»åŠ¡ã€‚ï¼ˆå¦ä¸€æ–¹é¢ï¼Œå®ƒç¡®æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒåœ¨ä½ çš„æœ¬åœ°æœºå™¨ä¸Šä¸ä¼šæ‰§è¡Œä»»ä½•ç¨‹åºï¼Œè€Œè¿™äº›ç¨‹åºå¯èƒ½åŒ…å« bug å’Œç—…æ¯’ï¼‰ ç”¨æˆ· åªèƒ½è®¿é—® è¿™äº›ç«™ç‚¹è€Œä¸ä¼šå¯¹å®ƒä»¬åšå‡ºä»»ä½•è´¡çŒ®ã€‚è¿™å°±åƒä½ æ§èµ·ä¹¦æ¶ä¸­çš„ä¸€æœ¬ä¹¦ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ç§ ã€Œåªè¯»ã€ æ¨¡å¼çš„å­˜åœ¨ï¼Œå¦‚æœä½ æƒ³ä¸åˆ›é€ è¿™æœ¬ä¹¦çš„å‡ºç‰ˆç¤¾ä¹Ÿå¥½ï¼Œä½œè€…ä¹Ÿå¥½å»ºç«‹é“¾æ¥ï¼Œåªèƒ½é€šè¿‡å…¶ä»–çš„ä¸€äº›æ–¹å¼ã€‚ï¼ˆå½“æ—¶çš„ç½‘ç«™ä¹Ÿæ˜¯ä¸»è¦æ˜¯å‘æ¶ˆè´¹è€…å±•ç¤ºäº§å“ï¼Œä»æ„Ÿå…´è¶£çš„æ¶ˆè´¹è€…é‚£é‡Œæ”¶é’±ï¼‰ å¾ˆå¿«äººä»¬å°±ä¸æ»¡è¶³äºåªæ˜¯ä»æœåŠ¡å™¨ä¼ é€’å›é¡µé¢ï¼Œäººä»¬å¸Œæœ›å®ç°å®Œæ•´çš„å®¢æˆ·/ æœåŠ¡å™¨èƒ½åŠ›ï¼Œä½¿å¾—å®¢æˆ·å¯ä»¥å°†ä¿¡æ¯åé¦ˆç»™æœåŠ¡å™¨ï¼Œæ¥å®Œæˆä¾‹å¦‚ï¼šåœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œæ•°æ®æŸ¥æ‰¾ï¼Œå¹¶å°†ç”¨æˆ·æä¾›çš„æ–°ä¿¡æ¯åŠ åˆ°æœåŠ¡å™¨ä¸­ï¼ŒæœåŠ¡å™¨ç®¡ç†äººå‘˜æ¥å—åˆ°æ–°ä¿¡æ¯ä¹‹åå°±ä¸‹å‘è®¢å•çš„æ“ä½œã€‚ é—®é¢˜äºŒï¼šå“åº”ç¼“æ…¢æ—©æœŸçš„æµè§ˆå™¨ä¸ä»…æ²¡æœ‰äº¤äº’ï¼Œè€Œä¸”å®ƒè¿˜è¶‹å‘äºè®©æœåŠ¡å™¨å’Œ Internet é˜»å¡ã€‚å› ä¸ºåœ¨ä»»ä½•æ—¶å€™ï¼Œåªè¦ ä½ éœ€è¦å®Œæˆ é€šè¿‡ç¼–ç¨‹ æ‰èƒ½å®ç°çš„ ä»»åŠ¡ï¼Œå°±å¿…é¡»å°†ä¿¡æ¯å‘æŒ¥åˆ° æœåŠ¡å™¨ å» å¤„ç†ã€‚ç„¶è€Œåœ¨äº’è”ç½‘ä¸­ï¼Œåœ¨ä»»æ„æ—¶åˆ»éƒ½æœ‰å¯èƒ½ä¼šæœ‰ æˆç™¾ä¸Šåƒ çš„å®¢æˆ·å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæ‰€ä»¥ä»»ä½•å°çš„å»¶è¿Ÿéƒ½ä¼šäº§ç”Ÿé‡å¤§çš„å½±å“ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäººä»¬é‡‡ç”¨äº†å„ç§ä¸åŒçš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œå›¾å½¢æ ‡å‡†å¾—åˆ°äº†åŠ å¼ºï¼Œè¿™ä½¿å¾—åœ¨æµè§ˆå™¨ä¸­å¯ä»¥æ’­æ”¾è´¨é‡æ›´å¥½çš„åŠ¨ç”»å’Œè§†é¢‘ã€‚å‰©ä¸‹çš„é—®é¢˜é€šè¿‡å¼•å…¥ åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­è¿è¡Œç¨‹åº çš„èƒ½åŠ›å°±å¯ä»¥è§£å†³ï¼Œè¿™è¢«ç§°ä¸º ã€Œå®¢æˆ·ç«¯ç¼–ç¨‹ã€ã€‚ é—®é¢˜ä¸‰ï¼šå®¢æˆ·ç«¯ç¼–ç¨‹å¹³å°å„å¼‚å¤§å¤šæ•°è¿è¡Œ Web æµè§ˆå™¨çš„æœºå™¨éƒ½æ˜¯èƒ½å¤Ÿæ‰§è¡Œå¤§å‹ä»»åŠ¡çš„å¼ºæœ‰åŠ›çš„å¼•æ“ã€‚åœ¨ä½¿ç”¨åŸå§‹çš„é™æ€ HTML æ–¹å¼çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬é€šå¸¸åªæ˜¯é—²åœ¨é‚£é‡Œï¼Œç­‰ç€æœåŠ¡å™¨é€æ¥ä¸‹ä¸€ä¸ªé¡µé¢ã€‚ å®¢æˆ·ç«¯ç¼–ç¨‹æ„å‘³ç€ Web æµè§ˆå™¨èƒ½å¤Ÿç”¨æ¥æ‰§è¡Œä»»ä½•å®ƒå¯ä»¥å®Œæˆçš„å·¥ä½œï¼Œä½¿å¾—è¿”å›ç»™ç”¨æˆ·çš„ç»“æœ æ›´è¿…é€Ÿ ï¼ˆä¸ç”¨å…¨éƒ¨çš„ç»“æœéƒ½ç­‰ç€æœåŠ¡å™¨æ¥è¿ç®—ï¼‰ï¼Œè€Œä¸”ä½¿å¾—ä½ çš„ç½‘ç«™ æ›´åŠ å…·æœ‰äº¤äº’æ€§ ï¼ˆé‚£äº›ä¸éœ€è¦ä½¿ç”¨æœåŠ¡å™¨æ•°æ®çš„æ“ä½œå¯ä»¥å®Œå…¨åœ¨æœ¬åœ°å®Œæˆï¼‰ã€‚ ä½†å®¢æˆ·ç«¯ç¼–ç¨‹çš„é—®é¢˜æ˜¯ï¼šå®ƒä¸é€šå¸¸æ„ä¹‰ä¸Šçš„ç¼–ç¨‹ååˆ†ä¸åŒï¼Œå‚æ•°å‡ ä¹ç›¸åŒï¼Œè€Œå¹³å°å´ä¸åŒã€‚åœ¨ Web æµè§ˆå™¨ä¸­ç¼–ç¨‹å°±åƒæ˜¯ä½¿ç”¨ä¸€å°åŠŸèƒ½å—é™çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ¯ä¸€å°åŠŸèƒ½è¿˜ç•¥å¾®çš„æœ‰å·®åˆ«ã€‚æœ€ç»ˆï¼Œä½ ä¸ä»…éœ€è¦ç¼–å†™ç¨‹åºï¼Œè¿˜éœ€è¦å¤„ç†å› ä¸ºå¹³å°ä¸åŒå¸¦æ¥çš„å…¼å®¹é—®é¢˜ã€‚ å°ç»“å› ä¸ºã€Œæ²¡æœ‰äº¤äº’ã€å’Œã€Œè®¿é—®ç¼“æ…¢ã€çš„é—®é¢˜ï¼Œæ‰€ä»¥å¼•å…¥ã€Œå®¢æˆ·ç«¯ç¼–ç¨‹ã€ï¼Œå› ä¸ºå¼•å…¥å®¢æˆ·ç«¯ç¼–ç¨‹ï¼Œé‡åˆ°ã€Œå„ç§å„æ ·ä¸ä»…ä»…æ˜¯å¹³å°å·®å¼‚å¸¦æ¥çš„é—®é¢˜ã€ã€‚ Java çš„è§£å†³æ–¹æ¡ˆæ’ä»¶å’Œè„šæœ¬è¯­è¨€ â€œå·®ç‚¹æ„æ€â€åœ¨å½“æ—¶ï¼Œå®¢æˆ·ç«¯ç¼–ç¨‹æ‰€è¿ˆå‡ºçš„æœ€é‡è¦çš„ä¸€æ­¥å°±æ˜¯ æ’ä»¶ï¼ˆplug-inï¼‰ çš„å¼€å‘ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç”¨æˆ·å¯ä»¥ä¸‹è½½ä¸€æ®µä»£ç ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°æµè§ˆå™¨ä¸­é€‚å½“çš„ä½ç½®ï¼Œä»¥æ­¤æ¥ä¸ºæµè§ˆå™¨æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚ å›¾ç‰‡æ¥æºï¼šhttps://zhuanlan.zhihu.com/p/28889449 æ’ä»¶åˆå¼•å‘äº†æµè§ˆå™¨ è„šæœ¬è¯­è¨€ï¼ˆscripting languageï¼‰ çš„å¼€å‘ã€‚é€šè¿‡ä½¿ç”¨æŸç§è„šæœ¬è¯­è¨€ï¼Œä½ å¯ä»¥å°†å®¢æˆ·ç«¯ç¨‹åºçš„æºä»£ç ç›´æ¥åµŒå…¥åˆ° HTML é¡µé¢ä¸­ï¼Œè§£é‡Šè¿™ç§è¯­è¨€çš„æ’ä»¶åœ¨ HTML é¡µé¢è¢«æ˜¾ç¤ºæ—¶è‡ªåŠ¨æ¿€æ´»ã€‚(è„šæœ¬è¯­è¨€å¯ä»¥è§£å†³å®¢æˆ·ç«¯ç¼–ç¨‹ä¸­é‡åˆ°çš„ç™¾åˆ†ä¹‹å…«åçš„é—®é¢˜) è„šæœ¬è¯­è¨€å…ˆå¤©å°±ç›¸å½“æ˜“äºç†è§£ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯ä½œä¸º HTML é¡µé¢ä¸€éƒ¨åˆ†çš„ç®€å•æ–‡æœ¬ï¼Œå½“æœåŠ¡å™¨æ”¶åˆ°è¦è·å–è¯¥é¡µé¢çš„è¯·æ±‚æ—¶ï¼Œå®ƒä»¬å¯ä»¥è¢«å¿«é€ŸåŠ è½½ã€‚æ­¤æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ä»£ç ä¼šç›´æ¥æš´éœ²ç»™ä»»ä½•æµè§ˆï¼ˆæˆ–çªƒå–ï¼‰çš„äººï¼Œä½†æ˜¯ï¼Œé€šå¸¸ä¸ä¼šä½¿ç”¨è„šæœ¬è¯­è¨€å»åšç›¸å½“å¤æ‚çš„äº‹æƒ…ï¼Œæ‰€ä»¥è¿™ä¸ªç¼ºç‚¹ä¸ä¼šå¤ªä¸¥é‡ã€‚ å¦‚æœè„šæœ¬è¯­è¨€å¯ä»¥è§£å†³å®¢æˆ·ç«¯ç¼–ç¨‹ç™¾åˆ†ä¹‹å…«åçš„é—®é¢˜çš„è¯ï¼Œé‚£ä¹ˆå‰©ä¸‹é‚£ç™¾åˆ†ä¹‹äºŒå ï¼ˆé‚£æ‰æ˜¯çœŸæ­£éš¾å•ƒçš„éª¨å¤´ï¼‰ åˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ Java å¸¦æ¥äº† Applet å›¾ç‰‡æ¥æºï¼šhttps://www.ibm.com/developerworks/cn/java/ Java å¸¦ç€ Applet åŠæ—¶å‡ºç°ã€‚ 1995 å¹´ï¼Œ Java ä¹‹çˆ¶ James Gosling å’Œ Sun å…¬å¸ç§‘å­¦åŠå…¬å®¤ä¸»ä»» John Gage ä¸€èµ·å‰å¾€è’™ç‰¹åˆ©ï¼Œå»å‚åŠ ä¸€ä¸ª TED ä¼šè®®ï¼Œä¸¤äººè¦åœ¨é‚£é‡Œå±•ç¤ºä¸€ä¸ªåˆ’æ—¶ä»£çš„æŠ€æœ¯ï¼Œ å·ç§°å‘èƒ½æŠŠæ¯ç‡¥çš„é™æ€ç½‘é¡µå˜å¾—æ ©æ ©å¦‚ç”Ÿï¼Œç¾è½®ç¾å¥‚ã€‚ æ¼”ç¤ºå¼€å§‹äº†ï¼ŒJames Gosling æŠŠé¼ æ ‡æŒ‡å‘äº†æµè§ˆå™¨ä¸­çš„ä¸€ä¸ª 3D åˆ†å­æ¨¡å‹ï¼Œæ¥å›åœ°æ—‹è½¬å®ƒï¼Œå°ä¸‹çš„è§‚ä¼—å‘å‡ºé˜µé˜µæƒŠå¹å£°ï¼Œä»–ä»¬è¢«é•‡ä½äº†ï¼Œä»æ²¡æœ‰äººæƒ³åˆ°åœ¨æµè§ˆå™¨ä¸­ä¹Ÿèƒ½å®ç°è¿™ä¹ˆ â€œç¾è½®ç¾å¥‚â€ çš„æ•ˆæœ ! å›¾ç‰‡æ¥æºï¼šhttps://zhuanlan.51cto.com/art/201911/606791.htm Java ç«äº†! è¿™ä¸ªæ¼”ç¤ºæ‰€ä½¿ç”¨çš„æŠ€æœ¯å°±æ˜¯ Appletã€‚ Applet æ˜¯åªåœ¨ Web æµè§ˆå™¨ä¸­è¿è¡Œçš„å°ç¨‹åºï¼Œå®ƒæ˜¯ä½œä¸ºç½‘é¡µçš„ä¸€éƒ¨åˆ†è€Œè‡ªåŠ¨ä¸‹è½½çš„ ï¼ˆå°±åƒæ˜¯ç½‘ç«™å›¾ç‰‡è¢«è‡ªåŠ¨ä¸‹è½½ä¸€æ ·ï¼‰ã€‚å½“ Applet è¢«æ¿€æ´»æ—¶ï¼Œå®ƒå˜å¼€å§‹æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œè¿™æ­£æ˜¯å®ƒä¼˜é›…çš„åœ°æ–¹ï¼šå®ƒæä¾›äº†ä¸€ç§åˆ†å‘è½¯ä»¶çš„æ–¹å¼ï¼Œä¸€æ—¦ç”¨æˆ·éœ€è¦å®¢æˆ·ç«¯è½¯ä»¶æ—¶ï¼Œå°±è‡ªåŠ¨ä»æœåŠ¡å™¨æŠŠå®¢æˆ·ç«¯è½¯ä»¶åˆ†å‘ç»™ç”¨æˆ·ã€‚ ç”¨æˆ·è·å–æœ€æ–°ç‰ˆæœ¬çš„å®¢æˆ·ç«¯è½¯ä»¶æ—¶ä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦å¾ˆéº»çƒ¦çš„é‡æ–°å®‰è£…è¿‡ç¨‹ ï¼ˆæœ‰ç‚¹åƒç°åœ¨çš„å°ç¨‹åºï¼‰ã€‚Java çš„è¿™ç§è®¾è®¡æ–¹å¼ï¼Œä½¿å¾—ç¨‹åºå‘˜åªéœ€è¦åˆ›å»ºå•ä¸€çš„ç¨‹åºï¼Œè€Œåªè¦ä¸€å°è®¡ç®—æœºæœ‰æµè§ˆå™¨ï¼Œä¸”æµè§ˆå™¨å…·æœ‰å†…ç½®çš„ Java è§£é‡Šå™¨ ï¼ˆå¤§éƒ¨åˆ†æœºå™¨éƒ½æœ‰ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºå°±å¯ä»¥è‡ªåŠ¨åœ¨è¿™å°è®¡ç®—å®¢æˆ·ç«¯å°½å¯èƒ½åœ°å¤šåšäº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œä¸å¿…è·¨ç½‘ç»œåœ°å‘é€ä¸€å¼ è¯·æ±‚è¡¨å•æ¥æ£€æŸ¥è‡ªå·±æ˜¯å¦å¡«å†™äº†é”™è¯¯çš„æ—¥æœŸæˆ–è€…å…¶ä»–å‚æ•°ï¼Œå®¢æˆ·ç«¯è®¡ç®—æœºå°±å¯ä»¥å¿«é€Ÿåœ°æ ‡å‡ºé”™è¯¯æ•°æ®ã€‚ è¿™ä¸ä»…ç«‹å³å°±è·å¾—äº†å¿«é€Ÿçš„å“åº”èƒ½åŠ›ï¼Œè€Œä¸”ä¹Ÿé™ä½äº†ç½‘ç»œæµé‡å’ŒæœåŠ¡å™¨è´Ÿè½½ï¼Œä»è€Œä¸ä¼šä½¿æ•´ä¸ªç½‘ç»œçš„é€Ÿåº¦æ…¢ä¸‹æ¥ã€‚ Java å¯¹æœåŠ¡ç«¯ç¼–ç¨‹çš„åŠ æŒå½“æå‡ºå¯¹æœåŠ¡å™¨çš„è¯·æ±‚ä¹‹åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå¤§éƒ¨åˆ†æ—¶é—´ï¼Œè¯·æ±‚åªæ˜¯è¦æ±‚ã€Œç»™æˆ‘å‘é€ä¸€ä¸ªæ–‡ä»¶ã€ï¼Œä¹‹åæµè§ˆå™¨ä¼šä»¥æŸç§é€‚å½“çš„å½¢å¼è§£é‡Šè¿™ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚å°†å…¶ä½œä¸º HTML é¡µé¢ã€å›¾ç‰‡ã€Java applet æˆ–è„šæœ¬ç¨‹åºç­‰æ¥è§£é‡Šã€‚ æ›´å¤æ‚çš„å¯¹æœåŠ¡å™¨çš„è¯·æ±‚é€šå¸¸æ¶‰åŠæ•°æ®åº“ï¼Œè¿™å¯èƒ½ä¼šéœ€è¦æœåŠ¡å™¨ç«¯å¯¹è¯·æ±‚åˆ°çš„æ•°æ®è¿›è¡Œä¸€å®šçš„ç¼–æ’ ï¼ˆä¾‹å¦‚æŠŠæ•°æ®åµŒåˆ°ä¸€ä¸ªè¡¨æ ¼ä¹‹å†…ï¼‰ æ¥æœ€ç»ˆä½¿å…¶æˆä¸ºä¸€ä¸ª HTML æ–‡ä»¶å‘é€ç»™å®¢æˆ·ç«¯ ï¼ˆå½“ç„¶ï¼Œå¦‚æœå®¢æˆ·ç«¯å…·å¤‡æ›´å¤šçš„åªèƒ½ï¼Œä½ å®Œå…¨å¯ä»¥æŠŠåŸå§‹æ•°æ®å‘é€ç»™å®¢æˆ·ç«¯è®©å®ƒè‡ªå·±è¿›è¡Œç¼–æ’å·¥ä½œ..ï¼‰ã€‚å¦ä¸€ç§å¸¸è§çš„æƒ…å½¢æ˜¯ï¼šä½ æ³¨å†Œè´¦å·æˆ–è€…æäº¤è®¢å•ï¼Œè¿™å¯¹æ•°æ®åº“æ•°æ®é€ æˆäº†æ›´æ”¹ï¼Œè€Œè¿™äº›å¿…é¡»é€šè¿‡æœåŠ¡å™¨ç«¯çš„æŸäº›ä»£ç è¿›è¡Œå¤„ç†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ æœåŠ¡ç«¯ç¼–ç¨‹ã€‚ Java åæ¥ç¼–å†™çš„è¢«ç§°ä¸º Servlet çš„ç¨‹åº ï¼ˆåŠå…¶è¡ç”Ÿç‰© JSPï¼‰ï¼Œæ˜¯è®¸å¤šå¼€å‘ç½‘ç«™çš„å…¬å¸è¿ç§»åˆ° Java ä¸Šçš„ä¸»è¦åŸå› ã€‚å°¤å…¶æ˜¯å› ä¸ºå‡­å€Ÿ Java è·¨å¹³å°çš„ç‰¹æ€§ æ¶ˆé™¤äº†å¤„ç†å…·æœ‰ä¸åŒèƒ½åŠ›çš„æµè§ˆå™¨æ—¶æ‰€é‡åˆ°çš„é—®é¢˜ã€‚ å°ç»“Java å‡­å€Ÿè‡ªèº«å¼ºå¤§ã€å®‰å…¨ã€è·¨å¹³å°ã€å›½é™…åŒ–çš„ç‰¹æ€§ï¼ŒåŠ ä¸Šè§£å†³äº†å½“æ—¶å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å¼€å‘çš„è¯¸å¤š â€œç—›ç‚¹â€ï¼ŒæˆåŠŸæ­ä¸Š Internet è¿™åˆ— â€œå›½é™…å¿«è½¦â€ï¼Œä¸€è·ƒæˆä¸ºäº†æ—¶ä¸‹ ï¼ˆ20 å®é™… 90 å¹´ä»£ä¸­ï¼‰ æœ€çƒ­é—¨çš„è¯­è¨€ä¹‹ä¸€ï¼Œå¹¶æŒç»­ç«çƒ­è‡³ä»Š ï¼ˆè¿™è·Ÿ Java è‡ªèº«ä¸æ–­åœ°æˆç†Ÿæœ‰è„±ä¸å¼€çš„å…³ç³»ï¼‰ã€‚ ç°å¦‚ä»Š Applet å’Œ Servlet ä¸¤ä¸ªæŠ€æœ¯å·²ç»é€æ­¥æ·¡å‡ºäººä»¬çš„è§†é‡ï¼Œä½†åœ¨ Java çš„å†å²ä¸Šï¼Œæ˜¯ä¸¾è¶³è½»é‡çš„ä¸¤ä¸ªçªç ´ç‚¹ã€‚ Part 3. Hello Wroldï¼ å›¾ç‰‡æ¥æºï¼šhttps://medium.com/@thiagonascimento/time-to-first-hello-world-11a4735602f2 å½“æˆ‘ä»¬é›†ä¸­æ³¨æ„åŠ› å­¦ä¹ ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ æ—¶ï¼Œæ•™ç¨‹ä¸Šçš„ ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ å°±æ˜¯å¦‚ä½• åœ¨è®¡ç®—æœºå±å¹•ä¸Šæ˜¾ç¤ºçŸ­è¯­ Helloï¼Œworldï¼ ä¹Ÿè®¸è¿™æ¡çŸ­è¯­æœ€çŸ¥åçš„æ¥æºæ˜¯è´å°”å®éªŒå®¤çš„å¤‡å¿˜å½•ã€ŠC è¯­è¨€ç¼–ç¨‹â€”â€”ä¸€ä»½æ•™ç¨‹ã€‹ã€‚è¿™ä»½ææ–™ç¼–å†™äº 1974 å¹´ã€‚ä¸è¿‡åœ¨ç¼–å†™äº 1972 å¹´çš„ B è¯­è¨€æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åŒæ ·çœ‹åˆ°äº†è¿™æ¡çŸ­è¯­çš„èº«å½±ã€‚ Hello, World! æ˜¯ä¸€ç§ä¼Ÿå¤§çš„æ•™å­¦æ–¹æ³•ã€‚è¿™æ˜¯ä¸€é¡¹èƒ½å¤Ÿè½»æ¾å®Œæˆçš„å°ä»»åŠ¡ï¼ŒåŒæ—¶ä¹Ÿä»£è¡¨ç€ä¸€ç§æ ‡å‡†ï¼Œä½“ç°å‡ºä¸åŒç¼–ç¨‹è¯­è¨€ä¹‹é—´çš„é‡è¦å·®å¼‚ã€‚æ­¤å¤–ï¼Œè¿™ä¹Ÿæ˜¯é«˜çº§ç¨‹åºå‘˜åœ¨å®‰è£…æ–°ç¯å¢ƒæµ‹è¯•ä¸€åˆ‡æ˜¯å¦æ­£å¸¸çš„å¿«é€Ÿç®€ä¾¿æ–¹æ³•ã€‚ï¼ˆæœ‰æ—¶å€™ï¼Œç¨‹åºå‘˜ä»¬ä¹Ÿä¼šä½¿ç”¨ã€Œhello worldã€è¿è¡Œæ—¶é—´æ¥æ¯”è¾ƒä¸åŒè¯­è¨€ä¸ç¯å¢ƒçš„é€Ÿåº¦æ°´å¹³ã€‚ï¼‰ ä¹Ÿè®¸æ›´é‡è¦çš„æ˜¯ï¼ŒHello, worldï¼ å…·æœ‰ä¸€ç§æ¸©æš–è€ŒæŸ”å’Œçš„åŠ›é‡ï¼Œå¯¹ç¼–ç¨‹æ–°äººæœ‰ç€ä¸€ç§è«åçš„äº²å’ŒåŠ›ã€‚ ã€Œä»£ç æ‹¥æœ‰æ— ç©·å¨åŠ›ï¼Œè€Œæ–°çš„ä¸–ç•Œå·²ç»å‘ä½ å¼ å¼€æ€€æŠ±ã€‚ã€ â€”â€”â€”â€” Chris Noesselï¼ŒIBM å…¬å¸ AI è®¾è®¡è´Ÿè´£äºº public class Main { public static void main(String[] args) { System.out.println(\"Hello World!\"); } } ä»¥ä¸Šå°±æ˜¯Java è¯­è¨€ç‰ˆæœ¬ Hello World ç¨‹åºã€‚ï¼ˆç°åœ¨çœ‹ä¸æ‡‚ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥è¿› https://c.runoob.com/compile/10 è¿™ä¸ªç½‘ç«™åœ¨çº¿è¿è¡Œæµ‹è¯•ä¸€ä¸‹çœ‹çœ‹æ•ˆæœâ€¦ï¼‰ è‡³æ­¤ï¼Œæ¬¢è¿ä½ è¿›å…¥ Java çš„ä¸–ç•Œã€‚ å‚è€ƒèµ„æ–™ ã€ŠThinking in Javaã€‹ ç¬¬å››ç‰ˆï¼› ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· Iã€‹ ç¬¬ 11 ç‰ˆï¼› The complete History of Java Programming Language - https://www.geeksforgeeks.org/the-complete-history-of-java-programming-language/ Java å‘å±•ç®€å²ï¼šåˆç”Ÿé‡ä½è°·ï¼Œå´›èµ·äºäº’è”ç½‘ - https://www.chainnews.com/articles/628715645859.htm æ°¸åˆ«äº†ï¼ŒJavaçš„â€œå°è‹¹æœâ€! - https://zhuanlan.51cto.com/art/201911/606791.htm æ”¹å˜ä¸–ç•Œçš„ä»£ç è¡Œ - https://www.infoq.cn/article/5CaYH8NbS6BmptWKRgkX å¾€æœŸç²¾å½© ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„ ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿° ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç† ã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€","slug":"ã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€","date":"2020-06-04T02:44:00.000Z","updated":"2020-08-16T07:50:03.139Z","comments":true,"path":"2020/06/04/morethanjava-ji-qi-zhi-ling-dao-hui-bian-zai-dao-gao-ji-bian-cheng-yu-yan/","link":"","permalink":"http://www.wmyskxz.com/2020/06/04/morethanjava-ji-qi-zhi-ling-dao-hui-bian-zai-dao-gao-ji-bian-cheng-yu-yan/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. æœºå™¨æŒ‡ä»¤ ä¸Šä¸€æ¬¡ æˆ‘ä»¬å·²ç»äº†è§£äº† äºŒè¿›åˆ¶å’Œ CPU çš„åŸºæœ¬åŸç†ï¼ŒçŸ¥é“äº†ç¨‹åºè¿è¡Œæ—¶ï¼ŒCPU æ¯ç§’æ•°ä»¥äº¿æ¬¡ã€åäº¿æ¬¡ã€ç™¾äº¿æ¬¡åœ°éœ‡è¡ç€æ—¶é’Ÿï¼ŒåŒæ­¥æ‰§è¡Œç€å¾®å°çš„ ã€Œç”µå­æ“ä½œã€ï¼Œä¾‹å¦‚ï¼šä»å†…å­˜è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®åˆ° CPU åˆæˆ–è€…åˆ¤æ–­å­—èŠ‚ä¸­çš„æŸä¸€ä½æ˜¯ 0 è¿˜æ˜¯ 1ã€‚ CPU æœ¬èº«æœ‰ä¸€ç»„ è§„å®šå¥½çš„ å¯ä»¥æ‰§è¡Œçš„ ã€ŒåŸºæœ¬åŠ¨ä½œã€ï¼ˆè¢«ç§°ä¸º æœºå™¨æŒ‡ä»¤ï¼‰ï¼š è¯»å–æŒ‡ä»¤ï¼›2. æ‰§è¡ŒæŒ‡ä»¤ï¼›3. å†™å¯„å­˜å™¨ï¼› è¿™å‡ ä¹å°±æ˜¯ CPU å·¥ä½œçš„å…¨éƒ¨äº†ã€‚ è¿™äº›åŠ¨ä½œè™½ç„¶æ¯æ¬¡åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯æ¯ç§’å¯ä»¥æ‰§è¡Œæ•°åäº¿æ¬¡ï¼Œè¿™ä¸ªæ•°é‡çº§çš„ã€Œå°æ“ä½œã€ç´¯åŠ æˆä¸ºä¸€ä¸ªå¤§çš„ã€Œæœ‰ç”¨çš„æ“ä½œã€ã€‚ å¤„ç†å™¨æ‰€åšçš„ä¸€åˆ‡éƒ½æ˜¯åŸºäºè¿™äº›å¾®å°çš„æ“ä½œï¼å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å·²ç»ä¸å†éœ€è¦äº†è§£è¿™äº›æ“ä½œçš„è¯¦ç»†ä¿¡æ¯å°±å¯ä»¥ç¼–å†™å’Œä½¿ç”¨å„ç±»ç¨‹åºã€‚è¯¸å¦‚ Java è¿™ä¸€ç±»çš„ ã€Œé«˜çº§è¯­è¨€ã€ çš„ ç›®çš„ å°±æ˜¯ å°†è¿™äº›å¾®å°çš„ç”µå­æ“ä½œç»„ç»‡æˆç”±äººç±»å¯è¯»çš„ã€Œç¨‹åºè¯­è¨€ã€è¡¨ç¤ºçš„å¤§å‹æœ‰ç”¨å•å…ƒã€‚ æœºå™¨æŒ‡ä»¤æ¼”ç¤ºä¸€æ¡ æœºå™¨æŒ‡ä»¤ ä¸€èˆ¬ç”±å†…å­˜ä¸­çš„å‡ ä¸ªå­—èŠ‚ç»„æˆï¼Œå®ƒä»¬å‘Šè¯‰ CPU åº”è¯¥æ‰§è¡Œä¸€ä¸ªä»€ä¹ˆæ ·çš„ ã€Œæœºå™¨æ“ä½œã€ï¼ˆæ˜¯å–æ•°æ®è¿˜æ˜¯å†™å¯„å­˜å™¨ç­‰..ï¼‰ã€‚å¤„ç†å™¨ä¾æ¬¡æŸ¥çœ‹ CPU ä¸­çš„æœºå™¨æŒ‡ä»¤ï¼Œå¹¶æ‰§è¡Œæ¯ä¸€æ¡ã€‚å†…å­˜ä¸­çš„ä¸€ç»„æœºå™¨æŒ‡ä»¤è¢«ç§°ä¸º ã€Œæœºå™¨è¯­è¨€ç¨‹åºã€ï¼Œæˆ–ç§°ä¸º ã€Œå¯æ‰§è¡Œç¨‹åºã€ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥ä½¿ç”¨æœºå™¨è¯­è¨€æ¥æ¼”ç¤ºä¸€ä¸ªæ§åˆ¶ç¯æ³¡äº®åº¦çš„æœºå™¨è¯­è¨€ç¨‹åºã€‚ å…ˆå’Œç¡¬ä»¶åšå¥½è§„å®šå‡è®¾ç¯æ³¡ç”±å†…å­˜ä¸­çš„æŸä¸€ä¸ªç¨‹åºæ§åˆ¶ï¼Œè¯¥ç¨‹åºèƒ½å¤Ÿå®Œå…¨æ‰“å¼€å’Œå…³é—­ç¯æ³¡ï¼Œå¯ä»¥ä½¿ç¯æ³¡å˜äº®æˆ–å˜æš—ï¼Œæœºå™¨æŒ‡ä»¤ä¸€ä¸ªå­—èŠ‚é•¿åº¦ï¼Œå¹¶ä¸”ä¸æœºå™¨æ“ä½œå¯¹åº”å¦‚ä¸‹ï¼š æœºå™¨æŒ‡ä»¤ æœºå™¨æ“ä½œ 00000000 åœæ­¢ç¨‹åº 00000001 å®Œå…¨æ‰“å¼€ç¯æ³¡ 00000010 å®Œå…¨å…³é—­ç¯æ³¡ 00000100 ç¯æ³¡æš—æ·¡ 10ï¼… 00001000 å°†ç¯æ³¡ç…§äº® 10ï¼… 00010000 å¦‚æœç¯æ³¡å®Œå…¨ç‚¹äº®ï¼Œåˆ™è·³è¿‡ä¸‹ä¸€æ¡è¯´æ˜ 00100000 å¦‚æœç¯æ³¡å®Œå…¨ç†„ç­ï¼Œè¯·è·³è¿‡ä¸‹ä¸€æ¡è¯´æ˜ 01000000 è½¬åˆ°ç¨‹åºçš„å¼€å§‹ï¼ˆåœ°å€ 0ï¼‰ Demo ç¨‹åº &amp;&amp; æ¼”ç¤ºæ ¹æ®ä¸Šæ–¹ä½œå‡ºçš„è§„å®šï¼Œæˆ‘ä»¬å†™ä¸‹å¦‚ä¸‹çš„ç¨‹åºï¼šï¼ˆä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘æŠŠå¯¹åº”çš„æœºå™¨æ“ä½œä¹Ÿå†™åœ¨äº†åé¢ï¼Œå®é™…çš„ç¨‹åºåªåŒ…å«æœºå™¨æŒ‡ä»¤ï¼‰ åœ°å€ æœºå™¨æŒ‡ä»¤ æœºå™¨æ“ä½œ 0 00000001 å®Œå…¨æ‰“å¼€ç¯æ³¡ 1 00000010 å®Œå…¨å…³é—­ç¯æ³¡ 2 00000001 å®Œå…¨æ‰“å¼€ç¯æ³¡ 3 00000100 ç¯æ³¡æš—æ·¡10ï¼… 4 00000100 ç¯æ³¡æš—æ·¡10ï¼… 5 00000000 åœæ­¢ç¨‹åº æ‰€ä»¥è¿™æ ·çš„ä¸€æ®µç¨‹åºæ‰§è¡Œæ•ˆæœå°±å¦‚ä¸‹å›¾ï¼š æ‚¨å¯ä»¥å°è¯•è‡ªå·±åˆ©ç”¨ 01000000ï¼ˆè·³è½¬åˆ°ç¨‹åºå¼€å§‹ï¼‰ æ¥æ”¹å†™ç¨‹åºæ¥è¾¾åˆ°è®©ã€Œç¯é€æ¸å˜äº®åˆé€æ¸å˜æš—ã€çš„ç›®çš„ã€‚ å°ç»“ä¸Šé¢æ¼”ç¤ºçš„ç¨‹åº æ ¸å¿ƒæ€æƒ³ æ˜¯ï¼š æœºå™¨è¯­è¨€ç¨‹åºæ˜¯å†…å­˜ä¸­ä¸€ç³»åˆ—æœºå™¨æŒ‡ä»¤çš„é›†åˆï¼› æœºå™¨æŒ‡ä»¤ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ç»„æˆï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œä»…ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼› å¤„ç†å™¨ä¸€æ¬¡è¿è¡Œä¸€æ¡æœºå™¨æŒ‡ä»¤çš„ç¨‹åºï¼› æ‰€æœ‰çš„å°æœºå™¨æ“ä½œåŠ èµ·æ¥éƒ½æ˜¯æœ‰ç”¨çš„ï¼› åœ¨å®é™…çš„ CPU ä¸­ï¼Œæ‹¥æœ‰æ›´å¤šçš„æœºå™¨æŒ‡ä»¤ï¼Œè€Œä¸”æ›´è¯¦ç»†ï¼Œå¹¶ä¸”ä¸åŒçš„ CPUï¼ŒæŒ‡ä»¤é›†æ˜¯ä¸åŒçš„ã€‚å…¸å‹çš„ CPU æ‹¥æœ‰ä¸€åƒæˆ–æ›´å¤šçš„æœºå™¨æŒ‡ä»¤ã€‚ Part 2. æ±‡ç¼–è¯­è¨€ å›¾ç‰‡æ¥æºï¼šhttp://www.ruanyifeng.com/blog/2018/01/assembly-language-primer.html æœºå™¨è¯­è¨€å¤ª â€œåäººç±»â€æˆ‘ä»¬å·²ç»å¯ä»¥å¼€å§‹å†™ä¸€äº›ç¨‹åºä½¿ç”¨äº†ï¼Œä½†æ˜¯ä½¿ç”¨ æœºå™¨è¯­è¨€ç¼–å†™ä»£ç ä¼šååˆ†è¾›è‹¦ï¼Œæ¯”å¦‚ï¼š 00000001 00000010 00000001 00000100 00000100 00000000 å³ä½¿ä½ åˆšçœ‹è¿‡ä½ ä¹Ÿä¼šå¯¹è¿™ä¸€æ®µå°±åœ¨ ä¸Šæ–¹çš„å®ä¾‹ä»£ç  æ²¡æœ‰ä»€ä¹ˆæ„ŸçŸ¥ï¼Œè¿™æ˜¯å› ä¸ºæœºå™¨è¯­è¨€æ˜¯è®¾è®¡ç»™æœºå™¨çš„ï¼Œäººç±»è®°å¿†å’Œä½¿ç”¨èµ·æ¥å°±ä¼šæ˜¾å¾—ååˆ†éº»çƒ¦ã€‚ å¦‚æ­¤ä½ å°±ä¼šæ„ŸçŸ¥åˆ° ä¸Šä¸ªä¸–çºª çš„ç¨‹åºå‘˜ä½¿ç”¨ æ‰“å­”å¡ç‰‡ï¼š ä½¿ç”¨ çº¸å¸¦ï¼š ç”šè‡³æ˜¯ ç›´æ¥æ’æ‹”çº¿è·¯ or æŒ‰ä¸‹å¼€å…³ï¼š æ˜¯ä¸€ä»¶å¤šä¹ˆç¡¬æ ¸çš„äº‹æƒ…â€¦ å¦‚æœä½ å¯¹å®ƒä»¬å¦‚ä½•å·¥ä½œä»¥åŠå¤šä¹ˆç¡¬æ ¸æ„Ÿå…´è¶£ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ä¸‹æ–¹çš„é“¾æ¥ï¼š å¼€å‘è¯­è¨€å°ä¼ ä¹‹ä¸€ï¼šæœ€æ—©çš„ç¼–ç¨‹è¯­è¨€â€”â€”æœºå™¨è¯­è¨€ - https://blog.csdn.net/killer080414/article/details/42219091 50å¹´å‰çš„ç™»æœˆç¨‹åºå’Œç¨‹åºå‘˜æœ‰å¤šç¡¬æ ¸ - https://coolshell.cn/articles/19612.htmlã€ å†é™„å¸¦ä¸€ä¸ªå®è—ç½‘ç«™(å“¥ä¼¦æ¯”äºšå¤§å­¦å‡ºç‰ˆçš„è®¡ç®—æœºå†å²ï¼Œéå¸¸è¯¦ç»†)ï¼Œæœ‰æ¡ä»¶çš„åŒå­¦ éå¸¸æ¨è è¿›å»æµè§ˆä¸€ä¸‹ï¼š http://www.columbia.edu/cu/computinghistory/index.html æ±‡ç¼–è¯­è¨€è¯ç”ŸCPU çš„æŒ‡ä»¤éƒ½æ˜¯ äºŒè¿›åˆ¶ çš„ï¼Œè¿™æ˜¾ç„¶å¯¹äºäººç±»æ¥è¯´æ˜¯ ä¸å¯è¯» çš„ã€‚ä¸ºäº†è§£å†³äºŒè¿›åˆ¶æŒ‡ä»¤çš„å¯è¯»æ€§é—®é¢˜ï¼Œå·¥ç¨‹å¸ˆå°†é‚£äº›æŒ‡ä»¤å†™æˆäº† å…«è¿›åˆ¶ã€‚äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶æ˜¯è½»è€Œæ˜“ä¸¾çš„ï¼Œä½†æ˜¯å…«è¿›åˆ¶çš„å¯è¯»æ€§ä¹Ÿä¸è¡Œã€‚ å¾ˆè‡ªç„¶åœ°ï¼Œæœ€åè¿˜æ˜¯ç”¨æ–‡å­—è¡¨è¾¾ï¼ŒåŠ æ³•æŒ‡ä»¤å†™æˆ ADDã€‚å†…å­˜åœ°å€ä¹Ÿä¸å†ç›´æ¥å¼•ç”¨ï¼Œè€Œæ˜¯ ç”¨æ ‡ç­¾ è¡¨ç¤ºã€‚ è¿™æ ·çš„è¯ï¼Œå°±å¤šå‡ºä¸€ä¸ªæ­¥éª¤ï¼Œè¦æŠŠè¿™äº›æ–‡å­—æŒ‡ä»¤ç¿»è¯‘æˆäºŒè¿›åˆ¶ï¼Œè¿™ä¸ªæ­¥éª¤å°±ç§°ä¸º assemblingï¼Œå®Œæˆè¿™ä¸ªæ­¥éª¤çš„ç¨‹åºå°±å«åš assemblerã€‚å®ƒå¤„ç†çš„æ–‡æœ¬ï¼Œè‡ªç„¶å°±å«åš aseembly codeã€‚æ ‡å‡†åŒ–ä»¥åï¼Œç§°ä¸º assembly languageï¼Œç¼©å†™ä¸º asmï¼Œä¸­æ–‡è¯‘ä¸º æ±‡ç¼–è¯­è¨€ã€‚ å›¾ç‰‡æ¥æºï¼šhttp://www.ruanyifeng.com/blog/2018/01/assembly-language-primer.html ç†è§£æ±‡ç¼–è¯­è¨€æ¯ä¸€ç§ CPU çš„æœºå™¨æŒ‡ä»¤éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤å¯¹åº”çš„æ±‡ç¼–è¯­è¨€ä¹Ÿä¸ä¸€æ ·ã€‚æœ¬æ–‡ä»‹ç»çš„æ˜¯ç›®å‰æœ€å¸¸è§çš„ x86 æ±‡ç¼–è¯­è¨€ï¼Œå³ Intel å…¬å¸çš„ CPU ä½¿ç”¨çš„é‚£ä¸€ç§ã€‚ å¯„å­˜å™¨è¦å­¦ä¹ æ±‡ç¼–è¯­è¨€ï¼Œé¦–å…ˆå¿…é¡»äº†è§£ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼šå¯„å­˜å™¨ å’Œ å†…å­˜æ¨¡å‹ã€‚ å…ˆæ¥çœ‹å¯„å­˜å™¨ã€‚CPU æœ¬èº«åªè´Ÿè´£è¿ç®—ï¼Œä¸è´Ÿè´£å‚¨å­˜æ•°æ®ã€‚æ•°æ®ä¸€èˆ¬éƒ½å‚¨å­˜åœ¨å†…å­˜ä¹‹ä¸­ï¼ŒCPU è¦ç”¨çš„æ—¶å€™å°±å»å†…å­˜è¯»å†™æ•°æ®ã€‚ä½†æ˜¯ï¼ŒCPU çš„è¿ç®—é€Ÿåº¦è¿œé«˜äºå†…å­˜çš„è¯»å†™é€Ÿåº¦ï¼Œä¸ºäº†é¿å…è¢«æ‹–æ…¢ï¼ŒCPU éƒ½è‡ªå¸¦ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ã€‚åŸºæœ¬ä¸Šï¼ŒCPU ç¼“å­˜å¯ä»¥çœ‹ä½œæ˜¯è¯»å†™é€Ÿåº¦è¾ƒå¿«çš„å†…å­˜ã€‚ ä½†æ˜¯ï¼ŒCPU ç¼“å­˜è¿˜æ˜¯ä¸å¤Ÿå¿«ï¼Œå¦å¤–æ•°æ®åœ¨ç¼“å­˜é‡Œé¢çš„åœ°å€æ˜¯ä¸å›ºå®šçš„ï¼ŒCPU æ¯æ¬¡è¯»å†™éƒ½è¦å¯»å€ä¹Ÿä¼šæ‹–æ…¢é€Ÿåº¦ã€‚å› æ­¤ï¼Œé™¤äº†ç¼“å­˜ä¹‹å¤–ï¼ŒCPU è¿˜è‡ªå¸¦äº†å¯„å­˜å™¨ï¼ˆregisterï¼‰ï¼Œç”¨æ¥å‚¨å­˜æœ€å¸¸ç”¨çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé‚£äº›æœ€é¢‘ç¹è¯»å†™çš„æ•°æ®ï¼ˆæ¯”å¦‚å¾ªç¯å˜é‡ï¼‰ï¼Œéƒ½ä¼šæ”¾åœ¨å¯„å­˜å™¨é‡Œé¢ï¼ŒCPU ä¼˜å…ˆè¯»å†™å¯„å­˜å™¨ï¼Œå†ç”±å¯„å­˜å™¨è·Ÿå†…å­˜äº¤æ¢æ•°æ®ã€‚ å¯„å­˜å™¨ä¸ä¾é åœ°å€åŒºåˆ†æ•°æ®ï¼Œè€Œä¾é åç§°ã€‚æ¯ä¸€ä¸ªå¯„å­˜å™¨éƒ½æœ‰è‡ªå·±çš„åç§°ï¼Œæˆ‘ä»¬å‘Šè¯‰ CPU å»å…·ä½“çš„å“ªä¸€ä¸ªå¯„å­˜å™¨æ‹¿æ•°æ®ï¼Œè¿™æ ·çš„é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚æœ‰äººæ¯”å–»å¯„å­˜å™¨æ˜¯ CPU çš„é›¶çº§ç¼“å­˜ã€‚ å¯„å­˜å™¨çš„ç§ç±»æ—©æœŸçš„ x86 CPU åªæœ‰ 8 ä¸ªå¯„å­˜å™¨ï¼Œè€Œä¸”æ¯ä¸ªéƒ½æœ‰ä¸åŒçš„ç”¨é€”ã€‚ç°åœ¨çš„å¯„å­˜å™¨å·²ç»æœ‰ 100 å¤šä¸ªäº†ï¼Œéƒ½å˜æˆé€šç”¨å¯„å­˜å™¨ï¼Œä¸ç‰¹åˆ«æŒ‡å®šç”¨é€”äº†ï¼Œä½†æ˜¯æ—©æœŸå¯„å­˜å™¨çš„åå­—éƒ½è¢«ä¿å­˜äº†ä¸‹æ¥ã€‚ EAX EBX ECX EDX EDI ESI EBP ESP ä¸Šé¢è¿™ 8 ä¸ªå¯„å­˜å™¨ä¹‹ä¸­ï¼Œå‰é¢ä¸ƒä¸ªéƒ½æ˜¯é€šç”¨çš„ã€‚ESP å¯„å­˜å™¨æœ‰ç‰¹å®šç”¨é€”ï¼Œä¿å­˜å½“å‰ Stack çš„åœ°å€ï¼ˆè¯¦è§ä¸‹ä¸€èŠ‚ï¼‰ã€‚ æˆ‘ä»¬å¸¸å¸¸çœ‹åˆ° 32 ä½ CPUã€64 ä½ CPU è¿™æ ·çš„åç§°ï¼Œå…¶å®æŒ‡çš„å°±æ˜¯å¯„å­˜å™¨çš„å¤§å°ã€‚32 ä½ CPU çš„å¯„å­˜å™¨å¤§å°å°±æ˜¯ 4 ä¸ªå­—èŠ‚ã€‚ å†…å­˜æ¨¡å‹ï¼šHeapï¼ˆå †ï¼‰å¯„å­˜å™¨åªèƒ½å­˜æ”¾å¾ˆå°‘é‡çš„æ•°æ®ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼ŒCPU è¦æŒ‡æŒ¥å¯„å­˜å™¨ï¼Œç›´æ¥è·Ÿå†…å­˜äº¤æ¢æ•°æ®ã€‚æ‰€ä»¥ï¼Œé™¤äº†å¯„å­˜å™¨ï¼Œè¿˜å¿…é¡»äº†è§£å†…å­˜æ€ä¹ˆå‚¨å­˜æ•°æ®ã€‚ ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šç»™å®ƒåˆ†é…ä¸€æ®µå†…å­˜ï¼Œç”¨æ¥å‚¨å­˜ç¨‹åºå’Œè¿è¡Œäº§ç”Ÿçš„æ•°æ®ã€‚è¿™æ®µå†…å­˜æœ‰èµ·å§‹åœ°å€å’Œç»“æŸåœ°å€ï¼Œæ¯”å¦‚ä» 0x1000 åˆ° 0x8000ï¼Œèµ·å§‹åœ°å€æ˜¯è¾ƒå°çš„é‚£ä¸ªåœ°å€ï¼Œç»“æŸåœ°å€æ˜¯è¾ƒå¤§çš„é‚£ä¸ªåœ°å€ã€‚ ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹äºåŠ¨æ€çš„å†…å­˜å ç”¨è¯·æ±‚ï¼ˆæ¯”å¦‚æ–°å»ºå¯¹è±¡ï¼Œæˆ–è€…ä½¿ç”¨ malloc å‘½ä»¤ï¼‰ï¼Œç³»ç»Ÿå°±ä¼šä»é¢„å…ˆåˆ†é…å¥½çš„é‚£æ®µå†…å­˜ä¹‹ä¸­ï¼Œåˆ’å‡ºä¸€éƒ¨åˆ†ç»™ç”¨æˆ·ï¼Œå…·ä½“è§„åˆ™æ˜¯ä»èµ·å§‹åœ°å€å¼€å§‹åˆ’åˆ†ï¼ˆå®é™…ä¸Šï¼Œèµ·å§‹åœ°å€ä¼šæœ‰ä¸€æ®µé™æ€æ•°æ®ï¼Œè¿™é‡Œå¿½ç•¥ï¼‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨æˆ·è¦æ±‚å¾—åˆ° 10 ä¸ªå­—èŠ‚å†…å­˜ï¼Œé‚£ä¹ˆä»èµ·å§‹åœ°å€ 0x1000 å¼€å§‹ç»™ä»–åˆ†é…ï¼Œä¸€ç›´åˆ†é…åˆ°åœ°å€ 0x100Aï¼Œå¦‚æœå†è¦æ±‚å¾—åˆ° 22 ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå°±åˆ†é…åˆ° 0x1020ã€‚ è¿™ç§å› ä¸ºç”¨æˆ·ä¸»åŠ¨è¯·æ±‚è€Œåˆ’åˆ†å‡ºæ¥çš„å†…å­˜åŒºåŸŸï¼Œå«åš Heapï¼ˆå †ï¼‰ã€‚å®ƒç”±èµ·å§‹åœ°å€å¼€å§‹ï¼Œä»ä½ä½ï¼ˆåœ°å€ï¼‰å‘é«˜ä½ï¼ˆåœ°å€ï¼‰å¢é•¿ã€‚Heap çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œå¿…é¡»æ‰‹åŠ¨é‡Šæ”¾ï¼Œæˆ–è€…ç”±åƒåœ¾å›æ”¶æœºåˆ¶æ¥å›æ”¶ã€‚ å†…å­˜æ¨¡å‹ï¼šStackï¼ˆæ ˆï¼‰é™¤äº† Heap ä»¥å¤–ï¼Œå…¶ä»–çš„å†…å­˜å ç”¨å«åš Stackï¼ˆæ ˆï¼‰ã€‚ç®€å•è¯´ï¼ŒStack æ˜¯ç”±äº å‡½æ•°è¿è¡Œ è€Œ ä¸´æ—¶å ç”¨ çš„å†…å­˜åŒºåŸŸã€‚ ä¾‹å¦‚æˆ‘ä»¬åœ¨æ‰§è¡Œä¸€ä¸ªå« main çš„å‡½æ•°æ—¶ï¼Œä¼šä¸ºå®ƒåœ¨å†…å­˜é‡Œé¢åˆ›å»ºä¸€ä¸ª å¸§ï¼Œç”¨æ¥ä¿å­˜æ‰€æœ‰ main ä¸­ä½¿ç”¨çš„å†…éƒ¨å˜é‡ã€‚main å‡½æ•°æ‰§è¡Œç»“æŸåï¼Œè¯¥å¸§å°±ä¼šè¢«å›æ”¶ï¼Œé‡Šæ”¾æ‰€æœ‰çš„å†…éƒ¨å˜é‡ï¼Œä¸å†å ç”¨ç©ºé—´ã€‚ å¦‚æœåœ¨ main å‡½æ•° å†…éƒ¨è°ƒç”¨äº†å…¶ä»–å‡½æ•°ï¼Œä¾‹å¦‚ add_a_and_b å‡½æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œåˆ°è¿™ä¸€è¡Œçš„æ—¶å€™ï¼Œç³»ç»Ÿä¹Ÿä¼šä¸º add_a_and_b æ–°å»ºä¸€ä¸ªå¸§ï¼Œç”¨æ¥å‚¨å­˜å®ƒçš„å†…éƒ¨å˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶åŒæ—¶å­˜åœ¨ä¸¤ä¸ªå¸§ï¼šmain å’Œ add_a_and_bã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨æ ˆæœ‰å¤šå°‘å±‚ï¼Œå°±æœ‰å¤šå°‘å¸§ã€‚ ç­‰åˆ° add_a_and_b è¿è¡Œç»“æŸï¼Œå®ƒçš„å¸§å°±ä¼šè¢«å›æ”¶ï¼Œç³»ç»Ÿä¼šå›åˆ°å‡½æ•° main åˆšæ‰ä¸­æ–­æ‰§è¡Œçš„åœ°æ–¹ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚é€šè¿‡è¿™ç§æœºåˆ¶ï¼Œå°±å®ç°äº†å‡½æ•°çš„ å±‚å±‚è°ƒç”¨ï¼Œå¹¶ä¸” æ¯ä¸€å±‚éƒ½èƒ½ä½¿ç”¨è‡ªå·±çš„æœ¬åœ°å˜é‡ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠæ ˆç†è§£ä¸ºä¸€ä¸ªä¸‹æ–¹å¯†å°ï¼Œè€Œä¸Šæ–¹æ‰“å¼€çš„ã€Œæ¡¶ã€ã€‚ ç”Ÿæˆçš„æ–°å¸§æ”¾å…¥æˆ‘ä»¬ç§°ä¹‹ä¸º ã€Œå…¥æ ˆã€ï¼Œè€Œé‡Šæ”¾å¸§æˆ‘ä»¬ç§°ä¹‹ä¸º ã€Œå‡ºæ ˆã€ã€‚æ ˆçš„ç‰¹ç‚¹ å°±æ˜¯ï¼Œæœ€æ™šå…¥æ ˆçš„å¸§æœ€æ—©å‡ºæ ˆï¼ˆå› ä¸ºæœ€å†…å±‚çš„å‡½æ•°è°ƒç”¨ï¼Œæœ€å…ˆç»“æŸè¿è¡Œï¼‰ï¼Œè¿™å°±å«åš â€œåè¿›å…ˆå‡ºâ€ çš„æ•°æ®ç»“æ„ã€‚æ¯ä¸€æ¬¡å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå°±è‡ªåŠ¨é‡Šæ”¾ä¸€ä¸ªå¸§ï¼Œæ‰€æœ‰å‡½æ•°æ‰§è¡Œç»“æŸï¼Œæ•´ä¸ªæ ˆå°±éƒ½é‡Šæ”¾äº†ã€‚ æ±‡ç¼–è¯­è¨€æ¼”ç¤ºä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ï¼š (1 + 4) * 2 + 3 æˆ‘ä»¬æŒ‰ç…§ ã€Œåç¼€è¡¨ç¤ºæ³•ã€ è¿›è¡Œä¸€ä¸‹è½¬æ¢ï¼š 1ï¼Œ4ï¼Œ+ï¼Œ2ï¼Œ*ï¼Œ3ï¼Œ+ æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„æ–¹æ³•æ˜¯ ã€Œä¸­ç¼€è¡¨ç¤ºæ³•ã€ï¼Œä¹Ÿå°±æ˜¯æŠŠè®¡ç®—ç¬¦å·æ”¾ä¸­é—´ï¼Œä¾‹å¦‚ 1 + 3ï¼Œåç¼€åˆ™æ˜¯æŠŠç¬¦å·æ”¾æœ€åï¼Œä¾‹å¦‚ 1, 3, +ã€‚ è¿™æ ·åšçš„å¥½å¤„æ˜¯æ²¡æœ‰å…ˆä¹˜é™¤ååŠ å‡çš„å½±å“ï¼Œä¹Ÿæ²¡æœ‰æ‹¬å·ï¼Œç›´æ¥è¿ç®—å°±è¡Œäº†ã€‚ï¼ˆä¾‹å¦‚ 1, 3, +ï¼Œå…ˆæŠŠ 1 å’Œ 3 ä¿å­˜èµ·æ¥ç¢°åˆ° + çŸ¥é“æ˜¯åŠ æ³•åˆ™ç›´æ¥ç›¸åŠ ï¼‰ OKï¼Œæˆ‘ä»¬ä»å¤´å¼€å§‹ä½¿ç”¨æ±‡ç¼–è¯­è¨€æ¥ç¼–å†™ä¸€ä¸‹ç¨‹åºï¼Œé¦–å…ˆç¬¬ä¸€æ­¥ï¼šæŠŠ 1 ä¿å­˜èµ·æ¥ï¼ˆæ”¾å…¥å¯„å­˜å™¨ï¼‰ï¼š MOV 1 ä¹‹åæ˜¯ 4, +ï¼Œé‚£å°±ç›´æ¥åŠ ä¸€ä¸‹ï¼š ADD 4 ç„¶åæ˜¯ 2, *ï¼Œé‚£å°±ç›´æ¥ä¹˜ä¸€ä¸‹ï¼ˆSHL æ˜¯å‘å·¦ç§»åŠ¨ä¸€ä½çš„æ„æ€ï¼ŒäºŒè¿›åˆ¶ä¸­å·¦ç§»ä¸€ä¸ªå•ä½å°±ç›¸å½“äºä¹˜ä»¥ 2ï¼Œä¾‹å¦‚ 01 è¡¨ç¤º 1ï¼Œè€Œ 10 åˆ™è¡¨ç¤º 2ï¼‰ï¼š SHL 0 æœ€åæ˜¯ 3, +ï¼Œå†åŠ ä¸€ä¸‹ï¼š ADD 3 å®Œæ•´ç¨‹åºå¦‚ä¸‹ï¼š MOV 1 ADD 4 SHL 0 ADD 3 è¿™ä¼¼ä¹çœ‹èµ·æ¥æ¯” 00001111 è¿™æ ·çš„äºŒè¿›åˆ¶è¦å¥½ä¸Šå¤ªå¤šäº†ï¼ç¨‹åºå‘˜ä»¬æ„ŸåŠ¨åˆ°è½æ³ªï¼š Part 3. é«˜çº§ç¼–ç¨‹è¯­è¨€ æ‘†è„±äº† äºŒè¿›åˆ¶ï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¯è¯»çš„ æ±‡ç¼–è¯­è¨€ï¼Œä½†ä»ç„¶ååˆ†ç¹çå’Œå¤æ‚ï¼Œæ¯ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ä»£è¡¨ä¸€ä¸ªåŸºæœ¬æ“ä½œï¼Œä¾‹å¦‚ï¼šã€Œä»å†…å­˜ x ä½ç½®è·å–ä¸€ä¸ªæ•°å­—å¹¶æ”¾å…¥å¯„å­˜å™¨ Aã€ã€ã€Œå°†å¯„å­˜å™¨ A ä¸­çš„æ•°å­—æ·»åŠ åˆ°å¯„å­˜å™¨ B çš„æ•°å­—ä¸Šã€ã€‚è¿™æ ·çš„ç¼–ç¨‹é£æ ¼æ—¢è´¹æ—¶åˆå®¹æ˜“å‡ºé”™ï¼Œå¹¶ä¸”ä¸€æ—¦å‡ºé”™è¿˜å¾ˆéš¾å‘ç°ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ ã€Œ1969 å¹´é˜¿æ³¢ç½— 11å·ç™»æœˆè®¡åˆ’ã€ ç”¨æ¥ é˜²æ­¢ç™»æœˆèˆ±è®¡ç®—æœºè€—å°½è‡ªèº«èµ„æº çš„ BAILOUT ä»£ç ï¼š POODOO INHINT CA Q TS ALMCADR TC BANKCALL CADR VAC5STOR # STORE ERASABLES FOR DEBUGGING PURPOSES. INDEX ALMCADR CAF 0 ABORT2 TC BORTENT OCT77770 OCT 77770 # DONT MOVE CA V37FLBIT # IS AVERAGE G ON MASK FLAGWRD7 CCS A TC WHIMPER -1 # YES. DONT DO POODOO. DO BAILOUT. TC DOWNFLAG ADRES STATEFLG TC DOWNFLAG ADRES REINTFLG TC DOWNFLAG ADRES NODOFLAG TC BANKCALL CADR MR.KLEAN TC WHIMPER å‡ºå¤„ï¼šæ”¹å˜ä¸–ç•Œçš„ä»£ç è¡Œ - https://www.infoq.cn/article/5CaYH8NbS6BmptWKRgkX ä¼¼ä¹ä¸å¤ªå®¹æ˜“è¯»çš„æ ·å­â€¦ é˜¿æ³¢ç½—ç™»æœˆè®¡åˆ’çš„æºä»£ç åœ¨ Github ä¸Šå·²ç»å…¬å¼€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»ä¸‹æ–¹é“¾æ¥è†œæ‹œä¸€ä¸‹ï¼ˆå¯ä»¥å»æ„Ÿå—ä¸€ä¸‹å½“æ—¶ç¨‹åºå‘˜çš„å·¥ç¨‹èƒ½åŠ›ï¼‰ï¼š https://github.com/chrislgarry/Apollo-11 å¦å¤–é™„ä¸€ä¸‹å½“æ—¶ä»£ç çš„è®¾è®¡è´Ÿè´£äºº Margaret Heafield Hamiltonï¼ˆå¥³ç¨‹åºå‘˜ï¼‰å’Œå®Œæˆçš„å †èµ·æ¥è·Ÿäººä¸€æ ·é«˜çš„ä»£ç é‡ï¼š ç¬¬ä¸€ä¸ªé«˜çº§è¯­è¨€ï¼šFORTRANå½“ John Backus åœ¨ 1950 å¹´ä»¥ä¸€åç§‘å­¦ç¨‹åºå‘˜çš„èº«ä»½åŠ å…¥ IBM æ—¶ï¼Œå·²ç»å¯ä»¥ä½¿ç”¨è¯¸å¦‚ ADD ä¹‹ç±»çš„åŠ©è®°è¯ä»£æ›¿æ•°å­—ä»£ç æ¥ç¼–å†™ç¨‹åºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ±‡ç¼–è¯­è¨€ã€‚è¿™ä½¿ç¼–ç¨‹å˜å¾—å®¹æ˜“ä¸€äº›ï¼Œä½†æ˜¯å³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„ç¨‹åºä¹Ÿéœ€è¦æ•°åæ¬¡æ“ä½œï¼Œå¹¶ä¸”ä»ç„¶å¾ˆéš¾æ‰¾åˆ°é”™è¯¯ã€‚ å·´å…‹æ–¯è®¤ä¸ºï¼Œåº”è¯¥æœ‰å¯èƒ½åˆ›å»ºä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½¿ä¸€ç³»åˆ—è®¡ç®—å¯ä»¥ç”¨ç±»ä¼¼äºæ•°å­¦ç¬¦å·çš„å½¢å¼æ¥è¡¨è¾¾ã€‚ç„¶åï¼Œä½¿ç”¨ç‰¹å®šçš„ç¿»è¯‘ç¨‹åºï¼ˆä»¥ä»Šå¤©çš„æœ¯è¯­æ¥è¯´æ˜¯ç¼–è¯‘å™¨ï¼‰å¯ä»¥å°†å…¶è½¬æ¢ä¸ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„æ•°å­—ä»£ç ã€‚ Backus åœ¨ 1953 å¹´å‘ä»–çš„ç»ç†æå‡ºäº†è¿™ä¸ªæƒ³æ³•ã€‚ä»–å¾—åˆ°äº†é¢„ç®—ï¼Œå¹¶è¢«é¼“åŠ±é›‡ç”¨ä¸€ä¸ªå°å›¢é˜Ÿæ¥æµ‹è¯•è¯¥æƒ³æ³•çš„å¯è¡Œæ€§ã€‚ä¸‰å¹´åï¼Œè¯¥å›¢é˜Ÿå‘å¸ƒäº†ä¸€æœ¬æ‰‹å†Œï¼Œå…¶ä¸­æè¿°äº† IBM Mathematical Formula Translating Systemï¼ˆç®€ç§° FORTRANï¼‰ã€‚ä¸ä¹…ä¹‹åï¼Œ IBM å‘ IBM 704 çš„ç”¨æˆ·æä¾›äº†ç¬¬ä¸€ä¸ª FORTRAN ç¼–è¯‘å™¨ã€‚ Backus å’Œä»–çš„å›¢é˜Ÿåˆ›é€ äº†ä¸–ç•Œä¸Šç¬¬ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚ç§‘å­¦å®¶å’Œå·¥ç¨‹å¸ˆå°†ä¸å†éœ€è¦å°†å…¶ç¨‹åºç¼–å†™ä¸ºæ•°å­—ä»£ç æˆ–å†—é•¿çš„åŠ©è®°ç¬¦ã€‚ FORTRAN ä»£ç æ¼”ç¤ºä¸‹é¢æ¼”ç¤ºè®¡ç®—å¹¶è¾“å‡º 8 * 6 çš„ä»£ç å®ä¾‹ï¼š program VF0944 implicit none integer a, b, c a= 8 b= 6 c= a*b print *, 'Hello World, a, b, c= ', a, b, c end program VF0944 å¯¹æ¯”æ±‡ç¼–ä»£ç ï¼Œæ˜¯ä¸æ˜¯çœ‹ä¸Šå»è¦æ¸…æ™°ï¼ˆäººç±»å¯è¯»ï¼‰å¤šäº†å‘¢ï¼Ÿ FORTRAN çš„æ„ä¹‰FORTRAN çš„é—®ä¸–åœ¨è®¡ç®—æœºå²ä¸Šå…·æœ‰åˆ’æ—¶ä»£çš„æ„ä¹‰ï¼Œå®ƒä½¿è®¡ç®—æœºè¯­è¨€ä»åŸå§‹çš„ä½çº§æ±‡ç¼–è¯­è¨€èµ°å‡ºæ¥ï¼Œè¿›å…¥äº†æ›´é«˜çš„å¢ƒç•Œï¼Œä½¿å¾— è®¡ç®—æœºè¯­è¨€ä¸å†æ˜¯è®¡ç®—æœºä¸“å®¶çš„ä¸“åˆ©ï¼Œä½¿å¹¿å¤§çš„å·¥ç¨‹æŠ€æœ¯äººå‘˜æœ‰äº†è¿›è¡Œè®¡ç®—æœºç¼–ç¨‹çš„æ‰‹æ®µã€‚ ç”±æ­¤è®¡ç®—æœºæ›´å¿«åœ°æ·±å…¥åˆ°äº†ç¤¾ä¼šä¹‹ä¸­ï¼Œå®ƒåœ¨å·¥ä¸šéƒ¨é—¨ä¸­åˆéœ²å¤´è§’ï¼Œæ›´æ˜¯åœ¨ç«ç®­ã€å¯¼å¼¹ã€äººé€ åœ°çƒå«æ˜Ÿçš„è®¾è®¡ä¸­å¤§æ˜¾èº«æ‰‹ï¼Œå› æ­¤æœ‰äººç§° FORTRAN è¯­è¨€ä½¿è®¡ç®—æœºçš„å·¥ä¸šåº”ç”¨æˆäº†å¯èƒ½ï¼Œæ˜¯æ¨åŠ¨ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜ä»¥åè¥¿æ–¹å·¥ä¸šç»æµå¤è‹å’Œè¿›å…¥ç¬¬äºŒæ¬¡å·¥ä¸šé©å‘½çš„æ— å½¢åŠ›é‡ï¼Œæ˜¯ â€œçœ‹ä¸è§çš„è’¸æ±½æœºâ€ã€‚ FORTRAN åæ—¶ä»£FORTRAN é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€çš„å‡ºç°å­•è‚²äº†è®¡ç®—æœºè½¯ä»¶ä¸šï¼Œç»§å…¶ä¹‹åï¼Œè®¡ç®—æœºé«˜çº§ç¨‹åºè¯­è¨€çš„å¼€å‘è¿›å…¥åˆ°äº†ä¸€ä¸ªè“¬å‹ƒå‘å±•çš„æ—¶ä»£ã€‚ 1959Grace Hopper å‘æ˜äº†ç¬¬ä¸€ä¸ªé¢å‘ä¼ä¸šä¸šåŠ¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆç§° â€œé¢å‘å•†ä¸šçš„é€šç”¨è¯­è¨€â€ï¼Œä¹Ÿå¸¸å¸¸ç®€ç§° COBOLã€‚ 1964ç¾å›½è¾¾ç‰¹èŒ…æ–¯å­¦é™¢çº¦ç¿°Â·å‡¯æ¢…å°¼å’Œæ‰˜é©¬æ–¯Â·å¡èŒ¨è®¤ä¸ºï¼Œåƒ FORTRAN é‚£æ ·çš„è¯­è¨€å¤ªè¿‡ä¸“ä¸šï¼Œç¼–ç¨‹éå¸¸å›°éš¾ã€‚äºæ˜¯ä»–ä»¬ç®€åŒ–äº† FORTRANï¼Œå¹¶è®¾è®¡å‡ºäº†æ›´é€‚åˆåˆå­¦è€…çš„ BASIC è¯­è¨€ã€‚ 1970å°¼å¤æ‹‰æ–¯Â·æ²ƒæ–¯éå¸¸ç—´è¿·äºç¼–ç¨‹è¯­è¨€ï¼Œä»–ç‡å…ˆæå‡ºäº†ç»“æ„åŒ–ç¨‹åºè®¾è®¡æ€æƒ³å¹¶å‘æ˜äº† Pascal è¯­è¨€ã€‚ æ­¤å¤–ä»–è¿˜æå‡ºäº† Wirth å®šå¾‹ï¼Œæ„ä¸º â€œè½¯ä»¶å˜æ…¢çš„é€Ÿåº¦æ¯”ç¡¬ä»¶å˜å¿«çš„é€Ÿåº¦æ›´å¿«â€ï¼Œè¿™è®©æ‘©å°”å®šå¾‹å˜å¾—å……æ»¡è®½åˆºã€‚ä¹‹åçš„ Electron.js ä¹Ÿç¡®å®è¯æ˜äº†è¿™ä¸€ç‚¹ã€‚ 1972ä¸¹å°¼æ–¯Â·é‡Œå¥‡åœ¨è´å°”å®éªŒå®¤å·¥ä½œæœŸé—´å‘æ˜äº† C è¯­è¨€ï¼Œå¼€å¯äº†ç°ä»£ç¨‹åºè¯­è¨€çš„é©å‘½ã€‚ä¹‹åï¼Œä»–åˆæ·»åŠ äº†æ®µé”™è¯¯å’Œå…¶ä»–ä¸€äº›å¸®åŠ©å¼€å‘äººå‘˜çš„å®ç”¨åŠŸèƒ½ï¼Œå¤§å¤§æå‡äº†ç¼–ç¨‹æ•ˆç‡ã€‚ é™¤äº† C è¯­è¨€ä¹‹å¤–ï¼Œ ä»–å’Œè´å°”å®éªŒå®¤çš„åŒäº‹è¿˜åˆ›é€ äº†ä¼Ÿå¤§çš„ Unix æ“ä½œç³»ç»Ÿã€‚ 1980Alan Kay å‘æ˜äº†é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ Smalltalkï¼Œåœ¨ Smalltalk ä¸­ï¼Œä¸€åˆ‡çš†å¯¹è±¡ã€‚ 1987æ‹‰é‡ŒÂ·æ²ƒå°”å‘æ˜äº† Perl è¯­è¨€ã€‚ 1983Jean Ichbiah å‘ç° Ada Lovelace çš„ç¨‹åºä»æœªè¿è¡ŒæˆåŠŸè¿‡ï¼Œå› æ­¤å†³å®šç”¨å¥¹çš„åå­—åˆ›å»ºä¸€ç§è¯­è¨€ï¼Œäºæ˜¯ Ada è¯­è¨€è¯ç”Ÿäº†ã€‚ 1986Brac Box å’Œ Tol Move é€šè¿‡èåˆ C è¯­è¨€å’Œ Smalltalk çš„ç‰¹å¾ï¼Œå‘æ˜äº† Objective-Cã€‚ä½†ç”±äºå…¶è¯­æ³•æ™¦æ¶©ï¼Œä¸å¤ªå®¹æ˜“ç†è§£ã€‚ 1983Bjarne Stroustrup åœ¨ C è¯­è¨€çš„åŸºç¡€ä¸Šå¼•å…¥å¹¶æ‰©å……äº†é¢å‘å¯¹è±¡çš„æ¦‚å¿µï¼Œå‘æ˜äº†â€”ç§æ–°çš„ç¨‹åºè¯­è¨€å¹¶å°†å…¶å‘½åä¸º C++ã€‚ C++ å¤§å¤§æå‡äº†åº”ç”¨ç¨‹åºçš„ç¼–ç¨‹æ•ˆç‡ã€‚ 1991Guido van Rossum è®¨åŒå¸¦æœ‰å¤§æ‹¬å·çš„ç¼–ç¨‹è¯­è¨€ï¼Œäºæ˜¯ä»–å‚è€ƒ Monty Python å’Œ Flying Circus è¯­æ³•ï¼Œå¹¶å‘æ˜äº† Pythonã€‚ 1993Roberto Ierusalimschy å’Œå…¶æœ‹å‹åˆ›é€ äº†ä¸€é—¨å·´è¥¿æœ¬åœ°çš„è„šæœ¬è¯­è¨€ã€‚åœ¨æœ¬åœ°åŒ–è¿‡ç¨‹ä¸­ï¼Œç”±äºä¸€ä¸ªå°çš„é”™è¯¯ä½¿å¾—ç´¢å¼•ä»1å¼€å§‹ï¼Œè€Œä¸æ˜¯0ã€‚è¿™é—¨è¯­è¨€å°±æ˜¯ Luaã€‚ 1994Rasmus Lerdorf ä¸ºä»–ä¸ªäººä¸»é¡µçš„ CGI è„šæœ¬åˆ¶ä½œäº†ä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œç”¨æ¥ç»Ÿè®¡ä»–è‡ªå·±ç½‘ç«™çš„è®¿é—®é‡ã€‚ è¿™ä¸ªæ–‡ä»¶è¢«ä¸Šä¼ åˆ°ç½‘ä¸Šä¹‹åç”¨å®ƒçš„äººè¶Šæ¥è¶Šå¤šã€‚åæ¥åˆç”¨ C è¯­è¨€é‡æ–°ç¼–å†™ï¼Œè¿˜æ·»åŠ äº†æ•°æ®åº“è®¿é—®åŠŸèƒ½ã€‚è¿™é—¨è¯­è¨€å°±æ˜¯ PHPã€‚ 1995æ¾æœ¬è¡Œå¼˜å‘æ˜äº† Ruby è¯­è¨€ã€‚ 1995Brendan Eich åˆ©ç”¨å‘¨æœ«æ—¶é—´è®¾è®¡äº†ä¸€ç§è¯­è¨€ï¼Œç”¨äºä¸ºä¸–ç•Œå„åœ°çš„ç½‘é¡µæµè§ˆå™¨æä¾›æ”¯æŒï¼Œå¹¶æœ€ç»ˆæ¨å‡ºäº† Skynetã€‚ä»–æœ€åˆå»äº† Netscapeï¼Œå¹¶å°†è¿™é—¨è¯­è¨€å‘½åä¸º LiveScriptï¼Œåæ¥åœ¨ä»£ç å®¡æŸ¥æœŸé—´ Java é€æ¸å¼€å§‹é£é¡ï¼Œå› æ­¤ä»–ä»¬å†³å®šå°†å…¶æ”¹åä¸º JavaScriptã€‚ åæ¥ Java ä½¿å…¶é™·å…¥äº†å•†æ ‡éº»çƒ¦ï¼Œäºæ˜¯ JavaScript è¢«æ›´åä¸º ECMAScriptã€‚ä½†æ˜¯äººä»¬è¿˜æ˜¯ä¹ æƒ¯ç§°ä¹‹ä¸º JavaScriptã€‚ 1996James Gosling å‘æ˜äº† Javaï¼Œè¿™æ˜¯ ç¬¬ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šé¢å‘å¯¹è±¡å¾—ç¼–ç¨‹è¯­è¨€ï¼Œå…¶ä¸­è®¾è®¡æ¨¡å¼åœ¨å®ç”¨ä¸»ä¹‰ä¸­å ç»Ÿæ²»åœ°ä½ã€‚ Moreâ€¦ å¯¹äºè¿™ä¸€æ®µè®¡ç®—æœºå†å²æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æ‹œè¯»ä¸€ä¸‹ã€ŒIT é€šå² 12.2 èŠ‚ - é«˜çº§è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€ã€çš„å†…å®¹ï¼Œåœ¨çº¿é¢„è§ˆé“¾æ¥å¦‚ä¸‹ï¼š https://books.google.com.hk/books?id=ZrAol3RzcNkC&amp;printsec=frontcover&amp;hl=zh-CN#v=onepage&amp;q&amp;f=false é«˜çº§è¯­è¨€åˆ†ç±»CPU ç»ˆç©¶åªè®¤è¯†äºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œåœ¨æˆ‘ä»¬å‘æ˜é«˜çº§è¯­è¨€ä¹‹åï¼Œä»ç„¶æ— å¯é¿å…çš„éœ€è¦è¿›è¡Œ ã€Œç¿»è¯‘ã€ å·¥ä½œã€‚æŒ‰ç…§ç¿»è¯‘æ–¹å¼çš„ä¸åŒï¼Œæˆ‘ä»¬åˆæŠŠé«˜çº§è¯­è¨€åˆ†ä¸ºäº† ã€Œç¼–è¯‘å‹ã€ å’Œ ã€Œè§£é‡Šå‹ã€ã€‚ ç¼–è¯‘å‹ ç¼–è¯‘å‹ä¸“ä¸šè§£é‡Šä¸ºï¼š ä½¿ç”¨ ä¸“é—¨çš„ç¼–è¯‘å™¨ï¼Œé’ˆå¯¹ ç‰¹å®šçš„å¹³å°ï¼Œå°†é«˜çº§è¯­è¨€æºä»£ç  ä¸€æ¬¡æ€§ çš„ç¼–è¯‘æˆå¯è¢«è¯¥å¹³å°ç¡¬ä»¶æ‰§è¡Œçš„æœºå™¨ç ï¼Œå¹¶åŒ…è£…æˆè¯¥å¹³å°æ‰€èƒ½è¯†åˆ«çš„å¯æ‰§è¡Œæ€§ç¨‹åºçš„æ ¼å¼ï¼Œå¹¶ä¸”åªéœ€è¦ç¼–è¯‘ä¸€æ¬¡ï¼Œä»¥åå†ä¹Ÿä¸ç”¨ç¼–è¯‘ã€‚å…¶å®å¯ä»¥ç®€å•ç†è§£æˆè°·æ­Œ/ ç™¾åº¦ç¿»è¯‘ï¼Œæˆ‘ä»¬æŠŠè¦ç¿»è¯‘çš„æ–‡å­—å…¨éƒ¨æ”¾è¿›å»ï¼Œä¸€æ¬¡ç¿»è¯‘ï¼Œä¸‹æ¬¡ä½¿ç”¨ç›´æ¥ä½¿ç”¨ä¸Šä¸€æ¬¡ç¿»è¯‘å¥½çš„ç»“æœã€‚ ä¼˜ç‚¹ï¼ˆè¾ƒè§£é‡Šå‹ï¼‰ï¼šæ‰§è¡Œæ•ˆç‡é«˜(æœ‰è§£é‡Šå™¨çœå»å¾ˆå¤šç¿»è¯‘çš„è¿‡ç¨‹) ç¼ºç‚¹ï¼ˆè¾ƒè§£é‡Šå‹ï¼‰ï¼šå¼€å‘æ•ˆç‡ä½(å†™å®Œæ‰€æœ‰çš„ä»£ç æ‰èƒ½æ£€æŸ¥ bugï¼Œå¾—å¤šææ€–å‘€ï¼Ÿï¼Ÿï¼Ÿ) è§£é‡Šå‹ è§£é‡Šå‹ä¸“ä¸šè§£é‡Šä¸ºï¼š ä½¿ç”¨ ä¸“é—¨çš„è§£é‡Šå™¨ å¯¹æºç¨‹åºé€è¡Œè§£é‡Šæˆ ç‰¹å®šå¹³å° çš„æœºå™¨ç å¹¶ ç«‹å³æ‰§è¡Œï¼Œå®ƒä¸éœ€è¦äº‹å…ˆç¼–è¯‘ï¼Œç›´æ¥å°†ä»£ç è§£é‡Šç§°æœºå™¨ç ç›´æ¥è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦æŸä¸€å¹³å°æä¾›äº†ç›¸åº”çš„è§£é‡Šå™¨å³å¯è¿è¡Œä»£ç ã€‚å…¶å®å¯ä»¥ç†è§£æˆåŒå£°ä¼ è¯‘ï¼Œæˆ‘ä»¬éœ€è¦ç¿»è¯‘çš„æ—¶å€™ï¼Œæ‰¾ä¸€ä¸ªç¿»è¯‘å‘˜ï¼Œå¯¹æ–¹è¯´ä¸€å¥ç¿»è¯‘å‘˜ç¿»è¯‘ä¸€å¥ï¼Œä¸‹æ¬¡ç¿»è¯‘è¿˜æ˜¯éœ€è¦ä¸€ä¸ªç¿»è¯‘å‘˜ä¸€å¥ä¸€å¥çš„ç¿»è¯‘ã€‚ ç¼ºç‚¹ï¼ˆè¾ƒç¼–è¯‘å‹ï¼‰ï¼šæ‰§è¡Œæ•ˆç‡ä½(å†™ä¸€æ¬¡ç¿»è¯‘ä¸€æ¬¡) ä¼˜ç‚¹ï¼ˆè¾ƒç¼–è¯‘å‹ï¼‰ï¼šå¼€å‘æ•ˆç‡é«˜(å†™ä¸€è¡Œç¿»è¯‘ä¸€è¡Œï¼Œé”™äº†é©¬ä¸Šå°±çŸ¥é“ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æ‰¾ä¸åˆ° bug äº†) åŠè§£é‡ŠåŠç¼–è¯‘çš„ Javaä¸åŒå‚å•†ã€ä¸åŒæ—¶é—´å¼€å‘çš„ CPU çš„æŒ‡ä»¤é›†æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±æ˜¯ä¸Šæ–¹ä¸ºä»€ä¹ˆæåˆ°è¦ä½¿ç”¨ ä¸“é—¨çš„è§£é‡Šå™¨ï¼Œè¦ç”¨äº ç‰¹å®šçš„å¹³å° çš„åŸå› ã€‚ æ‰€ä»¥ Java ä¸ºäº†å®ç° ã€Œä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œã€ çš„ç›®çš„ï¼Œé‡‡ç”¨äº†ä¸€ç§ç‰¹åˆ«çš„æ–¹æ¡ˆï¼šå…ˆ ç¼–è¯‘ ä¸º ä¸ä»»ä½•å…·ä½“åŠå…¶ç¯å¢ƒåŠæ“ä½œç³»ç»Ÿç¯å¢ƒæ— å…³çš„ä¸­é—´ä»£ç ï¼ˆä¹Ÿå°±æ˜¯ .class å­—èŠ‚ç æ–‡ä»¶ï¼‰ï¼Œç„¶åäº¤ç”±å„ä¸ªå¹³å°ç‰¹å®šçš„ Java è§£é‡Šå™¨ï¼ˆä¹Ÿå°±æ˜¯ JVMï¼‰æ¥è´Ÿè´£ è§£é‡Š è¿è¡Œã€‚ ç¼–ç¨‹äººå‘˜å’Œè®¡ç®—æœºéƒ½æ— æ³•ç›´æ¥è¯»æ‡‚å­—èŠ‚ç æ–‡ä»¶ï¼Œå®ƒå¿…é¡»ç”±ä¸“ç”¨çš„ Java è§£é‡Šå™¨æ¥è§£é‡Šæ‰§è¡Œï¼Œå› æ­¤ Java æ˜¯ä¸€ç§åœ¨ ç¼–è¯‘åŸºç¡€ä¸Šè¿›è¡Œè§£é‡Šè¿è¡Œ çš„è¯­è¨€ã€‚ï¼ˆJava ç¨‹åºè¿è¡Œæµç¨‹å¦‚ä¸‹ï¼‰ Java è§£é‡Šå™¨ è´Ÿè´£å°†å­—èŠ‚ç æ–‡ä»¶ç¿»è¯‘æˆå…·ä½“ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿå¹³å°ä¸‹çš„æœºå™¨ä»£ç ï¼Œä»¥ä¾¿æ‰§è¡Œã€‚å› æ­¤ Java ç¨‹åºä¸èƒ½ç›´æ¥è¿è¡Œåœ¨ç°æœ‰çš„æ“ä½œç³»ç»Ÿå¹³å°ä¸Šï¼Œå®ƒå¿…é¡»è¿è¡Œåœ¨è¢«ç§°ä¸º Java è™šæ‹Ÿæœºçš„è½¯ä»¶å¹³å°ä¹‹ä¸Šã€‚ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ æ˜¯è¿è¡Œ Java ç¨‹åºçš„è½¯ä»¶ç¯å¢ƒï¼ˆæˆ‘ä»¬åé¢ä¼šè¯¦ç»†è¯´åˆ°ï¼Œè¿™æ˜¯å­¦ä¹  Java ç»•ä¸è¿‡çš„é¢˜ï¼‰ï¼ŒJava è§£é‡Šå™¨æ˜¯ Java è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿è¡Œ Java ç¨‹åºæ—¶ï¼Œé¦–å…ˆä¼šå¯åŠ¨ JVMï¼Œç„¶åç”±å®ƒæ¥è´Ÿè´£è§£é‡Šæ‰§è¡Œ Java çš„å­—èŠ‚ç ç¨‹åºï¼Œå¹¶ä¸” Java å­—èŠ‚ç ç¨‹åºåªèƒ½è¿è¡Œäº JVM ä¹‹ä¸Šã€‚è¿™æ ·åˆ©ç”¨ JVM å°±å¯ä»¥æŠŠ Java å­—èŠ‚ç ç¨‹åºå’Œå…·ä½“çš„ç¡¬ä»¶å¹³å°ä»¥åŠæ“ä½œç³»ç»Ÿç¯å¢ƒåˆ†éš”å¼€æ¥ï¼Œåªè¦åœ¨ä¸åŒçš„è®¡ç®—æœºä¸Šå®‰è£…äº†é’ˆå¯¹ç‰¹å®šå¹³å°çš„ JVMï¼ŒJava ç¨‹åºå°±å¯ä»¥è¿è¡Œï¼Œè€Œä¸ç”¨è€ƒè™‘å½“å‰å…·ä½“çš„ç¡¬ä»¶å¹³å°åŠæ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œä¹Ÿä¸ç”¨è€ƒè™‘å­—èŠ‚ç æ–‡ä»¶æ˜¯åœ¨ä½•ç§å¹³å°ä¸Šç”Ÿæˆçš„ã€‚ JVM æŠŠè¿™ç§ä¸åŒè½¯ã€ç¡¬ä»¶å¹³å°çš„å…·ä½“å·®åˆ«éšè—èµ·æ¥ï¼Œä»è€Œ å®ç°äº†çœŸæ­£çš„äºŒè¿›åˆ¶ä»£ç çº§çš„è·¨å¹³å°ç§»æ¤ã€‚JVM æ˜¯ Java å¹³å°æ¶æ„çš„åŸºç¡€ï¼ŒJava çš„è·¨å¹³å°ç‰¹æ€§æ­£æ˜¯é€šè¿‡åœ¨ JVM ä¸­è¿è¡Œ Java ç¨‹åºå®ç°çš„ã€‚Java çš„è¿™ç§è¿è¡Œæœºåˆ¶å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥è¯´æ˜ï¼š Java è¯­è¨€è¿™ç§ã€Œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œã€çš„æ–¹å¼ï¼Œæœ‰æ•ˆåœ°è§£å†³äº†ç›®å‰å¤§å¤šæ•°é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€éœ€è¦é’ˆå¯¹ä¸åŒç³»ç»Ÿæ¥ç¼–è¯‘äº§ç”Ÿä¸åŒæœºå™¨ä»£ç çš„é—®é¢˜ï¼Œå³ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œå¹³å°çš„å¼‚æ„é—®é¢˜ï¼Œå¤§å¤§é™ä½äº†ç¨‹åºå¼€å‘ã€ç»´æŠ¤å’Œç®¡ç†çš„å¼€é”€ã€‚ æç¤ºï¼š Java ç¨‹åºé€šè¿‡ JVM å¯ä»¥å®ç°è·¨å¹³å°ç‰¹æ€§ï¼Œä½† JVM æ˜¯ä¸è·¨å¹³å°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ JVM æ˜¯ä¸åŒçš„ï¼ŒWindows å¹³å°ä¹‹ä¸Šçš„ JVM ä¸èƒ½ç”¨åœ¨ Linux å¹³å°ï¼Œåä¹‹äº¦ç„¶ã€‚ å‚è€ƒèµ„æ–™ Introduction to Computer Science using Java | CHAPTER 4 - http://programmedlessons.org/Java9/chap04/ch04_01.html æ±‡ç¼–è¯­è¨€å…¥é—¨æ•™ç¨‹ - http://www.ruanyifeng.com/blog/2018/01/assembly-language-primer.html CPU æ˜¯æ€ä¹ˆè®¤è¯†ä»£ç çš„ï¼Ÿ | çŸ¥ä¹@Zign - https://www.zhihu.com/question/348237008/answer/843382847 æ”¹å˜ä¸–ç•Œçš„ä»£ç è¡Œ - https://www.infoq.cn/article/5CaYH8NbS6BmptWKRgkX The History of FORTRAN - https://www.obliquity.com/computer/fortran/history.html ã€ŠIT é€šå²ã€‹ | @æå½¦ A Brief Totally Accurate History Of Programming Languages - https://medium.com/commitlog/a-brief-totally-accurate-history-of-programming-languages-cd93ec806124 ç¼–ç¨‹è¯­è¨€åˆ†ç±» - https://www.cnblogs.com/nickchen121/p/10722720.html å¾€æœŸç²¾å½© ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„ ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿° ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç† æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç†","slug":"ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç†","date":"2020-06-02T00:10:00.000Z","updated":"2020-08-16T07:50:03.319Z","comments":true,"path":"2020/06/02/morethanjava-yi-wen-liao-jie-er-jin-zhi-he-cpu-gong-zuo-yuan-li/","link":"","permalink":"http://www.wmyskxz.com/2020/06/02/morethanjava-yi-wen-liao-jie-er-jin-zhi-he-cpu-gong-zuo-yuan-li/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ Part 1. åŸæ¥ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·è®°æ•°çš„ æœ¬èŠ‚å†…å®¹èŠ‚é€‰è‡ªä¸‹æ–¹ å‚è€ƒèµ„æ–™ 1 åœ¨è®¨è®ºã€ŒäºŒè¿›åˆ¶ã€å’Œã€ŒCPU å¦‚ä½•å·¥ä½œã€ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¨è®ºä¸€ä¸‹æˆ‘ä»¬ç”Ÿæ´»ä¸­æœ€ç¨€ç–å¹³å¸¸çš„ æ•°å­—ï¼Œæˆ‘ä»¬ä¸ä¹‹é¢‘ç¹åœ°æ‰“äº¤é“ï¼šä¸€ä¸ªçº¦å®šçš„æ—¶é—´ã€ä¸€ä»¶å•†å“çš„ä»·æ ¼ã€ä¸€ä¸ªäººçš„èº«é«˜â€¦.å´å¾ˆå°‘æœ‰äººç»†ç»†æƒ³è¿‡ï¼Œè¿™äº›æ•°å­—æ˜¯å¦‚ä½•è¡¨è¾¾å‡ºæ¥çš„ï¼Ÿä¸ºä»€ä¹ˆä½ ç†æ‰€å½“ç„¶åœ°æŠŠ 1024 ç†è§£ä¸ºã€Œä¸€åƒé›¶äºŒåå››ã€è€Œä¸æ˜¯åˆ«çš„å«ä¹‰ï¼Ÿ ä¹Ÿè®¸ä½ ä»æœªæƒ³è¿‡ï¼Œåœ¨è¿™ç®€å•çš„è®°æ•°ä¸­ï¼Œæ²‰æ·€ç€äººç±»çš„å¤§æ™ºæ…§ã€‚ ä¸€è¿›åˆ¶è®¡æ•°æ³• å›¾ç‰‡æ¥æºï¼šhttps://www.goethe.de/ins/cn/cn/kul/mag/20629923.html æ—©åœ¨æ•°å­—çš„æ¦‚å¿µäº§ç”Ÿä¹‹å‰ï¼Œäººç±»å°±å­¦ä¼šäº†ä½¿ç”¨æ ‘æã€çŸ³å­ã€è´å£³ç­‰è‡ªç„¶ç•Œéšå¤„å¯è§çš„å°ç‰©ä»¶è¡¨ç¤ºçŒç‰©çš„ã€æœå®çš„ã€éƒ¨è½äººå£çš„æ•°é‡ã€‚æ¯”å¦‚åœ¨æŸä¸ªè§’è½å †ä¸Šä¸€å †çŸ³å­ï¼Œæ¯æ‰“åˆ° 1 åªçŒç‰©ï¼Œå°±æ‰” 1 é¢—çŸ³å­è¿›å»ï¼Œæ¯åƒæ‰ 2 åªçŒç‰©ï¼Œå°±ä»ä¸­å–èµ° 2 é¢—çŸ³å­ã€‚ä»–ä»¬å¹¶ä¸åœ¨æ„çŸ³å­çš„æ€»æ•°ï¼Œåªæ˜¯æ—¶ä¸æ—¶åœ°ç…ä¸€çœ¼ï¼Œå¿ƒåº•å¤§è‡´æœ‰æ•°ã€‚ å…¶å®è¿™æ˜¯ä¸€ç§æœ€æœ´ç´ çš„è®°æ•°æ–¹å¼ï¼Œæ•°å­¦å®¶ç§°ä¹‹ä¸º ä¸€è¿›åˆ¶è®°æ•°æ³•ï¼ˆunary numeral systemï¼‰ã€‚æˆ‘ä»¬æŠŠå®ƒç¬¦å·åŒ–ä¸€ä¸‹ï¼Œæ¯”å¦‚ç”¨æ–œæ  / æ¥è¡¨ç¤ºï¼š 1 å°±æ˜¯ /ï¼› 2 å°±æ˜¯ //ï¼› 4 å°±æ˜¯ ////ï¼› å¥½åƒæ²¡æ¯›ç—…ï¼Œæˆ‘ä»¬å¹³æ—¶æ°æ‰‹æŒ‡ç”¨çš„å°±æ˜¯è¿™ç§è®°æ•°æ³•ï¼Œä½†æ•°å­—ä¸€å¤§ï¼Œåœºé¢å°±è¦å¤±æ§äº†ã€‚ ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ä¸ºäº†è§£å†³è®°å½•å¤§æ•°çš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬å¾—å‘æ˜ä¸€äº›å…¶ä»–ç¬¦å·æ¥è¡¨ç¤ºæ›´å¤§çš„æ•°å€¼ï¼Œæ¯”å¦‚ç”¨æ¨ªæ  - è¡¨ç¤º 10ï¼Œç”¨åå­— + è¡¨ç¤º 100ã€‚é‚£ä¹ˆï¼š 16 å°±æ˜¯ -//////; 32 å°±æ˜¯ ---//; 128 å°±æ˜¯ +--////////; æ¼‚äº®â€¦.è¿™ç§é ç¬¦å·ç±»å‹å’Œç¬¦å·æ•°é‡è¡¨ç¤ºæ•°å­—çš„æ–¹æ³•è¢«ç§°ä¸º ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ï¼ˆsign-value notationï¼‰ï¼Œå¤åŸƒåŠå’Œå¤ç½—é©¬ç”¨çš„éƒ½æ˜¯å®ƒï¼Œåªä¸è¿‡ç¬¦å·å„ä¸ç›¸åŒã€‚ å¤åŸƒåŠçš„è®°æ•°ç¬¦å·ï¼š 1 10 100 1000 10000 100000 1000000 1024 åœ¨å¤åŸƒåŠå°±å†™ä½œï¼š ä½ ä¼šå‘ç°ï¼Œç¬¦å€¼ç›¸åŠ è®°æ•°æ³•çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯ï¼Œç¬¦å·çš„é¡ºåºå¯ä»¥ä»»æ„æ‰“ä¹±ï¼Œæ•°å­—å«ä¹‰ä¸å—å½±å“ã€‚æˆ‘å›½è—æ—æ›¾ç”¨çŸ³å­è¡¨ç¤º 1ã€æœ¨æ£è¡¨ç¤º 10ã€æœæ ¸è¡¨ç¤º 100ã€èš•è±†è¡¨ç¤º 1000ã€ç“¦ç‰‡è¡¨ç¤º 10000ï¼Œé‚£ä¹ˆï¼Œå½“ä½ æŠŠ 1 é¢—èš•è±†ã€2 æ ¹æœ¨æ£å’Œ 4 é¢—çŸ³å­èƒ¡ä¹±åœ°æ”¥åœ¨æ‰‹é‡Œï¼Œåˆ«äººä¾ç„¶çŸ¥é“å®ƒä»¬æ˜¯ 1024ã€‚ å¤ç½—é©¬çš„åšæ³•ç•¥æœ‰ä¸åŒï¼Œä»–ä»¬å¯¹äº”è¿›åˆ¶æƒ…æœ‰ç‹¬é’Ÿï¼š 1 5 10 50 100 500 1000 I V X L C D M è¿™äº›ç¬¦å·æ²¿ç”¨è‡³ä»Šï¼Œæƒ³å¿…å¤§å®¶ï¼ˆè‡³å°‘å¯¹å‰ 3 ä¸ªï¼‰éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œè®¸å¤šé’Ÿè¡¨ä»ä¿ç•™ç€ä½¿ç”¨ç½—é©¬æ•°å­—çš„ä¹ æƒ¯ï¼Œ1~12 åˆ†åˆ«è¡¨ç¤ºä¸ºï¼šIã€IIã€IIIã€IVã€Vã€VIã€VIIã€VIIIã€IXã€Xã€XIã€XIIã€‚ä½ ä¼šå‘ç°ï¼Œç½—é©¬è®°æ•°æ³•æ˜¯ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•çš„å˜ç§ï¼Œå› ä¸ºå®ƒä¸å…‰ã€Œç›¸åŠ ã€ï¼Œè¿˜ã€Œç›¸å‡ã€ã€‚è¿™ç§æ–¹å¼å°±ä¸å…è®¸ç¬¦å·ä¹±åºäº†ï¼ŒIV å’Œ VI è¡¨ç¤ºçš„æ˜¯ä¸åŒçš„æ•°å­—ã€‚ é‚£ç½—é©¬äººä½•è‹¦è¦ä½¿ç”¨è¿™ç§æ›´å¤æ‚çš„è®°æ•°æ³•å‘¢ï¼Ÿæ— éæ˜¯ä¸ºäº†è¯»å†™æ–¹ä¾¿ã€‚åŒæ ·è¡¨ç¤º 9ï¼ŒIX æ¯” VIIII æ›´ç®€æ´ã€‚ å…¶å®æœ‰ä¸€ç§æ›´å¥½ä½¿çš„æ–¹æ³•â€”â€”ç”¨å¦å¤–ä¸€äº›åˆ—ç¬¦å·æ¥è¡¨ç¤ºç¬¦å·çš„æ•°é‡ã€‚æ¯”å¦‚ç”¨ A è¡¨ç¤º 1 ä¸ªç¬¦å·ï¼Œç”¨ B è¡¨ç¤º 2 ä¸ªç¬¦å·ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç”¨ I è¡¨ç¤º 9 ä¸ªç¬¦å·ã€‚ å¦‚æ­¤ï¼Œä¸Šæ–‡è¡¨ç¤º 256 çš„ ++-----////// å°±å¯ä»¥å†™ä½œ B+E-F/ã€‚ä½ ä¸€å®šæ„Ÿè§‰è«åå…¶å¦™ï¼Œè¿™ç§å†™æ³•å“ªé‡Œæ–¹ä¾¿äº†ã€‚å…¶å®ä¸­æ–‡çš„æ•°å­—è¡¨ç¤ºå°±æ˜¯è¿™ç§å½¢å¼ï¼Œåªä¸è¿‡æˆ‘ä»¬ç”¨å¾—å¤ªä¹ æƒ¯äº†ï¼Œä»¥è‡³äºæ²¡æœ‰å‘ç°ã€‚ åœ¨ä¸­æ–‡ä¸­ï¼Œä¸ªã€åã€ç™¾ ä»£æ›¿äº† /ã€-ã€+ï¼Œè€Œ ä¸€ã€äºŒã€ä¸‰ ä»£æ›¿äº† Aã€Bã€Cã€‚256 å°±å†™ä½œ äºŒç™¾äº”åå…­ä¸ªï¼Œä¸ª æ¯”è¾ƒç´¯èµ˜ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠå®ƒçœç•¥äº†ã€‚ å…¶å®åƒæ—¥è¯­ã€è‹±è¯­ç”¨çš„ä¹ŸåŒæ ·æ˜¯è¿™ç§è®°æ•°æ³•ï¼Œç®€æ´ã€ä¼˜é›…ã€‚ ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œè¿™ç§å½¢å¼è™½ä¾¿äºè¯»å†™ï¼Œå´ä¸ä¾¿äºè®¡ç®—ã€‚ä¸­å›½å¤äººä¸ºç®—ç­¹å’Œç®—ç›˜è¿™ç±»ç»å…¸ç®—å…·æ­å»ºèµ·å¹¿é˜”çš„èˆå°ï¼Œå´æ²¡ç»™ç¬”ç®—ç•™å‡ºä¸€å¸­ä¹‹åœ°ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè®©ä½ æŠŠè¿™äº›æ±‰å­—å†™åœ¨è‰ç¨¿çº¸ä¸Šï¼Œåˆ—ä¸ªç«–å¼ï¼Œä½ çš„å†…å¿ƒä¸€å®šéå¸¸åˆ«æ‰­ã€‚ ä½å€¼åˆ¶è®°æ•°æ³•å…¬å…ƒ5ä¸–çºªï¼Œå°åº¦æ•°å­¦å®¶é˜¿è€¶æ³¢å¤šï¼ˆAryabhata 476â€“550ï¼‰åˆ›ç«‹äº†ç°åœ¨å¹¿æ³›ä½¿ç”¨çš„ ä½å€¼åˆ¶è®°æ•°æ³•ï¼ˆpositional notation/place-value notationï¼‰ï¼Œè¯¥è®°æ•°æ³•ä½¿ç”¨çš„ä¸»è¦ç¬¦å·ï¼Œæ˜¯åŒä¸ºå°åº¦äººå‘æ˜çš„é˜¿æ‹‰ä¼¯æ•°å­—ï¼š0ã€1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€‚ ä¸ç¬¦å€¼ç›¸åŠ è®°æ•°æ³•ç±»æ¯”ï¼Œä½å€¼åˆ¶ä¸­çš„ 1ã€2ã€3 ä»£æ›¿çš„æ˜¯ Aã€Bã€Cï¼Œé‚£ /ã€-ã€+ å‘¢ï¼Ÿæ˜¯ é é˜¿æ‹‰ä¼¯æ•°å­—çš„ä½ç½®æ¥è¡¨ç¤ºçš„ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæœ€å³ä½ç›¸å½“äº /ï¼Œæ¬¡å³ä½ç›¸å½“äº -ã€‚é æ¯ä¸ªä½ç½®ä¸Šçš„æ•°å€¼æ¥è¡¨ç¤ºæ•°å­—ï¼Œæ•…åä½å€¼åˆ¶ã€‚ ä¸¥è°¨çš„æ•°å­¦å®¶ç”¨ä¸€ç§å¤šé¡¹å¼é«˜åº¦æ¦‚æ‹¬äº†ä½å€¼åˆ¶è®°æ•°æ³•çš„æœ¬è´¨ï¼Œåœ¨åè¿›åˆ¶ä¸­ï¼Œè¿™ä¸ªå¤šé¡¹å¼æ˜¯è¿™æ ·çš„ï¼š è¿™æ˜¯ä¸€ä¸ª n ä½åè¿›åˆ¶æ•°ï¼Œai å°±æ˜¯ç¬¬ i ä½ä¸Šçš„æ•°å€¼ã€‚ä¸ºä¾¿äºç›´è§‚ç†è§£ï¼Œä¸¾ä¸ª 1024 çš„ä¾‹å­å§ï¼š ç”±äºæˆ‘ä»¬ç†Ÿæ‚‰äº†åè¿›åˆ¶ï¼Œè¿™æ ·è´¹å¿ƒè´¹åŠ›çš„å±•å¼€å¯èƒ½ä¼šè®©ä½ è§‰å¾—å¥½ç¬‘ï¼Œä½†å½“æˆ‘ä»¬æŠŠå®ƒæ¨å¹¿åˆ°å…¶ä»–è¿›åˆ¶æ—¶ï¼Œè¿™ä¸ªå¤šé¡¹å¼çš„ä»·å€¼å°±ä½“ç°äº†å‡ºæ¥ã€‚n ä½ b è¿›åˆ¶æ•°çš„ä½å€¼åˆ¶è¡¨ç¤ºï¼š 1024 ç”¨äºŒè¿›åˆ¶æ€ä¹ˆè¡¨ç¤ºï¼Ÿ å› æ­¤ï¼Œ1024 çš„äºŒè¿›åˆ¶å†™ä½œ 10000000000ã€‚ é™¤äº†æœ€æ™®éçš„åè¿›åˆ¶å’Œè®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶ï¼Œå¸¸è§çš„è¿˜æœ‰ä¸ƒè¿›åˆ¶ï¼ˆå¦‚ 1 å‘¨ 7 å¤©ï¼‰ã€åäºŒè¿›åˆ¶ï¼ˆå¦‚ 1 å¹´ 12 ä¸ªæœˆï¼‰ã€åå…­è¿›åˆ¶ï¼ˆå¦‚å¤ä»£ 1 æ–¤ 16 ä¸¤ï¼‰ã€å…­åè¿›åˆ¶ï¼ˆå¦‚å…­åç”²å­ï¼‰ç­‰ç­‰ï¼Œåªè¦æœ‰æ„ä¹‰ï¼Œä»»ä½•è¿›åˆ¶éƒ½å¯ä»¥ä¸ºä½ æ‰€ç”¨ã€‚ éæ ‡å‡†ä½å€¼åˆ¶åœ¨ä¸Šè¿°çš„å¤šé¡¹å¼ä¸­ï¼Œå¦‚æœ ai æˆ– b çš„å–å€¼å¥‡è‘©ä¸€ç‚¹ï¼Œå°±å½¢æˆäº† éæ ‡å‡†ä½å€¼åˆ¶ï¼ˆnon-standard positional numeral systemsï¼‰ï¼Œè¿™ç±»è®°æ•°æ³•å¾€å¾€åº”ç”¨äºä¸“ä¸šé¢†åŸŸï¼Œå¾ˆéš¾åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­è§åˆ°ã€‚æ¯”å¦‚æ ‡å‡†ä½å€¼åˆ¶ä¸­çš„ä¸‰è¿›åˆ¶ ai çš„å–å€¼ä¸º 0ã€1ã€2ï¼Œä½†åœ¨ä¸€ç§åä¸ºå¹³è¡¡ä¸‰è¿›åˆ¶ï¼ˆbalanced ternaryï¼‰çš„éæ ‡å‡†ä½å€¼åˆ¶ä¸­ï¼Œai å– -1ã€0ã€1ï¼Œè‹è”æ›¾ä½¿ç”¨è¿™ç§è¿›åˆ¶ç ”å‘ç”µå­è®¡ç®—æœºã€‚ Part 2. äºŒè¿›åˆ¶ç®€ä»‹ å›¾ç‰‡æ¥æºï¼šhttps://zhuanlan.zhihu.com/p/26743163 è‡³æ­¤ï¼Œä½ å¯¹ã€ŒäºŒè¿›åˆ¶ã€åº”è¯¥ä¼šæ„Ÿè§‰äº²åˆ‡äº†äº›ï¼Œå®ƒåªæ˜¯ä¸€ç§æ•°åˆ¶è€Œå·²ï¼Œæœ¬è´¨ä¸Šä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„åè¿›åˆ¶æ²¡æœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œæˆ‘ä»¬è¿™ä¸€ Part æ¥ç¨å¾®ç†è§£ä¸€ä¸‹äºŒè¿›åˆ¶ã€‚ï¼ˆè‡³äºç”µè„‘ä¸ºä»€ä¹ˆä½¿ç”¨äºŒè¿›åˆ¶æˆ‘ä»¬åœ¨ä¸‹ä¸€ Part ä¸­ä»‹ç»ï¼‰ äºŒè¿›åˆ¶çš„åŸºæœ¬è¿ç®—åè¿›åˆ¶ä¸­çš„é‚£äº›åŸºæœ¬è¿ç®—åŸåˆ™ï¼ŒäºŒè¿›åˆ¶ä¸­åŒæ ·é€‚ç”¨ï¼Œåªä¸è¿‡éœ€è¦ç¨åŠ å˜å¹»è€Œå·²ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å°±åŠ ã€å‡ã€ä¹˜ã€é™¤å››åˆ™è¿ç®—æ¥ä»‹ç»ã€‚ äºŒçº§åˆ¶åŠ æ³•æ ¹æ®ã€Œé€¢äºŒè¿›ä¸€ã€è§„åˆ™ï¼ŒäºŒè¿›åˆ¶æ•°åŠ æ³•çš„æ³•åˆ™ä¸ºï¼š 0ï¼‹0ï¼0 0ï¼‹1ï¼1ï¼‹0ï¼1 1ï¼‹1ï¼0 ï¼ˆè¿›ä½ä¸º1ï¼‰ 1ï¼‹1ï¼‹1ï¼1 ï¼ˆè¿›ä½ä¸º1ï¼‰ ä¾‹å¦‚ï¼š1101 å’Œ 1011 ç›¸åŠ è¿‡ç¨‹å¦‚ä¸‹ï¼š äºŒè¿›åˆ¶æ•°çš„å‡æ³•æ ¹æ®ã€Œå€Ÿä¸€æœ‰äºŒã€çš„è§„åˆ™ï¼ŒäºŒè¿›åˆ¶æ•°å‡æ³•çš„æ³•åˆ™ä¸ºï¼š 0ï¼0ï¼0 1ï¼1ï¼0 1ï¼0ï¼1 0ï¼1ï¼1 ï¼ˆå€Ÿä½ä¸º1ï¼‰ ä¾‹å¦‚ï¼š1101 å‡å» 1011 çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š äºŒè¿›åˆ¶çš„ä¹˜æ³•äºŒè¿›åˆ¶æ•°ä¹˜æ³•è¿‡ç¨‹å¯ä»¿ç…§åè¿›åˆ¶æ•°ä¹˜æ³•è¿›è¡Œã€‚ä½†ç”±äºäºŒè¿›åˆ¶æ•°åªæœ‰ 0 æˆ– 1 ä¸¤ç§å¯èƒ½çš„ä¹˜æ•°ä½ï¼Œå¯¼è‡´äºŒè¿›åˆ¶ä¹˜æ³•æ›´ä¸ºç®€å•ã€‚äºŒè¿›åˆ¶æ•°ä¹˜æ³•çš„æ³•åˆ™ä¸ºï¼š 0Ã—0ï¼0 0Ã—1ï¼1Ã—0ï¼0 1Ã—1ï¼1 ä¾‹å¦‚ï¼š1001 å’Œ 1010 ç›¸ä¹˜çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š äºŒè¿›åˆ¶çš„é™¤æ³•äºŒè¿›åˆ¶æ•°é™¤æ³•ä¸åè¿›åˆ¶æ•°é™¤æ³•å¾ˆç±»ä¼¼ã€‚ ä¾‹å¦‚ï¼š100110 Ã· 110 çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š äºŒè¿›åˆ¶ä¸ºä»€ä¹ˆèƒ½è¡¨ç¤ºæ‰€æœ‰çš„æ•°æ®å› ä¸ºç¼–ç è§„å®šã€‚ ä¹‹å‰æˆ‘ä»¬æœ‰è¯´åˆ°ï¼Œæ‰€æœ‰ä¿å­˜çš„ç¨‹åºå’Œæ•°æ®åœ¨è®¡ç®—æœºä¸­éƒ½è¢«æè¿°ä¸º æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬èƒ½å¤ŸçŸ¥é“å½“å‰çš„æ•°æ®é›†åˆè¢«æœŸæœ›çš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Œä¹Ÿå°±èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ å¤„ç†å™¨ æ¥æ­£ç¡®å¤„ç†å½“å‰çš„æ•°æ®ã€‚ ä¾‹å¦‚ä¿å­˜æ–‡å­—æ‹¿æ–‡å­—ä¸¾ä¾‹ï¼Œä¸ºäº†è®©ä¸€ä¸² 0ã€1 èƒ½å¤Ÿä»£è¡¨ç‰¹å®šçš„æ–‡å­—ï¼Œäººä»¬è§„å®šä½¿ç”¨ä¸€ä¸ªå­—èŠ‚ä¸­çš„ä¸ƒä½æ¥è¡¨è¾¾ç‰¹å®šçš„æ–‡å­—ï¼Œ è¿™å°±æ˜¯å¤§åé¼é¼ ASCII (American Standard Code for Information Interchange) ç ï¼ŒASCll ç èƒ½å¤Ÿè¡¨è¾¾ 27=128 ç§å­—ç¬¦(ç¼–ç ä» 0~127)ï¼Œå¯¹äº 26 ä¸ªè‹±æ–‡å­—æ¯å’Œä¸€äº›å¸¸ç”¨çš„å¯æ‰“å°å­—ç¬¦ï¼Œè¿™å®Œå…¨è¶³å¤Ÿäº†ï¼š å¯æ˜¯ï¼Œä¸–ç•Œæ–‡åŒ–æ˜¯å¤šå…ƒçš„ï¼Œé¢å¯¹ç±»ä¼¼æ±‰å­—è¿™æ ·çš„è±¡å½¢æ–‡å­—ï¼ŒASCllç è¡¨ç”¨èµ·æ¥è‡ªç„¶æ˜¯æ‰è¥Ÿè§è‚˜ã€‚ ç©·åˆ™æ€å˜ï¼Œä¸€ä¸ªå­—èŠ‚ä¸è¡Œï¼Œé‚£å°±ä¸¤ä¸ªå­—èŠ‚ï¼Œè¿™å°±æ˜¯å¤§åé¼é¼çš„ Unicode ç ï¼Œä¸éš¾çœ‹å‡ºï¼ŒUnicode ç æœ‰ 216=65536 ç§è¡¨ç¤ºæ–¹å¼ï¼Œè¿™æ ·å°±è¶³ä»¥è¡¨è¾¾ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦äº†ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼ŒUnicode ç ç®—æ˜¯åœ¨ ASCll ç ä¸Šçš„ä¸€ç§æ‰©å……,å…¶ç¬¬ 0~127 ä¸ªç¼–ç å­—ç¬¦ä¸ ASCll ç è¡¨ä¸€æ¨¡ä¸€æ ·ã€‚ å†æ¯”å¦‚å›¾ç‰‡è¿™é‡Œæ¶‰åŠä¸€ç‚¹ç‚¹ç‰©ç†çŸ¥è¯†ï¼Œè¯è¯´å¾ˆä¹…ä»¥å‰ï¼Œç‰›é¡¿é€šè¿‡ä¸‰æ£±é•œæŠŠç™½è‰²çš„å…‰åˆ†è§£æˆä¸ƒç§ä¸åŒé¢œè‰²çš„å…‰ï¼Œåæ¥åˆé€šè¿‡å„ç§å®éªŒå‘ç°çº¢ã€ç»¿ã€è“ä¸‰ç§é¢œè‰²çš„å…‰æ˜¯æ— æ³•è¢«åˆ†è§£çš„ï¼Œå› æ­¤æˆ‘ä»¬å°±ç§°ä¸ºçº¢è“ç»¿ä¸ºå…‰çš„ä¸‰åŸè‰²ã€‚ è‡³æ­¤äººç±»å·²ç»çŸ¥é“äº†ï¼šå¯ä»¥é€šè¿‡ç»„åˆä¸åŒæ¯”ä¾‹çš„çº¢ã€ç»¿ã€è“ä¸‰ç§é¢œè‰²æ¥è·å¾—å„ç§å„æ ·çš„é¢œè‰²ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨è®¡ç®—æœºä¸Šæ¨¡æ‹Ÿäº†ã€‚ç°åœ¨çš„è®¡ç®—æœºï¼Œä¸€èˆ¬ä½¿ç”¨ 32 ä½æ¥è¡¨ç¤ºé¢œè‰²ï¼Œ32 ä½å¹³åˆ†ç»™å››ä¸ªåˆ†é‡ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªåˆ†é‡ 8 ä½ã€‚ ä¸ºå•¥æ˜¯å››ä¸ªé¢œè‰²åˆ†é‡? å› ä¸ºé¢œè‰²æ¨¡å‹ä¸­æœ‰ä¸€ä¸ª alpha å€¼ï¼Œç”¨æ¥è¡¨ç¤ºé€æ˜åº¦ï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬å…ˆä¸è€ƒè™‘ã€‚æ€»ä¹‹ä¸‰ç§é¢œè‰²ï¼Œæ¯ä¸ªä½¿ç”¨ 8 ä½æ¥è¡¨ç¤ºçš„è¯ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè¡¨ç¤º 256 * 256 * 256 = 16777216 ç§é¢œè‰²äº†ï¼Œå·²ç»è¶³å¤ŸåŸºç¡€çš„ä½¿ç”¨äº†ã€‚ å…ˆæ¥çœ‹ä¸€å¼ å›¾ç‰‡ï¼š è¿™å¼ å›¾åƒçš„å°ºå¯¸æ˜¯ 600px * 664pxï¼ˆpx æ˜¯ä¸€ç§å›¾ç‰‡å•ä½ï¼Œä¸­æ–‡åç§°ä¸ºåƒç´ ï¼Œä½ å¯ä»¥æš‚æ—¶ç†è§£ä¸ºä¸€ä¸ªç‚¹ï¼‰ã€‚æˆ‘ä»¬æŠŠå®ƒæ”¾å¤§ä¸€ä¸‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š çœ‹è§äº†å—ï¼Ÿå®é™…ä¸Šï¼Œå¤§éƒ¨åˆ†å›¾åƒï¼ˆä½ æ‹æ‘„çš„ç…§ç‰‡ã€ä½ æ‰«æçš„å›¾ç‰‡ã€ä½ ä½¿ç”¨ iPad ç”»çš„å›¾ç‰‡ç­‰ç­‰â€¦ï¼‰éƒ½æ˜¯ä½å›¾æ–‡ä»¶ï¼Œä½å›¾å°±æ˜¯ç”±åƒç´ ç‚¹æ„æˆçš„ï¼Œå®ƒå°±åƒæ˜¯ä¸€ä¸ªç½‘æ ¼ä¸€æ ·ï¼Œæ¯ä¸ªæ ¼å­é‡Œé¢å¡«ä¸€ä¸ªé¢œè‰²ã€‚ï¼ˆé™¤äº†ä½å›¾å¤–ï¼Œè¿˜æœ‰ä¸€ç§å›¾æ˜¯çŸ¢é‡å›¾ï¼Œå®ƒæè¿°çš„æ˜¯å½¢çŠ¶è€Œéç½‘æ ¼ï¼‰ OKï¼Œæˆ‘æƒ³ä½ å·²ç»èƒ½ç†è§£å›¾åƒæ˜¯ç”±åƒç´ ç‚¹ç»„æˆçš„äº†ï¼ˆäº‹å®ä¸Šæˆ‘ä»¬çš„æ˜¾ç¤ºå™¨ä¹Ÿæ˜¯ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç¼–ç ä¸­é™„å¸¦ä¸Šä¸€äº›é¢å¤–çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å›¾åƒæœ‰å¤šå¤§çš„å°ºå¯¸ã€æ—¶é—´ã€ä½œè€…ã€é¢œè‰²æ·±åº¦ã€æ˜¯å¦æ”¯æŒé€æ˜åº¦ä¹‹ç±»çš„å°±èƒ½å¤Ÿå¯¹å›¾åƒè¿›è¡Œæ­£ç¡®è¡¨ç¤ºäº†ã€‚ï¼ˆè§†é¢‘å¯ä»¥ç®€å•ç†è§£æˆä¸€å¼ å¼ è¿ç»­ä¸æ–­çš„å›¾ç‰‡ï¼‰ è¦è®©æ˜¾ç¤ºå™¨æ­£ç¡®æ˜¾ç¤ºå›¾ç‰‡æˆ–è€…è§†é¢‘ï¼Œåªéœ€è¦è®©æ˜¾ç¤ºå™¨ä¸Šæ¯ä¸ªåƒç´ æ˜¾ç¤ºç‰¹å®šçš„é¢œè‰²å°±å¥½äº†ã€‚ å›¾ç‰‡æ¥æºï¼šhttps://www.bbc.co.uk/bitesize/topics/zf2f9j6/articles/z2tgr82 Part 3. ä¸ºä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶ï¼Ÿ å›¾ç‰‡æ¥æºï¼šhttps://zhuanlan.zhihu.com/p/33439000 å¯ä¸ºä»€ä¹ˆä¸€å®šæ˜¯äºŒè¿›åˆ¶å‘¢ï¼Ÿä½¿ç”¨äººç±»ä¹ æƒ¯çš„åè¿›åˆ¶ä¸å¥½å—ï¼Ÿ ç†ç”±ä¸€ï¼šç‰©ç†ä¸Šæ˜“äºå®ç°è®¡ç®—æœºä¾é ç”µåŠ›å·¥ä½œï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€éœ€è¦å°†æ•°å­—ä¿¡å·æ˜ å°„åˆ°ç”µä¿¡å·ï¼Œå®ç°è¿™ç§æ˜ å°„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼š 0 - æ²¡æœ‰ç”µï¼ˆ0 Vï¼‰ 1 - æœ‰ç‚¹ï¼ˆ5 Vï¼‰ äºŒè¿›åˆ¶åœ¨æŠ€æœ¯ä¸Šæœ€å®¹æ˜“å®ç°ã€‚è¿™æ˜¯å› ä¸ºå…·æœ‰ä¸¤ç§ ç¨³å®šçŠ¶æ€ çš„ç‰©ç†å™¨ä»¶å¾ˆå¤šï¼Œå¦‚é—¨ç”µè·¯çš„å¯¼é€šä¸æˆªæ­¢ã€ç”µå‹çš„é«˜ä¸ä½ç­‰ï¼Œè€Œå®ƒä»¬æ°å¥½å¯ä»¥å¯¹åº”è¡¨ç¤º â€œ1â€ å’Œ â€œ0â€ è¿™ä¸¤ä¸ªæ•°ç ã€‚å‡å¦‚é‡‡ç”¨åè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±è¦åˆ¶é€ å…·æœ‰ 10 ç§ ç¨³å®šçŠ¶æ€ çš„ç‰©ç†ç”µè·¯ï¼Œè€Œè¿™æ˜¯éå¸¸å›°éš¾çš„ã€‚ ç†ç”±äºŒï¼šæœºå™¨å¯é æ€§é«˜ä¸ºä»€ä¹ˆä½¿ç”¨æ›´å¤æ‚çš„æ•°å­—ç³»ç»Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ å‡è®¾æˆ‘ä»¬ä½¿ç”¨ä¸‰å…ƒï¼ˆ3 ä½æ•°å­—ï¼‰æ•°å­—ç³»ç»Ÿæ¶‰åŠè®¡ç®—æœºï¼Œå¦‚æœæˆ‘ä»¬å…·æœ‰ä» 0 V åˆ° 5 V çš„ç”µå‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿›è¡Œä»¥ä¸‹çš„æ˜ å°„ï¼š 0 - 0 V; 1 - 2.5 V; 2 - 5 V; å›¾ç‰‡æ¥æºï¼šhttps://pmihaylov.com/intro-binary-numbers/ çœ‹èµ·æ¥åˆç†å§ï¼Ÿä½†æ˜¯ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¥ 2.5 V çš„ç”µå‹å‘é€äº†ä¸€ä¸ªæ•°å­—ã€‚ä½†æ˜¯ç”±äºç”µè·¯ä¸­çš„ä¸€äº›å™ªå£°ï¼Œæˆ‘åœ¨è¾“å‡ºç«¯å¾—åˆ° 2.3 V çš„ç”µå‹ï¼Œå› æ­¤å°†å…¶è§†ä¸º 0ã€‚ç»“æœæ˜¯ï¼Ÿ æœ‰äººç»™æˆ‘å‘é€äº† 1ï¼Œä½†æˆ‘å°†å…¶è§†ä¸º 0ã€‚æ•°æ®ä¸¢å¤±å¯æ˜¯ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ã€‚ ä½¿ç”¨äºŒè¿›åˆ¶åˆ™å¯é å¾—å¤šï¼Œç”±äºç”µå‹çš„é«˜å’Œä½ã€ç”µæµçš„æœ‰å’Œæ— ç­‰éƒ½æ˜¯ä¸€ç§ è´¨çš„å˜åŒ–ï¼Œä¸¤ç§ç‰©ç†çŠ¶æ€ç¨³å®šã€åˆ†æ˜ï¼Œå› æ­¤ï¼ŒäºŒè¿›åˆ¶ç ä¼ è¾“çš„æŠ—å¹²æ‰°èƒ½åŠ›å¼ºï¼Œé‰´åˆ«ä¿¡æ¯çš„å¯é æ€§é«˜ã€‚ ä¸ºä»€ä¹ˆè®¡ç®—æœºç³»ç»Ÿå¿…é¡»æœ‰æ—¶é’Ÿ å›¾ç‰‡æ¥æºï¼šhttp://programmedlessons.org/Java9/chap02/ch02_11.html å»ºç«‹æ•°å­—ç³»ç»Ÿçš„ç›®çš„æ˜¯ ä»…åœ¨æŸäº›æ—¶é—´ç‚¹æµ‹è¯•å¼€/å…³ï¼ˆäºŒè¿›åˆ¶ï¼‰å€¼ï¼Œè¿™ä½¿ç”µçº¿ï¼ˆæˆ–å…¶ä»–è®¾å¤‡ï¼‰æœ‰æ—¶é—´æ›´æ¢ã€‚è¿™å°±æ˜¯è®¡ç®—æœºç³»ç»Ÿæœ‰æ—¶é’Ÿçš„åŸå› ã€‚ æ—¶é’Ÿä¼šå‘¨æœŸæ€§åœ°è¿›è¡Œä¿¡å·çš„æµ‹é‡ï¼Œå›¾ä¸­æ‰€ç¤ºçš„ T1 å’Œ T2 å°±æ˜¯å¯ä»¥æµ‹é‡ä¿¡å·çš„æ—¶é—´ç‚¹ã€‚ æ—¶é’Ÿåˆ©ç”¨æ‰€æœ‰è¿™äº›æ—¶é—´ç‚¹æ¥ä¿æŒåŒæ­¥ã€‚æ›´å¿«çš„æ—¶é’Ÿæ„å‘³ç€æ¯ç§’å¯ä»¥å¯¹ç”µçº¿è¿›è¡Œæ›´å¤šæ¬¡æµ‹è¯•ï¼Œå¹¶ä¸”æ•´ä¸ªç³»ç»Ÿè¿è¡Œå¾—æ›´å¿«ã€‚2 GHz å¤„ç†å™¨æ¯ç§’æ£€æŸ¥äºŒè¿›åˆ¶å€¼ 20 äº¿æ¬¡ã€‚åœ¨è¿™äº›æ—¶é—´ä¹‹é—´ï¼Œå…è®¸å€¼æ”¹å˜å¹¶ç¨³å®šä¸‹æ¥ã€‚å¤„ç†å™¨èŠ¯ç‰‡é€Ÿåº¦è¶Šå¿«ï¼Œæ¯ç§’å¯ä»¥æµ‹è¯•çš„æ¬¡æ•°å°±è¶Šå¤šï¼Œæ¯ç§’å¯ä»¥åšå‡ºçš„å†³ç­–å°±è¶Šå¤šã€‚ ç†ç”±ä¸‰ï¼šè¿ç®—è§„åˆ™ç®€å•æ•°å­¦æ¨å¯¼å·²ç»è¯æ˜ï¼Œå¯¹ N è¿›åˆ¶æ•°è¿›è¡Œç®—æœ¯æ±‚å’Œæˆ–æ±‚ç§¯è¿ç®—ï¼Œå…¶è¿ç®—è§„åˆ™å„æœ‰ N(N+1)/2 ç§ã€‚å¦‚é‡‡ç”¨åè¿›åˆ¶ï¼Œåˆ™ N=10ï¼Œå°±æœ‰ 55 ç§æ±‚å’Œæˆ–æ±‚ç§¯çš„è¿ç®—è§„åˆ™ï¼›è€Œé‡‡ç”¨äºŒè¿›åˆ¶ï¼Œåˆ™ N=2ï¼Œä»…æœ‰ 3 ç§æ±‚å’Œæˆ–æ±‚ç§¯çš„è¿ç®—è§„åˆ™ï¼Œä»¥ä¸Šé¢æåˆ°çš„åŠ æ³•ä¸ºä¾‹ï¼š 0+0=0ï¼Œ0+1=1 (1+0=1)ï¼Œ1+1=10 å› è€Œå¯ä»¥å¤§å¤§ç®€åŒ–è¿ç®—å™¨ç­‰ç‰©ç†å™¨ä»¶çš„è®¾è®¡ã€‚ ç†ç”±å››ï¼šé€»è¾‘åˆ¤æ–­æ–¹ä¾¿é‡‡ç”¨äºŒè¿›åˆ¶åï¼Œä»…æœ‰çš„ä¸¤ä¸ªç¬¦å· â€œ1â€ å’Œ â€œ0â€ æ­£å¥½å¯ä»¥ä¸é€»è¾‘å‘½é¢˜çš„ä¸¤ä¸ªå€¼ â€œçœŸâ€ å’Œ â€œå‡â€ ç›¸å¯¹åº”ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°ä½¿ç”¨é€»è¾‘ä»£æ•°è¿™ä¸€æœ‰åŠ›å·¥å…·æ¥åˆ†æå’Œè®¾è®¡è®¡ç®—æœºçš„é€»è¾‘ç”µè·¯ã€‚ è™½ç„¶åœ¨ 1950 å¹´ä»£å°±é€ å‡ºäº†æ›´åŠ é«˜æ•ˆçš„ä¸‰å…ƒè®¡ç®—æœºï¼Œä½†åœ¨æ•ˆç‡å’Œå¤æ‚åº¦çš„å–èˆä¸Šï¼Œå§‹ç»ˆæŠµä¸è¿‡äºŒè¿›åˆ¶ã€‚äºŒè¿›åˆ¶ä»ç„¶åœ¨å½“ä»Šä¸–ç•Œä¸­é•¿æœŸå­˜åœ¨ã€‚ Part 4. CPU çš„å®é™…å·¥ä½œæ–¹å¼ä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°è®¡ç®—æœºä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¿è¡Œï¼Œå®ƒä»¬åªæœ‰ä¸¤ç§çŠ¶æ€ï¼šå¼€ï¼ˆ1ï¼‰å’Œå…³ï¼ˆ0ï¼‰ï¼Œä¸ºäº†æ‰§è¡ŒäºŒè¿›åˆ¶è®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„ç”µå­å…ƒå™¨ä»¶ï¼Œç§°ä¸º ã€Œæ™¶ä½“ç®¡ã€ã€‚æš‚æ—¶æˆ‘ä»¬æŠŠå®ƒç†è§£ä¸ºä¸€ç§å¼€å…³å§ï¼Œé€šç”µå°±æ‰“å¼€ï¼Œæ²¡ç”µæµé€šè¿‡å°±å…³é—­ã€‚ åˆ©ç”¨â€å¼€å…³â€æ­å»ºé€»è¾‘ç”µè·¯æˆ‘ä»¬çŸ¥é“ï¼Œç»™ç”µç¯é€šä¸Šç”µï¼Œå®ƒå°±ä¼šäº®ï¼š äºæ˜¯ï¼Œç»“åˆä¸Šå¼€å…³ï¼Œæˆ‘ä»¬å°±èƒ½æ­å»ºå‡ºæœ€åŸºç¡€çš„ ä¸é—¨ å’Œ æˆ–é—¨ã€‚ ä¸é—¨ è¯¥ç”µè·¯çš„é€»è¾‘æ˜¯ï¼šåªæœ‰å½“ A å’Œ B åŒæ—¶å¼€å¯æ—¶ï¼ŒLED ç¯æ‰ä¼šäº®ï¼Œä¹Ÿå°±æ˜¯è®¤ä¸ºè¾“å‡º 1ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç”µä¿¡å·æ¥ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ï¼š A B Y 0 0 0 1 0 0 0 1 0 1 1 1 æˆ–é—¨ è¯¥ç”µè·¯çš„é€»è¾‘æ˜¯ï¼šå½“ A æˆ–è€… B å¼€å¯æ—¶ï¼ŒLED ç¯å°±ä¼šäº®ï¼Œä¹Ÿå°±æ˜¯è®¤ä¸ºè¾“å‡º 1ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç”µä¿¡å·æ¥ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ï¼š A B Y 0 0 0 1 0 1 0 1 1 1 1 1 å…¶ä»–é—¨ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ›´å¤šçš„ç”µå­å…ƒå™¨ä»¶æ¥åˆ›é€ å‡ºåŸºç¡€çš„ 7 ç§é€»è¾‘é—¨ç”µè·¯ï¼š å›¾ç‰‡æ¥æºï¼šhttps://www.zhihu.com/question/348237008/answer/843382847 | @Zign è¿™é‡Œéœ€è¦ç‰¹åˆ«æä¸€ä¸‹ å¼‚æˆ–é—¨ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“æœ‰ä¸€ç§ç”µå­å…ƒå™¨ä»¶å¯ä»¥åˆ©ç”¨ç”µæ°”ç‰¹æ€§å¯¹ è¾“å…¥å–åï¼Œä¹Ÿå°±æ˜¯è¯´è¾“å…¥ 1 åˆ™è¾“å‡º 0ï¼Œè¾“å…¥ 0 åˆ™è¾“å‡º 1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ ç®€å•æ¨¡æ‹Ÿ å‡ºå¼‚æˆ–é—¨é€»è¾‘ç”µè·¯ï¼ˆå®é™…ä¼šæ›´å¤æ‚äº›ï¼Œè¿™é‡Œä»…å±•ç¤ºå‡ºå¼‚æˆ–çš„æ„æ€ï¼‰ï¼š A&#39; å’Œ B&#39; åˆ†åˆ«è¡¨ç¤º A å’Œ B å¼€å…³çš„åå€¼ï¼Œä»å›¾ä¸­æˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“åªæœ‰å½“ Aã€B åªå­˜åœ¨ä¸€ä¸ªè¾“å…¥ 1 æ—¶ï¼Œæ•´ä¸ªç”µè·¯æ‰ä¼šè¾“å‡º 1ã€‚ åˆ©ç”¨é€»è¾‘é—¨ç®€å•è®¡ç®—åŠ æ³•OKï¼Œä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°æˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨ â€œå¼€å…³â€ æ¥æ¨¡æ‹Ÿé€»è¾‘çš„è¿ç®—ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¯•ç€è¿˜åŸä¸€ä¸ªç®€å•çš„åŠ æ³•è¿ç®—å™¨æ˜¯å¦‚ä½•å®ç°çš„ï¼š ä»…éœ€ä¸¤ä¸ªé—¨ï¼Œå°±å¯ä»¥å®ŒæˆåŸºæœ¬çš„äºŒè¿›åˆ¶åŠ æ³•è¿ç®—ã€‚ä¸Šå›¾æ˜¯åˆ©ç”¨ logic.ly åˆ›å»ºçš„åŠåŠ æ³•å™¨ï¼ŒAã€B ç›¸å½“äºä½¿æˆ‘ä»¬è®¡ç®—çš„ä¸¤ä¸ªæ•°ï¼Œæœ€åä¸€å—ç›¸å½“äºæ˜¯æˆ‘ä»¬çš„æ•°æ˜¾èŠ¯ç‰‡ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯æ ¹æ®è¾“å…¥æ˜¾ç¤ºæ•°å­—ï¼Œä»ä¸Šåˆ°ä¸‹çš„å¼•è„šï¼ˆä¹Ÿå°±æ˜¯å›¾ä¸­è¾“å…¥çš„åœ°æ–¹ï¼Œé€šå¸¸æˆ‘ä»¬è¿™æ ·ç§°å‘¼ï¼‰åˆ†åˆ«å¯¹åº”äº† 20=1ã€21=2ã€22=4ã€23=8 çš„è¾“å…¥ï¼Œæ²¡æœ‰ä»»ä½•è¾“å…¥æ—¶æ˜¾ç¤ºä¸º 0ï¼Œå¦‚æœ å¼•è„š 1ï¼ˆå¯¹åº” 20=1ï¼‰åƒä¸Šå›¾ä¸€æ ·æœ‰è¾“å…¥ï¼Œåˆ™æ˜¾ç¤º 0 + 1 = 1ã€‚ æˆ‘ä»¬æ¥ç†è§£ä¸€ä¸‹ä¸Šæ–¹çš„ç”µè·¯ï¼š å¦‚æœä»…æ‰“å¼€ä¸€ä¸ªè¾“å…¥ï¼Œä½†ä¸åŒæ—¶æ‰“å¼€ä¸¤ä¸ªè¾“å…¥ï¼Œåˆ™æ­¤å¤„çš„ XOR é—¨ï¼ˆå¼‚æˆ–é—¨ï¼‰å°†æ‰“å¼€ï¼Œæ­¤æ—¶å¯¹åº”è¾“å…¥ å¼•è„š 1ï¼Œæ˜¾ç¤º æ•°å­— 1ï¼ˆç±»ä¼¼äº 1 + 0 å’Œ 0 + 1)ï¼› å¦‚æœä¸¤ä¸ªè¾“å…¥å‡æ‰“å¼€ï¼Œåˆ™ AND é—¨(ä¸é—¨)å°†æ‰“å¼€ï¼Œæ­¤æ—¶å¯¹åº”è¾“å…¥ å¼•è„š 2ï¼Œæ˜¾ç¤º æ•°å­— 2ï¼ˆç±»ä¼¼äº 1 + 1ï¼‰ï¼› å¦‚æœæ²¡æœ‰è¾“å…¥ï¼Œåˆ™ AND é—¨å’Œ XOR é—¨éƒ½ä¿æŒå…³é—­ï¼Œæ­¤æ—¶æ˜¾ç¤º æ•°å­— 0ï¼ˆç±»ä¼¼äº 0 + 0ï¼‰ï¼› å› æ­¤ï¼Œå¦‚æœä¸¤ä¸ªéƒ½æ‰“å¼€ï¼Œåˆ™ XOR ä¿æŒå…³é—­ï¼Œå¹¶ä¸” AND é—¨æ‰“å¼€ï¼Œå¾—å‡ºæ­£ç¡®çš„ç­”æ¡ˆä¸º 2ï¼š ä½†è¿™åªæ˜¯æœ€åŸºç¡€çš„åŠåŠ æ³•è¿ç®—å™¨ï¼Œä¸æ˜¯å¤ªæœ‰ç”¨ï¼Œå› ä¸ºå®ƒåªèƒ½è§£å†³æœ€ç®€å•çš„æ•°å­¦é—®é¢˜ä¹‹ä¸€ã€‚ä½†å¦‚æœæˆ‘ä»¬æŠŠå®ƒä»¬ä¸¤ä¸ªä¸å¦ä¸€ä¸ªè¾“å…¥è¿æ¥ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„åŠ æ³•å™¨ï¼š ä»”ç»†æ€è€ƒå‡ éï¼Œä½ å°±ä¼šå¾—çŸ¥è¿™ä¸ªä¸‰ä¸ªè¾“å…¥çš„åŠ æ³•å™¨å·²ç»å¯ä»¥è®¡ç®— 3 ä¸ªäºŒè¿›åˆ¶æ•°å­—çš„åŠ æ³•è¿ç®—äº†ï¼Œæˆ‘ä»¬å¦‚æ³•ç‚®åˆ¶ï¼Œå¯ä»¥é€šè¿‡è¿æ¥æ›´å¤šçš„â€è¿›ä½â€æ¥ä½¿è¿™ä¸ªåŠ æ³•å™¨èƒ½å¤Ÿè¿ç®—æ›´å¤šçš„æ•°ï¼Œè¿™å½“ç„¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªè®¡ç®—é“¾æ¡æ›´é•¿ã€‚ å¤§å¤šæ•°å…¶ä»–æ•°å­¦è¿ç®—éƒ½å¯ä»¥åŠ æ³•å®Œæˆã€‚ä¹˜æ³•åªæ˜¯é‡å¤åŠ æ³•ï¼Œå‡æ³•å¯ä»¥é€šè¿‡ä¸€äº›å¥‡ç‰¹çš„ä½åè½¬æ¥å®Œæˆï¼Œè€Œé™¤æ³•åªæ˜¯é‡å¤å‡æ³•ã€‚å¹¶ä¸”ï¼Œå°½ç®¡æ‰€æœ‰ç°ä»£è®¡ç®—æœºéƒ½å…·æœ‰åŸºäºç¡¬ä»¶çš„è§£å†³æ–¹æ¡ˆä»¥åŠ å¿«æ›´å¤æ‚çš„æ“ä½œï¼Œä½†ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®Œæ•´çš„åŠ æ³•å™¨æ¥å®Œæˆå…¨éƒ¨æ“ä½œã€‚ æ€»çº¿å’Œå†…å­˜ç°åœ¨ï¼Œæˆ‘ä»¬çš„è®¡ç®—æœºåªä¸è¿‡æ˜¯ä¸€ä¸ªè®¡ç®—å™¨ï¼Œå®ƒè®°ä¸ä½ä»»ä½•å†…å®¹ä¹Ÿå¯¹è¾“å‡ºæ²¡æœ‰ä»»ä½•æ“ä½œï¼Œä¸Šè¿°ç”µè·¯åªæ˜¯æ¥äº†ä¸€ä¸ªæ˜¾ç¤ºå•å…ƒè€Œå·²ã€‚ ä¸Šé¢å±•ç¤ºçš„æ˜¯ä¸€ä¸ªå­˜å‚¨å•å…ƒã€‚å®ƒä½¿ç”¨äº†å¤§é‡çš„ NAND é—¨ï¼Œå¹¶ä¸”åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œæ ¹æ®å­˜å‚¨æŠ€æœ¯çš„ä¸åŒï¼Œå®ƒä»¬å¯èƒ½ä¼šå¤§ä¸ç›¸åŒï¼Œä½†å…¶åŠŸèƒ½æ˜¯ç›¸åŒçš„ã€‚ æ‚¨ç»™å®ƒä¸€äº›è¾“å…¥ï¼Œå¹¶æ‰“å¼€â€œå†™â€ä½ï¼ˆWrite è¾“å…¥ 1ï¼‰ï¼Œå®ƒå°†æŠŠè¾“å…¥å­˜å‚¨åœ¨å•å…ƒå†…ã€‚è¿™ä¸ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œå› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç§ä»ä¸­è¯»å–ä¿¡æ¯çš„æ–¹æ³•ã€‚è¿™æ˜¯é€šè¿‡ä¸€ä¸ªä½¿èƒ½å™¨å®Œæˆçš„ï¼Œè¯¥ä½¿èƒ½å™¨æ˜¯ã€Œå­˜å‚¨å™¨ã€ä¸­æ¯ä¸ªä½çš„â€œä¸â€é—¨çš„é›†åˆï¼Œæ‰€æœ‰ä½éƒ½ä¸å¦ä¸€ä¸ªè¾“å…¥ï¼ˆå³â€œè¯»å–â€ä½ï¼‰ç»‘å®šåœ¨ä¸€èµ·ã€‚å†™å…¥å’Œè¯»å–ä½é€šå¸¸ä¹Ÿç§°ä¸ºâ€œè®¾ç½®â€(set)å’Œâ€œå¯ç”¨â€(enable)ã€‚ ä¸Šé¢æ•´ä¸ªå­˜å‚¨å•å…ƒéƒ½åŒ…è£¹åœ¨æ‰€è°“çš„å¯„å­˜å™¨ä¸­ã€‚è¿™äº›å¯„å­˜å™¨è¿æ¥åˆ° æ€»çº¿ï¼Œæ€»çº¿æ˜¯å›´ç»•æ•´ä¸ªç³»ç»Ÿè¿è¡Œçš„ä¸€æŸç”µçº¿ï¼Œå¹¶è¿æ¥åˆ°æ¯ä¸ªç»„ä»¶ã€‚å³ä½¿ç°ä»£è®¡ç®—æœºä¹Ÿå…·æœ‰æ€»çº¿ï¼Œå°½ç®¡å®ƒä»¬å¯èƒ½å…·æœ‰å¤šä¸ªæ€»çº¿ä»¥æé«˜å¤šä»»åŠ¡å¤„ç†æ€§èƒ½ã€‚ æ¯ä¸ªå¯„å­˜å™¨ä»æœ‰ä¸€ä¸ªè¯»å†™ä½ï¼Œä½†æ˜¯åœ¨è¿™ç§è®¾ç½®ä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºæ˜¯ä¸€æ ·çš„ã€‚è¿™å®é™…ä¸Šå¾ˆå¥½ã€‚ä¾‹å¦‚ï¼šå¦‚æœè¦å°† R1 çš„å†…å®¹å¤åˆ¶åˆ° R2ï¼Œåˆ™åº”æ‰“å¼€ R1 çš„è¯»å–ä½ï¼Œè¿™ä¼šå°† R1 çš„å†…å®¹å‹å…¥æ€»çº¿ã€‚å½“è¯»å–ä½æ‰“å¼€æ—¶ï¼Œæ‚¨å°†æ‰“å¼€ R2 çš„å†™å…¥ä½ï¼Œè¿™ä¼šå°†æ€»çº¿å†…å®¹å¤åˆ¶åˆ° R2 ä¸­ã€‚ å¯„å­˜å™¨ä¹Ÿç”¨äºåˆ¶ä½œ RAMã€‚RAM é€šå¸¸å¸ƒç½®åœ¨ç½‘æ ¼ä¸­ï¼Œå¹¶ä¸”å¯¼çº¿æœ‰ä¸¤ä¸ªæ–¹å‘ï¼š è§£ç å™¨é‡‡ç”¨äºŒè¿›åˆ¶è¾“å…¥å¹¶æ‰“å¼€ç›¸åº”çš„ç¼–å·çº¿ã€‚ä¾‹å¦‚ï¼Œ11 åœ¨äºŒè¿›åˆ¶æ•°ä¸­æ˜¯ 3ï¼Œå³æœ€é«˜çš„ 2 ä½æ•°å­—ï¼Œå› æ­¤è§£ç å™¨å°†æ‰“å¼€æœ€é«˜çš„çº¿è·¯ã€‚æ¯ä¸ªè·¯å£éƒ½æœ‰ä¸€ä¸ªå¯„å­˜å™¨ã€‚æ‰€æœ‰è¿™äº›éƒ½è¿æ¥åˆ°ä¸­å¤®æ€»çº¿ä»¥åŠä¸­å¤®å†™å…¥å’Œè¯»å–è¾“å…¥ã€‚åªæœ‰è·¨å¯„å­˜å™¨çš„ä¸¤æ¡å¯¼çº¿ä¹Ÿéƒ½æ‰“å¼€æ—¶ï¼Œè¯»å’Œå†™è¾“å…¥æ‰ä¼šæ‰“å¼€ï¼Œä»è€Œæœ‰æ•ˆåœ°å…è®¸æ‚¨é€‰æ‹©è¦ä»ä¸­è¿›è¡Œè¯»å†™çš„å¯„å­˜å™¨ã€‚åŒæ ·ï¼Œç°ä»£ RAM è¦å¤æ‚å¾—å¤šï¼Œä½†æ˜¯æ­¤è®¾ç½®ä»ç„¶æœ‰æ•ˆã€‚ æ—¶é’Ÿï¼Œæ­¥è¿›å™¨å’Œè§£ç å™¨å¯„å­˜å™¨æ— å¤„ä¸åœ¨ï¼Œæ˜¯åœ¨ CPU ä¸­ç§»åŠ¨æ•°æ®å¹¶å°†ä¿¡æ¯å­˜å‚¨åœ¨ CPU ä¸­çš„åŸºæœ¬å·¥å…·ã€‚é‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆå‘Šè¯‰ä»–ä»¬ç§»åŠ¨æ•°æ®çš„å‘¢ï¼Ÿ æ—¶é’Ÿæ˜¯ CPU æ ¸å¿ƒä¸­çš„ç¬¬ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒå°†æŒ‰è®¾ç½®çš„æ—¶é—´é—´éš”ï¼ˆä»¥èµ«å…¹æˆ–æ¯ç§’å‘¨æœŸä¸ºå•ä½ï¼‰å…³é—­å’Œæ‰“å¼€ã€‚è¿™å°±æ˜¯æ‚¨çœ‹åˆ°çš„æœ€ç›´è§‚çš„ CPU é€Ÿåº¦æŒ‡æ ‡ã€‚ æ—¶é’Ÿå…·æœ‰ä¸‰ç§ä¸åŒçš„çŠ¶æ€ï¼šåŸºæœ¬æ—¶é’Ÿï¼Œä½¿èƒ½æ—¶é’Ÿå’Œè®¾ç½®æ—¶é’Ÿã€‚åŸºæœ¬æ—¶é’Ÿå°†æ‰“å¼€åŠä¸ªå‘¨æœŸï¼Œå¦ä¸€åŠå…³é—­ã€‚ä½¿èƒ½æ—¶é’Ÿç”¨äºæ‰“å¼€å¯„å­˜å™¨ï¼Œå¹¶ä¸”éœ€è¦æ›´é•¿çš„æ—¶é—´æ‰èƒ½ç¡®ä¿æ•°æ®è¢«ä½¿èƒ½ã€‚è®¾ç½®æ—¶é’Ÿå¿…é¡»å§‹ç»ˆä¸ä½¿èƒ½æ—¶é’ŸåŒæ—¶æ‰“å¼€ï¼Œå¦åˆ™å¯èƒ½ä¼šå†™å…¥é”™è¯¯çš„æ•°æ®ã€‚ æ—¶é’Ÿè¿æ¥åˆ°æ­¥è¿›å™¨ï¼Œæ­¥è¿›å™¨å°†ä» 1 åˆ°æœ€å¤§æ­¥æ•°è¿›è¡Œè®¡æ•°ï¼Œå¹¶åœ¨å®Œæˆåå°†è‡ªèº«é‡ç½®ä¸º 1ã€‚æ—¶é’Ÿè¿˜è¿æ¥åˆ° CPU å¯ä»¥å†™å…¥çš„æ¯ä¸ªå¯„å­˜å™¨çš„ AND é—¨ï¼š è¿™äº› â€œä¸â€ é—¨è¿˜è¿æ¥åˆ°å¦ä¸€ä¸ªç»„ä»¶çš„è¾“å‡ºï¼Œå³æŒ‡ä»¤è§£ç å™¨ã€‚æŒ‡ä»¤è§£ç å™¨æ¥å— SET R2 TO R1 ä¹‹ç±»çš„æŒ‡ä»¤ï¼Œå¹¶å°†å…¶è§£ç ä¸º CPU å¯ä»¥ç†è§£çš„å†…å®¹ã€‚å®ƒæœ‰è‡ªå·±çš„å†…éƒ¨å¯„å­˜å™¨ï¼Œç§°ä¸ºâ€œæŒ‡ä»¤å¯„å­˜å™¨â€ï¼Œè¯¥å¯„å­˜å™¨å­˜å‚¨äº†å½“å‰æ“ä½œã€‚å®ƒçš„ç²¾ç¡®ç¨‹åº¦å–å†³äºæ‚¨æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿï¼Œä½†æ˜¯ä¸€æ—¦è§£ç ï¼Œå®ƒå°†æ‰“å¼€æ­£ç¡®çš„è®¾ç½®å¹¶å¯ç”¨æ­£ç¡®å¯„å­˜å™¨çš„ä½ï¼Œè¿™äº›å¯„å­˜å™¨å°†æ ¹æ®æ—¶é’Ÿè§¦å‘ã€‚ ç¨‹åºæŒ‡ä»¤å­˜å‚¨åœ¨ RAMï¼ˆæˆ–ç°ä»£ç³»ç»Ÿä¸­çš„ L1 é«˜é€Ÿç¼“å­˜ï¼Œæ›´é è¿‘ CPUï¼‰ä¸­ã€‚ç”±äºç¨‹åºæ•°æ®ä¸å…¶ä»–æ‰€æœ‰å˜é‡ä¸€æ ·éƒ½å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ï¼Œå› æ­¤å¯ä»¥éšæ—¶å¯¹å…¶è¿›è¡Œæ“ä½œä»¥åœ¨ç¨‹åºä¸­è·³è½¬ã€‚è¿™å°±æ˜¯ç¨‹åºé€šè¿‡å¾ªç¯å’Œ if è¯­å¥è·å–ç»“æ„çš„æ–¹å¼ã€‚è·³è½¬æŒ‡ä»¤å°†æŒ‡ä»¤è§£ç å™¨æ­£åœ¨è¯»å–çš„å­˜å‚¨å™¨ä¸­çš„å½“å‰ä½ç½®è®¾ç½®åˆ°å…¶ä»–ä½ç½®ã€‚ ä¸€åˆ‡å¦‚ä½•é…åˆ ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹ CPU å·¥ä½œåŸç†çš„æœ‰äº†ä¸€äº›åŸºæœ¬çš„äº†è§£ã€‚ä¸»æ€»çº¿è·¨è¶Šæ•´ä¸ªç³»ç»Ÿï¼Œå¹¶è¿æ¥åˆ°æ‰€æœ‰å¯„å­˜å™¨ã€‚å®Œæ•´çš„åŠ æ³•å™¨ä»¥åŠå…¶ä»–ä¸€ç³»åˆ—è¿ç®—éƒ½æ‰“åŒ…åœ¨ç®—æœ¯é€»è¾‘å•å…ƒæˆ– ALU ä¸­ã€‚è¯¥ ALU å°†ä¸æ€»çº¿å»ºç«‹è¿æ¥ï¼Œå¹¶ä¸”è¿˜å°†å…·æœ‰è‡ªå·±çš„å¯„å­˜å™¨æ¥å­˜å‚¨æ­£åœ¨æ“ä½œçš„ç¬¬äºŒä¸ªæ•°å­—ã€‚ ä¸ºäº†æ‰§è¡Œè®¡ç®—ï¼Œå°†ç¨‹åºæ•°æ®ä»ç³»ç»Ÿ RAM åŠ è½½åˆ°æ§åˆ¶éƒ¨åˆ†ã€‚æ§åˆ¶éƒ¨åˆ†ä» RAM ä¸­è¯»å–ä¸¤ä¸ªæ•°å­—ï¼Œå°†ç¬¬ä¸€ä¸ªæ•°å­—åŠ è½½åˆ° ALU çš„æŒ‡ä»¤å¯„å­˜å™¨ä¸­ï¼Œç„¶åå°†ç¬¬äºŒä¸ªæ•°å­—åŠ è½½åˆ°æ€»çº¿ä¸Šã€‚åŒæ—¶ï¼Œå®ƒå‘ ALU å‘é€æŒ‡ä»¤ä»£ç ï¼Œå‘ŠçŸ¥å…¶æ“ä½œæ–¹æ³•ã€‚ç„¶åï¼ŒALU æ‰§è¡Œæ‰€æœ‰è®¡ç®—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨å¦ä¸€ä¸ªå¯„å­˜å™¨ä¸­ï¼ŒCPU å¯ä»¥ä»è¯¥å¯„å­˜å™¨ä¸­è¯»å–è¯¥å€¼ï¼Œç„¶åç»§ç»­è¯¥è¿‡ç¨‹ã€‚ å‚è€ƒèµ„æ–™ åŸæ¥ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·è®°æ•°çš„ - https://www.jianshu.com/p/58844323e4fb äºŒè¿›åˆ¶æ•°çš„è¿ç®—æ–¹æ³• - https://www.jianshu.com/p/560aba49c9a4 æ–‡å­—,å›¾ç‰‡,è§†é¢‘,éŸ³é¢‘çš„äºŒè¿›åˆ¶è¡¨ç¤º - https://blog.csdn.net/c46550/article/details/91040925 çŸ¥ä¹ - è®¡ç®—æœºåªè®¤è¯†0å’Œ1ä½†æ˜¯æ€ä¹ˆè¡¨ç¤ºå›¾åƒå’Œå½±è§†ç­‰ç­‰ä¼—å¤šåº”ç”¨çš„ï¼Ÿ | @kross - https://www.zhihu.com/question/36269548 Introduction to binary numbers - https://pmihaylov.com/intro-binary-numbers/ What is Binary, and Why Do Computers Use It? - https://www.howtogeek.com/367621/what-is-binary-and-why-do-computers-use-it/ CPU æ˜¯æ€æ ·è®¤è¯†ä»£ç çš„ï¼Ÿ | çŸ¥ä¹ - https://www.zhihu.com/question/348237008/answer/843382847 | @Zign HTG Explains: How Does a CPU Actually Work? - https://www.howtogeek.com/367931/htg-explains-how-does-a-cpu-actually-work/ å¾€æœŸæ¨è ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„ ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿° å¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒæˆ‘é¢è¯•è¢«Redisé—®å¾—è„¸éƒ½ç»¿äº† æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°","slug":"ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°","date":"2020-05-31T23:10:00.000Z","updated":"2020-08-16T07:50:03.301Z","comments":true,"path":"2020/06/01/morethanjava-ji-suan-ji-xi-tong-gai-shu/","link":"","permalink":"http://www.wmyskxz.com/2020/06/01/morethanjava-ji-suan-ji-xi-tong-gai-shu/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ è®¡ç®—æœºæ˜¯ç”± ç¡¬ä»¶ å’Œ è½¯ä»¶ ç»„ä»¶ç»„æˆçš„å¤æ‚ç³»ç»Ÿã€‚å¸Œæœ›é€šè¿‡æœ¬ç¯‡æ–‡ç« èƒ½å¤Ÿæ‰©å±•å’ŒåŠ æ·±æ‚¨å¯¹ã€Œè®¡ç®—æœºç³»ç»Ÿã€çš„äº†è§£å’Œè®¤è¯†ã€‚ Part 1. ç¡¬ä»¶å’Œè½¯ä»¶æƒ³ä¸€æƒ³ã€Šå¤ä»‡è€…è”ç›Ÿã€‹ç³»åˆ—ç”µå½±ï¼Ÿ å›¾ç‰‡æ¥æºï¼šhttps://new.qq.com/cmsn/20181208/20181208006498.html å½“ä½ å¼€å§‹æƒ³ã€Šå¤ä»‡è€…è”ç›Ÿã€‹æ—¶ï¼Œé€šå¸¸ä½ éƒ½ä¸ä¼šè€ƒè™‘ä»»ä½•å…³äº â€œç‰©ç†â€ æ–¹é¢çš„ä¸œè¥¿ï¼Œä¾‹å¦‚å½±ç‰‡æ˜¯å­˜å‚¨åœ¨å“ªä¸€ç§ç‰©ç†åª’ä»‹(ä¾‹å¦‚ DVDã€ç”µå½±èƒ¶å·)ä¸Šï¼Œæˆ–è€…æ˜¯æ’­æ”¾å½±ç‰‡æ‰€éœ€çš„ç‰©ç†è®¾å¤‡ï¼ˆä¾‹å¦‚ DVD æœºã€ç”µå½±æ”¾æ˜ æœºï¼‰ã€‚å› ä¸ºä¸€å¼  DVD æ˜¯æœ‰å®ä½“çš„ç‰©ç†è®¾å¤‡ï¼Œè€Œç”µå½±æœ¬èº«ç¡®æ˜¯ä¸€ç§æ²¡æœ‰å®ä½“çš„æ•°æ®ä¿¡æ¯ã€‚ ç¡¬ä»¶ è¿™ä¸ªè¯é€šå¸¸å°±ç”¨äºç§°å‘¼é‚£äº›æœ‰å®ä½“çš„ã€Œç‰©ç†è®¾å¤‡ã€ï¼Œå¦‚ç”µè§†æœºã€DVD æ’­æ”¾å™¨å’Œç”µè„‘ç­‰ã€‚ è½¯ä»¶ åˆ™æ˜¯æŒ‡ä¸ ç¡¬ä»¶ ä¸€èµ·ä½¿ç”¨çš„ã€Œæ•°æ®ä¿¡æ¯ã€ï¼Œå¦‚ç”µå½±ã€éŸ³ä¹ã€å°è¯´ã€ç½‘é¡µã€è®¡ç®—æœºç¨‹åºç­‰ã€‚ ã€Œæ•°æ®ä¿¡æ¯ã€æ˜¯éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½ æ­¤åˆ»æ­£åœ¨æŸ¥çœ‹çš„ç½‘é¡µã€æµè§ˆçš„è§†é¢‘ï¼Œå®ƒä»¬çš„å®é™…æ•°æ®å¯èƒ½å­˜å‚¨åœ¨ä¸­å›½ä¹ƒè‡³ä¸–ç•Œçš„ä»»ä½•ä¸€ä¸ªè§’è½ã€‚åœ¨æ•°æ®ä»æºå¤´çš„ç‰©ç†è®¾å¤‡å¤åˆ¶åˆ°ä½ çš„ç‰©ç†è®¾å¤‡ä¹‹å‰ï¼Œå¯èƒ½å·²ç»è¾—è½¬å¤åˆ¶äº†æˆå‡ ç™¾æ¬¡ï¼Œæœ€ç»ˆåˆ°è¾¾æµè§ˆå™¨å¹¶äº¤ç”±ç³»ç»Ÿæ¸²æŸ“ï¼Œåœ¨å±å¹•ä¸Šè¿˜åŸå‡ºè¿™äº›æ•°æ®ã€‚ ç¡¬ä»¶ç»„æˆ å›¾ç‰‡æ¥æºï¼šhttps://zhuanlan.zhihu.com/p/33574137 è®¡ç®—æœºç³»ç»Ÿçš„ä¸»è¦ ç¡¬ä»¶ç»„æˆ æ˜¯ï¼š CPUï¼ˆå¤„ç†å™¨ï¼‰ï¼› ä¸»è¦å­˜å‚¨å™¨ï¼ˆå†…å­˜ï¼‰ï¼› è¾…åŠ©å­˜å‚¨å™¨ï¼ˆç¡¬ç›˜ï¼‰ï¼› è¾“å…¥è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€é¼ æ ‡ï¼‰ï¼› è¾“å‡ºè®¾å¤‡ï¼ˆå¦‚æ˜¾ç¤ºå™¨ï¼‰ï¼› å¯¹äºå…¸å‹çš„å°å¼è®¡ç®—æœºæ¥è¯´ï¼ŒCPUã€ä¸»å­˜ã€è¾…å­˜ã€ç”µæºåŠ ä¸Šå…¶ä»–æ”¯æŒçš„ç¡¬ä»¶è®¾å¤‡ï¼ˆå¦‚å…‰é©±ï¼Œä¹Ÿå°±æ˜¯æ”¾å…‰ç›˜çš„è®¾å¤‡ï¼‰é€šå¸¸éƒ½æ˜¯æ”¾åœ¨é‡‘å±å¤–å£³ä¸­ï¼Œä¸Šè¿°çš„è¿™äº›ç»„ä»¶ä¹Ÿéƒ½æ˜¯è¿æ¥åˆ°ä¿—ç§°ã€Œä¸»æ¿ã€çš„è®¡ç®—æœºç”µè·¯æ¿ä¸Šï¼Œè€Œå„ç§è¾“å…¥è¾“å‡ºè®¾å¤‡åˆ™é€šè¿‡æš´éœ²åœ¨é‡‘å±å¤–å£³èƒŒé¢çš„è¿æ¥å™¨è¿æ¥ã€‚ å½“ç„¶æ’é™¤éƒ¨åˆ†æ¯”è¾ƒç¡¬æ ¸çš„ã€Œææœºç©å®¶ã€ï¼Œå¦‚ã€Œé‹ç›’ä½æˆæœ¬ç‰ˆã€ï¼š å†æ¯”å¦‚ã€Œç»ˆææ°´å†·ã€ï¼š ä¸»æ¿ä¸»æ¿æ˜¯ç”¨æ¥è¿æ¥å…¶ä»–ç¡¬ä»¶çš„ã€Œæ¡¥æ¢ã€ã€‚ å¦‚æœæŠŠç”µè„‘æ¯”ä½œæ˜¯èˆªç©ºæ¯èˆ°ï¼Œé‚£ä¹ˆä¸»æ¿å°±æ˜¯èˆªæ¯ä¸»ä½“ï¼Œå…¶ä»–æ§åˆ¶ä¸­å¿ƒã€åŠ¨èƒ½è£…ç½®ã€æ­¦å™¨è®¾å¤‡ç­‰éƒ½å¿…é¡»å®‰è£…åœ¨è¿™ä¸ªèˆªæ¯ä¸Šæ‰èƒ½ååŒä½¿ç”¨ï¼Œç¼ºä¸€ä¸å¯ã€‚ å›¾ç‰‡åŠå¼•ç”¨ï¼šhttps://www.zhihu.com/question/59272639ï¼ˆä½œè€…çŸ¥ä¹ï¼š@é»å°ç™½ï¼‰ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…¸å‹çš„ä¸»æ¿ç»„æˆï¼Œè¿™é‡Œåªä»‹ç»ä¸€äº›é‡è¦å¸¸ç”¨çš„ç»„ä»¶ã€‚ï¼ˆå®Œæ•´çš„å¯ä»¥å‚çœ‹ä¸Šæ–¹å›¾ç‰‡ä¸‹é¢çš„é“¾æ¥ï¼‰ å›¾ä¸­ 1 -&gt; CPU æ’æ§½ CPU æ’æ§½ï¼ˆè‹±è¯­ï¼šCPU socketï¼‰æ˜¯è®¡ç®—æœºé‡Œä¸»æ¿ä¸Šå›ºå®šä½ CPU å¹¶å¯¼é€šç”µæ°”è®¯å·çš„ä¸€ç§æ’æ§½ã€‚ä¸åŒ CPU ç³»åˆ—ä½¿ç”¨ä¸åŒæ’æ§½ã€‚ å›¾ä¸­ 4 -&gt; å†…å­˜æ’æ§½å†…å­˜æ’æ§½æ˜¯æŒ‡ä¸»æ¿ä¸Šç”¨æ¥æ’å†…å­˜æ¡çš„æ’æ§½ã€‚ DDR4 å†…å­˜æ¡ï¼ˆç¬¬å››ä»£å†…å­˜æ¡ï¼‰æ‹¥æœ‰ä¸ DDR3ã€DDR2 æˆ– DDR å†…å­˜æ¡ç›¸åŒçš„å¤–è§‚ï¼Œä½†æ˜¯ DDR4 å†…å­˜æ¡æ’æ§½çš„ç¼ºå£ä¸ DDR3ã€DDR2 æˆ– DDR å†…å­˜æ’æ§½ä¸åŒï¼Œä»¥é˜²æ­¢æ’å…¥é”™è¯¯çš„å†…å­˜æ¡ã€‚ PSï¼šè¿™é‡Œåªå±•ç¤ºäº† ASUS X99-DELUXE çš„å†…å­˜å®‰è£…æ–¹å¼ï¼Œä¸åŒä¸»æ¿çš„å†…å­˜å®‰è£…æ–¹å¼å¯èƒ½ä¸åŒï¼Œå…·ä½“è¯·æŒ‰ç…§ä¸»æ¿è¯´æ˜ä¹¦è¿›è¡Œï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯èƒ½æ— æ³•å¯åŠ¨ã€‚ å›¾ä¸­ 5 -&gt; PCI æ‰©å±•æ’æ§½å‡¡æ˜¯æ˜¾å¡ã€ç½‘å¡ã€å£°å¡å’Œ SCSI å¡ç­‰ç¬¦åˆ PCI æ¥å£è§„æ ¼çš„è®¾å¤‡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¿™äº› PCI æ‰©å±•æ’æ§½ã€‚ å›¾ä¸­ 9&amp;10 -&gt; ä¸»æ¿ç”µæºæ’æ§½è¿™äº›ç”µæºæ’æ§½ç”¨æ¥è¿æ¥ä¸€ä¸ª ATX +12V ç”µæºã€‚24-pin æ’æ§½ç”¨äºä¸»æ¿ä¾›ç”µï¼Œ8-pin æ’æ§½ç”¨äº CPU ä¾›ç”µã€‚ ç”µæºæ‰€æä¾›çš„è¿æ¥æ’å¤´å·²ç»è¿‡ç‰¹åˆ«è®¾è®¡ï¼Œåªèƒ½ä»¥ä¸€ä¸ªç‰¹å®šæ–¹å‘æ’å…¥ä¸»æ¿ä¸Šçš„ç”µæºæ’æ§½ã€‚æ‰¾åˆ°æ­£ç¡®çš„æ’å…¥æ–¹å‘åï¼Œä»…éœ€ç¨³ç¨³åœ°å°†ä¹‹å¥—è¿›æ’æ§½ä¸­å³å¯ã€‚ å›¾ä¸­ 11 -&gt; åä¾§é¢æ¿è¿æ¥ç«¯å£ å›¾ä¸­ 12 -&gt; USB è¿æ¥æ’æ§½è¿™ä¸ªæ’æ§½ç”¨æ¥è¿æ¥ USB æ¨¡å—ï¼Œå¯åœ¨å‰é¢æ¿æˆ–åä¾§è¿æ¥ç«¯å£æ‰©å±• USB æ¨¡å—ã€‚ USB è¿æ¥æ’æ§½åˆ†ä¸º USB 2.0 å’Œ USB 3.0ã€‚ æ³¨æ„ï¼š è¯·å‹¿å°† 1394 æ’çº¿è¿æ¥åˆ° USB 2.0 æ’æ§½ä¸Šï¼ŒåŒç†ï¼Œä¹Ÿä¸è¦å°† USB 2.0 æ’çº¿æ¥åˆ° 1394 æ’æ§½ä¸Šï¼Œè¿™ä¹ˆåšå¯èƒ½ä¼šå¯¼è‡´ä¸»æ¿çš„æŸæ¯ã€‚ å›¾ä¸­ 14 -&gt; SATA è®¾å¤‡è¿æ¥æ’æ§½è¿™äº›æ’æ§½å¯æ”¯æŒä½¿ç”¨ Serial ATAï¼ˆSATAï¼‰æ’çº¿æ¥è¿æ¥ SATA ç¡¬ç›˜å’Œå…‰é©±ã€‚ PSï¼šä¸Šé¢æ˜¯ä¸€äº›å¸¸è§çš„ä¸»è¦ç»„æˆï¼Œå…¶ç»“æ„ä¼šå› ä¸åŒä¸»æ¿è€Œåˆç•¥å¾®çš„ä¸åŒï¼Œä¾‹å¦‚æœ‰äº›ä¸»æ¿æ²¡æœ‰æ˜¾ç¤ºå™¨æ¥å£ï¼ˆç‹¬ç«‹æ˜¾å¡ï¼‰ã€‚ CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰CPU å¸¸å¸¸è¢«æ¯”å–»ä¸ºè®¡ç®—æœºç³»ç»Ÿçš„ â€œå¤§è„‘â€ï¼Œè¿™éå¸¸ç¬¦åˆã€‚ å¤„ç†å™¨ æ‰§è¡Œè®¡ç®—æœºç³»ç»Ÿçš„ æ‰€æœ‰åŸºæœ¬è®¡ç®—ã€‚å…¶ä»–ç»„ä»¶åˆ™æ˜¯é€šè¿‡æ‰§è¡Œè¯¸å¦‚ ã€Œå­˜å‚¨æ•°æ®ã€ æˆ– ã€Œå°†æ•°æ®ç§»å…¥å’Œç§»å‡ºå¤„ç†å™¨ã€ ä¹‹ç±»çš„å·¥ä½œæ¥ä¿ƒè¿›è®¡ç®—ã€‚ä½†æ˜¯å¤„ç†å™¨æ˜¯å‘ç”ŸåŸºæœ¬åŠ¨ä½œçš„åœ°æ–¹ã€‚ å¤„ç†å™¨éå¸¸åŠªåŠ›ï¼Œä½†åŒæ—¶å®ƒä¹Ÿä¸é‚£ä¹ˆâ€èªæ˜â€ï¼Œå®ƒå”¯ä¸€è¦åšçš„å°±æ˜¯æ‰§è¡Œè€æ¿ï¼ˆæ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼‰çš„å‘½ä»¤ï¼ˆæŒ‡ä»¤ï¼‰ï¼Œå®ƒä»æ¥ä¸é—®é‚£äº›å‘½ä»¤åˆ°åº•æ˜¯åšä»€ä¹ˆï¼Œåªè´Ÿè´£æ‰§è¡Œã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç¨‹åºå’Œ CPU ä¹‹é—´å­˜åœ¨ä¸€ä¸ªç§°ä¸ºã€Œæ“ä½œç³»ç»Ÿã€çš„ä¸­é—´äººçš„åŸå› ã€‚ ï¼ˆPs: å…³äº CPU å…¶ä»–çŸ¥è¯†æˆ‘ä»¬ä¼šåœ¨ä¹‹åæ¥è¯¦ç»†è¯´ã€‚ï¼‰ Hz ä»£è¡¨ä»€ä¹ˆï¼Ÿé€šå¸¸æˆ‘ä»¬è®¨è®º CPU æ—¶ï¼Œéƒ½ä¼šè¯´è¿™ä¸ª CPU çš„æ˜¯å¤šå°‘å¤šå°‘èµ«å…¹çš„ï¼Œå®ƒå…¶å® ä»£è¡¨çš„å°±æ˜¯ CPU æ‰§è¡ŒæŒ‡ä»¤çš„é€Ÿåº¦ï¼ˆâ‰ˆè¿è¡Œé€Ÿåº¦ï¼‰ã€‚ æ¯ä¸ª CPU éƒ½æœ‰ä¸€ä¸ªéå¸¸ç®€å•ä½†éå¸¸é‡è¦çš„ç»„ä»¶ï¼Œå®ƒè¢«ç§°ä¸º æ—¶é’Ÿã€‚å…¶å”¯ä¸€çš„ç›®çš„å°±æ˜¯ æŒ‰ä¸€è‡´çš„æ–¹å¼ æ¥ æ‰“å¼€ å’Œ å…³é—­ ç”µä¿¡å·ï¼Œå°±åƒæ˜¯æ‚¨çš„å¿ƒè„æ¯ç§’è·³åŠ¨ä¸€æ¬¡ä¸€æ ·ï¼Œæ—¶é’Ÿä¹Ÿä¼šå‘¨æœŸæ€§åœ°äº§ç”Ÿé«˜ç”µå‹ä¿¡å·å’Œä½ç”µå‹ä¿¡å·ã€‚ 1 Hz è¡¨ç¤ºæ¯ç§’ 1 ä¸ªå‘¨æœŸï¼Œä¹Ÿå°±æ˜¯æ¯ç§’äº§ç”Ÿä¸€ä¸ªé«˜å‹ä¿¡å·ä¸€ä¸ªä½å‹ä¿¡å·ï¼Œ3 Ghz ä¹Ÿå°±æ˜¯è¡¨ç¤ºæ¯ç§’ 3 åƒä¸‡ä¸ªå‘¨æœŸã€‚å› æ­¤ï¼Œå¦‚æœä¸€æ¡æŒ‡ä»¤éœ€è¦ 5 ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰èƒ½å®Œæˆï¼Œåˆ™ CPU çš„æ—¶é’Ÿè¶Šå¿«ï¼Œè¯¥æŒ‡ä»¤å°†è¢«æ‰§è¡Œå¾—è¶Šå¿«ã€‚ï¼ˆä½†ç°åœ¨ CPU çš„å¿«æ…¢å¹¶ä¸èƒ½ç®€å•è€ƒè™‘ Hz å¤§å°ï¼Œè¿˜å¾—é™„åŠ è€ƒè™‘â€å¤šæ ¸â€å’Œæ¯ä¸ªå‘¨æœŸå†…èƒ½å¤Ÿå®Œæˆçš„å·¥ä½œé‡çš„å› ç´ ï¼‰ CPU å¯ä»¥æœ‰å¤šå¿«ï¼Ÿ æ™®é€šå°å¼è®¡ç®—æœºå¯ä»¥åœ¨ä¸åˆ°ç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’çš„æ—¶é—´å†…æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œå³ä½¿æ˜¯çœŸç©ºä¸­ä¼ æ’­çš„å…‰ï¼Œåœ¨è¿™æ®µæ—¶é—´å†…ä¹Ÿåªèƒ½èµ° 10 å˜ç±³å·¦å³ï¼Œè€Œè¶…çº§è®¡ç®—æœºï¼ˆåœ¨æ‰€æœ‰è®¡ç®—æœºä¸­é€Ÿåº¦æœ€å¿«ï¼‰å¯ä»¥åœ¨ä¸åˆ°åäº¿åˆ†ä¹‹ä¸€ç§’çš„æ—¶é—´å†…æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼ CPU çš„åŸºæœ¬è¦ç´  å›¾ç‰‡æ¥æºï¼šhttps://www.deskdecode.com/what-is-cpu-central-processing-unit-and-how-its-work/ å¯„å­˜å™¨ï¼š å¯„å­˜å™¨æ˜¯ä¸€ä¸ªå¾ˆå°çš„åœ°æ–¹ï¼Œç”¨äºä¿å­˜å¤„ç†å™¨çš„æ•°æ®ã€‚å¯„å­˜å™¨ç”¨äºå­˜å‚¨ä¿¡æ¯ï¼Œä¾‹å¦‚æŒ‡ä»¤ï¼Œå­˜å‚¨åœ°å€å’Œä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä¾‹å¦‚ä½åºåˆ—æˆ–ä»»ä½•å­—ç¬¦ç­‰ã€‚å¤„ç†å™¨çš„å¯„å­˜å™¨åº”è¶³å¤Ÿå¤§ä»¥å­˜å‚¨æ‰€æœ‰ç»™å®šçš„ä¿¡æ¯ã€‚64 ä½å¤„ç†å™¨åº”è‡³å°‘å…·æœ‰ 64 ä½å¯„å­˜å™¨å’Œ 32 ä½å¤„ç†å™¨çš„ 2 ä½å¯„å­˜å™¨ã€‚å¯„å­˜å™¨æ˜¯æ‰€æœ‰å­˜å‚¨è®¾å¤‡ä¸­æœ€å¿«çš„ã€‚ L1å’ŒL2é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨ï¼š é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨æ˜¯ä¸€ç§ç±»å‹çš„å­˜å‚¨å™¨ï¼Œä½äºå¤„ç†å™¨çš„èŠ¯ç‰‡ä¸­ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡æ€»çº¿å•ç‹¬è¿æ¥ã€‚é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨çš„ç”¨é€”æ˜¯å­˜å‚¨ç¨‹åºæŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤è¢«è½¯ä»¶ä¸€æ¬¡åˆä¸€æ¬¡åœ°ç”¨äºæ“ä½œã€‚å½“ CPU å¤„ç†æ•°æ®æ—¶ï¼Œé¦–å…ˆå°†æ•°æ®æŸ¥æ‰¾åˆ°é«˜é€Ÿç¼“å­˜ä¸­ã€‚å¦‚æœæ‰¾åˆ°äº†æ•°æ®ï¼Œåˆ™å®ƒå°†ç›¸åº”åœ°ä½¿ç”¨è¯¥æ•°æ®ï¼›å¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™å¤„ç†å™¨å¼€å§‹åœ¨è¾ƒå¤§çš„å†…å­˜ä¸­æŸ¥æ‰¾ï¼Œè¿™å®é™…ä¸Šæ˜¯è€—æ—¶çš„ã€‚é«˜é€Ÿç¼“å­˜çš„æˆæœ¬å¾ˆé«˜ï¼Œä½†é€Ÿåº¦ç¡®å®å¾ˆå¿«ã€‚ CPU å¦‚ä½•æ‰§è¡Œç¨‹åºæŒ‡ä»¤ | ç®€å•åŸç†å…¸å‹çš„ CPU å¯ä»¥ç®€å•çœ‹æˆç”± ã€Œæ§åˆ¶å•å…ƒã€ å’Œ ã€Œé€»è¾‘å•å…ƒã€ ç»„æˆã€‚ åœ¨æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ä¹‹å‰ï¼Œå¿…é¡»å°†ç¨‹åºæŒ‡ä»¤å’Œæ•°æ®ä»è¾“å…¥è®¾å¤‡æˆ–è¾…åŠ©å­˜å‚¨è®¾å¤‡æ”¾å…¥å†…å­˜ä¸­ï¼Œä¸€æ—¦å¿…è¦çš„æ•°æ®å’ŒæŒ‡ä»¤å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸­å¤®å¤„ç†å•å…ƒå°±ä¼šå¯¹ æ¯ä¸ªæŒ‡ä»¤ æ‰§è¡Œä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š ã€Œæ§åˆ¶å•å…ƒã€ä»ã€Œå­˜å‚¨å™¨ã€ä¸­è·å–æŒ‡ä»¤ï¼› ã€Œæ§åˆ¶å•å…ƒã€å¯¹æŒ‡ä»¤è¿›è¡Œè§£ç ï¼ˆç¡®å®šå«ä¹‰ï¼‰ï¼Œå¹¶æŒ‡ç¤ºå°†å¿…è¦çš„æ•°æ®ä»å­˜å‚¨å™¨ç§»è‡³ã€Œé€»è¾‘å•å…ƒã€ï¼› ã€Œé€»è¾‘å•å…ƒã€æ‰§è¡Œç®—æœ¯æˆ–é€»è¾‘æŒ‡ä»¤ï¼› ã€Œé€»è¾‘å•å…ƒã€å°†è¯¥è¿ç®—çš„ç»“æœå­˜å‚¨åœ¨å­˜å‚¨å™¨æˆ–å¯„å­˜å™¨ä¸­ï¼› æ§åˆ¶å•å…ƒæœ€ç»ˆæŒ‡ç¤ºå­˜å‚¨å™¨å°†ç»“æœé‡Šæ”¾åˆ°è¾“å‡ºè®¾å¤‡æˆ–è¾…åŠ©å­˜å‚¨è®¾å¤‡ã€‚è¿™ä¸€å¥—æ­¥éª¤ä¸‹æ¥å°±è¢«ç§°ä¸º ã€Œæœºå™¨å‘¨æœŸã€ã€‚å•ä¸ªæœºå™¨å‘¨æœŸæŒ‡ä»¤å¯ä»¥ç”±å¤§é‡å­æŒ‡ä»¤ç»„æˆï¼Œæ¯ä¸ªå­æŒ‡ä»¤å¿…é¡»è‡³å°‘å ç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼ˆä¸Šé¢æåˆ°çš„ä¸€ä¸ªä¸Šä¸‹è„‰å†²æ—¶é—´ï¼‰ã€‚ æ¯ç§ç±»å‹çš„ä¸­å¤®å¤„ç†å•å…ƒéƒ½ åªèƒ½ç†è§£ä¸€ç»„ç‰¹å®šçš„æŒ‡ä»¤ï¼Œç§°ä¸º ã€ŒæŒ‡ä»¤é›†ã€ã€‚æ­£å¦‚äººä»¬å¯ä»¥ç†è§£è®¸å¤šä¸åŒçš„è¯­è¨€ä¸€æ ·ï¼Œæ¯ç§ä¸åŒç±»å‹çš„CPUéƒ½æœ‰å…¶å¯ä»¥ç†è§£çš„æŒ‡ä»¤é›†ã€‚ å°†æŒ‡ä»¤å’Œæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­æ˜¯ä¸€å›äº‹ï¼Œè€Œæ§åˆ¶å•å…ƒèƒ½å¤Ÿæ‰¾åˆ°å®ƒä»¬åˆæ˜¯å¦ä¸€å›äº‹ã€‚å®ƒæ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ æ¯ä¸ªæŒ‡ä»¤å’Œæ¯ä¸ªæ•°æ®åœ¨ã€Œå­˜å‚¨å™¨ã€ä¸­çš„ä½ç½®éƒ½æœ‰ä¸€ä¸ªåœ°å€æ ‡è¯†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªåœ°å€å·ç ï¼Œå°±åƒå…¬å¯“å‰é¢çš„é‚®ç®±ä¸€æ ·ã€‚å¹¶ä¸”ï¼Œä¸é‚®ç®±ä¸€æ ·ï¼Œä½ç½®çš„åœ°å€å·ä¿æŒä¸å˜ï¼Œä½†æ˜¯ä½ç½®çš„å†…å®¹ï¼ˆæŒ‡ä»¤å’Œæ•°æ®ï¼‰å¯èƒ½ä¼šæ›´æ”¹ã€‚ ä½†æ˜¯ï¼Œä¸é‚®ç®±ä¸åŒï¼Œå†…å­˜ä½ç½®åªèƒ½å®¹çº³å›ºå®šæ•°é‡çš„æ•°æ®ï¼›åœ°å€åªèƒ½å®¹çº³å›ºå®šæ•°é‡çš„å­—èŠ‚-åœ¨ç°ä»£è®¡ç®—æœºä¸­é€šå¸¸ä¸ºä¸¤ä¸ªå­—èŠ‚ã€‚ 32 ä½ å’Œ 64 ä½ï¼Ÿæ‚¨å¯èƒ½å·²ç»å¬è¯´è¿‡ N ä½å¤„ç†å™¨çš„æ¦‚å¿µã€‚æœ€å¸¸è§çš„æ˜¯ 32 ä½å’Œ 64 ä½å¤„ç†å™¨ã€‚è¿™äº›ä½ç¡®å®šä¼ å…¥å’Œä¼ å‡ºå¤„ç†å™¨çš„ æ•°æ®é‡å¤§å°ã€‚å…·ä½“ä¼šæœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒï¼š ä¸€ã€å¤„ç†æ•°æ®çš„èƒ½åŠ›ä¸åŒ 32 ä½å’Œ 64 ä½è¡¨ç¤º CPU ä¸€æ¬¡èƒ½å¤„ç†çš„æœ€å¤§ä½æ•°ï¼Œç†è®ºä¸Šæ¥è¯´ï¼Œ64 ä½ç³»ç»Ÿå¤„ç†çš„æ•°æ®æ•ˆç‡æ¯” 32 ä½æ›´é«˜ï¼Œç›¸å½“äºå•è½¦é“å’ŒåŒè½¦é“å¼€è½¦ä¼¼å¾—ï¼ŒåŒè½¦é“å•ä½æ—¶é—´å¯ä»¥æœ‰æ›´å¤šçš„è½¦è¾†é€šè¡Œã€‚ä½†éœ€è¦å†…å­˜è·Ÿä¸Šï¼Œè€Œä¸”ç¨‹åºæœ¬èº«ä¹Ÿæ˜¯ 64 ä½ç¼–è¯‘æ‰èƒ½å‘æŒ¥ 64 ä½ç³»ç»Ÿçš„ä¼˜åŠ¿ã€‚ äºŒã€æ”¯æŒçš„å†…å­˜ä¸åŒï¼ˆå¯»å€èƒ½åŠ›ä¸åŒï¼‰ ç®€å•æ¥è¯´ï¼Œ32 ä½ç³»ç»Ÿçš„æœ€å¤šèƒ½åœ¨æ˜¯ 232=4294967296=4 (GB) å·¦å³çš„å†…å­˜é‡Œé¢æ‰¾ç¨‹åºæ‰€éœ€è¦çš„æ•°æ®ï¼Œè€Œ 64 ä½ç³»ç»Ÿè¿™å°±æœ€å¤§æ”¯æŒ 128 GB å†…å­˜ï¼› ä¸‰ã€è½¯ä»¶å…¼å®¹æ€§ä¸åŒ 32 ä½ç³»ç»Ÿæ— æ³•è¿è¡Œ 64 ä½è½¯ä»¶ï¼Œ64 ä½ç³»ç»Ÿå¯ä»¥å®‰è£…å¤šæ•° 32 ä½è½¯ä»¶ï¼Œä»¥å‰å› ä¸ºå¤§éƒ¨åˆ†è½¯ä»¶éƒ½æ˜¯åŸºäº 32 ä½æ¶æ„ç¯å¢ƒä¸‹å¼€å‘ï¼Œæ‰€ä»¥ 64 ä½ç³»ç»Ÿçš„å…¼å®¹æ€§ä¸å¦‚ 32 ä½ã€‚ä½†ç°åœ¨ 64 ä½å…¼å®¹æ€§ä¹Ÿå¾ˆå¼ºäº†ï¼ŒåŸºæœ¬éƒ½æ˜¯å¯ä»¥å…¼å®¹å„ç±»è½¯ä»¶äº†ï¼Œè€Œä¸” 64 ä½çš„ç—…æ¯’éƒ½å°‘äº†å¾ˆå¤šã€‚ ç‰¹åˆ«æ˜¯å¤§é‡æ¶ˆè€—å†…å­˜çš„è½¯ä»¶ï¼Œå¦‚ PSï¼Œ64 ä½å’Œ 32 ä½è½¯ä»¶åœ¨ 64 ä½ç³»ç»Ÿé‡ŒåŒºåˆ«å¾ˆå¤§ï¼Œ64 ä½çœŸçš„å¿«è®¸å¤šã€‚ å­˜å‚¨å™¨å†…å­˜å’Œç¡¬ç›˜çš„å·®åˆ«å†…å­˜ ä¸­é€šå¸¸æ”¾ç½®çš„æ˜¯æ‚¨ çŸ­æœŸå­˜å‚¨ çš„æ•°æ®ï¼Œè€Œ ç¡¬ç›˜ ä¸­å­˜æ”¾çš„åˆ™æ˜¯ é•¿æœŸå­˜å‚¨ çš„æ•°æ®ã€‚ æƒ³è±¡ä¸€ä¸‹æ‚¨æ­£åœ¨åŠå…¬ï¼Œå¹¶ä¸”æ‚¨æ‹¥æœ‰ä¸€ä¸ª åŠå…¬æ¡Œ å’Œä¸€ä¸ª æ–‡ä»¶æŸœï¼Œé‚£ä¹ˆæ­¤æ—¶åŠå…¬æ¡Œçš„åŒºåŸŸåˆ™ä»£è¡¨äº†å†…å­˜ï¼Œæ–‡ä»¶æŸœåˆ™ä»£è¡¨äº†ç¡¬ç›˜ã€‚ åˆšå¼€å§‹å·¥ä½œä¸ä¹…ï¼Œä½ å°±æŠŠéœ€è¦ä½¿ç”¨çš„ç‰©å“æ”¾ç½®åœ¨äº†æ‚¨çš„åŠå…¬æ¡Œä¸Šï¼Œä»¥ä¾¿äºä½¿ç”¨ï¼Œä½†ç”±äºæ¡Œå­å¤§å°çš„é™åˆ¶ï¼Œä¸èƒ½åœ¨æ¡Œä¸Šå­˜æ”¾å¤ªå¤šçš„ä¸œè¥¿ã€‚å¿…é¡»ä¿ç•™ä½†ä¸ä¸€å®šå¾ˆå¿«å°±å¯ä»¥è®¿é—®çš„é¡¹ç›®å­˜å‚¨åœ¨æ–‡ä»¶æŸœä¸­ã€‚æ ¹æ®æ–‡ä»¶æŸœçš„å¤§å°çš„ä¸åŒï¼Œå¯ä»¥å­˜å‚¨è®¸å¤šä¸œè¥¿ã€‚ å†…å­˜å’Œç¡¬ç›˜ä¹‹é—´çš„é‡è¦åŒºåˆ«æ˜¯å‰è€…åœ¨è®¡ç®—æœºå…³é—­æ—¶ä¼šæ¸…é™¤ã€‚å¦ä¸€æ–¹é¢ï¼Œæ— è®ºå…³é—­è®¡ç®—æœºå¤šå°‘æ¬¡ï¼Œç¡¬ç›˜éƒ½å°†ä¿æŒä¸å˜ï¼ˆé™¤éç‰©ç†ç ´åï¼‰ã€‚å› æ­¤ï¼Œç±»ä¼¼äºåŠå…¬æ¡Œå’Œæ–‡ä»¶æŸœï¼Œæ‚¨ç¦»å¼€åŠå…¬å®¤æ—¶åœ¨åŠå…¬æ¡Œä¸Šç•™ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚æ–‡ä»¶æŸœä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å°†ä¿ç•™ã€‚ æ•°æ®å¦‚ä½•è¡¨ç¤ºï¼Ÿåœ¨ä¸»å­˜å‚¨å™¨å’Œè¾…åŠ©å­˜å‚¨å™¨ä¸­ï¼Œä¿¡æ¯éƒ½ä»¥ ä½(bit) æ¨¡å¼å­˜å‚¨ã€‚è¿™æ˜¯ä¸€ä¸ªå•ä¸€çš„å¼€/å…³å€¼ï¼Œä»…å¼€/å…³è¿™ä¸¤ç§å€¼æ˜¯å¯èƒ½çš„ã€‚ï¼ˆä¹Ÿå°±æ˜¯ä¿—ç§°çš„ã€ŒäºŒè¿›åˆ¶ã€ï¼‰ æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ—ä¸¾ä¸€äº›ï¼š æœºæ¢°ä¸Šç”µå™¨çš„å¼€å…³ï¼ˆå¦‚ç”µç¯å¼€å…³ï¼‰ï¼› ç”µçº¿ä¸Šçš„é«˜ä½ç”µå‹ï¼› å•ä¸ªæ™¶ä½“ç®¡ï¼› ç£ç›˜è¡¨é¢çš„ä¸€å°éƒ¨åˆ†ï¼› ç£å¸¦è¡¨é¢çš„ä¸€å°éƒ¨åˆ†ï¼› å¡ä¸Šæ‰“äº†ä¸€ä¸ªæ´ï¼›ï¼ˆå¦‚ä¸Šä¸€ç¯‡æ–‡ç« æåˆ°çš„åˆ¶è¡¨æœºï¼‰ More.. åœ¨ä¸»å­˜å‚¨å™¨å’Œè¾…åŠ©å­˜å‚¨å™¨ä¸­ï¼Œä½çš„å®ç°æ–¹å¼ä¸åŒï¼Œä½†æ˜¯ä»é€»è¾‘ä¸Šè®²ï¼Œä¸¤ç§ç±»å‹çš„å­˜å‚¨å™¨éƒ½å­˜å‚¨è¡¨ç¤ºä¸ºä½æ¨¡å¼çš„ä¿¡æ¯ã€‚ å­—èŠ‚ | å­˜å‚¨å•ä½ä¸€ä½èƒ½è¡¨ç¤ºçš„ä¿¡æ¯å¤ªå°‘äº†ï¼Œä»¥è‡³äºé€šå¸¸è®¡ç®—æœºå†…å­˜è¢«åˆ†æˆå…«ä½ä¸€ç»„ï¼Œæ¯ä¸ªå…«ä½ç»„ç§°ä¸ºä¸€ä¸ª å­—èŠ‚ã€‚ ä¸€ä¸ªå­—èŠ‚å¤§çº¦è¶³ä»¥å®¹çº³ä¸€ä¸ªå­—ç¬¦ã€‚ å½“æŸäº›æ•°æ®éœ€è¦å…«ä¸ªä»¥ä¸Šçš„ä½æ—¶ï¼Œå°†ä½¿ç”¨å‡ ä¸ªå­—èŠ‚ã€‚é€šå¸¸ï¼Œå››ä¸ªå­—èŠ‚ç”¨äºè¡¨ç¤ºæ•´æ•°ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆåƒä¸Šç™¾ï¼Œç”šè‡³ä¸Šäº¿ï¼Œå‡ åäº¿çš„å­—èŠ‚æ¥è¡¨ç¤ºæŸä¸€äº›æ•°æ®ï¼Œè¿™æ ·å¤§æ•°é‡çš„å­—èŠ‚æ•°æˆ‘ä»¬åˆè§„å®šäº†ä¸€äº›å•ä½ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼šï¼ˆä»…åˆ—å‡ºå¸¸ç”¨å•ä½ï¼‰ åç§° å­—èŠ‚æ•° 2 çš„å¹‚ å­—èŠ‚ 1 20 åƒå­—èŠ‚(kilobyteï¼Œä¿—ç§° 1 Kb) 1024 210 å…†å­—èŠ‚(megabyteï¼Œä¿—ç§° 1 Mb) 1,048,576 220 åäº¿å­—èŠ‚(gigabyteï¼Œä¿—ç§° 1 Gb) 1,073,741,824 230 ä¸‡äº¿å­—èŠ‚(terabyteï¼Œä¿—ç§° 1 Tb) 1,099,511,627,776 240 ç¡¬ç›˜è®¡ç®—æœºç³»ç»Ÿçš„ç¡¬ç›˜å°†å­—èŠ‚è®°å½•åœ¨ç£æ€§è¡¨é¢ä¸Šï¼Œå°±åƒå½•éŸ³å¸¦çš„è¡¨é¢ä¸€æ ·ã€‚ æ•°æ®çš„è®°å½•ï¼ˆå†™å…¥ï¼‰å’Œè¯»å–ä½¿ç”¨ç±»ä¼¼äºç£å¸¦çš„è¯»å†™å¤´å®Œæˆã€‚ å›¾ç‰‡æ¥æºï¼šhttp://programmedlessons.org/Java9/chap03/ch03_11.html ä¸Šå›¾æ˜¾ç¤ºäº†ä¸€ä¸ªå¯ç§»åŠ¨è‡‚æœ«ç«¯çš„ä¸€ä¸ªç£ç›˜å’Œä¸€ä¸ªè¯»/å†™å¤´ã€‚æ‰‹è‡‚æ²¿ç€ç£ç›˜çš„åŠå¾„ç§»åŠ¨ã€‚ç”±äºç£ç›˜æ­£åœ¨æ—‹è½¬ï¼Œå®ƒå°†åœ¨ç£ç›˜ä¸Šçš„åœ†å½¢è½¨é“ä¸­è®°å½•æ•°æ®ã€‚ç¨åï¼Œè¦è¯»å–æ•°æ®ï¼Œå¿…é¡»å°†å…¶ç§»è‡³æ­£ç¡®çš„ä½ç½®ï¼Œç„¶åå¿…é¡»ç­‰å¾…ç›´åˆ°æ—‹è½¬ç£ç›˜å°†æ•°æ®æ”¾ç½®åˆ°ä½ã€‚ä¸å½•éŸ³å¸¦ä¸€æ ·ï¼Œæ— éœ€æ›´æ”¹å³å¯è¯»å–æ•°æ®ã€‚è®°å½•æ–°æ•°æ®æ—¶ï¼Œå®ƒå°†æ›¿æ¢ä»¥å‰åœ¨è¯¥ä½ç½®è®°å½•çš„ä»»ä½•æ•°æ®ã€‚ä¸éŸ³é¢‘ç£å¸¦ä¸åŒï¼Œè¯»/å†™ç£å¤´å®é™…ä¸Šå¹¶ä¸æ¥è§¦ç£ç›˜ï¼Œè€Œæ˜¯ç•¥é«˜äºç£ç›˜ã€‚ï¼ˆç”±äºç£ç›˜åœ¨è®¡ç®—æœºå¯åŠ¨æ—¶ä¸€ç›´åœ¨æ—‹è½¬ï¼Œå› æ­¤å¦‚æœè¯»å†™å¤´æ¥è§¦åˆ°ç£ç›˜ï¼Œç£ç›˜å¾ˆå¿«å°±ä¼šç£¨æŸã€‚ï¼‰ é€šå¸¸ï¼Œç§°ä¸ºè®¡ç®—æœºç³»ç»Ÿç¡¬ç›˜çš„ç»„ä»¶åŒ…å«è®¸å¤šå•ç‹¬çš„ç£ç›˜å’Œä¸Šè¿°çš„è¯»/å†™ç£å¤´ã€‚ç£ç›˜çš„ä¸¤é¢éƒ½æ¶‚æœ‰ç£æ€§ææ–™ï¼ˆå› æ­¤ï¼Œæ¯ä¸ªç£ç›˜éƒ½æœ‰ä¸¤ä¸ªè¯»/å†™ç£å¤´ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰ç£ç›˜éƒ½è¿æ¥åˆ°ä¸€ä¸ªä¸»è½´ä¸Šã€‚æ‰€æœ‰ç£ç›˜å’Œç£å¤´å‡å¯†å°åœ¨æ— å°˜çš„é‡‘å±å®¹å™¨ä¸­ã€‚ç”±äºç¡¬ç›˜çš„æ“ä½œæ¶‰åŠæœºæ¢°è¿åŠ¨ï¼ˆæ¯”ç”µå­è¿‡ç¨‹è¦æ…¢å¾—å¤šï¼‰ï¼Œå› æ­¤è¯»å†™æ•°æ®è¦æ¯”ä½¿ç”¨ä¸»å­˜å‚¨å™¨æ…¢å¾—å¤šã€‚ æ–‡ä»¶ï¼ˆFileï¼‰ç¡¬ç›˜ï¼ˆå’Œå…¶ä»–è¾…åŠ©å­˜å‚¨è®¾å¤‡ï¼‰ç”¨äºé•¿æœŸå­˜å‚¨å¤§ä¿¡æ¯å—ï¼Œä¾‹å¦‚ç¨‹åºå’Œæ•°æ®é›†ã€‚é€šå¸¸ï¼Œç¡¬ç›˜å†…å­˜è¢«ç»„ç»‡æˆ æ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶æ˜¯å·²ç»è¢«èµ‹äºˆäº†åç§°ï¼Œå¹¶å­˜å‚¨åœ¨è¾…åŠ©å­˜å‚¨å™¨çš„ ä¿¡æ¯é›†åˆã€‚è¯¥ä¿¡æ¯å¯ä»¥æ˜¯ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°æ®ã€‚ æ–‡ä»¶ä¸­çš„ä¿¡æ¯è¡¨ç¤ºæ–¹å¼ä¸ä»»ä½•æ•°å­—ä¿¡æ¯ç›¸åŒâ€”â€”å®ƒç”±ä½ç»„æˆï¼Œé€šå¸¸åˆ†ä¸ºå…«ä½å­—èŠ‚ã€‚æ–‡ä»¶é€šå¸¸å¾ˆå¤§ï¼›å®ƒä»¬çš„å¤§å°ä»¥åƒå­—èŠ‚(Kb)æˆ–å…†å­—èŠ‚(Mb)ä¸ºå•ä½ã€‚ æ–‡ä»¶å’Œæ“ä½œç³»ç»Ÿä¸»å­˜å‚¨ä¹‹å¤–çš„å¤§å¤šæ•°æ•°æ®é›†åˆéƒ½ç»„ç»‡æˆæ–‡ä»¶ã€‚è·Ÿè¸ªæ‰€æœ‰è¿™äº›ä¿¡æ¯æ˜¯æ“ä½œç³»ç»Ÿçš„å·¥ä½œä¹‹ä¸€ã€‚å¦‚æœè®¡ç®—æœºæ˜¯ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆè·Ÿè¸ªæ‰€æœ‰è®¡ç®—æœºä¸Šçš„æ‰€æœ‰æ–‡ä»¶æ˜¯ä¸€é¡¹è‰°å·¨çš„å·¥ä½œï¼Œå¹¶ä¸”æ¶‰åŠç½‘ç»œä¸Šçš„æ‰€æœ‰æ“ä½œç³»ç»Ÿã€‚ åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬æ‚¨å¯èƒ½ç¼–å†™çš„ç¨‹åºï¼‰ä¸ä¼šç›´æ¥è¯»å–ï¼Œå†™å…¥ï¼Œåˆ›å»ºæˆ–åˆ é™¤æ–‡ä»¶ã€‚ ç”±äºæ“ä½œç³»ç»Ÿå¿…é¡»è·Ÿè¸ªæ‰€æœ‰å†…å®¹ï¼Œå› æ­¤æ‰€æœ‰å…¶ä»–ç¨‹åºéƒ½è¦æ±‚æ“ä½œç³»ç»Ÿæ‰§è¡Œæ–‡ä»¶æ“ä½œä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æŸä¸ªç¨‹åºåˆšåˆšè®¡ç®—å‡ºä¸€ç»„æ•°å­—ï¼Œåˆ™éœ€è¦ä¿å­˜å®ƒä»¬ã€‚ä»¥ä¸‹å¯èƒ½å‘ç”Ÿçš„æ“ä½œæ–¹å¼ï¼š ğŸ‘¨â€ğŸ’»â€ç¨‹åºï¼š è¦æ±‚æ“ä½œç³»ç»Ÿåˆ›å»ºä¸€ä¸ªåç§°ä¸ºRESULTS.DATçš„æ–‡ä»¶ ğŸ’»æ“ä½œç³»ç»Ÿï¼š è·å–è¯·æ±‚ï¼›æŸ¥æ‰¾ç£ç›˜çš„æœªä½¿ç”¨éƒ¨åˆ†å¹¶åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ã€‚ç¨‹åºå®Œæˆæ—¶ä¼šè¢«å‘ŠçŸ¥ã€‚ ğŸ‘¨â€ğŸ’»â€ç¨‹åºï¼š è¦æ±‚æ“ä½œç³»ç»Ÿå°†æ•°å­—ä¿å­˜åœ¨æ–‡ä»¶ä¸­ã€‚ ğŸ’»æ“ä½œç³»ç»Ÿï¼š ä»ç¨‹åºçš„ä¸»å†…å­˜ä¸­è·å–æ•°å­—ï¼Œå¹¶å°†å…¶å†™å…¥æ–‡ä»¶ã€‚ç¨‹åºå®Œæˆæ—¶ä¼šè¢«å‘ŠçŸ¥ã€‚ ğŸ‘¨â€ğŸ’»â€ç¨‹åºï¼š ç»§ç»­è¿›è¡Œä»»ä½•æ“ä½œã€‚ æ–‡ä»¶ç±»å‹å°±ç¡¬ç›˜è€Œè¨€ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯ç›¸åŒçš„ã€‚åœ¨ç”µå­çº§åˆ«ï¼ŒåŒ…å«ç¨‹åºçš„æ–‡ä»¶å’ŒåŒ…å«æ•°æ®çš„æ–‡ä»¶ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚æ‰€æœ‰æ–‡ä»¶éƒ½è¢«å‘½åä¸ºå­—èŠ‚é›†åˆã€‚å½“ç„¶ï¼Œè¿™äº›æ–‡ä»¶çš„ç”¨é€”ä¸åŒã€‚æ“ä½œç³»ç»Ÿå¯ä»¥è·å–ç¨‹åºæ–‡ä»¶ï¼Œå°†å…¶å¤åˆ¶åˆ°ä¸»å†…å­˜ä¸­ï¼Œç„¶åå¼€å§‹è¿è¡Œã€‚æ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥è·å–æ•°æ®æ–‡ä»¶ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†å…¶ä¿¡æ¯æä¾›ç»™æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚ ç„¶è€Œï¼Œæˆ‘ä»¬é€šå¸¸ä¼šçœ‹åˆ°æ–‡ä»¶åçš„æœ€åä¸€éƒ¨åˆ†ï¼ˆæ‰©å±•åï¼‰é€šå¸¸ä¼šæ˜¾ç¤ºè¯¥æ–‡ä»¶çš„ é¢„æœŸç”¨é€”ã€‚ä¾‹å¦‚ï¼Œmydata.txt çš„æ‰©å±•å .txt æ„å‘³ç€è¯¥æ–‡ä»¶åº”è¢«ç”¨ä½œæ–‡æœ¬ï¼ˆå³å­—ç¬¦ï¼‰çš„é›†åˆï¼Œprogram.exe æ‰©å±•å .exe å°±æ ‡è¯†ç€è¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ª â€œå¯æ‰§è¡Œæ–‡ä»¶â€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç¨‹åºï¼Œåœ¨ Windows ä¸­å¯ä»¥ç›´æ¥è¿è¡Œã€‚ å½“æ–‡ä»¶ä»¥éé¢„æœŸç”¨é€”ä½¿ç”¨æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°è¯•åœ¨ â€œ.EXEâ€ æ–‡ä»¶ä¸Šä½¿ç”¨æ–‡å­—å¤„ç†å™¨ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ è¿™å½“ç„¶ä¼šå‡ºç°é—®é¢˜ã€‚å› ä¸º .exe æ–‡ä»¶ä¸­åŒ…å«çš„ä¿¡æ¯ä½¿ç”¨çš„æ˜¯æ–‡å­—å¤„ç†å™¨æ— æ³•ç†è§£çš„ä½æ¨¡å¼è¡¨ç¤ºã€‚ å°±åƒé‡åˆ°æŸäººè¯´æ‚¨ä¸æ‡‚çš„è¯­è¨€ä¸€æ ·ã€‚ä»–ä»¬å‘å‡ºçš„å£°éŸ³ä¸æ‚¨ç›¸åŒï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼‰ï¼Œä½†æ˜¯å®ƒä»¬å‘å‡ºçš„å£°éŸ³ï¼ˆå•è¯å’Œå¥å­ï¼‰çš„æ¨¡å¼ä¸åŒã€‚ è½¯ä»¶ å›¾ç‰‡æ¥æºï¼šhttps://www.aqniu.com/learn/48019.html è®¡ç®—æœºè½¯ä»¶ç”± ç¨‹åº å’Œ æ•°æ® ç»„æˆçš„ã€‚ ç¨‹åº åŒ…å«ç”¨äºå¤„ç†å™¨ï¼ˆCPUï¼‰çš„æŒ‡ä»¤ã€‚æ•°æ® å¯ä»¥æ˜¯ç¨‹åºéœ€è¦çš„ä»»ä½•ä¿¡æ¯ï¼šå­—ç¬¦æ•°æ®ï¼Œæ•°å­—æ•°æ®ï¼Œå›¾åƒæ•°æ®ï¼ŒéŸ³é¢‘æ•°æ®å’Œæ— æ•°å…¶ä»–ç±»å‹ã€‚ä½†æ˜¯ï¼Œç¨‹åºå’Œæ•°æ®ä¹‹é—´çš„åŒºåˆ«å¹¶ä¸åƒæ‚¨æƒ³è±¡çš„é‚£ä¹ˆæ¸…æ™°ã€‚ è®°ä½è¿™ä¸ªé‡è¦çš„åŸºæœ¬æ€æƒ³ï¼š ç¨‹åºå’Œæ•°æ®éƒ½ä»¥ç›¸åŒçš„æ–¹å¼è¢«ä¿å­˜åœ¨è®¡ç®—æœºå­˜å‚¨å™¨ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å­˜å‚¨å™¨ä¸­ï¼ˆä¸»å­˜å‚¨å™¨å’Œè¾…åŠ©å­˜å‚¨å™¨ï¼‰ï¼Œç¨‹åºå’Œæ•°æ®å¹¶æ— ä»»ä½•åŒºåˆ«ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šè¿™å°±åƒä½ å†™æˆ–è€…ç”»ä¸œè¥¿åœ¨çº¸ä¸Šä¸€æ ·ï¼Œå¯¹äºçº¸æ¥è¯´ï¼Œå¹¶æ— ä»€ä¹ˆç‰¹åˆ«çš„åŒºåˆ†ã€‚ å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç”µå­çš„å­˜å‚¨æ–¹å¼æ¥ä¿å­˜æ•°æ®å’Œç¨‹åºå¯¹äºè®¡ç®—æœºç§‘å­¦æ¥è¯´æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œè¿™æ„å‘³ç€è®¡ç®—æœºç³»ç»Ÿæä¾›å¯ä»¥æ ¹æ®éœ€æ±‚æ¥å°†å†…å­˜ç”¨äºç¨‹åºæˆ–æ•°æ®ã€‚ ç¨‹åºç±»å‹æœ‰ä¸¤ç±»ç¨‹åºï¼šåº”ç”¨ç¨‹åºã€ç³»ç»Ÿç¨‹åºã€‚ åº”ç”¨ç¨‹åº æ˜¯äººä»¬ç”¨æ¥å®Œæˆå·¥ä½œçš„ç¨‹åºã€‚ç³»ç»Ÿç¨‹åº ç”¨æ¥ä½¿ç¡¬ä»¶å’Œè½¯ä»¶å¹³ç¨³è¿è¡Œã€‚ é‡è¦çš„ç³»ç»Ÿç¨‹åºæ˜¯æ“ä½œç³»ç»Ÿã€‚å½“è®¡ç®—æœºè¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿå§‹ç»ˆå­˜åœ¨ã€‚å®ƒåè°ƒè®¡ç®—æœºç³»ç»Ÿå…¶ä»–ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶çš„æ“ä½œã€‚æ“ä½œç³»ç»Ÿè´Ÿè´£å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿è¡Œå®ƒä»¬å¹¶ç®¡ç†å®ƒä»¬æ‰€éœ€çš„èµ„æºã€‚å½“åº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ä¸ºå…¶ç®¡ç†ç¡¬ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨åœ¨é”®ç›˜ä¸Šé”®å…¥å­—ç¬¦æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ç¡®å®šå®ƒä»¬æ‰“ç®—ç”¨äºå“ªä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶å®Œæˆå°†å…¶æ”¾ç½®åœ¨é‚£é‡Œçš„å·¥ä½œã€‚ ä¸€äº› ã€ŒåµŒå…¥å¼ç³»ç»Ÿã€ ä¸ä½¿ç”¨æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ç›´æ¥åœ¨å¤„ç†å™¨ä¸Šè¿è¡Œå…¶ç¨‹åºã€‚ä¾‹å¦‚ï¼šäº¤é€šç¯ã€å¾®æ³¢ç‚‰ã€æ´—è¡£æœºç­‰ç­‰ã€‚ ç”¨äºå°å¼è®¡ç®—æœºçš„ç°ä»£æ“ä½œç³»ç»Ÿå‡ ä¹éƒ½å¸¦æœ‰ç”¨æˆ·ç•Œé¢ï¼Œè¯¥ç•Œé¢ä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨çª—å£ï¼ŒæŒ‰é’®ï¼Œèœå•ï¼Œå›¾æ ‡ï¼Œé¼ æ ‡å’Œé”®ç›˜è½»æ¾åœ°ä¸åº”ç”¨ç¨‹åºï¼ˆä»¥åŠä¸æ“ä½œç³»ç»Ÿæœ¬èº«ï¼‰è¿›è¡Œäº¤äº’ã€‚ä¾‹å¦‚ï¼šUnixï¼ŒLinuxï¼ŒAndroidï¼ŒMac OS å’Œ Windowsã€‚ æ“ä½œç³»ç»Ÿæ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤æ‚çš„ç¨‹åºï¼Œå¯ä»¥ä½¿è®¡ç®—æœºç³»ç»Ÿçš„ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶ä¿æŒåè°ƒå’Œè¿è¡Œã€‚å°±åƒä¸€å®¶å°å•†åº—çš„æ‰€æœ‰è€…ä¸€æ ·ï¼Œä»–é€šè¿‡æ‹œè®¿å®¢æˆ·ï¼Œæ¥å—é€è´§ï¼Œåœ¨æ¶å­ä¸Šå‚¨è´§ï¼Œè¿›è¡Œç°¿è®°ç­‰æ¥ä¿æŒä¸€åˆ‡äº•äº•æœ‰æ¡ã€‚åº—ä¸»å¿…é¡»åŠæ—¶å¤„ç†å‡ºç°çš„ä»»åŠ¡ã€‚æ²¡æœ‰åº—ä¸»ï¼Œå•†åº—å°±æ— æ³•è¿è½¬ã€‚ å¤§å¤šæ•°è®¡ç®—æœºç³»ç»Ÿéƒ½å¯ä»¥è¿è¡Œå¤šç§æ“ä½œç³»ç»Ÿä¸­çš„ä»»ä½•ä¸€ç§ã€‚ä¾‹å¦‚ï¼Œå¤§å¤šæ•°åŸºäºå¥”è…¾çš„è®¡ç®—æœºéƒ½å¯ä»¥è¿è¡Œ Linux æˆ– Windows æ“ä½œç³»ç»Ÿã€‚å°½ç®¡æŸäº›è®¡ç®—æœºæœ‰å¤šä¸ªæ“ä½œç³»ç»Ÿï¼Œä½†é€šå¸¸åœ¨ä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿä¸Šä»…å®‰è£…ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚æ— è®ºå¦‚ä½•ï¼Œä¸€æ¬¡åªèƒ½æ§åˆ¶ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚è®¡ç®—æœºç”¨æˆ·å¯ä»¥åœ¨è®¡ç®—æœºæ‰“å¼€æ—¶è¿›è¡Œé€‰æ‹©ï¼Œå¹¶ä¸”æ“ä½œç³»ç»Ÿå°†ä¸€ç›´å¤„äºæ§åˆ¶çŠ¶æ€ï¼Œç›´åˆ°è®¡ç®—æœºå…³é—­ä¸ºæ­¢ã€‚ é¦–æ¬¡å¯åŠ¨è®¡ç®—æœºæ—¶ï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨åŠ è½½æ“ä½œç³»ç»Ÿå¹¶å¼€å§‹è¿è¡Œã€‚æ­¤è¿‡ç¨‹ç§°ä¸º å¯åŠ¨ã€‚ä¹‹æ‰€ä»¥è¯´è¿™æ˜¯ä¸ªå¥‡æ€ªçš„æœ¯è¯­ï¼Œæ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿæœ¬èº«å‚ä¸äº†å…¶è‡ªèº«çš„è¿è¡Œï¼Œè¿™ä¸€è¿‡ç¨‹å°±åƒæŸäºº â€œè‡ªå·±æ‹‰è‡ªå·±ä¸€æŠŠâ€ ä¸€æ ·ã€‚æ“ä½œç³»ç»Ÿè¿è¡Œåï¼Œå°†ç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åºã€‚ ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶çš„åœºæ™¯ ç”¨æˆ·è¦æ±‚è¿è¡Œåº”ç”¨ç¨‹åºã€‚ é€šè¿‡å•å‡»å›¾æ ‡ï¼Œé€‰æ‹©èœå•æˆ–é€šè¿‡å…¶ä»–æ–¹å¼å¯ä»¥å®Œæˆæ­¤æ“ä½œã€‚ æ“ä½œç³»ç»Ÿç¡®å®šåº”ç”¨ç¨‹åºçš„åç§°ã€‚ æ“ä½œç³»ç»Ÿåœ¨å­˜å‚¨åº”ç”¨ç¨‹åºåŠå…¶å­˜å‚¨æ•°æ®çš„ç¡¬ç›˜ä¸Šæ‰¾åˆ°æ–‡ä»¶ã€‚ æ“ä½œç³»ç»Ÿå‘ç°ä¸»å†…å­˜çš„æœªä½¿ç”¨éƒ¨åˆ†è¶³ä»¥å®¹çº³åº”ç”¨ç¨‹åºã€‚ æ“ä½œç³»ç»Ÿåœ¨ä¸»å†…å­˜çš„è¯¥éƒ¨åˆ†ä¸­å¤åˆ¶åº”ç”¨ç¨‹åºåŠå…¶æ•°æ®ã€‚ ç¡¬ç›˜ä¸Šçš„è½¯ä»¶æœªæ›´æ”¹ï¼›ä¸»å†…å­˜ä¿å­˜ç£ç›˜ä¸Šçš„å†…å®¹çš„å‰¯æœ¬ã€‚ æ“ä½œç³»ç»Ÿä¸ºåº”ç”¨ç¨‹åºç”³è¯·èµ„æºã€‚ æœ€åï¼Œæ“ä½œç³»ç»Ÿå¯åŠ¨åº”ç”¨ç¨‹åºè¿è¡Œã€‚ æ€»ç»“ï¼š åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿåœ¨åå°ç®¡ç†èµ„æºï¼Œä¸ºåº”ç”¨ç¨‹åºè¿›è¡Œè¾“å…¥å’Œè¾“å‡ºï¼Œå¹¶ä½¿å…¶ä»–æ‰€æœ‰ç¨‹åºä¿æŒè¿è¡Œã€‚ Part 2. ç½‘ç»œï¼ˆNetworkï¼‰ å›¾ç‰‡æ¥æºï¼šhttps://www.aqniu.com/learn/27008.html ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œç”±è¿æ¥çš„ä¸¤å°æˆ–æ›´å¤šå°è®¡ç®—æœºç»„æˆï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥äº¤æ¢æ•°æ®å’Œç¨‹åºã€‚å½“è®¡ç®—æœºæ˜¯ç½‘ç»œçš„æˆå‘˜æ—¶ï¼Œå®ƒè¿è¡Œçš„ç¨‹åºå’Œä½¿ç”¨çš„æ•°æ®å¯ä»¥ä½äºç½‘ç»œä¸Šå…¶ä»–è®¡ç®—æœºçš„ç¡¬ç›˜ä¸Šã€‚ åœ¨å•†ä¸šå’Œå·¥ä¸šç¯å¢ƒä¸­ï¼Œå¤§å¤šæ•°è®¡ç®—æœºéƒ½åœ¨ç½‘ç»œä¸Šã€‚åœ¨è”ç½‘è®¡ç®—æœºä¸Šè¿è¡Œçš„æ“ä½œç³»ç»Ÿå¿…é¡»ç®¡ç†å…¶åˆ†äº«çš„ç½‘ç»œèµ„æºï¼ˆä»¥åŠç®¡ç†å…¶æ‰€æœ‰å…¶ä»–èŒè´£ï¼‰ã€‚æ“ä½œç³»ç»Ÿèƒ½å¤Ÿæ‰¾åˆ°å­˜å‚¨åœ¨å…¶ä»–ç½‘ç»œè®¡ç®—æœºä¸Šçš„ç¨‹åºå’Œæ•°æ®ï¼Œå¹¶å°†å®ƒä»¬å¤åˆ¶åˆ°å…¶è‡ªå·±çš„ä¸»å†…å­˜ä¸­ã€‚ ç½‘ç»œä¸­çš„æ¯å°è®¡ç®—æœºéƒ½æœ‰ä¸€ä¸ªç½‘ç»œæ¥å£å¡ã€‚è¿™æ˜¯ä¸€ç§é€šè¿‡ç”µç¼†å‘é€å’Œæ¥æ”¶æ•°æ®çš„è¾“å…¥/è¾“å‡ºè®¾å¤‡ã€‚ç½‘ç»œä¸Šè®¡ç®—æœºçš„ç½‘ç»œæ¥å£å¡é€šè¿‡ç”µç¼†è¿æ¥åœ¨ä¸€èµ·ã€‚ å±€åŸŸç½‘å±€åŸŸç½‘ï¼ˆLANï¼‰æ˜¯å±€é™äºç›¸å¯¹è¾ƒå°åŒºåŸŸçš„ç½‘ç»œã€‚å®ƒé€šå¸¸å±€é™äºåœ°ç†åŒºåŸŸï¼Œä¾‹å¦‚å†™ä½œå®éªŒå®¤ï¼Œå­¦æ ¡æˆ–å»ºç­‘ç‰©ã€‚ æ¯å°è®¡ç®—æœºéƒ½æœ‰ä¸€ä¸ªå…¶ä»–è®¡ç®—æœºç”¨æ¥è®¿é—®å®ƒçš„ç½‘ç»œåœ°å€ã€‚é€šå¸¸ï¼Œè®¡ç®—æœºå…±äº«ä¸€å°æ‰“å°æœºã€‚å±€åŸŸç½‘ä¸­ä¹Ÿå¯èƒ½æœ‰ä¸€å°åŠŸèƒ½ç‰¹åˆ«å¼ºå¤§çš„è®¡ç®—æœºï¼Œç§°ä¸ºã€ŒæœåŠ¡å™¨ã€ï¼Œå…¶ç¡¬ç›˜ä¸Šè£…æœ‰å…¶ä»–è®¡ç®—æœºå¯èƒ½éœ€è¦çš„åº”ç”¨ç¨‹åºå’Œæ•°æ®ã€‚ å¹¿åŸŸç½‘å¹¿åŸŸç½‘ï¼ˆWANï¼‰è¿æ¥è¾ƒå¤§åœ°ç†åŒºåŸŸçš„ç½‘ç»œï¼Œä¾‹å¦‚å››å·åˆ°åŒ—äº¬æˆ–ä¸–ç•Œå„åœ°ã€‚ä¸“ç”¨çš„è¶Šæ´‹ç”µç¼†æˆ–å«æ˜Ÿä¸Šè¡Œé“¾è·¯å¯ç”¨äºè¿æ¥è¿™ç§ç±»å‹çš„å…¨çƒç½‘ç»œã€‚ å¹¿åŸŸç½‘ä½¿ç”¨å„ç§ç‰¹æ®Šçš„ç¡¬ä»¶æ¥ç®¡ç†æ•°æ®æµã€‚å½“ä¸¤å°è®¡ç®—æœºå…±äº«æ•°æ®æ—¶ï¼Œè¿™äº›ç¡¬ä»¶ä½¿ä¸¤å°è®¡ç®—æœºç›´æ¥è¿æ¥åœ¨ä¸€èµ·ã€‚å®é™…ä¸Šï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´å¯èƒ½æœ‰æ•°åä¸ªç½‘ç»œè®¾å¤‡ã€‚ä½†å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œä½¿ç”¨ WAN å’Œ LAN å¹¶æ— å·®åˆ«ã€‚ æ‰€æœ‰è¿™äº›è®¾å¤‡éƒ½ ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•æ¥å¤„ç†æ•°æ®ã€‚æ²¡æœ‰é€šç”¨çš„æ•°æ®å¤„ç†æ–¹æ³•ï¼Œå¤§å‹ç½‘ç»œå°†å˜å¾—æ¯«æ— å¸Œæœ›ã€‚å…³äºå¦‚ä½•é€šè¿‡ç½‘ç»œè¡¨ç¤ºå’Œä¼ è¾“æ•°æ®çš„åè®®ç§°ä¸º ã€Œåè®®ã€ã€‚é€šå¸¸ï¼Œå¤§å‹ç½‘ç»œä½¿ç”¨ç§°ä¸º TCP / IP çš„åè®®ï¼ˆç”¨äºä¼ è¾“æ§åˆ¶åè®®/ Internetåè®®ï¼‰ã€‚ äº’è”ç½‘ï¼ˆInternetï¼‰äº’è”ç½‘åŒ…å«æ‰€æœ‰è¿æ¥åœ¨ä¸€èµ·çš„è®¡ç®—æœºçš„ä¸€ä¸ªåºå¤§çš„å…¨çƒç½‘ç»œã€‚åœ¨è¿™ä¸ªåºå¤§çš„ç½‘ç»œä¸Šï¼Œæ¯å°è®¡ç®—æœº å¿…é¡»å…·æœ‰ å”¯ä¸€çš„ç½‘ç»œåœ°å€ï¼ˆç§°ä¸º IP åœ°å€ï¼‰ï¼Œå°±åƒä¸–ç•Œä¸Šçš„æ¯éƒ¨ç”µè¯éƒ½å…·æœ‰å”¯ä¸€çš„ç”µè¯å·ç ï¼ˆåŒ…æ‹¬å›½å®¶/åœ°åŒºä»£ç å’ŒåŒºå·ï¼‰ä¸€æ ·ã€‚ ä¾‹å¦‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ IP åœ°å€ï¼š149.152.21.203ï¼ŒIP åœ°å€å®é™…ä¸Šæ˜¯ 32 ä½äºŒè¿›åˆ¶æ•°ã€‚è”ç½‘è®¾å¤‡ä½¿ç”¨è¿™äº›åœ°å€åœ¨ç½‘ç»œä¸Šè·¯ç”±ä¿¡æ¯ã€‚ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†ä½¿ç”¨åè¿›åˆ¶æ•°å­—å†™å…¥è¿™äº›ä½çš„æ ‡å‡†æ–¹æ³•ï¼ˆæ¯ 8 ä½è½¬æ¢æˆåè¿›åˆ¶å¹¶ä½¿ç”¨ . éš”å¼€ï¼‰ã€‚ ä½†æ˜¯ï¼Œå³ä½¿ä»¥åè¿›åˆ¶å½¢å¼ä¹¦å†™ï¼Œè¯¥åœ°å€ä¹Ÿæ— æ³•è¢«äººç±»è¯†åˆ«ã€‚ä¸‡ç»´ç½‘çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯å®ƒå…è®¸äººç±»ä½¿ç”¨ è®¡ç®—æœºåç§°è€Œä¸æ˜¯æ•°å­—ã€‚ä¾‹å¦‚ï¼šè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„è®¡ç®—æœºåç§°ï¼šwmyskxz.comã€‚è¿™å°±è¦å®¹æ˜“è®°ä½çš„å¤šï¼Œåœ¨ Web æµè§ˆå™¨ä¸­ä½¿ç”¨å®ƒæ—¶ï¼Œå®ƒå°†è‡ªåŠ¨è½¬æ¢ä¸ºè®¡ç®—æœº IP åœ°å€çš„ 32 ä¸ªäºŒè¿›åˆ¶æ•°å­—ã€‚ å…¨çƒèµ„è®¯ç½‘ï¼ˆWorld Wide Webï¼‰è¿˜è®°å¾—æˆ‘ä»¬ä¸Šé¢æåˆ°çš„ é‡è¦æ€æƒ³ å—ï¼šç¨‹åºå’Œæ•°æ®éƒ½ä»¥ ç›¸åŒçš„æ–¹å¼ ä¿å­˜åœ¨è®¡ç®—æœºå†…å­˜ä¸­ã€‚è®¡ç®—æœºå­˜å‚¨å™¨ï¼ˆä¸»å­˜å‚¨å™¨å’Œè¾…åŠ©å­˜å‚¨å™¨ï¼‰åœ¨å­˜å‚¨ç¨‹åºå’Œæ•°æ®æ—¶æ²¡æœ‰åŒºåˆ«ã€‚ é€šä¿¡è®¾å¤‡ä¹Ÿä¸åŒºåˆ†ç¨‹åºå’Œæ•°æ®ã€‚å°±å…¶è€Œè¨€ï¼Œå®ƒå°±æ˜¯æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”æ‰€æœ‰ä¿¡æ¯éƒ½ä»¥ç›¸åŒçš„æ–¹å¼ä¼ è¾“ã€‚äº’è”ç½‘å°±åƒæ˜¯å…¨çƒåŒ…è£¹é€’é€æœåŠ¡ã€‚å®ƒå…³å¿ƒçš„æ˜¯å°†åŒ…è£¹ä»ä¸€ä¸ªåœ°å€ç§»åˆ°å¦ä¸€ä¸ªåœ°å€ï¼Œè€Œä¸ç”¨æ‹…å¿ƒåŒ…è£¹ä¸­çš„å†…å®¹ã€‚ äº’è”ç½‘æä¾›ç¡¬ä»¶åŸºç¡€ï¼Œè€Œä¿¡æ¯ä¼ è¾“åè®®æœåŠ¡äºä¸‡ç»´ç½‘ã€‚ ä¸ä»»ä½•æ•°æ®ä¸€æ ·ï¼Œç”¨äº Web çš„æ•°æ®ä¹Ÿé€šè¿‡ Internet ä¼ è¾“ã€‚ä½¿ Web æ•°æ®ä¸ä¼—ä¸åŒçš„åŸå› åœ¨äºï¼Œå®ƒæ˜¯é’ˆå¯¹ Web æµè§ˆå™¨ï¼ˆä¾‹å¦‚æ‚¨å¯èƒ½æ­£åœ¨ä½¿ç”¨çš„æµè§ˆå™¨ï¼‰è€Œè®¾è®¡çš„ã€‚æµè§ˆå™¨æ˜¯ä¸€ç§ç¨‹åºï¼Œå¯ä»¥è¯»å–ç½‘é¡µå¹¶ä»¥ä¸€ç§æ ¼å¼æ­£ç¡®çš„æ–¹å¼æ˜¾ç¤ºå®ƒä»¬ã€‚ ç½‘é¡µæ˜¯ä¸€ç»„æ•°æ®ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³å¦‚ä½•åœ¨ç›‘è§†å™¨ä¸Šæ˜¾ç¤ºä¿¡æ¯çš„ä¿¡æ¯ã€‚ä½¿ç”¨ç§°ä¸º è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHTMLï¼‰ çš„è¯­è¨€æ¥æä¾›æ­¤ä¿¡æ¯ ã€‚å¦‚æœè¦æŸ¥çœ‹æè¿°æ­¤é¡µé¢çš„ HTMLï¼Œæ‚¨å¯ä»¥ç›´æ¥å³å‡»æ­£åœ¨æµè§ˆçš„ç½‘é¡µç„¶åä¼šçœ‹åˆ°ã€Œæ˜¾ç¤ºæºä»£ç ã€çš„é€‰é¡¹ã€‚ å‚è€ƒèµ„æ–™ Introduction to Computer Systems - http://programmedlessons.org/Java9/chap01/ch01_01.html How does the processor work - https://pmihaylov.com/how-does-the-processor-work/ How Computers Work: The CPU and Memory - https://homepage.cs.uri.edu/faculty/wolfe/book/Readings/Reading04.htm What Is CPU (Central Processing Unit) And How Itâ€™s Work? - https://www.deskdecode.com/what-is-cpu-central-processing-unit-and-how-its-work/ Computer Memory - http://programmedlessons.org/Java9/chap03/ch03_01.html è®¡ç®—æœºåŸç†-CPUåˆ°åº•æœ‰å¤šå¿«ï¼Ÿå†…å­˜ï¼šæ˜¯æˆ‘çš„250å€ - https://blog.csdn.net/pyf09/article/details/95256493 ç”µè„‘ç³»ç»Ÿ32ä½å’Œ64ä½çš„åŒºåˆ« - https://www.jianshu.com/p/d0e95bed5b60 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM","slug":"ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM","date":"2020-04-07T01:05:00.000Z","updated":"2020-08-16T07:50:03.246Z","comments":true,"path":"2020/04/07/morethanjava-ji-suan-ji-fa-zhan-shi-cong-zhi-bu-ji-dao-ibm/","link":"","permalink":"http://www.wmyskxz.com/2020/04/07/morethanjava-ji-suan-ji-fa-zhan-shi-cong-zhi-bu-ji-dao-ibm/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ ä¸€ã€ç»‡å¸ƒæœº | ä¸€åˆ‡çš„å¼€ç«¯å¦‚ä»Šä»£è¡¨æ™ºèƒ½ç°ä»£çš„è®¡ç®—æœºä¸è€å¼ç»‡å¸ƒæœºçš„è¡€ç¼˜å…³ç³»è¶…ä¹ä½ çš„æƒ³è±¡ã€‚æ— è®ºæ˜¯æ‘†åœ¨å†™å­—å°ä¸Šçš„ å°å¼æœºã€å¡åœ¨å£è¢‹é‡Œçš„ æŒä¸Šç”µè„‘ã€æŒ‚åœ¨è…°ä¸Šçš„ ç§»åŠ¨ç”µè¯ã€ä¹ƒè‡³ä½ å®¶ä¸­çš„å¾ˆå¤š å®¶ç”¨ç”µå™¨ï¼Œå…¶å®éƒ½æ˜¯ 1804 å¹´è¯ç”Ÿçš„ ä¸€å°ç»‡å¸ƒæœºçš„åä»£â€”â€”é›…å¡å°”ä¼ ç©ºçº¸å¸¦æèŠ±æœºã€‚ å›¾ç‰‡æºè‡ªï¼šhttp://blog.sciencenet.cn/blog-528739-903746.html ç»‡ç‰©ä¸ç»‡å¸ƒæœºå¸¸è§çš„ç»‡ç‰©å¸¸è§çš„ç»‡ç‰©æœ‰ ã€Œæœºç»‡ç‰©ã€ å’Œ ã€Œé’ˆç»‡ç‰©ã€ ä¸¤ç§ã€‚ æˆ‘ä»¬å¹³æ—¶æœ€ä¸ºç†Ÿæ‚‰çš„ ã€Œé’ˆç»‡ç‰©ã€ å€ŸåŠ©çš„å·¥å…·æ˜¯ â€œé’ˆâ€ï¼Œåˆ©ç”¨ç»‡é’ˆæŒ‰ç…§ä¸€å®šæ–¹å‘å¼¯æ›²æˆçº¿åœˆå½¢æ€ï¼Œç„¶åå†å°†çº¿åœˆç›¸äº’ä¸²å¥—è€Œå½¢æˆçš„ç»‡ç‰©ï¼Œå¯ä»¥æ¨ªå‘æˆ–è€…çºµå‘åœ°è¿›è¡Œï¼Œæ¨ªå‘ç¼–ç»‡ç§°ä¸ºçº¬ç¼–ç»‡ç‰©ï¼Œè€Œçºµå‘ç¼–ç»‡ç§°ä¸ºç»ç¼–ç»‡ç‰©ã€‚ è€Œ ã€Œæœºç»‡ç‰©ã€ ç”±ä¸¤æ¡æˆ–ä¸¤ç»„ä»¥ä¸Šçš„ç›¸äº’å‚ç›´çš„ä¸¤ä¸ªç³»ç»Ÿçº±çº¿æˆ–è€…ä¸çº¿ï¼Œåœ¨ ç»‡æœº ä¸ŠæŒ‰ç…§ä¸€å®šè§„å¾‹ç›¸äº’äº¤ç»‡è€Œå½¢æˆçš„ç»‡ç‰©å«æœºç»‡ç‰©ï¼Œçºµå‘çš„çº±çº¿ å« ç»çº±ï¼Œæ¨ªå‘çš„çº±çº¿ å« çº¬çº±ï¼ŒåŸºæœ¬ç»„ç»‡æœ‰å¹³çº¹ã€æ–œçº¹å’Œç¼çº¹ã€‚ ç»‡æœºæ˜¯å¦‚ä½•å·¥ä½œå’Œè¿­ä»£çš„ åœ¨ç»‡æœºä¸Šï¼Œç»çº±åœ¨ç»è½´ä¸Šé€æ ¹æ’åˆ—ï¼Œæ ¹æ®ç»‡ç‰©çº¹æ ·çš„è¦æ±‚ï¼Œéƒ¨åˆ†ç»çº±è¢«æŠ¬èµ·ï¼Œå¦ä¸€éƒ¨åˆ†ç»çº±åˆ™ä¿æŒä¸åŠ¨ å½¢æˆç»‡å£ï¼Œçº¬çº±ä»ç»‡å£ä¸­å¼•å…¥ï¼Œç»çº±æŠ¬èµ·çš„è§„å¾‹ä¸åŒä»¥åŠçº±çº¿é¢œè‰²çš„æ’åˆ—å˜åŒ–ï¼Œå°±ä¼šç»™ç»‡ç‰©å¸¦æ¥ä¸åŒçš„çº¹æ ·ï¼š å¯æ˜¯ï¼Œç»çº±æœ‰é‚£ä¹ˆå¤šï¼Œæ˜¯å¦‚ä½•æŒ‘é€‰å‡ºå¼•å…¥æ²¡æ ¹çº¬çº±æ—¶è¦æèµ·å“ªäº›ç»çº±çš„å‘¢ï¼Ÿ æœ€åŸå§‹çš„ç»‡æœºæ˜¯æ‰‹åŠ¨å®Œæˆçš„ï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.sohu.com/a/301616592_99894978 è€Œåˆ°äº†æˆ˜å›½æ—¶æœŸçš„ å¤šç»¼å¼æèŠ±ç»‡æœºï¼Œåˆ™å‘æ˜äº† ç»¼æ¡† æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼Œæ£•æ¡†çš„ä¸Šä¸‹æ¢é—´æœ‰å‚ç›´æ’åˆ—çš„ç»¼ä¸ï¼Œç»çº±ç©¿å…¥ç»¼ä¸ä¸­ï¼Œç»‡ç‰©çº¹æ ·çš„å˜åŒ–æœ‰ä¸€ä¸ªè§„å¾‹ï¼Œä¹Ÿå°±æ„å‘³ç€ç»çº±æ˜¯éšç€çº¬çº±çš„å¼•å…¥è¢« æœ‰è§„å¾‹çš„å¾ªç¯æèµ·ï¼Œå°† æèµ·è§„å¾‹ç›¸åŒçš„ç»çº± ç©¿å…¥ åŒä¸€ä¸ªç»¼æ¡†çš„ç»¼ä¸ ä¸­ï¼Œå½“ç»¼æ¡†è¢«æå‡æ—¶ï¼Œç©¿å…¥çš„æ‰€æœ‰ç»çº±éƒ½ä¼šè¢«åŒæ—¶æèµ·ï¼Œæ¯ä¸€ä¸ªç»¼æ¡†éƒ½æœ‰ä¸€ä¸ªè„šè¸æ¿ï¼Œè¸©ä¸‹è„šè¸æ¿åˆ™å¯é€šè¿‡æœºæ¢°è£…ç½®æ§åˆ¶å…¶æŠ¬å‡ï¼š ä¸è¿‡é‡‡ç”¨ç»¼æ¡†ä¹Ÿæœ‰ä¸€ä¸ªæ˜æ˜¾çš„é™åˆ¶ï¼Œé‚£å°±æ˜¯ æ— æ³•ç»‡å‡ºæ¯”è¾ƒå¤æ‚çš„çº¹æ ·ï¼Œå› ä¸ºçº¹æ ·å¤æ‚åˆ™ä»£è¡¨ç€éœ€è¦æ›´å¤šçš„ç»çº¬çº±ä»¥åŠç»çº±æå‡çš„è§„å¾‹æ›´å¤æ‚ï¼Œæ„å‘³ç€å¯èƒ½å¼•å…¥æˆç™¾ä¸Šåƒæ¬¡çº¬çº±æ‰èƒ½å®Œæˆä¸€ä¸ªå¾ªç¯ã€‚ å¦‚æœä»ç„¶é‡‡ç”¨ç»¼æ¡†æ§åˆ¶çº±çº¿æå‡ï¼Œåˆ™å¯èƒ½éœ€è¦æˆç™¾ä¸Šåƒä¸ªç»¼æ¡†ï¼Œè¿™åœ¨æœºæ¢°ä¸Šå®ç°æ˜¯éå¸¸å›°éš¾çš„ï¼Œå› æ­¤ä¾¿æœ‰äº† æŸç»¼æèŠ±ç»‡æœºã€‚ æŸç»¼æèŠ±ç»‡æœºæ²¡æœ‰ç»¼æ¡†ï¼Œè€Œæ˜¯è¢« è®¾è®¡æˆä¸¤å±‚ï¼Œæ¯ä¸€æ ¹ç»çº±ä¼šç©¿å…¥ç»¼ä¸ä¸­å®ç° å•ç‹¬çš„æ§åˆ¶ï¼Œä¸Šå±‚ çš„äººå°†éœ€è¦æèµ·çš„ç»çº±æèµ·ï¼Œè€Œ ä¸‹å±‚ çš„äººåˆ™å†ç»çº±æèµ·åé€šè¿‡æ¢­å­å°†çº¬çº±é€å…¥ç»‡å£ï¼Œå¹¶ç”¨æ‰“çº¬è£…ç½®å°†å¼•å…¥çš„çº¬çº±æ‰“ç‰¢ã€‚ ç„¶è€Œé€šå¸¸æ¥è¯´ï¼Œè¿™ç±»ç»‡æœºä¸Šä¼šæœ‰æˆåƒä¸Šä¸‡æ ¹çº¬çº±ï¼Œçº¹æ ·å¤æ‚ï¼Œäºæ˜¯èªæ˜çš„è€ç¥–å®—ä»¬å‘æ˜äº† èŠ±æœ¬ï¼š ç®€å•æ¥è¯´ï¼ŒèŠ±æœ¬å­˜å‚¨äº†çº¹æ ·ä¿¡æ¯ã€‚å›¾ä¸­èŠ±æœ¬çš„ç«–çº¿è¿æ¥ç©¿å…¥äº†ç»çº±çš„ç»¼ä¸ï¼Œæ¨ªçº¿å­˜å‚¨äº†æ¯ä¸€æ¬¡å¼•å…¥çº¬çº±æ—¶æèŠ±ä¿¡æ¯ï¼Œå½“ç«–çº¿è¶Šè¿‡æ¨ªçº¿è¦†ç›–åœ¨æ¨ªçº¿å‰æ–¹æ—¶ï¼Œè¡¨æ˜å¯¹åº”çš„ç»çº±è¦è¢«æèµ·ã€‚ å¦‚æœè¿˜æ˜¯æ²¡æœ‰ç†è§£åˆ°è¿™ä¸ªè¿‡ç¨‹çš„è¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒç¡¬æ ¸çš„è§†é¢‘ï¼Œæ•™ä½ å¦‚ä½•æ‰‹å·¥æ¥åˆ¶ä½œä¸€ä¸ªç®€æ˜“ç»‡å¸ƒæœºï¼šæˆ³è¿™é‡Œ â€œè¯†å­—â€çš„æœºå™¨ | é›…å¡å°”ç»‡æœºçš„è¯ç”Ÿä¸Šé¢è¯´åˆ°çš„æŸç»¼æèŠ±ç»‡æœºè™½ç„¶æ˜¯ä¸€å¤§è¿›æ­¥ï¼Œä½†å¯æƒ³è€ŒçŸ¥çš„æ˜¯ï¼Œå®ƒä»ç„¶æ•ˆç‡ç¼“æ…¢å¹¶ä¸”ç»‡å¸ƒå·¥äººçš„åŠ³åŠ¨é‡éå¸¸å¤§ï¼Œä¹Ÿéå¸¸è¾›è‹¦ã€‚è™½ç„¶èªæ˜çš„ç¥–å…ˆä»¬è¿›è¡Œäº†å¾ˆå¤šæœºæ¢°åŒ–çš„å°è¯•ï¼Œä½†ä»ç„¶æ²¡æœ‰å–å¾—è·¨è¶Šå¼çš„å‘å±•ã€‚ æ—¶é—´æ¥åˆ° 18 ä¸–çºªçš„æ¬§æ´²ã€‚æ¬§æ´²æ¸¸å†å’Œå­¦å¾’çš„ä¼ ç»Ÿï¼Œé€ å°±äº†è®¸å¤šåŸå¸‚ç‹¬ç‰¹çš„æ”¯æŸ±äº§ä¸šï¼Œä¾‹å¦‚å¨å°¼æ–¯çš„ç»ç’ƒä¸šå’Œæ³•å›½é‡Œæ˜‚çš„ ä¸ç»‡ä¸šã€‚1725 å¹´ï¼Œé‡Œæ˜‚çš„ç»‡åŒ  å¸ƒä¹” (B.Bouchon) åšå‡ºäº†å¼€æ‹“æ€§çš„å‘æ˜ï¼šä»–ç”¨ æ‰“å­”çº¸å¸¦ æ§åˆ¶ç»çº¿çš„æèµ·å’Œæ”¾ä¸‹ï¼Œä»è€Œè®©ç»‡å‡ºèŠ±æ ·æˆä¸ºäº†ä¸€ç§åŠè‡ªåŠ¨çš„å·¥ä½œã€‚ åšä¸ºä¸€ä¸ªä¹å™¨å·¥äººçš„å„¿å­ï¼Œå¸ƒä¹”æŠŠå®¶å­¦å’Œè‡ªå·±çš„å·¥ä½œç»“åˆå¾—å¾ˆå¥½ã€‚ç„¶è€Œï¼ŒæŸ”è½¯çš„æ‰“å­”çº¸å¸¦ä¸èƒ½ç»‡å‡ºå¤ªå®½çš„ç»‡ç‰©ï¼Œè¿™æ˜¯å®ƒçš„è‡´å‘½ä¼¤ä¹‹ä¸€ï¼›è€Œçº¸å¸¦ä¾ç„¶éœ€è¦æœ‰äººç…§çœ‹ï¼Œæ¯ç©¿è¿‡ä¸€æ¬¡çº¬çº¿ï¼Œçº¸å¸¦å°±éœ€è¦å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€‚å¸ƒä¹”æèŠ±æœºçš„æœ€å¤§è´¡çŒ®ï¼Œåœ¨äºå®ç°äº†èŠ±çº¹çš„äºŒè¿›åˆ¶å­˜å‚¨â€”â€”ä»¥æœºå™¨èƒ½å¤Ÿè¯†åˆ«çš„æ–¹å¼ã€‚å†å²ä¸Šç¬¬ä¸€æ¬¡ï¼Œæœºå™¨èƒ½å¤Ÿè¯»å‡ºå­˜å‚¨ä»‹è´¨ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”ç…§å…¶è¡Œäº‹ã€‚ åœ¨å¸ƒä¹”æå‡ºæ„æƒ³ 65 åçš„ 1790 å¹´ï¼Œçº¦ç‘Ÿå¤«Â·ç›ä¸½Â·é›…å¡å°” æ ¹æ®å‰äººçš„æˆæœè®¾è®¡äº†æ–°å¼ç»‡æœºï¼Œä¸è¿‡æ­£åœ¨æ­¤æ—¶ï¼Œè½°è½°çƒˆçƒˆçš„æ³•å›½å¤§é©å‘½çˆ†å‘äº†ï¼Œé›…å¡å°”ä¹Ÿåœä¸‹äº†æ‰‹ä¸­çš„å·¥ä½œï¼ŒæŠ•å…¥åˆ°äº†å®¶ä¹¡é‡Œæ˜‚çš„é‡Œæ˜‚ä¿å«æˆ˜ä¸­ï¼Œè¿™ä¸€æ‹–å°±æ‹–åˆ°äº† 1805 å¹´ï¼Œé›…å¡å°”ç»ˆäºç»„è£…å®Œæˆäº†é¦–å° è‡ªåŠ¨æèŠ±ç»‡æœºï¼š é›…å¡å°”å°† ç©¿å­”çº¸å¸¦ æ”¹è¿›ä¸º ç©¿å­”å¡ç‰‡ï¼Œæ ¹æ®çº¹æ ·å›¾æ¡ˆåœ¨å¡ç‰‡ä¸Šæ‰“å­”ï¼Œé€šè¿‡å­”çš„æœ‰æ—  å¸¦åŠ¨ä¸€ç³»åˆ—æœºæ¢°è¿åŠ¨è£…ç½®æ¥ æ§åˆ¶ç»çº±çš„æå‡ï¼Œä¸€å¼ å¡ç‰‡å¯¹åº”å¾ªç¯å†…ä¸€æ¬¡å¼•çº¬æ—¶ç»çº±æå‡çš„ä¿¡æ¯ï¼Œå¼•çº¬å®Œæˆåï¼Œå¯é€šè¿‡è„šè¸æ¿æ§åˆ¶å¡å­”å¡ç‰‡è½¬åŠ¨ï¼Œä¸‹ä¸€å¼ å¡ç‰‡ç¿»è½¬è‡³å·¥ä½œä½ç½®ä»¥æ§åˆ¶æ–°ä¸€æ¬¡å¼•çº¬çš„æèŠ±ï¼š é›…å¡å°”ç»‡æœºå¤§å¹…åº¦èŠ‚çœäº†æ—¶é—´å’Œå·¥ä½œé‡ (å…¨è‡ªåŠ¨ä¸”æ•ˆç‡æ˜¯ä¹‹å‰çš„äºŒåäº”å€)ï¼Œè€Œä¸”åªéœ€ä¸€ä½å·¥äººï¼Œå¾ˆå¿«å°±è¢«å¹¿æ³›ä½¿ç”¨åœ¨å·¥å‚ç”Ÿäº§ä¸­ï¼Œé›…å¡å°”ä¹Ÿè£è·äº†æ‹¿ç ´ä»‘æˆäºˆçš„è£èª‰å‹‹ç« ã€‚ç„¶è€Œï¼Œè¿æ¥è¿™ä½å‘æ˜å®¶çš„ï¼Œå´æ˜¯å¤±ä¸šçš„çººç»‡å·¥äººè¿é¢æ‰”æ¥çš„çŸ³å¤´ã€‚æœ€ç»ˆå¯¼è‡´é›…å¡å°”å®¢æ­»å¼‚ä¹¡ã€‚ é›…å¡å°” = è´¾å¡ã€‚ç¬”è€…åœ¨å†™æ–‡çš„æ—¶å€™ï¼Œå‘ç°ä¸åŒçš„èµ„æ–™æ–‡çŒ®ä¸­å¯¹äºè¯¥ç»‡æœºä½œè€…çš„ç¿»è¯‘ä¼šæœ‰åå·®ï¼Œæœ‰çš„å« é›…å¡å°”ç»‡æœºï¼Œæœ‰çš„å« è´¾å¡ç»‡æœºï¼Œä½†éƒ½æ˜¯åŒä¸€ä¸ªäººå•¦.. äºŒã€å·®åˆ†æœº | ç¨‹åºè®¾è®¡æ€æƒ³å¼€å§‹èŒèŠ½ç©¿å­”å¡ç‰‡æ§åˆ¶ç»‡ç‰©çº¹æ ·çš„è®¾è®¡æˆä¸ºäº†ç¨‹åºè®¾è®¡æ€æƒ³çš„èŒèŠ½ï¼Œä¸ºä¿¡æ¯æŠ€æœ¯çš„å‘å±•å¼€å±•äº†ä¸€æ¡æ–°çš„é“è·¯ã€‚ æ—¶é—´æ¥åˆ° 19 ä¸–çºªåˆï¼Œæ³•å›½äºº å·´è´å¥‡ (Chanles Badbbage) åœ¨è´¾å¡ç»‡æœºçš„å¯å‘ä¸‹ï¼Œè®¾è®¡å¹¶åˆ¶é€ äº† å·®åˆ†æœºã€‚ æ•…äº‹èƒŒæ™¯ ä»¥ä¸‹å†…å®¹å¤§éƒ¨åˆ†æ‘˜å½•è‡ªä¸‹æ–¹å¼•ç”¨èµ„æ–™ï¼šç°ä»£è®¡ç®—æœºçœŸæ­£çš„é¼»ç¥–â€”â€”è¶…è¶Šæ—¶ä»£çš„ä¼Ÿå¤§æ€æƒ³ 18 ä¸–çºªæœ«ï¼Œæ³•å›½æ”¿åºœåœ¨å¼€åˆ›ç±³åˆ¶ä¹‹åï¼Œå†³å®šåœ¨æ•°å­¦ä¸­ç»Ÿä¸€é‡‡ç”¨åè¿›åˆ¶ï¼Œç«Ÿå¥‡è‘©åœ°æƒ³æŠŠåŸæœ¬ 90 åº¦çš„ç›´è§’åˆ’åˆ†æˆ 100 åº¦ã€æŠŠåŸæœ¬ 60 ç§’çš„ 1 åˆ†é’Ÿåˆ’åˆ†æˆ 100 ç§’ï¼Œå°½ç®¡ä»ç°åœ¨çœ‹æ¥è¿™æ ·çš„æƒ³æ³•ç»é€¼æ˜¯ä¸€ç§å€’é€€ï¼Œä½†ä»–ä»¬åœ¨å½“æ—¶çœŸå°±å®æ–½äº†ã€‚è¿™ä¸€æ”¹åˆ¶å¸¦æ¥çš„ä¸å…‰æ˜¯äººä»¬åœ¨ä½¿ç”¨æ—¶ç›´è§‚ä¸Šçš„åˆ«æ‰­ï¼ŒåŸæœ¬åˆ¶ä½œå¥½çš„æ•°å­¦ç”¨è¡¨ ï¼ˆå¦‚ä¸‰è§’å‡½æ•°è¡¨ï¼‰ éƒ½éœ€è¦å…¨éƒ¨é‡åˆ¶ã€‚ æ³•å›½æ”¿åºœå°†è¿™é¡¹ä¸§å¿ƒç—…ç‹‚çš„å·¥ç¨‹äº¤ç»™äº† æ•°å­¦å®¶æ™®ç½—å°¼ ï¼ˆGaspard de Pronyï¼‰ï¼Œæ™®ç½—å°¼æ­£å¤´ç–¼ç€è¦å¦‚ä½•æ‰èƒ½å®Œæˆè¿™é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼Œçªç„¶æƒ³èµ·è‘—åç»æµå­¦å®¶ *äºšå½“Â·æ–¯å¯†** *ï¼ˆAdam Smithï¼‰ çš„é‚£æœ¬ã€Šå¯Œå›½è®ºã€‹ï¼Œä»–å†³å®šé‡‡ç”¨ä¹¦ä¸­æå‡ºçš„ åŠ³åŠ¨åˆ†å·¥ çš„åšæ³•ï¼Œå°†åˆ¶è¡¨çš„å·¥ä½œäººå‘˜åˆ†æˆä¸‰ç»„ï¼š ç¬¬ä¸€ç»„ ç”±äº”å…­åç‰›é€¼çš„æ•°å­¦å®¶ç»„æˆï¼Œä»–ä»¬è´Ÿè´£åˆ¶å®šè¿ç®—ä¸­æ‰€éœ€çš„å…¬å¼ï¼› ç¬¬äºŒç»„ ç”±ä¹åˆ°åä¸ªæ“…é•¿æ•°å­¦çš„äººç»„æˆï¼Œä»–ä»¬è´Ÿè´£è®¡ç®—å‡ºä¸€äº›å…³é”®æ•°æ®ï¼Œå¹¶æŠŠç¬¬ä¸€ç»„åˆ¶å®šå¥½çš„å…¬å¼è¿›è¡Œç®€åŒ–ï¼› ç¬¬ä¸‰ç»„ ç”±çº¦ä¸€ç™¾åè®¡ç®—äººå‘˜ç»„æˆï¼Œä»–ä»¬åˆ©ç”¨ç¬¬äºŒç»„æä¾›çš„å…³é”®æ•°æ®å’Œå…¬å¼ï¼Œåšæœ€ç®€å•çš„åŠ å‡æ“ä½œå°±èƒ½å¾—å‡ºæœ€ç»ˆç»“æœã€‚ ç¬¬ä¸‰ç»„çš„å·¥ä½œç®€å•åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Œå°±æ˜¯ä»–ä»¬ç”šè‡³éƒ½ä¸çŸ¥é“è‡ªå·±æ­£åœ¨ç®—ä»€ä¹ˆç©æ„å„¿ï¼Œäº‹å®ä¸Šä»–ä»¬çš„æ–‡åŒ–ç¨‹åº¦å¤§éƒ¨åˆ†éƒ½ä¸é«˜ï¼Œé‡Œå¤´å¥½å¤šéƒ½æ˜¯ç†å‘å¸ˆã€å¤±ä¸šäººå‘˜ä»€ä¹ˆçš„ã€‚å¯è§å³ä¾¿æ–‡ç›²éƒ½èƒ½å®Œæˆçš„è®¡ç®—ï¼Œåœ¨é‚£ä¸ªæ—¶ä»£è¿˜æ˜¯å¾—ä¾é äººåŠ›å»åšã€‚ è€Œä¸ºäº†ä¿è¯ç”¨è¡¨çš„æ­£ç¡®æ€§ï¼Œæ™®ç½—å°¼è¦æ±‚ æ¯ä¸ªæ•°è‡³å°‘ç®—ä¸¤éï¼Œå¹¶ä¸” è¦åœ¨æ³•å›½çš„ä¸åŒåœ°ç‚¹ç”¨ä¸åŒçš„æ–¹æ³•è®¡ç®—ã€‚è¿™é¡¹åŠ³æ°‘ä¼¤è´¢çš„å·¥ç¨‹æ•´æ•´è¿›è¡Œäº†åå¹´æ‰å®Œæˆï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œæœ€ç»ˆçš„è¡¨é‡Œä»ç„¶æœ‰é”™ã€‚è¯´åˆ°è¿™ä¸€ç‚¹ï¼Œå¯ä»¥è¯´ï¼Œé‚£ä¸ªæ—¶ä»£åŸºæœ¬æ²¡æœ‰ä¸€ç‰ˆæ•°å­¦ç”¨è¡¨æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œæœ‰äº›ç‰ˆæœ¬ç”šè‡³é”™è¯¯ç™¾å‡ºï¼Œè¦çŸ¥é“æ•°å­¦ç”¨è¡¨å‡ºé”™æœ‰æ—¶åæœä¼šå¾ˆä¸¥é‡ï¼Œæ¯”å¦‚èˆªæµ·è¡¨ä¸€å‡ºé”™å°±å¯èƒ½ç›´æ¥å¯¼è‡´èˆ¹æ¯äººäº¡ã€‚ å·´è´å¥‡ åœ¨äº†è§£åˆ°æ™®ç½—å°¼çš„äº‹è¿¹åæ³ªæµæ»¡é¢ï¼Œå†³å¿ƒè¦åšä¸€å¥—å®Œå…¨æ­£ç¡®çš„æ•°å­¦ç”¨è¡¨ï¼Œä¸ºè¾¾ç›®çš„ï¼Œä»–å°è¯•äº†å„ç§å‡å°‘é”™è¯¯çš„æ‰‹æ®µï¼Œæ¯”å¦‚è°ƒæ•´çº¸å¼ å’Œå¢¨æ°´çš„é¢œè‰²ä»¥æé«˜æ•°å­—çš„è¯†åˆ«åº¦ï¼Œç›´æ¥æ‹¿ç°æœ‰çš„å¤šä¸ªç‰ˆæœ¬çš„è¡¨è¿›è¡ŒèªŠæŠ„ã€æ¯”å¯¹ã€è®©ä¸åŒäººå‘˜åå¤æ ¡å¯¹ï¼Œåœ¨ 1827 å¹´å‡ºç‰ˆäº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œç»“æœé‡Œå¤´è¿˜æ˜¯æœ‰é”™ã€‚åªè¦æ˜¯äººä¸ºçš„å°±æ²¡æœ‰å®Œç¾çš„ï¼Œå·´è´å¥‡å½»åº•è·ªäº†ï¼Œä»–å‘èª“è¦é€ ä¸€å°æœºå™¨ï¼Œè®©æœºå™¨å»ç”Ÿäº§æ•°å­¦è¡¨ã€‚ è¿™å°±æ˜¯å²ä¸Šè‘—åçš„ å·®åˆ†æœº äº†ã€‚ é‡è¦çš„å·®åˆ†æ€æƒ³å…¶å®æ—©åœ¨å·´è´å¥‡å‡ºç”Ÿå‰ï¼Œæœ‰ä¸ªå« ç±³å‹’ ï¼ˆJohann Helfrich von MÃ¼llerï¼‰ çš„å¾·å›½å·¥ç¨‹å¸ˆå°±æå‡ºäº†å·®åˆ†æœºçš„æ€æƒ³ï¼Œä½†ä»…ä»…æ˜¯æäº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå…·ä½“è®¾è®¡å’Œåˆ¶é€ ï¼Œä»–æœ€ç»ˆè¿˜æ˜¯æŠŠç ”åˆ¶å·®åˆ†æœºçš„å†å²é‡ä»»è®©ç»™äº†å·´è´å¥‡ã€‚ ä¹‹æ‰€ä»¥å«å·®åˆ†æœºè¿™ä¸ªåå­—ï¼Œæ˜¯å› ä¸ºå®ƒè®¡ç®—æ‰€ä½¿ç”¨çš„æ˜¯å¸•æ–¯å¡åœ¨ 1654 å¹´æå‡ºçš„å·®åˆ†æ€æƒ³ï¼šn æ¬¡å¤šé¡¹å¼çš„ n æ¬¡æ•°å€¼å·®åˆ†ä¸ºåŒä¸€å¸¸æ•°ã€‚ä¸¾ä¸ªç®€å•ä¾‹å­å¥½äº†ï¼Œå¯¹äºå‡½æ•° F(x) = 12x + 12ï¼Œx å–è‡ªç„¶æ•°ï¼š å¯¹äºä¸€æ¬¡å¤šé¡¹å¼ï¼Œæ¯ä¸ªç›¸é‚»çš„ x æ‰€å¯¹åº”çš„ F(x) ä¹‹å·®éƒ½æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè¿™ä¸ªå¸¸æ•°å¾ˆæ˜æ˜¾å°±æ˜¯ x çš„ç³»æ•°ã€‚é‚£ä¹ˆäºŒæ¬¡å¤šé¡¹å¼å‘¢ï¼Ÿå¯¹äºå‡½æ•° F(x) = 15x2 + 12x + 12ï¼Œx å–è‡ªç„¶æ•°ï¼š å¯¹äºäºŒæ¬¡å¤šé¡¹å¼ï¼Œæ¯ä¸ªç›¸é‚»çš„ x æ‰€å¯¹åº”çš„ä¸€æ¬¡å·®åˆ†ä¹‹å·®ä»ç„¶éƒ½æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å‡ºè¿™ä¸€å¸¸æ•°çš„é€šç”¨å…¬å¼ï¼š åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œa = 15ï¼Œæ•…äºŒæ¬¡å·®åˆ†å¸¸æ•° 2a å³ä¸º 30ã€‚ å·®åˆ†è§„å¾‹æ˜¯ä¸€é¡¹ä¼Ÿå¤§çš„å‘ç°ï¼Œæœ‰äº†å·®åˆ†ï¼Œåœ¨è®¡ç®—å¤šé¡¹å¼æ—¶å°±å¯ä»¥ ç”¨åŠ æ³•æ›¿ä»£ä¹˜æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦ç®—å‡ºå‡ ä¸ªåˆå§‹å€¼ï¼Œåé¢å¯¹äºä»»æ„ x æ‰€å¯¹åº”çš„ F(x) å‡å¯ä»¥é€šè¿‡åŠ æ³•å¾—å‡ºï¼š å­¦è¿‡é«˜æ•°çš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œä¸€ä¸ªå‡½æ•°åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶çš„æƒ…å†µä¸‹å¯ä»¥ç”¨å¤šé¡¹å¼é€¼è¿‘ ï¼ˆå¹‚çº§æ•°å±•å¼€ï¼‰ï¼Œäºæ˜¯å¸¸ç”¨çš„ä¸‰è§’å‡½æ•°ã€å¯¹æ•°å‡½æ•°éƒ½å¯ä»¥é€šè¿‡å¤šé¡¹å¼æ¥è®¡ç®—çš„ï¼Œè€Œæœºæ¢°æ—¶æœŸçš„è®¡ç®—è®¾å¤‡æœ€æ“…é•¿çš„å°±æ˜¯åšåŠ æ³•ï¼Œæœ‰äº†å·®åˆ†æ€æƒ³ï¼Œå·´è´å¥‡çœ‹åˆ°å·®åˆ†æœºçš„å‰é€”ä¸€ç‰‡å…‰æ˜ã€‚ å®Œæˆä¸€åŠçš„å·®åˆ†æœºï¼ˆDifference Engineï¼‰ä» 1812 å¹´åˆ° 1822 å¹´ï¼Œå·´è´å¥‡å…‹æœé‡é‡å›°éš¾å®Œæˆäº†ä¸€å°å¯ä»¥è®¡ç®—å…­ä½æ•°äºŒæ¬¡å¤šé¡¹å¼çš„æ¨¡å‹æœºï¼Œä»–ç»™çš‡å®¶å­¦ä¼šçš„ä¸»å¸­å†™ä¿¡ï¼Œå¸Œæœ›æ”¿åºœå¯ä»¥å‡ºèµ„ï¼ŒèµåŠ©ä»–å»ºé€ çœŸæ­£å¯ç”¨çš„å¤§å‹å·®åˆ†æœºã€‚æ”¿åºœä¹Ÿè§‰å¾—è¿™äº‹å„¿å¾ˆæœ‰æ„ä¹‰ï¼Œå°¤å…¶å¯¹æµ·å†›å¾ˆæœ‰ä»·å€¼ï¼Œäºæ˜¯åœ¨ 1823 å¹´æ‹¨æ¬¾ 1500 è‹±é•‘ï¼Œå·´è´å¥‡å¦‚é±¼å¾—æ°´ï¼Œå·ç§°åªè¦ä¸¤ä¸‰å¹´æ—¶é—´å°±èƒ½å®Œå·¥ã€‚ è°çŸ¥å®è¡Œèµ·æ¥è¦æ¯”æƒ³è±¡ä¸­å›°éš¾å¾—å¤šï¼Œé‚£ä¸ªæ—¶ä»£çš„æœºæ¢°åˆ¶é€ æ°´å¹³å®åœ¨è½åï¼Œå·®åˆ†æœºæ˜¯ååˆ†ç²¾å¯†çš„ä»ªå™¨ï¼Œå·´è´å¥‡è·‘éäº†æ¬§æ´²éƒ½æ²¡æ‰¾åˆ°å¤šå°‘èƒ½ç”¨çš„é›¶ä»¶ï¼Œäºæ˜¯åœ¨åˆ¶é€ å·®åˆ†æœºä¹‹å‰ï¼Œä»–è¿˜è¦å…ˆæƒ³ç€æ€ä¹ˆåˆ¶é€ å„ç±»é›¶ä»¶ã€‚ åœ¨è‹±å›½å½“æ—¶ä¸€ä¸ªç‰›é€¼çš„æœºæ¢°å¸ˆ å…‹è±é—¨ç‰¹ ï¼ˆJoseph Clementï¼‰ çš„å¸®åŠ©ä¸‹ï¼Œä»–ä»¬çœŸçš„åœ¨æé«˜æœºæ¢°åˆ¶é€ æ–¹é¢ä¸‹è¶³äº†åŠŸå¤«ï¼Œä¸ä½†åšå‡ºäº†å·®åˆ†æœºèƒ½ç”¨çš„é›¶ä»¶ï¼Œè¿˜åŸ¹å…»å‡ºå¤§æ‰¹ä¼˜ç§€çš„æŠ€å¸ˆã€‚æœ¬æ¥è¿™ä¸¤äººå¼ºå¼ºè”åˆåŠ¿å¿…èƒ½æŠŠå·®åˆ†æœºåšå¥½ï¼Œä½†æ˜¯å·´è´å¥‡æ˜¯ä¸ªç²¾ç›Šæ±‚ç²¾çš„äººï¼Œç»å¸¸æ”¹åŠ¨è®¾è®¡æ–¹æ¡ˆï¼Œå¯¼è‡´å·¥ç¨‹æ—¶å¸¸è¦è¿”å·¥ï¼Œå·¥ä½œé‡å¤§å¤§å¢åŠ ï¼Œå¤–åŠ äº²äººçš„ç›¸ç»§å»ä¸–ï¼Œåæ¥åˆå’Œå…‹è±é—¨ç‰¹é—¹æ°ï¼Œåˆ°äº† 1833 å¹´ï¼Œåå¹´éƒ½è¿‡å»äº†ï¼Œå·´è´å¥‡åªåšå‡ºäº†æœºå™¨çš„ä¸€å°éƒ¨åˆ†ï¼Œå´å·²ç»èŠ±è´¹äº† 3 ä¸‡è‹±é•‘ ï¼ˆè¿œè¶…æœ€åˆé¢„ç®—ï¼‰ã€‚æ”¿åºœå¯¹å·´è´å¥‡å¤§å¤±æ‰€æœ›ï¼Œç»ˆäºåœ¨ 1842 å¹´æ­£å¼å®£å¸ƒä¸å†å‡ºèµ„ï¼Œåˆ°å¤´æ¥å·´è´å¥‡ç»™åä¸–ç•™ä¸‹çš„å°±åªæœ‰ä¸€ä¸ªåŠæˆå“ï¼Œä»¥åŠåœ¨ 1839 å¹´ä¿®è®¢å¥½çš„ä¸€å¤§å †è®¾è®¡å›¾çº¸ï¼Œç°å­˜äºä¼¦æ•¦ç§‘å­¦åšç‰©é¦†ã€‚ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå·´è´å¥‡åšä¸å‡ºå·®åˆ†æœºå®åœ¨ä¸æ˜¯å®¢è§‚åŸå› æ‰€è‡´ï¼Œä¸ä»–åŒæ—¶ä»£çš„ç‘å…¸äºº ä¹”æ²»Â·èˆ’èŒ¨ ï¼ˆPer Georg Scheutzï¼‰ å°±æ ¹æ®ä»–çš„è®¾è®¡åœ¨ 1843 å¹´åšå‡ºäº†åˆ‡å®èƒ½ç”¨çš„å·®åˆ†æœºï¼Œå·´è´å¥‡å€’æ˜¯æä¾›äº†ä¸å°‘æŒ‡å¯¼å’Œå¸®åŠ©ï¼Œä¹Ÿç®—æ˜¯äº†å´äº†è‡ªå·±ä¸€æ¡©å¿ƒæ„¿å§ã€‚ 150 å¹´åï¼Œä¸ºäº†çºªå¿µå·´è´å¥‡ 200 å¹´è¯è¾°ï¼Œä» 1989 åˆ° 1991 å¹´äººä»¬æ ¹æ®å·´è´å¥‡çš„è®¾è®¡å›¾çº¸å»ºé€ äº†ç¬¬ä¸€å°çœŸæ­£çš„å·´è´å¥‡å·®åˆ†æœºï¼Œæœºå™¨å®Œç¾è¿è¡Œï¼Œå·¥ç¨‹å¸ˆä»¬æƒŠå¥‡åœ°å‘ç°ï¼Œå·´è´å¥‡çš„å›¾çº¸é‡Œåªæœ‰æå°‘çš„é”™è¯¯ï¼Œè€Œä¸”è¿™äº›é”™è¯¯å…«æˆæ˜¯å½“æ—¶ä¸ºé˜²æ­¢å›¾çº¸è¢«ç›—ç”¨è€Œåˆ»æ„ä¸ºä¹‹çš„ã€‚è¿™å°å·®åˆ†æœºè¢«ä¿æŠ¤åœ¨ä¼¦æ•¦ç§‘å­¦åšç‰©é¦†çš„ç»ç’ƒæŸœé‡Œï¼Œåæ¥åˆé€ äº†ä¸€å°ï¼Œæ”¾åœ¨ç¾å›½ç¡…è°·çš„è®¡ç®—æœºå†å²åšç‰©é¦†ï¼Œæ¯å¤©ç”±å¯¼æ¸¸ç»™å‚è§‚è€…è®²è§£å’Œæ¼”ç¤ºï¼Œäººä»¬å¾—ä»¥è¿‘è·ç¦»è†œæ‹œã€‚ å·®åˆ†æœºçš„å·¥ä½œåŸç†ç®€æåœ¨å·´è´å¥‡ 1839 å¹´çš„è®¾è®¡ä¸­ï¼Œå·®åˆ†æœºå¯ä»¥æ”¯æŒä¸ƒæ¬¡å¤šé¡¹å¼çš„è®¡ç®—ã€‚ç”±äºæ¯æ¬¡å‚ä¸è®¡ç®—çš„éƒ½æ˜¯å‡½æ•°å€¼å’Œ 1~7 æ¬¡å·®åˆ†å€¼çš„æœ€æ–°å€¼ï¼Œäºæ˜¯ä»…éœ€å“åº”çš„ 8 ä¸ªè®¡æ•°å™¨ã€‚å·´è´å¥‡è®¾è®¡çš„è®¡ç®—å™¨ç”± 31 ä¸ªè®¡æ•°è½®å‚ç›´å åŠ è€Œæˆï¼Œå³æ”¯æŒ 31 ä½åè¿›åˆ¶æ•°ï¼š åŠ ä¸Šä¼ åŠ¨è£…ç½®å’Œè¿›ä½è£…ç½®ï¼Œå°±æˆäº†è¿™æ ·ä¸€å¹…ä¸§å¿ƒç—…ç‹‚çš„æ ·å­ï¼š å·´è´å¥‡ä½¿ç”¨æ¢¯å½¢çš„ä¼ åŠ¨è½®å®ç°ä¸¤ä¸ªè®¡æ•°è½®ä¹‹é—´çš„ç›¸åŠ ï¼Œç”±äºæœ‰æ¢¯å½¢é½¿ï¼Œä¼ åŠ¨è½®å¯ä»¥åŒæ—¶å¸¦åŠ¨ä¸¤ä¸ªè®¡æ•°è½®ï¼Œä¹Ÿå¯ä»¥åªå¸¦åŠ¨ä¸€ä¸ªã€‚äºæ˜¯åœ¨è¿›è¡Œä¸¤æ•°ç›¸åŠ æ—¶ï¼Œä¼ åŠ¨è½®å…ˆé¡ºæ—¶é’ˆæ—‹è½¬ï¼Œå°†å³ä¾§è®¡æ•°è½®ä¸Šçš„æ•°å­—åŠ åˆ°å·¦ä¾§è½®ä¸Šï¼Œè€Œåä¸Šå‡ä¸€æ®µè·ç¦»ï¼Œé€†æ—¶é’ˆæ—‹è½¬ç›¸åŒåº¦æ•°ï¼Œå°†å³ä¾§è®¡æ•°è½®çš„ç¤ºæ•°è¿˜åŸåˆ°åŸæ¥çš„ä½ç½®ã€‚ ä»”ç»†è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œè¿™ä¸¤ä¸ªè½®å­ä¸Šçš„æ•°å­—æ’åˆ—é¡ºåºæ˜¯ç›¸åçš„ã€‚åœ¨ä¸¤è½®ç›¸åŠ çš„è¿‡ç¨‹ä¸­ï¼Œå·¦ä¾§è½®ä½œä¸ºç´¯åŠ è½®æœæ•°å€¼å¢å¤§çš„æ–¹å‘æ—‹è½¬ï¼Œè€Œå³ä¾§è½®ä½œä¸ºåŠ æ•°è½®åˆ™æœæ•°å€¼å‡å°‘æ–¹å‘æ—‹è½¬ã€‚åœ¨å·´è´å¥‡æ”¹è¿›çš„å¹¶è¡Œå·®åˆ†ç®—æ³•ä¸­ï¼Œä¸¤ä¸ªæ­¥éª¤äº¤æ›¿è¿›è¡Œï¼ŒåŒä¸€ä¸ªè®¡æ•°è½®éœ€è¦äº¤æ›¿å……å½“ç´¯åŠ è½®å’ŒåŠ æ•°è½®çš„è§’è‰²ï¼Œäºæ˜¯å½“æœºå™¨è¿è¡Œèµ·æ¥ï¼Œè¿™äº›é½¿è½®éœ€è¦æ­£åæ–¹å‘äº¤æ›¿æ—‹è½¬ã€‚ å·®åˆ†æœºçš„è¿›ä½æœºæ„æ¯”è¾ƒå¤æ‚ï¼Œç®€å•åœ°è¯´ï¼Œæ¯ä¸ªè®¡æ•°è½®éƒ½æœ‰ä¸€ä¸ªé’ˆå¯¹é«˜ä½çš„ â€œè¿›ä½æç¤ºå™¨â€ï¼Œå½“è®¡æ•°è½®ä» 9 è½¬åˆ° 0ï¼Œå…¶å¯¹åº”çš„ â€œè¿›ä½æç¤ºå™¨â€ å°±è¢«æ‹¨åˆ° â€œéœ€è¦è¿›ä½â€ çš„çŠ¶æ€ï¼Œæ¯æ¬¡è®¡ç®—ï¼Œè®¡æ•°è½®éƒ½è¦è½¬åŠ¨ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æ¯ä½æ•°ç›¸åŠ ï¼Œç¬¬äºŒæ¬¡æ˜¯æŒ‰ç…§â€œè¿›ä½æç¤ºå™¨â€è¿›è¡Œè¿›ä½ã€‚æˆ‘ä»¬ç›´è§‚åœ°æ„Ÿå—ä¸€ä¸‹è¿ç»­è¿›ä½æ˜¯ä»€ä¹ˆæ ·å­ï¼š æœ€åæˆ‘ä»¬æ¥æ¬£èµä¸€ä¸‹å·®åˆ†æœºæ•´ä¸ªè¿è¡Œèµ·æ¥çš„æ ·å­ï¼š è¿˜æœ‰å¦å¤–ä¸€ä¸ªé€‚ç”¨ä¹é«˜è¿˜åŸçš„ç¡¬æ ¸ç‰ˆæœ¬ï¼š å¦‚æœå¯¹è¿™ä¸€éƒ¨åˆ†æ„Ÿå…´è¶£çš„ç«¥é‹è¯·è¿›ä¸€æ­¥é˜…è¯»åŸç‰ˆæ–‡ç« ï¼šç°ä»£è®¡ç®—æœºçœŸæ­£çš„é¼»ç¥–â€”â€”è¶…è¶Šæ—¶ä»£çš„ä¼Ÿå¤§æ€æƒ³ ä¸‰ã€åˆ†ææœº | ç¬¬ä¸€å°çœŸæ­£æ„ä¹‰ä¸Šçš„ Computerå°½ç®¡æ²¡èƒ½äº²æ‰‹å®ç°å·®åˆ†æœºï¼Œä½†å·´è´å¥‡å¹¶ä¸ä¼šæ°”é¦ï¼Œæˆ–è€…è¯´ä»–æœ¬æ¥å°±æ˜¯æ ¹æœ¬åœä¸ä¸‹æ¥çš„é‚£ç§äººã€‚æ˜çŸ¥å®ç°ä¸äº†ï¼Œå·´è´å¥‡ä»åœ¨ä¸€åˆ»ä¸åœåœ°æ”¹è¿›ç€è‡ªå·±çš„è®¾è®¡ï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œä»–æ„æ€å‡ºäº†ä¸€ç§ç©ºå‰çš„æœºå™¨â€”â€”åˆ†ææœºï¼Œæ­£å¼æˆä¸ºç°ä»£è®¡ç®—æœºå²ä¸Šçš„ç¬¬ä¸€ä½ä¼Ÿå¤§å…ˆé©±ã€‚ (Father of computing) 1834 å¹´ï¼Œåˆ†ææœºæ¦‚å¿µè¯ç”Ÿä¹‹é™…ï¼Œå·´è´å¥‡è‡ªå·±éƒ½ä¸ºä¹‹æ„Ÿåˆ°æ— æ¯”éœ‡æƒŠã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä»»ä½•ä¸€å°è®¡ç®—æœºå™¨éƒ½åªèƒ½å®Œæˆå…¶è¢«é¢„å®šèµ‹äºˆçš„è®¡ç®—ä»»åŠ¡ï¼Œè¦ä¹ˆæ˜¯ç®€å•çš„åŠ å‡ä¹˜é™¤ï¼Œè¦ä¹ˆåƒå·®åˆ†æœºé‚£æ ·åªèƒ½åšå·®åˆ†è¿ç®—ï¼Œå®ƒä»¬éƒ½å±äº calculatorï¼Œè€Œåˆ†ææœºæ‰æ˜¯çœŸæ­£çš„ computerï¼Œå®ƒä¸å±€é™äºç‰¹å®šåŠŸèƒ½ï¼Œè€Œç«Ÿç„¶æ˜¯å¯ç¼–ç¨‹çš„ï¼Œå¯ä»¥ç”¨æ¥ è®¡ç®—ä»»æ„å‡½æ•°â€”â€”ç°ä»£äººæ— è®ºå¦‚ä½•ä¹Ÿæ— æ³•æƒ³è±¡åœ¨ä¸€å¨é½¿è½®ä¸Šå†™ç¨‹åºæ˜¯æ€æ ·ä¸€ç§ä½“éªŒå§ï¼ å·´è´å¥‡è®¾è®¡çš„åˆ†ææœºä¸»è¦åŒ…æ‹¬ä¸‰å¤§éƒ¨åˆ†ï¼š ç”¨äºå­˜å‚¨æ•°æ®çš„è®¡æ•°è£…ç½®ï¼Œå·´è´å¥‡ç§°ä¹‹ä¸º â€œä»“åº“â€ï¼ˆstoreï¼‰ï¼Œç›¸å½“äºç°åœ¨ CPU ä¸­çš„å­˜å‚¨å™¨ï¼Œè¿™éƒ¨åˆ†æ˜¯ä»å·®åˆ†æœºä¸Šçš„è®¡æ•°è£…ç½®æ”¹è¿›è€Œæ¥çš„ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³è±¡å®ƒçš„æ¨¡æ ·ï¼› ä¸“é—¨è´Ÿè´£å››åˆ™è¿ç®—çš„è£…ç½®ï¼Œå·´è´å¥‡ç§°ä¹‹ä¸º â€œå·¥å‚â€ï¼ˆmillï¼‰ï¼Œç›¸å½“äºç°åœ¨ CPU ä¸­çš„è¿ç®—å™¨ï¼Œè¿™éƒ¨åˆ†çš„ç»“æ„ç›¸å¯¹å¤æ‚ï¼Œå·´è´å¥‡é’ˆå¯¹ä¹˜é™¤æ³•è¿˜åšäº†ä¸€äº›ä¼˜åŒ–ï¼› æ§åˆ¶æ“ä½œé¡ºåºã€é€‰æ‹©æ‰€éœ€å¤„ç†çš„æ•°æ®å’Œè¾“å‡ºç»“æœçš„è£…ç½®ï¼Œå·´è´å¥‡æ²¡æœ‰èµ·åå­—ï¼Œç”±äºå…¶å‘ˆæ¡¶çŠ¶ï¼Œæˆ‘ä»¬å¯ä»¥å«å®ƒ â€œæ§åˆ¶æ¡¶â€ï¼Œæ§åˆ¶æ¡¶æ˜¾ç„¶ç›¸å½“äºç°åœ¨ CPU ä¸­çš„æ§åˆ¶å™¨ã€‚ ä»¥ä¸Šä¸‰éƒ¨åˆ†ï¼ŒåŠ ä¸Šå·´è´å¥‡å¹¶æ²¡æœ‰ç–æ¼çš„è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼Œæˆ‘ä»¬æƒŠè®¶åœ°å‘ç°ï¼Œåˆ†ææœºçš„ç»„æˆéƒ¨åˆ†å’Œç°åœ¨å†¯Â·è¯ºä¾æ›¼æ¶æ„æ‰€è¦æ±‚çš„äº”å¤§éƒ¨ä»¶ä¸€æ¨¡ä¸€æ ·ï¼ å·´è´å¥‡å¦ä¸€å¤§äº†ä¸èµ·çš„åˆ›ä¸¾å°±æ˜¯å°† ç©¿å­”å¡ç‰‡ï¼ˆpunched cardï¼‰ å¼•å…¥äº†è®¡ç®—æœºå™¨é¢†åŸŸï¼Œç”¨äºæ§åˆ¶æ•°æ®è¾“å…¥å’Œè®¡ç®—ï¼Œä»é‚£æ—¶èµ·ï¼Œåˆ°ç¬¬ä¸€å°ç”µå­è®¡ç®—æœºè¯ç”Ÿä¸ºæ­¢ï¼ŒæœŸé—´å‡ ä¹æ‰€æœ‰çš„æ•°å­—è®¡ç®—æœºéƒ½ä½¿ç”¨äº†ç©¿å­”å¡ç‰‡ã€‚ å·´è´å¥‡åœ¨ä¸€æ¬¡å·´é»å±•è§ˆä¼šä¸Šçœ‹åˆ°äº†è´¾å¡çš„æèŠ±æœºï¼Œå¯¹å…¶å°è±¡ååˆ†æ·±åˆ»ï¼Œç”±äºä¸€ç›´åœ¨ç ”ç©¶è®¡ç®—æœºå™¨ï¼Œè‡ªç„¶æƒ³åˆ°å¯ä»¥æŠŠç©¿å­”å¡ç‰‡ä¹Ÿåº”ç”¨åˆ°åˆ†ææœºä¸Šã€‚äºæ˜¯åˆ†ææœºä¸­çš„è¾“å…¥æ•°æ®ã€å­˜å‚¨åœ°å€ã€è¿ç®—ç±»å‹éƒ½ä½¿ç”¨ç©¿å­”å¡ç‰‡æ¥è¡¨ç¤ºã€‚åœ¨æœºå™¨è¿è¡Œæ—¶ï¼Œå¡ç‰‡ä¸Šæœ‰å­”å’Œæ— å­”çš„åœ°æ–¹ä¼šå¯¼è‡´å¯¹åº”çš„é‡‘å±æ†æ‰§è¡Œä¸åŒæ“ä½œï¼Œå¯ç¼–ç¨‹æ€§ç”±æ­¤ä½“ç°ã€‚ä¸‹å›¾å¯ä»¥ç›´è§‚åœ°å±•ç°è¿™ä¸€åŸç†ï¼š æ•´ä¸ªåˆ†ææœºå°±æ˜¯åœ¨ç±»ä¼¼è¿™æ ·çš„é½¿è½®å’Œæ‹‰æ†ä½œç”¨ä¸‹å®ç°å¯ç¼–ç¨‹è¿ç®—çš„ï¼šå…ˆä»æ•°æ®å¡ç‰‡è¯»å…¥æ•°æ®åˆ°å­˜å‚¨å™¨ï¼Œå†å°†å­˜å‚¨å™¨ä¸­çš„æ•°æ®ä¼ è¾“åˆ°è¿ç®—å™¨ï¼Œè¿ç®—å™¨ç®—å®Œååˆå°†æ•°æ®ä¼ å›å­˜å‚¨å™¨ã€‚ å¯æƒœçš„æ˜¯ï¼Œå·´è´å¥‡ç©·å…¶ä¸€ç”Ÿä¹Ÿæ²¡èƒ½çœŸæ­£æŠŠåˆ†ææœºåšå‡ºæ¥ï¼Œç•™ç»™åä¸–çš„åˆæ˜¯ä¸€å°æ¨¡å‹æœºå’Œä¸¤åƒå¤šå¼ å›¾çº¸ï¼Œä»¥åŠè¿™æ ·ä¸€æ®µé—è¨€ï¼š å¦‚æœä¸€ä¸ªäººä¸å› æˆ‘ä¸€ç”Ÿçš„å€Ÿé‰´è€Œå´æ­¥ï¼Œä»ç„¶ä¸€å¾€ç›´å‰åˆ¶æˆä¸€å°æœ¬èº«å…·æœ‰å…¨éƒ¨æ•°å­¦åˆ†æèƒ½åŠ›çš„æœºå™¨â€¦â€¦é‚£ä¹ˆæˆ‘æ„¿å°†æˆ‘çš„å£°èª‰æ¯«ä¸åå•¬åœ°è®©ç»™ä»–ï¼Œå› ä¸ºåªæœ‰ä»–èƒ½å¤Ÿå®Œå…¨ç†è§£æˆ‘çš„ç§ç§åŠªåŠ›ä»¥åŠè¿™äº›åŠªåŠ›æ‰€å¾—æˆæœçš„çœŸæ­£ä»·å€¼ã€‚ å¯ä»¥è¯´ï¼Œå·´è´å¥‡ä¸€ç”Ÿçš„å¥‹æ–—éƒ½æ˜¯å­¤ç‹¬çš„ï¼Œåœ¨é‚£ä¸ªå¹´ä»£ï¼Œäººä»¬çœ‹ä¸åˆ°åˆ†ææœºçš„å·¨å¤§ä»·å€¼å’Œæ„ä¹‰ï¼Œæœ‰äº†å…ˆå‰å·®åˆ†æœºçš„å¤±è´¥ï¼Œæ”¿åºœä¹Ÿä¸å†æ„¿ç†ä¼šåˆ†ææœºçš„æƒ³æ³•ã€‚å·´è´å¥‡çš„æ€æƒ³è¶…å‰äº†æ•´æ•´ä¸€ä¸ªä¸–çºªï¼Œä½†åº†å¹¸çš„æ˜¯åœ¨æœ‰ç”Ÿä¹‹å¹´ï¼Œä¾ç„¶æœ‰ç€ä¸‰ä½éš¾èƒ½å¯è´µçš„æ”¯æŒè€…ï¼š é¦–å…ˆæ˜¯ä»–çš„å„¿å­ äº¨åˆ©Â·å·´è´å¥‡ ï¼ˆHenry Prevost Babbageï¼‰ï¼Œç›´åˆ°å·´è´å¥‡è¿‡ä¸–åï¼Œäº¨åˆ©ä¹Ÿç»§ç»­ç€åˆ†ææœºçš„å»ºé€ å·¥ä½œï¼Œä½†ç»ˆç©¶ä¹ŸåŠ›ä¸ä»å¿ƒæœªèƒ½å®Œæˆï¼› è€Œåæ˜¯åæ¥æˆä¸ºäº†æ„å¤§åˆ©æ€»ç†çš„æ•°å­¦å®¶ é—µé‚£å¸ƒåˆ© ï¼ˆLuigi Federico Menabreaï¼‰ï¼Œä»–åœ¨å·´è´å¥‡ 1840 å¹´æ¼”è®²æ—¶è¯¦ç»†è®°å½•ä¸‹äº†åˆ†ææœºçš„æ€æƒ³ï¼› æœ€åå°±æ˜¯è‘—åè¯—äººæ‹œä¼¦çš„å¥³å„¿ï¼Œå²ä¸Šå¤§åé¼é¼çš„ å¥³ç¨‹åºå‘˜è‰¾è¾¾ ï¼ˆAda Lovelaceï¼‰ï¼Œå¥¹å°†é—µé‚£å¸ƒåˆ©è®°å½•åˆ†ææœºçš„æ–‡ç« ç¿»è¯‘æˆè‹±æ–‡ï¼Œå·´è´å¥‡å»ºè®®å¥¹åœ¨ç¿»è¯‘æ—¶å¢æ·»ä¸€äº›è‡ªå·±çš„ç†è§£ï¼Œç»“æœè‰¾è¾¾æ³¨è§£çš„é•¿åº¦æ˜¯åŸæ–‡çš„ä¸¤å€ï¼Œå…¶ä¸­é’ˆå¯¹è®¡ç®—ä¼¯åŠªåˆ©æ•°çš„ç®—æ³•è¢«è§†ä¸ºå²ä¸Šç¬¬ä¸€ä¸ªè®¡ç®—æœºç¨‹åºï¼Œè¿™ç¯‡åä¸ºã€Šå…³äºå·´è´å¥‡å…ˆç”Ÿå‘æ˜çš„åˆ†ææœºç®€è®¯ã€‹çš„è¯‘æ–‡è¢«è§†ä¸ºç¨‹åºè®¾è®¡æ–¹é¢çš„ç¬¬ä¸€ç¯‡è‘—ä½œï¼Œè€Œ è‰¾è¾¾æœ¬äººåˆ™æˆäº†ä¸–ç•Œä¸Šç¬¬ä¸€ä½ç¨‹åºå‘˜ã€‚ è‰¾è¾¾å‡ ä¹æ˜¯é‚£ä¸ªæ—¶å€™å”¯ä¸€ä¸€ä¸ªçœŸæ­£ç†è§£åˆ†ææœºçš„äººï¼Œå¥¹ä¸ä»…ç¼–å†™äº†è®¸å¤šå¯ä»¥åœ¨åˆ†ææœºä¸Šè¿è¡Œçš„ç¨‹åºï¼Œç”šè‡³è¿˜çœ‹åˆ°äº†å·´è´å¥‡è‡ªå·±éƒ½æ²¡æœ‰çœ‹åˆ°çš„äº‹æƒ…â€”â€”å¥¹è¯´ï¼šåˆ†ææœºä¸å…‰èƒ½ç”¨æ¥è®¡ç®—ï¼Œå®ƒåº”è¯¥è¿˜èƒ½ç”¨æ¥è¡¨ç¤ºå…¶ä»–ä¸œè¥¿ï¼Œæ¯”å¦‚éŸ³ä¹ã€‚è¿™æ˜¯å¤šä¹ˆè¿œå¤§çš„ç›®å…‰å•Šï¼åæ¥ç¾å›½å›½é˜²éƒ¨å°†ä¸€ç§ç¼–ç¨‹è¯­è¨€å‘½åä¸º Adaï¼Œå°±æ˜¯ä¸ºäº†çºªå¿µè¿™ä½ä¸å·´è´å¥‡åŒæ ·å…·æœ‰è¶…å‰æ€æƒ³çš„ä¼Ÿå¤§å¥³æ€§ã€‚ å››ã€åˆ¶è¡¨æœº | ç©¿å­”æ—¶ä»£çš„åˆ°æ¥ä» 1790 å¹´å¼€å§‹ï¼Œç¾å›½æ¯ 10 è¿›è¡Œä¸€æ¬¡äººå£æ™®æŸ¥ã€‚ç™¾å¹´é—´ï¼Œéšç€äººå£ç¹è¡å’Œç§»æ°‘çš„å¢å¤šï¼Œä» 1790 å¹´çš„ 400 ä¸‡ä¸åˆ°ï¼Œåˆ° 1880 å¹´çš„ 5000 å¤šä¸‡ï¼Œäººå£æ€»æ•°å‘ˆçˆ†ç‚¸å¼åœ°å¢é•¿ã€‚ ä¸åƒç°åœ¨è¿™ä¸ªçš„äº’è”ç½‘æ—¶ä»£ï¼Œäººä¸€å‡ºç”Ÿï¼Œå„ç§ä¿¡æ¯å°±å·²ç»ç”µå­åŒ–ã€ç™»è®°å¥½äº†ï¼Œç”šè‡³è¿˜èƒ½æ•°æ®æŒ–æ˜ï¼Œä½ æ— æ³•æƒ³è±¡ï¼Œåœ¨é‚£ä¸ªè®¡ç®—è®¾å¤‡ç®€é™‹å¾—åŸºæœ¬åªèƒ½é æ‰‹æ‘‡è¿›è¡Œå››åˆ™è¿ç®—çš„ 19 ä¸–çºªï¼Œåƒä¸‡çº§çš„äººå£ç»Ÿè®¡å°±å·²ç»æˆäº†å½“æ—¶æ”¿åºœçš„ â€œä¸èƒ½æ‰¿å—ä¹‹é‡â€ã€‚1880 å¹´å¼€å§‹çš„ç¬¬ 10 æ¬¡äººå£æ™®æŸ¥ï¼Œå†æ—¶ 8 å¹´æ‰æœ€ç»ˆå®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬åœ¨ä¼‘æ¯ä¸¤å¹´ä¹‹åå°±è¦å¼€å§‹ç¬¬ 11 æ¬¡æ™®æŸ¥äº†ï¼Œè€Œè¿™ä¸€æ¬¡æ™®æŸ¥ï¼Œéœ€è¦çš„æ—¶é—´ææ€•è¦è¶…è¿‡ 10 å¹´ï¼Œé‚£ç¬¬ 12 æ¬¡ã€13 æ¬¡å‘¢ï¼Ÿæœ¬æ¥å°±æ˜¯ 10 å¹´ä¸€æ¬¡çš„ç»Ÿè®¡ï¼Œå¦‚æœæ¯æ¬¡è€—æ—¶éƒ½åœ¨ 10 å¹´ä»¥ä¸Šï¼Œè¿™ä»¶äº‹æƒ…å°±å˜å¾—æ²¡æœ‰æ„ä¹‰äº†ã€‚ è¿™å¯æ„ç…äº†å½“æ—¶çš„äººå£è°ƒæŸ¥åŠå…¬å®¤ï¼Œä»–ä»¬å†³å®šé¢å‘å…¨ç¤¾ä¼šæ‹›æ ‡ï¼Œå¯»æ±‚èƒ½å‡è½»æ‰‹å·¥åŠ³åŠ¨ã€æé«˜ç»Ÿè®¡æ•ˆç‡çš„å‘æ˜ã€‚æ­£æ‰€è°“æœºä¼šéƒ½æ˜¯ç»™æœ‰å‡†å¤‡çš„äººçš„ï¼Œä¸€ä½æ¯•ä¸šäºå“¥ä¼¦æ¯”äºšå¤§å­¦çš„å¹´è½»äºº èµ«å°”æ›¼Â·éœå°”ç‘æ–¯ ï¼ˆHerman Hollerithï¼‰ å¸¦ç€ä»–åœ¨ 1884 å¹´ç”³è¯·çš„ä¸“åˆ©ä»ä¼—å¤šæ–¹æ¡ˆä¸­è„±é¢–è€Œå‡ºã€‚ åˆ¶è¡¨æœºä»–å‘æ˜çš„æœºå™¨å« åˆ¶è¡¨æœº ï¼ˆtabulator/tabulating machineï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸“é—¨ç”¨æ¥åˆ¶ä½œæ•°æ®ç»Ÿè®¡è¡¨çš„æœºå™¨ã€‚åˆ¶è¡¨æœºä¸»è¦ç”±ç¤ºæ•°è£…ç½®ã€ç©¿å­”æœºã€è¯»å¡è£…ç½®å’Œåˆ†ç±»ç®±ç»„æˆã€‚ ç¤ºæ•°è£…ç½®åŒ…å« 4 è¡Œã€10 åˆ—å…± 40 ä¸ªç¤ºæ•°è¡¨ç›˜ï¼Œæ¯ä¸ªç›˜é¢è¢«å‡åŒ€åœ°åˆ†æˆ 100 æ ¼ï¼Œå¹¶è£…æœ‰ä¸¤æ ¹æŒ‡é’ˆï¼Œå’Œé’Ÿè¡¨ååˆ†ç›¸åƒï¼Œâ€œåˆ†é’ˆâ€ è½¬ä¸€åœˆå¯è®¡ 100ï¼Œâ€œæ—¶é’ˆâ€ è½¬ä¸€åœˆåˆ™è®¡ 10000ã€‚å¯è§ï¼Œæ•´ä¸ªç¤ºæ•°è£…ç½®å¯ä»¥è¡¨è¾¾å¾ˆåºå¤§çš„æ•°æ®ã€‚ åˆ¶è¡¨æœºçš„å·¥ä½œæ˜¯å›´ç»•ç©¿å­”å¡ç‰‡å±•å¼€çš„ï¼šæ“ä½œå‘˜å…ˆä½¿ç”¨ç©¿å­”æœºåˆ¶ä½œç©¿å­”å¡ç‰‡ï¼Œå†ä½¿ç”¨è¯»å¡è£…ç½®è¯†åˆ«å¡ç‰‡ä¸Šçš„ä¿¡æ¯ï¼Œæœºå™¨è‡ªåŠ¨å®Œæˆç»Ÿè®¡å¹¶åœ¨ç¤ºæ•°è¡¨ç›˜ä¸Šå®æ—¶æ˜¾ç¤ºç»“æœï¼Œæœ€åï¼Œå°†å¡ç‰‡æŠ•å…¥åˆ†ç±»ç®±çš„æŸä¸€æ ¼ä¸­ï¼Œè¿›è¡Œåˆ†ç±»å­˜æ”¾ï¼Œä»¥ä¾›ä¸‹æ¬¡ç»Ÿè®¡ä½¿ç”¨ã€‚ ç©¿å­”å¡ç‰‡çš„åº”ç”¨æ­¤å‰çš„æŸä¸€å¤©ï¼Œéœå°”ç‘æ–¯æ­£åœ¨ç«è½¦ç«™æ’é˜Ÿæ£€ç¥¨ï¼Œç›®å…‰ä¸ç»æ„è½åˆ°æ£€ç¥¨å‘˜æ‰‹ä¸­å’”å’”ç›´å“çš„æ‰“å­”æœºä¸Šã€‚ä»–å‘ç°ï¼Œæ£€ç¥¨å‘˜ä¼šç‰¹æ„æ ¹æ®ä¹˜å®¢çš„æ€§åˆ«å’Œå¹´é¾„æ®µï¼Œåœ¨è½¦ç¥¨çš„ä¸åŒåœ°æ–¹æ‰“å­”ã€‚è¶Šæ¥è¶Šå¤šçš„äººè¿‡æ£€ï¼Œä»–è¿›ä¸€æ­¥ç¡®è®¤äº†è¿™ä¸ªè§„å¾‹ã€‚ä¸€ä¸ªçµæ„Ÿæœä»–è¢­æ¥ï¼šå¦‚æœæœ‰ä¸€å¼ æ›´å¤§çš„å¡ï¼Œä¸Šé¢æœ‰æ›´å¤šçš„ä½ç½®å¯ä»¥æ‰“å­”ï¼Œå°±å¯ä»¥ç”¨æ¥è¡¨ç¤ºæ›´å¤šçš„èº«ä»½ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›½ç±ã€äººç§ã€æ€§åˆ«ã€ç”Ÿæ—¥ç­‰ç­‰ã€‚ è¿™å°±æ˜¯ç”¨åœ¨ 1890 å¹´äººå£æ™®æŸ¥ä¸­çš„ç©¿å­”å¡ç‰‡ï¼Œä¸€å¼ å¡ç‰‡è®°å½•ä¸€ä¸ªå±…æ°‘çš„ä¿¡æ¯ã€‚å¡ç‰‡è®¾è®¡é•¿çº¦ 18.73cmï¼Œå®½çº¦ 8.26cmï¼Œæ­£å¥½æ˜¯å½“æ—¶ä¸€å¼ ç¾å…ƒçº¸å¸çš„å°ºå¯¸ï¼Œå› ä¸ºéœå°”ç‘æ–¯ç›´æ¥ç”¨è´¢æ”¿éƒ¨è£…é’±çš„ç›’å­æ¥è£…å¡ç‰‡ã€‚ å¡ç‰‡è®¾æœ‰ 300 å¤šä¸ªå­”ä½ï¼Œä¸é›…å¡å°”å’Œå·´è´å¥‡çš„åšæ³•ä¸€æ ·ï¼Œé æ¯ä¸ªå­”ä½æ‰“å­”ä¸å¦æ¥è¡¨ç¤ºä¿¡æ¯ã€‚å°½ç®¡è¿™ç§å½¢å¼é¢‡æœ‰å‡ åˆ†äºŒè¿›åˆ¶çš„æ„å‘³ï¼Œä½†å½“æ—¶çš„è®¾è®¡è¿˜è¿œä¸å¤Ÿæˆç†Ÿï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°äºŒè¿›åˆ¶çœŸæ­£çš„ä»·å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ç°åœ¨ä¸€èˆ¬ç”¨ 1 ä½æ•°æ®å°±å¯ä»¥è¡¨ç¤ºæ€§åˆ«ï¼Œæ¯”å¦‚ 1 è¡¨ç¤ºç”·æ€§ï¼Œ0 è¡¨ç¤ºå¥³æ€§ï¼Œè€Œéœå°”ç‘æ–¯åœ¨å¡ç‰‡ä¸Šç”¨äº†ä¸¤ä¸ªå­”ä½ï¼Œè¡¨ç¤ºç”·æ€§å°±å…¶ä¸­ä¸€å¤„æ‰“å­”ï¼Œè¡¨ç¤ºå¥³æ€§å°±åœ¨å¦ä¸€å¤„æ‰“å­”ã€‚å…¶å®æ€§åˆ«è¿˜å‡‘åˆï¼Œè¡¨ç¤ºæ—¥æœŸæ—¶æµªè´¹å¾—å°±å¤šäº†ï¼Œ12 ä¸ªæœˆéœ€è¦ 12 ä¸ªå­”ä½ï¼Œè€Œå¸¸è§„çš„äºŒè¿›åˆ¶ç¼–ç åªéœ€è¦ 4 ä½ã€‚å½“ç„¶ï¼Œè¿™æ ·çš„å±€é™ä¹Ÿä¸åˆ¶è¡¨æœºä¸­ç®€å•çš„ç”µè·¯å®ç°æœ‰å…³ã€‚ ç»†å¿ƒçš„è¯»è€…å¯èƒ½å‘ç°å¡ç‰‡çš„å³ä¸‹è§’è¢«åˆ‡æ‰äº†ï¼Œé‚£ä¸æ˜¯æ®‹ç¼ºï¼Œè€Œæ˜¯ä¸ºäº†é¿å…æ”¾åè€Œä¸“é—¨è®¾è®¡çš„ï¼Œå’Œç°åœ¨çš„äºŒç»´ç åªæœ‰ 3 ä¸ªè§’æ˜¯ä¸€ä¸ªé“ç†ã€‚ è¿™ç±»å®ç”¨çš„ç»†èŠ‚è®¾è®¡åœ¨ç©¿å­”æœºä¸Šè¡¨ç°å¾—æ›´ä¸ºå‡ºè‰²ã€‚ä¸‹å›¾ä¸ºä¸€ä½æ“ä½œå‘˜æ­£åœ¨ä½¿ç”¨ç©¿å­”æœºç»™å¡ç‰‡æ‰“å­”çš„æƒ…æ™¯ï¼Œå¥¹å¹¶ä¸éœ€è¦åœ¨å¡ç‰‡ä¸ŠåƒåŠ›åœ°æœå¯»å­”ä½ï¼Œè€Œæ˜¯ç›´æ¥å¯¹ç€å­”è·æ›´å¤§çš„æ“ä½œé¢æ¿æ‰“å­”ï¼Œä¸€æ ¹æ æ†å°†ä¸¤è€…çš„å­”ä½ä¸€ä¸€å¯¹åº”ã€‚æ“ä½œé¢æ¿è¿˜åšæˆäº†å¼§å½¢ï¼Œé¢‡æœ‰ä¸€åˆ†å¦‚ä»Šäººä½“å·¥ç¨‹å­¦é”®ç›˜çš„é£å§¿ã€‚ åœ¨åˆ¶è¡¨æœºå‰ï¼Œç©¿å­”å¡ç‰‡ï¼ˆæˆ–çº¸å¸¦ï¼‰å¤šç”¨äºå­˜å‚¨æŒ‡ä»¤è€Œä¸æ˜¯æ•°æ®ã€‚æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ï¼Œä¸€æ˜¯é›…å¡å°”æèŠ±æœºï¼Œç”¨ç©¿å­”å¡ç‰‡æ§åˆ¶ç»çº¿ææ²‰ï¼›äºŒæ˜¯è‡ªåŠ¨é’¢ç´ï¼Œç”¨ç©¿å­”çº¸å¸¦æ§åˆ¶ç´é”®å‹æ”¾ã€‚ç¾å‰§ã€Šè¥¿éƒ¨ä¸–ç•Œã€‹ä¸­ï¼Œæ¯æ¬¡æ•…äº‹å¾ªç¯çš„å¼€å§‹ï¼Œéƒ½ä¼šç»™ä¸€ä¸ªè‡ªåŠ¨é’¢ç´çš„ç‰¹å†™ï¼Œå¼¹å¥èµ·çœ‹ä¼¼å®é™å®‰é€¸ã€å®åˆ™è¯¡å¼‚è¿å’Œçš„èƒŒæ™¯ä¹ã€‚ æ˜¯éœå°”ç‘æ–¯å°†ç©¿å­”å¡ç‰‡ä½œä¸º æ•°æ®å­˜å‚¨ä»‹è´¨ å¼€æ¥ï¼Œå¹¶å¼€å¯äº†ä¸€ä¸ªå´­æ–°çš„ æ•°æ®å¤„ç†çºªå…ƒã€‚åæ¥äººä»¬ä¹ŸæŠŠè¿™ç±»å¡ç‰‡ç§°ä¸ºéœå°”ç‘æ–¯å¡ç‰‡ï¼Œç©¿å­”å¡ç‰‡å’Œç©¿å­”çº¸å¸¦ä½œä¸ºè¾“å…¥è¾“å‡ºè½½ä½“ï¼Œç»Ÿæ²»äº†è®¡ç®—é¢†åŸŸæ•´æ•´ä¸€ä¸ªä¸–çºªã€‚ ç»Ÿè®¡åŸç†æ‰“å¥½äº†å­”ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å°†å¡ç‰‡ä¸Šçš„ä¿¡æ¯ç»Ÿè®¡èµ·æ¥ã€‚è¯»å¡è£…ç½®çš„ç»„æˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶å¤–å½¢å’Œä½¿ç”¨æ–¹å¼æœ‰ç‚¹ç±»ä¼¼ç°åœ¨çš„é‡å‹è®¢ä¹¦æœºï¼Œå°†å¡ç‰‡ç½®äºå‹æ¿å’Œåº•åº§ä¹‹é—´ï¼ŒæŒ‰å‹æ‰‹æŸ„ï¼Œå°±å®Œæˆäº†å¯¹è¿™å¼ å¡ç‰‡çš„ä¿¡æ¯è¯»å–ã€‚ åŸç†ä¸Šï¼Œé€šè¿‡ç”µè·¯é€šæ–­è¯†åˆ«å¡ä¸Šä¿¡æ¯ã€‚åº•åº§ä¸­å†…åµŒç€è¯¸å¤šç®¡çŠ¶å®¹å™¨ï¼Œä½ç½®ä¸å¡ç‰‡å­”ä½ä¸€ä¸€å¯¹åº”ï¼Œå®¹å™¨é‡Œç››æœ‰æ°´é“¶ï¼Œæ°´é“¶ä¸å¯¼çº¿ç›¸è¿ã€‚åº•åº§ä¸Šæ–¹çš„å‹æ¿ä¸­åµŒç€è¯¸å¤šé‡‘å±é’ˆï¼ŒåŒæ ·ä¸å­”ä½ä¸€ä¸€å¯¹åº”ï¼Œé’ˆçš„ä¸Šéƒ¨æŠµç€å¼¹ç°§ï¼Œå¯ä»¥ä¼¸ç¼©ï¼Œå‹æ¿çš„ä¸Šä¸‹é¢ç”±å¯¼ç”µææ–™åˆ¶æˆã€‚è¿™æ ·ï¼Œå½“æŠŠå¡ç‰‡æ”¾åœ¨åº•åº§ä¸Šï¼ŒæŒ‰ä¸‹å‹æ¿æ—¶ï¼Œå¡ç‰‡æœ‰å­”çš„åœ°æ–¹ï¼Œé’ˆå¯ä»¥é€šè¿‡ï¼Œä¸æ°´é“¶æ¥è§¦ï¼Œç”µè·¯æ¥é€šï¼Œæ²¡å­”çš„åœ°æ–¹ï¼Œé’ˆå°±è¢«æŒ¡ä½ã€‚ è¿™ä¸€åŸºæœ¬åŸç†ä¸é›…å¡å°”æèŠ±æœºç±»ä¼¼ï¼Œä¸éš¾ç†è§£ã€‚é‡å¤´æˆæ˜¯ï¼Œå¦‚ä½•å°†ç”µè·¯é€šæ–­å¯¹åº”åˆ°æ‰€éœ€è¦çš„ç»Ÿè®¡ä¿¡æ¯å‘¢ï¼Ÿéœå°”ç‘æ–¯åœ¨ä¸“åˆ©ä¸­ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™æ˜¯æ¶‰åŠæ€§åˆ«ã€å›½ç±å’Œäººç§ 3 é¡¹ä¿¡æ¯çš„ç»Ÿè®¡ç”µè·¯å›¾ï¼Œè™šçº¿ä¸ºæ§åˆ¶ç”µè·¯ï¼Œå®çº¿ä¸ºå·¥ä½œç”µè·¯ã€‚ å›¾é¡¶æœ‰7æ ¹é‡‘å±é’ˆï¼Œä»å·¦è‡³å³æ ‡çš„åˆ†åˆ«æ˜¯ï¼šGï¼ˆç±»ä¼¼äºæ€»å¼€å…³ï¼‰ã€Femaleï¼ˆå¥³ï¼‰ã€Maleï¼ˆç”·ï¼‰ã€Foreignï¼ˆå¤–å›½ç±ï¼‰ã€Nativeï¼ˆæœ¬å›½ç±ï¼‰ã€Coloredï¼ˆæœ‰è‰²äººç§ï¼‰ã€Whiteï¼ˆç™½ç§äººï¼‰ã€‚ å·¥ä½œç”µè·¯ä¸­åˆ†æ•£ç€æ ‡è¯†ä¸º m1~m10 çš„ç”µç£ç»§ç”µå™¨ã€‚ å›¾åº•ä»å³è‡³å·¦ä¸ºæ ‡è¯†ä¸º M1~M6 çš„ 6 ç»„ç”µç£é“ï¼Œæ‰€å¯¹åº”çš„ç»Ÿè®¡ä¿¡æ¯ä¸ºï¼ˆä¸ºè´´åˆç©¿å­”çš„å½¢è±¡ï¼Œæˆ‘ç‰¹æ„é€‰æ‹©ä½¿ç”¨åœ†åœˆè¿›è¡Œæ ‡è®°ï¼‰ï¼š ä»¥ M1 ä¸ºä¾‹ï¼Œå¦‚æœè¡¨ç¤º Nativeã€White å’Œ Male çš„é’ˆåŒæ—¶ä¸æ°´é“¶æ¥è§¦ï¼Œæ¥é€šçš„æ§åˆ¶ç”µè·¯ï¼š è¿™ä¸€ç¤ºä¾‹é¦–å…ˆå±•ç¤ºäº†é’ˆ G çš„ä½œç”¨ï¼Œå®ƒæŠŠæ§ç€æ‰€æœ‰æ§åˆ¶ç”µè·¯çš„é€šæ–­ï¼Œç›®çš„æœ‰äºŒï¼š åœ¨å¡ç‰‡ä¸Šç•™å‡ºä¸€ä¸ªä¸“ä¾› G é€šè¿‡çš„å­”ï¼Œä»¥é˜²æ­¢å¡ç‰‡æ²¡æœ‰æ”¾æ­£ï¼ˆç…§æ ·å¯ä»¥æœ‰éƒ¨åˆ†é’ˆç©¿è¿‡é”™è¯¯çš„å­”ï¼‰è€Œç»Ÿè®¡åˆ°é”™è¯¯çš„ä¿¡æ¯ã€‚ ä»¤ G æ¯”å…¶ä»–é’ˆçŸ­ï¼Œæˆ–è€… G ä¸‹çš„æ°´é“¶æ¯”å…¶ä»–å®¹å™¨é‡Œå°‘ï¼Œä»è€Œç¡®ä¿å…¶ä»–é’ˆéƒ½å·²ç»æ¥è§¦åˆ°æ°´é“¶ä¹‹åï¼ŒG æ‰æœ€ç»ˆå°†æ•´ä¸ªç”µè·¯æ¥é€šã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œç”µè·¯é€šæ–­çš„ç¬é—´å®¹æ˜“äº§ç”Ÿç«èŠ±ï¼Œè¿™æ ·çš„è®¾è®¡å¯ä»¥å°†æ­¤ç±»å…ƒå™¨ä»¶çš„æŸè€—é›†ä¸­åœ¨ G èº«ä¸Šï¼Œä¾¿äºåæœŸç»´æŠ¤ã€‚ ä¸å¾—ä¸æ„Ÿæ…¨ï¼Œè¿™äº›å‘æ˜å®¶åšè®¾è®¡çœŸçš„ç‰¹åˆ«å®ç”¨ã€ç»†è‡´ã€‚ æ§åˆ¶ç”µè·¯çš„æ¥é€šå¼•èµ·å›¾ä¸­æ ‡æœ‰æ©˜é»„è‰²ç®­å¤´çš„ 3 ä¸ªç”µç£ç»§ç”µå™¨ m1 ã€ m3 å’Œ m5 é—­åˆï¼Œè¿›è€Œæ¥é€š M1 æ‰€åœ¨çš„å·¥ä½œç”µè·¯ï¼š æœ€ç»ˆï¼Œé€šç”µçš„ M1 å°†äº§ç”Ÿç£åœºï¼Œç‰µå¼•ç›¸å…³æ æ†ï¼Œæ‹¨åŠ¨é½¿è½®å®Œæˆè®¡æ•°ï¼Œæœ€ç»ˆä½“ç°åˆ°ç¤ºæ•°è¡¨ç›˜ä¸ŠæŒ‡é’ˆçš„æ—‹è½¬ã€‚è™½ç„¶éœå°”ç‘æ–¯çš„ä¸“åˆ©ä¸­æ²¡æœ‰ç»™å‡ºè¿™ä¸€è®¡æ•°è£…ç½®çš„å…·ä½“ç»“æ„ï¼Œå¯ä»¥æƒ³è±¡ï¼Œä» 17 ä¸–çºªå¼€å§‹ï¼Œæœºæ¢°è®¡ç®—å™¨ä¸­çš„é½¿è½®ä¼ åŠ¨æŠ€æœ¯å·²ç»å‘å±•åˆ°è¶³å¤Ÿæˆç†Ÿçš„æ°´å¹³ï¼Œéœå°”ç‘æ–¯æ— éœ€é‡æ–°è®¾è®¡ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ç°æˆçš„è£…ç½®ï¼Œæ­£å¦‚ä»–åœ¨ä¸“åˆ©ä¸­æ‰€è¯´çš„â€œany suitable mechanical counterâ€ï¼ˆä»»ä½•åˆé€‚çš„æœºæ¢°è®¡æ•°å™¨éƒ½å¯ä»¥ï¼‰ã€‚ ç”µç£é“ä¸å•æ§åˆ¶ç€è®¡æ•°è£…ç½®ï¼Œè¿˜æ§åˆ¶ç€åˆ†ç±»ç®±ç›–å­çš„å¼€åˆã€‚å°†åˆ†ç±»ç®±ä¸Šçš„ç”µç£é“æ¥å…¥å·¥ä½œç”µè·¯ï¼Œæ¯æ¬¡å®Œæˆè®¡æ•°çš„åŒæ—¶ï¼Œå¯¹åº”æ ¼å­çš„ç›–å­ä¼šåœ¨ç”µç£é“çš„ä½œç”¨ä¸‹è‡ªåŠ¨æ‰“å¼€ï¼Œç†Ÿç»ƒçš„æ“ä½œå‘˜ç”šè‡³ä¸ç”¨è½¬å¤´å»çœ‹ï¼Œå°±å¯ä»¥é¡ºæ‰‹å°†å¡ç‰‡æŠ•åˆ°æ­£ç¡®çš„æ ¼å­é‡Œï¼Œç”±æ­¤å®Œæˆå¡ç‰‡çš„å¿«é€Ÿåˆ†ç±»ã€‚ æ¯å¤©å·¥ä½œçš„æœ€åä¸€æ­¥ï¼Œå°±æ˜¯å°†ç¤ºæ•°è¡¨ç›˜ä¸Šçš„ç»“æœèªŠæŠ„ä¸‹æ¥ï¼Œç½®é›¶ï¼Œç¬¬äºŒå¤©ç»§ç»­ã€‚ å•å…ƒè®°å½•æ—¶ä»£åœ¨åˆ¶è¡¨æœºçš„é«˜æ•ˆè¿è½¬ä¸‹ï¼Œ1890 å¹´çš„äººå£æ™®æŸ¥åªèŠ±äº† 6 å¹´æ—¶é—´ã€‚1896 å¹´ï¼Œéœå°”ç‘æ–¯æˆç«‹åˆ¶è¡¨æœºå…¬å¸ï¼ˆThe Tabulating Machine Companyï¼‰å¹¶ä¸æ–­æ”¹è¿›è‡ªå·±çš„äº§å“ï¼Œå…ˆåä¸è‹±å›½ã€æ„å¤§åˆ©ã€å¾·å›½ã€ä¿„ç½—æ–¯ã€æ¾³å¤§åˆ©äºšã€åŠ æ‹¿å¤§ã€æ³•å›½ã€æŒªå¨ã€ç¾å›½æ³¢å¤šé»å„ã€å¤å·´ã€è²å¾‹å®¾ç­‰å¤šä¸ªå›½å®¶å’Œåœ°åŒºåˆä½œå¼€å±•äº†äººå£æ™®æŸ¥ã€‚ åˆ° 1914 å¹´ï¼Œåˆ¶è¡¨æœºå…¬å¸æ¯å¤©ç”Ÿäº§çš„ç©¿å­”å¡ç‰‡å¤šè¾¾ 200 ä¸‡å¼ ã€‚ä¸å¤šä¹…ï¼Œä¸€äº›ç«äº‰å¯¹æ‰‹é€æ¸èµ·å®¶ï¼Œå†å²è¿æ¥äº†ç¹è£çš„æ•°æ®å¤„ç†æ—¶ä»£ã€‚å®ƒä»¬çš„äº§å“ä¹Ÿä¸å†å±€é™äºäººå£æ™®æŸ¥ï¼Œé€æ¸æ‰©å±•åˆ°ä¼šè®¡ã€åº“å­˜ç®¡ç†ç­‰ä¸€äº›åŒæ ·éœ€è¦è·Ÿå¤§æ•°æ®æ‰“äº¤é“çš„é¢†åŸŸï¼Œè¿™äº›æœºå™¨ä½œä¸ºåˆ¶è¡¨æœºçš„åè£”è¢«ç»Ÿç§°ä¸ºå•å…ƒè®°å½•è®¾å¤‡ï¼ˆunit record equipmentï¼‰ã€‚ å›´ç»•ç©¿å­”å¡ç‰‡çš„åˆ¶å¡ã€è¯»å¡ã€æ•°æ®å¤„ç†å’Œå¡ç‰‡åˆ†ç±»æ˜¯å®ƒä»¬çš„æ ‡å‡†åŠŸèƒ½ï¼Œç©¿å­”æœºã€è¯»å¡å™¨ã€åˆ†ç±»å™¨æ˜¯å®ƒä»¬çš„æ ‡å‡†é…ç½®ã€‚è¿™äº›éƒ¨ä»¶çš„è‡ªåŠ¨åŒ–ç¨‹åº¦è¶Šæ¥è¶Šé«˜ï¼Œæ¯”å¦‚æ‰‹åŠ¨çš„è¯»å¡è£…ç½®å¾ˆå¿«è¢«è‡ªåŠ¨è¯»å¡æœºæ‰€å–ä»£ï¼Œè¯»å¡é€Ÿåº¦ä»æ¯åˆ†é’Ÿ 100 å¼ é€æ­¥æé«˜è‡³æ¯åˆ†é’Ÿ 2000 å¼ ã€‚éšç€è¯†åˆ«ç²¾åº¦çš„æé«˜ï¼Œå¡ç‰‡çš„å­”è·ä¹Ÿè¶Šæ¥è¶Šå°ï¼Œå…·æœ‰ 80ï½90 åˆ—å­”ä½çš„å¡ç‰‡æˆä¸ºä¸»æµï¼Œæœ‰äº›å¡ç‰‡çš„å­”ä½ç”šè‡³å¤šè¾¾ 130 åˆ—ã€‚ æœºå™¨çš„åŠŸèƒ½ä¹Ÿé€æ¸å¼ºå¤§ï¼Œä¸å†åªæ˜¯ç®€å•åœ°ç»Ÿè®¡ç©¿å­”æ•°ç›®ï¼Œå‡æ³•ã€ä¹˜æ³•ç­‰è¿ç®—èƒ½åŠ›é™†ç»­ç™»åœºã€‚1928 å¹´ï¼Œå“¥ä¼¦æ¯”äºšå¤§å­¦çš„ç§‘å­¦å®¶ä»¬ç”šè‡³ç”¨å•å…ƒè®°å½•è®¾å¤‡è®¡ç®—æœˆçƒçš„è¿è¡Œè½¨è¿¹ï¼Œä»–ä»¬åœ¨ 50 ä¸‡å¼ å¡ç‰‡ä¸Šæ‰“äº† 2000 ä¸‡ä¸ªå­”ï¼Œå½°æ˜¾ç€å•å…ƒè®°å½•è®¾å¤‡çš„æ— é™æ½œåŠ›ã€‚ æœºå™¨çš„ç”µè·¯å®ç°è¶Šæ¥è¶Šå¤æ‚ï¼Œä½†åŒæ—¶ä¹Ÿè¶Šæ¥è¶Šé€šç”¨ã€‚1890 å¹´æ‰€ç”¨çš„é‚£å°åˆ¶è¡¨æœºçš„ çº¿è·¯æ˜¯å›ºå®šçš„ï¼Œé‡åˆ°æ–°çš„ç»Ÿè®¡ä»»åŠ¡ï¼Œæ”¹é€ èµ·æ¥ååˆ†éº»çƒ¦ã€‚ 1906 å¹´ï¼Œéœå°”ç‘æ–¯ä¾¿å¼•å…¥äº†æ¥æ’çº¿æ¿ï¼ˆplugboardï¼‰â€”â€”ä¸€å—å¸ƒæ»¡å¯¼ç”µå­”çš„æ¿å¡ï¼Œå¯é€šè¿‡æ”¹å˜å¯¼çº¿æ’è„šåœ¨æ¿ä¸Šçš„ä½ç½®æ”¹å˜çº¿è·¯é€»è¾‘ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œæ¥æ’çº¿æ¿çš„å†…éƒ¨å·²ç»å¸ƒå¥½äº†å…·æœ‰å„ç§åŠŸèƒ½çš„çº¿è·¯ï¼Œä½†å®ƒä»¬éƒ½å¤„åœ¨æ–­å¼€çŠ¶æ€ï¼Œå„è‡ªè¿æ¥ç€æ¥æ’çº¿æ¿ä¸Šçš„æŸä¸¤ä¸ªå­”ä½ï¼Œåƒä¸€çªå—·å—·å¾…å“ºçš„å°é¸Ÿé•¿å¤§ç€å˜´å·´ï¼Œå¤–éƒ¨çš„å¯¼çº¿å°±åƒç¾å‘³çš„è™«å­ï¼Œå½“è™«å­çš„å¤´å°¾åˆ†åˆ«ä¸å°é¸Ÿçš„ä¸Šå–™å’Œä¸‹å–™æ¥è§¦ï¼Œçº¿è·¯å°±è¢«å¯¼é€šï¼Œè¿™åªå°é¸Ÿå°±å¼€å§‹å·¥ä½œäº†ã€‚å¦‚æ­¤ï¼Œæ¯æ¬¡ä½¿ç”¨å°±å¯ä»¥æ¿€æ´»ä¸åŒçš„ â€œå°é¸Ÿâ€ï¼Œä»è€Œå®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚è¿™å·²ç»æ˜¯ä¸€ç§å¯ç¼–ç¨‹æ€§çš„ä½“ç°ã€‚ 1911 å¹´ï¼Œåˆ¶è¡¨æœºå…¬å¸ä¸å¦å¤– 3 å®¶å…¬å¸åˆå¹¶æˆç«‹ CTR å…¬å¸ ï¼ˆComputing-Tabulating-Recording Companyï¼‰ï¼Œåˆ¶è¡¨æœºå…¬å¸ä½œä¸ºå…¶å­å…¬å¸ç»§ç»­è¿è¥åˆ° 1933 å¹´ã€‚ 1924 å¹´ï¼ŒCTR æ›´åä¸º å›½é™…å•†ä¸šæœºå™¨å…¬å¸ï¼ˆInternational Business Machines Corporationï¼‰ï¼Œå°±æ˜¯ç°åœ¨å¤§åé¼é¼çš„ IBM å…¬å¸ã€‚å¯è§ï¼Œåœ¨å¦‚ä»Šä¼—å¤šå¹´è½»çš„ IT å…¬å¸ä¸­ï¼Œæ‹¥æœ‰ç™¾å¹´å†å²çš„ IBM æ˜¯ä½å½“ä¹‹æ— æ„§çš„å‰è¾ˆï¼Œå®ƒå®Œæ•´åœ°å‚ä¸å’Œè§è¯äº†æ•´ä¸ªç°ä»£è®¡ç®—æœºçš„å‘å±•å²ã€‚IBM ä¿æŒäº†åˆ¶è¡¨æœºå…¬å¸åœ¨å•å…ƒè®°å½•å¸‚åœºçš„é¾™å¤´åœ°ä½ï¼Œåˆ° 1955 å¹´ï¼Œå…¶æ¯å¤©ç”Ÿäº§çš„ç©¿å­”å¡ç‰‡å¤šè¾¾ 7250 ä¸‡å¼ ã€‚ 1937 å¹´å¼€å§‹ï¼Œå•å…ƒè®°å½•è®¾å¤‡é€æ­¥ç”µå­åŒ–ï¼Œä¸ç”µå­è®¡ç®—æœºçš„ç•Œçº¿æ¸æ¸æ¨¡ç³Šï¼Œå¹¶æœ€ç»ˆä¸ºåè€…è®©è·¯ã€‚éšç€ 1976 å¹´ IBM ä¸€å‹æœ€æ ¸å¿ƒçš„å•å…ƒè®°å½•äº§å“çš„åœäº§ï¼ŒçŸ­æš‚çš„å•å…ƒè®°å½•æ—¶ä»£ä¹Ÿå®£å‘Šè°¢å¹•ï¼Œå®ƒä»¿ä½›æ˜¯ç”µå­è®¡ç®—æ—¶ä»£æ¥ä¸´å‰çš„é¢„æ¼”å’Œé“ºå«ï¼Œè®¸å¤šè®¾è®¡è¢«æ²¿ç”¨ä¸‹æ¥ï¼Œæ¯”å¦‚ç©¿å­”å¡ç‰‡å’Œæ¥æ’çº¿æ¿ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œå³ä½¿ç”µå­è®¡ç®—æœºé€æ¸æ™®åŠï¼Œè®¸å¤šæœºæ„ç”±äºç”¨æƒ¯äº†å•å…ƒè®°å½•è®¾å¤‡ï¼Œè¿Ÿè¿Ÿä¸æ„¿æ›´æ¢ï¼Œå°‘æ•°æœºæ„ç”šè‡³ä¸€ç›´ç”¨åˆ°äº† 21 ä¸–çºªã€‚ åœ¨ç¿»é˜…èµ„æ–™çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªç‰¹åˆ«æœ‰è¶£çš„è°ˆè®¡ç®—æœºå‘å±•æ˜¯çš„ç®€ä¹¦ä¸“æ ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥è¿›ä¸€æ­¥å»é˜…è¯»ï¼šä¼ é€é—¨ å‚è€ƒèµ„æ–™ æœºç»‡å¸ƒã€é’ˆç»‡å¸ƒå’Œæ— çººå¸ƒçš„æ¦‚å¿µä»‹ç» ä»ç»‡å¸ƒæœºåˆ°è®¡ç®—æœº è®°å¿†ä¼ æ‰¿ï¼Œä¿¡æ¯æ°¸ç”Ÿï¼ˆå››ï¼‰ ç»‡å¸ƒæœºä¸è®¡ç®—æœº è®¡ç®—æœºå‘å±•çš„å¼•è·¯è€…â€”â€”è´¾å¡ç»‡æœºçš„å‰ä¸–ä»Šç”Ÿ å¸ƒçˆ¾èˆ‡é›»è…¦â€”â€”ã€Šç§‘å­¸æœˆåˆŠã€‹ Who is the father of the computer? ç°ä»£è®¡ç®—æœºçœŸæ­£çš„é¼»ç¥–â€”â€”è¶…è¶Šæ—¶ä»£çš„ä¼Ÿå¤§æ€æƒ³ åˆ¶è¡¨æœºï¼šç©¿å­”æ—¶ä»£çš„åˆ°æ¥ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„","slug":"ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„","date":"2020-04-02T09:37:00.000Z","updated":"2020-08-16T07:50:03.177Z","comments":true,"path":"2020/04/02/morethanjava-dang-da-xue-xuan-ze-liao-ji-suan-ji-zhi-hou-ying-gai-zhi-dao-de/","link":"","permalink":"http://www.wmyskxz.com/2020/04/02/morethanjava-dang-da-xue-xuan-ze-liao-ji-suan-ji-zhi-hou-ying-gai-zhi-dao-de/","excerpt":"","text":"ã€ŒMoreThanJavaã€ å®£æ‰¬çš„æ˜¯ ã€Œå­¦ä¹ ï¼Œä¸æ­¢ CODEã€ï¼Œæœ¬ç³»åˆ— Java åŸºç¡€æ•™ç¨‹æ˜¯è‡ªå·±åœ¨ç»“åˆå„æ–¹é¢çš„çŸ¥è¯†ä¹‹åï¼Œå¯¹ Java åŸºç¡€çš„ä¸€ä¸ªæ€»å›é¡¾ï¼Œæ—¨åœ¨ ã€Œå¸®åŠ©æ–°æœ‹å‹å¿«é€Ÿé«˜è´¨é‡çš„å­¦ä¹ ã€ã€‚ å½“ç„¶ ä¸è®ºæ–°è€æœ‹å‹ æˆ‘ç›¸ä¿¡æ‚¨éƒ½å¯ä»¥ ä»ä¸­è·ç›Šã€‚å¦‚æœè§‰å¾— ã€Œä¸é”™ã€ çš„æœ‹å‹ï¼Œæ¬¢è¿ ã€Œå…³æ³¨ + ç•™è¨€ + åˆ†äº«ã€ï¼Œæ–‡æœ«æœ‰å®Œæ•´çš„è·å–é“¾æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„æœ€å¤§çš„åŠ¨åŠ›ï¼ ä¸€ã€è®¡ç®—æœº = äº’è”ç½‘ = é«˜è–ª = 996ï¼Ÿä½ çœŸçš„äº†è§£è®¡ç®—æœºä¸“ä¸šå—ï¼Ÿä¸è®ºä½ æ˜¯è‡ªå·±é€‰æ‹©çš„è®¡ç®—æœºä¸“ä¸šè¿˜æ˜¯å®¶äººå¸®ä½ æŠ¥çš„åï¼Œé¦–å…ˆæ­å–œä½ ï¼å› ä¸ºè®¡ç®—æœºæ˜¯å°‘æ•°çš„å‡ ä¸ª ã€Œä¸ç”¨æ‹¼çˆ¹ã€ï¼Œå®Œå®Œå…¨å…¨å¯ä»¥å‡­å€Ÿè‡ªå·±çš„åŠªåŠ›å°±èƒ½å¤Ÿè·å¾—å›æŠ¥çš„ä¸“ä¸šï¼Œè€Œä¸”ä»è¿‘ 20 å¹´æ¥çœ‹ï¼Œå›æŠ¥è¿˜ç›¸å½“ä¸é”™ï¼ é‚£ è®¡ç®—æœºä¸“ä¸š æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://mp.weixin.qq.com/s/1sb8YqFZm4yRZBzA_Zbn3g ç®€å•æ¥è¯´ï¼Œè®¡ç®—æœºä¸“ä¸šæ˜¯ä»¥ è®¡ç®—æœºç­‰æŠ€æœ¯ ä¸ºä¸»è¦ç ”ç©¶å·¥å…·ï¼Œä»¥æ‰©å±•äººç±»çš„ä¿¡æ¯åŠŸèƒ½ ä¸ºä¸»è¦ç›®æ ‡çš„ä¸€é—¨å­¦ç§‘ã€‚ è®¡ç®—æœºæ˜¯ä¸ªå¤§é—¨ç±»ç¿»å¼€æœ¬ç§‘ä¸“ä¸šç›®å½•ï¼Œä¼šå‘ç°è®¡ç®—æœºæ˜¯ä¸ªå¤§ç±»ï¼ŒåŒ…æ‹¬è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ã€è½¯ä»¶å·¥ç¨‹ã€ç½‘ç»œå·¥ç¨‹ã€ä¿¡æ¯å®‰å…¨ã€ç‰©è”ç½‘å·¥ç¨‹ç­‰ç­‰ç­‰å¥½å¤šä¸“ä¸šã€‚å…¶ä¸­ï¼Œæœ€æ ¸å¿ƒã€æœ€åŸºç¡€çš„ä¸“ä¸šå°±æ˜¯ è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ (Computer Science and Technology - CS) äº†ï¼Œè¿™ä¹Ÿæ˜¯å„é™¢æ ¡è®¡ç®—æœºç³»æ‹›ç”Ÿçš„ä¸»è¦ä¸“ä¸šã€‚ ç™¾åº¦ç™¾ç§‘ ç»™å‡ºçš„è®¡ç®—æœºä¸“ä¸šæ¦‚å¿µçš„è®ºè¿°æ˜¯ï¼šè®¡ç®—æœºä¸“ä¸šæ˜¯æŒ‡è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶ç›¸ç»“åˆã€é¢å‘ç³»ç»Ÿã€æ›´åå‘åº”ç”¨çš„å®½å£å¾„ä¸“ä¸šã€‚ æ€»ä¹‹è®¡ç®—æœºæ˜¯ä¸ªå¾ˆå¤§çš„é—¨ç±»ï¼Œä¸å…‰ç¼–å†™åº”ç”¨è½¯ä»¶çš„ è½¯ä»¶å·¥ç¨‹å¸ˆï¼š è¿˜æœ‰åˆ¶ä½œç¡¬ä»¶çš„ ç¡¬ä»¶å·¥ç¨‹å¸ˆï¼Œä¾‹å¦‚æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨å¤§åˆ°æ‰‹æœºï¼Œå°åˆ€è®¡ç®—å™¨ï¼Œä¸€åˆ‡ç‰©ç†è®¾å¤‡çš„åº•å±‚é€»è¾‘éƒ½æ˜¯ç”±å®ƒä»¬è´Ÿè´£ç¼–å†™çš„ï¼š è¿˜æœ‰ ç½‘ç»œå·¥ç¨‹å¸ˆï¼Œä½†ä¹Ÿæœ‰é»‘å¸½å­ã€ç™½å¸½å­ã€è¿ç»´ç­‰ç­‰å¾ˆå¤šçš„åˆ†åˆ«ï¼š(è¿™å›¾æ„Ÿè§‰æ˜æ˜¾æ¯”è¾ƒé»‘å’Œå¸…å‘¢..) and moreâ€¦ å¦å¤–æƒ³è¯´ä¸€ç‚¹æ˜¯ï¼Œéšç€æŠ€æœ¯çš„è¿›æ­¥å’Œä¸–ç•Œçš„å¤æ‚ç¨‹åº¦çš„åŠ æ·±ï¼Œç¤¾ä¼šåˆ†å·¥è¶Šæ¥è¶Šç»†ä¹‹åï¼Œå¤§å­¦ä¸“ä¸šä¹Ÿéšä¹‹å˜å¾—è¶Šæ¥è¶Šç»†åŒ–ï¼Œè¿™äº›éƒ½ä¸è¦ç´§ï¼Œæ— è®ºåœ¨å“ªä¸€ä¸ªæ–¹å‘ æ·±è€• éƒ½èƒ½å¸¦æ¥ä¸è²çš„æ”¶è·ã€‚(å³è¡Œè¡Œå‡ºçŠ¶å…ƒ) è®¡ç®—æœºä¸“ä¸šéƒ½å­¦å“ªäº›è¯¾ç¨‹äº†è§£ä¸€é—¨ä¸“ä¸šæœ€å¿«çš„æ–¹å¼å°±æ˜¯äº†è§£å®ƒçš„è¯¾ç¨‹ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ ç½‘æ˜“äº‘è¯¾å ‚é¡¶å°–ä¸­æ–‡å¤§å­¦è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹ä½“ç³» ç»™å‡ºçš„æ ‡å‡†çš„ CS ä½“ç³»çš„è¯¾ç¨‹è¡¨ï¼š(é“¾æ¥å¯æˆ³ï¼Œä¸‹å›¾è¯¾ç¨‹å…¨éƒ¨å…è´¹) å¯ä»¥çœ‹åˆ°è®¡ç®—æœºä¸“ä¸šçš„è¯¾ç¨‹å¤§è‡´åˆ†ä¸ºåŸºç¡€è¯¾ç¨‹å’Œä¸“ä¸šè¯¾ç¨‹ä¸¤ç±»ï¼š ä¸»è¦åŸºç¡€è¯¾ç¨‹ï¼šé«˜ç­‰æ•°å­¦ã€å¤§å­¦è‹±è¯­ã€çº¿æ€§ä»£æ•°ã€å¤§å­¦ç‰©ç†ã€æ¦‚ç‡è®ºã€ç¦»æ•£æ•°å­¦ç­‰ï¼› ä¸»è¦ä¸“ä¸šè¯¾ç¨‹ï¼šæ•°æ®ç»“æ„ã€C è¯­è¨€ç¨‹åºè®¾è®¡ã€æ•°æ®åº“åŸç†ã€æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€ç®—æ³•åˆ†æä¸è®¾è®¡ã€ç¼–è¯‘åŸç†ã€è½¯ä»¶å·¥ç¨‹ç­‰ï¼› â€œè®¡ç®—æœºçƒ­â€ è¿˜èƒ½æŒç»­å¤šä¹…ï¼Ÿè®¡ç®—æœºæœ‰å¤šçƒ­é—¨å‘¢ï¼Ÿçœ‹ä¸€ä¸‹ç°åœ¨ æ¼«å¤©é£ çš„ç¨‹åºå‘˜åŸ¹è®­å¹¿å‘Šå°±çŸ¥é“äº†ï¼Œåœ¨å‰å‡ å¹´ï¼Œè¿™äº›åœ°æ–¹è¿˜è¢«è‹±è¯­åŸ¹è®­å æ®ç€ã€‚(å…³äºè®¡ç®—æœºåŸ¹è®­é€æ­¥æ›¿ä»£è‹±è¯­åŸ¹è®­è¿™äº‹å„¿ï¼Œæœ‰å…´è¶£äº†è§£æ›´å¤šå¯ä»¥ æˆ³è¿™é‡Œ) äºæ˜¯æ€»æœ‰äººæ‹…å¿ƒï¼ŒæŠ¥é€‰è®¡ç®—æœºçš„ äººå¤ªå¤šï¼Œç«äº‰å¤ªæ¿€çƒˆäº†ï¼Œæˆ–è€…æ˜¯ä¼ è¨€è¯´è®¡ç®—æœºè¡Œä¸šå·²ç» å¿«é¥±å’Œäº†ã€äº’è”ç½‘æ³¡æ²«æ­£åœ¨é…é…¿ ç­‰ï¼Œä½†å®é™…æƒ…å†µæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µé‡‡è®¿ï¼š å…¨çƒæœ€å¤§è±ªåè½¦åˆ¶é€ å•†æˆ´å§†å‹’å¥”é©°ï¼ˆDaimler Benzï¼‰ çš„æ€»ç»ç†åœ¨æœ€è¿‘çš„ä¸€æ¬¡é‡‡è®¿ä¸­è¡¨ç¤ºï¼š â€œæˆ‘ä»¬çš„ç«äº‰å¯¹æ‰‹å“ªé‡Œæ˜¯å…¶ä»–æ±½è½¦å…¬å¸ï¼Œæˆ‘ä»¬çš„ç«äº‰å¯¹æ‰‹å·²ç»å˜æˆäº†ç‰¹æ–¯æ‹‰ï¼Œè°·æ­Œï¼Œè‹¹æœï¼Œäºšé©¬é€Šç­‰ç§‘æŠ€å…¬å¸â€¦â€¦ ç§‘æŠ€å…¬å¸çš„å‘å±•è®©æˆ‘ä»¬ä¸å®‰ï¼Œæˆ‘ä»¬é¢ä¸´ç€å·¨å¤§çš„è½¬å˜ã€‚â€ ä¸éš¾å‘ç°ï¼Œå…¨ç¤¾ä¼šæ­£åœ¨ ä¿¡æ¯åŒ–ä¸­åŠ é€Ÿå‰è¿›ï¼Œè®¡ç®—æœºå’Œäº’è”ç½‘å·²ç» æ¸—é€åˆ°ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ï¼Œä¿ƒä½¿è®¸å¤šä¼ ç»Ÿè¡Œä¸šå‘ç”Ÿå˜é©ï¼š æ‹›è˜ï¼šLinkedIn çš„å‡ºç°ï¼Œæ­£åœ¨èš•é£Ÿç¾å›½4000äº¿ç¾å…ƒçš„åˆ©æ¶¦ä¸°åšçš„æ‹›è˜è¡Œä¸šã€‚ é›¶å”®ï¼šAmazon çš„å‡ºç°ï¼Œè®©ç¾å›½é›¶å”®ä¸šäººäººè‡ªå±ï¼Œå°¤å…¶æ˜¯çŸ¥åç™¾è´§ Macyâ€™sï¼Œå› ä¸šç»©ä¸æŒ¯å·²ç»è¿ç»­å…³åº—åŠè£å‘˜ã€‚ äº¤é€šï¼šUber ä¸€è¾†â€œå‡ºç§Ÿè½¦â€éƒ½æ²¡æœ‰ï¼Œå´æ˜¯å…¨çƒæœ€å¤§çš„æ‰“è½¦å…¬å¸ï¼Œæ”¹å˜äº¤é€šè¡Œä¸šçš„æ¸¸æˆè§„åˆ™ã€‚ ä½å®¿ï¼šAirbnb ä»ä¸ç›–æ¥¼é€ å®¾é¦†ï¼Œä½†æ˜¯æŠŠç›®å‰ä¸–ç•Œæœ€å¤§çš„è¿é”é…’åº—é›†å›¢ Marriott é€¼çš„ä¸å¾—ä¸é‡æ–°è¿›è¡Œæˆ˜ç•¥å¸ƒå±€ã€‚ åŒ»ç–—ï¼šäººå·¥æ™ºèƒ½åŒ»ç–—æœºå™¨äººã€æ™ºèƒ½è¯Šæ–­ã€å¯ç©¿æˆ´åŒ»ç–—è®¾å¤‡â€¦æ–°çš„æŠ€æœ¯ç»™åŒ»ç–—è¡Œä¸šå¤šä¸ªé¢†åŸŸå¸¦æ¥å‘å±•æœºä¼šã€‚ é‡‘èï¼šé‡‘èé¢†åŸŸä¹Ÿå› ä¸ºäº’è”ç½‘å’Œæ•°æ®çš„å‘å±•ï¼Œå‘ç”Ÿç€å‰§å˜â€¦â€¦ä¸€å¤œä¹‹é—´é“ºéæ‰€æœ‰å•†å®¶çš„ â€œæ‰«ç æ”¯ä»˜â€ å°±æ˜¯æœ€å¥½çš„ä¾‹å­ã€‚ å°±è¿ å›½é˜²é¢†åŸŸï¼Œä¹Ÿè¶Šæ¥è¶Šä»¥è½¯ä»¶ä¸ºåŸºç¡€ï¼Œå¯¹ç§‘æŠ€äººæ‰çš„éœ€æ±‚æ—¥è¶‹è¿«åˆ‡ï¼š è½¯ä»¶é©±åŠ¨çš„æ— äººæœºå‘åŠ¨ç©ºè¢­ï¼Œä¸å†è®©äººç±»é£è¡Œå‘˜é¢ä¸´é£é™©ï¼› æƒ…æŠ¥æœºæ„åˆ©ç”¨è½¯ä»¶è¿›è¡Œå¤§è§„æ¨¡æ•°æ®æŒ–æ˜ï¼Œä»¥å‘ç°å’Œè¿½è¸ªæ½œåœ¨çš„ææ€–ä¸»ä¹‰æ´»åŠ¨ï¼› ä»æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œè®¡ç®—æœºè¡Œä¸šä¸ä½†ä¸ä¼šé¥±å’Œï¼Œå¹¶åœ¨å¤§å£ â€œä¾µé£Ÿâ€ å…¶å®ƒè¡Œä¸šï¼å‡ ä¹æ‰€æœ‰çš„å…¬å¸å’Œé¢†åŸŸï¼Œéƒ½éœ€è¦è®¡ç®—æœºç›¸å…³çš„äººæ‰ï¼ æœ‰äººè¯´ï¼Œæœªæ¥ä¸–ç•Œå°†åªå‰©ä¸‹ä¸‰ç§èŒä¸šï¼š å¨±ä¹äººå£«ï¼› Pizza å¿«é€’å‘˜ï¼› ç¨‹åºå‘˜ï¼› ä¸è¿‡ï¼ŒåŸºäºç°åœ¨çš„å‘å±•æ¥çœ‹ï¼Œå¨±ä¹å¯ä»¥è¢« VRï¼AR æ¸—é€ï¼ŒPizza å¿«é€’ä¼šç”±é€é¤æœºå™¨äººå®Œæˆï¼Œè€Œä¸–ç•Œæœ€ç»ˆéœ€è¦çš„ï¼Œå°±æ˜¯ç¨‹åºå‘˜ã€‚ å¯¹ç¨‹åºå‘˜çš„è®¤è¯†é«˜è–ªæ˜¯çœŸçš„ï¼Œ996 ä¹Ÿæ˜¯çœŸçš„å·¥ä½œ 996ï¼Œç”Ÿç—… ICUï¼ˆé‡ç—‡ç›‘æŠ¤ç—…æˆ¿ï¼‰ã€‚ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://36kr.com/p/5191849 è¯šç„¶ï¼Œç¨‹åºå‘˜çš„è–ªèµ„æ°´å¹³æ™®ééƒ½è¦ç‡é«˜äºå…¶ä»–ä¸€äº›ä¼ ç»Ÿè¡Œä¸šï¼š å›¾ç‰‡å¼•ç”¨è‡ªï¼šè®¾è®¡èµ„æºç½‘ ä½†é«˜è–ªçš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€é«˜æŠ•å…¥ã€‚ ä¸­å›½çš„ä¿¡æ¯æŠ€æœ¯äº§ä¸šï¼Œç‰¹åˆ«æ˜¯è¿‡å»åå¤šå¹´å´›èµ·çš„ä¸€äº›å¤§å‹äº’è”ç½‘å…¬å¸ï¼Œä»–ä»¬çš„é‡ç‚¹ä¸»è¦è¿˜æ˜¯åœ¨å¯¹æŠ€æœ¯åº”ç”¨çš„å¼€å‘ä¸Šã€‚è¿‡å»åå¤šå¹´æ¥ï¼Œä¸­å›½äº’è”ç½‘äº§ä¸šçš„å‘å±•æ‰€æä¾›çš„æœºä¼šï¼Œä½¿å¾—ä¸šç•Œè®¤è¯†åˆ°ï¼šæŠ•å…¥åˆ°åº”ç”¨ä¸­çš„æ”¶ç›Šï¼Œæ˜¾ç„¶æ¯”åŸºç¡€ç ”ç©¶çš„æ”¶ç›Šæ›´å¤§ã€‚ éšç€è¿™äº›åŸºç¡€çš„å¼€æºæŠ€æœ¯å¼€å‘å·¥å…·çš„è¿›æ­¥ï¼Œä¸­å›½çš„ç¨‹åºå‘˜çš„å…¥è¡Œé—¨æ§›ä¹Ÿè¶Šæ¥è¶Šä½ï¼Œè¿™å’Œå¸‚åœºå¯¹ç¨‹åºå‘˜çš„éœ€æ±‚æ•°é‡è¶Šæ¥è¶Šå¤šè¿™ä¸€è¶‹åŠ¿åˆæ˜¯åŒ¹é…çš„ã€‚éšç€èµ„æœ¬å‚ä¸äº’è”ç½‘çš„å¤§æˆ˜ï¼Œâ€œå¿«â€ æˆä¸ºäº’è”ç½‘è¡Œä¸šçš„å…±è¯†ã€‚å…¶å®ç”±äºå¼€æºç”Ÿæ€çš„å­˜åœ¨ï¼ŒæŠ€æœ¯å¼€å‘å¦‚ä»Šæœ¬èº«å·²ç»å¿«å¾—ä¸èƒ½å†å¿«äº†ï¼Œä½†å¸‚åœºç«äº‰æ˜¯æ®‹é…·çš„ï¼Œæ²¡æœ‰æœ€å¿«åªæœ‰æ›´å¿«ã€‚ è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªçŸ›ç›¾ï¼šäº§ä¸šè¿…é€Ÿè†¨èƒ€ï¼Œä»ä¸šäººå‘˜çš„æ°´åˆ†ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼Œä½†å¸‚åœºå¯¹å…¬å¸çš„æ•ˆç‡è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚åœ¨è¿™ç§æ€åŠ¿ä¸‹ï¼ŒæŠ€æœ¯åº”ç”¨æ–¹é¢çš„ç ”å‘ï¼Œå¾ˆå®¹æ˜“è½å…¥åŠ³åŠ¨å¯†é›†å‹çš„å®è´¨å½“ä¸­ã€‚ éš¾æ€ªå¦‚ä»Šç¨‹åºå‘˜å¾€å¾€è‡ªå˜²ä¸º â€œç å†œâ€ï¼Œæ„æ€æ˜¯ â€œå†™ä»£ç çš„å†œæ°‘å·¥â€ã€‚ç¨‹åºå‘˜è¤ªå»äº† â€œæ™ºåŠ›åŠ³åŠ¨è€…â€ çš„å…‰ç¯ï¼Œä¼¼ä¹æˆä¸ºäº†å’Œè½¦é—´å·¥äººæ²¡å¤ªå¤§åŒºåˆ«çš„å·¥ç§ï¼šæ— è®ºæ˜¯ä»å·¥ä½œçš„å¤æ‚ç¨‹åº¦æ¥çœ‹ï¼Œè¿˜æ˜¯å·¥ä½œæ—¶é•¿å¯¹å·¥ä½œçš„äº§å‡ºæ¥çœ‹ï¼Œéƒ½è¶Šæ¥è¶Šæ¥è¿‘äº†ã€‚ å½“ç„¶ï¼ŒæŠŠç¨‹åºå‘˜å’Œä¼ ç»Ÿçš„äº§ä¸šå·¥äººåšç±»æ¯”å…¶å®å¹¶ä¸å®Œå…¨æ­£ç¡®ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºï¼šè„‘åŠ›åŠ³åŠ¨ï¼Œæˆ–è€…è¯´æ™ºåŠ›å’ŒçŸ¥è¯†ï¼Œåœ¨ä¿¡æ¯æŠ€æœ¯å¼€å‘çš„å·¥ä½œä¸­èµ·çš„ä½œç”¨å¤ªå¤§äº†ã€‚ ç¨‹åºå‘˜çš„ã€Œè¡Œä¸šåè§ã€åœ¨æå…‰å¤§æ•°æ®çš„ 2018 å¹´ä¸­å›½ç¨‹åºå‘˜ç ”ç©¶æŠ¥å‘Šé‡Œï¼Œå¯¹äº ã€Œå¤–è¡Œå¯¹ä½ çš„èŒä¸šæœ€å¤§çš„è¯¯è§£æ˜¯ä»€ä¹ˆã€ çš„è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ 46.1% çš„ç¨‹åºå‘˜é€‰æ‹©äº† â€œå¾ˆä¼šä¿®ç”µè„‘â€ï¼Œ42.7% çš„äººé€‰æ‹©äº† â€œå¯ä»¥è½»æ˜“å¼€å‘å‡ºä»»ä½•è½¯ä»¶â€ã€‚ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://www.pingwest.com/a/160607 æ¯ä¸ªè¡Œä¸šéƒ½å­˜åœ¨å„è‡ªçš„è¡Œä¸šåè§ï¼Œä¾‹å¦‚é‡åˆ°å¥èº«æ•™ç»ƒå°±æƒ³è®©äººå¸®ä½  3 å¤©ç˜¦ 10 æ–¤ï¼Œè¿˜å¾—ä¸æ‰“é’ˆã€ä¸åƒè¯ã€ä¸èŠ‚é£Ÿã€ä¸è¿åŠ¨ã€‚è¿™äº›åè§éƒ½æ— å¯åšéï¼Œé‡è¦çš„æ˜¯ä½ æ€ä¹ˆçœ‹å¾…è¿™äº‹å„¿ï¼Œæ˜¯é€‰æ‹©è¢«è´´æ ‡ç­¾å°±é è¿‘æ ‡ç­¾ï¼Œè¿˜æ˜¯é€‰æ‹©åšè‡ªå·±ã€‚ ä»€ä¹ˆæ ·çš„äººé€‚åˆå­¦ä¹ è®¡ç®—æœºï¼Ÿ4 ç‚¹å§ï¼šå…´è¶£ã€é€»è¾‘ã€å°±ä¸šã€é™ä¸‹æ¥å­¦ä¹ ã€‚ å…´è¶£è®¡ç®—æœºè¡Œä¸šçš„ çŸ¥è¯†è¿­ä»£ ç›¸æ¯”å…¶ä»–è¡Œä¸šæ¥è¯´é€Ÿåº¦è¦ å¿« ä¸Šä¸å°‘ï¼ŒåŠ ä¹‹å¸‚åœºå¯¹ç¨‹åºå‘˜çš„ è¦æ±‚ ä¹Ÿè¶Šæ¥è¶Š é«˜ï¼Œè¿™å°±è¦æ±‚äº†ç¨‹åºå‘˜éœ€è¦æ›´å¤šçš„æ—¶é—´æ¥å­¦ä¹ ã€‚è€Œè¯´åˆ°åº•ï¼Œè®¡ç®—æœºæ˜¯ä¸€ä¸ªåå®è·µæ€§çš„ç†è®ºçŸ¥è¯†å­¦ç§‘ï¼Œä½ ä¸ä»…éœ€è¦ èŠ±è´¹å¤§é‡çš„æ—¶é—´å­¦ä¹  æ¯ç‡¥çš„åŸºç¡€çš„ç†è®ºçŸ¥è¯†ï¼Œè¿˜éœ€è¦å†ç”» å¤§é‡æ—¶é—´å»åŠ¨æ‰‹å®è·µ æœ€ç»ˆå°†è¿™äº›çŸ¥è¯† èä¼šè´¯é€š èµ·æ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ç•¥æ˜¾æ¯ç‡¥å’Œå†—é•¿ï¼Œè€Œ å…´è¶£ä¼šå¸®åŠ©ä½ è·¨è¿‡ä¸å°‘çš„æ— è¶£ã€‚ åœ¨ ã€Šé»‘å®¢ä¸æ¼«ç”»ã€‹ ä¸€ä¹¦ä¸­æœ‰è¿™æ ·ä¸€æ®µæè¿°ï¼š åœ¨è¾¾Â·èŠ¬å¥‡çš„å¹´ä»£ï¼Œç»˜ç”»å¹¶ä¸æ˜¯ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…ï¼Œè¾¾Â·èŠ¬å¥‡ç”¨è‡ªå·±çš„å·¥ä½œæ¨åŠ¨ç»˜ç”»æˆä¸ºä¸€ç§ä¼Ÿå¤§çš„è¡¨è¾¾æ–¹å¼ã€‚åŒæ ·ï¼Œç¼–ç¨‹åˆ°åº•èƒ½å¤Ÿæœ‰å¤šé…·ï¼Œå–å†³äºæˆ‘ä»¬èƒ½å¤Ÿç”¨è¿™ç§æ–°åª’ä»‹åšå‡ºæ€æ ·çš„å·¥ä½œã€‚ ã€Œå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆã€ è¿™å¥è¯å†æ€ä¹ˆå¹ä¹Ÿä¸ä¸ºè¿‡ï¼Œä½ å¯¹ä¸€ä»¶äº‹æƒ…çš„å…´è¶£å’Œçƒ­çˆ±ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†ä½ åšä¸€ä»¶äº‹æƒ…æ‰€å–å¾—çš„æˆç»©ã€‚ çœ‹åˆ°æœ‰ç½‘å‹è°ƒä¾ƒï¼šâ€ç»™æˆ‘å¦ˆä¹°çš„æ™ºèƒ½æ´—è¡£æœºæ•™äº† n ééƒ½ä¸ä¼šç”¨ï¼Œåæ¥ç»™å¥¹ä¹°äº†å°éº»å°†æœºï¼Œä¸ä»…ä¼šç”¨è¿˜ä¼šä¿®å‘¢ã€‚â€ è¿˜çœ‹åˆ°æœ‰ç½‘å‹åæ§½è¯´ï¼šã€Œä¹Ÿå¯ä»¥å…ˆç»“å©šåæ‹çˆ±çš„..ã€ï¼Œè¿™â€¦ ä½ ä»¬è‡ªå·±å“å§â€¦ é€»è¾‘ç°ä»£çš„è®¡ç®—æœºè¿˜æ²¡æœ‰è¶³å¤Ÿçš„ã€Œèªæ˜ã€ï¼Œå½“ä½ å®ç°ä¸€äº›ä¸œè¥¿å’Œæƒ³æ³•çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ ã€Œè¶³å¤Ÿå¤šã€ çš„ç»†èŠ‚ï¼Œè¿™å°±æ¶‰åŠåˆ° ã€Œé€»è¾‘æ€è€ƒï¼Œè®²æ±‚å› æœã€ çš„èƒ½åŠ›äº†ã€‚ è¿™äº‹å„¿æˆ‘åœ¨ ã€ŒçŸ¥ä¹è®¨è®º - ç¼–ç¨‹åˆ°åº•éš¾åœ¨å“ªé‡Œï¼Ÿã€ çœ‹åˆ°äº†è®¸å¤šæœ‰è¶£ç”ŸåŠ¨çš„ä¾‹å­ï¼Œè¿™é‡Œæˆ‘ä»¬æˆªå–ä¸€ä¸ªå…³äº ã€Œæ ‘ä¸Šæœ‰ååªé¸Ÿï¼Œå¼€æªæ‰“æ­»ä¸€åªï¼Œè¿˜å‰©å‡ åª?ã€ é—®é¢˜çš„è®¨è®ºæ¥è®ºè¿°ï¼š(ä¾‹å­ç•¥é•¿.. ä¸æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è·³è¿‡..) æŸæ—¥ï¼Œè€å¸ˆåœ¨è¯¾å ‚ä¸Šæƒ³è€ƒè€ƒå­¦ç”Ÿä»¬çš„æ™ºå•†ï¼Œå°±é—®ä¸€ä¸ªç”·å­©: â€œæ ‘ä¸Šæœ‰ååªé¸Ÿï¼Œå¼€æªæ‰“æ­»ä¸€åªï¼Œè¿˜å‰©å‡ åª?â€ ğŸ™‹â€â™‚ï¸:â€œæ˜¯æ— å£°æ‰‹æªï¼Œè¿˜æ˜¯å…¶ä»–æ²¡æœ‰å£°éŸ³çš„æªä¹ˆ?â€ â€œä¸æ˜¯.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæªå£°æœ‰å¤šå¤§?â€ â€œ80~100 åˆ†è´.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œé‚£å°±æ˜¯è¯´ä¼šéœ‡çš„è€³æœµç–¼?â€ â€œæ˜¯.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œåœ¨è¿™ä¸ªåŸå¸‚é‡Œæ‰“é¸ŸçŠ¯ä¸çŠ¯æ³•?â€ â€œä¸çŠ¯.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæ‚¨ç¡®å®šé‚£åªé¸ŸçœŸçš„è¢«æ‰“æ­»å•¦?â€ â€œç¡®å®š.â€ (è€å¸ˆå·²ç»ä¸è€çƒ¦äº†)ï¼Œâ€æ‹œæ‰˜ï¼Œä½ å‘Šè¯‰æˆ‘è¿˜å‰©å‡ åªå°±è¡Œäº†,OK?â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œOK.é¸Ÿé‡Œæœ‰æ²¡æœ‰è‹å­?â€ â€œæ²¡æœ‰.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæœ‰æ²¡æœ‰é¸Ÿæ™ºåŠ›æœ‰é—®é¢˜ï¼Œå‘†å‚»åˆ°å¬åˆ°æªå“ä¸çŸ¥é“é£çš„?â€ â€œæ²¡æœ‰ï¼Œæ™ºå•†éƒ½åœ¨ 200 ä»¥ä¸Š!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæœ‰æ²¡æœ‰å…³åœ¨ç¬¼å­é‡Œçš„?â€ â€œæ²¡æœ‰.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œè¾¹ä¸Šè¿˜æœ‰æ²¡æœ‰å…¶ä»–çš„æ ‘ï¼Œæ ‘ä¸Šè¿˜æœ‰æ²¡æœ‰å…¶ä»–é¸Ÿ?â€ â€œæ²¡æœ‰.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæ–¹åœ†åé‡Œå‘¢?â€ â€œå°±è¿™ä¹ˆä¸€æ£µæ ‘!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæœ‰æ²¡æœ‰æ®‹ç–¾æˆ–é¥¿çš„é£ä¸åŠ¨çš„é¸Ÿ?â€ â€œæ²¡æœ‰ï¼Œéƒ½èº«ä½“å€æ£’.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œç®—ä¸ç®—æ€€å­•è‚šå­é‡Œçš„å°é¸Ÿ?â€ â€œéƒ½æ˜¯å…¬çš„.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œéƒ½ä¸å¯èƒ½æ€€å­•?â€ â€œâ€¦â€¦â€¦ï¼Œå†³ä¸å¯èƒ½.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæ‰“é¸Ÿçš„äººçœ¼é‡Œæœ‰æ²¡æœ‰èŠ±?ä¿è¯æ˜¯ååª?â€ â€œæ²¡æœ‰èŠ±ï¼Œå°±ååª.â€ è€å¸ˆè„‘é—¨ä¸Šçš„æ±—å·²ç»æµä¸‹æ¥äº†ï¼Œ ğŸ™‹â€â™‚ï¸ï¼šâ€œæœ‰æ²¡æœ‰å‚»çš„ä¸æ€•æ­»çš„?â€ â€œéƒ½æ€•æ­».â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæœ‰æ²¡æœ‰å› ä¸ºæƒ…ä¾£è¢«æ‰“ä¸­ï¼Œè‡ªå·±ç•™ä¸‹æ¥çš„?â€ â€œç¬¨è›‹ï¼Œä¹‹å‰ä¸æ˜¯è¯´éƒ½æ˜¯å…¬çš„å˜›!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œåŒæ€§æ‹å¯ä¸å¯ä»¥å•Šï¼Ÿâ€ â€œâ€¦â€¦â€¦â€¦.ï¼Œæ€§å–å‘éƒ½å¾ˆæ­£å¸¸!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œä¼šä¸ä¼šä¸€æªæ‰“æ­»ä¸¤åª?â€ â€œä¸ä¼š.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œä¸€æªæ‰“æ­»ä¸‰åªå‘¢?â€ â€œä¸ä¼š.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œå››åªå‘¢?â€ â€œæ›´ä¸ä¼š!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œäº”åªå‘¢?â€ â€œç»å¯¹ä¸ä¼š!!!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œé‚£å…­åªæ€»æœ‰å¯èƒ½å§?â€ â€œé™¤éä½ ä»–å¦ˆçš„æ˜¯çŒªç”Ÿçš„æ‰æœ‰å¯èƒ½!ä¸€æªåªèƒ½æ‰“æ­»ä¸€åª!â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œâ€¦å¥½å§ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„é¸Ÿéƒ½å¯ä»¥è‡ªç”±æ´»åŠ¨ä¹ˆ?â€ â€œå®Œå…¨å¯ä»¥.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œå®ƒä»¬å—åˆ°æƒŠå“èµ·é£æ—¶ä¼šä¸ä¼šæƒŠæ…Œå¤±æªè€Œäº’ç›¸æ’ä¸Š?â€ â€œä¸ä¼šï¼Œæ¯åªé¸Ÿéƒ½è£…æœ‰å«æ˜Ÿå¯¼èˆªç³»ç»Ÿï¼Œè€Œä¸”å¯ä»¥è‡ªåŠ¨é£è¡Œ.â€ ğŸ™‹â€â™‚ï¸ï¼šâ€œæ©ï¼Œå¦‚æœæ‚¨çš„å›ç­”æ²¡æœ‰éª—äººï¼Œâ€ å­¦ç”Ÿæ»¡æ€€ä¿¡å¿ƒçš„å›ç­”ï¼Œâ€œæ‰“æ­»çš„é¸Ÿè¦æ˜¯æŒ‚åœ¨æ ‘ä¸Šæ²¡æ‰ä¸‹æ¥ï¼Œé‚£ä¹ˆå°±å‰©ä¸€åªï¼Œå¦‚æœæ‰ä¸‹æ¥ï¼Œå°±ä¸€åªä¸å‰©.â€ è€å¸ˆæ¨æ¨çœ¼é•œï¼Œå¼ºå¿ç€è¦æ˜å€’çš„æ„Ÿè§‰ï¼Œé¢¤æŠ–åœ°è¯´é“ï¼šâ€œä½ å¯ä»¥å»å½“ç¨‹åºå‘˜äº†â€¦â€¦â€ é™ä¸‹æ¥å­¦ä¹ ã€Šé»‘å®¢ä¸æ¼«ç”»ã€‹ ä¸€ä¹¦ä¸­æœ‰æè¿°è¯´ï¼š ç¨‹åºå‘˜å› ä¸ºå¸¸å¸¸åŸ‹å¤´äºç¼–ç¨‹ï¼Œè€Œæ²¡æœ‰æ›´å¤šçš„æ—¶é—´ç²¾åŠ›å»ä¸å­¦ä¹ å¦‚ä½•ä¸åˆ«äººç›¸å¤„ã€‚è¿™å¸¸å¸¸å¯¼è‡´ä»–ä»¬çœ‹èµ·æ¥æœ‰ç‚¹â€œå‘†â€â€”â€”å°±åƒä¹¦å‘†å­ç»å¸¸åªå’Œä¹¦æ‰“äº¤é“ä¸€æ ·ï¼Œç¨‹åºå‘˜å¤§éƒ¨åˆ†æ—¶é—´åªå¯¹ç€è®¡ç®—æœºå±å¹•ã€‚ è¿™ä¹Ÿä»ä¾§é¢åæ˜ å‡ºäº†ç¼–ç¨‹è¿™ä»¶äº‹çš„ç‰¹ç‚¹ã€‚æˆ‘ä»¬éœ€è¦ ã€Œé™ä¸‹æ¥æ²‰æ·€å­¦ä¹ ã€ çš„èƒ½åŠ›ï¼Œå¦‚æœä½ æ¸´æœ›å‡ ä¸ªæœˆé€Ÿæˆï¼Œæˆ–è€…ä¸æƒ³å­¦ä¹ æ–°æŠ€æœ¯ï¼ŒæŒ‡æœ›äºŒåæ¥å²æ‹¿ä¸€ä¸ªå­¦ä½è¯ï¼Œå¯ä»¥åƒåˆ°é€€ä¼‘ï¼Œé‚£ä¹ˆä½ å°±ä¸å¤ªé€‚åˆè®¡ç®—æœºè¡Œä¸šã€‚ äºŒã€å¯¹ã€Œå¤§å­¦ã€äº†è§£å¤šä¸€äº›ä¸ºä»€ä¹ˆä½ å¯ä»¥ä¸è¯»å¤§å­¦ï¼Ÿå¯ä¸è¦è¢«è¿™ä¸ªæ ‡é¢˜å“åˆ°ï¼Œè¯»ä¹¦ï¼Œå¿µå¤§å­¦ä»ç„¶æ˜¯å½“ä»Šç¤¾ä¼šä¸‹çš„ä¸»æµé€‰æ‹©ï¼Œè¿™é‡Œåªæ˜¯å€Ÿ é˜®ä¸€å³° å¤§å¤§çš„æ–‡ç« æ¥æä¾›ä¸€ç§ å…¨æ–°çš„è§†è§’ï¼Œæˆ‘ç›¸ä¿¡è¯»è€…ä¼šè·Ÿæˆ‘ä¸€æ ·ï¼Œçœ‹å®Œä¼šå¸¦æ¥ä¸€å®šæ€è€ƒçš„ã€‚ ä»¥ä¸‹å†…å®¹å‡å¼•ç”¨è‡ªï¼šä¸ºä»€ä¹ˆä½ å¯ä»¥ä¸è¯»å¤§å­¦ | é˜®ä¸€å³° ä»€ä¹ˆçŸ¥è¯†æ‰æ˜¯æœ‰ç”¨çš„çŸ¥è¯†ï¼Ÿåœ¨ å†œä¸šç¤¾ä¼šï¼Œä¸Šä¸€ä»£äººçš„çŸ¥è¯†å¯ä»¥ä¸€æˆä¸å˜åœ°ç”¨åœ¨ä¸‹ä¸€ä»£ã€‚è€Œåœ¨ä¿¡æ¯ç¤¾ä¼šï¼Œå‰å‡ å¹´çš„çŸ¥è¯†ï¼Œå†è¿‡å‡ å¹´å°±ä¸èƒ½ç”¨äº†ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œçœ¼ä¸‹å°±ä¸šå‰æ™¯æœ€å¥½çš„è¡Œä¸šï¼Œæˆ‘è§‰å¾—æœ‰ä¸¤ä¸ªï¼šåŒºå—é“¾å’Œ VRã€‚å®ƒä»¬åœ¨äº”å¹´å‰éƒ½æ˜¯ä¸å­˜åœ¨çš„ï¼Œé‚£æ—¶å°±ä¸šæœ€å¥½çš„æ˜¯è‹¹æœ iOS ç³»ç»Ÿçš„åº”ç”¨å¼€å‘ï¼Œå¯æ˜¯å†å¾€å‰æ¨äº”å¹´ï¼Œå®ƒä¹Ÿæ˜¯ä¸å­˜åœ¨çš„ã€‚ä¼´éšç€å®ƒä»¬çš„æ˜¯ï¼Œå¾ˆå¤šæ—§å·¥ä½œå²—ä½çš„æ¶ˆå¤±ï¼Œæ¯”å¦‚å¡ç­ã€é»‘è“ã€Windows Phone çš„å¼€å‘ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œå¤§å­¦åº”è¯¥æ•™ä»€ä¹ˆï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸çŸ¥é“ã€‚å­¦ç”Ÿæ¯•ä¸šåçš„è¡Œä¸šï¼Œç°åœ¨æ ¹æœ¬è¿˜æ²¡æœ‰å‡ºç°ã€‚å› æ­¤ï¼Œå¤§å­¦åªèƒ½é‡ç‚¹æ•™ åŸºç¡€ç±»è¯¾ç¨‹ï¼Œè€Œä¸”å„ä¸ªæ–¹å‘éƒ½å¿…é¡»æ•™åˆ°ï¼Œå› ä¸ºä¸çŸ¥é“å­¦ç”Ÿå°†æ¥ä¼šç”¨åˆ°å“ªä¸ªæ–¹å‘çš„ä¸œè¥¿ã€‚è¿™æ ·å°±ä¼šè€—è´¹å¤§é‡çš„æ—¶é—´ï¼Œå­¦ä¹ ä¸“ä¸šçš„å„ç§åŸºç¡€çŸ¥è¯†ï¼Œå…¶ä¸­è®¸å¤šå¯¹äººç”Ÿæ¥è¯´æ˜¯æ²¡ç”¨çš„ã€‚å­¦ç”Ÿå¸¸å¸¸æ„Ÿå¹ï¼šã€Œè€ƒè¯•ä¸€ç»“æŸï¼Œæœ‰äº›è¯¾ç¨‹è¿™è¾ˆå­å†æ²¡æœ‰ç”¨åˆ°çš„æœºä¼šäº†ã€ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå­¦ç”Ÿçš„åŸ¹å…»è®¡åˆ’ï¼Œéƒ½æ˜¯ä¸€äº›äºŒä¸‰åå¹´å‰æ¯•ä¸šã€ç„¶åä¸€ç›´å¾…åœ¨å¤§å­¦é‡Œã€ä¸ç¤¾ä¼šç”Ÿäº§å®è·µè„±èŠ‚çš„äººåˆ¶å®šçš„ã€‚ä»–ä»¬çš„çŸ¥è¯†å’Œæ€ç»´æ—©å·²è¿‡æ—¶äº†ã€‚è¿™æ ·çš„äººæŒ‡å®šä½ åº”è¯¥å­¦ä¹ çš„çŸ¥è¯†ï¼Œå¾ˆå¯èƒ½åœ¨ä½ å­¦çš„æ—¶å€™å°±å·²ç»è¿‡æ—¶äº†ã€‚ å¤§å­¦çš„å››å¹´æ—¶é—´é€€ä¸€æ­¥è¯´ï¼Œå°±ç®—ä½ åœ¨å¤§å­¦é‡Œèƒ½å­¦åˆ°äº†çœŸæ­£çš„çŸ¥è¯†ï¼Œé‚£ä¹Ÿä¸åº”è¯¥åœ¨é‚£é‡Œå¾…å››å¹´ã€‚å¦‚æœåªå­¦æœ€éœ€è¦å­¦ä¹ çš„ä¸œè¥¿ï¼Œä¸€å¹´å°±å¤Ÿäº†ã€‚ å››å¹´æ—¶é—´è¶³ä»¥è®©ä¸€ä¸ªäººåœ¨ä»»ä½•é¢†åŸŸæˆä¸ºèµ„æ·±ä¸šè€…ï¼Œç”šè‡³ä¸“å®¶ã€‚å¯æ˜¯æˆ‘ä»¬çš„å¤§å­¦ç”Ÿå‘¢ï¼Œç»è¿‡æœ¬ç§‘å››å¹´ï¼Œä¸è¦è¯´é¢†åŸŸä¸“å®¶ï¼Œç”šè‡³èƒ½åŠ›å¼ºçš„å­¦ç”Ÿéƒ½å¯¥å¯¥æ— å‡ ã€‚æˆ‘ä»¬çš„å¤§å­¦åˆ¶åº¦ç”¨äº†å››å¹´æ—¶é—´ï¼ŒåŸ¹å…»å‡ºäº†å¤§é‡ä¸€æ— æ‰€é•¿çš„ã€è¿·èŒ«å›°æƒ‘çš„ã€å¸‚åœºæ»é”€çš„å¹´è½»äººã€‚ 18 å²æ˜¯äººç”Ÿæœ€æœ‰çƒ­æƒ…å’Œç²¾åŠ›æŠ•å…¥ä¸€é¡¹äº‹ä¸šçš„æ—¶å€™ï¼Œä½†æ˜¯ï¼Œå¤§å­¦å°†ä½ ä¸€è¿å››å¹´å…³åœ¨æ•™å®¤å’Œå›¾ä¹¦é¦†é‡Œï¼ŒæŠŠè€ƒè¯•å’Œç»©ç‚¹ä¼ªè£…æˆä½ å¥‹æ–—çš„ç›®æ ‡ï¼Œäººä¸ºå°†ä½ ä¸çœŸå®ä¸–ç•Œéš”ç¦»ï¼Œå¼•å¯¼ä½ å»å…³æ³¨é‚£äº›å¯¹æœªæ¥äººç”Ÿæ¯«ä¸é‡è¦çš„äº‹æƒ…ã€‚ç»è¿‡è¿™æ ·å››å¹´çš„æ­§é€”ï¼Œç­‰ä½ çœŸæ­£èµ°ä¸Šç¤¾ä¼šã€è¦è·Ÿå…¨ä¸–ç•Œç«äº‰çš„æ—¶å€™ï¼Œä½ çš„ç«äº‰åŠ›ä¸æ˜¯å˜å¼ºäº†ï¼Œè€Œæ˜¯å˜å¼±äº†ã€‚æ¢å¥è¯è¯´ï¼Œå››å¹´åˆ¶å¤§å­¦å¾ˆå¯èƒ½æ˜¯å‰Šå¼±ä½ ï¼Œè€Œä¸æ˜¯è®©ä½ å˜å¾—æ›´å¼ºã€‚ 2014 å¹´è¯ºè´å°”ç‰©ç†å­¦å¥–å¾—ä¸»ä¸­æ‘ä¿®äºŒï¼Œå°±æ›¾ç»å†™è¿‡ä¸€ç¯‡é•¿æ–‡ï¼Œåå­—å°±å« ã€Šä¸œäºšæ•™è‚²æµªè´¹äº†å¤ªå¤šçš„ç”Ÿå‘½ã€‹ã€‚ æˆ‘ä»¬æ—¶ä»£çš„å¾ˆå¤šæˆåŠŸè€…â€”-ä¹”å¸ƒæ–¯ã€æ¯”å°”ç›–èŒ¨ã€æ‰å…‹ä¼¯æ ¼ç­‰ç­‰â€”-éƒ½æ˜¯é€€å­¦ç”Ÿï¼Œè¿™ç»ä¸æ˜¯å¶ç„¶çš„ã€‚ä¸æ˜¯ä»–ä»¬åœ¨å¤§å­¦å¾…ä¸ä¸‹å»ï¼Œè€Œæ˜¯ä»–ä»¬å‘ç°ï¼Œæ²¡å¿…è¦åœ¨é‚£ä¸ªåœ°æ–¹å¾…å››å¹´ã€‚å¦‚æœä»–ä»¬å’¬ç€ç‰™å¿å—ä¸‹å»ï¼Œç†¬åˆ°æ‹¿åˆ°æ–‡å‡­çš„é‚£ä¸€å¤©ï¼Œè‹¹æœå…¬å¸å’Œå¾®è½¯å…¬å¸å¯èƒ½éƒ½ä¸ä¼šæœ‰äº†ã€‚ ä¸æ˜¯è¯´çŸ¥è¯†æ— ç”¨æ³¨æ„ï¼Œæˆ‘ä¸æ˜¯è¯´çŸ¥è¯†æ— ç”¨ï¼Œè€Œæ˜¯è¯´çŸ¥è¯†ï¼ˆå°¤å…¶æ˜¯éå­¦æœ¯çš„çŸ¥è¯†ï¼‰ä¸ä¸€å®šè¦é€šè¿‡å¤§å­¦è·å¾—ï¼Œé€šè¿‡äº’è”ç½‘ä¸€æ ·å¯ä»¥æ¥å—é«˜ç­‰æ•™è‚²ï¼Œè€Œä¸”æ›´é«˜æ•ˆå’Œä¾¿å®œã€‚ æŠ€æœ¯å·²ç»æˆä¸ºäººç±»ç¤¾ä¼šå‘å±•çš„ä¸»å¯¼æ€§åŠ›é‡ï¼Œå­¦ä¹ å’Œæ•™è‚²å˜å¾—æ¯”ä»¥å¾€æ›´é‡è¦ã€æ›´å…³é”®ã€‚ä½†æ˜¯å¾ˆä¸å¹¸ï¼Œæˆ‘ä»¬çš„å­¦ä¹ å’Œæ•™è‚²åˆ¶åº¦å·²ç»å®Œå…¨è¿‡æ—¶ï¼Œä¼ æˆçš„çŸ¥è¯†æœ‰ç”¨çš„å°‘ï¼Œæ²¡ç”¨çš„å¤šï¼›ä¼ æˆæ–¹æ³•ä»ç„¶ä¾é çŒè¾“å’Œè®°å¿†ï¼Œè€Œä¸æ˜¯å¯å‘å’Œç†è§£ï¼Œæå…¶ä½æ•ˆï¼Œæµªè´¹å­¦ç”Ÿçš„æ—¶é—´ï¼Œæ‰“å‡»å­¦ä¹ çƒ­æƒ…ï¼Œç£¨ç­å¯¹çŸ¥è¯†çš„å…´è¶£ï¼›å¯¹å¹´è½»äººçš„æˆé•¿ï¼Œæ­£é¢å½±å“å°‘ï¼Œè´Ÿé¢å½±å“å¤§ï¼Œè€Œä¸”çœ‹ä¸åˆ°æ”¹å˜çš„å¸Œæœ›ã€‚ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://zhuanlan.zhihu.com/p/54933216 ä»¥å‰ï¼Œäººç”Ÿçš„é€‰æ‹©å¾ˆå°‘ï¼Œä½ ä¸å¾—ä¸å»è¯»å¤§å­¦ï¼Œå› ä¸ºæ²¡æœ‰å…¶ä»–åœ°æ–¹å¯ä»¥æ¥å—é«˜ç­‰æ•™è‚²ã€‚ç¤¾ä¼šè¿˜æŠŠå¾ˆå¤šæœºä¼šä¸æ–‡å‡­æŒ‚é’©ï¼Œå…ˆæœ‰æ–‡å‡­ï¼Œç„¶åæ‰èƒ½æœ‰å°±ä¸šã€èŒç§°ã€ä½æˆ¿ç­‰ç­‰ã€‚ ä½†æ˜¯ï¼Œæ—¶ä»£å·²ç»å˜äº†ï¼Œæ–‡å‡­æ­£å˜å¾—è¶Šæ¥è¶Šä¸é‡è¦ã€‚é‚£äº›ä¸æ–‡å‡­æŒ‚é’©çš„ä¸œè¥¿ï¼Œæ­£åœ¨ä¸€é¡¹é¡¹è„±é’©ã€‚ äº’è”ç½‘å°†æ•™è‚²çš„è‡ªä¸»æƒï¼Œäº¤åˆ°äº†æ¯ä¸ªäººè‡ªå·±æ‰‹é‡Œã€‚ä¸Šä»€ä¹ˆè¯¾ç¨‹ã€ä»€ä¹ˆæ—¶é—´ä¸Šï¼Œéƒ½å®Œå…¨ç”±ä½ å†³å®šã€‚ä½ å¯ä»¥ä¸€è¾¹å·¥ä½œï¼Œä¸€è¾¹åˆ©ç”¨å¤œæ™šå’Œå‘¨æœ«ï¼Œå­¦ä¹ ç½‘ç»œè¯¾ç¨‹ã€‚è¿™æ ·çš„è¯ï¼Œä¸ä»…æ—©æ—©å°±ä¼šæœ‰æ”¶å…¥ï¼Œè€Œä¸”åªå­¦é‚£äº›å¯¹è‡ªå·±æœ€æœ‰ç”¨ã€æœ€æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œå­¦ä¹ çš„æ•ˆç‡å¾ˆé«˜ã€‚å¦‚æœå‘ç°å¯¹å­¦æœ¯æœ‰å…´è¶£ï¼Œå°†æ¥å†å›å¤§å­¦ï¼Œæ”»è¯»æ›´é«˜çš„å­¦ä½ï¼Œä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ å¤§å­¦è¯¾ç¨‹æ˜¯ä¸ºäº†é‚£äº›ä¸çŸ¥é“å­¦ä»€ä¹ˆçš„äººè®¾è®¡çš„ï¼Œåƒä¸‡ä¸è¦å› ä¸ºè‡ªå·±æ‰¾ä¸åˆ°æ–¹å‘ï¼Œè€Œè¢«è¿™äº›è¯¾ç¨‹â€ç”»åœ°ä¸ºç‰¢â€œé™åˆ¶ä½ã€‚ä½ è¦ä¸»åŠ¨å»æ¥è§¦å’Œå­¦ä¹ ï¼Œé‚£äº›è‡ªå·±æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚å¼•ç”¨ä¸€ä¸ªç½‘å‹çš„è¯ï¼Œâ€œä½ è¦åšçš„å°±æ˜¯è‡ªä¸»ã€è·¨ç•Œã€ç»ˆèº«å­¦ä¹ â€œã€‚ ä¸­å›½å¤§å­¦çš„æ•™è‚²ç†å¿µåœ¨å´å†›è€å¸ˆ ã€Šå¤§å­¦ä¹‹è·¯ã€‹ ä¸­ä»‹ç»äº†å¤§å­¦çš„åŸºæœ¬æ•™è‚²ç†å¿µæœ‰ä¸¤ç§ï¼š çº½æ›¼çš„æ•™è‚²ç†å¿µï¼šå€¡å¯¼é€šæ‰æ•™è‚²ï¼Œæœ¬ç§‘é˜¶æ®µè®²æ±‚çŸ¥è¯†é¢çš„å¹¿é˜”ï¼Œè¦æ±‚æ›´å¤šçš„è¯¾å¤–æ´»åŠ¨ï¼Œè€Œä¸è¦æ±‚ä¸“ä¸šçš„æ·±åº¦ï¼Œä¸“ä¸šçš„æ·±é€ æ”¾åˆ°å¤§å››æˆ–è€…ç ”ç©¶ç”Ÿé˜¶æ®µã€‚å…·ä½“åƒæ˜¯å“ˆä½›å¤§å­¦ï¼Œè€¶é²å¤§å­¦ï¼Œæœ¬ç§‘ç”Ÿåœ¨å…¥å­¦æ—¶æœ‰è¶³å¤Ÿå¤šçš„è¯¾ç¨‹å¯ä»¥é€‰æ‹©ï¼Œä½†ä¸éœ€è¦ç¡®å®šä¸“ä¸šï¼Œæœ¬ç§‘å­¦ä¹ çš„åæœŸæ‰è¦æ±‚ç¡®å®šä¸“ä¸šï¼Œä¿è¯æœ¬ç§‘ç”Ÿèƒ½å¤Ÿåœ¨å°è¯•ä¸­æ‰¾åˆ°è‡ªå·±å¿ƒä»ªçš„ä¸“ä¸šï¼Œä»¥ç¡®å®šæœªæ¥è‡ªå·±çš„å‘å±•æ–¹å‘ã€‚ å¾·å›½æ´ªå ¡æ•™è‚²ä½“åˆ¶ï¼šå¼ºè°ƒä¸“æ‰æ•™è‚²ï¼Œè¦æ±‚å­¦ç”Ÿå…¥å­¦æ—¶å°±é€‰å®šå‘å±•æ–¹å‘ï¼Œè®²æ±‚ä¸“ä¸šçš„æ·±åº¦ã€‚ä¸­å›½ç›®å‰çš„é«˜ç­‰æ•™è‚²æ¨¡å¼å°±æ¥è‡ªæ´ªå ¡æ•™è‚²ä½“åˆ¶ã€‚ åœ¨çº½æ›¼çš„æ•™è‚²ç†å¿µä¹‹ä¸‹ï¼Œå­¦ç”Ÿä¸€æ¯•ä¸šå¹¶ä¸èƒ½é©¬ä¸Šè¾¾åˆ°ä¸“ä¸šå·¥ä½œçš„è¦æ±‚ï¼Œä½†äº‹ä¸šå’Œæœªæ¥å‘å±•ä¼šæœ‰ååŠ²ã€‚æ´ªå ¡æ•™è‚²ä½“åˆ¶åˆ™æ›´é€‚åˆéœ€è¦è¿…é€Ÿå‘å±•ç”Ÿäº§çš„æ—¶ä»£ï¼Œæ¯”å¦‚å·¥ä¸šé©å‘½åéœ€è¦å¤§é‡ç§‘å­¦å®¶çš„ç¾å›½ã€‚æ´ªå ¡æ•™è‚²ä½“åˆ¶ä¸‹æ¯•ä¸šçš„å­¦ç”Ÿèƒ½å¤Ÿè¿…é€Ÿä¸ºå›½å®¶æ‰€ç”¨ï¼Œå®ç°è‡ªèº«è„±è´«ï¼Œæœ‰åŠ©äºç¤¾ä¼šçš„è¿…é€Ÿå·¥ä¸šåŒ–ã€‚ çº½æ›¼çš„æ•™è‚²ç†å¿µå’Œæ´ªå ¡æ•™è‚²ä½“åˆ¶å¾ˆéš¾ç®€å•åœ°è¯´è°æ›´å¥½ä¸€ç‚¹ï¼Œè€Œæ˜¯è¦çœ‹ ç¤¾ä¼šå‘å±•æ‰€å¤„çš„é˜¶æ®µã€‚ æ”¹é©å¼€æ”¾åˆæœŸéœ€è¦å°½å¿«å‘å±•ç»æµï¼Œç±»ä¼¼äºå·¥ä¸šé©å‘½èƒŒæ™¯ä¹‹ä¸‹çš„ç¾å›½ï¼Œæ˜¾ç„¶æ´ªå ¡æ•™è‚²ä½“åˆ¶ä¸‹çš„å¤§å­¦æ•™è‚²è§æ•ˆæ›´å¿«ã€‚ç¤¾ä¼šå‘å±•è¶‹äºç¨³å®šä¹‹åï¼Œçº½æ›¼çš„æ•™è‚²ç†å¿µèƒ½å¤Ÿå¸®åŠ©å­¦ç”Ÿæ‰¾åˆ°å‘å±•çš„ååŠ²ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨é«˜è€ƒå¼€å§‹å‡ºç° â€œ3 + 3â€ã€æŸäº›åœ°æ–¹å¤§å­¦è®¡åˆ’å¯ä»¥è‡ªé€‰ä¸“ä¸šè¯¾çš„åŸå› ã€‚ è™½ç„¶ä¸“æ‰æ•™è‚²èƒ½å¤ŸåŸ¹å…»å‡ºå¾ˆå¥½çš„æ‰§è¡Œå±‚é¢çš„äºº(æ— è®ºæ˜¯ç§‘å­¦å®¶ã€å·¥ç¨‹å¸ˆï¼Œè¿˜æ˜¯å¾‹å¸ˆå’ŒåŒ»ç”Ÿ)ï¼Œä½†æ˜¯å´å¾ˆéš¾åŸ¹å…»å‡ºæ‹¥æœ‰å¹¿é˜”äº‹ä¸šçš„é¢†è¢–ä»¥åŠå®ä¸šå®¶ã€‚å½“ä¸€ä¸ªå›½å®¶å·²ç»å¤„äºç¨³æ­¥å‘ç°é˜¶æ®µï¼Œå½“ä¸€ä¸ªå­¦ç”Ÿæ¥è‡ªä¸­ä¸Šäº§ä¹‹å®¶ï¼Œæ­£æœç€ç²¾è‹±ç›®æ ‡åŠªåŠ›ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå€˜è‹¥ç¼ºå°‘åšé›…çš„ç´ è´¨æ•™è‚²ï¼Œè·¯å°±è·Ÿéš¾èµ°å¾—è¿œã€‚ä»Šå¤©ï¼Œä¸­å›½çš„é«˜ä¸­ç”Ÿä¸€è¿›é«˜ä¸­å°±å¼€å§‹ä¸“æ”»é‚£äº›é«˜è€ƒå¿…è€ƒçš„è¯¾ç¨‹ï¼Œè€Œä¸€è¿›å…¥å¤§å­¦ï¼Œä»–ä»¬å°±è¢«é™åˆ¶åœ¨ä¸å…è®¸ä¿®æ”¹çš„ä¸“ä¸šä¸­ï¼Œè¿™ä¸ä»…å¤±å»äº†å¾—åˆ°é€šæ‰æ•™è‚²çš„æœºä¼šï¼Œç”šè‡³è¢«å‰¥å¤ºäº†åŸ¹å…»è‡ªå·±å­¦ä¹ å…´è¶£çš„å¯èƒ½ï¼Œæˆ‘è‡ªå·±åœ¨è¯»é«˜ä¸­æ—¶å—åˆ°äº†å¾ˆå¤šçš„é€šæ‰æ•™è‚²ï¼Œä»¥è‡³äºåˆ°ä»Šå¤©æˆ‘æ‰€å…·å¤‡çš„äººæ–‡å’Œç¤¾ä¼šç§‘å­¦æ–¹é¢çš„ç´ å…»ï¼Œè¶³ä»¥è®©æˆ‘æˆä¸ºä¸€ä¸ªå—äººå°Šæ•¬çš„äººã€‚å¯ä»¥è¯´ï¼Œæ²¡æœ‰å¥½çš„é€šæ‰æ•™è‚²ï¼Œä¸€ä¸ªäººçš„äº‹ä¸šå‘å±•å°±ä¸ä¼šæœ‰ååŠ²ã€‚â€”â€”å´å†›ã€Šå¤§å­¦ä¹‹è·¯ã€‹ ä¸‰ã€æˆ‘è¯¥å¦‚ä½•å­¦ä¹ ï¼Ÿå…ˆåšå¥½ç»ˆèº«å­¦ä¹ çš„å¿ƒé‡Œå‡†å¤‡ç¾å›½æœ‰ä¸€ä¸ªè°šè¯­ ã€Œæ‰‹é‡Œæ‹¿ç€é”¤å­ï¼Œçœ‹ä»€ä¹ˆéƒ½æ˜¯é’‰å­ã€ã€‚æŒ‡çš„æ˜¯äººä»¬è¢«è‡ªå·±çš„æ‰€æ‹¥æœ‰çš„çŸ¥è¯†èƒ½åŠ›æ‰€å±€é™ï¼Œå¯¼è‡´è‡ªå·±åšä»€ä¹ˆäº‹æƒ…éƒ½æƒ³ç”¨æ‰‹å¤´å·²æœ‰çš„é”¤å­æ¥è§£å†³é—®é¢˜ã€‚ å›¾ç‰‡å¼•ç”¨è‡ªï¼šhttps://m.zcool.com.cn/work/ZNDA2NDkwNzY=.html è¦å…‹æœè¿™ç§é“é”¤äººç»¼åˆç—‡çš„æ–¹æ³•å°±æ˜¯ï¼šåœ¨ç²¾é€šæŸä¸€é¢†åŸŸçš„åŒæ—¶æ¥å—å„ä¸ªé¢†åŸŸçš„çŸ¥è¯†ï¼Œå¹¶ä¸”å°†ä»–ä»¬ç”¨æ¥è§£å†³ç°å®ä¸–ç•Œä¸­çš„é—®é¢˜ã€‚ å¦‚æ­¤ï¼Œå†é‡è§é’‰å­æˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªå·¥å…·ç®±ã€‚æ—¢æœ‰é”¤å­ï¼Œä¹Ÿæœ‰èºä¸åˆ€ï¼Œè¿˜æœ‰é’³å­â€¦ ä½†æ˜¯ï¼Œè¦åœ¨çŸ­çŸ­çš„å››å¹´æ—¶é—´é‡Œåšåˆ°è¿™ä¸€ç‚¹æ˜¯æœ‰ä¸€å®šå›°éš¾çš„ï¼š é¦–å…ˆï¼Œå­¦æ ¡è¦æœ‰èƒ½åŠ›å¼€å‡ºè¶³å¤Ÿå¯ä¾›å­¦ç”Ÿé€‰æ‹©çš„è¯¾ç¨‹ã€‚è¿™ä¸€ç‚¹ï¼Œå³ä½¿æ˜¯å¦‚ä¸Šäº¤è¿™æ · (æœ‰å¤§é‡æ”¿åºœæŠ•å…¥çš„) çš„å­¦æ ¡éƒ½å¾ˆéš¾åšåˆ°ã€‚æ¯å¹´åˆ°äº†é€‰è¯¾çš„å­£èŠ‚ï¼Œéƒ½æ˜¯å¯¹å­¦æ ¡æ•™åŠ¡ç³»ç»ŸæœåŠ¡å™¨çš„ä¸€æ¬¡å¤§è€ƒã€‚å­¦ç”Ÿä»¬éœ€è¦åƒæŠ¢æ˜¥è¿ç«è½¦ç¥¨ä¸€æ ·æ¥æŠ¢ä»…æœ‰çš„ä¸Šç™¾é—¨é€‰ä¿®è¯¾ã€‚ å…¶æ¬¡ï¼Œå³ä½¿å¼ºè¡Œå¼€å‡ºè¿™äº›è¯¾ç¨‹ï¼Œä½†æ˜¯è¯¾ç¨‹çš„è´¨é‡å¾€å¾€æ— æ³•å¾—åˆ°ä¿éšœã€‚åœ¨æˆ‘çš„å­¦æ ¡ï¼Œè®¸å¤šé€‰ä¿®è¯¾å®Œå…¨ç®—ä¸ä¸Šå¸å¼•äººï¼Œä¹Ÿå¾ˆå°‘æ•™è¯¾æ•™çš„å¥½çš„è€å¸ˆ (æˆ‘å¤§å­¦æœ‰ä¸€é—¨è¯¾ï¼Œè€å¸ˆä¸Šè¯¾ä¸è®²è¯¾å°±æ”¾è§†é¢‘ï¼Œå­¦ç”Ÿå®‰é™åœ°å¾…åˆ°ä¸‹è¯¾å°±å¯ä»¥èµ°äº†â€¦)ï¼Œäºæ˜¯è¿™äº›é€‰ä¿®è¯¾æˆäº†åŒå­¦èµ¶ä½œä¸šï¼Œç©æ‰‹æœºçš„æ—¶é—´ã€‚ å”¯ä¸€çš„è§£å†³åŠæ³•å°±æ˜¯å»¶é•¿æ•™è‚²æ—¶é—´ã€‚ åœ¨ç¾å›½è®¸å¤šåæ ¡ï¼Œä¾‹å¦‚å“ˆå¼—ï¼Œæ™®æ—æ–¯é¡¿é‡‡ç”¨æœ¬ç§‘ç»™å­¦ç”Ÿä»¥é€šè¯†æ•™è‚²ï¼Œå­¦ç”Ÿå¯ä»¥è‡ªç”±é€‰è¯¾ (å“ˆå¼—ä¸ºäº† 6000 åæœ¬ç§‘å¼€å‡ºäº† 2000 å¤šé—¨è¯¾)ã€‚ä¹‹åå†é€šè¿‡ 1-2 å¹´çš„ç ”ç©¶ç”Ÿæ•™è‚²è®©å­¦ç”Ÿå®ç°ä¸“ä¸šæ•™è‚²ã€‚è¿™ä¸ªä¸ä¸­å›½ç ”ç©¶ç”Ÿçš„è½»æ•™è‚²é‡ç§‘ç ”æœ‰æ‰€ä¸åŒã€‚ ä½†æ˜¯å¯¹äºæˆ‘ä»¬æ™®é€šäººæ¥è¯´ï¼Œæˆ‘ä»¬å¾ˆéš¾æœ‰æœºä¼šè¿›å…¥è¿™äº›é¡¶çº§å¤§å­¦ï¼Œæ¥è§¦åˆ°è¿™æ ·çš„èµ„æºï¼Œé‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ è¿™ä¸ªå°±è¦æŠ›å‡ºæ‰€ç§‰æŒçš„è§‚å¿µï¼šåšæŒç»ˆèº«æ•™è‚²ã€‚è¿™é‡Œå¼•ç”¨å´å†›åœ¨ã€Šå¤§å­¦ä¹‹è·¯ã€‹é‡Œé¢çš„ä¸€æ®µè¯ï¼š å¯èƒ½è®¸å¤šäººè®¤è¯†ä¸åˆ°æ•™è‚²æ˜¯ä¸€è¾ˆå­çš„äº‹æƒ…ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒè¾“åœ¨èµ·è·‘çº¿ä¸Šï¼Œå› ä¸ºä¸–ç•Œä¸Šå¤§éƒ¨åˆ†äººè·‘åˆ°ä¸€åŠå°±ä¸ä¼šå†è·‘äº†ï¼Œè¿™å°±ç»™äº†é•¿è·‘è€…æœºä¼š å¹¶ä¸”ï¼Œä¸€ä¸ªå–„äºå­¦ä¹ çš„äººï¼Œéšç€å¹´é¾„çš„å¢é•¿ï¼Œä»–ä¼šæ‰¾åˆ°è‡ªå·±çš„å…´è¶£ç‚¹ï¼Œå¦‚æœä»–è¿˜èƒ½å¤Ÿå­¦ä¹ ï¼Œå°±æœ‰äº†ç›®çš„æ€§å’Œé’ˆå¯¹æ€§ã€‚ åœ¨å¤§å­¦é‡Œæˆ‘ä»¬éœ€è¦å…»æˆä¸€ç§è‡ªå­¦çš„ä¹ æƒ¯ã€‚ä¸ä»…ä»…æ˜¯è‡ªå­¦å­¦æ ¡æ‰€å®šåˆ¶çš„ä¸“ä¸šè¯¾ï¼Œå¹¶ä¸”è¦æœ‰èƒ½æ ¹æ®è‡ªå·±çš„å…´è¶£ï¼Œè¦è§£å†³çš„é—®é¢˜è€Œé«˜æ•ˆè‡ªå­¦çš„èƒ½åŠ›ã€‚ å¹¶ä¸”å…»æˆä¹ æƒ¯ï¼š é‡è§é—®é¢˜ -&gt; åˆ†æé—®é¢˜ -&gt; æœé›†ç›¸å…³èµ„æ–™ -&gt; å­¦ä¹ ç›¸å…³èµ„æ–™ -&gt; è§£å†³é—®é¢˜ã€‚ é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿè·³å‡ºç¯å¢ƒç»™æˆ‘ä»¬å¸¦æ¥çš„å±€é™æ€§ï¼Œæ‹¥æœ‰æ›´ä¸°å¯Œçš„çš„äººç”Ÿã€‚ æ–¹å‘ä¸å¯¹ï¼ŒåŠªåŠ›ç™½è´¹æœ‰ä¸€ä¸ªæ¸…æ™°çš„ç›®æ ‡å¾ˆé‡è¦å°±è¯´è¯´æˆ‘çš„ä¸¤ä¸ªåŒå­¦å§ã€‚ åŒå­¦ A | å¤§ä½¬ç¨‹åºå‘˜ï¼š ä¸€ä¸ªæ˜¯åœ¨å¤§ä¸€åˆšè¿›æ¥ï¼Œæ­£å½“åŒå­¦ä»¬è¿˜å¤„äºåˆšè¿›å…¥å¤§å­¦çš„é‚£ç§æœ¦æœ¦èƒ§èƒ§ã€æ”¾æ”¾æ¾æ¾æ—¶ï¼Œå°±å·²ç»å†³å®šå¥½äº†è¦èµ°æŠ€æœ¯è¿™æ¡è·¯çº¿çš„ åŒå­¦ Aã€‚ åœ¨å¤§ä¸€åˆšå¼€å­¦æ—¶å°±å¼€å§‹æ—©æ—©å‡†å¤‡è‡ªå­¦ C/ C++ï¼Œç­‰åˆ°æˆ‘ä»¬å¼€å§‹ä¸Šå­¦æ ¡ä¸ºæˆ‘ä»¬å¼€è®¾çš„è¯¾ç¨‹æ—¶ï¼Œä»–å·²ç»åˆ©ç”¨ä¸€ä¸ªæš‘å‡çš„æ—¶é—´ï¼Œè‡ªå·±åŸºäº Unix æ”¹å†™è‡ªå·±çš„ æ“ä½œç³»ç»Ÿã€‚åœ¨æˆ‘ä»¬ä¸Šæœºçš„è¯¾å ‚ä¸Šè¿˜å¬ä»–åæ§½è‡ªå·±å®ç°çš„åƒåœ¾æ¡¶åˆ ä¸äº†æ–‡ä»¶ï¼Œæœ‰ BUGã€‚ åæ¥ç­‰åˆ°æˆ‘ä»¬å¼€å§‹å­¦ä¹ è®¡ç®—æœºç½‘ç»œæ—¶ï¼Œä»–åˆè‡ªå·±ä»¿å†™äº†ä¸€ä¸ªç±» Nginx æœåŠ¡å™¨ã€‚ å†ç­‰æˆ‘ä»¬å¤§å››å‡†å¤‡å®ä¹ æ—¶ï¼Œä»–ä¿¨ç„¶å·²ç»æˆä¸ºäº† Offer æ”¶å‰²æœºï¼Œæƒ³å»å“ªå„¿å°±å»å“ªå„¿ (å°½ç®¡æˆ‘ä»¬å­¦æ ¡ä»…ä»…æ˜¯ä¸€ä¸ªäºŒæœ¬é™¢æ ¡)ã€‚å½“æ—¶çœ‹ç€ä»–ç®€å†ä¸Šçš„ä¸¤ä¸ªé¡¹ç›®ï¼šè‡ªå·±å®ç°çš„æ“ä½œç³»ç»Ÿå’ŒæœåŠ¡å™¨ï¼Œå¿ƒé‡Œå°±æ˜¯ä¸€å¥ï¼šã€Œå§æ§½ï¼ç‰›é€¼ï¼ã€ã€‚ åŒå­¦ B | å¤§ä½¬é”€å”®å‘˜ï¼š å¤§ä¸€å°±å¼€å§‹å–æˆ‘ä»¬ç”µè„‘.. åæ¥å¤§äºŒå¼€å­¦å¼€å§‹ä»£ç†å­¦æ ¡çš„ç”µä¿¡ã€ç§»åŠ¨ç­‰ç§»åŠ¨ä¸šåŠ¡ï¼Œå†åæ¥è¿˜å¼€å±•äº†é©¾æ ¡çš„ä¸šåŠ¡ï¼Œå¤§å››çš„æ—¶å€™å§ï¼Œæˆ‘ä»¬éƒ½è¿˜åœ¨æ‰¾å®ä¹ å‘¢ï¼Œä»–å·²ç»åœ¨å­¦æ ¡å‘¨è¾¹å¼€åŠèµ·äº†è‡ªå·±çš„å…¬å¸..æˆä¸ºäº†è‡ªå·±çš„ CEO.. ä¸ºä¹‹åŠªåŠ›ï¼Œå¹¶ä¸”æ°¸è¿œä¸è¦æ€•æ™šåæ¥æƒ³èµ·è¿™ä¸¤ä½åŒå­¦ï¼Œå¸¸å¸¸ä¼šä»¥ â€œä»–ä»¬ç›®æ ‡å¥½æ¸…æ™°â€ è¿™æ ·çš„å¥å¼æ¥ æ©ç›–ä»–ä»¬ä¸ºä¹‹ä»˜å‡ºçš„åŠªåŠ›ï¼Œæ–¹å‘å›ºç„¶é‡è¦ï¼Œä½†ä¸ºä¹‹åŠªåŠ›ä¹ŸåŒæ ·ã€‚å¦‚æœä¸æ˜¯ åŒå­¦ A ç‰ºç‰²å…¶ä»–åŒå­¦ç©è€çš„æ—¶é—´è‡ªå­¦å­¦ä¹ ç¼–ç¨‹ï¼Œä»–ä¸ä¼šæˆä¸ºåæ¥äººäººçœ¼çº¢çš„ Offer æ”¶å‰²æœºï¼Œå¦‚æœä¸æ˜¯ åŒå­¦ B å‹¤å‹¤æ³æ³ä¸æ€•è¾›è‹¦ç»è¥ã€æ¢ç´¢å„ç§ä¸šåŠ¡ï¼Œé‚£ä¹Ÿä¸ä¼šåæ¥æ—©æ—©æˆä¸ºè‡ªå·±çš„ CEOã€‚ ä¸ºä¹‹åŠªåŠ›ï¼Œå¹¶ä¸”æ°¸è¿œä¸è¦è§‰å¾—æ™šã€‚è¯´æ¥æƒ­æ„§ï¼Œæˆ‘çš„å¤§å­¦å‡ ä¹å¯ä»¥è¯´æ˜¯ä»å¤§ä¸‰å¼€å§‹çš„ï¼Œå½“æˆ‘çªç„¶å¼€å§‹æ„è¯†åˆ°æˆ‘å³å°†è¿›å…¥ç¤¾ä¼šå´èº«æ— é•¿ç‰©æ—¶ï¼Œæˆ‘çªç„¶è§‰å¾—éœ€è¦ä¸€äº›äº›çš„æ”¹å˜å’ŒåŠªåŠ›ã€‚äºæ˜¯æˆ‘å½“å¤©å°±å¼€å§‹åˆ¶å®šè®¡åˆ’ï¼Œä»é‚£å¤©åˆ°å­¦æœŸç»“æŸè¿˜æœ‰ ä¸ƒä¸ªæ˜ŸæœŸé›¶ 2 å¤©ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢è¿™ä¸ªè®¡åˆ’ï¼š ä»æœ€åŸºç¡€çš„ Servlet/ JSP åˆ° SpringBoot ä¸€æ•´ä¸ªåŸºç¡€çš„å­¦ä¹ è¿‡æ¥ï¼Œä¹Ÿåˆ°äº†æš‘å‡ï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯æœ‰å·®è·æ‰€ä»¥æ¯…ç„¶å†³å®šç•™æ ¡å­¦ä¹ ï¼Œäºæ˜¯æœ‰äº† æš‘æœŸè®¡åˆ’ï¼š è¿™ä¸€æ®µæ—¶é—´ï¼Œç»™è‡ªå·±çš„ç®€å†ä¸Šå¢åŠ é¡¹ç›®ã€å­¦ä¹ å·©å›ºåŸºç¡€çš„æ•°æ®ç»“æ„ã€ç®—æ³•çŸ¥è¯†ï¼Œç„¶å å‚åŠ ç§‹æ‹› (å½“æ—¶çš„é¢ç»)ï¼Œæ„è¯†åˆ°è‡ªå·±çš„å·®è·ï¼Œå¹¶ä¸”æƒ³æ˜ç™½äº†è‡ªå·±æƒ³è¦ç»§ç»­å­¦ä¹ æ›´å¤šçš„çŸ¥è¯†ä¹‹åï¼Œå†³å®š è€ƒç ”ï¼š ä¸¤ä¸ªæœˆçš„æ‹¼æï¼Œè™½ç„¶æœ€ç»ˆä»¥ 4 åˆ†çš„å·®è·æœªèƒ½å¦‚æ„¿æ‹©æ ¡ï¼Œä½†åæ¥æ˜¥æ‹›ä¹Ÿç®—æ˜¯å¦‚æ„¿è¿›å…¥äº†è‡ªå·±æ¯”è¾ƒå¿ƒä»ªçš„å…¬å¸ã€‚ è¿™ä¸€åˆ‡çš„ â€œé€†è¢­â€ å¯¹äºæˆ‘æ¥è¯´ï¼Œä¹Ÿä¸è¿‡ä»…ä»…ä¸€å¹´çš„æ—¶é—´ã€‚ æˆ‘æŠŠè¿™äº›ç»å†ä¹Ÿè®°å½•åœ¨äº†è¿™é‡Œ - 2018 å¹´ç»ˆæ€»ç»“ é”»ç‚¼ç‹¬ç«‹æ€è€ƒã€è‡ªä¸»ç ”ç©¶è§£å†³é—®é¢˜çš„èƒ½åŠ›åœ¨å‰ä¸€æ®µæ—¶é—´é‡Œï¼Œæˆ‘æ¥è§¦åˆ°ä¸€ä¸ªè¯ï¼šã€ŒäºŒæ‰‹äººç”Ÿã€ã€‚å®ƒæ¦‚æ‹¬çš„æ˜¯è¿™æ ·ä¸€ç§å¤„å¢ƒï¼šã€Œä½ å‘ç°ä½ åœ¨ç”Ÿæ´»é‡Œé‡åˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œåœ¨æœç´¢å¼•æ“é‡Œéƒ½èƒ½æ‰¾åˆ°ç­”æ¡ˆã€ã€‚ æ¯”å¦‚è¯´ï¼Œæ€ä¹ˆæ­é…è¡£æœæ‰ä½è°ƒä¼˜é›…ï¼Œå»å“ªåƒé¥­ä¾¿å®œåˆç¾å‘³ï¼Œä¹°å“ªæ¬¾è€³æœºæ›´åˆ’ç®—ï¼Œå·¥ä½œè¿˜æ˜¯è€ƒç ”ï¼Œè¦ä¸è¦å…¥æ‰‹æ¯”ç‰¹å¸ï¼Œéƒ½æœ‰äººæ›¿ä½ è§£ç­”äº†ã€‚ä½ è¿˜å‘ç°æœ‰ä¸€æ‰¹äººç”¨ç…§ç‰‡ã€è§†é¢‘ã€æ®µå­ã€å¹¿å‘Šä¸ºä½ æä¾›äº†ä¸€ä¸ªç²¾å¿ƒåŠ å·¥è¿‡çš„ä¸–ç•Œï¼Œè¿™ä¸ªä¸–ç•Œå¸¸å¸¸æ¯”ä½ è‡ªä¸ªå„¿çš„ä¸–ç•Œè¦ç¾ä¸½æœ‰è¶£æ·±åˆ»å¥½ç¬‘æœ‰å“ä½å¾—å¤šã€‚å¦‚æœæŠŠå½“ä»£ç”Ÿæ´»æ¯”ä½œä¸€åœºå¼€å·è€ƒï¼Œæ¯”èµ·ä½ è‡ªå·±æ…¢æ…¢æ‰¾ç­”æ¡ˆï¼Œè¾¾äººä»¬å·²ç»ä¸ºä½ æä¾›äº†ä¸€å¥—é«˜åˆ†ç­”æ¡ˆæ”¾åˆ°ä½ é¢å‰è®©ä½ å‚è€ƒã€‚ æ¸æ¸åœ°ä½ å…»æˆäº†ä¸€ç§ å­¦ç”Ÿå¼ä¹ æƒ¯ï¼Œå½“ç”Ÿæ´»ç»™ä½ å‘äº†ä¸€ä»½æ–°å·å­ï¼Œä½ çš„ç¬¬ä¸€ååº”å°±æ˜¯å…ˆç¿»åˆ°ç½‘ä¸Šï¼Œå»çœ‹å‚è€ƒç­”æ¡ˆã€‚ äº‹å®è¯æ˜ï¼Œåæ¥æˆ‘ä»¬æ¥è§¦çš„å¤§éƒ¨åˆ†äº‹æƒ… (æ— è®ºç”Ÿæ´»è¿˜æ˜¯å­¦ä¹ ä¸Š)ï¼Œéƒ½ä¸å¤ªå®¹æ˜“æœ‰ä¸€ä¸ªæ ‡å‡†ç­”æ¡ˆï¼Œå½“é—®é¢˜æ¥ä¸´æ—¶ï¼Œå¦‚ä½•ç‹¬ç«‹æ€è€ƒã€è‡ªä¸»ç ”ç©¶è§£å†³é—®é¢˜ï¼Œæ˜¯éå¸¸é‡è¦çš„èƒ½åŠ›ã€‚ è‡ªæˆ‘å†™åšå®¢ä»¥æ¥ï¼Œå¸¸å¸¸æ”¶åˆ°è¯»è€…ä»¬å‘æ¥çš„é—®é¢˜ï¼Œæœ‰ä¸€äº›æ˜¯ä»–ä»¬çœŸå®åœ°é‡åˆ°äº†ä¸å¯è§£å†³çš„é—®é¢˜å¯»æ±‚æˆ‘çš„å¸®åŠ©ï¼Œæœ‰ä¸€äº›é—®é¢˜åˆ™æ˜¾å¾—æˆ‘å¾ˆæ„å¤–ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š(ç½‘ç«™é“¾æ¥ æˆ³è¿™é‡Œ) ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿæˆ‘æƒ³å¤§æ¦‚å°±æ˜¯å­¦ç”Ÿæ—¶ä»£é—ç•™ä¸‹æ¥çš„ä¹ æƒ¯å§ï¼Œä¹ æƒ¯äº†æ›´è½»æ¾ä¸€äº›çš„å‘åˆ«äººå¯»æ±‚å¸®åŠ©æˆ–è€…æ˜¯ç¿»æ‰¾å‚è€ƒç­”æ¡ˆï¼Œå¾ˆå°‘è‡ªå·±ä¸»åŠ¨åœ°å»æ€è€ƒå¹¶å¾—å‡ºé—®é¢˜çš„ç­”æ¡ˆã€‚ è¿™é‡Œç»™å‡ºä¸€ä¸ªé—®é—®é¢˜çš„æ ‡å‡†æ¨¡æ¿ï¼š å­¦ä¼šç¼–ç¨‹è€Œä¸æ˜¯å­¦ä¼š Javaå…¶å®æŠ€æœ¯æ˜¯ç›¸é€šçš„ã€‚ç¼–ç¨‹çš„è½è„šç‚¹è¿˜æ˜¯åº”è¯¥æ”¾åœ¨ è§£å†³é—®é¢˜ ä¸Šï¼Œè€Œä¸æ˜¯ä½¿ç”¨æŸç§å·¥å…·ä¸Šã€‚æ›´é‡è¦çš„æ˜¯æˆ‘ä»¬é€šè¿‡å­¦ä¹ æŸä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å…»æˆ è®¡ç®—æœºçš„æ€ç»´æ–¹å¼ï¼Œè¿™ä¹Ÿè¦æ±‚äº†æˆ‘ä»¬åœ¨æŒæ¡ä¸€ç§æŠ€æœ¯æ—¶ï¼Œä¸ä»…è¦ çŸ¥å…¶ç„¶ï¼Œè¿˜è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚ ä¾‹å¦‚åœ¨ã€Œç å†œç¿»èº«ã€çš„ä¸€ç¯‡æ–‡ç« ã€Œå­¦ä¼šç¼–ç¨‹ï¼Œ è€Œä¸æ˜¯å­¦ä¼šJavaã€ é‡Œå°±æåˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ¨¡ä»¿ Java çš„ ArrayList å®ç°ä¸€ä¸ªè‡ªå·±çš„ SimpleList ç±»ï¼š(ç°åœ¨çœ‹ä¸æ‡‚ä¹Ÿæ²¡å…³ç³») public class SimpleList&lt;T> { private Object[] elementData; private int size = 0; public int size() { return -1; } public SimpleList() { } public boolean isEmpty() { return false; } public boolean add(T e) { return false; } public boolean remove(Object o) { return false; } public T get(int index) { return null; } } è¿™ä¸ªé¢˜ç›®ä¸è¦æ±‚å®ç°å¤æ‚çš„ç®—æ³•ï¼Œ ä¹Ÿä¸éœ€è¦è¿›è¡Œé¢å‘å¯¹è±¡çš„è®¾è®¡ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘å¤šçº¿ç¨‹ä¸‹çš„çº¿ç¨‹å®‰å…¨ï¼Œ å†µä¸”å·²ç»ç»™äº†æç¤ºï¼šã€Œç”¨ä¸€ä¸ªObjectæ•°ç»„æ¥å®ç°ã€ã€‚å¦‚æœè¯´æœ‰ä¸€ç‚¹è¯­æ³•å±‚é¢çš„éš¾åº¦ï¼Œ é‚£å°±æ˜¯ä½¿ç”¨äº†ä¸€ç‚¹æ³›å‹ã€‚ è¿™ä¸ª SimpleList è¦æ±‚çš„å°±æ˜¯èƒ½å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œæ“ä½œï¼Œæ ¸å¿ƒå°±ä¸¤ç‚¹ï¼š èƒ½å¾€æ•°ç»„æ·»åŠ æ•°æ®ï¼Œ è®°å½•size ï¼Œå¦‚æœæ•°ç»„ç©ºé—´ä¸å¤Ÿäº†ï¼Œ éœ€è¦å¢å¤§ç©ºé—´ èƒ½åˆ é™¤æ•°ç»„æŒ‡å®šä½ç½®çš„æ•°æ®ï¼Œå¹¶ä¸”æŠŠä¹‹åçš„æ•°æ®å¾€å‰æŒªåŠ¨ã€‚ éš¾å—ï¼Ÿè¿™å…¶å®æ˜¯ç¼–ç¨‹åºçš„åŸºæœ¬ç´ å…»ï¼Œç¼–ç¨‹çš„æœ¬è´¨ï¼Œå’Œç”¨ä»€ä¹ˆè¯­è¨€å®ç°æ²¡æœ‰å…³ç³»ã€‚ å†™æ›´å¤šæ›´å¤šçš„ä»£ç æŠ€æœ¯æ²¡æœ‰æ·å¾„æŠ€æœ¯ä¸è¦æƒ³ç€æœ‰æ·å¾„å¯å¯»ï¼Œåå¹´å…¥è¡Œæ˜¯æœ‰é“ç†çš„ã€‚ ç°åœ¨éšä¾¿èµ°è¿›ä¸€å®¶ä¹¦åº—ï¼Œéƒ½ä¼šåœ¨æŠ€æœ¯ç±»çš„ä¹¦æ¶ä¸Šçœ‹åˆ°ä¸€å †çš„ç±»ä¼¼äºã€Š24å°æ—¶å­¦ä¼šJavaã€‹ã€ã€Š21å¤©C++ä»å…¥é—¨åˆ°ç²¾é€šã€‹è¿™æ ·çš„çš„ä¹¦ (ä¸Šé¢çš„æ¼«ç”»å°±å¾ˆå¥½åœ°è°ƒä¾ƒäº†)ï¼Œç„¶è€Œè¿™ä¸€ç±»ã€Œæ ‡é¢˜å…šã€ä¹¦ç±ï¼Œéƒ½æ˜¯è®©ä½ ã€Œèµ°é©¬è§‚èŠ±ã€åœ°ç§ä¸Šä¸€ç§ï¼Œä¹Ÿæ²¡æœ‰æ—¶é—´è®©ä½ å†™å‡ ä¸ªçœŸæ­£æœ‰æ„ä¹‰çš„ç¨‹åºï¼Œè¿™æ ·çš„ ã€Œä¸€çŸ¥åŠè§£ã€ æ˜¯ä¸€ä»¶æå…¶å±é™©çš„äº‹æƒ…ã€‚ è¸è¸å®å®é“ºå¹³åŸºç¡€çŸ¥è¯†ï¼Œæ‰æ˜¯æ­£é“ã€‚ åš ABC çš„ç¨‹åºå‘˜è€Œä¸æ˜¯ ABR ABC: Always Be Codingâ€¦ ABR: Always Be Readingâ€¦ çœ‹æ—¶ä¼šï¼Œåšæ—¶åºŸï¼Ÿäººä»¬å£ä¸­å¸¸è¯´çš„ ã€Œç»éªŒã€ï¼Œå…¶å®æ˜¯æŒ‡ä»è‡ªå·± ã€Œä¸€æ‰‹å®è·µã€ ä¸­å¾—åˆ°çš„ ã€Œä¸€æ‰‹ç»éªŒã€ï¼Œè€Œä¸æ˜¯æŒ‡é‚£äº›ä»æ–‡ç« ä»åˆ«äººå£ä¸­è·å–åˆ°çš„ã€ŒäºŒæ‰‹ç»éªŒã€ã€‚æ‰€ä»¥è¦ä¿æŒ ã€Œä¿æŒå§‹ç»ˆç¼–ç¨‹ã€ï¼Œä½ ç¼–å†™çš„ä»£ç è¶Šå¤šï¼Œé‚£ä¹ˆä½ çš„æ°´å¹³å°±ä¼šæå‡å¾—è¶Šå¤šã€‚ å» é€ é‡å¤çš„è½®å­ã€ä¸å…¶ä»–ç¨‹åºå‘˜äº¤æµã€åŠ¨æ‰‹å®è·µè‡ªå·±çš„æƒ³æ³•ã€‚æœ€ä½³å®è·µå°±æ˜¯é›†ä¸­è®­ç»ƒï¼Œå¹¶ä¸”ä¸æ–­åœ°æ¢ç´¢æ–°é¢†åŸŸå¹¶æŒ‘æˆ˜è‡ªå·±ã€‚ è‡ªå­¦è‡ªå­¦æ˜¯ç¨‹åºå‘˜å¿…é¡»æŒæ¡çš„ä¸€é¡¹æŠ€èƒ½ï¼Œä¸Šé¢å·²ç»è¯´åˆ°äº†å¤§å­¦çš„è¯¾ç¨‹è®¾è®¡ä¸æ˜¯ä»¥ åŸ¹å…»ç¨‹åºå‘˜ ä¸ºç›®çš„çš„ï¼Œè€Œæ˜¯ä»¥ æ•™æˆæœ€åŸºç¡€çš„çŸ¥è¯†æŠ€èƒ½ï¼Œæ‰€ä»¥è‡ªå­¦å¾ˆé‡è¦ã€‚ ä¸€äº›é«˜è´¨é‡çš„è‡ªå­¦èµ„æ–™å’Œå¹³å° éƒ¨åˆ†æ‘˜å½•è‡ªï¼šGithub è¿‘90kç‚¹èµçš„è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹,åœ¨å®¶ä¹Ÿèƒ½ä¸Šåæ ¡! | JavaGuide computer-science star :56.1k Github åœ°å€ï¼šhttps://github.com/ossu/computer-science#intro-cs ä»‹ç»ï¼šé€šå¾€è®¡ç®—æœºç§‘å­¦å…è´¹è‡ªå­¦æ•™è‚²ä¹‹è·¯ï¼è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹ TeachYourselfCS-CN (è‡ªå­¦è®¡ç®—æœºç§‘å­¦) star :0.8k Github åœ°å€ï¼šhttps://github.com/keithnull/TeachYourselfCS-CN ä»‹ç»ï¼šTeachYourselfCS çš„ä¸­æ–‡ç¿»è¯‘ã€‚å†…å®¹è¶…çº§æ£’ï¼å¦‚æœä½ æ˜¯ä¸€ä¸ªè‡ªå­¦æˆæ‰çš„å·¥ç¨‹å¸ˆï¼Œæˆ–è€…ä»ç¼–ç¨‹åŸ¹è®­ç­æ¯•ä¸šï¼Œé‚£ä¹ˆä½ å¾ˆæœ‰å¿…è¦å­¦ä¹ è®¡ç®—æœºç§‘å­¦ã€‚å¹¸è¿çš„æ˜¯ï¼Œä¸å¿…ä¸ºæ­¤èŠ±ä¸Šæ•°å¹´å…‰é˜´å’Œä¸è²è´¹ç”¨å»æ”»è¯»ä¸€ä¸ªå­¦ä½ï¼šä»…ä»…ä¾é è‡ªå·±ï¼Œä½ å°±å¯ä»¥è·å¾—ä¸–ç•Œä¸€æµæ°´å¹³çš„æ•™è‚²ã€‚åœ¨è¿™ä»½æŒ‡å¼•ä¸­ä¼šä¸ºä½ è§£ç­”ï¼šä½ åº”å½“å­¦ä¹  å“ªäº›ç§‘ç›®ï¼Œä¸ºä»€ä¹ˆï¼Ÿå¯¹äºè¿™äº›ç§‘ç›®ï¼Œæœ€å¥½çš„ä¹¦ç±æˆ–è€…è§†é¢‘è¯¾ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ REKCARC-TSC-UHT(æ¸…åå¤§å­¦è®¡ç®—æœºç³»è¯¾ç¨‹æ”»ç•¥) star :12.2k Github åœ°å€ï¼šhttps://github.com/PKUanonym/REKCARC-TSC-UHT ä»‹ç»ï¼šæ¸…åå¤§å­¦è®¡ç®—æœºç³»è¯¾ç¨‹æ”»ç•¥ã€‚å— æµ™æ±Ÿå¤§å­¦ç›¸å…³é¡¹ç›® å¯å‘ï¼Œåˆ›ç«‹äº†æœ¬é¡¹ç›®ã€‚ ç½‘æ˜“äº‘è¯¾å ‚ - é¡¶å°–ä¸­æ–‡å¤§å­¦è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹ä½“ç³» åœ°å€ï¼šhttps://study.163.com/curricula/cs.htm ä»‹ç»ï¼šæ±‡é›†å…¨å›½å¤šå®¶çŸ¥åå¤§å­¦é‡Œå¹¿å—å­¦ç”Ÿå¥½è¯„çš„è®¡ç®—æœºè€å¸ˆï¼Œæ¯ä¸€é—¨è¯¾ç¨‹éƒ½ç”±ä»–ä»¬äº²è‡ªåˆ¶ä½œï¼Œæƒå¨ã€ä¸“ä¸šï¼äººäººéƒ½å¯ä»¥åœ¨è¿™é‡Œä½“éªŒåˆ°æ—¶ä¸‹æœ€æµè¡Œçš„ MOOCï¼Œç³»ç»Ÿåœ°æŒæ¡è®¡ç®—æœºä¸“ä¸šçŸ¥è¯†ã€‚ and moreâ€¦ ç±»ä¼¼çš„èµ„æ–™æœ‰å¾ˆå¤šï¼Œé‡ç‚¹è¿˜æ˜¯è¦è‡ªå·±èƒ½å¤Ÿé™å¾—ä¸‹å¿ƒæ¥å­¦ä¹ ï¼Œå¦‚æœçº ç»“ã€Œçœ‹ä¹¦è¿˜æ˜¯çœ‹è§†é¢‘ã€ï¼Œæˆ‘çš„å»ºè®®æ˜¯ ã€Œéƒ½çœ‹ï¼ã€ã€‚ ä¸è¦åœ¨å¯å®¤å­¦ä¹ å®¿èˆé‡Œé¢åƒçš„å–çš„ç©çš„ï¼Œè¦å•¥å•¥éƒ½æœ‰ï¼Œè€Œä¸”ç¯å¢ƒå¤æ‚.. å¾ˆéš¾ä¸è¢«å„ç§å¥‡æ€ªçš„ä¸œè¥¿å½±å“.. æ‰€ä»¥è¦å­¦ä¹ å°±ä¸è¦å‘†åœ¨å®¿èˆã€‚ å¯¹è‡ªå·±æœ‰æ›´é«˜çš„æ ‡å‡†ï¼Œæ‰ä¼šæœ‰æ›´å¤šé€‰æ‹© è¿™é‡Œç›´æ¥å¼•ç”¨ã€Šç²¾è¿›ã€‹ çš„æ®µè½ã€‚ å†³ç­–å¿ƒç†å­¦è®¤ä¸ºï¼Œäººåœ¨é¢ä¸´é€‰æ‹©æ—¶ï¼Œé€šå¸¸ä¼šé‡‡ç”¨ â€œæ»¡æ„åŸåˆ™â€ï¼Œè€Œä¸æ˜¯ â€œæœ€ä¼˜åŸåˆ™â€ã€‚æ‰€è°“ â€œæ»¡æ„åŸåˆ™â€ï¼Œå°±æ˜¯äººä¼šä»è‡ªå·±æœ€ç†Ÿæ‚‰çš„å¾…é€‰é¡¹å¼€å§‹é€ä¸€è€ƒå¯Ÿï¼Œå¦‚æœå‘ç°äº†ä¸€ä¸ªèƒ½æ»¡è¶³å†…å¿ƒæ ‡å‡†çš„é€‰é¡¹ï¼Œè§‰å¾—å®ƒæ˜¯ OK çš„ï¼Œå°±ä¼šé‡‡çº³å®ƒï¼Œä¸ä¼šç»§ç»­å¯»æ‰¾å…¶ä»–é€‰é¡¹äº†ã€‚ æ‹¿æ€æ ·åº¦è¿‡å¤§å­¦ç”Ÿæ¶¯æ¥ä¸¾ä¾‹å­ã€‚å¾ˆå¤šå¤§ä¸€æ–°ç”Ÿæ¥åˆ°å¤§å­¦åï¼Œä»¥ä¸ºä½ åˆšåˆšä»åŸæœ¬ä¸¥è‹›çš„é«˜ä¸­ç”Ÿæ´»ä¸­è§£æ”¾å‡ºæ¥ï¼Œæ‰€ä»¥ä¸€æ—¶é—´ä¸çŸ¥é“æ€ä¹ˆé€‚åº”å¤§å­¦ç”Ÿæ´»ï¼Œæ•´å¤©è€½äºç©ä¹ï¼Œè’åºŸäº†å­¦ä¸šã€‚æœ¬æ¥ä»–ä»¬å®Œå…¨å¯ä»¥é€‰æ‹©è®¤çœŸåœ°å¯¹å¾…å­¦ä¹ ï¼Œå¯æ˜¯ä»–ä»¬å´é€‰æ‹©äº†ç›¸åçš„å¤§å­¦ä¹‹è·¯ï¼Œå…¶ä¸­ä¸€ä¸ªæœ€é‡è¦çš„åŸå› å°±æ˜¯æ²¡æœ‰åœ¨å¿ƒä¸­è®¾ç«‹ä¸€ä¸ªæ¯”è¾ƒé«˜çš„æ ‡å‡†ã€‚ ç‰¹åˆ«æ˜¯é‚£äº›è€ƒå…¥äºŒä¸‰æµå¤§å­¦çš„å­¦ç”Ÿï¼Œåœ¨è¿™æ–¹é¢çš„é—®é¢˜å¯èƒ½æ›´åŠ ä¸¥é‡ï¼Œå› ä¸ºé«˜è€ƒæœ¬èº«å¸¦æ¥çš„æŒ«è´¥æ„Ÿã€äºŒä¸‰æµé«˜æ ¡å­¦ç”Ÿçš„èº«ä»½è®¾å®šåŠç¯å¢ƒæš—ç¤ºã€ä¸ç§°èŒçš„è€å¸ˆå¼•å‘çš„å¤±æœ›ä»¥åŠåŒå­¦é—´æ”¾ä»»è‡ªæµæ°”æ°›çš„å¸¦åŠ¨ä½œç”¨ï¼Œéƒ½å®¹æ˜“è®©ä»–ä»¬åœ¨ä¸€ä¸ªä½æ ‡å‡†ä¸‹è‡ªè§‰â€œæ»¡æ„â€åœ°åº¦è¿‡æ¯ä¸€å¤©ã€‚ ä¸€ä¸ªæˆç†Ÿçš„äººï¼Œä»–çš„æ ‡å‡†æ¥è‡ªä»–çš„å†…å¿ƒï¼Œè€Œå¤§å¤šæ•°äººï¼Œå´å—ç¯å¢ƒæ‰€å·¦å³ã€‚ä¸€ä¸ªå¹´è½»äººï¼Œè¿›å…¥ä¸€æ‰€ä¸é‚£ä¹ˆä¼˜ç§€çš„é«˜æ ¡ï¼Œå¯¹è‡ªå·±çš„æ ‡å‡†ä¼šä¸ç”±è‡ªä¸»åœ°é™ä½ä»¥é€‚åº”è¿™ä¸ªç¯å¢ƒï¼Œå‡å°‘è‡ªèº«ä¸ç¯å¢ƒçš„å†²çªï¼Œè€Œè¿™ç§åšæ³•å¯¹ä»–ä»¬çš„äººç”Ÿä¹Ÿè®¸æ˜¯è‡´å‘½çš„ã€‚ä¸€ä¸ªäºŒä¸‰æµå¤§å­¦çš„å­¦ç”Ÿï¼Œèƒ½å¤Ÿå‹‡æ•¢åœ°ä»¥ â€œ985â€ é«˜æ ¡å­¦ç”Ÿä¸­çš„ä¸­æ¡£ä¹ƒè‡³é«˜æ¡£æ°´å‡†æ¥è¦æ±‚è‡ªå·±æ‰æ˜¯æ›´æ°å½“çš„åšæ³•ï¼Œä»–ä¹Ÿä¸€å®šä¼šä»ä¸­å—ç›Šã€‚ å¦‚æœå¿ƒä¸­æœ‰äº†æ›´é«˜çš„æ ‡å‡†ï¼Œä»–ç”šè‡³å¯ä»¥é€‰æ‹© â€œç‚’æ‰â€ è‡ªå·±çš„å­¦æ ¡ã€ä¸“ä¸šï¼Œæ‰“ç ´æ—§ç¯å¢ƒçš„æŸç¼šï¼Œå¯»æ‰¾æ›´é«˜å±‚æ¬¡çš„æ–°ç¯å¢ƒï¼Œæ¯”å¦‚é€‰æ‹©åšè¿™äº›äº‹ï¼š é€‰æ‹©ç½‘ç»œä¸Šé«˜æ°´å¹³çš„åœ¨çº¿è¯¾ç¨‹ï¼Œä¸é€‰æ‹©æœ¬æ ¡æ°´å¹³ç¨€çƒ‚çš„è¯¾ç¨‹ï¼› é€‰æ‹©å›½å†…æˆ–å›½å¤–ä¼˜ç§€çš„æ•™æï¼Œä¸é€‰æ‹©å›½å†…æŸäº›æ‹¼å‡‘è€Œæˆçš„æ³¨æ°´æ•™æï¼› é€‰æ‹©ä¸æœ€ä¼˜ç§€çš„åŒå­¦æˆ–å­¦é•¿äº¤æµï¼Œä¸é€‰æ‹©ä¸ç­çº§é‡Œæˆå¤©ç©ä¹çš„åŒå­¦ä¸ºä¼ï¼› é€‰æ‹©å‚åŠ å…·æœ‰æŒ‘æˆ˜æ€§çš„å„ç±»ç«èµ›ï¼Œä¸é€‰æ‹©åªæ»¡è¶³äºå®ŒæˆåŸºæœ¬çš„è¯¾ç¨‹ä½œä¸šï¼› â€¦â€¦ é¦–å…ˆæ„è¯†åˆ°ä½ æ˜¯æœ‰æ›´å¤šé€‰æ‹©çš„ï¼Œæ„è¯†åˆ°ç°åœ¨ç¯å¢ƒç»™ä½ çš„é€‰é¡¹è¿œè¿œä¸æ˜¯ä½ å¯ä»¥è·å¾—çš„å…¨éƒ¨ï¼Œç„¶åä½ ä¾¿å¯ä»¥è®©æ›´é«˜çš„æ ‡å‡†æ¨åŠ¨ç€ä½ ï¼Œå»å‘ç°æ›´å¤šçš„é€‰é¡¹ï¼Œæœ€ååšå‡ºå¯¹è‡ªå·±æ¥è¯´æ›´å¥½çš„é€‰æ‹©ã€‚ è¿™ä¸ªæ–¹æ³•ï¼Œä¸è®ºæ˜¯å¯¹äºä»€ä¹ˆèº«ä»½ã€ä»€ä¹ˆå¹´é¾„ã€ä»€ä¹ˆå¤„å¢ƒçš„äººåº”è¯¥éƒ½æ˜¯é€‚ç”¨çš„ã€‚ å‚è€ƒèµ„æ–™ åƒä¸‡åˆ«å­¦è®¡ç®—æœº | ç å†œç¿»èº« è®¡ç®—æœºè¡Œä¸šè¿˜èƒ½ç«å¤šä¹…ï¼Ÿ 996.ICU èƒŒåï¼šç¨‹åºå‘˜åœ¨äº’è”ç½‘å…¬å¸çš„çœŸå®ç”Ÿæ€ | InfoQ ç¼–ç¨‹åˆ°åº•éš¾åœ¨å“ªï¼Ÿ | çŸ¥ä¹ è¿™ç¯‡å†™ç»™æƒ³é€‰è®¡ç®—æœºä¸“ä¸šçš„å­¦å¼Ÿå­¦å¦¹ä»¬ | Crossinçš„ç¼–ç¨‹æ•™å®¤ ä¸ºä»€ä¹ˆä½ å¯ä»¥ä¸è¯»å¤§å­¦ | é˜®ä¸€å³° ä»ã€Šå¤§å­¦ä¹‹è·¯ã€‹æ€è€ƒæˆ‘çš„å¤§å­¦æ•™è‚²ä¸ºä»€ä¹ˆå¤±è´¥ï¼Ÿ çº½æ›¼+é¸¿å ¡ | çœŸæ­£çš„å¤§å­¦ç”Ÿæ´» å­¦ä¼šç¼–ç¨‹ï¼Œè€Œä¸æ˜¯å­¦ä¼šJava æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ‡‚ä¸€ç‚¹å‰ç«¯â€”Vueå¿«é€Ÿå…¥é—¨","slug":"æ‡‚ä¸€ç‚¹å‰ç«¯â€”Vueå¿«é€Ÿå…¥é—¨","date":"2020-03-30T06:38:00.000Z","updated":"2020-08-03T10:14:01.531Z","comments":true,"path":"2020/03/30/dong-yi-dian-qian-duan-vue-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2020/03/30/dong-yi-dian-qian-duan-vue-kuai-su-ru-men/","excerpt":"","text":"01. ä»€ä¹ˆæ˜¯ Vue Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº view) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ï¼Œæ˜¯å½“ä¸‹å¾ˆç«çš„ä¸€ä¸ª JavaScript MVVM åº“ï¼Œæ˜¯ä»¥ æ•°æ®é©±åŠ¨å’Œç»„ä»¶åŒ– çš„æ€æƒ³æ„å»ºçš„ã€‚ MVVM æ¨¡å¼ç®€è¿°ä¸‹å›¾ä¸ä»…æ¦‚æ‹¬äº† MVVM æ¨¡å¼ ï¼ˆModel-View-ViewModelï¼‰ï¼Œè¿˜æè¿°äº†åœ¨ Vue.js ä¸­ ViewModel æ˜¯å¦‚ä½•å’Œ View ä»¥åŠ Model è¿›è¡Œäº¤äº’çš„ã€‚ ViewModel æ˜¯ Vue.js çš„æ ¸å¿ƒï¼Œå®ƒæ˜¯ä¸€ä¸ª Vue å®ä¾‹ã€‚Vue å®ä¾‹æ˜¯ä½œç”¨äºæŸä¸€ä¸ª HTML å…ƒç´ ä¸Šçš„ï¼Œè¿™ä¸ªå…ƒç´ å¯ä»¥æ˜¯ HTML çš„ body å…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯æŒ‡å®šäº† id çš„æŸä¸ªå…ƒç´ ã€‚ å½“åˆ›å»ºäº† ViewModel åï¼ŒåŒå‘ç»‘å®šæ˜¯å¦‚ä½•è¾¾æˆçš„å‘¢ï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä¸Šå›¾ä¸­çš„ DOM Listeners å’Œ Data Bindings çœ‹ä½œä¸¤ä¸ªå·¥å…·ï¼Œå®ƒä»¬æ˜¯å®ç°åŒå‘ç»‘å®šçš„å…³é”®ã€‚ ä» View ä¾§çœ‹ï¼ŒViewModel ä¸­çš„ DOM Listeners å·¥å…·ä¼šå¸®æˆ‘ä»¬ç›‘æµ‹é¡µé¢ä¸ŠDOMå…ƒç´ çš„å˜åŒ–ï¼Œå¦‚æœæœ‰å˜åŒ–ï¼Œåˆ™æ›´æ”¹Modelä¸­çš„æ•°æ®ï¼› ä» Model ä¾§çœ‹ï¼Œå½“æˆ‘ä»¬æ›´æ–° Model ä¸­çš„æ•°æ®æ—¶ï¼ŒData Bindings å·¥å…·ä¼šå¸®æˆ‘ä»¬æ›´æ–°é¡µé¢ä¸­çš„ DOM å…ƒç´ ã€‚ åº“å’Œæ¡†æ¶çš„åŒºåˆ« åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹å‰ç«¯ åº“(Library) å’Œ æ¡†æ¶(Framework) çš„åŒºåˆ«ï¼Œå®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯æŸäººç¼–å†™çš„ï¼Œç”¨äºè§£å†³å¸¸è§é—®é¢˜çš„ å¯å¤ç”¨ä»£ç  çš„é›†åˆã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªå¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºï¼Œä½ ä¸ºäº†ä¿æŒä»£ç çš„ DRY (Donâ€™t Repeat Yourself)ï¼Œä½ ç¼–å†™äº†å¦‚ä¸‹å¯å¤ç”¨çš„åŠŸèƒ½ä»£ç ï¼š function getWords(str) { const words = str.split(' '); return words; } function createSentence(words) { const sentence = words.join(' '); return sentence; } æ­å–œä½ ï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ª JavaScript åº“ï¼ å¦‚æœæˆ‘ä»¬ç”¨ ã€Œæ„å»ºæˆ¿å­ã€ æ¥ç±»æ¯” ã€Œæ„å»ºåº”ç”¨ã€ çš„è¯ï¼Œé‚£ä¹ˆ ä½¿ç”¨åº“ å°±åƒæ˜¯ å»å®œå®¶è´­ç‰© ä¸€æ ·ï¼Œæˆ‘å·²ç»æœ‰äº†ä¸€ä¸ªå®¶ï¼Œç°åœ¨æˆ‘éœ€è¦æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„ä¸€äº›å®¶å…·ï¼Œä»¥è¾¾åˆ°æˆ‘è‡ªå·±æ»¡æ„çš„çŠ¶æ€ï¼Œè¿™ä¸€åˆ‡ éƒ½åœ¨æˆ‘çš„æ§åˆ¶èŒƒå›´ä¹‹å†…ï¼›è€Œ ä½¿ç”¨æ¡†æ¶ å°±ä¼šåƒæ˜¯å·²ç»æœ‰äº†ä¸€ä¸ª æ¸…è£…æˆ¿ï¼Œåœ¨å·²ç»è§„åˆ’å¥½çš„è“å›¾å’Œé€‰æ‹©ä¹‹ä¸­ï¼Œæˆ‘ä»¬çš„ä¸€äº›æƒ³æ³•ä¼šæ˜¾å¾—ååˆ†åœ°æœ‰é™ã€‚ Vue.js æœ¬èº«åªæ˜¯ä¸€ä¸ª JavaScript åº“ï¼ŒåŒ…æ‹¬ React ä¹Ÿä¸€æ ·ï¼Œåªä¸è¿‡å¹³æ—¶æˆ‘ä»¬æ‰€è¯´çš„ Vue æ¡†æ¶ï¼Œæ˜¯æŒ‡åŒ…å« Router/ Vuex ç­‰ä¸€ç³»åˆ—ç»„ä»¶ä¹‹åèåˆçš„ ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆã€‚ æ›´åŠ è¯¦ç»†çš„è§£é‡Šå¦‚ä¸‹ï¼š ã€Œåº“ã€ æ˜¯ä¸€ä¸ªå°è£…å¥½çš„ç‰¹å®šçš„é›†åˆï¼Œæä¾›ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œè€Œä¸”æ˜¯ç‰¹å®šäºæŸä¸€æ–¹é¢çš„é›†åˆï¼ˆæ–¹æ³•å’Œå‡½æ•°ï¼‰ï¼Œåº“æ²¡æœ‰æ§åˆ¶æƒï¼Œæ§åˆ¶æƒå®Œå…¨åœ¨äºä½¿ç”¨è€…æœ¬èº«ï¼› ã€Œæ¡†æ¶ã€ é¡¾åæ€ä¹‰æ˜¯ä¸€å¥—æ¶æ„ï¼Œä¼šåŸºäºè‡ªèº«çš„ç‰¹ç‚¹å‘ç”¨æˆ·æä¾›ä¸€å¥—æ¯”è¾ƒå®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœä½¿ç”¨è€…é€‰å®šäº†ä¸€å¥—æ¡†æ¶ï¼Œé‚£ä¹ˆå°±éœ€è¦æ ¹æ®æ¡†æ¶æœ¬èº«åšå‡ºä¸€å®šçš„é€‚åº”ã€‚ 02. ä¸ºä»€ä¹ˆä½¿ç”¨ Vueï¼Ÿ è¯´å®è¯ï¼Œæˆ‘ä¸ªäººéå¸¸å–œæ¬¢ Vueã€‚åœ¨æˆ‘å¤§å­¦åˆšå°è¯•å­¦ä¹  HTML + CSS + JavaScript å’Œ Bootstrap èåˆä¹‹åï¼Œæˆ‘å°±æ¥è§¦äº† Vueï¼Œå®ƒå¯¹æˆ‘æ¥è¯´è¿™æ ·çš„ã€Œå‰ç«¯å°ç™½ã€æ¥è¯´ï¼Œå‡ ä¹æ²¡æœ‰ä»€ä¹ˆå¼€å‘çš„é—¨æ§›ï¼Œå¾ˆå¹³æ»‘åœ°å°±å¾—ä»¥è¿‡æ¸¡åˆ° Vue çš„ä½¿ç”¨ä¸­å»ã€‚ å…¸å‹çš„ .vue æ–‡ä»¶å¯ä»¥ç®€å•æˆå¦‚ä¸‹çš„æ ·å­ï¼š(vue-tutorial/typical-case.html) // JavaScript ä»£ç  /* css ä»£ç  */ å¦å¤–æˆ‘ä¹Ÿéå¸¸å–œæ¬¢å°¤å¤§å¤§æœ¬äººï¼Œå¤§å®¶å¯ä»¥å»çœ‹ä¸€çœ‹ Honeypot è®°å½•çš„å…³äº Vue çš„ çºªå½•ç‰‡ (è¶ç€å†™æ–‡çš„é—´éš™æˆ‘åˆçœ‹äº†ä¸€é)ï¼Œå½“ç„¶å¦‚æœè‹±æ–‡æœ‰äº›åƒåŠ›ä¹Ÿå¯ä»¥å›´è§‚ä¸€ä¸‹åœ¨ B ç«™ä¸Šçš„ å¸¦ä¸­æ–‡å­—å¹•çš„ç‰ˆæœ¬ã€‚ Vue ä»ä¸€å¼€å§‹çš„å®šä½å°±æ˜¯å°½å¯èƒ½çš„é™ä½å‰ç«¯å¼€å‘çš„é—¨æ§›ï¼Œè®©æ›´å¤šçš„äººèƒ½å¤Ÿæ›´å¿«åœ°ä¸Šæ‰‹å¼€å‘ã€‚â€”â€”â€”â€” å°¤é›¨æºª ç†ç”±ä¸€ï¼šæ˜“ä¸Šæ‰‹ã€å­¦ä¹ æ›²çº¿å¹³æ»‘å°±åƒä¸Šé¢çš„å…¸å‹ .vue æ–‡ä»¶çš„å±•ç¤ºä¸€æ ·ï¼Œåœ¨ Vue ä¸­ï¼Œä¸€åˆ‡éƒ½å¾ˆè‡ªç„¶ï¼Œä¾‹å¦‚æˆ‘ä»¬ä½¿ç”¨ Vue æ¥æ„å»ºæˆ‘ä»¬çš„ Hello World ç¨‹åºï¼š(vue-tutorial/hello-vue.html) &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>Hello Vue!&lt;/title> &lt;/head> &lt;body> &lt;div id=\"app\"> {{ message }} &lt;/div> &lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --> &lt;script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\">&lt;/script> &lt;script> // åˆ›å»ºä¸€ä¸ª Vue å®ä¾‹æˆ–è€…è¯´æ˜¯ VieModel å®ä¾‹ var app = new Vue({ el: '#app', data: { message: 'Hello Vue!' } }) &lt;/script> &lt;/body> &lt;/html> å¯ä»¥çœ‹åˆ°å‡ ä¹æ²¡æœ‰å¤šä½™çš„éƒ¨åˆ†ï¼Œåªæ˜¯åœ¨åˆ›å»º Vue å®ä¾‹æ—¶ï¼ŒæŠŠ id ä¸º app çš„å¯¹è±¡ (æ­¤å¤„ä¸ºä¸€ä¸ª div) ç»‘å®šåˆ°äº† Vue å®ä¾‹ä¸­è€Œå·²ã€‚ ç†ç”±äºŒï¼šæ–‡æ¡£å‹å¥½ç”±äº Vue æ˜¯å›½äººç¼–å†™çš„ï¼Œæ‰€ä»¥åœ¨å®˜ç½‘ä¸­æœ‰å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£å¯ä¾›å¼€å‘è€…å‚è€ƒï¼Œå¹¶ä¸”å€Ÿç”±å°¤å¤§å¤§å‡ºè‰²çš„æ–‡ç¬”ï¼Œéå¸¸åœ°æ¸…æ™°æ˜“æ‡‚ï¼Œç›¸ä¿¡çœ‹è¿‡çš„æœ‹å‹ä¼šå’Œæˆ‘æœ‰ä¸€æ ·çš„æ„Ÿå—ï¼š å®˜æ–¹æ–‡æ¡£çš„åœ°å€å¯æˆ³ è¿™é‡Œ ç†ç”±ä¸‰ï¼šMVVM å¤©ç„¶çš„åŒå‘ç»‘å®šVue.js æ˜¯ä¸€ä¸ªæä¾›äº† MVVM é£æ ¼çš„åŒå‘æ•°æ®ç»‘å®šçš„ JavaScript åº“ï¼Œè¿™å°±è®©æˆ‘ä»¬èƒ½å¤Ÿä¸“æ³¨äº View å±‚çš„å¼€å‘ï¼Œè¿™ç§è½»é‡çº§çš„æ¡†æ¶è®©å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆã€ä¾¿æ·ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ v-model æ¥ç®€å•æ”¹é€ ä¸€ä¸‹æˆ‘ä»¬çš„ hello-vue.html æ–‡ä»¶è®©å®ƒç¼–ç¨‹ä¸€ä¸ªç®€å•çš„åŒå‘ç»‘å®šç¤ºä¾‹ï¼š(vue-tutorial/v-model-demo.html) &lt;div id=\"app\"> &lt;p>{{ message }}&lt;/p> &lt;input type=\"text\" v-model=\"message\" /> &lt;/div> å°† message ç»‘å®šåˆ°æ–‡æœ¬æ¡†ï¼Œå½“æ›´æ”¹æ–‡æœ¬æ¡†çš„å€¼çš„æ—¶å€™ï¼Œ &lt;p&gt;&lt;/p&gt; ä¸­çš„å†…å®¹ä¹Ÿä¼šè¢«æ›´æ–°ï¼š åè¿‡æ¥å¦‚æœæˆ‘ä»¬æ›´æ”¹ message çš„å€¼çš„è¯ï¼Œæ–‡æœ¬æ¡†çš„å€¼ä¹Ÿä¼šè¢«æ›´æ–°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­å°è¯•ä¸€ä¸‹ï¼š åƒä¸‡ä¸è¦æŠŠæ¡†æ¶èƒ½åŠ›çœ‹å¾—æ¯”ä½ è§£å†³é—®é¢˜çš„èƒ½åŠ›è¿˜é‡è¦è¿™é‡Œæ˜¯å€Ÿé‰´äº† çŸ¥ä¹ä¸­çš„ä¸€ä¸ªè®¨è®ºï¼Œä¸è®ºæ˜¯ä½¿ç”¨ React è¿˜æ˜¯ Vueï¼Œæˆ‘ä»¬æœ€ç»ˆè¿˜æ˜¯è¦ä»¥ è§£å†³å®é™…çš„é—®é¢˜ ä¸ºå‡ºå‘ç‚¹ã€‚å¼•ç”¨ä¸€ä¸‹å°¤å¤§å¤§åœ¨ çŸ¥ä¹-Vue å’Œ React çš„ä¼˜ç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä¸Šçš„å›ç­”éƒ¨åˆ†æˆªå–ï¼š è¯´äº†è¿™ä¹ˆå¤šï¼Œæ— éæ˜¯å¸Œæœ›å¤§å®¶èƒ½åœä¸‹æ¥æƒ³æƒ³æ‰€è°“çš„ â€A æŠ€æœ¯æ¯” B æŠ€æœ¯ç‰›é€¼â€œ èƒŒååˆ°åº•æ˜¯åœ¨äº‰äº›ä»€ä¹ˆï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™äº›æŠ€æœ¯çš„åˆè¡·åˆæ˜¯ä»€ä¹ˆã€‚å¾ˆå¤šæ—¶å€™ä½ è¯´è¿™æ–¹é¢ï¼Œä»–è¯´é‚£æ–¹é¢ï¼Œé¸¡åŒé¸­è®²ï¼Œå³ä½¿è¯´åˆ°ä¸€èµ·å»ï¼Œä¹Ÿå¾€å¾€ç¼ºä¹å¯¹ç­‰çš„ä¿¡æ¯é‡æˆ–è€…åŸºç¡€å…±è¯†ï¼Œåªæ˜¯å„è‡ªè¡¨è¾¾ä¸»è§‚çœ‹æ³•ï¼Œæœ€åå˜æˆä¸¤ä¸ªé˜µè¥å„è‡ªæŠ±å›¢å–æš–â€¦ è¯´åˆ°åº•ï¼Œå°±ç®—ä½ è¯æ˜äº† A æ¯” B ç‰›é€¼ï¼Œä¹Ÿä¸æ„å‘³ç€ä½ æˆ–è€…ä½ çš„é¡¹ç›®å°±ç‰›é€¼äº†â€¦ æ¯”èµ·äº‰è¿™ä¸ªï¼Œä¸å¦‚å¤šæƒ³æƒ³æ€ä¹ˆè®©è‡ªå·±å˜å¾—æ›´ç‰›é€¼å§ã€‚â€”â€”â€”â€”â€”â€” å°¤é›¨æºª 03. Vue å¸¸ç”¨æŒ‡ä»¤ ä¸Šé¢æˆ‘ä»¬å·²ç»å®é™…ä½“éªŒäº†ä¸€ä¸ª Vue çš„æŒ‡ä»¤ v-model äº†ï¼Œåœ¨ Vue ä¸­ï¼ŒæŒ‡ä»¤éƒ½å¸¦æœ‰ v- å‰ç¼€ï¼Œä»¥è¡¨ç¤ºå®ƒä»¬æ˜¯ Vue æä¾›çš„ç‰¹æ®Šçš„ attributeï¼Œå®ƒä»¬ä¼šåœ¨æ¸²æŸ“ DOM æ—¶è¿›è¡Œç‰¹æ®Šçš„å“åº”å¼è¡Œä¸ºã€‚ Vue å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¾æ¬¡æ¥ä»‹ç»ï¼š v-if å’Œ v-else æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤ï¼› v-show æ¡ä»¶å±•ç¤ºæŒ‡ä»¤ï¼› v-for åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ v-bind æ¡ä»¶ç»‘å®šæŒ‡ä»¤ï¼› v-on äº‹ä»¶å¤„ç†æŒ‡ä»¤ï¼› å¤§éƒ¨åˆ†ç…§æ¬çš„å®˜æ–¹æ•™ç¨‹ï¼Œå†™å¾—éå¸¸å…·æœ‰å‚è€ƒæ€§ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥ç›´æ¥ç•¥è¿‡ä¸‹é¢éƒ¨åˆ†å»å‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚ v-if å’Œ v-else æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤v-if æŒ‡ä»¤v-if æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› truthy å€¼çš„æ—¶å€™è¢«æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼š(vue-tutorial/v-if-demo) &lt;p v-if=\"seen\">ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†ï¼&lt;/p> var app = new Vue({ el: '#app', data: { seen: true } }) é¡µé¢ä¼šæ­£ç¡®çš„æ˜¾ç¤ºã€Œç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†ï¼ã€è¿™å‡ ä¸ªå­—ã€‚ v-else æŒ‡ä»¤ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ v-else æ¥æ·»åŠ ä¸€ä¸ª â€œelse å—â€ æ¥è¡¨è¾¾æ¡ä»¶ä¸æ»¡è¶³æ—¶åº”è¯¥æ¸²æŸ“çš„æ¨¡å—ï¼š &lt;p v-if=\"seen\">ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†ï¼&lt;/p> &lt;p v-else>Oh no!&lt;/p> var app = new Vue({ el: '#app', data: { seen: false } }) æ­¤æ—¶æ¡ä»¶ seen ä¸æ»¡è¶³ï¼Œé¡µé¢å°±ä¼šæ˜¾ç¤ºã€ŒOh no!ã€çš„å­—æ ·ã€‚ v-else-if æŒ‡ä»¤è¿™æ˜¯ 2.1.0 ç‰ˆæœ¬æ–°å¢çš„æŒ‡ä»¤ï¼Œå……å½“ v-if çš„ â€œelse-if å—â€ï¼Œå¯ä»¥ç”¨æ¥è¿ç»­åˆ¤æ–­æ¡ä»¶ï¼š &lt;div v-if=\"type === 'A'\"> A &lt;/div> &lt;div v-else-if=\"type === 'B'\"> B &lt;/div> &lt;div v-else-if=\"type === 'C'\"> C &lt;/div> &lt;div v-else> Not A/B/C &lt;/div> ç±»ä¼¼äº v-elseï¼Œv-else-if ä¹Ÿå¿…é¡»ç´§è·Ÿåœ¨å¸¦ v-if æˆ–è€… v-else-if çš„å…ƒç´ ä¹‹åã€‚ v-show æ¡ä»¶å±•ç¤ºæŒ‡ä»¤å¦ä¸€ä¸ªç”¨äºæ ¹æ®æ¡ä»¶å±•ç¤ºå…ƒç´ çš„é€‰é¡¹æ˜¯ v-show æŒ‡ä»¤ã€‚ç”¨æ³•å¤§è‡´ä¸€æ ·ï¼š &lt;h1 v-show=\"ok\">Hello!&lt;/h1> ä¸åŒçš„æ˜¯å¸¦æœ‰ v-show çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨ DOM ä¸­ã€‚v-show åªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çš„ CSS å±æ€§ display (æ¡ä»¶ä¸æ»¡è¶³åˆ™æŠŠå…ƒç´  display å±æ€§è®¾ç½®ä¸º none)ï¼Œè€Œ v-if åˆ™åœ¨æ¡ä»¶ä¸æ»¡è¶³æ—¶ç›´æ¥ä¸æ¸²æŸ“å‡ºå¯¹è±¡ã€‚ v-if ä¸ v-showv-if æ˜¯â€œçœŸæ­£â€çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºã€‚ v-if ä¹Ÿæ˜¯ æƒ°æ€§ çš„ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œv-show å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œv-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½ã€‚ v-for åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤æˆ‘ä»¬å¯ä»¥ç”¨ v-for æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚v-for æŒ‡ä»¤éœ€è¦ä½¿ç”¨ item in items å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ items æ˜¯æºæ•°æ®æ•°ç»„ï¼Œè€Œ item åˆ™æ˜¯è¢«è¿­ä»£çš„æ•°ç»„å…ƒç´ çš„åˆ«åã€‚ &lt;ul id=\"example-1\"> &lt;li v-for=\"item in items\"> {{ item.message }} &lt;/li> &lt;/ul> var example1 = new Vue({ el: '#example-1', data: { items: [ { message: 'Foo' }, { message: 'Bar' } ] } }) ç»“æœï¼š Foo Bar æ³¨æ„ï¼šæ°¸è¿œä¸è¦æŠŠ v-if å’Œ v-for åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚ å› ä¸ºå½“ Vue å¤„ç†æŒ‡ä»¤æ—¶ï¼Œv-for æ¯” v-if æ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´é”™è¯¯ï¼Œè¯¦ç»†çš„æŠ€æœ¯ç»†èŠ‚å¯ä»¥ æˆ³è¿™é‡Œ v-bind æ¡ä»¶ç»‘å®šæŒ‡ä»¤æˆ‘ä»¬å¯ä»¥ä¼ ç»™ v-bind:class ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢ classï¼š(ä¹Ÿå¯ä»¥ç”¨ç¼©å†™ : æ¥æ›¿ä»£ v-bind æŒ‡ä»¤) &lt;div v-bind:class=\"{ active: isActive }\">&lt;/div> ä¸Šé¢çš„è¯­æ³•è¡¨ç¤º active è¿™ä¸ª class å­˜åœ¨ä¸å¦å°†å–å†³äºæ•°æ®å±æ€§ isActive çš„ truthinessã€‚ ä½ å¯ä»¥åœ¨å¯¹è±¡ä¸­ä¼ å…¥æ›´å¤šå±æ€§æ¥åŠ¨æ€åˆ‡æ¢å¤šä¸ª classã€‚æ­¤å¤–ï¼Œv-bind:class æŒ‡ä»¤ä¹Ÿå¯ä»¥ä¸æ™®é€šçš„ class å±æ€§å…±å­˜ã€‚å½“æœ‰å¦‚ä¸‹æ¨¡æ¿ï¼š &lt;div class=\"static\" v-bind:class=\"{ active: isActive, 'text-danger': hasError }\" >&lt;/div> å’Œå¦‚ä¸‹ dataï¼š data: { isActive: true, hasError: false } ç»“æœæ¸²æŸ“ä¸ºï¼š &lt;div class=\"static active\">&lt;/div> å½“ isActive æˆ–è€… hasError å˜åŒ–æ—¶ï¼Œclass åˆ—è¡¨å°†ç›¸åº”åœ°æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ hasError çš„å€¼ä¸º trueï¼Œclass åˆ—è¡¨å°†å˜ä¸º &quot;static active text-danger&quot;ã€‚ v-on äº‹ä»¶å¤„ç†æŒ‡ä»¤å¯ä»¥ç”¨ v-on æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº› JavaScript ä»£ç ã€‚(ä¹Ÿå¯ä»¥ç”¨ç¼©å†™ @ æ¥æ›¿ä»£ v-on æŒ‡ä»¤) ç¤ºä¾‹ï¼š &lt;div id=\"example-1\"> &lt;button v-on:click=\"counter += 1\">Add 1&lt;/button> &lt;p>The button above has been clicked {{ counter }} times.&lt;/p> &lt;/div> var example1 = new Vue({ el: '#example-1', data: { counter: 0 } }) ç»“æœï¼š v-on çš„äº‹ä»¶ä¿®é¥°ç¬¦åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ event.preventDefault() æˆ– event.stopPropagation() æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ï¼šæ–¹æ³•åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º v-on æä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦ã€‚ä¹‹å‰æè¿‡ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚ .stop .prevent .capture .self .once .passive &lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --> &lt;a v-on:click.stop=\"doThis\">&lt;/a> &lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --> &lt;form v-on:submit.prevent=\"onSubmit\">&lt;/form> &lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --> &lt;a v-on:click.stop.prevent=\"doThat\">&lt;/a> &lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --> &lt;form v-on:submit.prevent>&lt;/form> &lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --> &lt;!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --> &lt;div v-on:click.capture=\"doThis\">...&lt;/div> &lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --> &lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --> &lt;div v-on:click.self=\"doThat\">...&lt;/div> å¦å¤–äº‹ä»¶å¤„ç†è¿˜å¯ä»¥æ”¯æŒ æŒ‰é”®ç  (æŸä¸€ä¸ªé”®æŒ‰ä¸‹)ã€ç³»ç»Ÿä¿®é¥°ç¬¦ (é”®ç›˜é¼ æ ‡æŒ‰ä¸‹)ï¼Œå¯ä»¥å‚çœ‹ å®˜æ–¹æ•™ç¨‹ 04. Todo-List ç¤ºä¾‹ ä¸Šé¢æˆ‘ä»¬äº†è§£äº†ä¸€äº›åŸºæœ¬çš„æŒ‡ä»¤äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®é™…åŠ¨åŠ¨æ‰‹ï¼Œæ¥æ­å»ºä¸€ä¸ªç®€å•çš„ TodoList demo å°ç¨‹åºã€‚ ç¬¬ä¸€æ­¥ï¼šæ˜ç¡®éœ€æ±‚TodoList æƒ³å¿…å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰ï¼Œä½¿ç”¨æ¥è®°å½•æˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„ä¸€äº›äº‹æƒ…çš„ç¨‹åºï¼Œæœ€åŸºæœ¬çš„åŠŸèƒ½æœ‰å¢åŠ å’Œåˆ é™¤ï¼š å¾ˆç®€å•ï¼Œå¯ä»¥çœ‹å‡ºæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªè¾“å…¥æ¡† (ç”¨æ¥è®°å½•å°†è¦ä¿å­˜çš„æ•°æ®)ï¼Œä¸€ä¸ªæŒ‰é’® *(ç”¨æ¥æ·»åŠ æ•°æ®)ï¼Œå’Œä¸€ä¸ªé›†åˆ *(ç”¨æ¥ä¿å­˜æ•°æ®) å°±å·®ä¸å¤šå¯ä»¥äº†ï¼Œä¸Šæ‰‹ï¼ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå¥½éœ€è¦çš„ dataå…ˆæ¥åˆ›å»ºå¥½æˆ‘ä»¬éœ€è¦çš„æ•°æ® dataï¼š data: { todos: [{ id: nextTodoId++, text: 'å†™ä»£ç ' }, { id: nextTodoId++, text: 'è¿˜æ˜¯å†™ä»£ç ' } ], newTodoText: \"\" } è¿™é‡Œå¤šå®šä¹‰äº† id å±æ€§æ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬çš„åˆ é™¤æ“ä½œã€‚ ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå¥½å¯¹åº”çš„ HTMLæ²¡æœ‰ä»»ä½•å¸ƒå±€ï¼Œå°±ç›´æ¥å®šä¹‰å¥½æˆ‘ä»¬æ‰€éœ€è¦çš„ç»„ä»¶å°±å¥½äº†ï¼š &lt;input type=\"text\" v-model=\"newTodoText\" /> &lt;button @click=\"addItem\">æ·»åŠ &lt;/button> &lt;ul> &lt;li v-for=\"item in todos\"> &lt;span>{{ item.text }}&lt;/span> &lt;span>&lt;button @click=\"removeItem(item.id)\">del&lt;/button>&lt;/span> &lt;/li> &lt;/ul> æ²¡æœ‰ä»»ä½•çš„ç‰¹åˆ«ï¼Œåªæ˜¯é‡Œé¢åŒ…å«äº†ä¸¤ä¸ªæˆ‘ä»¬ æœªå®šä¹‰ çš„æ–¹æ³•ï¼šaddItem å’Œ removeItem è€Œå·²ã€‚ ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰å¹¶å®ç°æ–¹æ³•Vue ä¸­çš„æ–¹æ³•éœ€è¦å®šä¹‰åœ¨ Vue å®ä¾‹çš„ methods å…³é”®å­—ä¸‹é¢ï¼š methods: { addItem(key) { this.todos.push({ id: nextTodoId, text: this.newTodoText }) this.newTodoText = \"\" }, removeItem(id) { this.todos = this.todos.filter(todo => { return todo.id !== id }) } } è¿™é‡Œæ•°ç»„çš„æ›´æ–°éœ€è¦ç”¨åˆ° pushï¼Œå¦å¤–åˆ é™¤æ—¶æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ª lambda è¡¨è¾¾å¼æ¥å®Œæˆï¼Œåˆ é™¤æ—¶ä¼ å…¥äº†ä¸€ä¸ªè¦åˆ é™¤å…ƒç´ çš„ idï¼Œç„¶åä»æ•°ç»„ä¸­æŒ‘é€‰å‡ºæ‰€æœ‰ ä¸ç­‰äº è¿™ä¸ª id çš„å…ƒç´ é‡æ–°èµ‹å€¼ç»™åŸæ•°ç»„ï¼Œè¿™æ ·å°±ç›¸å½“äºæ˜¯åˆ é™¤äº†å…ƒç´ äº†ã€‚ æœ¬æ–‡æ¶‰åŠçš„æ‰€æœ‰ä»£ç éƒ½ä¸Šä¼ åˆ°äº†ã€More Than Javaã€‘é¡¹ç›®ä¸­ã€‚(åœ°å€ä¸‹æ–¹) æ›´å¥½çš„å‚è€ƒä¸Šé¢çš„ä»£ç ä»…ä»…æ˜¯ç®€å•å®ç°ï¼Œæ›´å¥½çš„å‚è€ƒå¯ä»¥æŸ¥çœ‹ Vue å®˜æ–¹å®ç°çš„ä¸€ä¸ªæ›´åŠ å…·æœ‰å‚è€ƒæ€§çš„ä¾‹å­ï¼šhttps://codesandbox.io/s/o29j95wx9 å‚è€ƒèµ„æ–™ Vueã€å®˜æ–¹æ–‡æ¡£ã€‘ - https://cn.vuejs.org/v2/guide/ ã€è¯‘ã€‘æ¡†æ¶ä¸åº“çš„å·®å¼‚ - https://juejin.im/post/5c5fe3e751882561dd7b4e9b Vue.jsâ€”â€”60åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ - https://www.cnblogs.com/keepfool/p/5619070.html æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/categories/%E5%89%8D%E7%AB%AF/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"å‰ç«¯/æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/categories/%E5%89%8D%E7%AB%AF/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/tags/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"},{"name":"Vue","slug":"Vue","permalink":"http://www.wmyskxz.com/tags/Vue/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒæˆ‘é¢è¯•è¢«Redisé—®å¾—è„¸éƒ½ç»¿äº†","slug":"æ‡‚ä¸€ç‚¹Pythonç³»åˆ—â€”â€”å¿«é€Ÿå…¥é—¨-1","date":"2020-03-25T06:38:00.000Z","updated":"2020-08-03T09:55:10.637Z","comments":true,"path":"2020/03/25/dong-yi-dian-python-xi-lie-kuai-su-ru-men-1/","link":"","permalink":"http://www.wmyskxz.com/2020/03/25/dong-yi-dian-python-xi-lie-kuai-su-ru-men-1/","excerpt":"","text":"é•¿æ–‡å‰æ’æé†’ï¼Œæ”¶è—å‘å‰æ’æé†’ï¼Œç´ è´¨ä¸‰è¿ (è½¬å‘ + åœ¨çœ‹ + ç•™è¨€) å‰æ’æé†’ï¼ å‰è¨€ Redis ä½œä¸ºä¸€ä¸ªå¼€æºçš„ï¼Œé«˜çº§çš„é”®å€¼å­˜å‚¨å’Œä¸€ä¸ªé€‚ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå·²ç»è¶Šæ¥è¶Šåœ¨æ„å»º ã€Œé«˜æ€§èƒ½ã€ã€ã€Œå¯æ‰©å±•ã€ çš„ Web åº”ç”¨ä¸Šå‘æŒ¥ç€ä¸¾è¶³è½»é‡çš„ä½œç”¨ã€‚ å½“ä»Šäº’è”ç½‘æŠ€æœ¯æ¶æ„ä¸­ Redis å·²ç„¶æˆä¸ºäº†åº”ç”¨å¾—æœ€å¹¿æ³›çš„ä¸­é—´ä»¶ä¹‹ä¸€ï¼Œå®ƒä¹Ÿæ˜¯ä¸­é«˜çº§åç«¯å·¥ç¨‹ æŠ€æœ¯é¢è¯• ä¸­é¢è¯•å®˜æœ€å–œæ¬¢é—®çš„å·¥ç¨‹æŠ€èƒ½ä¹‹ä¸€ï¼Œä¸ä»…ä»…è¦æ±‚ç€æˆ‘ä»¬å¯¹ åŸºæœ¬çš„ä½¿ç”¨ è¿›è¡ŒæŒæ¡ï¼Œæ›´è¦æ·±å±‚æ¬¡åœ°ç†è§£ Redis å†…éƒ¨å®ç° çš„ç»†èŠ‚åŸç†ã€‚ ç†Ÿç»ƒæŒæ¡ Redisï¼Œç”šè‡³å¯ä»¥æ¯«ä¸å¤¸å¼ åœ°è¯´å·²ç»åŠåªè„šè¸å…¥å¿ƒä»ªçš„å…¬å¸äº†ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥ç›˜ç‚¹å›é¡¾ä¸€ä¸‹ Redis çš„é¢è¯•ç»å…¸é—®é¢˜ï¼Œå°±ä¸è¦å†è¢«é¢è¯•å®˜é—®å¾— è„¸éƒ½ç»¿äº† å‘€ï¼ Psï¼š æˆ‘æŠŠ é‡è¦çš„çŸ¥è¯†ç‚¹ éƒ½åšæˆäº† å›¾ç‰‡ï¼Œå¸Œæœ›å„ä½ â€œç”¨é¤æ„‰å¿«â€ã€‚(ä¸é”™è®°å¾—ä»˜é¤è´¹.. ç‚¹ä¸ªèµç•™ä¸ªè¨€..) ä¸€ã€åŸºç¡€ç¯‡ ä»€ä¹ˆæ˜¯ Redis ï¼Ÿå…ˆè§£é‡Š Redis åŸºæœ¬æ¦‚å¿µRedis (Remote Dictionary Server) æ˜¯ä¸€ä¸ªä½¿ç”¨ C è¯­è¨€ ç¼–å†™çš„ï¼Œå¼€æºçš„ (BSDè®¸å¯) é«˜æ€§èƒ½ éå…³ç³»å‹ (NoSQL) çš„ é”®å€¼å¯¹æ•°æ®åº“ã€‚ ç®€å•æä¸€ä¸‹ Redis æ•°æ®ç»“æ„Redis å¯ä»¥å­˜å‚¨ é”® å’Œ ä¸åŒç±»å‹æ•°æ®ç»“æ„å€¼ ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚é”®çš„ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œå€¼é™¤äº†æ”¯æŒæœ€ åŸºç¡€çš„äº”ç§æ•°æ®ç±»å‹ å¤–ï¼Œè¿˜æ”¯æŒä¸€äº› é«˜çº§æ•°æ®ç±»å‹ï¼š ä¸€å®šè¦è¯´å‡ºä¸€äº›é«˜çº§æ•°æ®ç»“æ„ (å½“ç„¶ä½ è‡ªå·±ä¹Ÿè¦äº†è§£.. ä¸‹é¢ä¼šè¯´åˆ°çš„åˆ«æ‹…å¿ƒ)ï¼Œè¿™æ ·é¢è¯•å®˜çš„çœ¼ç›æ‰ä¼šäº®ã€‚ Redis å°æ€»ç»“ä¸ä¼ ç»Ÿæ•°æ®åº“ä¸åŒçš„æ˜¯ Redis çš„æ•°æ®æ˜¯ å­˜åœ¨å†…å­˜ ä¸­çš„ï¼Œæ‰€ä»¥ è¯»å†™é€Ÿåº¦ éå¸¸ å¿«ï¼Œå› æ­¤ Redis è¢«å¹¿æ³›åº”ç”¨äº ç¼“å­˜ æ–¹å‘ï¼Œæ¯ç§’å¯ä»¥å¤„ç†è¶…è¿‡ 10 ä¸‡æ¬¡è¯»å†™æ“ä½œï¼Œæ˜¯å·²çŸ¥æ€§èƒ½æœ€å¿«çš„ Key-Value æ•°æ®åº“ã€‚å¦å¤–ï¼ŒRedis ä¹Ÿç»å¸¸ç”¨æ¥åš åˆ†å¸ƒå¼é”ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒRedis æ”¯æŒäº‹åŠ¡ ã€æŒä¹…åŒ–ã€LUAè„šæœ¬ã€LRUé©±åŠ¨äº‹ä»¶ã€å¤šç§é›†ç¾¤æ–¹æ¡ˆã€‚ Redis ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ è¯»å†™æ€§èƒ½ä¼˜å¼‚ï¼Œ Redisèƒ½è¯»çš„é€Ÿåº¦æ˜¯ 110000 æ¬¡/sï¼Œå†™çš„é€Ÿåº¦æ˜¯ 81000 æ¬¡/sã€‚ æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œæ”¯æŒ AOF å’Œ RDB ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ã€‚ æ”¯æŒäº‹åŠ¡ï¼ŒRedis çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼ŒåŒæ—¶ Redis è¿˜æ”¯æŒå¯¹å‡ ä¸ªæ“ä½œåˆå¹¶åçš„åŸå­æ€§æ‰§è¡Œã€‚ æ•°æ®ç»“æ„ä¸°å¯Œï¼Œé™¤äº†æ”¯æŒ string ç±»å‹çš„ value å¤–è¿˜æ”¯æŒ hashã€setã€zsetã€list ç­‰æ•°æ®ç»“æ„ã€‚ æ”¯æŒä¸»ä»å¤åˆ¶ï¼Œä¸»æœºä¼šè‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œå¯ä»¥è¿›è¡Œè¯»å†™åˆ†ç¦»ã€‚ ç¼ºç‚¹ æ•°æ®åº“ å®¹é‡å—åˆ°ç‰©ç†å†…å­˜çš„é™åˆ¶ï¼Œä¸èƒ½ç”¨ä½œæµ·é‡æ•°æ®çš„é«˜æ€§èƒ½è¯»å†™ï¼Œå› æ­¤ Redis é€‚åˆçš„åœºæ™¯ä¸»è¦å±€é™åœ¨è¾ƒå°æ•°æ®é‡çš„é«˜æ€§èƒ½æ“ä½œå’Œè¿ç®—ä¸Šã€‚ Redis ä¸å…·å¤‡è‡ªåŠ¨å®¹é”™å’Œæ¢å¤åŠŸèƒ½ï¼Œä¸»æœºä»æœºçš„å®•æœºéƒ½ä¼šå¯¼è‡´å‰ç«¯éƒ¨åˆ†è¯»å†™è¯·æ±‚å¤±è´¥ï¼Œéœ€è¦ç­‰å¾…æœºå™¨é‡å¯æˆ–è€…æ‰‹åŠ¨åˆ‡æ¢å‰ç«¯çš„ IP æ‰èƒ½æ¢å¤ã€‚ ä¸»æœºå®•æœºï¼Œå®•æœºå‰æœ‰éƒ¨åˆ†æ•°æ®æœªèƒ½åŠæ—¶åŒæ­¥åˆ°ä»æœºï¼Œåˆ‡æ¢ IP åè¿˜ä¼šå¼•å…¥æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œé™ä½äº† ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚ Redis è¾ƒéš¾æ”¯æŒåœ¨çº¿æ‰©å®¹ï¼Œåœ¨é›†ç¾¤å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶åœ¨çº¿æ‰©å®¹ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚ä¸ºé¿å…è¿™ä¸€é—®é¢˜ï¼Œè¿ç»´äººå‘˜åœ¨ç³»ç»Ÿä¸Šçº¿æ—¶å¿…é¡»ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™å¯¹èµ„æºé€ æˆäº†å¾ˆå¤§çš„æµªè´¹ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨ Redisï¼Ÿæä¸€ä¸‹ç°åœ¨ Web åº”ç”¨çš„ç°çŠ¶åœ¨æ—¥å¸¸çš„ Web åº”ç”¨å¯¹æ•°æ®åº“çš„è®¿é—®ä¸­ï¼Œè¯»æ“ä½œçš„æ¬¡æ•°è¿œè¶…å†™æ“ä½œï¼Œæ¯”ä¾‹å¤§æ¦‚åœ¨ 1:9 åˆ° 3:7ï¼Œæ‰€ä»¥éœ€è¦è¯»çš„å¯èƒ½æ€§æ˜¯æ¯”å†™çš„å¯èƒ½å¤§å¾—å¤šçš„ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ SQL è¯­å¥å»æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œæ•°æ®åº“å°±ä¼š å»ç£ç›˜æŠŠå¯¹åº”çš„æ•°æ®ç´¢å¼•å–å›æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ…¢çš„è¿‡ç¨‹ã€‚ ä½¿ç”¨ Redis or ä½¿ç”¨ç¼“å­˜å¸¦æ¥çš„ä¼˜åŠ¿å¦‚æœæˆ‘ä»¬æŠŠæ•°æ®æ”¾åœ¨ Redis ä¸­ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æ”¾åœ¨å†…å­˜ä¹‹ä¸­ï¼Œè®©æœåŠ¡ç«¯ç›´æ¥å»è¯»å–å†…å­˜ä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™æ · é€Ÿåº¦ æ˜æ˜¾å°±ä¼šå¿«ä¸Šä¸å°‘ (é«˜æ€§èƒ½)ï¼Œå¹¶ä¸”ä¼š æå¤§å‡å°æ•°æ®åº“çš„å‹åŠ› (ç‰¹åˆ«æ˜¯åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹)ã€‚ è®°å¾—æ˜¯ ä¸¤ä¸ªè§’åº¦ å•Š.. é«˜æ€§èƒ½ å’Œ é«˜å¹¶å‘.. ä¹Ÿè¦æä¸€ä¸‹ä½¿ç”¨ç¼“å­˜çš„è€ƒè™‘ä½†æ˜¯ä½¿ç”¨å†…å­˜è¿›è¡Œæ•°æ®å­˜å‚¨å¼€é”€ä¹Ÿæ˜¯æ¯”è¾ƒå¤§çš„ï¼Œé™äºæˆæœ¬ çš„åŸå› ï¼Œä¸€èˆ¬æˆ‘ä»¬åªæ˜¯ä½¿ç”¨ Redis å­˜å‚¨ä¸€äº› å¸¸ç”¨å’Œä¸»è¦çš„æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•çš„ä¿¡æ¯ç­‰ã€‚ ä¸€èˆ¬è€Œè¨€åœ¨ä½¿ç”¨ Redis è¿›è¡Œå­˜å‚¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥è€ƒè™‘ï¼š ä¸šåŠ¡æ•°æ®å¸¸ç”¨å—ï¼Ÿå‘½ä¸­ç‡å¦‚ä½•ï¼Ÿ å¦‚æœå‘½ä¸­ç‡å¾ˆä½ï¼Œå°±æ²¡æœ‰å¿…è¦å†™å…¥ç¼“å­˜ï¼› è¯¥ä¸šåŠ¡æ•°æ®æ˜¯è¯»æ“ä½œå¤šï¼Œè¿˜æ˜¯å†™æ“ä½œå¤šï¼Ÿ å¦‚æœå†™æ“ä½œå¤šï¼Œé¢‘ç¹éœ€è¦å†™å…¥æ•°æ®åº“ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ä½¿ç”¨ç¼“å­˜ï¼› ä¸šåŠ¡æ•°æ®å¤§å°å¦‚ä½•ï¼Ÿ å¦‚æœè¦å­˜å‚¨å‡ ç™¾å…†å­—èŠ‚çš„æ–‡ä»¶ï¼Œä¼šç»™ç¼“å­˜å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™æ ·ä¹Ÿæ²¡æœ‰å¿…è¦ï¼› åœ¨è€ƒè™‘äº†è¿™äº›é—®é¢˜ä¹‹åï¼Œå¦‚æœè§‰å¾—æœ‰å¿…è¦ä½¿ç”¨ç¼“å­˜ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å®ƒï¼ ä½¿ç”¨ç¼“å­˜ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸€èˆ¬æ¥è¯´æœ‰å¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼Œå›ç­”æ€è·¯éµç…§ æ˜¯ä»€ä¹ˆ â†’ ä¸ºä»€ä¹ˆ â†’ æ€ä¹ˆè§£å†³ï¼š ç¼“å­˜é›ªå´©é—®é¢˜ï¼› ç¼“å­˜ç©¿é€é—®é¢˜ï¼› ç¼“å­˜å’Œæ•°æ®åº“åŒå†™ä¸€è‡´æ€§é—®é¢˜ï¼› ç¼“å­˜é›ªå´©é—®é¢˜ å¦å¤–å¯¹äº â€œRedis æŒ‚æ‰äº†ï¼Œè¯·æ±‚å…¨éƒ¨èµ°æ•°æ®åº“â€ è¿™æ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æœ‰å¦‚ä¸‹çš„æ€è·¯ï¼š äº‹å‘å‰ï¼šå®ç° Redis çš„é«˜å¯ç”¨(ä¸»ä»æ¶æ„ + Sentinel æˆ–è€… Redis Cluster)ï¼Œå°½é‡é¿å… Redis æŒ‚æ‰è¿™ç§æƒ…å†µå‘ç”Ÿã€‚ äº‹å‘ä¸­ï¼šä¸‡ä¸€ Redis çœŸçš„æŒ‚äº†ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æœ¬åœ°ç¼“å­˜(ehcache) + é™æµ(hystrix)ï¼Œå°½é‡é¿å…æˆ‘ä»¬çš„æ•°æ®åº“è¢«å¹²æ‰(èµ·ç èƒ½ä¿è¯æˆ‘ä»¬çš„æœåŠ¡è¿˜æ˜¯èƒ½æ­£å¸¸å·¥ä½œçš„) äº‹å‘åï¼šRedis æŒä¹…åŒ–ï¼Œé‡å¯åè‡ªåŠ¨ä»ç£ç›˜ä¸ŠåŠ è½½æ•°æ®ï¼Œå¿«é€Ÿæ¢å¤ç¼“å­˜æ•°æ®ã€‚ ç¼“å­˜ç©¿é€é—®é¢˜ ç¼“å­˜ä¸æ•°æ®åº“åŒå†™ä¸€è‡´é—®é¢˜ åŒå†™ä¸€è‡´æ€§ä¸Šå›¾è¿˜æ˜¯ç¨å¾®ç²—ç³™äº†äº›ï¼Œä½ è¿˜éœ€è¦çŸ¥é“ä¸¤ç§æ–¹æ¡ˆ (å…ˆæ“ä½œæ•°æ®åº“å’Œå…ˆæ“ä½œç¼“å­˜) åˆ†åˆ«éƒ½æœ‰ä»€ä¹ˆä¼˜åŠ¿å’Œå¯¹åº”çš„é—®é¢˜ï¼Œè¿™é‡Œä¸ä½œèµ˜è¿°ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ä¸‹æ–¹çš„æ–‡ç« ï¼Œå†™å¾—éå¸¸è¯¦ç»†ã€‚ é¢è¯•å‰å¿…é¡»è¦çŸ¥é“çš„Redisé¢è¯•é¢˜ | Java3y - https://mp.weixin.qq.com/s/3Fmv7h5p2QDtLxc9n1dp5A Redis ä¸ºä»€ä¹ˆæ—©æœŸç‰ˆæœ¬é€‰æ‹©å•çº¿ç¨‹ï¼Ÿå®˜æ–¹è§£é‡Šå› ä¸º Redis æ˜¯åŸºäºå†…å­˜çš„æ“ä½œï¼ŒCPU ä¸æ˜¯ Redis çš„ç“¶é¢ˆï¼ŒRedis çš„ç“¶é¢ˆæœ€æœ‰å¯èƒ½æ˜¯ æœºå™¨å†…å­˜çš„å¤§å° æˆ–è€… ç½‘ç»œå¸¦å®½ã€‚æ—¢ç„¶å•çº¿ç¨‹å®¹æ˜“å®ç°ï¼Œè€Œä¸” CPU ä¸ä¼šæˆä¸ºç“¶é¢ˆï¼Œé‚£å°±é¡ºç†æˆç« åœ°é‡‡ç”¨å•çº¿ç¨‹çš„æ–¹æ¡ˆäº†ã€‚ ç®€å•æ€»ç»“ä¸€ä¸‹ ä½¿ç”¨å•çº¿ç¨‹æ¨¡å‹èƒ½å¸¦æ¥æ›´å¥½çš„ å¯ç»´æŠ¤æ€§ï¼Œæ–¹ä¾¿å¼€å‘å’Œè°ƒè¯•ï¼› ä½¿ç”¨å•çº¿ç¨‹æ¨¡å‹ä¹Ÿèƒ½ å¹¶å‘ çš„å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›(I/O å¤šè·¯å¤ç”¨æœºåˆ¶) Redis æœåŠ¡ä¸­è¿è¡Œçš„ç»å¤§å¤šæ•°æ“ä½œçš„ æ€§èƒ½ç“¶é¢ˆéƒ½ä¸æ˜¯ CPUï¼› å¼ºçƒˆæ¨è å„ä½äº²çœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š ä¸ºä»€ä¹ˆ Redis é€‰æ‹©å•çº¿ç¨‹æ¨¡å‹ Â· Whyâ€™s THE Design? - https://draveness.me/whys-the-design-redis-single-thread Redis ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿç®€å•æ€»ç»“ï¼š çº¯å†…å­˜æ“ä½œï¼šè¯»å–ä¸éœ€è¦è¿›è¡Œç£ç›˜ I/Oï¼Œæ‰€ä»¥æ¯”ä¼ ç»Ÿæ•°æ®åº“è¦å¿«ä¸Šä¸å°‘ï¼›(ä½†ä¸è¦æœ‰è¯¯åŒºè¯´ç£ç›˜å°±ä¸€å®šæ…¢ï¼Œä¾‹å¦‚ Kafka å°±æ˜¯ä½¿ç”¨ç£ç›˜é¡ºåºè¯»å–ä½†ä»ç„¶è¾ƒå¿«) å•çº¿ç¨‹ï¼Œæ— é”ç«äº‰ï¼šè¿™ä¿è¯äº†æ²¡æœ‰çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸ä¼šå› ä¸ºå¤šçº¿ç¨‹çš„ä¸€äº›æ“ä½œè€Œé™ä½æ€§èƒ½ï¼› å¤šè·¯ I/O å¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡ I/Oï¼šé‡‡ç”¨å¤šè·¯ I/O å¤ç”¨æŠ€æœ¯å¯ä»¥è®©å•ä¸ªçº¿ç¨‹é«˜æ•ˆçš„å¤„ç†å¤šä¸ªç½‘ç»œè¿æ¥è¯·æ±‚ï¼ˆå°½é‡å‡å°‘ç½‘ç»œ IO çš„æ—¶é—´æ¶ˆè€—ï¼‰ï¼› é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼ŒåŠ ä¸Šåº•å±‚åšäº†å¤§é‡ä¼˜åŒ–ï¼šRedis å¯¹äºåº•å±‚çš„æ•°æ®ç»“æ„å’Œå†…å­˜å ç”¨åšäº†å¤§é‡çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚ä¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²ä½¿ç”¨ä¸åŒçš„ç»“æ„ä½“è¡¨ç¤ºï¼ŒHyperLogLog çš„å¯†é›†å‹å­˜å‚¨ç»“æ„ç­‰ç­‰.. äºŒã€æ•°æ®ç»“æ„ç¯‡ ç®€è¿°ä¸€ä¸‹ Redis å¸¸ç”¨æ•°æ®ç»“æ„åŠå®ç°ï¼Ÿé¦–å…ˆåœ¨ Redis å†…éƒ¨ä¼šä½¿ç”¨ä¸€ä¸ª RedisObject å¯¹è±¡æ¥è¡¨ç¤ºæ‰€æœ‰çš„ key å’Œ valueï¼š å…¶æ¬¡ Redis ä¸ºäº† å¹³è¡¡ç©ºé—´å’Œæ—¶é—´æ•ˆç‡ï¼Œé’ˆå¯¹ value çš„å…·ä½“ç±»å‹åœ¨åº•å±‚ä¼šé‡‡ç”¨ä¸åŒçš„æ•°æ®ç»“æ„æ¥å®ç°ï¼Œä¸‹å›¾å±•ç¤ºäº†ä»–ä»¬ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š(å¥½åƒä¹±ç³Ÿç³Ÿçš„ï¼Œä½†è‡³å°‘èƒ½çœ‹æ¸…æ¥š..) Redis çš„ SDS å’Œ C ä¸­å­—ç¬¦ä¸²ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿå…ˆç®€å•æ€»ç»“ä¸€ä¸‹C è¯­è¨€ä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º N+1 çš„å­—ç¬¦æ•°ç»„æ¥è¡¨ç¤ºé•¿åº¦ä¸º N çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å­—ç¬¦æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ€»æ˜¯ \\0ï¼Œè¿™ç§ç®€å•çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹å¼ ä¸ç¬¦åˆ Redis å¯¹å­—ç¬¦ä¸²åœ¨å®‰å…¨æ€§ã€æ•ˆç‡ä»¥åŠåŠŸèƒ½æ–¹é¢çš„è¦æ±‚ã€‚ å†æ¥è¯´ C è¯­è¨€å­—ç¬¦ä¸²çš„é—®é¢˜è¿™æ ·ç®€å•çš„æ•°æ®ç»“æ„å¯èƒ½ä¼šé€ æˆä»¥ä¸‹ä¸€äº›é—®é¢˜ï¼š è·å–å­—ç¬¦ä¸²é•¿åº¦ä¸º O(N) çº§åˆ«çš„æ“ä½œ â†’ å› ä¸º C ä¸ä¿å­˜æ•°ç»„çš„é•¿åº¦ï¼Œæ¯æ¬¡éƒ½éœ€è¦éå†ä¸€éæ•´ä¸ªæ•°ç»„ï¼› ä¸èƒ½å¾ˆå¥½çš„æœç» ç¼“å†²åŒºæº¢å‡º/å†…å­˜æ³„æ¼ çš„é—®é¢˜ â†’ è·Ÿä¸Šè¿°é—®é¢˜åŸå› ä¸€æ ·ï¼Œå¦‚æœæ‰§è¡Œæ‹¼æ¥ or ç¼©çŸ­å­—ç¬¦ä¸²çš„æ“ä½œï¼Œå¦‚æœæ“ä½œä¸å½“å°±å¾ˆå®¹æ˜“é€ æˆä¸Šè¿°é—®é¢˜ï¼› C å­—ç¬¦ä¸² åªèƒ½ä¿å­˜æ–‡æœ¬æ•°æ® â†’ å› ä¸º C è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ç¬¦åˆæŸç§ç¼–ç ï¼ˆæ¯”å¦‚ ASCIIï¼‰ï¼Œä¾‹å¦‚ä¸­é—´å‡ºç°çš„ &#39;\\0&#39; å¯èƒ½ä¼šè¢«åˆ¤å®šä¸ºæå‰ç»“æŸçš„å­—ç¬¦ä¸²è€Œè¯†åˆ«ä¸äº†ï¼› Redis å¦‚ä½•è§£å†³çš„ | SDS çš„ä¼˜åŠ¿ å¦‚æœå»çœ‹ Redis çš„æºç  sds.h/sdshdr æ–‡ä»¶ï¼Œä½ ä¼šçœ‹åˆ° SDS å®Œæ•´çš„å®ç°ç»†èŠ‚ï¼Œè¿™é‡Œç®€å•æ¥è¯´ä¸€ä¸‹ Redis å¦‚ä½•è§£å†³çš„ï¼š å¤šå¢åŠ  len è¡¨ç¤ºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼šè¿™æ ·å°±å¯ä»¥ç›´æ¥è·å–é•¿åº¦äº†ï¼Œå¤æ‚åº¦ O(1)ï¼› è‡ªåŠ¨æ‰©å±•ç©ºé—´ï¼šå½“ SDS éœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹æ—¶ï¼Œé¦–å…ˆå€ŸåŠ©äº len å’Œ alloc æ£€æŸ¥ç©ºé—´æ˜¯å¦æ»¡è¶³ä¿®æ”¹æ‰€éœ€çš„è¦æ±‚ï¼Œå¦‚æœç©ºé—´ä¸å¤Ÿçš„è¯ï¼ŒSDS ä¼šè‡ªåŠ¨æ‰©å±•ç©ºé—´ï¼Œé¿å…äº†åƒ C å­—ç¬¦ä¸²æ“ä½œä¸­çš„è¦†ç›–æƒ…å†µï¼› æœ‰æ•ˆé™ä½å†…å­˜åˆ†é…æ¬¡æ•°ï¼šC å­—ç¬¦ä¸²åœ¨æ¶‰åŠå¢åŠ æˆ–è€…æ¸…é™¤æ“ä½œæ—¶ä¼šæ”¹å˜åº•å±‚æ•°ç»„çš„å¤§å°é€ æˆé‡æ–°åˆ†é…ï¼ŒSDS ä½¿ç”¨äº† ç©ºé—´é¢„åˆ†é… å’Œ æƒ°æ€§ç©ºé—´é‡Šæ”¾ æœºåˆ¶ï¼Œç®€å•ç†è§£å°±æ˜¯æ¯æ¬¡åœ¨æ‰©å±•æ—¶æ˜¯æˆå€çš„å¤šåˆ†é…çš„ï¼Œåœ¨ç¼©å®¹æ˜¯ä¹Ÿæ˜¯å…ˆç•™ç€å¹¶ä¸æ­£å¼å½’è¿˜ç»™ OSï¼› äºŒè¿›åˆ¶å®‰å…¨ï¼šC è¯­è¨€å­—ç¬¦ä¸²åªèƒ½ä¿å­˜ ascii ç ï¼Œå¯¹äºå›¾ç‰‡ã€éŸ³é¢‘ç­‰ä¿¡æ¯æ— æ³•ä¿å­˜ï¼ŒSDS æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œå†™å…¥ä»€ä¹ˆè¯»å–å°±æ˜¯ä»€ä¹ˆï¼Œä¸åšä»»ä½•è¿‡æ»¤å’Œé™åˆ¶ï¼› å­—å…¸æ˜¯å¦‚ä½•å®ç°çš„ï¼ŸRehash äº†è§£å—ï¼Ÿå…ˆæ€»ä½“èŠä¸€ä¸‹ Redis ä¸­çš„å­—å…¸å­—å…¸æ˜¯ Redis æœåŠ¡å™¨ä¸­å‡ºç°æœ€ä¸ºé¢‘ç¹çš„å¤åˆå‹æ•°æ®ç»“æ„ã€‚é™¤äº† hash ç»“æ„çš„æ•°æ®ä¼šç”¨åˆ°å­—å…¸å¤–ï¼Œæ•´ä¸ª Redis æ•°æ®åº“çš„æ‰€æœ‰ key å’Œ value ä¹Ÿç»„æˆäº†ä¸€ä¸ª å…¨å±€å­—å…¸ï¼Œè¿˜æœ‰å¸¦è¿‡æœŸæ—¶é—´çš„ key ä¹Ÿæ˜¯ä¸€ä¸ªå­—å…¸ã€‚(å­˜å‚¨åœ¨ RedisDb æ•°æ®ç»“æ„ä¸­) è¯´æ˜å­—å…¸å†…éƒ¨ç»“æ„å’Œ rehashRedis ä¸­çš„å­—å…¸ç›¸å½“äº Java ä¸­çš„ HashMapï¼Œå†…éƒ¨å®ç°ä¹Ÿå·®ä¸å¤šç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ â€œæ•°ç»„ + é“¾è¡¨â€ çš„ é“¾åœ°å€æ³• æ¥è§£å†³éƒ¨åˆ† å“ˆå¸Œå†²çªï¼ŒåŒæ—¶è¿™æ ·çš„ç»“æ„ä¹Ÿå¸æ”¶äº†ä¸¤ç§ä¸åŒæ•°æ®ç»“æ„çš„ä¼˜ç‚¹ã€‚ å­—å…¸ç»“æ„å†…éƒ¨åŒ…å« ä¸¤ä¸ª hashtableï¼Œé€šå¸¸æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ª hashtable æœ‰å€¼ï¼Œä½†æ˜¯åœ¨å­—å…¸æ‰©å®¹ç¼©å®¹æ—¶ï¼Œéœ€è¦åˆ†é…æ–°çš„ hashtableï¼Œç„¶åè¿›è¡Œ æ¸è¿›å¼æ¬è¿ (rehash)ï¼Œè¿™æ—¶å€™ä¸¤ä¸ª hashtable åˆ†åˆ«å­˜å‚¨æ—§çš„å’Œæ–°çš„ hashtableï¼Œå¾…æ¬è¿ç»“æŸåï¼Œæ—§çš„å°†è¢«åˆ é™¤ï¼Œæ–°çš„ hashtable å–è€Œä»£ä¹‹ã€‚ æ‰©ç¼©å®¹çš„æ¡ä»¶æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“ hash è¡¨ä¸­ å…ƒç´ çš„ä¸ªæ•°ç­‰äºç¬¬ä¸€ç»´æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œå°±ä¼šå¼€å§‹æ‰©å®¹ï¼Œæ‰©å®¹çš„æ–°æ•°ç»„æ˜¯ åŸæ•°ç»„å¤§å°çš„ 2 å€ã€‚ä¸è¿‡å¦‚æœ Redis æ­£åœ¨åš bgsave(æŒä¹…åŒ–å‘½ä»¤)ï¼Œä¸ºäº†å‡å°‘å†…å­˜ä¹Ÿå¾—è¿‡å¤šåˆ†ç¦»ï¼ŒRedis å°½é‡ä¸å»æ‰©å®¹ï¼Œä½†æ˜¯å¦‚æœ hash è¡¨éå¸¸æ»¡äº†ï¼Œè¾¾åˆ°äº†ç¬¬ä¸€ç»´æ•°ç»„é•¿åº¦çš„ 5 å€äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼š å¼ºåˆ¶æ‰©å®¹ã€‚ å½“ hash è¡¨å› ä¸ºå…ƒç´ é€æ¸è¢«åˆ é™¤å˜å¾—è¶Šæ¥è¶Šç¨€ç–æ—¶ï¼ŒRedis ä¼šå¯¹ hash è¡¨è¿›è¡Œç¼©å®¹æ¥å‡å°‘ hash è¡¨çš„ç¬¬ä¸€ç»´æ•°ç»„ç©ºé—´å ç”¨ã€‚æ‰€ç”¨çš„æ¡ä»¶æ˜¯ å…ƒç´ ä¸ªæ•°ä½äºæ•°ç»„é•¿åº¦çš„ 10%ï¼Œç¼©å®¹ä¸ä¼šè€ƒè™‘ Redis æ˜¯å¦åœ¨åš bgsaveã€‚ è·³è·ƒè¡¨æ˜¯å¦‚ä½•å®ç°çš„ï¼ŸåŸç†ï¼Ÿ è¿™æ˜¯ Redis ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå»ºè®®é˜…è¯» ä¹‹å‰å†™è¿‡çš„æ–‡ç« ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†åŸç†å’Œä¸€äº›ç»†èŠ‚ï¼š Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ HyperLogLog æœ‰äº†è§£å—ï¼Ÿ å»ºè®®é˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼š Redis(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/ å¸ƒéš†è¿‡æ»¤å™¨æœ‰äº†è§£å—ï¼Ÿ å»ºè®®é˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼š Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ - https://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/ GeoHash äº†è§£å—ï¼Ÿ å»ºè®®é˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼š Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äºº - https://www.wmyskxz.com/2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/ å‹ç¼©åˆ—è¡¨äº†è§£å—ï¼Ÿè¿™æ˜¯ Redis ä¸ºäº†èŠ‚çº¦å†…å­˜ è€Œä½¿ç”¨çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œzset å’Œ hash å®¹å™¨å¯¹è±¡ä¼šåœ¨å…ƒç´ ä¸ªæ•°è¾ƒå°‘çš„æ—¶å€™ï¼Œé‡‡ç”¨å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰è¿›è¡Œå­˜å‚¨ã€‚å‹ç¼©åˆ—è¡¨æ˜¯ ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå…ƒç´ ä¹‹é—´ç´§æŒ¨ç€å­˜å‚¨ï¼Œæ²¡æœ‰ä»»ä½•å†—ä½™ç©ºéš™ã€‚ å› ä¸ºä¹‹å‰è‡ªå·±ä¹Ÿæ²¡æœ‰å­¦ä¹ è¿‡ï¼Œæ‰€ä»¥æ‰¾äº†ä¸€ç¯‡æ¯”è¾ƒå¥½æ¯”è¾ƒå®¹æ˜“ç†è§£çš„æ–‡ç« ï¼š å›¾è§£Redisä¹‹æ•°æ®ç»“æ„ç¯‡â€”â€”å‹ç¼©åˆ—è¡¨ - https://mp.weixin.qq.com/s/nba0FUEAVRs0vi24KUoyQg è¿™ä¸€ç¯‡ç¨å¾®åº•å±‚ç¨å¾®ç¡¬æ ¸ä¸€ç‚¹ï¼šhttp://www.web-lovers.com/redis-source-ziplist.html å¿«é€Ÿåˆ—è¡¨ quicklist äº†è§£å—ï¼ŸRedis æ—©æœŸç‰ˆæœ¬å­˜å‚¨ list åˆ—è¡¨æ•°æ®ç»“æ„ä½¿ç”¨çš„æ˜¯å‹ç¼©åˆ—è¡¨ ziplist å’Œæ™®é€šçš„åŒå‘é“¾è¡¨ linkedlistï¼Œä¹Ÿå°±æ˜¯è¯´å½“å…ƒç´ å°‘æ—¶ä½¿ç”¨ ziplistï¼Œå½“å…ƒç´ å¤šæ—¶ç”¨ linkedlistã€‚ä½†è€ƒè™‘åˆ°é“¾è¡¨çš„é™„åŠ ç©ºé—´ç›¸å¯¹è¾ƒé«˜ï¼Œprev å’Œ next æŒ‡é’ˆå°±è¦å å» 16 ä¸ªå­—èŠ‚ï¼ˆ64 ä½æ“ä½œç³»ç»Ÿå ç”¨ 8 ä¸ªå­—èŠ‚ï¼‰ï¼Œå¦å¤–æ¯ä¸ªèŠ‚ç‚¹çš„å†…å­˜éƒ½æ˜¯å•ç‹¬åˆ†é…ï¼Œä¼šå®¶å…·å†…å­˜çš„ç¢ç‰‡åŒ–ï¼Œå½±å“å†…å­˜ç®¡ç†æ•ˆç‡ã€‚ åæ¥ Redis æ–°ç‰ˆæœ¬ï¼ˆ3.2ï¼‰å¯¹åˆ—è¡¨æ•°æ®ç»“æ„è¿›è¡Œäº†æ”¹é€ ï¼Œä½¿ç”¨ quicklist ä»£æ›¿äº† ziplist å’Œ linkedlistã€‚ åŒä¸Š..å»ºè®®é˜…è¯»ä¸€ä¸‹ä»¥ä¸‹çš„æ–‡ç« ï¼š Redisåˆ—è¡¨list åº•å±‚åŸç† - https://zhuanlan.zhihu.com/p/102422311 Stream ç»“æ„æœ‰äº†è§£å—ï¼ŸRedis Stream ä»æ¦‚å¿µä¸Šæ¥è¯´ï¼Œå°±åƒæ˜¯ä¸€ä¸ª ä»…è¿½åŠ å†…å®¹ çš„ æ¶ˆæ¯é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰åŠ å…¥çš„æ¶ˆæ¯éƒ½ä¸€ä¸ªä¸€ä¸ªä¸²èµ·æ¥ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID å’Œå†…å®¹ï¼Œè¿™å¾ˆç®€å•ï¼Œè®©å®ƒå¤æ‚çš„æ˜¯ä» Kafka å€Ÿé‰´çš„å¦ä¸€ç§æ¦‚å¿µï¼šæ¶ˆè´¹è€…ç»„(Consumer Group) (æ€è·¯ä¸€è‡´ï¼Œå®ç°ä¸åŒ)ï¼š ä¸Šå›¾å°±å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ Stream ç»“æ„ã€‚æ¯ä¸ª Stream éƒ½æœ‰å”¯ä¸€çš„åç§°ï¼Œå®ƒå°±æ˜¯ Redis çš„ keyï¼Œåœ¨æˆ‘ä»¬é¦–æ¬¡ä½¿ç”¨ xadd æŒ‡ä»¤è¿½åŠ æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºã€‚æˆ‘ä»¬å¯¹å›¾ä¸­çš„ä¸€äº›æ¦‚å¿µåšä¸€ä¸‹è§£é‡Šï¼š Consumer Groupï¼šæ¶ˆè´¹è€…ç»„ï¼Œå¯ä»¥ç®€å•çœ‹æˆè®°å½•æµçŠ¶æ€çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ¶ˆè´¹è€…æ—¢å¯ä»¥é€‰æ‹©ä½¿ç”¨ XREAD å‘½ä»¤è¿›è¡Œ ç‹¬ç«‹æ¶ˆè´¹ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶åŠ å…¥ä¸€ä¸ªæ¶ˆè´¹è€…ç»„è¿›è¡Œ ç»„å†…æ¶ˆè´¹ã€‚åŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„å†…çš„æ¶ˆè´¹è€…å…±äº«æ‰€æœ‰çš„ Stream ä¿¡æ¯ï¼ŒåŒä¸€æ¡æ¶ˆæ¯åªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°ï¼Œè¿™æ ·å°±å¯ä»¥åº”ç”¨åœ¨åˆ†å¸ƒå¼çš„åº”ç”¨åœºæ™¯ä¸­æ¥ä¿è¯æ¶ˆæ¯çš„å”¯ä¸€æ€§ã€‚ last_delivered_idï¼šç”¨æ¥è¡¨ç¤ºæ¶ˆè´¹è€…ç»„æ¶ˆè´¹åœ¨ Stream ä¸Š æ¶ˆè´¹ä½ç½® çš„æ¸¸æ ‡ä¿¡æ¯ã€‚æ¯ä¸ªæ¶ˆè´¹è€…ç»„éƒ½æœ‰ä¸€ä¸ª Stream å†… å”¯ä¸€çš„åç§°ï¼Œæ¶ˆè´¹è€…ç»„ä¸ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œéœ€è¦ä½¿ç”¨ XGROUP CREATE æŒ‡ä»¤æ¥æ˜¾å¼åˆ›å»ºï¼Œå¹¶ä¸”éœ€è¦æŒ‡å®šä»å“ªä¸€ä¸ªæ¶ˆæ¯ ID å¼€å§‹æ¶ˆè´¹ï¼Œç”¨æ¥åˆå§‹åŒ– last_delivered_id è¿™ä¸ªå˜é‡ã€‚ pending_idsï¼šæ¯ä¸ªæ¶ˆè´¹è€…å†…éƒ¨éƒ½æœ‰çš„ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œç”¨æ¥è¡¨ç¤º å·²ç» è¢«å®¢æˆ·ç«¯ è·å–ï¼Œä½†æ˜¯ è¿˜æ²¡æœ‰ ack çš„æ¶ˆæ¯ã€‚è®°å½•çš„ç›®çš„æ˜¯ä¸ºäº† ä¿è¯å®¢æˆ·ç«¯è‡³å°‘æ¶ˆè´¹äº†æ¶ˆæ¯ä¸€æ¬¡ï¼Œè€Œä¸ä¼šåœ¨ç½‘ç»œä¼ è¾“çš„ä¸­é€”ä¸¢å¤±è€Œæ²¡æœ‰å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚å¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰ ackï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡é‡Œé¢çš„æ¶ˆæ¯ ID å°±ä¼šè¶Šæ¥è¶Šå¤šï¼Œä¸€æ—¦æŸä¸ªæ¶ˆæ¯è¢« ackï¼Œå®ƒå°±ä¼šå¯¹åº”å¼€å§‹å‡å°‘ã€‚è¿™ä¸ªå˜é‡ä¹Ÿè¢« Redis å®˜æ–¹ç§°ä¸º PEL (Pending Entries List)ã€‚ Stream æ¶ˆæ¯å¤ªå¤šæ€ä¹ˆåŠï¼Ÿå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œè¦æ˜¯æ¶ˆæ¯ç§¯ç´¯å¤ªå¤šï¼ŒStream çš„é“¾è¡¨å²‚ä¸æ˜¯å¾ˆé•¿ï¼Œå†…å®¹ä¼šä¸ä¼šçˆ†æ‰å°±æ˜¯ä¸ªé—®é¢˜äº†ã€‚xdel æŒ‡ä»¤åˆä¸ä¼šåˆ é™¤æ¶ˆæ¯ï¼Œå®ƒåªæ˜¯ç»™æ¶ˆæ¯åšäº†ä¸ªæ ‡å¿—ä½ã€‚ Redis è‡ªç„¶è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥å®ƒæä¾›äº†ä¸€ä¸ªå®šé•¿ Stream åŠŸèƒ½ã€‚åœ¨ xadd çš„æŒ‡ä»¤æä¾›ä¸€ä¸ªå®šé•¿é•¿åº¦ maxlenï¼Œå°±å¯ä»¥å°†è€çš„æ¶ˆæ¯å¹²æ‰ï¼Œç¡®ä¿æœ€å¤šä¸è¶…è¿‡æŒ‡å®šé•¿åº¦ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š > XADD mystream MAXLEN 2 * value 1 1526654998691-0 > XADD mystream MAXLEN 2 * value 2 1526654999635-0 > XADD mystream MAXLEN 2 * value 3 1526655000369-0 > XLEN mystream (integer) 2 > XRANGE mystream - + 1) 1) 1526654999635-0 2) 1) \"value\" 2) \"2\" 2) 1) 1526655000369-0 2) 1) \"value\" 2) \"3\" å¦‚æœä½¿ç”¨ MAXLEN é€‰é¡¹ï¼Œå½“ Stream çš„è¾¾åˆ°æŒ‡å®šé•¿åº¦åï¼Œè€çš„æ¶ˆæ¯ä¼šè‡ªåŠ¨è¢«æ·˜æ±°æ‰ï¼Œå› æ­¤ Stream çš„å¤§å°æ˜¯æ’å®šçš„ã€‚ç›®å‰è¿˜æ²¡æœ‰é€‰é¡¹è®© Stream åªä¿ç•™ç»™å®šæ•°é‡çš„æ¡ç›®ï¼Œå› ä¸ºä¸ºäº†ä¸€è‡´åœ°è¿è¡Œï¼Œè¿™æ ·çš„å‘½ä»¤å¿…é¡»åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…é˜»å¡ä»¥æ·˜æ±°æ¶ˆæ¯ã€‚(ä¾‹å¦‚åœ¨æ·»åŠ æ•°æ®çš„é«˜å³°æœŸé—´ï¼Œä½ ä¸å¾—ä¸é•¿æš‚åœæ¥æ·˜æ±°æ—§æ¶ˆæ¯å’Œæ·»åŠ æ–°çš„æ¶ˆæ¯) å¦å¤–ä½¿ç”¨ MAXLEN é€‰é¡¹çš„èŠ±é”€æ˜¯å¾ˆå¤§çš„ï¼ŒStream ä¸ºäº†èŠ‚çœå†…å­˜ç©ºé—´ï¼Œé‡‡ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„ç»“æ„è¡¨ç¤ºï¼Œè€Œè¿™ç§ç»“æ„çš„è°ƒæ•´æ˜¯éœ€è¦é¢å¤–çš„èŠ±é”€çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§å¸¦æœ‰ ~ çš„ç‰¹æ®Šå‘½ä»¤ï¼š XADD mystream MAXLEN ~ 1000 * ... entry fields here ... å®ƒä¼šåŸºäºå½“å‰çš„ç»“æ„åˆç†åœ°å¯¹èŠ‚ç‚¹æ‰§è¡Œè£å‰ªï¼Œæ¥ä¿è¯è‡³å°‘ä¼šæœ‰ 1000 æ¡æ•°æ®ï¼Œå¯èƒ½æ˜¯ 1010 ä¹Ÿå¯èƒ½æ˜¯ 1030ã€‚ PEL æ˜¯å¦‚ä½•é¿å…æ¶ˆæ¯ä¸¢å¤±çš„ï¼Ÿåœ¨å®¢æˆ·ç«¯æ¶ˆè´¹è€…è¯»å– Stream æ¶ˆæ¯æ—¶ï¼ŒRedis æœåŠ¡å™¨å°†æ¶ˆæ¯å›å¤ç»™å®¢æˆ·ç«¯çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯çªç„¶æ–­å¼€äº†è¿æ¥ï¼Œæ¶ˆæ¯å°±ä¸¢å¤±äº†ã€‚ä½†æ˜¯ PEL é‡Œå·²ç»ä¿å­˜äº†å‘å‡ºå»çš„æ¶ˆæ¯ IDï¼Œå¾…å®¢æˆ·ç«¯é‡æ–°è¿ä¸Šä¹‹åï¼Œå¯ä»¥å†æ¬¡æ”¶åˆ° PEL ä¸­çš„æ¶ˆæ¯ ID åˆ—è¡¨ã€‚ä¸è¿‡æ­¤æ—¶ xreadgroup çš„èµ·å§‹æ¶ˆæ¯ ID ä¸èƒ½ä¸ºå‚æ•° &gt; ï¼Œè€Œå¿…é¡»æ˜¯ä»»æ„æœ‰æ•ˆçš„æ¶ˆæ¯ IDï¼Œä¸€èˆ¬å°†å‚æ•°è®¾ä¸º 0-0ï¼Œè¡¨ç¤ºè¯»å–æ‰€æœ‰çš„ PEL æ¶ˆæ¯ä»¥åŠè‡ª last_delivered_id ä¹‹åçš„æ–°æ¶ˆæ¯ã€‚ å’Œ Kafka å¯¹æ¯”èµ·æ¥å‘¢ï¼ŸRedis åŸºäºå†…å­˜å­˜å‚¨ï¼Œè¿™æ„å‘³ç€å®ƒä¼šæ¯”åŸºäºç£ç›˜çš„ Kafka å¿«ä¸Šä¸€äº›ï¼Œä¹Ÿæ„å‘³ç€ä½¿ç”¨ Redis æˆ‘ä»¬ ä¸èƒ½é•¿æ—¶é—´å­˜å‚¨å¤§é‡æ•°æ®ã€‚ä¸è¿‡å¦‚æœæ‚¨æƒ³ä»¥ æœ€å°å»¶è¿Ÿ å®æ—¶å¤„ç†æ¶ˆæ¯çš„è¯ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ Redisï¼Œä½†æ˜¯å¦‚æœ æ¶ˆæ¯å¾ˆå¤§å¹¶ä¸”åº”è¯¥é‡ç”¨æ•°æ® çš„è¯ï¼Œåˆ™åº”è¯¥é¦–å…ˆè€ƒè™‘ä½¿ç”¨ Kafkaã€‚ å¦å¤–ä»æŸäº›è§’åº¦æ¥è¯´ï¼ŒRedis Stream ä¹Ÿæ›´é€‚ç”¨äºå°å‹ã€å»‰ä»·çš„åº”ç”¨ç¨‹åºï¼Œå› ä¸º Kafka ç›¸å¯¹æ¥è¯´æ›´éš¾é…ç½®ä¸€äº›ã€‚ æ¨èé˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼Œé‡Œé¢ ä¹Ÿå¯¹ Pub/ Sub åšäº†è¯¦ç»†çš„æè¿°ï¼š Redis(8)â€”â€”å‘å¸ƒ/è®¢é˜…ä¸Stream - https://www.wmyskxz.com/2020/03/15/redis-8-fa-bu-ding-yue-yu-stream/ ä¸‰ã€æŒä¹…åŒ–ç¯‡ ä»€ä¹ˆæ˜¯æŒä¹…åŒ–ï¼Ÿå…ˆç®€å•è°ˆä¸€è°ˆæ˜¯ä»€ä¹ˆRedis çš„æ•°æ® å…¨éƒ¨å­˜å‚¨ åœ¨ å†…å­˜ ä¸­ï¼Œå¦‚æœ çªç„¶å®•æœºï¼Œæ•°æ®å°±ä¼šå…¨éƒ¨ä¸¢å¤±ï¼Œå› æ­¤å¿…é¡»æœ‰ä¸€å¥—æœºåˆ¶æ¥ä¿è¯ Redis çš„æ•°æ®ä¸ä¼šå› ä¸ºæ•…éšœè€Œä¸¢å¤±ï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯ Redis çš„ æŒä¹…åŒ–æœºåˆ¶ï¼Œå®ƒä¼šå°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ ä¿å­˜åˆ°ç£ç›˜ ä¸­ã€‚ è§£é‡Šä¸€ä¸‹æŒä¹…åŒ–å‘ç”Ÿäº†ä»€ä¹ˆæˆ‘ä»¬æ¥ç¨å¾®è€ƒè™‘ä¸€ä¸‹ Redis ä½œä¸ºä¸€ä¸ª â€œå†…å­˜æ•°æ®åº“â€ è¦åšçš„å…³äºæŒä¹…åŒ–çš„äº‹æƒ…ã€‚é€šå¸¸æ¥è¯´ï¼Œä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚å¼€å§‹ï¼Œåˆ°æœåŠ¡å™¨çœŸå®åœ°å†™å…¥ç£ç›˜ï¼Œéœ€è¦å‘ç”Ÿå¦‚ä¸‹å‡ ä»¶äº‹æƒ…ï¼š è¯¦ç»†ç‰ˆ çš„æ–‡å­—æè¿°å¤§æ¦‚å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š å®¢æˆ·ç«¯å‘æ•°æ®åº“ å‘é€å†™å‘½ä»¤ (æ•°æ®åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­) æ•°æ®åº“ æ¥æ”¶ åˆ°å®¢æˆ·ç«¯çš„ å†™è¯·æ±‚ (æ•°æ®åœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­) æ•°æ®åº“ è°ƒç”¨ç³»ç»Ÿ API å°†æ•°æ®å†™å…¥ç£ç›˜ (æ•°æ®åœ¨å†…æ ¸ç¼“å†²åŒºä¸­) æ“ä½œç³»ç»Ÿå°† å†™ç¼“å†²åŒº ä¼ è¾“åˆ° ç£ç›˜æ§æ§åˆ¶å™¨ (æ•°æ®åœ¨ç£ç›˜ç¼“å­˜ä¸­) æ“ä½œç³»ç»Ÿçš„ç£ç›˜æ§åˆ¶å™¨å°†æ•°æ® å†™å…¥å®é™…çš„ç‰©ç†åª’ä»‹ ä¸­ (æ•°æ®åœ¨ç£ç›˜ä¸­) åˆ†æå¦‚ä½•ä¿è¯æŒä¹…åŒ–å®‰å…¨å¦‚æœæˆ‘ä»¬æ•…éšœä»…ä»…æ¶‰åŠåˆ° è½¯ä»¶å±‚é¢ (è¯¥è¿›ç¨‹è¢«ç®¡ç†å‘˜ç»ˆæ­¢æˆ–ç¨‹åºå´©æºƒ) å¹¶ä¸”æ²¡æœ‰æ¥è§¦åˆ°å†…æ ¸ï¼Œé‚£ä¹ˆåœ¨ ä¸Šè¿°æ­¥éª¤ 3 æˆåŠŸè¿”å›ä¹‹åï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæˆåŠŸäº†ã€‚å³ä½¿è¿›ç¨‹å´©æºƒï¼Œæ“ä½œç³»ç»Ÿä»ç„¶ä¼šå¸®åŠ©æˆ‘ä»¬æŠŠæ•°æ®æ­£ç¡®åœ°å†™å…¥ç£ç›˜ã€‚ å¦‚æœæˆ‘ä»¬è€ƒè™‘ åœç”µ/ ç«ç¾ ç­‰ æ›´å…·ç¾éš¾æ€§ çš„äº‹æƒ…ï¼Œé‚£ä¹ˆåªæœ‰åœ¨å®Œæˆäº†ç¬¬ 5 æ­¥ä¹‹åï¼Œæ‰æ˜¯å®‰å…¨çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ€»ç»“å¾—å‡ºæ•°æ®å®‰å…¨æœ€é‡è¦çš„é˜¶æ®µæ˜¯ï¼šæ­¥éª¤ä¸‰ã€å››ã€äº”ï¼Œå³ï¼š æ•°æ®åº“è½¯ä»¶è°ƒç”¨å†™æ“ä½œå°†ç”¨æˆ·ç©ºé—´çš„ç¼“å†²åŒºè½¬ç§»åˆ°å†…æ ¸ç¼“å†²åŒºçš„é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿ å†…æ ¸å¤šä¹…ä»ç¼“å†²åŒºå–æ•°æ®åˆ·æ–°åˆ°ç£ç›˜æ§åˆ¶å™¨ï¼Ÿ ç£ç›˜æ§åˆ¶å™¨å¤šä¹…æŠŠæ•°æ®å†™å…¥ç‰©ç†åª’ä»‹ä¸€æ¬¡ï¼Ÿ æ³¨æ„ï¼š å¦‚æœçœŸçš„å‘ç”Ÿç¾éš¾æ€§çš„äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸Šå›¾çš„è¿‡ç¨‹ä¸­çœ‹åˆ°ï¼Œä»»ä½•ä¸€æ­¥éƒ½å¯èƒ½è¢«æ„å¤–æ‰“æ–­ä¸¢å¤±ï¼Œæ‰€ä»¥åªèƒ½ å°½å¯èƒ½åœ°ä¿è¯ æ•°æ®çš„å®‰å…¨ï¼Œè¿™å¯¹äºæ‰€æœ‰æ•°æ®åº“æ¥è¯´éƒ½æ˜¯ä¸€æ ·çš„ã€‚ æˆ‘ä»¬ä» ç¬¬ä¸‰æ­¥ å¼€å§‹ã€‚Linux ç³»ç»Ÿæä¾›äº†æ¸…æ™°ã€æ˜“ç”¨çš„ç”¨äºæ“ä½œæ–‡ä»¶çš„ POSIX file APIï¼Œ20 å¤šå¹´è¿‡å»ï¼Œä»ç„¶è¿˜æœ‰å¾ˆå¤šäººå¯¹äºè¿™ä¸€å¥— API çš„è®¾è®¡æ´¥æ´¥ä¹é“ï¼Œæˆ‘æƒ³å…¶ä¸­ä¸€ä¸ªåŸå› å°±æ˜¯å› ä¸ºä½ å…‰ä» API çš„å‘½åå°±èƒ½å¤Ÿå¾ˆæ¸…æ™°åœ°çŸ¥é“è¿™ä¸€å¥— API çš„ç”¨é€”ï¼š int open(const char *path, int oflag, .../*,mode_t mode */); int close (int filedes);int remove( const char *fname ); ssize_t write(int fildes, const void *buf, size_t nbyte); ssize_t read(int fildes, void *buf, size_t nbyte); å‚è€ƒè‡ªï¼šAPI è®¾è®¡æœ€ä½³å®è·µçš„æ€è€ƒ - https://www.cnblogs.com/yuanjiangw/p/10846560.html æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¥½çš„å¯ç”¨çš„ API æ¥å®Œæˆ ç¬¬ä¸‰æ­¥ï¼Œä½†æ˜¯å¯¹äºæˆåŠŸè¿”å›ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹ç³»ç»Ÿè°ƒç”¨èŠ±è´¹çš„æ—¶é—´æ²¡æœ‰å¤ªå¤šçš„æ§åˆ¶æƒã€‚ ç„¶åæˆ‘ä»¬æ¥è¯´è¯´ ç¬¬å››æ­¥ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œé™¤äº†æ—©æœŸå¯¹ç”µè„‘ç‰¹åˆ«äº†è§£é‚£å¸®äºº (æ“ä½œç³»ç»Ÿå°±è¿™å¸®äººæçš„)ï¼Œå®é™…çš„ç‰©ç†ç¡¬ä»¶éƒ½ä¸æ˜¯æˆ‘ä»¬èƒ½å¤Ÿ ç›´æ¥æ“ä½œ çš„ï¼Œéƒ½æ˜¯é€šè¿‡ æ“ä½œç³»ç»Ÿè°ƒç”¨ æ¥è¾¾åˆ°ç›®çš„çš„ã€‚ä¸ºäº†é˜²æ­¢è¿‡æ…¢çš„ I/O æ“ä½œæ‹–æ…¢æ•´ä¸ªç³»ç»Ÿçš„è¿è¡Œï¼Œæ“ä½œç³»ç»Ÿå±‚é¢åšäº†å¾ˆå¤šçš„åŠªåŠ›ï¼Œè­¬å¦‚è¯´ ä¸Šè¿°ç¬¬å››æ­¥ æåˆ°çš„ å†™ç¼“å†²åŒºï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å†™æ“ä½œéƒ½ä¼šè¢«ç«‹å³å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯è¦å…ˆç»è¿‡ä¸€ä¸ªç¼“å†²åŒºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒLinux å°†åœ¨ 30 ç§’ åå®é™…æäº¤å†™å…¥ã€‚ ä½†æ˜¯å¾ˆæ˜æ˜¾ï¼Œ30 ç§’ å¹¶ä¸æ˜¯ Redis èƒ½å¤Ÿæ‰¿å—çš„ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœå‘ç”Ÿæ•…éšœï¼Œé‚£ä¹ˆæœ€è¿‘ 30 ç§’å†…å†™å…¥çš„æ‰€æœ‰æ•°æ®éƒ½å¯èƒ½ä¼šä¸¢å¤±ã€‚å¹¸å¥½ PROSIX API æä¾›äº†å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šfsyncï¼Œè¯¥å‘½ä»¤ä¼š å¼ºåˆ¶ å†…æ ¸å°† ç¼“å†²åŒº å†™å…¥ ç£ç›˜ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼š é˜»å¡ç­‰å¾… ç›´åˆ°è®¾å¤‡æŠ¥å‘Š IO å®Œæˆï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨ç”Ÿäº§ç¯å¢ƒçš„æœåŠ¡å™¨ä¸­ï¼ŒRedis é€šå¸¸æ˜¯æ¯éš” 1s å·¦å³æ‰§è¡Œä¸€æ¬¡ fsync æ“ä½œã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬äº†è§£åˆ°äº†å¦‚ä½•æ§åˆ¶ ç¬¬ä¸‰æ­¥ å’Œ ç¬¬å››æ­¥ï¼Œä½†æ˜¯å¯¹äº ç¬¬äº”æ­¥ï¼Œæˆ‘ä»¬ å®Œå…¨æ— æ³•æ§åˆ¶ã€‚ä¹Ÿè®¸ä¸€äº›å†…æ ¸å®ç°å°†è¯•å›¾å‘Šè¯‰é©±åŠ¨å®é™…æäº¤ç‰©ç†ä»‹è´¨ä¸Šçš„æ•°æ®ï¼Œæˆ–è€…æ§åˆ¶å™¨å¯èƒ½ä¼šä¸ºäº†æé«˜é€Ÿåº¦è€Œé‡æ–°æ’åºå†™æ“ä½œï¼Œä¸ä¼šå°½å¿«å°†æ•°æ®çœŸæ­£å†™åˆ°ç£ç›˜ä¸Šï¼Œè€Œæ˜¯ä¼šç­‰å¾…å‡ ä¸ªå¤šæ¯«ç§’ã€‚è¿™å®Œå…¨æ˜¯æˆ‘ä»¬æ— æ³•æ§åˆ¶çš„ã€‚ æ™®é€šäººç®€å•è¯´ä¸€ä¸‹ç¬¬ä¸€æ¡å°±è¿‡äº†ï¼Œå¦‚æœä½ è¯¦ç»†åœ°å¯¹åé¢ä¸¤æ–¹é¢ ä¾ƒä¾ƒè€Œè°ˆï¼Œé‚£é¢è¯•å®˜å°±ä¼šå¯¹ä½ å¦çœ¼ç›¸çœ‹äº†ã€‚ Redis ä¸­çš„ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼Ÿæ–¹å¼ä¸€ï¼šå¿«ç…§ Redis å¿«ç…§ æ˜¯æœ€ç®€å•çš„ Redis æŒä¹…æ€§æ¨¡å¼ã€‚å½“æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ï¼Œå®ƒå°†ç”Ÿæˆæ•°æ®é›†çš„æ—¶é—´ç‚¹å¿«ç…§ï¼Œä¾‹å¦‚ï¼Œå¦‚æœå…ˆå‰çš„å¿«ç…§æ˜¯åœ¨ 2 åˆ†é’Ÿå‰åˆ›å»ºçš„ï¼Œå¹¶ä¸”ç°åœ¨å·²ç»è‡³å°‘æœ‰ 100 æ¬¡æ–°å†™å…¥ï¼Œåˆ™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§ã€‚æ­¤æ¡ä»¶å¯ä»¥ç”±ç”¨æˆ·é…ç½® Redis å®ä¾‹æ¥æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹è€Œæ— éœ€é‡æ–°å¯åŠ¨æœåŠ¡å™¨ã€‚å¿«ç…§ä½œä¸ºåŒ…å«æ•´ä¸ªæ•°æ®é›†çš„å•ä¸ª .rdb æ–‡ä»¶ç”Ÿæˆã€‚ æ–¹å¼äºŒï¼šAOF å¿«ç…§ä¸æ˜¯å¾ˆæŒä¹…ã€‚å¦‚æœè¿è¡Œ Redis çš„è®¡ç®—æœºåœæ­¢è¿è¡Œï¼Œç”µæºçº¿å‡ºç°æ•…éšœæˆ–è€…æ‚¨ kill -9 çš„å®ä¾‹æ„å¤–å‘ç”Ÿï¼Œåˆ™å†™å…¥ Redis çš„æœ€æ–°æ•°æ®å°†ä¸¢å¤±ã€‚å°½ç®¡è¿™å¯¹äºæŸäº›åº”ç”¨ç¨‹åºå¯èƒ½ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä½†æœ‰äº›ä½¿ç”¨æ¡ˆä¾‹å…·æœ‰å……åˆ†çš„è€ç”¨æ€§ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¿«ç…§å¹¶ä¸æ˜¯å¯è¡Œçš„é€‰æ‹©ã€‚ AOF(Append Only File - ä»…è¿½åŠ æ–‡ä»¶) å®ƒçš„å·¥ä½œæ–¹å¼éå¸¸ç®€å•ï¼šæ¯æ¬¡æ‰§è¡Œ ä¿®æ”¹å†…å­˜ ä¸­æ•°æ®é›†çš„å†™æ“ä½œæ—¶ï¼Œéƒ½ä¼š è®°å½• è¯¥æ“ä½œã€‚å‡è®¾ AOF æ—¥å¿—è®°å½•äº†è‡ª Redis å®ä¾‹åˆ›å»ºä»¥æ¥ æ‰€æœ‰çš„ä¿®æ”¹æ€§æŒ‡ä»¤åºåˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡å¯¹ä¸€ä¸ªç©ºçš„ Redis å®ä¾‹ é¡ºåºæ‰§è¡Œæ‰€æœ‰çš„æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯ ã€Œé‡æ”¾ã€ï¼Œæ¥æ¢å¤ Redis å½“å‰å®ä¾‹çš„å†…å­˜æ•°æ®ç»“æ„çš„çŠ¶æ€ã€‚ Redis 4.0 çš„æ··åˆæŒä¹…åŒ– é‡å¯ Redis æ—¶ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ rdb æ¥æ¢å¤å†…å­˜çŠ¶æ€ï¼Œå› ä¸ºä¼šä¸¢å¤±å¤§é‡æ•°æ®ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ AOF æ—¥å¿—é‡æ”¾ï¼Œä½†æ˜¯é‡æ”¾ AOF æ—¥å¿—æ€§èƒ½ç›¸å¯¹ rdb æ¥è¯´è¦æ…¢å¾ˆå¤šï¼Œè¿™æ ·åœ¨ Redis å®ä¾‹å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå¯åŠ¨éœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ã€‚ Redis 4.0 ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¸¦æ¥äº†ä¸€ä¸ªæ–°çš„æŒä¹…åŒ–é€‰é¡¹â€”â€”æ··åˆæŒä¹…åŒ–ã€‚å°† rdb æ–‡ä»¶çš„å†…å®¹å’Œå¢é‡çš„ AOF æ—¥å¿—æ–‡ä»¶å­˜åœ¨ä¸€èµ·ã€‚è¿™é‡Œçš„ AOF æ—¥å¿—ä¸å†æ˜¯å…¨é‡çš„æ—¥å¿—ï¼Œè€Œæ˜¯ è‡ªæŒä¹…åŒ–å¼€å§‹åˆ°æŒä¹…åŒ–ç»“æŸ çš„è¿™æ®µæ—¶é—´å‘ç”Ÿçš„å¢é‡ AOF æ—¥å¿—ï¼Œé€šå¸¸è¿™éƒ¨åˆ† AOF æ—¥å¿—å¾ˆå°ï¼š äºæ˜¯åœ¨ Redis é‡å¯çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆåŠ è½½ rdb çš„å†…å®¹ï¼Œç„¶åå†é‡æ”¾å¢é‡ AOF æ—¥å¿—å°±å¯ä»¥å®Œå…¨æ›¿ä»£ä¹‹å‰çš„ AOF å…¨é‡æ–‡ä»¶é‡æ”¾ï¼Œé‡å¯æ•ˆç‡å› æ­¤å¤§å¹…å¾—åˆ°æå‡ã€‚ å…³äºä¸¤ç§æŒä¹…åŒ–æ–¹å¼çš„æ›´å¤šç»†èŠ‚ (åŸç†) å¯ä»¥å‚è€ƒï¼š Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘ - https://www.wmyskxz.com/2020/03/13/redis-7-chi-jiu-hua-yi-wen-liao-jie/ RDB å’Œ AOF å„è‡ªæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŸRDB | ä¼˜ç‚¹ åªæœ‰ä¸€ä¸ªæ–‡ä»¶ dump.rdbï¼Œæ–¹ä¾¿æŒä¹…åŒ–ã€‚ å®¹ç¾æ€§å¥½ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥ä¿å­˜åˆ°å®‰å…¨çš„ç£ç›˜ã€‚ æ€§èƒ½æœ€å¤§åŒ–ï¼Œfork å­è¿›ç¨‹æ¥å®Œæˆå†™æ“ä½œï¼Œè®©ä¸»è¿›ç¨‹ç»§ç»­å¤„ç†å‘½ä»¤ï¼Œæ‰€ä»¥ä½¿ IO æœ€å¤§åŒ–ã€‚ä½¿ç”¨å•ç‹¬å­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¸»è¿›ç¨‹ä¸ä¼šè¿›è¡Œä»»ä½• IO æ“ä½œï¼Œä¿è¯äº† Redis çš„é«˜æ€§èƒ½ ç›¸å¯¹äºæ•°æ®é›†å¤§æ—¶ï¼Œæ¯” AOF çš„ å¯åŠ¨æ•ˆç‡ æ›´é«˜ã€‚ RDB | ç¼ºç‚¹ æ•°æ®å®‰å…¨æ€§ä½ã€‚RDB æ˜¯é—´éš”ä¸€æ®µæ—¶é—´è¿›è¡ŒæŒä¹…åŒ–ï¼Œå¦‚æœæŒä¹…åŒ–ä¹‹é—´ Redis å‘ç”Ÿæ•…éšœï¼Œä¼šå‘ç”Ÿæ•°æ®ä¸¢å¤±ã€‚æ‰€ä»¥è¿™ç§æ–¹å¼æ›´é€‚åˆæ•°æ®è¦æ±‚ä¸ä¸¥è°¨çš„æ—¶å€™ï¼› AOF | ä¼˜ç‚¹ æ•°æ®å®‰å…¨ï¼Œaof æŒä¹…åŒ–å¯ä»¥é…ç½® appendfsync å±æ€§ï¼Œæœ‰ alwaysï¼Œæ¯è¿›è¡Œä¸€æ¬¡å‘½ä»¤æ“ä½œå°±è®°å½•åˆ° aof æ–‡ä»¶ä¸­ä¸€æ¬¡ã€‚ é€šè¿‡ append æ¨¡å¼å†™æ–‡ä»¶ï¼Œå³ä½¿ä¸­é€”æœåŠ¡å™¨å®•æœºï¼Œå¯ä»¥é€šè¿‡ redis-check-aof å·¥å…·è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚ AOF æœºåˆ¶çš„ rewrite æ¨¡å¼ã€‚AOF æ–‡ä»¶æ²¡è¢« rewrite ä¹‹å‰ï¼ˆæ–‡ä»¶è¿‡å¤§æ—¶ä¼šå¯¹å‘½ä»¤ è¿›è¡Œåˆå¹¶é‡å†™ï¼‰ï¼Œå¯ä»¥åˆ é™¤å…¶ä¸­çš„æŸäº›å‘½ä»¤ï¼ˆæ¯”å¦‚è¯¯æ“ä½œçš„ flushallï¼‰ AOF | ç¼ºç‚¹ AOF æ–‡ä»¶æ¯” RDB æ–‡ä»¶å¤§ï¼Œä¸” æ¢å¤é€Ÿåº¦æ…¢ã€‚ æ•°æ®é›†å¤§ çš„æ—¶å€™ï¼Œæ¯” rdb å¯åŠ¨æ•ˆç‡ä½ã€‚ ä¸¤ç§æ–¹å¼å¦‚ä½•é€‰æ‹©ï¼Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œ å¦‚æœæƒ³è¾¾åˆ°è¶³ä»¥åª²ç¾ PostgreSQL çš„ æ•°æ®å®‰å…¨æ€§ï¼Œä½ åº”è¯¥ åŒæ—¶ä½¿ç”¨ä¸¤ç§æŒä¹…åŒ–åŠŸèƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“ Redis é‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥ AOF æ–‡ä»¶æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹ AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯” RDB æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦å®Œæ•´ã€‚ å¦‚æœä½ éå¸¸å…³å¿ƒä½ çš„æ•°æ®ï¼Œ ä½†ä»ç„¶ å¯ä»¥æ‰¿å—æ•°åˆ†é’Ÿä»¥å†…çš„æ•°æ®ä¸¢å¤±ï¼Œé‚£ä¹ˆä½ å¯ä»¥ åªä½¿ç”¨ RDB æŒä¹…åŒ–ã€‚ æœ‰å¾ˆå¤šç”¨æˆ·éƒ½åªä½¿ç”¨ AOF æŒä¹…åŒ–ï¼Œä½†å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºå®šæ—¶ç”Ÿæˆ RDB å¿«ç…§ï¼ˆsnapshotï¼‰éå¸¸ä¾¿äºè¿›è¡Œæ•°æ®åº“å¤‡ä»½ï¼Œ å¹¶ä¸” RDB æ¢å¤æ•°æ®é›†çš„é€Ÿåº¦ä¹Ÿè¦æ¯” AOF æ¢å¤çš„é€Ÿåº¦è¦å¿«ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨ RDB è¿˜å¯ä»¥é¿å… AOF ç¨‹åºçš„ bugã€‚ å¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–æ–¹å¼ã€‚ Redis çš„æ•°æ®æ¢å¤Redis çš„æ•°æ®æ¢å¤æœ‰ç€å¦‚ä¸‹çš„ä¼˜å…ˆçº§ï¼š å¦‚æœåªé…ç½® AOF ï¼Œé‡å¯æ—¶åŠ è½½ AOF æ–‡ä»¶æ¢å¤æ•°æ®ï¼› å¦‚æœåŒæ—¶é…ç½®äº† RDB å’Œ AOF ï¼Œå¯åŠ¨åªåŠ è½½ AOF æ–‡ä»¶æ¢å¤æ•°æ®ï¼› å¦‚æœåªé…ç½® RDBï¼Œå¯åŠ¨å°†åŠ è½½ dump æ–‡ä»¶æ¢å¤æ•°æ®ã€‚ æ‹·è´ AOF æ–‡ä»¶åˆ° Redis çš„æ•°æ®ç›®å½•ï¼Œå¯åŠ¨ redis-server AOF çš„æ•°æ®æ¢å¤è¿‡ç¨‹ï¼šRedis è™šæ‹Ÿä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œè¯»å– AOF æ–‡ä»¶æ¢å¤ Redis å‘½ä»¤å’Œå‚æ•°ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ä»è€Œæ¢å¤æ•°æ®ï¼Œè¿™äº›è¿‡ç¨‹ä¸»è¦åœ¨ loadAppendOnlyFile() ä¸­å®ç°ã€‚ æ‹·è´ RDB æ–‡ä»¶åˆ° Redis çš„æ•°æ®ç›®å½•ï¼Œå¯åŠ¨ redis-server å³å¯ï¼Œå› ä¸º RDB æ–‡ä»¶å’Œé‡å¯å‰ä¿å­˜çš„æ˜¯çœŸå®æ•°æ®è€Œä¸æ˜¯å‘½ä»¤çŠ¶æ€å’Œå‚æ•°ã€‚ å››ã€é›†ç¾¤ç¯‡ ä¸»ä»åŒæ­¥äº†è§£å—ï¼Ÿ ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å° Redis æœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„ Redis æœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸º ä¸»èŠ‚ç‚¹(master)ï¼Œåè€…ç§°ä¸º ä»èŠ‚ç‚¹(slave)ã€‚ä¸”æ•°æ®çš„å¤åˆ¶æ˜¯ å•å‘ çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚Redis ä¸»ä»å¤åˆ¶æ”¯æŒ ä¸»ä»åŒæ­¥ å’Œ ä»ä»åŒæ­¥ ä¸¤ç§ï¼Œåè€…æ˜¯ Redis åç»­ç‰ˆæœ¬æ–°å¢çš„åŠŸèƒ½ï¼Œä»¥å‡è½»ä¸»èŠ‚ç‚¹çš„åŒæ­¥è´Ÿæ‹…ã€‚ ä¸»ä»å¤åˆ¶ä¸»è¦çš„ä½œç”¨ æ•°æ®å†—ä½™ï¼š ä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚ æ•…éšœæ¢å¤ï¼š å½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ (å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™)ã€‚ è´Ÿè½½å‡è¡¡ï¼š åœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ã€‚å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚ é«˜å¯ç”¨åŸºçŸ³ï¼š é™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„ åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚ å®ç°åŸç† ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œæˆ‘æŠŠä¸»è¦çš„æ­¥éª¤éƒ½ æµ“ç¼© åœ¨äº†ä¸Šå›¾ä¸­ï¼Œå…¶å®ä¹Ÿå¯ä»¥ ç®€åŒ–æˆä¸‰ä¸ªé˜¶æ®µï¼šå‡†å¤‡é˜¶æ®µ-æ•°æ®åŒæ­¥é˜¶æ®µ-å‘½ä»¤ä¼ æ’­é˜¶æ®µã€‚ æ›´å¤šç»†èŠ‚ æ¨èé˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼Œä¸ä»…æœ‰åŸç†è®²è§£ï¼Œè¿˜æœ‰å®æˆ˜ç¯èŠ‚ï¼š Redis(9)â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹ - https://www.wmyskxz.com/2020/03/17/redis-9-shi-shang-zui-qiang-ji-qun-ru-men-shi-jian-jiao-cheng/ å“¨å…µæ¨¡å¼äº†è§£å—ï¼Ÿ ä¸Šå›¾ å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„å“¨å…µæ¶æ„å›¾ï¼Œå®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå“¨å…µèŠ‚ç‚¹å’Œæ•°æ®èŠ‚ç‚¹ï¼š å“¨å…µèŠ‚ç‚¹ï¼š å“¨å…µç³»ç»Ÿç”±ä¸€ä¸ªæˆ–å¤šä¸ªå“¨å…µèŠ‚ç‚¹ç»„æˆï¼Œå“¨å…µèŠ‚ç‚¹æ˜¯ç‰¹æ®Šçš„ Redis èŠ‚ç‚¹ï¼Œä¸å­˜å‚¨æ•°æ®ï¼› æ•°æ®èŠ‚ç‚¹ï¼š ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹éƒ½æ˜¯æ•°æ®èŠ‚ç‚¹ï¼› åœ¨å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œå“¨å…µå®ç°äº† è‡ªåŠ¨åŒ–çš„æ•…éšœæ¢å¤ åŠŸèƒ½ï¼Œä¸‹æ–¹æ˜¯å®˜æ–¹å¯¹äºå“¨å…µåŠŸèƒ½çš„æè¿°ï¼š ç›‘æ§ï¼ˆMonitoringï¼‰ï¼š å“¨å…µä¼šä¸æ–­åœ°æ£€æŸ¥ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹æ˜¯å¦è¿ä½œæ­£å¸¸ã€‚ è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼ˆAutomatic failoverï¼‰ï¼š å½“ ä¸»èŠ‚ç‚¹ ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼Œå“¨å…µä¼šå¼€å§‹ è‡ªåŠ¨æ•…éšœè½¬ç§»æ“ä½œï¼Œå®ƒä¼šå°†å¤±æ•ˆä¸»èŠ‚ç‚¹çš„å…¶ä¸­ä¸€ä¸ª ä»èŠ‚ç‚¹å‡çº§ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå¹¶è®©å…¶ä»–ä»èŠ‚ç‚¹æ”¹ä¸ºå¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ã€‚ é…ç½®æä¾›è€…ï¼ˆConfiguration providerï¼‰ï¼š å®¢æˆ·ç«¯åœ¨åˆå§‹åŒ–æ—¶ï¼Œé€šè¿‡è¿æ¥å“¨å…µæ¥è·å¾—å½“å‰ Redis æœåŠ¡çš„ä¸»èŠ‚ç‚¹åœ°å€ã€‚ é€šçŸ¥ï¼ˆNotificationï¼‰ï¼š å“¨å…µå¯ä»¥å°†æ•…éšœè½¬ç§»çš„ç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚ å…¶ä¸­ï¼Œç›‘æ§å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»åŠŸèƒ½ï¼Œä½¿å¾—å“¨å…µå¯ä»¥åŠæ—¶å‘ç°ä¸»èŠ‚ç‚¹æ•…éšœå¹¶å®Œæˆè½¬ç§»ã€‚è€Œé…ç½®æä¾›è€…å’Œé€šçŸ¥åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸å®¢æˆ·ç«¯çš„äº¤äº’ä¸­æ‰èƒ½ä½“ç°ã€‚ æ–°çš„ä¸»æœåŠ¡å™¨æ˜¯æ€æ ·è¢«æŒ‘é€‰å‡ºæ¥çš„ï¼Ÿæ•…éšœè½¬ç§»æ“ä½œçš„ç¬¬ä¸€æ­¥ è¦åšçš„å°±æ˜¯åœ¨å·²ä¸‹çº¿ä¸»æœåŠ¡å™¨å±ä¸‹çš„æ‰€æœ‰ä»æœåŠ¡å™¨ä¸­ï¼ŒæŒ‘é€‰å‡ºä¸€ä¸ªçŠ¶æ€è‰¯å¥½ã€æ•°æ®å®Œæ•´çš„ä»æœåŠ¡å™¨ï¼Œç„¶åå‘è¿™ä¸ªä»æœåŠ¡å™¨å‘é€ slaveof no one å‘½ä»¤ï¼Œå°†è¿™ä¸ªä»æœåŠ¡å™¨è½¬æ¢ä¸ºä¸»æœåŠ¡å™¨ã€‚ä½†æ˜¯è¿™ä¸ªä»æœåŠ¡å™¨æ˜¯æ€ä¹ˆæ ·è¢«æŒ‘é€‰å‡ºæ¥çš„å‘¢ï¼Ÿ ç®€å•æ¥è¯´ Sentinel ä½¿ç”¨ä»¥ä¸‹è§„åˆ™æ¥é€‰æ‹©æ–°çš„ä¸»æœåŠ¡å™¨ï¼š åœ¨å¤±æ•ˆä¸»æœåŠ¡å™¨å±ä¸‹çš„ä»æœåŠ¡å™¨å½“ä¸­ï¼Œ é‚£äº›è¢«æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€å·²æ–­çº¿ã€æˆ–è€…æœ€åä¸€æ¬¡å›å¤ PING å‘½ä»¤çš„æ—¶é—´å¤§äºäº”ç§’é’Ÿçš„ä»æœåŠ¡å™¨éƒ½ä¼šè¢« æ·˜æ±°ã€‚ åœ¨å¤±æ•ˆä¸»æœåŠ¡å™¨å±ä¸‹çš„ä»æœåŠ¡å™¨å½“ä¸­ï¼Œ é‚£äº›ä¸å¤±æ•ˆä¸»æœåŠ¡å™¨è¿æ¥æ–­å¼€çš„æ—¶é•¿è¶…è¿‡ down-after é€‰é¡¹æŒ‡å®šçš„æ—¶é•¿åå€çš„ä»æœåŠ¡å™¨éƒ½ä¼šè¢« æ·˜æ±°ã€‚ åœ¨ ç»å†äº†ä»¥ä¸Šä¸¤è½®æ·˜æ±°ä¹‹å å‰©ä¸‹æ¥çš„ä»æœåŠ¡å™¨ä¸­ï¼Œ æˆ‘ä»¬é€‰å‡º å¤åˆ¶åç§»é‡ï¼ˆreplication offsetï¼‰æœ€å¤§ çš„é‚£ä¸ª ä»æœåŠ¡å™¨ ä½œä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ï¼›å¦‚æœå¤åˆ¶åç§»é‡ä¸å¯ç”¨ï¼Œæˆ–è€…ä»æœåŠ¡å™¨çš„å¤åˆ¶åç§»é‡ç›¸åŒï¼Œé‚£ä¹ˆ å¸¦æœ‰æœ€å°è¿è¡Œ ID çš„é‚£ä¸ªä»æœåŠ¡å™¨æˆä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ã€‚ æ›´å¤šç»†èŠ‚ æ¨èé˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼Œä¸ä»…æœ‰åŸç†è®²è§£ï¼Œè¿˜æœ‰å®æˆ˜ç¯èŠ‚ï¼š Redis(9)â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹ - https://www.wmyskxz.com/2020/03/17/redis-9-shi-shang-zui-qiang-ji-qun-ru-men-shi-jian-jiao-cheng/ Redis é›†ç¾¤ä½¿ç”¨è¿‡å—ï¼ŸåŸç†ï¼Ÿ ä¸Šå›¾ å±•ç¤ºäº† Redis Cluster å…¸å‹çš„æ¶æ„å›¾ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸€ä¸ª Redis èŠ‚ç‚¹éƒ½ äº’ç›¸ä¸¤ä¸¤ç›¸è¿ï¼Œå®¢æˆ·ç«¯ä»»æ„ ç›´è¿ åˆ°é›†ç¾¤ä¸­çš„ ä»»æ„ä¸€å°ï¼Œå°±å¯ä»¥å¯¹å…¶ä»– Redis èŠ‚ç‚¹è¿›è¡Œ è¯»å†™ çš„æ“ä½œã€‚ åŸºæœ¬åŸç† Redis é›†ç¾¤ä¸­å†…ç½®äº† 16384 ä¸ªå“ˆå¸Œæ§½ã€‚å½“å®¢æˆ·ç«¯è¿æ¥åˆ° Redis é›†ç¾¤ä¹‹åï¼Œä¼šåŒæ—¶å¾—åˆ°ä¸€ä»½å…³äºè¿™ä¸ª é›†ç¾¤çš„é…ç½®ä¿¡æ¯ï¼Œå½“å®¢æˆ·ç«¯å…·ä½“å¯¹æŸä¸€ä¸ª key å€¼è¿›è¡Œæ“ä½œæ—¶ï¼Œä¼šè®¡ç®—å‡ºå®ƒçš„ä¸€ä¸ª Hash å€¼ï¼Œç„¶åæŠŠç»“æœå¯¹ 16384 æ±‚ä½™æ•°ï¼Œè¿™æ ·æ¯ä¸ª key éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç¼–å·åœ¨ 0-16383 ä¹‹é—´çš„å“ˆå¸Œæ§½ï¼ŒRedis ä¼šæ ¹æ®èŠ‚ç‚¹æ•°é‡ å¤§è‡´å‡ç­‰ çš„å°†å“ˆå¸Œæ§½æ˜ å°„åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚ å†ç»“åˆé›†ç¾¤çš„é…ç½®ä¿¡æ¯å°±èƒ½å¤ŸçŸ¥é“è¿™ä¸ª key å€¼åº”è¯¥å­˜å‚¨åœ¨å“ªä¸€ä¸ªå…·ä½“çš„ Redis èŠ‚ç‚¹ä¸­ï¼Œå¦‚æœä¸å±äºè‡ªå·±ç®¡ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„ MOVED å‘½ä»¤æ¥è¿›è¡Œä¸€ä¸ªè·³è½¬ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å»è¿æ¥è¿™ä¸ªèŠ‚ç‚¹ä»¥è·å–æ•°æ®ï¼š GET x -MOVED 3999 127.0.0.1:6381 MOVED æŒ‡ä»¤ç¬¬ä¸€ä¸ªå‚æ•° 3999 æ˜¯ key å¯¹åº”çš„æ§½ä½ç¼–å·ï¼Œåé¢æ˜¯ç›®æ ‡èŠ‚ç‚¹åœ°å€ï¼ŒMOVED å‘½ä»¤å‰é¢æœ‰ä¸€ä¸ªå‡å·ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé”™è¯¯çš„æ¶ˆæ¯ã€‚å®¢æˆ·ç«¯åœ¨æ”¶åˆ° MOVED æŒ‡ä»¤åï¼Œå°±ç«‹å³çº æ­£æœ¬åœ°çš„ æ§½ä½æ˜ å°„è¡¨ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å†è®¿é—® key æ—¶å°±èƒ½å¤Ÿåˆ°æ­£ç¡®çš„åœ°æ–¹å»è·å–äº†ã€‚ é›†ç¾¤çš„ä¸»è¦ä½œç”¨ æ•°æ®åˆ†åŒºï¼š æ•°æ®åˆ†åŒº (æˆ–ç§°æ•°æ®åˆ†ç‰‡) æ˜¯é›†ç¾¤æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚é›†ç¾¤å°†æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œä¸€æ–¹é¢ çªç ´äº† Redis å•æœºå†…å­˜å¤§å°çš„é™åˆ¶ï¼Œå­˜å‚¨å®¹é‡å¤§å¤§å¢åŠ ï¼›å¦ä¸€æ–¹é¢ æ¯ä¸ªä¸»èŠ‚ç‚¹éƒ½å¯ä»¥å¯¹å¤–æä¾›è¯»æœåŠ¡å’Œå†™æœåŠ¡ï¼Œå¤§å¤§æé«˜äº†é›†ç¾¤çš„å“åº”èƒ½åŠ›ã€‚Redis å•æœºå†…å­˜å¤§å°å—é™é—®é¢˜ï¼Œåœ¨ä»‹ç»æŒä¹…åŒ–å’Œä¸»ä»å¤åˆ¶æ—¶éƒ½æœ‰æåŠï¼Œä¾‹å¦‚ï¼Œå¦‚æœå•æœºå†…å­˜å¤ªå¤§ï¼Œbgsave å’Œ bgrewriteaof çš„ fork æ“ä½œå¯èƒ½å¯¼è‡´ä¸»è¿›ç¨‹é˜»å¡ï¼Œä¸»ä»ç¯å¢ƒä¸‹ä¸»æœºåˆ‡æ¢æ—¶å¯èƒ½å¯¼è‡´ä»èŠ‚ç‚¹é•¿æ—¶é—´æ— æ³•æä¾›æœåŠ¡ï¼Œå…¨é‡å¤åˆ¶é˜¶æ®µä¸»èŠ‚ç‚¹çš„å¤åˆ¶ç¼“å†²åŒºå¯èƒ½æº¢å‡ºâ€¦â€¦ é«˜å¯ç”¨ï¼š é›†ç¾¤æ”¯æŒä¸»ä»å¤åˆ¶å’Œä¸»èŠ‚ç‚¹çš„ è‡ªåŠ¨æ•…éšœè½¬ç§» ï¼ˆä¸å“¨å…µç±»ä¼¼ï¼‰ï¼Œå½“ä»»ä¸€èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œé›†ç¾¤ä»ç„¶å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ã€‚ é›†ç¾¤ä¸­æ•°æ®å¦‚ä½•åˆ†åŒºï¼ŸRedis é‡‡ç”¨æ–¹æ¡ˆä¸‰ã€‚ æ–¹æ¡ˆä¸€ï¼šå“ˆå¸Œå€¼ % èŠ‚ç‚¹æ•°å“ˆå¸Œå–ä½™åˆ†åŒºæ€è·¯éå¸¸ç®€å•ï¼šè®¡ç®— key çš„ hash å€¼ï¼Œç„¶åå¯¹èŠ‚ç‚¹æ•°é‡è¿›è¡Œå–ä½™ï¼Œä»è€Œå†³å®šæ•°æ®æ˜ å°„åˆ°å“ªä¸ªèŠ‚ç‚¹ä¸Šã€‚ ä¸è¿‡è¯¥æ–¹æ¡ˆæœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œå½“æ–°å¢æˆ–åˆ å‡èŠ‚ç‚¹æ—¶ï¼ŒèŠ‚ç‚¹æ•°é‡å‘ç”Ÿå˜åŒ–ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦ é‡æ–°è®¡ç®—æ˜ å°„å…³ç³»ï¼Œå¼•å‘å¤§è§„æ¨¡æ•°æ®è¿ç§»ã€‚ æ–¹æ¡ˆäºŒï¼šä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å°† æ•´ä¸ªå“ˆå¸Œå€¼ç©ºé—´ ç»„ç»‡æˆä¸€ä¸ªè™šæ‹Ÿçš„åœ†ç¯ï¼ŒèŒƒå›´æ˜¯ *[0 - 232 - 1]*ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ•°æ®ï¼Œæ ¹æ® key è®¡ç®— hash å€¼ï¼Œç¡®æ•°æ®åœ¨ç¯ä¸Šçš„ä½ç½®ï¼Œç„¶åä»æ­¤ä½ç½®æ²¿é¡ºæ—¶é’ˆè¡Œèµ°ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€å°æœåŠ¡å™¨å°±æ˜¯å…¶åº”è¯¥æ˜ å°„åˆ°çš„æœåŠ¡å™¨ï¼š ä¸å“ˆå¸Œå–ä½™åˆ†åŒºç›¸æ¯”ï¼Œä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºå°† å¢å‡èŠ‚ç‚¹çš„å½±å“é™åˆ¶åœ¨ç›¸é‚»èŠ‚ç‚¹ã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¦‚æœåœ¨ node1 å’Œ node2 ä¹‹é—´å¢åŠ  node5ï¼Œåˆ™åªæœ‰ node2 ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ä¼šè¿ç§»åˆ° node5ï¼›å¦‚æœå»æ‰ node2ï¼Œåˆ™åŸ node2 ä¸­çš„æ•°æ®åªä¼šè¿ç§»åˆ° node4 ä¸­ï¼Œåªæœ‰ node4 ä¼šå—å½±å“ã€‚ ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºçš„ä¸»è¦é—®é¢˜åœ¨äºï¼Œå½“ èŠ‚ç‚¹æ•°é‡è¾ƒå°‘ æ—¶ï¼Œå¢åŠ æˆ–åˆ å‡èŠ‚ç‚¹ï¼Œå¯¹å•ä¸ªèŠ‚ç‚¹çš„å½±å“å¯èƒ½å¾ˆå¤§ï¼Œé€ æˆæ•°æ®çš„ä¸¥é‡ä¸å¹³è¡¡ã€‚è¿˜æ˜¯ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¦‚æœå»æ‰ node2ï¼Œnode4 ä¸­çš„æ•°æ®ç”±æ€»æ•°æ®çš„ 1/4 å·¦å³å˜ä¸º 1/2 å·¦å³ï¼Œä¸å…¶ä»–èŠ‚ç‚¹ç›¸æ¯”è´Ÿè½½è¿‡é«˜ã€‚ æ–¹æ¡ˆä¸‰ï¼šå¸¦æœ‰è™šæ‹ŸèŠ‚ç‚¹çš„ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºè¯¥æ–¹æ¡ˆåœ¨ ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºçš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº† è™šæ‹ŸèŠ‚ç‚¹ çš„æ¦‚å¿µã€‚Redis é›†ç¾¤ä½¿ç”¨çš„ä¾¿æ˜¯è¯¥æ–¹æ¡ˆï¼Œå…¶ä¸­çš„è™šæ‹ŸèŠ‚ç‚¹ç§°ä¸º æ§½ï¼ˆslotï¼‰ã€‚æ§½æ˜¯ä»‹äºæ•°æ®å’Œå®é™…èŠ‚ç‚¹ä¹‹é—´çš„è™šæ‹Ÿæ¦‚å¿µï¼Œæ¯ä¸ªå®é™…èŠ‚ç‚¹åŒ…å«ä¸€å®šæ•°é‡çš„æ§½ï¼Œæ¯ä¸ªæ§½åŒ…å«å“ˆå¸Œå€¼åœ¨ä¸€å®šèŒƒå›´å†…çš„æ•°æ®ã€‚ åœ¨ä½¿ç”¨äº†æ§½çš„ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºä¸­ï¼Œæ§½æ˜¯æ•°æ®ç®¡ç†å’Œè¿ç§»çš„åŸºæœ¬å•ä½ã€‚æ§½ è§£è€¦ äº† æ•°æ®å’Œå®é™…èŠ‚ç‚¹ ä¹‹é—´çš„å…³ç³»ï¼Œå¢åŠ æˆ–åˆ é™¤èŠ‚ç‚¹å¯¹ç³»ç»Ÿçš„å½±å“å¾ˆå°ã€‚ä»ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œç³»ç»Ÿä¸­æœ‰ 4 ä¸ªå®é™…èŠ‚ç‚¹ï¼Œå‡è®¾ä¸ºå…¶åˆ†é… 16 ä¸ªæ§½(0-15)ï¼› æ§½ 0-3 ä½äº node1ï¼›4-7 ä½äº node2ï¼›ä»¥æ­¤ç±»æ¨â€¦. å¦‚æœæ­¤æ—¶åˆ é™¤ node2ï¼Œåªéœ€è¦å°†æ§½ 4-7 é‡æ–°åˆ†é…å³å¯ï¼Œä¾‹å¦‚æ§½ 4-5 åˆ†é…ç»™ node1ï¼Œæ§½ 6 åˆ†é…ç»™ node3ï¼Œæ§½ 7 åˆ†é…ç»™ node4ï¼›å¯ä»¥çœ‹å‡ºåˆ é™¤ node2 åï¼Œæ•°æ®åœ¨å…¶ä»–èŠ‚ç‚¹çš„åˆ†å¸ƒä»ç„¶è¾ƒä¸ºå‡è¡¡ã€‚ èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡æœºåˆ¶äº†è§£å—ï¼Ÿé›†ç¾¤çš„å»ºç«‹ç¦»ä¸å¼€èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨ å¿«é€Ÿä½“éªŒ ä¸­åˆšå¯åŠ¨å…­ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¹‹åé€šè¿‡ redis-cli å‘½ä»¤å¸®åŠ©æˆ‘ä»¬æ­å»ºèµ·æ¥äº†é›†ç¾¤ï¼Œå®é™…ä¸ŠèƒŒåæ¯ä¸ªé›†ç¾¤ä¹‹é—´çš„ä¸¤ä¸¤è¿æ¥æ˜¯é€šè¿‡äº† CLUSTER MEET &lt;ip&gt; &lt;port&gt; å‘½ä»¤å‘é€ MEET æ¶ˆæ¯å®Œæˆçš„ï¼Œä¸‹é¢æˆ‘ä»¬å±•å¼€è¯¦ç»†è¯´è¯´ã€‚ ä¸¤ä¸ªç«¯å£åœ¨ å“¨å…µç³»ç»Ÿ ä¸­ï¼ŒèŠ‚ç‚¹åˆ†ä¸º æ•°æ®èŠ‚ç‚¹ å’Œ å“¨å…µèŠ‚ç‚¹ï¼šå‰è€…å­˜å‚¨æ•°æ®ï¼Œåè€…å®ç°é¢å¤–çš„æ§åˆ¶åŠŸèƒ½ã€‚åœ¨ é›†ç¾¤ ä¸­ï¼Œæ²¡æœ‰æ•°æ®èŠ‚ç‚¹ä¸éæ•°æ®èŠ‚ç‚¹ä¹‹åˆ†ï¼šæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®ï¼Œä¹Ÿéƒ½å‚ä¸é›†ç¾¤çŠ¶æ€çš„ç»´æŠ¤ã€‚ä¸ºæ­¤ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œéƒ½æä¾›äº†ä¸¤ä¸ª TCP ç«¯å£ï¼š æ™®é€šç«¯å£ï¼š å³æˆ‘ä»¬åœ¨å‰é¢æŒ‡å®šçš„ç«¯å£ (7000ç­‰)ã€‚æ™®é€šç«¯å£ä¸»è¦ç”¨äºä¸ºå®¢æˆ·ç«¯æä¾›æœåŠ¡ ï¼ˆä¸å•æœºèŠ‚ç‚¹ç±»ä¼¼ï¼‰ï¼›ä½†åœ¨èŠ‚ç‚¹é—´æ•°æ®è¿ç§»æ—¶ä¹Ÿä¼šä½¿ç”¨ã€‚ é›†ç¾¤ç«¯å£ï¼š ç«¯å£å·æ˜¯æ™®é€šç«¯å£ + 10000 ï¼ˆ10000æ˜¯å›ºå®šå€¼ï¼Œæ— æ³•æ”¹å˜ï¼‰ï¼Œå¦‚ 7000 èŠ‚ç‚¹çš„é›†ç¾¤ç«¯å£ä¸º 17000ã€‚é›†ç¾¤ç«¯å£åªç”¨äºèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼Œå¦‚æ­å»ºé›†ç¾¤ã€å¢å‡èŠ‚ç‚¹ã€æ•…éšœè½¬ç§»ç­‰æ“ä½œæ—¶èŠ‚ç‚¹é—´çš„é€šä¿¡ï¼›ä¸è¦ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥é›†ç¾¤æ¥å£ã€‚ä¸ºäº†ä¿è¯é›†ç¾¤å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œåœ¨é…ç½®é˜²ç«å¢™æ—¶ï¼Œè¦åŒæ—¶å¼€å¯æ™®é€šç«¯å£å’Œé›†ç¾¤ç«¯å£ã€‚ Gossip åè®®èŠ‚ç‚¹é—´é€šä¿¡ï¼ŒæŒ‰ç…§é€šä¿¡åè®®å¯ä»¥åˆ†ä¸ºå‡ ç§ç±»å‹ï¼šå•å¯¹å•ã€å¹¿æ’­ã€Gossip åè®®ç­‰ã€‚é‡ç‚¹æ˜¯å¹¿æ’­å’Œ Gossip çš„å¯¹æ¯”ã€‚ å¹¿æ’­æ˜¯æŒ‡å‘é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹å‘é€æ¶ˆæ¯ã€‚ä¼˜ç‚¹ æ˜¯é›†ç¾¤çš„æ”¶æ•›é€Ÿåº¦å¿«(é›†ç¾¤æ”¶æ•›æ˜¯æŒ‡é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹è·å¾—çš„é›†ç¾¤ä¿¡æ¯æ˜¯ä¸€è‡´çš„)ï¼Œç¼ºç‚¹ æ˜¯æ¯æ¡æ¶ˆæ¯éƒ½è¦å‘é€ç»™æ‰€æœ‰èŠ‚ç‚¹ï¼ŒCPUã€å¸¦å®½ç­‰æ¶ˆè€—è¾ƒå¤§ã€‚ Gossip åè®®çš„ç‰¹ç‚¹æ˜¯ï¼šåœ¨èŠ‚ç‚¹æ•°é‡æœ‰é™çš„ç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ â€œéšæœºâ€ çš„ä¸éƒ¨åˆ†èŠ‚ç‚¹é€šä¿¡ ï¼ˆå¹¶ä¸æ˜¯çœŸæ­£çš„éšæœºï¼Œè€Œæ˜¯æ ¹æ®ç‰¹å®šçš„è§„åˆ™é€‰æ‹©é€šä¿¡çš„èŠ‚ç‚¹ï¼‰ï¼Œç»è¿‡ä¸€ç•ªæ‚ä¹±æ— ç« çš„é€šä¿¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å¾ˆå¿«ä¼šè¾¾åˆ°ä¸€è‡´ã€‚Gossip åè®®çš„ *ä¼˜ç‚¹** æœ‰è´Ÿè½½ *(æ¯”å¹¿æ’­) ä½ã€å»ä¸­å¿ƒåŒ–ã€å®¹é”™æ€§é«˜ (å› ä¸ºé€šä¿¡æœ‰å†—ä½™) ç­‰ï¼›ç¼ºç‚¹ ä¸»è¦æ˜¯é›†ç¾¤çš„æ”¶æ•›é€Ÿåº¦æ…¢ã€‚ æ¶ˆæ¯ç±»å‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹é‡‡ç”¨ å›ºå®šé¢‘ç‡ï¼ˆæ¯ç§’10æ¬¡ï¼‰ çš„ å®šæ—¶ä»»åŠ¡ è¿›è¡Œé€šä¿¡ç›¸å…³çš„å·¥ä½œï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦å‘é€æ¶ˆæ¯åŠæ¶ˆæ¯ç±»å‹ã€ç¡®å®šæ¥æ”¶èŠ‚ç‚¹ã€å‘é€æ¶ˆæ¯ç­‰ã€‚å¦‚æœé›†ç¾¤çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚å¢å‡èŠ‚ç‚¹ã€æ§½çŠ¶æ€å˜æ›´ï¼Œé€šè¿‡èŠ‚ç‚¹é—´çš„é€šä¿¡ï¼Œæ‰€æœ‰èŠ‚ç‚¹ä¼šå¾ˆå¿«å¾—çŸ¥æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ï¼Œä½¿é›†ç¾¤æ”¶æ•›ã€‚ èŠ‚ç‚¹é—´å‘é€çš„æ¶ˆæ¯ä¸»è¦åˆ†ä¸º 5 ç§ï¼šmeet æ¶ˆæ¯ã€ping æ¶ˆæ¯ã€pong æ¶ˆæ¯ã€fail æ¶ˆæ¯ã€publish æ¶ˆæ¯ã€‚ä¸åŒçš„æ¶ˆæ¯ç±»å‹ï¼Œé€šä¿¡åè®®ã€å‘é€çš„é¢‘ç‡å’Œæ—¶æœºã€æ¥æ”¶èŠ‚ç‚¹çš„é€‰æ‹©ç­‰æ˜¯ä¸åŒçš„ï¼š MEET æ¶ˆæ¯ï¼š åœ¨èŠ‚ç‚¹æ¡æ‰‹é˜¶æ®µï¼Œå½“èŠ‚ç‚¹æ”¶åˆ°å®¢æˆ·ç«¯çš„ CLUSTER MEET å‘½ä»¤æ—¶ï¼Œä¼šå‘æ–°åŠ å…¥çš„èŠ‚ç‚¹å‘é€ MEET æ¶ˆæ¯ï¼Œè¯·æ±‚æ–°èŠ‚ç‚¹åŠ å…¥åˆ°å½“å‰é›†ç¾¤ï¼›æ–°èŠ‚ç‚¹æ”¶åˆ° MEET æ¶ˆæ¯åä¼šå›å¤ä¸€ä¸ª PONG æ¶ˆæ¯ã€‚ PING æ¶ˆæ¯ï¼š é›†ç¾¤é‡Œæ¯ä¸ªèŠ‚ç‚¹æ¯ç§’é’Ÿä¼šé€‰æ‹©éƒ¨åˆ†èŠ‚ç‚¹å‘é€ PING æ¶ˆæ¯ï¼Œæ¥æ”¶è€…æ”¶åˆ°æ¶ˆæ¯åä¼šå›å¤ä¸€ä¸ª PONG æ¶ˆæ¯ã€‚PING æ¶ˆæ¯çš„å†…å®¹æ˜¯è‡ªèº«èŠ‚ç‚¹å’Œéƒ¨åˆ†å…¶ä»–èŠ‚ç‚¹çš„çŠ¶æ€ä¿¡æ¯ï¼Œä½œç”¨æ˜¯å½¼æ­¤äº¤æ¢ä¿¡æ¯ï¼Œä»¥åŠæ£€æµ‹èŠ‚ç‚¹æ˜¯å¦åœ¨çº¿ã€‚PING æ¶ˆæ¯ä½¿ç”¨ Gossip åè®®å‘é€ï¼Œæ¥æ”¶èŠ‚ç‚¹çš„é€‰æ‹©å…¼é¡¾äº†æ”¶æ•›é€Ÿåº¦å’Œå¸¦å®½æˆæœ¬ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š(1)éšæœºæ‰¾ 5 ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å…¶ä¸­é€‰æ‹©æœ€ä¹…æ²¡æœ‰é€šä¿¡çš„ 1 ä¸ªèŠ‚ç‚¹ï¼›(2)æ‰«æèŠ‚ç‚¹åˆ—è¡¨ï¼Œé€‰æ‹©æœ€è¿‘ä¸€æ¬¡æ”¶åˆ° PONG æ¶ˆæ¯æ—¶é—´å¤§äº cluster_node_timeout / 2 çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œé˜²æ­¢è¿™äº›èŠ‚ç‚¹é•¿æ—¶é—´æœªæ›´æ–°ã€‚ PONGæ¶ˆæ¯ï¼š PONG æ¶ˆæ¯å°è£…äº†è‡ªèº«çŠ¶æ€æ•°æ®ã€‚å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šç¬¬ä¸€ç§ æ˜¯åœ¨æ¥åˆ° MEET/PING æ¶ˆæ¯åå›å¤çš„ PONG æ¶ˆæ¯ï¼›ç¬¬äºŒç§ æ˜¯æŒ‡èŠ‚ç‚¹å‘é›†ç¾¤å¹¿æ’­ PONG æ¶ˆæ¯ï¼Œè¿™æ ·å…¶ä»–èŠ‚ç‚¹å¯ä»¥è·çŸ¥è¯¥èŠ‚ç‚¹çš„æœ€æ–°ä¿¡æ¯ï¼Œä¾‹å¦‚æ•…éšœæ¢å¤åæ–°çš„ä¸»èŠ‚ç‚¹ä¼šå¹¿æ’­ PONG æ¶ˆæ¯ã€‚ FAIL æ¶ˆæ¯ï¼š å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹åˆ¤æ–­å¦ä¸€ä¸ªä¸»èŠ‚ç‚¹è¿›å…¥ FAIL çŠ¶æ€æ—¶ï¼Œä¼šå‘é›†ç¾¤å¹¿æ’­è¿™ä¸€ FAIL æ¶ˆæ¯ï¼›æ¥æ”¶èŠ‚ç‚¹ä¼šå°†è¿™ä¸€ FAIL æ¶ˆæ¯ä¿å­˜èµ·æ¥ï¼Œä¾¿äºåç»­çš„åˆ¤æ–­ã€‚ PUBLISH æ¶ˆæ¯ï¼š èŠ‚ç‚¹æ”¶åˆ° PUBLISH å‘½ä»¤åï¼Œä¼šå…ˆæ‰§è¡Œè¯¥å‘½ä»¤ï¼Œç„¶åå‘é›†ç¾¤å¹¿æ’­è¿™ä¸€æ¶ˆæ¯ï¼Œæ¥æ”¶èŠ‚ç‚¹ä¹Ÿä¼šæ‰§è¡Œè¯¥ PUBLISH å‘½ä»¤ã€‚ é›†ç¾¤æ•°æ®å¦‚ä½•å­˜å‚¨çš„æœ‰äº†è§£å—ï¼ŸèŠ‚ç‚¹éœ€è¦ä¸“é—¨çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨é›†ç¾¤çš„çŠ¶æ€ã€‚æ‰€è°“é›†ç¾¤çš„çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ï¼šé›†ç¾¤æ˜¯å¦å¤„äºä¸Šçº¿çŠ¶æ€ã€é›†ç¾¤ä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€èŠ‚ç‚¹æ˜¯å¦å¯è¾¾ã€èŠ‚ç‚¹çš„ä¸»ä»çŠ¶æ€ã€æ§½çš„åˆ†å¸ƒâ€¦â€¦ èŠ‚ç‚¹ä¸ºäº†å­˜å‚¨é›†ç¾¤çŠ¶æ€è€Œæä¾›çš„æ•°æ®ç»“æ„ä¸­ï¼Œæœ€å…³é”®çš„æ˜¯ clusterNode å’Œ clusterState ç»“æ„ï¼šå‰è€…è®°å½•äº†ä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåè€…è®°å½•äº†é›†ç¾¤ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„çŠ¶æ€ã€‚ clusterNode ç»“æ„clusterNode ç»“æ„ä¿å­˜äº† ä¸€ä¸ªèŠ‚ç‚¹çš„å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬åˆ›å»ºæ—¶é—´ã€èŠ‚ç‚¹ idã€ip å’Œç«¯å£å·ç­‰ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šç”¨ä¸€ä¸ª clusterNode ç»“æ„è®°å½•è‡ªå·±çš„çŠ¶æ€ï¼Œå¹¶ä¸ºé›†ç¾¤å†…æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹éƒ½åˆ›å»ºä¸€ä¸ª clusterNode ç»“æ„æ¥è®°å½•èŠ‚ç‚¹çŠ¶æ€ã€‚ ä¸‹é¢åˆ—ä¸¾äº† clusterNode çš„éƒ¨åˆ†å­—æ®µï¼Œå¹¶è¯´æ˜äº†å­—æ®µçš„å«ä¹‰å’Œä½œç”¨ï¼š typedef struct clusterNode { //èŠ‚ç‚¹åˆ›å»ºæ—¶é—´ mstime_t ctime; //èŠ‚ç‚¹id char name[REDIS_CLUSTER_NAMELEN]; //èŠ‚ç‚¹çš„ipå’Œç«¯å£å· char ip[REDIS_IP_STR_LEN]; int port; //èŠ‚ç‚¹æ ‡è¯†ï¼šæ•´å‹ï¼Œæ¯ä¸ªbitéƒ½ä»£è¡¨äº†ä¸åŒçŠ¶æ€ï¼Œå¦‚èŠ‚ç‚¹çš„ä¸»ä»çŠ¶æ€ã€æ˜¯å¦åœ¨çº¿ã€æ˜¯å¦åœ¨æ¡æ‰‹ç­‰ int flags; //é…ç½®çºªå…ƒï¼šæ•…éšœè½¬ç§»æ—¶èµ·ä½œç”¨ï¼Œç±»ä¼¼äºå“¨å…µçš„é…ç½®çºªå…ƒ uint64_t configEpoch; //æ§½åœ¨è¯¥èŠ‚ç‚¹ä¸­çš„åˆ†å¸ƒï¼šå ç”¨16384/8ä¸ªå­—èŠ‚ï¼Œ16384ä¸ªæ¯”ç‰¹ï¼›æ¯ä¸ªæ¯”ç‰¹å¯¹åº”ä¸€ä¸ªæ§½ï¼šæ¯”ç‰¹å€¼ä¸º1ï¼Œåˆ™è¯¥æ¯”ç‰¹å¯¹åº”çš„æ§½åœ¨èŠ‚ç‚¹ä¸­ï¼›æ¯”ç‰¹å€¼ä¸º0ï¼Œåˆ™è¯¥æ¯”ç‰¹å¯¹åº”çš„æ§½ä¸åœ¨èŠ‚ç‚¹ä¸­ unsigned char slots[16384/8]; //èŠ‚ç‚¹ä¸­æ§½çš„æ•°é‡ int numslots; â€¦â€¦â€¦â€¦ } clusterNode; é™¤äº†ä¸Šè¿°å­—æ®µï¼ŒclusterNode è¿˜åŒ…å«èŠ‚ç‚¹è¿æ¥ã€ä¸»ä»å¤åˆ¶ã€æ•…éšœå‘ç°å’Œè½¬ç§»éœ€è¦çš„ä¿¡æ¯ç­‰ã€‚ clusterState ç»“æ„clusterState ç»“æ„ä¿å­˜äº†åœ¨å½“å‰èŠ‚ç‚¹è§†è§’ä¸‹ï¼Œé›†ç¾¤æ‰€å¤„çš„çŠ¶æ€ã€‚ä¸»è¦å­—æ®µåŒ…æ‹¬ï¼š typedef struct clusterState { //è‡ªèº«èŠ‚ç‚¹ clusterNode *myself; //é…ç½®çºªå…ƒ uint64_t currentEpoch; //é›†ç¾¤çŠ¶æ€ï¼šåœ¨çº¿è¿˜æ˜¯ä¸‹çº¿ int state; //é›†ç¾¤ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ§½çš„èŠ‚ç‚¹æ•°é‡ int size; //å“ˆå¸Œè¡¨ï¼ŒèŠ‚ç‚¹åç§°->clusterNodeèŠ‚ç‚¹æŒ‡é’ˆ dict *nodes; //æ§½åˆ†å¸ƒä¿¡æ¯ï¼šæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘clusterNodeç»“æ„çš„æŒ‡é’ˆï¼›å¦‚æœæ§½è¿˜æ²¡æœ‰åˆ†é…ç»™ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸ºNULL clusterNode *slots[16384]; â€¦â€¦â€¦â€¦ } clusterState; é™¤æ­¤ä¹‹å¤–ï¼ŒclusterState è¿˜åŒ…æ‹¬æ•…éšœè½¬ç§»ã€æ§½è¿ç§»ç­‰éœ€è¦çš„ä¿¡æ¯ã€‚ äº”ã€å…¶ä»–é—®é¢˜Redis å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ æ¨èé˜…è¯» ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼šRedis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Redis è¿‡æœŸé”®çš„åˆ é™¤ç­–ç•¥ï¼Ÿç®€å•æè¿°å…ˆæŠ›å¼€ Redis æƒ³ä¸€ä¸‹å‡ ç§å¯èƒ½çš„åˆ é™¤ç­–ç•¥ï¼š å®šæ—¶åˆ é™¤:åœ¨è®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´çš„åŒæ—¶ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ timer). è®©å®šæ—¶å™¨åœ¨é”®çš„è¿‡æœŸæ—¶é—´æ¥ä¸´æ—¶ï¼Œç«‹å³æ‰§è¡Œå¯¹é”®çš„åˆ é™¤æ“ä½œã€‚ æƒ°æ€§åˆ é™¤:æ”¾ä»»é”®è¿‡æœŸä¸ç®¡ï¼Œä½†æ˜¯æ¯æ¬¡ä»é”®ç©ºé—´ä¸­è·å–é”®æ—¶ï¼Œéƒ½æ£€æŸ¥å–å¾—çš„é”®æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸçš„è¯ï¼Œå°±åˆ é™¤è¯¥é”®;å¦‚æœæ²¡æœ‰è¿‡æœŸï¼Œå°±è¿”å›è¯¥é”®ã€‚ å®šæœŸåˆ é™¤:æ¯éš”ä¸€æ®µæ—¶é—´ç¨‹åºå°±å¯¹æ•°æ®åº“è¿›è¡Œä¸€æ¬¡æ£€æŸ¥ï¼Œåˆ é™¤é‡Œé¢çš„è¿‡æœŸé”®ã€‚è‡³äºè¦åˆ é™¤å¤šå°‘è¿‡æœŸé”®ï¼Œä»¥åŠè¦æ£€æŸ¥å¤šå°‘ä¸ªæ•°æ®åº“ï¼Œåˆ™ç”±ç®—æ³•å†³å®šã€‚ åœ¨ä¸Šè¿°çš„ä¸‰ç§ç­–ç•¥ä¸­å®šæ—¶åˆ é™¤å’Œå®šæœŸåˆ é™¤å±äºä¸åŒæ—¶é—´ç²’åº¦çš„ ä¸»åŠ¨åˆ é™¤ï¼Œæƒ°æ€§åˆ é™¤å±äº è¢«åŠ¨åˆ é™¤ã€‚ ä¸‰ç§ç­–ç•¥éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ å®šæ—¶åˆ é™¤å¯¹å†…å­˜ä½¿ç”¨ç‡æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯å¯¹ CPU ä¸å‹å¥½ï¼› æƒ°æ€§åˆ é™¤å¯¹å†…å­˜ä¸å‹å¥½ï¼Œå¦‚æœæŸäº›é”®å€¼å¯¹ä¸€ç›´ä¸è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆä¼šé€ æˆä¸€å®šé‡çš„å†…å­˜æµªè´¹ï¼› å®šæœŸåˆ é™¤æ˜¯å®šæ—¶åˆ é™¤å’Œæƒ°æ€§åˆ é™¤çš„æŠ˜ä¸­ã€‚ Redis ä¸­çš„å®ç°Reids é‡‡ç”¨çš„æ˜¯ æƒ°æ€§åˆ é™¤å’Œå®šæ—¶åˆ é™¤ çš„ç»“åˆï¼Œä¸€èˆ¬æ¥è¯´å¯ä»¥å€ŸåŠ©æœ€å°å †æ¥å®ç°å®šæ—¶å™¨ï¼Œä¸è¿‡ Redis çš„è®¾è®¡è€ƒè™‘åˆ°æ—¶é—´äº‹ä»¶çš„æœ‰é™ç§ç±»å’Œæ•°é‡ï¼Œä½¿ç”¨äº†æ— åºé“¾è¡¨å­˜å‚¨æ—¶é—´äº‹ä»¶ï¼Œè¿™æ ·å¦‚æœåœ¨æ­¤åŸºç¡€ä¸Šå®ç°å®šæ—¶åˆ é™¤ï¼Œå°±æ„å‘³ç€ O(N) éå†è·å–æœ€è¿‘éœ€è¦åˆ é™¤çš„æ•°æ®ã€‚ Redis çš„æ·˜æ±°ç­–ç•¥æœ‰å“ªäº›ï¼ŸRedis æœ‰å…­ç§æ·˜æ±°ç­–ç•¥ ç­–ç•¥ æè¿° volatile-lru ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ KV é›†ä¸­ä¼˜å…ˆå¯¹æœ€è¿‘æœ€å°‘ä½¿ç”¨(less recently used)çš„æ•°æ®æ·˜æ±° volitile-ttl ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ KV é›†ä¸­ä¼˜å…ˆå¯¹å‰©ä½™æ—¶é—´çŸ­(time to live)çš„æ•°æ®æ·˜æ±° volitile-random ä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„ KV é›†ä¸­éšæœºé€‰æ‹©æ•°æ®æ·˜æ±° allkeys-lru ä»æ‰€æœ‰ KV é›†ä¸­ä¼˜å…ˆå¯¹æœ€è¿‘æœ€å°‘ä½¿ç”¨(less recently used)çš„æ•°æ®æ·˜æ±° allKeys-random ä»æ‰€æœ‰ KV é›†ä¸­éšæœºé€‰æ‹©æ•°æ®æ·˜æ±° noeviction ä¸æ·˜æ±°ç­–ç•¥ï¼Œè‹¥è¶…è¿‡æœ€å¤§å†…å­˜ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯ 4.0 ç‰ˆæœ¬åå¢åŠ ä»¥ä¸‹ä¸¤ç§ volatile-lfuï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†(server.db[i].expires)ä¸­æŒ‘é€‰æœ€ä¸ç»å¸¸ä½¿ç”¨çš„æ•°æ®æ·˜æ±° allkeys-lfuï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€ä¸ç»å¸¸ä½¿ç”¨çš„ key Rediså¸¸è§æ€§èƒ½é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Ÿ Master æœ€å¥½ä¸è¦åšä»»ä½•æŒä¹…åŒ–å·¥ä½œï¼ŒåŒ…æ‹¬å†…å­˜å¿«ç…§å’Œ AOF æ—¥å¿—æ–‡ä»¶ï¼Œç‰¹åˆ«æ˜¯ä¸è¦å¯ç”¨å†…å­˜å¿«ç…§åšæŒä¹…åŒ–ã€‚ å¦‚æœæ•°æ®æ¯”è¾ƒå…³é”®ï¼ŒæŸä¸ª Slave å¼€å¯ AOF å¤‡ä»½æ•°æ®ï¼Œç­–ç•¥ä¸ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ã€‚ ä¸ºäº†ä¸»ä»å¤åˆ¶çš„é€Ÿåº¦å’Œè¿æ¥çš„ç¨³å®šæ€§ï¼ŒSlave å’Œ Master æœ€å¥½åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ã€‚ å°½é‡é¿å…åœ¨å‹åŠ›è¾ƒå¤§çš„ä¸»åº“ä¸Šå¢åŠ ä»åº“ã€‚ Master è°ƒç”¨ BGREWRITEAOF é‡å†™ AOF æ–‡ä»¶ï¼ŒAOF åœ¨é‡å†™çš„æ—¶å€™ä¼šå å¤§é‡çš„ CPU å’Œå†…å­˜èµ„æºï¼Œå¯¼è‡´æœåŠ¡ load è¿‡é«˜ï¼Œå‡ºç°çŸ­æš‚æœåŠ¡æš‚åœç°è±¡ã€‚ ä¸ºäº† Master çš„ç¨³å®šæ€§ï¼Œä¸»ä»å¤åˆ¶ä¸è¦ç”¨å›¾çŠ¶ç»“æ„ï¼Œç”¨å•å‘é“¾è¡¨ç»“æ„æ›´ç¨³å®šï¼Œå³ä¸»ä»å…³ç³»ä¸ºï¼šMaster&lt;â€“Slave1&lt;â€“Slave2&lt;â€“Slave3â€¦ï¼Œè¿™æ ·çš„ç»“æ„ä¹Ÿæ–¹ä¾¿è§£å†³å•ç‚¹æ•…éšœé—®é¢˜ï¼Œå®ç° Slave å¯¹ Master çš„æ›¿æ¢ï¼Œä¹Ÿå³ï¼Œå¦‚æœ Master æŒ‚äº†ï¼Œå¯ä»¥ç«‹é©¬å¯ç”¨ Slave1 åš Masterï¼Œå…¶ä»–ä¸å˜ã€‚ å‡å¦‚Redisé‡Œé¢æœ‰1äº¿ä¸ªkeyï¼Œå…¶ä¸­æœ‰10wä¸ªkeyæ˜¯ä»¥æŸä¸ªå›ºå®šçš„å·²çŸ¥çš„å‰ç¼€å¼€å¤´çš„ï¼Œå¦‚ä½•å°†å®ƒä»¬å…¨éƒ¨æ‰¾å‡ºæ¥ï¼Ÿä½¿ç”¨ keys æŒ‡ä»¤å¯ä»¥æ‰«å‡ºæŒ‡å®šæ¨¡å¼çš„ key åˆ—è¡¨ã€‚ä½†æ˜¯è¦æ³¨æ„ keys æŒ‡ä»¤ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡ä¸€æ®µæ—¶é—´ï¼Œçº¿ä¸ŠæœåŠ¡ä¼šåœé¡¿ï¼Œç›´åˆ°æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ï¼ŒæœåŠ¡æ‰èƒ½æ¢å¤ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ scan æŒ‡ä»¤ï¼Œscan æŒ‡ä»¤å¯ä»¥æ— é˜»å¡çš„æå–å‡ºæŒ‡å®šæ¨¡å¼çš„ key åˆ—è¡¨ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€å®šçš„é‡å¤æ¦‚ç‡ï¼Œåœ¨å®¢æˆ·ç«¯åšä¸€æ¬¡å»é‡å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ•´ä½“æ‰€èŠ±è´¹çš„æ—¶é—´ä¼šæ¯”ç›´æ¥ç”¨ keys æŒ‡ä»¤é•¿ã€‚ More..å‚è€ƒèµ„æ–™ 3wå­—æ·±åº¦å¥½æ–‡|Redisé¢è¯•å…¨æ”»ç•¥ï¼Œè¯»å®Œè¿™ä¸ªå°±å¯ä»¥å’Œé¢è¯•å®˜å¤§æˆ˜å‡ ä¸ªå›åˆäº† - https://mp.weixin.qq.com/s/f9N13fnyTtnu2D5sKZiu9w å¤§å‚é¢è¯•ï¼æˆ‘å’Œé¢è¯•å®˜ä¹‹é—´å…³äºRedisçš„ä¸€åœºå¯¹å¼ˆï¼ - https://mp.weixin.qq.com/s/DHTPSfmWTZpdTmlytzLz1g Redisé¢è¯•é¢˜ï¼ˆ2020æœ€æ–°ç‰ˆï¼‰ - https://blog.csdn.net/ThinkWon/article/details/103522351 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"},{"name":"ä¸­é—´ä»¶","slug":"é¢è¯•/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ‡‚ä¸€ç‚¹Pythonç³»åˆ—â€”â€”å¿«é€Ÿå…¥é—¨","slug":"æ‡‚ä¸€ç‚¹Pythonç³»åˆ—â€”â€”å¿«é€Ÿå…¥é—¨","date":"2020-03-23T06:36:00.000Z","updated":"2020-08-03T09:51:57.727Z","comments":true,"path":"2020/03/23/dong-yi-dian-python-xi-lie-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2020/03/23/dong-yi-dian-python-xi-lie-kuai-su-ru-men/","excerpt":"","text":"æœ¬æ–‡é¢ç›¸æœ‰ ä¸€å®šç¼–ç¨‹åŸºç¡€ çš„æœ‹å‹å­¦ä¹ ï¼Œæ‰€ä»¥ç•¥è¿‡äº† ç¯å¢ƒå®‰è£…ã€IDE æ­å»º ç­‰ä¸€ç³»åˆ—ç®€å•ç¹ççš„äº‹æƒ…ã€‚ ä¸€ã€Python ç®€ä»‹Python è‹±æ–‡åŸæ„ä¸º â€œèŸ’è›‡â€ï¼Œç›´åˆ° 1989 å¹´è·å…°äºº Guido van Rossum ï¼ˆç®€ç§° Guidoï¼‰å‘æ˜äº†ä¸€ç§ é¢å‘å¯¹è±¡ çš„ è§£é‡Šå‹ ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶å°†å…¶å‘½åä¸º Pythonï¼Œæ‰èµ‹äºˆäº†å®ƒè¡¨ç¤ºä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„å«ä¹‰ã€‚ è¯´åˆ° Python çš„è¯ç”Ÿï¼Œæå…·æˆå‰§è‰²å½©ï¼Œæ® Guido çš„è‡ªè¿°è®°è½½ï¼ŒPython è¯­è¨€æ˜¯ä»–åœ¨åœ£è¯èŠ‚æœŸé—´ä¸ºäº†æ‰“å‘æ—¶é—´å¼€å‘å‡ºæ¥çš„ï¼Œä¹‹æ‰€ä»¥ä¼šé€‰æ‹© Python ä½œä¸ºè¯¥ç¼–ç¨‹è¯­è¨€çš„åå­—ï¼Œæ˜¯å› ä¸ºä»–æ˜¯ä¸€ä¸ªå« Monty Python æˆå‰§å›¢ä½“çš„å¿ å®ç²‰ä¸ã€‚ è§£é‡Šå‹ vs ç¼–è¯‘å‹ä½œä¸ºç”µå­å…ƒå™¨ä»¶çš„ è®¡ç®—æœºï¼Œå®é™…ä¸Š åªèƒ½ è¯†åˆ«æŸäº› ç‰¹å®šçš„äºŒè¿›åˆ¶æŒ‡ä»¤ (ç‰¹æ®Šçš„ 01 ç»„åˆ)ï¼Œä½†ç”±äº äººç±»é˜…è¯» è¿™äº› æŒ‡ä»¤ éå¸¸éš¾ä»¥é˜…è¯»ï¼ŒåŠ ä¸Šä½¿ç”¨è¿™äº›æŒ‡ä»¤ç¼–å†™ç¨‹åºçš„ è€—æ—¶ å¤ªè¿‡äº å†—é•¿ï¼Œæ‰€ä»¥ï¼Œäººä»¬åœ¨æ­¤åŸºç¡€ä¸Šå†æ¬¡åˆ¶å®šäº†ä¸€å¥—è§„èŒƒï¼Œé‡‡ç”¨ç‰¹å®šçš„ äººç±»å¯é˜…è¯» çš„ä»£ç ç¼–å†™ï¼Œå¾…åˆ°è¦æ‰§è¡Œæ—¶å† ç¿»è¯‘ å›ç‰¹å®šäºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œè¿™æ ·å°±å¸®åŠ©äº†äººä»¬æ›´åŠ è½»æ¾åœ°ç†è§£å’Œé˜…è¯»ç¨‹åºé€»è¾‘äº†ã€‚ è¿™ä¹Ÿå°±æ˜¯æ‰€è°“ç°åœ¨çš„ â€œé«˜çº§ç¼–ç¨‹è¯­è¨€â€ äº†ã€‚ ä¸Šè¿° ç¿»è¯‘ è¿™ä¸ªè¿‡ç¨‹ (å…¶å®ç›¸å½“å¤æ‚ï¼Œæ¶‰åŠè¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æã€æ€§èƒ½ä¼˜åŒ–ç­‰ç­‰..) å…¶å®ä¹Ÿæ˜¯ç”±ä¸€ä¸ªç‰¹å®šç¨‹åºæ¥æ‰§è¡Œçš„ï¼Œé‚£ ä»€ä¹ˆæ—¶å€™å°†æºä»£ç ç¿»è¯‘æˆäºŒè¿›åˆ¶æŒ‡ä»¤å‘¢ï¼Ÿï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€æœ‰ä¸åŒçš„è§„å®šï¼š ç¼–è¯‘å‹è¯­è¨€ï¼šå¿…é¡» æå‰ å°†æ‰€æœ‰æºä»£ç  ä¸€æ¬¡æ€§ è½¬æ¢æˆäºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ (ä¾‹å¦‚ Windows ä¸‹çš„ .exe) æ¯”å¦‚ï¼šC è¯­è¨€ã€C++ã€Golangã€æ±‡ç¼–ç­‰ã€‚ä½¿ç”¨çš„è½¬æ¢å·¥å…·æˆ‘ä»¬ç§°ä¸º ç¼–è¯‘å™¨ã€‚ è§£é‡Šå‹è¯­è¨€ï¼šå…è®¸ç¨‹åº ä¸€è¾¹æ‰§è¡Œä¸€è¾¹è½¬æ¢ï¼Œå¹¶ä¸”ä¸ä¼šç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œæ¯”å¦‚ Pythonã€JavaScriptã€PHP ç­‰ã€‚ä½¿ç”¨çš„è½¬æ¢å·¥å…·æˆ‘ä»¬ç§°ä¸º è§£é‡Šå™¨ã€‚ Java å’Œ C# æ˜¯ä¸€ç§æ¯”è¾ƒå¥‡è‘©çš„å­˜åœ¨ï¼Œå®ƒä»¬æ˜¯ åŠç¼–è¯‘åŠè§£é‡Šå‹ çš„è¯­è¨€ï¼Œæºç éœ€è¦å…ˆè½¬æ¢æˆä¸€ç§ä¸­é—´æ–‡ä»¶ (å­—èŠ‚ç æ–‡ä»¶)ï¼Œç„¶åå†æŠŠä¸­é—´æ–‡ä»¶æ‹¿åˆ° è™šæ‹Ÿæœº ä¸­æ‰§è¡Œã€‚Java å¼•é¢†äº†è¿™ç§é£æ½®ï¼Œå®ƒçš„åˆè¡·æ˜¯åœ¨è·¨å¹³å°çš„åŒæ—¶å…¼é¡¾æ‰§è¡Œæ•ˆç‡ã€‚ ä¸Šå›¾ å°±å±•ç¤ºäº†ä¸¤ç§ä¸åŒç±»å‹è¯­è¨€çš„æ‰§è¡Œæµç¨‹çš„ä¸åŒï¼Œä¸¤ç§æ–¹å¼å¯¹æ¯”èµ·æ¥æ€»ç»“å¦‚ä¸‹ï¼š ç¼–è¯‘å‹è¯­è¨€ä¸€èˆ¬ä¸èƒ½è·¨å¹³å°ï¼šå¯¹äºä¸åŒçš„ CPU æ¥è¯´ï¼Œå®ƒä»¬çš„æŒ‡ä»¤é›†æ˜¯æœ‰å·®å¼‚çš„ï¼Œè¿™å°±å¯¼è‡´äº† å¯æ‰§è¡Œæ–‡ä»¶ (ç¿»è¯‘åçš„æŒ‡ä»¤) ä¸èƒ½è·¨å¹³å°ï¼Œå¦å¤–ä¸åŒçš„ç³»ç»Ÿä¹‹é—´çš„å‘½ä»¤ä¹Ÿä¼šå­˜åœ¨å·®å¼‚ï¼Œä¾‹å¦‚ Linux ä¸­ç¡çœ æ˜¯ sleep() å‚æ•°æ˜¯æ¯«ç§’ï¼Œè€Œ Windows ä¸­æ˜¯ Sleep() (é¦–å­—æ¯å¤§å†™) å‚æ•°æ˜¯ç§’ï¼Œè¿™å°±å¯¼è‡´äº† æºä»£ç ä¹Ÿä¸èƒ½è·¨å¹³å°ï¼› è§£é‡Šå‹è¯­è¨€å¯è·¨å¹³å°ï¼šè¿™ä¸€åˆ‡éƒ½å½’åŠŸäº è§£é‡Šå™¨ï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®˜æ–¹åªè¦é’ˆå¯¹ä¸åŒçš„å¹³å°å¼€å‘ä¸åŒçš„è§£é‡Šå™¨ï¼Œé‚£ä¹ˆè§£é‡Šå™¨å°±èƒ½å¤Ÿæ ¹æ®ç›¸åŒçš„è¯­æ³•è§£æå‡ºåŒæ ·åŠŸèƒ½çš„æŒ‡ä»¤ï¼› ç¼–è¯‘å‹ä¸€èˆ¬æ¯”è§£é‡Šå‹æ•ˆç‡é«˜ï¼šç”±äºè§£é‡Šå‹æ˜¯é‡‡å–ä¸€è¾¹æ‰§è¡Œä¸€è¾¹ç¿»è¯‘çš„åšæ³•ï¼Œæ‰€ä»¥ä¼šæ…¢ä¸Šä¸€äº›ï¼Œå†åŠ ä¸Šæˆ‘ä»¬å¼ºå¤§çš„ ç¼–è¯‘å™¨ ä¼šå¸®æˆ‘ä»¬åšè®¸å¤šä»£ç ä¼˜åŒ–çš„å·¥ä½œã€‚ å…³äº PythonPython å±äºå…¸å‹çš„è§£é‡Šå‹è¯­è¨€ï¼Œæ‰€ä»¥è¿è¡Œ Python ç¨‹åºéœ€è¦è§£é‡Šå™¨çš„æ”¯æŒï¼Œåªè¦ä½ åœ¨ä¸åŒçš„å¹³å°å®‰è£…äº†ä¸åŒçš„è§£é‡Šå™¨ï¼Œä½ çš„ä»£ç å°±å¯ä»¥éšæ—¶è¿è¡Œï¼Œä¸ç”¨æ‹…å¿ƒä»»ä½•å…¼å®¹æ€§é—®é¢˜ï¼ŒçœŸæ­£çš„ â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€ã€‚ Python å‡ ä¹æ”¯æŒæ‰€æœ‰å¸¸è§çš„å¹³å°ï¼Œæ¯”å¦‚ Linuxã€Windowsã€Mac OSã€Androidã€FreeBSDã€Solarisã€PocketPC ç­‰ï¼Œä½ æ‰€å†™çš„ Python ä»£ç æ— éœ€ä¿®æ”¹å°±èƒ½åœ¨è¿™äº›å¹³å°ä¸Šæ­£ç¡®è¿è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒPython çš„ å¯ç§»æ¤æ€§ æ˜¯å¾ˆå¼ºçš„ã€‚ é¢å‘å¯¹è±¡ vs é¢å‘è¿‡ç¨‹é¢å‘å¯¹è±¡ å’Œ é¢å‘è¿‡ç¨‹ æ˜¯æˆ‘ä»¬ä½¿ç”¨è®¡ç®—æœºç¼–ç¨‹è§£å†³é—®é¢˜çš„ä¸¤ç§ä¸åŒæ–¹å¼çš„æ–¹æ¡ˆã€‚ é¢å‘è¿‡ç¨‹ å¯ä»¥è¯´æ˜¯ä¸€ç§ åŸºäºäº‹ä»¶ or è¿‡ç¨‹ æ¥æè¿°çš„ç¼–ç æ–¹å¼ï¼Œè­¬å¦‚ã€ŒæŠŠå¤§è±¡æ”¾è¿›å†°ç®±ã€å°±å¯ä»¥æè¿°æˆé‚£ç»å…¸çš„ä¸‰ä¸ªæ­¥éª¤ï¼Œã€ŒæŠŠç‰›æ”¾è¿›å†°ç®±ã€åˆæ˜¯å¦ä¸€ä¸ªç›¸ä¼¼çš„ç»å…¸ä¸‰æ­¥ï¼Œåªæ˜¯è¿™æ ·å•ç‹¬çš„äº‹ä»¶ or è¿‡ç¨‹å¤šäº†ä¹‹åï¼Œéšç€é¡¹ç›®å¤æ‚åº¦çš„å¢åŠ ï¼Œé¡¹ç›®ä¼šå˜å¾—éå¸¸éš¾ä»¥ç»´æŠ¤ã€‚ è½¯ä»¶å±æœºæœ€å…¸å‹çš„ä¾‹å­è«è¿‡äº IBM çš„ System/360 çš„æ“ä½œç³»ç»Ÿå¼€å‘ã€‚ä½›ç‘å¾·Â·å¸ƒé²å…‹æ–¯ï¼ˆFrederick P. Brooks, Jr.ï¼‰ä½œä¸ºé¡¹ç›®ä¸»ç®¡ï¼Œç‡é¢† 2000 å¤šä¸ªç¨‹åºå‘˜å¤œä»¥ç»§æ—¥çš„å·¥ä½œï¼Œå…±è®¡èŠ±è´¹äº† 5000 äººä¸€å¹´çš„å·¥ä½œé‡ï¼Œå†™å‡ºå°†è¿‘ 100 ä¸‡è¡Œçš„æºç ï¼Œæ€»å…±æŠ•å…¥ 5 äº¿ç¾å…ƒï¼Œæ˜¯ç¾å›½çš„ â€œæ›¼å“ˆé¡¿â€ åŸå­å¼¹è®¡åˆ’æŠ•å…¥çš„ 1/4ã€‚å°½ç®¡æŠ•å…¥å¦‚æ­¤å·¨å¤§ï¼Œä½†é¡¹ç›®è¿›åº¦å´ä¸€å†å»¶è¿Ÿï¼Œè½¯ä»¶è´¨é‡ä¹Ÿå¾—ä¸åˆ°ä¿éšœã€‚å¸ƒé²å…‹æ–¯åæ¥åŸºäºè¿™ä¸ªé¡¹ç›®ç»éªŒè€Œæ€»ç»“çš„ã€Šäººæœˆç¥è¯ã€‹ä¸€ä¹¦ï¼Œæˆäº†å²ä¸Šæœ€ç•…é”€çš„è½¯ä»¶å·¥ç¨‹ä¹¦ç±ã€‚ å¼•ç”¨è‡ªï¼šhttp://www.kancloud.cn:8080/yunhua_lee/oobaodian/110880 å°½ç®¡ ç»“æ„åŒ–çš„ç¨‹åºè®¾è®¡ (å°†ä¸€ä¸ªå¤§é—®é¢˜é€æ­¥åˆ’åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„å°é—®é¢˜) èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä½† é¢å‘è¿‡ç¨‹ ä»ç„¶æœ‰ä¸€äº›ä¸ç¬¦åˆäººç±»æƒ¯æœ‰çš„æ€è€ƒæ–¹å¼ï¼Œè­¬å¦‚è¯´ï¼šæˆ‘ä»Šå¤©æƒ³å»å­˜é’±ï¼Œæˆ‘ä¸ä¼šè¯´ã€Œè¯·æ‹¿èµ°æˆ‘çš„é“¶è¡Œå¡å’Œé’±ï¼Œç„¶ååœ¨æˆ‘å¡ä¸Šå……å€¼ä¸Šç›¸åº”çš„æ•°ç›®ï¼Œæœ€åæŠŠé“¶è¡Œå¡è¿˜ç»™æˆ‘è°¢è°¢ã€ï¼Œè€Œæˆ‘åªä¼šè¯´ã€Œå­˜é’±ï¼Œè°¢è°¢ã€ï¼Œå› ä¸ºäººå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åŸºäº å¯¹è±¡ (æˆ–è€…å¯ä»¥è¯´è§’è‰²) æ¥æ€è€ƒçš„ã€‚ å¯¹äº é¢å‘è¿‡ç¨‹ æœ€å¥½çš„æ€»ç»“å¯èƒ½æ˜¯ï¼šã€Œç¨‹åº = ç®—æ³• + æ•°æ®ç»“æ„ã€ï¼Œè€Œå¯¹äº é¢å‘å¯¹è±¡ æ¥è¯´åˆ™å¯ä»¥æ›´æ”¹ä¸ºï¼šã€Œç¨‹åº = å¯¹è±¡ + äº¤äº’ã€ã€‚ Why Pythonï¼Ÿ ä¸Šé¢çš„ æ¼«ç”» å¾ˆå¥½åœ°è¯´æ˜äº† Python å¿«é€Ÿæ„å»ºå·¥å…·çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ Why Python çš„ä¸€å¤§ç†ç”±ã€‚ä¸‹é¢æ ¹æ®æƒ¯ä¾‹åˆ—ä¸¾ä¸€äº›è®©æˆ‘ä»¬è¶³ä»¥é€‰æ‹© Python çš„åŸå› ã€‚ åˆå­¦è€…å‹å–„ | å®¹æ˜“æ˜ç™½ä¸”åŠŸèƒ½å¼ºå¤§Python çš„è®¾è®¡è¶³å¤Ÿç®€å•å’Œæ˜“äºä½¿ç”¨ï¼Œè¿™æ ·ä½¿å¾—åˆå­¦è€…èƒ½å¤Ÿä»ä¸­ä¸æ–­å¾—è·å–åˆ°ä¹è¶£ä»¥ç»§ç»­ Python ä¹‹æ—…ã€‚ å¦å¤–ä½œä¸ºä¸€ç§éå¸¸é«˜çº§çš„è¯­è¨€ï¼ŒPython è¯»èµ·æ¥åƒè‹±è¯­ï¼Œè¿™å‡è½»äº†ç¼–ç åˆå­¦è€…çš„è®¸å¤šè¯­æ³•å­¦ä¹ å‹åŠ›ã€‚Python ä¸ºæ‚¨å¤„ç†äº†å¾ˆå¤šå¤æ‚æ€§ï¼Œå› æ­¤å®ƒéå¸¸é€‚åˆåˆå­¦è€…ï¼Œå› ä¸ºå®ƒä½¿åˆå­¦è€…å¯ä»¥ä¸“æ³¨äºå­¦ä¹ ç¼–ç¨‹æ¦‚å¿µï¼Œè€Œä¸å¿…æ‹…å¿ƒè¿‡å¤šçš„ç»†èŠ‚ã€‚ Python è¿˜ä¸€åº¦è¢«çˆ†çº³å…¥é«˜è€ƒï¼Œæ”¶ç¼–åˆ°å°å­¦è¯¾æœ¬ã€‚ éå¸¸çµæ´»ä½œä¸ºä¸€ç§ åŠ¨æ€ç±»å‹ çš„è¯­è¨€ï¼ŒPython ç¡®å®éå¸¸çµæ´»ã€‚è¿™æ„å‘³ç€æ²¡æœ‰å…³äºå¦‚ä½•æ„å»ºç‰¹å¾çš„ç¡¬æ€§è§„åˆ™ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥è§£å†³é—®é¢˜å°†å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ ï¼ˆå°½ç®¡ Python å“²å­¦é¼“åŠ±ä½¿ç”¨æ˜æ˜¾çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜ï¼‰ã€‚æ­¤å¤–ï¼ŒPython ä¹Ÿæ›´å®½å®¹é”™è¯¯ï¼Œå› æ­¤æ‚¨ä»ç„¶å¯ä»¥ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œç›´åˆ°é‡åˆ°é—®é¢˜ä¸ºæ­¢ã€‚ è¶Šæ¥è¶Šç«çˆ†Python åœ¨è¯ç”Ÿä¹‹åˆï¼Œå› ä¸ºå…¶åŠŸèƒ½ä¸å¥½ï¼Œè¿è½¬åŠŸç‡ä½ï¼Œä¸æ”¯æŒå¤šæ ¸ï¼Œæ ¹æœ¬æ²¡æœ‰å¹¶å‘æ€§å¯è¨€ï¼Œåœ¨è®¡ç®—åŠŸèƒ½ä¸é‚£ä¹ˆå¥½çš„å¹´ä»£ï¼Œä¸€ç›´æ²¡æœ‰ç«çˆ†èµ·æ¥ï¼Œç”šè‡³å¾ˆå¤šäººæ ¹æœ¬ä¸çŸ¥é“æœ‰è¿™é—¨è¯­è¨€ã€‚ éšç€æ—¶ä»£çš„å‘å±•ï¼Œç‰©ç†ç¡¬ä»¶åŠŸèƒ½ä¸æ–­æé«˜ï¼Œè€Œè½¯ä»¶çš„å¤æ‚æ€§ä¹Ÿä¸æ–­å¢å¤§ï¼Œå¼€å‘æ•ˆç‡è¶Šæ¥è¶Šè¢«ä¼ä¸šé‡è§†ã€‚å› æ­¤å°±æœ‰äº†ä¸ä¸€æ ·çš„å£°éŸ³ï¼Œåœ¨è½¯ä»¶å¼€å‘çš„åˆå§‹é˜¶æ®µï¼Œæ€§èƒ½å¹¶æ²¡æœ‰å¼€å‘æ•ˆç‡é‡è¦ï¼Œæ²¡å¿…ç„¶ä¸ºäº†èŠ‚çœä¸åˆ° 1ms çš„æ—¶é—´å´è®©å¼€å‘é‡å¢åŠ å¥½å‡ å€ï¼Œè¿™æ ·åˆ’ä¸è¿‡æ¥ã€‚ä¹Ÿå°±æ˜¯å¼€å‘æ•ˆç‡æ¯”æœºå™¨æ•ˆç‡æ›´ä¸ºé‡è¦ï¼Œé‚£ä¹ˆ Python å°±é€æ¸å¾—åˆ°è¶Šæ¥è¶Šå¤šå¼€å‘è€…çš„äº²çäº†ã€‚ åœ¨ 12-14 å¹´ï¼Œäº‘è®¡ç®—å‡æ¸©ï¼Œå¤§é‡åˆ›ä¸šå…¬å¸å’Œäº’è”ç½‘å·¨å¤´æŒ¤è¿›äº‘è®¡ç®—é¢†åŸŸï¼Œè€Œæœ€è‘—åçš„äº‘æ ¸ç®—å¼€æºæ¸ é“ OpenStack å°±æ˜¯åŸºäº Python å¼€å‘çš„ã€‚ éšåå‡ å¹´çš„å¤‡å—å…³æ³¨çš„äººå·¥æ™ºèƒ½ï¼Œæœºå™¨å­¦ä¹ é¦–é€‰å¼€å‘è¯­è¨€ä¹Ÿæ˜¯ Pythonã€‚ è‡³æ­¤ï¼ŒPython å·²ç»æˆä¸ºäº’è”ç½‘å¼€å‘çš„ç„¦ç‚¹ã€‚åœ¨ ã€ŒTop 10 çš„ç¼–ç¨‹è¯­è¨€èµ°åŠ¿å›¾ã€ å¯ä»¥çœ‹åˆ°ï¼ŒPython å·²ç»è·ƒå±…ç¬¬ä¸‰ä½ï¼Œè€Œä¸”åœ¨ 2017 å¹´è¿˜æˆä¸ºäº†æœ€å—æ¬¢è¿çš„è¯­è¨€ã€‚ å·¥ä½œæœºä¼š | è–ªèµ„å¾…é‡é«˜ æ¥è‡ª gooroo.io çš„è–ªèµ„ä¿¡æ¯ï¼š åœ¨å¤©ä½¿æ¦œä¸Šï¼ŒPython æ˜¯éœ€æ±‚ç¬¬äºŒé«˜çš„æŠ€èƒ½ï¼Œä¹Ÿæ˜¯æä¾›æœ€é«˜å¹³å‡è–ªæ°´çš„æŠ€èƒ½ã€‚ éšç€å¤§æ•°æ®çš„å…´èµ·ï¼ŒPython å¼€å‘äººå‘˜éœ€è¦ä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œå°¤å…¶æ˜¯å› ä¸º Python å¯ä»¥è½»æ¾é›†æˆåˆ° Web åº”ç”¨ç¨‹åºä¸­ä»¥æ‰§è¡Œéœ€è¦æœºå™¨å­¦ä¹ çš„ä»»åŠ¡ã€‚ å¿«é€Ÿä½“éªŒ | No Hello World !Hello World ä¼¼ä¹æ˜¯å­¦ä¹ ç¼–ç¨‹ç»•ä¸è¿‡å»çš„ä¸œè¥¿ï¼Œä½†ä½¿ç”¨ Pythonï¼Œæˆ‘ä»¬æ¥æ¢ç‚¹å„¿åˆ«çš„ï¼ŒEmmm.. æ¯”å¦‚ï¼Œä¸€ä¸ª æŸ¥è¯¢å¤©æ°” çš„å°ç¨‹åº (æ•ˆæœå¦‚ä¸‹å›¾)ï¼š æºç  &amp; è§£é‡Šhttp://wthrcdn.etouch.cn/weather_mini?city=xxx è¿™ä¸ªç½‘å€å¯ä»¥è¿”å›ä»»æ„åŸå¸‚æ˜¨æ—¥ä»¥åŠ 5 å¤©å†…çš„å¤©æ°”é¢„æŠ¥ï¼ŒåŒ…æ‹¬æ°”æ¸©ã€æŒ‡æ•°ã€ç©ºæ°”è´¨é‡ã€é£åŠ›ç­‰ï¼Œä½ å¯ä»¥ç”¨æµè§ˆå™¨è¯•ç€è®¿é—®ä¸€ä¸‹ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª weather_mini çš„æ–‡ä»¶ï¼Œé‡Œé¢å°±åŒ…å«äº†æˆ‘ä»¬æƒ³è¦çš„ä¸€äº›æ•°æ®ã€‚ ä¸è¿‡è¿™é‡Œç”±äºæˆ‘ä»¬å‘èµ·äº†ç½‘ç»œè¯·æ±‚ç”¨åˆ°äº†ç¬¬ä¸‰æ–¹åº“ requestsï¼Œæ‰€ä»¥åœ¨è¿è¡Œä¹‹å‰è¿˜éœ€è¦ä½¿ç”¨ pip install requests å‘½ä»¤æŠŠè¯¥åº“ä¸‹è½½åˆ° Python çš„å®‰è£…ç›®å½•ä¸‹ã€‚ # -*- coding: utf-8 -*- import requests while True: city = input('è¯·è¾“å…¥åŸå¸‚,å›è½¦é€€å‡º:\\n') if not city: break req = requests.get('http://wthrcdn.etouch.cn/weather_mini?city=%s' % city) print(req.text) è¿è¡Œä½ çš„ä»£ç ä½ å¯ä»¥åœ¨ å½“å‰æ–‡ä»¶å¤¹ ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š python hello_python.pyï¼Œæˆ–æ˜¯ä½¿ç”¨ python &lt;æºæ–‡ä»¶è·¯å¾„&gt; è¿è¡Œä¹Ÿè¡Œï¼Œä¾‹å¦‚ï¼Œå¦‚æœæˆ‘æ˜¯ Windows ç”¨æˆ·å¹¶ä¸”å°†ä¸Šè¿°æºæ–‡ä»¶ä¿å­˜åœ¨äº† D ç›˜ä¸‹é¢ï¼Œé‚£å°±å¯ä»¥æ‰§è¡Œ python D:\\hello_python.pyï¼Œç„¶åä½ å°±å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„æ•ˆæœäº†ã€‚å½“ç„¶å¦‚æœä½¿ç”¨ IDE å°†æ›´åŠ æ–¹ä¾¿ã€‚ Python vs Javaå¼•å…¥ä¸€å¼ æ¯”è¾ƒè‘—åçš„å›¾å§ï¼Œå¯ä»¥å¾ˆæ˜æ˜¾åœ°æ„Ÿå—åˆ° Python åœ¨å†™æ³•ä¸Šè¦ç®€æ´ä¸€äº›å§ï¼š äºŒã€Python åŸºæœ¬è¯­æ³•ç®€ä»‹Python ä¸å…¶ä»–è¯­è¨€æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼ŒPython çš„ä»£ç å—ä¸ä½¿ç”¨å¤§æ‹¬å· {} æ¥æ§åˆ¶ç±»ï¼Œå‡½æ•°ä»¥åŠå…¶ä»–é€»è¾‘åˆ¤æ–­ã€‚Python æœ€å…·ç‰¹è‰²çš„å°±æ˜¯ç”¨ ç¼©è¿› æ¥å†™æ¨¡å—ã€‚ 2.0 æ³¨é‡Š# ç¬¬ä¸€ä¸ªæ³¨é‡Š # ç¬¬äºŒä¸ªæ³¨é‡Š ''' ç¬¬ä¸‰æ³¨é‡Š ç¬¬å››æ³¨é‡Š ''' \"\"\" ç¬¬äº”æ³¨é‡Š ç¬¬å…­æ³¨é‡Š \"\"\" print(\"Hello, Python!\") 2.1 æ•°æ®ç±»å‹Python ä¸­çš„å˜é‡èµ‹å€¼ä¸éœ€è¦ç±»å‹å£°æ˜ã€‚Python æœ‰äº”ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼š Numbersï¼ˆæ•°å­—ï¼‰ï¼šPython3 ä¸­æœ‰å››ç§æ•°å­—ç±»å‹ (æ²¡æœ‰ Python2 ä¸­çš„ Long)ï¼Œåˆ†åˆ«æ˜¯ int é•¿æ•´å‹ã€bool å¸ƒå°”ã€float æµ®ç‚¹æ•°ã€complex å¤æ•° (1 + 2j)ï¼› Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šPython ä¸­å­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ï¼Œå¹¶ä¸”æ²¡æœ‰å•ç‹¬çš„å­—ç¬¦ç±»å‹ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯é•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²ï¼› Tupleï¼ˆå…ƒç»„ï¼‰ï¼šç±»ä¼¼äº Listï¼Œä½†ä¸èƒ½äºŒæ¬¡èµ‹å€¼ï¼Œç›¸å½“äºåªè¯»åˆ—è¡¨ã€‚egï¼š(&#39;test1&#39;, &#39;test2&#39;) Listï¼ˆåˆ—è¡¨ï¼‰ï¼šç±»ä¼¼ Java ä¸­çš„ Array ç±»å‹ã€‚eg:[1, 2, ,3] Dictionaryï¼ˆå­—å…¸ï¼‰ï¼šç±»ä¼¼äº Java çš„ Map ç±»å‹ã€‚eg:{a: 1, b: 2} set é›†åˆä¹Ÿå±äºæ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ä¸€ä¸ª æ— åº ä¸” ä¸é‡å¤ çš„å…ƒç´ åºåˆ—ã€‚å¯ä»¥ä½¿ç”¨å¤§æ‹¬å· { } æˆ–è€… set() å‡½æ•°åˆ›å»ºé›†åˆï¼Œæ³¨æ„ï¼šåˆ›å»ºä¸€ä¸ªç©ºé›†åˆå¿…é¡»ç”¨ set() è€Œä¸æ˜¯ { }ï¼Œå› ä¸º { } æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ã€‚ str = 'Hello World!' print str[2:5] # è¾“å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸‰ä¸ªè‡³ç¬¬äº”ä¸ªä¹‹é—´çš„å­—ç¬¦ä¸² list = [ 'runoob', 786 , 2.23, 'john', 70.2 ] print list[1:3] # è¾“å‡ºç¬¬äºŒä¸ªè‡³ç¬¬ä¸‰ä¸ªå…ƒç´  tuple = ( 'runoob', 786 , 2.23, 'john', 70.2 ) print tuple[1:3] # è¾“å‡ºç¬¬äºŒä¸ªè‡³ç¬¬ä¸‰ä¸ªçš„å…ƒç´  tinydict = {'name': 'john','code':6734, 'dept': 'sales'} print tinydict['name'] # è¾“å‡ºé”®ä¸º 2 çš„å€¼ 2.2 æ¡ä»¶è¯­å¥# å½“åˆ¤æ–­æ¡ä»¶ä¸º 1 ä¸ªå€¼æ—¶ flag = False name = 'luren' if name == 'python': # åˆ¤æ–­å˜é‡å¦ä¸º'python' flag = True # æ¡ä»¶æˆç«‹æ—¶è®¾ç½®æ ‡å¿—ä¸ºçœŸ print 'welcome boss' # å¹¶è¾“å‡ºæ¬¢è¿ä¿¡æ¯ else: print name # æ¡ä»¶ä¸æˆç«‹æ—¶è¾“å‡ºå˜é‡åç§° # å½“åˆ¤æ–­æ¡ä»¶ä¸ºå¤šä¸ªå€¼æ—¶ num = 5 if num == 3: # åˆ¤æ–­numçš„å€¼ print 'boss' elif num == 2: print 'user' else: print 'roadman' # æ¡ä»¶å‡ä¸æˆç«‹æ—¶è¾“å‡º 2.3 å¾ªç¯while å¾ªç¯åœ¨ Python ä¸­æ²¡æœ‰ do..while çš„å¾ªç¯ count = 0 while count &lt; 5: print (count, \" å°äº 5\") count = count + 1 else: print (count, \" å¤§äºæˆ–ç­‰äº 5\") for..in å¾ªç¯for..in é€‚ç”¨äº list/ dict/ set æ•°æ®ç±»å‹ï¼Œå¦‚æœéœ€è¦éå†æ•°å­—åºåˆ—ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ© range(min, max, step) å‡½æ•°æ¥ç”Ÿæˆæ•°åˆ—ã€‚ sites = [\"Baidu\", \"Google\",\"Runoob\",\"Taobao\"] for site in sites: if site == \"Runoob\": print(\"èœé¸Ÿæ•™ç¨‹!\") break print(\"å¾ªç¯æ•°æ® \" + site) else: print(\"æ²¡æœ‰å¾ªç¯æ•°æ®!\") print(\"å®Œæˆå¾ªç¯!\") # è¾“å‡º 0/ 3/ 6/ 9 for i in range(0, 10, 3) : print(i) # æ›¿æ¢æˆ range(5) åˆ™è¾“å‡º 0/ 1/ 2/ 3/ 4 # æ›¿æ¢æˆ range(5,9) åˆ™è¾“å‡º 5/ 6/ 7/ 8 2.4 å‡½æ•°å‡½æ•°åŸºæœ¬å®šä¹‰å’Œä½¿ç”¨# è®¡ç®—é¢ç§¯å‡½æ•° def area(width, height): return width * height def print_welcome(name): print(\"Welcome\", name) print_welcome(\"Runoob\") w = 4 h = 5 print(\"width =\", w, \" height =\", h, \" area =\", area(w, h)) å‚æ•°ä¼ é€’åœ¨ Python ä¸­ï¼Œç±»å‹å±äºå¯¹è±¡ï¼Œå˜é‡æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œä¾‹å¦‚ name = &quot;wmyskxz&quot;ï¼Œåˆ™ &quot;wmyskxz&quot; æ˜¯ String ç±»å‹ï¼Œè€Œå˜é‡ name ä»…ä»…æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ Python ä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œä¸¥æ ¼æ„ä¹‰æˆ‘ä»¬ ä¸èƒ½è¯´å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Œæˆ‘ä»¬åº”è¯¥è¯´ä¼  ä¸å¯å˜å¯¹è±¡ (stringã€tuplesã€number ä¸å¯å˜) å’Œ ä¼ å¯å˜å¯¹è±¡ (listã€dict å¯å˜)ã€‚ ############################################ # ä¼ é€’ä¸å¯å˜å¯¹è±¡ def ChangeInt(a): a = 10 b = 2 ChangeInt(b) print b # ç»“æœæ˜¯ 2 ############################################ # ä¼ é€’å¯å˜å¯¹è±¡ def changeme( mylist ): \"ä¿®æ”¹ä¼ å…¥çš„åˆ—è¡¨\" mylist.append([1,2,3,4]) print (\"å‡½æ•°å†…å–å€¼: \", mylist) # [10, 20, 30, [1, 2, 3, 4]] return # è°ƒç”¨changemeå‡½æ•° mylist = [10,20,30] changeme( mylist ) print (\"å‡½æ•°å¤–å–å€¼: \", mylist) # [10, 20, 30, [1, 2, 3, 4]] # å‡½æ•°å†…å¤–å€¼ä¸€è‡´ï¼Œå› ä¸ºéƒ½åŒå±äºåŒä¸€ä¸ªå¼•ç”¨ 2.5 class ç±»åŸºæœ¬å®šä¹‰class people: #å®šä¹‰åŸºæœ¬å±æ€§ name = '' age = 0 #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—® __weight = 0 #å®šä¹‰æ„é€ æ–¹æ³• def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\"%s è¯´: æˆ‘ %d å²ã€‚\" %(self.name,self.age)) # å®ä¾‹åŒ–ç±» p = people('wmyskxz', 24, 120) p.speak() # wmyskxz è¯´: æˆ‘ 10 å²ã€‚ ç»§æ‰¿ &amp; å¤šç»§æ‰¿ &amp; æ–¹æ³•é‡å†™# å•ç»§æ‰¿ class DerivedClassName(BaseClassName1): &lt;statement-1> . &lt;statement-N> # å¤šç»§æ‰¿ class DerivedClassName(Base1, Base2, Base3): &lt;statement-1> . . . &lt;statement-N> # æ–¹æ³•é‡å†™æ¼”ç¤º class Parent: # å®šä¹‰çˆ¶ç±» def myMethod(self): print ('è°ƒç”¨çˆ¶ç±»æ–¹æ³•') class Child(Parent): # å®šä¹‰å­ç±» def myMethod(self): print ('è°ƒç”¨å­ç±»æ–¹æ³•') c = Child() # å­ç±»å®ä¾‹ c.myMethod() # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³• super(Child,c).myMethod() #ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³• # å…ˆè¾“å‡º \"è°ƒç”¨å­ç±»æ–¹æ³•\" å†è¾“å‡º \"è°ƒç”¨çˆ¶ç±»æ–¹æ³•\" 2.6 module æ¨¡å—ä¸€ä¸ª .py æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæƒ³è¦ä½¿ç”¨å…¶ä»– .py æ–‡ä»¶ä¸­çš„æ–¹æ³•å°±éœ€è¦å¼•å…¥è¿›æ¥ã€‚ import [module] # å¯¼å…¥æ•´ä¸ªrandomæ¨¡å—ï¼Œå¯ä»¥æ˜¯å†…ç½®/å½“å‰è·¯å¾„ import random # ä½¿ç”¨ `random` æ¨¡å—ä¸‹çš„ `randint` æ–¹æ³• print(random.randint(0, 5)) from [module] import [name1, name2, ...] # ä» `random` æ¨¡å—é‡Œå¯¼å…¥å…¶ä¸­ä¸€ä¸ªæ–¹æ³• `randint` from random import randint # ä¸ä¸€æ ·çš„æ˜¯ï¼Œä½¿ç”¨ `randint` çš„å°±ä¸éœ€è¦å…ˆå†™ `random` äº† print(randint(0, 5)) import [module] as [new_name] # ä½†è¿™ä¸ªåå­—å¯èƒ½è·Ÿå…¶ä»–åœ°æ–¹æœ‰å†²çªï¼Œå› æ­¤æ”¹åæˆ `rd` import random as rd # ä½¿ç”¨ `rd` è¿™ä¸ªåç§°å–ä»£åŸæœ¬çš„ `random` print(rd.randint(0, 5)) from [module] import * ä¸æ¨èï¼Œå®¹æ˜“é€ æˆåç§°å†²çªï¼Œé™ä½å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ # Import æ‰€æœ‰ `random` module åº•ä¸‹çš„ä¸œè¥¿ from random import * # ä½¿ç”¨ `randint` çš„æ—¶å€™ä¹Ÿä¸éœ€è¦å…ˆå†™ `random` print(randint(0, 5)) module æœç´¢è·¯å¾„å½“ä½ å¯¼å…¥ä¸€ä¸ªæ¨¡å—ï¼ŒPython è§£æå™¨å¯¹æ¨¡å—ä½ç½®çš„æœç´¢é¡ºåºæ˜¯ï¼š å½“å‰ç›®å½• å¦‚æœä¸åœ¨å½“å‰ç›®å½•ï¼ŒPython åˆ™æœç´¢åœ¨ shell å˜é‡ PYTHONPATH ä¸‹çš„æ¯ä¸ªç›®å½•ã€‚ å¦‚æœéƒ½æ‰¾ä¸åˆ°ï¼ŒPython ä¼šå¯Ÿçœ‹é»˜è®¤è·¯å¾„ã€‚UNIX ä¸‹ï¼Œé»˜è®¤è·¯å¾„ä¸€èˆ¬ä¸º /usr/local/lib/python/ã€‚ 2.7 package åŒ…æŠŠä¸¤ä¸ª module æ”¾åœ¨ä¸€ä¸ªæ–°çš„ç›®å½• sample_packageï¼Œå†æ–°å¢ _init__.py (å¯ä»¥æ˜¯ç©ºï¼Œä½†ä¸èƒ½æ²¡æœ‰)ï¼Œå®£ç§°è‡ªå·±æ˜¯ä¸€ä¸ª package : sample_package |-- __init__.py |-- 1.py |-- 2.py# package_runoob åŒçº§ç›®å½•ä¸‹åˆ›å»º test.py æ¥è°ƒç”¨ package_runoob åŒ… # å¯¼å…¥åŒ… from package_runoob.runoob1 import runoob1 from package_runoob.runoob2 import runoob2 runoob1() runoob2() å•ä¸ªpyæ–‡ä»¶å°±æ˜¯ä¸€ä¸ª moduleï¼Œè€Œå½“å¤šä¸ª .py æ–‡ä»¶ + __init__.py æ–‡ä»¶æ—¶ï¼Œå°±ç­‰äº packageã€‚ ä¸‰ã€åŸºæœ¬ä»£ç è§„èŒƒä»£ç è§„èŒƒ å†æ€ä¹ˆå¼ºè°ƒä¹Ÿä¸ä¸ºè¿‡ï¼š å›¾ç‰‡æ¥æºï¼šhttps://codingpy.com/article/programmers-daily-what-idiot-wrote-this-crappy-code/ 3.1 å‘½åè§„èŒƒæ¨¡å— æ¨¡å—å°½é‡ä½¿ç”¨ å°å†™å‘½åï¼Œé¦–å­—æ¯ä¿æŒå°å†™ï¼Œå°½é‡ä¸è¦ç”¨ä¸‹åˆ’çº¿(é™¤éå¤šä¸ªå•è¯ï¼Œä¸”æ•°é‡ä¸å¤šçš„æƒ…å†µ) # æ­£ç¡®çš„æ¨¡å—å import decoder import html_parser # ä¸æ¨èçš„æ¨¡å—å import Decoder ç±»å ç±»åä½¿ç”¨ é©¼å³° (CamelCase)å‘½åé£æ ¼ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç§æœ‰ç±»å¯ç”¨ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´ class Farm(): pass class AnimalFarm(Farm): pass class _PrivateFarm(Farm): pass å‡½æ•° å‡½æ•°å ä¸€å¾‹å°å†™ï¼Œå¦‚æœ‰å¤šä¸ªå•è¯ï¼Œç”¨ä¸‹åˆ’çº¿éš”å¼€ def run(): pass def run_with_env(): pass ç§æœ‰å‡½æ•°åœ¨å‡½æ•°å‰åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ _ class Person(): def _private_func(): pass å˜é‡å å˜é‡åå°½é‡ å°å†™, å¦‚æœ‰å¤šä¸ªå•è¯ï¼Œç”¨ä¸‹åˆ’çº¿éš”å¼€ if __name__ == '__main__': count = 0 school_name = '' å¸¸é‡ä½¿ç”¨ä»¥ä¸‹åˆ’çº¿åˆ†éš”çš„ å¤§å†™ å‘½å MAX_CLIENT = 100 MAX_CONNECTION = 1000 CONNECTION_TIMEOUT = 600 3.2 åŸºæœ¬ç¼–ç è§„èŒƒç¼©è¿› ç»Ÿä¸€ä½¿ç”¨ 4 ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿› è¡Œå®½æ¯è¡Œä»£ç å°½é‡ä¸è¶…è¿‡ 80 ä¸ªå­—ç¬¦(åœ¨ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥ç•¥å¾®è¶…è¿‡ 80 ï¼Œä½†æœ€é•¿ä¸å¾—è¶…è¿‡ 120) ç†ç”±ï¼š è¿™åœ¨æŸ¥çœ‹ side-by-side çš„ diff æ—¶å¾ˆæœ‰å¸®åŠ© æ–¹ä¾¿åœ¨æ§åˆ¶å°ä¸‹æŸ¥çœ‹ä»£ç  å¤ªé•¿å¯èƒ½æ˜¯è®¾è®¡æœ‰ç¼ºé™· å¼•å·ç®€å•è¯´ï¼Œè‡ªç„¶è¯­è¨€ä½¿ç”¨åŒå¼•å·ï¼Œæœºå™¨æ ‡ç¤ºä½¿ç”¨å•å¼•å·ï¼Œå› æ­¤ ä»£ç é‡Œ å¤šæ•°åº”è¯¥ä½¿ç”¨ å•å¼•å· è‡ªç„¶è¯­è¨€ ä½¿ç”¨åŒå¼•å· &quot;...&quot;ï¼Œä¾‹å¦‚é”™è¯¯ä¿¡æ¯ï¼›å¾ˆå¤šæƒ…å†µè¿˜æ˜¯ unicodeï¼Œä½¿ç”¨uâ€ä½ å¥½ä¸–ç•Œâ€ æœºå™¨æ ‡è¯† ä½¿ç”¨å•å¼•å· â€˜...&#39;ï¼Œä¾‹å¦‚ dict é‡Œçš„ key æ­£åˆ™è¡¨è¾¾å¼ ä½¿ç”¨åŸç”Ÿçš„åŒå¼•å· r&quot;...&quot; æ–‡æ¡£å­—ç¬¦ä¸² (docstring) ä½¿ç”¨ä¸‰ä¸ªåŒå¼•å· &quot;&quot;&quot;......&quot;&quot;&quot; import è¯­å¥ import è¯­å¥åº”è¯¥åˆ†è¡Œä¹¦å†™ # æ­£ç¡®çš„å†™æ³• import os import sys # ä¸æ¨èçš„å†™æ³• import sys,os # æ­£ç¡®çš„å†™æ³• from subprocess import Popen, PIPE import è¯­å¥åº”è¯¥ä½¿ç”¨ absolute import # æ­£ç¡®çš„å†™æ³• from foo.bar import Bar # ä¸æ¨èçš„å†™æ³• from ..bar import Bar import è¯­å¥åº”è¯¥æ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼Œç½®äºæ¨¡å—è¯´æ˜åŠ DocString ä¹‹åï¼Œäºå…¨å±€å˜é‡ä¹‹å‰ï¼› import è¯­å¥åº”è¯¥æŒ‰ç…§é¡ºåºæ’åˆ—ï¼Œæ¯ç»„ä¹‹é—´ç”¨ä¸€ä¸ªç©ºè¡Œåˆ†éš” import os import sys import msgpack import zmq import foo å¯¼å…¥å…¶ä»–æ¨¡å—çš„ç±»å®šä¹‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹å¯¼å…¥ from myclass import MyClass å¦‚æœå‘ç”Ÿå‘½åå†²çªï¼Œåˆ™å¯ä½¿ç”¨å‘½åç©ºé—´ import bar import foo.bar bar.Bar() foo.bar.Bar() DocStringDocString çš„è§„èŒƒä¸­æœ€å…¶æœ¬çš„ä¸¤ç‚¹ï¼š æ‰€æœ‰çš„å…¬å…±æ¨¡å—ã€å‡½æ•°ã€ç±»ã€æ–¹æ³•ï¼Œéƒ½åº”è¯¥å†™ DocString ã€‚ç§æœ‰æ–¹æ³•ä¸ä¸€å®šéœ€è¦ï¼Œä½†åº”è¯¥åœ¨ def åæä¾›ä¸€ä¸ªå—æ³¨é‡Šæ¥è¯´æ˜ã€‚ DocString çš„ç»“æŸâ€â€â€åº”è¯¥ç‹¬å ä¸€è¡Œï¼Œé™¤éæ­¤ DocString åªæœ‰ä¸€è¡Œã€‚ \"\"\"Return a foobar Optional plotz says to frobnicate the bizbaz first. \"\"\" \"\"\"Oneline docstring\"\"\" 3.3 æ³¨é‡Šè§„èŒƒå»ºè®® åœ¨ä»£ç çš„ å…³é”®éƒ¨åˆ†(æˆ–æ¯”è¾ƒå¤æ‚çš„åœ°æ–¹), èƒ½å†™æ³¨é‡Šçš„è¦å°½é‡å†™æ³¨é‡Š æ¯”è¾ƒé‡è¦çš„æ³¨é‡Šæ®µ, ä½¿ç”¨å¤šä¸ªç­‰å·éš”å¼€, å¯ä»¥æ›´åŠ é†’ç›®, çªå‡º é‡è¦æ€§ app = create_app(name, options) # ===================================== # è¯·å‹¿åœ¨æ­¤å¤„æ·»åŠ  get postç­‰appè·¯ç”±è¡Œä¸º !!! # ===================================== if __name__ == '__main__': app.run() æ–‡æ¡£æ³¨é‡Šï¼ˆDocStringï¼‰ æ–‡æ¡£æ³¨é‡Šä»¥ â€œâ€â€ å¼€å¤´å’Œç»“å°¾, é¦–è¡Œä¸æ¢è¡Œ, å¦‚æœ‰å¤šè¡Œ, æœ«è¡Œå¿…éœ€æ¢è¡Œ, ä»¥ä¸‹æ˜¯Googleçš„docstringé£æ ¼ç¤ºä¾‹ # -*- coding: utf-8 -*- \"\"\"Example docstrings. This module demonstrates documentation as specified by the `Google Python Style Guide`_. Docstrings may extend over multiple lines. Sections are created with a section header and a colon followed by a block of indented text. Example: Examples can be given using either the ``Example`` or ``Examples`` sections. Sections support any reStructuredText formatting, including literal blocks:: $ python example_google.py Section breaks are created by resuming unindented text. Section breaks are also implicitly created anytime a new section starts. \"\"\" ä¸è¦åœ¨æ–‡æ¡£æ³¨é‡Šå¤åˆ¶å‡½æ•°å®šä¹‰åŸå‹, è€Œæ˜¯å…·ä½“æè¿°å…¶å…·ä½“å†…å®¹, è§£é‡Šå…·ä½“å‚æ•°å’Œè¿”å›å€¼ç­‰ # ä¸æ¨èçš„å†™æ³•(ä¸è¦å†™å‡½æ•°åŸå‹ç­‰åºŸè¯) def function(a, b): \"\"\"function(a, b) -> list\"\"\" ... ... # æ­£ç¡®çš„å†™æ³• def function(a, b): \"\"\"è®¡ç®—å¹¶è¿”å›aåˆ°bèŒƒå›´å†…æ•°æ®çš„å¹³å‡å€¼\"\"\" ... ... å¯¹å‡½æ•°å‚æ•°ã€è¿”å›å€¼ç­‰çš„è¯´æ˜é‡‡ç”¨ numpy æ ‡å‡†, å¦‚ä¸‹æ‰€ç¤º def func(arg1, arg2): \"\"\"åœ¨è¿™é‡Œå†™å‡½æ•°çš„ä¸€å¥è¯æ€»ç»“(å¦‚: è®¡ç®—å¹³å‡å€¼). è¿™é‡Œæ˜¯å…·ä½“æè¿°. å‚æ•° ---------- arg1 : int arg1çš„å…·ä½“æè¿° arg2 : int arg2çš„å…·ä½“æè¿° è¿”å›å€¼ ------- int è¿”å›å€¼çš„å…·ä½“æè¿° å‚çœ‹ -------- otherfunc : å…¶å®ƒå…³è”å‡½æ•°ç­‰... ç¤ºä¾‹ -------- ç¤ºä¾‹ä½¿ç”¨doctestæ ¼å¼, åœ¨`>>>`åçš„ä»£ç å¯ä»¥è¢«æ–‡æ¡£æµ‹è¯•å·¥å…·ä½œä¸ºæµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨è¿è¡Œ >>> a=[1,2,3] >>> print [x + 3 for x in a] [4, 5, 6] \"\"\" æ›´å¤šç»†è‡´è¯¦ç»†çš„è§„èŒƒå¯ä»¥å‚è€ƒï¼š Google å¼€æºé¡¹ç›®æŒ‡å— - https://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/contents/ å®˜æ–¹ PEP 8 ä»£ç è§„èŒƒ - https://www.python.org/dev/peps/pep-0008/ æ¨èé˜…è¯» Redis(9)â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹ - https://juejin.im/post/5e7429a16fb9a07ccc460fe7 Reactå…¥é—¨å­¦ä¹  - https://juejin.im/post/5da5e9e8e51d4525292d2ed7 å‚è€ƒèµ„æ–™ WhyStudyPython.md | TwoWater - https://github.com/TwoWater/Python/blob/master/Article/PythonBasis/python0/WhyStudyPython.md C è¯­è¨€ä¸­æ–‡ç½‘ | Python ç³»åˆ—æ•™ç¨‹ - http://c.biancheng.net/python/ Crossinçš„ç¼–ç¨‹æ•™å®¤ - https://python666.cn/ è®¡ç®—æœºå’Œç¼–ç¨‹è¯­è¨€çš„å‘å±•å†å² - https://blog.csdn.net/abc6368765/article/details/83990756 é¢å‘å¯¹è±¡è‘µèŠ±å®å…¸ - http://www.kancloud.cn:8080/yunhua_lee/oobaodian/110879 RUNOOB | Python3 ç³»åˆ—æ•™ç¨‹ - ttps://www.runoob.com/python3 Python åŸºç¡€è¯­æ³• | springleoâ€™sblog - https://lq782655835.github.io/blogs/tools/python-grammar.html#_1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"Python","slug":"Python","permalink":"http://www.wmyskxz.com/categories/Python/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"Python/æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/categories/Python/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Python","slug":"Python","permalink":"http://www.wmyskxz.com/tags/Python/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/tags/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(9)â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹","slug":"Redis-9-â€”â€”å²ä¸Šæœ€å¼ºã€é›†ç¾¤ã€‘å…¥é—¨å®è·µæ•™ç¨‹","date":"2020-03-17T09:40:00.000Z","updated":"2020-08-03T09:50:28.399Z","comments":true,"path":"2020/03/17/redis-9-shi-shang-zui-qiang-ji-qun-ru-men-shi-jian-jiao-cheng/","link":"","permalink":"http://www.wmyskxz.com/2020/03/17/redis-9-shi-shang-zui-qiang-ji-qun-ru-men-shi-jian-jiao-cheng/","excerpt":"","text":"ä¸€ã€Redis é›†ç¾¤æ¦‚è¿°Redis ä¸»ä»å¤åˆ¶åˆ° ç›®å‰ ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ‰€å­¦ä¹ çš„ Redis éƒ½æ˜¯ å•æœºç‰ˆ çš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä¸€æ—¦æˆ‘ä»¬æ‰€ä¾èµ–çš„ Redis æœåŠ¡å®•æœºäº†ï¼Œæˆ‘ä»¬çš„ä¸»æµç¨‹ä¹Ÿä¼šå—åˆ°ä¸€å®šçš„å½±å“ï¼Œè¿™å½“ç„¶æ˜¯æˆ‘ä»¬ä¸èƒ½å¤Ÿæ¥å—çš„ã€‚ æ‰€ä»¥ä¸€å¼€å§‹æˆ‘ä»¬çš„æƒ³æ³•æ˜¯ï¼šæä¸€å°å¤‡ç”¨æœºã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨å‡ºç°é—®é¢˜çš„æ—¶å€™åˆ‡æ¢åŠ¨æ€åœ°åˆ°å¦ä¸€å°å»ï¼š å¹¸è¿çš„æ˜¯ï¼Œä¸¤ä¸ªèŠ‚ç‚¹æ•°æ®çš„åŒæ­¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Redis çš„ ä¸»ä»åŒæ­¥ åŠŸèƒ½å¸®åŠ©åˆ°æˆ‘ä»¬ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæœ‰ä¸ªå¤‡ä»½ï¼Œå¿ƒé‡Œå°±è¸å®å¤šäº†ã€‚ Redis å“¨å…µåæ¥å› ä¸ºæŸç§ç¥ç§˜åŠ›é‡ï¼ŒRedis è€ä¼šåœ¨è«åå…¶å¦™çš„æ—¶é—´ç‚¹å‡ºé—®é¢˜ (æ¯”å¦‚åŠå¤œ 2 ç‚¹)ï¼Œæˆ‘æ€»ä¸èƒ½ 24 å°æ—¶æ—¶åˆ»å®ˆåœ¨ç”µè„‘æ—è¾¹åˆ‡æ¢èŠ‚ç‚¹å§ï¼Œäºæ˜¯å¦ä¸€ä¸ªæƒ³æ³•åˆå¼€å§‹äº†ï¼šç»™æ‰€æœ‰çš„èŠ‚ç‚¹æ‰¾ä¸€ä¸ª â€œç®¡å®¶â€ï¼Œè‡ªåŠ¨å¸®æˆ‘ç›‘å¬ç…§é¡¾èŠ‚ç‚¹çš„çŠ¶æ€å¹¶åˆ‡æ¢ï¼š è¿™å¤§æ¦‚å°±æ˜¯ Redis å“¨å…µ (Sentinel) çš„ç®€å•ç†è§£å•¦ã€‚ä»€ä¹ˆï¼Ÿç®¡å®¶å®•æœºäº†æ€ä¹ˆåŠï¼Ÿç›¸è¾ƒäºæœ‰å¤§é‡è¯·æ±‚çš„ Redis æœåŠ¡æ¥è¯´ï¼Œç®¡å®¶å®•æœºçš„æ¦‚ç‡å°±è¦å°å¾—å¤šå•¦.. å¦‚æœçœŸçš„å®•æœºäº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åˆ‡æ¢æˆå½“å‰å¯ç”¨çš„èŠ‚ç‚¹ä¿è¯å¯ç”¨.. Redis é›†ç¾¤åŒ–å¥½äº†ï¼Œé€šè¿‡ä¸Šé¢çš„ä¸€äº›è§£å†³æ–¹æ¡ˆæˆ‘ä»¬å¯¹ Redis çš„ ç¨³å®šæ€§ ç¨å¾®æœ‰äº†ä¸€äº›åº•æ°”äº†ï¼Œä½†å•å°èŠ‚ç‚¹çš„è®¡ç®—èƒ½åŠ›å§‹ç»ˆæœ‰é™ï¼Œæ‰€è°“äººå¤šåŠ›é‡å¤§ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ å¤šä¸ªèŠ‚ç‚¹ç»„åˆ æˆ ä¸€ä¸ªå¯ç”¨çš„å·¥ä½œèŠ‚ç‚¹ï¼Œé‚£å°±å¤§å¤§å¢åŠ äº† Redis çš„ é«˜å¯ç”¨ã€å¯æ‰©å±•ã€åˆ†å¸ƒå¼ã€å®¹é”™ ç­‰ç‰¹æ€§ï¼š äºŒã€ä¸»ä»å¤åˆ¶ ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å° Redis æœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„ Redis æœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸º ä¸»èŠ‚ç‚¹(master)ï¼Œåè€…ç§°ä¸º ä»èŠ‚ç‚¹(slave)ã€‚ä¸”æ•°æ®çš„å¤åˆ¶æ˜¯ å•å‘ çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚Redis ä¸»ä»å¤åˆ¶æ”¯æŒ ä¸»ä»åŒæ­¥ å’Œ ä»ä»åŒæ­¥ ä¸¤ç§ï¼Œåè€…æ˜¯ Redis åç»­ç‰ˆæœ¬æ–°å¢çš„åŠŸèƒ½ï¼Œä»¥å‡è½»ä¸»èŠ‚ç‚¹çš„åŒæ­¥è´Ÿæ‹…ã€‚ ä¸»ä»å¤åˆ¶ä¸»è¦çš„ä½œç”¨ æ•°æ®å†—ä½™ï¼š ä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚ æ•…éšœæ¢å¤ï¼š å½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ (å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™)ã€‚ è´Ÿè½½å‡è¡¡ï¼š åœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ã€‚å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚ é«˜å¯ç”¨åŸºçŸ³ï¼š é™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„ åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚ å¿«é€Ÿä½“éªŒåœ¨ Redis ä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ‰§è¡Œ SLAVEOF å‘½ä»¤æˆ–è€…è®¾ç½® slaveof é€‰é¡¹ï¼Œè®©ä¸€ä¸ªæœåŠ¡å™¨å»å¤åˆ¶å¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä»¥ä¸‹ä¸‰ç§æ–¹å¼æ˜¯ å®Œå…¨ç­‰æ•ˆ çš„ï¼š é…ç½®æ–‡ä»¶ï¼šåœ¨ä»æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ï¼šslaveof &lt;masterip&gt; &lt;masterport&gt; å¯åŠ¨å‘½ä»¤ï¼šredis-server å¯åŠ¨å‘½ä»¤ååŠ å…¥ --slaveof &lt;masterip&gt; &lt;masterport&gt; å®¢æˆ·ç«¯å‘½ä»¤ï¼šRedis æœåŠ¡å™¨å¯åŠ¨åï¼Œç›´æ¥é€šè¿‡å®¢æˆ·ç«¯æ‰§è¡Œå‘½ä»¤ï¼šslaveof &lt;masterip&gt; &lt;masterport&gt;ï¼Œè®©è¯¥ Redis å®ä¾‹æˆä¸ºä»èŠ‚ç‚¹ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸»ä»å¤åˆ¶çš„å¼€å¯ï¼Œå®Œå…¨æ˜¯åœ¨ä»èŠ‚ç‚¹å‘èµ·çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬åœ¨ä¸»èŠ‚ç‚¹åšä»»ä½•äº‹æƒ…ã€‚ ç¬¬ä¸€æ­¥ï¼šæœ¬åœ°å¯åŠ¨ä¸¤ä¸ªèŠ‚ç‚¹åœ¨æ­£ç¡®å®‰è£…å¥½ Redis ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ redis-server --port &lt;port&gt; çš„æ–¹å¼æŒ‡å®šåˆ›å»ºä¸¤ä¸ªä¸åŒç«¯å£çš„ Redis å®ä¾‹ï¼Œä¾‹å¦‚ï¼Œä¸‹æ–¹æˆ‘åˆ†åˆ«åˆ›å»ºäº†ä¸€ä¸ª 6379 å’Œ 6380 çš„ä¸¤ä¸ª Redis å®ä¾‹ï¼š # åˆ›å»ºä¸€ä¸ªç«¯å£ä¸º 6379 çš„ Redis å®ä¾‹ redis-server --port 6379 # åˆ›å»ºä¸€ä¸ªç«¯å£ä¸º 6380 çš„ Redis å®ä¾‹ redis-server --port 6380 æ­¤æ—¶ä¸¤ä¸ª Redis èŠ‚ç‚¹å¯åŠ¨åï¼Œéƒ½é»˜è®¤ä¸º ä¸»èŠ‚ç‚¹ã€‚ ç¬¬äºŒæ­¥ï¼šå»ºç«‹å¤åˆ¶æˆ‘ä»¬åœ¨ 6380 ç«¯å£çš„èŠ‚ç‚¹ä¸­æ‰§è¡Œ slaveof å‘½ä»¤ï¼Œä½¿ä¹‹å˜ä¸ºä»èŠ‚ç‚¹ï¼š # åœ¨ 6380 ç«¯å£çš„ Redis å®ä¾‹ä¸­ä½¿ç”¨æ§åˆ¶å° redis-cli -p 6380 # æˆä¸ºæœ¬åœ° 6379 ç«¯å£å®ä¾‹çš„ä»èŠ‚ç‚¹ 127.0.0.1:6380> SLAVEOF 127.0.0.1Ã¸ 6379 OK ç¬¬ä¸‰æ­¥ï¼šè§‚å¯Ÿæ•ˆæœä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œä¸»èŠ‚ç‚¹çš„æ•°æ®æ˜¯å¦ä¼šå¤åˆ¶åˆ°ä»èŠ‚ç‚¹ä¹‹ä¸­ï¼š å…ˆåœ¨ ä»èŠ‚ç‚¹ ä¸­æŸ¥è¯¢ä¸€ä¸ª ä¸å­˜åœ¨ çš„ keyï¼š```bash 127.0.0.1:6380&gt; GET mykey(nil) - å†åœ¨ **ä¸»èŠ‚ç‚¹** ä¸­æ·»åŠ è¿™ä¸ª keyï¼š ```bash 127.0.0.1:6379&gt; SET mykey myvalue OK æ­¤æ—¶å†ä» ä»èŠ‚ç‚¹ ä¸­æŸ¥è¯¢ï¼Œä¼šå‘ç°å·²ç»ä» ä¸»èŠ‚ç‚¹ åŒæ­¥åˆ° ä»èŠ‚ç‚¹ï¼š```bash 127.0.0.1:6380&gt; GET mykeyâ€œmyvalueâ€ #### ç¬¬å››æ­¥ï¼šæ–­å¼€å¤åˆ¶ é€šè¿‡ `slaveof &lt;masterip&gt; &lt;masterport&gt;` å‘½ä»¤å»ºç«‹ä¸»ä»å¤åˆ¶å…³ç³»ä»¥åï¼Œå¯ä»¥é€šè¿‡ `slaveof no one` æ–­å¼€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»èŠ‚ç‚¹æ–­å¼€å¤åˆ¶åï¼Œ**ä¸ä¼šåˆ é™¤å·²æœ‰çš„æ•°æ®**ï¼Œåªæ˜¯ä¸å†æ¥å—ä¸»èŠ‚ç‚¹æ–°çš„æ•°æ®å˜åŒ–ã€‚ ä»èŠ‚ç‚¹æ‰§è¡Œ `slaveof no one` ä¹‹åï¼Œä»èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹åˆ†åˆ«æ‰“å°æ—¥å¿—å¦‚ä¸‹ï¼šã€ ```bash # ä»èŠ‚ç‚¹æ‰“å°æ—¥å¿— 61496:M 17 Mar 2020 08:10:22.749 # Connection with master lost. 61496:M 17 Mar 2020 08:10:22.749 * Caching the disconnected master state. 61496:M 17 Mar 2020 08:10:22.749 * Discarding previously cached master state. 61496:M 17 Mar 2020 08:10:22.749 * MASTER MODE enabled (user request from &#39;id=4 addr=127.0.0.1:55096 fd=8 name= age=1664 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=34 qbuf-free=32734 obl=0 oll=0 omem=0 events=r cmd=slaveof&#39;) # ä¸»èŠ‚ç‚¹æ‰“å°æ—¥å¿— 61467:M 17 Mar 2020 08:10:22.749 # Connection with replica 127.0.0.1:6380 lost.å®ç°åŸç†ç®€æ ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œæˆ‘æŠŠä¸»è¦çš„æ­¥éª¤éƒ½ æµ“ç¼© åœ¨äº†ä¸Šå›¾ä¸­ï¼Œå…¶å®ä¹Ÿå¯ä»¥ ç®€åŒ–æˆä¸‰ä¸ªé˜¶æ®µï¼šå‡†å¤‡é˜¶æ®µ-æ•°æ®åŒæ­¥é˜¶æ®µ-å‘½ä»¤ä¼ æ’­é˜¶æ®µã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¿›è¡Œä¸€äº›å¿…è¦çš„è¯´æ˜ã€‚ èº«ä»½éªŒè¯ | ä¸»ä»å¤åˆ¶å®‰å…¨é—®é¢˜åœ¨ä¸Šé¢çš„ å¿«é€Ÿä½“éªŒ è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå‘ç° slaveof è¿™ä¸ªå‘½ä»¤å±…ç„¶ä¸éœ€è¦éªŒè¯ï¼Ÿè¿™æ„å‘³ç€åªè¦çŸ¥é“äº† ip å’Œç«¯å£å°±å¯ä»¥éšæ„æ‹·è´æœåŠ¡å™¨ä¸Šçš„æ•°æ®äº†ï¼Ÿ é‚£å½“ç„¶ä¸èƒ½å¤Ÿäº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ ä¸»èŠ‚ç‚¹ é…ç½® requirepass æ¥è®¾ç½®å¯†ç ï¼Œè¿™æ ·å°±å¿…é¡»åœ¨ ä»èŠ‚ç‚¹ ä¸­å¯¹åº”é…ç½®å¥½ masterauth å‚æ•° (ä¸ä¸»èŠ‚ç‚¹ requirepass ä¿æŒä¸€è‡´) æ‰èƒ½å¤Ÿè¿›è¡Œæ­£å¸¸å¤åˆ¶äº†ã€‚ SYNC å‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸è€—è´¹èµ„æºçš„æ“ä½œæ¯æ¬¡æ‰§è¡Œ SYNC å‘½ä»¤ï¼Œä¸»ä»æœåŠ¡å™¨éœ€è¦æ‰§è¡Œå¦‚ä¸‹åŠ¨ä½œï¼š ä¸»æœåŠ¡å™¨ éœ€è¦æ‰§è¡Œ BGSAVE å‘½ä»¤æ¥ç”Ÿæˆ RDB æ–‡ä»¶ï¼Œè¿™ä¸ªç”Ÿæˆæ“ä½œä¼š æ¶ˆè€— ä¸»æœåŠ¡å™¨å¤§é‡çš„ CPUã€å†…å­˜å’Œç£ç›˜ I/O çš„èµ„æºï¼› ä¸»æœåŠ¡å™¨ éœ€è¦å°†è‡ªå·±ç”Ÿæˆçš„ RDB æ–‡ä»¶ å‘é€ç»™ä»æœåŠ¡å™¨ï¼Œè¿™ä¸ªå‘é€æ“ä½œä¼š æ¶ˆè€— ä¸»æœåŠ¡å™¨ å¤§é‡çš„ç½‘ç»œèµ„æº (å¸¦å®½å’Œæµé‡)ï¼Œå¹¶å¯¹ä¸»æœåŠ¡å™¨å“åº”å‘½ä»¤è¯·æ±‚çš„æ—¶é—´äº§ç”Ÿå½±å“ï¼› æ¥æ”¶åˆ° RDB æ–‡ä»¶çš„ ä»æœåŠ¡å™¨ éœ€è¦è½½å…¥ä¸»æœåŠ¡å™¨å‘æ¥çš„ RBD æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨è½½å…¥æœŸé—´ï¼Œä»æœåŠ¡å™¨ ä¼šå› ä¸ºé˜»å¡è€Œæ²¡åŠæ³•å¤„ç†å‘½ä»¤è¯·æ±‚ï¼› ç‰¹åˆ«æ˜¯å½“å‡ºç° æ–­çº¿é‡å¤åˆ¶ çš„æƒ…å†µæ˜¯æ—¶ï¼Œä¸ºäº†è®©ä»æœåŠ¡å™¨è¡¥è¶³æ–­çº¿æ—¶ç¡®å®çš„é‚£ä¸€å°éƒ¨åˆ†æ•°æ®ï¼Œå´è¦æ‰§è¡Œä¸€æ¬¡å¦‚æ­¤è€—èµ„æºçš„ SYNC å‘½ä»¤ï¼Œæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚ PSYNC å‘½ä»¤çš„å¼•å…¥æ‰€ä»¥åœ¨ Redis 2.8 ä¸­å¼•å…¥äº† PSYNC å‘½ä»¤æ¥ä»£æ›¿ SYNCï¼Œå®ƒå…·æœ‰ä¸¤ç§æ¨¡å¼ï¼š å…¨é‡å¤åˆ¶ï¼š ç”¨äºåˆæ¬¡å¤åˆ¶æˆ–å…¶ä»–æ— æ³•è¿›è¡Œéƒ¨åˆ†å¤åˆ¶çš„æƒ…å†µï¼Œå°†ä¸»èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é‡å‹çš„æ“ä½œï¼› éƒ¨åˆ†å¤åˆ¶ï¼š ç”¨äºç½‘ç»œä¸­æ–­ç­‰æƒ…å†µåçš„å¤åˆ¶ï¼Œåªå°† ä¸­æ–­æœŸé—´ä¸»èŠ‚ç‚¹æ‰§è¡Œçš„å†™å‘½ä»¤ å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œä¸å…¨é‡å¤åˆ¶ç›¸æ¯”æ›´åŠ é«˜æ•ˆã€‚éœ€è¦æ³¨æ„ çš„æ˜¯ï¼Œå¦‚æœç½‘ç»œä¸­æ–­æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´ä¸»èŠ‚ç‚¹æ²¡æœ‰èƒ½å¤Ÿå®Œæ•´åœ°ä¿å­˜ä¸­æ–­æœŸé—´æ‰§è¡Œçš„å†™å‘½ä»¤ï¼Œåˆ™æ— æ³•è¿›è¡Œéƒ¨åˆ†å¤åˆ¶ï¼Œä»ä½¿ç”¨å…¨é‡å¤åˆ¶ï¼› éƒ¨åˆ†å¤åˆ¶çš„åŸç†ä¸»è¦æ˜¯é ä¸»ä»èŠ‚ç‚¹åˆ†åˆ«ç»´æŠ¤ä¸€ä¸ª å¤åˆ¶åç§»é‡ï¼Œæœ‰äº†è¿™ä¸ªåç§»é‡ä¹‹åæ–­çº¿é‡è¿ä¹‹åä¸€æ¯”è¾ƒï¼Œä¹‹åå°±å¯ä»¥ä»…ä»…æŠŠä»æœåŠ¡å™¨æ–­çº¿ä¹‹åç¡®å®çš„è¿™éƒ¨åˆ†æ•°æ®ç»™è¡¥å›æ¥äº†ã€‚ æ›´å¤šçš„è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒä¸‹æ–¹ å‚è€ƒèµ„æ–™ 3 ä¸‰ã€Redis Sentinel å“¨å…µ ä¸Šå›¾ å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„å“¨å…µæ¶æ„å›¾ï¼Œå®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå“¨å…µèŠ‚ç‚¹å’Œæ•°æ®èŠ‚ç‚¹ï¼š å“¨å…µèŠ‚ç‚¹ï¼š å“¨å…µç³»ç»Ÿç”±ä¸€ä¸ªæˆ–å¤šä¸ªå“¨å…µèŠ‚ç‚¹ç»„æˆï¼Œå“¨å…µèŠ‚ç‚¹æ˜¯ç‰¹æ®Šçš„ Redis èŠ‚ç‚¹ï¼Œä¸å­˜å‚¨æ•°æ®ï¼› æ•°æ®èŠ‚ç‚¹ï¼š ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹éƒ½æ˜¯æ•°æ®èŠ‚ç‚¹ï¼› åœ¨å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œå“¨å…µå®ç°äº† è‡ªåŠ¨åŒ–çš„æ•…éšœæ¢å¤ åŠŸèƒ½ï¼Œä¸‹æ–¹æ˜¯å®˜æ–¹å¯¹äºå“¨å…µåŠŸèƒ½çš„æè¿°ï¼š ç›‘æ§ï¼ˆMonitoringï¼‰ï¼š å“¨å…µä¼šä¸æ–­åœ°æ£€æŸ¥ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹æ˜¯å¦è¿ä½œæ­£å¸¸ã€‚ è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼ˆAutomatic failoverï¼‰ï¼š å½“ ä¸»èŠ‚ç‚¹ ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼Œå“¨å…µä¼šå¼€å§‹ è‡ªåŠ¨æ•…éšœè½¬ç§»æ“ä½œï¼Œå®ƒä¼šå°†å¤±æ•ˆä¸»èŠ‚ç‚¹çš„å…¶ä¸­ä¸€ä¸ª ä»èŠ‚ç‚¹å‡çº§ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå¹¶è®©å…¶ä»–ä»èŠ‚ç‚¹æ”¹ä¸ºå¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ã€‚ é…ç½®æä¾›è€…ï¼ˆConfiguration providerï¼‰ï¼š å®¢æˆ·ç«¯åœ¨åˆå§‹åŒ–æ—¶ï¼Œé€šè¿‡è¿æ¥å“¨å…µæ¥è·å¾—å½“å‰ Redis æœåŠ¡çš„ä¸»èŠ‚ç‚¹åœ°å€ã€‚ é€šçŸ¥ï¼ˆNotificationï¼‰ï¼š å“¨å…µå¯ä»¥å°†æ•…éšœè½¬ç§»çš„ç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚ å…¶ä¸­ï¼Œç›‘æ§å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»åŠŸèƒ½ï¼Œä½¿å¾—å“¨å…µå¯ä»¥åŠæ—¶å‘ç°ä¸»èŠ‚ç‚¹æ•…éšœå¹¶å®Œæˆè½¬ç§»ã€‚è€Œé…ç½®æä¾›è€…å’Œé€šçŸ¥åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸å®¢æˆ·ç«¯çš„äº¤äº’ä¸­æ‰èƒ½ä½“ç°ã€‚ å¿«é€Ÿä½“éªŒç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸»ä»èŠ‚ç‚¹é…ç½®æ–‡ä»¶å¹¶å¯åŠ¨æ­£ç¡®å®‰è£…å¥½ Redis ä¹‹åï¼Œæˆ‘ä»¬å»åˆ° Redis çš„å®‰è£…ç›®å½• (mac é»˜è®¤åœ¨ /usr/local/)*ï¼Œæ‰¾åˆ° redis.conf æ–‡ä»¶å¤åˆ¶ä¸‰ä»½åˆ†åˆ«å‘½åä¸º redis-master.conf/redis-slave1.conf/redis-slave2.confï¼Œåˆ†åˆ«ä½œä¸º 1 ä¸ªä¸»èŠ‚ç‚¹å’Œ 2 ä¸ªä»èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ *(ä¸‹å›¾æ¼”ç¤ºäº†æˆ‘æœ¬æœºçš„ redis.conf æ–‡ä»¶çš„ä½ç½®) æ‰“å¼€å¯ä»¥çœ‹åˆ°è¿™ä¸ª .conf åç¼€çš„æ–‡ä»¶é‡Œé¢æœ‰å¾ˆå¤šè¯´æ˜çš„å†…å®¹ï¼Œå…¨éƒ¨åˆ é™¤ç„¶ååˆ†åˆ«æ”¹æˆä¸‹é¢çš„æ ·å­ï¼š #redis-master.conf port 6379 daemonize yes logfile \"6379.log\" dbfilename \"dump-6379.rdb\" #redis-slave1.conf port 6380 daemonize yes logfile \"6380.log\" dbfilename \"dump-6380.rdb\" slaveof 127.0.0.1 6379 #redis-slave2.conf port 6381 daemonize yes logfile \"6381.log\" dbfilename \"dump-6381.rdb\" slaveof 127.0.0.1 6379 ç„¶åæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ redis-server &lt;config file path&gt; æ¥æ ¹æ®é…ç½®æ–‡ä»¶å¯åŠ¨ä¸åŒçš„ Redis å®ä¾‹ï¼Œä¾æ¬¡å¯åŠ¨ä¸»ä»èŠ‚ç‚¹ï¼š redis-server /usr/local/redis-5.0.3/redis-master.conf redis-server /usr/local/redis-5.0.3/redis-slave1.conf redis-server /usr/local/redis-5.0.3/redis-slave2.conf èŠ‚ç‚¹å¯åŠ¨åï¼Œæˆ‘ä»¬æ‰§è¡Œ redis-cli é»˜è®¤è¿æ¥åˆ°æˆ‘ä»¬ç«¯å£ä¸º 6379 çš„ä¸»èŠ‚ç‚¹æ‰§è¡Œ info Replication æ£€æŸ¥ä¸€ä¸‹ä¸»ä»çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼š(å¯ä»¥çœ‹åˆ°ä¸‹æ–¹æ­£ç¡®åœ°æ˜¾ç¤ºäº†ä¸¤ä¸ªä»èŠ‚ç‚¹) ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå“¨å…µèŠ‚ç‚¹é…ç½®æ–‡ä»¶å¹¶å¯åŠ¨æŒ‰ç…§ä¸Šé¢åŒæ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç»™å“¨å…µèŠ‚ç‚¹ä¹Ÿåˆ›å»ºä¸‰ä¸ªé…ç½®æ–‡ä»¶ã€‚(å“¨å…µèŠ‚ç‚¹æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šçš„ Redis èŠ‚ç‚¹ï¼Œæ‰€ä»¥é…ç½®å‡ ä¹æ²¡ä»€ä¹ˆå·®åˆ«ï¼Œåªæ˜¯åœ¨ç«¯å£ä¸ŠåšåŒºåˆ†å°±å¥½) # redis-sentinel-1.conf port 26379 daemonize yes logfile \"26379.log\" sentinel monitor mymaster 127.0.0.1 6379 2 # redis-sentinel-2.conf port 26380 daemonize yes logfile \"26380.log\" sentinel monitor mymaster 127.0.0.1 6379 2 # redis-sentinel-3.conf port 26381 daemonize yes logfile \"26381.log\" sentinel monitor mymaster 127.0.0.1 6379 2 å…¶ä¸­ï¼Œsentinel monitor mymaster 127.0.0.1 6379 2 é…ç½®çš„å«ä¹‰æ˜¯ï¼šè¯¥å“¨å…µèŠ‚ç‚¹ç›‘æ§ 127.0.0.1:6379 è¿™ä¸ªä¸»èŠ‚ç‚¹ï¼Œè¯¥ä¸»èŠ‚ç‚¹çš„åç§°æ˜¯ mymasterï¼Œæœ€åçš„ 2 çš„å«ä¹‰ä¸ä¸»èŠ‚ç‚¹çš„æ•…éšœåˆ¤å®šæœ‰å…³ï¼šè‡³å°‘éœ€è¦ 2 ä¸ªå“¨å…µèŠ‚ç‚¹åŒæ„ï¼Œæ‰èƒ½åˆ¤å®šä¸»èŠ‚ç‚¹æ•…éšœå¹¶è¿›è¡Œæ•…éšœè½¬ç§»ã€‚ æ‰§è¡Œä¸‹æ–¹å‘½ä»¤å°†å“¨å…µèŠ‚ç‚¹å¯åŠ¨èµ·æ¥ï¼š redis-server /usr/local/redis-5.0.3/redis-sentinel-1.conf --sentinel redis-server /usr/local/redis-5.0.3/redis-sentinel-2.conf --sentinel redis-server /usr/local/redis-5.0.3/redis-sentinel-3.conf --sentinel ä½¿ç”¨ redis-cil å·¥å…·è¿æ¥å“¨å…µèŠ‚ç‚¹ï¼Œå¹¶æ‰§è¡Œ info Sentinel å‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦å·²ç»åœ¨ç›‘è§†ä¸»èŠ‚ç‚¹äº†ï¼š # è¿æ¥ç«¯å£ä¸º 26379 çš„ Redis èŠ‚ç‚¹ âœ ~ redis-cli -p 26379 127.0.0.1:26379> info Sentinel # Sentinel sentinel_masters:1 sentinel_tilt:0 sentinel_running_scripts:0 sentinel_scripts_queue_length:0 sentinel_simulate_failure_flags:0 master0:name=mymaster,status=ok,address=127.0.0.1:6379,slaves=2,sentinels=3 æ­¤æ—¶ä½ æ‰“å¼€åˆšæ‰å†™å¥½çš„å“¨å…µé…ç½®æ–‡ä»¶ï¼Œä½ è¿˜ä¼šå‘ç°å‡ºç°äº†ä¸€äº›å˜åŒ–ï¼š ç¬¬ä¸‰æ­¥ï¼šæ¼”ç¤ºæ•…éšœè½¬ç§»é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ kill -9 å‘½ä»¤æ¥æ€æ‰ä¸»èŠ‚ç‚¹ï¼ŒåŒæ—¶ åœ¨å“¨å…µèŠ‚ç‚¹ä¸­æ‰§è¡Œ info Sentinel å‘½ä»¤æ¥è§‚å¯Ÿæ•…éšœèŠ‚ç‚¹çš„è¿‡ç¨‹ï¼š âœ ~ ps aux | grep 6379 longtao 74529 0.3 0.0 4346936 2132 ?? Ss 10:30ä¸Šåˆ 0:03.09 redis-server *:26379 [sentinel] longtao 73541 0.2 0.0 4348072 2292 ?? Ss 10:18ä¸Šåˆ 0:04.79 redis-server *:6379 longtao 75521 0.0 0.0 4286728 728 s008 S+ 10:39ä¸Šåˆ 0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn 6379 longtao 74836 0.0 0.0 4289844 944 s006 S+ 10:32ä¸Šåˆ 0:00.01 redis-cli -p 26379 âœ ~ kill -9 73541 å¦‚æœ åˆšæ€æ‰ç¬é—´ åœ¨å“¨å…µèŠ‚ç‚¹ä¸­æ‰§è¡Œ info å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œä¼šå‘ç°ä¸»èŠ‚ç‚¹è¿˜æ²¡æœ‰åˆ‡æ¢è¿‡æ¥ï¼Œå› ä¸ºå“¨å…µå‘ç°ä¸»èŠ‚ç‚¹æ•…éšœå¹¶è½¬ç§»éœ€è¦ä¸€æ®µæ—¶é—´ï¼š # ç¬¬ä¸€æ—¶é—´æŸ¥çœ‹å“¨å…µèŠ‚ç‚¹å‘ç°å¹¶æœªè½¬ç§»ï¼Œè¿˜åœ¨ 6379 ç«¯å£ 127.0.0.1:26379> info Sentinel # Sentinel sentinel_masters:1 sentinel_tilt:0 sentinel_running_scripts:0 sentinel_scripts_queue_length:0 sentinel_simulate_failure_flags:0 master0:name=mymaster,status=ok,address=127.0.0.1:6379,slaves=2,sentinels=3 ä¸€æ®µæ—¶é—´ä¹‹åä½ å†æ‰§è¡Œ info å‘½ä»¤ï¼ŒæŸ¥çœ‹ï¼Œä½ å°±ä¼šå‘ç°ä¸»èŠ‚ç‚¹å·²ç»åˆ‡æ¢æˆäº† 6381 ç«¯å£çš„ä»èŠ‚ç‚¹ï¼š # è¿‡ä¸€æ®µæ—¶é—´ä¹‹ååœ¨æ‰§è¡Œï¼Œå‘ç°å·²ç»åˆ‡æ¢äº† 6381 ç«¯å£ 127.0.0.1:26379> info Sentinel # Sentinel sentinel_masters:1 sentinel_tilt:0 sentinel_running_scripts:0 sentinel_scripts_queue_length:0 sentinel_simulate_failure_flags:0 master0:name=mymaster,status=ok,address=127.0.0.1:6381,slaves=2,sentinels=3 ä½†åŒæ—¶è¿˜å¯ä»¥å‘ç°ï¼Œå“¨å…µèŠ‚ç‚¹è®¤ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ä»ç„¶æœ‰ä¸¤ä¸ªä»èŠ‚ç‚¹ (ä¸Šæ–¹ slaves=2)ï¼Œè¿™æ˜¯å› ä¸ºå“¨å…µåœ¨å°† 6381 åˆ‡æ¢æˆä¸»èŠ‚ç‚¹çš„åŒæ—¶ï¼Œå°† 6379 èŠ‚ç‚¹ç½®ä¸ºå…¶ä»èŠ‚ç‚¹ã€‚è™½ç„¶ 6379 ä»èŠ‚ç‚¹å·²ç»æŒ‚æ‰ï¼Œä½†æ˜¯ç”±äº å“¨å…µå¹¶ä¸ä¼šå¯¹ä»èŠ‚ç‚¹è¿›è¡Œå®¢è§‚ä¸‹çº¿ï¼Œå› æ­¤è®¤ä¸ºè¯¥ä»èŠ‚ç‚¹ä¸€ç›´å­˜åœ¨ã€‚å½“ 6379 èŠ‚ç‚¹é‡æ–°å¯åŠ¨åï¼Œä¼šè‡ªåŠ¨å˜æˆ 6381 èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ã€‚ å¦å¤–ï¼Œåœ¨æ•…éšœè½¬ç§»çš„é˜¶æ®µï¼Œå“¨å…µå’Œä¸»ä»èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶éƒ½ä¼šè¢«æ”¹å†™ï¼š å¯¹äºä¸»ä»èŠ‚ç‚¹ï¼š ä¸»è¦æ˜¯ slaveof é…ç½®çš„å˜åŒ–ï¼Œæ–°çš„ä¸»èŠ‚ç‚¹æ²¡æœ‰äº† slaveof é…ç½®ï¼Œå…¶ä»èŠ‚ç‚¹åˆ™ slaveof æ–°çš„ä¸»èŠ‚ç‚¹ã€‚ å¯¹äºå“¨å…µèŠ‚ç‚¹ï¼š é™¤äº†ä¸»ä»èŠ‚ç‚¹ä¿¡æ¯çš„å˜åŒ–ï¼Œçºªå…ƒ(epoch) (è®°å½•å½“å‰é›†ç¾¤çŠ¶æ€çš„å‚æ•°) ä¹Ÿä¼šå˜åŒ–ï¼Œçºªå…ƒç›¸å…³çš„å‚æ•°éƒ½ +1 äº†ã€‚ å®¢æˆ·ç«¯è®¿é—®å“¨å…µç³»ç»Ÿä»£ç æ¼”ç¤ºä¸Šé¢æˆ‘ä»¬åœ¨ å¿«é€Ÿä½“éªŒ ä¸­ä¸»è¦æ„Ÿå—åˆ°äº†æœåŠ¡ç«¯è‡ªå·±å¯¹äºå½“å‰ä¸»ä»èŠ‚ç‚¹çš„è‡ªåŠ¨åŒ–æ²»ç†ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥ Java ä»£ç ä¸ºä¾‹ï¼Œæ¥æ¼”ç¤ºä¸€ä¸‹å®¢æˆ·ç«¯å¦‚ä½•è®¿é—®æˆ‘ä»¬çš„å“¨å…µç³»ç»Ÿï¼š public static void testSentinel() throws Exception { String masterName = \"mymaster\"; Set&lt;String> sentinels = new HashSet&lt;>(); sentinels.add(\"127.0.0.1:26379\"); sentinels.add(\"127.0.0.1:26380\"); sentinels.add(\"127.0.0.1:26381\"); // åˆå§‹åŒ–è¿‡ç¨‹åšäº†å¾ˆå¤šå·¥ä½œ JedisSentinelPool pool = new JedisSentinelPool(masterName, sentinels); Jedis jedis = pool.getResource(); jedis.set(\"key1\", \"value1\"); pool.close(); } å®¢æˆ·ç«¯åŸç†Jedis å®¢æˆ·ç«¯å¯¹å“¨å…µæä¾›äº†å¾ˆå¥½çš„æ”¯æŒã€‚å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œæˆ‘ä»¬åªéœ€è¦å‘ Jedis æä¾›å“¨å…µèŠ‚ç‚¹é›†åˆå’Œ masterName ï¼Œæ„é€  JedisSentinelPool å¯¹è±¡ï¼Œç„¶åä¾¿å¯ä»¥åƒä½¿ç”¨æ™®é€š Redis è¿æ¥æ± ä¸€æ ·æ¥ä½¿ç”¨äº†ï¼šé€šè¿‡ pool.getResource() è·å–è¿æ¥ï¼Œæ‰§è¡Œå…·ä½“çš„å‘½ä»¤ã€‚ åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„ä»£ç ä¸éœ€è¦æ˜¾å¼çš„æŒ‡å®šä¸»èŠ‚ç‚¹çš„åœ°å€ï¼Œå°±å¯ä»¥è¿æ¥åˆ°ä¸»èŠ‚ç‚¹ï¼›ä»£ç ä¸­å¯¹æ•…éšœè½¬ç§»æ²¡æœ‰ä»»ä½•ä½“ç°ï¼Œå°±å¯ä»¥åœ¨å“¨å…µå®Œæˆæ•…éšœè½¬ç§»åè‡ªåŠ¨çš„åˆ‡æ¢ä¸»èŠ‚ç‚¹ã€‚ä¹‹æ‰€ä»¥å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯å› ä¸ºåœ¨ JedisSentinelPool çš„æ„é€ å™¨ä¸­ï¼Œè¿›è¡Œäº†ç›¸å…³çš„å·¥ä½œï¼›ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š éå†å“¨å…µèŠ‚ç‚¹ï¼Œè·å–ä¸»èŠ‚ç‚¹ä¿¡æ¯ï¼š éå†å“¨å…µèŠ‚ç‚¹ï¼Œé€šè¿‡å…¶ä¸­ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ + masterName è·å¾—ä¸»èŠ‚ç‚¹çš„ä¿¡æ¯ï¼›è¯¥åŠŸèƒ½æ˜¯é€šè¿‡è°ƒç”¨å“¨å…µèŠ‚ç‚¹çš„ sentinel get-master-addr-by-name å‘½ä»¤å®ç°ï¼› å¢åŠ å¯¹å“¨å…µçš„ç›‘å¬ï¼š è¿™æ ·å½“å‘ç”Ÿæ•…éšœè½¬ç§»æ—¶ï¼Œå®¢æˆ·ç«¯ä¾¿å¯ä»¥æ”¶åˆ°å“¨å…µçš„é€šçŸ¥ï¼Œä»è€Œå®Œæˆä¸»èŠ‚ç‚¹çš„åˆ‡æ¢ã€‚å…·ä½“åšæ³•æ˜¯ï¼šåˆ©ç”¨ Redis æä¾›çš„ å‘å¸ƒè®¢é˜… åŠŸèƒ½ï¼Œä¸ºæ¯ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹å¼€å¯ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼Œè®¢é˜…å“¨å…µèŠ‚ç‚¹çš„ + switch-master é¢‘é“ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œé‡æ–°åˆå§‹åŒ–è¿æ¥æ± ã€‚ æ–°çš„ä¸»æœåŠ¡å™¨æ˜¯æ€æ ·è¢«æŒ‘é€‰å‡ºæ¥çš„ï¼Ÿæ•…éšœè½¬ç§»æ“ä½œçš„ç¬¬ä¸€æ­¥ è¦åšçš„å°±æ˜¯åœ¨å·²ä¸‹çº¿ä¸»æœåŠ¡å™¨å±ä¸‹çš„æ‰€æœ‰ä»æœåŠ¡å™¨ä¸­ï¼ŒæŒ‘é€‰å‡ºä¸€ä¸ªçŠ¶æ€è‰¯å¥½ã€æ•°æ®å®Œæ•´çš„ä»æœåŠ¡å™¨ï¼Œç„¶åå‘è¿™ä¸ªä»æœåŠ¡å™¨å‘é€ slaveof no one å‘½ä»¤ï¼Œå°†è¿™ä¸ªä»æœåŠ¡å™¨è½¬æ¢ä¸ºä¸»æœåŠ¡å™¨ã€‚ä½†æ˜¯è¿™ä¸ªä»æœåŠ¡å™¨æ˜¯æ€ä¹ˆæ ·è¢«æŒ‘é€‰å‡ºæ¥çš„å‘¢ï¼Ÿ ç®€å•æ¥è¯´ Sentinel ä½¿ç”¨ä»¥ä¸‹è§„åˆ™æ¥é€‰æ‹©æ–°çš„ä¸»æœåŠ¡å™¨ï¼š åœ¨å¤±æ•ˆä¸»æœåŠ¡å™¨å±ä¸‹çš„ä»æœåŠ¡å™¨å½“ä¸­ï¼Œ é‚£äº›è¢«æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€å·²æ–­çº¿ã€æˆ–è€…æœ€åä¸€æ¬¡å›å¤ PING å‘½ä»¤çš„æ—¶é—´å¤§äºäº”ç§’é’Ÿçš„ä»æœåŠ¡å™¨éƒ½ä¼šè¢« æ·˜æ±°ã€‚ åœ¨å¤±æ•ˆä¸»æœåŠ¡å™¨å±ä¸‹çš„ä»æœåŠ¡å™¨å½“ä¸­ï¼Œ é‚£äº›ä¸å¤±æ•ˆä¸»æœåŠ¡å™¨è¿æ¥æ–­å¼€çš„æ—¶é•¿è¶…è¿‡ down-after é€‰é¡¹æŒ‡å®šçš„æ—¶é•¿åå€çš„ä»æœåŠ¡å™¨éƒ½ä¼šè¢« æ·˜æ±°ã€‚ åœ¨ ç»å†äº†ä»¥ä¸Šä¸¤è½®æ·˜æ±°ä¹‹å å‰©ä¸‹æ¥çš„ä»æœåŠ¡å™¨ä¸­ï¼Œ æˆ‘ä»¬é€‰å‡º å¤åˆ¶åç§»é‡ï¼ˆreplication offsetï¼‰æœ€å¤§ çš„é‚£ä¸ª ä»æœåŠ¡å™¨ ä½œä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ï¼›å¦‚æœå¤åˆ¶åç§»é‡ä¸å¯ç”¨ï¼Œæˆ–è€…ä»æœåŠ¡å™¨çš„å¤åˆ¶åç§»é‡ç›¸åŒï¼Œé‚£ä¹ˆ å¸¦æœ‰æœ€å°è¿è¡Œ ID çš„é‚£ä¸ªä»æœåŠ¡å™¨æˆä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ã€‚ å››ã€Redis é›†ç¾¤ ä¸Šå›¾ å±•ç¤ºäº† Redis Cluster å…¸å‹çš„æ¶æ„å›¾ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸€ä¸ª Redis èŠ‚ç‚¹éƒ½ äº’ç›¸ä¸¤ä¸¤ç›¸è¿ï¼Œå®¢æˆ·ç«¯ä»»æ„ ç›´è¿ åˆ°é›†ç¾¤ä¸­çš„ ä»»æ„ä¸€å°ï¼Œå°±å¯ä»¥å¯¹å…¶ä»– Redis èŠ‚ç‚¹è¿›è¡Œ è¯»å†™ çš„æ“ä½œã€‚ åŸºæœ¬åŸç† Redis é›†ç¾¤ä¸­å†…ç½®äº† 16384 ä¸ªå“ˆå¸Œæ§½ã€‚å½“å®¢æˆ·ç«¯è¿æ¥åˆ° Redis é›†ç¾¤ä¹‹åï¼Œä¼šåŒæ—¶å¾—åˆ°ä¸€ä»½å…³äºè¿™ä¸ª é›†ç¾¤çš„é…ç½®ä¿¡æ¯ï¼Œå½“å®¢æˆ·ç«¯å…·ä½“å¯¹æŸä¸€ä¸ª key å€¼è¿›è¡Œæ“ä½œæ—¶ï¼Œä¼šè®¡ç®—å‡ºå®ƒçš„ä¸€ä¸ª Hash å€¼ï¼Œç„¶åæŠŠç»“æœå¯¹ 16384 æ±‚ä½™æ•°ï¼Œè¿™æ ·æ¯ä¸ª key éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç¼–å·åœ¨ 0-16383 ä¹‹é—´çš„å“ˆå¸Œæ§½ï¼ŒRedis ä¼šæ ¹æ®èŠ‚ç‚¹æ•°é‡ å¤§è‡´å‡ç­‰ çš„å°†å“ˆå¸Œæ§½æ˜ å°„åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚ å†ç»“åˆé›†ç¾¤çš„é…ç½®ä¿¡æ¯å°±èƒ½å¤ŸçŸ¥é“è¿™ä¸ª key å€¼åº”è¯¥å­˜å‚¨åœ¨å“ªä¸€ä¸ªå…·ä½“çš„ Redis èŠ‚ç‚¹ä¸­ï¼Œå¦‚æœä¸å±äºè‡ªå·±ç®¡ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„ MOVED å‘½ä»¤æ¥è¿›è¡Œä¸€ä¸ªè·³è½¬ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å»è¿æ¥è¿™ä¸ªèŠ‚ç‚¹ä»¥è·å–æ•°æ®ï¼š GET x -MOVED 3999 127.0.0.1:6381 MOVED æŒ‡ä»¤ç¬¬ä¸€ä¸ªå‚æ•° 3999 æ˜¯ key å¯¹åº”çš„æ§½ä½ç¼–å·ï¼Œåé¢æ˜¯ç›®æ ‡èŠ‚ç‚¹åœ°å€ï¼ŒMOVED å‘½ä»¤å‰é¢æœ‰ä¸€ä¸ªå‡å·ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé”™è¯¯çš„æ¶ˆæ¯ã€‚å®¢æˆ·ç«¯åœ¨æ”¶åˆ° MOVED æŒ‡ä»¤åï¼Œå°±ç«‹å³çº æ­£æœ¬åœ°çš„ æ§½ä½æ˜ å°„è¡¨ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å†è®¿é—® key æ—¶å°±èƒ½å¤Ÿåˆ°æ­£ç¡®çš„åœ°æ–¹å»è·å–äº†ã€‚ é›†ç¾¤çš„ä¸»è¦ä½œç”¨ æ•°æ®åˆ†åŒºï¼š æ•°æ®åˆ†åŒº (æˆ–ç§°æ•°æ®åˆ†ç‰‡) æ˜¯é›†ç¾¤æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚é›†ç¾¤å°†æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œä¸€æ–¹é¢ çªç ´äº† Redis å•æœºå†…å­˜å¤§å°çš„é™åˆ¶ï¼Œå­˜å‚¨å®¹é‡å¤§å¤§å¢åŠ ï¼›å¦ä¸€æ–¹é¢ æ¯ä¸ªä¸»èŠ‚ç‚¹éƒ½å¯ä»¥å¯¹å¤–æä¾›è¯»æœåŠ¡å’Œå†™æœåŠ¡ï¼Œå¤§å¤§æé«˜äº†é›†ç¾¤çš„å“åº”èƒ½åŠ›ã€‚Redis å•æœºå†…å­˜å¤§å°å—é™é—®é¢˜ï¼Œåœ¨ä»‹ç»æŒä¹…åŒ–å’Œä¸»ä»å¤åˆ¶æ—¶éƒ½æœ‰æåŠï¼Œä¾‹å¦‚ï¼Œå¦‚æœå•æœºå†…å­˜å¤ªå¤§ï¼Œbgsave å’Œ bgrewriteaof çš„ fork æ“ä½œå¯èƒ½å¯¼è‡´ä¸»è¿›ç¨‹é˜»å¡ï¼Œä¸»ä»ç¯å¢ƒä¸‹ä¸»æœºåˆ‡æ¢æ—¶å¯èƒ½å¯¼è‡´ä»èŠ‚ç‚¹é•¿æ—¶é—´æ— æ³•æä¾›æœåŠ¡ï¼Œå…¨é‡å¤åˆ¶é˜¶æ®µä¸»èŠ‚ç‚¹çš„å¤åˆ¶ç¼“å†²åŒºå¯èƒ½æº¢å‡ºâ€¦â€¦ é«˜å¯ç”¨ï¼š é›†ç¾¤æ”¯æŒä¸»ä»å¤åˆ¶å’Œä¸»èŠ‚ç‚¹çš„ è‡ªåŠ¨æ•…éšœè½¬ç§» ï¼ˆä¸å“¨å…µç±»ä¼¼ï¼‰ï¼Œå½“ä»»ä¸€èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œé›†ç¾¤ä»ç„¶å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ã€‚ å¿«é€Ÿä½“éªŒç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé›†ç¾¤èŠ‚ç‚¹é…ç½®æ–‡ä»¶é¦–å…ˆæˆ‘ä»¬æ‰¾ä¸€ä¸ªåœ°æ–¹åˆ›å»ºä¸€ä¸ªåä¸º redis-cluster çš„ç›®å½•ï¼š mkdir -p ~/Desktop/redis-cluster ç„¶åæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•ï¼Œåˆ›å»ºå…­ä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«å‘½åä¸ºï¼šredis_7000.conf/redis_7001.confâ€¦..redis_7005.confï¼Œç„¶åæ ¹æ®ä¸åŒçš„ç«¯å£å·ä¿®æ”¹å¯¹åº”çš„ç«¯å£å€¼å°±å¥½äº†ï¼š # åå°æ‰§è¡Œ daemonize yes # ç«¯å£å· port 7000 # ä¸ºæ¯ä¸€ä¸ªé›†ç¾¤èŠ‚ç‚¹æŒ‡å®šä¸€ä¸ª pid_file pidfile ~/Desktop/redis-cluster/redis_7000.pid # å¯åŠ¨é›†ç¾¤æ¨¡å¼ cluster-enabled yes # æ¯ä¸€ä¸ªé›†ç¾¤èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¸èƒ½æ‰‹åŠ¨ç¼–è¾‘çš„ã€‚ç¡®ä¿æ¯ä¸€ä¸ªé›†ç¾¤èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ä¸é€š cluster-config-file nodes-7000.conf # é›†ç¾¤èŠ‚ç‚¹çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šmsï¼Œè¶…æ—¶åé›†ç¾¤ä¼šè®¤ä¸ºè¯¥èŠ‚ç‚¹å¤±è´¥ cluster-node-timeout 5000 # æœ€åå°† appendonly æ”¹æˆ yes(AOF æŒä¹…åŒ–) appendonly yes è®°å¾—æŠŠå¯¹åº”ä¸Šè¿°é…ç½®æ–‡ä»¶ä¸­æ ¹ç«¯å£å¯¹åº”çš„é…ç½®éƒ½ä¿®æ”¹æ‰ (port/ pidfile/ cluster-config-file)ã€‚ ç¬¬äºŒæ­¥ï¼šåˆ†åˆ«å¯åŠ¨ 6 ä¸ª Redis å®ä¾‹redis-server ~/Desktop/redis-cluster/redis_7000.conf redis-server ~/Desktop/redis-cluster/redis_7001.conf redis-server ~/Desktop/redis-cluster/redis_7002.conf redis-server ~/Desktop/redis-cluster/redis_7003.conf redis-server ~/Desktop/redis-cluster/redis_7004.conf redis-server ~/Desktop/redis-cluster/redis_7005.conf ç„¶åæ‰§è¡Œ ps -ef | grep redis æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸï¼š å¯ä»¥çœ‹åˆ° 6 ä¸ª Redis èŠ‚ç‚¹éƒ½ä»¥é›†ç¾¤çš„æ–¹å¼æˆåŠŸå¯åŠ¨äº†ï¼Œä½†æ˜¯ç°åœ¨æ¯ä¸ªèŠ‚ç‚¹è¿˜å¤„äºç‹¬ç«‹çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬æ¯ä¸€ä¸ªéƒ½å„è‡ªæˆäº†ä¸€ä¸ªé›†ç¾¤ï¼Œè¿˜æ²¡æœ‰äº’ç›¸è”ç³»èµ·æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åœ°æŠŠä»–ä»¬ä¹‹é—´å»ºç«‹èµ·è”ç³»ã€‚ ç¬¬ä¸‰æ­¥ï¼šå»ºç«‹é›†ç¾¤æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼š redis-cli --cluster create --cluster-replicas 1 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005 è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹è¿™ä¸ª --replicas 1 çš„æ„æ€æ˜¯ï¼šæˆ‘ä»¬å¸Œæœ›ä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸ªä¸»èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªä»èŠ‚ç‚¹ã€‚ è§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š çœ‹åˆ° [OK] çš„ä¿¡æ¯ä¹‹åï¼Œå°±è¡¨ç¤ºé›†ç¾¤å·²ç»æ­å»ºæˆåŠŸäº†ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬æ­£ç¡®åœ°åˆ›å»ºäº†ä¸‰ä¸»ä¸‰ä»çš„é›†ç¾¤ã€‚ ç¬¬å››æ­¥ï¼šéªŒè¯é›†ç¾¤æˆ‘ä»¬å…ˆä½¿ç”¨ redic-cli ä»»æ„è¿æ¥ä¸€ä¸ªèŠ‚ç‚¹ï¼š redis-cli -c -h 127.0.0.1 -p 7000 127.0.0.1:7000> -cè¡¨ç¤ºé›†ç¾¤æ¨¡å¼ï¼›-h æŒ‡å®š ip åœ°å€ï¼›-p æŒ‡å®šç«¯å£ã€‚ ç„¶åéšä¾¿ set ä¸€äº›å€¼è§‚å¯Ÿæ§åˆ¶å°è¾“å…¥ï¼š 127.0.0.1:7000> SET name wmyskxz -> Redirected to slot [5798] located at 127.0.0.1:7001 OK 127.0.0.1:7001> å¯ä»¥çœ‹åˆ°è¿™é‡Œ Redis è‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œäº† Redirected æ“ä½œè·³è½¬åˆ°äº† 7001 è¿™ä¸ªå®ä¾‹ä¸Šã€‚ æˆ‘ä»¬å†ä½¿ç”¨ cluster info (æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯) å’Œ cluster nodes (æŸ¥çœ‹èŠ‚ç‚¹åˆ—è¡¨) æ¥åˆ†åˆ«çœ‹çœ‹ï¼š(ä»»æ„èŠ‚ç‚¹è¾“å…¥å‡å¯) 127.0.0.1:7001> CLUSTER INFO cluster_state:ok cluster_slots_assigned:16384 cluster_slots_ok:16384 cluster_slots_pfail:0 cluster_slots_fail:0 cluster_known_nodes:6 cluster_size:3 cluster_current_epoch:6 cluster_my_epoch:2 cluster_stats_messages_ping_sent:1365 cluster_stats_messages_pong_sent:1358 cluster_stats_messages_meet_sent:4 cluster_stats_messages_sent:2727 cluster_stats_messages_ping_received:1357 cluster_stats_messages_pong_received:1369 cluster_stats_messages_meet_received:1 cluster_stats_messages_received:2727 127.0.0.1:7001> CLUSTER NODES 56a04742f36c6e84968cae871cd438935081e86f 127.0.0.1:7003@17003 slave 4ec8c022e9d546c9b51deb9d85f6cf867bf73db6 0 1584428884000 4 connected 4ec8c022e9d546c9b51deb9d85f6cf867bf73db6 127.0.0.1:7000@17000 master - 0 1584428884000 1 connected 0-5460 e2539c4398b8258d3f9ffa714bd778da107cb2cd 127.0.0.1:7005@17005 slave a3406db9ae7144d17eb7df5bffe8b70bb5dd06b8 0 1584428885222 6 connected d31cd1f423ab1e1849cac01ae927e4b6950f55d9 127.0.0.1:7004@17004 slave 236cefaa9cdc295bc60a5bd1aed6a7152d4f384d 0 1584428884209 5 connected 236cefaa9cdc295bc60a5bd1aed6a7152d4f384d 127.0.0.1:7001@17001 myself,master - 0 1584428882000 2 connected 5461-10922 a3406db9ae7144d17eb7df5bffe8b70bb5dd06b8 127.0.0.1:7002@17002 master - 0 1584428884000 3 connected 10923-16383 127.0.0.1:7001> æ•°æ®åˆ†åŒºæ–¹æ¡ˆç®€ææ–¹æ¡ˆä¸€ï¼šå“ˆå¸Œå€¼ % èŠ‚ç‚¹æ•°å“ˆå¸Œå–ä½™åˆ†åŒºæ€è·¯éå¸¸ç®€å•ï¼šè®¡ç®— key çš„ hash å€¼ï¼Œç„¶åå¯¹èŠ‚ç‚¹æ•°é‡è¿›è¡Œå–ä½™ï¼Œä»è€Œå†³å®šæ•°æ®æ˜ å°„åˆ°å“ªä¸ªèŠ‚ç‚¹ä¸Šã€‚ ä¸è¿‡è¯¥æ–¹æ¡ˆæœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œå½“æ–°å¢æˆ–åˆ å‡èŠ‚ç‚¹æ—¶ï¼ŒèŠ‚ç‚¹æ•°é‡å‘ç”Ÿå˜åŒ–ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦ é‡æ–°è®¡ç®—æ˜ å°„å…³ç³»ï¼Œå¼•å‘å¤§è§„æ¨¡æ•°æ®è¿ç§»ã€‚ æ–¹æ¡ˆäºŒï¼šä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å°† æ•´ä¸ªå“ˆå¸Œå€¼ç©ºé—´ ç»„ç»‡æˆä¸€ä¸ªè™šæ‹Ÿçš„åœ†ç¯ï¼ŒèŒƒå›´æ˜¯ *[0 - 232 - 1]*ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ•°æ®ï¼Œæ ¹æ® key è®¡ç®— hash å€¼ï¼Œç¡®æ•°æ®åœ¨ç¯ä¸Šçš„ä½ç½®ï¼Œç„¶åä»æ­¤ä½ç½®æ²¿é¡ºæ—¶é’ˆè¡Œèµ°ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€å°æœåŠ¡å™¨å°±æ˜¯å…¶åº”è¯¥æ˜ å°„åˆ°çš„æœåŠ¡å™¨ï¼š ä¸å“ˆå¸Œå–ä½™åˆ†åŒºç›¸æ¯”ï¼Œä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºå°† å¢å‡èŠ‚ç‚¹çš„å½±å“é™åˆ¶åœ¨ç›¸é‚»èŠ‚ç‚¹ã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¦‚æœåœ¨ node1 å’Œ node2 ä¹‹é—´å¢åŠ  node5ï¼Œåˆ™åªæœ‰ node2 ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ä¼šè¿ç§»åˆ° node5ï¼›å¦‚æœå»æ‰ node2ï¼Œåˆ™åŸ node2 ä¸­çš„æ•°æ®åªä¼šè¿ç§»åˆ° node4 ä¸­ï¼Œåªæœ‰ node4 ä¼šå—å½±å“ã€‚ ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºçš„ä¸»è¦é—®é¢˜åœ¨äºï¼Œå½“ èŠ‚ç‚¹æ•°é‡è¾ƒå°‘ æ—¶ï¼Œå¢åŠ æˆ–åˆ å‡èŠ‚ç‚¹ï¼Œå¯¹å•ä¸ªèŠ‚ç‚¹çš„å½±å“å¯èƒ½å¾ˆå¤§ï¼Œé€ æˆæ•°æ®çš„ä¸¥é‡ä¸å¹³è¡¡ã€‚è¿˜æ˜¯ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¦‚æœå»æ‰ node2ï¼Œnode4 ä¸­çš„æ•°æ®ç”±æ€»æ•°æ®çš„ 1/4 å·¦å³å˜ä¸º 1/2 å·¦å³ï¼Œä¸å…¶ä»–èŠ‚ç‚¹ç›¸æ¯”è´Ÿè½½è¿‡é«˜ã€‚ æ–¹æ¡ˆä¸‰ï¼šå¸¦æœ‰è™šæ‹ŸèŠ‚ç‚¹çš„ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºè¯¥æ–¹æ¡ˆåœ¨ ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºçš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº† è™šæ‹ŸèŠ‚ç‚¹ çš„æ¦‚å¿µã€‚Redis é›†ç¾¤ä½¿ç”¨çš„ä¾¿æ˜¯è¯¥æ–¹æ¡ˆï¼Œå…¶ä¸­çš„è™šæ‹ŸèŠ‚ç‚¹ç§°ä¸º æ§½ï¼ˆslotï¼‰ã€‚æ§½æ˜¯ä»‹äºæ•°æ®å’Œå®é™…èŠ‚ç‚¹ä¹‹é—´çš„è™šæ‹Ÿæ¦‚å¿µï¼Œæ¯ä¸ªå®é™…èŠ‚ç‚¹åŒ…å«ä¸€å®šæ•°é‡çš„æ§½ï¼Œæ¯ä¸ªæ§½åŒ…å«å“ˆå¸Œå€¼åœ¨ä¸€å®šèŒƒå›´å†…çš„æ•°æ®ã€‚ åœ¨ä½¿ç”¨äº†æ§½çš„ä¸€è‡´æ€§å“ˆå¸Œåˆ†åŒºä¸­ï¼Œæ§½æ˜¯æ•°æ®ç®¡ç†å’Œè¿ç§»çš„åŸºæœ¬å•ä½ã€‚æ§½ è§£è€¦ äº† æ•°æ®å’Œå®é™…èŠ‚ç‚¹ ä¹‹é—´çš„å…³ç³»ï¼Œå¢åŠ æˆ–åˆ é™¤èŠ‚ç‚¹å¯¹ç³»ç»Ÿçš„å½±å“å¾ˆå°ã€‚ä»ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œç³»ç»Ÿä¸­æœ‰ 4 ä¸ªå®é™…èŠ‚ç‚¹ï¼Œå‡è®¾ä¸ºå…¶åˆ†é… 16 ä¸ªæ§½(0-15)ï¼› æ§½ 0-3 ä½äº node1ï¼›4-7 ä½äº node2ï¼›ä»¥æ­¤ç±»æ¨â€¦. å¦‚æœæ­¤æ—¶åˆ é™¤ node2ï¼Œåªéœ€è¦å°†æ§½ 4-7 é‡æ–°åˆ†é…å³å¯ï¼Œä¾‹å¦‚æ§½ 4-5 åˆ†é…ç»™ node1ï¼Œæ§½ 6 åˆ†é…ç»™ node3ï¼Œæ§½ 7 åˆ†é…ç»™ node4ï¼›å¯ä»¥çœ‹å‡ºåˆ é™¤ node2 åï¼Œæ•°æ®åœ¨å…¶ä»–èŠ‚ç‚¹çš„åˆ†å¸ƒä»ç„¶è¾ƒä¸ºå‡è¡¡ã€‚ èŠ‚ç‚¹é€šä¿¡æœºåˆ¶ç®€æé›†ç¾¤çš„å»ºç«‹ç¦»ä¸å¼€èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¸Šè®¿åœ¨ å¿«é€Ÿä½“éªŒ ä¸­åˆšå¯åŠ¨å…­ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¹‹åé€šè¿‡ redis-cli å‘½ä»¤å¸®åŠ©æˆ‘ä»¬æ­å»ºèµ·æ¥äº†é›†ç¾¤ï¼Œå®é™…ä¸ŠèƒŒåæ¯ä¸ªé›†ç¾¤ä¹‹é—´çš„ä¸¤ä¸¤è¿æ¥æ˜¯é€šè¿‡äº† CLUSTER MEET &lt;ip&gt; &lt;port&gt; å‘½ä»¤å‘é€ MEET æ¶ˆæ¯å®Œæˆçš„ï¼Œä¸‹é¢æˆ‘ä»¬å±•å¼€è¯¦ç»†è¯´è¯´ã€‚ ä¸¤ä¸ªç«¯å£åœ¨ å“¨å…µç³»ç»Ÿ ä¸­ï¼ŒèŠ‚ç‚¹åˆ†ä¸º æ•°æ®èŠ‚ç‚¹ å’Œ å“¨å…µèŠ‚ç‚¹ï¼šå‰è€…å­˜å‚¨æ•°æ®ï¼Œåè€…å®ç°é¢å¤–çš„æ§åˆ¶åŠŸèƒ½ã€‚åœ¨ é›†ç¾¤ ä¸­ï¼Œæ²¡æœ‰æ•°æ®èŠ‚ç‚¹ä¸éæ•°æ®èŠ‚ç‚¹ä¹‹åˆ†ï¼šæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®ï¼Œä¹Ÿéƒ½å‚ä¸é›†ç¾¤çŠ¶æ€çš„ç»´æŠ¤ã€‚ä¸ºæ­¤ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œéƒ½æä¾›äº†ä¸¤ä¸ª TCP ç«¯å£ï¼š æ™®é€šç«¯å£ï¼š å³æˆ‘ä»¬åœ¨å‰é¢æŒ‡å®šçš„ç«¯å£ (7000ç­‰)ã€‚æ™®é€šç«¯å£ä¸»è¦ç”¨äºä¸ºå®¢æˆ·ç«¯æä¾›æœåŠ¡ ï¼ˆä¸å•æœºèŠ‚ç‚¹ç±»ä¼¼ï¼‰ï¼›ä½†åœ¨èŠ‚ç‚¹é—´æ•°æ®è¿ç§»æ—¶ä¹Ÿä¼šä½¿ç”¨ã€‚ é›†ç¾¤ç«¯å£ï¼š ç«¯å£å·æ˜¯æ™®é€šç«¯å£ + 10000 ï¼ˆ10000æ˜¯å›ºå®šå€¼ï¼Œæ— æ³•æ”¹å˜ï¼‰ï¼Œå¦‚ 7000 èŠ‚ç‚¹çš„é›†ç¾¤ç«¯å£ä¸º 17000ã€‚é›†ç¾¤ç«¯å£åªç”¨äºèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼Œå¦‚æ­å»ºé›†ç¾¤ã€å¢å‡èŠ‚ç‚¹ã€æ•…éšœè½¬ç§»ç­‰æ“ä½œæ—¶èŠ‚ç‚¹é—´çš„é€šä¿¡ï¼›ä¸è¦ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥é›†ç¾¤æ¥å£ã€‚ä¸ºäº†ä¿è¯é›†ç¾¤å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œåœ¨é…ç½®é˜²ç«å¢™æ—¶ï¼Œè¦åŒæ—¶å¼€å¯æ™®é€šç«¯å£å’Œé›†ç¾¤ç«¯å£ã€‚ Gossip åè®®èŠ‚ç‚¹é—´é€šä¿¡ï¼ŒæŒ‰ç…§é€šä¿¡åè®®å¯ä»¥åˆ†ä¸ºå‡ ç§ç±»å‹ï¼šå•å¯¹å•ã€å¹¿æ’­ã€Gossip åè®®ç­‰ã€‚é‡ç‚¹æ˜¯å¹¿æ’­å’Œ Gossip çš„å¯¹æ¯”ã€‚ å¹¿æ’­æ˜¯æŒ‡å‘é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹å‘é€æ¶ˆæ¯ã€‚ä¼˜ç‚¹ æ˜¯é›†ç¾¤çš„æ”¶æ•›é€Ÿåº¦å¿«(é›†ç¾¤æ”¶æ•›æ˜¯æŒ‡é›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹è·å¾—çš„é›†ç¾¤ä¿¡æ¯æ˜¯ä¸€è‡´çš„)ï¼Œç¼ºç‚¹ æ˜¯æ¯æ¡æ¶ˆæ¯éƒ½è¦å‘é€ç»™æ‰€æœ‰èŠ‚ç‚¹ï¼ŒCPUã€å¸¦å®½ç­‰æ¶ˆè€—è¾ƒå¤§ã€‚ Gossip åè®®çš„ç‰¹ç‚¹æ˜¯ï¼šåœ¨èŠ‚ç‚¹æ•°é‡æœ‰é™çš„ç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ â€œéšæœºâ€ çš„ä¸éƒ¨åˆ†èŠ‚ç‚¹é€šä¿¡ ï¼ˆå¹¶ä¸æ˜¯çœŸæ­£çš„éšæœºï¼Œè€Œæ˜¯æ ¹æ®ç‰¹å®šçš„è§„åˆ™é€‰æ‹©é€šä¿¡çš„èŠ‚ç‚¹ï¼‰ï¼Œç»è¿‡ä¸€ç•ªæ‚ä¹±æ— ç« çš„é€šä¿¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å¾ˆå¿«ä¼šè¾¾åˆ°ä¸€è‡´ã€‚Gossip åè®®çš„ *ä¼˜ç‚¹** æœ‰è´Ÿè½½ *(æ¯”å¹¿æ’­) ä½ã€å»ä¸­å¿ƒåŒ–ã€å®¹é”™æ€§é«˜ (å› ä¸ºé€šä¿¡æœ‰å†—ä½™) ç­‰ï¼›ç¼ºç‚¹ ä¸»è¦æ˜¯é›†ç¾¤çš„æ”¶æ•›é€Ÿåº¦æ…¢ã€‚ æ¶ˆæ¯ç±»å‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹é‡‡ç”¨ å›ºå®šé¢‘ç‡ï¼ˆæ¯ç§’10æ¬¡ï¼‰ çš„ å®šæ—¶ä»»åŠ¡ è¿›è¡Œé€šä¿¡ç›¸å…³çš„å·¥ä½œï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦å‘é€æ¶ˆæ¯åŠæ¶ˆæ¯ç±»å‹ã€ç¡®å®šæ¥æ”¶èŠ‚ç‚¹ã€å‘é€æ¶ˆæ¯ç­‰ã€‚å¦‚æœé›†ç¾¤çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚å¢å‡èŠ‚ç‚¹ã€æ§½çŠ¶æ€å˜æ›´ï¼Œé€šè¿‡èŠ‚ç‚¹é—´çš„é€šä¿¡ï¼Œæ‰€æœ‰èŠ‚ç‚¹ä¼šå¾ˆå¿«å¾—çŸ¥æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ï¼Œä½¿é›†ç¾¤æ”¶æ•›ã€‚ èŠ‚ç‚¹é—´å‘é€çš„æ¶ˆæ¯ä¸»è¦åˆ†ä¸º 5 ç§ï¼šmeet æ¶ˆæ¯ã€ping æ¶ˆæ¯ã€pong æ¶ˆæ¯ã€fail æ¶ˆæ¯ã€publish æ¶ˆæ¯ã€‚ä¸åŒçš„æ¶ˆæ¯ç±»å‹ï¼Œé€šä¿¡åè®®ã€å‘é€çš„é¢‘ç‡å’Œæ—¶æœºã€æ¥æ”¶èŠ‚ç‚¹çš„é€‰æ‹©ç­‰æ˜¯ä¸åŒçš„ï¼š MEET æ¶ˆæ¯ï¼š åœ¨èŠ‚ç‚¹æ¡æ‰‹é˜¶æ®µï¼Œå½“èŠ‚ç‚¹æ”¶åˆ°å®¢æˆ·ç«¯çš„ CLUSTER MEET å‘½ä»¤æ—¶ï¼Œä¼šå‘æ–°åŠ å…¥çš„èŠ‚ç‚¹å‘é€ MEET æ¶ˆæ¯ï¼Œè¯·æ±‚æ–°èŠ‚ç‚¹åŠ å…¥åˆ°å½“å‰é›†ç¾¤ï¼›æ–°èŠ‚ç‚¹æ”¶åˆ° MEET æ¶ˆæ¯åä¼šå›å¤ä¸€ä¸ª PONG æ¶ˆæ¯ã€‚ PING æ¶ˆæ¯ï¼š é›†ç¾¤é‡Œæ¯ä¸ªèŠ‚ç‚¹æ¯ç§’é’Ÿä¼šé€‰æ‹©éƒ¨åˆ†èŠ‚ç‚¹å‘é€ PING æ¶ˆæ¯ï¼Œæ¥æ”¶è€…æ”¶åˆ°æ¶ˆæ¯åä¼šå›å¤ä¸€ä¸ª PONG æ¶ˆæ¯ã€‚PING æ¶ˆæ¯çš„å†…å®¹æ˜¯è‡ªèº«èŠ‚ç‚¹å’Œéƒ¨åˆ†å…¶ä»–èŠ‚ç‚¹çš„çŠ¶æ€ä¿¡æ¯ï¼Œä½œç”¨æ˜¯å½¼æ­¤äº¤æ¢ä¿¡æ¯ï¼Œä»¥åŠæ£€æµ‹èŠ‚ç‚¹æ˜¯å¦åœ¨çº¿ã€‚PING æ¶ˆæ¯ä½¿ç”¨ Gossip åè®®å‘é€ï¼Œæ¥æ”¶èŠ‚ç‚¹çš„é€‰æ‹©å…¼é¡¾äº†æ”¶æ•›é€Ÿåº¦å’Œå¸¦å®½æˆæœ¬ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š(1)éšæœºæ‰¾ 5 ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å…¶ä¸­é€‰æ‹©æœ€ä¹…æ²¡æœ‰é€šä¿¡çš„ 1 ä¸ªèŠ‚ç‚¹ï¼›(2)æ‰«æèŠ‚ç‚¹åˆ—è¡¨ï¼Œé€‰æ‹©æœ€è¿‘ä¸€æ¬¡æ”¶åˆ° PONG æ¶ˆæ¯æ—¶é—´å¤§äº cluster_node_timeout / 2 çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œé˜²æ­¢è¿™äº›èŠ‚ç‚¹é•¿æ—¶é—´æœªæ›´æ–°ã€‚ PONGæ¶ˆæ¯ï¼š PONG æ¶ˆæ¯å°è£…äº†è‡ªèº«çŠ¶æ€æ•°æ®ã€‚å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šç¬¬ä¸€ç§ æ˜¯åœ¨æ¥åˆ° MEET/PING æ¶ˆæ¯åå›å¤çš„ PONG æ¶ˆæ¯ï¼›ç¬¬äºŒç§ æ˜¯æŒ‡èŠ‚ç‚¹å‘é›†ç¾¤å¹¿æ’­ PONG æ¶ˆæ¯ï¼Œè¿™æ ·å…¶ä»–èŠ‚ç‚¹å¯ä»¥è·çŸ¥è¯¥èŠ‚ç‚¹çš„æœ€æ–°ä¿¡æ¯ï¼Œä¾‹å¦‚æ•…éšœæ¢å¤åæ–°çš„ä¸»èŠ‚ç‚¹ä¼šå¹¿æ’­ PONG æ¶ˆæ¯ã€‚ FAIL æ¶ˆæ¯ï¼š å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹åˆ¤æ–­å¦ä¸€ä¸ªä¸»èŠ‚ç‚¹è¿›å…¥ FAIL çŠ¶æ€æ—¶ï¼Œä¼šå‘é›†ç¾¤å¹¿æ’­è¿™ä¸€ FAIL æ¶ˆæ¯ï¼›æ¥æ”¶èŠ‚ç‚¹ä¼šå°†è¿™ä¸€ FAIL æ¶ˆæ¯ä¿å­˜èµ·æ¥ï¼Œä¾¿äºåç»­çš„åˆ¤æ–­ã€‚ PUBLISH æ¶ˆæ¯ï¼š èŠ‚ç‚¹æ”¶åˆ° PUBLISH å‘½ä»¤åï¼Œä¼šå…ˆæ‰§è¡Œè¯¥å‘½ä»¤ï¼Œç„¶åå‘é›†ç¾¤å¹¿æ’­è¿™ä¸€æ¶ˆæ¯ï¼Œæ¥æ”¶èŠ‚ç‚¹ä¹Ÿä¼šæ‰§è¡Œè¯¥ PUBLISH å‘½ä»¤ã€‚ æ•°æ®ç»“æ„ç®€æèŠ‚ç‚¹éœ€è¦ä¸“é—¨çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨é›†ç¾¤çš„çŠ¶æ€ã€‚æ‰€è°“é›†ç¾¤çš„çŠ¶æ€ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ï¼šé›†ç¾¤æ˜¯å¦å¤„äºä¸Šçº¿çŠ¶æ€ã€é›†ç¾¤ä¸­æœ‰å“ªäº›èŠ‚ç‚¹ã€èŠ‚ç‚¹æ˜¯å¦å¯è¾¾ã€èŠ‚ç‚¹çš„ä¸»ä»çŠ¶æ€ã€æ§½çš„åˆ†å¸ƒâ€¦â€¦ èŠ‚ç‚¹ä¸ºäº†å­˜å‚¨é›†ç¾¤çŠ¶æ€è€Œæä¾›çš„æ•°æ®ç»“æ„ä¸­ï¼Œæœ€å…³é”®çš„æ˜¯ clusterNode å’Œ clusterState ç»“æ„ï¼šå‰è€…è®°å½•äº†ä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåè€…è®°å½•äº†é›†ç¾¤ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„çŠ¶æ€ã€‚ clusterNode ç»“æ„clusterNode ç»“æ„ä¿å­˜äº† ä¸€ä¸ªèŠ‚ç‚¹çš„å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬åˆ›å»ºæ—¶é—´ã€èŠ‚ç‚¹ idã€ip å’Œç«¯å£å·ç­‰ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šç”¨ä¸€ä¸ª clusterNode ç»“æ„è®°å½•è‡ªå·±çš„çŠ¶æ€ï¼Œå¹¶ä¸ºé›†ç¾¤å†…æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹éƒ½åˆ›å»ºä¸€ä¸ª clusterNode ç»“æ„æ¥è®°å½•èŠ‚ç‚¹çŠ¶æ€ã€‚ ä¸‹é¢åˆ—ä¸¾äº† clusterNode çš„éƒ¨åˆ†å­—æ®µï¼Œå¹¶è¯´æ˜äº†å­—æ®µçš„å«ä¹‰å’Œä½œç”¨ï¼š typedef struct clusterNode { //èŠ‚ç‚¹åˆ›å»ºæ—¶é—´ mstime_t ctime; //èŠ‚ç‚¹id char name[REDIS_CLUSTER_NAMELEN]; //èŠ‚ç‚¹çš„ipå’Œç«¯å£å· char ip[REDIS_IP_STR_LEN]; int port; //èŠ‚ç‚¹æ ‡è¯†ï¼šæ•´å‹ï¼Œæ¯ä¸ªbitéƒ½ä»£è¡¨äº†ä¸åŒçŠ¶æ€ï¼Œå¦‚èŠ‚ç‚¹çš„ä¸»ä»çŠ¶æ€ã€æ˜¯å¦åœ¨çº¿ã€æ˜¯å¦åœ¨æ¡æ‰‹ç­‰ int flags; //é…ç½®çºªå…ƒï¼šæ•…éšœè½¬ç§»æ—¶èµ·ä½œç”¨ï¼Œç±»ä¼¼äºå“¨å…µçš„é…ç½®çºªå…ƒ uint64_t configEpoch; //æ§½åœ¨è¯¥èŠ‚ç‚¹ä¸­çš„åˆ†å¸ƒï¼šå ç”¨16384/8ä¸ªå­—èŠ‚ï¼Œ16384ä¸ªæ¯”ç‰¹ï¼›æ¯ä¸ªæ¯”ç‰¹å¯¹åº”ä¸€ä¸ªæ§½ï¼šæ¯”ç‰¹å€¼ä¸º1ï¼Œåˆ™è¯¥æ¯”ç‰¹å¯¹åº”çš„æ§½åœ¨èŠ‚ç‚¹ä¸­ï¼›æ¯”ç‰¹å€¼ä¸º0ï¼Œåˆ™è¯¥æ¯”ç‰¹å¯¹åº”çš„æ§½ä¸åœ¨èŠ‚ç‚¹ä¸­ unsigned char slots[16384/8]; //èŠ‚ç‚¹ä¸­æ§½çš„æ•°é‡ int numslots; â€¦â€¦â€¦â€¦ } clusterNode; é™¤äº†ä¸Šè¿°å­—æ®µï¼ŒclusterNode è¿˜åŒ…å«èŠ‚ç‚¹è¿æ¥ã€ä¸»ä»å¤åˆ¶ã€æ•…éšœå‘ç°å’Œè½¬ç§»éœ€è¦çš„ä¿¡æ¯ç­‰ã€‚ clusterState ç»“æ„clusterState ç»“æ„ä¿å­˜äº†åœ¨å½“å‰èŠ‚ç‚¹è§†è§’ä¸‹ï¼Œé›†ç¾¤æ‰€å¤„çš„çŠ¶æ€ã€‚ä¸»è¦å­—æ®µåŒ…æ‹¬ï¼š typedef struct clusterState { //è‡ªèº«èŠ‚ç‚¹ clusterNode *myself; //é…ç½®çºªå…ƒ uint64_t currentEpoch; //é›†ç¾¤çŠ¶æ€ï¼šåœ¨çº¿è¿˜æ˜¯ä¸‹çº¿ int state; //é›†ç¾¤ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ§½çš„èŠ‚ç‚¹æ•°é‡ int size; //å“ˆå¸Œè¡¨ï¼ŒèŠ‚ç‚¹åç§°->clusterNodeèŠ‚ç‚¹æŒ‡é’ˆ dict *nodes; //æ§½åˆ†å¸ƒä¿¡æ¯ï¼šæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘clusterNodeç»“æ„çš„æŒ‡é’ˆï¼›å¦‚æœæ§½è¿˜æ²¡æœ‰åˆ†é…ç»™ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸ºNULL clusterNode *slots[16384]; â€¦â€¦â€¦â€¦ } clusterState; é™¤æ­¤ä¹‹å¤–ï¼ŒclusterState è¿˜åŒ…æ‹¬æ•…éšœè½¬ç§»ã€æ§½è¿ç§»ç­‰éœ€è¦çš„ä¿¡æ¯ã€‚ æ›´å¤šå…³äºé›†ç¾¤å†…å®¹è¯·è‡ªè¡Œé˜…è¯»ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹ï¼Œå…¶ä¸­æœ‰æ›´å¤šç»†èŠ‚æ–¹é¢çš„ä»‹ç» - http://redisbook.com/ ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ - https://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/ Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äººhttps://www.wmyskxz.com/2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/ Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘ - https://www.wmyskxz.com/2020/03/13/redis-7-chi-jiu-hua-yi-wen-liao-jie/ Redis(8)â€”â€”å‘å¸ƒ/è®¢é˜…ä¸Stream - https://www.wmyskxz.com/2020/03/15/redis-8-fa-bu-ding-yue-yu-stream/ å‚è€ƒèµ„æ–™ ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹ | é»„å¥å® è‘— - http://redisbook.com/ ã€ŠRedis æ·±åº¦å†é™©ã€‹ | é’±æ–‡å“ è‘— - https://book.douban.com/subject/30386804/ æ·±å…¥å­¦ä¹ Redisï¼ˆ3ï¼‰ï¼šä¸»ä»å¤åˆ¶ - https://www.cnblogs.com/kismetv/p/9236731.html Redis ä¸»ä»å¤åˆ¶ åŸç†ä¸ç”¨æ³• - https://blog.csdn.net/Stubborn_Cow/article/details/50442950 æ·±å…¥å­¦ä¹ Redisï¼ˆ4ï¼‰ï¼šå“¨å…µ - https://www.cnblogs.com/kismetv/p/9609938.html Redis 5 ä¹‹åç‰ˆæœ¬çš„é«˜å¯ç”¨é›†ç¾¤æ­å»º - https://www.jianshu.com/p/8045b92fafb2 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(8)â€”â€”å‘å¸ƒ/è®¢é˜…ä¸Stream","slug":"Redis-8-â€”â€”å‘å¸ƒ-è®¢é˜…ä¸Stream","date":"2020-03-15T10:07:00.000Z","updated":"2020-08-03T09:49:55.085Z","comments":true,"path":"2020/03/15/redis-8-fa-bu-ding-yue-yu-stream/","link":"","permalink":"http://www.wmyskxz.com/2020/03/15/redis-8-fa-bu-ding-yue-yu-stream/","excerpt":"","text":"ä¸€ã€Redis ä¸­çš„å‘å¸ƒ/è®¢é˜…åŠŸèƒ½å‘å¸ƒ/ è®¢é˜…ç³»ç»Ÿ æ˜¯ Web ç³»ç»Ÿä¸­æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ä¸ªåŠŸèƒ½ã€‚ç®€å•ç‚¹è¯´å°±æ˜¯ å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯ï¼Œè®¢é˜…è€…æ¥å—æ¶ˆæ¯ï¼Œè¿™æœ‰ç‚¹ç±»ä¼¼äºæˆ‘ä»¬çš„æŠ¥çº¸/ æ‚å¿—ç¤¾ä¹‹ç±»çš„ï¼š (å€Ÿç”¨å‰è¾¹çš„ä¸€å¼ å›¾) å›¾ç‰‡å¼•ç”¨è‡ªï¼šã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€çœ‹è¿‡æ¥! - https://www.wmyskxz.com/2019/07/16/xiao-xi-dui-lie-kan-guo-lai/ ä»æˆ‘ä»¬ å‰é¢(ä¸‹æ–¹ç›¸å…³é˜…è¯») å­¦ä¹ çš„çŸ¥è¯†æ¥çœ‹ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥ä½¿ç”¨ä¸€ä¸ª list åˆ—è¡¨ç»“æ„ç»“åˆ lpush å’Œ rpop æ¥å®ç°æ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¼¼ä¹å¾ˆéš¾å®ç°å®ç° æ¶ˆæ¯å¤šæ’­ çš„åŠŸèƒ½ï¼š ä¸ºäº†æ”¯æŒæ¶ˆæ¯å¤šæ’­ï¼ŒRedis ä¸èƒ½å†ä¾èµ–äºé‚£ 5 ç§åŸºç¡€çš„æ•°æ®ç»“æ„äº†ï¼Œå®ƒå•ç‹¬ä½¿ç”¨äº†ä¸€ä¸ªæ¨¡å—æ¥æ”¯æŒæ¶ˆæ¯å¤šæ’­ï¼Œè¿™ä¸ªæ¨¡å—å°±æ˜¯ PubSubï¼Œä¹Ÿå°±æ˜¯ PublisherSubscriber (å‘å¸ƒè€…/ è®¢é˜…è€…æ¨¡å¼)ã€‚ PubSub ç®€ä»‹æˆ‘ä»¬ä» ä¸Šé¢çš„å›¾ ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒåŸºäº list ç»“æ„çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ç§ Publisher ä¸ Consumer ç‚¹å¯¹ç‚¹çš„å¼ºå…³è”å…³ç³»ï¼ŒRedis ä¸ºäº†æ¶ˆé™¤è¿™æ ·çš„å¼ºå…³è”ï¼Œå¼•å…¥äº†å¦ä¸€ç§æ¦‚å¿µï¼šé¢‘é“ (channel)ï¼š å½“ Publisher å¾€ channel ä¸­å‘å¸ƒæ¶ˆæ¯æ—¶ï¼Œå…³æ³¨äº†æŒ‡å®š channel çš„ Consumer å°±èƒ½å¤ŸåŒæ—¶å—åˆ°æ¶ˆæ¯ã€‚ä½†è¿™é‡Œçš„ é—®é¢˜ æ˜¯ï¼Œæ¶ˆè´¹è€…è®¢é˜…ä¸€ä¸ªé¢‘é“æ˜¯å¿…é¡» æ˜ç¡®æŒ‡å®šé¢‘é“åç§° çš„ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ è®¢é˜…å¤šä¸ª é¢‘é“ï¼Œé‚£ä¹ˆå°±å¿…é¡» æ˜¾å¼åœ°å…³æ³¨å¤šä¸ª åç§°ã€‚ ä¸ºäº†ç®€åŒ–è®¢é˜…çš„ç¹çæ“ä½œï¼ŒRedis æä¾›äº† æ¨¡å¼è®¢é˜… çš„åŠŸèƒ½ Pattern Subscribeï¼Œè¿™æ ·å°±å¯ä»¥ ä¸€æ¬¡æ€§å…³æ³¨å¤šä¸ªé¢‘é“ äº†ï¼Œå³ä½¿ç”Ÿäº§è€…æ–°å¢äº†åŒæ¨¡å¼çš„é¢‘é“ï¼Œæ¶ˆè´¹è€…ä¹Ÿå¯ä»¥ç«‹å³å—åˆ°æ¶ˆæ¯ï¼š ä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œæ‰€æœ‰ ä½äºå›¾ç‰‡ä¸‹æ–¹çš„ Consumer éƒ½èƒ½å¤Ÿå—åˆ°æ¶ˆæ¯ã€‚ Publisher å¾€ wmyskxz.chat è¿™ä¸ª channel ä¸­å‘é€äº†ä¸€æ¡æ¶ˆæ¯ï¼Œä¸ä»…ä»…å…³æ³¨äº†è¿™ä¸ªé¢‘é“çš„ Consumer 1 å’Œ Consumer 2 èƒ½å¤Ÿå—åˆ°æ¶ˆæ¯ï¼Œå›¾ç‰‡ä¸­çš„ä¸¤ä¸ª channel éƒ½å’Œæ¨¡å¼ wmyskxz.* åŒ¹é…ï¼Œæ‰€ä»¥ Redis æ­¤æ—¶ä¼šåŒæ ·å‘é€æ¶ˆæ¯ç»™è®¢é˜…äº† wmyskxz.* è¿™ä¸ªæ¨¡å¼çš„ Consumer 3 å’Œå…³æ³¨äº†åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹çš„å¦ä¸€ä¸ªé¢‘é“ wmyskxz.log ä¸‹çš„ Consumer 4 å’Œ Consumer 5ã€‚ å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ¥æ”¶æ¶ˆæ¯çš„é¢‘é“æ˜¯ wmyskxz.chatï¼Œé‚£ä¹ˆ Consumer 3 ä¹Ÿä¼šå—åˆ°æ¶ˆæ¯ã€‚ å¿«é€Ÿä½“éªŒåœ¨ Redis ä¸­ï¼ŒPubSub æ¨¡å—çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œå¸¸ç”¨çš„å‘½ä»¤ä¹Ÿå°±ä¸‹é¢è¿™ä¹ˆå‡ æ¡ï¼š # è®¢é˜…é¢‘é“ï¼š SUBSCRIBE channel [channel ....] # è®¢é˜…ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“çš„ä¿¡æ¯ PSUBSCRIBE pattern [pattern ....] # è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼çš„é¢‘é“ # å‘å¸ƒé¢‘é“ï¼š PUBLISH channel message # å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„é¢‘é“ # é€€è®¢é¢‘é“ï¼š UNSUBSCRIBE [channel [channel ....]] # é€€è®¢æŒ‡å®šçš„é¢‘é“ PUNSUBSCRIBE [pattern [pattern ....]] #é€€è®¢æ‰€æœ‰ç»™å®šæ¨¡å¼çš„é¢‘é“ æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°å¿«é€Ÿåœ°æ¥ä½“éªŒä¸€ä¸‹ PubSubï¼š å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š å¼€å¯æœ¬åœ° Redis æœåŠ¡ï¼Œæ–°å»ºä¸¤ä¸ªæ§åˆ¶å°çª—å£ï¼› åœ¨å…¶ä¸­ä¸€ä¸ªçª—å£è¾“å…¥ SUBSCRIBE wmyskxz.chat å…³æ³¨ wmyskxz.chat é¢‘é“ï¼Œè®©è¿™ä¸ªçª—å£æˆä¸º æ¶ˆè´¹è€…ã€‚ åœ¨å¦ä¸€ä¸ªçª—å£è¾“å…¥ PUBLISH wmyskxz.chat &#39;message&#39; å¾€è¿™ä¸ªé¢‘é“å‘é€æ¶ˆæ¯ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šçœ‹åˆ° å¦ä¸€ä¸ªçª—å£å®æ—¶åœ°å‡ºç° äº†å‘é€çš„æµ‹è¯•æ¶ˆæ¯ã€‚ å®ç°åŸç†å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡å¾ˆç®€å•çš„ä¸¤æ¡å‘½ä»¤ï¼Œå‡ ä¹å°±å¯ä»¥ç®€å•ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ª å‘å¸ƒ/ è®¢é˜…ç³»ç»Ÿ äº†ï¼Œä½†æ˜¯å…·ä½“æ˜¯æ€ä¹ˆæ ·å®ç°çš„å‘¢ï¼Ÿ æ¯ä¸ª Redis æœåŠ¡å™¨è¿›ç¨‹ç»´æŒç€ä¸€ä¸ªæ ‡è¯†æœåŠ¡å™¨çŠ¶æ€ çš„ redis.h/redisServer ç»“æ„ï¼Œå…¶ä¸­å°± ä¿å­˜ç€æœ‰è®¢é˜…çš„é¢‘é“ ä»¥åŠ è®¢é˜…æ¨¡å¼ çš„ä¿¡æ¯ï¼š struct redisServer { // ... dict *pubsub_channels; // è®¢é˜…é¢‘é“ list *pubsub_patterns; // è®¢é˜…æ¨¡å¼ // ... }; è®¢é˜…é¢‘é“åŸç†å½“å®¢æˆ·ç«¯è®¢é˜…æŸä¸€ä¸ªé¢‘é“ä¹‹åï¼ŒRedis å°±ä¼šå¾€ pubsub_channels è¿™ä¸ªå­—å…¸ä¸­æ–°æ·»åŠ ä¸€æ¡æ•°æ®ï¼Œå®é™…ä¸Šè¿™ä¸ª dict å­—å…¸ç»´æŠ¤çš„æ˜¯ä¸€å¼ é“¾è¡¨ï¼Œæ¯”å¦‚ï¼Œä¸‹å›¾å±•ç¤ºçš„ pubsub_channels ç¤ºä¾‹ä¸­ï¼Œclient 1ã€client 2 å°±è®¢é˜…äº† channel 1ï¼Œè€Œå…¶ä»–é¢‘é“ä¹Ÿåˆ†åˆ«è¢«å…¶ä»–å®¢æˆ·ç«¯è®¢é˜…ï¼š SUBSCRIBE å‘½ä»¤SUBSCRIBE å‘½ä»¤çš„è¡Œä¸ºå¯ä»¥ç”¨ä¸‹åˆ—çš„ä¼ªä»£ç è¡¨ç¤ºï¼š def SUBSCRIBE(client, channels): # éå†æ‰€æœ‰è¾“å…¥é¢‘é“ for channel in channels: # å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ redisServer.pubsub_channels[channel].append(client) é€šè¿‡ pubsub_channels å­—å…¸ï¼Œç¨‹åºåªè¦æ£€æŸ¥æŸä¸ªé¢‘é“æ˜¯å¦ä¸ºå­—å…¸çš„é”®ï¼Œå°±å¯ä»¥çŸ¥é“è¯¥é¢‘é“æ˜¯å¦æ­£åœ¨è¢«å®¢æˆ·ç«¯è®¢é˜…ï¼›åªè¦å–å‡ºæŸä¸ªé”®çš„å€¼ï¼Œå°±å¯ä»¥å¾—åˆ°æ‰€æœ‰è®¢é˜…è¯¥é¢‘é“çš„å®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚ PUBLISH å‘½ä»¤äº†è§£ SUBSCRIBEï¼Œé‚£ä¹ˆ PUBLISH å‘½ä»¤çš„å®ç°ä¹Ÿå˜å¾—ååˆ†ç®€å•äº†ï¼Œåªéœ€è¦é€šè¿‡ä¸Šè¿°å­—å…¸å®šä½åˆ°å…·ä½“çš„å®¢æˆ·ç«¯ï¼Œå†æŠŠæ¶ˆæ¯å‘é€ç»™å®ƒä»¬å°±å¥½äº†ï¼š(ä¼ªä»£ç å®ç°å¦‚ä¸‹) def PUBLISH(channel, message): # éå†æ‰€æœ‰è®¢é˜…é¢‘é“ channel çš„å®¢æˆ·ç«¯ for client in server.pubsub_channels[channel]: # å°†ä¿¡æ¯å‘é€ç»™å®ƒä»¬ send_message(client, message) UNSUBSCRIBE å‘½ä»¤ä½¿ç”¨ UNSUBSCRIBE å‘½ä»¤å¯ä»¥é€€è®¢æŒ‡å®šçš„é¢‘é“ï¼Œè¿™ä¸ªå‘½ä»¤æ‰§è¡Œçš„æ˜¯è®¢é˜…çš„åæ“ä½œï¼šå®ƒä» pubsub_channels å­—å…¸çš„ç»™å®šé¢‘é“ï¼ˆé”®ï¼‰ä¸­ï¼Œåˆ é™¤å…³äºå½“å‰å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œè¿™æ ·è¢«é€€è®¢é¢‘é“çš„ä¿¡æ¯å°±ä¸ä¼šå†å‘é€ç»™è¿™ä¸ªå®¢æˆ·ç«¯ã€‚ è®¢é˜…æ¨¡å¼åŸç† æ­£å¦‚æˆ‘ä»¬ä¸Šé¢è¯´åˆ°äº†ï¼Œå½“å‘é€ä¸€æ¡æ¶ˆæ¯åˆ° wmyskxz.chat è¿™ä¸ªé¢‘é“æ—¶ï¼ŒRedis ä¸ä»…ä»…ä¼šå‘é€åˆ°å½“å‰çš„é¢‘é“ï¼Œè¿˜ä¼šå‘é€åˆ°åŒ¹é…äºå½“å‰æ¨¡å¼çš„æ‰€æœ‰é¢‘é“ï¼Œå®é™…ä¸Šï¼Œpubsub_patterns èƒŒåè¿˜ç»´æŠ¤äº†ä¸€ä¸ª redis.h/pubsubPattern ç»“æ„ï¼š typedef struct pubsubPattern { redisClient *client; // è®¢é˜…æ¨¡å¼çš„å®¢æˆ·ç«¯ robj *pattern; // è®¢é˜…çš„æ¨¡å¼ } pubsubPattern; æ¯å½“è°ƒç”¨ PSUBSCRIBE å‘½ä»¤è®¢é˜…ä¸€ä¸ªæ¨¡å¼æ—¶ï¼Œç¨‹åºå°±åˆ›å»ºä¸€ä¸ªåŒ…å«å®¢æˆ·ç«¯ä¿¡æ¯å’Œè¢«è®¢é˜…æ¨¡å¼çš„ pubsubPattern ç»“æ„ï¼Œå¹¶å°†è¯¥ç»“æ„æ·»åŠ åˆ° redisServer.pubsub_patterns é“¾è¡¨ä¸­ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª pusub_patterns é“¾è¡¨çš„ç¤ºä¾‹ï¼š è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯ client 3 æ‰§è¡Œ PSUBSCRIBE wmyskxz.java.*ï¼Œé‚£ä¹ˆ pubsub_patterns é“¾è¡¨å°±ä¼šè¢«æ›´æ–°æˆè¿™æ ·ï¼š é€šè¿‡éå†æ•´ä¸ª pubsub_patterns é“¾è¡¨ï¼Œç¨‹åºå¯ä»¥æ£€æŸ¥æ‰€æœ‰æ­£åœ¨è¢«è®¢é˜…çš„æ¨¡å¼ï¼Œä»¥åŠè®¢é˜…è¿™äº›æ¨¡å¼çš„å®¢æˆ·ç«¯ã€‚ PUBLISH å‘½ä»¤ä¸Šé¢ç»™å‡ºçš„ä¼ªä»£ç å¹¶æ²¡æœ‰ å®Œæ•´æè¿° PUBLISH å‘½ä»¤çš„è¡Œä¸ºï¼Œå› ä¸º PUBLISH é™¤äº†å°† message å‘é€åˆ° æ‰€æœ‰è®¢é˜… channel çš„å®¢æˆ·ç«¯ ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šå°† channel å’Œ pubsub_patterns ä¸­çš„ æ¨¡å¼ è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœ channel å’ŒæŸä¸ªæ¨¡å¼åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆä¹Ÿå°† message å‘é€åˆ° è®¢é˜…é‚£ä¸ªæ¨¡å¼çš„å®¢æˆ·ç«¯ã€‚ å®Œæ•´æè¿° PUBLISH åŠŸèƒ½çš„ä¼ªä»£ç å®šäºå¦‚ä¸‹ï¼š def PUBLISH(channel, message): # éå†æ‰€æœ‰è®¢é˜…é¢‘é“ channel çš„å®¢æˆ·ç«¯ for client in server.pubsub_channels[channel]: # å°†ä¿¡æ¯å‘é€ç»™å®ƒä»¬ send_message(client, message) # å–å‡ºæ‰€æœ‰æ¨¡å¼ï¼Œä»¥åŠè®¢é˜…æ¨¡å¼çš„å®¢æˆ·ç«¯ for pattern, client in server.pubsub_patterns: # å¦‚æœ channel å’Œæ¨¡å¼åŒ¹é… if match(channel, pattern): # é‚£ä¹ˆä¹Ÿå°†ä¿¡æ¯å‘ç»™è®¢é˜…è¿™ä¸ªæ¨¡å¼çš„å®¢æˆ·ç«¯ send_message(client, message) PUNSUBSCRIBE å‘½ä»¤ä½¿ç”¨ PUNSUBSCRIBE å‘½ä»¤å¯ä»¥é€€è®¢æŒ‡å®šçš„æ¨¡å¼ï¼Œè¿™ä¸ªå‘½ä»¤æ‰§è¡Œçš„æ˜¯è®¢é˜…æ¨¡å¼çš„åæ“ä½œï¼šåºä¼šåˆ é™¤ redisServer.pubsub_patterns é“¾è¡¨ä¸­ï¼Œæ‰€æœ‰å’Œè¢«é€€è®¢æ¨¡å¼ç›¸å…³è”çš„ pubsubPattern ç»“æ„ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±ä¸ä¼šå†æ”¶åˆ°å’Œæ¨¡å¼ç›¸åŒ¹é…çš„é¢‘é“å‘æ¥çš„ä¿¡æ¯ã€‚ PubSub çš„ç¼ºç‚¹å°½ç®¡ Redis å®ç°äº† PubSub æ¨¡å¼æ¥è¾¾åˆ°äº† å¤šæ’­æ¶ˆæ¯é˜Ÿåˆ— çš„ç›®çš„ï¼Œä½†åœ¨å®é™…çš„æ¶ˆæ¯é˜Ÿåˆ—çš„é¢†åŸŸï¼Œå‡ ä¹ æ‰¾ä¸åˆ°ç‰¹åˆ«åˆé€‚çš„åœºæ™¯ï¼Œå› ä¸ºå®ƒçš„ç¼ºç‚¹ååˆ†æ˜æ˜¾ï¼š æ²¡æœ‰ Ack æœºåˆ¶ï¼Œä¹Ÿä¸ä¿è¯æ•°æ®çš„è¿ç»­ï¼š PubSub çš„ç”Ÿäº§è€…ä¼ é€’è¿‡æ¥ä¸€ä¸ªæ¶ˆæ¯ï¼ŒRedis ä¼šç›´æ¥æ‰¾åˆ°ç›¸åº”çš„æ¶ˆè´¹è€…ä¼ é€’è¿‡å»ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šè¢«ç›´æ¥ä¸¢å¼ƒã€‚å¦‚æœå¼€å§‹æœ‰ä¸‰ä¸ªæ¶ˆè´¹è€…ï¼Œå…¶ä¸­ä¸€ä¸ªçªç„¶æŒ‚æ‰äº†ï¼Œè¿‡äº†ä¸€ä¼šå„¿ç­‰å®ƒå†é‡è¿æ—¶ï¼Œé‚£ä¹ˆé‡è¿æœŸé—´çš„æ¶ˆæ¯å¯¹äºè¿™ä¸ªæ¶ˆè´¹è€…æ¥è¯´å°±å½»åº•ä¸¢å¤±äº†ã€‚ ä¸æŒä¹…åŒ–æ¶ˆæ¯ï¼š å¦‚æœ Redis åœæœºé‡å¯ï¼ŒPubSub çš„æ¶ˆæ¯æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ï¼Œæ¯•ç«Ÿ Redis å®•æœºå°±ç›¸å½“äºä¸€ä¸ªæ¶ˆè´¹è€…éƒ½æ²¡æœ‰ï¼Œæ‰€æœ‰çš„æ¶ˆæ¯éƒ½ä¼šè¢«ç›´æ¥ä¸¢å¼ƒã€‚ åŸºäºä¸Šè¿°ç¼ºç‚¹ï¼ŒRedis çš„ä½œè€…ç”šè‡³å•ç‹¬å¼€å¯äº†ä¸€ä¸ª Disque çš„é¡¹ç›®æ¥ä¸“é—¨ç”¨æ¥åšå¤šæ’­æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸è¿‡è¯¥é¡¹ç›®ç›®å‰å¥½åƒéƒ½æ²¡æœ‰æˆç†Ÿã€‚ä¸è¿‡åæ¥åœ¨ 2018 å¹´ 6 æœˆï¼ŒRedis 5.0 æ–°å¢äº† Stream æ•°æ®ç»“æ„ï¼Œè¿™ä¸ªåŠŸèƒ½ç»™ Redis å¸¦æ¥äº† æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä»æ­¤ PubSub ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½å¯ä»¥è¯´æ˜¯å°±æ¶ˆå¤±äº†.. äºŒã€æ›´ä¸ºå¼ºå¤§çš„ Stream | æŒä¹…åŒ–çš„å‘å¸ƒ/è®¢é˜…ç³»ç»ŸRedis Stream ä»æ¦‚å¿µä¸Šæ¥è¯´ï¼Œå°±åƒæ˜¯ä¸€ä¸ª ä»…è¿½åŠ å†…å®¹ çš„ æ¶ˆæ¯é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰åŠ å…¥çš„æ¶ˆæ¯éƒ½ä¸€ä¸ªä¸€ä¸ªä¸²èµ·æ¥ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID å’Œå†…å®¹ï¼Œè¿™å¾ˆç®€å•ï¼Œè®©å®ƒå¤æ‚çš„æ˜¯ä» Kafka å€Ÿé‰´çš„å¦ä¸€ç§æ¦‚å¿µï¼šæ¶ˆè´¹è€…ç»„(Consumer Group) (æ€è·¯ä¸€è‡´ï¼Œå®ç°ä¸åŒ)ï¼š ä¸Šå›¾å°±å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ Stream ç»“æ„ã€‚æ¯ä¸ª Stream éƒ½æœ‰å”¯ä¸€çš„åç§°ï¼Œå®ƒå°±æ˜¯ Redis çš„ keyï¼Œåœ¨æˆ‘ä»¬é¦–æ¬¡ä½¿ç”¨ xadd æŒ‡ä»¤è¿½åŠ æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºã€‚æˆ‘ä»¬å¯¹å›¾ä¸­çš„ä¸€äº›æ¦‚å¿µåšä¸€ä¸‹è§£é‡Šï¼š Consumer Groupï¼šæ¶ˆè´¹è€…ç»„ï¼Œå¯ä»¥ç®€å•çœ‹æˆè®°å½•æµçŠ¶æ€çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ¶ˆè´¹è€…æ—¢å¯ä»¥é€‰æ‹©ä½¿ç”¨ XREAD å‘½ä»¤è¿›è¡Œ ç‹¬ç«‹æ¶ˆè´¹ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶åŠ å…¥ä¸€ä¸ªæ¶ˆè´¹è€…ç»„è¿›è¡Œ ç»„å†…æ¶ˆè´¹ã€‚åŒä¸€ä¸ªæ¶ˆè´¹è€…ç»„å†…çš„æ¶ˆè´¹è€…å…±äº«æ‰€æœ‰çš„ Stream ä¿¡æ¯ï¼ŒåŒä¸€æ¡æ¶ˆæ¯åªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°ï¼Œè¿™æ ·å°±å¯ä»¥åº”ç”¨åœ¨åˆ†å¸ƒå¼çš„åº”ç”¨åœºæ™¯ä¸­æ¥ä¿è¯æ¶ˆæ¯çš„å”¯ä¸€æ€§ã€‚ last_delivered_idï¼šç”¨æ¥è¡¨ç¤ºæ¶ˆè´¹è€…ç»„æ¶ˆè´¹åœ¨ Stream ä¸Š æ¶ˆè´¹ä½ç½® çš„æ¸¸æ ‡ä¿¡æ¯ã€‚æ¯ä¸ªæ¶ˆè´¹è€…ç»„éƒ½æœ‰ä¸€ä¸ª Stream å†… å”¯ä¸€çš„åç§°ï¼Œæ¶ˆè´¹è€…ç»„ä¸ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œéœ€è¦ä½¿ç”¨ XGROUP CREATE æŒ‡ä»¤æ¥æ˜¾å¼åˆ›å»ºï¼Œå¹¶ä¸”éœ€è¦æŒ‡å®šä»å“ªä¸€ä¸ªæ¶ˆæ¯ ID å¼€å§‹æ¶ˆè´¹ï¼Œç”¨æ¥åˆå§‹åŒ– last_delivered_id è¿™ä¸ªå˜é‡ã€‚ pending_idsï¼šæ¯ä¸ªæ¶ˆè´¹è€…å†…éƒ¨éƒ½æœ‰çš„ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œç”¨æ¥è¡¨ç¤º å·²ç» è¢«å®¢æˆ·ç«¯ è·å–ï¼Œä½†æ˜¯ è¿˜æ²¡æœ‰ ack çš„æ¶ˆæ¯ã€‚è®°å½•çš„ç›®çš„æ˜¯ä¸ºäº† ä¿è¯å®¢æˆ·ç«¯è‡³å°‘æ¶ˆè´¹äº†æ¶ˆæ¯ä¸€æ¬¡ï¼Œè€Œä¸ä¼šåœ¨ç½‘ç»œä¼ è¾“çš„ä¸­é€”ä¸¢å¤±è€Œæ²¡æœ‰å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚å¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰ ackï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡é‡Œé¢çš„æ¶ˆæ¯ ID å°±ä¼šè¶Šæ¥è¶Šå¤šï¼Œä¸€æ—¦æŸä¸ªæ¶ˆæ¯è¢« ackï¼Œå®ƒå°±ä¼šå¯¹åº”å¼€å§‹å‡å°‘ã€‚è¿™ä¸ªå˜é‡ä¹Ÿè¢« Redis å®˜æ–¹ç§°ä¸º PEL (Pending Entries List)ã€‚ æ¶ˆæ¯ ID å’Œæ¶ˆæ¯å†…å®¹æ¶ˆæ¯ IDæ¶ˆæ¯ ID å¦‚æœæ˜¯ç”± XADD å‘½ä»¤è¿”å›è‡ªåŠ¨åˆ›å»ºçš„è¯ï¼Œé‚£ä¹ˆå®ƒçš„æ ¼å¼ä¼šåƒè¿™æ ·ï¼štimestampInMillis-sequence (æ¯«ç§’æ—¶é—´æˆ³-åºåˆ—å·)ï¼Œä¾‹å¦‚ 1527846880585-5ï¼Œå®ƒè¡¨ç¤ºå½“å‰çš„æ¶ˆæ¯æ˜¯åœ¨æ¯«ç§’æ—¶é—´æˆ³ 1527846880585 æ—¶äº§ç”Ÿçš„ï¼Œå¹¶ä¸”æ˜¯è¯¥æ¯«ç§’å†…äº§ç”Ÿçš„ç¬¬ 5 æ¡æ¶ˆæ¯ã€‚ è¿™äº› ID çš„æ ¼å¼çœ‹èµ·æ¥æœ‰ä¸€äº›å¥‡æ€ªï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ—¶é—´æ¥å½“åš ID çš„ä¸€éƒ¨åˆ†å‘¢ï¼Ÿ ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬è¦ æ»¡è¶³ ID è‡ªå¢ çš„å±æ€§ï¼Œå¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯ä¸ºäº† æ”¯æŒèŒƒå›´æŸ¥æ‰¾ çš„åŠŸèƒ½ã€‚ç”±äº ID å’Œç”Ÿæˆæ¶ˆæ¯çš„æ—¶é—´æœ‰å…³ï¼Œè¿™æ ·å°±ä½¿å¾—åœ¨æ ¹æ®æ—¶é—´èŒƒå›´å†…æŸ¥æ‰¾æ—¶åŸºæœ¬ä¸Šæ˜¯æ²¡æœ‰é¢å¤–æŸè€—çš„ã€‚ å½“ç„¶æ¶ˆæ¯ ID ä¹Ÿå¯ä»¥ç”±å®¢æˆ·ç«¯è‡ªå®šä¹‰ï¼Œä½†æ˜¯å½¢å¼å¿…é¡»æ˜¯ â€œæ•´æ•°-æ•´æ•°â€ï¼Œè€Œä¸”åé¢åŠ å…¥çš„æ¶ˆæ¯çš„ ID å¿…é¡»è¦å¤§äºå‰é¢çš„æ¶ˆæ¯ IDã€‚ æ¶ˆæ¯å†…å®¹æ¶ˆæ¯å†…å®¹å°±æ˜¯æ™®é€šçš„é”®å€¼å¯¹ï¼Œå½¢å¦‚ hash ç»“æ„çš„é”®å€¼å¯¹ã€‚ å¢åˆ æ”¹æŸ¥ç¤ºä¾‹å¢åˆ æ”¹æŸ¥å‘½ä»¤å¾ˆç®€å•ï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š xaddï¼šè¿½åŠ æ¶ˆæ¯ xdelï¼šåˆ é™¤æ¶ˆæ¯ï¼Œè¿™é‡Œçš„åˆ é™¤ä»…ä»…æ˜¯è®¾ç½®äº†æ ‡å¿—ä½ï¼Œä¸å½±å“æ¶ˆæ¯æ€»é•¿åº¦ xrangeï¼šè·å–æ¶ˆæ¯åˆ—è¡¨ï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤å·²ç»åˆ é™¤çš„æ¶ˆæ¯ xlenï¼šæ¶ˆæ¯é•¿åº¦ delï¼šåˆ é™¤Stream ä½¿ç”¨ç¤ºä¾‹ï¼š # *å·è¡¨ç¤ºæœåŠ¡å™¨è‡ªåŠ¨ç”ŸæˆIDï¼Œåé¢é¡ºåºè·Ÿç€ä¸€å †key/value 127.0.0.1:6379> xadd codehole * name laoqian age 30 # åå­—å«laoqianï¼Œå¹´é¾„30å² 1527849609889-0 # ç”Ÿæˆçš„æ¶ˆæ¯ID 127.0.0.1:6379> xadd codehole * name xiaoyu age 29 1527849629172-0 127.0.0.1:6379> xadd codehole * name xiaoqian age 1 1527849637634-0 127.0.0.1:6379> xlen codehole (integer) 3 127.0.0.1:6379> xrange codehole - + # -è¡¨ç¤ºæœ€å°å€¼, +è¡¨ç¤ºæœ€å¤§å€¼ 1) 1) 1527849609889-0 2) 1) \"name\" 2) \"laoqian\" 3) \"age\" 4) \"30\" 2) 1) 1527849629172-0 2) 1) \"name\" 2) \"xiaoyu\" 3) \"age\" 4) \"29\" 3) 1) 1527849637634-0 2) 1) \"name\" 2) \"xiaoqian\" 3) \"age\" 4) \"1\" 127.0.0.1:6379> xrange codehole 1527849629172-0 + # æŒ‡å®šæœ€å°æ¶ˆæ¯IDçš„åˆ—è¡¨ 1) 1) 1527849629172-0 2) 1) \"name\" 2) \"xiaoyu\" 3) \"age\" 4) \"29\" 2) 1) 1527849637634-0 2) 1) \"name\" 2) \"xiaoqian\" 3) \"age\" 4) \"1\" 127.0.0.1:6379> xrange codehole - 1527849629172-0 # æŒ‡å®šæœ€å¤§æ¶ˆæ¯IDçš„åˆ—è¡¨ 1) 1) 1527849609889-0 2) 1) \"name\" 2) \"laoqian\" 3) \"age\" 4) \"30\" 2) 1) 1527849629172-0 2) 1) \"name\" 2) \"xiaoyu\" 3) \"age\" 4) \"29\" 127.0.0.1:6379> xdel codehole 1527849609889-0 (integer) 1 127.0.0.1:6379> xlen codehole # é•¿åº¦ä¸å—å½±å“ (integer) 3 127.0.0.1:6379> xrange codehole - + # è¢«åˆ é™¤çš„æ¶ˆæ¯æ²¡äº† 1) 1) 1527849629172-0 2) 1) \"name\" 2) \"xiaoyu\" 3) \"age\" 4) \"29\" 2) 1) 1527849637634-0 2) 1) \"name\" 2) \"xiaoqian\" 3) \"age\" 4) \"1\" 127.0.0.1:6379> del codehole # åˆ é™¤æ•´ä¸ªStream (integer) 1 ç‹¬ç«‹æ¶ˆè´¹ç¤ºä¾‹æˆ‘ä»¬å¯ä»¥åœ¨ä¸å®šä¹‰æ¶ˆè´¹ç»„çš„æƒ…å†µä¸‹è¿›è¡Œ Stream æ¶ˆæ¯çš„ ç‹¬ç«‹æ¶ˆè´¹ï¼Œå½“ Stream æ²¡æœ‰æ–°æ¶ˆæ¯æ—¶ï¼Œç”šè‡³å¯ä»¥é˜»å¡ç­‰å¾…ã€‚Redis è®¾è®¡äº†ä¸€ä¸ªå•ç‹¬çš„æ¶ˆè´¹æŒ‡ä»¤ xreadï¼Œå¯ä»¥å°† Stream å½“æˆæ™®é€šçš„æ¶ˆæ¯é˜Ÿåˆ—(list)æ¥ä½¿ç”¨ã€‚ä½¿ç”¨ xread æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨å¿½ç•¥ æ¶ˆè´¹ç»„(Consumer Group) çš„å­˜åœ¨ï¼Œå°±å¥½æ¯” Stream å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„åˆ—è¡¨(list)ï¼š # ä»Streamå¤´éƒ¨è¯»å–ä¸¤æ¡æ¶ˆæ¯ 127.0.0.1:6379> xread count 2 streams codehole 0-0 1) 1) \"codehole\" 2) 1) 1) 1527851486781-0 2) 1) \"name\" 2) \"laoqian\" 3) \"age\" 4) \"30\" 2) 1) 1527851493405-0 2) 1) \"name\" 2) \"yurui\" 3) \"age\" 4) \"29\" # ä»Streamå°¾éƒ¨è¯»å–ä¸€æ¡æ¶ˆæ¯ï¼Œæ¯«æ— ç–‘é—®ï¼Œè¿™é‡Œä¸ä¼šè¿”å›ä»»ä½•æ¶ˆæ¯ 127.0.0.1:6379> xread count 1 streams codehole $ (nil) # ä»å°¾éƒ¨é˜»å¡ç­‰å¾…æ–°æ¶ˆæ¯åˆ°æ¥ï¼Œä¸‹é¢çš„æŒ‡ä»¤ä¼šå µä½ï¼Œç›´åˆ°æ–°æ¶ˆæ¯åˆ°æ¥ 127.0.0.1:6379> xread block 0 count 1 streams codehole $ # æˆ‘ä»¬ä»æ–°æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œåœ¨è¿™ä¸ªçª—å£å¾€Streamé‡Œå¡æ¶ˆæ¯ 127.0.0.1:6379> xadd codehole * name youming age 60 1527852774092-0 # å†åˆ‡æ¢åˆ°å‰é¢çš„çª—å£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é˜»å¡è§£é™¤äº†ï¼Œè¿”å›äº†æ–°çš„æ¶ˆæ¯å†…å®¹ # è€Œä¸”è¿˜æ˜¾ç¤ºäº†ä¸€ä¸ªç­‰å¾…æ—¶é—´ï¼Œè¿™é‡Œæˆ‘ä»¬ç­‰å¾…äº†93s 127.0.0.1:6379> xread block 0 count 1 streams codehole $ 1) 1) \"codehole\" 2) 1) 1) 1527852774092-0 2) 1) \"name\" 2) \"youming\" 3) \"age\" 4) \"60\" (93.11s) å®¢æˆ·ç«¯å¦‚æœæƒ³è¦ä½¿ç”¨ xread è¿›è¡Œ é¡ºåºæ¶ˆè´¹ï¼Œä¸€å®šè¦ è®°ä½å½“å‰æ¶ˆè´¹ åˆ°å“ªé‡Œäº†ï¼Œä¹Ÿå°±æ˜¯è¿”å›çš„æ¶ˆæ¯ IDã€‚ä¸‹æ¬¡ç»§ç»­è°ƒç”¨ xread æ—¶ï¼Œå°†ä¸Šæ¬¡è¿”å›çš„æœ€åä¸€ä¸ªæ¶ˆæ¯ ID ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ï¼Œå°±å¯ä»¥ç»§ç»­æ¶ˆè´¹åç»­çš„æ¶ˆæ¯ã€‚ block 0 è¡¨ç¤ºæ°¸è¿œé˜»å¡ï¼Œç›´åˆ°æ¶ˆæ¯åˆ°æ¥ï¼Œblock 1000 è¡¨ç¤ºé˜»å¡ 1sï¼Œå¦‚æœ 1s å†…æ²¡æœ‰ä»»ä½•æ¶ˆæ¯åˆ°æ¥ï¼Œå°±è¿”å› nilï¼š 127.0.0.1:6379> xread block 1000 count 1 streams codehole $ (nil) (1.07s) åˆ›å»ºæ¶ˆè´¹è€…ç¤ºä¾‹Stream é€šè¿‡ xgroup create æŒ‡ä»¤åˆ›å»ºæ¶ˆè´¹ç»„(Consumer Group)ï¼Œéœ€è¦ä¼ é€’èµ·å§‹æ¶ˆæ¯ ID å‚æ•°ç”¨æ¥åˆå§‹åŒ– last_delivered_id å˜é‡ï¼š 127.0.0.1:6379> xgroup create codehole cg1 0-0 # è¡¨ç¤ºä»å¤´å¼€å§‹æ¶ˆè´¹ OK # $è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹æ¶ˆè´¹ï¼Œåªæ¥å—æ–°æ¶ˆæ¯ï¼Œå½“å‰Streamæ¶ˆæ¯ä¼šå…¨éƒ¨å¿½ç•¥ 127.0.0.1:6379> xgroup create codehole cg2 $ OK 127.0.0.1:6379> xinfo codehole # è·å–Streamä¿¡æ¯ 1) length 2) (integer) 3 # å…±3ä¸ªæ¶ˆæ¯ 3) radix-tree-keys 4) (integer) 1 5) radix-tree-nodes 6) (integer) 2 7) groups 8) (integer) 2 # ä¸¤ä¸ªæ¶ˆè´¹ç»„ 9) first-entry # ç¬¬ä¸€ä¸ªæ¶ˆæ¯ 10) 1) 1527851486781-0 2) 1) \"name\" 2) \"laoqian\" 3) \"age\" 4) \"30\" 11) last-entry # æœ€åä¸€ä¸ªæ¶ˆæ¯ 12) 1) 1527851498956-0 2) 1) \"name\" 2) \"xiaoqian\" 3) \"age\" 4) \"1\" 127.0.0.1:6379> xinfo groups codehole # è·å–Streamçš„æ¶ˆè´¹ç»„ä¿¡æ¯ 1) 1) name 2) \"cg1\" 3) consumers 4) (integer) 0 # è¯¥æ¶ˆè´¹ç»„è¿˜æ²¡æœ‰æ¶ˆè´¹è€… 5) pending 6) (integer) 0 # è¯¥æ¶ˆè´¹ç»„æ²¡æœ‰æ­£åœ¨å¤„ç†çš„æ¶ˆæ¯ 2) 1) name 2) \"cg2\" 3) consumers # è¯¥æ¶ˆè´¹ç»„è¿˜æ²¡æœ‰æ¶ˆè´¹è€… 4) (integer) 0 5) pending 6) (integer) 0 # è¯¥æ¶ˆè´¹ç»„æ²¡æœ‰æ­£åœ¨å¤„ç†çš„æ¶ˆæ¯ ç»„å†…æ¶ˆè´¹ç¤ºä¾‹Stream æä¾›äº† xreadgroup æŒ‡ä»¤å¯ä»¥è¿›è¡Œæ¶ˆè´¹ç»„çš„ç»„å†…æ¶ˆè´¹ï¼Œéœ€è¦æä¾› æ¶ˆè´¹ç»„åç§°ã€æ¶ˆè´¹è€…åç§°å’Œèµ·å§‹æ¶ˆæ¯ IDã€‚å®ƒåŒ xread ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥é˜»å¡ç­‰å¾…æ–°æ¶ˆæ¯ã€‚è¯»åˆ°æ–°æ¶ˆæ¯åï¼Œå¯¹åº”çš„æ¶ˆæ¯ ID å°±ä¼šè¿›å…¥æ¶ˆè´¹è€…çš„ PEL (æ­£åœ¨å¤„ç†çš„æ¶ˆæ¯) ç»“æ„é‡Œï¼Œå®¢æˆ·ç«¯å¤„ç†å®Œæ¯•åä½¿ç”¨ xack æŒ‡ä»¤ é€šçŸ¥æœåŠ¡å™¨ï¼Œæœ¬æ¡æ¶ˆæ¯å·²ç»å¤„ç†å®Œæ¯•ï¼Œè¯¥æ¶ˆæ¯ ID å°±ä¼šä» PEL ä¸­ç§»é™¤ï¼Œä¸‹é¢æ˜¯ç¤ºä¾‹ï¼š # >å·è¡¨ç¤ºä»å½“å‰æ¶ˆè´¹ç»„çš„last_delivered_idåé¢å¼€å§‹è¯» # æ¯å½“æ¶ˆè´¹è€…è¯»å–ä¸€æ¡æ¶ˆæ¯ï¼Œlast_delivered_idå˜é‡å°±ä¼šå‰è¿› 127.0.0.1:6379> xreadgroup GROUP cg1 c1 count 1 streams codehole > 1) 1) \"codehole\" 2) 1) 1) 1527851486781-0 2) 1) \"name\" 2) \"laoqian\" 3) \"age\" 4) \"30\" 127.0.0.1:6379> xreadgroup GROUP cg1 c1 count 1 streams codehole > 1) 1) \"codehole\" 2) 1) 1) 1527851493405-0 2) 1) \"name\" 2) \"yurui\" 3) \"age\" 4) \"29\" 127.0.0.1:6379> xreadgroup GROUP cg1 c1 count 2 streams codehole > 1) 1) \"codehole\" 2) 1) 1) 1527851498956-0 2) 1) \"name\" 2) \"xiaoqian\" 3) \"age\" 4) \"1\" 2) 1) 1527852774092-0 2) 1) \"name\" 2) \"youming\" 3) \"age\" 4) \"60\" # å†ç»§ç»­è¯»å–ï¼Œå°±æ²¡æœ‰æ–°æ¶ˆæ¯äº† 127.0.0.1:6379> xreadgroup GROUP cg1 c1 count 1 streams codehole > (nil) # é‚£å°±é˜»å¡ç­‰å¾…å§ 127.0.0.1:6379> xreadgroup GROUP cg1 c1 block 0 count 1 streams codehole > # å¼€å¯å¦ä¸€ä¸ªçª—å£ï¼Œå¾€é‡Œå¡æ¶ˆæ¯ 127.0.0.1:6379> xadd codehole * name lanying age 61 1527854062442-0 # å›åˆ°å‰ä¸€ä¸ªçª—å£ï¼Œå‘ç°é˜»å¡è§£é™¤ï¼Œæ”¶åˆ°æ–°æ¶ˆæ¯äº† 127.0.0.1:6379> xreadgroup GROUP cg1 c1 block 0 count 1 streams codehole > 1) 1) \"codehole\" 2) 1) 1) 1527854062442-0 2) 1) \"name\" 2) \"lanying\" 3) \"age\" 4) \"61\" (36.54s) 127.0.0.1:6379> xinfo groups codehole # è§‚å¯Ÿæ¶ˆè´¹ç»„ä¿¡æ¯ 1) 1) name 2) \"cg1\" 3) consumers 4) (integer) 1 # ä¸€ä¸ªæ¶ˆè´¹è€… 5) pending 6) (integer) 5 # å…±5æ¡æ­£åœ¨å¤„ç†çš„ä¿¡æ¯è¿˜æœ‰æ²¡æœ‰ack 2) 1) name 2) \"cg2\" 3) consumers 4) (integer) 0 # æ¶ˆè´¹ç»„cg2æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå› ä¸ºå‰é¢æˆ‘ä»¬ä¸€ç›´åœ¨æ“çºµcg1 5) pending 6) (integer) 0 # å¦‚æœåŒä¸€ä¸ªæ¶ˆè´¹ç»„æœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡xinfo consumersæŒ‡ä»¤è§‚å¯Ÿæ¯ä¸ªæ¶ˆè´¹è€…çš„çŠ¶æ€ 127.0.0.1:6379> xinfo consumers codehole cg1 # ç›®å‰è¿˜æœ‰1ä¸ªæ¶ˆè´¹è€… 1) 1) name 2) \"c1\" 3) pending 4) (integer) 5 # å…±5æ¡å¾…å¤„ç†æ¶ˆæ¯ 5) idle 6) (integer) 418715 # ç©ºé—²äº†å¤šé•¿æ—¶é—´msæ²¡æœ‰è¯»å–æ¶ˆæ¯äº† # æ¥ä¸‹æ¥æˆ‘ä»¬ackä¸€æ¡æ¶ˆæ¯ 127.0.0.1:6379> xack codehole cg1 1527851486781-0 (integer) 1 127.0.0.1:6379> xinfo consumers codehole cg1 1) 1) name 2) \"c1\" 3) pending 4) (integer) 4 # å˜æˆäº†5æ¡ 5) idle 6) (integer) 668504 # ä¸‹é¢ackæ‰€æœ‰æ¶ˆæ¯ 127.0.0.1:6379> xack codehole cg1 1527851493405-0 1527851498956-0 1527852774092-0 1527854062442-0 (integer) 4 127.0.0.1:6379> xinfo consumers codehole cg1 1) 1) name 2) \"c1\" 3) pending 4) (integer) 0 # pelç©ºäº† 5) idle 6) (integer) 745505 QA 1ï¼šStream æ¶ˆæ¯å¤ªå¤šæ€ä¹ˆåŠï¼Ÿ | Stream çš„ä¸Šé™å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œè¦æ˜¯æ¶ˆæ¯ç§¯ç´¯å¤ªå¤šï¼ŒStream çš„é“¾è¡¨å²‚ä¸æ˜¯å¾ˆé•¿ï¼Œå†…å®¹ä¼šä¸ä¼šçˆ†æ‰å°±æ˜¯ä¸ªé—®é¢˜äº†ã€‚xdel æŒ‡ä»¤åˆä¸ä¼šåˆ é™¤æ¶ˆæ¯ï¼Œå®ƒåªæ˜¯ç»™æ¶ˆæ¯åšäº†ä¸ªæ ‡å¿—ä½ã€‚ Redis è‡ªç„¶è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥å®ƒæä¾›äº†ä¸€ä¸ªå®šé•¿ Stream åŠŸèƒ½ã€‚åœ¨ xadd çš„æŒ‡ä»¤æä¾›ä¸€ä¸ªå®šé•¿é•¿åº¦ maxlenï¼Œå°±å¯ä»¥å°†è€çš„æ¶ˆæ¯å¹²æ‰ï¼Œç¡®ä¿æœ€å¤šä¸è¶…è¿‡æŒ‡å®šé•¿åº¦ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š > XADD mystream MAXLEN 2 * value 1 1526654998691-0 > XADD mystream MAXLEN 2 * value 2 1526654999635-0 > XADD mystream MAXLEN 2 * value 3 1526655000369-0 > XLEN mystream (integer) 2 > XRANGE mystream - + 1) 1) 1526654999635-0 2) 1) \"value\" 2) \"2\" 2) 1) 1526655000369-0 2) 1) \"value\" 2) \"3\" å¦‚æœä½¿ç”¨ MAXLEN é€‰é¡¹ï¼Œå½“ Stream çš„è¾¾åˆ°æŒ‡å®šé•¿åº¦åï¼Œè€çš„æ¶ˆæ¯ä¼šè‡ªåŠ¨è¢«æ·˜æ±°æ‰ï¼Œå› æ­¤ Stream çš„å¤§å°æ˜¯æ’å®šçš„ã€‚ç›®å‰è¿˜æ²¡æœ‰é€‰é¡¹è®© Stream åªä¿ç•™ç»™å®šæ•°é‡çš„æ¡ç›®ï¼Œå› ä¸ºä¸ºäº†ä¸€è‡´åœ°è¿è¡Œï¼Œè¿™æ ·çš„å‘½ä»¤å¿…é¡»åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…é˜»å¡ä»¥æ·˜æ±°æ¶ˆæ¯ã€‚(ä¾‹å¦‚åœ¨æ·»åŠ æ•°æ®çš„é«˜å³°æœŸé—´ï¼Œä½ ä¸å¾—ä¸é•¿æš‚åœæ¥æ·˜æ±°æ—§æ¶ˆæ¯å’Œæ·»åŠ æ–°çš„æ¶ˆæ¯) å¦å¤–ä½¿ç”¨ MAXLEN é€‰é¡¹çš„èŠ±é”€æ˜¯å¾ˆå¤§çš„ï¼ŒStream ä¸ºäº†èŠ‚çœå†…å­˜ç©ºé—´ï¼Œé‡‡ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„ç»“æ„è¡¨ç¤ºï¼Œè€Œè¿™ç§ç»“æ„çš„è°ƒæ•´æ˜¯éœ€è¦é¢å¤–çš„èŠ±é”€çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§å¸¦æœ‰ ~ çš„ç‰¹æ®Šå‘½ä»¤ï¼š XADD mystream MAXLEN ~ 1000 * ... entry fields here ... å®ƒä¼šåŸºäºå½“å‰çš„ç»“æ„åˆç†åœ°å¯¹èŠ‚ç‚¹æ‰§è¡Œè£å‰ªï¼Œæ¥ä¿è¯è‡³å°‘ä¼šæœ‰ 1000 æ¡æ•°æ®ï¼Œå¯èƒ½æ˜¯ 1010 ä¹Ÿå¯èƒ½æ˜¯ 1030ã€‚ QA 2ï¼šPEL æ˜¯å¦‚ä½•é¿å…æ¶ˆæ¯ä¸¢å¤±çš„ï¼Ÿåœ¨å®¢æˆ·ç«¯æ¶ˆè´¹è€…è¯»å– Stream æ¶ˆæ¯æ—¶ï¼ŒRedis æœåŠ¡å™¨å°†æ¶ˆæ¯å›å¤ç»™å®¢æˆ·ç«¯çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯çªç„¶æ–­å¼€äº†è¿æ¥ï¼Œæ¶ˆæ¯å°±ä¸¢å¤±äº†ã€‚ä½†æ˜¯ PEL é‡Œå·²ç»ä¿å­˜äº†å‘å‡ºå»çš„æ¶ˆæ¯ IDï¼Œå¾…å®¢æˆ·ç«¯é‡æ–°è¿ä¸Šä¹‹åï¼Œå¯ä»¥å†æ¬¡æ”¶åˆ° PEL ä¸­çš„æ¶ˆæ¯ ID åˆ—è¡¨ã€‚ä¸è¿‡æ­¤æ—¶ xreadgroup çš„èµ·å§‹æ¶ˆæ¯ ID ä¸èƒ½ä¸ºå‚æ•° &gt; ï¼Œè€Œå¿…é¡»æ˜¯ä»»æ„æœ‰æ•ˆçš„æ¶ˆæ¯ IDï¼Œä¸€èˆ¬å°†å‚æ•°è®¾ä¸º 0-0ï¼Œè¡¨ç¤ºè¯»å–æ‰€æœ‰çš„ PEL æ¶ˆæ¯ä»¥åŠè‡ª last_delivered_id ä¹‹åçš„æ–°æ¶ˆæ¯ã€‚ Redis Stream Vs KafkaRedis åŸºäºå†…å­˜å­˜å‚¨ï¼Œè¿™æ„å‘³ç€å®ƒä¼šæ¯”åŸºäºç£ç›˜çš„ Kafka å¿«ä¸Šä¸€äº›ï¼Œä¹Ÿæ„å‘³ç€ä½¿ç”¨ Redis æˆ‘ä»¬ ä¸èƒ½é•¿æ—¶é—´å­˜å‚¨å¤§é‡æ•°æ®ã€‚ä¸è¿‡å¦‚æœæ‚¨æƒ³ä»¥ æœ€å°å»¶è¿Ÿ å®æ—¶å¤„ç†æ¶ˆæ¯çš„è¯ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ Redisï¼Œä½†æ˜¯å¦‚æœ æ¶ˆæ¯å¾ˆå¤§å¹¶ä¸”åº”è¯¥é‡ç”¨æ•°æ® çš„è¯ï¼Œåˆ™åº”è¯¥é¦–å…ˆè€ƒè™‘ä½¿ç”¨ Kafkaã€‚ å¦å¤–ä»æŸäº›è§’åº¦æ¥è¯´ï¼ŒRedis Stream ä¹Ÿæ›´é€‚ç”¨äºå°å‹ã€å»‰ä»·çš„åº”ç”¨ç¨‹åºï¼Œå› ä¸º Kafka ç›¸å¯¹æ¥è¯´æ›´éš¾é…ç½®ä¸€äº›ã€‚ ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ - https://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/ Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äººhttps://www.wmyskxz.com/2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/ Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘ - https://www.wmyskxz.com/2020/03/13/redis-7-chi-jiu-hua-yi-wen-liao-jie/ å‚è€ƒèµ„æ–™ è®¢é˜…ä¸å‘å¸ƒâ€”â€”Redis è®¾è®¡ä¸å®ç° - https://redisbook.readthedocs.io/en/latest/feature/pubsub.html ã€ŠRedis æ·±åº¦å†é™©ã€‹ - é’±æ–‡å“/ è‘— - https://book.douban.com/subject/30386804/ Introduction to Redis Streamsã€å®˜æ–¹æ–‡æ¡£ã€‘ - https://redis.io/topics/streams-intro Kafka vs. Redis: Log Aggregation Capabilities and Performance - https://logz.io/blog/kafka-vs-redis/ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘","slug":"Redis-7-â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘","date":"2020-03-13T10:58:00.000Z","updated":"2020-08-03T09:49:26.746Z","comments":true,"path":"2020/03/13/redis-7-chi-jiu-hua-yi-wen-liao-jie/","link":"","permalink":"http://www.wmyskxz.com/2020/03/13/redis-7-chi-jiu-hua-yi-wen-liao-jie/","excerpt":"","text":"ä¸€ã€æŒä¹…åŒ–ç®€ä»‹Redis çš„æ•°æ® å…¨éƒ¨å­˜å‚¨ åœ¨ å†…å­˜ ä¸­ï¼Œå¦‚æœ çªç„¶å®•æœºï¼Œæ•°æ®å°±ä¼šå…¨éƒ¨ä¸¢å¤±ï¼Œå› æ­¤å¿…é¡»æœ‰ä¸€å¥—æœºåˆ¶æ¥ä¿è¯ Redis çš„æ•°æ®ä¸ä¼šå› ä¸ºæ•…éšœè€Œä¸¢å¤±ï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯ Redis çš„ æŒä¹…åŒ–æœºåˆ¶ï¼Œå®ƒä¼šå°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ ä¿å­˜åˆ°ç£ç›˜ ä¸­ã€‚ æŒä¹…åŒ–å‘ç”Ÿäº†ä»€ä¹ˆ | ä»å†…å­˜åˆ°ç£ç›˜æˆ‘ä»¬æ¥ç¨å¾®è€ƒè™‘ä¸€ä¸‹ Redis ä½œä¸ºä¸€ä¸ª â€œå†…å­˜æ•°æ®åº“â€ è¦åšçš„å…³äºæŒä¹…åŒ–çš„äº‹æƒ…ã€‚é€šå¸¸æ¥è¯´ï¼Œä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚å¼€å§‹ï¼Œåˆ°æœåŠ¡å™¨çœŸå®åœ°å†™å…¥ç£ç›˜ï¼Œéœ€è¦å‘ç”Ÿå¦‚ä¸‹å‡ ä»¶äº‹æƒ…ï¼š è¯¦ç»†ç‰ˆ çš„æ–‡å­—æè¿°å¤§æ¦‚å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š å®¢æˆ·ç«¯å‘æ•°æ®åº“ å‘é€å†™å‘½ä»¤ (æ•°æ®åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­) æ•°æ®åº“ æ¥æ”¶ åˆ°å®¢æˆ·ç«¯çš„ å†™è¯·æ±‚ (æ•°æ®åœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­) æ•°æ®åº“ è°ƒç”¨ç³»ç»Ÿ API å°†æ•°æ®å†™å…¥ç£ç›˜ (æ•°æ®åœ¨å†…æ ¸ç¼“å†²åŒºä¸­) æ“ä½œç³»ç»Ÿå°† å†™ç¼“å†²åŒº ä¼ è¾“åˆ° ç£ç›˜æ§æ§åˆ¶å™¨ (æ•°æ®åœ¨ç£ç›˜ç¼“å­˜ä¸­) æ“ä½œç³»ç»Ÿçš„ç£ç›˜æ§åˆ¶å™¨å°†æ•°æ® å†™å…¥å®é™…çš„ç‰©ç†åª’ä»‹ ä¸­ (æ•°æ®åœ¨ç£ç›˜ä¸­) æ³¨æ„: ä¸Šé¢çš„è¿‡ç¨‹å…¶å®æ˜¯ æåº¦ç²¾ç®€ çš„ï¼Œåœ¨å®é™…çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œç¼“å­˜ å’Œ ç¼“å†²åŒº ä¼šæ¯”è¿™ å¤šå¾—å¤šâ€¦ å¦‚ä½•å°½å¯èƒ½ä¿è¯æŒä¹…åŒ–çš„å®‰å…¨å¦‚æœæˆ‘ä»¬æ•…éšœä»…ä»…æ¶‰åŠåˆ° è½¯ä»¶å±‚é¢ (è¯¥è¿›ç¨‹è¢«ç®¡ç†å‘˜ç»ˆæ­¢æˆ–ç¨‹åºå´©æºƒ) å¹¶ä¸”æ²¡æœ‰æ¥è§¦åˆ°å†…æ ¸ï¼Œé‚£ä¹ˆåœ¨ ä¸Šè¿°æ­¥éª¤ 3 æˆåŠŸè¿”å›ä¹‹åï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæˆåŠŸäº†ã€‚å³ä½¿è¿›ç¨‹å´©æºƒï¼Œæ“ä½œç³»ç»Ÿä»ç„¶ä¼šå¸®åŠ©æˆ‘ä»¬æŠŠæ•°æ®æ­£ç¡®åœ°å†™å…¥ç£ç›˜ã€‚ å¦‚æœæˆ‘ä»¬è€ƒè™‘ åœç”µ/ ç«ç¾ ç­‰ æ›´å…·ç¾éš¾æ€§ çš„äº‹æƒ…ï¼Œé‚£ä¹ˆåªæœ‰åœ¨å®Œæˆäº†ç¬¬ 5 æ­¥ä¹‹åï¼Œæ‰æ˜¯å®‰å…¨çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ€»ç»“å¾—å‡ºæ•°æ®å®‰å…¨æœ€é‡è¦çš„é˜¶æ®µæ˜¯ï¼šæ­¥éª¤ä¸‰ã€å››ã€äº”ï¼Œå³ï¼š æ•°æ®åº“è½¯ä»¶è°ƒç”¨å†™æ“ä½œå°†ç”¨æˆ·ç©ºé—´çš„ç¼“å†²åŒºè½¬ç§»åˆ°å†…æ ¸ç¼“å†²åŒºçš„é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿ å†…æ ¸å¤šä¹…ä»ç¼“å†²åŒºå–æ•°æ®åˆ·æ–°åˆ°ç£ç›˜æ§åˆ¶å™¨ï¼Ÿ ç£ç›˜æ§åˆ¶å™¨å¤šä¹…æŠŠæ•°æ®å†™å…¥ç‰©ç†åª’ä»‹ä¸€æ¬¡ï¼Ÿ æ³¨æ„ï¼š å¦‚æœçœŸçš„å‘ç”Ÿç¾éš¾æ€§çš„äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸Šå›¾çš„è¿‡ç¨‹ä¸­çœ‹åˆ°ï¼Œä»»ä½•ä¸€æ­¥éƒ½å¯èƒ½è¢«æ„å¤–æ‰“æ–­ä¸¢å¤±ï¼Œæ‰€ä»¥åªèƒ½ å°½å¯èƒ½åœ°ä¿è¯ æ•°æ®çš„å®‰å…¨ï¼Œè¿™å¯¹äºæ‰€æœ‰æ•°æ®åº“æ¥è¯´éƒ½æ˜¯ä¸€æ ·çš„ã€‚ æˆ‘ä»¬ä» ç¬¬ä¸‰æ­¥ å¼€å§‹ã€‚Linux ç³»ç»Ÿæä¾›äº†æ¸…æ™°ã€æ˜“ç”¨çš„ç”¨äºæ“ä½œæ–‡ä»¶çš„ POSIX file APIï¼Œ20 å¤šå¹´è¿‡å»ï¼Œä»ç„¶è¿˜æœ‰å¾ˆå¤šäººå¯¹äºè¿™ä¸€å¥— API çš„è®¾è®¡æ´¥æ´¥ä¹é“ï¼Œæˆ‘æƒ³å…¶ä¸­ä¸€ä¸ªåŸå› å°±æ˜¯å› ä¸ºä½ å…‰ä» API çš„å‘½åå°±èƒ½å¤Ÿå¾ˆæ¸…æ™°åœ°çŸ¥é“è¿™ä¸€å¥— API çš„ç”¨é€”ï¼š int open(const char *path, int oflag, .../*,mode_t mode */); int close (int filedes);int remove( const char *fname ); ssize_t write(int fildes, const void *buf, size_t nbyte); ssize_t read(int fildes, void *buf, size_t nbyte); å‚è€ƒè‡ªï¼šAPI è®¾è®¡æœ€ä½³å®è·µçš„æ€è€ƒ - https://www.cnblogs.com/yuanjiangw/p/10846560.html æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¥½çš„å¯ç”¨çš„ API æ¥å®Œæˆ ç¬¬ä¸‰æ­¥ï¼Œä½†æ˜¯å¯¹äºæˆåŠŸè¿”å›ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹ç³»ç»Ÿè°ƒç”¨èŠ±è´¹çš„æ—¶é—´æ²¡æœ‰å¤ªå¤šçš„æ§åˆ¶æƒã€‚ ç„¶åæˆ‘ä»¬æ¥è¯´è¯´ ç¬¬å››æ­¥ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œé™¤äº†æ—©æœŸå¯¹ç”µè„‘ç‰¹åˆ«äº†è§£é‚£å¸®äºº (æ“ä½œç³»ç»Ÿå°±è¿™å¸®äººæçš„)ï¼Œå®é™…çš„ç‰©ç†ç¡¬ä»¶éƒ½ä¸æ˜¯æˆ‘ä»¬èƒ½å¤Ÿ ç›´æ¥æ“ä½œ çš„ï¼Œéƒ½æ˜¯é€šè¿‡ æ“ä½œç³»ç»Ÿè°ƒç”¨ æ¥è¾¾åˆ°ç›®çš„çš„ã€‚ä¸ºäº†é˜²æ­¢è¿‡æ…¢çš„ I/O æ“ä½œæ‹–æ…¢æ•´ä¸ªç³»ç»Ÿçš„è¿è¡Œï¼Œæ“ä½œç³»ç»Ÿå±‚é¢åšäº†å¾ˆå¤šçš„åŠªåŠ›ï¼Œè­¬å¦‚è¯´ ä¸Šè¿°ç¬¬å››æ­¥ æåˆ°çš„ å†™ç¼“å†²åŒºï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å†™æ“ä½œéƒ½ä¼šè¢«ç«‹å³å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯è¦å…ˆç»è¿‡ä¸€ä¸ªç¼“å†²åŒºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒLinux å°†åœ¨ 30 ç§’ åå®é™…æäº¤å†™å…¥ã€‚ ä½†æ˜¯å¾ˆæ˜æ˜¾ï¼Œ30 ç§’ å¹¶ä¸æ˜¯ Redis èƒ½å¤Ÿæ‰¿å—çš„ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœå‘ç”Ÿæ•…éšœï¼Œé‚£ä¹ˆæœ€è¿‘ 30 ç§’å†…å†™å…¥çš„æ‰€æœ‰æ•°æ®éƒ½å¯èƒ½ä¼šä¸¢å¤±ã€‚å¹¸å¥½ PROSIX API æä¾›äº†å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šfsyncï¼Œè¯¥å‘½ä»¤ä¼š å¼ºåˆ¶ å†…æ ¸å°† ç¼“å†²åŒº å†™å…¥ ç£ç›˜ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼š é˜»å¡ç­‰å¾… ç›´åˆ°è®¾å¤‡æŠ¥å‘Š IO å®Œæˆï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨ç”Ÿäº§ç¯å¢ƒçš„æœåŠ¡å™¨ä¸­ï¼ŒRedis é€šå¸¸æ˜¯æ¯éš” 1s å·¦å³æ‰§è¡Œä¸€æ¬¡ fsync æ“ä½œã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬äº†è§£åˆ°äº†å¦‚ä½•æ§åˆ¶ ç¬¬ä¸‰æ­¥ å’Œ ç¬¬å››æ­¥ï¼Œä½†æ˜¯å¯¹äº ç¬¬äº”æ­¥ï¼Œæˆ‘ä»¬ å®Œå…¨æ— æ³•æ§åˆ¶ã€‚ä¹Ÿè®¸ä¸€äº›å†…æ ¸å®ç°å°†è¯•å›¾å‘Šè¯‰é©±åŠ¨å®é™…æäº¤ç‰©ç†ä»‹è´¨ä¸Šçš„æ•°æ®ï¼Œæˆ–è€…æ§åˆ¶å™¨å¯èƒ½ä¼šä¸ºäº†æé«˜é€Ÿåº¦è€Œé‡æ–°æ’åºå†™æ“ä½œï¼Œä¸ä¼šå°½å¿«å°†æ•°æ®çœŸæ­£å†™åˆ°ç£ç›˜ä¸Šï¼Œè€Œæ˜¯ä¼šç­‰å¾…å‡ ä¸ªå¤šæ¯«ç§’ã€‚è¿™å®Œå…¨æ˜¯æˆ‘ä»¬æ— æ³•æ§åˆ¶çš„ã€‚ äºŒã€Redis ä¸­çš„ä¸¤ç§æŒä¹…åŒ–æ–¹å¼æ–¹å¼ä¸€ï¼šå¿«ç…§ Redis å¿«ç…§ æ˜¯æœ€ç®€å•çš„ Redis æŒä¹…æ€§æ¨¡å¼ã€‚å½“æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ï¼Œå®ƒå°†ç”Ÿæˆæ•°æ®é›†çš„æ—¶é—´ç‚¹å¿«ç…§ï¼Œä¾‹å¦‚ï¼Œå¦‚æœå…ˆå‰çš„å¿«ç…§æ˜¯åœ¨2åˆ†é’Ÿå‰åˆ›å»ºçš„ï¼Œå¹¶ä¸”ç°åœ¨å·²ç»è‡³å°‘æœ‰ 100 æ¬¡æ–°å†™å…¥ï¼Œåˆ™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§ã€‚æ­¤æ¡ä»¶å¯ä»¥ç”±ç”¨æˆ·é…ç½® Redis å®ä¾‹æ¥æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹è€Œæ— éœ€é‡æ–°å¯åŠ¨æœåŠ¡å™¨ã€‚å¿«ç…§ä½œä¸ºåŒ…å«æ•´ä¸ªæ•°æ®é›†çš„å•ä¸ª .rdb æ–‡ä»¶ç”Ÿæˆã€‚ ä½†æˆ‘ä»¬çŸ¥é“ï¼ŒRedis æ˜¯ä¸€ä¸ª å•çº¿ç¨‹ çš„ç¨‹åºï¼Œè¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬ä¸ä»…ä»…è¦å“åº”ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¿˜éœ€è¦è¿›è¡Œå†…å­˜å¿«ç…§ã€‚è€Œåè€…è¦æ±‚ Redis å¿…é¡»è¿›è¡Œ IO æ“ä½œï¼Œè¿™ä¼šä¸¥é‡æ‹–ç´¯æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬åœ¨ æŒä¹…åŒ–çš„åŒæ—¶ï¼Œå†…å­˜æ•°æ®ç»“æ„ è¿˜å¯èƒ½åœ¨ å˜åŒ–ï¼Œæ¯”å¦‚ä¸€ä¸ªå¤§å‹çš„ hash å­—å…¸æ­£åœ¨æŒä¹…åŒ–ï¼Œç»“æœä¸€ä¸ªè¯·æ±‚è¿‡æ¥æŠŠå®ƒåˆ é™¤äº†ï¼Œå¯æ˜¯è¿™æ‰åˆšæŒä¹…åŒ–ç»“æŸï¼Œå’‹åŠï¼Ÿ ä½¿ç”¨ç³»ç»Ÿå¤šè¿›ç¨‹ COW(Copy On Write) æœºåˆ¶ | fork å‡½æ•°æ“ä½œç³»ç»Ÿå¤šè¿›ç¨‹ COW(Copy On Write) æœºåˆ¶ æ‹¯æ•‘äº†æˆ‘ä»¬ã€‚Redis åœ¨æŒä¹…åŒ–æ—¶ä¼šè°ƒç”¨ glibc çš„å‡½æ•° fork äº§ç”Ÿä¸€ä¸ªå­è¿›ç¨‹ï¼Œç®€å•ç†è§£ä¹Ÿå°±æ˜¯åŸºäºå½“å‰è¿›ç¨‹ å¤åˆ¶ äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸»è¿›ç¨‹å’Œå­è¿›ç¨‹ä¼šå…±äº«å†…å­˜é‡Œé¢çš„ä»£ç å—å’Œæ•°æ®æ®µï¼š è¿™é‡Œå¤šè¯´ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆ fork æˆåŠŸè°ƒç”¨åä¼šæœ‰ä¸¤ä¸ªè¿”å›å€¼å‘¢ï¼Ÿ å› ä¸ºå­è¿›ç¨‹åœ¨å¤åˆ¶æ—¶å¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„å †æ ˆæ®µï¼Œæ‰€ä»¥ä¸¤ä¸ªè¿›ç¨‹éƒ½åœç•™åœ¨äº† fork å‡½æ•°ä¸­ (éƒ½åœ¨åŒä¸€ä¸ªåœ°æ–¹å¾€ä¸‹ç»§ç»­â€åŒæ—¶â€æ‰§è¡Œ)ï¼Œç­‰å¾…è¿”å›ï¼Œæ‰€ä»¥ *ä¸€æ¬¡åœ¨çˆ¶è¿›ç¨‹ä¸­è¿”å›å­è¿›ç¨‹çš„ pidï¼Œå¦ä¸€æ¬¡åœ¨å­è¿›ç¨‹ä¸­è¿”å›é›¶ï¼Œç³»ç»Ÿèµ„æºä¸å¤Ÿæ—¶è¿”å›è´Ÿæ•°**ã€‚ *(ä¼ªä»£ç å¦‚ä¸‹) pid = os.fork() if pid > 0: handle_client_request() # çˆ¶è¿›ç¨‹ç»§ç»­å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ if pid == 0: handle_snapshot_write() # å­è¿›ç¨‹å¤„ç†å¿«ç…§å†™ç£ç›˜ if pid &lt; 0: # fork error æ‰€ä»¥ å¿«ç…§æŒä¹…åŒ– å¯ä»¥å®Œå…¨äº¤ç»™ å­è¿›ç¨‹ æ¥å¤„ç†ï¼Œçˆ¶è¿›ç¨‹ åˆ™ç»§ç»­ å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚å­è¿›ç¨‹ åšæ•°æ®æŒä¹…åŒ–ï¼Œå®ƒ ä¸ä¼šä¿®æ”¹ç°æœ‰çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œå®ƒåªæ˜¯å¯¹æ•°æ®ç»“æ„è¿›è¡Œéå†è¯»å–ï¼Œç„¶ååºåˆ—åŒ–å†™åˆ°ç£ç›˜ä¸­ã€‚ä½†æ˜¯ çˆ¶è¿›ç¨‹ ä¸ä¸€æ ·ï¼Œå®ƒå¿…é¡»æŒç»­æœåŠ¡å®¢æˆ·ç«¯è¯·æ±‚ï¼Œç„¶åå¯¹ å†…å­˜æ•°æ®ç»“æ„è¿›è¡Œä¸é—´æ–­çš„ä¿®æ”¹ã€‚ è¿™ä¸ªæ—¶å€™å°±ä¼šä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ COW æœºåˆ¶æ¥è¿›è¡Œ æ•°æ®æ®µé¡µé¢ çš„åˆ†ç¦»ã€‚æ•°æ®æ®µæ˜¯ç”±å¾ˆå¤šæ“ä½œç³»ç»Ÿçš„é¡µé¢ç»„åˆè€Œæˆï¼Œå½“çˆ¶è¿›ç¨‹å¯¹å…¶ä¸­ä¸€ä¸ªé¡µé¢çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¼šå°†è¢«å…±äº«çš„é¡µé¢å¤åˆ¶ä¸€ä»½åˆ†ç¦»å‡ºæ¥ï¼Œç„¶å å¯¹è¿™ä¸ªå¤åˆ¶çš„é¡µé¢è¿›è¡Œä¿®æ”¹ã€‚è¿™æ—¶ å­è¿›ç¨‹ ç›¸åº”çš„é¡µé¢æ˜¯ æ²¡æœ‰å˜åŒ–çš„ï¼Œè¿˜æ˜¯è¿›ç¨‹äº§ç”Ÿæ—¶é‚£ä¸€ç¬é—´çš„æ•°æ®ã€‚ å­è¿›ç¨‹å› ä¸ºæ•°æ®æ²¡æœ‰å˜åŒ–ï¼Œå®ƒèƒ½çœ‹åˆ°çš„å†…å­˜é‡Œçš„æ•°æ®åœ¨è¿›ç¨‹äº§ç”Ÿçš„ä¸€ç¬é—´å°±å‡å›ºäº†ï¼Œå†ä¹Ÿä¸ä¼šæ”¹å˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Redis çš„æŒä¹…åŒ– å«ã€Œå¿«ç…§ã€çš„åŸå› ã€‚æ¥ä¸‹æ¥å­è¿›ç¨‹å°±å¯ä»¥éå¸¸å®‰å¿ƒçš„éå†æ•°æ®äº†è¿›è¡Œåºåˆ—åŒ–å†™ç£ç›˜äº†ã€‚ æ–¹å¼äºŒï¼šAOF å¿«ç…§ä¸æ˜¯å¾ˆæŒä¹…ã€‚å¦‚æœè¿è¡Œ Redis çš„è®¡ç®—æœºåœæ­¢è¿è¡Œï¼Œç”µæºçº¿å‡ºç°æ•…éšœæˆ–è€…æ‚¨ kill -9 çš„å®ä¾‹æ„å¤–å‘ç”Ÿï¼Œåˆ™å†™å…¥ Redis çš„æœ€æ–°æ•°æ®å°†ä¸¢å¤±ã€‚å°½ç®¡è¿™å¯¹äºæŸäº›åº”ç”¨ç¨‹åºå¯èƒ½ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä½†æœ‰äº›ä½¿ç”¨æ¡ˆä¾‹å…·æœ‰å……åˆ†çš„è€ç”¨æ€§ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¿«ç…§å¹¶ä¸æ˜¯å¯è¡Œçš„é€‰æ‹©ã€‚ AOF(Append Only File - ä»…è¿½åŠ æ–‡ä»¶) å®ƒçš„å·¥ä½œæ–¹å¼éå¸¸ç®€å•ï¼šæ¯æ¬¡æ‰§è¡Œ ä¿®æ”¹å†…å­˜ ä¸­æ•°æ®é›†çš„å†™æ“ä½œæ—¶ï¼Œéƒ½ä¼š è®°å½• è¯¥æ“ä½œã€‚å‡è®¾ AOF æ—¥å¿—è®°å½•äº†è‡ª Redis å®ä¾‹åˆ›å»ºä»¥æ¥ æ‰€æœ‰çš„ä¿®æ”¹æ€§æŒ‡ä»¤åºåˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡å¯¹ä¸€ä¸ªç©ºçš„ Redis å®ä¾‹ é¡ºåºæ‰§è¡Œæ‰€æœ‰çš„æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯ ã€Œé‡æ”¾ã€ï¼Œæ¥æ¢å¤ Redis å½“å‰å®ä¾‹çš„å†…å­˜æ•°æ®ç»“æ„çš„çŠ¶æ€ã€‚ ä¸ºäº†å±•ç¤º AOF åœ¨å®é™…ä¸­çš„å·¥ä½œæ–¹å¼ï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªç®€å•çš„å®éªŒï¼š ./redis-server --appendonly yes # è®¾ç½®ä¸€ä¸ªæ–°å®ä¾‹ä¸º AOF æ¨¡å¼ ç„¶åæˆ‘ä»¬æ‰§è¡Œä¸€äº›å†™æ“ä½œï¼š redis 127.0.0.1:6379> set key1 Hello OK redis 127.0.0.1:6379> append key1 \" World!\" (integer) 12 redis 127.0.0.1:6379> del key1 (integer) 1 redis 127.0.0.1:6379> del non_existing_key (integer) 0 å‰ä¸‰ä¸ªæ“ä½œå®é™…ä¸Šä¿®æ”¹äº†æ•°æ®é›†ï¼Œç¬¬å››ä¸ªæ“ä½œæ²¡æœ‰ä¿®æ”¹ï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å®šåç§°çš„é”®ã€‚è¿™æ˜¯ AOF æ—¥å¿—ä¿å­˜çš„æ–‡æœ¬ï¼š $ cat appendonly.aof *2 $6 SELECT $1 0 *3 $3 set $4 key1 $5 Hello *3 $6 append $4 key1 $7 World! *2 $3 del $4 key1 å¦‚æ‚¨æ‰€è§ï¼Œæœ€åçš„é‚£ä¸€æ¡ DEL æŒ‡ä»¤ä¸è§äº†ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å¯¹æ•°æ®é›†è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚ å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚å½“ Redis æ”¶åˆ°å®¢æˆ·ç«¯ä¿®æ”¹æŒ‡ä»¤åï¼Œä¼šå…ˆè¿›è¡Œå‚æ•°æ ¡éªŒã€é€»è¾‘å¤„ç†ï¼Œå¦‚æœæ²¡é—®é¢˜ï¼Œå°± ç«‹å³ å°†è¯¥æŒ‡ä»¤æ–‡æœ¬ å­˜å‚¨ åˆ° AOF æ—¥å¿—ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆæ‰§è¡ŒæŒ‡ä»¤å†å°†æ—¥å¿—å­˜ç›˜ã€‚è¿™ä¸€ç‚¹ä¸åŒäº MySQLã€LevelDBã€HBase ç­‰å­˜å‚¨å¼•æ“ï¼Œå¦‚æœæˆ‘ä»¬å…ˆå­˜å‚¨æ—¥å¿—å†åšé€»è¾‘å¤„ç†ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯å³ä½¿å®•æœºäº†ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ä¹‹å‰ä¿å­˜çš„æ—¥å¿—æ¢å¤åˆ°ä¹‹å‰çš„æ•°æ®çŠ¶æ€ï¼Œä½†æ˜¯ Redis ä¸ºä»€ä¹ˆæ²¡æœ‰è¿™ä¹ˆåšå‘¢ï¼Ÿ Emmmâ€¦ æ²¡æ‰¾åˆ°ç‰¹åˆ«æ»¡æ„çš„ç­”æ¡ˆï¼Œå¼•ç”¨ä¸€æ¡æ¥è‡ªçŸ¥ä¹ä¸Šçš„å›ç­”å§ï¼š @ç¼˜äºä¸“æ³¨ - æˆ‘ç”šè‡³è§‰å¾—æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åŸå› ã€‚ä»…ä»…æ˜¯å› ä¸ºï¼Œç”±äºAOFæ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ï¼Œä¸ºäº†é¿å…å†™å…¥æ— æ•ˆæŒ‡ä»¤ï¼ˆé”™è¯¯æŒ‡ä»¤ï¼‰ï¼Œå¿…é¡»å…ˆåšæŒ‡ä»¤æ£€æŸ¥ï¼Ÿå¦‚ä½•æ£€æŸ¥ï¼Œåªèƒ½å…ˆæ‰§è¡Œäº†ã€‚å› ä¸ºè¯­æ³•çº§åˆ«æ£€æŸ¥å¹¶ä¸èƒ½ä¿è¯æŒ‡ä»¤çš„æœ‰æ•ˆæ€§ï¼Œæ¯”å¦‚åˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„keyã€‚è€ŒMySQLè¿™ç§æ˜¯å› ä¸ºå®ƒæœ¬èº«å°±ç»´æŠ¤äº†æ‰€æœ‰çš„è¡¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥è¯­æ³•æ£€æŸ¥åè¿‡æ»¤æ‰å¤§éƒ¨åˆ†æ— æ•ˆæŒ‡ä»¤ç›´æ¥è®°å½•æ—¥å¿—ï¼Œç„¶åå†æ‰§è¡Œã€‚ æ›´å¤šè®¨è®ºå‚è§ï¼šä¸ºä»€ä¹ˆRediså…ˆæ‰§è¡ŒæŒ‡ä»¤ï¼Œå†è®°å½•AOFæ—¥å¿—ï¼Œè€Œä¸æ˜¯åƒå…¶å®ƒå­˜å‚¨å¼•æ“ä¸€æ ·åè¿‡æ¥å‘¢ï¼Ÿ - https://www.zhihu.com/question/342427472 AOF é‡å†™ Redis åœ¨é•¿æœŸè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒAOF çš„æ—¥å¿—ä¼šè¶Šå˜è¶Šé•¿ã€‚å¦‚æœå®ä¾‹å®•æœºé‡å¯ï¼Œé‡æ”¾æ•´ä¸ª AOF æ—¥å¿—ä¼šéå¸¸è€—æ—¶ï¼Œå¯¼è‡´é•¿æ—¶é—´ Redis æ— æ³•å¯¹å¤–æä¾›æœåŠ¡ã€‚æ‰€ä»¥éœ€è¦å¯¹ AOF æ—¥å¿— â€œç˜¦èº«â€ã€‚ Redis æä¾›äº† bgrewriteaof æŒ‡ä»¤ç”¨äºå¯¹ AOF æ—¥å¿—è¿›è¡Œç˜¦èº«ã€‚å…¶ åŸç† å°±æ˜¯ å¼€è¾Ÿä¸€ä¸ªå­è¿›ç¨‹ å¯¹å†…å­˜è¿›è¡Œ éå† è½¬æ¢æˆä¸€ç³»åˆ— Redis çš„æ“ä½œæŒ‡ä»¤ï¼Œåºåˆ—åŒ–åˆ°ä¸€ä¸ªæ–°çš„ AOF æ—¥å¿—æ–‡ä»¶ ä¸­ã€‚åºåˆ—åŒ–å®Œæ¯•åå†å°†æ“ä½œæœŸé—´å‘ç”Ÿçš„ å¢é‡ AOF æ—¥å¿— è¿½åŠ åˆ°è¿™ä¸ªæ–°çš„ AOF æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè¿½åŠ å®Œæ¯•åå°±ç«‹å³æ›¿ä»£æ—§çš„ AOF æ—¥å¿—æ–‡ä»¶äº†ï¼Œç˜¦èº«å·¥ä½œå°±å®Œæˆäº†ã€‚ fsync AOF æ—¥å¿—æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨çš„ï¼Œå½“ç¨‹åºå¯¹ AOF æ—¥å¿—æ–‡ä»¶è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå®é™…ä¸Šæ˜¯å°†å†…å®¹å†™åˆ°äº†å†…æ ¸ä¸ºæ–‡ä»¶æè¿°ç¬¦åˆ†é…çš„ä¸€ä¸ªå†…å­˜ç¼“å­˜ä¸­ï¼Œç„¶åå†…æ ¸ä¼šå¼‚æ­¥å°†è„æ•°æ®åˆ·å›åˆ°ç£ç›˜çš„ã€‚ å°±åƒæˆ‘ä»¬ ä¸Šæ–¹ç¬¬å››æ­¥ æè¿°çš„é‚£æ ·ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ© glibc æä¾›çš„ fsync(int fd) å‡½æ•°æ¥è®²æŒ‡å®šçš„æ–‡ä»¶å†…å®¹ å¼ºåˆ¶ä»å†…æ ¸ç¼“å­˜åˆ·åˆ°ç£ç›˜ã€‚ä½† â€œå¼ºåˆ¶å¼€è½¦â€ ä»ç„¶æ˜¯ä¸€ä¸ªå¾ˆæ¶ˆè€—èµ„æºçš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦ â€œèŠ‚åˆ¶â€ï¼é€šå¸¸æ¥è¯´ï¼Œç”Ÿäº§ç¯å¢ƒçš„æœåŠ¡å™¨ï¼ŒRedis æ¯éš” 1s å·¦å³æ‰§è¡Œä¸€æ¬¡ fsync æ“ä½œå°±å¯ä»¥äº†ã€‚ Redis åŒæ ·ä¹Ÿæä¾›äº†å¦å¤–ä¸¤ç§ç­–ç•¥ï¼Œä¸€ä¸ªæ˜¯ æ°¸ä¸ fsyncï¼Œæ¥è®©æ“ä½œç³»ç»Ÿæ¥å†³å®šåˆé€‚åŒæ­¥ç£ç›˜ï¼Œå¾ˆä¸å®‰å…¨ï¼Œå¦ä¸€ä¸ªæ˜¯ æ¥ä¸€ä¸ªæŒ‡ä»¤å°± fsync ä¸€æ¬¡ï¼Œéå¸¸æ…¢ã€‚ä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒåŸºæœ¬ä¸ä¼šä½¿ç”¨ï¼Œäº†è§£ä¸€ä¸‹å³å¯ã€‚ Redis 4.0 æ··åˆæŒä¹…åŒ– é‡å¯ Redis æ—¶ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ rdb æ¥æ¢å¤å†…å­˜çŠ¶æ€ï¼Œå› ä¸ºä¼šä¸¢å¤±å¤§é‡æ•°æ®ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ AOF æ—¥å¿—é‡æ”¾ï¼Œä½†æ˜¯é‡æ”¾ AOF æ—¥å¿—æ€§èƒ½ç›¸å¯¹ rdb æ¥è¯´è¦æ…¢å¾ˆå¤šï¼Œè¿™æ ·åœ¨ Redis å®ä¾‹å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå¯åŠ¨éœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ã€‚ Redis 4.0 ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¸¦æ¥äº†ä¸€ä¸ªæ–°çš„æŒä¹…åŒ–é€‰é¡¹â€”â€”æ··åˆæŒä¹…åŒ–ã€‚å°† rdb æ–‡ä»¶çš„å†…å®¹å’Œå¢é‡çš„ AOF æ—¥å¿—æ–‡ä»¶å­˜åœ¨ä¸€èµ·ã€‚è¿™é‡Œçš„ AOF æ—¥å¿—ä¸å†æ˜¯å…¨é‡çš„æ—¥å¿—ï¼Œè€Œæ˜¯ è‡ªæŒä¹…åŒ–å¼€å§‹åˆ°æŒä¹…åŒ–ç»“æŸ çš„è¿™æ®µæ—¶é—´å‘ç”Ÿçš„å¢é‡ AOF æ—¥å¿—ï¼Œé€šå¸¸è¿™éƒ¨åˆ† AOF æ—¥å¿—å¾ˆå°ï¼š äºæ˜¯åœ¨ Redis é‡å¯çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆåŠ è½½ rdb çš„å†…å®¹ï¼Œç„¶åå†é‡æ”¾å¢é‡ AOF æ—¥å¿—å°±å¯ä»¥å®Œå…¨æ›¿ä»£ä¹‹å‰çš„ AOF å…¨é‡æ–‡ä»¶é‡æ”¾ï¼Œé‡å¯æ•ˆç‡å› æ­¤å¤§å¹…å¾—åˆ°æå‡ã€‚ ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ - https://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/ Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äººhttps://www.wmyskxz.com/2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/ æ‰©å±•é˜…è¯» Redis æ•°æ®å¤‡ä»½ä¸æ¢å¤ | èœé¸Ÿæ•™ç¨‹ - https://www.runoob.com/redis/redis-backup.html Java Fork/Join æ¡†æ¶ - https://www.cnblogs.com/cjsblog/p/9078341.html å‚è€ƒèµ„æ–™ Redis persistence demystified | antirez weblog (ä½œè€…åšå®¢) - http://oldblog.antirez.com/post/redis-persistence-demystified.html æ“ä½œç³»ç»Ÿ â€” fork()å‡½æ•°çš„ä½¿ç”¨ä¸åº•å±‚åŸç† - https://blog.csdn.net/Dawn_sf/article/details/78709839 ç£ç›˜å’Œå†…å­˜è¯»å†™ç®€å•åŸç† - https://blog.csdn.net/zhanghongzheng3213/article/details/54141202 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äºº","slug":"Redis-6-â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äºº","date":"2020-03-12T00:12:00.000Z","updated":"2020-08-03T09:49:03.789Z","comments":true,"path":"2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/","link":"","permalink":"http://www.wmyskxz.com/2020/03/12/redis-6-geohash-cha-zhao-fu-jin-de-ren/","excerpt":"","text":"åƒå¾®ä¿¡ â€œé™„è¿‘çš„äººâ€ï¼Œç¾å›¢ â€œé™„è¿‘çš„é¤å…â€ï¼Œæ”¯ä»˜å®å…±äº«å•è½¦ â€œé™„è¿‘çš„è½¦â€ æ˜¯æ€ä¹ˆè®¾è®¡å®ç°çš„å‘¢ï¼Ÿ ä¸€ã€ä½¿ç”¨æ•°æ®åº“å®ç°æŸ¥æ‰¾é™„è¿‘çš„äººæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ°çƒä¸Šçš„ä»»ä½•ä¸€ä¸ªä½ç½®éƒ½å¯ä»¥ä½¿ç”¨äºŒç»´çš„ ç»çº¬åº¦ æ¥è¡¨ç¤ºï¼Œç»åº¦èŒƒå›´ [-180, 180]ï¼Œçº¬åº¦èŒƒå›´ *[-90, 90]ï¼Œçº¬åº¦æ­£è´Ÿä»¥èµ¤é“ä¸ºç•Œï¼ŒåŒ—æ­£å—è´Ÿï¼Œç»åº¦æ­£è´Ÿä»¥æœ¬åˆå­åˆçº¿ *(è‹±å›½æ ¼æ—å°¼æ²»å¤©æ–‡å°) ä¸ºç•Œï¼Œä¸œæ­£è¥¿è´Ÿã€‚æ¯”å¦‚è¯´ï¼ŒåŒ—äº¬äººæ°‘è‹±é›„çºªå¿µç¢‘çš„ç»çº¬åº¦åæ ‡å°±æ˜¯ (39.904610, 116.397724)ï¼Œéƒ½æ˜¯æ­£æ•°ï¼Œå› ä¸ºä¸­å›½ä½äºä¸œåŒ—åŠçƒã€‚ æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æ•°æ®åº“å­˜å‚¨äº†æ‰€æœ‰äººçš„ ç»çº¬åº¦ ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åŸºäºå½“å‰çš„åæ ‡èŠ‚ç‚¹ï¼Œæ¥åˆ’åˆ†å‡ºä¸€ä¸ªçŸ©å½¢çš„èŒƒå›´ï¼Œæ¥å¾—çŸ¥é™„è¿‘çš„äººï¼Œå¦‚ä¸‹å›¾ï¼š æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å†™å‡ºä¸‹åˆ—çš„ä¼ª SQL è¯­å¥ï¼š SELECT id FROM positions WHERE x0 - r &lt; x &lt; x0 + r AND y0 - r &lt; y &lt; y0 + r å¦‚æœæˆ‘ä»¬è¿˜æƒ³è¿›ä¸€æ­¥åœ°çŸ¥é“ä¸æ¯ä¸ªåæ ‡å…ƒç´ çš„è·ç¦»å¹¶æ’åºçš„è¯ï¼Œå°±éœ€è¦ä¸€å®šçš„è®¡ç®—ã€‚ å½“ä¸¤ä¸ªåæ ‡å…ƒç´ çš„è·ç¦»ä¸æ˜¯å¾ˆè¿œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€å•åˆ©ç”¨ å‹¾è‚¡å®šç† å°±èƒ½å¤Ÿå¾—å‡ºä»–ä»¬ä¹‹é—´çš„ è·ç¦»ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ°çƒä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„çƒä½“ï¼Œç»çº¬åº¦çš„å¯†åº¦ æ˜¯ ä¸ä¸€æ · çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å‹¾è‚¡å®šç†è®¡ç®—å¹³æ–¹ä¹‹åå†æ±‚å’Œæ—¶ï¼Œéœ€è¦æŒ‰ç…§ä¸€å®šçš„ç³»æ•° åŠ æƒ å†è¿›è¡Œæ±‚å’Œã€‚å½“ç„¶ï¼Œå¦‚æœä¸å‡†æ±‚ç²¾ç¡®çš„è¯ï¼ŒåŠ æƒä¹Ÿä¸å¿…äº†ã€‚ å‚è€ƒä¸‹æ–¹ å‚è€ƒèµ„æ–™ 2 æˆ‘ä»¬èƒ½å¤Ÿå·®ä¸å¤šèƒ½å†™å‡ºå¦‚ä¸‹ä¼˜åŒ–ä¹‹åçš„ SQL è¯­å¥æ¥ï¼š(ä»…ä¾›å‚è€ƒ) SELECT * FROM users_location WHERE latitude > '.$lat.' - 1 AND latitude &lt; '.$lat.' + 1 AND longitude > '.$lon.' - 1 AND longitude &lt; '.$lon.' + 1 ORDER BY ACOS( SIN( ( '.$lat.' * 3.1415 ) / 180 ) * SIN( ( latitude * 3.1415 ) / 180 ) + COS( ( '.$lat.' * 3.1415 ) / 180 ) * COS( ( latitude * 3.1415 ) / 180 ) * COS( ( '.$lon.' * 3.1415 ) / 180 - ( longitude * 3.1415 ) / 180 ) ) * 6380 ASC LIMIT 10 '; ä¸ºäº†æ»¡è¶³é«˜æ€§èƒ½çš„çŸ©å½¢åŒºåŸŸç®—æ³•ï¼Œæ•°æ®è¡¨ä¹Ÿéœ€è¦æŠŠç»çº¬åº¦åæ ‡åŠ ä¸Š åŒå‘å¤åˆç´¢å¼• (x, y)ï¼Œè¿™æ ·å¯ä»¥æ»¡è¶³æœ€å¤§ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ã€‚ äºŒã€GeoHash ç®—æ³•ç®€è¿°è¿™æ˜¯ä¸šç•Œæ¯”è¾ƒé€šç”¨çš„ï¼Œç”¨äº åœ°ç†ä½ç½®è·ç¦»æ’åº çš„ä¸€ä¸ªç®—æ³•ï¼ŒRedis ä¹Ÿé‡‡ç”¨äº†è¿™æ ·çš„ç®—æ³•ã€‚GeoHash ç®—æ³•å°† äºŒç»´çš„ç»çº¬åº¦ æ•°æ®æ˜ å°„åˆ° ä¸€ç»´ çš„æ•´æ•°ï¼Œè¿™æ ·æ‰€æœ‰çš„å…ƒç´ éƒ½å°†åœ¨æŒ‚è½½åˆ°ä¸€æ¡çº¿ä¸Šï¼Œè·ç¦»é è¿‘çš„äºŒç»´åæ ‡æ˜ å°„åˆ°ä¸€ç»´åçš„ç‚¹ä¹‹é—´è·ç¦»ä¹Ÿä¼šå¾ˆæ¥è¿‘ã€‚å½“æˆ‘ä»¬æƒ³è¦è®¡ç®— ã€Œé™„è¿‘çš„äººæ—¶ã€ï¼Œé¦–å…ˆå°†ç›®æ ‡ä½ç½®æ˜ å°„åˆ°è¿™æ¡çº¿ä¸Šï¼Œç„¶ååœ¨è¿™ä¸ªä¸€ç»´çš„çº¿ä¸Šè·å–é™„è¿‘çš„ç‚¹å°±è¡Œäº†ã€‚ å®ƒçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æŠŠæ•´ä¸ªåœ°çƒçœ‹æˆæ˜¯ä¸€ä¸ª äºŒç»´çš„å¹³é¢ï¼Œç„¶åæŠŠè¿™ä¸ªå¹³é¢ä¸æ–­åœ°ç­‰åˆ†æˆä¸€ä¸ªä¸€ä¸ªå°çš„æ–¹æ ¼ï¼Œæ¯ä¸€ä¸ª åæ ‡å…ƒç´ éƒ½ä½äºå…¶ä¸­çš„ å”¯ä¸€ä¸€ä¸ªæ–¹æ ¼ ä¸­ï¼Œç­‰åˆ†ä¹‹åçš„ æ–¹æ ¼è¶Šå°ï¼Œé‚£ä¹ˆåæ ‡ä¹Ÿå°± è¶Šç²¾ç¡®ï¼Œç±»ä¼¼ä¸‹å›¾ï¼š ç»è¿‡åˆ’åˆ†çš„åœ°çƒï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œç¼–ç ï¼š ç»è¿‡è¿™æ ·é¡ºåºçš„ç¼–ç ä¹‹åï¼Œå¦‚æœä½ ä»”ç»†è§‚å¯Ÿä¸€ä¼šå„¿ï¼Œä½ å°±ä¼šå‘ç°ä¸€äº›è§„å¾‹ï¼š æ¨ªç€çš„æ‰€æœ‰ç¼–ç ä¸­ï¼Œç¬¬ 2 ä½å’Œç¬¬ 4 ä½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ç¬¬ä¸€æ’ç¬¬ä¸€ä¸ª 0101 å’Œç¬¬äºŒä¸ª 0111ï¼Œä»–ä»¬çš„ç¬¬ 2 ä½å’Œç¬¬ 4 ä½éƒ½æ˜¯ 1ï¼› ç«–ç€çš„æ‰€æœ‰ç¼–ç ä¸­ï¼Œç¬¬ 1 ä½å’Œç¬¬ 3 ä½æ˜¯é€’å¢çš„ï¼Œä¾‹å¦‚ç¬¬ä¸€æ’ç¬¬ä¸€ä¸ª 0101ï¼Œå¦‚æœå•ç‹¬æŠŠç¬¬ 1 ä½å’Œç¬¬ 3 ä½æ‹å‡ºæ¥çš„è¯ï¼Œé‚£å°±æ˜¯ 00ï¼ŒåŒç†çœ‹ç¬¬ä¸€æ’ç¬¬äºŒä¸ª 0111ï¼ŒåŒæ ·çš„æ–¹æ³•ç¬¬ 1 ä½å’Œç¬¬ 3 ä½æ‹å‡ºæ¥æ˜¯ 01ï¼Œåˆšå¥½æ˜¯ 00 é€’å¢ä¸€ä¸ªï¼› é€šè¿‡è¿™æ ·çš„è§„å¾‹æˆ‘ä»¬å°±æŠŠæ¯ä¸€ä¸ªå°æ–¹å—å„¿è¿›è¡Œäº†ä¸€å®šé¡ºåºçš„ç¼–ç ï¼Œè¿™æ ·åšçš„ å¥½å¤„ æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šæ¯ä¸€ä¸ªå…ƒç´ åæ ‡æ—¢èƒ½å¤Ÿè¢« å”¯ä¸€æ ‡è¯† åœ¨è¿™å¼ è¢«ç¼–ç çš„åœ°å›¾ä¸Šï¼Œä¹Ÿä¸è‡³äº æš´éœ²ç‰¹åˆ«çš„å…·ä½“çš„ä½ç½®ï¼Œå› ä¸ºåŒºåŸŸæ˜¯å…±äº«çš„ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ æˆ‘å°±åœ¨å…¬å›­é™„è¿‘ï¼Œä½†æ˜¯åœ¨å…·ä½“çš„å“ªä¸ªåœ°æ–¹ä½ å°±æ— ä»å¾—çŸ¥äº†ã€‚ æ€»ä¹‹ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„æ€æƒ³ï¼Œèƒ½å¤ŸæŠŠä»»æ„åæ ‡å˜æˆä¸€ä¸²äºŒè¿›åˆ¶çš„ç¼–ç äº†ï¼Œç±»ä¼¼äº 11010010110001000100 è¿™æ · (æ³¨æ„ç»åº¦å’Œç»´åº¦æ˜¯äº¤æ›¿å‡ºç°çš„å“¦..)ï¼Œé€šè¿‡è¿™ä¸ªæ•´æ•°æˆ‘ä»¬å°±å¯ä»¥è¿˜åŸå‡ºå…ƒç´ çš„åæ ‡ï¼Œæ•´æ•°è¶Šé•¿ï¼Œè¿˜åŸå‡ºæ¥çš„åæ ‡å€¼çš„æŸå¤±ç¨‹åºå°±è¶Šå°ã€‚å¯¹äº â€œé™„è¿‘çš„äººâ€ è¿™ä¸ªåŠŸèƒ½æ¥è¯´ï¼ŒæŸå¤±çš„ä¸€ç‚¹ç»åº¦å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ æœ€åå°±æ˜¯ä¸€ä¸ª Base32 (09, az, å»æ‰ a/i/l/o å››ä¸ªå­—æ¯) çš„ç¼–ç æ“ä½œï¼Œè®©å®ƒå˜æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ä¸Šé¢é‚£ä¸€ä¸²å„¿å°±å˜æˆäº† wx4g0ec1ã€‚ åœ¨ Redis ä¸­ï¼Œç»çº¬åº¦ä½¿ç”¨ 52 ä½çš„æ•´æ•°è¿›è¡Œç¼–ç ï¼Œæ”¾è¿›äº† zset é‡Œé¢ï¼Œzset çš„ value æ˜¯å…ƒç´ çš„ keyï¼Œscore æ˜¯ GeoHash çš„ 52 ä½æ•´æ•°å€¼ã€‚zset çš„ score è™½ç„¶æ˜¯æµ®ç‚¹æ•°ï¼Œä½†æ˜¯å¯¹äº 52 ä½çš„æ•´æ•°å€¼æ¥è¯´ï¼Œå®ƒå¯ä»¥æ— æŸå­˜å‚¨ã€‚ ä¸‰ã€åœ¨ Redis ä¸­ä½¿ç”¨ Geo ä¸‹æ–¹å†…å®¹å¼•è‡ª å‚è€ƒèµ„æ–™ 1 - ã€ŠRedis æ·±åº¦å†é™©ã€‹ åœ¨ä½¿ç”¨ Redis è¿›è¡Œ Geo æŸ¥è¯¢ æ—¶ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»æƒ³åˆ°å®ƒçš„å†…éƒ¨ç»“æ„å®é™…ä¸Šåªæ˜¯ä¸€ä¸ª zset(skiplist)ã€‚é€šè¿‡ zset çš„ score æ’åºå°±å¯ä»¥å¾—åˆ°åæ ‡é™„è¿‘çš„å…¶ä»–å…ƒç´  (å®é™…æƒ…å†µè¦å¤æ‚ä¸€äº›ï¼Œä¸è¿‡è¿™æ ·ç†è§£è¶³å¤Ÿäº†)ï¼Œé€šè¿‡å°† score è¿˜åŸæˆåæ ‡å€¼å°±å¯ä»¥å¾—åˆ°å…ƒç´ çš„åŸå§‹åæ ‡äº†ã€‚ Redis æä¾›çš„ Geo æŒ‡ä»¤åªæœ‰ 6 ä¸ªï¼Œå¾ˆå®¹æ˜“å°±å¯ä»¥æŒæ¡ã€‚ å¢åŠ geoadd æŒ‡ä»¤æºå¸¦é›†åˆåç§°ä»¥åŠå¤šä¸ªç»çº¬åº¦åç§°ä¸‰å…ƒç»„ï¼Œæ³¨æ„è¿™é‡Œå¯ä»¥åŠ å…¥å¤šä¸ªä¸‰å…ƒç»„ã€‚ 127.0.0.1:6379> geoadd company 116.48105 39.996794 juejin (integer) 1 127.0.0.1:6379> geoadd company 116.514203 39.905409 ireader (integer) 1 127.0.0.1:6379> geoadd company 116.489033 40.007669 meituan (integer) 1 127.0.0.1:6379> geoadd company 116.562108 39.787602 jd 116.334255 40.027400 xiaomi (integer) 2 ä¸è¿‡å¾ˆå¥‡æ€ª.. Redis æ²¡æœ‰ç›´æ¥æä¾› Geo çš„åˆ é™¤æŒ‡ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ zset ç›¸å…³çš„æŒ‡ä»¤æ¥æ“ä½œ Geo æ•°æ®ï¼Œæ‰€ä»¥å…ƒç´ åˆ é™¤å¯ä»¥ä½¿ç”¨ zrem æŒ‡ä»¤å³å¯ã€‚ è·ç¦»geodist æŒ‡ä»¤å¯ä»¥ç”¨æ¥è®¡ç®—ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„è·ç¦»ï¼Œæºå¸¦é›†åˆåç§°ã€2 ä¸ªåç§°å’Œè·ç¦»å•ä½ã€‚ 127.0.0.1:6379> geodist company juejin ireader km \"10.5501\" 127.0.0.1:6379> geodist company juejin meituan km \"1.3878\" 127.0.0.1:6379> geodist company juejin jd km \"24.2739\" 127.0.0.1:6379> geodist company juejin xiaomi km \"12.9606\" 127.0.0.1:6379> geodist company juejin juejin km \"0.0000\" æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜é‡‘ç¦»ç¾å›¢æœ€è¿‘ï¼Œå› ä¸ºå®ƒä»¬éƒ½åœ¨æœ›äº¬ã€‚è·ç¦»å•ä½å¯ä»¥æ˜¯ mã€kmã€mlã€ftï¼Œåˆ†åˆ«ä»£è¡¨ç±³ã€åƒç±³ã€è‹±é‡Œå’Œå°ºã€‚ è·å–å…ƒç´ ä½ç½®geopos æŒ‡ä»¤å¯ä»¥è·å–é›†åˆä¸­ä»»æ„å…ƒç´ çš„ç»çº¬åº¦åæ ‡ï¼Œå¯ä»¥ä¸€æ¬¡è·å–å¤šä¸ªã€‚ 127.0.0.1:6379> geopos company juejin 1) 1) \"116.48104995489120483\" 2) \"39.99679348858259686\" 127.0.0.1:6379> geopos company ireader 1) 1) \"116.5142020583152771\" 2) \"39.90540918662494363\" 127.0.0.1:6379> geopos company juejin ireader 1) 1) \"116.48104995489120483\" 2) \"39.99679348858259686\" 2) 1) \"116.5142020583152771\" 2) \"39.90540918662494363\" æˆ‘ä»¬è§‚å¯Ÿåˆ°è·å–çš„ç»çº¬åº¦åæ ‡å’Œ geoadd è¿›å»çš„åæ ‡æœ‰è½»å¾®çš„è¯¯å·®ï¼ŒåŸå› æ˜¯ Geohash å¯¹äºŒç»´åæ ‡è¿›è¡Œçš„ä¸€ç»´æ˜ å°„æ˜¯æœ‰æŸçš„ï¼Œé€šè¿‡æ˜ å°„å†è¿˜åŸå›æ¥çš„å€¼ä¼šå‡ºç°è¾ƒå°çš„å·®åˆ«ã€‚å¯¹äº ã€Œé™„è¿‘çš„äººã€ è¿™ç§åŠŸèƒ½æ¥è¯´ï¼Œè¿™ç‚¹è¯¯å·®æ ¹æœ¬ä¸æ˜¯äº‹ã€‚ è·å–å…ƒç´ çš„ hash å€¼geohash å¯ä»¥è·å–å…ƒç´ çš„ç»çº¬åº¦ç¼–ç å­—ç¬¦ä¸²ï¼Œä¸Šé¢å·²ç»æåˆ°ï¼Œå®ƒæ˜¯ base32 ç¼–ç ã€‚ ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¼–ç å€¼å» http://geohash.org/${hash} ä¸­è¿›è¡Œç›´æ¥å®šä½ï¼Œå®ƒæ˜¯ Geohash çš„æ ‡å‡†ç¼–ç å€¼ã€‚ 127.0.0.1:6379> geohash company ireader 1) \"wx4g52e1ce0\" 127.0.0.1:6379> geohash company juejin 1) \"wx4gd94yjn0\" è®©æˆ‘ä»¬æ‰“å¼€åœ°å€ http://geohash.org/wx4g52e1ce0ï¼Œè§‚å¯Ÿåœ°å›¾æŒ‡å‘çš„ä½ç½®æ˜¯å¦æ­£ç¡®ï¼š å¾ˆå¥½ï¼Œå°±æ˜¯è¿™ä¸ªä½ç½®ï¼Œéå¸¸å‡†ç¡®ã€‚ é™„è¿‘çš„å…¬å¸georadiusbymember æŒ‡ä»¤æ˜¯æœ€ä¸ºå…³é”®çš„æŒ‡ä»¤ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŸ¥è¯¢æŒ‡å®šå…ƒç´ é™„è¿‘çš„å…¶å®ƒå…ƒç´ ï¼Œå®ƒçš„å‚æ•°éå¸¸å¤æ‚ã€‚ # èŒƒå›´ 20 å…¬é‡Œä»¥å†…æœ€å¤š 3 ä¸ªå…ƒç´ æŒ‰è·ç¦»æ­£æ’ï¼Œå®ƒä¸ä¼šæ’é™¤è‡ªèº« 127.0.0.1:6379> georadiusbymember company ireader 20 km count 3 asc 1) \"ireader\" 2) \"juejin\" 3) \"meituan\" # èŒƒå›´ 20 å…¬é‡Œä»¥å†…æœ€å¤š 3 ä¸ªå…ƒç´ æŒ‰è·ç¦»å€’æ’ 127.0.0.1:6379> georadiusbymember company ireader 20 km count 3 desc 1) \"jd\" 2) \"meituan\" 3) \"juejin\" # ä¸‰ä¸ªå¯é€‰å‚æ•° withcoord withdist withhash ç”¨æ¥æºå¸¦é™„åŠ å‚æ•° # withdist å¾ˆæœ‰ç”¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ˜¾ç¤ºè·ç¦» 127.0.0.1:6379> georadiusbymember company ireader 20 km withcoord withdist withhash count 3 asc 1) 1) \"ireader\" 2) \"0.0000\" 3) (integer) 4069886008361398 4) 1) \"116.5142020583152771\" 2) \"39.90540918662494363\" 2) 1) \"juejin\" 2) \"10.5501\" 3) (integer) 4069887154388167 4) 1) \"116.48104995489120483\" 2) \"39.99679348858259686\" 3) 1) \"meituan\" 2) \"11.5748\" 3) (integer) 4069887179083478 4) 1) \"116.48903220891952515\" 2) \"40.00766997707732031\" é™¤äº† georadiusbymember æŒ‡ä»¤æ ¹æ®å…ƒç´ æŸ¥è¯¢é™„è¿‘çš„å…ƒç´ ï¼ŒRedis è¿˜æä¾›äº†æ ¹æ®åæ ‡å€¼æ¥æŸ¥è¯¢é™„è¿‘çš„å…ƒç´ ï¼Œè¿™ä¸ªæŒ‡ä»¤æ›´åŠ æœ‰ç”¨ï¼Œå®ƒå¯ä»¥æ ¹æ®ç”¨æˆ·çš„å®šä½æ¥è®¡ç®—ã€Œé™„è¿‘çš„è½¦ã€ï¼Œã€Œé™„è¿‘çš„é¤é¦†ã€ç­‰ã€‚å®ƒçš„å‚æ•°å’Œ georadiusbymember åŸºæœ¬ä¸€è‡´ï¼Œé™¤äº†å°†ç›®æ ‡å…ƒç´ æ”¹æˆç»çº¬åº¦åæ ‡å€¼ï¼š 127.0.0.1:6379> georadius company 116.514202 39.905409 20 km withdist count 3 asc 1) 1) \"ireader\" 2) \"0.0000\" 2) 1) \"juejin\" 2) \"10.5501\" 3) 1) \"meituan\" 2) \"11.5748\" æ³¨æ„äº‹é¡¹åœ¨ä¸€ä¸ªåœ°å›¾åº”ç”¨ä¸­ï¼Œè½¦çš„æ•°æ®ã€é¤é¦†çš„æ•°æ®ã€äººçš„æ•°æ®å¯èƒ½ä¼šæœ‰ç™¾ä¸‡åƒä¸‡æ¡ï¼Œå¦‚æœä½¿ç”¨ Redis çš„ Geo æ•°æ®ç»“æ„ï¼Œå®ƒä»¬å°† å…¨éƒ¨æ”¾åœ¨ä¸€ä¸ª zset é›†åˆä¸­ã€‚åœ¨ Redis çš„é›†ç¾¤ç¯å¢ƒä¸­ï¼Œé›†åˆå¯èƒ½ä¼šä»ä¸€ä¸ªèŠ‚ç‚¹è¿ç§»åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœå•ä¸ª key çš„æ•°æ®è¿‡å¤§ï¼Œä¼šå¯¹é›†ç¾¤çš„è¿ç§»å·¥ä½œé€ æˆè¾ƒå¤§çš„å½±å“ï¼Œåœ¨é›†ç¾¤ç¯å¢ƒä¸­å•ä¸ª key å¯¹åº”çš„æ•°æ®é‡ä¸å®œè¶…è¿‡ 1Mï¼Œå¦åˆ™ä¼šå¯¼è‡´é›†ç¾¤è¿ç§»å‡ºç°å¡é¡¿ç°è±¡ï¼Œå½±å“çº¿ä¸ŠæœåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚ æ‰€ä»¥ï¼Œè¿™é‡Œå»ºè®® Geo çš„æ•°æ®ä½¿ç”¨ å•ç‹¬çš„ Redis å®ä¾‹éƒ¨ç½²ï¼Œä¸ä½¿ç”¨é›†ç¾¤ç¯å¢ƒã€‚ å¦‚æœæ•°æ®é‡è¿‡äº¿ç”šè‡³æ›´å¤§ï¼Œå°±éœ€è¦å¯¹ Geo æ•°æ®è¿›è¡Œæ‹†åˆ†ï¼ŒæŒ‰å›½å®¶æ‹†åˆ†ã€æŒ‰çœæ‹†åˆ†ï¼ŒæŒ‰å¸‚æ‹†åˆ†ï¼Œåœ¨äººå£ç‰¹å¤§åŸå¸‚ç”šè‡³å¯ä»¥æŒ‰åŒºæ‹†åˆ†ã€‚è¿™æ ·å°±å¯ä»¥æ˜¾è‘—é™ä½å•ä¸ª zset é›†åˆçš„å¤§å°ã€‚ ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ - https://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/ å‚è€ƒèµ„æ–™ ã€ŠRedis æ·±åº¦å†é™©ã€‹ - é’±æ–‡å“/ è‘— - https://book.douban.com/subject/30386804/ mysqlç»çº¬åº¦æŸ¥è¯¢å¹¶ä¸”è®¡ç®—2KMèŒƒå›´å†…é™„è¿‘ç”¨æˆ·çš„sqlæŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–å®ä¾‹æ•™ç¨‹ - https://www.cnblogs.com/mgbert/p/4146538.html Geohashç®—æ³•åŸç†åŠå®ç° - https://www.jianshu.com/p/2fd0cf12e5ba GeoHashç®—æ³•å­¦ä¹ è®²è§£ã€è§£æåŠåŸç†åˆ†æ - https://zhuanlan.zhihu.com/p/35940647 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨","slug":"Redis-5-â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨","date":"2020-03-11T11:02:00.000Z","updated":"2020-08-03T09:48:35.544Z","comments":true,"path":"2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/","link":"","permalink":"http://www.wmyskxz.com/2020/03/11/redis-5-yi-ji-shu-ju-guo-lu-he-bu-long-guo-lu-qi/","excerpt":"","text":"ä¸€ã€å¸ƒéš†è¿‡æ»¤å™¨ç®€ä»‹ä¸Šä¸€æ¬¡ æˆ‘ä»¬å­¦ä¼šäº†ä½¿ç”¨ HyperLogLog æ¥å¯¹å¤§æ•°æ®è¿›è¡Œä¸€ä¸ªä¼°ç®—ï¼Œå®ƒéå¸¸æœ‰ä»·å€¼ï¼Œå¯ä»¥è§£å†³å¾ˆå¤šç²¾ç¡®åº¦ä¸é«˜çš„ç»Ÿè®¡éœ€æ±‚ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“æŸä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯å·²ç»åœ¨ HyperLogLog ç»“æ„é‡Œé¢äº†ï¼Œå®ƒå°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œå®ƒåªæä¾›äº† pfadd å’Œ pfcount æ–¹æ³•ï¼Œæ²¡æœ‰æä¾›ç±»ä¼¼äº contains çš„è¿™ç§æ–¹æ³•ã€‚ å°±ä¸¾ä¸€ä¸ªåœºæ™¯å§ï¼Œæ¯”å¦‚ä½  åˆ·æŠ–éŸ³ï¼š ä½ æœ‰ åˆ·åˆ°è¿‡é‡å¤çš„æ¨èå†…å®¹ å—ï¼Ÿè¿™ä¹ˆå¤šçš„æ¨èå†…å®¹è¦æ¨èç»™è¿™ä¹ˆå¤šçš„ç”¨æˆ·ï¼Œå®ƒæ˜¯æ€ä¹ˆä¿è¯æ¯ä¸ªç”¨æˆ·åœ¨çœ‹æ¨èå†…å®¹æ—¶ï¼Œä¿è¯ä¸ä¼šå‡ºç°ä¹‹å‰å·²ç»çœ‹è¿‡çš„æ¨èè§†é¢‘å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ–éŸ³æ˜¯å¦‚ä½•å®ç° æ¨é€å»é‡ çš„å‘¢ï¼Ÿ ä½ ä¼šæƒ³åˆ°æœåŠ¡å™¨ è®°å½• äº†ç”¨æˆ·çœ‹è¿‡çš„ æ‰€æœ‰å†å²è®°å½•ï¼Œå½“æ¨èç³»ç»Ÿæ¨èçŸ­è§†é¢‘æ—¶ä¼šä»æ¯ä¸ªç”¨æˆ·çš„å†å²è®°å½•é‡Œè¿›è¡Œ ç­›é€‰ï¼Œè¿‡æ»¤æ‰é‚£äº›å·²ç»å­˜åœ¨çš„è®°å½•ã€‚é—®é¢˜æ˜¯å½“ ç”¨æˆ·é‡å¾ˆå¤§ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹è¿‡çš„çŸ­è§†é¢‘åˆå¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ–¹å¼ï¼Œæ¨èç³»ç»Ÿçš„å»é‡å·¥ä½œ åœ¨æ€§èƒ½ä¸Šè·Ÿçš„ä¸Šä¹ˆï¼Ÿ å®é™…ä¸Šï¼Œå¦‚æœå†å²è®°å½•å­˜å‚¨åœ¨å…³ç³»æ•°æ®åº“é‡Œï¼Œå»é‡å°±éœ€è¦é¢‘ç¹åœ°å¯¹æ•°æ®åº“è¿›è¡Œ exists æŸ¥è¯¢ï¼Œå½“ç³»ç»Ÿå¹¶å‘é‡å¾ˆé«˜æ—¶ï¼Œæ•°æ®åº“æ˜¯å¾ˆéš¾æŠ—ä½å‹åŠ›çš„ã€‚ ä½ å¯èƒ½åˆæƒ³åˆ°äº† ç¼“å­˜ï¼Œä½†æ˜¯è¿™ä¹ˆå¤šç”¨æˆ·è¿™ä¹ˆå¤šçš„å†å²è®°å½•ï¼Œå¦‚æœå…¨éƒ¨ç¼“å­˜èµ·æ¥ï¼Œé‚£å¾—éœ€è¦ æµªè´¹å¤šå¤§çš„ç©ºé—´ å•Š.. (å¯èƒ½è€æ¿çœ‹ä¸€çœ¼è´¦å•ï¼Œçœ‹ä¸€çœ¼ä½ ..) å¹¶ä¸”è¿™ä¸ªå­˜å‚¨ç©ºé—´ä¼šéšç€æ—¶é—´å‘ˆçº¿æ€§å¢é•¿ï¼Œå°±ç®—ä½ ç”¨ç¼“å­˜æ’‘å¾—ä½ä¸€ä¸ªæœˆï¼Œä½†æ˜¯åˆèƒ½ç»§ç»­æ’‘å¤šä¹…å‘¢ï¼Ÿä¸ç¼“å­˜æ€§èƒ½åˆè·Ÿä¸ä¸Šï¼Œå’‹åŠå‘¢ï¼Ÿ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¸ƒéš†è¿‡æ»¤å™¨(Bloom Filter) å°±æ˜¯è¿™æ ·ä¸€ç§ä¸“é—¨ç”¨æ¥è§£å†³å»é‡é—®é¢˜çš„é«˜çº§æ•°æ®ç»“æ„ã€‚ä½†æ˜¯è·Ÿ HyperLogLog ä¸€æ ·ï¼Œå®ƒä¹Ÿä¸€æ ·æœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹ä¸ç²¾ç¡®ï¼Œä¹Ÿå­˜åœ¨ä¸€å®šçš„è¯¯åˆ¤æ¦‚ç‡ï¼Œä½†å®ƒèƒ½åœ¨è§£å†³å»é‡çš„åŒæ—¶ï¼Œåœ¨ ç©ºé—´ä¸Šèƒ½èŠ‚çœ 90% ä»¥ä¸Šï¼Œä¹Ÿæ˜¯éå¸¸å€¼å¾—çš„ã€‚ å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä»€ä¹ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰ æ˜¯ 1970 å¹´ç”±å¸ƒéš†æå‡ºçš„ã€‚å®ƒ å®é™…ä¸Š æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡å’Œä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•° (ä¸‹é¢è¯¦ç»†è¯´)ï¼Œå®é™…ä¸Šä½ ä¹Ÿå¯ä»¥æŠŠå®ƒ ç®€å•ç†è§£ ä¸ºä¸€ä¸ªä¸æ€ä¹ˆç²¾ç¡®çš„ set ç»“æ„ï¼Œå½“ä½ ä½¿ç”¨å®ƒçš„ contains æ–¹æ³•åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æ—¶ï¼Œå®ƒå¯èƒ½ä¼šè¯¯åˆ¤ã€‚ä½†æ˜¯å¸ƒéš†è¿‡æ»¤å™¨ä¹Ÿä¸æ˜¯ç‰¹åˆ«ä¸ç²¾ç¡®ï¼Œåªè¦å‚æ•°è®¾ç½®çš„åˆç†ï¼Œå®ƒçš„ç²¾ç¡®åº¦å¯ä»¥æ§åˆ¶çš„ç›¸å¯¹è¶³å¤Ÿç²¾ç¡®ï¼Œåªä¼šæœ‰å°å°çš„è¯¯åˆ¤æ¦‚ç‡ã€‚ å½“å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå€¼å­˜åœ¨æ—¶ï¼Œè¿™ä¸ªå€¼ å¯èƒ½ä¸å­˜åœ¨ï¼›å½“å®ƒè¯´ä¸å­˜åœ¨æ—¶ï¼Œé‚£ä¹ˆ ä¸€å®šä¸å­˜åœ¨ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œå½“å®ƒè¯´ä¸è®¤è¯†ä½ æ—¶ï¼Œé‚£å°±æ˜¯çœŸçš„ä¸è®¤è¯†ï¼Œä½†æ˜¯å½“å®ƒè¯´è®¤è¯†ä½ çš„æ—¶å€™ï¼Œå¯èƒ½æ˜¯å› ä¸ºä½ é•¿å¾—åƒå®ƒè®¤è¯†çš„å¦å¤–ä¸€ä¸ªæœ‹å‹ (è„¸é•¿å¾—æœ‰äº›ç›¸ä¼¼)ï¼Œæ‰€ä»¥è¯¯åˆ¤è®¤è¯†ä½ ã€‚ å¸ƒéš†è¿‡æ»¤å™¨çš„ä½¿ç”¨åœºæ™¯åŸºäºä¸Šè¿°çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¤§è‡´å¯ä»¥æŠŠå¸ƒéš†è¿‡æ»¤å™¨ç”¨äºä»¥ä¸‹çš„åœºæ™¯ä¹‹ä¸­ï¼š å¤§æ•°æ®åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼šè¿™å°±å¯ä»¥å®ç°å‡ºä¸Šè¿°çš„å»é‡åŠŸèƒ½ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨å†…å­˜è¶³å¤Ÿå¤§çš„è¯ï¼Œé‚£ä¹ˆä½¿ç”¨ HashMap å¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œç†è®ºä¸Šæ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° O(1 çš„çº§åˆ«ï¼Œä½†æ˜¯å½“æ•°æ®é‡èµ·æ¥ä¹‹åï¼Œè¿˜æ˜¯åªèƒ½è€ƒè™‘å¸ƒéš†è¿‡æ»¤å™¨ã€‚ è§£å†³ç¼“å­˜ç©¿é€ï¼šæˆ‘ä»¬ç»å¸¸ä¼šæŠŠä¸€äº›çƒ­ç‚¹æ•°æ®æ”¾åœ¨ Redis ä¸­å½“ä½œç¼“å­˜ï¼Œä¾‹å¦‚äº§å“è¯¦æƒ…ã€‚ é€šå¸¸ä¸€ä¸ªè¯·æ±‚è¿‡æ¥ä¹‹åæˆ‘ä»¬ä¼šå…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œè€Œä¸ç”¨ç›´æ¥è¯»å–æ•°æ®åº“ï¼Œè¿™æ˜¯æå‡æ€§èƒ½æœ€ç®€å•ä¹Ÿæ˜¯æœ€æ™®éçš„åšæ³•ï¼Œä½†æ˜¯ å¦‚æœä¸€ç›´è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„ç¼“å­˜ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¸€å®šä¸å­˜åœ¨ç¼“å­˜ï¼Œé‚£å°±ä¼šæœ‰ å¤§é‡è¯·æ±‚ç›´æ¥æ‰“åˆ°æ•°æ®åº“ ä¸Šï¼Œé€ æˆ ç¼“å­˜ç©¿é€ï¼Œå¸ƒéš†è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ç”¨æ¥è§£å†³æ­¤ç±»é—®é¢˜ã€‚ çˆ¬è™«/ é‚®ç®±ç­‰ç³»ç»Ÿçš„è¿‡æ»¤ï¼šå¹³æ—¶ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°æœ‰ä¸€äº›æ­£å¸¸çš„é‚®ä»¶ä¹Ÿä¼šè¢«æ”¾è¿›åƒåœ¾é‚®ä»¶ç›®å½•ä¸­ï¼Œè¿™å°±æ˜¯ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ è¯¯åˆ¤ å¯¼è‡´çš„ã€‚ äºŒã€å¸ƒéš†è¿‡æ»¤å™¨åŸç†è§£æå¸ƒéš†è¿‡æ»¤å™¨ æœ¬è´¨ä¸Š æ˜¯ç”±é•¿åº¦ä¸º m çš„ä½å‘é‡æˆ–ä½åˆ—è¡¨ï¼ˆä»…åŒ…å« 0 æˆ– 1 ä½å€¼çš„åˆ—è¡¨ï¼‰ç»„æˆï¼Œæœ€åˆæ‰€æœ‰çš„å€¼å‡è®¾ç½®ä¸º 0ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ªç¨å¾®é•¿ä¸€äº›çš„ä½å‘é‡ç”¨ä½œå±•ç¤ºï¼š å½“æˆ‘ä»¬å‘å¸ƒéš†è¿‡æ»¤å™¨ä¸­æ·»åŠ æ•°æ®æ—¶ï¼Œä¼šä½¿ç”¨ å¤šä¸ª hash å‡½æ•°å¯¹ key è¿›è¡Œè¿ç®—ï¼Œç®—å¾—ä¸€ä¸ªè¯ä¹¦ç´¢å¼•å€¼ï¼Œç„¶åå¯¹ä½æ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—å¾—åˆ°ä¸€ä¸ªä½ç½®ï¼Œæ¯ä¸ª hash å‡½æ•°éƒ½ä¼šç®—å¾—ä¸€ä¸ªä¸åŒçš„ä½ç½®ã€‚å†æŠŠä½æ•°ç»„çš„è¿™å‡ ä¸ªä½ç½®éƒ½ç½®ä¸º 1 å°±å®Œæˆäº† add æ“ä½œï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª wmyskxzï¼š å‘å¸ƒéš†è¿‡æ»¤å™¨æŸ¥æŸ¥è¯¢ key æ˜¯å¦å­˜åœ¨æ—¶ï¼Œè·Ÿ add æ“ä½œä¸€æ ·ï¼Œä¼šæŠŠè¿™ä¸ª key é€šè¿‡ç›¸åŒçš„å¤šä¸ª hash å‡½æ•°è¿›è¡Œè¿ç®—ï¼ŒæŸ¥çœ‹ å¯¹åº”çš„ä½ç½® æ˜¯å¦ éƒ½ ä¸º 1ï¼Œåªè¦æœ‰ä¸€ä¸ªä½ä¸º 0ï¼Œé‚£ä¹ˆè¯´æ˜å¸ƒéš†è¿‡æ»¤å™¨ä¸­è¿™ä¸ª key ä¸å­˜åœ¨ã€‚å¦‚æœè¿™å‡ ä¸ªä½ç½®éƒ½æ˜¯ 1ï¼Œå¹¶ä¸èƒ½è¯´æ˜è¿™ä¸ª key ä¸€å®šå­˜åœ¨ï¼Œåªèƒ½è¯´ææœ‰å¯èƒ½å­˜åœ¨ï¼Œå› ä¸ºè¿™äº›ä½ç½®çš„ 1 å¯èƒ½æ˜¯å› ä¸ºå…¶ä»–çš„ key å­˜åœ¨å¯¼è‡´çš„ã€‚ å°±æ¯”å¦‚æˆ‘ä»¬åœ¨ add äº†ä¸€å®šçš„æ•°æ®ä¹‹åï¼ŒæŸ¥è¯¢ä¸€ä¸ª ä¸å­˜åœ¨ çš„ keyï¼š å¾ˆæ˜æ˜¾ï¼Œ1/3/5 è¿™å‡ ä¸ªä½ç½®çš„ 1 æ˜¯å› ä¸ºä¸Šé¢ç¬¬ä¸€æ¬¡æ·»åŠ çš„ wmyskxz è€Œå¯¼è‡´çš„ï¼Œæ‰€ä»¥è¿™é‡Œå°±å­˜åœ¨ è¯¯åˆ¤ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¸ƒéš†è¿‡æ»¤å™¨æœ‰ä¸€ä¸ªå¯ä»¥é¢„åˆ¤è¯¯åˆ¤ç‡çš„å…¬å¼ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œå»é˜…è¯»ï¼Œæ¯”è¾ƒçƒ§è„‘.. åªéœ€è¦è®°ä½ä»¥ä¸‹å‡ ç‚¹å°±å¥½äº†ï¼š ä½¿ç”¨æ—¶ ä¸è¦è®©å®é™…å…ƒç´ æ•°é‡è¿œå¤§äºåˆå§‹åŒ–æ•°é‡ï¼› å½“å®é™…å…ƒç´ æ•°é‡è¶…è¿‡åˆå§‹åŒ–æ•°é‡æ—¶ï¼Œåº”è¯¥å¯¹å¸ƒéš†è¿‡æ»¤å™¨è¿›è¡Œ é‡å»ºï¼Œé‡æ–°åˆ†é…ä¸€ä¸ª size æ›´å¤§çš„è¿‡æ»¤å™¨ï¼Œå†å°†æ‰€æœ‰çš„å†å²å…ƒç´ æ‰¹é‡ add è¿›è¡Œï¼› ä¸‰ã€å¸ƒéš†è¿‡æ»¤å™¨çš„ä½¿ç”¨Redis å®˜æ–¹ æä¾›çš„å¸ƒéš†è¿‡æ»¤å™¨åˆ°äº† Redis 4.0 æä¾›äº†æ’ä»¶åŠŸèƒ½ä¹‹åæ‰æ­£å¼ç™»åœºã€‚å¸ƒéš†è¿‡æ»¤å™¨ä½œä¸ºä¸€ä¸ªæ’ä»¶åŠ è½½åˆ° Redis Server ä¸­ï¼Œç»™ Redis æä¾›äº†å¼ºå¤§çš„å¸ƒéš†å»é‡åŠŸèƒ½ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä½“éªŒä¸€ä¸‹ Redis 4.0 çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œä¸ºäº†çœå»ç¹çå®‰è£…è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨Docker å§ã€‚ > docker pull redislabs/rebloom # æ‹‰å–é•œåƒ > docker run -p6379:6379 redislabs/rebloom # è¿è¡Œå®¹å™¨ > redis-cli # è¿æ¥å®¹å™¨ä¸­çš„ redis æœåŠ¡ å¦‚æœä¸Šé¢ä¸‰æ¡æŒ‡ä»¤æ‰§è¡Œæ²¡æœ‰é—®é¢˜ï¼Œä¸‹é¢å°±å¯ä»¥ä½“éªŒå¸ƒéš†è¿‡æ»¤å™¨äº†ã€‚ å½“ç„¶ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨ Dockerï¼Œä¹Ÿå¯ä»¥åœ¨æ£€æŸ¥æœ¬æœº Redis ç‰ˆæœ¬åˆæ ¼ä¹‹åè‡ªè¡Œå®‰è£…æ’ä»¶ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œ: https://blog.csdn.net/u013030276/article/details/88350641 å¸ƒéš†è¿‡æ»¤å™¨çš„åŸºæœ¬ç”¨æ³•å¸ƒéš†è¿‡æ»¤å™¨æœ‰ä¸¤ä¸ªåŸºæœ¬æŒ‡ä»¤ï¼Œbf.add æ·»åŠ å…ƒç´ ï¼Œbf.exists æŸ¥è¯¢å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå®ƒçš„ç”¨æ³•å’Œ set é›†åˆçš„ sadd å’Œ sismember å·®ä¸å¤šã€‚æ³¨æ„ bf.add åªèƒ½ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæƒ³è¦ä¸€æ¬¡æ·»åŠ å¤šä¸ªï¼Œå°±éœ€è¦ç”¨åˆ° bf.madd æŒ‡ä»¤ã€‚åŒæ ·å¦‚æœéœ€è¦ä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå°±éœ€è¦ç”¨åˆ° bf.mexists æŒ‡ä»¤ã€‚ 127.0.0.1:6379> bf.add codehole user1 (integer) 1 127.0.0.1:6379> bf.add codehole user2 (integer) 1 127.0.0.1:6379> bf.add codehole user3 (integer) 1 127.0.0.1:6379> bf.exists codehole user1 (integer) 1 127.0.0.1:6379> bf.exists codehole user2 (integer) 1 127.0.0.1:6379> bf.exists codehole user3 (integer) 1 127.0.0.1:6379> bf.exists codehole user4 (integer) 0 127.0.0.1:6379> bf.madd codehole user4 user5 user6 1) (integer) 1 2) (integer) 1 3) (integer) 1 127.0.0.1:6379> bf.mexists codehole user4 user5 user6 user7 1) (integer) 1 2) (integer) 1 3) (integer) 1 4) (integer) 0 ä¸Šé¢ä½¿ç”¨çš„å¸ƒéš†è¿‡è¿‡æ»¤å™¨åªæ˜¯é»˜è®¤å‚æ•°çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå®ƒåœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡ add çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºã€‚Redis ä¹Ÿæä¾›äº†å¯ä»¥è‡ªå®šä¹‰å‚æ•°çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œåªéœ€è¦åœ¨ add ä¹‹å‰ä½¿ç”¨ bf.reserve æŒ‡ä»¤æ˜¾å¼åˆ›å»ºå°±å¥½äº†ã€‚å¦‚æœå¯¹åº”çš„ key å·²ç»å­˜åœ¨ï¼Œbf.reserve ä¼šæŠ¥é”™ã€‚ bf.reserve æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ keyã€error_rate (é”™è¯¯ç‡) å’Œ initial_sizeï¼š error_rate è¶Šä½ï¼Œéœ€è¦çš„ç©ºé—´è¶Šå¤§ï¼Œå¯¹äºä¸éœ€è¦è¿‡äºç²¾ç¡®çš„åœºåˆï¼Œè®¾ç½®ç¨å¤§ä¸€äº›ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæ¯”å¦‚ä¸Šé¢è¯´çš„æ¨é€ç³»ç»Ÿï¼Œåªä¼šè®©ä¸€å°éƒ¨åˆ†çš„å†…å®¹è¢«è¿‡æ»¤æ‰ï¼Œæ•´ä½“çš„è§‚çœ‹ä½“éªŒè¿˜æ˜¯ä¸ä¼šå—åˆ°å¾ˆå¤§å½±å“çš„ï¼› initial_size è¡¨ç¤ºé¢„è®¡æ”¾å…¥çš„å…ƒç´ æ•°é‡ï¼Œå½“å®é™…æ•°é‡è¶…è¿‡è¿™ä¸ªå€¼æ—¶ï¼Œè¯¯åˆ¤ç‡å°±ä¼šæå‡ï¼Œæ‰€ä»¥éœ€è¦æå‰è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„æ•°å€¼é¿å…è¶…å‡ºå¯¼è‡´è¯¯åˆ¤ç‡å‡é«˜ï¼› å¦‚æœä¸é€‚ç”¨ bf.reserveï¼Œé»˜è®¤çš„ error_rate æ˜¯ 0.01ï¼Œé»˜è®¤çš„ initial_size æ˜¯ 100ã€‚ å››ã€å¸ƒéš†è¿‡æ»¤å™¨ä»£ç å®ç°è‡ªå·±ç®€å•æ¨¡æ‹Ÿå®ç°æ ¹æ®ä¸Šé¢çš„åŸºç¡€ç†è®ºï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªç”¨äº ç®€å•æ¨¡æ‹Ÿ çš„å¸ƒéš†è¿‡æ»¤å™¨æ•°æ®ç»“æ„ï¼š public static class BloomFilter { private byte[] data; public BloomFilter(int initSize) { this.data = new byte[initSize * 2]; // é»˜è®¤åˆ›å»ºå¤§å° * 2 çš„ç©ºé—´ } public void add(int key) { int location1 = Math.abs(hash1(key) % data.length); int location2 = Math.abs(hash2(key) % data.length); int location3 = Math.abs(hash3(key) % data.length); data[location1] = data[location2] = data[location3] = 1; } public boolean contains(int key) { int location1 = Math.abs(hash1(key) % data.length); int location2 = Math.abs(hash2(key) % data.length); int location3 = Math.abs(hash3(key) % data.length); return data[location1] * data[location2] * data[location3] == 1; } private int hash1(Integer key) { return key.hashCode(); } private int hash2(Integer key) { int hashCode = key.hashCode(); return hashCode ^ (hashCode >>> 3); } private int hash3(Integer key) { int hashCode = key.hashCode(); return hashCode ^ (hashCode >>> 16); } } è¿™é‡Œå¾ˆç®€å•ï¼Œå†…éƒ¨ä»…ç»´æŠ¤äº†ä¸€ä¸ª byte ç±»å‹çš„ data æ•°ç»„ï¼Œå®é™…ä¸Š byte ä»ç„¶å æœ‰ä¸€ä¸ªå­—èŠ‚ä¹‹å¤šï¼Œå¯ä»¥ä¼˜åŒ–æˆ bit æ¥ä»£æ›¿ï¼Œè¿™é‡Œä¹Ÿä»…ä»…æ˜¯ç”¨äºæ–¹ä¾¿æ¨¡æ‹Ÿã€‚å¦å¤–æˆ‘ä¹Ÿåˆ›å»ºäº†ä¸‰ä¸ªä¸åŒçš„ hash å‡½æ•°ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å€Ÿé‰´ HashMap å“ˆå¸ŒæŠ–åŠ¨çš„åŠæ³•ï¼Œåˆ†åˆ«ä½¿ç”¨è‡ªèº«çš„ hash å’Œå³ç§»ä¸åŒä½æ•°ç›¸å¼‚æˆ–çš„ç»“æœã€‚å¹¶ä¸”æä¾›äº†åŸºç¡€çš„ add å’Œ contains æ–¹æ³•ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªå¸ƒéš†è¿‡æ»¤å™¨çš„æ•ˆæœå¦‚ä½•ï¼š public static void main(String[] args) { Random random = new Random(); // å‡è®¾æˆ‘ä»¬çš„æ•°æ®æœ‰ 1 ç™¾ä¸‡ int size = 1_000_000; // ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„ä¿å­˜ä¸€ä¸‹æ‰€æœ‰å®é™…å­˜åœ¨çš„å€¼ LinkedList&lt;Integer> existentNumbers = new LinkedList&lt;>(); BloomFilter bloomFilter = new BloomFilter(size); for (int i = 0; i &lt; size; i++) { int randomKey = random.nextInt(); existentNumbers.add(randomKey); bloomFilter.add(randomKey); } // éªŒè¯å·²å­˜åœ¨çš„æ•°æ˜¯å¦éƒ½å­˜åœ¨ AtomicInteger count = new AtomicInteger(); AtomicInteger finalCount = count; existentNumbers.forEach(number -> { if (bloomFilter.contains(number)) { finalCount.incrementAndGet(); } }); System.out.printf(\"å®é™…çš„æ•°æ®é‡ï¼š %d, åˆ¤æ–­å­˜åœ¨çš„æ•°æ®é‡: %d \\n\", size, count.get()); // éªŒè¯10ä¸ªä¸å­˜åœ¨çš„æ•° count = new AtomicInteger(); while (count.get() &lt; 10) { int key = random.nextInt(); if (existentNumbers.contains(key)) { continue; } else { // è¿™é‡Œä¸€å®šæ˜¯ä¸å­˜åœ¨çš„æ•° System.out.println(bloomFilter.contains(key)); count.incrementAndGet(); } } } è¾“å‡ºå¦‚ä¸‹ï¼š å®é™…çš„æ•°æ®é‡ï¼š 1000000, åˆ¤æ–­å­˜åœ¨çš„æ•°æ®é‡: 1000000 false true false true true true false false true false è¿™å°±æ˜¯å‰é¢è¯´åˆ°çš„ï¼Œå½“å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå€¼ å­˜åœ¨æ—¶ï¼Œè¿™ä¸ªå€¼ å¯èƒ½ä¸å­˜åœ¨ï¼Œå½“å®ƒè¯´æŸä¸ªå€¼ ä¸å­˜åœ¨æ—¶ï¼Œé‚£å°± è‚¯å®šä¸å­˜åœ¨ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸€å®šçš„è¯¯åˆ¤ç‡â€¦ æ‰‹åŠ¨å®ç°å‚è€ƒå½“ç„¶ä¸Šé¢çš„ç‰ˆæœ¬ç‰¹åˆ« lowï¼Œä¸è¿‡ä¸»ä½“æ€æƒ³æ˜¯ä¸å·®çš„ï¼Œè¿™é‡Œä¹Ÿç»™å‡ºä¸€ä¸ªå¥½ä¸€äº›çš„ç‰ˆæœ¬ç”¨ä½œè‡ªå·±å®ç°æµ‹è¯•çš„å‚è€ƒï¼š import java.util.BitSet; public class MyBloomFilter { /** * ä½æ•°ç»„çš„å¤§å° */ private static final int DEFAULT_SIZE = 2 &lt;&lt; 24; /** * é€šè¿‡è¿™ä¸ªæ•°ç»„å¯ä»¥åˆ›å»º 6 ä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•° */ private static final int[] SEEDS = new int[]{3, 13, 46, 71, 91, 134}; /** * ä½æ•°ç»„ã€‚æ•°ç»„ä¸­çš„å…ƒç´ åªèƒ½æ˜¯ 0 æˆ–è€… 1 */ private BitSet bits = new BitSet(DEFAULT_SIZE); /** * å­˜æ”¾åŒ…å« hash å‡½æ•°çš„ç±»çš„æ•°ç»„ */ private SimpleHash[] func = new SimpleHash[SEEDS.length]; /** * åˆå§‹åŒ–å¤šä¸ªåŒ…å« hash å‡½æ•°çš„ç±»çš„æ•°ç»„ï¼Œæ¯ä¸ªç±»ä¸­çš„ hash å‡½æ•°éƒ½ä¸ä¸€æ · */ public MyBloomFilter() { // åˆå§‹åŒ–å¤šä¸ªä¸åŒçš„ Hash å‡½æ•° for (int i = 0; i &lt; SEEDS.length; i++) { func[i] = new SimpleHash(DEFAULT_SIZE, SEEDS[i]); } } /** * æ·»åŠ å…ƒç´ åˆ°ä½æ•°ç»„ */ public void add(Object value) { for (SimpleHash f : func) { bits.set(f.hash(value), true); } } /** * åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨äºä½æ•°ç»„ */ public boolean contains(Object value) { boolean ret = true; for (SimpleHash f : func) { ret = ret &amp;&amp; bits.get(f.hash(value)); } return ret; } /** * é™æ€å†…éƒ¨ç±»ã€‚ç”¨äº hash æ“ä½œï¼ */ public static class SimpleHash { private int cap; private int seed; public SimpleHash(int cap, int seed) { this.cap = cap; this.seed = seed; } /** * è®¡ç®— hash å€¼ */ public int hash(Object value) { int h; return (value == null) ? 0 : Math.abs(seed * (cap - 1) &amp; ((h = value.hashCode()) ^ (h >>> 16))); } } } ä½¿ç”¨ Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨è‡ªå·±å®ç°çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†è®©è‡ªå·±ææ‡‚å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ï¼ŒGuava ä¸­å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°ç®—æ˜¯æ¯”è¾ƒæƒå¨çš„ï¼Œæ‰€ä»¥å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å®ç°ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥ Guava çš„ä¾èµ–ï¼š &lt;dependency> &lt;groupId>com.google.guava&lt;/groupId> &lt;artifactId>guava&lt;/artifactId> &lt;version>28.0-jre&lt;/version> &lt;/dependency> å®é™…ä½¿ç”¨å¦‚ä¸‹ï¼š æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæœ€å¤šå­˜æ”¾ æœ€å¤š 1500 ä¸ªæ•´æ•°çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å®¹å¿è¯¯åˆ¤çš„æ¦‚ç‡ä¸ºç™¾åˆ†ä¹‹ï¼ˆ0.01ï¼‰ // åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨å¯¹è±¡ BloomFilter&lt;Integer> filter = BloomFilter.create( Funnels.integerFunnel(), 1500, 0.01); // åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨ System.out.println(filter.mightContain(1)); System.out.println(filter.mightContain(2)); // å°†å…ƒç´ æ·»åŠ è¿›å¸ƒéš†è¿‡æ»¤å™¨ filter.put(1); filter.put(2); System.out.println(filter.mightContain(1)); System.out.println(filter.mightContain(2)); åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå½“ mightContain() æ–¹æ³•è¿”å› true æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ 99ï¼… ç¡®å®šè¯¥å…ƒç´ åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œå½“è¿‡æ»¤å™¨è¿”å› false æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ 100ï¼… ç¡®å®šè¯¥å…ƒç´ ä¸å­˜åœ¨äºè¿‡æ»¤å™¨ä¸­ã€‚ Guava æä¾›çš„å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°è¿˜æ˜¯å¾ˆä¸é”™çš„ ï¼ˆæƒ³è¦è¯¦ç»†äº†è§£çš„å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„æºç å®ç°ï¼‰ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªé‡å¤§çš„ç¼ºé™·å°±æ˜¯åªèƒ½å•æœºä½¿ç”¨ ï¼ˆå¦å¤–ï¼Œå®¹é‡æ‰©å±•ä¹Ÿä¸å®¹æ˜“ï¼‰ï¼Œè€Œç°åœ¨äº’è”ç½‘ä¸€èˆ¬éƒ½æ˜¯åˆ†å¸ƒå¼çš„åœºæ™¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ° Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨äº†ã€‚ ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ - https://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/\\ å‚è€ƒèµ„æ–™ ã€ŠRedis æ·±åº¦å†é™©ã€‹ - é’±æ–‡å“/ è‘— - https://book.douban.com/subject/30386804/ 5 åˆ†é’Ÿææ‡‚å¸ƒéš†è¿‡æ»¤å™¨ï¼Œäº¿çº§æ•°æ®è¿‡æ»¤ç®—æ³•ä½ å€¼å¾—æ‹¥æœ‰ï¼ - https://juejin.im/post/5de1e37c5188256e8e43adfc ã€åŸåˆ›ã€‘ä¸äº†è§£å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿä¸€æ–‡ç»™ä½ æ•´çš„æ˜æ˜ç™½ç™½ï¼ - https://github.com/Snailclimb/JavaGuide/blob/master/docs/dataStructures-algorithms/data-structure/bloom-filter.md æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"\"é•¿è¾ˆç‰Œ\"ç”µå­äº§å“:æœ‰ä¸€ç§è¯„è®ºæœ‹å‹åœˆå«ç»™ä½ æ‰“ç”µè¯","slug":"\"é•¿è¾ˆç‰Œ\"ç”µå­äº§å“:æœ‰ä¸€ç§è¯„è®ºæœ‹å‹åœˆå«ç»™ä½ æ‰“ç”µè¯","date":"2020-03-10T06:16:00.000Z","updated":"2020-08-03T09:48:08.589Z","comments":true,"path":"2020/03/10/chang-bei-pai-dian-zi-chan-pin-you-yi-chong-ping-lun-peng-you-quan-jiao-gei-ni-da-dian-hua/","link":"","permalink":"http://www.wmyskxz.com/2020/03/10/chang-bei-pai-dian-zi-chan-pin-you-yi-chong-ping-lun-peng-you-quan-jiao-gei-ni-da-dian-hua/","excerpt":"","text":"ä¸€ã€é•¿è¾ˆä»¬ä½¿ç”¨ç”µå­äº§å“çš„å§¿åŠ¿é›†åˆå…ˆé—®ä½ ä¸€ä¸ªé—®é¢˜ï¼šã€Œæ€ä¹ˆä¸‹è½½æœç‹—è¾“å…¥æ³•ï¼Ÿã€ (éå¹¿å‘Š) æ‘ï¼Ÿçœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„ä½ å¯èƒ½éƒ½æœ‰ç‚¹æ‡µï¼Œä¸å°±ä¸‹è½½å®‰è£…å°±å®Œäº†å—ï¼Ÿä½†æ˜¯ï¼ŒçœŸçš„å°±åªæ˜¯è¿™æ ·å—ï¼Ÿ å‰ä¸€æ®µæ—¶é—´ï¼Œå½“å®¶é‡Œçš„é•¿è¾ˆé—®åˆ°æˆ‘è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸€æ—¶é—´ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå›ç­”.. ä¸€é˜µæ²Ÿé€šæ— æœåï¼Œå°è¯•è¿œç¨‹è§£å†³äº†.. æˆ‘æ‰å‘ç°äº†ä¸é•¿è¾ˆä»¬çš„ ã€Œæ•°å­—é¸¿æ²Ÿã€ï¼š ä¸‹è½½ï¼Ÿåœ¨å“ªé‡Œä¸‹è½½ï¼Ÿæˆ‘ä¸‹çš„æ–‡ä»¶å»å“ªå„¿äº†ï¼Ÿ ç™¾åº¦ï¼Ÿä»€ä¹ˆæ˜¯ç™¾åº¦ï¼Ÿåœ¨å“ªé‡Œèƒ½ç‚¹å¼€ç™¾åº¦ï¼Ÿ å®‰è£…ï¼Ÿæ€ä¹ˆå®‰è£…ï¼Ÿå®‰å¥½äº†æ€ä¹ˆç”¨ï¼Ÿ èµ·åˆæˆ‘ä¹Ÿä¸æ˜¯é‚£ä¹ˆåœ¨æ„çš„ï¼Œåªæ˜¯åæ¥åˆè·Ÿé•¿è¾ˆè¿œç¨‹äº†ä¸€æ¬¡ï¼Œåˆå‘ç°äº†é•¿è¾ˆä½¿ç”¨çš„ WINDOWS ç”µè„‘ç®€ç›´ä¹±æˆä¸€å›¢.. æ¡Œé¢ä¸Šé“ºæ»¡çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹/ ç£ç›˜ä¸­ä¸‹æ‹‰ 5s ä¹Ÿæ‹‰ä¸å®Œçš„æ–‡ä»¶åˆ—è¡¨/ å³ä¸‹è§’ä¸åœåœ°å¼¹çª—å¹¿å‘Š/ å¼€æœºé»˜è®¤å¯åŠ¨çš„ 100 ä¸ªè½¯ä»¶ï¼Œåˆ«è¯¯ä¼šï¼Œæˆ‘ä¸¾è¿™äº›ä¾‹å­ï¼Œå¹¶ä¸æ˜¯æƒ³è¯´æ˜é•¿è¾ˆä»¬ä¸ä¼šä½¿ç”¨ç”µè„‘ã€‚æ¯•ç«Ÿï¼Œä»»ä½•ä¸€ä¸ªäº§å“éƒ½ä¸èƒ½ä¿è¯å®ƒä»¬è¢«æ­£ç¡®çš„ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š ç”µé’»åƒç‰ç±³ï¼š ï¼ˆæ®è¯´æ˜¯ä¸–ç•Œä¸Šæœ€å¿«çš„åƒç‰ç±³çš„æ–¹æ³•ğŸ˜‡ï¼‰ è¿™é‡Œåªæ˜¯æƒ³è®¨è®ºä¸€ä¸‹å…³äºé•¿è¾ˆä»¬ä¸â€ç”µå­äº§å“â€çš„é‚£äº›äº‹ã€‚ å§¿åŠ¿ä¸€ï¼šæ‚ä¹±çš„æ¡Œé¢ + ç¹æ‚çš„åº”ç”¨ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰çœ‹è¿‡é•¿è¾ˆçš„ç”µå­äº§å“ï¼Œä¸è®ºæ˜¯ä¸ªäººç”µè„‘ï¼Œè¿˜æ˜¯æ‰‹æœºï¼Œæ¡Œé¢ä¸Šæ°¸è¿œéƒ½é•¿è¿™æ ·ï¼š å›¾ç‰‡æ¥æºï¼šhttps://www.jianshu.com/p/cbb626dd344e æˆ‘æ›¾ç»é—®è¿‡æˆ‘å¦ˆä¸ºä»€ä¹ˆä½ æ‰‹æœºæ¡Œé¢è¿™ä¹ˆå¤š APPï¼Œå¥¹çš„å›ç­”ä¹Ÿå¾ˆç²—æš´ï¼šã€Œæ‡’å¾—åˆ  or å¿˜äº†åˆ ã€ã€‚ å§¿åŠ¿äºŒï¼šçº·æ‚çš„ä¿¡æ¯å°±æ‹¿ å¾®ä¿¡ æ¥è¯´å§ï¼Œæˆ‘æ„Ÿè§‰æˆ‘å¦ˆè‡³å°‘åŠ äº† 50 ä¸ªç¾¤.. å…¨éƒ¨éƒ½æ²¡æœ‰å±è”½ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç½®é¡¶ï¼Œå¾®ä¿¡æ¶ˆæ¯æ€»æ˜¯ 99+ï¼Œæ¯æ¬¡è·Ÿæˆ‘å¦ˆå‘æ¶ˆæ¯éƒ½ä¸ä¼šæœ‰å¾ˆå¤šçš„æœŸå¾…ï¼Œå¥¹èƒ½çœ‹åˆ°æˆ‘çš„æ¶ˆæ¯å¹¶å›å¤æˆ‘ï¼Œé‚£æˆ‘çŸ¥é“ï¼Œå¥¹ä¸€å®šæ˜¯ç©äº†å¥½ä¸€æ®µæ—¶é—´æ‰‹æœºï¼Œåˆ·äº†å¥½ä¸€ä¼šå„¿å¾®ä¿¡äº†ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰¾æˆ‘å¦ˆåŸºæœ¬ä¸Šéƒ½ æ‰“ç”µè¯â€¦ å§¿åŠ¿ä¸‰ï¼šåŒç±»è½¯ä»¶æ‰å †ä»€ä¹ˆï¼Ÿï¼è¿™ä¹ˆå¤šå¤§å‚éƒ½å‡ºäº†ç”µæ± ç®¡ç†çš„è½¯ä»¶ï¼Ÿé€‰ä¸€ä¸ªï¼Ÿæ€ä¹ˆå¯èƒ½.. æˆ‘éƒ½è¦ï¼š äºŒã€ä¸ºä»€ä¹ˆæ•™é•¿è¾ˆä½¿ç”¨ç”µå­äº§å“è¿™ä¹ˆéš¾ï¼Ÿä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰è¿™æ ·çš„ç±»ä¼¼ç»å†ï¼š å»é˜¿å§¨å®¶åšå®¢ï¼Œè®©ä½ å¸®å¿™åˆ é™¤ä¸€ä¸‹ç›¸æœºçš„ç›¸ç‰‡ï¼Œä½ ä¸€ä¸‹å­æ‰¾åˆ°äº†ç±»ä¼¼ â€œåƒåœ¾æ¡¶â€ çš„æŒ‰é’®ï¼Œç‚¹å‡»ç¡®è®¤æˆåŠŸåˆ é™¤äº†ï¼Œé˜¿å§¨è·Ÿä¸€å¤§å®¶äººå¤¸è€€è¯´ï¼šã€Œç°åœ¨çš„å°å­©è¿™ç§ä¸œè¥¿ä¸ç”¨æ•™å°±æ‡‚ï¼Œæˆ‘ä»¬å°±ä¸è¡Œäº†ã€ ç»™è€å¦ˆè¯´äº†åœ¨ XX å¸‚åœºå¯ä»¥ä¸‹è½½åº”ç”¨ï¼Œäºæ˜¯æ•™å¥¹ä¸‹è½½äº†æŸæŸåº”ç”¨.. è¿‡äº†å‡ å¤©.. ã€Œæˆ‘æƒ³è¦ä¸‹è½½ XX å¬æ­Œåœ¨å“ªé‡Œä¸‹è½½å•Šï¼Ÿã€*ï¼Œåˆè¿‡äº†å‡ å¤©.. *ã€Œæˆ‘æƒ³è¦ä¸‹è½½ XX ç”µå­ä¹¦æ€ä¹ˆåŠï¼Ÿã€ ã€Œä¸ºä»€ä¹ˆæˆ‘æ‰‹æœºç°åœ¨æ²¡å£°éŸ³äº†ï¼Ÿã€â€¦ â€¦.. å¦‚æœä½ æœ‰æ•™è¿‡é•¿è¾ˆä½¿ç”¨ç”µå­äº§å“ï¼Œé‚£ä¹ˆä½ ä¸€å®šä¼šæœ‰äº›è®¸ å…±é¸£ï¼Œç½‘å‹ä»¬ä¹Ÿä¸ä»…æ„Ÿæ…¨ï¼šã€Œä¸ºä»€ä¹ˆæ•™è€äººç”¨ç”µå­äº§å“è¿™ä¹ˆéš¾ï¼Ÿã€ï¼Œç”šè‡³è¿˜æœ‰ç½‘å‹æå‡ºäº† æ•™é•¿è¾ˆä½¿ç”¨ç”µå­äº§å“ï¼ˆæ‰‹æœºã€ç”µè„‘ç­‰ï¼‰çš„è¿‡ç¨‹ï¼Œå¦‚ä½•ä¿æŒä¸æ€¥ä¸èºçš„è‰¯å¥½å¿ƒæ€ï¼Ÿ è¿™æ ·çš„é—®é¢˜ï¼Œå•§å•§å•§â€¦ è®¤çŸ¥ä¸åŒæˆ‘å¦ˆæ¯æ¬¡æ”¾å‡å°±ä¼šå¯¹æˆ‘æœ‰å¾ˆå¤šæœŸå¾…ï¼Œå…¶ä¸­ä¸€é¡¹å°±æ˜¯ï¼šã€Œå„¿å­ï¼ä½ å¸®æˆ‘æ¸…ç†ä¸€ä¸‹æ‰‹æœºå†…å­˜ï¼ã€ï¼Œæˆ‘æœ‰æ—¶å€™ä¼šæ„Ÿè§‰åˆ°å¥‡æ€ªï¼Œç°åœ¨å„ç§å„æ ·çš„æ¸…ç†è½¯ä»¶æœ‰è®¸å¤šï¼ŒåŒ…æ‹¬æ‰‹æœºç”µè„‘éƒ½ä¼šè‡ªå¸¦æœ‰æ¸…ç†è½¯ä»¶ï¼Œç”šè‡³ APP è‡ªå·±éƒ½èƒ½æ”¯æŒæ¸…ç†è‡ªå·±çš„ç¼“å­˜â€¦ç‚¹ä¸€ä¸‹ä¸ºå•¥è¿™ä¹ˆéš¾å‘¢ï¼Ÿ é“æ ¼æ‹‰æ–¯Â·äºšå½“æ–¯ (è‹±å›½ä½œå®¶) è¯´è¿‡ï¼šä»»ä½•åœ¨ä½ å‡ºç”Ÿæ—¶å·²ç»æœ‰çš„æŠ€æœ¯éƒ½ç¨€æ¾å¹³å¸¸ï¼Œä¸è¿‡æ˜¯ä¸–ç•Œè‡ªç„¶ç§©åºçš„ä¸€éƒ¨åˆ†ï¼›ä»»ä½•åœ¨ä½  15-35 å²ä¹‹é—´å‘æ˜çš„æŠ€æœ¯éƒ½æ˜¯æ–°é¢–åˆºæ¿€çš„é©å‘½æ€§äº§ç‰©ï¼Œä½ å¾ˆå¯èƒ½ä¼šæ‹¿å®ƒå½“èŒä¸š;ä»»ä½•åœ¨ä½  35 å²ä»¥åå‘æ˜çš„æŠ€æœ¯éƒ½æ˜¯è¿åè‡ªç„¶ç§©åºçš„ç©æ„å„¿â€¦ å¤§å¤šæ•°é•¿è¾ˆæˆé•¿çš„ç¯å¢ƒé‡Œé¢ï¼Œèƒ½å¤Ÿæ¥è§¦åˆ°çš„ç”µå™¨é¡¶å¤šä¹Ÿå°±æ˜¯å¸¸è§„ä¸‰ä»¶å¥—ï¼šç”µè§†ã€å†°ç®±ã€æ´—è¡£æœºã€‚è¿™ä¸‰ä¸ªç”µå™¨æ—©èµ·çš„ä½¿ç”¨éš¾åº¦æ˜¯åœ¨æ˜¯å¤ªä½äº†ï¼Œæ— éå°±æ˜¯å‡ ä¸ªæŒ‰é’®æ“ä½œï¼Œæœ‰ç‚¹æ¯›ç—…å‡ ä¹éƒ½èƒ½é è¸¢æˆ–æ‹æ‰“è§£å†³: æˆ‘æœ›ç€é•¿è¾ˆæ‰‹æœºè¾¹è§’ä¸Šçš„å‘å‘æ´¼æ´¼ï¼Œä¸ç¦é™·å…¥äº†æ²‰é»˜â€¦ è€å¹´ä¸å‹å¥½çš„è®¾è®¡ | ç¼ºå¤±çš„äº’è”ç½‘å­¦ä¹ æˆé•¿è¿‡ç¨‹ç”µå­äº§å“å°¤å…¶æ˜¯äº’è”ç½‘äº§å“çš„è¿­ä»£å…¶å®æ˜¯ä¸€ç›´ä»¥ç…§é¡¾æœ€ä¸»æµäººç¾¤ä¸ºç›®æ ‡æ¥åšçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ é¢å‘æœ€æœ‰æ¶ˆè´¹èƒ½åŠ›ã€æœ€èƒ½æ¥å— ç”µå­äº§å“çš„ç¾¤ä½“ã€‚ æ‹¿ ã€Œæ™ºèƒ½æ‰‹æœºã€ ä¸¾ä¾‹ï¼Œå¤§å®¶æ€»è§‰å¾— â€œå¹´è½»äººâ€ å¤©ç„¶å°±æ˜¯æ™ºèƒ½æ‰‹æœºçš„ç”¨æˆ·ã€‚å…¶å®å¹¶ä¸æ˜¯ï¼Œæ‰€æœ‰ç°å¦‚ä»Šçš„ä¸»æµç”¨æˆ·ï¼Œéƒ½æ˜¯åŸ¹å…»æˆé•¿èµ·æ¥çš„ã€‚ çœ‹æ—©æœŸçš„ iOS çš„ç”»é£ï¼Œä¸ºä»€ä¹ˆè¦åšæˆæ‹Ÿç‰©åŒ–çš„ï¼Ÿ å› ä¸ºæ—©æœŸæ‰€æœ‰äººåœ¨æ™ºèƒ½æ‰‹æœºäº§å“é¢å‰ï¼Œéƒ½æ˜¯ä¸€è§†åŒä»çš„ â€œå°ç™½â€ï¼Œè€å¹´äººä¹Ÿå¥½å¹´è½»äººä¹Ÿå¥½ï¼Œå¤§å®¶éƒ½ä¸å¤ªç†è§£æ‰‹æœºä¸Šçš„å›¾å½¢ç¤ºæ„æ˜¯ä»€ä¹ˆï¼Œä»£è¡¨ç€ä»€ä¹ˆæ“ä½œï¼Œäº¤äº’è¦æ€ä¹ˆç†è§£ã€‚ æ‹Ÿç‰©èƒ½å¤Ÿè¾ƒå¥½åœ°ä½“ç°å±‚æ¬¡æ„Ÿï¼Œè®©ç”¨æˆ·çŸ¥é“ï¼Œç°å®ç”Ÿæ´»é‡Œé•¿ä»€ä¹ˆæ ·ï¼Œåœ¨æ‰‹æœºé‡Œå°±é•¿ä»€ä¹ˆæ ·ã€‚ æ¯”å¦‚ä¸Šå›¾ä¸­çš„è®¡ç®—å™¨ï¼Œå·¦è¾¹æ˜¯æ—§ç‰ˆæœ¬ (iOS 6) çš„ï¼Œæ›´åŠ å†™å®ã€‚ç­‰è¿™äº›å¹´è½»äººç”¨æˆ·éƒ½è¢«æ•™è‚²é€äº†ä¹‹åï¼Œ iOS å°±å˜æˆäº†æ›´åŠ ç®€æ´çš„é£æ ¼ã€‚ å­¦ä¹ æ“ä½œçš„é—®é¢˜è§£å†³äº†ä¹‹åï¼Œå°±å¯ä»¥å»æ‰å¯èƒ½å¹²æ‰°ä½¿ç”¨çš„å„ç§å¤æ‚é˜´å½±ï¼Œè®©è§†è§‰é‡ç‚¹æ›´åŠ é›†ä¸­ã€‚ ä½†æ˜¯ï¼Œè€å¹´äººå¤§éƒ½æ²¡æœ‰å‚ä¸åˆ°è¿™ä¸ªå­¦ä¹ è¿‡ç¨‹ä¸­ã€‚ ç­‰åˆ°è€å¹´äººä½¿ç”¨ä¸Šæ™ºèƒ½äº§å“ä¹‹åï¼Œä»–ä»¬å·²ç»ç›´æ¥åˆ°äº†æœ€æ–°çš„ äº¤äº’ç³»ç»Ÿ é‡Œäº†ï¼Œå­¦ä¹ æˆæœ¬è‡ªç„¶å°±ä¸æ˜¯ä¸€å›äº‹äº†ã€‚ (æ®æœ‹å‹è¯´æœ€æƒ¨çš„æ¡ˆä¾‹æ˜¯æ•™é•¿è¾ˆä»¬å·¦æ»‘å³æ»‘..) è¿™é‡Œä¸å¾—ä¸ å®ååˆ¶åæ§½ ä¸€ä¸‹ç°åœ¨ç±»ä¼¼äº ç”µä¿¡çš„é‚£ç§äº’è”ç½‘ç”µè§† äº†ï¼Œè‡ªä»å‡çº§äº’è”ç½‘ç”µè§†ä¹‹åï¼Œä¹‹å‰æ‰“å¼€ç”µè§†ç”µæºå°±èƒ½æ’­æ”¾çš„ç”µè§†ï¼Œç°åœ¨éšè—ä¸‹å»äº†å¥½å‡ å±‚ï¼Œéœ€è¦åœ¨ç•Œé¢ä¸Šç‚¹ç‚¹ç‚¹æ‰èƒ½æ­£ç¡®è¿›å…¥åˆ°æ’­æ”¾çš„ç•Œé¢ï¼Œè¿™æ— ç–‘å¯¹äºè€å¹´äººæ¥è¯´ï¼Œé€ æˆäº†ä½¿ç”¨å’Œå­¦ä¹ ä¸Šçš„æˆæœ¬ã€‚ ç¼ºå°‘ç¤¾äº¤ç¯å¢ƒçŸ¥ä¹ @YorN åœ¨ ä¸ºä»€ä¹ˆæ•™è€äººç”¨ç”µå­äº§å“è¿™ä¹ˆéš¾ï¼Ÿ è¿™ä¸ªé—®é¢˜ä¸­ä¸¾äº†è¿™æ ·çš„ä¸€ä¸ªä¾‹å­ï¼š æœ‰ä¸€ä¸ªé•¿è¾ˆï¼Œæˆ‘ä»¬æ•™ä»– ç”¨å¾®ä¿¡ çš„æ—¶å€™å‘Šè¯‰ä»–ï¼Œåˆ«äººå‘äº†æœ‹å‹åœˆï¼Œä½  å¯ä»¥åœ¨åº•ä¸‹è¯„è®ºã€‚ç„¶åï¼Œä»–å°±çœŸçš„å¼€å§‹ â€œè¯„è®ºâ€ åˆ«äººçš„æœ‹å‹åœˆï¼Œè¯„è¯­éƒ½æ˜¯ â€œé£è¶£å¹½é»˜â€ã€â€œä¼˜ç¾åŠ¨äººâ€ã€â€œæ¸©é¦¨å’Œç¦â€ã€â€œé£æ™¯å¦‚ç”»â€ ç­‰ç­‰ã€‚ è™½ç„¶å¹´è½»äººå·²ç»ä¹ æƒ¯äº†äº’è”ç½‘ä¸Šæ‰€è¯´çš„è¯„è®ºã€å›å¤ã€ç•™è¨€éƒ½æ˜¯å·®ä¸å¤šçš„æ„æ€ã€‚ä½†æ˜¯åœ¨ä¸Šä¸€è¾ˆçœ¼é‡Œï¼Œâ€œè¯„è®ºâ€ è¿™ä¸ªè¯è¿˜ä¿ç•™ç€å®ƒæœ¬æ¥çš„æ„ä¹‰ï¼Œæ‰€ä»¥ä»–å°±ä¼šé’ˆå¯¹åˆ«äººå‘çš„å†…å®¹è¿›è¡Œ â€œä¸¥è‚ƒâ€ åœ°è¯„è®ºã€‚ ä½†æ˜¯æ²¡è¿‡å¤šä¹…ï¼Œä¹Ÿæ²¡æœ‰ç»è¿‡ä»»ä½•äºº â€œæŒ‡æ­£â€ï¼Œè¿™ä½é•¿è¾ˆçš„è¯„è®ºå°±è‡ªåŠ¨è¶‹äºæ­£å¸¸äº†ã€‚å› ä¸ºä»– èº«è¾¹è¶Šæ¥è¶Šå¤šçš„åŒé¾„äºº ä¹Ÿå¼€å§‹ç”¨æœ‹å‹åœˆï¼Œå½“ä»–çœ‹åˆ°åˆ«äººçš„è¯„è®ºéƒ½æ˜¯ æ—¥å¸¸é—²èŠï¼Œå°±çŸ¥é“äº†è¯„è®ºæœ‹å‹åœˆä¸ç”¨çœŸçš„å†™ â€œè¯„è¯­â€ äº†ã€‚ è¿˜æœ‰ä¸€ä¸ªæ®µå­å‘¢ï¼Œé•¿è¾ˆä»¬è¿˜æœ‰å¦ä¸€ç§è¯„è®ºæœ‹å‹åœˆçš„å§¿åŠ¿ï¼šç›´æ¥ç»™ä½ æ‰“ç”µè¯ã€‚ è‡ªæˆ‘æ”¾å¼ƒçš„å¿ƒæ€ | ä¸æ„¿æ„æ”¹å˜ä»¥åŠä¾èµ–å¿ƒç†äººéƒ½æ˜¯ç¤¾ä¼šå¡‘é€ çš„åŠ¨ç‰©ï¼Œ30 å² ä¹‹å‰æ•´ä¸ªäººçš„äººæ ¼åŸºæœ¬å·²ç»å¡‘é€ å®Œäº†ï¼Œå¯¹æ•´ä¸ªä¸–ç•Œçš„ç†è§£å’Œä»·å€¼è§‚ï¼Œå¹³æ—¶çš„å–œå¥½å’Œä¹ æƒ¯ï¼Œéƒ½ åŸºæœ¬å®šå‹äº†ã€‚ é•¿è¾ˆä»¬é ç€å‡ åå¹´æ¥çš„ä¸€æ­¥æ­¥ç§¯æ·€çš„ç»éªŒï¼Œæˆ–å¹³é¡ºæˆ–åå·åœ°å·²ç»è¿‡å»å¤§åŠè¾ˆå­äº†ï¼Œä»–ä»¬ä¼šè§‰å¾—è‡ªå·± ä¸ä¼šä½¿ç”¨ç”µå­äº§å“æ˜¯éå¸¸æ­£å¸¸çš„ï¼Œç†æ‰€åº”å½“çš„ã€‚æŠ±ç€ â€œå¹´çºªå¤§äº†â€ã€â€œè½ä¼äº†â€ ä¹‹ç±»çš„æ€æƒ³ï¼Œä»¥åŠ ä¸ä¼šå¯ä»¥é åˆ«äººï¼Œç‰¹åˆ«æ˜¯å®¶é‡Œäººï¼Œè‡ªå·±åªè¦å­¦ä¼šä½¿ç”¨å¾®ä¿¡ä»¥åŠæ‹ç…§å°±è¡Œäº†ã€‚è¿™å…³ä¹å¿ƒæ€ï¼Œè€Œæ— å…³ä¹å¹´é¾„ã€‚ è¿˜æœ‰ä¸€ä¸ªæœ‰æ„æ€çš„ æ®µå­ï¼š ä¸€ä½çˆ¶äº²å·²è¾¾åˆ° 85 å²é«˜é¾„ï¼Œä»–çš„å„¿å­ 45 å²ï¼Œå½“æ—¶ï¼Œçˆ¶äº²å’Œå„¿å­åœ¨å®¶é‡Œåç€ï¼Œå¿½ç„¶ï¼Œçª—æˆ·è¾¹é£æ¥ä¸€åªä¹Œé¸¦ï¼Œå¹¶ä¸”ä¸€ç›´åœ¨é‚£é‡Œå«å”¤ã€‚ è¿™æ—¶ï¼Œçˆ¶äº²é—®å„¿å­ï¼šå­©å­ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿâ€ å„¿å­ï¼šâ€œæ˜¯ä¹Œé¸¦ã€‚â€ è¿‡äº†ä¸€ä¼šå„¿ï¼Œçˆ¶äº²åˆé—®ï¼šâ€œè¿™æ˜¯ä»€ä¹ˆï¼Ÿâ€ï¼Œå„¿å­å¾ˆå¥‡æ€ªåœ°ç­”é“ï¼šâ€œæ˜¯ä¹Œé¸¦ã€‚â€ åˆè¿‡äº†å‡ åˆ†é’Ÿï¼Œçˆ¶äº²åˆé—®ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿ è¿™æ¬¡ï¼Œå„¿å­çš„å£°éŸ³å¤§äº†èµ·æ¥ï¼Œè¿™æ˜¯ä¹Œé¸¦ï¼Œä¹Œé¸¦ï¼Œçˆ¶äº²ã€‚ åˆè¿‡äº†å‡ åˆ†é’Ÿï¼Œçˆ¶äº²åˆç¬¬å››æ¬¡é—®é“ï¼šâ€œè¿™æ˜¯ä»€ä¹ˆï¼Ÿâ€ å„¿å­ç»ˆäºå¿ä¸ä½å†…å¿ƒçš„æ€’ç«ï¼Œè¯´é“ï¼šâ€œä½ æ€ä¹ˆäº†ï¼Œé—®è¿™ä¹ˆå¤šéï¼Œæˆ‘å·²ç»å‘Šè¯‰ä½ è¿™æ˜¯ä¹Œé¸¦ï¼Œè¿™å¾ˆéš¾ç†è§£å—ï¼Ÿâ€ è¿™æ—¶ï¼Œçˆ¶äº²èµ°è¿›å§å®¤ï¼Œä»é‡Œé¢æ‹¿å‡ºä¸€äº›åƒæ˜¯è¢«æ’•è¿‡çš„æ—¥è®°ç°¿æ¥ï¼ŒæŠŠå®ƒé€’ç»™å„¿å­ï¼Œå¹¶è¯´é“ï¼šâ€œä½ å¿µå¿µã€‚â€ å„¿å­å¼€å§‹å¿µäº†ï¼šâ€œä»Šå¤©å„¿å­åˆšå¥½æ»¡ 3 å²ï¼Œä»–ä¼šç¬‘ï¼Œèƒ½è·‘æ¥è·‘å»çš„ï¼Œå…¬å›­é‡Œæœ‰åªä¹Œé¸¦åœ¨å«å”¤ï¼Œä»–é—®æˆ‘ï¼šçˆ¶äº²ï¼Œé‚£æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘å°±å‘Šè¯‰ä»–è¯´ï¼Œé‚£æ˜¯ä¸€åªä¹Œé¸¦ã€‚ä»–åˆå†æ¬¡é—®ç›¸åŒçš„é—®é¢˜ï¼Œä¸€ç›´é—®äº† 23 éï¼Œæˆ‘å›ç­”äº†ä»– 23 éâ€¦â€¦ çˆ¶äº²ï¼šä½ çœ‹ï¼Œæˆ‘åªé—®äº†å››éï¼Œä½ æ€ä¹ˆå°±ä¸è€çƒ¦äº†å‘¢ï¼Ÿ å„¿å­ï¼šçˆ¸ï¼Œæˆ‘é—®ç¬¬å››éçš„æ—¶å€™ï¼Œä½ æŠŠæˆ‘ç‹ ç‹ æ‰“äº†ä¸€é¡¿ã€‚æˆ‘ä¸€å…±é—®äº† 23 éï¼Œä½ æ‰“äº†æˆ‘ 20 æ¬¡ã€‚ å„¿å­ï¼šæˆ‘ç°åœ¨å¯ä»¥æ‰“ä½ äº†å—ï¼Œçˆ¶äº²ï¼Ÿ å•ªï¼Œçˆ¶äº²ä¸€å·´æŒæ‰“è¿‡æ¥ï¼šè¿˜å­¦ä¼šé¡¶å˜´äº†ï¼ åå‘æ€è€ƒï¼šé•¿è¾ˆä»¬çœŸçš„éœ€è¦ç”µå­äº§å“å—ï¼Ÿæˆ‘çš„çˆ·çˆ·å¥¶å¥¶è¿˜ç”Ÿæ´»åœ¨å†œæ‘ï¼Œä¸€å®¶ä¸€é™¢ä¸€äº©ç”°åœ°ä¸€åœˆé¸¡é¸­ï¼Œä»–ä»¬çš„ç”Ÿæ´»å°±å¯ä»¥å®Œå…¨æ²¡æœ‰äº’è”ç½‘ (äº‹å®ä¸Šï¼Œå®¶é‡Œç½‘éƒ½æ²¡æœ‰..)ï¼Œåœ¨ä»–ä»¬çš„ç†è§£é‡Œï¼Œç”Ÿæ´»å°±æ˜¯å¯ä»¥æ²¡æœ‰ç”µå­äº§å“çš„ï¼Œä½•å¿…å»å­¦ä¹ æ¥å—æ–°çš„ä¸œè¥¿å‘¢ï¼Ÿ å¹¶ä¸”ä»–ä»¬æ‰€ç§¯æ”’çš„ä»·å€¼è§‚ã€å–œå¥½å’Œä¹ æƒ¯ï¼Œé€ æˆäº† å¯¹äºç”µå­äº§å“å¤©ç„¶çš„æ’æ–¥ï¼Œè¿™ç§æ’æ–¥ä¸æ˜¯å› ä¸ºè€å¹´äººå¤´è„‘ä¸çµå…‰æˆ–è€…æ‰‹è„šä¸çµæ´»äº†ï¼Œçº¯ç²¹æ˜¯å¿ƒé‡Œè§‰å¾— â€œæ²¡æ„æ€â€ ç½¢äº†ã€‚ è¦çœŸè§‰å¾—æœ‰æ„æ€ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸œè¥¿æ˜¯å­¦ä¸ä¼šçš„ï¼š æˆ–è®¸ä»–ä»¬ç¡¬ç€å¤´çš®è¯·æ•™ä½ çš„æ¯ä¸€ä¸ªé—®é¢˜ï¼Œé€¼è‡ªå·±æ¥è§¦çš„æ¯ä¸€ä¸ªç”µå­äº§å“ï¼ŒèƒŒåéƒ½è—ç€ä¸€å¥ï¼šã€Œæˆ‘æƒ³ä½ ã€ å§ã€‚ ä¸‰ã€æˆ‘ä»¬èƒ½å¤Ÿåšçš„é‚£äº›äº‹ç°åœ¨ç§‘æŠ€å‘å±•å¾—å¤ªå¿«ï¼Œå·²ç»æœ‰ç‚¹é€¼è¿«è€å¹´äººä¸å¾—ä¸è·Ÿä¸Šçš„æ„å‘³äº†ã€‚æ•™ä¼šé•¿è¾ˆä½¿ç”¨ç”µå­äº§å“è¿™ä»½é‡ä»»ï¼Œå¾ˆæ˜æ˜¾å·²ç»è½åœ¨äº†æˆ‘ä»¬çš„å¤´ä¸Šï¼Œä¸ºäº†é¿å… â€œä¸¤è´¥ä¿±ä¼¤â€ çš„å±€é¢å‘ç”Ÿï¼Œä¸‹é¢ç®€å•ç›˜ç‚¹ä¸€ä¸‹æˆ‘ä»¬èƒ½å¤ŸåŠ›æ‰€èƒ½åŠå»åšçš„ä¸€äº›äº‹æƒ…å§ï¼Œä¹Ÿæ¬¢è¿ç•™è¨€è®¨è®ºï¼ ä¿æŒè¶³å¤Ÿçš„è€å¿ƒå¤§éƒ¨åˆ†ç½‘å‹åœ¨æ•™é•¿è¾ˆä½¿ç”¨ç”µå­äº§å“çš„æ—¶å€™çš„ç»è¿‡ï¼šè€å¿ƒã€ç»†å¿ƒã€å¿ä½ä¸è€çƒ¦ã€å¿ä½æ€’ç«ã€å´©æºƒã€‚ åœ¨çœ‹å®Œäº†ä¸Šé¢ ç¬¬äºŒéƒ¨åˆ† çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ å“ä¸€å“ å¤šæ‰å¤šè‰ºçš„ç½‘å‹ä»¬ â€œè¶³å¤Ÿçš„è€å¿ƒâ€ï¼š åˆç†ä½¿ç”¨å·¥å…· â€œäººç±»ä¸ºä»€ä¹ˆä¼Ÿå¤§ï¼Ÿå› ä¸ºä¼šä½¿ç”¨å·¥å…·å•Šï¼â€œ â€”â€” ä½šå å°±æ‹¿ æ•™é•¿è¾ˆä»¬ä½¿ç”¨å¾®ä¿¡ è¿™äº‹å„¿æ¥è¯´å§ï¼Œæœ‰çš„äººä¸ºäº†æ•™ä¼šçˆ¶æ¯ç”¨å¾®ä¿¡ï¼Œç¡¬æ˜¯æŠŠè‡ªå·±é€¼æˆäº†æŠ½è±¡ç”»å¤§å¸ˆï¼Œç±»ä¼¼è¿™æ ·ï¼š ä½†å…¶å®å¾®ä¿¡å®˜æ–¹å°±æœ‰ ã€Œå¾®ä¿¡ä½¿ç”¨å°åŠ©æ‰‹ã€ è¿™æ ·çš„å®˜æ–¹ä½¿ç”¨æ•™ç¨‹ï¼Œå¹¶ä¸”ä¸ä»…æœ‰è§†é¢‘ï¼Œè¿˜æœ‰ åˆ†æ­¥éª¤ è®²è§£çš„å›¾æ–‡ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œä¸€å­¦å°±ä¼šï¼š ç®€ç›´ä¸èƒ½æ›´æ£’äº†ï¼š ps: å‹æƒ…æé†’ï¼Œè®°å¾—åŠ è¿›é•¿è¾ˆä»¬çš„å¸¸ç”¨å°ç¨‹åºé‡Œé¢å“¦ã€‚ è´­ä¹°é€‚åˆé•¿è¾ˆçš„ç”µå­äº§å“ä¾‹å¦‚å°ç±³æ——ä¸‹çš„ 21ke æ‰‹æœºï¼Œä»·æ ¼ä¾¿å®œ 138ï¼ŒåŠŸèƒ½å®Œå¤‡ï¼Œæ€§ä»·æ¯”é«˜ï¼š å†æ¯”å¦‚å°ç±³å®¶çš„å¦ä¸€æ¬¾äº§å“ï¼š å¦å¤–è¿˜æœ‰ä¸€äº› â€œé€‚è€åŒ–â€ çš„æ™ºèƒ½å®¶ç”µä¹Ÿæ˜¯éå¸¸å€¼å¾—è€ƒè™‘çš„ã€‚ åšå¥½è¿œç¨‹å‡†å¤‡éš¾å…ä¼šæœ‰éœ€è¦ä½ è¿œç¨‹æ“ä½œçš„æƒ…å†µå‡ºç°ï¼Œæ‰€ä»¥æå‰åœ¨é•¿è¾ˆä»¬çš„ç”µè„‘ä¸­ä¸‹è½½å¥½æ”¯æ’‘æˆ‘ä»¬è¿œç¨‹æ“ä½œçš„è½¯ä»¶ï¼Œå°±æ˜¾å¾—éå¸¸å¿…è¦äº†ï¼Œè¿™é‡Œæ¯”è¾ƒæ¨è Team Viewer è¿™ä¸ªè½¯ä»¶ï¼Œä¸ä»…å…¨å¹³å°æ”¯æŒï¼Œè€Œä¸”è¿˜æ”¯æŒ è¿œç¨‹æ‰‹æœºæ“çºµç”µè„‘ å“¦ï¼ æ•™é•¿è¾ˆå‘çº¢åŒ…ï¼Œä¹Ÿè¦æ•™å¦‚ä½•é€‰æ‹©å…¬ä¼—å· â€œä»Šå¤©æ˜¯é©¬åŒ–è…¾ç”Ÿæ—¥ï¼Œè½¬å‘ï¼Œä¹‹åè‡ªåŠ¨å……å€¼100qbï¼ˆæˆ–è€…è‡ªåŠ¨å‡çº§2ä¸ªå¤ªé˜³ï¼‰ï¼Œæˆ‘å·²ç»å¾—åˆ°äº†ï¼Œä½ å¿«è½¬å‘å§ã€‚â€ ä¸çŸ¥é“å¤§å®¶å¯¹äºä¸Šé¢è¿™ä¸€æ®µè¯ç†Ÿä¸ç†Ÿæ‚‰ï¼Œå¯¹äºåˆšæ¥è§¦äº’è”ç½‘ä¸ä¹…çš„é•¿è¾ˆï¼Œåˆ†è¾¨èƒ½åŠ›æ˜æ˜¾æ˜¯ä¸è¶³çš„ï¼Œå¹¶ä¸”äº’è”ç½‘æ•´ä¸ªå°±æ˜¯ä¸€ä¸ªä¿¡æ¯çš„æ´ªæµï¼Œç»™ä»–ä»¬ æ¨èå…³æ³¨ä¸€äº›é è°±çš„å…¬ä¼—å·ï¼Œæˆ–è€…ç±»ä¼¼ å¯ä¿¡å¯é çš„ä¿¡æ¯æ¥æºæ¸ é“ï¼Œå°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚ å¦å¤–ï¼Œå¾®ä¿¡å®˜æ–¹çš„å°ç¨‹åºä¸­ä¹Ÿæœ‰ ã€Œå¾®ä¿¡è¾Ÿè°£åŠ©æ‰‹ã€ è¿™æ ·çš„å®ç”¨å°ç¨‹åºå“¦ï¼Œç»™é•¿è¾ˆä»¬å…³æ³¨èµ·æ¥å§ï¼š å¸¸å›å®¶çœ‹çœ‹è¯´åˆ°åº•ï¼Œå¯¹æ–°æŠ€æœ¯ï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•ä¸€å¥ â€œä¸ºä»€ä¹ˆé•¿è¾ˆä¸æ¥å—â€ å°±ç»“æŸï¼Œé‡Œé¢ç‰µæ¶‰åˆ°å¤šæ–¹çš„å…±åŒåŠªåŠ›ï¼Œä½† å½’æ ¹åˆ°åº• è¿˜æ˜¯è¦ç†è§£é•¿è¾ˆä»¬çš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Œæ‰èƒ½æ›´å¥½åœ°è®©æ–°æŠ€æœ¯ä¸ºä»–ä»¬æœåŠ¡ã€‚ å¸¸å›å®¶çœ‹çœ‹å§ã€‚ æœ€åä¹Ÿè¦é˜²æ­¢é•¿è¾ˆä»¬åœ¨äº’è”ç½‘ä¸­é¨æ¸¸å¾—å¤ªè¿œå¦‚é¢˜ï¼š å‚è€ƒèµ„æ–™ ä¸ºä»€ä¹ˆæ•™è€äººç”¨ç”µå­äº§å“è¿™ä¹ˆéš¾ï¼Ÿ - çŸ¥ä¹ | @åˆ˜é£ | @shairley skirt | @æ§¿å¹´ - https://www.zhihu.com/question/27996612 æ•™çˆ¶æ¯ç”¨å¾®ä¿¡æœ‰å¤šéš¾ï¼Ÿæœ‰ä»€ä¹ˆä¾¿æ·çš„æ–¹æ³•ï¼Ÿ - çŸ¥ä¹ | @è…¾è®¯(Kerr) - https://www.zhihu.com/question/58622256 ä½ æ•™è¿‡é•¿è¾ˆä½¿ç”¨è¿‡ç”µå­äº§å“å—ï¼Ÿçœ‹äº†æ»¡æ»¡éƒ½æ˜¯æ„ŸåŠ¨ - https://baijiahao.baidu.com/s?id=1641376481781947136&amp;wfr=spider&amp;for=pc æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/categories/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"tags":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/tags/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜","slug":"Reids-4-â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜","date":"2020-03-02T08:46:00.000Z","updated":"2020-08-03T09:47:44.049Z","comments":true,"path":"2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/","link":"","permalink":"http://www.wmyskxz.com/2020/03/02/reids-4-shen-qi-de-hyperloglog-jie-jue-tong-ji-wen-ti/","excerpt":"","text":"ä¸€ã€HyperLogLog ç®€ä»‹HyperLogLog æ˜¯æœ€æ—©ç”± Flajolet åŠå…¶åŒäº‹åœ¨ 2007 å¹´æå‡ºçš„ä¸€ç§ ä¼°ç®—åŸºæ•°çš„è¿‘ä¼¼æœ€ä¼˜ç®—æ³•ã€‚ä½†è·ŸåŸç‰ˆè®ºæ–‡ä¸åŒçš„æ˜¯ï¼Œå¥½åƒå¾ˆå¤šä¹¦åŒ…æ‹¬ Redis ä½œè€…éƒ½æŠŠå®ƒç§°ä¸ºä¸€ç§ æ–°çš„æ•°æ®ç»“æ„(new datastruct) (ç®—æ³•å®ç°ç¡®å®éœ€è¦ä¸€ç§ç‰¹å®šçš„æ•°æ®ç»“æ„æ¥å®ç°)ã€‚ å…³äºåŸºæ•°ç»Ÿè®¡åŸºæ•°ç»Ÿè®¡(Cardinality Counting) é€šå¸¸æ˜¯ç”¨æ¥ç»Ÿè®¡ä¸€ä¸ªé›†åˆä¸­ä¸é‡å¤çš„å…ƒç´ ä¸ªæ•°ã€‚ æ€è€ƒè¿™æ ·çš„ä¸€ä¸ªåœºæ™¯ï¼š å¦‚æœä½ è´Ÿè´£å¼€å‘ç»´æŠ¤ä¸€ä¸ªå¤§å‹çš„ç½‘ç«™ï¼Œæœ‰ä¸€å¤©è€æ¿æ‰¾äº§å“ç»ç†è¦ç½‘ç«™ä¸Šæ¯ä¸ªç½‘é¡µçš„ UV(ç‹¬ç«‹è®¿å®¢ï¼Œæ¯ä¸ªç”¨æˆ·æ¯å¤©åªè®°å½•ä¸€æ¬¡)ï¼Œç„¶åè®©ä½ æ¥å¼€å‘è¿™ä¸ªç»Ÿè®¡æ¨¡å—ï¼Œä½ ä¼šå¦‚ä½•å®ç°ï¼Ÿ å¦‚æœç»Ÿè®¡ PV(æµè§ˆé‡ï¼Œç”¨æˆ·æ²¡ç‚¹ä¸€æ¬¡è®°å½•ä¸€æ¬¡)ï¼Œé‚£éå¸¸å¥½åŠï¼Œç»™æ¯ä¸ªé¡µé¢é…ç½®ä¸€ä¸ªç‹¬ç«‹çš„ Redis è®¡æ•°å™¨å°±å¯ä»¥äº†ï¼ŒæŠŠè¿™ä¸ªè®¡æ•°å™¨çš„ key åç¼€åŠ ä¸Šå½“å¤©çš„æ—¥æœŸã€‚è¿™æ ·æ¯æ¥ä¸€ä¸ªè¯·æ±‚ï¼Œå°±æ‰§è¡Œ INCRBY æŒ‡ä»¤ä¸€æ¬¡ï¼Œæœ€ç»ˆå°±å¯ä»¥ç»Ÿè®¡å‡ºæ‰€æœ‰çš„ PV æ•°æ®äº†ã€‚ ä½†æ˜¯ UV ä¸åŒï¼Œå®ƒè¦å»é‡ï¼ŒåŒä¸€ä¸ªç”¨æˆ·ä¸€å¤©ä¹‹å†…çš„å¤šæ¬¡è®¿é—®è¯·æ±‚åªèƒ½è®¡æ•°ä¸€æ¬¡ã€‚è¿™å°±è¦æ±‚äº†æ¯ä¸€ä¸ªç½‘é¡µè¯·æ±‚éƒ½éœ€è¦å¸¦ä¸Šç”¨æˆ·çš„ IDï¼Œæ— è®ºæ˜¯ç™»å½•ç”¨æˆ·è¿˜æ˜¯æœªç™»å½•çš„ç”¨æˆ·ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå”¯ä¸€ ID æ¥æ ‡è¯†ã€‚ ä½ ä¹Ÿè®¸é©¬ä¸Šå°±æƒ³åˆ°äº†ä¸€ä¸ª ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼šé‚£å°±æ˜¯ ä¸ºæ¯ä¸€ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªç‹¬ç«‹çš„ set é›†åˆ æ¥å­˜å‚¨æ‰€æœ‰å½“å¤©è®¿é—®è¿‡æ­¤é¡µé¢çš„ç”¨æˆ· IDã€‚ä½†è¿™æ ·çš„ é—®é¢˜ å°±æ˜¯ï¼š å­˜å‚¨ç©ºé—´å·¨å¤§ï¼š å¦‚æœç½‘ç«™è®¿é—®é‡ä¸€å¤§ï¼Œä½ éœ€è¦ç”¨æ¥å­˜å‚¨çš„ set é›†åˆå°±ä¼šéå¸¸å¤§ï¼Œå¦‚æœé¡µé¢å†ä¸€å¤š.. ä¸ºäº†ä¸€ä¸ªå»é‡åŠŸèƒ½è€—è´¹çš„èµ„æºå°±å¯ä»¥ç›´æ¥è®©ä½  è€æ¿æ‰“æ­»ä½ ï¼› ç»Ÿè®¡å¤æ‚ï¼š è¿™ä¹ˆå¤š set é›†åˆå¦‚æœè¦èšåˆç»Ÿè®¡ä¸€ä¸‹ï¼Œåˆæ˜¯ä¸€ä¸ªå¤æ‚çš„äº‹æƒ…ï¼› åŸºæ•°ç»Ÿè®¡çš„å¸¸ç”¨æ–¹æ³•å¯¹äºä¸Šè¿°è¿™æ ·éœ€è¦ åŸºæ•°ç»Ÿè®¡ çš„äº‹æƒ…ï¼Œé€šå¸¸æ¥è¯´æœ‰ä¸¤ç§æ¯” set é›†åˆæ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼š ç¬¬ä¸€ç§ï¼šB æ ‘B æ ‘æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯æ’å…¥å’ŒæŸ¥æ‰¾æ•ˆç‡å¾ˆé«˜ï¼Œå¦‚æœç”¨ B æ ‘å­˜å‚¨è¦ç»Ÿè®¡çš„æ•°æ®ï¼Œå¯ä»¥å¿«é€Ÿåˆ¤æ–­æ–°æ¥çš„æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¹¶å¿«é€Ÿå°†å…ƒç´ æ’å…¥ B æ ‘ã€‚è¦è®¡ç®—åŸºç¡€å€¼ï¼Œåªéœ€è¦è®¡ç®— B æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°å°±è¡Œäº†ã€‚ ä¸è¿‡å°† B æ ‘ç»“æ„ç»´æŠ¤åˆ°å†…å­˜ä¸­ï¼Œèƒ½å¤Ÿè§£å†³ç»Ÿè®¡å’Œè®¡ç®—çš„é—®é¢˜ï¼Œä½†æ˜¯ å¹¶æ²¡æœ‰èŠ‚çœå†…å­˜ã€‚ ç¬¬äºŒç§ï¼šbitmapbitmap å¯ä»¥ç†è§£ä¸ºé€šè¿‡ä¸€ä¸ª bit æ•°ç»„æ¥å­˜å‚¨ç‰¹å®šæ•°æ®çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œæ¯ä¸€ä¸ª bit ä½éƒ½èƒ½ç‹¬ç«‹åŒ…å«ä¿¡æ¯ï¼Œbit æ˜¯æ•°æ®çš„æœ€å°å­˜å‚¨å•ä½ï¼Œå› æ­¤èƒ½å¤§é‡èŠ‚çœç©ºé—´ï¼Œä¹Ÿå¯ä»¥å°†æ•´ä¸ª bit æ•°æ®ä¸€æ¬¡æ€§ load åˆ°å†…å­˜è®¡ç®—ã€‚å¦‚æœå®šä¹‰ä¸€ä¸ªå¾ˆå¤§çš„ bit æ•°ç»„ï¼ŒåŸºç¡€ç»Ÿè®¡ä¸­ æ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”åˆ° bit æ•°ç»„ä¸­çš„ä¸€ä½ï¼Œä¾‹å¦‚ï¼š bitmap è¿˜æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ä¼˜åŠ¿æ˜¯ å¯ä»¥è½»æ¾åˆå¹¶å¤šä¸ªç»Ÿè®¡ç»“æœï¼Œåªéœ€è¦å¯¹å¤šä¸ªç»“æœæ±‚å¼‚æˆ–å°±å¯ä»¥äº†ï¼Œä¹Ÿå¯ä»¥å¤§å¤§å‡å°‘å­˜å‚¨å†…å­˜ã€‚å¯ä»¥ç®€å•åšä¸€ä¸ªè®¡ç®—ï¼Œå¦‚æœè¦ç»Ÿè®¡ 1 äº¿ ä¸ªæ•°æ®çš„åŸºæ•°å€¼ï¼Œå¤§çº¦éœ€è¦çš„å†…å­˜ï¼š100_000_000/ 8/ 1024/ 1024 â‰ˆ 12 Mï¼Œå¦‚æœç”¨ 32 bit çš„ int ä»£è¡¨ æ¯ä¸€ä¸ª ç»Ÿè®¡çš„æ•°æ®ï¼Œå¤§çº¦éœ€è¦å†…å­˜ï¼š32 * 100_000_000/ 8/ 1024/ 1024 â‰ˆ 381 M å¯ä»¥çœ‹åˆ° bitmap å¯¹äºå†…å­˜çš„èŠ‚çœæ˜¾è€Œæ˜“è§ï¼Œä½†ä»ç„¶ä¸å¤Ÿã€‚ç»Ÿè®¡ä¸€ä¸ªå¯¹è±¡çš„åŸºæ•°å€¼å°±éœ€è¦ 12 Mï¼Œå¦‚æœç»Ÿè®¡ 1 ä¸‡ä¸ªå¯¹è±¡ï¼Œå°±éœ€è¦æ¥è¿‘ 120 Gï¼Œå¯¹äºå¤§æ•°æ®çš„åœºæ™¯ä»ç„¶ä¸é€‚ç”¨ã€‚ æ¦‚ç‡ç®—æ³•å®é™…ä¸Šç›®å‰è¿˜æ²¡æœ‰å‘ç°æ›´å¥½çš„åœ¨ å¤§æ•°æ®åœºæ™¯ ä¸­ å‡†ç¡®è®¡ç®— åŸºæ•°çš„é«˜æ•ˆç®—æ³•ï¼Œå› æ­¤åœ¨ä¸è¿½æ±‚ç»å¯¹ç²¾ç¡®çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ¦‚ç‡ç®—æ³•ç®—æ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚ æ¦‚ç‡ç®—æ³• ä¸ç›´æ¥å­˜å‚¨ æ•°æ®é›†åˆæœ¬èº«ï¼Œé€šè¿‡ä¸€å®šçš„ æ¦‚ç‡ç»Ÿè®¡æ–¹æ³•é¢„ä¼°åŸºæ•°å€¼ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥å¤§å¤§èŠ‚çœå†…å­˜ï¼ŒåŒæ—¶ä¿è¯è¯¯å·®æ§åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…ã€‚ç›®å‰ç”¨äºåŸºæ•°è®¡æ•°çš„æ¦‚ç‡ç®—æ³•åŒ…æ‹¬: Linear Counting(LC)ï¼šæ—©æœŸçš„åŸºæ•°ä¼°è®¡ç®—æ³•ï¼ŒLC åœ¨ç©ºé—´å¤æ‚åº¦æ–¹é¢å¹¶ä¸ç®—ä¼˜ç§€ï¼Œå®é™…ä¸Š LC çš„ç©ºé—´å¤æ‚åº¦ä¸ä¸Šæ–‡ä¸­ç®€å• bitmap æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼ˆä½†æ˜¯æœ‰ä¸ªå¸¸æ•°é¡¹çº§åˆ«çš„é™ä½ï¼‰ï¼Œéƒ½æ˜¯ O(Nmax) LogLog Counting(LLC)ï¼šLogLog Counting ç›¸æ¯”äº LC æ›´åŠ èŠ‚çœå†…å­˜ï¼Œç©ºé—´å¤æ‚åº¦åªæœ‰ O(log2(log2(Nmax))) HyperLogLog Counting(HLL)ï¼šHyperLogLog Counting æ˜¯åŸºäº LLC çš„ä¼˜åŒ–å’Œæ”¹è¿›ï¼Œåœ¨åŒæ ·ç©ºé—´å¤æ‚åº¦æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ¯” LLC çš„åŸºæ•°ä¼°è®¡è¯¯å·®æ›´å° å…¶ä¸­ï¼ŒHyperLogLog çš„è¡¨ç°æ˜¯æƒŠäººçš„ï¼Œä¸Šé¢æˆ‘ä»¬ç®€å•è®¡ç®—è¿‡ç”¨ bitmap å­˜å‚¨ 1 ä¸ªäº¿ ç»Ÿè®¡æ•°æ®å¤§æ¦‚éœ€è¦ 12 M å†…å­˜ï¼Œè€Œåœ¨ HyperLoglog ä¸­ï¼Œåªéœ€è¦ä¸åˆ° 1 K å†…å­˜å°±èƒ½å¤Ÿåšåˆ°ï¼åœ¨ Redis ä¸­å®ç°çš„ HyperLoglog ä¹Ÿåªéœ€è¦ 12 K å†…å­˜ï¼Œåœ¨ æ ‡å‡†è¯¯å·® 0.81% çš„å‰æä¸‹ï¼Œèƒ½å¤Ÿç»Ÿè®¡ 264 ä¸ªæ•°æ®ï¼ è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿï¼ ä¸‹é¢èµ¶ç´§æ¥äº†è§£ä¸€ä¸‹ï¼ äºŒã€HyperLogLog åŸç†æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªæŠ›ç¡¬å¸çš„æ¸¸æˆï¼šä½ è¿ç»­æ· n æ¬¡ç¡¬å¸ï¼Œç„¶åè¯´å‡ºå…¶ä¸­è¿ç»­æ·ä¸ºæ­£é¢çš„æœ€å¤§æ¬¡æ•°ï¼Œæˆ‘æ¥çŒœä½ ä¸€å…±æŠ›äº†å¤šå°‘æ¬¡ã€‚ è¿™å¾ˆå®¹æ˜“ç†è§£å§ï¼Œä¾‹å¦‚ï¼šä½ è¯´ä½ è¿™ä¸€æ¬¡ æœ€å¤šè¿ç»­å‡ºç°äº† 2 æ¬¡ æ­£é¢ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥çŸ¥é“ä½ è¿™ä¸€æ¬¡æŠ•æ·çš„æ¬¡æ•°å¹¶ä¸å¤šï¼Œæ‰€ä»¥ æˆ‘å¯èƒ½ä¼šçŒœæ˜¯ 5 æˆ–è€…æ˜¯å…¶ä»–å°ä¸€äº›çš„æ•°å­—ï¼Œä½†å¦‚æœä½ è¯´ä½ è¿™ä¸€æ¬¡ æœ€å¤šè¿ç»­å‡ºç°äº† 20 æ¬¡ æ­£é¢ï¼Œè™½ç„¶æˆ‘è§‰å¾—ä¸å¯èƒ½ï¼Œä½†æˆ‘ä»ç„¶çŸ¥é“ä½ èŠ±äº†ç‰¹åˆ«å¤šçš„æ—¶é—´ï¼Œæ‰€ä»¥ æˆ‘è¯´ GUNâ€¦ã€‚ è¿™æœŸé—´æˆ‘å¯èƒ½ä¼šè¦æ±‚ä½ é‡å¤å®éªŒï¼Œç„¶åæˆ‘å¾—åˆ°äº†æ›´å¤šçš„æ•°æ®ä¹‹åå°±ä¼šä¼°è®¡å¾—æ›´å‡†ã€‚æˆ‘ä»¬æ¥æŠŠåˆšæ‰çš„æ¸¸æˆæ¢ä¸€ç§è¯´æ³•ï¼š è¿™å¼ å›¾çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬ç»™å®šä¸€ç³»åˆ—çš„éšæœºæ•´æ•°ï¼Œè®°å½•ä¸‹ä½ä½è¿ç»­é›¶ä½çš„æœ€å¤§é•¿åº¦ Kï¼Œå³ä¸ºå›¾ä¸­çš„ maxbitï¼Œé€šè¿‡è¿™ä¸ª K å€¼æˆ‘ä»¬å°±å¯ä»¥ä¼°ç®—å‡ºéšæœºæ•°çš„æ•°é‡ Nã€‚ ä»£ç å®éªŒæˆ‘ä»¬å¯ä»¥ç®€å•ç¼–å†™ä»£ç åšä¸€ä¸ªå®éªŒï¼Œæ¥æ¢ç©¶ä¸€ä¸‹ K å’Œ N ä¹‹é—´çš„å…³ç³»ï¼š public class PfTest { static class BitKeeper { private int maxbit; public void random() { long value = ThreadLocalRandom.current().nextLong(2L &lt;&lt; 32); int bit = lowZeros(value); if (bit > this.maxbit) { this.maxbit = bit; } } private int lowZeros(long value) { int i = 0; for (; i &lt; 32; i++) { if (value >> i &lt;&lt; i != value) { break; } } return i - 1; } } static class Experiment { private int n; private BitKeeper keeper; public Experiment(int n) { this.n = n; this.keeper = new BitKeeper(); } public void work() { for (int i = 0; i &lt; n; i++) { this.keeper.random(); } } public void debug() { System.out .printf(\"%d %.2f %d\\n\", this.n, Math.log(this.n) / Math.log(2), this.keeper.maxbit); } } public static void main(String[] args) { for (int i = 1000; i &lt; 100000; i += 100) { Experiment exp = new Experiment(i); exp.work(); exp.debug(); } } } è·Ÿä¸Šå›¾ä¸­çš„è¿‡ç¨‹æ˜¯ä¸€è‡´çš„ï¼Œè¯è¯´ä¸ºå•¥å« PfTest å‘¢ï¼ŒåŒ…æ‹¬ Redis ä¸­çš„å‘½ä»¤ä¹Ÿä¸€æ ·å¸¦æœ‰ä¸€ä¸ª PF å‰ç¼€ï¼Œè¿˜è®°å¾—å˜›ï¼Œå› ä¸º HyperLogLog çš„æå‡ºè€…ä¸Šæ–‡æåˆ°è¿‡çš„ï¼Œå« Philippe Flajoletã€‚ æˆªå–éƒ¨åˆ†è¾“å‡ºæŸ¥çœ‹ï¼š //n n/log2 maxbit 34000 15.05 13 35000 15.10 13 36000 15.14 16 37000 15.18 17 38000 15.21 14 39000 15.25 16 40000 15.29 14 41000 15.32 16 42000 15.36 18 ä¼šå‘ç° K å’Œ N çš„å¯¹æ•°ä¹‹é—´å­˜åœ¨æ˜¾è‘—çš„çº¿æ€§ç›¸å…³æ€§ï¼šN çº¦ç­‰äº 2k æ›´è¿‘ä¸€æ­¥ï¼šåˆ†æ¡¶å¹³å‡å¦‚æœ N ä»‹äº 2k å’Œ 2k+1 ä¹‹é—´ï¼Œç”¨è¿™ç§æ–¹å¼ä¼°è®¡çš„å€¼éƒ½ç­‰äº 2kï¼Œè¿™æ˜æ˜¾æ˜¯ä¸åˆç†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ª BitKeeper è¿›è¡ŒåŠ æƒä¼°è®¡ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå‡†ç¡®çš„å€¼äº†ï¼š public class PfTest { static class BitKeeper { // æ— å˜åŒ–, ä»£ç çœç•¥ } static class Experiment { private int n; private int k; private BitKeeper[] keepers; public Experiment(int n) { this(n, 1024); } public Experiment(int n, int k) { this.n = n; this.k = k; this.keepers = new BitKeeper[k]; for (int i = 0; i &lt; k; i++) { this.keepers[i] = new BitKeeper(); } } public void work() { for (int i = 0; i &lt; this.n; i++) { long m = ThreadLocalRandom.current().nextLong(1L &lt;&lt; 32); BitKeeper keeper = keepers[(int) (((m &amp; 0xfff0000) >> 16) % keepers.length)]; keeper.random(); } } public double estimate() { double sumbitsInverse = 0.0; for (BitKeeper keeper : keepers) { sumbitsInverse += 1.0 / (float) keeper.maxbit; } double avgBits = (float) keepers.length / sumbitsInverse; return Math.pow(2, avgBits) * this.k; } } public static void main(String[] args) { for (int i = 100000; i &lt; 1000000; i += 100000) { Experiment exp = new Experiment(i); exp.work(); double est = exp.estimate(); System.out.printf(\"%d %.2f %.2f\\n\", i, est, Math.abs(est - i) / i); } } } è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹ ç±»ä¼¼äºé€‰ç§€èŠ‚ç›®é‡Œé¢çš„æ‰“åˆ†ï¼Œä¸€å †ä¸“ä¸šè¯„å§”æ‰“åˆ†ï¼Œä½†æ˜¯æœ‰ä¸€äº›è¯„å§”å› ä¸ºè‡ªå·±ç‰¹åˆ«å–œæ¬¢æ‰€ä»¥ç»™é«˜äº†ï¼Œä¸€äº›è¯„å§”åˆæ‰“ä½äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½è¦ å±è”½æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ï¼Œç„¶å å†è®¡ç®—å¹³å‡å€¼ï¼Œè¿™æ ·çš„å‡ºæ¥çš„åˆ†æ•°å°±å·®ä¸å¤šæ˜¯å…¬å¹³å…¬æ­£çš„äº†ã€‚ ä¸Šè¿°ä»£ç å°±æœ‰ 1024 ä¸ª â€œè¯„å§”â€ï¼Œå¹¶ä¸”åœ¨è®¡ç®—å¹³å‡å€¼çš„æ—¶å€™ï¼Œé‡‡ç”¨äº† è°ƒå’Œå¹³å‡æ•°ï¼Œä¹Ÿå°±æ˜¯å€’æ•°çš„å¹³å‡å€¼ï¼Œå®ƒèƒ½æœ‰æ•ˆåœ°å¹³æ»‘ç¦»ç¾¤å€¼çš„å½±å“ï¼š avg = (3 + 4 + 5 + 104) / 4 = 29 avg = 4 / (1/3 + 1/4 + 1/5 + 1/104) = 5.044 è§‚å¯Ÿè„šæœ¬çš„è¾“å‡ºï¼Œè¯¯å·®ç‡ç™¾åˆ†æ¯”æ§åˆ¶åœ¨ä¸ªä½æ•°ï¼š 100000 94274.94 0.06 200000 194092.62 0.03 300000 277329.92 0.08 400000 373281.66 0.07 500000 501551.60 0.00 600000 596078.40 0.01 700000 687265.72 0.02 800000 828778.96 0.04 900000 944683.53 0.05 çœŸå®çš„ HyperLogLog è¦æ¯”ä¸Šé¢çš„ç¤ºä¾‹ä»£ç æ›´åŠ å¤æ‚ä¸€äº›ï¼Œä¹Ÿæ›´åŠ ç²¾ç¡®ä¸€äº›ã€‚ä¸Šé¢è¿™ä¸ªç®—æ³•åœ¨éšæœºæ¬¡æ•°å¾ˆå°‘çš„æƒ…å†µä¸‹ä¼šå‡ºç°é™¤é›¶é”™è¯¯ï¼Œå› ä¸º maxbit = 0 æ˜¯ä¸å¯ä»¥æ±‚å€’æ•°çš„ã€‚ çœŸå®çš„ HyperLogLogæœ‰ä¸€ä¸ªç¥å¥‡çš„ç½‘ç«™ï¼Œå¯ä»¥åŠ¨æ€åœ°è®©ä½ è§‚å¯Ÿåˆ° HyperLogLog çš„ç®—æ³•åˆ°åº•æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼šhttp://content.research.neustar.biz/blog/hll.html å…¶ä¸­çš„ä¸€äº›æ¦‚å¿µè¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œæ‚¨å°±å¯ä»¥è‡ªè¡Œå»ç‚¹å‡» step æ¥è§‚å¯Ÿäº†ï¼š m è¡¨ç¤ºåˆ†æ¡¶ä¸ªæ•°ï¼š ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œåˆ†æˆäº† 64 ä¸ªæ¡¶ï¼› è“è‰²çš„ bit è¡¨ç¤ºåœ¨æ¡¶ä¸­çš„ä½ç½®ï¼š ä¾‹å¦‚å›¾ä¸­çš„ 101110 å®åˆ™è¡¨ç¤ºäºŒè¿›åˆ¶çš„ 46ï¼Œæ‰€ä»¥è¯¥å…ƒç´ è¢«ç»Ÿè®¡åœ¨ä¸­é—´å¤§è¡¨æ ¼ Register Values ä¸­æ ‡çº¢çš„ç¬¬ 46 ä¸ªæ¡¶ä¹‹ä¸­ï¼› ç»¿è‰²çš„ bit è¡¨ç¤ºç¬¬ä¸€ä¸ª 1 å‡ºç°çš„ä½ç½®ï¼š ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°æ ‡ç»¿çš„ bit ä¸­ï¼Œä»å³å¾€å·¦æ•°ï¼Œç¬¬ä¸€ä½å°±æ˜¯ 1ï¼Œæ‰€ä»¥åœ¨ Register Values ç¬¬ 46 ä¸ªæ¡¶ä¸­å†™å…¥ 1ï¼› çº¢è‰² bit è¡¨ç¤ºç»¿è‰² bit çš„å€¼çš„ç´¯åŠ ï¼š ä¸‹ä¸€ä¸ªå‡ºç°åœ¨ç¬¬ 46 ä¸ªæ¡¶çš„å…ƒç´ å€¼ä¼šè¢«ç´¯åŠ ï¼› ä¸ºä»€ä¹ˆè¦ç»Ÿè®¡ Hash å€¼ä¸­ç¬¬ä¸€ä¸ª 1 å‡ºç°çš„ä½ç½®ï¼Ÿå› ä¸ºç¬¬ä¸€ä¸ª 1 å‡ºç°çš„ä½ç½®å¯ä»¥åŒæˆ‘ä»¬æŠ›ç¡¬å¸çš„æ¸¸æˆä¸­ç¬¬ä¸€æ¬¡æŠ›åˆ°æ­£é¢çš„æŠ›æ·æ¬¡æ•°å¯¹åº”èµ·æ¥ï¼Œæ ¹æ®ä¸Šé¢æ·ç¡¬å¸å®éªŒçš„ç»“è®ºï¼Œè®°å½•æ¯ä¸ªæ•°æ®çš„ç¬¬ä¸€ä¸ªå‡ºç°çš„ä½ç½® Kï¼Œå°±å¯ä»¥é€šè¿‡å…¶ä¸­æœ€å¤§å€¼ Kmax æ¥æ¨å¯¼å‡ºæ•°æ®é›†åˆä¸­çš„åŸºæ•°ï¼šN = 2Kmax PF çš„å†…å­˜å ç”¨ä¸ºä»€ä¹ˆæ˜¯ 12 KBï¼Ÿæˆ‘ä»¬ä¸Šé¢çš„ç®—æ³•ä¸­ä½¿ç”¨äº† 1024 ä¸ªæ¡¶ï¼Œç½‘ç«™æ¼”ç¤ºä¹Ÿåªæœ‰ 64 ä¸ªæ¡¶ï¼Œä¸è¿‡åœ¨ Redis çš„ HyperLogLog å®ç°ä¸­ï¼Œç”¨çš„æ˜¯ 16384 ä¸ªæ¡¶ï¼Œå³ï¼š214ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°±åƒä¸Šé¢ç½‘ç«™ä¸­é—´é‚£ä¸ª Register Values å¤§è¡¨æ ¼æœ‰ 16384 æ ¼ã€‚ è€ŒRedis æœ€å¤§èƒ½å¤Ÿç»Ÿè®¡çš„æ•°æ®é‡æ˜¯ 264ï¼Œå³æ¯ä¸ªæ¡¶çš„ maxbit éœ€è¦ 6 ä¸ª bit æ¥å­˜å‚¨ï¼Œæœ€å¤§å¯ä»¥è¡¨ç¤º maxbit = 63ï¼Œäºæ˜¯æ€»å…±å ç”¨å†…å­˜å°±æ˜¯ï¼š(214) x 6 / 8 (æ¯ä¸ªæ¡¶ 6 bitï¼Œè€Œè¿™ä¹ˆå¤šæ¡¶æœ¬èº«è¦å ç”¨ 16384 bitï¼Œå†é™¤ä»¥ 8 è½¬æ¢æˆ KB),ç®—å‡ºæ¥çš„ç»“æœå°±æ˜¯ 12 KBã€‚ ä¸‰ã€Redis ä¸­çš„ HyperLogLog å®ç°ä»ä¸Šé¢æˆ‘ä»¬ç®—æ˜¯å¯¹ HyperLogLog çš„ç®—æ³•å’Œæ€æƒ³æœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œå¹¶ä¸”çŸ¥é“äº†ä¸€ä¸ª HyperLogLog å®é™…å ç”¨çš„ç©ºé—´å¤§çº¦æ˜¯ 12 KBï¼Œä½† Redis å¯¹äºå†…å­˜çš„ä¼˜åŒ–éå¸¸å˜æ€ï¼Œå½“ è®¡æ•°æ¯”è¾ƒå° çš„æ—¶å€™ï¼Œå¤§å¤šæ•°æ¡¶çš„è®¡æ•°å€¼éƒ½æ˜¯ é›¶ï¼Œè¿™ä¸ªæ—¶å€™ Redis å°±ä¼šé€‚å½“èŠ‚çº¦ç©ºé—´ï¼Œè½¬æ¢æˆå¦å¤–ä¸€ç§ ç¨€ç–å­˜å‚¨æ–¹å¼ï¼Œä¸ä¹‹ç›¸å¯¹çš„ï¼Œæ­£å¸¸çš„å­˜å‚¨æ¨¡å¼å«åš å¯†é›†å­˜å‚¨ï¼Œè¿™ç§æ–¹å¼ä¼šæ’å®šåœ°å ç”¨ 12 KBã€‚ å¯†é›†å‹å­˜å‚¨ç»“æ„å¯†é›†å‹çš„å­˜å‚¨ç»“æ„éå¸¸ç®€å•ï¼Œå°±æ˜¯ 16384 ä¸ª 6 bit è¿ç»­ä¸²æˆ çš„å­—ç¬¦ä¸²ä½å›¾ï¼š æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸€ä¸ªå­—èŠ‚æ˜¯ç”± 8 ä¸ª bit ç»„æˆçš„ï¼Œè¿™æ · 6 bit æ’åˆ—çš„ç»“æ„å°±ä¼šå¯¼è‡´ï¼Œæœ‰ä¸€äº›æ¡¶ä¼š è·¨è¶Šå­—èŠ‚è¾¹ç•Œï¼Œæˆ‘ä»¬éœ€è¦ å¯¹è¿™ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå­—èŠ‚è¿›è¡Œé€‚å½“çš„ç§»ä½æ‹¼æ¥ æ‰å¯ä»¥å¾—åˆ°å…·ä½“çš„è®¡æ•°å€¼ã€‚ å‡è®¾æ¡¶çš„ç¼–å·ä¸º indexï¼Œè¿™ä¸ª 6 bity è®¡æ•°å€¼çš„èµ·å§‹å­—èŠ‚åç§»ç”¨ offset_bytes è¡¨ç¤ºï¼Œå®ƒåœ¨è¿™ä¸ªå­—èŠ‚çš„å…¶å®æ¯”ç‰¹ä½ç½®åç§»ç”¨ offset_bits è¡¨ç¤ºï¼Œäºæ˜¯æˆ‘ä»¬æœ‰ï¼š offset_bytes = (index * 6) / 8 offset_bits = (index * 6) % 8 å‰è€…æ˜¯å•†ï¼Œåè€…æ˜¯ä½™æ•°ã€‚æ¯”å¦‚ bucket 2 çš„å­—èŠ‚åç§»æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯ç¬¬ 2 ä¸ªå­—èŠ‚ã€‚å®ƒçš„ä½åç§»æ˜¯ 4ï¼Œä¹Ÿå°±æ˜¯ç¬¬ 2 ä¸ªå­—èŠ‚çš„ç¬¬ 5 ä¸ªä½å¼€å§‹æ˜¯ bucket 2 çš„è®¡æ•°å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ å­—èŠ‚ä½åºæ˜¯å·¦è¾¹ä½ä½å³è¾¹é«˜ä½ï¼Œè€Œé€šå¸¸æˆ‘ä»¬ä½¿ç”¨çš„å­—èŠ‚éƒ½æ˜¯å·¦è¾¹é«˜ä½å³è¾¹ä½ä½ã€‚ è¿™é‡Œå°±æ¶‰åŠåˆ°ä¸¤ç§æƒ…å†µï¼Œå¦‚æœ offset_bits å°äºç­‰äº 2ï¼Œè¯´æ˜è¿™ 6 bit åœ¨ä¸€ä¸ªå­—èŠ‚çš„å†…éƒ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„è¡¨è¾¾å¼å¾—åˆ°è®¡æ•°å€¼ valï¼š val = buffer[offset_bytes] >> offset_bits # å‘å³ç§»ä½ å¦‚æœ offset_bits å¤§äº 2ï¼Œé‚£ä¹ˆå°±ä¼šæ¶‰åŠåˆ° è·¨è¶Šå­—èŠ‚è¾¹ç•Œï¼Œæˆ‘ä»¬éœ€è¦æ‹¼æ¥ä¸¤ä¸ªå­—èŠ‚çš„ä½ç‰‡æ®µï¼š # ä½ä½å€¼ low_val = buffer[offset_bytes] >> offset_bits # ä½ä½ä¸ªæ•° low_bits = 8 - offset_bits # æ‹¼æ¥ï¼Œä¿ç•™ä½6ä½ val = (high_val &lt;&lt; low_bits | low_val) &amp; 0b111111 ä¸è¿‡ä¸‹é¢ Redis çš„æºç è¦æ™¦æ¶©ä¸€ç‚¹ï¼Œçœ‹å½¢å¼å®ƒä¼¼ä¹åªè€ƒè™‘äº†è·¨è¶Šå­—èŠ‚è¾¹ç•Œçš„æƒ…å†µã€‚è¿™æ˜¯å› ä¸ºå¦‚æœ 6 bit åœ¨å•ä¸ªå­—èŠ‚å†…ï¼Œä¸Šé¢ä»£ç ä¸­çš„ high_val çš„å€¼æ˜¯é›¶ï¼Œæ‰€ä»¥è¿™ä¸€ä»½ä»£ç å¯ä»¥åŒæ—¶ç…§é¡¾å•å­—èŠ‚å’ŒåŒå­—èŠ‚ï¼š // è·å–æŒ‡å®šæ¡¶çš„è®¡æ•°å€¼ #define HLL_DENSE_GET_REGISTER(target,p,regnum) do { \\ uint8_t *_p = (uint8_t*) p; \\ unsigned long _byte = regnum*HLL_BITS/8; \\ unsigned long _fb = regnum*HLL_BITS&amp;7; \\ # %8 = &amp;7 unsigned long _fb8 = 8 - _fb; \\ unsigned long b0 = _p[_byte]; \\ unsigned long b1 = _p[_byte+1]; \\ target = ((b0 >> _fb) | (b1 &lt;&lt; _fb8)) &amp; HLL_REGISTER_MAX; \\ } while(0) // è®¾ç½®æŒ‡å®šæ¡¶çš„è®¡æ•°å€¼ #define HLL_DENSE_SET_REGISTER(p,regnum,val) do { \\ uint8_t *_p = (uint8_t*) p; \\ unsigned long _byte = regnum*HLL_BITS/8; \\ unsigned long _fb = regnum*HLL_BITS&amp;7; \\ unsigned long _fb8 = 8 - _fb; \\ unsigned long _v = val; \\ _p[_byte] &amp;= ~(HLL_REGISTER_MAX &lt;&lt; _fb); \\ _p[_byte] |= _v &lt;&lt; _fb; \\ _p[_byte+1] &amp;= ~(HLL_REGISTER_MAX >> _fb8); \\ _p[_byte+1] |= _v >> _fb8; \\ } while(0) ç¨€ç–å­˜å‚¨ç»“æ„ç¨€ç–å­˜å‚¨é€‚ç”¨äºå¾ˆå¤šè®¡æ•°å€¼éƒ½æ˜¯é›¶çš„æƒ…å†µã€‚ä¸‹å›¾è¡¨ç¤ºäº†ä¸€èˆ¬ç¨€ç–å­˜å‚¨è®¡æ•°å€¼çš„çŠ¶æ€ï¼š å½“ å¤šä¸ªè¿ç»­æ¡¶çš„è®¡æ•°å€¼éƒ½æ˜¯é›¶ æ—¶ï¼ŒRedis æä¾›äº†å‡ ç§ä¸åŒçš„è¡¨è¾¾å½¢å¼ï¼š 00xxxxxxï¼šå‰ç¼€ä¸¤ä¸ªé›¶è¡¨ç¤ºæ¥ä¸‹æ¥çš„ 6bit æ•´æ•°å€¼åŠ  1 å°±æ˜¯é›¶å€¼è®¡æ•°å™¨çš„æ•°é‡ï¼Œæ³¨æ„è¿™é‡Œè¦åŠ  1 æ˜¯å› ä¸ºæ•°é‡å¦‚æœä¸ºé›¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚æ¯”å¦‚ 00010101 è¡¨ç¤ºè¿ç»­ 22 ä¸ªé›¶å€¼è®¡æ•°å™¨ã€‚ 01xxxxxx yyyyyyyyï¼š6bit æœ€å¤šåªèƒ½è¡¨ç¤ºè¿ç»­ 64 ä¸ªé›¶å€¼è®¡æ•°å™¨ï¼Œè¿™æ ·æ‰©å±•å‡ºçš„ 14bit å¯ä»¥è¡¨ç¤ºæœ€å¤šè¿ç»­ 16384 ä¸ªé›¶å€¼è®¡æ•°å™¨ã€‚è¿™æ„å‘³ç€ HyperLogLog æ•°æ®ç»“æ„ä¸­ 16384 ä¸ªæ¡¶çš„åˆå§‹çŠ¶æ€ï¼Œæ‰€æœ‰çš„è®¡æ•°å™¨éƒ½æ˜¯é›¶å€¼ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ 2 ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºã€‚ 1vvvvvxxï¼šä¸­é—´ 5bit è¡¨ç¤ºè®¡æ•°å€¼ï¼Œå°¾éƒ¨ 2bit è¡¨ç¤ºè¿ç»­å‡ ä¸ªæ¡¶ã€‚å®ƒçš„æ„æ€æ˜¯è¿ç»­ (xx +1) ä¸ªè®¡æ•°å€¼éƒ½æ˜¯ (vvvvv + 1)ã€‚æ¯”å¦‚ 10101011 è¡¨ç¤ºè¿ç»­ 4 ä¸ªè®¡æ•°å€¼éƒ½æ˜¯ 11ã€‚ æ³¨æ„ ä¸Šé¢ç¬¬ä¸‰ç§æ–¹å¼ çš„è®¡æ•°å€¼æœ€å¤§åªèƒ½è¡¨ç¤ºåˆ° 32ï¼Œè€Œ HyperLogLog çš„å¯†é›†å­˜å‚¨å•ä¸ªè®¡æ•°å€¼ç”¨ 6bit è¡¨ç¤ºï¼Œæœ€å¤§å¯ä»¥è¡¨ç¤ºåˆ° 63ã€‚å½“ç¨€ç–å­˜å‚¨çš„æŸä¸ªè®¡æ•°å€¼éœ€è¦è°ƒæ•´åˆ°å¤§äº 32 æ—¶ï¼ŒRedis å°±ä¼šç«‹å³è½¬æ¢ HyperLogLog çš„å­˜å‚¨ç»“æ„ï¼Œå°†ç¨€ç–å­˜å‚¨è½¬æ¢æˆå¯†é›†å­˜å‚¨ã€‚ å¯¹è±¡å¤´HyperLogLog é™¤äº†éœ€è¦å­˜å‚¨ 16384 ä¸ªæ¡¶çš„è®¡æ•°å€¼ä¹‹å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€äº›é™„åŠ çš„å­—æ®µéœ€è¦å­˜å‚¨ï¼Œæ¯”å¦‚æ€»è®¡æ•°ç¼“å­˜ã€å­˜å‚¨ç±»å‹ã€‚æ‰€ä»¥å®ƒä½¿ç”¨äº†ä¸€ä¸ªé¢å¤–çš„å¯¹è±¡å¤´æ¥è¡¨ç¤ºï¼š struct hllhdr { char magic[4]; /* é­”æœ¯å­—ç¬¦ä¸²\"HYLL\" */ uint8_t encoding; /* å­˜å‚¨ç±»å‹ HLL_DENSE or HLL_SPARSE. */ uint8_t notused[3]; /* ä¿ç•™ä¸‰ä¸ªå­—èŠ‚æœªæ¥å¯èƒ½ä¼šä½¿ç”¨ */ uint8_t card[8]; /* æ€»è®¡æ•°ç¼“å­˜ */ uint8_t registers[]; /* æ‰€æœ‰æ¡¶çš„è®¡æ•°å™¨ */ }; æ‰€ä»¥ HyperLogLog æ•´ä½“çš„å†…éƒ¨ç»“æ„å°±æ˜¯ HLL å¯¹è±¡å¤´ åŠ ä¸Š 16384 ä¸ªæ¡¶çš„è®¡æ•°å€¼ä½å›¾ã€‚å®ƒåœ¨ Redis çš„å†…éƒ¨ç»“æ„è¡¨ç°å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä½å›¾ã€‚ä½ å¯ä»¥æŠŠ HyperLogLog å¯¹è±¡å½“æˆæ™®é€šçš„å­—ç¬¦ä¸²æ¥è¿›è¡Œå¤„ç†ï¼š > PFADD codehole python java golang (integer) 1 > GET codehole \"HYLL\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x80C\\x03\\x84MK\\x80P\\xb8\\x80^\\xf3\" ä½†æ˜¯ ä¸å¯ä»¥ ä½¿ç”¨ HyperLogLog æŒ‡ä»¤æ¥ æ“çºµæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒéœ€è¦æ£€æŸ¥å¯¹è±¡å¤´é­”æœ¯å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ â€œHYLLâ€ã€‚ å››ã€HyperLogLog çš„ä½¿ç”¨HyperLogLog æä¾›äº†ä¸¤ä¸ªæŒ‡ä»¤ PFADD å’Œ PFCOUNTï¼Œå­—é¢æ„æ€å°±æ˜¯ä¸€ä¸ªæ˜¯å¢åŠ ï¼Œå¦ä¸€ä¸ªæ˜¯è·å–è®¡æ•°ã€‚PFADD å’Œ set é›†åˆçš„ SADD çš„ç”¨æ³•æ˜¯ä¸€æ ·çš„ï¼Œæ¥ä¸€ä¸ªç”¨æˆ· IDï¼Œå°±å°†ç”¨æˆ· ID å¡è¿›å»å°±æ˜¯ï¼ŒPFCOUNT å’Œ SCARD çš„ç”¨æ³•æ˜¯ä¸€è‡´çš„ï¼Œç›´æ¥è·å–è®¡æ•°å€¼ï¼š > PFADD codehole user1 (interger) 1 > PFCOUNT codehole (integer) 1 > PFADD codehole user2 (integer) 1 > PFCOUNT codehole (integer) 2 > PFADD codehole user3 (integer) 1 > PFCOUNT codehole (integer) 3 > PFADD codehole user4 user 5 (integer) 1 > PFCOUNT codehole (integer) 5 æˆ‘ä»¬å¯ä»¥ç”¨ Java ç¼–å†™ä¸€ä¸ªè„šæœ¬æ¥è¯•è¯• HyperLogLog çš„å‡†ç¡®æ€§åˆ°åº•æœ‰å¤šå°‘ï¼š public class JedisTest { public static void main(String[] args) { for (int i = 0; i &lt; 100000; i++) { jedis.pfadd(\"codehole\", \"user\" + i); } long total = jedis.pfcount(\"codehole\"); System.out.printf(\"%d %d\\n\", 100000, total); jedis.close(); } } ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š 100000 99723 å‘ç° 10 ä¸‡æ¡æ•°æ®åªå·®äº† 277ï¼ŒæŒ‰ç…§ç™¾åˆ†æ¯”è¯¯å·®ç‡æ˜¯ 0.277%ï¼Œå¯¹äºå·¨é‡çš„ UV éœ€æ±‚æ¥è¯´ï¼Œè¿™ä¸ªè¯¯å·®ç‡çœŸçš„ä¸ç®—é«˜ã€‚ å½“ç„¶ï¼Œé™¤äº†ä¸Šé¢çš„ PFADD å’Œ PFCOUNT ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ç¬¬ä¸‰ä¸ª PFMEGER æŒ‡ä»¤ï¼Œç”¨äºå°†å¤šä¸ªè®¡æ•°å€¼ç´¯åŠ åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ–°çš„ pf å€¼ï¼š > PFADD nosql \"Redis\" \"MongoDB\" \"Memcached\" (integer) 1 > PFADD RDBMS \"MySQL\" \"MSSQL\" \"PostgreSQL\" (integer) 1 > PFMERGE databases nosql RDBMS OK > PFCOUNT databases (integer) 6 ç›¸å…³é˜…è¯» Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ - https://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/ Redis(2)â€”â€”è·³è·ƒè¡¨ - https://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶ - https://www.wmyskxz.com/2020/03/01/redis-3/ æ‰©å±•é˜…è¯» ã€ç®—æ³•åŸæ–‡ã€‘HyperLogLog: the analysis of a near-optimalcardinality estimation algorithm - http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf å‚è€ƒèµ„æ–™ ã€Redis ä½œè€…åšå®¢ã€‘Redis new data structure: the HyperLogLog - http://antirez.com/news/75 ç¥å¥‡çš„HyperLogLogç®—æ³• - http://www.rainybowe.com/blog/2017/07/13/%E7%A5%9E%E5%A5%87%E7%9A%84HyperLogLog%E7%AE%97%E6%B3%95/index.html æ·±åº¦æ¢ç´¢ Redis HyperLogLog å†…éƒ¨æ•°æ®ç»“æ„ - https://zhuanlan.zhihu.com/p/43426875 ã€ŠRedis æ·±åº¦å†é™©ã€‹ - é’±æ–‡å“/ è‘— æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç©¶","slug":"Redis-3","date":"2020-03-01T06:07:00.000Z","updated":"2020-08-03T09:47:15.292Z","comments":true,"path":"2020/03/01/redis-3/","link":"","permalink":"http://www.wmyskxz.com/2020/03/01/redis-3/","excerpt":"","text":"ä¸€ã€åˆ†å¸ƒå¼é”ç®€ä»‹é” æ˜¯ä¸€ç§ç”¨æ¥è§£å†³å¤šä¸ªæ‰§è¡Œçº¿ç¨‹ è®¿é—®å…±äº«èµ„æº é”™è¯¯æˆ–æ•°æ®ä¸ä¸€è‡´é—®é¢˜çš„å·¥å…·ã€‚ å¦‚æœ æŠŠä¸€å°æœåŠ¡å™¨æ¯”ä½œä¸€ä¸ªæˆ¿å­ï¼Œé‚£ä¹ˆ çº¿ç¨‹å°±å¥½æ¯”é‡Œé¢çš„ä½æˆ·ï¼Œå½“ä»–ä»¬æƒ³è¦å…±åŒè®¿é—®ä¸€ä¸ªå…±äº«èµ„æºï¼Œä¾‹å¦‚å•æ‰€çš„æ—¶å€™ï¼Œå¦‚æœå•æ‰€é—¨ä¸Šæ²¡æœ‰é”â€¦æ›´ç”šè€…å•æ‰€æ²¡è£…é—¨â€¦è¿™æ˜¯ä¼šå‡ºåŸåˆ™æ€§çš„é—®é¢˜çš„.. è£…ä¸Šäº†é”ï¼Œå¤§å®¶ç”¨èµ·æ¥å°±å®‰å¿ƒå¤šäº†ï¼Œæœ¬è´¨ä¹Ÿå°±æ˜¯ åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªä½æˆ·ä½¿ç”¨ã€‚ è€Œéšç€äº’è”ç½‘ä¸–ç•Œçš„å‘å±•ï¼Œå•ä½“åº”ç”¨å·²ç»è¶Šæ¥è¶Šæ— æ³•æ»¡è¶³å¤æ‚äº’è”ç½‘çš„é«˜å¹¶å‘éœ€æ±‚ï¼Œè½¬è€Œæ…¢æ…¢æœç€åˆ†å¸ƒå¼æ–¹å‘å‘å±•ï¼Œæ…¢æ…¢è¿›åŒ–æˆäº† æ›´å¤§ä¸€äº›çš„ä½æˆ·ã€‚æ‰€ä»¥åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥åˆ†å¸ƒå¼é”æ¥è§£å†³åˆ†å¸ƒå¼åº”ç”¨ä¹‹é—´è®¿é—®å…±äº«èµ„æºçš„å¹¶å‘é—®é¢˜ã€‚ ä¸ºä½•éœ€è¦åˆ†å¸ƒå¼é”ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ†å¸ƒå¼é”ä¸»è¦æœ‰ä¸¤ä¸ªåœºæ™¯ï¼š é¿å…ä¸åŒèŠ‚ç‚¹é‡å¤ç›¸åŒçš„å·¥ä½œï¼šæ¯”å¦‚ç”¨æˆ·æ‰§è¡Œäº†æŸä¸ªæ“ä½œæœ‰å¯èƒ½ä¸åŒèŠ‚ç‚¹ä¼šå‘é€å¤šå°é‚®ä»¶ï¼› é¿å…ç ´åæ•°æ®çš„æ­£ç¡®æ€§ï¼šå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ¡æ•°æ®ä¸ŠåŒæ—¶è¿›è¡Œæ“ä½œï¼Œå¯èƒ½ä¼šé€ æˆæ•°æ®é”™è¯¯æˆ–ä¸ä¸€è‡´çš„æƒ…å†µå‡ºç°ï¼› Java ä¸­å®ç°çš„å¸¸è§æ–¹å¼ä¸Šé¢æˆ‘ä»¬ç”¨ç®€å•çš„æ¯”å–»è¯´æ˜äº†é”çš„æœ¬è´¨ï¼šåŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªç”¨æˆ·æ“ä½œã€‚æ‰€ä»¥ç†è®ºä¸Šï¼Œèƒ½å¤Ÿæ»¡è¶³è¿™ä¸ªéœ€æ±‚çš„å·¥å…·æˆ‘ä»¬éƒ½èƒ½å¤Ÿä½¿ç”¨ (å°±æ˜¯å…¶ä»–åº”ç”¨èƒ½å¸®æˆ‘ä»¬åŠ é”çš„)ï¼š åŸºäº MySQL ä¸­çš„é”ï¼šMySQL æœ¬èº«æœ‰è‡ªå¸¦çš„æ‚²è§‚é” for update å…³é”®å­—ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®ç°æ‚²è§‚/ä¹è§‚é”æ¥è¾¾åˆ°ç›®çš„ï¼› åŸºäº Zookeeper æœ‰åºèŠ‚ç‚¹ï¼šZookeeper å…è®¸ä¸´æ—¶åˆ›å»ºæœ‰åºçš„å­èŠ‚ç‚¹ï¼Œè¿™æ ·å®¢æˆ·ç«¯è·å–èŠ‚ç‚¹åˆ—è¡¨æ—¶ï¼Œå°±èƒ½å¤Ÿå½“å‰å­èŠ‚ç‚¹åˆ—è¡¨ä¸­çš„åºå·åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè·å¾—é”ï¼› åŸºäº Redis çš„å•çº¿ç¨‹ï¼šç”±äº Redis æ˜¯å•çº¿ç¨‹ï¼Œæ‰€ä»¥å‘½ä»¤ä¼šä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œï¼Œå¹¶ä¸”æœ¬èº«æä¾›äº†åƒ SETNX(set if not exists) è¿™æ ·çš„æŒ‡ä»¤ï¼Œæœ¬èº«å…·æœ‰äº’æ–¥æ€§ï¼› æ¯ä¸ªæ–¹æ¡ˆéƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œä¾‹å¦‚ MySQL è™½ç„¶ç›´è§‚ç†è§£å®¹æ˜“ï¼Œä½†æ˜¯å®ç°èµ·æ¥å´éœ€è¦é¢å¤–è€ƒè™‘ é”è¶…æ—¶ã€åŠ äº‹åŠ¡ ç­‰ï¼Œå¹¶ä¸”æ€§èƒ½å±€é™äºæ•°æ®åº“ï¼Œè¯¸å¦‚æ­¤ç±»æˆ‘ä»¬åœ¨æ­¤ä¸ä½œè®¨è®ºï¼Œé‡ç‚¹å…³æ³¨ Redisã€‚ Redis åˆ†å¸ƒå¼é”çš„é—®é¢˜1ï¼‰é”è¶…æ—¶å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤å°å¹³è¡Œçš„æœåŠ¡ A Bï¼Œå…¶ä¸­ A æœåŠ¡åœ¨ è·å–é”ä¹‹å ç”±äºæœªçŸ¥ç¥ç§˜åŠ›é‡çªç„¶ æŒ‚äº†ï¼Œé‚£ä¹ˆ B æœåŠ¡å°±æ°¸è¿œæ— æ³•è·å–åˆ°é”äº†ï¼š æ‰€ä»¥æˆ‘ä»¬éœ€è¦é¢å¤–è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œæ¥ä¿è¯æœåŠ¡çš„å¯ç”¨æ€§ã€‚ ä½†æ˜¯å¦ä¸€ä¸ªé—®é¢˜éšå³è€Œæ¥ï¼šå¦‚æœåœ¨åŠ é”å’Œé‡Šæ”¾é”ä¹‹é—´çš„é€»è¾‘æ‰§è¡Œå¾—å¤ªé•¿ï¼Œä»¥è‡³äºè¶…å‡ºäº†é”çš„è¶…æ—¶é™åˆ¶ï¼Œä¹Ÿä¼šå‡ºç°é—®é¢˜ã€‚å› ä¸ºè¿™æ—¶å€™ç¬¬ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”è¿‡æœŸäº†ï¼Œè€Œä¸´ç•ŒåŒºçš„é€»è¾‘è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œä¸æ­¤åŒæ—¶ç¬¬äºŒä¸ªçº¿ç¨‹å°±æå‰æ‹¥æœ‰äº†è¿™æŠŠé”ï¼Œå¯¼è‡´ä¸´ç•ŒåŒºçš„ä»£ç ä¸èƒ½å¾—åˆ°ä¸¥æ ¼çš„ä¸²è¡Œæ‰§è¡Œã€‚ ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼ŒRedis åˆ†å¸ƒå¼é”ä¸è¦ç”¨äºè¾ƒé•¿æ—¶é—´çš„ä»»åŠ¡ã€‚å¦‚æœçœŸçš„å¶å°”å‡ºç°äº†é—®é¢˜ï¼Œé€ æˆçš„æ•°æ®å°é”™ä¹±å¯èƒ½å°±éœ€è¦äººå·¥çš„å¹²é¢„ã€‚ æœ‰ä¸€ä¸ªç¨å¾®å®‰å…¨ä¸€ç‚¹çš„æ–¹æ¡ˆæ˜¯ å°†é”çš„ value å€¼è®¾ç½®ä¸ºä¸€ä¸ªéšæœºæ•°ï¼Œé‡Šæ”¾é”æ—¶å…ˆåŒ¹é…éšæœºæ•°æ˜¯å¦ä¸€è‡´ï¼Œç„¶åå†åˆ é™¤ keyï¼Œè¿™æ˜¯ä¸ºäº† ç¡®ä¿å½“å‰çº¿ç¨‹å æœ‰çš„é”ä¸ä¼šè¢«å…¶ä»–çº¿ç¨‹é‡Šæ”¾ï¼Œé™¤éè¿™ä¸ªé”æ˜¯å› ä¸ºè¿‡æœŸäº†è€Œè¢«æœåŠ¡å™¨è‡ªåŠ¨é‡Šæ”¾çš„ã€‚ ä½†æ˜¯åŒ¹é… value å’Œåˆ é™¤ key åœ¨ Redis ä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼Œä¹Ÿæ²¡æœ‰ç±»ä¼¼ä¿è¯åŸå­æ€§çš„æŒ‡ä»¤ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦ä½¿ç”¨åƒ Lua è¿™æ ·çš„è„šæœ¬æ¥å¤„ç†äº†ï¼Œå› ä¸º Lua è„šæœ¬å¯ä»¥ ä¿è¯å¤šä¸ªæŒ‡ä»¤çš„åŸå­æ€§æ‰§è¡Œã€‚ å»¶ä¼¸çš„è®¨è®ºï¼šGC å¯èƒ½å¼•å‘çš„å®‰å…¨é—®é¢˜Martin Kleppmann æ›¾ä¸ Redis ä¹‹çˆ¶ Antirez å°± Redis å®ç°åˆ†å¸ƒå¼é”çš„å®‰å…¨æ€§é—®é¢˜è¿›è¡Œè¿‡æ·±å…¥çš„è®¨è®ºï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªé—®é¢˜å°±æ¶‰åŠåˆ° GCã€‚ ç†Ÿæ‚‰ Java çš„åŒå­¦è‚¯å®šå¯¹ GC ä¸é™Œç”Ÿï¼Œåœ¨ GC çš„æ—¶å€™ä¼šå‘ç”Ÿ STW(Stop-The-World)ï¼Œè¿™æœ¬èº«æ˜¯ä¸ºäº†ä¿éšœåƒåœ¾å›æ”¶å™¨çš„æ­£å¸¸æ‰§è¡Œï¼Œä½†å¯èƒ½ä¼šå¼•å‘å¦‚ä¸‹çš„é—®é¢˜ï¼š æœåŠ¡ A è·å–äº†é”å¹¶è®¾ç½®äº†è¶…æ—¶æ—¶é—´ï¼Œä½†æ˜¯æœåŠ¡ A å‡ºç°äº† STW ä¸”æ—¶é—´è¾ƒé•¿ï¼Œå¯¼è‡´äº†åˆ†å¸ƒå¼é”è¿›è¡Œäº†è¶…æ—¶é‡Šæ”¾ï¼Œåœ¨è¿™ä¸ªæœŸé—´æœåŠ¡ B è·å–åˆ°äº†é”ï¼Œå¾…æœåŠ¡ A STW ç»“æŸä¹‹ååˆæ¢å¤äº†é”ï¼Œè¿™å°±å¯¼è‡´äº† æœåŠ¡ A å’ŒæœåŠ¡ B åŒæ—¶è·å–åˆ°äº†é”ï¼Œè¿™ä¸ªæ—¶å€™åˆ†å¸ƒå¼é”å°±ä¸å®‰å…¨äº†ã€‚ ä¸ä»…ä»…å±€é™äº Redisï¼ŒZookeeper å’Œ MySQL æœ‰åŒæ ·çš„é—®é¢˜ã€‚ æƒ³åƒæ›´å¤šç“œçš„ç«¥é‹ï¼Œå¯ä»¥è®¿é—®ä¸‹åˆ—ç½‘ç«™çœ‹çœ‹ Redis ä¹‹çˆ¶ Antirez æ€ä¹ˆè¯´ï¼šhttp://antirez.com/news/101 2ï¼‰å•ç‚¹/å¤šç‚¹é—®é¢˜å¦‚æœ Redis é‡‡ç”¨å•æœºéƒ¨ç½²æ¨¡å¼ï¼Œé‚£å°±æ„å‘³ç€å½“ Redis æ•…éšœäº†ï¼Œå°±ä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨ã€‚ è€Œå¦‚æœé‡‡ç”¨ä¸»ä»æ¨¡å¼éƒ¨ç½²ï¼Œæˆ‘ä»¬æƒ³è±¡ä¸€ä¸ªè¿™æ ·çš„åœºæ™¯ï¼šæœåŠ¡ A ç”³è¯·åˆ°ä¸€æŠŠé”ä¹‹åï¼Œå¦‚æœä½œä¸ºä¸»æœºçš„ Redis å®•æœºäº†ï¼Œé‚£ä¹ˆ æœåŠ¡ B åœ¨ç”³è¯·é”çš„æ—¶å€™å°±ä¼šä»ä»æœºé‚£é‡Œè·å–åˆ°è¿™æŠŠé”ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒRedis ä½œè€…æå‡ºäº†ä¸€ç§ RedLock çº¢é” çš„ç®—æ³• (Redission åŒ Jedis)ï¼š // ä¸‰ä¸ª Redis é›†ç¾¤ RLock lock1 = redissionInstance1.getLock(\"lock1\"); RLock lock2 = redissionInstance2.getLock(\"lock2\"); RLock lock3 = redissionInstance3.getLock(\"lock3\"); RedissionRedLock lock = new RedissionLock(lock1, lock2, lock2); lock.lock(); // do something.... lock.unlock(); äºŒã€Redis åˆ†å¸ƒå¼é”çš„å®ç°åˆ†å¸ƒå¼é”ç±»ä¼¼äº â€œå å‘â€ï¼Œè€Œ SETNX(SET if Not eXists) æŒ‡ä»¤å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ“ä½œï¼Œåªå…è®¸è¢«ä¸€ä¸ªå®¢æˆ·ç«¯å æœ‰ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ æºç (t_string.c/setGenericCommand) å§ï¼š // SET/ SETEX/ SETTEX/ SETNX æœ€åº•å±‚å®ç° void setGenericCommand(client *c, int flags, robj *key, robj *val, robj *expire, int unit, robj *ok_reply, robj *abort_reply) { long long milliseconds = 0; /* initialized to avoid any harmness warning */ // å¦‚æœå®šä¹‰äº† key çš„è¿‡æœŸæ—¶é—´åˆ™ä¿å­˜åˆ°ä¸Šé¢å®šä¹‰çš„å˜é‡ä¸­ // å¦‚æœè¿‡æœŸæ—¶é—´è®¾ç½®é”™è¯¯åˆ™è¿”å›é”™è¯¯ä¿¡æ¯ if (expire) { if (getLongLongFromObjectOrReply(c, expire, &amp;milliseconds, NULL) != C_OK) return; if (milliseconds &lt;= 0) { addReplyErrorFormat(c,\"invalid expire time in %s\",c->cmd->name); return; } if (unit == UNIT_SECONDS) milliseconds *= 1000; } // lookupKeyWrite å‡½æ•°æ˜¯ä¸ºæ‰§è¡Œå†™æ“ä½œè€Œå–å‡º key çš„å€¼å¯¹è±¡ // è¿™é‡Œçš„åˆ¤æ–­æ¡ä»¶æ˜¯ï¼š // 1.å¦‚æœè®¾ç½®äº† NX(ä¸å­˜åœ¨)ï¼Œå¹¶ä¸”åœ¨æ•°æ®åº“ä¸­æ‰¾åˆ°äº† key å€¼ // 2.æˆ–è€…è®¾ç½®äº† XX(å­˜åœ¨)ï¼Œå¹¶ä¸”åœ¨æ•°æ®åº“ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥ key // => é‚£ä¹ˆå›å¤ abort_reply ç»™å®¢æˆ·ç«¯ if ((flags &amp; OBJ_SET_NX &amp;&amp; lookupKeyWrite(c->db,key) != NULL) || (flags &amp; OBJ_SET_XX &amp;&amp; lookupKeyWrite(c->db,key) == NULL)) { addReply(c, abort_reply ? abort_reply : shared.null[c->resp]); return; } // åœ¨å½“å‰çš„æ•°æ®åº“ä¸­è®¾ç½®é”®ä¸º key å€¼ä¸º value çš„æ•°æ® genericSetKey(c->db,key,val,flags &amp; OBJ_SET_KEEPTTL); // æœåŠ¡å™¨æ¯ä¿®æ”¹ä¸€ä¸ª key åéƒ½ä¼šä¿®æ”¹ dirty å€¼ server.dirty++; if (expire) setExpire(c,c->db,key,mstime()+milliseconds); notifyKeyspaceEvent(NOTIFY_STRING,\"set\",key,c->db->id); if (expire) notifyKeyspaceEvent(NOTIFY_GENERIC, \"expire\",key,c->db->id); addReply(c, ok_reply ? ok_reply : shared.ok); } å°±åƒä¸Šé¢ä»‹ç»çš„é‚£æ ·ï¼Œå…¶å®åœ¨ä¹‹å‰ç‰ˆæœ¬çš„ Redis ä¸­ï¼Œç”±äº SETNX å’Œ EXPIRE å¹¶ä¸æ˜¯ åŸå­æŒ‡ä»¤ï¼Œæ‰€ä»¥åœ¨ä¸€èµ·æ‰§è¡Œä¼šå‡ºç°é—®é¢˜ã€‚ ä¹Ÿè®¸ä½ ä¼šæƒ³åˆ°ä½¿ç”¨ Redis äº‹åŠ¡æ¥è§£å†³ï¼Œä½†åœ¨è¿™é‡Œä¸è¡Œï¼Œå› ä¸º EXPIRE å‘½ä»¤ä¾èµ–äº SETNX çš„æ‰§è¡Œç»“æœï¼Œè€Œäº‹åŠ¡ä¸­æ²¡æœ‰ if-else çš„åˆ†æ”¯é€»è¾‘ï¼Œå¦‚æœ SETNX æ²¡æœ‰æŠ¢åˆ°é”ï¼ŒEXPIRE å°±ä¸åº”è¯¥æ‰§è¡Œã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªç–‘éš¾é—®é¢˜ï¼ŒRedis å¼€æºç¤¾åŒºæ¶Œç°äº†è®¸å¤šåˆ†å¸ƒå¼é”çš„ libraryï¼Œä¸ºäº†æ²»ç†è¿™ä¸ªä¹±è±¡ï¼Œåæ¥åœ¨ Redis 2.8 çš„ç‰ˆæœ¬ä¸­ï¼ŒåŠ å…¥äº† SET æŒ‡ä»¤çš„æ‰©å±•å‚æ•°ï¼Œä½¿å¾— SETNX å¯ä»¥å’Œ EXPIRE æŒ‡ä»¤ä¸€èµ·æ‰§è¡Œäº†ï¼š > SET lock:test true ex 5 nx OK ... do something critical ... > del lock:test ä½ åªéœ€è¦ç¬¦åˆ SET key value [EX seconds | PX milliseconds] [NX | XX] [KEEPTTL] è¿™æ ·çš„æ ¼å¼å°±å¥½äº†ï¼Œä½ ä¹Ÿåœ¨ä¸‹æ–¹å³æ‹å‚ç…§å®˜æ–¹çš„æ–‡æ¡£ï¼š å®˜æ–¹æ–‡æ¡£ï¼šhttps://redis.io/commands/set å¦å¤–ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿåœ¨ SETNX æ–‡æ¡£ä¸­æåˆ°äº†è¿™æ ·ä¸€ç§æ€è·¯ï¼šæŠŠ SETNX å¯¹åº” key çš„ value è®¾ç½®ä¸º &lt;current Unix time + lock timeout + 1&gt;ï¼Œè¿™æ ·åœ¨å…¶ä»–å®¢æˆ·ç«¯è®¿é—®æ—¶å°±èƒ½å¤Ÿè‡ªå·±åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè·å–ä¸‹ä¸€ä¸ª value ä¸ºä¸Šè¿°æ ¼å¼çš„é”äº†ã€‚ ä»£ç å®ç°ä¸‹é¢ç”¨ Jedis æ¥æ¨¡æ‹Ÿå®ç°ä»¥ä¸‹ï¼Œå…³é”®ä»£ç å¦‚ä¸‹ï¼š private static final String LOCK_SUCCESS = \"OK\"; private static final Long RELEASE_SUCCESS = 1L; private static final String SET_IF_NOT_EXIST = \"NX\"; private static final String SET_WITH_EXPIRE_TIME = \"PX\"; @Override public String acquire() { try { // è·å–é”çš„è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´åˆ™æ”¾å¼ƒè·å–é” long end = System.currentTimeMillis() + acquireTimeout; // éšæœºç”Ÿæˆä¸€ä¸ª value String requireToken = UUID.randomUUID().toString(); while (System.currentTimeMillis() &lt; end) { String result = jedis .set(lockKey, requireToken, SET_IF_NOT_EXIST, SET_WITH_EXPIRE_TIME, expireTime); if (LOCK_SUCCESS.equals(result)) { return requireToken; } try { Thread.sleep(100); } catch (InterruptedException e) { Thread.currentThread().interrupt(); } } } catch (Exception e) { log.error(\"acquire lock due to error\", e); } return null; } @Override public boolean release(String identify) { if (identify == null) { return false; } String script = \"if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end\"; Object result = new Object(); try { result = jedis.eval(script, Collections.singletonList(lockKey), Collections.singletonList(identify)); if (RELEASE_SUCCESS.equals(result)) { log.info(\"release lock success, requestToken:{}\", identify); return true; } } catch (Exception e) { log.error(\"release lock due to error\", e); } finally { if (jedis != null) { jedis.close(); } } log.info(\"release lock failed, requestToken:{}, result:{}\", identify, result); return false; } å¼•ç”¨è‡ªä¸‹æ–¹ å‚è€ƒèµ„æ–™ 3ï¼Œå…¶ä¸­è¿˜æœ‰ RedLock çš„å®ç°å’Œæµ‹è¯•ï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥æˆ³ä¸€ä¸‹ æ¨èé˜…è¯» ã€å®˜æ–¹æ–‡æ¡£ã€‘Distributed locks with Redis - https://redis.io/topics/distlock Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡! - https://www.wmyskxz.com/2018/05/31/redis-ru-men-jiu-zhe-yi-pian/ Redission - Redis Java Client æºç  - https://github.com/redisson/redisson æ‰‹å†™ä¸€ä¸ª Jedis ä»¥åŠ JedisPool - https://juejin.im/post/5e5101c46fb9a07cab3a953a å‚è€ƒèµ„æ–™ å†æœ‰äººé—®ä½ åˆ†å¸ƒå¼é”ï¼Œè¿™ç¯‡æ–‡ç« æ‰”ç»™ä»– - https://juejin.im/post/5bbb0d8df265da0abd3533a5#heading-0 ã€å®˜æ–¹æ–‡æ¡£ã€‘Distributed locks with Redis - https://redis.io/topics/distlock ã€åˆ†å¸ƒå¼ç¼“å­˜ç³»åˆ—ã€‘Rediså®ç°åˆ†å¸ƒå¼é”çš„æ­£ç¡®å§¿åŠ¿ - https://www.cnblogs.com/zhili/p/redisdistributelock.html Redisæºç å‰–æå’Œæ³¨é‡Šï¼ˆä¹ï¼‰â€” å­—ç¬¦ä¸²å‘½ä»¤çš„å®ç°(t_string) - https://blog.csdn.net/men_wen/article/details/70325566 ã€ŠRedis æ·±åº¦å†é™©ã€‹ - é’±æ–‡å“/ è‘— æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(2)â€”â€”è·³è·ƒè¡¨","slug":"Redis-2-â€”â€”è·³è·ƒè¡¨","date":"2020-02-29T07:25:00.000Z","updated":"2020-08-03T09:46:48.460Z","comments":true,"path":"2020/02/29/redis-2-tiao-yue-biao/","link":"","permalink":"http://www.wmyskxz.com/2020/02/29/redis-2-tiao-yue-biao/","excerpt":"","text":"ä¸€ã€è·³è·ƒè¡¨ç®€ä»‹è·³è·ƒè¡¨ï¼ˆskiplistï¼‰æ˜¯ä¸€ç§éšæœºåŒ–çš„æ•°æ®ç»“æ„ï¼Œç”± William Pugh åœ¨è®ºæ–‡ã€ŠSkip lists: a probabilistic alternative to balanced treesã€‹ä¸­æå‡ºï¼Œæ˜¯ä¸€ç§å¯ä»¥äºå¹³è¡¡æ ‘åª²ç¾çš„å±‚æ¬¡åŒ–é“¾è¡¨ç»“æ„â€”â€”æŸ¥æ‰¾ã€åˆ é™¤ã€æ·»åŠ ç­‰æ“ä½œéƒ½å¯ä»¥åœ¨å¯¹æ•°æœŸæœ›æ—¶é—´ä¸‹å®Œæˆï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„è·³è·ƒè¡¨ä¾‹å­ï¼š æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡ä¸­æåˆ°äº† Redis çš„äº”ç§åŸºæœ¬ç»“æ„ä¸­ï¼Œæœ‰ä¸€ä¸ªå«åš æœ‰åºåˆ—è¡¨ zset çš„æ•°æ®ç»“æ„ï¼Œå®ƒç±»ä¼¼äº Java ä¸­çš„ SortedSet å’Œ HashMap çš„ç»“åˆä½“ï¼Œä¸€æ–¹é¢å®ƒæ˜¯ä¸€ä¸ª set ä¿è¯äº†å†…éƒ¨ value çš„å”¯ä¸€æ€§ï¼Œå¦ä¸€æ–¹é¢åˆå¯ä»¥ç»™æ¯ä¸ª value èµ‹äºˆä¸€ä¸ªæ’åºçš„æƒé‡å€¼ scoreï¼Œæ¥è¾¾åˆ° æ’åº çš„ç›®çš„ã€‚ å®ƒçš„å†…éƒ¨å®ç°å°±ä¾èµ–äº†ä¸€ç§å«åš ã€Œè·³è·ƒåˆ—è¡¨ã€ çš„æ•°æ®ç»“æ„ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨è·³è·ƒè¡¨é¦–å…ˆï¼Œå› ä¸º zset è¦æ”¯æŒéšæœºçš„æ’å…¥å’Œåˆ é™¤ï¼Œæ‰€ä»¥å®ƒ ä¸å®œä½¿ç”¨æ•°ç»„æ¥å®ç°ï¼Œå…³äºæ’åºé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆå®¹æ˜“å°±æƒ³åˆ° çº¢é»‘æ ‘/ å¹³è¡¡æ ‘ è¿™æ ·çš„æ ‘å½¢ç»“æ„ï¼Œä¸ºä»€ä¹ˆ Redis ä¸ä½¿ç”¨è¿™æ ·ä¸€äº›ç»“æ„å‘¢ï¼Ÿ æ€§èƒ½è€ƒè™‘ï¼š åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œæ ‘å½¢ç»“æ„éœ€è¦æ‰§è¡Œä¸€äº›ç±»ä¼¼äº rebalance è¿™æ ·çš„å¯èƒ½æ¶‰åŠæ•´æ£µæ ‘çš„æ“ä½œï¼Œç›¸å¯¹æ¥è¯´è·³è·ƒè¡¨çš„å˜åŒ–åªæ¶‰åŠå±€éƒ¨ _(ä¸‹é¢è¯¦ç»†è¯´)_ï¼› å®ç°è€ƒè™‘ï¼š åœ¨å¤æ‚åº¦ä¸çº¢é»‘æ ‘ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè·³è·ƒè¡¨å®ç°èµ·æ¥æ›´ç®€å•ï¼Œçœ‹èµ·æ¥ä¹Ÿæ›´åŠ ç›´è§‚ï¼› åŸºäºä»¥ä¸Šçš„ä¸€äº›è€ƒè™‘ï¼ŒRedis åŸºäº William Pugh çš„è®ºæ–‡åšå‡ºä¸€äº›æ”¹è¿›åé‡‡ç”¨äº† è·³è·ƒè¡¨ è¿™æ ·çš„ç»“æ„ã€‚ æœ¬è´¨æ˜¯è§£å†³æŸ¥æ‰¾é—®é¢˜æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªæ™®é€šçš„é“¾è¡¨ç»“æ„ï¼š æˆ‘ä»¬éœ€è¦è¿™ä¸ªé“¾è¡¨æŒ‰ç…§ score å€¼è¿›è¡Œæ’åºï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œå½“æˆ‘ä»¬éœ€è¦æ·»åŠ æ–°çš„å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å®šä½åˆ°æ’å…¥ç‚¹ï¼Œè¿™æ ·æ‰å¯ä»¥ç»§ç»­ä¿è¯é“¾è¡¨æ˜¯æœ‰åºçš„ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œä½†äºŒåˆ†æŸ¥æ‰¾æ˜¯æœ‰åºæ•°ç»„çš„ï¼Œé“¾è¡¨æ²¡åŠæ³•è¿›è¡Œä½ç½®å®šä½ï¼Œæˆ‘ä»¬é™¤äº†éå†æ•´ä¸ªæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”ç»™å®šæ•°æ®å¤§çš„èŠ‚ç‚¹ä¸ºæ­¢ ï¼ˆæ—¶é—´å¤æ‚åº¦ O(n)) ä¼¼ä¹æ²¡æœ‰æ›´å¥½çš„åŠæ³•ã€‚ ä½†å‡å¦‚æˆ‘ä»¬æ¯ç›¸é‚»ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´å°±å¢åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œè®©æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾ï¼š è¿™æ ·æ‰€æœ‰æ–°å¢çš„æŒ‡é’ˆè¿æˆäº†ä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œä½†å®ƒåŒ…å«çš„æ•°æ®å´åªæœ‰åŸæ¥çš„ä¸€åŠ _ï¼ˆå›¾ä¸­çš„ä¸º 3ï¼Œ11ï¼‰_ã€‚ ç°åœ¨å‡è®¾æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾æ•°æ®æ—¶ï¼Œå¯ä»¥æ ¹æ®è¿™æ¡æ–°çš„é“¾è¡¨æŸ¥æ‰¾ï¼Œå¦‚æœç¢°åˆ°æ¯”å¾…æŸ¥æ‰¾æ•°æ®å¤§çš„èŠ‚ç‚¹æ—¶ï¼Œå†å›åˆ°åŸæ¥çš„é“¾è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾ 7ï¼ŒæŸ¥æ‰¾çš„è·¯å¾„åˆ™æ˜¯æ²¿ç€ä¸‹å›¾ä¸­æ ‡æ³¨å‡ºçš„çº¢è‰²æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ–¹å‘è¿›è¡Œçš„ï¼š è¿™æ˜¯ä¸€ä¸ªç•¥å¾®æç«¯çš„ä¾‹å­ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡æ–°å¢åŠ çš„æŒ‡é’ˆæŸ¥æ‰¾ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ä¸é“¾è¡¨ä¸Šçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹é€ä¸€è¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ ·æ”¹è¿›ä¹‹åéœ€è¦æ¯”è¾ƒçš„èŠ‚ç‚¹æ•°å¤§æ¦‚åªæœ‰åŸæ¥çš„ä¸€åŠã€‚ åˆ©ç”¨åŒæ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–°äº§ç”Ÿçš„é“¾è¡¨ä¸Šï¼Œç»§ç»­ä¸ºæ¯ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹å¢åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œä»è€Œäº§ç”Ÿç¬¬ä¸‰å±‚é“¾è¡¨ï¼š åœ¨è¿™ä¸ªæ–°çš„ä¸‰å±‚é“¾è¡¨ç»“æ„ä¸­ï¼Œæˆ‘ä»¬è¯•ç€ æŸ¥æ‰¾ 13ï¼Œé‚£ä¹ˆæ²¿ç€æœ€ä¸Šå±‚é“¾è¡¨é¦–å…ˆæ¯”è¾ƒçš„æ˜¯ 11ï¼Œå‘ç° 11 æ¯” 13 å°ï¼Œäºæ˜¯æˆ‘ä»¬å°±çŸ¥é“åªéœ€è¦åˆ° 11 åé¢ç»§ç»­æŸ¥æ‰¾ï¼Œä»è€Œä¸€ä¸‹å­è·³è¿‡äº† 11 å‰é¢çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ å¯ä»¥æƒ³è±¡ï¼Œå½“é“¾è¡¨è¶³å¤Ÿé•¿ï¼Œè¿™æ ·çš„å¤šå±‚é“¾è¡¨ç»“æ„å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·³è¿‡å¾ˆå¤šä¸‹å±‚èŠ‚ç‚¹ï¼Œä»è€ŒåŠ å¿«æŸ¥æ‰¾çš„æ•ˆç‡ã€‚ æ›´è¿›ä¸€æ­¥çš„è·³è·ƒè¡¨è·³è·ƒè¡¨ skiplist å°±æ˜¯å—åˆ°è¿™ç§å¤šå±‚é“¾è¡¨ç»“æ„çš„å¯å‘è€Œè®¾è®¡å‡ºæ¥çš„ã€‚æŒ‰ç…§ä¸Šé¢ç”Ÿæˆé“¾è¡¨çš„æ–¹å¼ï¼Œä¸Šé¢æ¯ä¸€å±‚é“¾è¡¨çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ˜¯ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°çš„ä¸€åŠï¼Œè¿™æ ·æŸ¥æ‰¾è¿‡ç¨‹å°±éå¸¸ç±»ä¼¼äºä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾ï¼Œä½¿å¾—æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥é™ä½åˆ° _O(logn)_ã€‚ ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³•åœ¨æ’å…¥æ•°æ®çš„æ—¶å€™æœ‰å¾ˆå¤§çš„é—®é¢˜ã€‚æ–°æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åï¼Œå°±ä¼šæ‰“ä¹±ä¸Šä¸‹ç›¸é‚»ä¸¤å±‚é“¾è¡¨ä¸ŠèŠ‚ç‚¹ä¸ªæ•°ä¸¥æ ¼çš„ 2:1 çš„å¯¹åº”å…³ç³»ã€‚å¦‚æœè¦ç»´æŒè¿™ç§å¯¹åº”å…³ç³»ï¼Œå°±å¿…é¡»æŠŠæ–°æ’å…¥çš„èŠ‚ç‚¹åé¢çš„æ‰€æœ‰èŠ‚ç‚¹ ï¼ˆä¹ŸåŒ…æ‹¬æ–°æ’å…¥çš„èŠ‚ç‚¹ï¼‰ é‡æ–°è¿›è¡Œè°ƒæ•´ï¼Œè¿™ä¼šè®©æ—¶é—´å¤æ‚åº¦é‡æ–°èœ•åŒ–æˆ _O(n)_ã€‚åˆ é™¤æ•°æ®ä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ã€‚ skiplist ä¸ºäº†é¿å…è¿™ä¸€é—®é¢˜ï¼Œå®ƒä¸è¦æ±‚ä¸Šä¸‹ç›¸é‚»ä¸¤å±‚é“¾è¡¨ä¹‹é—´çš„èŠ‚ç‚¹ä¸ªæ•°æœ‰ä¸¥æ ¼çš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯ ä¸ºæ¯ä¸ªèŠ‚ç‚¹éšæœºå‡ºä¸€ä¸ªå±‚æ•°(level)ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªèŠ‚ç‚¹éšæœºå‡ºçš„å±‚æ•°æ˜¯ 3ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒé“¾å…¥åˆ°ç¬¬ 1 å±‚åˆ°ç¬¬ 3 å±‚è¿™ä¸‰å±‚é“¾è¡¨ä¸­ã€‚ä¸ºäº†è¡¨è¾¾æ¸…æ¥šï¼Œä¸‹å›¾å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ä¸€æ­¥æ­¥çš„æ’å…¥æ“ä½œä»è€Œå½¢æˆä¸€ä¸ª skiplist çš„è¿‡ç¨‹ï¼š ä»ä¸Šé¢çš„åˆ›å»ºå’Œæ’å…¥çš„è¿‡ç¨‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å±‚æ•°ï¼ˆlevelï¼‰æ˜¯éšæœºå‡ºæ¥çš„ï¼Œè€Œä¸”æ–°æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹å¹¶ä¸ä¼šå½±å“åˆ°å…¶ä»–èŠ‚ç‚¹çš„å±‚æ•°ï¼Œå› æ­¤ï¼Œæ’å…¥æ“ä½œåªéœ€è¦ä¿®æ”¹èŠ‚ç‚¹å‰åçš„æŒ‡é’ˆï¼Œè€Œä¸éœ€è¦å¯¹å¤šä¸ªèŠ‚ç‚¹éƒ½è¿›è¡Œè°ƒæ•´ï¼Œè¿™å°±é™ä½äº†æ’å…¥æ“ä½œçš„å¤æ‚åº¦ã€‚ ç°åœ¨æˆ‘ä»¬å‡è®¾ä»æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„è¿™ä¸ªç»“æ„ä¸­æŸ¥æ‰¾ 23 è¿™ä¸ªä¸å­˜åœ¨çš„æ•°ï¼Œé‚£ä¹ˆæŸ¥æ‰¾è·¯å¾„ä¼šå¦‚ä¸‹å›¾ï¼š äºŒã€è·³è·ƒè¡¨çš„å®ç°Redis ä¸­çš„è·³è·ƒè¡¨ç”± server.h/zskiplistNode å’Œ server.h/zskiplist ä¸¤ä¸ªç»“æ„å®šä¹‰ï¼Œå‰è€…ä¸ºè·³è·ƒè¡¨èŠ‚ç‚¹ï¼Œåè€…åˆ™ä¿å­˜äº†è·³è·ƒèŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒä¹‹å‰çš„ é›†åˆ list ç»“æ„ç±»ä¼¼ï¼Œå…¶å®åªæœ‰ zskiplistNode å°±å¯ä»¥å®ç°äº†ï¼Œä½†æ˜¯å¼•å…¥åè€…æ˜¯ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„æ“ä½œï¼š /* ZSETs use a specialized version of Skiplists */ typedef struct zskiplistNode { // value sds ele; // åˆ†å€¼ double score; // åé€€æŒ‡é’ˆ struct zskiplistNode *backward; // å±‚ struct zskiplistLevel { // å‰è¿›æŒ‡é’ˆ struct zskiplistNode *forward; // è·¨åº¦ unsigned long span; } level[]; } zskiplistNode; typedef struct zskiplist { // è·³è·ƒè¡¨å¤´æŒ‡é’ˆ struct zskiplistNode *header, *tail; // è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡ unsigned long length; // è¡¨ä¸­å±‚æ•°æœ€å¤§çš„èŠ‚ç‚¹çš„å±‚æ•° int level; } zskiplist; æ­£å¦‚æ–‡ç« å¼€å¤´ç”»å‡ºæ¥çš„é‚£å¼ æ ‡å‡†çš„è·³è·ƒè¡¨é‚£æ ·ã€‚ éšæœºå±‚æ•°å¯¹äºæ¯ä¸€ä¸ªæ–°æ’å…¥çš„èŠ‚ç‚¹ï¼Œéƒ½éœ€è¦è°ƒç”¨ä¸€ä¸ªéšæœºç®—æ³•ç»™å®ƒåˆ†é…ä¸€ä¸ªåˆç†çš„å±‚æ•°ï¼Œæºç åœ¨ t_zset.c/zslRandomLevel(void) ä¸­è¢«å®šä¹‰ï¼š int zslRandomLevel(void) { int level = 1; while ((random()&amp;0xFFFF) &lt; (ZSKIPLIST_P * 0xFFFF)) level += 1; return (level&lt;ZSKIPLIST_MAXLEVEL) ? level : ZSKIPLIST_MAXLEVEL; } ç›´è§‚ä¸ŠæœŸæœ›çš„ç›®æ ‡æ˜¯ 50% çš„æ¦‚ç‡è¢«åˆ†é…åˆ° Level 1ï¼Œ25% çš„æ¦‚ç‡è¢«åˆ†é…åˆ° Level 2ï¼Œ12.5% çš„æ¦‚ç‡è¢«åˆ†é…åˆ° Level 3ï¼Œä»¥æ­¤ç±»æ¨â€¦æœ‰ 2-63 çš„æ¦‚ç‡è¢«åˆ†é…åˆ°æœ€é¡¶å±‚ï¼Œå› ä¸ºè¿™é‡Œæ¯ä¸€å±‚çš„æ™‹å‡ç‡éƒ½æ˜¯ 50%ã€‚ Redis è·³è·ƒè¡¨é»˜è®¤å…è®¸æœ€å¤§çš„å±‚æ•°æ˜¯ 32ï¼Œè¢«æºç ä¸­ ZSKIPLIST_MAXLEVEL å®šä¹‰ï¼Œå½“ Level[0] æœ‰ 264 ä¸ªå…ƒç´ æ—¶ï¼Œæ‰èƒ½è¾¾åˆ° 32 å±‚ï¼Œæ‰€ä»¥å®šä¹‰ 32 å®Œå…¨å¤Ÿç”¨äº†ã€‚ åˆ›å»ºè·³è·ƒè¡¨è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œåœ¨æºç ä¸­çš„ t_zset.c/zslCreate ä¸­è¢«å®šä¹‰ï¼š zskiplist *zslCreate(void) { int j; zskiplist *zsl; // ç”³è¯·å†…å­˜ç©ºé—´ zsl = zmalloc(sizeof(*zsl)); // åˆå§‹åŒ–å±‚æ•°ä¸º 1 zsl->level = 1; // åˆå§‹åŒ–é•¿åº¦ä¸º 0 zsl->length = 0; // åˆ›å»ºä¸€ä¸ªå±‚æ•°ä¸º 32ï¼Œåˆ†æ•°ä¸º 0ï¼Œæ²¡æœ‰ value å€¼çš„è·³è·ƒè¡¨å¤´èŠ‚ç‚¹ zsl->header = zslCreateNode(ZSKIPLIST_MAXLEVEL,0,NULL); // è·³è·ƒè¡¨å¤´èŠ‚ç‚¹åˆå§‹åŒ– for (j = 0; j &lt; ZSKIPLIST_MAXLEVEL; j++) { // å°†è·³è·ƒè¡¨å¤´èŠ‚ç‚¹çš„æ‰€æœ‰å‰è¿›æŒ‡é’ˆ forward è®¾ç½®ä¸º NULL zsl->header->level[j].forward = NULL; // å°†è·³è·ƒè¡¨å¤´èŠ‚ç‚¹çš„æ‰€æœ‰è·¨åº¦ span è®¾ç½®ä¸º 0 zsl->header->level[j].span = 0; } // è·³è·ƒè¡¨å¤´èŠ‚ç‚¹çš„åé€€æŒ‡é’ˆ backward ç½®ä¸º NULL zsl->header->backward = NULL; // è¡¨å¤´æŒ‡å‘è·³è·ƒè¡¨å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆç½®ä¸º NULL zsl->tail = NULL; return zsl; } å³æ‰§è¡Œå®Œä¹‹ååˆ›å»ºäº†å¦‚ä¸‹ç»“æ„çš„åˆå§‹åŒ–è·³è·ƒè¡¨ï¼š æ’å…¥èŠ‚ç‚¹å®ç°è¿™å‡ ä¹æ˜¯æœ€é‡è¦çš„ä¸€æ®µä»£ç äº†ï¼Œä½†æ€»ä½“æ€è·¯ä¹Ÿæ¯”è¾ƒæ¸…æ™°ç®€å•ï¼Œå¦‚æœç†è§£äº†ä¸Šé¢æ‰€è¯´çš„è·³è·ƒè¡¨çš„åŸç†ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“ç†æ¸…æ¥šæ’å…¥èŠ‚ç‚¹æ—¶å‘ç”Ÿçš„å‡ ä¸ªåŠ¨ä½œ ï¼ˆå‡ ä¹è·Ÿé“¾è¡¨ç±»ä¼¼ï¼‰ï¼š æ‰¾åˆ°å½“å‰æˆ‘éœ€è¦æ’å…¥çš„ä½ç½® ï¼ˆå…¶ä¸­åŒ…æ‹¬ç›¸åŒ score æ—¶çš„å¤„ç†ï¼‰ï¼› åˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œè°ƒæ•´å‰åçš„æŒ‡é’ˆæŒ‡å‘ï¼Œå®Œæˆæ’å…¥ï¼› ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œæˆ‘æŠŠæºç  t_zset.c/zslInsert å®šä¹‰çš„æ’å…¥å‡½æ•°æ‹†æˆäº†å‡ ä¸ªéƒ¨åˆ† ç¬¬ä¸€éƒ¨åˆ†ï¼šå£°æ˜éœ€è¦å­˜å‚¨çš„å˜é‡// å­˜å‚¨æœç´¢è·¯å¾„ zskiplistNode *update[ZSKIPLIST_MAXLEVEL], *x; // å­˜å‚¨ç»è¿‡çš„èŠ‚ç‚¹è·¨åº¦ unsigned int rank[ZSKIPLIST_MAXLEVEL]; int i, level; ç¬¬äºŒéƒ¨åˆ†ï¼šæœç´¢å½“å‰èŠ‚ç‚¹æ’å…¥ä½ç½®serverAssert(!isnan(score)); x = zsl->header; // é€æ­¥é™çº§å¯»æ‰¾ç›®æ ‡èŠ‚ç‚¹ï¼Œå¾—åˆ° \"æœç´¢è·¯å¾„\" for (i = zsl->level-1; i >= 0; i--) { /* store rank that is crossed to reach the insert position */ rank[i] = i == (zsl->level-1) ? 0 : rank[i+1]; // å¦‚æœ score ç›¸ç­‰ï¼Œè¿˜éœ€è¦æ¯”è¾ƒ value å€¼ while (x->level[i].forward &amp;&amp; (x->level[i].forward->score &lt; score || (x->level[i].forward->score == score &amp;&amp; sdscmp(x->level[i].forward->ele,ele) &lt; 0))) { rank[i] += x->level[i].span; x = x->level[i].forward; } // è®°å½• \"æœç´¢è·¯å¾„\" update[i] = x; } è®¨è®ºï¼š æœ‰ä¸€ç§æç«¯çš„æƒ…å†µï¼Œå°±æ˜¯è·³è·ƒè¡¨ä¸­çš„æ‰€æœ‰ score å€¼éƒ½æ˜¯ä¸€æ ·ï¼Œzset çš„æŸ¥æ‰¾æ€§èƒ½ä¼šä¸ä¼šé€€åŒ–ä¸º O(n) å‘¢ï¼Ÿ ä»ä¸Šé¢çš„æºç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç° zset çš„æ’åºå…ƒç´ ä¸åªæ˜¯çœ‹ score å€¼ï¼Œä¹Ÿä¼šæ¯”è¾ƒ value å€¼ ï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰ ç¬¬ä¸‰éƒ¨åˆ†ï¼šç”Ÿæˆæ’å…¥èŠ‚ç‚¹/* we assume the element is not already inside, since we allow duplicated * scores, reinserting the same element should never happen since the * caller of zslInsert() should test in the hash table if the element is * already inside or not. */ level = zslRandomLevel(); // å¦‚æœéšæœºç”Ÿæˆçš„ level è¶…è¿‡äº†å½“å‰æœ€å¤§ level éœ€è¦æ›´æ–°è·³è·ƒè¡¨çš„ä¿¡æ¯ if (level > zsl->level) { for (i = zsl->level; i &lt; level; i++) { rank[i] = 0; update[i] = zsl->header; update[i]->level[i].span = zsl->length; } zsl->level = level; } // åˆ›å»ºæ–°èŠ‚ç‚¹ x = zslCreateNode(level,score,ele); ç¬¬å››éƒ¨åˆ†ï¼šé‡æ’å‰å‘æŒ‡é’ˆfor (i = 0; i &lt; level; i++) { x->level[i].forward = update[i]->level[i].forward; update[i]->level[i].forward = x; /* update span covered by update[i] as x is inserted here */ x->level[i].span = update[i]->level[i].span - (rank[0] - rank[i]); update[i]->level[i].span = (rank[0] - rank[i]) + 1; } /* increment span for untouched levels */ for (i = level; i &lt; zsl->level; i++) { update[i]->level[i].span++; } ç¬¬äº”éƒ¨åˆ†ï¼šé‡æ’åå‘æŒ‡é’ˆå¹¶è¿”å›x->backward = (update[0] == zsl->header) ? NULL : update[0]; if (x->level[0].forward) x->level[0].forward->backward = x; else zsl->tail = x; zsl->length++; return x; èŠ‚ç‚¹åˆ é™¤å®ç°åˆ é™¤è¿‡ç¨‹ç”±æºç ä¸­çš„ t_zset.c/zslDeleteNode å®šä¹‰ï¼Œå’Œæ’å…¥è¿‡ç¨‹ç±»ä¼¼ï¼Œéƒ½éœ€è¦å…ˆæŠŠè¿™ä¸ª â€œæœç´¢è·¯å¾„â€ æ‰¾å‡ºæ¥ï¼Œç„¶åå¯¹äºæ¯ä¸ªå±‚çš„ç›¸å…³èŠ‚ç‚¹é‡æ’ä¸€ä¸‹å‰å‘åå‘æŒ‡é’ˆï¼ŒåŒæ—¶è¿˜è¦æ³¨æ„æ›´æ–°ä¸€ä¸‹æœ€é«˜å±‚æ•° maxLevelï¼Œç›´æ¥æ”¾æºç  (å¦‚æœç†è§£äº†æ’å…¥è¿™é‡Œè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„)ï¼š /* Internal function used by zslDelete, zslDeleteByScore and zslDeleteByRank */ void zslDeleteNode(zskiplist *zsl, zskiplistNode *x, zskiplistNode **update) { int i; for (i = 0; i &lt; zsl->level; i++) { if (update[i]->level[i].forward == x) { update[i]->level[i].span += x->level[i].span - 1; update[i]->level[i].forward = x->level[i].forward; } else { update[i]->level[i].span -= 1; } } if (x->level[0].forward) { x->level[0].forward->backward = x->backward; } else { zsl->tail = x->backward; } while(zsl->level > 1 &amp;&amp; zsl->header->level[zsl->level-1].forward == NULL) zsl->level--; zsl->length--; } /* Delete an element with matching score/element from the skiplist. * The function returns 1 if the node was found and deleted, otherwise * 0 is returned. * * If 'node' is NULL the deleted node is freed by zslFreeNode(), otherwise * it is not freed (but just unlinked) and *node is set to the node pointer, * so that it is possible for the caller to reuse the node (including the * referenced SDS string at node->ele). */ int zslDelete(zskiplist *zsl, double score, sds ele, zskiplistNode **node) { zskiplistNode *update[ZSKIPLIST_MAXLEVEL], *x; int i; x = zsl->header; for (i = zsl->level-1; i >= 0; i--) { while (x->level[i].forward &amp;&amp; (x->level[i].forward->score &lt; score || (x->level[i].forward->score == score &amp;&amp; sdscmp(x->level[i].forward->ele,ele) &lt; 0))) { x = x->level[i].forward; } update[i] = x; } /* We may have multiple elements with the same score, what we need * is to find the element with both the right score and object. */ x = x->level[0].forward; if (x &amp;&amp; score == x->score &amp;&amp; sdscmp(x->ele,ele) == 0) { zslDeleteNode(zsl, x, update); if (!node) zslFreeNode(x); else *node = x; return 1; } return 0; /* not found */ } èŠ‚ç‚¹æ›´æ–°å®ç°å½“æˆ‘ä»¬è°ƒç”¨ ZADD æ–¹æ³•æ—¶ï¼Œå¦‚æœå¯¹åº”çš„ value ä¸å­˜åœ¨ï¼Œé‚£å°±æ˜¯æ’å…¥è¿‡ç¨‹ï¼Œå¦‚æœè¿™ä¸ª value å·²ç»å­˜åœ¨ï¼Œåªæ˜¯è°ƒæ•´ä¸€ä¸‹ score çš„å€¼ï¼Œé‚£å°±éœ€è¦èµ°ä¸€ä¸ªæ›´æ–°æµç¨‹ã€‚ å‡è®¾è¿™ä¸ªæ–°çš„ score å€¼å¹¶ä¸ä¼šå¸¦æ¥æ’åºä¸Šçš„å˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦è°ƒæ•´ä½ç½®ï¼Œç›´æ¥ä¿®æ”¹å…ƒç´ çš„ score å€¼å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœæ’åºä½ç½®æ”¹å˜äº†ï¼Œé‚£å°±éœ€è¦è°ƒæ•´ä½ç½®ï¼Œè¯¥å¦‚ä½•è°ƒæ•´å‘¢ï¼Ÿ ä»æºç  t_zset.c/zsetAdd å‡½æ•° 1350 è¡Œå·¦å³å¯ä»¥çœ‹åˆ°ï¼ŒRedis é‡‡ç”¨äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ç­–ç•¥ï¼š /* Remove and re-insert when score changed. */ if (score != curscore) { zobj->ptr = zzlDelete(zobj->ptr,eptr); zobj->ptr = zzlInsert(zobj->ptr,ele,score); *flags |= ZADD_UPDATED; } æŠŠè¿™ä¸ªå…ƒç´ åˆ é™¤å†æ’å…¥è¿™ä¸ªï¼Œéœ€è¦ç»è¿‡ä¸¤æ¬¡è·¯å¾„æœç´¢ï¼Œä»è¿™ä¸€ç‚¹ä¸Šæ¥çœ‹ï¼ŒRedis çš„ ZADD ä»£ç ä¼¼ä¹è¿˜æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç©ºé—´ã€‚ å…ƒç´ æ’åçš„å®ç°è·³è·ƒè¡¨æœ¬èº«æ˜¯æœ‰åºçš„ï¼ŒRedis åœ¨ skiplist çš„ forward æŒ‡é’ˆä¸Šè¿›è¡Œäº†ä¼˜åŒ–ï¼Œç»™æ¯ä¸€ä¸ª forward æŒ‡é’ˆéƒ½å¢åŠ äº† span å±æ€§ï¼Œç”¨æ¥ è¡¨ç¤ºä»å‰ä¸€ä¸ªèŠ‚ç‚¹æ²¿ç€å½“å‰å±‚çš„ forward æŒ‡é’ˆè·³åˆ°å½“å‰è¿™ä¸ªèŠ‚ç‚¹ä¸­é—´ä¼šè·³è¿‡å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚åœ¨ä¸Šé¢çš„æºç ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ° Redis åœ¨æ’å…¥ã€åˆ é™¤æ“ä½œæ—¶éƒ½ä¼šå°å¿ƒç¿¼ç¿¼åœ°æ›´æ–° span å€¼çš„å¤§å°ã€‚ æ‰€ä»¥ï¼Œæ²¿ç€ â€œæœç´¢è·¯å¾„â€ï¼ŒæŠŠæ‰€æœ‰ç»è¿‡èŠ‚ç‚¹çš„è·¨åº¦ span å€¼è¿›è¡Œç´¯åŠ å°±å¯ä»¥ç®—å‡ºå½“å‰å…ƒç´ çš„æœ€ç»ˆ rank å€¼äº†ï¼š /* Find the rank for an element by both score and key. * Returns 0 when the element cannot be found, rank otherwise. * Note that the rank is 1-based due to the span of zsl->header to the * first element. */ unsigned long zslGetRank(zskiplist *zsl, double score, sds ele) { zskiplistNode *x; unsigned long rank = 0; int i; x = zsl->header; for (i = zsl->level-1; i >= 0; i--) { while (x->level[i].forward &amp;&amp; (x->level[i].forward->score &lt; score || (x->level[i].forward->score == score &amp;&amp; sdscmp(x->level[i].forward->ele,ele) &lt;= 0))) { // span ç´¯åŠ  rank += x->level[i].span; x = x->level[i].forward; } /* x might be equal to zsl->header, so test if obj is non-NULL */ if (x->ele &amp;&amp; sdscmp(x->ele,ele) == 0) { return rank; } } return 0; } æ‰©å±•é˜…è¯» è·³è·ƒè¡¨ Skip List çš„åŸç†å’Œå®ç°ï¼ˆJavaï¼‰ - https://blog.csdn.net/DERRANTCM/article/details/79063312 ã€ç®—æ³•å¯¼è®º33ã€‘è·³è·ƒè¡¨ï¼ˆSkip listï¼‰åŸç†ä¸javaå®ç° - https://blog.csdn.net/brillianteagle/article/details/52206261 å‚è€ƒèµ„æ–™ ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹ - http://redisbook.com/ ã€å®˜æ–¹æ–‡æ¡£ã€‘Redis æ•°æ®ç±»å‹ä»‹ç» - http://www.redis.cn/topics/data-types-intro.html ã€ŠRedis æ·±åº¦å†é™©ã€‹ - https://book.douban.com/subject/30386804/ Redis æºç  - https://github.com/antirez/redis Redis å¿«é€Ÿå…¥é—¨ - æ˜“ç™¾æ•™ç¨‹ - https://www.yiibai.com/redis/redis_quick_guide.html Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡! - https://www.wmyskxz.com/2018/05/31/redis-ru-men-jiu-zhe-yi-pian/ Redisä¸ºä»€ä¹ˆç”¨è·³è¡¨è€Œä¸ç”¨å¹³è¡¡æ ‘ï¼Ÿ - https://mp.weixin.qq.com/s?__biz=MzA4NTg1MjM0Mg==&amp;mid=2657261425&amp;idx=1&amp;sn=d840079ea35875a8c8e02d9b3e44cf95&amp;scene=21#wechat_redirect ä¸ºå•¥ redis ä½¿ç”¨è·³è¡¨(skiplist)è€Œä¸æ˜¯ä½¿ç”¨ red-blackï¼Ÿ - çŸ¥ä¹@äºåº· - https://www.zhihu.com/question/20202931 æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼Œä¸ªäººç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„","slug":"Redis-1-â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„","date":"2020-02-28T13:57:00.000Z","updated":"2020-08-03T09:46:19.150Z","comments":true,"path":"2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/","link":"","permalink":"http://www.wmyskxz.com/2020/02/28/redis-1-5-chong-ji-ben-shu-ju-jie-gou/","excerpt":"","text":"ä¸€ã€Redis ç®€ä»‹ â€œRedis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker.â€ â€”â€” Redisæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç ï¼ˆBSDè®¸å¯ï¼‰çš„å†…å­˜ä¸­æ•°æ®ç»“æ„å­˜å‚¨ï¼Œç”¨ä½œæ•°æ®åº“ï¼Œç¼“å­˜å’Œæ¶ˆæ¯ä»£ç†ã€‚ (æ‘˜è‡ªå®˜ç½‘) Redis æ˜¯ä¸€ä¸ªå¼€æºï¼Œé«˜çº§çš„é”®å€¼å­˜å‚¨å’Œä¸€ä¸ªé€‚ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºæ„å»ºé«˜æ€§èƒ½ï¼Œå¯æ‰©å±•çš„ Web åº”ç”¨ç¨‹åºã€‚Redis ä¹Ÿè¢«ä½œè€…æˆç§°ä¸º æ•°æ®ç»“æ„æœåŠ¡å™¨ ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨è€…å¯ä»¥é€šè¿‡ä¸€äº›å‘½ä»¤ï¼ŒåŸºäºå¸¦æœ‰ TCP å¥—æ¥å­—çš„ç®€å• æœåŠ¡å™¨-å®¢æˆ·ç«¯ åè®®æ¥è®¿é—®ä¸€ç»„ å¯å˜æ•°æ®ç»“æ„ ã€‚(åœ¨ Redis ä¸­éƒ½é‡‡ç”¨é”®å€¼å¯¹çš„æ–¹å¼ï¼Œåªä¸è¿‡å¯¹åº”çš„æ•°æ®ç»“æ„ä¸ä¸€æ ·ç½¢äº†) Redis çš„ä¼˜ç‚¹ä»¥ä¸‹æ˜¯ Redis çš„ä¸€äº›ä¼˜ç‚¹ï¼š å¼‚å¸¸å¿« - Redis éå¸¸å¿«ï¼Œæ¯ç§’å¯æ‰§è¡Œå¤§çº¦ 110000 æ¬¡çš„è®¾ç½®(SET)æ“ä½œï¼Œæ¯ç§’å¤§çº¦å¯æ‰§è¡Œ 81000 æ¬¡çš„è¯»å–/è·å–(GET)æ“ä½œã€‚ æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ - Redis æ”¯æŒå¼€å‘äººå‘˜å¸¸ç”¨çš„å¤§å¤šæ•°æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚åˆ—è¡¨ï¼Œé›†åˆï¼Œæ’åºé›†å’Œæ•£åˆ—ç­‰ç­‰ã€‚è¿™ä½¿å¾— Redis å¾ˆå®¹æ˜“è¢«ç”¨æ¥è§£å†³å„ç§é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å“ªäº›é—®é¢˜å¯ä»¥æ›´å¥½ä½¿ç”¨åœ°å“ªäº›æ•°æ®ç±»å‹æ¥å¤„ç†è§£å†³ã€‚ æ“ä½œå…·æœ‰åŸå­æ€§ - æ‰€æœ‰ Redis æ“ä½œéƒ½æ˜¯åŸå­æ“ä½œï¼Œè¿™ç¡®ä¿å¦‚æœä¸¤ä¸ªå®¢æˆ·ç«¯å¹¶å‘è®¿é—®ï¼ŒRedis æœåŠ¡å™¨èƒ½æ¥æ”¶æ›´æ–°çš„å€¼ã€‚ å¤šå®ç”¨å·¥å…· - Redis æ˜¯ä¸€ä¸ªå¤šå®ç”¨å·¥å…·ï¼Œå¯ç”¨äºå¤šç§ç”¨ä¾‹ï¼Œå¦‚ï¼šç¼“å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—(Redis æœ¬åœ°æ”¯æŒå‘å¸ƒ/è®¢é˜…)ï¼Œåº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•çŸ­æœŸæ•°æ®ï¼Œä¾‹å¦‚ï¼Œwebåº”ç”¨ç¨‹åºä¸­çš„ä¼šè¯ï¼Œç½‘é¡µå‘½ä¸­è®¡æ•°ç­‰ã€‚ Redis çš„å®‰è£…è¿™ä¸€æ­¥æ¯”è¾ƒç®€å•ï¼Œä½ å¯ä»¥åœ¨ç½‘ä¸Šæœåˆ°è®¸å¤šæ»¡æ„çš„æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚ ç»™ä¸€ä¸ªèœé¸Ÿæ•™ç¨‹çš„å®‰è£…æ•™ç¨‹ç”¨ä½œå‚è€ƒï¼šhttps://www.runoob.com/redis/redis-install.html æµ‹è¯•æœ¬åœ° Redis æ€§èƒ½å½“ä½ å®‰è£…å®Œæˆä¹‹åï¼Œä½ å¯ä»¥å…ˆæ‰§è¡Œ redis-server è®© Redis å¯åŠ¨èµ·æ¥ï¼Œç„¶åè¿è¡Œå‘½ä»¤ redis-benchmark -n 100000 -q æ¥æ£€æµ‹æœ¬åœ°åŒæ—¶æ‰§è¡Œ 10 ä¸‡ä¸ªè¯·æ±‚æ—¶çš„æ€§èƒ½ï¼š å½“ç„¶ä¸åŒç”µè„‘ä¹‹é—´ç”±äºå„æ–¹é¢çš„åŸå› ä¼šå­˜åœ¨æ€§èƒ½å·®è·ï¼Œè¿™ä¸ªæµ‹è¯•æ‚¨å¯ä»¥æƒå½“æ˜¯ä¸€ç§ ã€Œä¹è¶£ã€ å°±å¥½ã€‚ äºŒã€Redis äº”ç§åŸºæœ¬æ•°æ®ç»“æ„Redis æœ‰ 5 ç§åŸºç¡€æ•°æ®ç»“æ„ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šstring(å­—ç¬¦ä¸²)ã€list(åˆ—è¡¨)ã€hash(å­—å…¸)ã€set(é›†åˆ) å’Œ zset(æœ‰åºé›†åˆ)ã€‚è¿™ 5 ç§æ˜¯ Redis ç›¸å…³çŸ¥è¯†ä¸­æœ€åŸºç¡€ã€æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä¸‹é¢æˆ‘ä»¬ç»“åˆæºç ä»¥åŠä¸€äº›å®è·µæ¥ç»™å¤§å®¶åˆ†åˆ«è®²è§£ä¸€ä¸‹ã€‚ 1ï¼‰å­—ç¬¦ä¸² stringRedis ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸€ç§ åŠ¨æ€å­—ç¬¦ä¸²ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨è€…å¯ä»¥ä¿®æ”¹ï¼Œå®ƒçš„åº•å±‚å®ç°æœ‰ç‚¹ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œæœ‰ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œä»æºç çš„ sds.h/sdshdr æ–‡ä»¶ ä¸­å¯ä»¥çœ‹åˆ° Redis åº•å±‚å¯¹äºå­—ç¬¦ä¸²çš„å®šä¹‰ SDSï¼Œå³ Simple Dynamic String ç»“æ„ï¼š /* Note: sdshdr5 is never used, we just access the flags byte directly. * However is here to document the layout of type 5 SDS strings. */ struct __attribute__ ((__packed__)) sdshdr5 { unsigned char flags; /* 3 lsb of type, and 5 msb of string length */ char buf[]; }; struct __attribute__ ((__packed__)) sdshdr8 { uint8_t len; /* used */ uint8_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[]; }; struct __attribute__ ((__packed__)) sdshdr16 { uint16_t len; /* used */ uint16_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[]; }; struct __attribute__ ((__packed__)) sdshdr32 { uint32_t len; /* used */ uint32_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[]; }; struct __attribute__ ((__packed__)) sdshdr64 { uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[]; }; ä½ ä¼šå‘ç°åŒæ ·ä¸€ç»„ç»“æ„ Redis ä½¿ç”¨æ³›å‹å®šä¹‰äº†å¥½å¤šæ¬¡ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ int ç±»å‹å‘¢ï¼Ÿ å› ä¸ºå½“å­—ç¬¦ä¸²æ¯”è¾ƒçŸ­çš„æ—¶å€™ï¼Œlen å’Œ alloc å¯ä»¥ä½¿ç”¨ byte å’Œ short æ¥è¡¨ç¤ºï¼ŒRedis ä¸ºäº†å¯¹å†…å­˜åšæè‡´çš„ä¼˜åŒ–ï¼Œä¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²ä½¿ç”¨ä¸åŒçš„ç»“æ„ä½“æ¥è¡¨ç¤ºã€‚ SDS ä¸ C å­—ç¬¦ä¸²çš„åŒºåˆ«ä¸ºä»€ä¹ˆä¸è€ƒè™‘ç›´æ¥ä½¿ç”¨ C è¯­è¨€çš„å­—ç¬¦ä¸²å‘¢ï¼Ÿå› ä¸º C è¯­è¨€è¿™ç§ç®€å•çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹å¼ ä¸ç¬¦åˆ Redis å¯¹å­—ç¬¦ä¸²åœ¨å®‰å…¨æ€§ã€æ•ˆç‡ä»¥åŠåŠŸèƒ½æ–¹é¢çš„è¦æ±‚ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒC è¯­è¨€ä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º N+1 çš„å­—ç¬¦æ•°ç»„æ¥è¡¨ç¤ºé•¿åº¦ä¸º N çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å­—ç¬¦æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ€»æ˜¯ &#39;\\0&#39;ã€‚(ä¸‹å›¾å°±å±•ç¤ºäº† C è¯­è¨€ä¸­å€¼ä¸º â€œRedisâ€ çš„ä¸€ä¸ªå­—ç¬¦æ•°ç»„) è¿™æ ·ç®€å•çš„æ•°æ®ç»“æ„å¯èƒ½ä¼šé€ æˆä»¥ä¸‹ä¸€äº›é—®é¢˜ï¼š è·å–å­—ç¬¦ä¸²é•¿åº¦ä¸º O(N) çº§åˆ«çš„æ“ä½œ â†’ å› ä¸º C ä¸ä¿å­˜æ•°ç»„çš„é•¿åº¦ï¼Œæ¯æ¬¡éƒ½éœ€è¦éå†ä¸€éæ•´ä¸ªæ•°ç»„ï¼› ä¸èƒ½å¾ˆå¥½çš„æœç» ç¼“å†²åŒºæº¢å‡º/å†…å­˜æ³„æ¼ çš„é—®é¢˜ â†’ è·Ÿä¸Šè¿°é—®é¢˜åŸå› ä¸€æ ·ï¼Œå¦‚æœæ‰§è¡Œæ‹¼æ¥ or ç¼©çŸ­å­—ç¬¦ä¸²çš„æ“ä½œï¼Œå¦‚æœæ“ä½œä¸å½“å°±å¾ˆå®¹æ˜“é€ æˆä¸Šè¿°é—®é¢˜ï¼› C å­—ç¬¦ä¸² åªèƒ½ä¿å­˜æ–‡æœ¬æ•°æ® â†’ å› ä¸º C è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ç¬¦åˆæŸç§ç¼–ç ï¼ˆæ¯”å¦‚ ASCIIï¼‰ï¼Œä¾‹å¦‚ä¸­é—´å‡ºç°çš„ &#39;\\0&#39; å¯èƒ½ä¼šè¢«åˆ¤å®šä¸ºæå‰ç»“æŸçš„å­—ç¬¦ä¸²è€Œè¯†åˆ«ä¸äº†ï¼› æˆ‘ä»¬ä»¥è¿½åŠ å­—ç¬¦ä¸²çš„æ“ä½œä¸¾ä¾‹ï¼ŒRedis æºç å¦‚ä¸‹ï¼š /* Append the specified binary-safe string pointed by 't' of 'len' bytes to the * end of the specified sds string 's'. * * After the call, the passed sds string is no longer valid and all the * references must be substituted with the new pointer returned by the call. */ sds sdscatlen(sds s, const void *t, size_t len) { // è·å–åŸå­—ç¬¦ä¸²çš„é•¿åº¦ size_t curlen = sdslen(s); // æŒ‰éœ€è°ƒæ•´ç©ºé—´ï¼Œå¦‚æœå®¹é‡ä¸å¤Ÿå®¹çº³è¿½åŠ çš„å†…å®¹ï¼Œå°±ä¼šé‡æ–°åˆ†é…å­—èŠ‚æ•°ç»„å¹¶å¤åˆ¶åŸå­—ç¬¦ä¸²çš„å†…å®¹åˆ°æ–°æ•°ç»„ä¸­ s = sdsMakeRoomFor(s,len); if (s == NULL) return NULL; // å†…å­˜ä¸è¶³ memcpy(s+curlen, t, len); // è¿½åŠ ç›®æ ‡å­—ç¬¦ä¸²åˆ°å­—èŠ‚æ•°ç»„ä¸­ sdssetlen(s, curlen+len); // è®¾ç½®è¿½åŠ åçš„é•¿åº¦ s[curlen+len] = '\\0'; // è®©å­—ç¬¦ä¸²ä»¥ \\0 ç»“å°¾ï¼Œä¾¿äºè°ƒè¯•æ‰“å° return s; } æ³¨ï¼šRedis è§„å®šäº†å­—ç¬¦ä¸²çš„é•¿åº¦ä¸å¾—è¶…è¿‡ 512 MBã€‚ å¯¹å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œå®‰è£…å¥½ Redisï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ redis-cli æ¥å¯¹ Redis è¿›è¡Œå‘½ä»¤è¡Œçš„æ“ä½œï¼Œå½“ç„¶ Redis å®˜æ–¹ä¹Ÿæä¾›äº†åœ¨çº¿çš„è°ƒè¯•å™¨ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨é‡Œé¢æ•²å…¥å‘½ä»¤è¿›è¡Œæ“ä½œï¼šhttp://try.redis.io/#run è®¾ç½®å’Œè·å–é”®å€¼å¯¹> SET key value OK > GET key \"value\" æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ SET å’Œ GET æ¥è®¾ç½®å’Œè·å–å­—ç¬¦ä¸²å€¼ã€‚ å€¼å¯ä»¥æ˜¯ä»»ä½•ç§ç±»çš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬äºŒè¿›åˆ¶æ•°æ®ï¼‰ï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªé”®ä¸‹ä¿å­˜ä¸€å¼  .jpeg å›¾ç‰‡ï¼Œåªéœ€è¦æ³¨æ„ä¸è¦è¶…è¿‡ 512 MB çš„æœ€å¤§é™åº¦å°±å¥½äº†ã€‚ å½“ key å­˜åœ¨æ—¶ï¼ŒSET å‘½ä»¤ä¼šè¦†ç›–æ‰ä½ ä¸Šä¸€æ¬¡è®¾ç½®çš„å€¼ï¼š > SET key newValue OK > GET key \"newValue\" å¦å¤–ä½ è¿˜å¯ä»¥ä½¿ç”¨ EXISTS å’Œ DEL å…³é”®å­—æ¥æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å’Œåˆ é™¤é”®å€¼å¯¹ï¼š > EXISTS key (integer) 1 > DEL key (integer) 1 > GET key (nil) æ‰¹é‡è®¾ç½®é”®å€¼å¯¹> SET key1 value1 OK > SET key2 value2 OK > MGET key1 key2 key3 # è¿”å›ä¸€ä¸ªåˆ—è¡¨ 1) \"value1\" 2) \"value2\" 3) (nil) > MSET key1 value1 key2 value2 > MGET key1 key2 1) \"value1\" 2) \"value2\" è¿‡æœŸå’Œ SET å‘½ä»¤æ‰©å±•å¯ä»¥å¯¹ key è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œåˆ°æ—¶é—´ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œè¿™ä¸ªåŠŸèƒ½å¸¸ç”¨æ¥æ§åˆ¶ç¼“å­˜çš„å¤±æ•ˆæ—¶é—´ã€‚(è¿‡æœŸå¯ä»¥æ˜¯ä»»æ„æ•°æ®ç»“æ„) > SET key value1 > GET key \"value1\" > EXPIRE name 5 # 5s åè¿‡æœŸ ... # ç­‰å¾… 5s > GET key (nil) ç­‰ä»·äº SET + EXPIRE çš„ SETNX å‘½ä»¤ï¼š > SETNX key value1 ... # ç­‰å¾… 5s åè·å– > GET key (nil) > SETNX key value1 # å¦‚æœ key ä¸å­˜åœ¨åˆ™ SET æˆåŠŸ (integer) 1 > SETNX key value1 # å¦‚æœ key å­˜åœ¨åˆ™ SET å¤±è´¥ (integer) 0 > GET key \"value\" # æ²¡æœ‰æ”¹å˜ è®¡æ•°å¦‚æœ value æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¿˜å¯ä»¥å¯¹å®ƒä½¿ç”¨ INCR å‘½ä»¤è¿›è¡Œ åŸå­æ€§ çš„è‡ªå¢æ“ä½œï¼Œè¿™æ„å‘³ç€åŠæ—¶å¤šä¸ªå®¢æˆ·ç«¯å¯¹åŒä¸€ä¸ª key è¿›è¡Œæ“ä½œï¼Œä¹Ÿå†³ä¸ä¼šå¯¼è‡´ç«äº‰çš„æƒ…å†µï¼š > SET counter 100 > INCR count (interger) 101 > INCRBY counter 50 (integer) 151 è¿”å›åŸå€¼çš„ GETSET å‘½ä»¤å¯¹å­—ç¬¦ä¸²ï¼Œè¿˜æœ‰ä¸€ä¸ª GETSET æ¯”è¾ƒè®©äººè§‰å¾—æœ‰æ„æ€ï¼Œå®ƒçš„åŠŸèƒ½è·Ÿå®ƒåå­—ä¸€æ ·ï¼šä¸º key è®¾ç½®ä¸€ä¸ªå€¼å¹¶è¿”å›åŸå€¼ï¼š > SET key value > GETSET key value1 \"value\" è¿™å¯ä»¥å¯¹äºæŸä¸€äº›éœ€è¦éš”ä¸€æ®µæ—¶é—´å°±ç»Ÿè®¡çš„ key å¾ˆæ–¹ä¾¿çš„è®¾ç½®å’ŒæŸ¥çœ‹ï¼Œä¾‹å¦‚ï¼šç³»ç»Ÿæ¯å½“ç”±ç”¨æˆ·è¿›å…¥çš„æ—¶å€™ä½ å°±æ˜¯ç”¨ INCR å‘½ä»¤æ“ä½œä¸€ä¸ª keyï¼Œå½“éœ€è¦ç»Ÿè®¡æ—¶å€™ä½ å°±æŠŠè¿™ä¸ª key ä½¿ç”¨ GETSET å‘½ä»¤é‡æ–°èµ‹å€¼ä¸º 0ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†ç»Ÿè®¡çš„ç›®çš„ã€‚ 2ï¼‰åˆ—è¡¨ listRedis çš„åˆ—è¡¨ç›¸å½“äº Java è¯­è¨€ä¸­çš„ LinkedListï¼Œæ³¨æ„å®ƒæ˜¯é“¾è¡¨è€Œä¸æ˜¯æ•°ç»„ã€‚è¿™æ„å‘³ç€ list çš„æ’å…¥å’Œåˆ é™¤æ“ä½œéå¸¸å¿«ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œä½†æ˜¯ç´¢å¼•å®šä½å¾ˆæ…¢ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ æˆ‘ä»¬å¯ä»¥ä»æºç çš„ adlist.h/listNode æ¥çœ‹åˆ°å¯¹å…¶çš„å®šä¹‰ï¼š /* Node, List, and Iterator are the only data structures used currently. */ typedef struct listNode { struct listNode *prev; struct listNode *next; void *value; } listNode; typedef struct listIter { listNode *next; int direction; } listIter; typedef struct list { listNode *head; listNode *tail; void *(*dup)(void *ptr); void (*free)(void *ptr); int (*match)(void *ptr, void *key); unsigned long len; } list; å¯ä»¥çœ‹åˆ°ï¼Œå¤šä¸ª listNode å¯ä»¥é€šè¿‡ prev å’Œ next æŒ‡é’ˆç»„æˆåŒå‘é“¾è¡¨ï¼š è™½ç„¶ä»…ä»…ä½¿ç”¨å¤šä¸ª listNode ç»“æ„å°±å¯ä»¥ç»„æˆé“¾è¡¨ï¼Œä½†æ˜¯ä½¿ç”¨ adlist.h/list ç»“æ„æ¥æŒæœ‰é“¾è¡¨çš„è¯ï¼Œæ“ä½œèµ·æ¥ä¼šæ›´åŠ æ–¹ä¾¿ï¼š é“¾è¡¨çš„åŸºæœ¬æ“ä½œ LPUSH å’Œ RPUSH åˆ†åˆ«å¯ä»¥å‘ list çš„å·¦è¾¹ï¼ˆå¤´éƒ¨ï¼‰å’Œå³è¾¹ï¼ˆå°¾éƒ¨ï¼‰æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼› LRANGE å‘½ä»¤å¯ä»¥ä» list ä¸­å–å‡ºä¸€å®šèŒƒå›´çš„å…ƒç´ ï¼› LINDEX å‘½ä»¤å¯ä»¥ä» list ä¸­å–å‡ºæŒ‡å®šä¸‹è¡¨çš„å…ƒç´ ï¼Œç›¸å½“äº Java é“¾è¡¨æ“ä½œä¸­çš„ get(int index) æ“ä½œï¼› ç¤ºèŒƒï¼š > rpush mylist A (integer) 1 > rpush mylist B (integer) 2 > lpush mylist first (integer) 3 > lrange mylist 0 -1 # -1 è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ , è¿™é‡Œè¡¨ç¤ºä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå³æ‰€æœ‰ 1) \"first\" 2) \"A\" 3) \"B\" list å®ç°é˜Ÿåˆ—é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¸¸ç”¨äºæ¶ˆæ¯æ’é˜Ÿå’Œå¼‚æ­¥é€»è¾‘å¤„ç†ï¼Œå®ƒä¼šç¡®ä¿å…ƒç´ çš„è®¿é—®é¡ºåºï¼š > RPUSH books python java golang (integer) 3 > LPOP books \"python\" > LPOP books \"java\" > LPOP books \"golang\" > LPOP books (nil) list å®ç°æ ˆæ ˆæ˜¯å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œè·Ÿé˜Ÿåˆ—æ­£å¥½ç›¸åï¼š > RPUSH books python java golang > RPOP books \"golang\" > RPOP books \"java\" > RPOP books \"python\" > RPOP books (nil) 3ï¼‰å­—å…¸ hashRedis ä¸­çš„å­—å…¸ç›¸å½“äº Java ä¸­çš„ HashMapï¼Œå†…éƒ¨å®ç°ä¹Ÿå·®ä¸å¤šç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ â€œæ•°ç»„ + é“¾è¡¨â€ çš„é“¾åœ°å€æ³•æ¥è§£å†³éƒ¨åˆ† å“ˆå¸Œå†²çªï¼ŒåŒæ—¶è¿™æ ·çš„ç»“æ„ä¹Ÿå¸æ”¶äº†ä¸¤ç§ä¸åŒæ•°æ®ç»“æ„çš„ä¼˜ç‚¹ã€‚æºç å®šä¹‰å¦‚ dict.h/dictht å®šä¹‰ï¼š typedef struct dictht { // å“ˆå¸Œè¡¨æ•°ç»„ dictEntry **table; // å“ˆå¸Œè¡¨å¤§å° unsigned long size; // å“ˆå¸Œè¡¨å¤§å°æ©ç ï¼Œç”¨äºè®¡ç®—ç´¢å¼•å€¼ï¼Œæ€»æ˜¯ç­‰äº size - 1 unsigned long sizemask; // è¯¥å“ˆå¸Œè¡¨å·²æœ‰èŠ‚ç‚¹çš„æ•°é‡ unsigned long used; } dictht; typedef struct dict { dictType *type; void *privdata; // å†…éƒ¨æœ‰ä¸¤ä¸ª dictht ç»“æ„ dictht ht[2]; long rehashidx; /* rehashing not in progress if rehashidx == -1 */ unsigned long iterators; /* number of iterators currently running */ } dict; table å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘ dict.h/dictEntry ç»“æ„çš„æŒ‡é’ˆï¼Œè€Œæ¯ä¸ª dictEntry ç»“æ„ä¿å­˜ç€ä¸€ä¸ªé”®å€¼å¯¹ï¼š typedef struct dictEntry { // é”® void *key; // å€¼ union { void *val; uint64_t u64; int64_t s64; double d; } v; // æŒ‡å‘ä¸‹ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹ï¼Œå½¢æˆé“¾è¡¨ struct dictEntry *next; } dictEntry; å¯ä»¥ä»ä¸Šé¢çš„æºç ä¸­çœ‹åˆ°ï¼Œå®é™…ä¸Šå­—å…¸ç»“æ„çš„å†…éƒ¨åŒ…å«ä¸¤ä¸ª hashtableï¼Œé€šå¸¸æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ª hashtable æ˜¯æœ‰å€¼çš„ï¼Œä½†æ˜¯åœ¨å­—å…¸æ‰©å®¹ç¼©å®¹æ—¶ï¼Œéœ€è¦åˆ†é…æ–°çš„ hashtableï¼Œç„¶åè¿›è¡Œ æ¸è¿›å¼æ¬è¿ (ä¸‹é¢è¯´åŸå› )ã€‚ æ¸è¿›å¼ rehashå¤§å­—å…¸çš„æ‰©å®¹æ˜¯æ¯”è¾ƒè€—æ—¶é—´çš„ï¼Œéœ€è¦é‡æ–°ç”³è¯·æ–°çš„æ•°ç»„ï¼Œç„¶åå°†æ—§å­—å…¸æ‰€æœ‰é“¾è¡¨ä¸­çš„å…ƒç´ é‡æ–°æŒ‚æ¥åˆ°æ–°çš„æ•°ç»„ä¸‹é¢ï¼Œè¿™æ˜¯ä¸€ä¸ª O(n) çº§åˆ«çš„æ“ä½œï¼Œä½œä¸ºå•çº¿ç¨‹çš„ Redis å¾ˆéš¾æ‰¿å—è¿™æ ·è€—æ—¶çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ Redis ä½¿ç”¨ æ¸è¿›å¼ rehash å°æ­¥æ¬è¿ï¼š æ¸è¿›å¼ rehash ä¼šåœ¨ rehash çš„åŒæ—¶ï¼Œä¿ç•™æ–°æ—§ä¸¤ä¸ª hash ç»“æ„ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒæŸ¥è¯¢æ—¶ä¼šåŒæ—¶æŸ¥è¯¢ä¸¤ä¸ª hash ç»“æ„ï¼Œç„¶ååœ¨åç»­çš„å®šæ—¶ä»»åŠ¡ä»¥åŠ hash æ“ä½œæŒ‡ä»¤ä¸­ï¼Œå¾ªåºæ¸è¿›çš„æŠŠæ—§å­—å…¸çš„å†…å®¹è¿ç§»åˆ°æ–°å­—å…¸ä¸­ã€‚å½“æ¬è¿å®Œæˆäº†ï¼Œå°±ä¼šä½¿ç”¨æ–°çš„ hash ç»“æ„å–è€Œä»£ä¹‹ã€‚ æ‰©ç¼©å®¹çš„æ¡ä»¶æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“ hash è¡¨ä¸­ å…ƒç´ çš„ä¸ªæ•°ç­‰äºç¬¬ä¸€ç»´æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œå°±ä¼šå¼€å§‹æ‰©å®¹ï¼Œæ‰©å®¹çš„æ–°æ•°ç»„æ˜¯ åŸæ•°ç»„å¤§å°çš„ 2 å€ã€‚ä¸è¿‡å¦‚æœ Redis æ­£åœ¨åš bgsave(æŒä¹…åŒ–å‘½ä»¤)ï¼Œä¸ºäº†å‡å°‘å†…å­˜ä¹Ÿå¾—è¿‡å¤šåˆ†ç¦»ï¼ŒRedis å°½é‡ä¸å»æ‰©å®¹ï¼Œä½†æ˜¯å¦‚æœ hash è¡¨éå¸¸æ»¡äº†ï¼Œè¾¾åˆ°äº†ç¬¬ä¸€ç»´æ•°ç»„é•¿åº¦çš„ 5 å€äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼š å¼ºåˆ¶æ‰©å®¹ã€‚ å½“ hash è¡¨å› ä¸ºå…ƒç´ é€æ¸è¢«åˆ é™¤å˜å¾—è¶Šæ¥è¶Šç¨€ç–æ—¶ï¼ŒRedis ä¼šå¯¹ hash è¡¨è¿›è¡Œç¼©å®¹æ¥å‡å°‘ hash è¡¨çš„ç¬¬ä¸€ç»´æ•°ç»„ç©ºé—´å ç”¨ã€‚æ‰€ç”¨çš„æ¡ä»¶æ˜¯ å…ƒç´ ä¸ªæ•°ä½äºæ•°ç»„é•¿åº¦çš„ 10%ï¼Œç¼©å®¹ä¸ä¼šè€ƒè™‘ Redis æ˜¯å¦åœ¨åš bgsaveã€‚ å­—å…¸çš„åŸºæœ¬æ“ä½œhash ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œhash ç»“æ„çš„å­˜å‚¨æ¶ˆè€—è¦é«˜äºå•ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åˆ°åº•è¯¥ä½¿ç”¨ hash è¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µå†ä¸‰æƒè¡¡ï¼š > HSET books java \"think in java\" # å‘½ä»¤è¡Œçš„å­—ç¬¦ä¸²å¦‚æœåŒ…å«ç©ºæ ¼åˆ™éœ€è¦ä½¿ç”¨å¼•å·åŒ…è£¹ (integer) 1 > HSET books python \"python cookbook\" (integer) 1 > HGETALL books # key å’Œ value é—´éš”å‡ºç° 1) \"java\" 2) \"think in java\" 3) \"python\" 4) \"python cookbook\" > HGET books java \"think in java\" > HSET books java \"head first java\" (integer) 0 # å› ä¸ºæ˜¯æ›´æ–°æ“ä½œï¼Œæ‰€ä»¥è¿”å› 0 > HMSET books java \"effetive java\" python \"learning python\" # æ‰¹é‡æ“ä½œ OK 4ï¼‰é›†åˆ setRedis çš„é›†åˆç›¸å½“äº Java è¯­è¨€ä¸­çš„ HashSetï¼Œå®ƒå†…éƒ¨çš„é”®å€¼å¯¹æ˜¯æ— åºã€å”¯ä¸€çš„ã€‚å®ƒçš„å†…éƒ¨å®ç°ç›¸å½“äºä¸€ä¸ªç‰¹æ®Šçš„å­—å…¸ï¼Œå­—å…¸ä¸­æ‰€æœ‰çš„ value éƒ½æ˜¯ä¸€ä¸ªå€¼ NULLã€‚ é›†åˆ set çš„åŸºæœ¬ä½¿ç”¨ç”±äºè¯¥ç»“æ„æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹çœ‹æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼š > SADD books java (integer) 1 > SADD books java # é‡å¤ (integer) 0 > SADD books python golang (integer) 2 > SMEMBERS books # æ³¨æ„é¡ºåºï¼Œset æ˜¯æ— åºçš„ 1) \"java\" 2) \"python\" 3) \"golang\" > SISMEMBER books java # æŸ¥è¯¢æŸä¸ª value æ˜¯å¦å­˜åœ¨ï¼Œç›¸å½“äº contains (integer) 1 > SCARD books # è·å–é•¿åº¦ (integer) 3 > SPOP books # å¼¹å‡ºä¸€ä¸ª \"java\" 5ï¼‰æœ‰åºåˆ—è¡¨ zsetè¿™å¯èƒ½ä½¿ Redis æœ€å…·ç‰¹è‰²çš„ä¸€ä¸ªæ•°æ®ç»“æ„äº†ï¼Œå®ƒç±»ä¼¼äº Java ä¸­ SortedSet å’Œ HashMap çš„ç»“åˆä½“ï¼Œä¸€æ–¹é¢å®ƒæ˜¯ä¸€ä¸ª setï¼Œä¿è¯äº†å†…éƒ¨ value çš„å”¯ä¸€æ€§ï¼Œå¦ä¸€æ–¹é¢å®ƒå¯ä»¥ä¸ºæ¯ä¸ª value èµ‹äºˆä¸€ä¸ª score å€¼ï¼Œç”¨æ¥ä»£è¡¨æ’åºçš„æƒé‡ã€‚ å®ƒçš„å†…éƒ¨å®ç°ç”¨çš„æ˜¯ä¸€ç§å«åš ã€Œè·³è·ƒè¡¨ã€ çš„æ•°æ®ç»“æ„ï¼Œç”±äºæ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œç®€å•æä¸€ä¸‹åŸç†å°±å¥½äº†ï¼š æƒ³è±¡ä½ æ˜¯ä¸€å®¶åˆ›ä¸šå…¬å¸çš„è€æ¿ï¼Œåˆšå¼€å§‹åªæœ‰å‡ ä¸ªäººï¼Œå¤§å®¶éƒ½å¹³èµ·å¹³åã€‚åæ¥éšç€å…¬å¸çš„å‘å±•ï¼Œäººæ•°è¶Šæ¥è¶Šå¤šï¼Œå›¢é˜Ÿæ²Ÿé€šæˆæœ¬é€æ¸å¢åŠ ï¼Œæ¸æ¸åœ°å¼•å…¥äº†ç»„é•¿åˆ¶ï¼Œå¯¹å›¢é˜Ÿè¿›è¡Œåˆ’åˆ†ï¼Œäºæ˜¯æœ‰ä¸€äº›äººåˆæ˜¯å‘˜å·¥åˆæœ‰ç»„é•¿çš„èº«ä»½ã€‚ å†åæ¥ï¼Œå…¬å¸è§„æ¨¡è¿›ä¸€æ­¥æ‰©å¤§ï¼Œå…¬å¸éœ€è¦å†è¿›å…¥ä¸€ä¸ªå±‚çº§ï¼šéƒ¨é—¨ã€‚äºæ˜¯æ¯ä¸ªéƒ¨é—¨åˆä¼šä»ç»„é•¿ä¸­æ¨ä¸¾ä¸€ä½é€‰å‡ºéƒ¨é•¿ã€‚ è·³è·ƒè¡¨å°±ç±»ä¼¼äºè¿™æ ·çš„æœºåˆ¶ï¼Œæœ€ä¸‹é¢ä¸€å±‚æ‰€æœ‰çš„å…ƒç´ éƒ½ä¼šä¸²èµ·æ¥ï¼Œéƒ½æ˜¯å‘˜å·¥ï¼Œç„¶åæ¯éš”å‡ ä¸ªå…ƒç´ å°±ä¼šæŒ‘é€‰å‡ºä¸€ä¸ªä»£è¡¨ï¼Œå†æŠŠè¿™å‡ ä¸ªä»£è¡¨ä½¿ç”¨å¦å¤–ä¸€çº§æŒ‡é’ˆä¸²èµ·æ¥ã€‚ç„¶åå†åœ¨è¿™äº›ä»£è¡¨é‡Œé¢æŒ‘å‡ºäºŒçº§ä»£è¡¨ï¼Œå†ä¸²èµ·æ¥ã€‚æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªé‡‘å­—å¡”çš„ç»“æ„ã€‚ æƒ³ä¸€ä¸‹ä½ ç›®å‰æ‰€åœ¨çš„åœ°ç†ä½ç½®ï¼šäºšæ´² &gt; ä¸­å›½ &gt; æŸçœ &gt; æŸå¸‚ &gt; â€¦.ï¼Œå°±æ˜¯è¿™æ ·ä¸€ä¸ªç»“æ„ï¼ æœ‰åºåˆ—è¡¨ zset åŸºç¡€æ“ä½œ> ZADD books 9.0 \"think in java\" > ZADD books 8.9 \"java concurrency\" > ZADD books 8.6 \"java cookbook\" > ZRANGE books 0 -1 # æŒ‰ score æ’åºåˆ—å‡ºï¼Œå‚æ•°åŒºé—´ä¸ºæ’åèŒƒå›´ 1) \"java cookbook\" 2) \"java concurrency\" 3) \"think in java\" > ZREVRANGE books 0 -1 # æŒ‰ score é€†åºåˆ—å‡ºï¼Œå‚æ•°åŒºé—´ä¸ºæ’åèŒƒå›´ 1) \"think in java\" 2) \"java concurrency\" 3) \"java cookbook\" > ZCARD books # ç›¸å½“äº count() (integer) 3 > ZSCORE books \"java concurrency\" # è·å–æŒ‡å®š value çš„ score \"8.9000000000000004\" # å†…éƒ¨ score ä½¿ç”¨ double ç±»å‹è¿›è¡Œå­˜å‚¨ï¼Œæ‰€ä»¥å­˜åœ¨å°æ•°ç‚¹ç²¾åº¦é—®é¢˜ > ZRANK books \"java concurrency\" # æ’å (integer) 1 > ZRANGEBYSCORE books 0 8.91 # æ ¹æ®åˆ†å€¼åŒºé—´éå† zset 1) \"java cookbook\" 2) \"java concurrency\" > ZRANGEBYSCORE books -inf 8.91 withscores # æ ¹æ®åˆ†å€¼åŒºé—´ (-âˆ, 8.91] éå† zsetï¼ŒåŒæ—¶è¿”å›åˆ†å€¼ã€‚inf ä»£è¡¨ infiniteï¼Œæ— ç©·å¤§çš„æ„æ€ã€‚ 1) \"java cookbook\" 2) \"8.5999999999999996\" 3) \"java concurrency\" 4) \"8.9000000000000004\" > ZREM books \"java concurrency\" # åˆ é™¤ value (integer) 1 > ZRANGE books 0 -1 1) \"java cookbook\" 2) \"think in java\" æ‰©å±•/ç›¸å…³é˜…è¯» é˜¿é‡Œäº‘ Redis å¼€å‘è§„èŒƒ - https://www.infoq.cn/article/K7dB5AFKI9mr5Ugbs_px ä¸ºä»€ä¹ˆè¦é˜²æ­¢ bigkeyï¼Ÿ - https://mp.weixin.qq.com/s?__biz=Mzg2NTEyNzE0OA==&amp;mid=2247483677&amp;idx=1&amp;sn=5c320b46f0e06ce9369a29909d62b401&amp;chksm=ce5f9e9ef928178834021b6f9b939550ac400abae5c31e1933bafca2f16b23d028cc51813aec&amp;scene=21#wechat_redirect Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼ - https://www.wmyskxz.com/2018/05/31/redis-ru-men-jiu-zhe-yi-pian/ å‚è€ƒèµ„æ–™ ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹ - http://redisbook.com/ ã€å®˜æ–¹æ–‡æ¡£ã€‘Redis æ•°æ®ç±»å‹ä»‹ç» - http://www.redis.cn/topics/data-types-intro.html ã€ŠRedis æ·±åº¦å†é™©ã€‹ - https://book.douban.com/subject/30386804/ é˜¿é‡Œäº‘ Redis å¼€å‘è§„èŒƒ - https://www.infoq.cn/article/K7dB5AFKI9mr5Ugbs_px Redis å¿«é€Ÿå…¥é—¨ - æ˜“ç™¾æ•™ç¨‹ - https://www.yiibai.com/redis/redis_quick_guide.html Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡! - https://www.wmyskxz.com/2018/05/31/redis-ru-men-jiu-zhe-yi-pian/ æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„ Github ç¨‹åºå‘˜æˆé•¿ç³»åˆ— ã€More Than Javaã€‘ï¼Œå­¦ä¹ ï¼Œä¸æ­¢ Codeï¼Œæ¬¢è¿ starï¼šhttps://github.com/wmyskxz/MoreThanJava ä¸ªäººå…¬ä¼—å· ï¼šwmyskxzï¼ŒåšæŒåŸåˆ›è¾“å‡ºï¼Œä¸‹æ–¹æ‰«ç å…³æ³¨ï¼Œ2020ï¼Œä¸æ‚¨å…±åŒæˆé•¿ï¼ éå¸¸æ„Ÿè°¢å„ä½äººæ‰èƒ½ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ¬ç¯‡æ–‡ç« å†™å¾—ä¸é”™ï¼Œè§‰å¾— ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€æœ‰ç‚¹ä¸œè¥¿ çš„è¯ï¼Œæ±‚ç‚¹èµï¼Œæ±‚å…³æ³¨ï¼Œæ±‚åˆ†äº«ï¼Œæ±‚ç•™è¨€ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€äººç±»è§‚å¯Ÿæ‰€ã€‘\"å½“ä»£äºº\"æ­£ç»å†çš„ç”Ÿæ´»","slug":"ã€äººç±»è§‚å¯Ÿæ‰€ã€‘\"å½“ä»£äºº\"æ­£ç»å†çš„ç”Ÿæ´»","date":"2020-02-22T04:49:00.000Z","updated":"2020-08-03T09:45:49.133Z","comments":true,"path":"2020/02/22/ren-lei-guan-cha-suo-dang-dai-ren-zheng-jing-li-de-sheng-huo/","link":"","permalink":"http://www.wmyskxz.com/2020/02/22/ren-lei-guan-cha-suo-dang-dai-ren-zheng-jing-li-de-sheng-huo/","excerpt":"","text":"ä¸€ã€â€å³æ—¶æ»¡è¶³â€çš„äº’è”ç½‘ â€œè½»å¾®çƒ¦èºï¼Œå¶å°”è‡ªç‡ƒï¼Œå½“ä»£ç”Ÿæ´»å¤šæ•°æ—¶åˆ»çš„å¿ƒæƒ…åŸºè°ƒã€‚â€ å¦‚æœä½ å‡ºç”Ÿäºä¸Šä¸ªä¸–çºªï¼Œåº”è¯¥èƒ½æ˜ç™½æœ¨å¿ƒçš„ã€Šä»å‰æ…¢ã€‹é‡Œçš„ ã€Œä»å‰çš„æ—¥è‰²å˜å¾—æ…¢ï¼Œè½¦ã€é©¬ã€é‚®ä»¶éƒ½æ…¢ã€ è¿™ç§æƒ…æ€€æ˜¯ä»ä½•è€Œæ¥ï¼Œä½†å¦‚æœä½ æ˜¯ä¸€ä½å‡ºç”Ÿåœ¨äº’è”ç½‘æ—¶ä»£çš„ ã€Œç½‘ç»œåŸä½æ°‘ã€ï¼Œå¯¹è¿™é¦–è¯—é‡Œå½¢å®¹çš„ç”Ÿæ´»ï¼Œä½ å¾ˆå¯èƒ½å·²ç»å½»åº•å¤±å»äº†æ„Ÿå—å®ƒçš„æœºä¼šã€‚ ä¹°ä¸œè¥¿æœ‰å¿«é€’ï¼Œåƒé¥­å«å¤–å–ï¼Œä¸Šç½‘é æ™ºèƒ½æ‰‹æœºï¼Œå·¥ä½œç”¨ç”µè„‘ï¼Œä¸€åˆ‡éƒ½éšæ—¶ä¾›åº”ã€ç«‹ç­‰å¯å–ã€‚åªè¦æ˜¯æŠ€æœ¯èƒ½è§£å†³çš„é—®é¢˜ï¼Œæ²¡æœ‰ä»€ä¹ˆéœ€è¦ä½ ç­‰å¤ªä¹…ã€‚ ä¸€ä¸ªåœ¨æœ€è¿‘å‡ å¹´ç›¸å½“å¸¸è§çš„è®¨è®ºæ˜¯ï¼Œäº’è”ç½‘æ—¶ä»£çš„äººä»¬æ˜¯ä¸æ˜¯å˜å¾—è¶Šæ¥è¶Šæ²¡è€å¿ƒäº†ã€‚ä¸ç®¡æ˜¯ ã€ŒIWWIWWIWIï¼ˆI want what I want when I want itï¼‰ã€ï¼Œæˆ–æ˜¯ ã€Œæ³¨æ„åŠ›ä¸è¶³ç—‡ï¼ˆAttention Deficit Disorderï¼‰ã€ï¼Œä»¥åŠ ã€ŒCulture of Impatienceï¼ˆä¸è€çƒ¦æ–‡åŒ–ï¼‰ã€ï¼Œéƒ½æ˜¯å¯¹è¿™ç§è¶‹åŠ¿ä¸‹äººç±»å¿ƒæ€å˜åŒ–çš„æ‹…å¿§ã€‚ è¿™ç§æ‹…å¿§ç¡®å®ä¸æ— é“ç†ï¼šæ‰‹æœºè¯»æ–‡ç« ã€Œå¤ªé•¿ä¸çœ‹ï¼ˆTLDRï¼Œtoo long, didnâ€™t readï¼‰ã€ï¼Œæ‰€ä»¥æœ‰äº†æ ‡é¢˜å…šï¼›æµåª’ä½“æ—¶ä»£å¬ä¼—å¬æ­Œåˆ‡æ­Œéƒ½å¾ˆæ–¹ä¾¿ï¼Œå¯¼è‡´æµè¡Œæ­Œæ›²çš„é•¿åº¦ä¹Ÿè·Ÿç€ç¼©çŸ­ï¼›æ ¹æ®å“¥ä¼¦æ¯”äºšå¤§å­¦ 2009 å¹´çš„ç ”ç©¶ï¼Œç½‘ç«™é€Ÿåº¦å¿« 1 æ¯«ç§’ï¼Œæ¯å¹´å¸¦æ¥çš„æ”¶ç›Šå¯ä»¥è¶…è¿‡ä¸€äº¿ç¾å…ƒã€‚ å‡å¦‚è¯´äº’è”ç½‘çœŸæœ‰ä»€ä¹ˆæ°¸è¿œä¸å˜çš„è¶‹åŠ¿çš„è¯ï¼Œâ€œå¿«ï¼Œè€Œä¸”è¶Šæ¥è¶Šå¿«â€å¤§æ¦‚æ˜¯æœ€æ˜æ˜¾çš„ç­”æ¡ˆã€‚ ã€Œå³æ—¶æ»¡è¶³ã€ å’Œ ã€Œå»¶è¿Ÿæ»¡è¶³ã€ è¿™å¯¹æ¦‚å¿µæœ€æ—©æ¥è‡ªå­¦æœ¯ç•Œï¼Œç°åœ¨åˆ™å¾€å¾€è¢«æ‹¿æ¥æ¢è®¨äººå’Œäº’è”ç½‘çš„å…³ç³»ã€‚æŒ‰ç…§æ·±è°™å¿ƒç†å­¦çš„äº§å“è®¾è®¡è€…ä»¬çš„è§‚ç‚¹ï¼Œäººç±»å¤©æ€§å°±æ˜¯çƒ­çˆ±å³æ—¶æ»¡è¶³ã€è®¨åŒç­‰å¾…çš„ï¼Œåªæ˜¯å›¿äºæ—¶é—´ç©ºé—´æ‰€ä»¥è¢«è¿«å…‹åˆ¶è€Œå·²ã€‚ä»è¿™ä¸ªè§’åº¦è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯ã€Œå˜å¾—ã€æ²¡è€å¿ƒäº†ï¼Œè€Œæ˜¯æœ¬æ¥å°±æ²¡å•¥è€å¿ƒï¼Œè¢«é«˜é€Ÿäº’è”ç½‘æ”¹å˜äº†å¿ƒç†æœŸå¾…ä¹‹åï¼Œé€®ç€äº†æœºä¼šæŠŠã€Œæ²¡è€å¿ƒã€å‘æŒ¥åˆ°æ–¹æ–¹é¢é¢è€Œå·²ï¼šæœ‰äº†ã€Œç”¨ç§’è®¡ç®—ã€çš„é¢„æœŸä¹‹åï¼Œå†å›å¤´çœ‹ã€Œä»¥å¤©ä¸ºå•ä½ã€å½“ç„¶ä¸èƒ½å¿ã€‚é•¿ä¹…ä»¥æ¥äººç±»ä¹ æƒ¯äº†ã€Œæ˜¥ç§æ˜¯ä¸ºäº†ç§‹æ”¶ã€çš„å»¶è¿Ÿæ»¡è¶³ï¼Œç°åœ¨äº’è”ç½‘ç»ˆäºåˆè®©æˆ‘ä»¬é‡è¿”é‡‡é›†æ—¶ä»£åŸå§‹çš„å¿«ä¹ï¼šã€Œç‚¹ä¸€ä¸‹æ‰‹æœºå±å¹•å°±è·å¾—ä¸€æ¬¡å“åº”ï¼ˆClick-treatï¼‰ã€çš„å¾®å°æ»¡è¶³æ„Ÿï¼Œè·Ÿã€Œæ‘˜åˆ°ä¸€ä¸ªæœå­å°±åƒä¸€ä¸ªã€ä¹Ÿæ²¡å•¥åŒºåˆ«ã€‚å–„äºå–æ‚¦ç”¨æˆ·çš„å•†å®¶ï¼Œå°±æ˜¯è¿™ä¹ˆä¸€ç‚¹ç‚¹æƒ¯åæˆ‘ä»¬çš„ã€‚ ä½†æ˜¯æ³¨æ„äº†ï¼Œæˆ‘ä»¬æåˆ°è¿™äº›ï¼Œå¹¶ä¸ç­‰äºåœ¨è¯´ã€Œå½“ä»£ç¤¾ä¼šè¶Šæ¥è¶Šæµ®èºã€ã€‚ã€Œæµ®èºã€è¿™ä¸ªæŒ‡æ§æ¯•ç«Ÿæœ‰ç‚¹å¤§ï¼Œè¶…è¿‡äº†æˆ‘ä»¬æœ¬æ¬¡è®¨è®ºçš„èŒƒå›´ã€‚æˆ‘ä»¬ä¹Ÿä¸æ”¯æŒæŠŠã€Œå³æ—¶æ»¡è¶³ã€å’Œã€Œå»¶è¿Ÿæ»¡è¶³ã€å¯¹ç«‹èµ·æ¥ï¼Œå°†å‰è€…å•çº¯åœ°ç†è§£æˆç›®å…‰çŸ­æµ…æˆ–è€½äºäº«ä¹ã€‚æˆ‘ä»¬åªèƒ½è°¨æ…åœ°å°†ç°çŠ¶é™ˆè¿°ä¸ºã€Œç”Ÿæ´»å®¹é”™ç‡åœ¨å˜ä½ã€ï¼šäººä»¬å¯¹ä¼—å¤šç¯èŠ‚çš„å¿ƒç†è€—æ—¶éƒ½åœ¨ç¼©çŸ­ï¼Œä»»ä½•ä¸æƒ³è±¡ä¸ç¬¦çš„ç»†èŠ‚ï¼Œéƒ½æœ‰å¯èƒ½ä¼šå¼•å‘ä¸è€çƒ¦ã€‚ æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨äº’è”ç½‘çš„æ—¶å€™ï¼Œå½“ä»£äººçš„è€å¿ƒä¸€èˆ¬èƒ½åšæŒå¤šä¹…å‘¢ï¼Ÿ 10 ä¸ªè·Ÿè€å¿ƒæœ‰å…³çš„æ•°å­—30 ç§’ï¼š åœ¨è°ƒç ”å…¬å¸ Onepoll çš„ä¸€é¡¹å…³äºç½‘è´­ä½“éªŒçš„è°ƒæŸ¥ä¸­ï¼Œæœ‰ä¸€åŠçš„å—è®¿è€…è¡¨ç¤ºï¼Œåªè¦ä»˜æ¬¾æµç¨‹æŒç»­è¶…è¿‡åŠåˆ†é’Ÿï¼Œä»–ä»¬å°±å¯èƒ½ä¼šå¤±å»è€å¿ƒã€‚1/4 çš„äººä¼šä¸­æ­¢åœ¨é‡æ–°è¾“å…¥åœ°å€è¿™ä¸ªç¯èŠ‚ï¼Œ1/3 çš„äººåˆ™ä¼šåœ¨é‡è¾“ä¿¡ç”¨å¡ä¿¡æ¯çš„æ—¶å€™æ”¾å¼ƒè´­ä¹°ã€‚ 15 ç§’ï¼šæ ¹æ®ç½‘ç«™è®¾è®¡å…¬å¸ Go-gulfï¼Œåœ¨äº’è”ç½‘ä¸Šï¼Œ55% çš„é¡µé¢å¾—åˆ°çš„å…³æ³¨æ—¶é—´éƒ½ä¸è¶…è¿‡ 15 ç§’ã€‚äººä»¬åœ¨æµè§ˆç½‘é¡µæ—¶çš„å¹³å‡æ³¨æ„åŠ›æ—¶é•¿ï¼Œä» 2000 å¹´çš„ 12 ç§’é™ä½åˆ°äº†ä»Šå¹´çš„ 8 ç§’ã€‚ 20%ï¼šåŒæ ·æ¥è‡ª Go-gulfï¼Œå½“äººä»¬æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œå¹³å‡åªä¼šçœ‹å…¶ä¸­å¤§çº¦ 20% çš„å†…å®¹ï¼Œä¸€ç¯‡æ–‡ç« åªæœ‰ 10-20% çš„äººä¼šæ»‘åˆ°æœ€åè¯»å®Œã€‚ 2 ç§’ï¼š2012 å¹´ï¼Œä¸€é¡¹æ¥è‡ªé©¬è¨è¯¸å¡å¤§å­¦é˜¿é»˜æ–¯ç‰¹åˆ†æ ¡çš„ç ”ç©¶å‘ç°ï¼Œåœ¨çº¿è§†é¢‘ç¼“å†²æ—¶é—´åªè¦è¶…è¿‡ 2 ç§’ï¼Œäººä»¬å°±ä¼šå¼€å§‹ä¸è€çƒ¦ã€‚ç½‘é€Ÿå¿«çš„ç”¨æˆ·æ„¿æ„ç­‰å¾…çš„åŠ è½½æ—¶é—´ï¼Œæ¯”ç½‘é€Ÿæ…¢çš„ç”¨æˆ·è¿˜è¦æ›´çŸ­ä¸€äº›ã€‚ 6 ç§’ï¼šYouTube åœ¨ç§»åŠ¨å®¢æˆ·ç«¯ä¸Šçš„è´´ç‰‡å¹¿å‘Šæ—¶é•¿ã€‚YouTube ä»å»å¹´å¼€å§‹åŠ›æ¨ 6 ç§’å¹¿å‘Šäº§å“ï¼Œç”¨æ¥å–ä»£åŸæ¥çš„ 30 ç§’æ—¶é•¿çš„è´´ç‰‡å¹¿å‘Šã€‚ 3.5 åˆ†é’Ÿï¼šBillboard çš„ç»Ÿè®¡æ˜¾ç¤ºï¼Œå•æ›²æ¦œä¸­æ­Œæ›²çš„æ—¶é•¿ä¸­ä½æ•°åœ¨ 2000 å¹´æ˜¯ 4 åˆ† 6 ç§’ï¼Œ2010 å¹´æ˜¯ 3 åˆ† 40 å¤šç§’ï¼Œä»Šå¹´è¿›ä¸€æ­¥ä¸‹é™åˆ°äº† 3 åˆ† 31 ç§’ï¼Œ18 å¹´é—´ç¼©çŸ­äº† 35 ç§’ã€‚ 5 ç§’ï¼šSpotify åœ¨ 2014 å¹´çš„ä¸€é¡¹æŠ¥å‘Šæ˜¾ç¤ºï¼Œ21% çš„æ­Œæ›²åœ¨æ’­æ”¾ 5 ç§’åå°±ä¼šè¢«åˆ‡æ­Œã€‚åœ¨æˆ‘æ‰€å‘èµ·çš„å¼€æ”¾å¼è°ƒæŸ¥â€œä½ æœ‰å“ªäº›å¬æ­Œä¹ æƒ¯â€ä¸­ï¼Œæ’åç¬¬ä¸€ä½çš„è¡¨æ€ä¹Ÿæ˜¯â€œä¸€è¾¹ç”¨éšæœºæ’­æ”¾æˆ–çŒœä½ å–œæ¬¢ï¼Œä¸€è¾¹ä¸æ–­ç‚¹å‡»è·³è¿‡â€ã€‚ 10 ç§’ï¼šä¸ºäº†æŠ“ä½å¬ä¼—çš„æ³¨æ„ï¼Œæ­Œæ›²çš„å‰å¥ä¹Ÿåœ¨å˜çŸ­ã€‚2017 å¹´ï¼ŒéŸ³ä¹å¿ƒç†å­¦æœŸåˆŠ Musicae Scientiae ä¸Šçš„ä¸€ç¯‡ç ”ç©¶åˆ†æäº† 303 é¦–çƒ­é—¨å•æ›²åå¾—å‡ºç»“è®ºï¼Œ1980 å¹´ä»£æ­Œæ›²çš„å‰å¥æ™®éè¶…è¿‡ 20 ç§’ï¼Œç°åœ¨åªæœ‰ 10 ç§’ä¸åˆ°ã€‚ 1 ä¸ªå•è¯ï¼šè°ƒç ”å…¬å¸ priceonomics å‰å¹´è§‚å¯Ÿäº† Billboard Hot 100 æ¦œå•çš„å†å¹´æ•°æ®ï¼Œå‘ç°æ­Œåé•¿åº¦åªæœ‰ä¸€ä¸ªå•è¯çš„æ­Œæ›²å‡ºç°åœ¨æ¦œå•ä¸­çš„æ¦‚ç‡æ˜¯ 60 å¹´ä»£çš„ 2.5 å€ï¼Œä¸æ­¤åŒæ—¶ï¼Œæ­Œæ›²åå­—çš„å¹³å‡å­—æ•°ç›¸æ¯” 60 å¹´ä»£ä¹Ÿæœ‰äº†å¤§å¹…ä¸‹é™ã€‚ å‡ ä¸ªå°æ—¶ï¼šæ¥è‡ª Yougov ä»Šå¹´çš„è°ƒæŸ¥ã€‚å¯¹äºâ€œå¦‚æœä¸ç®—ä¸Šå·¥ä½œä¸­å¿…é¡»æ‰“å¼€æ‰‹æœºçš„æƒ…å†µï¼Œä½ å¯ä»¥å¤šä¹…ä¸çœ‹æ‰‹æœºâ€è¿™ä¸ªé—®é¢˜ï¼Œ31% çš„äººé€‰çš„æ˜¯â€œå‡ ä¸ªå°æ—¶â€ï¼Œè¿™ä¸ªç­”æ¡ˆçš„æ¯”ä¾‹æœ€é«˜ã€‚17% çš„äººè¯´â€œå¯ä»¥åº¦è¿‡ä¸€æ•´å¤©â€ï¼Œåªæœ‰ 13% çš„äººèµåŒâ€œæ²¡æ‰‹æœºä¹Ÿå¯ä»¥è¿‡ä¸Šå¥½å‡ å¤©â€ã€‚ çœ‹ä¸Šå»ï¼Œç°å¦‚ä»Šæˆ‘ä»¬çš„ç­‰å¾…é—¨æ§›ç¡®å®å˜é«˜äº†ä¸€äº›ï¼Œæ¯ä¸€ä¸ªçè´µçš„åœç•™æ—¶é—´ï¼Œå‡ ä¹éƒ½å¯ä»¥ç”¨ç§’æ¥è®¡ç®—ã€‚ 3 ä¸ªå³æ—¶æ»¡è¶³æ—¶ä»£å‡ºç°çš„æ–°é—®é¢˜å½“ç„¶äº†ï¼Œã€Œå³æ—¶æ»¡è¶³ã€çš„ç”Ÿæ´»æ–¹å¼ä¸ä»…æ°¸è¿œæ”¹å˜äº†æˆ‘ä»¬çš„å¹³å‡è€å¿ƒæ°´å¹³ï¼Œè¿˜å¸¦æ¥äº†å‡ ä¸ªè·Ÿå®ƒæœ‰å…³çš„æ–°é—®é¢˜ï¼š 1. çŸ¥è¯†è¶Šæ¥è¶Šæ˜“å¾—ï¼Œâ€œå³æ—¶å­¦ä¹ â€å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯å¥½äº‹å—ï¼Ÿ æœç´¢å¼•æ“ã€ç”µå­ä¹¦ã€çŸ¥è¯†ä»˜è´¹ã€å…¬ä¼—å·ã€é—®ç­” appã€â€œä¸€åˆ†é’Ÿå­¦ä¼šxxxâ€å¼æ•™ç¨‹ï¼Œæ¯ä¸ªéƒ½åœ¨è‡´åŠ›äºè®©ç¼ºä¹è€å¿ƒçš„äººä»¬â€œæ›´ä¾¿åˆ©ã€æ›´å³æ—¶åœ°è·å¾—çŸ¥è¯†â€ã€‚ä½†æ˜¯ï¼Œå°±åƒé‚£å¥â€œä¹°ä¹¦ä¸å¦‚å€Ÿä¹¦â€çš„è°ƒä¾ƒä¸€æ ·ï¼ŒçŸ¥è¯†å”¾æ‰‹å¯å¾—ï¼Œä½ çœŸçš„ä¼šå› æ­¤æ›´çƒ­çˆ±çŸ¥è¯†ï¼Œè¿˜æ˜¯ä¼šè§‰å¾—å®ƒä»¬å°±åƒè‡ªçƒ­é£Ÿå“ä¸€æ ·å¿«æ·è¿…é€Ÿå´ä¸å¾—çœŸå‘³ï¼Ÿåˆæˆ–è€…ï¼Œä½ ç¡®å®é€šè¿‡å®ƒä»¬è·å¾—äº†å¤§é‡äºŒæ‰‹çŸ¥è¯†ï¼Œä½†ä½ åˆå¦‚ä½•ä¿è¯ï¼Œä½ å¯¹å®ƒä»¬çš„ä¹ æƒ¯æ€§ä¿¡ä»»ä¸ä¼šè®©è‡ªå·±å½¢æˆã€Œæ²¡æœ‰ç­”æ¡ˆå¯æŠ„å°±ä¸ä¼šå†™ä½œä¸šã€çš„ä¹ æƒ¯æ€§æ— åŠ©å‘¢ï¼Ÿ 2. â€œå³æ—¶å“åº”â€çš„ç¤¾äº¤åª’ä½“ï¼Œèƒ½è®©è°ˆå¯¹è±¡è¿™äº‹å„¿å˜å¾—å®¹æ˜“äº›å—ï¼Ÿ æˆ‘ä»¬é€šè¿‡ç¤¾äº¤ç½‘ç»œè¡¨è¾¾çš„å†…å®¹å’Œå½¢å¼è¶Šæ¥è¶Šå¤æ‚ï¼ˆèŠå¤©/å±è”½/æ‹‰é»‘/éšèº«â€¦â€¦ï¼‰ï¼Œè¶Šæ¥è¶Šä¹ æƒ¯éš”ç€å±å¹•äº¤æµï¼Œå†åŠ ä¸Šå„å¼å„æ ·çš„å¨±ä¹å æ®äº†æœ¬å°±æˆ‘ä»¬ä¸å¤šçš„æ³¨æ„åŠ›ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦åŸ¹å…»çš„ã€ã€Œéå³æ—¶ã€çš„äº²å¯†å…³ç³»è¿˜ç®—äººç”Ÿå¿…é¡»å“å—ï¼Ÿå¦‚æœæœ‰ä¸€å¤© AI æˆä¸ºäº†äººç±»çš„ã€Œå³æ—¶ä¼´ä¾£ã€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€—è´¹è€å¿ƒå»è·Ÿäººè°ˆå¯¹è±¡å—ï¼Ÿ 3. å·¥ä½œè¶Šæ¥è¶Šã€Œå³æ—¶åŒ–ã€ï¼Œæˆ‘ä»¬ä¼šä¸ä¼šå½»åº•ã€Œç¤¾ç•œåŒ–ã€ï¼Ÿ å¦‚æœè¯´è¿‡å»ä½ è¿˜å¯ä»¥å€Ÿä¸‹ç­å’Œä¼‘å‡ä¸ºç”±é€ƒé¿å·¥ä½œçš„è¯ï¼Œç°åœ¨å¤§æ¦‚æ˜¯å½»åº•ä¸å¯èƒ½äº†ï¼Œå³æ—¶é€šè®¯è®©ä½ èµ°åˆ°å“ªé‡Œéƒ½å¯ä»¥å¼€ä¼šã€è°ˆå…¬äº‹ã€å›é‚®ä»¶ï¼Œé™¤éæ–­ç½‘æ–­ç”µï¼Œå¦åˆ™ä½ çš„å·¥ä½œè·Ÿç”Ÿæ´»åŸºæœ¬ä¸Šå°±æ˜¯æ— ç•Œçš„ã€‚è‡ªç”±èŒä¸šã€åœ¨å®¶åŠå…¬ã€è¿œç¨‹åŠå…¬ã€å¼¹æ€§å·¥ä½œâ€¦â€¦ä¸Šç­å¯ä»¥é‡‡å–ä»»ä½•å½¢å¼ã€è¢«æ¬åˆ°ä»»ä½•åœ°æ–¹ã€‚å½“ä»£äººçš„ä¼‘æ¯æ—¶é—´æœ¬å°±æ‰€å‰©æ— å‡ ï¼Œè®²ç©¶æ•ˆç‡ã€ã€Œå³æ—¶åé¦ˆã€çš„å·¥ä½œæ–¹å¼ä¼šä¸ä¼šè®©æˆ‘ä»¬è¿›ä¸€æ­¥å˜æˆå·¥ä½œçš„å¥´éš¶å‘¢ï¼Ÿ æ€»çš„æ¥è¯´ï¼Œåœ¨è¶Šæ¥è¶Šå¿«çš„å½“ä»£ç”Ÿæ´»ï¼Œç­‰å¾…ç¡®å®æ˜¯æ­£åœ¨ä¸€ç‚¹ç‚¹åœ°ã€æœ‰æ„æ— æ„åœ°è®©æ­¥äºé€Ÿåº¦ã€‚ä½†æˆ‘ä»¬å¹¶ä¸èƒ½å› æ­¤æŒ‡è´£å½¼æ­¤çš„æ²¡è€å¿ƒï¼Œæ¯•ç«Ÿä¸ºå³æ—¶æ»¡è¶³è€Œæ„‰æ‚¦çš„æ˜¯æˆ‘ä»¬ï¼Œä¸ºå®ƒæ‰€è‹¦çš„ä¹Ÿæ˜¯æˆ‘ä»¬ã€‚ åŸºäºæ­¤ï¼Œä½ èƒ½ç¨ç¨æé†’è‡ªå·±çš„å°±æ˜¯ï¼Œæ²¡è€å¿ƒæ— å¯åšéï¼Œä½†ä¹Ÿå¾—ç”¨å¯¹äº†åœ°æ–¹ï¼Œä¸€è¾¹è¯´ã€Œæˆ‘ä¸€ç§’éƒ½ç­‰ä¸äº†ã€ï¼Œä¸€è¾¹ç”¨æ‹–å»¶ç—‡æµªè´¹å…‰é˜´çš„è‡ªç›¸çŸ›ç›¾å°‘ä¸€ç‚¹ï¼Œä½ åœ¨è¿™ä¸ªå¹¶ä¸å‹å¥½çš„ä¸–ç•Œèƒ½è·å¾—çš„è€å¿ƒå’Œæ—¶é—´ï¼Œæˆ–è®¸å°±å¯ä»¥å¤šä¸€äº›ã€‚ äºŒã€ä¸ç»æ„è¿‡ä¸Šçš„â€äºŒæ‰‹äººç”Ÿâ€ â€œå½“ä½ å‘ç°ï¼Œä½ ç”Ÿæ´»é‡Œçš„æ‰€æœ‰é—®é¢˜ï¼Œåœ¨ç½‘ä¸Šéƒ½èƒ½æ‰¾åˆ°ç­”æ¡ˆï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œä½ çš„æ•´ä¸ªç”Ÿæ´»ï¼Œåˆ«äººå·²ç»è¿‡è¿‡äº†ã€‚â€ äºŒæ‰‹äººç”Ÿæ˜¯è¿™æ ·ä¸€ç§å¤„å¢ƒï¼šä½ å‘ç°ä½ åœ¨ç”Ÿæ´»é‡Œé‡åˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œåœ¨æœç´¢å¼•æ“é‡Œéƒ½èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚ æ¯”å¦‚è¯´ï¼Œæ€ä¹ˆæ­é…è¡£æœæ‰ä½è°ƒä¼˜é›…ï¼Œå»å“ªåƒé¥­ä¾¿å®œåˆç¾å‘³ï¼Œä¹°å“ªæ¬¾è€³æœºæ›´åˆ’ç®—ï¼Œå·¥ä½œè¿˜æ˜¯è€ƒç ”ï¼Œè¦ä¸è¦å…¥æ‰‹æ¯”ç‰¹å¸ï¼Œéƒ½æœ‰äººæ›¿ä½ è§£ç­”äº†ã€‚ä½ è¿˜å‘ç°æœ‰ä¸€æ‰¹äººç”¨ç…§ç‰‡ã€è§†é¢‘ã€æ®µå­ã€å¹¿å‘Šä¸ºä½ æä¾›äº†ä¸€ä¸ªç²¾å¿ƒåŠ å·¥è¿‡çš„ä¸–ç•Œï¼Œè¿™ä¸ªä¸–ç•Œå¸¸å¸¸æ¯”ä½ è‡ªä¸ªå„¿çš„ä¸–ç•Œè¦ç¾ä¸½æœ‰è¶£æ·±åˆ»å¥½ç¬‘æœ‰å“ä½å¾—å¤šã€‚å¦‚æœæŠŠå½“ä»£ç”Ÿæ´»æ¯”ä½œä¸€åœºå¼€å·è€ƒï¼Œæ¯”èµ·ä½ è‡ªå·±æ…¢æ…¢æ‰¾ç­”æ¡ˆï¼Œè¾¾äººä»¬å·²ç»ä¸ºä½ æä¾›äº†ä¸€å¥—é«˜åˆ†ç­”æ¡ˆæ”¾åˆ°ä½ é¢å‰è®©ä½ å‚è€ƒã€‚ æ³¨æ„ï¼Œä½ å¾ˆæœ‰å¯èƒ½è¿è¿™äº›é«˜åˆ†ç­”æ¡ˆä¹Ÿçœ‹ä¸ä¸Šï¼Œä½†é‚£å¤šåŠå»ºç«‹åœ¨ä½ å·²ç»å¯¹ç”Ÿæ´»çš„è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ç»†èŠ‚æœ‰æ‰€æ€è™‘çš„åŸºç¡€ä¸Šï¼Œåªä¸è¿‡ä½ è¿˜æ²¡å¾—å‡ºå±äºè‡ªå·±çš„æ˜ç¡®ç»“è®ºã€‚æ›´æœ‰å¯èƒ½çš„æ˜¯ï¼Œä½ è§‰å¾—æ€è™‘æœ¬èº«å°±ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œæ‰€ä»¥æ¯«æ— è­¦æƒ•åœ°æ¥å—äº†é«˜åˆ†ç­”æ¡ˆã€‚ æˆ–è€…ä¸æ˜¯é«˜åˆ†ç­”æ¡ˆä¹Ÿæ²¡å…³ç³»ã€‚åæ­£ã€Œå…³äºè¿™ä»¶äº‹ä»–ä»¬éƒ½æ˜¯è¿™æ ·è¯´çš„ã€ã€‚ è®©æˆ‘ä»¬å‡è®¾ä¸€ç§å¬èµ·æ¥æœ‰ç‚¹æ‚²ä¼¤çš„çŠ¶å†µï¼šä½ ä¹°çš„ä¸œè¥¿æ˜¯ç‚¹è¯„åˆ†æ•°æœ€é«˜çš„ã€çœ‹çš„ä¹¦æ˜¯å¤§ V çš„æ¨èã€æ‹ç…§ç”¨çš„æ˜¯ Instagram åšä¸»çš„ poseã€æ—…æ¸¸å»çš„æ˜¯ã€Œä¸èƒ½é”™è¿‡çš„ 20 ä¸ªæ‰“å¡åœ£åœ°ã€ã€æƒ…äººèŠ‚ä¹°çš„ç¤¼ç‰©æ˜¯çŸ¥ä¹æœå‡ºçš„ã€Œæœ€é€‚åˆé€ç”·æœ‹å‹çš„ç¤¼ç‰©ã€ï¼Œä½ çš„è§‚ç‚¹æ˜¯ä»åˆ«äººã€Œå¦‚ä½•çœ‹å¾…æŸä»¶äº‹ã€æ¥çœ‹å¾…æŸä»¶äº‹ï¼Œä½ çš„ä½“éªŒæ˜¯æŒ‰ç…§åˆ«äººã€Œå‘Šè¯‰ä½ æ˜¯ä¸€ç§æ€æ ·çš„ä½“éªŒã€å»ä½“éªŒçš„ã€‚ä½ å…»æˆäº†ä¸€ä¸ªå­¦ç”Ÿå¼ä¹ æƒ¯ï¼Œå½“ç”Ÿæ´»ç»™ä½ å‘äº†ä¸€ä»½æ–°å·å­ï¼Œä½ çš„ç¬¬ä¸€ååº”å°±æ˜¯å…ˆç¿»åˆ°ç½‘ä¸Šï¼Œå»çœ‹å‚è€ƒç­”æ¡ˆã€‚ æ‚²ä¼¤å—ï¼Ÿæœ‰ä¸€ç§æ–°çš„æ‚²ä¼¤æ˜¯ä½ ä¸è§‰å¾—ä»¥ä¸Šè¿™äº›æœ‰ä»€ä¹ˆå¯æ‚²ä¼¤çš„ã€‚ æˆ‘ä»¬å¤§å¤šæ•°äººå¯¹ã€Œåœ°çƒæ˜¯åœ†çš„ã€æ·±ä¿¡ä¸ç–‘ï¼Œå› ä¸ºè¯¾æœ¬è¿™ä¹ˆå†™ï¼Œæƒå¨ä¸“å®¶ç»™çš„è¯æ®è¿™ä¹ˆè¯´ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹è¯¾æœ¬å’Œæƒå¨ä¸“å®¶ï¼Œæœ‰ç»è¿‡ç†æ€§æ€è€ƒåçš„ä¹ æƒ¯æ€§ä¿¡ä»»ã€‚åæ¥è¿™ç§ä¿¡ä»»ç”¨åœ¨äº†å¸‚åœºä¸Šçš„å“ç‰Œå•†å®¶ï¼Œä»–ä»¬æä¾›æ ‡å‡†åŒ–æœåŠ¡ï¼Œå‡†ç¡®å¾—å°±åƒå®‡å®™å®šç†ä¸€æ ·ä¸è¢«æ€€ç–‘ï¼Œä½ éšæ‰‹æ‰“å¼€ä»»æ„ä¸€ç½è‡ªåŠ¨å”®è´§æœºä¹°çš„å¯å£å¯ä¹ï¼Œéƒ½èƒ½æ¯«æ— æˆ’å¿ƒåœ°çŒè¿›è‚šå­ï¼Œæ—¢ä¸ä¼šæ‹…å¿ƒæœ‰æ¯’ä¹Ÿä¸ä¼šæƒŠè®¶äºå®ƒæœ‰å†²é¼»çš„æ°”æ³¡ã€‚ç°åœ¨è¿™ç§ä¿¡ä»»ä¹ æƒ¯è¢«å»¶ä¼¸åˆ°å„ç§æµ‹è¯„æ’è¡Œæ¦œã€è±†ç“£è¯„åˆ†ã€æ·˜å®ä¹°å®¶ç§€ã€Instagram åšä¸»ã€çŸ¥ä¹å¤§ Vï¼Œä»–ä»¬å‘Šè¯‰ä½ ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œç»å†ç”Ÿæ´»æ˜¯ä¸€ç§æ€æ ·çš„ä½“éªŒï¼Œæ€ä¹ˆç»å†ç”Ÿæ´»æ‰æ˜¯æœ€æ˜æ™ºçš„ï¼Œä»–ä»¬ä¸ºä½ æ‹¼å‡‘å‡ºäº†ä¸€ä¸ªç»è¿‡ç­›é€‰çš„äººç”Ÿæ ·æœ¬ï¼Œç…§ç€åšå°±è¡Œã€‚ æ³•å›½å­¦è€…å±…ä¾Â·å¾·æ³¢åœ¨ã€Šæ™¯è§‚ç¤¾ä¼šã€‹ä¸€ä¹¦é‡Œï¼ŒæŠŠæ™¯è§‚æè¿°æˆã€Œé€šè¿‡å½±åƒä¸»å¯¼çš„æ–°å‹ç¤¾ä¼šå…³ç³»ã€ï¼Œåœ¨æ™¯è§‚ç¤¾ä¼šé‡Œï¼Œå•†å“çš„å…³ç³»å–ä»£äººçš„å…³ç³»ã€‚äººä»¬å› ä¸ºå¯¹æ™¯è§‚çš„è¿·å…¥è€Œä¸§å¤±è‡ªå·±å¯¹çœŸæ­£ç”Ÿæ´»çš„æ¸´æœ›å’Œè¦æ±‚ã€‚å¾·æ³¢è®¤ä¸ºè§‚ä¼—è‡ªå·±æ²¡æœ‰æ€è€ƒï¼Œå±ˆä»äºçœ‹åˆ°çš„æ™¯è§‚ï¼Œå½“ä»–é¢„æœŸå¾—è¶Šå¤šä»–ç”Ÿæ´»å¾—å°±è¶Šå°‘ï¼›ä»–å¯¹å½±åƒè®¤åŒå¾—è¶Šå¤šï¼Œä»–å¯¹è‡ªå·±çš„ç”Ÿå­˜å’Œæ¬²æœ›å°±ç†è§£å¾—è¶Šå°‘ã€‚ä¸ªäººçš„å§¿åŠ¿ä¸å†æ˜¯ä»–è‡ªå·±çš„ï¼Œè€Œæ˜¯å±•ç¤ºè¿™äº›å§¿åŠ¿ç»™ä»–çœ‹çš„å¦å¤–ä¸€ä¸ªäººçš„ã€‚ æè¯·å„ä½æ³¨æ„ï¼Œæ­¤å¤„ç½—åˆ—è¿™äº›ï¼Œå¹¶ä¸æ„å‘³ç€æœ¬æ–‡å¯¹ç”Ÿæ´»æŒæœ‰ä¸€ç§ä¸å¯çŸ¥è®ºçš„æ€åº¦ï¼ˆäººäººè¯´è¯éƒ½æ˜¯ä¸ºäº†è‡ªå·±çš„åˆ©ç›Šï¼Œæ ¹æœ¬æ²¡äººè¯´çš„æ˜¯çœŸçš„ï¼‰ï¼Œä¹Ÿç»ä¸æ„å‘³ç€æˆ‘ä»¬æå€¡æ‘’å¼ƒä¸€åˆ‡ç»éªŒï¼Œç›²ç›®æ— ç•å¼€åˆ›è‡ªæˆ‘ï¼ˆæ¯”å¦‚ã€Œè±†ç“£ä»€ä¹ˆçš„è¯„åˆ†æˆ‘æ ¹æœ¬ä¸ä¿¡ï¼Œåˆ«äººè¯´çƒ‚ç‰‡æˆ‘å°±è¦å»çœ‹ä¸€çœ‹æ˜¯ä¸æ˜¯æœ‰äººæ•…æ„æŠ¹é»‘ã€ï¼‰ã€‚æˆ‘ä»¬åªæ˜¯å¯¹ç”Ÿæ´»ä¸ºä½•åƒç¯‡ä¸€å¾‹æå‡ºä¸€ç§å¾®å¼±çš„è­¦å‘Šâ€”â€”ä½ åœ¨è¿‡è‡ªå·±çš„æ—¥å­ï¼Œè¿˜åœ¨è¿‡åˆ«äººå¸Œæœ›ä½ è¿‡çš„æ—¥å­ï¼ˆåŒæ—¶è¿˜èŠ±ç€ä½ çš„é’±ï¼‰ï¼Ÿ äºŒæ‰‹ä¸ªæ€§ | ä¸ªä½“å¤©ç”Ÿçš„å·®åˆ«æ˜¯æ€ä¹ˆä¸§å¤±äº†çš„ æ‰€è°“çš„ã€Œä¸ªæ€§ã€ï¼ŒåŸæœ¬æ˜¯ä¸€ä¸ªè’å”çš„å­—çœ¼ï¼Œæ¯ä¸ªäººå¯¹äºä»–äººè€Œè¨€ï¼Œæœ¬æ¥å°±æ˜¯æˆªç„¶ä¸åŒçš„ä¸ªä½“ï¼Œå·®åˆ«æ˜¯å¤©ç„¶å­˜åœ¨çš„ã€‚ä½†äººä»¬åˆååˆ†è¿«åˆ‡åœ°éœ€è¦ä¸ªæ€§ã€‚å¯¹å·®å¼‚åŒ–çš„ä¸ªæ€§è¶Šæ¨å´‡ï¼Œå°±è¶Šè¯´æ˜äº†æˆ‘ä»¬åŒè´¨åŒ–çš„ä¸¥é‡ã€‚ æ³•å›½å­¦è€…è®©Â·é²å¾·é‡Œäºšåœ¨ã€Šæ¶ˆè´¹ç¤¾ä¼šã€‹é‡Œè®¤ä¸ºï¼Œäººä»¬è¿½æ±‚ã€Œä¸ªæ€§ã€ï¼Œå…¶å®åªæ˜¯æ¶ˆææ¥å—ä¸€ç§ç¬¦å·ï¼Œè®©è‡ªå·±è¿›å…¥æˆ–è„±ç¦»æŸä¸ªé›†å›¢ã€‚ã€Œç‰©å“ã€ä¸å†å…·æœ‰æœ¬æ¥çš„æ„ä¹‰ï¼Œè€Œåªæ˜¯ä¸€ç§å¯ä¾›æ¶ˆè´¹çš„ç¤¾ä¼šç¬¦å·ã€‚ æ¶ˆè´¹ç¤¾ä¼šçš„å¦‚ä»Šï¼Œäººä»¬æ—©å·²ç»ä¹ æƒ¯å‡ºè®©éƒ¨åˆ†è‡ªæˆ‘ç»™ç‰©å“ï¼Œè®©ç‰©å“æ›¿ä½ å®Œæˆéƒ¨åˆ†äººç”Ÿã€‚ ä½ ç©¿æ—¥ç³»ä¼˜è¡£åº“è¿˜æ˜¯éŸ©ç³»ä¸œå¤§é—¨ï¼Œä½ æˆ´ç€å°ç±³æ‰‹ç¯è¿˜æ˜¯ Apple Watchï¼Œä½ çš„ä¹¦æ¶ä¸Šæ˜¯éƒ­æ•¬æ˜è¿˜æ˜¯çˆ±ä¸½ä¸é—¨ç½—ï¼Œéƒ½åœ¨æ›¿ä½ è¯´æ˜ä½ æ˜¯ä»€ä¹ˆæ ·çš„äººã€‚ä½ çš„ä¸ªæ€§æ˜¯å¯ä»¥è¢«ä½ æ‹¥æœ‰çš„æ ‡å‡†åŒ–ç‰©å“å®šä¹‰çš„ï¼Œä»…ä»…æ˜¯ã€Œè¡£æŸœé‡Œå…¨æ˜¯ä¼˜è¡£åº“ã€ã€ã€Œä¹¦æ¶ä¸Šæ‘†ç€éƒ­æ•¬æ˜å…¨é›†ã€å¯èƒ½å°±ä¼šè®©ä½ ä½åˆ—æŸç§ã€Œé„™è§†é“¾ã€ä¸‹æ¸¸ã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œåœ¨è¿™ä¸ªè¯„ä»·ä½“ç³»é‡Œï¼Œä½ å’Œæ‰€æœ‰ã€Œè¡£æŸœé‡Œå…¨æ˜¯ä¼˜è¡£åº“ã€ã€ã€Œä¹¦æ¶ä¸Šæ‘†ç€éƒ­æ•¬æ˜å…¨é›†ã€çš„äººæœ‰ç›¸åŒçš„ä¸ªæ€§ã€‚ ä½ çš„ç‹¬ç‰¹æ€§ï¼Œå› ä¸ºä¹°çš„ä¸œè¥¿è€Œæ¶ˆå¤±äº†ã€‚ å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘ä»¬ä¸å±‘äºä¸ä»–äººä¸ºä¼ï¼Œå´åˆå®³æ€•ä¸ä¼—ä¸åŒã€‚ éšå¤„å¯è§çš„é„™è§†é“¾å‘æˆ‘ä»¬è¡¨æ˜äº†ä¸€ä¸ªäº‹å®ï¼šäººä»¬å¯¹ä¸ªæ€§å¹¶æ²¡æœ‰é‚£ä¹ˆå®½å®¹ã€‚å¦‚ä»Šæ‰€è°“çš„ä¸ªæ€§ï¼Œéƒ½æºè‡ªå°ä¼—ï¼Œå› ä¸ºå°ä¼—å°±æ„å‘³ç€ã€Œè·Ÿå¤§å¤šæ•°äººä¸ä¸€æ ·ã€ï¼Œä½†å°ä¼—æœ¬èº«å°±å¿…é¡»åœ¨ã€Œå°ä¼—å†…éƒ¨ã€è¶³å¤Ÿå¤§ä¼—ï¼Œä¸€ä¸ªäººæ˜¯ä¸èƒ½ç§°ä¸ºå°ä¼—çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œã€Œä¸ªæ€§ã€å¿…é¡»è‡³å°‘æ»¡è¶³å°ä¼—çš„æœŸå¾…ã€‚å½“ä¿æŒèº«ææˆä¸ºå“è´¨ç”Ÿæ´»çš„æ™®éæ ‡å‡†æ—¶ï¼Œä¸å¥èº«å°±æ˜¯ç”Ÿæ´»æœªè¾¾æ ‡ï¼Œæ„æˆäº†äººä»¬æ·±å±‚çš„è´Ÿç½ªæ„Ÿï¼Œåœ¨å¥èº«æˆä¸ºæ”¿æ²»æ­£ç¡®çš„æƒ…å½¢ä¸‹ï¼Œä½ æ˜¯æ²¡æœ‰ä¸å¥èº«ä¸ªæ€§çš„ã€‚ æ­¤å¤–ï¼Œæ¶ˆè´¹ç¤¾ä¼šè®²ç©¶ Customer firstï¼Œäºæ˜¯æœ‰äº†ã€Œä¸ªæ€§åŒ–å®šåˆ¶ã€ï¼Œå¸¸å¸¸ä»¥ã€ŒçŒœä½ å–œæ¬¢ã€çš„å˜ä½“å‡ºç°ã€‚ä½†æœ¬è´¨ä¸Šä¹Ÿæ˜¯åœ¨æŠŠä½ åˆ†é—¨åˆ«ç±»ï¼ŒåŠ å¼ºä½ åŸæœ¬å°±å’Œæ•°æ®åº“é‡Œå…¶ä»–ç›¸ä¼¼æ ·æœ¬çš„åå¥½ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„ã€Œç‹¬ç‰¹ã€æ­£åœ¨å˜å¾—è·Ÿå¦å¤–å’Œä½ ç›¸ä¼¼çš„ã€Œç‹¬ç‰¹ã€è¶Šæ¥è¶Šåƒã€‚ äºŒæ‰‹æ„Ÿæƒ… | äººä»¬å¯¹ç»éªŒçš„æ¸´æœ›èƒœè¿‡äº†å¯¹çœŸç†çš„è¿½é—® ä¿¡æ¯æ—¶ä»£çš„æ½®æµï¼Œæ˜¯æ‰€æœ‰éœ€è¦è‡ªå·±äº²èº«ä½“éªŒå’Œæ‘¸ç´¢çš„äº‹ï¼Œéƒ½å…ˆå»æŸ¥æŸ¥æ”»ç•¥å’Œç»éªŒï¼Œçˆ±æƒ…ä¹Ÿä¸ä¾‹å¤–ï¼Œæ€ä¹ˆçº¦ä¼šæ€ä¹ˆæ‹çˆ±æ€ä¹ˆç»´æŒæ€ä¹ˆå¤åˆä»€ä¹ˆæ—¶å€™åˆ†æ‰‹ï¼Œåˆ«äººéƒ½å†™ç€å‘¢ã€‚ é½æ ¼è’™Â·é²æ›¼åœ¨ã€Šå·¥ä½œã€æ¶ˆè´¹ã€æ–°ç©·äººã€‹ä¸­è®¤ä¸ºï¼Œå¯¹å¸‚åœºçš„ä¾èµ–ï¼Œç ´åäº†äººä»¬ç¤¾äº¤èƒ½åŠ›çš„åŸ¹å…»ï¼Œæ‹çˆ±å…³ç³»å˜å¾—çŸ­æš‚æ˜“å˜ï¼Œäººä»¬åªèƒ½æ±‚åŠ©äºå¸‚åœºçš„è´§ç‰©ã€æœåŠ¡å’Œä¸“å®¶çš„æ„è§ã€‚æƒ…ä¾£ä»¬è¿«åˆ‡åœ°å¸Œæœ›é€šè¿‡ç¤¼ç‰©ã€æƒ…ä¾£å¥—é¤å’Œæ‹çˆ±è¯¾æ¥è§£å†³äº²å¯†å…³ç³»ä¸­å‡ºç°çš„é—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†é™ä½å©šæ‹ä¸­å‡ºç°çš„ç§ç§ä¸ç¡®å®šæ€§ï¼Œæœ€å¥½æœ‰ä¸€å¥—æ ‡å‡†åŒ–çš„å…¬å¼æ¥æŒ‡å¯¼ï¼Œå®é™…æ“ä½œæ—¶å¥—ç”¨å°±è¡Œäº†ã€‚äºæ˜¯å¿ƒç†å­¦ä¸Šçš„å„ç§æ•ˆåº”å°±åœ¨æ‹çˆ±ç§˜ç±ä¸­æ ¼å¤–å—æ¬¢è¿ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ ayawawa çš„ã€Œç†è®ºã€çœ‹èµ·æ¥è’è°¬æ— æ¯”ï¼Œå´ä»æœ‰å¤§é‡å¸‚åœºã€‚ äººä»¬æ‰¾å¯¹è±¡ï¼Œä¸å¯é¿å…åœ°ä¼šç”¨ä¸€äº›æŒ‡æ ‡æ¥æè¿°å¯¹æ–¹ï¼Œå’Œä»¥å¾€ä¸åŒçš„æ˜¯ï¼Œäººä»¬æ›´å°‘åœ°ç”¨ã€Œå‹‡æ•¢ã€å–„è‰¯ã€æ­£ç›´ã€è¿™ç±»å“æ ¼è¯æ±‡ï¼Œå› ä¸ºä¸å®¹æ˜“é‡åŒ–ï¼Œå¸‚åœºå¯¼å‘ä¸‹ã€Œæ‰åã€ç¾ä¸½ã€èŒä¸šã€å¹´è–ªã€ï¼Œè¿™ç±»èµ„æºå’Œï¼ˆèƒ½è½¬åŒ–ä¸ºèµ„æºçš„ï¼‰èƒ½åŠ›è¯æ±‡æ›´å¸¸ç§°ä¸ºæ‹©å¶æ ‡å‡†ã€‚ä¸ºäº†è¦æ‰¾ä¸€ä¸ªçˆ±è‡ªå·±çš„äººï¼Œå¾—æ‹¼å‘½æå‡è‡ªå·±çš„è¢«çˆ±çš„èµ„æœ¬ï¼šç”·äººè¦æœ‰æ›´å¤šçš„è´¢å¯Œï¼Œå¥³äººè¦æœ‰æ›´è‹—æ¡çš„èº«æã€‚çˆ±æƒ…ç”±ä¸€å¼ æ¸…å•ç»„æˆï¼Œä¸€å¼ä¸ƒé¡¹ï¼Œä¸€é¡¹é¡¹æ‰“é’©è¯„åˆ†ï¼Œæœ€åæ‰¾ä¸€ä¸ªç»¼æµ‹åˆ†æ•°é«˜çš„ï¼Œå¤§å®¶ç»„æˆä¸€ä¸ª teamï¼Œæ¥å®Œæˆå©šå§»è¿™ä¸ªå¤§é¡¹ç›®ã€‚ æ­¤å¤–ï¼Œå¹¶ä¸åªæ˜¯ä½ ç…§æœ¬å®£ç§‘åœ°å‚ä¸çˆ±æƒ…ï¼Œä½ çš„æ‹çˆ±å¯¹è±¡ä¹Ÿåœ¨è¿™å¥—ç³»ç»Ÿé‡Œï¼Œä½ ä»¬æŒ‰ç…§è¯¥æœ‰çš„å‰§æœ¬ï¼Œçº¦ä¼šã€åƒé¥­ã€çœ‹ç”µå½±ï¼Œç¬¬ä¸€æ¬¡åƒä»€ä¹ˆï¼Œç¬¬äºŒæ¬¡å»å“ªå„¿ï¼Œå¯¹å¯¹æ–¹çš„æ‹çˆ±æŠ€å·§èå°”ä¸€ç¬‘ã€‚ äºŒæ‰‹æ€åº¦ | ä»–ä»¬ç»™äº†å‡ ä¸ªé˜µè¥ï¼Œä½ åªè¦ç«™é˜Ÿå°±è¡Œ åœ¨äº’è”ç½‘ç¤¾ä¼šé‡Œï¼Œä½ å¸¸å¸¸ç»å°½è„‘æ±æƒ³å‡ºçš„ä¸€ä¸ªé“ç†ä¸€ä¸ªåˆ›æ„ï¼Œç½‘ä¸Šä¸€æŸ¥ï¼Œåˆ«äººæ—©å°±å‘ç°äº†ã€‚æœ¯ä¸šæœ‰ä¸“æ”»ï¼Œä¸å…¶è‡ªå·±å»æ€è€ƒï¼Œä¸Šç½‘çœ‹çœ‹é¢†åŸŸé‡Œä¸“å®¶çš„è§‚ç‚¹æ˜¾ç„¶è¦æ¥å¾—æ›´æœ‰æ€§ä»·æ¯”ã€‚ ä¸€æœ‰äº‹ä»¶å‘ç”Ÿï¼Œä½ ä¹ æƒ¯æ€§åœ°ç¬¬ä¸€æ—¶é—´åˆ°çŸ¥ä¹ä¸Šçœ‹å¤§ V ä»¬æ˜¯å¦‚ä½•è¯„ä»·çš„ï¼Œä¸€ç¯‡æ–‡ç« æ²¡çœ‹å®Œå°±æ‹‰åˆ°åº•éƒ¨çœ‹çœ‹ç½‘å‹çš„ç•™è¨€æ˜¯æ€ä¹ˆè¯„è®ºçš„ã€‚ä¸å…¶è‡ªå·±æ€è€ƒï¼Œè½¬å‘å¤§ V æ›¿ä½ å‘è¡¨æ€åº¦ï¼Œè¦æ¥å¾—è½»æ¾è®¸å¤šã€‚å½“è¿™ç§ä¾èµ–æˆä¸ºæƒ¯æ€§ï¼Œå°±å®¹æ˜“æŠŠè§‚ç‚¹å½“åšç†æ‰€å½“ç„¶çš„äº‹å®ã€‚æ€åº¦å¸¸å¸¸ä»¥è¿™æ ·çš„å½¢å¼å‡ºç°ï¼šä»–ä»¬ç»™äº†å‡ ä¸ªé˜µè¥ï¼Œä½ åªè¦ç«™é˜Ÿå°±è¡Œäº†ã€‚ äºŒæ‰‹ä½“éªŒ | â€œæ¯•ç«Ÿï¼Œäººç±»çš„æœ¬è´¨æ˜¯å¤è¯»æœºâ€ äºŒæ‰‹äººç”Ÿå’Œå¥½å¥‡å¿ƒçš„åŒºåˆ«åœ¨äºï¼šå¥½å¥‡å¿ƒæ˜¯æƒ³è¦çŸ¥é“æ›´å¤šçš„ä¸œè¥¿ï¼ŒäºŒæ‰‹äººç”Ÿåˆ™æ˜¯å®Œå…¨æœä»äºè¿™äº›ä¸œè¥¿ã€‚ å½“ä½ å»çœ‹åˆ«äººã€Œå»å†°å²›æ—…è¡Œæ˜¯ä¸€ç§æ€æ ·çš„ä½“éªŒã€ã€ã€Œäº¤ä¸€ä¸ªæ—¥æœ¬å¥³æœ‹å‹æ˜¯ä¸€ç§æ€æ ·çš„ä½“éªŒã€ã€ã€Œåˆ°Aé¤å…å°±é¤æ˜¯ä¸€ç§æ€æ ·çš„ä½“éªŒã€æ—¶ï¼Œä½ å¯ä»¥å‡ºäºæƒ³çŸ¥é“åˆ«äººçš„ç”Ÿæ´»æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä½†å¦‚æœä½ æ°å¥½è¦å»å†°å²›æ—…è¡Œã€äº¤äº†ä¸€ä¸ªæ—¥æœ¬å¥³æœ‹å‹ï¼Œæˆ–æ˜¯è¦å» A é¤å…åƒé¥­å½“ä½ çœ‹è¿‡ä»–äººçš„ç»å†æ—¶ï¼Œä½ ä¼šä¸‹æ„è¯†åœ°æŒ‰ç…§ä»–çš„ä½“éªŒæ¥æ‰§è¡Œã€‚å½“ä»–è¯´ A é¤å…çš„å±‹æªèŠ±çº¹å¥½çœ‹ï¼Œä½ è¿›é¤å…æ—¶å°±ä¼šå»æ³¨æ„å±‹æªä¸Šçš„èŠ±çº¹ï¼Œä¸ä¼¦ä½ æ˜¯å¦è§‰å¾—å¥½çœ‹ï¼Œä½ éƒ½åœ¨æŒ‰ç…§ä»–çš„ä½“éªŒæ¥ä½“éªŒã€‚ è€Œå½“ä½ å‘ç°ï¼Œä»–ä»¬æç»˜çš„é‚£ç§ä½“éªŒï¼Œè¦æ¯”ä½ ç‹¬è‡ªå»æ‘¸ç´¢è¦æ¥å¾—æ›´ç²¾å½©æ—¶ï¼Œä½ ä¼šå¾ˆå®¹æ˜“æŒ‰ç…§ä»–ä»¬ç»™çš„è§’åº¦å»å†°å²›ï¼Œå»å’Œæ—¥æœ¬å¥³æœ‹å‹ç›¸å¤„ã€‚åœ¨ç›¸å¤„çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½è¿æƒ…è¯ï¼Œä¹Ÿæ˜¯ä»æŠ–éŸ³ä¸Šå¤åˆ¶ä¸‹æ¥çš„ç½‘ç»œæµè¡Œè¯­ã€‚ æ¯•ç«Ÿï¼Œã€Œäººç±»çš„æœ¬è´¨å°±æ˜¯å¤è¯»æœºã€‚ã€ ä¸‰ã€äº’è”ç½‘å‹è°Š â€œäº’è”ç½‘å‹è°Šå¹¶ä¸å®Œå…¨æ˜¯çº¿ä¸‹å‹è°Šçš„ online ç‰ˆæœ¬ï¼Œè€Œæ˜¯å‘å±•å‡ºäº†ä¸€å¥—ç‹¬ç«‹çš„ä½“ç³»ã€‚â€ è‡ªæ‰“æ‰‹æœºå˜æˆç”Ÿæ´»å¿…éœ€å“ä¹‹åï¼Œä»»ä½•å½¢å¼çš„å…³ç³»ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¾æ‰˜ç½‘ç»œè€Œå­˜åœ¨ã€‚ä»æœªè°‹é¢çš„é™Œç”Ÿäººï¼Œå¯èƒ½å‰ä¸€å¤©è¿˜è·Ÿä½ åœ¨æŸä¸ªç§è‰å¸–é‡Œä»¥å…„å¼Ÿ/å§å¦¹ç›¸ç§°ï¼›æ¥¼ä¸‹å°å–éƒ¨çš„è€æ¿ï¼Œä¹Ÿè®¸æ˜¯ä½ é‡‘é’±æ¥å¾€æœ€å¤šçš„æ”¯ä»˜å®å¥½å‹ï¼›åå¹´æ²¡è”ç³»çš„è€åŒå­¦ï¼Œè¯´ä¸å®šä¸ä½ åŒåœ¨ä¸€ä¸ªå¾®ä¿¡ç¾¤é‡Œé»˜é»˜æ½œæ°´ã€‚åœ¨é¸¡çŠ¬ç›¸é—»çš„äº’è”ç½‘æ—¶ä»£ï¼Œã€Œæ‰¾åˆ°å¹¶äº†è§£ä¸€ä¸ªäººã€å˜å¾—å‰æ‰€æœªæœ‰åœ°å®¹æ˜“ã€‚ä»è¿™ä¸ªè§’åº¦è¯´ï¼Œæœ‰äº†ç½‘ç»œä¹‹åï¼Œäººä¸äººä¹‹é—´çš„è·ç¦»ï¼Œæ˜¯å˜å¾—æ›´ã€Œè¿‘ã€äº†ä¸€ç‚¹çš„ã€‚ ç¤¾ä¼šå­¦å®¶è¯´ï¼Œå‹è°Šçš„å‘ç”Ÿæœ‰ä¸‰ä¸ªè¦ç´ ï¼šè·ç¦»ä¸Šçš„æ¥è¿‘ã€éè®¡åˆ’æ€§çš„é‡å¤æ¥è§¦ï¼Œä»¥åŠå¯ä»¥æ”¾ä¸‹é˜²å¤‡çš„äº¤æµæœºä¼šã€‚çº¿ä¸‹å‹è°Šå› ä¸ºã€Œäººæƒ…ã€çš„æˆåˆ†æ›´é«˜ï¼Œæ‰€ä»¥å¾€å¾€ç”Ÿå‘äºæŸç§å›ºæœ‰å…³ç³»ï¼ˆæ¯”å¦‚åŒå­¦å’ŒåŒäº‹ï¼‰ï¼›ä½†äº’è”ç½‘å‹è°Šä¸å†å®Œå…¨éµä»è¿™æ¡å®šå¾‹ï¼Œç‰©ç†ä¸Šçš„è·ç¦»åŸºæœ¬ä¸Šå·²ç»ä¸æˆé—®é¢˜ï¼Œã€Œè¡¨æ€ã€åè€Œæˆäº†äº¤å‹æˆåŠŸçš„å”¯ä¸€å‰æã€‚åœ¨çº¿ä¸‹ï¼Œä½ å¯ä»¥ä¾èµ–å¤–ç•Œç¯å¢ƒå¸®ä½ æ‰¾æœ‹å‹ï¼Œä½†åœ¨æ‰‹æœºé‡Œï¼Œä¸å‘ Emoji å’Œ å“ˆå“ˆå“ˆ å°±è¡¨è¾¾ä¸å‡ºä½ çš„å‹å¥½ï¼šå› ä¸ºæ²¡æœ‰äº†å®ä½“ï¼Œæ‰€ä»¥å¿…é¡»æœ‰ç›¸åº”çš„è¨€è¯­/è¡Œä¸ºæ¥ä»£æ›¿ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ ã€ŒYou are what you sayã€ã€‚ ç½‘ç»œæ‰¿è½½äº†æ¯ä¸ªäººçš„å¥½æ¶ã€å€¾å‘ã€æ„è§ï¼Œæ’åˆ—å–èˆä¸€ä¸‹å°±æ˜¯å¯ä»¥å‡ºå‚è¿è¡Œçš„è™šæ‹Ÿäººæ ¼ã€‚ã€Œä½ ä»¬æœ‰ n ä¸ªçˆ±å¥½ç›¸åŒã€ã€ã€Œä½ ä»¬åœ¨ xx ä¸ªé—®é¢˜ä¸Šè§‚ç‚¹ä¸€è‡´ã€ã€ã€Œä½ ä»¬åŒæ—¶æ‹‰é»‘äº†æŸæŸæŸã€ï¼Œç¡®å®éƒ½å¾ˆèƒ½ç»™äººã€Œæˆ‘ä¿©æ°”å‘³ç›¸æŠ•ã€çš„æ„Ÿè§‰ã€‚ä½†æ˜¯ï¼Œè¡¨æ€ä»çº¿ä¸‹è½¬ç§»åˆ°çº¿ä¸Šï¼Œå¿…ç„¶å¸¦ç€ä¸€å®šç¨‹åº¦çš„æŸè€—å’Œå¤±çœŸã€‚æ¯•ç«Ÿè‡ªæ‹å¯ä»¥ä¿®å›¾ï¼Œæœ‹å‹åœˆå¯ä»¥å±è”½ï¼ŒåŠ¨æ€å¯ä»¥åˆ†ç»„å±•ç¤ºï¼Œåªè¦ç»è¥å¾—å½“ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å¤§éšéšäºå¸‚ï¼Œåœ¨ä¸åŒçš„åœ°æ–¹è®©ä¸åŒçš„äººçŸ¥é“ä¸åŒçš„äº‹æƒ…ã€‚ åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ–°çš„å‹è°Šå½¢å¼å¯¹å½“ä»£äººæå‡ºäº†ä¸å°‘æ–°è€ƒéªŒï¼šäº’è”ç½‘ä¸Šæœ‰æ€å¯è¡¨çš„äº‹æƒ…å¤ªå¤šï¼Œå¤šåˆ°ã€Œå‰ä¸€åˆ»è®©ä½ å‘ç°ä¸€ä¸ªäººçš„é—ªå…‰ç‚¹éª¤ç”Ÿå¥½æ„Ÿï¼Œä¸‹ä¸€åˆ»å°±è®©ä½ çœ‹åˆ° ta çš„å¦ä¸€ç•ªè¨€è®ºè€Œç¬é—´å¹»ç­ã€ã€‚å€˜è‹¥å¯¹æ–¹å‡ ä¹æ‰€æœ‰çš„è¡¨æ€éƒ½ç¬¦åˆä½ çš„å¿ƒæ„ï¼Œå”¯ç‹¬åœ¨æŸä¸€ä»¶äº‹ä¸Šå‡»ç©¿äº†ä½ çš„åº•çº¿ï¼Œè¿™å‹è°Šè¿˜è¦ä¸è¦ç»§ç»­ä¸‹å»ï¼Ÿåˆæˆ–è€…ï¼Œå†åŠŸåˆ©ä¸€ç‚¹ï¼Œå¦‚æœæ²¡æœ‰çº¿ä¸‹çš„äº¤é›†ä½œä¸ºä¾æ‰˜ï¼Œä»…æœ‰çº¿ä¸Šäº¤æƒ…çš„å‹è°Šï¼Œä¼šä¸ä¼šå› ä¸ºã€Œåæ­£ä¹Ÿæ²¡ä»˜å‡ºå¤ªå¤šæˆæœ¬ã€ï¼Œæ‰€ä»¥æ”¾å¼ƒèµ·æ¥ä¹Ÿæ›´åŠ å¾—å¿ƒåº”æ‰‹ï¼Ÿ è¿™ä¸ªç°çŠ¶å¯ä»¥ç”¨ä¸€ä¸ªæœ€è¿‘çš„æµè¡Œè¯ã€Œè¹¦è¿ªå‹ç¤¾äº¤ã€æ¥æ¦‚æ‹¬ï¼Œå®ƒçš„å¤§æ„æ˜¯ç¤¾äº¤èšè½å°±åƒè¿ªå…ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯ã€Œèµ¶åœºå­ã€ï¼Œè™½ç„¶çœ‹ä¸Šå»çƒ­é—¹éå‡¡ï¼Œä½†ç»å¤§éƒ¨åˆ†äººçš„å…³ç³»åªä¼šåœç•™åœ¨ä½æˆæœ¬çš„ã€Œæ—¥æŠ›ã€é˜¶æ®µã€‚The Conversation åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« é‡ŒåŒæ ·è¡¨è¾¾äº†ç±»ä¼¼çš„è§‚ç‚¹ï¼šæ—§çš„ç¤¾äº¤ç¤¼ä»ªæ¯”è¾ƒå•çº¿ç¨‹ï¼Œå°±åƒä¸€å¯¹ä¸€ã€é¢å¯¹é¢çš„äº¤æµï¼Œå¯¹æ–¹é—®ä½ ä»€ä¹ˆï¼Œä½ å°±å¾—å½“åœºåšå‡ºå›ç­”ï¼Œä¸€è¨€ä¸å‘/æ‹‚è¢–è€Œå»çš„æˆæœ¬å¾ˆé«˜ï¼›ç„¶è€Œæ— éœ€è§é¢çš„å³æ—¶é€šè®¯å½»åº•æ”¹å˜äº†è¿™äº›æ‰€è°“çš„ã€Œå¥‘çº¦ã€ï¼Œä½ å¯ä»¥åŒæ—¶è·Ÿè®¸å¤šäººäº’åŠ¨ï¼Œä¹Ÿå¯ä»¥éšæ‰‹å–å…³/æ‹‰é»‘/å¸è½½ï¼Œæ— è§†å’Œæ‚¬ç½®æˆä¸ºå¸¸æ€ï¼Œå‡ ä¹æ²¡æœ‰ä»€ä¹ˆæ˜æ˜¾çš„åæœéœ€è¦ä½ æ‰¿æ‹…ã€‚ å¦‚æœæŠŠå‹è°ŠåŒæ ·ç†è§£æˆæŸç§äº²å¯†å…³ç³»çš„è¯ï¼Œä½ å¯èƒ½ä¼šå‘ç°ï¼Œå…¶å®å®ƒä¹Ÿé¢ä¸´ç€ä¸å°‘ç›¸ä¼¼çš„å›°å¢ƒï¼šæ—§çš„ã€Œç¤¾äº¤ç¤¼ä»ªã€æ­£åœ¨ç“¦è§£ï¼Œä½†æ–°çš„ç¤¾äº¤è§„åˆ™å´æ²¡æœ‰æˆå‹ï¼ˆã€Œè§„åˆ™ã€åªæ˜¯ä¸€ç§æ–¹ä¾¿çš„è¯´æ³•ï¼Œå®é™…ä¸Šå®ƒä»¬åˆ°åº•èƒ½ä¸èƒ½è¢«ç§°ä¸ºè§„åˆ™éƒ½å€¼å¾—å•†æ¦·ï¼‰ã€‚ä¸€è¾ˆå­å¾…ä¸€ä¸ªå·¥ä½œå•ä½ã€è®¤è¯†åŒä¸€æ‹¨è¡—åŠé‚»å±…çš„ã€Œå¼ºå…³ç³»ã€æ—©å·²ä¸å†æ˜¯åˆšéœ€ï¼Œã€Œè½»é‡çº§å…³ç³»ã€æ‰æ˜¯ä¸»æµã€‚ç½‘çº¿èƒŒåäººäººå¹³ç­‰ï¼Œåˆ«äººæ— æ³•é˜»æ­¢ä½ åœ¨å¾®ä¿¡è£…æ­»ä¸å›ï¼Œå°±åƒä½ ä¹Ÿæ²¡æœ‰åŠæ³•å‘½ä»¤ï¼ˆé™¤ä¸‹å±ä¹‹å¤–çš„ï¼‰å¦ä¸€ä¸ªäººåœ¨ 30 ç§’ä¹‹å†…å¿…é¡»å›å¤ä½ ä¸€æ ·ã€‚ æ‰€ä»¥ï¼Œäº’è”ç½‘è®©äººé™…å…³ç³»å˜å¾—ã€Œå¡‘æ–™ã€äº†å—ï¼Ÿå¥½åƒâ€¦â€¦ä¹Ÿæœ‰é‚£ä¹ˆä¸€ç‚¹å„¿ã€‚ä½†å‹æƒ…æœ¬æ¥å°±æ˜¯è‡ªæˆ‘çš„æŠ•å°„å’Œå·©å›ºï¼Œå¦‚æœä¸æ˜¯ç½‘ç»œè®©æˆ‘ä»¬ä¸€ç¥è¿™æ‹¥æœ‰æ— é™ç§å¯èƒ½çš„ç¾ä¸½æ–°ä¸–ç•Œï¼Œæˆ‘ä»¬è¿å€ŸåŠ©è¿™è½»æ¾æ„‰å¿«ã€å…è®¸è¯•é”™çš„ã€Œè¿ªå…å¼ç¤¾äº¤ã€æ”¾é£è‡ªæˆ‘çš„æœºä¼šéƒ½æ²¡æœ‰ã€‚æ¯•ç«Ÿç½‘ç»œæƒ…è°Šå†æ€ä¹ˆæ·¡å¦‚æ°´ï¼Œæ€»å½’è¿˜æ˜¯æ¯”é€’çƒŸæ‹¼é…’çš„ä¼ ç»Ÿç¾å¾·è¦æ›´é€‚é…å½“ä»£äººä¸€ç‚¹çš„ã€‚ å››ã€å½“ä»£ç”Ÿæ´»å®šå¾‹ â€œå…³äºå½“ä»£ç”Ÿæ´»çœŸç›¸çš„è§‚å¯Ÿï¼Œéƒ½åœ¨è¿™äº›å®šå¾‹å’Œç†è®ºé‡Œé¢äº†ã€‚â€ è¢œå­é‡å­åŠ›å­¦ï¼š å®¶é‡Œçš„è¢œå­æ€»æ˜¯ä»¥é‡å­çŠ¶æ€å­˜åœ¨ï¼Œå³å®ƒä»¬å¯èƒ½éšæ—¶å‡ºç°åœ¨å±‹é‡Œä»»ä½•ä½ç½®ã€‚å¹¶ä¸”ä¼šå‘ç”Ÿé‡å­çº ç¼ ï¼Œå³ä¸è®ºè·ç¦»å¤šè¿œï¼Œä¸€åªè¢œå­ç ´äº†/ä¸¢äº†å¦å¤–ä¸€åªä¹Ÿè·Ÿç€å¤±æ•ˆäº†ã€‚æ‰“ç ´è¿™ä¸€è§„å¾‹çš„è¯€çªåœ¨äºï¼Œä¹°å¾ˆå¤šåªä¸€æ ·çš„è¢œå­ã€‚ ç½‘è´­èƒ½é‡å®ˆæ’å®šå¾‹ï¼š æŒ‡ï¼Œä»¥åœ¨ç½‘ä¸Šç”„åˆ«çœŸå‡çš„æ—¶é—´ç²¾åŠ›æ¥å¼¥è¡¥ç½‘è´­å¯ä»¥è¶³ä¸å‡ºæˆ·çœä¸‹çš„æ—¶é—´ç²¾åŠ›ã€‚è™½è¯´ç”µå•†æ— ç–‘è®©æ¶ˆè´¹æ›´å¿«é€Ÿæ›´ä¾¿æ·ï¼Œä½†å› ä¸ºä¸èƒ½å®ç°â€œæ‰€è§å³æ‰€å¾—â€ï¼Œå› æ­¤è¶³ä¸å‡ºæˆ·çœä¸‹çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œéƒ½è¢«çœŸå‡éš¾è¾¨çš„å–å®¶ç§€å’Œå¤æ‚çš„æŠ˜æ‰£æ•°å­¦é¢˜ç»™æŠµæ¶ˆäº†ã€‚ åˆ·æ–°ç›¸å¯¹è®º ï¼š ä½ åœ¨ç½‘ç«™/appä¸Šç‚¹å‡»â€œåˆ·æ–°â€çš„é¢‘ç‡è¶Šé«˜ï¼Œæ–°å†…å®¹å‡ºç°çš„é¢‘ç‡å°±è¶Šä½ã€‚ åå‘å·´çº³å§†æ•ˆåº”ï¼š äº’è”ç½‘ä¸Šä¸€ç§â€œæ­¤åœ°æ— é“¶ä¸‰ç™¾ä¸¤â€å‹è¨€è®ºï¼Œå½“è¯„è®ºâ€œæˆ‘ä¸æ˜¯æ ã€æ²¡æœ‰é»‘çš„æ„æ€â€æ—¶ï¼Œå¤šåŠå°±æ˜¯åœ¨æŠ¬æ ï¼›â€œçº¯è·¯äººã€ä¸å¹ä¸é»‘â€çš„åé¢è¯„è®ºçš„å…«æˆæ˜¯ç«™é˜Ÿè¨€è®ºï¼›â€œæˆ‘è¿™æ˜¯ä¸ºä½ å¥½â€ï¼Œå…¶å®æ˜¯è‡ªå·±è¯´å‡ºæ¥çˆ½äº†å°±å¥½äº†ã€‚ ç¤¾äº¤åª’ä½“ç†µå¢å®šå¾‹ï¼š ä»»ä½•ä¸€ä¸ªç¤¾äº¤å¹³å°éƒ½ä¼šéšç€æ—¶é—´æ¨ç§»è€Œå˜å¾—è¶Šå‘æ··ä¹±æ— åºï¼Œâ€œä¸€ä¸ªç½‘ç«™å‡ºåä¹‹åè¶Šæ¥è¶Šæ°´â€æ˜¯å¿…ç„¶ä¸”ä¸å¯é€†çš„ã€‚ ä¾¯ä¸–è¾¾å®šå¾‹ï¼š ä¸€ä»¶äº‹æ‰€èŠ±è´¹çš„æ—¶é—´æ°¸è¿œæ¯”ä½ é¢„æœŸçš„è¦é•¿ï¼Œå³ä½¿ä½ å·²ç»è€ƒè™‘äº†ä¾¯ä¸–è¾¾å®šå¾‹ã€‚åŸæœ¬æ˜¯æŒ‡åšå¤æ‚ä»»åŠ¡éœ€è¦èŠ±è´¹çš„æ—¶é—´æ€»æ˜¯å¾ˆéš¾é¢„è®¡çš„ï¼Œè€Œç°åœ¨ï¼Œè¿™ä¸€å®šå¾‹åè€Œä½“ç°åœ¨ä¸€äº›æ—¥å¸¸å°äº‹ä¸Šï¼Œå½“ä½ ç¡å‰èººåœ¨åºŠä¸Šæ‹¿ç€æ‰‹æœºå‘Šè¯‰è‡ªå·±åªåˆ·10minå°±ç¡çš„æ—¶å€™ï¼Œè·Ÿæœ‹å‹çº¦é¥­å¯¹æ–¹è¿Ÿåˆ°è¯´â€œé©¬ä¸Šï¼Œè¿˜æœ‰ä¸¤ä¸‰ç«™â€çš„æ—¶å€™ï¼Œä»¥åŠå½“ä½ æŠŠå‡è‚¥ç›®æ ‡ä»â€œè¿™ä¸€ä¸ªæœˆå‡ 20 æ–¤â€æ”¾å®½åˆ°â€œè¿™ä¸€å¹´å‡ 20 æ–¤â€çš„æ—¶å€™ã€‚ è–›å®šè°”çš„èŠå¤©ï¼š å½“ä»£ç‰ˆè–›å®šè°”çš„é‡å­å›°æƒ‘å®éªŒï¼Œå³å½“ä¸€ä¸ªäººé—®å‡ºâ€œåœ¨å—â€çš„æ—¶å€™ï¼Œæ‰‹æœºé‡Œé¢çš„å¦ä¸€ä¸ªäººå¤„äºåœ¨ä¸ä¸åœ¨çš„å åŠ çŠ¶æ€ï¼Œè·Ÿç›’å­é‡Œçš„çŒ«æ˜¯æ­»æ˜¯æ´»ä¸€æ ·ï¼Œå¾ˆéš¾è¯´ã€‚ èŒåœºè´¹æ–¯æ±€æ ¼æ³•åˆ™ï¼š ä¸Šç­å°±æ˜¯ç”¨ 10% çš„æ—¶é—´å‘ç”Ÿç‚¹å•¥ï¼Œå†ç”¨ 90% çš„æ—¶é—´æ¥å¯¹å‘ç”Ÿçš„é‚£äº›äº‹åšå‡ºååº”ï¼Œåˆç§°èŒåœºä¹ä¸€æ³•åˆ™ã€‚ å½“ä»£ç”Ÿæ´»é©¬æ–¯æ´›é‡‘å­—å¡”éœ€æ±‚ï¼š é‡‘å­—å¡”çš„åº•å±‚éœ€æ±‚æ­£åœ¨è¢«ç°ä»£ç”Ÿæ´»æ— é™æŒ–æ·±ï¼Œæ¯”èµ·åƒé¥­ç¡çœ ï¼Œå½“ä»£äººä¼¼ä¹æ›´éœ€è¦ Wi-Fi å’Œ battery æ¥ç»´æŒå¿ƒç†çŠ¶æ€çš„ç¨³å®šã€‚è€Œä»¥å¾€å¾ˆå®¹æ˜“è·å–çš„ä¾‹å¦‚â€œçœŸæ­£æ”¾ç©ºè‡ªå·±ã€äº«å—ä»€ä¹ˆä¹Ÿä¸åšçš„æ— èŠâ€åè€Œå˜å¾—éš¾ä»¥å®ç°ï¼Œç°åœ¨å…‰è£åœ°æŒªåˆ°äº†é‡‘å­—å¡”çš„é¡¶å±‚ã€‚ å¥èº«é”šå®šæ•ˆåº”ï¼š æ— ç³–é›¶åº¦å¯ä¹å’Œè†³é£Ÿçº¤ç»´é›ªç¢§æ˜¯å½“ä»£å‡è„‚äººå£«çš„å¿ƒç†å»ºè®¾ä¹‹é”šï¼Œåªè¦ç‰¢ç‰¢æŠŠä½è¿™ä¸ªåº•çº¿ï¼Œå¿ƒæ€å°±ä¸ä¼šå´©ã€‚æ¯”æ–¹è¯´ï¼Œä¸ç®¡ä¸€é¤é¥­é‡Œæœ‰å¤šå°‘è¶…æ ‡çš„èŠå£«åŸ¹æ ¹ç”œç‚¹çƒ§çƒ¤ï¼Œåªè¦å¯ä¹å–çš„æ˜¯æ— ç³–çš„ï¼Œå°±æ€»èƒ½è¯´æœè‡ªå·±è¿™é¡¿è¿˜æ˜¯â€œå‡è„‚é¤â€ï¼Œæˆ‘ä»¬ç§°è¿™ç§ç°è±¡ä¸ºâ€œå¥èº«é”šå®šæ•ˆåº”â€ã€‚ æ—¶é—´ç›¸å¯¹è®ºï¼š æ—¶é—´å¯¹äººæ¥è¯´æ˜¯ä¸€ç§ä¸»è§‚æ„ŸçŸ¥ï¼Œæ¯”å¦‚è¯´åœ¨ä¸åŒçš„æƒ…å†µä¸‹ï¼Œæ˜æ˜æ˜¯ç›¸åŒçš„ä¸€æ®µæ—¶é—´å•ä½ï¼Œå´å¯èƒ½æœ‰ä¸åŒçš„æ„Ÿå—ï¼šåˆšè¿‡ 18 å²æ„Ÿè§‰è‡ªå·±çš„ç‹¬ç«‹äººç”Ÿåˆšå¼€å§‹ï¼Œç„¶è€Œè¿‡äº† 20 å²å¼€å§‹æ„Ÿè§‰è‡ªå·±å¿«å¥”ä¸‰äº†ï¼›å……å®çš„ä¸€å¹´ä¸‹æ¥å¹¶ä¸ä¼šè§‰å¾—æ—¶é—´æºœèµ°äº†ï¼Œç¢Œç¢Œæ— ä¸ºåè€Œä¼šè§‰å¾—ä¸€å¹´æ²¡å¹²ä»€ä¹ˆå¥½å¿«å°±è¿‡å»ï¼›ä½†æ”¾åˆ°çŸ­æœŸæ¥çœ‹ï¼Œæ‰‹å¤´è¶Šå¿™çš„æ—¶å€™è§‰å¾—æ—¶é—´è¿‡å¾—è¶Šå¿«ï¼Œé—²çš„æ—¶å€™è§‰å¾—æ—¶é—´ç‰¹åˆ«çš„æ…¢ã€‚ å†æ¥ä¸€å•å®šå¾‹ï¼š ç‚¹å¤–å–åŸºæœ¬éƒ½æ˜¯é€›äº†ä¸€åœˆæœ€ç»ˆè¿˜æ˜¯åœ¨å†å²è®¢å•é‡Œé€‰åƒè¿‡çš„å†ç‚¹ä¸€æ¬¡ã€‚ è¿›åº¦æ¡å®šå¾‹ï¼š æŒ‡ï¼Œè§’è‰²æ­»ä¸æ­»ä¸å–å†³äºå‰§æƒ…ï¼Œè€Œå–å†³äºè¿›åº¦æ¡å½“æ—¶èµ°åˆ°äº†å“ªé‡Œã€‚ é¡¶æ ¼å¤¸å¥–å®šå¾‹ï¼š ä¸€ä¸ªè¤’ä¹‰è¯é‡Œçš„æé™æˆåˆ†è¶Šå¤§ï¼Œå®ƒçš„è¯ä¹‰é€šèƒ€é€Ÿåº¦å°±è¶Šå¿«ã€‚æ¯”å¦‚åœ¨è¡¨ç°å¥³æ€§ç¾ä¸½çš„å¤¸å¼ ç¨‹åº¦ä¸Šï¼Œâ€œä»™å¥³â€&gt;â€œå¥³ç¥â€&gt;â€œç¾å¥³â€ï¼Œé‚£è¿™ä¸‰ä¸ªè¯çš„è¯ä¹‰è´¬å€¼é€Ÿåº¦å°±æ˜¯â€œç¾å¥³â€&lt;â€œå¥³ç¥â€&lt;â€œä»™å¥³â€ã€‚ é£Ÿç‰©åœ°å¿ƒå¼•åŠ›ï¼š é£Ÿç‰©å¯¹ä½ çš„ä½œç”¨åŠ›=mgï¼Œm ä¸ºä½ çš„è´¨é‡ï¼Œg ä¸ºä½ æƒ³æˆ’æ–­å®ƒçš„æŒ‡æ•°å¸¸é‡ã€‚æ¢è¨€ä¹‹ï¼Œåœ¨ä¸åŠ æ§åˆ¶çš„æƒ…å†µä¸‹ï¼Œè¶Šåƒè¶Šè´ªåƒæ˜¯å¤§æ¦‚ç‡äº‹ä»¶ã€‚ å¿ƒæƒ…æœ¨æ¡¶æ•ˆåº”ï¼š ä¸€å¤©çš„å¿ƒæƒ…å¥½åä¸å–å†³äºå½“å¤©æœ€å¼€å¿ƒçš„äº‹ï¼Œè€Œæ˜¯å–å†³äºå½“å¤©æœ€ä¸çˆ½çš„äº‹ã€‚ æ ç²¾é˜´å½±å®ˆæ’ï¼š åœ¨äº’è”ç½‘ä¸Šé‡åˆ°æ ç²¾ï¼Œè¢«æ ä¹‹åçš„å¿ƒç†é˜´å½±ä¸ä¼šæ¶ˆå¤±ï¼Œåªä¼šä»¥â€œç•™åœ¨ç½‘ä¸Šå»æ ä¸‹ä¸€ä¸ªäººâ€æˆ–è€…â€œä¸‹çº¿ä¹‹ååœ¨ç”Ÿæ´»ä¸­æ‰¾äººåµæ¶â€çš„å½¢å¼è½¬ç§»ã€‚è¿™å°±æ˜¯ä½ å‘ç°ç½‘ä¸Šçš„åµæ¶æ€»æ˜¯è¶Šæ¥è¶Šé¢‘ç¹è¶Šæ¥è¶Šæ¿€çƒˆçš„åŸå› ä¹‹ä¸€ã€‚ æ¸¸æˆå­˜æ¡£ç‚¹å®šå¾‹ï¼š æ¸¸æˆé‡Œå‡ºç°å­˜æ¡£æ„å‘³ç€å¿…æœ‰ä¸€åœºæ¶æˆ˜ï¼Œæ‰€ä»¥ï¼Œå½“é‡åˆ°ä¸€ä¸ªæ–°çš„å­˜æ¡£ç‚¹çš„æ—¶å€™ï¼Œä½ åæœ‰å…«ä¹ä¹‹åè¿˜ä¼šå†æ¬¡è§åˆ°å®ƒã€‚ â€œç¤¾äº¤ç½‘ç»œçœŸå®è‡ªæˆ‘â€å®šå¾‹ï¼š å®ƒæœ‰ä¸‰ä¸ªå­å®šå¾‹ï¼Œä¸€æ˜¯ç¤¾äº¤è´¦å·å‘çš„ä¸œè¥¿è´Ÿèƒ½é‡å¾€å¾€æ¯”æ­£èƒ½é‡èµ°å¿ƒï¼›ä¸‰æ›´åŠå¤œæ¯”ç™½å¤©èµ°å¿ƒï¼›äºŒæ˜¯å¦‚æœåŒæ—¶ä½¿ç”¨å¤šä¸ªå¹³å°ï¼Œé‚£ä¹ˆçœŸå®è‡ªæˆ‘ç¨‹åº¦æ˜¯â€œè±†ç“£&gt;å¾®åš&gt;æœ‹å‹åœˆâ€ï¼›ä¸‰æ˜¯ po å‡ºçš„åˆç…§ä¸Šå‡ºç°çš„äººè¶Šå¤šï¼Œé…çš„æ–‡å­—è¶Šè™šä¼ªã€‚ ç²‰è‰²å®šå¾‹ï¼š å°çš„æ—¶å€™å¯¹ç²‰è‰²ä¸æ•æ„Ÿè§‰å¾—å¹¼ç¨šåœŸæ°”ï¼Œä¸Šäº†å¹´çºªåè€Œå¼€å§‹å¯¹å„ç§ç²‰è‰²ç‰©ä»¶é’çæœ‰åŠ ï¼Œå¤šåº”éªŒäºå¥³ç”Ÿï¼Œä¹Ÿä¸æ’é™¤ä¸€äº›ç”·æ€§å¯¹å°æ—¶å€™â€œç”·å­©å­ä¸èƒ½ç©¿ç²‰è‰²â€åˆ»æ¿å°è±¡å‘èµ·æŠ—è®®ï¼Œä¸å¤±ä¸ºä¸€ç§æˆé•¿å›é€†çš„æ–¹å¼ã€‚ è¯„ä»·é’“é±¼æ³•åˆ™ï¼š ç±»ä¼¼äº Cunninghamâ€™s Law çš„åå‘æé—®æ€è·¯ï¼Œä¸ºäº†å¾—åˆ°å…³äº xxx çš„é è°±è¯„ä»·ï¼Œä½ å¯ä»¥åœ¨ç¤¾äº¤ç½‘ç»œä¸Šå‘ä¸€ä¸ªå…³äº ta çš„å·®è¯„ç­‰äººæ¥åé©³ï¼›ä¸ºäº†å‘ä½ çš„æœ‹å‹æˆåŠŸå®‰åˆ©ï¼Œä¸å…¶å¤¸ä½œå“å¥½ä¸å¦‚è¯´â€œå¤©å“ªä½ å¯åƒä¸‡åˆ«å…¥å‘â€ç®¡ç”¨ã€‚ çŒ«åŒ–å®šå¾‹ï¼š æŒ‡å®¶é‡Œå…»äº†çŒ«ä¹‹åï¼ŒåŸæœ¬è‡ªå·±ç”¨çš„æ¯ä¸€æ ·ç‰©å“ä¼šä¸çŸ¥ä¸è§‰é€æ¸è¢«çŒ«å æ®çš„ä¸€ç§ç°è±¡ã€‚çŒ«å…¥ä¾µä½ çš„ç”Ÿæ´»åï¼Œä½ æ‰‹æœºé‡Œçš„è‡ªæ‹ä¼šé€æ¸è¢«çŒ«ç‰‡å–ä»£ï¼Œ256G å‹æ ¹å°±ä¸å¤Ÿä½¿ï¼›çŒ«æ€»çˆ±ç”¨ä½ çš„æ°´æ¯å–æ°´ï¼Œæ‰€ä»¥æ¯å­å°±æˆäº†çŒ«çš„æ°´ç¢—ï¼›çŒ«å¯¹å®¶é‡Œç‘œä¼½å«çš„ä½¿ç”¨é¢‘ç‡è¿œé«˜äºä½ ï¼Œå¯¼è‡´å®ƒæœ€ç»ˆè·Ÿæ²™å‘ä¸€æ ·æ²¦è½ä¸ºå¤§å‹çŒ«æŠ“æ¿ã€‚ åˆè€å®šå¾‹ï¼š é™¤äº†æ¸æ¸å¼€å§‹è„±å‘ã€ç†¬ä¸äº†å¤œè¿™äº›åˆ‡è‚¤ä¹‹ç—›ï¼Œä½ å¯èƒ½æ›´å®¹æ˜“å¿½ç•¥çš„â€œåˆè€ç—‡çŠ¶â€å¯èƒ½ä½“ç°åœ¨ï¼ŒæŠŠæœ‹å‹å¤‡æ³¨æ”¹æˆçœŸåï¼›çƒ­æœé‡Œæµé‡æ˜æ˜Ÿåå­—éƒ½å¬è¿‡å¾ˆç†Ÿï¼Œä½†å°±æ˜¯è·Ÿè„¸å¯¹ä¸ä¸Šå·ï¼›å¤§è„‘ä¸­çš„æ­Œå•åœæ­¢æ›´æ–°ï¼Œæ’è¡Œæ¦œä¸Šçš„æ–°æ­Œä»¬ä¸€é¦–éƒ½æ²¡å¬è¿‡ã€‚ ä¹°ä¹°ä¹°æ‘©å°”å®šå¾‹ï¼š å‡ºäºâ€œä¹°ä¸€åŒé‹å°±è¦é…å…¨å¥—è¡£æœâ€â€œä¹°ä¸€ä¸ªè€³æœºå°±è¦æ­å…¨å¥—ç”µå­è®¾å¤‡â€çš„å¿ƒæƒ…ï¼Œä½ è´­ç‰©çš„ä»¶æ•°å¦‚æœä¸åŠ æ§åˆ¶ï¼Œæ¯ 18 ä¸ªæœˆå°±ä¼šç¿»ä¸Šä¸€ç•ªã€‚ æ‚ç‰©å¾ªç¯æ³•åˆ™ï¼š å®¶é‡Œçš„æ‚ç‰©ï¼ˆæ¯”å¦‚è¡£æœï¼‰ä¼šåœ¨æ¡Œã€æ¤…ã€åºŠã€æ²™å‘ä¹‹é—´å¾ªç¯æµåŠ¨çš„è§„å¾‹ï¼Œæ¯”å¦‚å½“ä½ ç™½å¤©éœ€è¦ç”¨æ¡Œå­æ—¶ï¼Œæ‚ç‰©ä¼šå‡ºç°åœ¨ä½ çš„åºŠ/æ²™å‘ä¸Šï¼Œå½“ä½ éœ€è¦ç¡è§‰æ—¶æ‚ç‰©ä¼šå›åˆ°æ¡Œå­/æ¤…å­ä¸Šï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ã€‚ çŸ­è§†é¢‘çŒ«ç‹—å®šå¾‹ï¼š å‡¡æ˜¯å…³äºçŒ«çš„è§†é¢‘ï¼Œå†…å®¹åæœ‰å…«ä¹æ˜¯â€œæˆ‘å®¶çŒ«æˆç²¾äº†â€ï¼Œä»¥ç‹—ä¸ºä¸»è§’çš„è§†é¢‘ï¼Œåæœ‰å…«ä¹æ˜¯ä¸é—ä½™åŠ›åœ°å±•ç°â€œæˆ‘å®¶ç‹—å¤ªå‚»äº†â€â€œæˆ‘çš„ç‹—å­åˆè¢«æˆ‘éª—äº†â€ï¼Œå¯ä»¥ç”¨æ¥é—´æ¥åˆ¤å®šä¸åŒç‰©ç§çš„æ™®éæ™ºå•†ã€‚ Stigler å®šå¾‹ï¼š ä¸€ä¸ªæ³•åˆ™ï¼ˆæˆ–è€…ä¸€ä¸ªå®šç†ï¼‰ä¸æ˜¯ç”±å…¶å‘ç°è€…å‘½åçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å‘ç°çš„å®šå¾‹åœ¨ä¹‹å‰æ—©å°±å·²ç»æœ‰äººå‘ç°è¿‡äº†ï¼Œåªä¸è¿‡æ²¡äººæ€»ç»“å’Œå‘½åç½¢äº†ã€‚å½“ç„¶äº†ï¼Œä¸Šé¢çš„é‚£äº›ä»¥åŠè¿™æ¡æœ¬èº«ä¹Ÿç¬¦åˆè¿™ä¸€å®šå¾‹ã€‚ å‚è€ƒèµ„æ–™ â€œå³æ—¶æ»¡è¶³â€çš„äº’è”ç½‘æ—¶ä»£ï¼Œå½“ä»£äººçš„è€å¿ƒå¼•çˆ†ç‚¹å¥½åƒè¶Šæ¥è¶Šå¤šäº† | 100 ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - https://www.qdaily.com/articles/59065.html ä¸ç»æ„é—´ï¼Œä½ å¯èƒ½æ­£è¿‡ç€ä¸€ç§äºŒæ‰‹äººç”Ÿ | 100ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - http://www.qdaily.com/articles/58601.html äº’è”ç½‘è®©äº¤æœ‹å‹å˜éš¾äº†å—ï¼Ÿæœªå¿…ï¼Œä½†å½“ä»£å‹è°Šå˜å¾—æ›´åƒè¯•é”™æ¸¸æˆäº† | 100ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - https://www.qdaily.com/articles/61848.html ç»™ä½ ä¸€ä»½å½“ä»£ç”Ÿæ´»å®šå¾‹ï¼Œå®ƒä»¬éƒ½æ˜¯ç°ä»£äººå†é€ çš„ç»å…¸ | 100ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - https://www.qdaily.com/articles/64108.html â€“ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/categories/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"tags":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/tags/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ (2)â€”â€”çº¿ç¨‹é€šä¿¡è¯¦è§£","slug":"é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ -2-â€”â€”çº¿ç¨‹é€šä¿¡è¯¦è§£","date":"2019-11-27T08:51:00.000Z","updated":"2019-12-02T06:24:36.848Z","comments":true,"path":"2019/11/27/gao-bing-fa-bian-cheng-xue-xi-2-xian-cheng-tong-xin-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2019/11/27/gao-bing-fa-bian-cheng-xue-xi-2-xian-cheng-tong-xin-xiang-jie/","excerpt":"","text":"å‰åºæ–‡ç«  é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ (1)â€”â€”å¹¶å‘åŸºç¡€ - https://www.wmyskxz.com/2019/11/26/gao-bing-fa-bian-cheng-xue-xi-1-bing-fa-ji-chu/ ä¸€ã€ç»å…¸çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¡ˆä¾‹ ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬æåˆ°ä¸€ä¸ªåº”ç”¨å¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹å»æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œå¦‚æœè¿™äº›ä»»åŠ¡ä¹‹é—´æœ‰ç€æŸç§å…³ç³»ï¼Œé‚£ä¹ˆçº¿ç¨‹ä¹‹é—´å¿…é¡»èƒ½å¤Ÿé€šä¿¡æ¥åè°ƒå®Œæˆå·¥ä½œã€‚ ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆè‹±è¯­ï¼šProducer-consumer problemï¼‰å°±æ˜¯å…¸å‹çš„å¤šçº¿ç¨‹åŒæ­¥æ¡ˆä¾‹ï¼Œå®ƒä¹Ÿè¢«ç§°ä¸ºæœ‰é™ç¼“å†²é—®é¢˜ï¼ˆè‹±è¯­ï¼šBounded-buffer problemï¼‰ã€‚è¯¥é—®é¢˜æè¿°äº†å…±äº«å›ºå®šå¤§å°ç¼“å†²åŒºçš„ä¸¤ä¸ªçº¿ç¨‹â€”â€”å³æ‰€è°“çš„â€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€â€”â€”åœ¨å®é™…è¿è¡Œæ—¶ä¼šå‘ç”Ÿçš„é—®é¢˜ã€‚ç”Ÿäº§è€…çš„ä¸»è¦ä½œç”¨æ˜¯ç”Ÿæˆä¸€å®šé‡çš„æ•°æ®æ”¾åˆ°ç¼“å†²åŒºä¸­ï¼Œç„¶åé‡å¤æ­¤è¿‡ç¨‹ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¶ˆè´¹è€…ä¹Ÿåœ¨ç¼“å†²åŒºæ¶ˆè€—è¿™äº›æ•°æ®ã€‚è¯¥é—®é¢˜çš„å…³é”®å°±æ˜¯è¦ä¿è¯ç”Ÿäº§è€…ä¸ä¼šåœ¨ç¼“å†²åŒºæ»¡æ—¶åŠ å…¥æ•°æ®ï¼Œæ¶ˆè´¹è€…ä¹Ÿä¸ä¼šåœ¨ç¼“å†²åŒºä¸­ç©ºæ—¶æ¶ˆè€—æ•°æ®ã€‚(æ‘˜è‡ªç»´åŸºç™¾ç§‘ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜) æ³¨æ„ï¼š ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ä¸­çš„å†…å­˜ç¼“å­˜åŒºçš„ä¸»è¦åŠŸèƒ½æ˜¯æ•°æ®åœ¨å¤šçº¿ç¨‹é—´çš„å…±äº«ï¼Œæ­¤å¤–ï¼Œé€šè¿‡è¯¥ç¼“å†²åŒºï¼Œå¯ä»¥ç¼“è§£ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æ€§èƒ½å·®ï¼› å‡†å¤‡åŸºç¡€ä»£ç ï¼šæ— é€šä¿¡çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æˆ‘ä»¬æ¥è‡ªå·±ç¼–å†™ä¸€ä¸ªä¾‹å­ï¼šä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œå¹¶ä¸”è®©ä»–ä»¬è®©ä»–ä»¬ä½¿ç”¨åŒä¸€ä¸ªå…±äº«èµ„æºï¼Œå¹¶ä¸”æˆ‘ä»¬æœŸæœ›çš„æ˜¯ç”Ÿäº§è€…ç”Ÿäº§ä¸€æ¡æ”¾åˆ°å…±äº«èµ„æºä¸­ï¼Œæ¶ˆè´¹è€…å°±ä¼šå¯¹åº”åœ°æ¶ˆè´¹ä¸€æ¡ã€‚ æˆ‘ä»¬å…ˆæ¥æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„å…±äº«èµ„æºå¯¹è±¡ï¼š public class ShareResource { private String name; private String gender; /** * æ¨¡æ‹Ÿç”Ÿäº§è€…å‘å…±äº«èµ„æºå¯¹è±¡ä¸­å­˜å‚¨æ•°æ® * * @param name * @param gender */ public void push(String name, String gender) { this.name = name; this.gender = gender; } /** * æ¨¡æ‹Ÿæ¶ˆè´¹è€…ä»å…±äº«èµ„æºä¸­å–å‡ºæ•°æ® */ public void popup() { System.out.println(this.name + \"-\" + this.gender); } } ç„¶åæ¥ç¼–å†™æˆ‘ä»¬çš„ç”Ÿäº§è€…ï¼Œä½¿ç”¨å¾ªç¯æ¥äº¤æ›¿åœ°å‘å…±äº«èµ„æºä¸­æ·»åŠ ä¸åŒçš„æ•°æ®ï¼š public class Producer implements Runnable { private ShareResource shareResource; public Producer(ShareResource shareResource) { this.shareResource = shareResource; } @Override public void run() { for (int i = 0; i &lt; 50; i++) { if (i % 2 == 0) { shareResource.push(\"å‡¤å§\", \"å¥³\"); } else { shareResource.push(\"å¼ ä¸‰\", \"ç”·\"); } } } } æ¥ç€è®©æˆ‘ä»¬çš„æ¶ˆè´¹è€…ä¸åœåœ°æ¶ˆè´¹ç”Ÿäº§è€…äº§ç”Ÿçš„æ•°æ®ï¼š public class Consumer implements Runnable { private ShareResource shareResource; public Consumer(ShareResource shareResource) { this.shareResource = shareResource; } @Override public void run() { for (int i = 0; i &lt; 50; i++) { shareResource.popup(); } } } ç„¶åæˆ‘ä»¬å†™ä¸€æ®µæµ‹è¯•ä»£ç ï¼Œæ¥çœ‹çœ‹æ•ˆæœï¼š public static void main(String[] args) { // åˆ›å»ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å…±äº«èµ„æºå¯¹è±¡ ShareResource shareResource = new ShareResource(); // å¯åŠ¨ç”Ÿäº§è€…çº¿ç¨‹ new Thread(new Producer(shareResource)).start(); // å¯åŠ¨æ¶ˆè´¹è€…çº¿ç¨‹ new Thread(new Consumer(shareResource)).start(); } æˆ‘ä»¬è¿è¡Œå‘ç°å‡ºç°äº†è¯¡å¼‚çš„ç°è±¡ï¼Œæ‰€æœ‰çš„ç”Ÿäº§è€…éƒ½ä¼¼ä¹æ¶ˆè´¹åˆ°äº†åŒä¸€æ¡æ•°æ®ï¼š å¼ ä¸‰-ç”· å¼ ä¸‰-ç”· ....ä»¥ä¸‹å…¨æ˜¯å¼ ä¸‰-ç”·....ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µå‘¢ï¼Ÿç…§ç†è¯´ï¼Œæˆ‘çš„ç”Ÿäº§è€…åœ¨äº¤æ›¿åœ°å‘å…±äº«èµ„æºä¸­ç”Ÿäº§æ•°æ®ï¼Œæ¶ˆè´¹è€…ä¹Ÿåº”è¯¥äº¤æ›¿æ¶ˆè´¹æ‰å¯¹å‘€..æˆ‘ä»¬å¤§èƒ†çŒœæµ‹ä¸€ä¸‹ï¼Œä¼šä¸ä¼šæ˜¯å› ä¸ºæ¶ˆè´¹è€…æ˜¯ç›´æ¥å¾ªç¯äº† 30 æ¬¡æ‰“å°å…±äº«èµ„æºä¸­çš„æ•°æ®ï¼Œè€Œæ­¤æ—¶ç”Ÿäº§è€…è¿˜æ²¡æœ‰æ¥å¾—åŠæ›´æ–°å…±äº«èµ„æºä¸­çš„æ•°æ®ï¼Œæ¶ˆè´¹è€…å°±å·²ç»è¿ç»­æ‰“å°äº† 30 æ¬¡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è®©æ¶ˆè´¹è€…æ¶ˆè´¹çš„æ—¶å€™ä»¥åŠç”Ÿäº§è€…ç”Ÿäº§çš„æ—¶å€™éƒ½å°ç¡ä¸ª 10 ms æ¥ç¼“è§£æ¶ˆè´¹å¤ªå¿« or ç”Ÿäº§å¤ªå¿«å¸¦æ¥çš„å½±å“ï¼Œä¹Ÿè®©ç°è±¡æ›´æ˜æ˜¾ä¸€äº›ï¼š /** * æ¨¡æ‹Ÿç”Ÿäº§è€…å‘å…±äº«èµ„æºå¯¹è±¡ä¸­å­˜å‚¨æ•°æ® * * @param name * @param gender */ public void push(String name, String gender) { try { Thread.sleep(10); } catch (InterruptedException ignored) { } this.name = name; this.gender = gender; } /** * æ¨¡æ‹Ÿæ¶ˆè´¹è€…ä»å…±äº«èµ„æºä¸­å–å‡ºæ•°æ® */ public void popup() { try { Thread.sleep(10); } catch (InterruptedException ignored) { } System.out.println(this.name + \"-\" + this.gender); } å†æ¬¡è¿è¡Œä»£ç ï¼Œå‘ç°äº†å‡ºç°äº†ä»¥ä¸‹çš„å‡ ç§æƒ…å†µï¼š é‡å¤æ¶ˆè´¹ï¼šæ¶ˆè´¹è€…è¿ç»­åœ°å‡ºç°ä¸¤æ¬¡ç›¸åŒçš„æ¶ˆè´¹æƒ…å†µï¼ˆå¼ ä¸‰-ç”·/ å¼ ä¸‰-ç”·ï¼‰ï¼› æ€§åˆ«ç´Šä¹±ï¼šæ¶ˆè´¹è€…æ¶ˆè´¹åˆ°äº†è„æ•°æ®ï¼ˆå¼ ä¸‰-å¥³/ å‡¤å§-ç”·ï¼‰ï¼› åˆ†æå‡ºç°é—®é¢˜çš„åŸå›  é‡å¤æ¶ˆè´¹ï¼šæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é‡å¤æ¶ˆè´¹çš„é—®é¢˜ï¼Œå½“ç”Ÿäº§è€…ç”Ÿäº§å‡ºä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œæ¶ˆè´¹è€…æ­£ç¡®åœ°æ¶ˆè´¹äº†ä¸€æ¡ï¼Œä½†æ˜¯å½“æ¶ˆè´¹è€…å†æ¥å…±äº«èµ„æºä¸­æ¶ˆè´¹çš„æ—¶å€™ï¼Œç”Ÿäº§è€…è¿˜æ²¡æœ‰å‡†å¤‡å¥½æ–°çš„ä¸€æ¡æ•°æ®ï¼Œæ‰€ä»¥æ¶ˆè´¹è€…å°±åˆæ¶ˆè´¹åˆ°è€æ•°æ®äº†ï¼Œè¿™å…¶ä¸­çš„æ ¹æœ¬åŸå› æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„é€Ÿç‡ä¸ä¸€è‡´ã€‚ æ€§åˆ«ç´Šä¹±ï¼šå†æ¥åˆ†æç¬¬äºŒç§æƒ…å†µã€‚ä¸åŒäºä¸Šé¢çš„æƒ…å†µï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹ç¬¬äºŒæ¡æ•°æ®æ—¶ï¼Œç”Ÿäº§è€…ä¹Ÿæ­£åœ¨ç”Ÿäº§æ–°çš„æ•°æ®ï¼Œä½†æ˜¯å°´å°¬çš„æ˜¯ï¼Œç”Ÿäº§è€…åªç”Ÿäº§äº†ä¸€åŠå„¿ï¼ˆä¹Ÿå°±æ˜¯è¯¥æ‰§è¡Œå®Œ this.name = nameï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿˜æ²¡æœ‰æ¥å¾—åŠç»™ gender èµ‹å€¼å°±è¢«æ¶ˆè´¹è€…ç»™å–èµ°æ¶ˆè´¹äº†.. é€ æˆè¿™æ ·æƒ…å†µçš„æ ¹æœ¬åŸå› æ˜¯æ²¡æœ‰ä¿è¯ç”Ÿäº§è€…ç”Ÿäº§æ•°æ®çš„åŸå­æ€§ã€‚ è§£å†³å‡ºç°çš„é—®é¢˜åŠ é”è§£å†³æ€§åˆ«ç´Šä¹±æˆ‘ä»¬å…ˆæ¥è§£å†³æ€§åˆ«ç´Šä¹±ï¼Œä¹Ÿå°±æ˜¯åŸå­æ€§çš„é—®é¢˜å§ï¼Œä¸Šä¸€ç¯‡æ–‡ç« é‡Œæˆ‘ä»¬ä¹Ÿæåˆ°äº†ï¼Œå¯¹äºè¿™æ ·çš„åŸå­æ€§æ“ä½œï¼Œè§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼šåŠ é”ã€‚ç¨å¾®æ”¹é€ ä¸€ä¸‹å°±å¥½äº†ï¼š /** * æ¨¡æ‹Ÿç”Ÿäº§è€…å‘å…±äº«èµ„æºå¯¹è±¡ä¸­å­˜å‚¨æ•°æ® * * @param name * @param gender */ synchronized public void push(String name, String gender) { this.name = name; try { Thread.sleep(10); } catch (InterruptedException ignored) { } this.gender = gender; } /** * æ¨¡æ‹Ÿæ¶ˆè´¹è€…ä»å…±äº«èµ„æºä¸­å–å‡ºæ•°æ® */ synchronized public void popup() { try { Thread.sleep(10); } catch (InterruptedException ignored) { } System.out.println(this.name + \"-\" + this.gender); } æˆ‘ä»¬åœ¨æ–¹æ³•å‰é¢éƒ½åŠ ä¸Šäº† synchronized å…³é”®å­—ï¼Œæ¥ä¿è¯æ¯ä¸€æ¬¡è¯»å–å’Œä¿®æ”¹éƒ½åªèƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ˜¯å› ä¸ºå½“ synchronized ä¿®é¥°åœ¨æ™®é€šåŒæ­¥æ–¹æ³•ä¸Šæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é”ä½å½“å‰å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ ·æ”¹é€ ä¹‹åè¯»/ å†™æ“ä½œåŒæ—¶åªèƒ½è¿›è¡Œå…¶ä¸€ï¼› æˆ‘æŠŠ push æ–¹æ³•å°ç¡çš„ä»£ç æ”¹åœ¨äº†èµ‹å€¼ name å’Œ gender çš„ä¸­é—´ï¼Œä»¥å¼ºåŒ–éªŒè¯åŸå­æ€§æ“ä½œæ˜¯å¦æˆåŠŸï¼Œå› ä¸ºå¦‚æœä¸æ˜¯åŸå­æ€§çš„è¯ï¼Œå°±å¾ˆå¯èƒ½å‡ºç°èµ‹å€¼ name è¿˜æ²¡èµ‹å€¼ç»™ gender å°±è¢«å–èµ°çš„æƒ…å†µï¼Œå°ç¡ä¸€ä¼šå„¿æ˜¯ä¸ºäº†åŠ å¼ºè¿™ç§æƒ…å†µçš„å‡ºç°æ¦‚ç‡ï¼ˆå¯ä»¥è¯•ç€æŠŠ synchronized å»æ‰çœ‹çœ‹æ•ˆæœï¼‰ï¼› è¿è¡Œä»£ç åå‘ç°ï¼Œå¹¶æ²¡æœ‰å‡ºç°æ€§åˆ«ç´Šä¹±çš„ç°è±¡äº†ï¼Œä½†æ˜¯é‡å¤æ¶ˆè´¹ä»ç„¶å­˜åœ¨ã€‚ ç­‰å¾…å”¤é†’æœºåˆ¶è§£å†³é‡å¤æ¶ˆè´¹æˆ‘ä»¬æœŸæœ›çš„æ˜¯ å¼ ä¸‰-ç”· å’Œ å‡¤å§-å¥³ äº¤æ›¿å‡ºç°ï¼Œè€Œä¸æ˜¯æœ‰é‡å¤æ¶ˆè´¹çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´éœ€è¦ä¸€ç‚¹æ²Ÿé€šï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œæˆ‘ä»¬æ–°å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ï¼Œç„¶ååœ¨æ¶ˆè´¹è€…ä¸­ä½¿ç”¨ while å¾ªç¯åˆ¤æ–­ï¼Œä¸æ»¡è¶³æ¡ä»¶åˆ™ä¸æ¶ˆè´¹ï¼Œæ¡ä»¶æ»¡è¶³åˆ™é€€å‡º while å¾ªç¯ï¼Œä»è€Œå®Œæˆæ¶ˆè´¹è€…çš„å·¥ä½œã€‚ while (value != desire) { Thread.sleep(10); } doSomething(); è¿™æ ·åšçš„ç›®çš„å°±æ˜¯ä¸ºäº†é˜²æ­¢ã€Œè¿‡å¿«çš„æ— æ•ˆå°è¯•ã€ï¼Œè¿™ç§æ–¹æ³•çœ‹ä¼¼èƒ½å¤Ÿå®ç°æ‰€éœ€çš„åŠŸèƒ½ï¼Œä½†æ˜¯å´å­˜åœ¨å¦‚ä¸‹çš„é—®é¢˜ï¼š 1ï¼‰éš¾ä»¥ç¡®ä¿åŠæ—¶æ€§ã€‚åœ¨ç¡çœ æ—¶ï¼ŒåŸºæœ¬ä¸æ¶ˆè€—å¤„ç†å™¨çš„èµ„æºï¼Œä½†æ˜¯å¦‚æœç¡å¾—è¿‡ä¹…ï¼Œå°±ä¸èƒ½åŠæ—¶å‘ç°æ¡ä»¶å·²ç»å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯åŠæ—¶æ€§éš¾ä»¥ä¿è¯ï¼› 2ï¼‰éš¾ä»¥é™ä½å¼€é”€ã€‚å¦‚æœé™ä½ç¡çœ çš„æ—¶é—´ï¼Œæ¯”å¦‚ä¼‘çœ  1 æ¯«ç§’ï¼Œè¿™æ ·æ¶ˆè´¹è€…èƒ½å¤Ÿæ›´åŠ è¿…é€Ÿåœ°å‘ç°æ¡ä»¶å˜åŒ–ï¼Œä½†æ˜¯å´å¯èƒ½æ¶ˆè€—æ›´å¤šçš„å¤„ç†èµ„æºï¼Œé€ æˆäº†æ— ç«¯çš„æµªè´¹ã€‚ ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜å—ï¼Œçœ‹ä¼¼çŸ›ç›¾éš¾ä»¥è°ƒå’Œï¼Œä½†æ˜¯ Java é€šè¿‡å†…ç½®çš„ç­‰å¾…/ é€šçŸ¥æœºåˆ¶èƒ½å¤Ÿå¾ˆå¥½åœ°è§£å†³è¿™ä¸ªçŸ›ç›¾å¹¶å®ç°æ‰€éœ€çš„åŠŸèƒ½ã€‚ ç­‰å¾…/ é€šçŸ¥æœºåˆ¶ï¼Œæ˜¯æŒ‡ä¸€ä¸ªçº¿ç¨‹ A è°ƒç”¨äº†å¯¹è±¡ O çš„ wait() æ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹ B è°ƒç”¨äº†å¯¹è±¡ O çš„ notifyAll() æ–¹æ³•ï¼Œçº¿ç¨‹ A æ”¶åˆ°é€šçŸ¥åä»å¯¹è±¡ O çš„ wait() æ–¹æ³•è¿”å›ï¼Œè¿›è€Œæ‰§è¡Œåç»­æ“ä½œã€‚ä¸Šè¿°ä¸¤ä¸ªçº¿ç¨‹éƒ½æ˜¯é€šè¿‡å¯¹è±¡ O æ¥å®Œæˆäº¤äº’çš„ï¼Œè€Œå¯¹è±¡ä¸Šçš„ wait å’Œ notify/ notifyAll çš„å…³ç³»å°±å¦‚åŒå¼€å…³ä¿¡å·ä¸€æ ·ï¼Œç”¨æ¥å®Œæˆç­‰å¾…æ–¹å’Œé€šçŸ¥æ–¹ä¹‹é—´çš„äº¤äº’å·¥ä½œã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¥‡æ€ªçš„ç‚¹æ˜¯ï¼Œä¸ºä»€ä¹ˆçœ‹èµ·æ¥åƒæ˜¯çº¿ç¨‹ä¹‹é—´æ“ä½œçš„ wait å’Œ notify/ notifyAll æ–¹æ³•ä¼šæ˜¯ Object ç±»ä¸­çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ Thread ç±»ä¸­çš„æ–¹æ³•å‘¢ï¼Ÿ ç®€å•æ¥è¯´ï¼šå› ä¸º synchronized ä¸­çš„è¿™æŠŠé”å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œå› ä¸ºè¦æ»¡è¶³ä»»æ„å¯¹è±¡éƒ½èƒ½å¤Ÿè°ƒç”¨ï¼Œæ‰€ä»¥å±äº Object ç±»ï¼› ä¸“ä¸šç‚¹è¯´ï¼šå› ä¸ºè¿™äº›æ–¹æ³•åœ¨æ“ä½œåŒæ­¥çº¿ç¨‹æ—¶ï¼Œéƒ½å¿…é¡»è¦æ ‡è¯†å®ƒä»¬æ“ä½œçº¿ç¨‹çš„é”ï¼Œåªæœ‰åŒä¸€ä¸ªé”ä¸Šçš„è¢«ç­‰å¾…çº¿ç¨‹ï¼Œå¯ä»¥è¢«åŒä¸€ä¸ªé”ä¸Šçš„ notify å”¤é†’ï¼Œä¸å¯ä»¥å¯¹ä¸åŒé”ä¸­çš„çº¿ç¨‹è¿›è¡Œå”¤é†’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç­‰å¾…å’Œå”¤é†’å¿…é¡»æ˜¯åŒä¸€ä¸ªé”ã€‚è€Œé”å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥è¢«ä»»æ„å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•æ˜¯å®šä¹‰åœ¨ Object ç±»ä¸­ã€‚ å¥½ï¼Œç®€å•ä»‹ç»å®Œç­‰å¾…/ é€šçŸ¥æœºåˆ¶ï¼Œæˆ‘ä»¬å¼€å§‹æ”¹é€ å§ï¼š public class ShareResource { private String name; private String gender; // æ–°å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè¡¨ç¤ºå…±äº«èµ„æºæ˜¯å¦ä¸ºç©ºï¼Œé»˜è®¤ä¸º true private boolean isEmpty = true; /** * æ¨¡æ‹Ÿç”Ÿäº§è€…å‘å…±äº«èµ„æºå¯¹è±¡ä¸­å­˜å‚¨æ•°æ® * * @param name * @param gender */ synchronized public void push(String name, String gender) { try { while (!isEmpty) { // å½“å‰å…±äº«èµ„æºä¸ä¸ºç©ºçš„æ—¶ï¼Œåˆ™ç­‰å¾…æ¶ˆè´¹è€…æ¥æ¶ˆè´¹ // ä½¿ç”¨åŒæ­¥é”å¯¹è±¡æ¥è°ƒç”¨ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹é‡Šæ”¾åŒæ­¥é”ï¼Œè¿›å…¥ç­‰å¾…æ± ï¼Œåªèƒ½è¢«å…¶ä»–çº¿ç¨‹æ‰€å”¤é†’ this.wait(); } // å¼€å§‹ç”Ÿäº§ this.name = name; Thread.sleep(10); this.gender = gender; // ç”Ÿäº§ç»“æŸ isEmpty = false; // ç”Ÿäº§ç»“æŸå”¤é†’ä¸€ä¸ªæ¶ˆè´¹è€…æ¥æ¶ˆè´¹ this.notify(); } catch (Exception ignored) { } } /** * æ¨¡æ‹Ÿæ¶ˆè´¹è€…ä»å…±äº«èµ„æºä¸­å–å‡ºæ•°æ® */ synchronized public void popup() { try { while (isEmpty) { // ä¸ºç©ºåˆ™ç­‰ç€ç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§ // ä½¿ç”¨åŒæ­¥é”å¯¹è±¡æ¥è°ƒç”¨ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹é‡Šæ”¾åŒæ­¥é”ï¼Œè¿›å…¥ç­‰å¾…æ± ï¼Œåªèƒ½è¢«å…¶ä»–çº¿ç¨‹æ‰€å”¤é†’ this.wait(); } // æ¶ˆè´¹å¼€å§‹ Thread.sleep(10); System.out.println(this.name + \"-\" + this.gender); // æ¶ˆè´¹ç»“æŸ isEmpty = true; // æ¶ˆè´¹ç»“æŸå”¤é†’ä¸€ä¸ªç”Ÿäº§è€…å»ç”Ÿäº§ this.notify(); } catch (InterruptedException ignored) { } } } æˆ‘ä»¬æœŸæœ›ç”Ÿäº§è€…ç”Ÿäº§ä¸€æ¡ï¼Œç„¶åå°±å»é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¡ï¼Œé‚£ä¹ˆåœ¨ç”Ÿäº§å’Œæ¶ˆè´¹ä¹‹å‰ï¼Œéƒ½éœ€è¦è€ƒè™‘å½“å‰æ˜¯å¦éœ€è¦ç”Ÿäº§ or æ¶ˆè´¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ªæ ‡å¿—ä½æ¥åˆ¤æ–­ï¼Œå¦‚æœä¸æ»¡è¶³åˆ™ç­‰å¾…ï¼› è¢«é€šçŸ¥åä»ç„¶è¦æ£€æŸ¥æ¡ä»¶ï¼Œæ¡ä»¶æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œæˆ‘ä»¬ç›¸åº”çš„ç”Ÿäº§ or æ¶ˆè´¹çš„é€»è¾‘ï¼Œç„¶åæ”¹å˜æ¡ä»¶ï¼ˆè¿™é‡Œæ˜¯ isEmptyï¼‰ï¼Œå¹¶ä¸”é€šçŸ¥æ‰€æœ‰ç­‰å¾…åœ¨å¯¹è±¡ä¸Šçš„çº¿ç¨‹ï¼› æ³¨æ„ï¼šä¸Šé¢çš„ä»£ç ä¸­é€šçŸ¥ä½¿ç”¨çš„ notify() æ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸ºä¾‹å­ä¸­å†™æ­»äº†åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ï¼Œåœ¨å®é™…æƒ…å†µä¸­å»ºè®®è¿˜æ˜¯ä½¿ç”¨ notifyAll() æ–¹æ³•ï¼Œè¿™æ ·å¤šä¸ªæ¶ˆè´¹å’Œç”Ÿäº§è€…é€»è¾‘ä¹Ÿèƒ½å¤Ÿä¿è¯ï¼ˆå¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼‰ï¼› å°ç»“é€šè¿‡åˆå§‹ç‰ˆæœ¬ä¸€æ­¥æ­¥åœ°åˆ†æé—®é¢˜å’Œè§£å†³é—®é¢˜ï¼Œæˆ‘ä»¬å°±å·®ä¸å¤šå†™å‡ºäº†æˆ‘ä»¬ç»å…¸ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„ç»å…¸ä»£ç ï¼Œä½†é€šå¸¸æ¶ˆè´¹å’Œç”Ÿäº§çš„é€»è¾‘æ˜¯å†™åœ¨å„è‡ªçš„æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä»£ç é‡Œçš„ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼ŒæŠŠä»–ä»¬éƒ½æŠ½ç¦»åˆ°äº†å…±äº«èµ„æºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å†æ¥å›é¡¾ä¸€ä¸‹è¿™ä¸ªæ¶ˆè´¹ç”Ÿäº§å’Œç­‰å¾…é€šçŸ¥çš„æ•´ä¸ªè¿‡ç¨‹ï¼š ä»¥ä¸Šå°±æ˜¯å…³äºç”Ÿäº§è€…ç”Ÿäº§ä¸€æ¡æ•°æ®ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡çš„è¿‡ç¨‹äº†ï¼Œæ¶‰åŠçš„ä¸€äº›å…·ä½“ç»†èŠ‚æˆ‘ä»¬ä¸‹é¢æ¥è¯´ã€‚ äºŒã€çº¿ç¨‹é—´çš„é€šä¿¡æ–¹å¼ ç­‰å¾…å”¤é†’æœºåˆ¶çš„æ›¿ä»£ï¼šLock å’Œ Conditionæˆ‘ä»¬ä»ä¸Šé¢çš„ä¸­çœ‹åˆ°äº† wait() å’Œ notify() æ–¹æ³•ï¼Œåªèƒ½è¢«åŒæ­¥ç›‘å¬é”å¯¹è±¡æ¥è°ƒç”¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥å‡º IllegalMonitorZStateException çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆç°åœ¨é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æåˆ°çš„ Lock æœºåˆ¶æ ¹æœ¬å°±æ²¡æœ‰åŒæ­¥é”äº†ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è‡ªåŠ¨è·å–é”å’Œè‡ªåŠ¨é‡Šæ”¾é”çš„æ¦‚å¿µï¼Œå› ä¸ºæ²¡æœ‰åŒæ­¥é”ï¼Œä¹Ÿå°±æ„å‘³ç€ Lock æœºåˆ¶ä¸èƒ½è°ƒç”¨ wait å’Œ notify æ–¹æ³•ï¼Œæˆ‘ä»¬æ€ä¹ˆåŠå‘¢ï¼Ÿ å¥½åœ¨ Java 5 ä¸­æä¾›äº† Lock æœºåˆ¶çš„åŒæ—¶ä¹Ÿæä¾›äº†ç”¨äº Lock æœºåˆ¶æ§åˆ¶é€šä¿¡çš„ Condition æ¥å£ï¼Œå¦‚æœå¤§å®¶ç†è§£äº†ä¸Šé¢è¯´åˆ°çš„ Object.wait() å’Œ Object.notify() æ–¹æ³•çš„è¯ï¼Œé‚£ä¹ˆå°±èƒ½å¾ˆå®¹æ˜“åœ°ç†è§£ Condition å¯¹è±¡äº†ã€‚ å®ƒå’Œ wait() å’Œ notify() æ–¹æ³•çš„ä½œç”¨æ˜¯å¤§è‡´ç›¸åŒçš„ï¼Œåªä¸è¿‡åè€…æ˜¯é…åˆ synchronized å…³é”®å­—ä½¿ç”¨çš„ï¼Œè€Œ Condition æ˜¯ä¸é‡å…¥é”ç›¸å…³è”çš„ã€‚é€šè¿‡ Lock æ¥å£ï¼ˆé‡å…¥é”å°±å®ç°äº†è¿™ä¸€æ¥å£ï¼‰çš„ newCondition() æ–¹æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸å½“å‰é‡å…¥é”ç»‘å®šçš„ Condition å®ä¾‹ã€‚åˆ©ç”¨ Condition å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©çº¿ç¨‹åœ¨åˆé€‚çš„æ—¶é—´ç­‰å¾…ï¼Œæˆ–è€…åœ¨æŸä¸€ä¸ªç‰¹å®šçš„æ—¶åˆ»å¾—åˆ°é€šçŸ¥ï¼Œç»§ç»­æ‰§è¡Œã€‚ æˆ‘ä»¬æ‹¿ä¸Šé¢çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¥ä¸¾ä¾‹ï¼Œä¿®æ”¹æˆ Lock å’Œ Condition ä»£ç å¦‚ä¸‹ï¼š public class ShareResource { private String name; private String gender; // æ–°å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè¡¨ç¤ºå…±äº«èµ„æºæ˜¯å¦ä¸ºç©ºï¼Œé»˜è®¤ä¸º true private boolean isEmpty = true; private Lock lock = new ReentrantLock(); private Condition condition = lock.newCondition(); /** * æ¨¡æ‹Ÿç”Ÿäº§è€…å‘å…±äº«èµ„æºå¯¹è±¡ä¸­å­˜å‚¨æ•°æ® * * @param name * @param gender */ public void push(String name, String gender) { lock.lock(); try { while (!isEmpty) { // å½“å‰å…±äº«èµ„æºä¸ä¸ºç©ºçš„æ—¶ï¼Œåˆ™ç­‰å¾…æ¶ˆè´¹è€…æ¥æ¶ˆè´¹ condition.await(); } // å¼€å§‹ç”Ÿäº§ this.name = name; Thread.sleep(10); this.gender = gender; // ç”Ÿäº§ç»“æŸ isEmpty = false; // ç”Ÿäº§ç»“æŸå”¤é†’æ¶ˆè´¹è€…æ¥æ¶ˆè´¹ condition.signalAll(); } catch (Exception ignored) { } finally { lock.unlock(); } } /** * æ¨¡æ‹Ÿæ¶ˆè´¹è€…ä»å…±äº«èµ„æºä¸­å–å‡ºæ•°æ® */ public void popup() { lock.lock(); try { while (isEmpty) { // ä¸ºç©ºåˆ™ç­‰ç€ç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§ condition.await(); } // æ¶ˆè´¹å¼€å§‹ Thread.sleep(10); System.out.println(this.name + \"-\" + this.gender); // æ¶ˆè´¹ç»“æŸ isEmpty = true; // æ¶ˆè´¹ç»“æŸå”¤é†’ç”Ÿäº§è€…å»ç”Ÿäº§ condition.signalAll(); } catch (InterruptedException ignored) { } finally { lock.unlock(); } } } åœ¨ JDK å†…éƒ¨ï¼Œé‡å…¥é”å’Œ Condition å¯¹è±¡è¢«å¹¿æ³›åœ°ä½¿ç”¨ï¼Œä»¥ ArrayBlockingQueue ä¸ºä¾‹ï¼Œå®ƒçš„ put() æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š /** Main lock guarding all access */ final ReentrantLock lock; /** Condition for waiting takes */ private final Condition notEmpty; /** Condition for waiting puts */ private final Condition notFull; // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–é”ä»¥åŠå¯¹åº”çš„ Condition å¯¹è±¡ public ArrayBlockingQueue(int capacity, boolean fair) { if (capacity &lt;= 0) throw new IllegalArgumentException(); this.items = new Object[capacity]; lock = new ReentrantLock(fair); notEmpty = lock.newCondition(); notFull = lock.newCondition(); } public void put(E e) throws InterruptedException { checkNotNull(e); final ReentrantLock lock = this.lock; lock.lockInterruptibly(); try { while (count == items.length) // ç­‰å¾…é˜Ÿåˆ—æœ‰è¶³å¤Ÿçš„ç©ºé—´ notFull.await(); enqueue(e); } finally { lock.unlock(); } } private void enqueue(E x) { // assert lock.getHoldCount() == 1; // assert items[putIndex] == null; final Object[] items = this.items; items[putIndex] = x; if (++putIndex == items.length) putIndex = 0; count++; // é€šçŸ¥éœ€è¦ take() çš„çº¿ç¨‹ï¼Œé˜Ÿåˆ—å·²æœ‰æ•°æ® notEmpty.signal(); } åŒç†ï¼Œå¯¹åº”çš„ take() æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š public E take() throws InterruptedException { final ReentrantLock lock = this.lock; lock.lockInterruptibly(); try { while (count == 0) // å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æ¶ˆè´¹è€…é˜Ÿåˆ—è¦ç­‰å¾…ä¸€ä¸ªéç©ºçš„ä¿¡å· notEmpty.await(); return dequeue(); } finally { lock.unlock(); } } å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼šä¿¡å·é‡(Semaphore) ä»¥ä¸‹å†…å®¹æ‘˜å½• or æ”¹ç¼–è‡ª ã€Šå®æˆ˜ Java é«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹ 3.1.3 èŠ‚çš„å†…å®¹ ä¿¡å·é‡ä¸ºå¤šçº¿ç¨‹åä½œæä¾›äº†æ›´ä¸ºå¼ºå¤§çš„æ§åˆ¶æ–¹æ³•ã€‚å¹¿ä¹‰ä¸Šè¯´ï¼Œä¿¡å·é‡æ˜¯å¯¹é”çš„æ‰©å±•ï¼Œæ— è®ºæ˜¯å†…éƒ¨é” synchronized è¿˜æ˜¯é‡å…¥é” ReentrantLockï¼Œä¸€æ¬¡éƒ½åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªèµ„æºï¼Œè€Œä¿¡å·é‡å´å¯ä»¥æŒ‡å®šå¤šä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶è®¿é—®æŸä¸€ä¸ªèµ„æºã€‚ä¿¡å·é‡ä¸»è¦æä¾›äº†ä»¥ä¸‹æ„é€ å‡½æ•°ï¼š public Semaphore(int permits) public Semaphore(int permits, boolean fair) // ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šæ˜¯å¦å…¬å¹³ åœ¨æ„é€ ä¿¡å·é‡å¯¹è±¡æ—¶ï¼Œå¿…é¡»è¦æŒ‡å®šä¿¡å·é‡çš„å‡†å…¥æ•°ï¼Œå³åŒæ—¶èƒ½ç”³è¯·å¤šå°‘ä¸ªè®¸å¯ã€‚å½“æ¯ä¸ªçº¿ç¨‹æ¯æ¬¡åªç”³è¯·ä¸€ä¸ªè®¸å¯æ—¶ï¼Œè¿™å°±ç›¸å½“äºæŒ‡å®šäº†åŒæ—¶æœ‰å¤šå°‘ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®æŸä¸€ä¸ªèµ„æºã€‚ä¿¡å·é‡çš„ä¸»è¦é€»è¾‘å¦‚ä¸‹ï¼š public void acquire() public void acquireUninterruptibly() public boolean tryAcquire() public boolean tryAcquire(long timeout, TimeUnit unit) public void release() acquire() æ–¹æ³•å°è¯•è·å¾—ä¸€ä¸ªå‡†å…¥çš„è®¸å¯ã€‚è‹¥æ— æ³•è·å¾—ï¼Œåˆ™çº¿ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰çº¿ç¨‹é‡Šæ”¾ä¸€ä¸ªè®¸å¯æˆ–è€…å½“å‰çº¿ç¨‹è¢«ä¸­æ–­ã€‚ acquireUninterruptibly() æ–¹æ³•å’Œ acquire() æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯ä¸å“åº”ä¸­æ–­ã€‚ tryAcquire() å°è¯•è·å¾—ä¸€ä¸ªè®¸å¯ï¼Œå¦‚æœæˆåŠŸåˆ™è¿”å› trueï¼Œå¤±è´¥åˆ™è¿”å› falseï¼Œå®ƒä¸ä¼šè¿›è¡Œç­‰å¾…ï¼Œç«‹å³è¿”å›ã€‚ release() ç”¨äºåœ¨çº¿ç¨‹è®¿é—®èµ„æºç»“æŸåï¼Œé‡Šæ”¾ä¸€ä¸ªè®¸å¯ï¼Œä»¥ä½¿å…¶ä»–ç­‰å¾…è®¸å¯çš„çº¿ç¨‹å¯ä»¥è¿›è¡Œèµ„æºè®¿é—®ã€‚ åœ¨ JDK çš„å®˜æ–¹ Javadoc ä¸­ï¼Œå°±æœ‰ä¸€ä¸ªæœ‰å…³ä¿¡å·é‡ä½¿ç”¨çš„ç®€å•å®ä¾‹ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œå»ç¿»é˜…ä¸€ä¸‹ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªæ›´å‚»ç“œåŒ–çš„ä¾‹å­ï¼š public class SemapDemo implements Runnable { final Semaphore semaphore = new Semaphore(5); @Override public void run() { try { semaphore.acquire(); // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ Thread.sleep(2000); System.out.println(Thread.currentThread().getId() + \":done!\"); semaphore.release(); } catch (InterruptedException ignore) { } } public static void main(String[] args) { ExecutorService executorService = Executors.newFixedThreadPool(20); final SemapDemo demo = new SemapDemo(); for (int i = 0; i &lt; 20; i++) { executorService.submit(demo); } } } æ‰§è¡Œç¨‹åºï¼Œå°±ä¼šå‘ç°ç³»ç»Ÿä»¥ 5 ä¸ªçº¿ç¨‹ä¸ºå•ä½ï¼Œä¾æ¬¡è¾“å‡ºå¸¦æœ‰çº¿ç¨‹ ID çš„æç¤ºæ–‡æœ¬ã€‚ åœ¨å®ç°ä¸Šï¼ŒSemaphore å€ŸåŠ©äº†çº¿ç¨‹åŒæ­¥æ¡†æ¶ AQSï¼ˆAbstractQueuedSynchornizerï¼‰ï¼ŒåŒæ ·å€ŸåŠ©äº† AQS æ¥å®ç°çš„æ˜¯ Java ä¸­å¯é‡å…¥é”çš„å®ç°ã€‚AQS çš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼Œä½ ä»…ä»…éœ€è¦ç»§æ‰¿å®ƒï¼Œç„¶åä½¿ç”¨å®ƒæä¾›çš„ api å°±å¯ä»¥å®ç°ä»»æ„å¤æ‚çš„çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆï¼ŒAQS ä¸ºæˆ‘ä»¬åšäº†å¤§éƒ¨åˆ†çš„åŒæ­¥å·¥ä½œï¼Œæ‰€ä»¥è¿™é‡Œä¸ç»†è¯´ï¼Œä¹‹åå†æ¥è¯¦ç»†æ¢ç©¶ä¸€ä¸‹â€¦ æˆ‘ç­‰ç€ä½ ï¼šThread.join()å¦‚æœä¸€ä¸ªçº¿ç¨‹ A æ‰§è¡Œäº† thread.join() æ–¹æ³•ï¼Œå…¶å«ä¹‰æ˜¯ï¼šå½“å‰çº¿ç¨‹ A ç­‰å¾… thread çº¿ç¨‹ç»ˆæ­¢ä¹‹åæ‰ä» thread.join() è¿”å›ã€‚çº¿ç¨‹ Thread é™¤äº†æä¾› join() æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æä¾›äº† join(long millis) å’Œ join(long millis, int nanos) ä¸¤ä¸ªå…·å¤‡è¶…æ—¶ç‰¹æ€§çš„æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªè¶…æ—¶æ–¹æ³•è¡¨ç¤ºï¼Œå¦‚æœçº¿ç¨‹ Thread åœ¨ç»™å®šçš„è¶…æ—¶æ—¶é—´é‡Œæ²¡æœ‰ç»ˆæ­¢ï¼Œé‚£ä¹ˆå°†ä¼šä»è¯¥è¶…æ—¶æ–¹æ³•ä¸­è¿”å›ã€‚ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† 10 ä¸ªçº¿ç¨‹ï¼Œç¼–å· 0 ~ 9ï¼Œæ¯ä¸ªçº¿ç¨‹è°ƒç”¨å‰ä¸€ä¸ªçº¿ç¨‹çš„ join() æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹ 0 ç»“æŸäº†ï¼Œçº¿ç¨‹ 1 æ‰èƒ½ä» join() æ–¹æ³•ä¸­è¿”å›ï¼Œè€Œçº¿ç¨‹ 0 éœ€è¦ç­‰å¾… main çº¿ç¨‹ç»“æŸã€‚ public class Join { public static void main(String[] args) throws InterruptedException { Thread previous = Thread.currentThread(); for (int i = 0; i &lt; 10; i++) { // æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰å‰ä¸€ä¸ªçº¿ç¨‹çš„å¼•ç”¨ï¼Œéœ€è¦ç­‰å¾…å‰ä¸€ä¸ªçº¿ç¨‹ç»ˆæ­¢ï¼Œæ‰èƒ½ä»ç­‰å¾…ä¸­è¿”å› Thread thread = new Thread(new Domino(previous), String.valueOf(i)); thread.start(); previous = thread; } TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + \" terminate. \"); } static class Domino implements Runnable { private Thread thread; public Domino(Thread thread) { this.thread = thread; } @Override public void run() { try { thread.join(); } catch (InterruptedException ignore) { } System.out.println(Thread.currentThread().getName() + \" terminate. \"); } } } è¿è¡Œç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°ä¸‹åˆ—è¾“å‡ºï¼š main terminate. 0 terminate. 1 terminate. 2 terminate. 3 terminate. 4 terminate. 5 terminate. 6 terminate. 7 terminate. 8 terminate. 9 terminate. è¯´æ˜æ¯ä¸ªçº¿ç¨‹ç»ˆæ­¢çš„å‰æéƒ½æ˜¯å‰é©±çº¿ç¨‹çš„ç»ˆæ­¢ï¼Œæ¯ä¸ªçº¿ç¨‹ç­‰å¾…å‰é©±çº¿ç¨‹ç»“æŸåï¼Œæ‰ä» join() æ–¹æ³•ä¸­è¿”å›ï¼Œè¿™é‡Œæ¶‰åŠäº†ç­‰å¾…/ é€šçŸ¥æœºåˆ¶ï¼Œåœ¨ JDK çš„æºç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° join() çš„æ–¹æ³•å¦‚ä¸‹ï¼š public final synchronized void join(long millis) throws InterruptedException { long base = System.currentTimeMillis(); long now = 0; if (millis &lt; 0) { throw new IllegalArgumentException(\"timeout value is negative\"); } if (millis == 0) { // æ¡ä»¶ä¸æ»¡è¶³åˆ™ç»§ç»­ç­‰å¾… while (isAlive()) { wait(0); } // æ¡ä»¶ç¬¦åˆåˆ™è¿”å› } else { while (isAlive()) { long delay = millis - now; if (delay &lt;= 0) { break; } wait(delay); now = System.currentTimeMillis() - base; } } } å½“çº¿ç¨‹ç»ˆæ­¢æ—¶ï¼Œä¼šè°ƒç”¨çº¿ç¨‹è‡ªèº«çš„ notifyAll() æ–¹æ³•ï¼Œä¼šé€šçŸ¥æ‰€æœ‰ç­‰å¾…åœ¨è¯¥çº¿ç¨‹å¯¹è±¡ä¸Šçš„çº¿ç¨‹ã€‚å¯ä»¥çœ‹åˆ° join() æ–¹æ³•çš„é€»è¾‘ç»“æ„è·Ÿæˆ‘ä»¬ä¸Šé¢å†™çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…ç±»ä¼¼ï¼Œå³åŠ é”ã€å¾ªç¯å’Œå¤„ç†é€»è¾‘ä¸‰ä¸ªæ­¥éª¤ã€‚ ä¸‰ã€çº¿ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’ ä¿è¯å¯è§æ€§ï¼švolatile å…³é”®å­—æˆ‘ä»¬å…ˆä»ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­å…¥æ‰‹ï¼š private static boolean isOver = false; public static void main(String[] args) throws InterruptedException { Thread thread = new Thread(() -> { while (!isOver) { } System.out.println(\"çº¿ç¨‹å·²æ„ŸçŸ¥åˆ° isOver ç½®ä¸º trueï¼Œçº¿ç¨‹æ­£å¸¸è¿”å›!\"); }); thread.start(); Thread.sleep(500); isOver = true; System.out.println(\"isOver å·²ç½®ä¸º true\"); } æˆ‘ä»¬å¼€å¯äº†ä¸€ä¸ªä¸»çº¿ç¨‹å’Œä¸€ä¸ªå­çº¿ç¨‹ï¼Œæˆ‘ä»¬æœŸæœ›å­çº¿ç¨‹èƒ½å¤Ÿæ„ŸçŸ¥åˆ° isOver å˜é‡çš„å˜åŒ–ä»¥ç»“æŸæ‰æ­»å¾ªç¯æ­£å¸¸è¿”å›ï¼Œä½†æ˜¯è¿è¡Œç¨‹åºå´å‘ç°å¹¶ä¸æ˜¯åƒæˆ‘ä»¬æœŸæœ›çš„é‚£æ ·å‘ç”Ÿï¼Œå­çº¿ç¨‹ä¸€ç›´å¤„åœ¨äº†æ­»å¾ªç¯çš„çŠ¶æ€ï¼ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ Java å†…å­˜æ¨¡å‹å…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æœ‰å‡ ç‚¹éœ€è¦è¯´æ˜ï¼Œé¦–å…ˆéœ€è¦ææ‡‚ Java çš„å†…å­˜æ¨¡å‹ï¼š Java è™šæ‹Ÿæœºè§„èŒƒä¸­è¯•å›¾å®šä¹‰ä¸€ç§ Java å†…å­˜æ¨¡å‹ï¼ˆJava Memory Model, JMMï¼‰æ¥å±è”½æ‰å„å±‚ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœã€‚ Java å†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ã€‚æ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆWorking Memoryï¼‰ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼ˆè¯»å–ã€èµ‹å€¼ç­‰ï¼‰éƒ½å¿…é¡»åœ¨ä¸»å†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„å˜é‡ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´çš„å˜é‡å€¼çš„ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…çš„å…³ç³»å¦‚ä¸Šå›¾ã€‚ é‚£ä¹ˆä¸åŒçš„çº¿ç¨‹ä¹‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„å‘¢ï¼Ÿ åœ¨å…±äº«å†…å­˜çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´é€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€æ¥éšå¼è¿›è¡Œé€šä¿¡ï¼Œå…¸å‹çš„å…±äº«å†…å­˜é€šä¿¡æ–¹å¼å°±æ˜¯é€šè¿‡å…±äº«å¯¹è±¡è¿›è¡Œé€šä¿¡ã€‚ ä¾‹å¦‚ä¸Šå›¾çº¿ç¨‹ A ä¸ çº¿ç¨‹ B ä¹‹é—´å¦‚æœè¦é€šä¿¡çš„è¯ï¼Œé‚£ä¹ˆå°±å¿…é¡»ç»å†ä¸‹é¢ä¸¤ä¸ªæ­¥éª¤ï¼š é¦–å…ˆï¼Œçº¿ç¨‹ A æŠŠæœ¬åœ°å†…å­˜ A æ›´æ–°è¿‡çš„å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­å» ç„¶åï¼Œçº¿ç¨‹ B åˆ°ä¸»å†…å­˜ä¸­å»è¯»å–çº¿ç¨‹ A ä¹‹å‰æ›´æ–°è¿‡çš„å…±äº«å˜é‡ åœ¨æ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´æ²¡æœ‰å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡æ˜ç¡®çš„å‘é€æ¶ˆæ¯æ¥æ˜¾å¼è¿›è¡Œé€šä¿¡ï¼Œåœ¨ Java ä¸­å…¸å‹çš„æ¶ˆæ¯ä¼ é€’æ–¹å¼å°±æ˜¯ wait() å’Œ notify()ã€‚ è¯´å›åˆšæ‰å‡ºç°çš„é—®é¢˜ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬å çš„å†…å­˜åŒºåŸŸï¼Œå¦‚æ“ä½œæ ˆã€æœ¬åœ°å˜é‡è¡¨ç­‰ã€‚çº¿ç¨‹æœ¬åœ°ä¿å­˜äº†å¼•ç”¨å˜é‡åœ¨å †å†…å­˜ä¸­çš„å‰¯æœ¬ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½åœ¨æœ¬åœ°å†…å­˜åŒºåŸŸä¸­è¿›è¡Œï¼Œæ‰§è¡Œç»“æŸåå†åŒæ­¥åˆ°å †å†…å­˜ä¸­å»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹ä¸­ä¿®æ”¹çš„ isOver çš„å€¼å¹¶æ²¡æœ‰è¢«å­çº¿ç¨‹è¯»å–åˆ°ï¼ˆæ²¡æœ‰è¢«åˆ·å…¥ä¸»å†…å­˜ï¼‰ï¼Œä¹Ÿå°±é€ æˆäº†å­çº¿ç¨‹å¯¹äº isOver å˜é‡ä¸å¯è§ã€‚ è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ isOver å˜é‡å‰åŠ å…¥ volatile å…³é”®å­—å°±å¯ä»¥äº†ï¼Œè¿™æ˜¯å› ä¸ºåŠ å…¥äº† volatile ä¿®é¥°çš„å˜é‡å…è®¸ç›´æ¥ä¸ä¸»å†…å­˜äº¤äº’ï¼Œè¿›è¡Œè¯»å†™æ“ä½œï¼Œä¿è¯å¯è§æ€§ã€‚ æŒ‡ä»¤é‡æ’/ happen-before åŸåˆ™å†ä»å¦ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­ä¸­å…¥æ‰‹ï¼Œè¿™æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ä¼šå­˜åœ¨çš„é—®é¢˜ï¼š class LazyInitDemo { private static TransationService service = null; public static TransationService getTransationService(){ if (service == null) { synchronized (this) { if (service == null) { service = new TransationService(); } } } } } è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŒé‡æ£€æŸ¥é”å®šæ€æƒ³ï¼Œè¿™æ®µä»£ç ä¹Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„åŒé‡æ£€æŸ¥é”å®šï¼ˆDouble-checked Lockingï¼‰é—®é¢˜ã€‚åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œè¯¥å¯¹è±¡å¼•ç”¨åœ¨æ²¡æœ‰åŒæ­¥çš„æƒ…å†µä¸‹è¿›è¡Œè¯»å†™æ“ä½œï¼Œå¯¼è‡´ç”¨æˆ·å¯èƒ½ä¼šè·å–æœªæ„é€ å®Œæˆçš„å¯¹è±¡ã€‚ è¿™æ˜¯å› ä¸ºæŒ‡ä»¤ä¼˜åŒ–çš„ç»“æœã€‚è®¡ç®—æœºä¸ä¼šæ ¹æ®ä»£ç é¡ºåºæŒ‰éƒ¨å°±ç­åœ°æ‰§è¡Œç›¸å…³æŒ‡ä»¤ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªå€Ÿä¹¦çš„ä¾‹å­ï¼šå‡å¦‚ä½ è¦å»è¿˜ä¹¦å¹¶ä¸”æƒ³è¦å€Ÿä¸€ä¸ªã€Šé«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ ã€‹ç³»åˆ—ä¸›ä¹¦ï¼Œè€Œä½ çš„å®¤å‹æ°å¥½ä¹Ÿè¦è¿˜ä¹¦ï¼Œå¹¶ä¸”è¿˜æƒ³è®©ä½ å¸®å¿™å€Ÿä¸€æœ¬ã€ŠJava ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‹ã€‚ è¿™ä»¶äº‹ä¹ä¸€çœ‹æœ‰ä¸¤ä»¶äº‹ï¼šä½ çš„äº‹å’Œä½ å®¤å‹çš„äº‹ã€‚å…ˆåŠå®Œä½ çš„äº‹ï¼Œå†å¼€å§‹å¤„ç†ä½ å®¤å‹çš„äº‹æƒ…æ˜¯å±äºå•çº¿ç¨‹çš„æ­»æ¿è¡Œä¸ºï¼Œæ­¤æ—¶ä½ ä¼šæ½œæ„è¯†åœ°è¿›è¡Œã€Œä¼˜åŒ–ã€ï¼Œä¾‹å¦‚ä½ å¯ä»¥æŠŠä½ è¦è¿˜çš„ä¹¦å’Œä½ å®¤å‹éœ€è¦è¿˜çš„ä¹¦ä¸€èµ·è¿˜äº†ï¼Œå†ä¸€èµ·æŠŠæƒ³è¦å€Ÿçš„ä¹¦å€Ÿå‡ºæ¥ï¼Œè¿™å…¶å®å°±ç›¸å½“äºåˆå¹¶æ•°æ®è¿›è¡Œå­˜å–çš„æ“ä½œè¿‡ç¨‹äº†ã€‚ æˆ‘ä»¬çŸ¥é“ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œæ˜¯å¯ä»¥åˆ†æˆå¾ˆå¤šæ­¥éª¤çš„ï¼Œç®€å•åœ°è¯´ï¼Œå¯ä»¥åˆ†ä¸ºï¼š å–å€¼ IF è¯‘ç å’Œå»å¯„å­˜å™¨æ“ä½œæ•° ID æ‰§è¡Œæˆ–è€…æœ‰æ•ˆåœ°å€è®¡ç®— EX å­˜å‚¨å™¨è®¿é—® MEM å†™å› WB ç”±äºæ¯ä¸€ä¸ªæ­¥éª¤å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¡¬ä»¶å®Œæˆï¼Œå› æ­¤ï¼Œèªæ˜çš„å·¥ç¨‹å¸ˆå°±å‘æ˜äº†æµæ°´çº¿æŠ€æœ¯æ¥æ‰§è¡ŒæŒ‡ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°ï¼Œå½“ç¬¬ 2 æ¡æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œç¬¬ 1 æ¡æ‰§è¡Œå…¶å®å¹¶æ²¡æœ‰æ‰§è¡Œå®Œï¼Œç¡®åˆ‡åœ°è¯´ç¬¬ä¸€æ¡æŒ‡ä»¤è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œï¼Œåªæ˜¯åˆšåˆšå®Œæˆäº†å–å€¼æ“ä½œè€Œå·²ã€‚è¿™æ ·çš„å¥½å¤„éå¸¸æ˜æ˜¾ï¼Œå‡å¦‚è¿™é‡Œæ¯ä¸€ä¸ªæ­¥éª¤éƒ½éœ€è¦èŠ±è´¹ 1 æ¯«ç§’ï¼Œé‚£ä¹ˆæŒ‡ä»¤ 2 ç­‰å¾…æŒ‡ä»¤ 1 å®Œå…¨æ‰§è¡Œåå†æ‰§è¡Œï¼Œåˆ™éœ€è¦ç­‰å¾… 5 æ¯«ç§’ï¼Œè€Œä½¿ç”¨æµæ°´çº¿æŒ‡ä»¤ï¼ŒæŒ‡ä»¤ 2 åªéœ€è¦ç­‰å¾… 1 æ¯«ç§’å°±å¯ä»¥æ‰§è¡Œäº†ã€‚å¦‚æ­¤å¤§çš„æ€§èƒ½æå‡ï¼Œå½“ç„¶è®©äººçœ¼çº¢ã€‚ å›åˆ°æœ€åˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼šå¯¹äº Java ç¼–è¯‘å™¨æ¥è¯´ï¼Œåˆå§‹åŒ– TransactionService å®ä¾‹å’Œå°†å¯¹è±¡åœ°å€å†™åˆ° service å­—æ®µå¹¶éåŸå­æ“ä½œï¼Œä¸”è¿™ä¸¤ä¸ªé˜¶æ®µçš„æ‰§è¡Œé¡ºåºæ˜¯æœªå®šä¹‰çš„ã€‚åŠ å…¥æŸä¸ªçº¿ç¨‹æ‰§è¡Œ new TransactionService() æ—¶ï¼Œæ„é€ æ–¹æ³•è¿˜æœªè¢«è°ƒç”¨ï¼Œç¼–è¯‘å™¨ä»…ä»…ä¸ºè¯¥å¯¹è±¡åˆ†é…äº†å†…å­˜ç©ºé—´å¹¶è®¾ä¸ºé»˜è®¤å€¼ï¼Œæ­¤æ—¶è‹¥å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ getTransactionService() æ–¹æ³•ï¼Œç”±äº service != nullï¼Œä½†æ˜¯æ­¤æ—¶ service å¯¹è±¡è¿˜æ²¡æœ‰è¢«èµ‹äºˆçœŸæ­£çš„æœ‰æ•ˆå€¼ï¼Œä»è€Œæ— æ³•å–åˆ°æ­£ç¡®çš„ service å•ä¾‹å¯¹è±¡ã€‚ å¯¹äºæ­¤é—®é¢˜ï¼Œä¸€ç§è¾ƒä¸ºç®€å•çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ç”¨ volatile å…³é”®å­—ä¿®é¥°ç›®æ ‡å±æ€§ï¼ˆé€‚ç”¨äº JDK5 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼Œè¿™æ · service å°±é™åˆ¶äº†ç¼–è¯‘å™¨å¯¹å®ƒçš„ç›¸å…³è¯»å†™æ“ä½œï¼Œå¯¹å®ƒçš„è¯»å†™æ“ä½œè¿›è¡ŒæŒ‡ä»¤é‡æ’ï¼Œç¡®å®šå¯¹è±¡å®ä¾‹åŒ–ä¹‹åæ‰è¿”å›å¼•ç”¨ã€‚ å¦å¤–æŒ‡ä»¤é‡æ’ä¹Ÿæœ‰è‡ªå·±çš„è§„åˆ™ï¼Œå¹¶éæ‰€æœ‰çš„æŒ‡ä»¤éƒ½å¯ä»¥éšæ„æ”¹å˜æ‰§è¡Œä½ç½®ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹åŸºæœ¬çš„åŸåˆ™ï¼š ç¨‹åºæ¬¡åºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”Ÿäºä¹¦å†™åœ¨åé¢çš„æ“ä½œï¼› é”å®šè§„åˆ™ï¼šä¸€ä¸ª unLock æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„ lock æ“ä½œï¼› volatile å˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ªå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼› ä¼ é€’è§„åˆ™ï¼šå¦‚æœæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Bï¼Œè€Œæ“ä½œ B åˆå…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cï¼Œåˆ™å¯ä»¥å¾—å‡ºæ“ä½œ A å…ˆè¡Œå‘ç”Ÿäºæ“ä½œ Cï¼› çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼šThread å¯¹è±¡çš„ start() æ–¹æ³•å…ˆè¡Œå‘ç”Ÿäºæ­¤çº¿ç¨‹çš„æ¯ä¸ªä¸€ä¸ªåŠ¨ä½œï¼› çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼šå¯¹çº¿ç¨‹ interrupt() æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼› çº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Thread.join() æ–¹æ³•ç»“æŸã€Thread.isAlive() çš„è¿”å›å€¼æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œï¼› å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆè¡Œå‘ç”Ÿäºä»–çš„ finalize() æ–¹æ³•çš„å¼€å§‹ï¼› volatile ä¸ä¿è¯åŸå­æ€§volatile è§£å†³çš„æ˜¯å¤šçº¿ç¨‹å…±äº«å˜é‡çš„å¯è§æ€§é—®é¢˜ï¼Œç±»ä¼¼äº synchronizedï¼Œä½†ä¸å…·å¤‡ synchronized çš„äº’æ–¥æ€§ã€‚æ‰€ä»¥å¯¹ volatile å˜é‡çš„æ“ä½œå¹¶ééƒ½å…·æœ‰åŸå­æ€§ï¼Œä¾‹å¦‚æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä¾‹å­æ¥è¯´æ˜ï¼š public class VolatileNotAtomic { private static volatile long count = 0L; private static final int NUMBER = 10000; public static void main(String[] args) { Thread subtractThread = new SubstractThread(); subtractThread.start(); for (int i = 0; i &lt; NUMBER; i++) { count++; } // ç­‰å¾…å‡æ³•çº¿ç¨‹ç»“æŸ while (subtractThread.isAlive()) { } System.out.println(\"count æœ€åçš„å€¼ä¸º: \" + count); } private static class SubstractThread extends Thread { @Override public void run() { for (int i = 0; i &lt; NUMBER; i++) { count--; } } } } å¤šæ¬¡æ‰§è¡Œåï¼Œå‘ç°ç»“æœåŸºæœ¬éƒ½ä¸ä¸º 0ã€‚åªæœ‰åœ¨ count++ å’Œ count-- ä¸¤å¤„éƒ½è¿›è¡ŒåŠ é”æ—¶ï¼Œæ‰èƒ½æ­£ç¡®çš„è¿”å› 0ï¼Œäº†è§£ Java çš„ç«¥é‹éƒ½åº”è¯¥çŸ¥é“è¿™ count++ å’Œ count-- éƒ½ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œè¿™é‡Œå°±ä¸ä½œè¯´æ˜äº†ã€‚ volatile çš„ä½¿ç”¨ä¼˜åŒ–åœ¨äº†è§£ä¸€ç‚¹å§ï¼Œæ³¨æ˜çš„å¹¶å‘ç¼–ç¨‹å¤§å¸ˆ Doug lea åœ¨ JDK 7 çš„å¹¶å‘åŒ…é‡Œæ–°å¢ä¸€ä¸ªé˜Ÿåˆ—é›†åˆç±» LinkedTransferQueueï¼Œå®ƒåœ¨ä½¿ç”¨ volatile å˜é‡æ—¶ï¼Œç”¨ä¸€ç§è¿½åŠ å­—èŠ‚çš„æ–¹å¼æ¥ä¼˜åŒ–å¯¹åˆ—å‡ºé˜Ÿå’Œå…¥é˜Ÿçš„æ€§èƒ½ï¼Œå…·ä½“çš„å¯ä»¥çœ‹ä¸€ä¸‹ä¸‹åˆ—çš„é“¾æ¥ï¼Œè¿™é‡Œå°±ä¸å…·ä½“è¯´æ˜äº†ã€‚ è¿½åŠ å­—èŠ‚æ–¹å¼æ¥ä¼˜åŒ–é˜Ÿåˆ—æ€§èƒ½ï¼Ÿ - https://my.oschina.net/u/3694754/blog/2990652 ä¿è¯åŸå­æ€§ï¼šsynchronizedJava ä¸­ä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€ä¸ä¹‹å…³è”çš„é”ï¼Œè¿™æ ·çš„é”ä½œä¸ºè¯¥å¯¹è±¡çš„ä¸€ç³»åˆ—æ ‡å¿—ä½å­˜å‚¨åœ¨å¯¹è±¡ä¿¡æ¯çš„å¤´éƒ¨ã€‚Java å¯¹è±¡å¤´é‡Œçš„ Mark Word é‡Œé»˜è®¤çš„å­˜æ”¾çš„å¯¹è±¡çš„ Hashcode/ åˆ†ä»£å¹´é¾„å’Œé”æ ‡è®°ä½ã€‚32 ä¸ºJVM Mark Word é»˜è®¤å­˜å‚¨ç»“æ„å¦‚ä¸‹ï¼š Java SE 1.6ä¸­ï¼Œé”ä¸€å…±æœ‰ 4 ç§çŠ¶æ€ï¼Œçº§åˆ«ä»ä½åˆ°é«˜ä¾æ¬¡æ˜¯ï¼šæ— é”çŠ¶æ€ã€åå‘é”çŠ¶æ€ã€è½»é‡çº§é”çŠ¶æ€å’Œé‡é‡çº§é”çŠ¶æ€ï¼Œè¿™å‡ ä¸ªçŠ¶æ€ä¼šéšç€ç«äº‰æƒ…å†µé€æ¸å‡çº§ã€‚é”å¯ä»¥å‡çº§ä½†ä¸èƒ½é™çº§ï¼Œæ„å‘³ç€åå‘é”å‡çº§æˆè½»é‡çº§é”åä¸èƒ½é™çº§æˆåå‘é”ã€‚è¿™ç§é”å‡çº§å´ä¸èƒ½é™çº§çš„ç­–ç•¥ï¼Œç›®çš„æ˜¯ä¸ºäº†æé«˜è·å¾—é”å’Œé‡Šæ”¾é”çš„æ•ˆç‡ã€‚ åå‘é”HotSpot çš„ä½œè€…ç»è¿‡ç ”ç©¶å‘ç°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸ä»…ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ï¼Œè€Œä¸”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡è·å¾—ï¼Œä¸ºäº†è®©çº¿ç¨‹è·å¾—é”çš„ä»£ä»·æ›´ä½è€Œå¼•å…¥äº†åå‘é”ã€‚ åå‘é”çš„è·å–ï¼šå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥å—å¹¶è·å–é”æ—¶ï¼Œä¼šåœ¨å¯¹è±¡å¤´å’Œæ ˆå¸§ä¸­çš„é”è®°å½•é‡Œå­˜å‚¨é”åå‘çš„çº¿ç¨‹ IDï¼Œä»¥åè¯¥çº¿ç¨‹åœ¨è¿›å…¥å’Œé€€å‡ºåŒæ­¥å—æ—¶ä¸éœ€è¦è¿›è¡Œ CAS æ“ä½œæ¥åŠ é”å’Œè§£é”ï¼Œåªéœ€ç®€å•åœ°æµ‹è¯•ä¸€ä¸‹å¯¹è±¡å¤´çš„ Mark Word é‡Œæ˜¯å¦å­˜å‚¨ç€æŒ‡å‘å½“å‰çº¿ç¨‹çš„åå‘é”ã€‚å¦‚æœæµ‹è¯•æˆåŠŸï¼Œè¡¨ç¤ºçº¿ç¨‹å·²ç»è·å¾—äº†é”ã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œåˆ™éœ€è¦å†æµ‹è¯•ä¸€ä¸‹ Mark Word ä¸­åå‘é”çš„æ ‡è¯†æ˜¯å¦è®¾ç½®æˆ 1ï¼ˆè¡¨ç¤ºå½“å‰æ˜¯åå‘é”ï¼‰ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä½¿ç”¨CASç«äº‰é”ï¼›å¦‚æœè®¾ç½®äº†ï¼Œåˆ™å°è¯•ä½¿ç”¨CASå°†å¯¹è±¡å¤´çš„åå‘é”æŒ‡å‘å½“å‰çº¿ç¨‹ã€‚ åå‘é”çš„æ’¤é”€ï¼šåå‘é”ä½¿ç”¨äº†ä¸€ç§ç­‰åˆ°ç«äº‰å‡ºç°æ‰é‡Šæ”¾é”çš„æœºåˆ¶ï¼Œæ‰€ä»¥å½“å…¶ä»–çº¿ç¨‹å°è¯•ç«äº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ã€‚ ä¸‹å›¾çº¿ç¨‹ 1 å±•ç¤ºäº†åå‘é”è·å–çš„è¿‡ç¨‹ï¼Œçº¿ç¨‹ 2 å±•ç¤ºäº†åå‘é”æ’¤é”€çš„è¿‡ç¨‹ã€‚ è½»é‡çº§é”å’Œè‡ªæ—‹é”å¦‚æœåå‘é”å¤±è´¥ï¼Œè™šæ‹Ÿæœºå¹¶ä¸ä¼šç«‹å³æŒ‚èµ·çº¿ç¨‹ã€‚å®ƒè¿˜ä¼šä½¿ç”¨ä¸€ç§ç§°ä¸ºè½»é‡çº§é”çš„ä¼˜åŒ–æ‰‹æ®µã€‚ çº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥å—ä¹‹å‰ï¼ŒJVM ä¼šå…ˆåœ¨å½“å‰çº¿ç¨‹çš„æ ˆæ¡¢ä¸­åˆ›å»ºç”¨äºå­˜å‚¨é”è®°å½•çš„ç©ºé—´ï¼Œå¹¶å°†å¯¹è±¡å¤´ä¸­çš„ Mark Word å¤åˆ¶åˆ°é”è®°å½•ä¸­ï¼Œå®˜æ–¹ç§°ä¸º Displaced Mark Wordã€‚ç„¶åçº¿ç¨‹å°è¯•ä½¿ç”¨ CAS å°†å¯¹è±¡å¤´ä¸­çš„ Mark Word æ›¿æ¢ä¸ºæŒ‡å‘é”è®°å½•çš„æŒ‡é’ˆã€‚å¦‚æœæˆåŠŸï¼Œå½“å‰çº¿ç¨‹è·å¾—é”ï¼Œå¦‚æœå¤±è´¥ï¼Œè¡¨ç¤ºå…¶ä»–çº¿ç¨‹ç«äº‰é”ï¼Œå½“å‰çº¿ç¨‹ä¾¿å°è¯•ä½¿ç”¨è‡ªæ—‹ï¼ˆè‡ªå·±æ‰§è¡Œå‡ ä¸ªç©ºå¾ªç¯å†è¿›è¡Œå°è¯•ï¼‰æ¥è·å–é”ã€‚ è½»é‡çº§è§£é”æ—¶ï¼Œä¼šä½¿ç”¨åŸå­çš„ CAS æ“ä½œå°† Displaced Mark Word æ›¿æ¢å›åˆ°å¯¹è±¡å¤´ï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰ç«äº‰å‘ç”Ÿã€‚å¦‚æœå¤±è´¥ï¼Œè¡¨ç¤ºå½“å‰é”å­˜åœ¨ç«äº‰ï¼Œé”å°±ä¼šè†¨èƒ€æˆé‡é‡çº§é”ã€‚ä¸‹å›¾æ˜¯ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶äº‰å¤ºé”ï¼Œå¯¼è‡´é”è†¨èƒ€çš„æµç¨‹å›¾ã€‚ å‡ ç§é”çš„æ¯”è¾ƒä¸‹å›¾å°±ç®€å•æ¦‚æ‹¬äº†ä¸€ä¸‹å‡ ç§é”çš„æ¯”è¾ƒï¼š æ¯äººä¸€æ”¯ç¬”ï¼šThreadLocalé™¤äº†æ§åˆ¶èµ„æºçš„è®¿é—®å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¢åŠ èµ„æºæ¥ä¿è¯æ‰€æœ‰å¯¹è±¡çš„çº¿ç¨‹å®‰å…¨ã€‚æ¯”å¦‚ï¼Œè®© 100 ä¸ªäººå¡«å†™ä¸ªäººä¿¡æ¯è¡¨ï¼Œå¦‚æœåªæœ‰ä¸€æ”¯ç¬”ï¼Œé‚£ä¹ˆå¤§å®¶å°±å¾—æŒ¨ä¸ªå†™ï¼Œå¯¹äºç®¡ç†äººå‘˜æ¥è¯´ï¼Œå¿…é¡»ä¿è¯å¤§å®¶ä¸ä¼šå»å“„æŠ¢è¿™ä»…å­˜çš„ä¸€æ”¯ç¬”ï¼Œå¦åˆ™ï¼Œè°ä¹Ÿå¡«ä¸å®Œã€‚ä»å¦å¤–ä¸€ä¸ªè§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥å¹²è„†å°±å‡†å¤‡ 100 æ”¯ç¬”ï¼Œé‚£ä¹ˆæ‰€æœ‰äººéƒ½å¯ä»¥å„è‡ªä¸ºè¥ï¼Œå¾ˆå¿«å°±èƒ½å®Œæˆè¡¨æ ¼çš„å¡«å†™å·¥ä½œã€‚ å¦‚æœè¯´é”æ˜¯ä½¿ç”¨ç¬¬ä¸€ç§æ€è·¯ï¼Œé‚£ä¹ˆ ThreadLocal å°±æ˜¯ä½¿ç”¨ç¬¬äºŒç§æ€è·¯äº†ã€‚ å½“ä½¿ç”¨ ThreadLocal ç»´æŠ¤å˜é‡æ—¶ï¼Œå…¶ä¸ºæ¯ä¸ªä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹æä¾›ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹å¯¹åº”çš„å‰¯æœ¬ã€‚ ThreadLocal å†…éƒ¨å®ç°æœºåˆ¶ï¼š æ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šç»´æŠ¤ä¸€ä¸ªç±»ä¼¼ HashMap çš„å¯¹è±¡ï¼Œç§°ä¸º ThreadLocalMapï¼Œé‡Œè¾¹ä¼šåŒ…å«è‹¥å¹²äº† Entryï¼ˆK-V é”®å€¼å¯¹ï¼‰ï¼Œç›¸åº”çš„çº¿ç¨‹è¢«ç§°ä¸ºè¿™äº› Entry çš„å±ä¸»çº¿ç¨‹ï¼› Entry çš„ Key æ˜¯ä¸€ä¸ª ThreadLocal å®ä¾‹ï¼ŒValue æ˜¯ä¸€ä¸ªçº¿ç¨‹ç‰¹æœ‰å¯¹è±¡ã€‚Entry çš„ä½œç”¨å³æ˜¯ï¼šä¸ºå…¶å±ä¸»çº¿ç¨‹å»ºç«‹èµ·ä¸€ä¸ª ThreadLocal å®ä¾‹ä¸ä¸€ä¸ªçº¿ç¨‹ç‰¹æœ‰å¯¹è±¡ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼› Entry å¯¹ Key çš„å¼•ç”¨æ˜¯å¼±å¼•ç”¨ï¼›Entry å¯¹ Value çš„å¼•ç”¨æ˜¯å¼ºå¼•ç”¨ã€‚ ThreadLodal çš„å‰¯ä½œç”¨ä¸ºäº†è®©çº¿ç¨‹å®‰å…¨åœ°å…±äº«æŸä¸ªå˜é‡ï¼ŒJDK å¼€å‡ºäº† ThreadLocal è¿™å‰¯è¯æ–¹ï¼Œä½†ã€Œæ˜¯è¯ä¸‰åˆ†æ¯’ã€ï¼ŒThreadLocal ä¹Ÿæœ‰ä¸€å®šçš„å‰¯ä½œç”¨ã€‚ä¸»è¦é—®é¢˜æ˜¯ã€Œäº§ç”Ÿè„æ•°æ®ã€å’Œã€Œå†…å­˜æ³„æ¼ã€ã€‚è¿™ä¸¤ä¸ªé—®é¢˜é€šå¸¸æ˜¯åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨ ThreadLocal å¼•å‘çš„ï¼Œå› ä¸ºçº¿ç¨‹æ± æœ‰ ã€Œçº¿ç¨‹å¤ç”¨ã€ å’Œ ã€Œå†…å­˜å¸¸é©»ã€ ä¸¤ä¸ªç‰¹ç‚¹ã€‚ è„æ•°æ®çº¿ç¨‹å¤ç”¨ä¼šäº§ç”Ÿè„æ•°æ®ã€‚ç”±äºçº¿ç¨‹æ± ä¼šé‡ç”¨ Thread å¯¹è±¡ï¼Œé‚£ä¹ˆä¸ Thread ç»‘å®šçš„ç±»çš„é™æ€å±æ€§ ThreadLocal å˜é‡ä¹Ÿä¼šè¢«é‡ç”¨ã€‚å¦‚æœåœ¨å®ç°çš„çº¿ç¨‹ run() æ–¹æ³•ä¸­ä¸æ˜¾å¼åœ° remove() æ¸…ç†ä¸çº¿ç¨‹ç›¸å…³çš„ ThreadLocal ä¿¡æ¯ï¼Œé‚£ä¹ˆå€˜è‹¥ä¸‹ä¸€ä¸ªçº¿ç¨‹ä¸è°ƒç”¨ set() è®¾ç½®åˆå§‹å€¼ï¼Œå°±å¯èƒ½ get() åˆ°é‡ç”¨çš„çº¿ç¨‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬ ThreadLocal æ‰€å…³è”çš„çº¿ç¨‹å¯¹è±¡çš„ value å€¼ã€‚ ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œç”¨ä¸€æ®µç®€è¦ä»£ç æ¥æ¨¡æ‹Ÿï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š public class DirtyDataInThreadLocal { public static ThreadLocal&lt;String> threadLocal = new ThreadLocal&lt;>(); public static void main(String[] args) { // ä½¿ç”¨å›ºå®šå¤§å°ä¸º 1 çš„çº¿ç¨‹æ± ï¼Œè¯´æ˜ä¸Šä¸€ä¸ªçš„çº¿ç¨‹å±æ€§ä¼šè¢«ä¸‹ä¸€ä¸ªçº¿ç¨‹å±æ€§å¤ç”¨ ExecutorService pool = Executors.newFixedThreadPool(1); for (int i = 0; i &lt; 2; i++) { Mythread mythread = new Mythread(); pool.execute(mythread); } } private static class Mythread extends Thread { private static boolean flag = true; @Override public void run() { if (flag) { // ç¬¬ 1 ä¸ªçº¿ç¨‹ set åï¼Œå¹¶æ²¡æœ‰è¿›è¡Œ remove // è€Œç¬¬äºŒä¸ªçº¿ç¨‹ç”±äºæŸç§åŸå› æ²¡æœ‰è¿›è¡Œ set æ“ä½œ threadLocal.set(this.getName() + \", session info.\"); flag = false; } System.out.println(this.getName() + \" çº¿ç¨‹æ˜¯ \" + threadLocal.get()); } } } æ‰§è¡Œç»“æœï¼š Thread-0 çº¿ç¨‹æ˜¯ Thread-0, session info. Thread-1 çº¿ç¨‹æ˜¯ Thread-0, session info.å†…å­˜æ³„æ¼åœ¨æºç æ³¨é‡Šä¸­æç¤ºä½¿ç”¨ static å…³é”®å­—æ¥ä¿®é¥° ThreadLocalã€‚åœ¨æ­¤åœºæ™¯ä¸‹ï¼Œå¯„å¸Œæœ›äº ThreadLocal å¯¹è±¡å¤±å»å¼•ç”¨åï¼Œè§¦å‘å¼±å¼•ç”¨æœºåˆ¶æ¥å›æ”¶ Entry çš„ Value å°±å˜å¾—ä¸ç°å®äº†ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä¸è¿›è¡Œ remove() æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œé€šè¿‡ ThreadLocal å¯¹è±¡æŒæœ‰çš„ String å¯¹è±¡æ˜¯ä¸ä¼šè¢«é‡Šæ”¾çš„ã€‚ ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ¯æ¬¡ä½¿ç”¨å®Œ ThreadLocal æ—¶ï¼Œå¿…é¡»è¦åŠæ—¶è°ƒç”¨ remove() æ–¹æ³•æ¸…ç†ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJava é›¶åŸºç¡€å…¥é—¨æ•™ç¨‹ã€‹ - http://study.163.com/course/courseMain.htm?courseId=1003108028 ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ ã€Šç å‡ºé«˜æ•ˆ Java å¼€å‘æ‰‹å†Œã€‹ - æ¨å† å®ï¼ˆå­¤å°½ï¼‰ é«˜æµ·æ…§ï¼ˆé¸£èï¼‰è‘— Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ - https://www.wmyskxz.com/2018/05/10/java-mian-shi-zhi-shi-dian-jie-xi-er-gao-bing-fa-bian-cheng-pian/ è®©ä½ å½»åº•ç†è§£Synchronized - https://www.jianshu.com/p/d53bf830fa09 ã€ŠOfferæ¥äº† - Javaé¢è¯•æ ¸å¿ƒçŸ¥è¯†ç‚¹ç²¾è®²ã€‹ - ç‹ç£Š ç¼–è‘— ã€Šå®æˆ˜Javaé«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹ - è‘›ä¸€é¸£ éƒ­è¶… ç¼–è‘—","categories":[],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ (1)â€”â€”å¹¶å‘åŸºç¡€","slug":"é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ -1-â€”â€”å¹¶å‘åŸºç¡€","date":"2019-11-26T04:20:00.000Z","updated":"2020-08-03T09:44:55.276Z","comments":true,"path":"2019/11/26/gao-bing-fa-bian-cheng-xue-xi-1-bing-fa-ji-chu/","link":"","permalink":"http://www.wmyskxz.com/2019/11/26/gao-bing-fa-bian-cheng-xue-xi-1-bing-fa-ji-chu/","excerpt":"","text":"ä¸ºæ›´è‰¯å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨ ä¸€ã€å‰è¨€ å½“æˆ‘ä»¬ä½¿ç”¨è®¡ç®—æœºæ—¶ï¼Œå¯ä»¥åŒæ—¶åšè®¸å¤šäº‹æƒ…ï¼Œä¾‹å¦‚ä¸€è¾¹æ‰“æ¸¸æˆä¸€è¾¹å¬éŸ³ä¹ã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿæ”¯æŒå¹¶å‘ä»»åŠ¡ï¼Œä»è€Œä½¿å¾—è¿™äº›å·¥ä½œå¾—ä»¥åŒæ—¶è¿›è¡Œã€‚ é‚£ä¹ˆæå‡ºä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªç¨‹åºèƒ½ä¸€è¾¹å¬éŸ³ä¹ä¸€è¾¹ç©æ¸¸æˆæ€ä¹ˆå®ç°å‘¢ï¼Ÿ public class Tester { public static void main(String[] args) { System.out.println(\"å¼€å§‹....\"); playGame(); playMusic(); System.out.println(\"ç»“æŸ....\"); } private static void playGame() { for (int i = 0; i &lt; 50; i++) { System.out.println(\"ç©æ¸¸æˆ\" + i); } } private static void playMusic() { for (int i = 0; i &lt; 50; i++) { System.out.println(\"æ’­æ”¾éŸ³ä¹\" + i); } } } æˆ‘ä»¬ä½¿ç”¨äº†å¾ªç¯æ¥æ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œå› ä¸ºæ’­æ”¾éŸ³ä¹å’Œæ‰“æ¸¸æˆéƒ½æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯ç»“æœå´ä¸å°½äººæ„ï¼Œå› ä¸ºå‡½æ•°ä½“æ€»æ˜¯è¦æ‰§è¡Œå®Œä¹‹åæ‰èƒ½è¿”å›ã€‚é‚£ä¹ˆåˆ°åº•æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ å¹¶è¡Œä¸å¹¶å‘ å¹¶è¡Œæ€§å’Œå¹¶å‘æ€§æ˜¯æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«çš„ä¸¤ä¸ªæ¦‚å¿µã€‚ å¹¶è¡Œæ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿã€‚è€Œå¹¶å‘æ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚ åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œå¹¶å‘æ€§æ˜¯æŒ‡åœ¨ä¸€æ®µæ—¶é—´å†…å®è§‚ä¸Šæœ‰å¤šä¸ªç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†åœ¨å•å¤„ç†æœºç¯å¢ƒä¸‹ï¼ˆä¸€ä¸ªå¤„ç†å™¨ï¼‰ï¼Œæ¯ä¸€æ—¶åˆ»å´ä»…èƒ½æœ‰ä¸€é“ç¨‹åºæ‰§è¡Œï¼Œæ•…å¾®è§‚ä¸Šè¿™äº›ç¨‹åºåªèƒ½æ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨ 1 ç§’é’Ÿæ—¶é—´å†…ï¼Œ0 - 15 ms ç¨‹åº A è¿è¡Œï¼›15 - 30 ms ç¨‹åº B è¿è¡Œï¼›30 - 45 ms ç¨‹åº C è¿è¡Œï¼›45 - 60 ms ç¨‹åº D è¿è¡Œï¼Œå› æ­¤å¯ä»¥è¯´ï¼Œåœ¨ 1 ç§’é’Ÿæ—¶é—´é—´éš”å†…ï¼Œå®è§‚ä¸Šæœ‰å››é“ç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†å¾®è§‚ä¸Šï¼Œç¨‹åº Aã€Bã€Cã€D æ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œçš„ã€‚ å¦‚æœåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­æœ‰å¤šä¸ªå¤„ç†æœºï¼Œè¿™äº›å¯ä»¥å¹¶å‘æ‰§è¡Œçš„ç¨‹åºå°±å¯ä»¥è¢«åˆ†é…åˆ°å¤šä¸ªå¤„ç†æœºä¸Šï¼Œå®ç°å¹¶å‘æ‰§è¡Œï¼Œå³åˆ©ç”¨æ¯ä¸ªå¤„ç†æœºçˆ±å¤„ç†ä¸€ä¸ªå¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºã€‚è¿™æ ·ï¼Œå¤šä¸ªç¨‹åºä¾¿å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä»¥æ­¤å°±èƒ½æé«˜ç³»ç»Ÿä¸­çš„èµ„æºåˆ©ç”¨ç‡ï¼Œå¢åŠ ç³»ç»Ÿçš„ååé‡ã€‚ è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆä¸Šé¢çš„é—®é¢˜å°±æœ‰äº†è§£å†³çš„æ€è·¯ï¼šæˆ‘ä»¬å¯åŠ¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªç”¨æ¥æ‰“æ¸¸æˆï¼Œä¸€ä¸ªç”¨æ¥æ’­æ”¾éŸ³ä¹ã€‚è¿™å½“ç„¶æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡éå¸¸å¤šï¼Œä¾‹å¦‚ LOL æ¸¸æˆå§ï¼Œå…‰æ˜¯éœ€è¦æ’­æ”¾çš„éŸ³ä¹å°±æœ‰éå¸¸å¤šï¼Œäººç‰©æœ¬èº«çš„è¯­éŸ³ï¼ŒæŠ€èƒ½çš„éŸ³æ•ˆï¼Œæ¸¸æˆçš„èƒŒæ™¯éŸ³ä¹ï¼Œå¡”æ”»å‡»çš„å£°éŸ³ç­‰ç­‰ç­‰ï¼Œè¿˜ä¸ç”¨è¯´æ¸¸æˆæœ¬èº«ï¼Œå°±å…‰æ’­æ”¾éŸ³ä¹å°±éœ€è¦åˆ›å»ºè®¸å¤šè®¸å¤šçš„è¿›ç¨‹ï¼Œè€Œè¿›ç¨‹æœ¬èº«æ˜¯ä¸€ç§éå¸¸æ¶ˆè€—èµ„æºçš„ä¸œè¥¿ï¼Œè¿™æ ·çš„è®¾è®¡æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚æ›´ä½•å†µå¤§å¤šæ•°çš„æ“ä½œç³»ç»Ÿéƒ½ä¸éœ€è¦ä¸€ä¸ªè¿›ç¨‹è®¿é—®å…¶ä»–è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å¾ˆä¸æ–¹ä¾¿ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¾—å¼•å…¥â€œçº¿ç¨‹â€è¿™é—¨æŠ€æœ¯ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ çº¿ç¨‹æ˜¯æŒ‡è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œä»»åŠ¡ï¼ˆæ§åˆ¶å•å…ƒï¼‰ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å¹¶å‘è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œè§‚å¯Ÿåˆ°å‡ ä¹æ‰€æœ‰çš„è¿›ç¨‹éƒ½æ‹¥æœ‰ç€è®¸å¤šçš„ã€Œçº¿ç¨‹ã€(åœ¨ WINDOWS ä¸­çº¿ç¨‹æ˜¯é»˜è®¤éšè—çš„ï¼Œéœ€è¦åœ¨ã€ŒæŸ¥çœ‹ã€é‡Œé¢ç‚¹å‡»ã€Œé€‰æ‹©åˆ—ã€ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ•°çš„å‹¾é€‰é¡¹ï¼Œæ‰¾åˆ°å¹¶å‹¾é€‰å°±å¯ä»¥äº†)ã€‚ è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«è¿›ç¨‹ï¼šæœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¸­çš„æ•°æ®å­˜æ”¾ç©ºé—´ï¼ˆå †ç©ºé—´å’Œæ ˆç©ºé—´ï¼‰æ˜¯ç‹¬ç«‹çš„ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ çº¿ç¨‹ï¼šå †ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ ˆç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œçº¿ç¨‹æ¶ˆè€—çš„èµ„æºä¹Ÿæ¯”è¿›ç¨‹å°ï¼Œç›¸äº’ä¹‹é—´å¯ä»¥å½±å“çš„ï¼Œåˆç§°ä¸ºè½»å‹è¿›ç¨‹æˆ–è¿›ç¨‹å…ƒã€‚ å› ä¸ºä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹æ˜¯å¹¶å‘è¿è¡Œçš„ï¼Œé‚£ä¹ˆä»å¾®è§‚è§’åº¦ä¸Šè€ƒè™‘ä¹Ÿæ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼Œé‚£ä¹ˆå“ªä¸ªçº¿ç¨‹æ‰§è¡Œå®Œå…¨å–å†³äº CPU è°ƒåº¦å™¨(JVM æ¥è°ƒåº¦)ï¼Œç¨‹åºå‘˜æ˜¯æ§åˆ¶ä¸äº†çš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå¤šçº¿ç¨‹å¹¶å‘æ€§çœ‹ä½œæ˜¯å¤šä¸ªçº¿ç¨‹åœ¨ç¬é—´æŠ¢ CPU èµ„æºï¼Œè°æŠ¢åˆ°èµ„æºè°å°±è¿è¡Œï¼Œè¿™ä¹Ÿé€ å°±äº†å¤šçº¿ç¨‹çš„éšæœºæ€§ã€‚ä¸‹é¢æˆ‘ä»¬å°†çœ‹åˆ°æ›´ç”ŸåŠ¨çš„ä¾‹å­ã€‚ Java ç¨‹åºçš„è¿›ç¨‹(Java çš„ä¸€ä¸ªç¨‹åºè¿è¡Œåœ¨ç³»ç»Ÿä¸­)é‡Œè‡³å°‘åŒ…å«ä¸»çº¿ç¨‹å’Œåƒåœ¾å›æ”¶çº¿ç¨‹(åå°çº¿ç¨‹)ï¼Œä½ å¯ä»¥ç®€å•çš„è¿™æ ·è®¤ä¸ºï¼Œä½†å®é™…ä¸Šæœ‰å››ä¸ªçº¿ç¨‹ï¼ˆäº†è§£å°±å¥½ï¼‰ï¼š [1] mainâ€”â€”main çº¿ç¨‹ï¼Œç”¨æˆ·ç¨‹åºå…¥å£ [2] Reference Handlerâ€”â€”æ¸…é™¤ Reference çš„çº¿ç¨‹ [3] Finalizerâ€”â€”è°ƒç”¨å¯¹è±¡ finalize æ–¹æ³•çš„çº¿ç¨‹ [4] Signal Dispatcherâ€”â€”åˆ†å‘å¤„ç†å‘é€ç»™ JVM ä¿¡å·çš„çº¿ç¨‹ å¤šçº¿ç¨‹å’Œå•çº¿ç¨‹çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿ å•æ ¸ CPU ä¸­ï¼Œå°† CPU åˆ†ä¸ºå¾ˆå°çš„æ—¶é—´ç‰‡ï¼Œåœ¨æ¯ä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œæ˜¯ä¸€ç§å¾®è§‚ä¸Šè½®æµå ç”¨ CPU çš„æœºåˆ¶ã€‚ å¤šçº¿ç¨‹ä¼šå­˜åœ¨çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¼šå¯¼è‡´ç¨‹åºæ‰§è¡Œé€Ÿåº¦å˜æ…¢ï¼Œå³é‡‡ç”¨ä¸€ä¸ªæ‹¥æœ‰ä¸¤ä¸ªçº¿ç¨‹çš„è¿›ç¨‹æ‰§è¡Œæ‰€éœ€è¦çš„æ—¶é—´æ¯”ä¸€ä¸ªçº¿ç¨‹çš„è¿›ç¨‹æ‰§è¡Œä¸¤æ¬¡æ‰€éœ€è¦çš„æ—¶é—´è¦å¤šä¸€äº›ã€‚ ç»“è®ºï¼šå³é‡‡ç”¨å¤šçº¿ç¨‹ä¸ä¼šæé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Œåè€Œä¼šé™ä½é€Ÿåº¦ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·çš„å“åº”æ—¶é—´ã€‚ å¤šçº¿ç¨‹çš„ä¼˜åŠ¿å°½ç®¡é¢ä¸´å¾ˆå¤šæŒ‘æˆ˜ï¼Œå¤šçº¿ç¨‹æœ‰ä¸€äº›ä¼˜ç‚¹ä»ç„¶ä½¿å¾—å®ƒä¸€ç›´è¢«ä½¿ç”¨ï¼Œè€Œè¿™äº›ä¼˜ç‚¹æˆ‘ä»¬åº”è¯¥äº†è§£ã€‚ ä¼˜åŠ¿ä¸€ï¼šèµ„æºåˆ©ç”¨ç‡æ›´å¥½æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–å’Œå¤„ç†æ–‡ä»¶çš„æƒ…æ™¯ã€‚æ¯”æ–¹è¯´ï¼Œä»ç£ç›˜è¯»å–ä¸€ä¸ªæ–‡ä»¶éœ€è¦ 5 ç§’ï¼Œå¤„ç†ä¸€ä¸ªæ–‡ä»¶éœ€è¦ 2 ç§’ã€‚å¤„ç†ä¸¤ä¸ªæ–‡ä»¶åˆ™éœ€è¦ï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 2ç§’å¤„ç†æ–‡ä»¶A 3| 5ç§’è¯»å–æ–‡ä»¶B 4| 2ç§’å¤„ç†æ–‡ä»¶B 5| --------------------- 6| æ€»å…±éœ€è¦14ç§’ä»ç£ç›˜ä¸­è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„ CPU æ—¶é—´ç”¨äºç­‰å¾…ç£ç›˜å»è¯»å–æ•°æ®ã€‚åœ¨è¿™æ®µæ—¶é—´é‡Œï¼ŒCPU éå¸¸çš„ç©ºé—²ã€‚å®ƒå¯ä»¥åšä¸€äº›åˆ«çš„äº‹æƒ…ã€‚é€šè¿‡æ”¹å˜æ“ä½œçš„é¡ºåºï¼Œå°±èƒ½å¤Ÿæ›´å¥½çš„ä½¿ç”¨ CPU èµ„æºã€‚çœ‹ä¸‹é¢çš„é¡ºåºï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 5ç§’è¯»å–æ–‡ä»¶B + 2ç§’å¤„ç†æ–‡ä»¶A 3| 2ç§’å¤„ç†æ–‡ä»¶B 4| --------------------- 5| æ€»å…±éœ€è¦12ç§’CPU ç­‰å¾…ç¬¬ä¸€ä¸ªæ–‡ä»¶è¢«è¯»å–å®Œã€‚ç„¶åå¼€å§‹è¯»å–ç¬¬äºŒä¸ªæ–‡ä»¶ã€‚å½“ç¬¬äºŒæ–‡ä»¶åœ¨è¢«è¯»å–çš„æ—¶å€™ï¼ŒCPU ä¼šå»å¤„ç†ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚è®°ä½ï¼Œåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼ŒCPU å¤§éƒ¨åˆ†æ—¶é—´æ˜¯ç©ºé—²çš„ã€‚ æ€»çš„è¯´æ¥ï¼ŒCPU èƒ½å¤Ÿåœ¨ç­‰å¾… IO çš„æ—¶å€™åšä¸€äº›å…¶ä»–çš„äº‹æƒ…ã€‚è¿™ä¸ªä¸ä¸€å®šå°±æ˜¯ç£ç›˜ IOã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œçš„ IOï¼Œæˆ–è€…ç”¨æˆ·è¾“å…¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œå’Œç£ç›˜çš„ IO æ¯” CPU å’Œå†…å­˜çš„ IO æ…¢çš„å¤šã€‚ ä¼˜åŠ¿äºŒï¼šç¨‹åºè®¾è®¡åœ¨æŸäº›æƒ…å†µä¸‹æ›´ç®€å•åœ¨å•çº¿ç¨‹åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœä½ æƒ³ç¼–å†™ç¨‹åºæ‰‹åŠ¨å¤„ç†ä¸Šé¢æ‰€æåˆ°çš„è¯»å–å’Œå¤„ç†çš„é¡ºåºï¼Œä½ å¿…é¡»è®°å½•æ¯ä¸ªæ–‡ä»¶è¯»å–å’Œå¤„ç†çš„çŠ¶æ€ã€‚ç›¸åï¼Œä½ å¯ä»¥å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªæ–‡ä»¶çš„è¯»å–å’Œæ“ä½œã€‚çº¿ç¨‹ä¼šåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„è¿‡ç¨‹ä¸­è¢«é˜»å¡ã€‚åœ¨ç­‰å¾…çš„æ—¶å€™ï¼Œå…¶ä»–çš„çº¿ç¨‹èƒ½å¤Ÿä½¿ç”¨ CPU å»å¤„ç†å·²ç»è¯»å–å®Œçš„æ–‡ä»¶ã€‚å…¶ç»“æœå°±æ˜¯ï¼Œç£ç›˜æ€»æ˜¯åœ¨ç¹å¿™åœ°è¯»å–ä¸åŒçš„æ–‡ä»¶åˆ°å†…å­˜ä¸­ã€‚è¿™ä¼šå¸¦æ¥ç£ç›˜å’Œ CPU åˆ©ç”¨ç‡çš„æå‡ã€‚è€Œä¸”æ¯ä¸ªçº¿ç¨‹åªéœ€è¦è®°å½•ä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤è¿™ç§æ–¹å¼ä¹Ÿå¾ˆå®¹æ˜“ç¼–ç¨‹å®ç°ã€‚ ä¼˜åŠ¿ä¸‰ï¼šç¨‹åºå“åº”æ›´å¿«æœ‰æ—¶æˆ‘ä»¬ä¼šç¼–å†™ä¸€äº›è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼ˆè¿™é‡Œçš„å¤æ‚ä¸æ˜¯è¯´å¤æ‚çš„ç®—æ³•ï¼Œè€Œæ˜¯å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œä¾‹å¦‚ï¼Œä¸€ç¬”è®¢å•çš„åˆ›å»ºï¼Œå®ƒåŒ…æ‹¬æ’å…¥è®¢å•æ•°æ®ã€ç”Ÿæˆè®¢å•èµ¶å¿«æ‰¾ã€å‘é€é‚®ä»¶é€šçŸ¥å–å®¶å’Œè®°å½•è´§å“é”€å”®æ•°é‡ç­‰ã€‚ç”¨æˆ·ä»å•å‡»â€œè®¢è´­â€æŒ‰é’®å¼€å§‹ï¼Œå°±è¦ç­‰å¾…è¿™äº›æ“ä½œå…¨éƒ¨å®Œæˆæ‰èƒ½çœ‹åˆ°è®¢è´­æˆåŠŸçš„ç»“æœã€‚ä½†æ˜¯è¿™ä¹ˆå¤šä¸šåŠ¡æ“ä½œï¼Œå¦‚ä½•èƒ½å¤Ÿè®©å…¶æ›´å¿«åœ°å®Œæˆå‘¢ï¼Ÿ åœ¨ä¸Šé¢çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå³å°†æ•°æ®ä¸€è‡´æ€§ä¸å¼ºçš„æ“ä½œæ´¾å‘ç»™å…¶ä»–çº¿ç¨‹å¤„ç†ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå¦‚ç”Ÿæˆè®¢å•å¿«ç…§ã€å‘é€é‚®ä»¶ç­‰ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å“åº”ç”¨æˆ·è¯·æ±‚çš„çº¿ç¨‹èƒ½å¤Ÿå°½å¯èƒ½å¿«åœ°å¤„ç†å®Œæˆï¼Œç¼©çŸ­äº†å“åº”æ—¶é—´ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚ å…¶ä»–ä¼˜åŠ¿å¤šçº¿ç¨‹è¿˜æœ‰ä¸€äº›ä¼˜åŠ¿ä¹Ÿæ˜¾è€Œæ˜“è§ï¼š è¿›ç¨‹ä¹‹å‰ä¸èƒ½å…±äº«å†…å­˜ï¼Œè€Œçº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜(å †å†…å­˜)åˆ™å¾ˆç®€å•ã€‚ ç³»ç»Ÿåˆ›å»ºè¿›ç¨‹æ—¶éœ€è¦ä¸ºè¯¥è¿›ç¨‹é‡æ–°åˆ†é…ç³»ç»Ÿèµ„æº,åˆ›å»ºçº¿ç¨‹åˆ™ä»£ä»·å°å¾ˆå¤š,å› æ­¤å®ç°å¤šä»»åŠ¡å¹¶å‘æ—¶,å¤šçº¿ç¨‹æ•ˆç‡æ›´é«˜. Java è¯­è¨€æœ¬èº«å†…ç½®å¤šçº¿ç¨‹åŠŸèƒ½çš„æ”¯æŒ,è€Œä¸æ˜¯å•çº¯åœ°ä½œä¸ºåº•å±‚ç³»ç»Ÿçš„è°ƒåº¦æ–¹å¼,ä»è€Œç®€åŒ–äº†å¤šçº¿ç¨‹ç¼–ç¨‹. ä¸Šä¸‹æ–‡åˆ‡æ¢å³ä½¿æ˜¯å•æ ¸å¤„ç†å™¨ä¹Ÿæ”¯æŒå¤šçº¿ç¨‹æ‰§è¡Œä»£ç ï¼ŒCPU é€šè¿‡ç»™æ¯ä¸ªçº¿ç¨‹åˆ†é… CPU æ—¶é—´ç‰‡æ¥å®ç°è¿™ä¸ªæœºåˆ¶ã€‚æ—¶é—´ç‰‡æ˜¯ CPU åˆ†é…ç»™å„ä¸ªçº¿ç¨‹çš„æ—¶é—´ï¼Œå› ä¸ºæ—¶é—´ç‰‡éå¸¸çŸ­ï¼Œæ‰€ä»¥ CPU é€šè¿‡ä¸åœåœ°åˆ‡æ¢çº¿ç¨‹æ‰§è¡Œï¼Œè®©æˆ‘ä»¬æ„Ÿè§‰å¤šä¸ªçº¿ç¨‹æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œæ—¶é—´ç‰‡ä¸€èˆ¬æ˜¯å‡ åæ¯«ç§’ï¼ˆmsï¼‰ã€‚ CPU é€šè¿‡æ—¶é—´ç‰‡åˆ†é…ç®—æ³•æ¥å¾ªç¯æ‰§è¡Œä»»åŠ¡ï¼Œå½“å‰ä»»åŠ¡æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ‡æ¢å‰ä¼šä¿å­˜ä¸Šä¸€ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼Œä»¥ä¾¿ä¸‹æ¬¡åˆ‡æ¢å›è¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥å†åŠ è½½è¿™ä¸ªä»»åŠ¡çš„çŠ¶æ€ã€‚æ‰€ä»¥ä»»åŠ¡ä»ä¿å­˜åˆ°å†åŠ è½½çš„è¿‡ç¨‹å°±æ˜¯ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ è¿™å°±åƒæˆ‘ä»¬åŒæ—¶è¯»ä¸¤æœ¬ä¹¦ï¼Œå½“æˆ‘ä»¬åœ¨è¯»ä¸€æœ¬è‹±æ–‡çš„æŠ€æœ¯ä¹¦æ—¶ï¼Œå‘ç°æŸä¸ªå•è¯ä¸è®¤è¯†ï¼Œäºæ˜¯æ‰“å¼€ä¸­è‹±æ–‡å­—å…¸ï¼Œä½†æ˜¯åœ¨æ”¾ä¸‹è‹±æ–‡æŠ€æœ¯ä¹¦ä¹‹å‰ï¼Œå¤§è„‘å¿…é¡»å…ˆè®°ä½è¿™æœ¬ä¹¦ç‹¬åˆ°äº†å¤šå°‘é¡µçš„å¤šå°‘è¡Œï¼Œç­‰æŸ¥å®Œå•è¯ä¹‹åï¼Œèƒ½å¤Ÿç»§ç»­è¯»è¿™æœ¬ä¹¦ã€‚è¿™æ ·çš„åˆ‡æ¢æ˜¯ä¼šå½±å“è¯»ä¹¦æ•ˆç‡çš„ï¼ŒåŒæ ·ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹Ÿä¼šå½±å“å¤šçº¿ç¨‹çš„æ‰§è¡Œé€Ÿåº¦ã€‚ äºŒã€åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ ç»§æ‰¿ Thread ç±»public class Tester { // æ’­æ”¾éŸ³ä¹çš„çº¿ç¨‹ç±» static class PlayMusicThread extends Thread { // æ’­æ”¾æ—¶é—´ï¼Œç”¨å¾ªç¯æ¥æ¨¡æ‹Ÿæ’­æ”¾çš„è¿‡ç¨‹ private int playTime = 50; public void run() { for (int i = 0; i &lt; playTime; i++) { System.out.println(\"æ’­æ”¾éŸ³ä¹\" + i); } } } // æ–¹å¼1ï¼šç»§æ‰¿ Thread ç±» public static void main(String[] args) { // ä¸»çº¿ç¨‹ï¼šè¿è¡Œæ¸¸æˆ for (int i = 0; i &lt; 50; i++) { System.out.println(\"æ‰“æ¸¸æˆ\" + i); if (i == 10) { // åˆ›å»ºæ’­æ”¾éŸ³ä¹çº¿ç¨‹ PlayMusicThread musicThread = new PlayMusicThread(); musicThread.start(); } } } } è¿è¡Œç»“æœå‘ç°æ‰“æ¸¸æˆå’Œæ’­æ”¾éŸ³ä¹äº¤æ›¿å‡ºç°ï¼Œè¯´æ˜å·²ç»æˆåŠŸäº†ã€‚ å®ç° Runnable æ¥å£public class Tester { // æ’­æ”¾éŸ³ä¹çš„çº¿ç¨‹ç±» static class PlayMusicThread implements Runnable { // æ’­æ”¾æ—¶é—´ï¼Œç”¨å¾ªç¯æ¥æ¨¡æ‹Ÿæ’­æ”¾çš„è¿‡ç¨‹ private int playTime = 50; public void run() { for (int i = 0; i &lt; playTime; i++) { System.out.println(\"æ’­æ”¾éŸ³ä¹\" + i); } } } // æ–¹å¼2ï¼šå®ç° Runnable æ–¹æ³• public static void main(String[] args) { // ä¸»çº¿ç¨‹ï¼šè¿è¡Œæ¸¸æˆ for (int i = 0; i &lt; 50; i++) { System.out.println(\"æ‰“æ¸¸æˆ\" + i); if (i == 10) { // åˆ›å»ºæ’­æ”¾éŸ³ä¹çº¿ç¨‹ Thread musicThread = new Thread(new PlayMusicThread()); musicThread.start(); } } } } ä¹Ÿèƒ½å®Œæˆæ•ˆæœã€‚ ä»¥ä¸Šå°±æ˜¯ä¼ ç»Ÿçš„ä¸¤ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œäº‹å®ä¸Šè¿˜æœ‰ç¬¬ä¸‰ç§ï¼Œæˆ‘ä»¬åè¾¹å†è®²ã€‚ å¤šçº¿ç¨‹ä¸€å®šå¿«å—ï¼Ÿå…ˆæ¥ä¸€æ®µä»£ç ï¼Œé€šè¿‡å¹¶è¡Œå’Œä¸²è¡Œæ¥åˆ†åˆ«æ‰§è¡Œç´¯åŠ æ“ä½œï¼Œåˆ†æï¼šä¸‹é¢çš„ä»£ç å¹¶å‘æ‰§è¡Œä¸€å®šæ¯”ä¸²è¡Œæ‰§è¡Œå¿«å—ï¼Ÿ import org.springframework.util.StopWatch; // æ¯”è¾ƒå¹¶è¡Œå’Œä¸²è¡Œæ‰§è¡Œç´¯åŠ æ“ä½œçš„é€Ÿåº¦ public class Tester { // æ‰§è¡Œæ¬¡æ•° private static final long COUNT = 100000000; private static final StopWatch TIMER = new StopWatch(); public static void main(String[] args) throws InterruptedException { concurrency(); serial(); // æ‰“å°æ¯”è¾ƒæµ‹è¯•ç»“æœ System.out.println(TIMER.prettyPrint()); } private static void serial() { TIMER.start(\"ä¸²è¡Œæ‰§è¡Œ\" + COUNT + \"æ¡æ•°æ®\"); int a = 0; for (long i = 0; i &lt; COUNT; i++) { a += 5; } // ä¸²è¡Œæ‰§è¡Œ int b = 0; for (long i = 0; i &lt; COUNT; i++) { b--; } TIMER.stop(); } private static void concurrency() throws InterruptedException { TIMER.start(\"å¹¶è¡Œæ‰§è¡Œ\" + COUNT + \"æ¡æ•°æ®\"); // é€šè¿‡åŒ¿åå†…éƒ¨ç±»æ¥åˆ›å»ºçº¿ç¨‹ Thread thread = new Thread(() -> { int a = 0; for (long i = 0; i &lt; COUNT; i++) { a += 5; } }); thread.start(); // å¹¶è¡Œæ‰§è¡Œ int b = 0; for (long i = 0; i &lt; COUNT; i++) { b--; } // ç­‰å¾…çº¿ç¨‹ç»“æŸ thread.join(); TIMER.stop(); } } å¤§å®¶å¯ä»¥è‡ªå·±æµ‹è¯•ä¸€ä¸‹ï¼Œæ¯ä¸€å°æœºå™¨ CPU ä¸åŒæµ‹è¯•ç»“æœå¯èƒ½ä¹Ÿä¼šä¸åŒï¼Œä¹‹å‰åœ¨ WINDOWS æœ¬å„¿ä¸Šæµ‹è¯•çš„æ—¶å€™ï¼Œå¤šçº¿ç¨‹çš„ä¼˜åŠ¿ä» 1 åƒä¸‡æ•°æ®çš„æ—¶å€™æ‰å¼€å§‹ä½“ç°å‡ºæ¥ï¼Œä½†æ˜¯ç°åœ¨æ¢äº† MACï¼Œ1 äº¿æ¡æ•°æ®æ—¶é—´ä¹Ÿå·®ä¸å¤šï¼Œåˆ° 10 äº¿çš„æ—¶å€™æ˜æ˜¾ä¸²è¡Œå°±æ¯”å¹¶è¡Œå¿«äº†â€¦ æ€»ä¹‹ï¼Œä¸ºä»€ä¹ˆå¹¶å‘æ‰§è¡Œçš„é€Ÿåº¦ä¼šæ¯”ä¸²è¡Œæ…¢å‘¢ï¼Ÿå°±æ˜¯å› ä¸ºçº¿ç¨‹æœ‰åˆ›å»ºå’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚ ç»§æ‰¿ Thread ç±»è¿˜æ˜¯å®ç° Runnable æ¥å£ï¼Ÿæƒ³è±¡ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼šç»™å‡ºä¸€å…± 50 ä¸ªè‹¹æœï¼Œè®©ä¸‰ä¸ªåŒå­¦ä¸€èµ·æ¥åƒï¼Œå¹¶ä¸”ç»™è‹¹æœç¼–ä¸Šå·ç ï¼Œè®©ä»–ä»¬åƒçš„æ—¶å€™é¡ºä¾¿è¦è¯´å‡ºè‹¹æœçš„ç¼–å·ï¼š è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ç»§æ‰¿æ–¹å¼å®ç°ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½åƒäº† 50 ä¸ªè‹¹æœã€‚è¿™æ ·çš„ç»“æœæ˜¾è€Œæ˜“è§ï¼šæ˜¯å› ä¸ºæ˜¾å¼åœ°åˆ›å»ºäº†ä¸‰ä¸ªä¸åŒçš„ Person å¯¹è±¡ï¼Œè€Œæ¯ä¸ªå¯¹è±¡åœ¨å †ç©ºé—´ä¸­æœ‰ç‹¬ç«‹çš„åŒºåŸŸæ¥ä¿å­˜å®šä¹‰å¥½çš„ 50 ä¸ªè‹¹æœã€‚ è€Œä½¿ç”¨å®ç°æ–¹å¼åˆ™æ»¡è¶³è¦æ±‚ï¼Œè¿™æ˜¯å› ä¸ºä¸‰ä¸ªçº¿ç¨‹å…±äº«äº†åŒä¸€ä¸ª Apple å¯¹è±¡ï¼Œè€Œå¯¹è±¡ä¸­çš„ num æ•°é‡æ˜¯ä¸€å®šçš„ã€‚ æ‰€ä»¥å¯ä»¥ç®€å•æ€»ç»“å‡ºç»§æ‰¿æ–¹å¼å’Œå®ç°æ–¹å¼çš„åŒºåˆ«ï¼š ç»§æ‰¿æ–¹å¼ï¼š Java ä¸­ç±»æ˜¯å•ç»§æ‰¿çš„ï¼Œå¦‚æœç»§æ‰¿äº† Thread äº†ï¼Œè¯¥ç±»å°±ä¸èƒ½å†æœ‰å…¶ä»–çš„ç›´æ¥çˆ¶ç±»äº†ï¼› ä»æ“ä½œä¸Šåˆ†æï¼Œç»§æ‰¿æ–¹å¼æ›´ç®€å•ï¼Œè·å–çº¿ç¨‹åå­—ä¹Ÿç®€å•..(æ“ä½œä¸Šï¼Œæ›´ç®€å•) ä»å¤šçº¿ç¨‹å…±äº«åŒä¸€ä¸ªèµ„æºä¸Šåˆ†æï¼Œç»§æ‰¿æ–¹å¼ä¸èƒ½åšåˆ°â€¦ å®ç°æ–¹å¼ï¼š Java ä¸­ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œæ­¤æ—¶è¯¥ç±»è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œå¹¶ä¸”è¿˜å¯ä»¥å®ç°å…¶ä»–æ¥å£(è®¾è®¡ä¸Šï¼Œæ›´ä¼˜é›…).. ä»æ“ä½œä¸Šåˆ†æï¼Œå®ç°æ–¹å¼ç¨å¾®å¤æ‚ç‚¹ï¼Œè·å–çº¿ç¨‹åå­—ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ä½¿ç”¨ Thread.currentThread() æ¥è·å–å½“å‰çº¿ç¨‹çš„å¼•ç”¨.. ä»å¤šçº¿ç¨‹å…±äº«åŒä¸€ä¸ªèµ„æºä¸Šåˆ†æï¼Œå®ç°æ–¹å¼å¯ä»¥åšåˆ°.. åœ¨è¿™é‡Œï¼Œä¸‰ä¸ªåŒå­¦å®ŒæˆæŠ¢è‹¹æœçš„ä¾‹å­ï¼Œä½¿ç”¨å®ç°æ–¹å¼æ‰æ˜¯æ›´åˆç†çš„æ–¹å¼ã€‚ å¯¹äºè¿™ä¸¤ç§æ–¹å¼å“ªç§å¥½å¹¶æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç­”æ¡ˆï¼Œå®ƒä»¬éƒ½èƒ½æ»¡è¶³è¦æ±‚ã€‚å°±æˆ‘ä¸ªäººæ„è§ï¼Œæˆ‘æ›´å€¾å‘äºå®ç° Runnable æ¥å£è¿™ç§æ–¹æ³•ã€‚å› ä¸ºçº¿ç¨‹æ± å¯ä»¥æœ‰æ•ˆçš„ç®¡ç†å®ç°äº† Runnable æ¥å£çš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹æ± æ»¡äº†ï¼Œæ–°çš„çº¿ç¨‹å°±ä¼šæ’é˜Ÿç­‰å€™æ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹æ± ç©ºé—²å‡ºæ¥ä¸ºæ­¢ã€‚è€Œå¦‚æœçº¿ç¨‹æ˜¯é€šè¿‡å®ç° Thread å­ç±»å®ç°çš„ï¼Œè¿™å°†ä¼šå¤æ‚ä¸€äº›ã€‚ æœ‰æ—¶æˆ‘ä»¬è¦åŒæ—¶èåˆå®ç° Runnable æ¥å£å’Œ Thread å­ç±»ä¸¤ç§æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå®ç°äº† Thread å­ç±»çš„å®ä¾‹å¯ä»¥æ‰§è¡Œå¤šä¸ªå®ç°äº† Runnable æ¥å£çš„çº¿ç¨‹ã€‚ä¸€ä¸ªå…¸å‹çš„åº”ç”¨å°±æ˜¯çº¿ç¨‹æ± ã€‚ å¸¸è§é”™è¯¯ï¼šè°ƒç”¨ run() æ–¹æ³•è€Œé start() æ–¹æ³•åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªçº¿ç¨‹æ‰€çŠ¯çš„å¸¸è§é”™è¯¯æ˜¯è°ƒç”¨çº¿ç¨‹çš„ run() æ–¹æ³•è€Œé start() æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1| Thread newThread = new Thread(MyRunnable()); 2| newThread.run(); //should be start(); èµ·åˆä½ å¹¶ä¸ä¼šæ„Ÿè§‰åˆ°æœ‰ä»€ä¹ˆä¸å¦¥ï¼Œå› ä¸º run() æ–¹æ³•çš„ç¡®å¦‚ä½ æ‰€æ„¿çš„è¢«è°ƒç”¨äº†ã€‚ä½†æ˜¯ï¼Œäº‹å®ä¸Šï¼Œrun() æ–¹æ³•å¹¶éæ˜¯ç”±åˆšåˆ›å»ºçš„æ–°çº¿ç¨‹æ‰€æ‰§è¡Œçš„ï¼Œè€Œæ˜¯è¢«åˆ›å»ºæ–°çº¿ç¨‹çš„å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œäº†ã€‚ä¹Ÿå°±æ˜¯è¢«æ‰§è¡Œä¸Šé¢ä¸¤è¡Œä»£ç çš„çº¿ç¨‹æ‰€æ‰§è¡Œçš„ã€‚æƒ³è¦è®©åˆ›å»ºçš„æ–°çº¿ç¨‹æ‰§è¡Œ run() æ–¹æ³•ï¼Œå¿…é¡»è°ƒç”¨æ–°çº¿ç¨‹çš„ start() æ–¹æ³•ã€‚ ä¸‰ã€çº¿ç¨‹çš„å®‰å…¨é—®é¢˜ åƒè‹¹æœæ¸¸æˆçš„ä¸å®‰å…¨é—®é¢˜æˆ‘ä»¬æ¥è€ƒè™‘ä¸€ä¸‹ä¸Šé¢åƒè‹¹æœçš„ä¾‹å­ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ å°½ç®¡ï¼ŒJava å¹¶ä¸ä¿è¯çº¿ç¨‹çš„é¡ºåºæ‰§è¡Œï¼Œå…·æœ‰éšæœºæ€§ï¼Œä½†åƒè‹¹æœæ¯”èµ›çš„æ¡ˆä¾‹è¿è¡Œå¤šæ¬¡ä¹Ÿå¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ã€‚è¿™å¹¶ä¸æ˜¯å› ä¸ºç¨‹åºæ²¡æœ‰é—®é¢˜ï¼Œè€Œåªæ˜¯é—®é¢˜å‡ºç°çš„ä¸å¤Ÿæ˜æ˜¾ï¼Œä¸ºäº†è®©é—®é¢˜æ›´åŠ æ˜æ˜¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ Thread.sleep() æ–¹æ³•ï¼ˆç»å¸¸ç”¨æ¥æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼‰æ¥è®©çº¿ç¨‹ä¼‘æ¯ 10 msï¼Œè®©å…¶ä»–çº¿ç¨‹å»æŠ¢èµ„æºã€‚ï¼ˆæ³¨æ„ï¼šåœ¨ç¨‹åºä¸­å¹¶ä¸æ˜¯ä½¿ç”¨ Thread.sleep(10)ä¹‹å,ç¨‹åºæ‰å‡ºç°é—®é¢˜,è€Œæ˜¯ä½¿ç”¨ä¹‹å,é—®é¢˜æ›´æ˜æ˜¾.ï¼‰ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯å‘¢ï¼Ÿ å…ˆæ¥åˆ†æç¬¬ä¸€ç§é”™è¯¯ï¼šä¸ºä»€ä¹ˆä¼šåƒé‡å¤çš„è‹¹æœå‘¢ï¼Ÿå°±æ‹¿ B å’Œ C éƒ½åƒäº†ç¼–å·ä¸º 47 çš„è‹¹æœä¸ºä¾‹å§ï¼š A çº¿ç¨‹æ‹¿åˆ°äº†ç¼–å·ä¸º 48 çš„è‹¹æœï¼Œæ‰“å°è¾“å‡ºç„¶åè®© num å‡ 1ï¼Œç¡çœ  10 msï¼Œæ­¤æ—¶ num ä¸º 47ã€‚ è¿™æ—¶ B å’Œ C åŒæ—¶éƒ½æ‹¿åˆ°äº†ç¼–å·ä¸º 47 çš„è‹¹æœï¼Œæ‰“å°è¾“å‡ºï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ä½œå‡ºäº†å‡ä¸€æ“ä½œçš„æ—¶å€™ï¼ŒA çº¿ç¨‹ä»ç¡çœ ä¸­é†’è¿‡æ¥ï¼Œæ‹¿åˆ°äº†ç¼–å·ä¸º 46 çš„è‹¹æœï¼Œç„¶åè¾“å‡ºã€‚åœ¨è¿™æœŸé—´å¹¶æ²¡æœ‰ä»»ä½•æ“ä½œä¸å…è®¸ B å’Œ C çº¿ç¨‹ä¸èƒ½æ‹¿åˆ°åŒä¸€ä¸ªç¼–å·çš„è‹¹æœï¼Œä¹‹å‰æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯ä»…ä»…å¯èƒ½åªæ˜¯å› ä¸ºè¿è¡Œé€Ÿåº¦å¤ªå¿«äº†ã€‚ å†æ¥åˆ†æç¬¬äºŒç§é”™è¯¯ï¼šç…§ç†æ¥è¯´åªåº”è¯¥å­˜åœ¨ 1-50 ç¼–å·çš„è‹¹æœï¼Œå¯æ˜¯ 0 å’Œ-1 æ˜¯æ€ä¹ˆå‡ºç°çš„å‘¢ï¼Ÿ å½“ num = 1 çš„æ—¶å€™ï¼ŒAï¼ŒBï¼ŒC ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥äº† try è¯­å¥è¿›è¡Œç¡çœ ã€‚ C çº¿ç¨‹å…ˆé†’è¿‡æ¥ï¼Œè¾“å‡ºäº†ç¼–å·ä¸º 1 çš„è‹¹æœï¼Œç„¶åè®© num å‡ä¸€ï¼Œå½“ C çº¿ç¨‹é†’è¿‡æ¥çš„æ—¶å€™å‘ç° num ä¸º 0 äº†ã€‚ A çº¿ç¨‹é†’è¿‡æ¥ä¸€çœ‹ï¼Œ0 éƒ½æ²¡æœ‰äº†ï¼Œåªæœ‰ -1 äº†ã€‚ å½’æ ¹ç»“åº•æ˜¯å› ä¸ºæ²¡æœ‰ä»»ä½•æ“ä½œæ¥é™åˆ¶çº¿ç¨‹æ¥è·å–ç›¸åŒçš„èµ„æºå¹¶å¯¹ä»–ä»¬è¿›è¡Œæ“ä½œï¼Œè¿™å°±é€ æˆäº†çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ã€‚ å¦‚æœæˆ‘ä»¬æŠŠæ‰“å°å’Œå‡ä¸€çš„æ“ä½œåˆ†æˆä¸¤ä¸ªæ­¥éª¤ï¼Œä¼šæ›´åŠ æ˜æ˜¾ï¼šABC ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰“å°äº† 50 çš„è‹¹æœï¼Œç„¶ååŒæ—¶åšå‡ºå‡ä¸€æ“ä½œã€‚ åƒè¿™æ ·çš„åŸå­æ“ä½œï¼Œæ˜¯ä¸å…è®¸åˆ†æ­¥éª¤è¿›è¡Œçš„ï¼Œå¿…é¡»ä¿è¯åŒæ­¥è¿›è¡Œï¼Œä¸ç„¶å¯èƒ½ä¼šå¼•å‘ä¸å¯è®¾æƒ³çš„åæœã€‚ è¦è§£å†³ä¸Šè¿°å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ä¸€ä¸ªèµ„æºçš„å®‰å…¨æ€§é—®é¢˜ï¼Œå°±éœ€è¦å¼•å…¥çº¿ç¨‹åŒæ­¥çš„æ¦‚å¿µã€‚ çº¿ç¨‹åŒæ­¥å¤šä¸ªæ‰§è¡Œçº¿ç¨‹å…±äº«ä¸€ä¸ªèµ„æºçš„æƒ…æ™¯ï¼Œæ˜¯æœ€å¸¸è§çš„å¹¶å‘ç¼–ç¨‹æƒ…æ™¯ä¹‹ä¸€ã€‚ä¸ºäº†è§£å†³è®¿é—®å…±äº«èµ„æºé”™è¯¯æˆ–æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œäººä»¬å¼•å…¥äº†ä¸´ç•ŒåŒºçš„æ¦‚å¿µï¼šç”¨ä»¥è®¿é—®å…±äº«èµ„æºçš„ä»£ç å—ï¼Œè¿™ä¸ªä»£ç å—åœ¨åŒä¸€æ—¶é—´å†…åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚ ä¸ºäº†å¸®åŠ©ç¼–ç¨‹äººå‘˜å®ç°è¿™ä¸ªä¸´ç•ŒåŒºï¼ŒJavaï¼ˆä»¥åŠå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ï¼‰æä¾›äº†åŒæ­¥æœºåˆ¶ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¯•å›¾è®¿é—®ä¸€ä¸ªä¸´ç•ŒåŒºæ—¶ï¼Œå®ƒå°†ä½¿ç”¨ä¸€ç§åŒæ­¥æœºåˆ¶æ¥æŸ¥çœ‹æ˜¯ä¸æ˜¯å·²ç»æœ‰å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºã€‚å¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œä»–å°±å¯ä»¥è¿›å…¥ä¸´ç•ŒåŒºã€‚å¦‚æœå·²ç»æœ‰çº¿ç¨‹è¿›å…¥äº†ä¸´ç•ŒåŒºï¼Œå®ƒå°±è¢«åŒæ­¥æœºåˆ¶æŒ‚èµ·ï¼Œç›´åˆ°è¿›å…¥çš„çº¿ç¨‹ç¦»å¼€è¿™ä¸ªä¸´ç•ŒåŒºã€‚å¦‚æœåœ¨ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„çº¿ç¨‹ä¸æ­¢ä¸€ä¸ªï¼ŒJVM ä¼šé€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªï¼Œå…¶ä½™çš„å°†ç»§ç»­ç­‰å¾…ã€‚ synchronized å…³é”®å­—å¦‚æœä¸€ä¸ªå¯¹è±¡å·²ç”¨ synchronized å…³é”®å­—å£°æ˜ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹è¢«å…è®¸è®¿é—®å®ƒã€‚ä½¿ç”¨ synchronized çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼šä¿è¯äº†å¤šçº¿ç¨‹å¹¶å‘è®¿é—®æ—¶çš„åŒæ­¥æ“ä½œï¼Œé¿å…çº¿ç¨‹çš„å®‰å…¨æ€§é—®é¢˜ã€‚ä½†æ˜¯åå¤„æ˜¯ï¼šä½¿ç”¨ synchronized çš„æ–¹æ³•/ä»£ç å—çš„æ€§èƒ½æ¯”ä¸ç”¨è¦ä½ä¸€äº›ã€‚æ‰€ä»¥å¥½çš„åšæ³•æ˜¯ï¼šå°½é‡å‡å° synchronized çš„ä½œç”¨åŸŸã€‚ æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥è§£å†³åƒè‹¹æœçš„é—®é¢˜ï¼Œè€ƒè™‘ä¸€ä¸‹ synchronized å…³é”®å­—åº”è¯¥åŠ åœ¨å“ªé‡Œå‘¢ï¼Ÿ å‘ç°å¦‚æœè¿˜å†æŠŠ synchronized å…³é”®å­—åŠ åœ¨ if é‡Œé¢çš„è¯ï¼Œ0 å’Œ -1 åˆä¼šå‡ºæ¥äº†ã€‚è¿™å…¶å®æ˜¯å› ä¸ºå½“ ABC åŒæ˜¯è¿›å…¥åˆ° if è¯­å¥ä¸­ï¼Œç­‰å¾…ä¸´ç•ŒåŒºé‡Šæ”¾çš„æ—¶ï¼Œæ‹¿åˆ° 1 ç¼–å·çš„çº¿ç¨‹å·²ç»åˆæŠŠ num å‡ä¸€æ“ä½œäº†ï¼Œè€Œæ­¤æ—¶æœ€åä¸€ä¸ªç­‰å¾…ä¸´ç•ŒåŒºçš„è¿›ç¨‹æ‹¿åˆ°çš„å°±ä¼šæ˜¯ -1 äº†ã€‚ åŒæ­¥é” LockLock æœºåˆ¶æä¾›äº†æ¯” synchronized ä»£ç å—å’Œ synchronized æ–¹æ³•æ›´å¹¿æ³›çš„é”å®šæ“ä½œï¼ŒåŒæ­¥ä»£ç å—/ åŒæ­¥æ–¹æ³•å…·æœ‰çš„åŠŸèƒ½ Lock éƒ½æœ‰ï¼Œé™¤æ­¤ä¹‹å¤–æ›´å¼ºå¤§ï¼Œæ›´ä½“ç°é¢å‘å¯¹è±¡ã€‚åœ¨å¹¶å‘åŒ…çš„ç±»æ—ä¸­ï¼ŒLock æ˜¯ JUC åŒ…çš„é¡¶å±‚æ¥å£ï¼Œå®ƒçš„å®ç°é€»è¾‘å¹¶æœªç”¨åˆ° synchronizedï¼Œè€Œæ˜¯åˆ©ç”¨äº† volatile çš„å¯è§æ€§ã€‚ ä½¿ç”¨ Lock æœ€å…¸å‹çš„ä»£ç å¦‚ä¸‹ï¼š class X { private final ReentrantLock lock = new ReentrantLock(); public void m() { lock.lock(); try { // ..... method body } finally { lock.unlock(); } } } çº¿ç¨‹å®‰å…¨é—®é¢˜çº¿ç¨‹å®‰å…¨é—®é¢˜åªåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰ä¼šå‡ºç°ï¼Œå•çº¿ç¨‹ä¸²è¡Œæ‰§è¡Œä¸å­˜åœ¨æ­¤ç±»é—®é¢˜ã€‚ä¿è¯é«˜å¹¶å‘åœºæ™¯ä¸‹çš„çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ä»ä»¥ä¸‹å››ä¸ªç»´åº¦è€ƒé‡ï¼š ç»´åº¦ä¸€ï¼šæ•°æ®å•çº¿ç¨‹å¯è§å•çº¿ç¨‹æ€»æ˜¯å®‰å…¨çš„ã€‚é€šè¿‡é™åˆ¶æ•°æ®ä»…åœ¨å•çº¿ç¨‹å†…å¯è§ï¼Œå¯ä»¥é¿å…æ•°æ®è¢«å…¶ä»–çº¿ç¨‹ç¯¡æ”¹ã€‚æœ€å…¸å‹çš„å°±æ˜¯çº¿ç¨‹å±€éƒ¨å˜é‡ï¼Œå®ƒå­˜å‚¨åœ¨ç‹¬ç«‹è™šæ‹Ÿæœºæ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨ä¸­ï¼Œä¸å…¶ä»–çº¿ç¨‹æ¯«æ— ç“œè‘›ã€‚TreadLocal å°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼æ¥å®ç°çº¿ç¨‹å®‰å…¨çš„ã€‚ ç»´åº¦äºŒï¼šåªè¯»å¯¹è±¡åªè¯»å¯¹è±¡æ€»æ˜¯å®‰å…¨çš„ã€‚å®ƒçš„ç‰¹æ€§æ˜¯å…è®¸å¤åˆ¶ã€æ‹’ç»å†™å…¥ã€‚æœ€å…¸å‹çš„åªè¯»å¯¹è±¡æœ‰ Stringã€Integer ç­‰ã€‚ä¸€ä¸ªå¯¹è±¡æƒ³è¦æ‹’ç»ä»»ä½•å†™å…¥ï¼Œå¿…é¡»è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š ä½¿ç”¨ final å…³é”®å­—ä¿®é¥°ç±»ï¼Œé¿å…è¢«ç»§æ‰¿ï¼› ä½¿ç”¨ private final å…³é”®å­—é¿å…å±æ€§è¢«ä¸­é€”ä¿®æ”¹ï¼› æ²¡æœ‰ä»»ä½•æ›´æ–°æ–¹æ³•ï¼› è¿”å›å€¼ä¸èƒ½ä¸ºå¯å˜å¯¹è±¡ã€‚ ç»´åº¦ä¸‰ï¼šçº¿ç¨‹å®‰å…¨ç±»æŸäº›çº¿ç¨‹å®‰å…¨ç±»çš„å†…éƒ¨æœ‰éå¸¸æ˜ç¡®çš„çº¿ç¨‹å®‰å…¨æœºåˆ¶ã€‚æ¯”å¦‚ StringBuffer å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ç±»ï¼Œå®ƒé‡‡ç”¨ synchronized å…³é”®å­—æ¥ä¿®é¥°ç›¸å…³æ–¹æ³•ã€‚ ç»´åº¦å››ï¼šåŒæ­¥ä¸é”æœºåˆ¶å¦‚æœæƒ³è¦å¯¹æŸä¸ªå¯¹è±¡è¿›è¡Œå¹¶å‘æ›´æ–°æ“ä½œï¼Œä½†åˆä¸å±äºä¸Šè¿°ä¸‰ç±»ï¼Œéœ€è¦å¼€å‘å·¥ç¨‹å¸ˆåœ¨ä»£ç ä¸­å®ç°å®‰å…¨çš„åŒæ­¥æœºåˆ¶ã€‚è™½ç„¶è¿™ä¸ªæœºåˆ¶æ”¯æŒçš„å¹¶å‘åœºæ™¯å¾ˆæœ‰ä»·å€¼ï¼Œä½†éå¸¸å¤æ‚ä¸”å®¹æ˜“å‡ºç°é—®é¢˜ã€‚ å¤„ç†çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒç†å¿µè¦ä¹ˆåªè¯»ï¼Œè¦ä¹ˆåŠ é”ã€‚ åˆç†åˆ©ç”¨å¥½ JDK æä¾›çš„å¹¶å‘åŒ…ï¼Œå¾€å¾€èƒ½åŒ–è…æœ½ä¸ºç¥å¥‡ã€‚Java å¹¶å‘åŒ…ï¼ˆjava.util.concurrentï¼ŒJUCï¼‰ä¸­å¤§å¤šæ•°ç±»æ³¨é‡Šéƒ½å†™æœ‰ï¼š@author Doug Leaã€‚å¦‚æœè¯´ Java æ˜¯ä¸€æœ¬å²ä¹¦ï¼Œé‚£ä¹ˆ Doug Lea ç»å¯¹æ˜¯å¼€ç–†æ‹“åœŸçš„ä¼Ÿå¤§äººç‰©ã€‚Doug Lea åœ¨å½“å¤§å­¦è€å¸ˆæ—¶ï¼Œä¸“æ”»å¹¶å‘ç¼–ç¨‹å’Œå¹¶å‘æ•°æ®ç»“æ„è®¾è®¡ï¼Œä¸»å¯¼è®¾è®¡äº† JUC å¹¶å‘åŒ…ï¼Œæé«˜äº† Java å¹¶å‘ç¼–ç¨‹çš„æ˜“ç”¨æ€§ï¼Œå¤§å¤§æ¨è¿›äº† Java çš„å•†ç”¨è¿›ç¨‹ã€‚ å‚è€ƒèµ„æ–™ ã€ŠJava é›¶åŸºç¡€å…¥é—¨æ•™ç¨‹ã€‹ - http://study.163.com/course/courseMain.htm?courseId=1003108028 ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ ã€ŠJava 7 å¹¶å‘ç¼–ç¨‹å®æˆ˜æ‰‹å†Œã€‹ ã€Šç å‡ºé«˜æ•ˆ Java å¼€å‘æ‰‹å†Œã€‹ - æ¨å† å®ï¼ˆå­¤å°½ï¼‰ é«˜æµ·æ…§ï¼ˆé¸£èï¼‰è‘— æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦ IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ  qq ç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"JavaåŸºç¡€/å¹¶å‘ç¼–ç¨‹","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å½“ä»£çš„å‡ ç‚¹å˜åŒ–","slug":"å½“ä»£çš„å‡ ç‚¹å˜åŒ–","date":"2019-11-25T14:14:00.000Z","updated":"2020-08-03T09:44:44.041Z","comments":true,"path":"2019/11/25/dang-dai-de-ji-dian-bian-hua/","link":"","permalink":"http://www.wmyskxz.com/2019/11/25/dang-dai-de-ji-dian-bian-hua/","excerpt":"","text":"å‰è¨€ï¼šä»¥ä¸‹æ‰€æœ‰è§‚ç‚¹å‡æ‘˜å½• or æ”¹ç¼–è‡ªå‚è€ƒèµ„æ–™ï¼Œçº¯å±è§‚ç‚¹åˆ†äº«â€¦ä¸ºè·å¾—è‰¯å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡åœ°å€ï¼šä¼ é€é—¨ ä¸€ã€å½“æˆ‘ä»¬è¯´ã€Œå½“ä»£ã€æ—¶ï¼Œæˆ‘ä»¬åœ¨è¯´ä»€ä¹ˆ å¼•ç”¨è‡ªï¼šã€Œå½“ä»£ã€è¶Šæ¥è¶Šè®©äººçœ‹ä¸æ‡‚ï¼Œæˆ‘ä»¬å¸®ä½ æ‰¾åˆ°äº†è§‚å¯Ÿå®ƒçš„ 15 ä¸ªæ–°è§’åº¦ | 100ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - https://www.qdaily.com/articles/62748.html å½“ä»£çš„æ„æ€ä¼¼ä¹å°±æ˜¯ã€Œç›®å‰æ‰€å¤„çš„æ—¶ä»£ã€ï¼Œçœ‹ä¸Šå»æ˜¯ä¸€ä¸ªã€Œæ—©å°±å­˜åœ¨äºç”Ÿæ´»ä¹‹ä¸­ï¼Œæ— éœ€è´¹å¿ƒç†è§£ã€çš„è¯è¯­ï¼Œä½†å¦‚æœç¨ç¨åœ¨è®°å¿†é‡Œæ£€ç´¢ä¸€ä¸‹ï¼Œä½ å¯èƒ½å°±ä¼šå‘ç°ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œå®ƒå…¶å®æ˜¯ä»¥ã€Œå½“ä»£è‰ºæœ¯ã€ã€ã€Œå½“ä»£ä½œå®¶ã€è¿™äº›ç›¸å½“ä¸¥è‚ƒçš„é¢è²Œå‡ºç°çš„ï¼Œç›´åˆ°æœ€è¿‘å‡ å¹´æ‰å¼€å§‹è¿›å…¥æˆ‘ä»¬çš„æ—¥å¸¸è¯åº“ï¼Œè€Œä¸”å†…æ¶µä¹Ÿå˜å¾—æœ‰ç‚¹ä¸æ˜“å½¢å®¹ï¼šç°åœ¨çš„ã€Œå½“ä»£ã€ï¼Œä¸å…¶è¯´æ˜¯å¯¹ä¸€æ®µæ—¶é—´çš„æ¦‚æ‹¬ï¼Œä¸å¦‚è¯´æ›´æ¥è¿‘äºã€ŒçœŸæ˜¯ä¸€ä¸ªçº·ç¹å¤æ‚ã€ä¸€å¥ä¸¤å¥è§£é‡Šä¸æ˜ç™½ã€è¯´æ—¶è¿Ÿé‚£æ—¶å¿«çš„æ—¶ä»£ã€ï¼Œæ¢è¨€ä¹‹ï¼Œã€Œå½“ä»£ã€å…¶å®ä¹Ÿè·Ÿã€Œç¡¬æ ¸ã€ã€Œæµé‡ã€ä¸€æ ·æˆäº†ä¸€ç§æ™¯è§‚ï¼Œä¸€ä¸ªå¸¦ç‚¹è°ƒä¾ƒå’Œè§£æ„æ„å‘³çš„ memeï¼Œå®ƒçœŸæ­£æƒ³è¯´çš„å…¶å®æ˜¯ã€Œå–ï¼Œçœ‹è¿™ä¸ªä¸–ç•Œï¼Œå°±æ˜¯è¿™æ ·ã€ã€‚ å¥½å¥‡å¿ƒç ”ç©¶æ‰€åœ¨ 2018 å¹´æœ«çš„æ—¶å€™ï¼Œæ›¾ç»é—®è¿‡å¤§å®¶ï¼Œã€Œä»Šå¹´æœ‰å“ªäº›å°äº‹è®©ä½ æœ‰ä¸€ä¸ªæ—¶ä»£å¼€å§‹/ç»“æŸçš„æ„Ÿè§‰ï¼Ÿã€ï¼Œå¾—åˆ°æœ€å¤šèµåŒçš„å›ç­”åŒ…æ‹¬ã€Œå‘ç°å½“çº¢æ˜æ˜Ÿçš„å¹´çºªæ¯”è‡ªå·±è¿˜å°ã€ã€Œå†ä¹Ÿä¸ç”¨å¸¦ç°é‡‘å‡ºé—¨ã€ã€Œé‡‘åº¸å…ˆç”Ÿå»ä¸–ã€ã€Œå¼€å§‹ä¹ æƒ¯äº†è§†é¢‘ä¼šå‘˜ä»˜è´¹åˆ¶åº¦ã€ï¼Œå®ƒä»¬åˆšå¥½å®Œæ•´æ¦‚æ‹¬äº†äººä»¬å¯¹ã€Œå½“ä»£ã€è¿™ä¸ªæ¦‚å¿µçš„å‡ ç§å…¸å‹å°è±¡ï¼š ä»¥å…¨çƒåŒ–ã€ç¢ç‰‡åŒ–ã€åŸå¸‚åŒ–ç­‰å…³é”®è¯ä¸ºä»£è¡¨çš„ç”Ÿæ´»æ–¹å¼ï¼ˆä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯å’–å•¡å…ã€æœºåœºè¿™ç§èµ°éå…¨ä¸–ç•Œéƒ½é•¿å¾—å·®ä¸å¤šçš„ã€Œäº‘ç©ºé—´ã€ï¼‰ï¼› çƒ­çˆ±ç§‘æŠ€ã€æ‹¥æŠ±äº’è”ç½‘å´åˆéœ‡æ…‘äºç§‘æŠ€çš„é˜´æš—é¢ã€è¢«æ‰‹æœºå’Œç¤¾äº¤åª’ä½“æ‰€å›°çš„æ™®é€šäººï¼› ä»¥ç”ŸåŠ¨è¯ é‡Šå„ç§å°è€Œåˆå°çš„ç¬¬ä¸€ä¸–ç•Œé—®é¢˜ä¸ºç‰¹è‰²çš„æ—¶é«¦æƒ…ç»ªï¼ˆæ¯”å¦‚ç¤¾æã€FOMOã€åæ¶ˆæ¯ç–²åŠ³ï¼‰ï¼› ä»¥åŠï¼Œè¢«åäººã€ç½‘çº¢ã€å•†å“ã€å¤§å…¬å¸æ‰€è±¡å¾çš„ã€Œxx æ—¶ä»£ã€ï¼ˆå…±äº«æ—¶ä»£ã€å¶åƒæ—¶ä»£ã€å³æ—¶é€šè®¯æ—¶ä»£ï¼Œç­‰ç­‰ï¼‰ã€‚ è¿™å‡ ä¸ªç»´åº¦å åŠ åœ¨ä¸€èµ·ï¼Œå…±åŒç»„æˆäº†ä½ çœ¼å‰çš„ç¾ä¸½æ–°ä¸–ç•Œï¼Œä»¥åŠä¸€ç§çœ‹ä¸è§æ‘¸ä¸ç€ã€ä½†æ€»ä¼šä»¤äººè‹¥æœ‰æ‰€æ€çš„ã€Œæ—¶ä»£æ„Ÿã€ã€‚ ä½†æ˜¯è¯è¯´å›æ¥ï¼Œè¿™ä¸ªè¢«å† ä»¥ä¹°ä¹°ä¹°ã€æ ç²¾éåœ°ã€ç½‘çº¢ç»æµã€ä¿¡æ¯ç„¦è™‘â€¦â€¦ä¹‹åçš„å½“ä»£ï¼Œç©¶ç«Ÿç‰¹åˆ«åœ¨ä½•å¤„ï¼Ÿå­˜èº«å…¶ä¸­çš„æˆ‘ä»¬ï¼Œé¡¶ç€åƒç¦§ä¸€ä»£ã€Z ä¸–ä»£ã€æ•°å­—æ¸¸ç‰§æ°‘æ—ã€é£˜ä¸€ä»£çš„è£èª‰ç§°å·ï¼ŒçœŸçš„å·²ç»æ°”è´¨è¿¥å¼‚åˆ°å€¼å¾—è¢«åˆ’åˆ†å¾—è¿™ä¹ˆç»†è‡´å—ï¼Ÿ ä¸ï¼Œæˆ‘ä»¬æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸æ˜¯æƒ³å¦å®šã€Œå½“ä»£ã€çš„ç‰¹æ®Šæ€§ã€‚ä»å¬‰çš®å£«åˆ° rapperã€ä»ç”µè§†åˆ°æ‰‹æœºã€ä»æŠ¥çº¸åˆ° Instagramï¼Œä¸€ä»£æœ‰ä¸€ä»£çš„æµè¡Œã€è±¡å¾ã€å·å¬åŠ›ï¼Œå˜åŒ–å½“ç„¶ä¹Ÿæ˜¯å®å®åœ¨åœ¨äº§ç”Ÿäº†çš„ã€‚æˆ‘ä»¬åªæ˜¯æé†’ä½ ï¼Œæ¯ä¸€ä»£äººæŒæ¡è¯è¯­æƒçš„æ—¶å€™ï¼Œéƒ½ä¼šä¹ æƒ¯æ€§å…³æ³¨å¹¶å¼ºè°ƒè‡ªå·±çš„ç‰¹ç«‹ç‹¬è¡Œï¼Œä¹ æƒ¯æ€§è®¤ä¸ºã€Œæœ€å¥½çš„æ—¶ä»£å·²ç»è¿‡å»äº†ã€ã€Œé‚£å¸®å¹´è½»äººæ€ä¹ˆè¿™æ ·ã€ï¼Œä»¥åŠã€Œæˆ‘ä»¬è¿™ä»£äººè¿‡å¾—å¤ªä¸å®¹æ˜“äº†ã€ã€‚ ä»è¿™ä¸ªè§’åº¦æ¥è®²ï¼Œæ‰€è°“çš„ã€Œæ–°æ—¶ä»£ã€å…¶å®ä¹Ÿæœ‰ç‚¹åƒä¸€å°å¤è¯»æœºï¼Œå®ƒè·Ÿä¸Šä¸ªæ—¶ä»£çš„å·®è·ï¼Œå¯èƒ½æ²¡æœ‰æˆ‘ä»¬æƒ³å¾—é‚£ä¹ˆå¤§ï¼šå½“ä½ çœ‹åˆ°é‚£äº›è¡¨è±¡ï¼ˆå¯¹ä¼ ç»Ÿæ€€æœ‰å›é€†ã€æ€»æ˜¯åœ¨è¿½å¿†è¿‡å»ã€å¯¹å¸ç©ºè§æƒ¯çš„äº‹ç‰©æ„Ÿåˆ°ç–²åŠ³ï¼‰æ—¶ï¼Œå¦‚æœè€ƒè™‘è—åœ¨èƒŒåçš„äººç±»ç†æ™ºå’Œæƒ…æ„Ÿï¼Œå°±çŸ¥é“åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒä»¬å¹¶æ²¡æœ‰å¤šä¹ˆæ—¶é«¦æ–°å¥‡ï¼Œæœ‰æ—¶ç”šè‡³æ˜¯åå¤å‡ºç°ã€æ™®éå­˜åœ¨çš„æ°¸æ’ä½“éªŒã€‚ è‹±å›½ç§‘å¹»ä½œå®¶é“æ ¼æ‹‰æ–¯Â·äºšå½“æ–¯æ›¾ç»æå‡ºè¿‡ä¸€ä¸ªã€Œç§‘æŠ€ä¸‰å®šå¾‹ã€ï¼Œã€Œä»»ä½•åœ¨æˆ‘å‡ºç”Ÿæ—¶å·²ç»æœ‰çš„ç§‘æŠ€ï¼Œéƒ½æ˜¯ç¨€æ¾å¹³å¸¸çš„ï¼Œæ˜¯ä¸–ç•Œè‡ªç„¶ç§©åºçš„ä¸€éƒ¨åˆ†ï¼›ä»»ä½•åœ¨æˆ‘ 15-35 å²ä¹‹é—´è¯ç”Ÿçš„ç§‘æŠ€ï¼Œéƒ½å°†ä¼šæ˜¯æ”¹å˜ä¸–ç•Œçš„é©å‘½æ€§äº§ç‰©ï¼›ä»»ä½•åœ¨æˆ‘ 35 å²ä»¥åè¯ç”Ÿçš„ç§‘æŠ€ï¼Œéƒ½æ˜¯è¿åè‡ªç„¶ç§©åºçš„å¼‚ç«¯ã€ã€‚è¿™æ®µè¯å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£é‡Šã€Œxx æ—¶ä»£ã€çš„è¯´æ³•ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¯†é›†è€Œä¸”è¶Šæ¥è¶Šä¸å€¼é’±ï¼šåœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œæ—¶é—´ç¢°å·§å¯ä»¥è¢«ä¸€äº›å«åšã€Œé‡Œç¨‹ç¢‘/å¯¼ç«ç´¢/çºªå¿µæ—¥ã€çš„ä¸œè¥¿æ˜ç¡®éš”æ–­ï¼Œä½†æ›´å¤šæ—¶å€™ï¼Œã€Œæ—¶ä»£ã€ä¸è¿‡æ˜¯ä¸€ç§ã€Œæˆ‘æƒ³æ‰¾åˆ°ä¸€ä¸ªè¯æ¥æ¦‚æ‹¬è‡ªå·±ç›®åŠ›æ‰€åŠçš„ä¸€åˆ‡ã€çš„å¿«æ·æ–¹å¼ï¼Œæ˜¯ä¿¡æ¯ç»™æˆ‘ä»¬åˆ¶é€ çš„ä¸€å¼ ç½‘ï¼Œè®©æˆ‘ä»¬æ¯æ¯ç”Ÿå‡ºã€Œèº«å¤„å…¶ä¸­ä¸æœ‰è£ç„‰ã€çš„æ„Ÿè§‰ã€‚ äºŒã€ã€Œå½“ä»£ã€çš„å‡ ç‚¹å˜åŒ– æ‰€é¢å¯¹ä»»åŠ¡å¤æ‚åº¦çš„æ”¹å˜è¿‡å»çš„ç¤¾ä¼šï¼Œæ¯ä¸ªäººé¢å¯¹çš„æ˜¯ä¸€ä¸ªä»»åŠ¡ç³»ç»Ÿã€‚é¢˜ç›®å·²ç»å‡ºå¥½äº†ï¼Œæ¯ä¸ªäººå„å‡­æœ¬äº‹å»ç­”é¢˜ï¼Œé åˆ†æ•°ã€‚åœ¨å­¦æ ¡ï¼Œä½ å¾—åšè€å¸ˆå‡ºçš„é¢˜ï¼Œåœ¨å•ä½ï¼Œä½ å¾—å¹²é¢†å¯¼å¸ƒç½®çš„æ´»å„¿ã€‚é‚£æ¯ä¸ªäººçš„åˆ¹è½¦å°±æ˜¯å„ç§å„æ ·çš„æ¡æ¡æ¡†æ¡†ï¼ŒåŸåˆ™è§„çŸ©ã€‚ ä½†æ˜¯ç°åœ¨ä¸ä¸€æ ·äº†ï¼Œç°åœ¨ä¸€ä¸ªå­¦ç”Ÿæ¯•ä¸šé¢å¯¹çš„ï¼Œå¾€å¾€ä¸æ˜¯ä¸€ä¸ªç¡®å®šçš„ä»»åŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªç›®æ ‡ï¼Œä¸€ä¸ªâ€œäº‹â€ï¼Œå…·ä½“æ€ä¹ˆè¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œåšæˆè¿™ä¸ªâ€œäº‹â€ï¼Œæ¯ä¸ªäººæœ‰è‡ªå·±çš„å®šä¹‰ã€‚ç”šè‡³è¿™ä»¶äº‹ï¼Œåœ¨æ¯ä¸€ä¸ªåœ°æ–¹éƒ½ä¸ä¸€æ ·ã€‚çœ‹èµ·æ¥å¥½åƒæ›´è‡ªç”±ï¼Œä½†å…¶å®å¯¹äººçš„çº¦æŸåŠ›æ›´å¤§ã€‚ä¸ºå•¥ï¼Ÿå› ä¸ºå®Œæˆä¸€ä¸ªåˆ«äººå®šä¹‰çš„ä»»åŠ¡ï¼Œè¿˜æœ‰è®¨ä»·è¿˜ä»·çš„å¯èƒ½ï¼Œè¿˜æœ‰ä¼˜è‰¯ä¸­å·®çš„ç­‰çº§ï¼Œä¸€é“é¢˜ç­”å¯¹ä¸€åŠè¿˜èƒ½ç»™åˆ†ã€‚ä½†æ˜¯å¦‚æœåšä¸€ä¸ªäº‹ï¼Œè¾¾åˆ°ä¸€ä¸ªç›®æ ‡ï¼Œå·®ä¸€ç‚¹éƒ½ä¸è¡Œã€‚è¿™æ˜¯ä¸€ä¸ªæ›´å¥½çš„äººæ ¼å¡‘é€ ç³»ç»Ÿå’Œåˆ¹è½¦ç³»ç»Ÿã€‚ ç°åœ¨ï¼Œäººä¸€åˆ°ç¤¾ä¼šä¸Šï¼Œä¸ç®¡æ˜¯åšä¸€ä¸ªé”€å”®ã€è¿˜æ˜¯æä¸€é¡¹ç§‘ç ”ã€è¿˜æ˜¯ä¸»åŠä¸€ä¸ªæ´»åŠ¨ã€è¿˜æ˜¯æä¸€ä¸ªäº§å“ã€æˆ–è€…å¹²è„†å»åˆ›ä¸šï¼Œä½ å‘ç°æ²¡æœ‰ï¼Ÿæ²¡æœ‰ä»»ä½•ä¸€ä»¶äº‹æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œè¾¾æˆç›®æ ‡ï¼Œéƒ½éœ€è¦æ ¹æ®ä¸€æ—¶ä¸€åœ°çš„æ¡ä»¶ï¼Œåšå„ç§å„æ ·çš„åˆ›æ–°ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ‚¨ä¸€è·¯å­¦éœ¸ï¼Œå¤§å­¦ä¸­æ–‡ç³»é«˜æç”Ÿæ¯•ä¸šã€‚ä½†æ˜¯åˆèƒ½æ€æ ·å‘¢ï¼Ÿä¸€æ—¦åˆ°å·¥ä½œå•ä½ï¼Œä½ ä¼šå‘ç°ï¼Œå¹¶æ²¡æœ‰æŠ½è±¡çš„ä¸­æ–‡å†™ä½œèƒ½åŠ›è¿™ä¸ªäº‹ï¼Œä¸–ç•Œä¸Šæ²¡æœ‰é‚£ä¹ˆå¤šä½œæ–‡å¤§èµ›ã€‚ä½ é‡åˆ°çš„ï¼Œéƒ½æ˜¯ç±»ä¼¼äºç»™æŸæŸäº§å“å†™ä¸ªæ–‡æ¡ˆï¼Œç»™æŸæŸå…¬ä¼—å·å†™ä¸ªæ–‡ç« ï¼Œç»™é¢†å¯¼çš„æŸæ¬¡æ¼”è®²åšä¸ªpptï¼Œè¿™æ ·çš„äº‹ã€‚åœ¨æ‰€æœ‰è¿™äº›â€œäº‹â€é¢å‰ï¼Œä½ éœ€è¦çš„è¿œè¿œä¸æ­¢å†™ä½œèƒ½åŠ›ï¼Œä½ éœ€è¦è°ƒåŠ¨å„ä¸ªæ–¹é¢çš„æ½œèƒ½ï¼Œå­¦ä¹ å…¨æ–°çš„ä¸œè¥¿ï¼Œæ‰èƒ½æŠŠäº‹åšæˆã€‚è€Œä¸”è¿˜æœ‰ä¸€ç‚¹ï¼Œåœ¨åšäº‹è¿™ä¸ªç¯å¢ƒé‡Œï¼Œæ²¡æœ‰è°æœ‰ç¡®å®šçš„ä¼˜åŠ¿ã€‚é¢†å¯¼å’Œè€æ¿ï¼Œå†™å…¬å¸çš„å…¬ä¼—å·æ–‡ç« ï¼Œè¿˜çœŸä¸è§å¾—å°±æ¯”åˆšæ¯•ä¸šçš„å¤§å­¦ç”Ÿå¼ºã€‚ å­¦ä¹ æ–¹å¼çš„æ”¹å˜åœ¨è¿‡å»çš„æ‰‹æŠ„æ—¶ä»£ï¼Œæˆ‘ä»¬è®°å¿†åŠ›è¶Šå¥½è¶Šç‰›ï¼›å°åˆ·æ—¶ä»£ï¼ŒçŸ¥é“å¾—è¶Šå¤šè¶Šç‰›ï¼›ä½†åˆ°äº†ç°åœ¨çš„ä¿¡æ¯æ—¶ä»£ï¼Œå­¦å¾—è¶Šå¿«è¶Šç‰›ã€‚ è¿‡å»ä½ è¦è¯´è‡ªå·±æœ‰çŸ¥è¯†ç„¦è™‘ï¼Œç¤¾ä¼šå·²ç»ç»™ä½ å‡†å¤‡äº†æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œè¯´ç™½äº†å°±æ˜¯è¯»ä¹¦çœ‹æŠ¥åŠ ä¸Šå­¦ã€‚åªè¦ä½ å‹¤äºç”¨åŠŸï¼Œè‚¯äºèŠ±é’±ï¼Œä½ çš„ç„¦è™‘æ˜¯èƒ½è§£å†³çš„ã€‚ä½†æ˜¯ä»Šå¤©ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆæœ¬èº«å°±åœ¨å‡ºé—®é¢˜ï¼Œä¸ºå•¥ï¼Ÿå› ä¸ºç¤¾ä¼šçš„åº•å±‚å› ç´ æ­£åœ¨å‘ç”Ÿé‡å¤§å˜åŠ¨ã€‚ æ¯”å¦‚è¯´ï¼Œç¬¬ä¸€ï¼Œäººçš„æ—¶é—´åœ¨ç¢ç‰‡åŒ–ã€‚ç°åœ¨æˆ‘ä»¬ä¸ç®¡åœ¨å¹²ä»€ä¹ˆï¼ŒåŠ¨ä¸åŠ¨å°±è¦å»æ‘¸ä¸‹æ‰‹æœºï¼Œåˆ·ä¸‹å¾®ä¿¡ä»€ä¹ˆçš„ã€‚å½“ç„¶ï¼Œè¿™èµ–ä¸ç€äººå®¶å¾®ä¿¡ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„ç¤¾ä¼šåä½œå…³ç³»æåº¦å¤æ‚åŒ–çš„ç»“æœï¼Œæˆ‘ä»¬æœ‰å¤ªå¤šçš„äº‹æƒ…è¦åŒæ­¥è¿è¡Œã€åˆ†å¤´ç…§æ–™ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‹¿ä¸å‡ºæ•´å—æ—¶é—´äº†ã€‚è¯»ä¹¦ä¸Šå­¦è¿™ç§äº‹å¯æ˜¯è¦èŠ±æ•´å—æ—¶é—´çš„ã€‚ä¸€æœ¬ä¹¦20ä¸‡å­—ï¼Œä½ æ€ä¹ˆä¹Ÿå¾—è¯»ä¸ªä¸‰å››å¤©å§ï¼Ÿä¸Šä¸ªå­¦å‡ å¹´ï¼Œæœ€çŸ­çš„çŸ­è®­ç­ä¹Ÿå¾—å¥½å‡ å¤©å§ï¼Ÿä½ è¶Šæ¥è¶ŠèŠ±ä¸èµ·è¿™ä¸ªæ—¶é—´ã€‚ ç¬¬äºŒï¼Œå­¦ä¹ è¶Šæ¥è¶Šæ˜¯ä¸€ä¸ªç»ˆèº«åŒ–çš„äº‹æƒ…ã€‚è¿‡å»æœ‰ä¸€ä¸ªè¯å«â€œå­¦ä¸šæœ‰æˆâ€ã€‚å¤§å­¦æ¯•ä¸šåŸºæœ¬ä¸Šç®—å­¦ä¸šæœ‰æˆå§ï¼Œä½ è¦æ˜¯ç•™å­¦å›æ¥æˆ‘ä»¬å«â€œå­¦æˆå½’å›½â€ã€‚ä½†æ˜¯ä»Šå¤©æœ‰å­¦æˆè¿™ä»¶äº‹æƒ…å—ï¼Ÿæ°¸è¿œä¹Ÿæˆä¸äº†ï¼Œæ–°çš„çŸ¥è¯†åƒæµ·æµªä¸€èˆ¬æ¶Œæ¥ï¼Œä½ ä¸€è¾ˆå­éƒ½è¦å¥‹åŠ›å‰è¡Œï¼Œæ°¸è¿œæˆä¸äº†ã€‚ä½†æ˜¯ 20 å¤šå²ä½ å°±å¤§å­¦æ¯•ä¸šäº†ï¼Œæ•´ä¸ªç¤¾ä¼šæ²¡æœ‰ä¸ºç»ˆèº«å­¦ä¹ æä¾›è§£å†³æ–¹æ¡ˆå’ŒæœåŠ¡ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ è¿˜æœ‰ç¬¬ä¸‰ç‚¹ï¼Œç°åœ¨çš„å­¦ä¹ è¶Šæ¥è¶Šæ˜¯è·¨ç•ŒåŒ–çš„ã€‚è¿™ä»¶äº‹æƒ…è¦æ˜¯å‡ ç™¾å¹´å‰ï¼Œä¸€ç‚¹å„¿éƒ½ä¸æ–°é²œï¼Œé‚£ä¸ªæ—¶å€™çš„å­¦è€…è§‰å¾—è‡ªå·±ä¸Šé€šå¤©æ–‡ï¼Œä¸‹æ™“åœ°ç†ï¼Œå› ä¸ºé‚£ä¸ªæ—¶å€™çš„çŸ¥è¯†æ€»é‡å°‘ã€‚å¯æ˜¯ï¼Œå·¥ä¸šé©å‘½ä¹‹åï¼Œäººç±»çš„çŸ¥è¯†å¤§çˆ†ç‚¸ï¼ŒçŸ¥è¯†çš„è´Ÿæ‹…å¤ªæ²‰é‡ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿä¸¤ç™¾å¹´æ¥æˆ‘ä»¬æ‰¾åˆ°äº†æ–¹æ³•ï¼Œå«åˆ†ç§‘æ²»å­¦ã€‚æˆ‘ä»¬ä»ä¸­å­¦çš„æ—¶å€™å°±æ–‡ç†åˆ†ç§‘ï¼Œä½ å­¦ç‰©ç†ï¼Œä»–å­¦åŒ–å­¦ï¼Œè€Œä¸”è¶Šåˆ†è¶Šç»†ï¼Œåˆ†æ‹…äººç±»çš„çŸ¥è¯†æ€»é‡ã€‚æ¯ä¸€ä¸ªäººéƒ½æœ‰ä¸€ä¸ªçŸ¥è¯†çš„é‡‘å­—å¡”ï¼Œä½ å»å¾€ä¸Šçˆ¬å§ï¼Œè¿™è¾ˆå­ä½ çˆ¬ä¸€ä¸ªå¡”å°±è¡Œäº†ã€‚ä½†æ˜¯ä»Šå¤©ï¼Œæ‰€æœ‰å–„äºå­¦ä¹ çš„äººéƒ½æ˜ç™½ä¸€ä¸ªé“ç†ï¼ŒçœŸæ­£çš„åˆ›æ–°çš„ç©ºé—´ï¼Œæ°æ°åœ¨åŸæ¥é‚£äº›é‡‘å­—å¡”çš„ä¸­é—´åœ°å¸¦ã€‚ å¯¹äºé€€ä¼‘è®¤çŸ¥çš„æ”¹å˜è¿™æ˜¯æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼š æœ‰ä¸€æœ¬ä¹¦ï¼Œå«ã€Šç™¾å²äººç”Ÿã€‹ã€‚è¿™ä¹¦å°±æ˜¯æé†’å¤§å®¶ä¸€ä»¶äº‹ï¼Œéšç€åŒ»ç–—æŠ€æœ¯çš„è¿›æ­¥ï¼Œæˆ‘ä»¬è¿™ä»£äººæœ‰å¾ˆå¤§æ¦‚ç‡èƒ½æ´»åˆ°100å¤šå²ã€‚æ‚¨å…ˆåˆ«é«˜å…´ï¼Œæ´»å¾—é•¿è™½ç„¶æ˜¯å¥½äº‹ï¼Œä½†æ˜¯ä»£ä»·æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æœ€ç®€å•çš„ä¸€ç‚¹ï¼Œå°±æ˜¯è¿‡å»çš„ä¸‰æ®µå¼äººç”Ÿè§„åˆ’ï¼Œæ²¡æœ‰ç”¨äº†ã€‚ æ‰€è°“â€œä¸‰æ®µå¼äººç”Ÿâ€ï¼Œå¤§æ¦‚å°±æ˜¯30å²ä¹‹å‰ï¼Œå­¦ä¹ æˆå®¶ç«‹ä¸šï¼›30å²ä¹‹ååœ¨ç¤¾ä¼šå’Œå®¶åº­ä¸­é¡¶å¤§æ¢ï¼›60å²ä¹‹åé€€ä¼‘å›å®¶ï¼Œå®‰åº¦æ™šå¹´ç­‰æ­»ã€‚å¯æ˜¯å¦‚æœèƒ½æ´»100å²ï¼Œè¿™ä¸ªå®‰æ’å°±å‡ºé—®é¢˜äº†ã€‚ã€Šç™¾å²äººç”Ÿã€‹é‡Œåšäº†å¾ˆå¤šæ¨å¯¼ï¼Œæ¯”å¦‚äººçš„ä¼¦ç†è§‚ä¼šå˜åŒ–ï¼Œè¿‡å»ç›¸å¯¹ä¸å˜çš„äººæ˜¯å—å°Šé‡çš„ï¼Œè€Œæœªæ¥æ•¢äºæŠ›å¼ƒå­˜é‡çš„äººæ‰æ˜¯æœ‰é“å¾·çš„ã€‚å†æ¯”å¦‚ï¼Œäººçš„å©šå§»é€‰æ‹©ä¼šæ›´åŠ æ…é‡ï¼Œå› ä¸ºé€‰ä¸€ä¸ªäººï¼Œè¦è·Ÿä»–åœ¨ä¸€èµ·çš„æ—¶é—´å®åœ¨å¤ªé•¿äº†ã€‚è¿˜æœ‰ï¼Œäººçš„èµ„äº§ä¹Ÿä¼šä»é‡‘é’±å˜æˆäº†ä¿¡ç”¨å’Œäººè„‰ï¼Œç­‰ç­‰ã€‚ è¿‡å»ï¼Œäººå—æ•™è‚²ï¼ŒæŒæ¡ä¸€é—¨çŸ¥è¯†æˆ–è€…æ‰‹è‰ºï¼Œç„¶ååº”ç”¨åˆ°é€€ä¼‘é—®é¢˜ä¸å¤§ã€‚æ‰€ä»¥æ‰æœ‰äººæå€¡è¦å¹²ä¸€è¡Œçˆ±ä¸€è¡Œï¼Œè¿›ä¸€ä¸ªå•ä½è¦å¿ è¯šäºä¸€ä¸ªå•ä½ã€‚ å¯æ˜¯ä½ æƒ³è¿‡æ²¡æœ‰ï¼Œç°åœ¨äº§ä¸šè¿­ä»£é€Ÿåº¦è¿™ä¹ˆå¿«ï¼Œæœ‰çš„æ–°å…´è¡Œä¸šä»å…´èµ·åˆ°è¡°è½ï¼Œä¹Ÿè®¸åªæœ‰åå‡ å¹´çš„æ—¶é—´ï¼Œä½ å°±æ˜¯æƒ³ä¸ºè¿™ä¸ªå•ä½ã€è¿™ä¸ªè¡Œä¸šå¥‰çŒ®ç»ˆç”Ÿä¹Ÿåšä¸åˆ°å•Šã€‚æˆ‘ä»¬å¦‚æœèƒ½æ´»100å²ï¼Œä¸€ç”Ÿè¦è·¨è¿‡çš„è¡Œä¸šå°±å¯èƒ½æœ‰å¥½å‡ ä¸ªã€‚ æ‰€ä»¥æˆ‘ä»¬å¿…é¡»æœ‰ä¸€ç§èƒ½åŠ›ï¼Œå°±æ˜¯ä¸æ–­æ‰”æ‰å­˜é‡ï¼Œä»é›¶å¼€å§‹ï¼Œåˆ›é€ ä¸€ä¸ªæ–°çš„ç”Ÿæ´»é˜¶æ®µã€‚60å²å†å»ä¸Šä¸ªå¤§å­¦ï¼Œ65å²ç”šè‡³70å²å†å»å¹²ä¸€ä»¶å…¨æ–°çš„äº‹ï¼Œç”šè‡³åˆ›ä¸ªä¸šï¼Œæœªæ¥è¿™æ ·çš„äººä¼šè¶Šæ¥è¶Šå¸¸è§ã€‚ å¯¹äºæ„Ÿå®˜çš„æ”¹å˜ ä»¥ä¸‹æ‘˜å½•è‡ªã€Šä»Šæ—¥ç®€å²ã€‹P82 äººç±»æœ‰èº«ä½“ã€‚åœ¨ 20 ä¸–çºªï¼Œç§‘æŠ€è®©æˆ‘ä»¬ä¸èº«ä½“çš„è·ç¦»è¶Šæ¥è¶Šè¿œï¼Œé€æ¸å¤±å»äº†å¥½å¥½æ„Ÿå—å‘³è§‰å’Œå—…è§‰çš„èƒ½åŠ›ï¼Œä¸€å¤´æ‰è¿›æ™ºèƒ½æ‰‹æœºå’Œè®¡ç®—æœºï¼Œå¯¹ç½‘ç»œä¸Šå‘ç”Ÿçš„äº‹æ¯”å¯¹å¤§è¡—ä¸Šå‘ç”Ÿçš„äº‹æ›´æ„Ÿå…´è¶£ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å’Œåœ¨æ³•å›½çš„å§å§è¯´è¯æ¯”ä»¥å‰ä»»ä½•æ—¶å€™éƒ½å®¹æ˜“ï¼Œä½†è¦åœ¨æ—©é¤çš„æ—¶å€™å’Œæˆ‘çš„çˆ±äººè¯´è¯å´æ¯”è¾ƒéš¾ï¼Œå› ä¸ºå¥¹æ€»æ˜¯ä¸çœ‹ç€æˆ‘ï¼Œè€Œæ˜¯ç›¯ç€æ™ºèƒ½æ‰‹æœºã€‚ åœ¨è¿œå¤æ—¶ä»£ï¼Œäººç±»ç»ä¸å¯èƒ½å¦‚æ­¤çš„æ¼«ä¸ç»å¿ƒã€‚å½“æ—¶çš„é‡‡é›†è€…å¿…é¡»æ°¸è¿œä¿æŒè­¦è§‰ã€ä¸“å¿ƒä¸€æ„ã€‚èµ°åœ¨æ£®æ—é‡Œå¯»æ‰¾è˜‘è‡çš„æ—¶å€™ï¼Œè¦æ³¨æ„åœ°é¢æ˜¯å¦æœ‰å°å°çš„å‡¸èµ·ï¼Œè¿˜è¦æ³¨æ„è‰ä¸›ä¸­æ˜¯å¦å‘å‡ºäº†ç»†å¾®çš„å£°éŸ³ï¼Œä»¥å…æœ‰è›‡èº²åœ¨é‚£é‡Œã€‚ç­‰åˆ°å‘ç°å¯é£Ÿç”¨çš„è˜‘è‡ï¼Œè¿˜è¦æå…¶å°å¿ƒåœ°è¯•å°ä¸€ä¸‹ï¼Œä»¥å…åƒåˆ°æœ‰æ¯’çš„èŒç±»ã€‚ ä½†åˆ°äº†ç°ä»£çš„å¯Œè£•ç¤¾ä¼šï¼Œäººç±»ä¸å†éœ€è¦å¦‚æ­¤æ•é”çš„æ„Ÿå®˜æ„è¯†ã€‚æˆ‘ä»¬å¯ä»¥è¾¹èµ°åœ¨è¶…å¸‚çš„èµ°é“é‡Œï¼Œä¸€è¾¹å‘çŸ­ä¿¡ï¼Œä¸€è¾¹åœ¨æˆç™¾ä¸Šåƒç§é£Ÿç‰©ä¸­éšæ„æŒ‘é€‰ã€‚ä½†ä¸ç®¡æˆ‘ä»¬æŒ‘äº†ä»€ä¹ˆé£Ÿç‰©ï¼Œæœ€åéƒ½æ˜¯ååœ¨æŸä¸ªå±å¹•å‰ä¸€è¾¹ç‹¼åè™å’½ï¼Œä¸€è¾¹æ”¶ç€ç”µå­é‚®ä»¶æˆ–çœ‹ç€ç”µè§†ï¼Œå…¨ç„¶ä¸ä¼šæ³¨æ„é£Ÿç‰©ç©¶ç«Ÿå‘³é“å¦‚ä½•ã€‚ æ‰å…‹ä¼¯æ ¼è¯´ï¼Œè„¸è°±ç½‘è‡´åŠ›äºâ€œæŒç»­æ”¹è¿›æˆ‘ä»¬çš„å·¥å…·ï¼Œè®©äººä»¬èƒ½å¤Ÿåˆ†äº«è‡ªå·±çš„ä½“éªŒã€‚â€ä½†æˆ‘ä»¬çœŸæ­£éœ€è¦çš„ï¼Œå¯èƒ½æ˜¯å¥½å¥½æ„Ÿå—ä¸€ä¸‹è‡ªå·±çš„ä½“éªŒã€‚ä»¥â€åˆ†äº«ä½“éªŒâ€œä¸ºåï¼Œç°ä»£äººå¯¹è‡ªå·±çš„ç†è§£å¸¸å¸¸ä»åˆ«äººçš„è§‚ç‚¹å‡ºå‘ï¼Œä¸€å‘ç”Ÿä»€ä¹ˆæœ‰è¶£çš„äº‹ï¼Œè„¸è°±ç½‘ç”¨æˆ·å°±ä¼šä¸‹æ„è¯†åœ°æ‹¿å‡ºæ™ºèƒ½æ‰‹æœºï¼Œæ‹ç…§ã€å‘å¸–ã€ç­‰ç€æœ‰äººç‚¹èµã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬å‡ ä¹ä¸ä¼šæ³¨æ„è‡ªå·±åˆ°åº•æœ‰ä½•æ„Ÿå—ã€‚äº‹å®ä¸Šï¼Œä»–ä»¬çš„æ„Ÿå—è¶Šæ¥è¶Šæ¥è‡ªç½‘ç»œä¸Šçš„å“åº”ã€‚ äººç±»ä¸€æ—¦ä¸èº«ä½“ã€æ„Ÿå®˜å’ŒçœŸå®ç¯å¢ƒè¶Šæ¥è¶Šç–ç¦»ï¼Œå¾ˆå¯èƒ½å°±ä¼šæ„Ÿå—å­¤å•ã€è¿·å¤±æ–¹å‘ã€‚å¾ˆå¤šæƒå¨è¯„è®ºäººå£«æŠŠè¿™ç§ç–ç¦»æ„Ÿå½’å’äºå®—æ•™å’Œå›½å®¶çš„å‡èšåŠ›å¼å¾®ï¼Œä½†æˆ–è®¸å’Œä½ çš„èº«ä½“å¤±å»è”ç³»æ‰æ˜¯æœ€é‡è¦çš„åŸå› ã€‚æ›¾æœ‰å‡ ç™¾å¹´çš„æ—¶é—´ï¼Œäººç±»æ²¡æœ‰å®—æ•™ï¼Œä¹Ÿæ²¡æœ‰å›½å®¶ï¼Œä½†è¿˜æ˜¯è¿‡å¾—å¼€å¼€å¿ƒå¿ƒï¼Œæ‰€ä»¥åœ¨ 21 ä¸–çºªåº”è¯¥ä¹Ÿä¸æˆé—®é¢˜ã€‚ç„¶è€Œä¸€æ—¦ä¸èº«ä½“å¤±å»è”ç³»ï¼Œæ—¥å­å°±è‚¯å®šæ— æ³•è¿‡å¾—å¼€å¿ƒã€‚åªè¦ä½ åœ¨è‡ªå·±çš„èº«ä½“é‡Œæ„Ÿè§‰ä¸è‡ªåœ¨ï¼Œåœ¨è¿™ä¸ªä¸–ç•Œä¸Šå°±ä¸å¯èƒ½è‡ªåœ¨ã€‚ å°±ç®—åˆ°äº†ä»Šå¤©ï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨è„¸è°±ç½‘ä¸Šç‚«è€€æœ‰è®¸å¤šå¥½å‹ï¼Œä½†æ˜¯å¤§å¤šæ•°äººçœŸæ­£äº†è§£çš„äººå¹¶ä¸ä¼šè¶…è¿‡ 150 ä¸ªã€‚å¦‚æœæ²¡æœ‰è¿™äº›å°å›¢ä½“çš„æ”¯æŒï¼Œäººå°±ä¼šè§‰å¾—å¯‚å¯ï¼Œç”šè‡³è¢«å­¤ç«‹ã€‚ äºæ˜¯ï¼Œè™½ç„¶æ•´ä¸ªåœ°çƒè¿æ¥å¾—æ›´åŠ ç´§å¯†ï¼Œä½†æ¯ä¸ªäººçš„ç”Ÿæ´»å´æ¯”è¿‡å»æ›´åŠ å­¤ç‹¬ã€‚ å‚è€ƒèµ„æ–™ ã€Œå½“ä»£ã€è¶Šæ¥è¶Šè®©äººçœ‹ä¸æ‡‚ï¼Œæˆ‘ä»¬å¸®ä½ æ‰¾åˆ°äº†è§‚å¯Ÿå®ƒçš„ 15 ä¸ªæ–°è§’åº¦ | 100ä¸ªç”Ÿæ´»å¤§é—®é¢˜ - https://www.qdaily.com/articles/62748.html ã€Šç»ˆèº«å­¦ä¹ ã€‹ - ç½—æŒ¯å®‡ é€»è¾‘æ€ç»´ç³»åˆ—è¯¾ç¨‹æ‘˜é€‰ ã€Šæ´‹è‘±é˜…è¯»æ³•ã€‹ ã€ŒThree Big Things: The Most Important Forces ShapiÃ¸ng the Worldã€ - https://www.collaborativefund.com/blog/three-big-things-the-most-important-forces-shaping-the-world/ ã€Šä»Šæ—¥ç®€å²ã€‹ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/categories/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/tags/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åº”å±Šæ¯•ä¸šç”Ÿå·¥ä½œ7ä¸ªæœˆå°ç»“","slug":"åº”å±Šæ¯•ä¸šç”Ÿå·¥ä½œ7ä¸ªæœˆå°ç»“","date":"2019-11-22T08:15:00.000Z","updated":"2020-08-03T09:44:27.715Z","comments":true,"path":"2019/11/22/ying-jie-bi-ye-sheng-gong-zuo-7-ge-yue-xiao-jie/","link":"","permalink":"http://www.wmyskxz.com/2019/11/22/ying-jie-bi-ye-sheng-gong-zuo-7-ge-yue-xiao-jie/","excerpt":"","text":"å‰è¨€ï¼š ä¸çŸ¥ä¸è§‰å·²ç»å·¥ä½œäº†å¿« 7 ä¸ªæœˆäº†ï¼Œå»å¹´è¿™ä¸ªæ—¶å€™è¿˜è·»èº«åœ¨è€ƒç ”çš„å¤§å†›ä¸­ï¼Œä¸ç¦æœ‰äº›æ„Ÿæ…¨â€¦ ç»“åˆè¿™ 7 ä¸ªæœˆå‘ç”Ÿçš„ä¸€äº›äº‹æƒ…ï¼Œç®€å•åšä¸€ä¸‹æ€»ç»“å§â€¦ ä¸ºè·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡åœ°å€ï¼šä¼ é€é—¨ ä¸€ã€é‚£æ—¶å€™åˆšå…¥èŒ ä¸åŒäºå…¶ä»–åŒå­¦å¿™äºæ¯•è®¾çš„ 4 æœˆï¼Œææ—©å®‰æ’è¶å¯’å‡å·²ç»å®Œæˆæ¯•è®¾çš„æˆ‘ï¼Œå·²ç»å¼€å§‹æ‰‘åœ¨äº†ã€Œæ‰¾å·¥ä½œã€è¿™ä»¶äº‹ä¸Šï¼Œæœ‰äº†å»å¹´ã€Œç§‹æ‹›ã€æ‰“ä¸‹çš„åŸºç¡€ï¼Œå¤ä¹ èµ·æ¥å¿«äº†å¾ˆå¤šï¼Œæ²¡è¿‡å¤šä¹…å°±å¼€å§‹æŠ•ç®€å†é¢è¯•äº†ï¼Œé¢è¯•ä¹Ÿæ€»ä½“æ¯”è¾ƒé¡ºåˆ©ï¼Œåˆšé¢æ²¡å‡ å®¶å°±è¿…é€Ÿå’Œä¸€å®¶è‡ªå·±çœ‹å¥½çš„åˆåˆ›å…¬å¸ç­¾ä¸‹äº†ã€‚ å…¬å¸ä½¿ç”¨çš„æŠ€æœ¯æ ˆåŒºåˆ«äºè‡ªå·±ç†Ÿæ‚‰çš„ Java/ MySQL è¿™ä¸€å¥—ï¼Œè€Œæ˜¯ä¸»è¦ä½¿ç”¨çš„ Rails/ MongoDBï¼Œæ‰€ä»¥åˆšå…¥èŒçš„ä¸€æ®µæ—¶é—´ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨è‡ªå·±ç†Ÿæ‚‰æŠ€æœ¯æ ˆï¼Œä¹Ÿè¶ç€é—²æš‡çš„æ—¶é—´ï¼ŒæŠŠè‡ªå·±å…¥é—¨æ—¶å€™çš„ä¸€äº›å­¦ä¹ å¿ƒå¾—å†™æˆäº†æ–‡ç« å‘è¡¨ï¼š MongoDBã€å¿«é€Ÿå…¥é—¨ã€‘ï¼šhttp://www.wmyskxz.com/2019/04/25/mongodb-kuai-su-ru-men/ Javaè½¬Rubyã€å¿«é€Ÿå…¥é—¨ã€‘ï¼šhttp://www.wmyskxz.com/2019/04/26/java-zhuan-ruby-kuai-su-ru-men/ å¯¹äºèŒåœºå°ç™½æ¥è¯´ï¼Œæ‰€è°“ã€ŒèŒåœºã€è¿˜æ˜¯æ˜¾å¾—æœ‰äº›é™Œç”Ÿï¼Œåˆšæ¥çš„æ—¶å€™ï¼Œè™½ç„¶è·Ÿå‘¨å›´çš„åŒäº‹éƒ½ç¨€æ¾å¹³å¸¸åœ°æ‰“äº†ä¸€åœˆå„¿æ‹›å‘¼ï¼Œåä¸‹ä¹‹åï¼Œéšç€ä»–ä»¬åˆåŸ‹å¤´å™¼é‡Œå•ªå•¦æ•²æ‰“é”®ç›˜å·¥ä½œçš„æ·±å…¥ï¼Œåˆé¡¿è§‰å‘¨å›´ä¸€ç‰‡é™Œç”Ÿï¼Œè¿˜æŒºå¥‡å¦™çš„ï¼Œåœ¨ç¬¬ä¸€å‘¨å®Œçš„å‘¨æŠ¥é‡Œé¢æˆ‘å†™é“ï¼š åˆšæ¥å…¬å¸æœ‰äº›è¿·èŒ«ï¼Œåªæ˜¯çœ‹ç€CheckListå¯¹ç…§ç€ç†Ÿæ‚‰ä¸€äº›æŠ€æœ¯ï¼Œä¹Ÿä¸äº†è§£è‡ªå·±åº”è¯¥è¦ç†Ÿæ‚‰åˆ°å“ªç§ç¨‹åº¦ï¼Œå°±å¸Œæœ›è‡ªå·±èƒ½å†ä¸»åŠ¨äº›ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯é—®é¢˜è¿˜æ˜¯å…¶ä»–é—®é¢˜å¤šè¯·æ•™ï¼Œç„¶åå°½å¿«è·Ÿå…¶ä»–æˆå‘˜ç†Ÿæ‚‰èµ·æ¥ã€‚ åˆšå¼€å§‹ä¸Šæ‰‹çš„æ—¶å€™ä¹Ÿæœ‰å¥½å¤šé—®é¢˜ä¸æ‡‚ï¼Œæˆ‘éƒ½ä¹ æƒ¯æ€§çš„é€‰æ‹©è‡ªå·±ç ”ç©¶ä¸€é˜µå„¿ï¼Œå› ä¸ºè‡ªå·±æœ‰å†™åšå®¢çš„ä¸€äº›ç»å†ï¼Œè¢«é—®è¿‡å¥½å¤šä¸€æœç´¢ or è‡ªå·±ä¸€å°è¯•å°±èƒ½è§£å†³çš„é—®é¢˜ï¼Œæ‰€ä»¥æ¯”è¾ƒå…‹åˆ¶ï¼Œä½†æ˜¯åæ¥ã€Œå…¥èŒ 1v1ã€æ²Ÿé€šçš„æ—¶å€™è¢«è¯´åˆ°æœ‰é—®é¢˜åˆ«è‡ªå·±æ­»ç£•ï¼ŒåŠä¸ªå°æ—¶æ²¡è§£å†³å°½é‡å°±æ‰¾ä¸€ä¸‹æ—è¾¹çš„åŒäº‹ã€‚æ‘ï¼Ÿæˆ‘ä¸€ä¸‹å­å°±æŠŠæˆ‘çš„ã€Œä¸»åŠ¨æ€§ã€å‘æŒ¥äº†å‡ºæ¥ã€‚ ä¸è¿‡å¥½è®°æ€§ä¹Ÿä¸å¦‚çƒ‚ç¬”å¤´ï¼Œæ‰¾äº†ä¸€äº›å·¥å…·è®°å½•æŠŠè¿™äº›ã€Œé—®é¢˜çš„ç­”æ¡ˆã€éƒ½è®°å½•äº†ä¸‹æ¥ï¼Œæ–¹ä¾¿ä¹‹åå†æŸ¥æ‰¾ï¼Œå½“æ—¶å¯¹äº Git éƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œä¹Ÿè®°å½•äº†å¾ˆå¤šå¸¸ç”¨çš„å‘½ä»¤åœ¨é‡Œé¢ï¼Œè¿˜æœ‰ä¸€äº›é—®é¢˜çš„åé¦ˆï¼Œç”šè‡³çŸ¥é“äº†æœˆä¼šè¦è‡ªæˆ‘ä»‹ç»ï¼Œä¹Ÿæ‰“äº†ä¸€éè‰ç¨¿è®°å½•åœ¨äº†è¿™é‡Œï¼šï¼ˆé‚£æ®µæ—¶é—´çœŸçš„é—®äº†å¥½å¤šé—®é¢˜ï¼Œå‘¨æŠ¥é‡Œä¹Ÿæ‰‹åŠ¨æ„Ÿè°¢äº†åæˆ‘æ—è¾¹çš„ä¸¤ä½å¤§ä½¬..ï¼‰ å…¥èŒä¸¤å‘¨çš„æ—¶å€™ï¼Œè™½ç„¶å·²ç»å¼€å§‹ä¸Šæ‰‹åšä¸€äº›ç®€å•çš„åŸ‹ç‚¹å·¥ä½œï¼Œä½†è‡ªå·±å¯¹äº Ruby è¿˜æ˜¯ä¸æ˜¯ç‰¹åˆ«äº†è§£å’Œç†Ÿæ‚‰ï¼Œè¶ç€æŸä¸€ä¸ªåŒä¼‘ï¼ŒæŠ“ç€ä¸€æœ¬ã€ŠEffetive-Rubyã€‹å•ƒäº†ä¸¤å¤©ï¼Œä¹ŸæŠŠè‡ªå·±çš„å­¦ä¹ è¾“å‡ºäº†ä¸€ä¸‹ï¼š ã€ŠEffective-Rubyã€‹è¯»ä¹¦ç¬”è®°ï¼šhttp://www.wmyskxz.com/2019/05/12/effective-ruby-du-shu-bi-ji/ äºŒã€é€æ¸èƒ½å¤Ÿä¸Šæ‰‹ å°±è¿™æ ·ä¸€è¾¹ç†Ÿæ‚‰ï¼Œä¸€è¾¹å¼€å§‹æ¥ä¸€äº›å°éœ€æ±‚ï¼Œæˆ‘è®°å¾—æˆ‘å†™ä¸‹çš„ç¬¬ä¸€ä¸ª BUGï¼Œå°±æŠ¥å‡ºäº† 6K æ¡è®°å½•.. æ…Œæ…Œå¼ å¼ åœ¨ä¿®å¤ä¹‹åæˆ‘ä¸ç¦æ„Ÿå¹ï¼šã€Œä¸è¦å¤ªç›¸ä¿¡ç”¨æˆ·çš„ä»»ä½•æ•°æ®ã€ã€‚ï¼ˆåŒ…æ‹¬ equal åå†™ä¹Ÿæ˜¯ä¹‹ååœ¨é”™è¯¯ä¹‹ä¸­å­¦ä¹ åˆ°çš„..ï¼‰ åˆšä¸Šæ‰‹æ²¡æœ‰ä¸€æ®µæ—¶é—´ï¼Œå°±æ¥åˆ°äº†ä¸€ä¸ªæ–°é¡¹ç›®çš„éœ€æ±‚ï¼Œè·Ÿç€ä¸€ä½å¤§ä½¬å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå¤§ä½¬è´Ÿè´£æ­å»ºåŸºç¡€ä»£ç å’Œè®¾è®¡ï¼Œæˆ‘è´Ÿè´£å®Œæˆå…¶ä½™çš„åŠŸèƒ½ä»£ç ï¼Œæ²¡æ•¢ä¸€ä¸æ‡ˆæ€ ï¼Œä¸‹ç­å›å®¶ä¹‹åä¹Ÿå¯¹ç…§ç€åˆ«äººå†™çš„ä»£ç æ•²æ•²æ•²ï¼Œæ—¶é—´å’Œå®Œæˆåº¦ä¸Šå€’æ˜¯æ²¡æœ‰ä¸€ä¸è€½æï¼Œåªæ˜¯ç°åœ¨å›è¿‡å¤´ä¸€æƒ³ï¼Œå½“æ—¶æ²¡æœ‰ä»€ä¹ˆå•å…ƒæµ‹è¯•çš„æ¦‚å¿µå’Œæ„è¯†ï¼Œå°±è‡ªå·±åœ¨æœ¬åœ° Post-Man æµ‹è¯•å®Œå°±å®Œï¼Œæ‰€å¹¸æ¯”è¾ƒç®€å• + è‡ªå·±æµ‹è¯•å¾—æ¯”è¾ƒä»”ç»†ï¼Œåˆ°ç°åœ¨ä¹Ÿæ²¡æœ‰å‡ºç°è¿‡ä»€ä¹ˆé—®é¢˜ã€‚ å·¥ä½œå¯¹æˆ‘è¿™æ ·çš„å°ç™½å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼šã€Œè§è¯†å’Œå¢åŠ æŠ€æœ¯çš„å¹¿åº¦ã€ã€‚å…¬å¸æ‰€ä½¿ç”¨æŠ€æœ¯æ ˆä¸è®ºæ˜¯å¹¿åº¦è¿˜æ˜¯æ·±åº¦ï¼Œéƒ½æ˜¯è‡ªå·±åœ¨å¤§å­¦æœ¬ç§‘çš„å­¦ä¹ ä¸­ä¸å¯ä¼åŠçš„ç¨‹åº¦ï¼ŒJekinsï¼ŸDockerï¼ŸK8Sï¼Ÿè·³æ¿æœºï¼Ÿä¸€ä¸‹å­å†’å‡ºæ¥å¥½å¤šæ–°é²œé™Œç”Ÿçš„åè¯ï¼Œæ€€ç€å¥½å¥‡å¿ƒä¹Ÿå°è¯•äº†è§£äº†ä¸€äº›ï¼š äº†è§£ã€Dockerã€‘ä»è¿™é‡Œå¼€å§‹ï¼šhttp://www.wmyskxz.com/2019/05/29/liao-jie-docker-cong-zhe-li-kai-shi/ ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€çœ‹è¿‡æ¥ï¼ï¼šhttp://www.wmyskxz.com/2019/07/16/xiao-xi-dui-lie-kan-guo-lai/ Kafkaã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼ï¼šhttp://www.wmyskxz.com/2019/07/17/kafka-ru-men-jiu-zhe-yi-pian/ ä¹Ÿéšç€å…¬å¸çš„é€æ¸å£®å¤§ï¼Œå„æ¨¡å—çš„è€¦åˆä¹Ÿè¶Šå‘ä¸¥é‡ï¼Œå„æ¡ä¸šåŠ¡çº¿ä¹‹é—´çš„åä½œæ²Ÿé€šæˆæœ¬è¶Šæ¥è¶Šå¤§ï¼Œé€æ¸å¼€å§‹æå‡ºã€Œå¾®æœåŠ¡ã€è¿™æ ·çš„æ¦‚å¿µï¼Œå…·ä½“æ€ä¹ˆæ ·ç†è§£å°±ä¸ä½œè®¨è®ºäº†ï¼Œæ€»ä¹‹å°±æ˜¯æœŸæœ›é€šè¿‡æ¢³ç†/ é‡æ„/ æ‹†æœåŠ¡çš„æ–¹å¼æ¥è§£å†³ã€Œåä½œã€é—®é¢˜ï¼Œæ‰€ä»¥æœŸé—´ä¹Ÿå¼€å§‹äº†è§£å­¦ä¹ ä¸€äº›è¿™æ–¹é¢çš„ä¸œè¥¿ï¼š ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿï¼šhttp://www.wmyskxz.com/2019/06/07/shi-me-shi-wei-fu-wu/ ã€Šé‡æ„ï¼šæ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°ï¼šhttp://www.wmyskxz.com/2019/06/08/chong-gou-gai-shan-ji-you-dai-ma-de-she-ji-du-shu-bi-ji/ ç”šè‡³æœŸé—´è¿˜åšäº†ä¸€äº›ã€Œå¾®æœåŠ¡ã€çš„è°ƒç ”ï¼Œæˆ‘ä»¬é€‰ç”¨ä»€ä¹ˆæ ·çš„å§¿åŠ¿å’ŒæŠ€æœ¯æ ˆæ›´åŠ åˆé€‚ï¼Œæ‰€ä»¥ä¹Ÿè¾“å‡ºäº†ä¸€äº›å…³äºã€ŒSpring Cloudã€çš„ä¸œè¥¿ï¼Œä½†æ˜¯æœ€ç»ˆé©³å›çš„åŸå› æ˜¯å¾…æˆ‘ä»¬æ•´ä¸ªå®¹å™¨åŒ–ä¹‹å k8s å¹³å°è‡ªå¸¦äº†è¿™ä¹ˆä¸€å¥—ä¸œè¥¿ï¼Œä¸šåŠ¡åŒå­¦åªéœ€è¦å…³å¿ƒä¸šåŠ¡ä»£ç å°±è¡Œäº†ï¼Œä¹Ÿå°±æ²¡æœ‰ç»§ç»­æ·±å…¥äº†ï¼š ä½ æƒ³äº†è§£çš„ã€ŒSpring Cloudã€éƒ½åœ¨è¿™é‡Œï¼šhttp://www.wmyskxz.com/2019/06/09/ni-xiang-liao-jie-de-springcloud-du-zai-zhe-li/ ç„¶åæˆ‘ä»¬åœ¨æ‹†è§£çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå€Ÿé‰´åˆ°ä¸€äº›ã€ŒDDDã€çš„æ€æƒ³ï¼Œä¹Ÿå°è¯•è¿›è¡Œäº†ä¸€æ³¢å­¦ä¹ ï¼š ã€åè¡€æ¨èã€‘é¢†åŸŸé©±åŠ¨è®¾è®¡å­¦ä¹ è¾“å‡ºï¼šhttp://www.wmyskxz.com/2019/06/13/tu-xie-tui-jian-ling-yu-qu-dong-she-ji-xue-xi-shu-chu/ æ€»ä¹‹ï¼Œè¿™ä¸€æ®µæ—¶é—´æˆ‘ä¸€è¾¹é€šè¿‡å„ç§å°éœ€æ±‚ï¼Œæ¥è§¦å’Œäº†è§£äº†å…¬å¸çš„ç³»ç»Ÿçš„å¤§åŠï¼Œä¸€è¾¹å­¦ä¹ å’Œäº†è§£ç€å„ç§ä¸åŒçš„æŠ€æœ¯ï¼Œå¢åŠ äº†æŠ€æœ¯ä¸Šçš„å¹¿åº¦ã€‚ ä¸‰ã€å¼€å§‹è´Ÿè´£ä¸€äº›é¡¹ç›® ä¸ºäº†åŠ é€ŸæœåŠ¡åŒ–çš„æ¨è¿›å·¥ä½œå’ŒéªŒè¯ã€ŒDDDã€çš„ä¸€äº›ä¸œè¥¿ï¼Œéƒ¨é—¨è€å¤§æŠŠä¸€ä¸ªè¾¹ç•Œè¶³å¤Ÿæ¸…æ™°ï¼Œä¹Ÿè¶³å¤Ÿå°çš„ä¸€ä¸ªæ¨¡å—å•ç‹¬äº¤ç»™æˆ‘ï¼ŒæœŸæœ›æˆ‘å¿«é€Ÿä¸Šçº¿ï¼Œä¸è¿‡æœ€ç»ˆäº¤ä»˜å·²ç»é€¾æœŸå¿«å¤§åŠä¸ªæœˆäº†.. è™½ç„¶ä»æœ€ç»ˆçš„ç»“æœæ¥çœ‹ï¼Œé¡ºåˆ©äº¤ä»˜å®Œæˆäº†æ‹†è§£ä»»åŠ¡å¹¶ä» MongoDB æ•°æ®åº“è½¬å˜æˆäº† MySQL.. ä½†æœŸé—´ä¹Ÿè¸©è¿‡å¥½äº›å‘ï¼Œå½“ç„¶ä¹Ÿå­¦ä¹ åˆ°ä¸€äº›ä¸œè¥¿.. ä¾‹å¦‚æˆ‘çœŸå®åœ°æ„è¯†åˆ°ã€Œå®Œç¾ã€è¿™ä¸ªè¯çš„ç†æƒ³åŒ–ã€‚å°±æ‹¿è®¾è®¡ API æ¥è¯´å§.. è‡ªå·±å°±åŸºäº RESTful é£æ ¼è®¾è®¡äº†å¥½å‡ ç‰ˆ.. å·¦æƒ³å³æƒ³éƒ½è§‰å¾—å·®ä¸€äº›ï¼Œæœ‰ä¸€äº›æ¥å£è§‰å¾—æ€ä¹ˆè®¾è®¡éƒ½ä¸ä¼˜é›….. åæ¥çº ç»“ä¸€é˜µå­ä¹Ÿå°±æ”¾å¼ƒäº†.. å†ä¾‹å¦‚å†™ä»£ç è¿™ä»¶äº‹æƒ…å§ï¼Œå¥½çš„ä»£ç æ•´æ´çš„ä»£ç æ˜¯ä¸€æ¬¡ä¸€æ¬¡è¿­ä»£å’Œé‡æ„ä¸­å‡ºæ¥çš„ï¼Œå¦‚æœä¸€å¼€å§‹å°±æƒ³ç€å†™å‡ºã€Œå®Œç¾ã€çš„ä»£ç ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„ç»“æœå¯èƒ½å°±æ˜¯å†™ä¸å‡ºæ¥ä»£ç ã€‚ å¦å¤–ä¸€ä¸ªå°æ’æ›²æ˜¯ï¼Œåœ¨åšæ•°æ®è¿ç§»çš„æ—¶å€™ï¼Œæˆ‘å·®ç‚¹æŠŠçº¿ä¸ŠæœåŠ¡å™¨ææŒ‚äº†.. æˆ‘åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯äº†ä¸€æŠŠä¹‹åï¼Œå°±ç›´æ¥åœ¨çº¿ä¸Šè¿›è¡Œæ“ä½œäº†ï¼Œå› ä¸ºå½“æ—¶å¯¹äºæ•°æ®åº“çš„æ“ä½œç®¡æ§è¿˜æ²¡æœ‰é‚£ä¹ˆä¸¥æ ¼ï¼ŒåŠ ä¸Šè‡ªå·±å¯¹äºçº¿ä¸Šç¯å¢ƒçš„å¤æ‚ç¨‹åº¦è®¤è¯†ä¸è¶³ï¼Œæˆ‘å°±èµ·äº† 50 ä¸ªçº¿ç¨‹ï¼Œå»åˆ†æ‰¹é‡åœ°è¯»å– MongoDB çš„æ•°æ®è¿ç§»åˆ° MySQLï¼Œé€ æˆäº†çº¿ä¸Šåº“çš„æ€§èƒ½æŠ¥è­¦ï¼Œå°±èµ¶ç´§åœäº†.. ç´§æ¥ç€å°±è¢«ä¸€ç¾¤å¤§ä½¬æŠ“è¿›äº†ä¸€ä¸ªä¼šè®®å®¤åšäº‹ä»¶çš„å¤ç›˜.. è¯´å®è¯ï¼Œæˆ‘ç´§å¼ åäº†ï¼Œç¬¬ä¸€æ¬¡ç»å†è¿™æ ·çš„ç®—æ˜¯ã€Œäº‹æ•…ã€çš„æƒ…å†µå§ï¼Œå·®ä¸€ç‚¹çº¿ä¸Šå°±è¢«æˆ‘ææŒ‚å•¦ï¼Œä¸€æ—¶é—´ä¸çŸ¥æ‰€æªâ€¦ è®©äººæ„Ÿåˆ°æ¸©æš–çš„æ˜¯éƒ¨é—¨è€å¤§éšå³ä¸¢æ¥çš„æ¶ˆæ¯ï¼š é‚£å¤©è¿˜æœ‰ä¸€äº›ç›¸å…³çš„åŒäº‹éƒ½é™ªæˆ‘å†™å¤ç›˜é‚®ä»¶åˆ°äº†æ™šä¸Š 10ï¼š30ï¼Œç°åœ¨æƒ³æ¥éƒ½ååˆ†æ„Ÿè°¢ä»–ä»¬ã€‚åæ¥å›åˆ°å®¶æˆ‘è¿˜æ‰“ç”µè¯ç»™æˆ‘å¦ˆï¼Œæˆ‘è¯´æˆ‘åœ¨å·¥ä½œä¸­çŠ¯é”™äº†ï¼Œæˆ‘åšäº†xxxxè¿™äº›åŠ¨ä½œï¼Œä½ è§‰å¾—æˆ‘åšçš„æ€ä¹ˆæ ·å‘¢ï¼Œè€å¦ˆçš„å›å¤ä¹Ÿè®©äººå®‰å¿ƒï¼Œåªæ˜¯ç°åœ¨æƒ³æ¥ï¼Œä¸€äº›åç»­çš„åŠ¨ä½œå¯ä»¥åšå¾—æ›´å¥½çš„â€¦ å› ä¸ºã€ŒåŸ‹ç‚¹ã€è¿™ä»¶äº‹æ¶‰åŠåˆ°ç³»ç»Ÿçš„æ–¹æ–¹é¢é¢ï¼Œæˆ‘ä¹Ÿå€Ÿæ­¤äº†è§£äº†å¾ˆå¤šä¸åŒçš„æ¨¡å—ï¼Œä¹Ÿæ˜¯æ‹œè¿™ä¸€ç‚¹æ‰€èµå§ï¼Œåæ¥æˆ‘è¢«æ´¾åˆ°å„ç§å„æ ·çš„æ”¯æ´ä»»åŠ¡ä¸­ï¼ŒåŒæ ·ä¹Ÿå› ä¸ºå¯¹ä¸åŒæ¨¡å—éƒ½è¿˜ä¸ç®—é™Œç”Ÿï¼Œéƒ½è¿˜ç®—å®Œæˆå¾—ä¸é”™å§â€¦ æ—¶é—´ä¸€æ™ƒï¼Œåœ¨å…¬å¸å°±å››ä¸ªæœˆè¿‡å»äº†ï¼Œä¹Ÿåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä»å„ä¸ªå¤§ä½¬é‚£å„¿éƒ½å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œåœ¨ 8 æœˆåº•å‘çš„å‘¨æŠ¥é‡Œé¢æˆ‘å†™ä¸‹äº†ä»¥ä¸‹çš„æ€»ç»“ï¼š ä¹‹åä¹Ÿè·Ÿç€å¤§ä½¬ç¢°äº†ä¸€äº›å…¬å¸çš„æ ¸å¿ƒæ¨¡å—ï¼ŒæœŸé—´ä¹Ÿæ²¡æœ‰åœæ­¢åœ¨å·¥ä½œä¸­ä¸æ–­åœ°åšå­¦ä¹ è¾“å‡ºï¼š Git åŸç†å…¥é—¨è§£æï¼šhttp://www.wmyskxz.com/2019/08/16/git-yuan-li-ru-men-jian-xi/ Javaè®¡æ—¶æ–°å§¿åŠ¿âˆšï¼šhttp://www.wmyskxz.com/2019/07/30/java-ji-shi-xin-zi-shi/ Java8æµæ“ä½œ-åŸºæœ¬ä½¿ç”¨&amp;æ€§èƒ½æµ‹è¯•ï¼šhttp://www.wmyskxz.com/2019/08/03/java8-liu-cao-zuo-ji-ben-shi-yong-xing-neng-ce-shi/ ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹è¯»ä¹¦ç¬”è®°ï¼šhttp://www.wmyskxz.com/2019/09/14/dai-ma-zheng-ji-zhi-dao-du-shu-bi-ji/ React å…¥é—¨å­¦ä¹ ï¼šhttp://www.wmyskxz.com/2019/10/15/react-ru-men-xue-xi/ è°ˆä¸€è°ˆä¾èµ–å€’ç½®åŸåˆ™ï¼šhttp://www.wmyskxz.com/2019/11/18/tan-yi-tan-yi-lai-dao-zhi-yuan-ze/ å››ã€å›é¡¾åšçš„ä¸å¥½çš„éƒ¨åˆ† å¯¹ä»£ç è¿˜æ²¡æœ‰ä¿æŒè¶³å¤Ÿçš„æ•¬ç•ä¹‹å¿ƒã€‚ ç‰¹åˆ«æ˜¯ä¸€å¼€å§‹ä¸Šæ‰‹çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ç”šè‡³æ˜¯åœ¨çº¿ä¸Šç¯å¢ƒææµ‹è¯•ï¼Œåæ¥è¶Šæ¥è¶Šæ³¨é‡ codereview å’Œå•å…ƒæµ‹è¯•å¥½äº†å¾ˆå¤šã€‚ æ²Ÿé€šè¿˜ä¸å¤Ÿæ·±å…¥/ åˆ°ä½ æœ‰ä¸€æ¬¡æ˜¯ä¸´æ—¶æ¥åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå› ä¸ºã€Œé€šç”¨è¯­è¨€ã€æ²¡æœ‰è¾¾æˆä¸€è‡´ï¼Œå¯¼è‡´æœ€ç»ˆäº¤ä»˜çš„ç»“æœä¸ç¬¦åˆäº§å“çš„æœŸæœ›ï¼Œæœ€ç»ˆæˆ‘ä»¬æ‰€æœ‰ç›¸å…³äººå‘˜åœ¨ä¸€èµ·å¼€äº†ä¸€ä¸ªä¼šï¼Œç»Ÿä¸€äº†ã€Œé€šç”¨è¯­è¨€ã€ï¼Œé€ æˆäº†é¢å¤–çš„å·¥ä½œå’Œè´Ÿæ‹…ï¼Œæ‹¿åˆ°éœ€æ±‚å°±åº”è¯¥ç¡®è®¤å¥½ç›¸å…³äº‹å®œçš„ï¼Œè¶Šåº•å±‚è¶Šç»†èŠ‚è¶Šå¥½ï¼Œè¿™æ–¹é¢çš„èƒ½åŠ›æˆ‘ä»ç„¶æ¬ ç¼ºï¼Œä½†æˆ‘å·²ç»æŒç»­åœ¨æ³¨æ„å½“ä¸­ã€‚ å¦ä¸€æ¬¡ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸€ç‚¹ï¼Œæˆ‘éœ€è¦å¸®åŠ© A ç³»ç»Ÿæ‹¥æœ‰æŸä¸€é¡¹åŠŸèƒ½ï¼Œä¹‹å‰ A ç³»ç»Ÿå·²ç»ä»‹å…¥äº† B ç³»ç»Ÿå®Œæˆäº†éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘å› ä¸ºæ²¡æœ‰è¿›ä¸€æ­¥åœ°ç¡®è®¤ B ç³»ç»Ÿçš„ç°çŠ¶ï¼Œå°±å»æ¥å…¥äº†æœ‰å®Œæ•´åŠŸèƒ½çš„ C ç³»ç»Ÿï¼Œä½†å…¶å® B ç³»ç»Ÿå·²ç»åœ¨ä¸Šä¸€å‘¨å’Œå¼€å‘ C ç³»ç»Ÿå’Œ A ç³»ç»Ÿçš„åŒå­¦å¯¹æ¥å¥½äº†ï¼Œå¹¶å®Œæˆäº†ç›¸å…³åŠŸèƒ½çš„æ¥å…¥ï¼Œå°‘äº†è¿™ä¸€éƒ¨åˆ†çš„æ²Ÿé€šï¼Œå°±é€ æˆäº†ä¸å°‘é¢å¤–çš„å·¥ä½œé‡.. æ‰€ä»¥ã€Œæ²Ÿé€šã€è¿˜æ˜¯éå¸¸é‡è¦çš„ï¼Œä¹Ÿåªèƒ½è¯´æŒç»­è¿›æ­¥å§â€¦ ç¼ºå°‘ä¸€äº›ä¸»åŠ¨æ€§ å½“æˆ‘å¤´ä¸ŠæŒ‚ç€ä¸€äº›äº‹æƒ…çš„æ—¶å€™ï¼Œè¿˜æ˜¯èƒ½å¤Ÿä¿æŒç€æ•ˆç‡çš„ï¼Œåªæ˜¯å½“æˆ‘åšå®Œäº†ï¼Œå°±æ—¶å¸¸ç¼ºä¹ä¸€äº›ä¸»åŠ¨åœ°æ€è€ƒäº†ï¼Œé€šå¸¸éƒ½æ˜¯è¢«åŠ¨åœ°å»è¯¢é—®åŒå°ç»„çš„åŒäº‹æœ‰ä»€ä¹ˆäº‹æƒ…æ˜¯éœ€è¦å¸®å¿™çš„.. è™½ç„¶ä¹Ÿç§¯æåœ°å‚ä¸åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„é‚£äº›æŠ€æœ¯è¯„å®¡ä¹‹ç±»çš„äº‹æƒ…ä¹‹ä¸­ï¼Œä½†ä¼¼ä¹æ•ˆæœéƒ½ä¸ä½³.. ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå®é™…å¥½çš„è¾“å‡º.. æ¥äº†ä¸€äº›ç§æ´»å„¿é»‘æ´»å„¿ï¼ˆæ²¡æœ‰å……åˆ†è€ƒè™‘å›¢é˜Ÿä¹‹é—´çš„é…åˆï¼‰ å› ä¸ºã€ŒåŸ‹ç‚¹ã€ä¼šæ¥è§¦å„ä¸ªå¹³å°çš„ç«¥é‹ï¼Œå¹¶ä¸”æ—¶å¸¸å˜åŒ–å’Œæœ‰ä¸€äº›æ–°çš„éœ€æ±‚ï¼Œæœ‰æ—¶å€™ç›´æ¥ç»•è¿‡äº†ä¸€äº›ç¯èŠ‚ï¼Œç›´æ¥æ‰¾ä¸Šæˆ‘äº†ï¼Œæˆ‘å¿ƒæƒ³ç›´æ¥è‡ªå·±å¼„å¼„æ”¹æ”¹å°±å¯ä»¥äº†ï¼Œä¹Ÿå°±æ²¡å¤šæƒ³â€¦ ä½†æ˜¯ç°åœ¨æƒ³æ¥ï¼Œè¿™æ ·è·¨å›¢é˜Ÿçš„äº‹æƒ…ï¼Œä¸èƒ½è¶Šè¿‡ã€Œé¡¶å¤´ä¸Šå¸ã€ç§è‡ªè¿›è¡Œï¼Œä¸€æ–¹é¢ç»å¸¸æˆ‘çš„ BOSS ä¸çŸ¥é“æˆ‘æ¥äº†æ´»å„¿ï¼Œå¦ä¸€æ–¹é¢è¿™æ ·çš„ç§è‡ªå¯¹æ¥å°±ä¼šé€ æˆä¸€äº›ä¿¡æ¯çš„æµå¤±ï¼Œå¯¹äºå›¢é˜Ÿä¹‹å†…è¿˜æ˜¯å›¢é˜Ÿä¹‹é—´éƒ½ä¼šé€ æˆå½±å“â€¦ äº”ã€å›é¡¾åšå¾—å¥½çš„éƒ¨åˆ† å…»æˆäº†é˜…è¯»çš„ä¹ æƒ¯ å…¬å¸ä¹°ä¹¦æ˜¯å…è´¹çš„ï¼Œä¹Ÿæœ‰è‡ªå·±çš„å›¾ä¹¦é¦†ï¼ŒåŒäº‹ä¹Ÿä¸ä¹å–œæ¬¢é˜…è¯»å­¦ä¹ çš„ï¼Œæ‰€ä»¥è·Ÿç€è·Ÿç€å°±å…»æˆäº†é˜…è¯»çš„ä¹ æƒ¯ï¼ŒæœŸé—´ä¹Ÿå­¦ä¹ åˆ°äº†ä¸€äº›æ–¹æ³•è®ºçš„ä¸œè¥¿ï¼Œè´´ä¸€ä¸‹å…¥èŒä»¥æ¥è¯»è¿‡çš„é‚£äº›ä¹¦å§ï¼šï¼ˆæŠ€æœ¯ç±»çš„å°±æ²¡æœ‰å›Šæ‹¬äº†ï¼‰ å…¶å®æ¯å¤©é˜…è¯»çš„æ—¶é—´ä¹Ÿä¸é•¿ï¼Œæƒ³æˆ‘å¤§å­¦æ€»å…±æ§èµ·çš„é‚£ä¹ˆäº›è¯¾å¤–ä¹¦ï¼Œä¸ç¦æœ‰äº›å”å˜˜â€¦ æ—©ç¡æ—©èµ· + æ™¨é—´æ—¥è®° æ—©ç¡æ—©èµ·ï¼Œä»æ­¥å…¥èŒåœºä»¥æ¥ï¼Œå°±å‘ç°è¿™æ ·çš„ä¹ æƒ¯ä¼šå¸¦æ¥ä¸€äº›é¢å¤–çš„ä»·å€¼ï¼Œä¾‹å¦‚ä¸€äº›é˜…è¯»æˆ‘ä¼šæ”¾åœ¨æ—©ä¸Šï¼Œåæ¥è¿˜åŠ å…¥äº†ã€Œæ™¨é—´æ—¥è®°ã€ï¼Œç”¨æ¥ã€Œå›é¡¾å‰ä¸€å¤©çš„äº‹æƒ…ã€å’Œæå‰éƒ¨ç½²ã€Œä»Šå¤©çš„ä»»åŠ¡ã€ï¼Œè¿™ä¸ç¦è®©æˆ‘å¤šäº†ä¸€ä»½æ¸…é†’ï¼Œä¹Ÿè®©ç°åœ¨ä¸æ€ä¹ˆé”»ç‚¼çš„æˆ‘æ¯ä¸€å¤©ç²¾åŠ›æ›´åŠ å¥½ä¸€äº›ï¼šï¼ˆç›®å‰æ­£åœ¨ä»å°è±¡ç¬”è®°å¾€ Notion é€æ­¥è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼‰ å­¦ä¹ æ’°å†™ Commit Message &amp;&amp; éµå®ˆä¸€äº› Git è§„èŒƒ èµ·åˆä½¿ç”¨ Git ååˆ†ä¸è§„èŒƒï¼Œåæ¥å‘å¤§ä½¬é‚£å„¿å­¦ä¹ åˆ°äº†å¦‚ä½•æ ‡å‡†åœ°æäº¤ Commitï¼ŒåŒ…æ‹¬ Commit Message åº”è¯¥æ€ä¹ˆå†™ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œæ¯ä¸€ä¸ª Commit éƒ½æœ‰ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”è¿˜å¸¦ä¸Šäº† JIRA å·ï¼Œä»»åŠ¡ä¹Ÿå¾ˆå¥½è·Ÿè¸ªï¼Œè™½ç„¶å…¬å¸å¹¶æ²¡æœ‰å¤§èŒƒå›´åœ°ç››è¡Œèµ·æ¥ï¼Œä½†æˆ‘è§‰å¾—è¿™æ ·å¥½ä¹ æƒ¯åº”è¯¥åšæŒä¸‹æ¥ï¼š ä»»åŠ¡è¿›åº¦åŠæ—¶åé¦ˆç»™ç›¸å…³äººå‘˜ è‡ªå·±æ¯”è¾ƒæ³¨æ„è¿™ä¸€ç‚¹ï¼Œå› ä¸ºä¸è¿™æ ·åšä¼šè®©åˆ«äººæ„Ÿå—ä¸æ€ä¹ˆå¥½.. å…‰æ˜¯è‡ªå·±å¿ƒé‡Œæ¸…æ¥šæ˜¯ä¸è¡Œçš„.. è¦ä¿æŒä¿¡æ¯çš„é€šç•…æ‰è¡Œï¼ŒåŠæ—¶åé¦ˆæ˜¯å¾ˆé‡è¦çš„ä¸€æ­¥.. è‡ªå·±å…ˆ review ä¸€éä»£ç  çŠ¯è¿‡ä¸€äº›ç™½ç—´é”™è¯¯ä¹‹åï¼Œå°±æœ‰äº›æ‹…å¿ƒï¼Œé€æ­¥å…»æˆäº†è‡ªå·±å…ˆ review ä¸€éä»£ç çš„ä¹ æƒ¯.. å…­ã€å°ç»“ &amp;&amp; å±•æœ› æ€»çš„æ¥è¯´ï¼Œçœ‹ç€è‡ªå·±è¿™æ ·ä¸€æ­¥ä¸€æ­¥æˆé•¿è¿‡æ¥ï¼Œæ²¡æœ‰å¾ˆæ‡ˆæ€ ï¼Œè‡ªå·±å°±ç®—æ¯”è¾ƒæ»¡æ„äº†ï¼Œåœ¨å·¥ä½œä¸­å­¦ä¹ äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ä¸Šçš„ç¡¬æŠ€èƒ½ï¼Œè¿˜æ˜¯æ²Ÿé€šä¸­çš„è½¯æŠ€èƒ½ï¼Œä¹Ÿè®¤è¯†åˆ°äº†å¾ˆå¤šå‰å®³çš„å¤§ä½¬å’Œæœ‰è¶£çš„å°ä¼™ä¼´ä»¬.. æ„Ÿæ©åœ¨è·¯ä¸Šç›¸é‡ï¼Œæœ‰å¹¸å…±åŒè¡Œèµ°è¿‡ä¸€æ®µå·²ç„¶ç®—æ˜¯å¹¸è¿ï¼Œçªç„¶ç¿»çœ‹èµ·è‡ªå·±çš„æœ‹å‹åœˆæœ‰ä¸€å¥è¯è¯´å¾—å¥½ï¼šã€Œæˆé•¿ä»æ¥éƒ½ä¸æ˜¯å‘Šåˆ«è¿‡å»ï¼Œæˆé•¿æ˜¯æ›´åŠ åšå®šçš„çœ‹å‘æœªæ¥ï¼ã€ æœŸå¾…ä¸€è·¯åŒè¡Œçš„å¤§å®¶ï¼Œéƒ½èƒ½å¤Ÿ Be Betterï¼ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"è°ˆä¸€è°ˆä¾èµ–å€’ç½®åŸåˆ™","slug":"è°ˆä¸€è°ˆä¾èµ–å€’ç½®åŸåˆ™","date":"2019-11-18T14:17:00.000Z","updated":"2020-08-03T09:44:03.118Z","comments":true,"path":"2019/11/18/tan-yi-tan-yi-lai-dao-zhi-yuan-ze/","link":"","permalink":"http://www.wmyskxz.com/2019/11/18/tan-yi-tan-yi-lai-dao-zhi-yuan-ze/","excerpt":"","text":"ä¸ºè·å¾—è‰¯å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨ ä¸€ã€æ¦‚å¿µ ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼ŒDIPï¼‰æ˜¯æŒ‡è®¾è®¡ä»£ç ç»“æ„æ—¶ï¼Œé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ã€‚ æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚é€šè¿‡ä¾èµ–å€’ç½®ï¼Œå¯ä»¥å‡å°‘ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆæ€§ï¼Œæé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¹¶ä¸”èƒ½å¤Ÿé™ä½ä¿®æ”¹ç¨‹åºæ‰€é€ æˆçš„é£é™©ã€‚ äºŒã€ä¸ºä»€ä¹ˆ å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­å¯æ˜¯ä¾èµ–å€’ç½®åŸåˆ™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼šä¸€ä¸ªçˆ±å­¦ä¹ çš„ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦ç°åœ¨æ­£åœ¨å­¦ä¹ ã€Œè®¾è®¡æ¨¡å¼ã€å’Œã€ŒJavaã€çš„è¯¾ç¨‹ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š public class Wmyskxz { public void studyJavaCourse() { System.out.println(\"ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦æ­£åœ¨å­¦ä¹ ã€ŒJavaã€è¯¾ç¨‹\"); } public void studyDesignPatternCourse() { System.out.println(\"ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦æ­£åœ¨å­¦ä¹ ã€Œè®¾è®¡æ¨¡å¼ã€è¯¾ç¨‹\"); } } æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸Šå±‚è°ƒç”¨ä¸€ä¸‹ï¼š public static void main(String[] args) { Wmyskxz wmyskxz = new Wmyskxz(); wmyskxz.studyJavaCourse(); wmyskxz.studyDesignPatternCourse(); } åŸå› ä¸€ï¼šæœ‰æ•ˆæ§åˆ¶å½±å“èŒƒå›´ç”±äºã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦çƒ­çˆ±å­¦ä¹ ï¼Œéšç€å­¦ä¹ å…´è¶£çš„ â€œæš´å¢â€ï¼Œå¯èƒ½ä¼šç»§ç»­å­¦ä¹  AIï¼ˆäººå·¥æ™ºèƒ½ï¼‰çš„è¯¾ç¨‹ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå› ä¸ºã€Œä¸šåŠ¡çš„æ‰©å±•ã€ï¼Œè¦ä»åº•å±‚å®ç°åˆ°é«˜å±‚è°ƒç”¨ä¾æ¬¡åœ°ä¿®æ”¹ä»£ç ã€‚ æˆ‘ä»¬éœ€è¦åœ¨ Wmyskxz ç±»ä¸­æ–°å¢ studyAICourse() æ–¹æ³•ï¼Œä¹Ÿéœ€è¦åœ¨é«˜å±‚è°ƒç”¨ä¸­å¢åŠ è°ƒç”¨ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç³»ç»Ÿå‘å¸ƒåï¼Œå…¶å®æ˜¯éå¸¸ä¸ç¨³å®šçš„ã€‚æ˜¾ç„¶åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªä¿¡åœ°è®¤ä¸ºï¼Œæˆ‘ä»¬èƒ½ Hold ä½è¿™ä¸€æ¬¡çš„ä¿®æ”¹å¸¦æ¥çš„å½±å“ï¼Œå› ä¸ºéƒ½æ˜¯æ–°å¢çš„ä»£ç ï¼Œæˆ‘ä»¬å›å½’çš„æ—¶å€™ä¹Ÿå¯ä»¥å¾ˆå¥½åœ° cover ä½ï¼Œä½†å®é™…çš„æƒ…å†µå’Œå®é™…çš„è½¯ä»¶ç¯å¢ƒè¦å¤æ‚å¾—å¤šã€‚ æœ€ç†æƒ³çš„æƒ…å†µå°±æ˜¯ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™å¥½çš„ä»£ç å¯ä»¥ â€œä¸‡å¹´ä¸å˜â€ï¼Œè¿™å°±æ„å‘³ç€å·²ç»è¦†ç›–çš„å•å…ƒæµ‹è¯•å¯ä»¥ä¸ç”¨ä¿®æ”¹ï¼Œå·²ç»å­˜åœ¨çš„è¡Œä¸ºå¯ä»¥ä¿è¯ä¿æŒä¸å˜ï¼Œè¿™å°±æ„å‘³ç€ã€Œç¨³å®šã€ã€‚ä»»ä½•ä»£ç ä¸Šçš„ä¿®æ”¹å¸¦æ¥çš„å½±å“éƒ½æ˜¯æœ‰æœªçŸ¥é£é™©çš„ï¼Œä¸è®ºçœ‹ä¸Šå»å¤šä¹ˆç®€å•ã€‚ åŸå› äºŒï¼šå¢å¼ºä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¦å¤–ä¸€ç‚¹ï¼Œä½ æœ‰æ²¡æœ‰å‘ç°å…¶å®åŠ ä¸Šæ–°å¢çš„ AI è¯¾ç¨‹çš„å­¦ä¹ ï¼Œä»–ä»¬ä¸‰èŠ‚è¯¾æœ¬è´¨ä¸Šè¡Œä¸ºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœæˆ‘ä»¬ä»»ç”±è¿™æ ·è¡Œä¸ºè¿‘ä¹ä¸€æ ·çš„ä»£ç åœ¨æˆ‘ä»¬çš„ç±»é‡Œé¢è‚†æ„æ‰©å±•çš„è¯ï¼Œå¾ˆå¿«æˆ‘ä»¬çš„ç±»å°±ä¼šå˜å¾—è‡ƒè‚¿ä¸å ªï¼Œç­‰åˆ°æˆ‘ä»¬æ„è¯†åˆ°ä¸å¾—ä¸é‡æ„è¿™ä¸ªç±»ä»¥ç¼“è§£è¿™æ ·çš„æƒ…å†µçš„æ—¶å€™ï¼Œæˆ–è®¸æˆæœ¬å·²ç»å˜å¾—é«˜å¾—å¯æ€•äº†ã€‚ åŸå› ä¸‰ï¼šé™ä½è€¦åˆã€Šèµ„æœ¬è®ºã€‹ä¸­æœ‰è¿™æ ·ä¸€æ®µæè¿°ï¼š åœ¨å•†å“ç»æµçš„èŒèŠ½æ—¶æœŸï¼Œå‡ºç°äº†ç‰©ç‰©äº¤æ¢ã€‚å‡è®¾ä½ è¦ä¹°ä¸€ä¸ª iPhoneï¼Œå– iPhone çš„è€æ¿è®©ä½ æ‹¿ä¸€å¤´çŒªè·Ÿä»–æ¢ï¼Œå¯æ˜¯ä½ å¹¶æ²¡æœ‰å…»çŒªï¼Œä½ åªä¼šç¼–ç¨‹ã€‚æ‰€ä»¥ä½ æ‰¾åˆ°ä¸€ä½å…»çŒªæˆ·ï¼Œè¯´ç»™ä»–åšä¸€ä¸ªå…»çŒªçš„ APP æ¥æ¢ä»–ä¸€å¤´çŒªï¼Œä»–è¯´æ¢çŒªå¯ä»¥ï¼Œä½†æ˜¯å¾—ç”¨ä¸€æ¡é‡‘é¡¹é“¾æ¥æ¢â€¦ æ‰€ä»¥è¿™é‡Œå°±å‡ºç°äº†ä¸€è¿ä¸²çš„å¯¹è±¡ä¾èµ–ï¼Œä»è€Œé€ æˆäº†ä¸¥é‡çš„è€¦åˆç¾éš¾ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€å¥½çš„åŠæ³•å°±æ˜¯ï¼Œä¹°å–åŒå‘éƒ½ä¾èµ–äºæŠ½è±¡â€”â€”ä¹Ÿå°±æ˜¯è´§å¸â€”â€”æ¥è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·ä¸€æ¥è€¦åˆåº¦å°±å¤§ä¸ºé™ä½äº†ã€‚ ä¸‰ã€æ€ä¹ˆåš æˆ‘ä»¬ç°åœ¨çš„ä»£ç æ˜¯ä¸Šå±‚ç›´æ¥ä¾èµ–ä½å±‚å®ç°ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„ ICourse æ¥å£ï¼Œæ¥å¯¹è¿™ç§å¼ºä¾èµ–è¿›è¡Œè§£è€¦ï¼ˆå°±åƒä¸Šé¢ã€Šèµ„æœ¬è®ºã€‹ä¸­çš„ä¾‹å­é‚£æ ·ï¼‰ï¼š æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹ä¼ªä»£ç ï¼Œå…ˆå®šä¸€ä¸ªè¯¾ç¨‹çš„æŠ½è±¡ ICourse æ¥å£ï¼š public interface ICourse { void study(); } ç„¶åç¼–å†™åˆ†åˆ«ä¸º JavaCourse å’Œ DesignPatternCourse ç¼–å†™ä¸€ä¸ªç±»ï¼š public class JavaCourse implements ICourse { @Override public void study() { System.out.println(\"ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦æ­£åœ¨å­¦ä¹ ã€ŒJavaã€è¯¾ç¨‹\"); } } public class DesignPatternCourse implements ICourse { @Override public void study() { System.out.println(\"ã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€åŒå­¦æ­£åœ¨å­¦ä¹ ã€Œè®¾è®¡æ¨¡å¼ã€è¯¾ç¨‹\"); } } ç„¶åæŠŠ Wmyskxz ç±»æ”¹é€ æˆå¦‚ä¸‹çš„æ ·å­ï¼š public class Wmyskxz { public void study(ICourse course) { course.study(); } } å†æ¥æ˜¯æˆ‘ä»¬çš„è°ƒç”¨ï¼š public static void main(String[] args) { Wmyskxz wmyskxz = new Wmyskxz(); wmyskxz.study(new JavaCourse()); wmyskxz.study(new DesignPatternCourse()); } è¿™æ—¶å€™æˆ‘ä»¬å†æ¥çœ‹ä»£ç ï¼Œæ— è®ºã€Œæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ã€çš„å…´è¶£æ€ä¹ˆæš´æ¶¨ï¼Œå¯¹äºæ–°çš„è¯¾ç¨‹ï¼Œéƒ½åªéœ€è¦æ–°å»ºä¸€ä¸ªç±»ï¼Œé€šè¿‡å‚æ•°ä¼ é€’çš„æ–¹å¼å‘Šè¯‰å®ƒï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº•å±‚çš„ä»£ç ã€‚å®é™…ä¸Šè¿™æœ‰ç‚¹åƒå¤§å®¶ç†Ÿæ‚‰çš„ä¾èµ–æ³¨å…¥çš„æ–¹å¼äº†ã€‚ æ€»ä¹‹ï¼Œåˆ‡è®°ï¼šä»¥æŠ½è±¡ä¸ºåŸºå‡†æ¯”ä»¥ç»†èŠ‚ä¸ºåŸºå‡†æ­å»ºèµ·æ¥çš„æ¶æ„è¦ç¨³å®šå¾—å¤šï¼Œå› æ­¤åœ¨æ‹¿åˆ°éœ€æ±‚åï¼Œè¦é¢ç›¸æ¥å£ç¼–ç¨‹ï¼Œå…ˆé¡¶å±‚è®¾è®¡å†ç»†èŠ‚åœ°è®¾è®¡ä»£ç ç»“æ„ã€‚ å‚è€ƒèµ„æ–™ https://www.cnblogs.com/aoyeyuyan/p/5495219.html - é‚£äº›å¹´æä¸æ‡‚çš„é«˜æ·±æœ¯è¯­â€”â€”ä¾èµ–å€’ç½®â€¢æ§åˆ¶åè½¬â€¢ä¾èµ–æ³¨å…¥â€¢é¢å‘æ¥å£ç¼–ç¨‹ ã€ŠSpring 5 æ ¸å¿ƒåŸç† ä¸ 30 ä¸ªç±»æ‰‹å†™å®æˆ˜ã€‹ - è°­å‹‡å¾· è‘— æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693é’±","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ç²‰ä¸çªç ´1600ï¼Œæˆ‘æ„Ÿåˆ°ä¸€ä¸æ„§ç–š","slug":"ç²‰ä¸çªç ´1600ï¼Œæˆ‘æ„Ÿåˆ°ä¸€ä¸æ„§ç–š","date":"2019-11-13T23:24:00.000Z","updated":"2020-08-03T09:43:13.792Z","comments":true,"path":"2019/11/14/fen-si-tu-po-1600-wo-gan-dao-yi-si-kui-jiu/","link":"","permalink":"http://www.wmyskxz.com/2019/11/14/fen-si-tu-po-1600-wo-gan-dao-yi-si-kui-jiu/","excerpt":"","text":"ä¸ºäº†è·å¾—è‰¯å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ç« ï¼šä¼ é€é—¨ ä¸€ã€æ„Ÿæ© å‰å¤©æ—©ä¸Šï¼ˆ2019 å¹´ 11 æœˆ 12 æ—¥ï¼‰ï¼Œä¸€å¦‚æ—¢å¾€åœ°æ‰“å¼€ QQ å‡†å¤‡ç»™æƒ³è¦åŠ ç¾¤çš„å°ä¼™ä¼´ç‚¹ä¸€æ³¢åŒæ„ï¼Œå´æƒŠè®¶çš„å‘ç° QQ ç¾¤å› ä¸ºå·²ç»è¶…è¿‡æœ€å¤§é™åˆ¶çš„äººæ•° 500 è€Œå¯¼è‡´æ— æ³•æ·»åŠ äº†ï¼Œä¸€è¾¹å¿ƒé‡Œæš—æš—åæ§½ tx å‘çˆ¹ä¸€è¾¹æ„Ÿæ…¨ï¼šâ€œå“‡ï¼Œä»€ä¹ˆæ—¶å€™å·²ç»è¿™ä¹ˆå¤šäººå•¦ï¼Ÿï¼â€ã€‚ æ™šä¸Šä¸€å¦‚æ—¢å¾€åœ°æ‰“å¼€å…¬ä¼—å·ï¼Œå‘ç°å…¬ä¼—å·çš„å…³æ³¨äººæ•°å·²ç»çªç ´ 1600 äº†(ä¸‹å›¾ä¸ºç¬¬äºŒå¤©æ—©ä¸Šçš„æˆªå›¾)ï¼Œä» 4 æœˆä»½ä»¥æ¥çš„å°†è¿‘ 400 äººï¼Œä»è¿™ 7 ä¸ªæœˆä»¥æ¥ä½›ç³»çš„æ›´æ–°é‡Œé¢ï¼Œå±…ç„¶ç®—å¾—ä¸Šæ˜¯å®Œæˆäº† 4 å€çš„å¢é•¿ï¼Œè™½ç„¶è¿™äº›éƒ½ç®—ä¸å¾—ä»€ä¹ˆï¼Œç”šè‡³è¯´èµ·æ¥è¿˜è§‰å¾—æœ‰ç‚¹å°å°´å°¬.. ä½†æ˜¯å½“çœ‹åˆ°è¿™ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œè„‘æµ·é‡Œé¢ä¸€å¹…ä¸€å¹…é—ªè¿‡çš„ç”»é¢å’Œç‚¹æ»´ï¼Œå¿ƒé‡Œæ»¡æ˜¯å›å¿†å’Œæ„Ÿæ¿€ã€‚ ä»ç”³è¯·å…¬ä¼—å·ä»¥æ¥ï¼Œè‡ªå·±å°±ç»´æŒç€ä¸€ç§ã€Œéšæ€§æ›´æ–°ã€çš„çŠ¶æ€ï¼Œä¹Ÿä¸ä¼šä¸»åŠ¨å‚ä¸ä¸€äº›å…¬ä¼—å·ä¹‹é—´çš„æ¨å¹¿æ´»åŠ¨ï¼ˆäº†è§£åˆ°ä¸€äº›å¥½åƒæˆ‘ç²‰ä¸è¿˜ä¸å¤Ÿæ··ä¸è¿›ç¾¤..ï¼‰ï¼Œæ›´ä¸ä¼šã€Œè½¬è½½ã€å…¶ä»–å…¬ä¼—å·æˆ–è€…å…¶ä»–åœ°æ–¹çš„ä¸€äº›æ–‡ç« ã€‚ æˆ‘å¸Œæœ›ä¿æŒè‡ªå·±å…¬ä¼—å·çš„â€œçº¯æ´â€ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å»ºç«‹è¿™ä¸ªå…¬ä¼—å·çš„åˆè¡·ï¼Œæ‰€ä»¥æˆ‘åšæŒæ¯ä¸€ç¯‡æ–‡ç« éƒ½æ˜¯åŸåˆ›ã€‚ ã€Œéšæ€§æ›´æ–°ã€åŠ ä¸Šã€Œä¸æ¨å¹¿ã€åŠ ä¸Šã€Œä¸è½¬è½½ã€ï¼Œå†åŠ ä¸Šä¸æ•¢ä¿è¯çš„æ–‡ç« è´¨é‡ï¼Œæˆ‘ä¸€åº¦æ€€ç–‘ä¸ºä»€ä¹ˆä¼šè¶Šæ¥è¶Šå¤šçš„äººå…³æ³¨æˆ‘ï¼Œæœ‰ä¸€å¤©æˆ‘é¬¼ä½¿ç¥å·®çš„åœ¨å…¬ä¼—å·å‘äº†ä¸€ä¸ªé—®é¢˜ï¼Œä»¥ä¸‹ä¸ºåŸé—®é¢˜ï¼š ä¸çŸ¥ä¸è§‰é—´.. çªç„¶å‘ç°å…¬ä¼—å·çš„å…³æ³¨é‡å·²ç»çªç ´å››ä½æ•°äº†..ï¼Ÿæ„Ÿè°¢å„ä½å¤§å¤§å…³æ³¨æ”¯æŒçš„åŒæ—¶ï¼Œ ä¹Ÿå¾ˆæƒ³çŸ¥é“ï¼š ã€Œå„ä½æ˜¯å› ä¸ºæ€æ ·çš„å¥‘æœºå…³æ³¨åˆ°è¿™ä¸ªå…¬ä¼—å·ã€ï¼Ÿ ã€ŒåˆæœŸæœ›ä»æœ¬å…¬ä¼—å·ä¸­è·å¾—ä»€ä¹ˆå‘¢ã€ï¼Ÿ å¦å¤–æœ‰ä»»ä½•æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿåœ¨å…¬ä¼—å·ä¸Šç•™è¨€ï¼Œæœ‰æ—¶é—´æˆ‘éƒ½ä¼šä¸€ä¸€å›å¤çš„ å†æ¬¡æ„Ÿè°¢å„ä½çš„å…³æ³¨å’Œæ”¯æŒï¼Œæˆ‘ä¹Ÿä¼šæŒç»­åŠªåŠ›çš„æ›´æ–°å¥½æ–‡è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº« è™½ç„¶æ”¶åˆ°çš„å›ç­”ä¸ç®—å¤šï¼Œä½†æ˜¯æœ‰ä¸€æ¡å›ç­”è®©æˆ‘ç™¾æ„Ÿäº¤é›†ï¼ˆç”±äºå…¬ä¼—å·é™åˆ¶è”ç³»ä¸ä¸ŠåŸç­”ä¸»ï¼Œç§è‡ªåšä¸»æŠŠå®ƒæ¬äº†ä¸Šæ¥..ï¼‰ï¼š ç”±äº QQ ç¾¤æ‰©å®¹éœ€è¦å¼€é€šå¹´è´¹è¶…çº§ä¼šå‘˜ï¼Œåœ¨å®Œæˆæ‰©å®¹ä¹‹åï¼Œå±…ç„¶è¿˜æœ‰ä¸€äº›å°ä¼™ä¼´åœ¨ QQ ç¾¤é‡Œå‘ä¸“å±çº¢åŒ…ï¼Œè¯´ç®—æ˜¯æ”¯æŒäº†ï¼Œå“ˆå“ˆå“ˆâ€¦ å¦‚æœéè¦ä¸ºæˆ‘åšæŒæ›´æ–°åšå®¢æ‰¾ä¸€ä¸ªç†ç”±çš„è¯ï¼Œå¤§æ¦‚è¿™äº›ä¸€ä¸ªä¸€ä¸ªç´ æœªè°‹é¢ï¼Œä½†ä¸€èµ·åŠªåŠ›çš„ä¼™ä¼´ä¼šæ˜¯å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†å§ï¼Œä¸‡åˆ†æ„Ÿè°¢.. äºŒã€å›é¡¾ å¤§å­¦ä¸€æ¯•ä¸šï¼ŒåŒå­¦ä»¬å°±ä¸€è‚¡é£å„¿å¹æ•£äº†ã€‚ å·¥ä½œä¹‹åï¼Œèƒ½å¤Ÿè‡ªç”±æ”¯é…çš„æ—¶é—´æ¯”èµ·è¯»ä¹¦æ—¶ä¹Ÿå°‘äº†è®¸å¤šï¼Œä½†ä¹Ÿæ¯”ä¸Šå­¦æ—¶æœ‰è¶£äº†è®¸å¤šã€‚æ¯ä¸ªå­¦æœŸä¸€æ¬¡çš„è€ƒè¯•å¯èƒ½å˜æˆäº†æ¯å¤©ï¼Œæ˜ç¡®çš„å¡«ç©ºé¢˜ä¹Ÿéƒ½å˜æˆäº†ç»¼åˆé—®ç­”é¢˜ï¼Œæ›´éš¾äº†å—ï¼Ÿæˆ‘å€’è§‰å¾—å¯å‘æŒ¥å’Œå¯å­¦ä¹ çš„ç©ºé—´å¢åŠ äº†ä¸å°‘ã€‚ å·¥ä½œä»¥æ¥æœ€è®©è‡ªå·±æ»¡æ„çš„ä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¶ç€ç©ºé—²çš„æ—¶é—´æŠŠè‡ªå·±çš„ä¸ªäººåŸŸåçš„åšå®¢ç»™æ­å»ºäº†èµ·æ¥ï¼Œæ¯”è¾ƒå¯æƒœçš„æ˜¯æ²¡æœ‰è®°å½•ä¸Šè‡ªå·±æ­å»ºçš„å…¨è¿‡ç¨‹å’Œå…¶ä¸­è¸©è¿‡çš„ä¸€äº›å‘ã€‚ æˆ‘ä¹Ÿä»å·¥ä½œä¸­æˆ‘å…»æˆå’Œå­¦ä¹ äº†ä¸€äº›æ¯”è¾ƒå¥½çš„ä¹ æƒ¯ï¼Œæ¯”å¦‚é˜…è¯»ã€æ¯”å¦‚è®°å½•ç­‰ã€‚ä¹Ÿå¼€å§‹å°è¯•ä¸€äº›æ–¹æ³•è®ºçš„ä¸œè¥¿ï¼Œå…¶ä¸­ä¸€é¡¹åŒ…æ‹¬ã€Œæ™¨é—´æ—¥è®°ã€ï¼Œæˆ‘å‘ç°è¿™ç¡®å®æœ‰åŠ©äºè‡ªå·±ä¿æŒæ¸…é†’ï¼Œæˆ‘ä»¥å‰åªæ˜¯æ€€ç–‘æˆ‘æœ‰ä¸€ç‚¹æ‡’æˆ–è€…æ€ä¹ˆæ ·ï¼Œä½†é€šè¿‡è¿™å‡ ä¸ªæœˆçš„è®°å½•ï¼Œæˆ‘ç¡®ä¿¡è‡ªå·±æ‡’ï¼ï¼ˆä»è®°å½•æ•°é‡å°±çœ‹å¾—å‡ºæ¥äº†ï¼‰ æˆ‘å…»æˆä¸€äº›å¥½ä¹ æƒ¯çš„åŒæ—¶ï¼Œé‚£äº›åä¹ æƒ¯ä¼¼ä¹ä¹Ÿå¦‚æ•°å®¶çã€‚ä¸è¿‡å¥½çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘æ­£åœ¨ä¸€ç‚¹ä¸€ç‚¹åœ°çœ‹åˆ°ä»–ä»¬ã€‚ï¼ˆæˆ‘å‡†å¤‡æŠŠä»–ä»¬çªæ­»â€¦ï¼‰ ä¸è¿‡æ„Ÿåˆ°å¥‡æ€ªçš„äº‹æƒ…æ˜¯ï¼Œç›¸æ¯”å»å¹´å·¥ä½œä¹‹åæˆ‘æ¸æ¸åœ°æœ‰äº›ä¸¢å¤±äº†ç›®æ ‡å’Œæ–¹å‘ï¼Œæˆ‘æƒ³æœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯å‘ç°çªç„¶æ¥è§¦åˆ°çš„çŸ¥è¯†é¢ä¸€ä¸‹å­ä¸°å¯Œäº†èµ·æ¥æœ‰ä¸€äº›ä¸çŸ¥æ‰€æªå§ï¼Œå¦ä¸€éƒ¨åˆ†åŸå› æˆ‘è¯´ä¸å¤ªä¸Šæ¥ï¼Œå¾ˆå¤šæ—¶å€™å›åˆ°å®¶å°±åªæƒ³æ‘Šç€ï¼Œæ‘Šç€å¯çœŸèˆ’æœå‘€ã€‚ æ‰€ä»¥è¿™ä¸¤ä¸ªæœˆä¼¼ä¹éƒ½æ˜¯æ—©ä¸Šæ¸…é†’ï¼Œåˆ°äº†æ™šä¸Šå°±æœ‰ç‚¹æµ‘å™©ã€‚æˆ‘çªç„¶æ„Ÿåˆ°ä¸€ä¸æ„§ç–šï¼Œæƒ³èµ·å»å¹´çš„è‡ªå·±ï¼Œçœ¼çœ‹ 11 æœˆä»½éƒ½å¿«ç»“æŸäº†ï¼Œå›é¡¾ä»Šå¹´çš„è‡ªå·±ä¼¼ä¹è¿˜æ¬ ä¸Šäº†å¥½å¤šå¥½å¤šçš„åŠªåŠ›ã€‚ ä¸‰ã€å±•æœ› ç„¶åæœ€è¿‘æ²¡æ›´æ–°æ–‡ç« ä¹Ÿä¸æ˜¯å› ä¸ºä»€ä¹ˆå¤ªå¿™çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºè‡ªå·±è¶Šæ¥è¶Šæ‡’äº†ã€‚ è½¬çœ¼é—´ 2019 å¹´ä¹Ÿè¿›å…¥äº†å€’è®¡æ—¶ï¼Œå¸Œæœ›è‡ªå·±æŠ“ä½æœ€åçš„å°¾å·´å­¦ä¸€äº›ä»€ä¹ˆä¸œè¥¿ï¼Œç›®å‰çš„æƒ³æ³•æ˜¯ã€Œè®¾è®¡æ¨¡å¼ã€æ–¹é¢çš„ä¸œè¥¿ï¼Œä¹‹åä¹Ÿä¼šå°è¯•åˆ†äº«ä¸€äº›ç”Ÿæ´»å’Œå·¥ä½œä¸Šæœ‰è¶£çš„ç»å†å’Œè¯»ä¹¦ç¬”è®°ã€‚ä¹ŸæŠŠä¹‹å‰è‡ªå·±ä¸€ç›´æƒ³å­¦çš„é’¢ç´å’Œåšé¥­æä¸Šäº†å­¦ä¹ çš„è®¡åˆ’è¡¨ã€‚ æœ‰å¥è¯æ˜¯è¯´ï¼Œä½ å¦‚æœæƒ³ç§ä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆæœ€å¥½çš„æ—¶é—´æ˜¯åœ¨åå¹´å‰ï¼Œå…¶æ¬¡æ˜¯åœ¨ä»Šå¤©ã€‚ ä»¥ä¸Šï¼Œå¸Œæœ›è·Ÿä¼˜ç§€çš„å¤§å®¶éƒ½èƒ½å¤Ÿä¸€åŒåœ¨ Be Better çš„é“è·¯ä¸Šç»§ç»­å‰è¡Œå§ã€‚ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693é’±","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"http://www.wmyskxz.com/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Reactå…¥é—¨å­¦ä¹ ","slug":"Reactå…¥é—¨å­¦ä¹ ","date":"2019-10-15T15:23:00.000Z","updated":"2020-08-03T09:43:03.430Z","comments":true,"path":"2019/10/15/react-ru-men-xue-xi/","link":"","permalink":"http://www.wmyskxz.com/2019/10/15/react-ru-men-xue-xi/","excerpt":"","text":"ä¸ºäº†è·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸåœ°å€ï¼šä¼ é€é—¨ ä¸€ã€React ç®€ä»‹ React æ˜¯ä»€ä¹ˆReact æ˜¯ä¸€ä¸ªèµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œå› ä¸ºå½“æ—¶ Facebook å¯¹äºå¸‚åœºä¸Šæ‰€æœ‰çš„ JavaScript MVC æ¡†æ¶éƒ½ä¸å¤ªæ»¡æ„ï¼Œæ‰€ä»¥ç´¢æ€§å°±è‡ªå·±å†™äº†ä¸€å¥—ï¼Œç”¨æ¥æ¶è®¾ Instagramã€‚åšå‡ºæ¥ä¹‹åï¼Œå‘ç°è¿™å¥—ä¸œè¥¿è¿˜è›®å¥½ç”¨çš„ï¼Œäºæ˜¯å°±åœ¨ 2013 å¹´ 5 æœˆå¼€æºäº†ã€‚ åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ åº“(Library) å’Œ æ¡†æ¶(Framework) çš„åŒºåˆ«ï¼ŒReact æœ¬èº«æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œè€Œæˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„ React æ¡†æ¶å…¶å®æ˜¯æŒ‡çš„æ˜¯ React/ React-router å’Œ React-redux çš„ç»“åˆä½“ï¼Œåº“å’Œæ¡†æ¶çš„æœ¬è´¨åŒºåˆ«ä½“ç°åœ¨äºæ§åˆ¶æƒï¼š ã€Œåº“ã€æ˜¯ä¸€ä¸ªå°è£…å¥½çš„ç‰¹å®šçš„é›†åˆï¼Œæä¾›ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œè€Œä¸”æ˜¯ç‰¹å®šäºæŸä¸€æ–¹é¢çš„é›†åˆï¼ˆæ–¹æ³•å’Œå‡½æ•°ï¼‰ï¼Œåº“æ²¡æœ‰æ§åˆ¶æƒï¼Œæ§åˆ¶æƒå®Œå…¨åœ¨äºä½¿ç”¨è€…æœ¬èº«ï¼› ã€Œæ¡†æ¶ã€é¡¾åæ€ä¹‰æ˜¯ä¸€å¥—æ¶æ„ï¼Œä¼šåŸºäºè‡ªèº«çš„ç‰¹ç‚¹å‘ç”¨æˆ·æä¾›ä¸€å¥—æ¯”è¾ƒå®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœä½¿ç”¨è€…é€‰å®šäº†ä¸€å¥—æ¡†æ¶ï¼Œé‚£ä¹ˆå°±éœ€è¦æ ¹æ®æ¡†æ¶æœ¬èº«åšå‡ºä¸€å®šçš„é€‚åº”ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨ Reactï¼Ÿè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„é—®é¢˜ï¼Œä¹Ÿè®©æˆ‘å›°æƒ‘å’Œè‹¦æ¼ã€‚åœ¨ç¬”è€…è¿˜åœ¨å­¦æ ¡çš„æ—¶å€™å°è¯•ç”¨ Vue æ­å»ºäº†ä¸€å¥—ç®€å•çš„åšå®¢ç³»ç»Ÿï¼Œå­¦ä¹ æ›²çº¿å¹³æ»‘ï¼Œè®©åªä¼šä¸€äº›åŸºç¡€ HTML/ CSS ä»£ç çš„æˆ‘é€šè¿‡ä¸€æ®µæ—¶é—´å­¦ä¹ å°±èƒ½å¤Ÿä¸Šæ‰‹äº†ï¼Œä½†æ˜¯å­¦ä¹  React ä»¥æ¥ï¼Œè¿›å±•å˜å¾—ç›¸å¯¹ç¼“æ…¢.. ä¸€éƒ¨åˆ†åŸå› æ˜¯å› ä¸º React åˆ›æ–°æ€§çš„å¼€å‘æ¨¡å¼ä»¥åŠè®©æˆ‘æ„Ÿåˆ°æ— æ‰€é€‚ä»çš„ JSX è¯­æ³•ï¼ˆèœæ‰æ˜¯åŸç½ªï¼‰ã€‚ Vue ä½œè€…å°¤é›¨æºªåœ¨çŸ¥ä¹ä¸Šå›ç­”ã€ŒVue å’Œ React çš„ä¼˜ç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿã€è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æåˆ° ï¼š è¿™é‡Œæˆ‘å¯ä»¥å¤§æ–¹åœ°æ‰¿è®¤ï¼Œå¦‚æœå¤šå¹´ä»¥åè¦è®ºå†å²åœ°ä½ï¼ŒReact è‚¯å®šæ˜¯é«˜äº Vue çš„ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œä¹Ÿæ˜¯ç”±è¡·åœ°ä½©æœ Jordan Walke, Sebastian Markbage è¿™æ ·çš„ï¼Œèƒ½ä»å¼€å‘æ¨¡å¼å±‚é¢ä¸Šæå‡ºçªç ´æ€§çš„æ–°æ–¹å‘çš„äººã€‚ React ä»ä¸€å¼€å§‹çš„å®šä½å°±æ˜¯æå‡º UI å¼€å‘çš„æ–°æ€è·¯ã€‚å½“å¹´ Pete Hunt æœ€å¼€å§‹æ¨å¹¿ React çš„æ—¶å€™çš„ä¸€å¥å£å·å°±å« â€œRethinking Best Practicesâ€ï¼Œè¿™æ ·çš„å®šä½ä½¿å¾— React æ‰“å¼€äº†ä¸€äº›å…¨æ–°çš„æ€è·¯ï¼Œå¸å¼•äº†ä¸€ç¾¤å–œæ¬¢æŠ˜è…¾çš„æ—©æœŸæ ¸å¿ƒç”¨æˆ·ï¼Œå¹¶åœ¨è¿™ä¸ªåŸºç¡€ä¸Šé€šè¿‡ç¤¾åŒºè¿­ä»£å­µåŒ–å‡ºäº†è®¸å¤šä»Šå¤©è¢« React å¼€å‘è€…å½“ä½œå¸¸è¯†çš„ patternã€‚è¿™æ˜¯ React ä¼Ÿå¤§çš„åœ°æ–¹ï¼ŒVue é‡Œé¢ä¹Ÿæœ‰å¾ˆå¤šåœ°æ–¹æ˜¯ç›´æ¥å—åˆ°äº† React çš„å¯å‘ã€‚React æ•¢åšè¿™æ ·çš„å°è¯•ï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯ Facebookã€‚è¿™æ ·çš„ä½“é‡çš„å…¬å¸ï¼Œåœ¨ infrastructure å±‚é¢è·å¾—è´¨çš„æå‡ï¼Œæ”¶ç›Šæ˜¯å·¨å¤§çš„ï¼Œè€Œä¸” Facebook çš„å·¥ç¨‹å¸ˆä»¬è¶³å¤Ÿèªæ˜åˆè¦é å·¥èµ„åƒé¥­ï¼Œæ”¹å˜ä»–/å¥¹ä»¬çš„ä¹ æƒ¯å¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚è€Œå¯¹å¤–æ¨å¹¿ï¼Œåˆ™æ˜¯ä¸€ç§å¤§å…¬å¸æ‰æœ‰çš„ â€œæ”¹å˜ä¸šç•Œâ€ çš„åº•æ°”ã€‚ ç›¸æ¯”ã€Œä¸ºä»€ä¹ˆä½¿ç”¨ Reactï¼Ÿã€çš„ç†ç”±ï¼Œç§°èµ React çš„å€’æ˜¯æ˜æ˜¾æ›´å¤šä¸€äº›ï¼ˆReact ç¡®å®æ˜¯çªç ´æ€§çš„å¼€å‘æ¨¡å¼ï¼‰ã€‚ æ˜¯å› ä¸º React ç»„ä»¶åŒ–çš„æ€æƒ³å—ï¼Ÿä¸æ˜¯ã€‚æˆ‘è§‰å¾—è¿™è·Ÿå¤šå°‘è·Ÿå¾®æœåŠ¡åŒ–ä¹‹ç±»çš„æ¦‚å¿µæœ‰ç‚¹å„¿ç±»ä¼¼ï¼Œè¿™æ˜¯å±äºä¸€ä¸ªæ—¶ä»£å¯¹äºè®¡ç®—æœºå·¥ç¨‹çš„æ€æƒ³è¿›æ­¥ï¼Œæ˜¯å¯¹äºå›¢é˜Ÿåä½œæå‡ºçš„æ–°ä¸€ç§æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯å¿…ç„¶çš„ä¸€ç§è¶‹åŠ¿ã€‚å½“å‰æµè¡Œçš„ä¸ç®¡æ˜¯ Angular/ Vue è¿˜æ˜¯ Reactï¼Œéƒ½å¤©ç„¶çš„æ”¯æŒç€ç»„ä»¶åŒ–çš„æ¦‚å¿µã€‚ é‚£æ˜¯å› ä¸º React æ€§èƒ½å‡ºä¼—å—ï¼Ÿæˆ‘æƒ³ä¹Ÿä¸æ˜¯ã€‚æˆ–è®¸ React åˆšå‡ºä¸–æ—¶å› ä¸ºå…¶ç‹¬ç‰¹é«˜æ•ˆçš„è™šæ‹Ÿ DOM è®¾è®¡ï¼Œèƒ½å¤Ÿåœ¨å‰ç«¯æ±Ÿæ¹–ä¸­å¹³æ­¥é’äº‘ï¼Œä½†æ˜¯ç°åœ¨å‰ç«¯æŠ€æœ¯éƒ½ä¸»é”®åœ°è¶‹äºæˆç†Ÿï¼ˆæˆ‘ä¹Ÿä¸æ‡‚ï¼Œæˆ‘ä¹±è¯´çš„..ï¼‰ï¼Œä»å¾ˆå¤šåœ°æ–¹çš„å¯¹æ¯”æ•°æ®ä¸­ï¼Œéƒ½èƒ½å¤Ÿçœ‹å¾—åˆ°å…¶å® React ä¸å…¶ä»–æ¡†æ¶çš„æ€§èƒ½å·®å¼‚å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§ã€‚å¹¶ä¸”ä½“ç°åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œè¿™æ ·å¯¹æ¯”ä¸æ˜æ˜¾çš„é€Ÿåº¦å·®å¼‚ï¼Œæ ¹æœ¬æ²¡æœ‰å¤šå¤§çš„ç”¨å¤„ã€‚ è¿˜çœ‹åˆ°ä¸€ç§è§‚ç‚¹ï¼Œè¯´ React é€‚ç”¨äºæ„å»ºå¤§å‹çš„é¡¹ç›®ã€‚ä»æˆ‘å¹¶ä¸å¤šçš„äº†è§£ä¸­ï¼Œæˆ‘çŸ¥é“ React ä½“ç³»ä¸­å¤©ç„¶æœ‰ç€è®¸å¤šçš„çº¦æŸï¼Œä»¥åŠä¸€äº›ä¸æˆæ–‡çš„çº¦å®šï¼Œè¿™å°±å¥½åƒæ˜¯ SpringBoot ä¸­é»˜è®¤æä¾›ç»™ä½¿ç”¨è€…çš„ä¸€äº›å§¿åŠ¿ï¼Œå¤©ç„¶å°±æœ‰å¾ˆå¼ºçš„å·¥ç¨‹æ€§ï¼ŒåŠ ä¸Šä¸€äº›çº¦å®šä¿—æˆçš„ä»£ç é£æ ¼ or å½’çº¦ï¼Œè¿™å°±ä½¿å¾— Java å¾ˆé€‚åˆä¸€äº›å¤§å‹çš„å›¢é˜Ÿé¡¹ç›®ã€‚ä½†èƒ½ä¸èƒ½å¼€å‘å¤§å‹çš„é¡¹ç›®ä»æ¥éƒ½æ˜¯å–å†³äºäººï¼Œè€Œä¸æ˜¯é‡‡ç”¨äº†å“ªç§æ¡†æ¶ã€‚ æ‰€ä»¥æ¯”è¾ƒä»¤æˆ‘ä¿¡æœçš„ç†ç”±æ˜¯ï¼ˆæˆ‘ä¹±çŒœçš„ï¼‰ï¼šåƒ Java ä¸€æ ·ï¼ŒReact ä½“ç³»è¶³å¤Ÿæˆç†Ÿï¼Œç¤¾åŒºä¹Ÿéå¸¸æ´»è·ƒï¼Œä½ é‡åˆ°çš„é—®é¢˜å¾ˆå®¹æ˜“åœ¨ç½‘ç»œä¸Šæ‰¾åˆ°ç­”æ¡ˆï¼Œå¹¶ä¸”ä¹Ÿæœ‰ä¸€äº›æˆç†Ÿçš„å®è·µ or è½®å­ç”¨ä»¥è§£å†³å„ç§å„æ ·çš„é—®é¢˜ã€‚è€Œä¸” React è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹åˆ«çš„ç‰¹æ€§æ˜¯ï¼šä½ èƒ½å¤Ÿæ¯”è¾ƒæ— ç—›åœ°ä½¿ç”¨ React Native å¼€å‘åŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚ äºŒã€React æ ¸å¿ƒæ¦‚å¿µ è™šæ‹Ÿ DOMï¼ˆVitural Document Object Modelï¼‰è¦ç†è§£è¿™ä¸ªã€Œè™šæ‹Ÿ DOMã€çš„æ¦‚å¿µï¼Œé¦–å…ˆæˆ‘ä»¬å°±éœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯ã€ŒDOMã€ã€‚æˆ‘ä»¬å…ˆæš‚æ—¶å¿˜æ‰ä»€ä¹ˆç½‘é¡µä¹‹ç±»çš„ï¼Œæˆ‘ä»¬æƒ³è±¡ç°åœ¨æˆ‘ä»¬éœ€è¦ç¼–å†™ç¨‹åºæ¥å¯¹ä¸‹åˆ—çš„ Markdown æ–‡æ¡£è¿›è¡Œæ”¹å˜åº”è¯¥æ€ä¹ˆåšï¼š # Title ## subtitle - 1 content - 1 ## subtitle - 2 content - 2 æ¯”å¦‚æˆ‘ç°åœ¨å°±æƒ³è¦ content - 2 çš„å†…å®¹è¿›è¡Œæ”¹å˜ï¼Œé‚£ä¹ˆæˆ‘å°±éœ€è¦ä¸€è¡Œä¸€è¡Œçš„ä¸æ–­éå†ç›´åˆ°æœ€åéå†åˆ°å®ƒæ‰èƒ½è¿›è¡Œæ“ä½œï¼Œå¯¹å†…å®¹æ”¹å˜çš„æ“ä½œéƒ½å·®ä¸å¤šï¼Œæ‰€ä»¥å¦‚æœæˆ‘æƒ³å¯¹è¿™ä¸ªæŸ¥æ‰¾çš„æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼Œæœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯æŠŠå®ƒæ ‘åŒ–ä»¥å‡å°‘é«˜åº¦ï¼Œå¢åŠ æ•ˆç‡ã€‚ DOM çš„æ¦‚å¿µDOM æ˜¯è‹±æ–‡ Document Object Model çš„ç¼©å†™ï¼Œå³æ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚å®ƒæ˜¯ä¸€ç§è·¨å¹³å°çš„ã€ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„ APIï¼Œå®ƒæŠŠ HTMLã€XHTML æˆ– XML æ–‡æ¡£éƒ½å½“åšä¸€ä¸ªæ ‘ç»“æ„ï¼Œè€Œæ¯ä¸ªèŠ‚ç‚¹è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥è¢«ç¼–ç¨‹è¯­è¨€æ“ä½œï¼Œè¿›è€Œæ”¹å˜æ–‡æ¡£çš„ç»“æ„ï¼Œæ˜ å°„åˆ°æ–‡æ¡£çš„æ˜¾ç¤ºã€‚DOM æœ€å¼€å§‹çš„æ—¶å€™æ˜¯å’Œ JavaScript äº¤ç»‡åœ¨ä¸€èµ·çš„ï¼Œåªæ˜¯åæ¥å®ƒä»¬æœ€ç»ˆæ¼”å˜æˆäº†ä¸¤ä¸ªç‹¬ç«‹çš„å®ä½“ã€‚DOM è¢«è®¾è®¡æˆä¸ç‰¹å®šç¼–ç¨‹è¯­è¨€ç›¸ç‹¬ç«‹ï¼Œå°½ç®¡ç»å¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ JavaScript æ¥æ“ä½œï¼Œä½†å…¶å®å…¶ä»–çš„è¯­è¨€ä¸€æ ·å¯ä»¥ï¼ˆå¦‚ Pythonï¼‰ã€‚ å‡å¦‚æœ‰è¿™ä¹ˆä¸€æ®µ HTML ä»£ç ï¼š &lt;html> &lt;head> &lt;title>æ–‡æ¡£æ ‡é¢˜&lt;/title> &lt;/head> &lt;body> &lt;a href=\"\">é“¾æ¥&lt;/a> &lt;h1>æ ‡é¢˜&lt;/h1> &lt;/body> &lt;/html> é‚£ä¹ˆå®ƒæœ€ç»ˆå°±åº”è¯¥ä¼šæ˜¯ä¸‹é¢è¿™æ£µæ ‘ä¸€æ ·çš„ç»“æ„ï¼š è¿™é‡Œä¸å¯¹ DOM èŠ‚ç‚¹çš„ç±»å‹å•Šæ–¹æ³•ä¹‹ç±»çš„è¿›è¡Œè®¨è®ºï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ DOM æœ‰ä¸€ä¸ªå¤§è‡´çš„æ¦‚å¿µå°±å¥½äº†ã€‚ æµè§ˆå™¨æ¸²æŸ“ DOM çš„æµç¨‹æˆ‘ä»¬å¯ä»¥ç®€å•äº†è§£ä¸€ä¸‹æµè§ˆå™¨æ¸²æŸ“ DOM çš„æµç¨‹ï¼š è§£æ HTML å»ºç«‹ DOM æ ‘ï¼› è§£æ CSSï¼Œå¹¶ç»“åˆ DOM æ ‘å½¢æˆ Reander æ ‘ï¼› å¸ƒå±€ Render æ ‘ï¼ˆLayout/ reflowï¼‰ï¼Œç¡®å®šå„èŠ‚ç‚¹çš„å°ºå¯¸ã€ä½ç½®ç­‰ä¿¡æ¯ï¼› ç»˜åˆ¶ Render æ ‘ï¼ˆPaintï¼‰ï¼Œç»˜åˆ¶é¡µé¢åƒç´ ä¿¡æ¯ï¼› æµè§ˆå™¨å°†å„å±‚ä¿¡æ¯å‘ç»™ GPUï¼ŒGPU ä¼šå°†å„å±‚åˆæˆï¼ˆCompositeï¼‰ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼› æ“ä½œ DOM ä¸ºä»€ä¹ˆæ…¢å…¶å®ä¸¥æ ¼æ¥è¯´ï¼Œå•çº¯çš„æ“ä½œ DOM å¹¶ä¸æ…¢ï¼Œè¯´å®ƒæ…¢æ˜¯å¸¦æœ‰ä¸€å®šæ¡ä»¶çš„ã€‚ æƒ³è±¡åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­å¤šæ¬¡æ“ä½œ DOM æ—¶ï¼Œæœ‰æ—¶å¸Œæœ› JS ä»£ç ä¸­èƒ½ç«‹åˆ»è·å–æœ€æ–°çš„ DOM èŠ‚ç‚¹ä¿¡æ¯ï¼Œè¿™æ—¶æµè§ˆå™¨ä¸å¾—ä¸æŒ‚èµ· JS å¼•æ“ï¼Œè½¬è€Œè°ƒç”¨ DOM å¼•æ“ï¼Œè®¡ç®—æ¸²æŸ“å‡ºæœ€æ–°çš„ DOMï¼Œä»¥æ­¤æ¥è·å–æœ€æ–°çš„ DOM èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ¥ç€å†é‡æ–°æ¿€æ´» JS å¼•æ“ ç»§ç»­åç»­çš„æ“ä½œã€‚ å¯ä»¥é¢„è§ï¼Œä¸Šè¿°æ“ä½œä¸ä»…éœ€è¦å¤šæ¬¡è¿›è¡Œå¼•æ“çš„åˆ‡æ¢ï¼Œè¿˜éœ€è¦å¤šæ¬¡è®¡ç®—å¸ƒå±€ï¼Œé‡æ–°ç»˜åˆ¶ DOMã€‚äº‹å®ä¸Špaintæ˜¯ä¸€ä¸ªè€—æ—¶çš„è¿‡ç¨‹ï¼Œç„¶è€Œlayoutæ˜¯ä¸€ä¸ªæ›´è€—æ—¶çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šlayoutä¸€å®šæ˜¯è‡ªä¸Šè€Œä¸‹æˆ–æ˜¯è‡ªä¸‹è€Œä¸Šè¿›è¡Œçš„ï¼Œç”šè‡³ä¸€æ¬¡layoutä¼šç‰µæ¶‰åˆ°æ•´ä¸ªæ–‡æ¡£å¸ƒå±€çš„é‡æ–°è®¡ç®—ã€‚ ä½†æ˜¯layoutæ˜¯è‚¯å®šæ— æ³•é¿å…çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸»è¦æ˜¯è¦æœ€å°åŒ–layoutçš„æ¬¡æ•°ã€‚ æ‰€ä»¥ï¼Œé™ä½å¼•æ“åˆ‡æ¢é¢‘ç‡ã€å‡å° DOM å˜æ›´è§„æ¨¡æ‰æ˜¯ DOM æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆçš„å…³é”®ï¼ Virtual DOM ç®—æ³•æ­¥éª¤è™šæ‹Ÿ DOM æ­£æ˜¯è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ç”¨ JS å¯¹è±¡æ¥æ¨¡æ‹Ÿå‡ºæˆ‘ä»¬çœŸå®çš„ DOM æ ‘ï¼Œå®ƒçš„ç®—æ³•å¤§è‡´å¦‚ä¸‹ï¼š ç”¨ JavaScript å¯¹è±¡æ˜ å°„å½¢æˆ DOM æ ‘çš„ç»“æ„ï¼Œç„¶åç”¨è¿™ä¸ªæ ‘æ„å»ºä¸€ä¸ªçœŸæ­£çš„ DOM æ ‘ï¼Œæ’åˆ°æ–‡æ¡£å½“ä¸­ï¼› å½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ–°çš„å¯¹è±¡æ ‘ï¼Œç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œæ¯”è¾ƒï¼ˆDiff ç®—æ³•ï¼‰ï¼Œè®°å½•ä¸¤æ£µæ ‘å·®å¼‚ï¼› æŠŠç¬¬äºŒæ­¥ä¸­æ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ­¥éª¤ä¸€æ‰€æ„å»ºçš„çœŸæ­£çš„ DOM æ ‘ä¸Šï¼Œè§†å›¾å°±æ›´æ–°ã€‚ è™šæ‹Ÿ DOM å’ŒçœŸå® DOM çš„åŒºåˆ«æˆ‘ä»¬ç”±æ­¤å¯ä»¥å¯¹æ¯”å‡ºä¸¤è€…çš„ä¸åŒï¼š æ”¹å˜å¤šä¸ªçŠ¶æ€ï¼Œå½±å“å¤šä¸ªèŠ‚ç‚¹å¸ƒå±€æ—¶ï¼Œåªæ˜¯é¢‘ç¹çš„ä¿®æ”¹äº†å†…å­˜ä¸­çš„ JS å¯¹è±¡ï¼Œç„¶åä¸€æ¬¡æ€§æ¯”è¾ƒå¹¶ä¿®æ”¹çœŸå® DOM ä¸­éœ€è¦æ”¹çš„éƒ¨åˆ†ï¼Œæœ€ååœ¨çœŸå® DOM ä¸­è¿›è¡Œæ’ç‰ˆä¸é‡ç»˜ï¼Œå‡å°‘è¿‡å¤š DOM èŠ‚ç‚¹æ’ç‰ˆä¸é‡ç»˜æŸè€—ï¼› çœŸå® DOM é¢‘ç¹æ’ç‰ˆä¸é‡ç»˜çš„æ•ˆç‡æ˜¯ç›¸å½“ä½çš„ï¼› è™šæ‹Ÿ DOM æœ‰æ•ˆé™ä½å¤§é¢ç§¯ï¼ˆçœŸå® DOM èŠ‚ç‚¹ï¼‰çš„é‡ç»˜ä¸æ’ç‰ˆï¼Œå› ä¸ºæœ€ç»ˆä¸çœŸå® DOM æ¯”è¾ƒå·®å¼‚ï¼Œå¯ä»¥åªæ¸²æŸ“å±€éƒ¨ï¼ˆåŒ2ï¼‰ï¼› ä½¿ç”¨è™šæ‹ŸDOMçš„æŸè€—è®¡ç®—ï¼š æ€»æŸè€— = è™šæ‹ŸDOMå¢åˆ æ”¹ + ï¼ˆä¸Diffç®—æ³•æ•ˆç‡æœ‰å…³ï¼‰çœŸå®DOMå·®å¼‚å¢åˆ æ”¹ + ï¼ˆè¾ƒå°‘çš„èŠ‚ç‚¹ï¼‰æ’ç‰ˆä¸é‡ç»˜ ç›´æ¥ä½¿ç”¨çœŸå®DOMçš„æŸè€—è®¡ç®—ï¼š æ€»æŸè€— = çœŸå®DOMå®Œå…¨å¢åˆ æ”¹ + ï¼ˆå¯èƒ½è¾ƒå¤šçš„èŠ‚ç‚¹ï¼‰æ’ç‰ˆä¸é‡ç»˜ Diff ç®—æ³•è™šæ‹Ÿ DOM çš„æ ¸å¿ƒåœ¨äº Diffï¼Œå®ƒè‡ªåŠ¨å¸®ä½ è®¡ç®—é‚£äº›åº”è¯¥è°ƒæ•´çš„ï¼Œç„¶ååªä¿®æ”¹åº”è¯¥è¢«è°ƒæ•´çš„åŒºåŸŸï¼Œçœä¸‹çš„ä¸æ˜¯è¿è¡Œé€Ÿåº¦è¿™ç§ â€œå°é€Ÿåº¦â€ï¼Œè€Œæ˜¯å¼€å‘é€Ÿåº¦/ ç»´æŠ¤é€Ÿåº¦/ é€»è¾‘ç®€ç»ƒç¨‹åº¦ç­‰ â€œæ€»ä½“é€Ÿåº¦â€ã€‚ ä½†è™šæ‹Ÿ DOM å¿«ä¹Ÿæ˜¯åœ¨ç›¸å¯¹æ¡ä»¶ä¸‹çš„ï¼Œè¿™é‡Œå¼•ç”¨ @å°¤é›¨æºªå¤§å¤§åœ¨çŸ¥ä¹é—®é¢˜ã€Šç½‘ä¸Šéƒ½è¯´æ“ä½œçœŸå® DOM æ…¢ï¼Œä½†æµ‹è¯•ç»“æœå´æ¯” React æ›´å¿«ï¼Œä¸ºä»€ä¹ˆï¼Ÿã€‹ä¸Šå›ç­”çš„ä¸€å¥è¯å§ï¼š ä¸è¦å¤©çœŸåœ°ä»¥ä¸º Virtual DOM å°±æ˜¯å¿«ï¼Œdiff ä¸æ˜¯å…è´¹çš„ï¼Œbatching ä¹ˆ MVVM ä¹Ÿèƒ½åšï¼Œè€Œä¸”æœ€ç»ˆ patch çš„æ—¶å€™è¿˜ä¸æ˜¯è¦ç”¨åŸç”Ÿ APIã€‚åœ¨æˆ‘çœ‹æ¥ Virtual DOM çœŸæ­£çš„ä»·å€¼ä»æ¥éƒ½ä¸æ˜¯æ€§èƒ½ï¼Œè€Œæ˜¯å®ƒ 1) ä¸ºå‡½æ•°å¼çš„ UI ç¼–ç¨‹æ–¹å¼æ‰“å¼€äº†å¤§é—¨ï¼›2) å¯ä»¥æ¸²æŸ“åˆ° DOM ä»¥å¤–çš„ backendï¼Œæ¯”å¦‚ ReactNativeã€‚ Diff å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š Tree Diffï¼š æ–°æ—§ä¸¤æ£µ DOM æ ‘ï¼Œé€å±‚å¯¹æ¯”çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ Tree Diffï¼Œå½“æ•´é¢—DOMé€å±‚å¯¹æ¯”å®Œæ¯•ï¼Œåˆ™æ‰€æœ‰éœ€è¦è¢«æŒ‰éœ€æ›´æ–°çš„å…ƒç´ ï¼Œå¿…ç„¶èƒ½å¤Ÿæ‰¾åˆ°ï¼› Component Diffï¼š åœ¨è¿›è¡Œ Tree Diff çš„æ—¶å€™ï¼Œæ¯ä¸€å±‚ä¸­ï¼Œç»„ä»¶çº§åˆ«çš„å¯¹æ¯”ï¼Œå«åš Component Diffï¼š å¦‚æœå¯¹æ¯”å‰åï¼Œç»„ä»¶çš„ç±»å‹ç›¸åŒï¼Œåˆ™æš‚æ—¶è®¤ä¸ºæ­¤ç»„ä»¶ä¸éœ€è¦è¢«æ›´æ–°ï¼› å¦‚æœå¯¹æ¯”å‰åï¼Œç»„ä»¶ç±»å‹ä¸åŒï¼Œåˆ™éœ€è¦ç§»é™¤æ—§ç»„ä»¶ï¼Œåˆ›å»ºæ–°ç»„ä»¶ï¼Œå¹¶è¿½åŠ åˆ°é¡µé¢ä¸Šï¼› Element Diffï¼š åœ¨è¿›è¡Œç»„ä»¶å¯¹æ¯”çš„æ—¶å€™ï¼Œå¦‚æœä¸¤ä¸ªç»„ä»¶ç±»å‹ç›¸åŒï¼Œåˆ™éœ€è¦è¿›è¡Œå…ƒç´ çº§åˆ«çš„å¯¹æ¯”ï¼Œè¿™å«åš Element Diffï¼› ä¸‰ã€Hello World å¼•ç”¨è‡ªï¼šhttp://www.ruanyifeng.com/blog/2015/03/react.html - é˜®ä¸€å³° - React å…¥é—¨å®ä¾‹æ•™ç¨‹ ä½¿ç”¨ React çš„ç½‘é¡µæºç ï¼Œç»“æ„å¤§è‡´å¦‚ä¸‹ï¼ˆå¯ä»¥ç›´æ¥è¿è¡Œï¼‰ï¼š &lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta charset=\"UTF-8\"/> &lt;title>Hello React!&lt;/title> &lt;script src=\"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js\">&lt;/script> &lt;script src=\"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js\">&lt;/script> &lt;script src=\"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js\">&lt;/script> &lt;/head> &lt;body> &lt;div id=\"example\">&lt;/div> &lt;script type=\"text/babel\"> ReactDOM.render( &lt;h1>Hello, world!&lt;/h1>, document.getElementById('example') ); &lt;/script> &lt;/body> &lt;/html> ä¸Šé¢ä»£ç æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œæœ€åä¸€ä¸ª &lt;script&gt; æ ‡ç­¾çš„ type å±æ€§ä¸º text/babel ã€‚è¿™æ˜¯å› ä¸º React ç‹¬æœ‰çš„ JSX è¯­æ³•ï¼Œè·Ÿ JavaScript ä¸å…¼å®¹ã€‚å‡¡æ˜¯ä½¿ç”¨ JSX çš„åœ°æ–¹ï¼Œéƒ½è¦åŠ ä¸Š type=&quot;text/babel&quot; ã€‚ å…¶æ¬¡ï¼Œä¸Šé¢ä»£ç ä¸€å…±ç”¨äº†ä¸‰ä¸ªåº“ï¼š react.js ã€react-dom.js å’Œ Browser.js ï¼Œå®ƒä»¬å¿…é¡»é¦–å…ˆåŠ è½½ã€‚å…¶ä¸­ï¼Œreact.jsæ˜¯ React çš„æ ¸å¿ƒåº“ï¼Œreact-dom.js æ˜¯æä¾›ä¸ DOM ç›¸å…³çš„åŠŸèƒ½ï¼ŒBrowser.js çš„ä½œç”¨æ˜¯å°† JSX è¯­æ³•è½¬ä¸º JavaScript è¯­æ³•ï¼Œè¿™ä¸€æ­¥å¾ˆæ¶ˆè€—æ—¶é—´ï¼Œå®é™…ä¸Šçº¿çš„æ—¶å€™ï¼Œåº”è¯¥å°†å®ƒæ”¾åˆ°æœåŠ¡å™¨å®Œæˆã€‚ $ babel src --out-dir build ä¸Šé¢å‘½ä»¤å¯ä»¥å°† src å­ç›®å½•çš„ js æ–‡ä»¶è¿›è¡Œè¯­æ³•è½¬æ¢ï¼Œè½¬ç åçš„æ–‡ä»¶å…¨éƒ¨æ”¾åœ¨ build å­ç›®å½•ã€‚ ReactDOM.render()ReactDOM.render æ˜¯ React çš„æœ€åŸºæœ¬æ–¹æ³•ï¼Œç”¨äºå°†æ¨¡æ¿è½¬ä¸º HTML è¯­è¨€ï¼Œå¹¶æ’å…¥æŒ‡å®šçš„ DOM èŠ‚ç‚¹ã€‚ ReactDOM.render( &lt;h1>Hello, world!&lt;/h1>, document.getElementById('example') ); ä¸Šé¢ä»£ç å°†ä¸€ä¸ª h1 æ ‡é¢˜ï¼Œæ’å…¥ example èŠ‚ç‚¹ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š JSX è¯­æ³• å¼•ç”¨è‡ªï¼šhttps://www.runoob.com/react/react-jsx.html - RUNOOB.COM - React JSX ä¸Šä¸€èŠ‚çš„ä»£ç ï¼Œ HTML è¯­è¨€ç›´æ¥å†™åœ¨ JavaScript è¯­è¨€ä¹‹ä¸­ï¼Œä¸åŠ ä»»ä½•å¼•å·ï¼Œè¿™å°±æ˜¯ JSX çš„è¯­æ³•ï¼Œå®ƒå…è®¸ HTML ä¸ JavaScript çš„æ··å†™ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä»¥ä¸‹ä¸€æ®µä»£ç ï¼š const element = &lt;h1>Hello, world!&lt;/h1>; ä¸æµè§ˆå™¨çš„ DOM å…ƒç´ ä¸åŒï¼ŒReact å½“ä¸­çš„å…ƒç´ äº‹å®ä¸Šæ˜¯æ™®é€šçš„å¯¹è±¡ï¼ŒReact DOM å¯ä»¥ç¡®ä¿ æµè§ˆå™¨ DOM çš„æ•°æ®å†…å®¹ä¸ React å…ƒç´ ä¿æŒä¸€è‡´ã€‚è¦å°† React å…ƒç´ æ¸²æŸ“åˆ°æ ¹ DOM èŠ‚ç‚¹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠå®ƒä»¬éƒ½ä¼ é€’ç»™ ReactDOM.render() çš„æ–¹æ³•æ¥å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼š var myDivElement = &lt;div className=\"foo\" />; ReactDOM.render(myDivElement, document.getElementById('example')); JSX çœ‹èµ·æ¥ç±»ä¼¼ HTML ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢ä»£ç ä¸­åµŒå¥—å¤šä¸ª HTML æ ‡ç­¾ï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨ä¸€ä¸ª div å…ƒç´ åŒ…è£¹å®ƒã€‚ JavaScript è¡¨è¾¾å¼æˆ‘ä»¬å¯ä»¥åœ¨ JSX ä¸­ä½¿ç”¨ JavaScript è¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼å†™åœ¨èŠ±æ‹¬å· {} ä¸­ã€‚å®ä¾‹å¦‚ä¸‹ï¼š ReactDOM.render( &lt;div> &lt;h1>{1+1}&lt;/h1> &lt;/div> , document.getElementById('example') ); åœ¨ JSX ä¸­ä¸èƒ½ä½¿ç”¨ if else è¯­å¥ï¼Œä½†å¯ä»¥ä½¿ç”¨ conditional (ä¸‰å…ƒè¿ç®—) è¡¨è¾¾å¼æ¥æ›¿ä»£ã€‚ä»¥ä¸‹å®ä¾‹ä¸­å¦‚æœå˜é‡ i ç­‰äº 1 æµè§ˆå™¨å°†è¾“å‡º true, å¦‚æœä¿®æ”¹ i çš„å€¼ï¼Œåˆ™ä¼šè¾“å‡º false. ReactDOM.render( &lt;div> &lt;h1>{i == 1 ? 'True!' : 'False'}&lt;/h1> &lt;/div> , document.getElementById('example') ); æ ·å¼React æ¨èä½¿ç”¨å†…è”æ ·å¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ camelCase è¯­æ³•æ¥è®¾ç½®å†…è”æ ·å¼. React ä¼šåœ¨æŒ‡å®šå…ƒç´ æ•°å­—åè‡ªåŠ¨æ·»åŠ  px ã€‚ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†ä¸º h1 å…ƒç´ æ·»åŠ  myStyle å†…è”æ ·å¼ï¼š var myStyle = { fontSize: 100, color: '#FF0000' }; ReactDOM.render( &lt;h1 style = {myStyle}>èœé¸Ÿæ•™ç¨‹&lt;/h1>, document.getElementById('example') ); æ³¨é‡Šæ³¨é‡Šéœ€è¦å†™åœ¨èŠ±æ‹¬å·ä¸­ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š ReactDOM.render( &lt;div> &lt;h1>èœé¸Ÿæ•™ç¨‹&lt;/h1> {/*æ³¨é‡Š...*/} &lt;/div>, document.getElementById('example') ); æ•°ç»„JSX å…è®¸åœ¨æ¨¡æ¿ä¸­æ’å…¥æ•°ç»„ï¼Œæ•°ç»„ä¼šè‡ªåŠ¨å±•å¼€æ‰€æœ‰æˆå‘˜ï¼š var arr = [ &lt;h1>èœé¸Ÿæ•™ç¨‹&lt;/h1>, &lt;h2>å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯æ¢¦æƒ³ï¼&lt;/h2>, ]; ReactDOM.render( &lt;div>{arr}&lt;/div>, document.getElementById('example') ); å‚è€ƒèµ„æ–™ http://www.ruanyifeng.com/blog/2015/03/react.html - React å…¥é—¨å®ä¾‹æ•™ç¨‹ - é˜®ä¸€å³° https://www.jianshu.com/p/60100985dd7f - å‰ç«¯æ¡†æ¶ä¸åº“çš„åŒºåˆ« https://www.zhihu.com/question/301860721/answer/545031906 - Vue å’Œ React çš„ä¼˜ç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ https://zhuanlan.zhihu.com/p/22184194 - ä½ çœŸçš„ç†è§£ DOM äº†å—ï¼Ÿ https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model/Introduction - DOM æ¦‚è¿° https://blog.huteming.site/posts/e0c41c5f/ - ä¸ºä»€ä¹ˆè¯´è™šæ‹ŸDOMæ›´å¿« æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693é’±","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"React","slug":"React","permalink":"http://www.wmyskxz.com/tags/React/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/tags/%E5%89%8D%E7%AB%AF/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°XXL-JOB","slug":"åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°XXL-JOB","date":"2019-10-02T07:47:00.000Z","updated":"2020-08-03T09:42:22.274Z","comments":true,"path":"2019/10/02/fen-bu-shi-ren-wu-diao-du-ping-tai-xxl-job/","link":"","permalink":"http://www.wmyskxz.com/2019/10/02/fen-bu-shi-ren-wu-diao-du-ping-tai-xxl-job/","excerpt":"","text":"ä¸ºè·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨ ä¸€ã€åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¦‚è¿° ä»€ä¹ˆæ˜¯ä»»åŠ¡è°ƒåº¦å¹³å°ä»»åŠ¡è°ƒåº¦æ˜¯æŒ‡åŸºäºç»™å®šçš„æ—¶é—´ç‚¹ï¼Œç»™å®šçš„æ—¶é—´é—´éš”åˆæˆ–è€…ç»™å®šæ‰§è¡Œæ¬¡æ•°è‡ªåŠ¨çš„æ‰§è¡Œä»»åŠ¡ã€‚æˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸‹åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå®ç°ï¼š æ”¯ä»˜ç³»ç»Ÿæ¯å¤©å‡Œæ™¨ 1 ç‚¹ï¼Œè¿›è¡Œä¸€å¤©æ¸…ç®—ï¼Œæ¯æœˆ 1 å·è¿›è¡Œä¸Šä¸ªæœˆæ¸…ç®—ï¼› ç”µå•†æ•´ç‚¹æŠ¢è´­ï¼Œå•†å“ä»·æ ¼8ç‚¹æ•´å¼€å§‹ä¼˜æƒ  12306 è´­ç¥¨ç³»ç»Ÿï¼Œè¶…è¿‡ 30 åˆ†é’Ÿæ²¡æœ‰æˆåŠŸæ”¯ä»˜è®¢å•çš„ï¼Œè¿›è¡Œå›æ”¶å¤„ç† ä¸ºä»€ä¹ˆéœ€è¦ä»»åŠ¡è°ƒåº¦å¹³å°å®šæ—¶ä»»åŠ¡æ˜¯ç¨‹åºå‘˜ä¸å¯é¿å…çš„è¯é¢˜ï¼Œå¾ˆå¤šä¸šåŠ¡åœºæ™¯éœ€è¦æˆ‘ä»¬æŸä¸€ç‰¹å®šçš„æ—¶åˆ»å»åšæŸä»¶ä»»åŠ¡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç³»ç»Ÿå¯ä»¥ä½¿ç”¨æ¶ˆæ¯ä¼ é€’ä»£æ›¿éƒ¨åˆ†å®šæ—¶ä»»åŠ¡ï¼ˆæ¯”å¦‚å•†å“æˆåŠŸå‘è´§åï¼Œéœ€è¦å‘å®¢æˆ·å‘é€çŸ­ä¿¡æé†’ï¼‰ï¼Œä¸¤è€…æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä¸€äº›åœºæ™¯ä¸‹ä¹Ÿå¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¸èƒ½ï¼š æ—¶é—´é©±åŠ¨/ äº‹ä»¶é©±åŠ¨ï¼š å†…éƒ¨ç³»ç»Ÿä¸€èˆ¬å¯ä»¥é€šè¿‡äº‹ä»¶æ¥é©±åŠ¨ï¼Œä½†å¦‚æœæ¶‰åŠåˆ°å¤–éƒ¨ç³»ç»Ÿï¼Œåˆ™åªèƒ½ä½¿ç”¨æ—¶é—´é©±åŠ¨ã€‚å¦‚çˆ¬å–å¤–éƒ¨ç½‘ç«™ä»·æ ¼ï¼Œæ¯å°æ—¶çˆ¬ä¸€æ¬¡ã€‚ æ‰¹é‡å¤„ç†/ é€æ¡å¤„ç†ï¼š æ‰¹é‡å¤„ç†å †ç§¯çš„æ•°æ®æ›´åŠ é«˜æ•ˆï¼Œåœ¨ä¸éœ€è¦å®æ—¶æ€§çš„æƒ…å†µä¸‹æ¯”æ¶ˆæ¯ä¸­é—´ä»¶æ›´æœ‰ä¼˜åŠ¿ã€‚è€Œä¸”æœ‰çš„ä¸šåŠ¡é€»è¾‘åªèƒ½æ‰¹é‡å¤„ç†ï¼Œå¦‚ç§»åŠ¨æ¯ä¸ªæœˆç»“ç®—æˆ‘ä»¬çš„èŠ±è´¹ã€‚ å®æ—¶æ€§/ éå®æ—¶æ€§ï¼š æ¶ˆæ¯ä¸­é—´ä»¶èƒ½å¤Ÿåšåˆ°å®æ—¶å¤„ç†æ•°æ®ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹å¹¶ä¸éœ€è¦å®æ—¶ï¼Œæ¯”å¦‚ï¼švip å‡çº§ã€‚ ç³»ç»Ÿå†…éƒ¨/ ç³»ç»Ÿè§£è€¦ï¼š å®šæ—¶ä»»åŠ¡è°ƒåº¦ä¸€èˆ¬æ˜¯åœ¨ç³»ç»Ÿå†…éƒ¨ï¼Œè€Œæ¶ˆæ¯ä¸­é—´ä»¶å¯ç”¨äºä¸¤ä¸ªç³»ç»Ÿé—´ å¹¶ä¸”å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœå¤„ç†ä¸å½“ï¼Œä¼šå­˜åœ¨åŒä¸€ç³»ç»Ÿä¸åŒèŠ‚ç‚¹ä¹‹é—´å®šæ—¶ä»»åŠ¡ç›¸äº’å½±å“çš„é—®é¢˜ï¼Œå†è€ƒè™‘ä¸Šç›‘æ§ã€æ—¥å¿—ã€ä¿¡æ¯é¢æ¿ï¼ŒåŠ ä¸Šä¸åŒç³»ç»Ÿä¹‹é—´ç®¡ç†ç»´æŠ¤çš„é—®é¢˜ï¼Œè‡ªå·±å®ç°ä¸€å¥—çš„æˆæœ¬åˆä¸Šæ¥äº†..æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€äº›æ¯”è¾ƒæˆç†Ÿçš„ä»»åŠ¡è°ƒåº¦å¹³å°æ¥ä½¿ç”¨ã€‚ ä»»åŠ¡è°ƒåº¦æ¡†æ¶é€‰å‹Java é¢†åŸŸä¸»è¦åˆ†å¸ƒå¼è°ƒåº¦ç³»ç»Ÿå¦‚ä¸‹ï¼š xxl-jobï¼šæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±• ã€‚ Elastic-Jobï¼š å½“å½“å¼€æºçš„åˆ†å¸ƒå¼è°ƒåº¦è§£å†³æ–¹æ¡ˆï¼Œç”±ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„å­é¡¹ç›®Elastic-Job-Liteå’ŒElastic-Job-Cloudç»„æˆï¼›Elastic-Job-Liteå®šä½ä¸ºè½»é‡çº§æ— ä¸­å¿ƒåŒ–è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨jaråŒ…çš„å½¢å¼æä¾›åˆ†å¸ƒå¼ä»»åŠ¡çš„åè°ƒæœåŠ¡ï¼›Elastic-Job-Cloudé‡‡ç”¨è‡ªç ”Mesos Frameworkçš„è§£å†³æ–¹æ¡ˆï¼Œé¢å¤–æä¾›èµ„æºæ²»ç†ã€åº”ç”¨åˆ†å‘ä»¥åŠè¿›ç¨‹éš”ç¦»ç­‰åŠŸèƒ½ï¼› Saturnï¼šæ˜¯å”¯å“ä¼šå¼€æºçš„ä¸€ä¸ªåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œåœ¨å½“å½“å¼€æºçš„Elastic JobåŸºç¡€ä¸Šï¼Œå–ä»£ä¼ ç»Ÿçš„Linux Cron/Spring Batch Jobçš„æ–¹å¼ï¼Œåšåˆ°å…¨åŸŸç»Ÿä¸€é…ç½®ï¼Œç»Ÿä¸€ç›‘æ§ï¼Œä»»åŠ¡é«˜å¯ç”¨ä»¥åŠåˆ†ç‰‡å¹¶å‘å¤„ç†ï¼› light-task-schedulerï¼šé˜¿é‡Œå‘˜å·¥å¼€æºçš„ä¸ªäººé¡¹ç›®,ä¸»è¦ç”¨äºè§£å†³åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦é—®é¢˜ï¼Œæ”¯æŒå®æ—¶ä»»åŠ¡ï¼Œå®šæ—¶ä»»åŠ¡å’ŒCronä»»åŠ¡ã€‚æœ‰è¾ƒå¥½çš„ä¼¸ç¼©æ€§ï¼Œæ‰©å±•æ€§ï¼Œå¥å£®ç¨³å®šæ€§ Quartz: Javaå®šæ—¶ä»»åŠ¡çš„æ ‡é…ã€‚åˆ©ç”¨æ•°æ®åº“çš„é”æœºåˆ¶å®ç°é›†ç¾¤è°ƒåº¦ï¼Œä¸šåŠ¡ä»£ç éœ€è¦è€ƒè™‘è°ƒåº¦çš„é€»è¾‘ï¼Œå¯¹ä¸šåŠ¡ä»£ç æœ‰å…¥ä¾µã€‚ åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘æ˜¯ä¸€ä¸ªéƒ½ä¸çŸ¥é“çš„..æœ‰å¾ˆå¤šæ–‡ç« å¯¹ä»–ä»¬è¿›è¡Œå¯¹æ¯”ï¼Œæˆ‘ä»¬å°±å‚è€ƒå…¶ä¸­ä¸€ç¯‡ï¼ˆä¸‹ 2ï¼‰ï¼Œé€‰æ‹©çƒ­é—¨ä¸”æˆç†Ÿçš„ XXL-JOB æ¥ä¸Šæ‰‹ç ”ç©¶ä¸€ä¸‹ã€‚ äºŒã€XXL-JOB æ¦‚è¿° å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ï¼šhttp://www.xuxueli.com/xxl-job/ XXL-JOBæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚ å¿«é€Ÿå…¥é—¨ - æœ¬åœ°è¿è¡Œå…ˆå®šä¸ªå°ç›®æ ‡ï¼Œå…ˆæŠŠå®ƒåœ¨æœ¬åœ°è·‘èµ·æ¥å…ˆã€‚ ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ä»£ç åˆ°æœ¬åœ°æ‰¾ä¸€ä¸ªåˆé€‚çš„ç›®å½•ï¼Œç„¶åæ‰§è¡Œä¸‹åˆ—è¯­å¥æŠŠä»£ç ä¸‹è½½åˆ°æœ¬åœ°ï¼š $ git clone https://github.com/xuxueli/xxl-job.git ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œåˆå§‹åŒ– SQLï¼Œå†ç”¨ IDEA æ‰“å¼€æ‰¾åˆ° /xxl-job/doc/db/table_xxl_job.sql åˆå§‹åŒ– SQL è„šæœ¬ï¼Œå¹¶åœ¨æœ¬åœ°æ‰§è¡Œã€‚ ç„¶åæŒ‰ç…§ Maven æ ¼å¼å°†æºç å¯¼å…¥ IDEAï¼Œæºç ç»“æ„å¦‚ä¸‹ï¼š xxl-job-adminï¼šè°ƒåº¦ä¸­å¿ƒ xxl-job-coreï¼šå…¬å…±ä¾èµ– xxl-job-executor-samplesï¼šæ‰§è¡Œå™¨Sampleç¤ºä¾‹ï¼ˆé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬æ‰§è¡Œå™¨ï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå…¶å¹¶å°†ç°æœ‰é¡¹ç›®æ”¹é€ æˆæ‰§è¡Œå™¨ï¼‰ ï¼šxxl-job-executor-sample-springbootï¼šSpringbootç‰ˆæœ¬ï¼Œé€šè¿‡Springbootç®¡ç†æ‰§è¡Œå™¨ï¼Œæ¨èè¿™ç§æ–¹å¼ï¼› ï¼šxxl-job-executor-sample-springï¼šSpringç‰ˆæœ¬ï¼Œé€šè¿‡Springå®¹å™¨ç®¡ç†æ‰§è¡Œå™¨ï¼Œæ¯”è¾ƒé€šç”¨ï¼› ï¼šxxl-job-executor-sample-framelessï¼šæ— æ¡†æ¶ç‰ˆæœ¬ï¼› ï¼šxxl-job-executor-sample-jfinalï¼šJFinalç‰ˆæœ¬ï¼Œé€šè¿‡JFinalç®¡ç†æ‰§è¡Œå™¨ï¼› ï¼šxxl-job-executor-sample-nutzï¼šNutzç‰ˆæœ¬ï¼Œé€šè¿‡Nutzç®¡ç†æ‰§è¡Œå™¨ï¼›ç¬¬ä¸‰æ­¥ï¼šé…ç½®å¹¶å¯åŠ¨ â€œè°ƒåº¦ä¸­å¿ƒâ€è°ƒåº¦ä¸­å¿ƒé…ç½®æ–‡ä»¶åœ°å€ï¼š /xxl-job/xxl-job-admin/src/main/resources/xxl-job-admin.propertiesè°ƒåº¦ä¸­å¿ƒé…ç½®å†…å®¹è¯´æ˜ï¼š ### è°ƒåº¦ä¸­å¿ƒJDBCé“¾æ¥ï¼šé“¾æ¥åœ°å€è¯·ä¿æŒå’Œåˆå§‹åŒ–æ—¶åˆ›å»ºçš„æ•°æ®åº“ä¿æŒä¸€è‡´ spring.datasource.url=jdbc:mysql://127.0.0.1:3306/xxl_job?Unicode=true&amp;characterEncoding=UTF-8 spring.datasource.username=root spring.datasource.password=root_pwd spring.datasource.driver-class-name=com.mysql.jdbc.Driver ### æŠ¥è­¦é‚®ç®± spring.mail.host=smtp.qq.com spring.mail.port=25 spring.mail.username=xxx@qq.com spring.mail.password=xxx spring.mail.properties.mail.smtp.auth=true spring.mail.properties.mail.smtp.starttls.enable=true spring.mail.properties.mail.smtp.starttls.required=true spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory ### xxl-job, access token xxl.job.accessToken= ### xxl-job, i18n (default empty as chinese, \"en\" as english) xxl.job.i18n= åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨çš„é¡¹ç›®çš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°æ‰¾ä¸åˆ° log æ–‡ä»¶çš„é”™è¯¯ï¼ˆFailed to createï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦è‡ªå·±æ‰‹åŠ¨åˆ›å»ºä¸€ä¸‹å°±å¥½äº†ï¼Œå…·ä½“å¯ä»¥å‚ç…§è¿™ç¯‡æ–‡ç« ï¼šhttps://blog.csdn.net/leeue/article/details/100779424ï¼Œè®°å¾—ä¹‹åå†æ‰‹åŠ¨æŠŠå½“å‰ç›®å½•æƒé™ç½®ä¸ºå¯å†™çŠ¶æ€å“¦ï¼š`sudo chmod 777 xxl-job` å½“ä¸€åˆ‡é…ç½®å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨é¡¹ç›®äº†ï¼Œè°ƒåº¦ä¸­å¿ƒè®¿é—®åœ°å€ï¼šhttp://localhost:8080/xxl-job-adminï¼ˆè¯¥åœ°å€æ‰§è¡ŒæœŸå°†ä¼šä½¿ç”¨åˆ°ï¼Œä½œä¸ºå›è°ƒåœ°å€ï¼‰ï¼Œé»˜è®¤ç™»å½•è´¦å· â€œadmin/123456â€ï¼Œç™»å½•åè¿è¡Œç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è‡³æ­¤ï¼Œã€Œè°ƒåº¦ä¸­å¿ƒã€é¡¹ç›®å·²ç»éƒ¨ç½²æˆåŠŸäº†ï¼Œè°ƒåº¦ä¸­å¿ƒé›†ç¾¤ï¼ˆå¯é€‰ï¼‰é…ç½®å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ ç¬¬å››æ­¥ï¼šé…ç½®å¯åŠ¨â€æ‰§è¡Œå™¨â€æ‰§è¡Œå™¨é…ç½®ï¼Œé…ç½®æ–‡ä»¶åœ°å€ï¼š /xxl-job/xxl-job-executor-samples/xxl-job-executor-sample-springboot/src/main/resources/application.propertiesæ‰§è¡Œå™¨é…ç½®ï¼Œé…ç½®å†…å®¹è¯´æ˜ï¼š ### è°ƒåº¦ä¸­å¿ƒéƒ¨ç½²è·Ÿåœ°å€ [é€‰å¡«]ï¼šå¦‚è°ƒåº¦ä¸­å¿ƒé›†ç¾¤éƒ¨ç½²å­˜åœ¨å¤šä¸ªåœ°å€åˆ™ç”¨é€—å·åˆ†éš”ã€‚æ‰§è¡Œå™¨å°†ä¼šä½¿ç”¨è¯¥åœ°å€è¿›è¡Œ\"æ‰§è¡Œå™¨å¿ƒè·³æ³¨å†Œ\"å’Œ\"ä»»åŠ¡ç»“æœå›è°ƒ\"ï¼›ä¸ºç©ºåˆ™å…³é—­è‡ªåŠ¨æ³¨å†Œï¼› xxl.job.admin.addresses=http://127.0.0.1:8080/xxl-job-admin ### æ‰§è¡Œå™¨AppName [é€‰å¡«]ï¼šæ‰§è¡Œå™¨å¿ƒè·³æ³¨å†Œåˆ†ç»„ä¾æ®ï¼›ä¸ºç©ºåˆ™å…³é—­è‡ªåŠ¨æ³¨å†Œ xxl.job.executor.appname=xxl-job-executor-sample ### æ‰§è¡Œå™¨IP [é€‰å¡«]ï¼šé»˜è®¤ä¸ºç©ºè¡¨ç¤ºè‡ªåŠ¨è·å–IPï¼Œå¤šç½‘å¡æ—¶å¯æ‰‹åŠ¨è®¾ç½®æŒ‡å®šIPï¼Œè¯¥IPä¸ä¼šç»‘å®šHostä»…ä½œä¸ºé€šè®¯å®ç”¨ï¼›åœ°å€ä¿¡æ¯ç”¨äº \"æ‰§è¡Œå™¨æ³¨å†Œ\" å’Œ \"è°ƒåº¦ä¸­å¿ƒè¯·æ±‚å¹¶è§¦å‘ä»»åŠ¡\"ï¼› xxl.job.executor.ip= ### æ‰§è¡Œå™¨ç«¯å£å· [é€‰å¡«]ï¼šå°äºç­‰äº0åˆ™è‡ªåŠ¨è·å–ï¼›é»˜è®¤ç«¯å£ä¸º9999ï¼Œå•æœºéƒ¨ç½²å¤šä¸ªæ‰§è¡Œå™¨æ—¶ï¼Œæ³¨æ„è¦é…ç½®ä¸åŒæ‰§è¡Œå™¨ç«¯å£ï¼› xxl.job.executor.port=9999 ### æ‰§è¡Œå™¨é€šè®¯TOKEN [é€‰å¡«]ï¼šéç©ºæ—¶å¯ç”¨ï¼›(æ³¨æ„ä¸è°ƒåº¦ä¸­å¿ƒä¿æŒä¸€è‡´) xxl.job.accessToken= ### æ‰§è¡Œå™¨è¿è¡Œæ—¥å¿—æ–‡ä»¶å­˜å‚¨ç£ç›˜è·¯å¾„ [é€‰å¡«] ï¼šéœ€è¦å¯¹è¯¥è·¯å¾„æ‹¥æœ‰è¯»å†™æƒé™ï¼›ä¸ºç©ºåˆ™ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼› xxl.job.executor.logpath=/data/applogs/xxl-job/jobhandler ### æ‰§è¡Œå™¨æ—¥å¿—ä¿å­˜å¤©æ•° [é€‰å¡«] ï¼šå€¼å¤§äº3æ—¶ç”Ÿæ•ˆï¼Œå¯ç”¨æ‰§è¡Œå™¨Logæ–‡ä»¶å®šæœŸæ¸…ç†åŠŸèƒ½ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆï¼› xxl.job.executor.logretentiondays=-1 åŒæ ·ï¼Œä¹Ÿè¦æ³¨æ„ä¸€ä¸‹æ—¥å¿—æ–‡ä»¶çš„åˆ›å»ºå’Œæƒé™é—®é¢˜ï¼Œè§£å†³æ–¹æ³•åŒä¸Šã€‚ å½“é…ç½®å®Œæˆä¹‹åè¿è¡Œèµ·æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆšæ‰çš„ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒçš„ä¸»é¡µï¼Œåœ¨å³ä¸Šè§’çš„ã€Œæ‰§è¡Œå™¨çš„æ•°é‡ã€ä¸Š + 1 äº†ã€‚ ç¬¬äº”æ­¥ï¼šå¼€å‘ç¬¬ä¸€ä¸ªä»»åŠ¡å½“ã€Œè°ƒåº¦ä¸­å¿ƒã€å’Œã€Œæ‰§è¡Œå™¨ã€éƒ½å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ã€Œè°ƒåº¦ä¸­å¿ƒã€çš„ä»»åŠ¡ç®¡ç†ç•Œé¢æ–°å¢ä¸€æ¡é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå‚è€ƒï¼‰çš„ä»»åŠ¡ï¼š æˆ‘ä»¬ç‚¹å‡»ã€Œæ“ä½œã€æŒ‰é’®ä¸‹çš„ã€ŒGLUE IDEã€å¯ä»¥æ‰‹åŠ¨ç¼–å†™æˆ‘ä»¬è¦æ‰§è¡Œçš„è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„ä»»åŠ¡ä»£ç æ”¹å†™æˆå¦‚ä¸‹çš„æ ·å­ï¼š package com.xxl.job.service.handler; import com.xxl.job.core.log.XxlJobLogger; import com.xxl.job.core.biz.model.ReturnT; import com.xxl.job.core.handler.IJobHandler; import java.util.concurrent.TimeUnit; public class DemoGlueJobHandler extends IJobHandler { @Override public ReturnT&lt;String> execute(String param) throws Exception { XxlJobLogger.log(\"XXL-JOB, Hello World.\"); for (int i = 0; i &lt; 5; i++) { XxlJobLogger.log(\"beat at:\" + i); TimeUnit.SECONDS.sleep(2); } return SUCCESS; } } ç‚¹å‡»ã€Œä¿å­˜ã€ï¼Œç„¶åç»§ç»­åœ¨ã€Œæ“ä½œã€æŒ‰é’®ä¸‹ç‚¹å‡»ã€Œæ‰§è¡Œä¸€æ¬¡ã€çš„æ“ä½œï¼Œå°±å¯ä»¥åœ¨ã€Œè°ƒåº¦æ—¥å¿—ã€ä¸­çœ‹åˆ°æˆ‘ä»¬çš„ä»»åŠ¡æ‰§è¡Œæƒ…å†µå•¦ï¼š å¯ä»¥çœ‹åˆ°é»˜è®¤æ‰§è¡Œå™¨ä¸­çš„æ—¥å¿—è¾“å‡ºäº†ï¼š å›å¤´ç†è§£ä¸€ä¸‹è¿‡ç¨‹åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ•´ä¸ªæ­å»ºè¿è¡Œçš„è¿‡ç¨‹éƒ½æ¯”è¾ƒé¡ºæ»‘ï¼Œæ²¡æœ‰å‡ºç°ä»€ä¹ˆé˜»ç¢ï¼Œç°åœ¨æˆ‘ä»¬ç¨å¾®æ¥ç†è§£ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚ é¦–å…ˆæˆ‘ä»¬åœ¨æœ¬åœ°åˆå§‹åŒ–äº†æ¡†æ¶æä¾›çš„ SQL è¯­å¥ï¼Œé‡Œé¢å®šä¹‰çš„ç»“æ„è¶³å¤Ÿæˆ‘ä»¬ä¸ç®¡æ˜¯å•æœºè¿˜æ˜¯åˆ†å¸ƒå¼çš„ä»»åŠ¡ç®¡ç†éœ€æ±‚ã€‚ç„¶åæˆ‘ä»¬ç®€å•é…ç½®äº†ä¸€ä¸‹è¿æ¥çš„æ•°æ®åº“ã€æŠ¥è­¦é‚®ä»¶ã€token ç­‰ä¿¡æ¯æˆåŠŸå¯åŠ¨äº†ã€Œè°ƒåº¦ä¸­å¿ƒã€é¡¹ç›®ã€‚è¿™ä¸ªæ—¶å€™é¡¹ç›®ä¸­é»˜è®¤æ³¨å†Œä¸€ä¸ªåå­—ä¸º xxl-job-exectutor-sample çš„æ‰§è¡Œå™¨ï¼ˆåå­—åŒé»˜è®¤æ‰§è¡Œå™¨çš„ AppNameï¼‰ï¼Œå¹¶ä¸”é‡‡ç”¨çš„æ˜¯è‡ªåŠ¨æ³¨å†Œçš„æ–¹å¼ã€‚ ç­‰æˆ‘ä»¬æŠŠæ‰§è¡Œå™¨é…ç½®é¡¹é‡Œçš„ xxl,job.admin.addresses å¡«å†™ä¸Šã€Œè°ƒåº¦ä¸­å¿ƒã€å®é™…çš„åœ°å€ï¼Œç„¶å token ä¿æŒä¸ã€Œè°ƒåº¦ä¸­å¿ƒã€ä¸€è‡´ï¼Œå¯åŠ¨æ‰§è¡Œå™¨æ—¶ï¼Œæ‰§è¡Œå™¨å°±ä¼šæŠŠè‡ªèº«çš„ä¸€äº›åŸºç¡€ä¿¡æ¯å‘é€ç»™ã€Œè°ƒåº¦ä¸­å¿ƒã€ï¼Œè¿™æ—¶å€™ã€Œè°ƒåº¦ä¸­å¿ƒã€ä¼šæŠŠæ¥æ”¶åˆ°çš„æ³¨å†Œä¿¡æ¯ä¸è‡ªèº«æ³¨å†Œåˆ—è¡¨é‡Œçš„ AppName è¿›è¡Œå¯¹æ¯”ï¼ˆAppName æ˜¯æ¯ä¸€ä¸ªæ‰§è¡Œå™¨çš„å”¯ä¸€æ ‡ç¤ºï¼‰ï¼Œæœ‰åŒ¹é…æ—¶å°±ä¼šæŠŠ ip è‡ªåŠ¨å¡«å†™ä¸Šï¼ˆå¤šä¸ªèŠ‚ç‚¹å°±å†™å¤šä¸ªåœ°å€ï¼‰ï¼Œå¹¶åœ¨ xxl_job_registry è¡¨ä¸Šæ›´æ–°ä¿¡æ¯ã€‚æ‰§è¡Œå™¨å¯ä»¥ç®€å•ç†è§£ä¸ºé¡¹ç›®å†…åµŒäº†ç«¯å£ä¸º 9999ï¼ˆé»˜è®¤ç«¯å£ï¼‰çš„ä¸€ä¸ª Serverã€‚ï¼ˆæ¶æ„å›¾å¦‚ä¸‹ï¼‰ ä»»åŠ¡ â€œè¿è¡Œæ¨¡å¼â€åœ¨åˆšæ‰çš„ã€Œå¿«é€Ÿå…¥é—¨ã€ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªã€ŒGLUEæ¨¡å¼(Java)ã€æ¨¡å¼çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬åœ¨æ–°å»ºä»»åŠ¡æ—¶å¯ä»¥ç›´æ¥åœ¨ã€Œè°ƒåº¦ä¸­å¿ƒã€ä¸Šç¼–è¾‘ä»£ç ï¼Œç„¶åè®©æˆ‘ä»¬çš„ â€æ‰§è¡Œå™¨â€œ æ‰§è¡Œï¼Œè¿™æ ·çš„ä¸€ç§æ¨¡å¼æ˜¯æŠŠä»£ç ç›´æ¥æ”¾åœ¨ã€Œè°ƒåº¦ä¸­å¿ƒã€çš„åšæ³•ï¼Œå®ƒçš„åŸç†æ˜¯ï¼šæ¯ä¸ª â€œGLUEæ¨¡å¼(Java)â€ ä»»åŠ¡çš„ä»£ç ï¼Œå®é™…ä¸Šæ˜¯â€œä¸€ä¸ªç»§æ‰¿è‡ª â€œIJobHandlerâ€ çš„å®ç°ç±»çš„ç±»ä»£ç â€ï¼Œâ€œæ‰§è¡Œå™¨â€æ¥æ”¶åˆ°â€œè°ƒåº¦ä¸­å¿ƒâ€çš„è°ƒåº¦è¯·æ±‚æ—¶ï¼Œä¼šé€šè¿‡ Groovy ç±»åŠ è½½å™¨åŠ è½½æ­¤ä»£ç ï¼Œå®ä¾‹åŒ–æˆ Java å¯¹è±¡ï¼ŒåŒæ—¶æ³¨å…¥æ­¤ä»£ç ä¸­å£°æ˜çš„ Spring æœåŠ¡ï¼ˆè¯·ç¡®ä¿ Glue ä»£ç ä¸­çš„æœåŠ¡å’Œç±»å¼•ç”¨åœ¨â€œæ‰§è¡Œå™¨â€é¡¹ç›®ä¸­å­˜åœ¨ï¼‰ï¼Œç„¶åè°ƒç”¨è¯¥å¯¹è±¡çš„ execute æ–¹æ³•ï¼Œæ‰§è¡Œä»»åŠ¡é€»è¾‘ã€‚ å¦å¤–ä¸€ç§æ–¹å¼æ˜¯ä½ æå‰æŠŠä»£ç å†™è¿›ã€Œæ‰§è¡Œå™¨ã€ç¨‹åºä¸­ï¼Œè¿™æ ·çš„æ¨¡å¼åœ¨ XXL-JOB ä¸­å«åšã€ŒBeanæ¨¡å¼ã€ï¼šæ¯ä¸ª Bean æ¨¡å¼ä»»åŠ¡éƒ½æ˜¯ä¸€ä¸ª Spring çš„ Bean ç±»å®ä¾‹ï¼Œå®ƒè¢«ç»´æŠ¤åœ¨â€œæ‰§è¡Œå™¨â€é¡¹ç›®çš„ Spring å®¹å™¨ä¸­ã€‚ä»»åŠ¡ç±»éœ€è¦åŠ  â€œ@JobHandler(value=â€åç§°â€)â€ æ³¨è§£ï¼Œå› ä¸ºâ€œæ‰§è¡Œå™¨â€ä¼šæ ¹æ®è¯¥æ³¨è§£è¯†åˆ« Spring å®¹å™¨ä¸­çš„ä»»åŠ¡ã€‚ä»»åŠ¡ç±»éœ€è¦ç»§æ‰¿ç»Ÿä¸€æ¥å£ â€œIJobHandlerâ€ï¼Œä»»åŠ¡é€»è¾‘åœ¨ execute æ–¹æ³•ä¸­å¼€å‘ï¼Œå› ä¸ºâ€œæ‰§è¡Œå™¨â€åœ¨æ¥æ”¶åˆ°è°ƒåº¦ä¸­å¿ƒçš„è°ƒåº¦è¯·æ±‚æ—¶ï¼Œå°†ä¼šè°ƒç”¨ â€œIJobHandlerâ€ çš„ execute æ–¹æ³•ï¼Œæ‰§è¡Œä»»åŠ¡é€»è¾‘ã€‚ ä¾‹å¦‚åœ¨ XXL-JOB æä¾›çš„å®ä¾‹ä»£ç ä¸­å°±æœ‰ä¸‹é¢è¿™ä¹ˆä¸€æ®µå„¿ï¼š package com.xxl.job.executor.service.jobhandler; import com.xxl.job.core.biz.model.ReturnT; import com.xxl.job.core.handler.IJobHandler; import com.xxl.job.core.handler.annotation.JobHandler; import com.xxl.job.core.log.XxlJobLogger; import org.springframework.stereotype.Component; import java.util.concurrent.TimeUnit; /** * ä»»åŠ¡Handlerç¤ºä¾‹ï¼ˆBeanæ¨¡å¼ï¼‰ * * å¼€å‘æ­¥éª¤ï¼š * 1ã€ç»§æ‰¿\"IJobHandler\"ï¼šâ€œcom.xxl.job.core.handler.IJobHandlerâ€ï¼› * 2ã€æ³¨å†Œåˆ°Springå®¹å™¨ï¼šæ·»åŠ â€œ@Componentâ€æ³¨è§£ï¼Œè¢«Springå®¹å™¨æ‰«æä¸ºBeanå®ä¾‹ï¼› * 3ã€æ³¨å†Œåˆ°æ‰§è¡Œå™¨å·¥å‚ï¼šæ·»åŠ â€œ@JobHandler(value=\"è‡ªå®šä¹‰jobhandleråç§°\")â€æ³¨è§£ï¼Œæ³¨è§£valueå€¼å¯¹åº”çš„æ˜¯è°ƒåº¦ä¸­å¿ƒæ–°å»ºä»»åŠ¡çš„JobHandlerå±æ€§çš„å€¼ã€‚ * 4ã€æ‰§è¡Œæ—¥å¿—ï¼šéœ€è¦é€šè¿‡ \"XxlJobLogger.log\" æ‰“å°æ‰§è¡Œæ—¥å¿—ï¼› * * @author xuxueli 2015-12-19 19:43:36 */ @JobHandler(value=\"demoJobHandler\") @Component public class DemoJobHandler extends IJobHandler { @Override public ReturnT&lt;String> execute(String param) throws Exception { XxlJobLogger.log(\"XXL-JOB, Hello World.\"); for (int i = 0; i &lt; 5; i++) { XxlJobLogger.log(\"beat at:\" + i); TimeUnit.SECONDS.sleep(2); } return SUCCESS; } } æˆ‘ä»¬å°±èƒ½åœ¨åˆ›å»ºä»»åŠ¡æ—¶ç›´æ¥æŒ‰ç…§ä¸‹å›¾è¿™æ ·åˆ›å»ºï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨ä»»åŠ¡æ—¶ï¼Œâ€æ‰§è¡Œå™¨â€ å°±èƒ½å¤Ÿå¦‚æ„¿çš„æ‰§è¡Œä¸Šé¢çš„é€»è¾‘ï¼š å½“ç„¶ XXL-JOB è¿˜èƒ½æ”¯æŒä¸€äº›è„šæœ¬è¯­è¨€ç±»å‹çš„æ¨¡å¼ï¼š - shellè„šæœ¬ï¼šä»»åŠ¡è¿è¡Œæ¨¡å¼é€‰æ‹©ä¸º &quot;GLUEæ¨¡å¼(Shell)&quot;æ—¶æ”¯æŒ &quot;shell&quot; è„šæœ¬ä»»åŠ¡ï¼› - pythonè„šæœ¬ï¼šä»»åŠ¡è¿è¡Œæ¨¡å¼é€‰æ‹©ä¸º &quot;GLUEæ¨¡å¼(Python)&quot;æ—¶æ”¯æŒ &quot;python&quot; è„šæœ¬ä»»åŠ¡ï¼› - nodejsè„šæœ¬ï¼šåŠ¡è¿è¡Œæ¨¡å¼é€‰æ‹©ä¸º &quot;GLUEæ¨¡å¼(NodeJS)&quot;æ—¶æ”¯æŒ &quot;nodejs&quot; è„šæœ¬ä»»åŠ¡ï¼›ä¸‰ã€æ¥å…¥æŒ‡å— å‰æï¼šå·²ç»æ­å»ºå¹¶æˆåŠŸè¿è¡Œäº†ã€Œè°ƒåº¦ä¸­å¿ƒã€æœåŠ¡ã€‚ å¿«é€Ÿæ¥å…¥ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ pom æ–‡ä»¶ä¸­å¼•å…¥ xxl-job-core çš„ Maven ä¾èµ–ï¼Œä¸è¿‡æ¯”è¾ƒå¥‡æ€ªçš„æ˜¯ï¼Œæ˜æ˜ Github ä¸Šæœ€æ–°ç‰ˆæœ¬æ˜¯ 2.1.1ï¼ŒMaven ä»“åº“ä¸Šå´æ²¡æœ‰æœ€æ–°çš„åŒ…ï¼Œæ‰€ä»¥åªèƒ½ç”¨ 2.1.0 çš„ï¼š &lt;dependency> &lt;groupId>com.xuxueli&lt;/groupId> &lt;artifactId>xxl-job-core&lt;/artifactId> &lt;version>2.1.0&lt;/version> &lt;/dependency> ç¬¬äºŒæ­¥ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ xxl ç›¸å…³çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œä¸ç®¡ yml æ ¼å¼è¿˜æ˜¯ properties éƒ½è¡Œï¼Œä¸Šé¢æä¾›äº† properties çš„ç‰ˆæœ¬ï¼Œè¿™äº†å°±æä¾›ä¸€ä¸ª yml æ ¼å¼çš„ä½œå‚è€ƒå§ï¼š xxl: job: accessToken: xxxx admin: addresses: http://127.0.0.1:8080/xxl-job-admin executor: appname: test logpath: /data/applogs/xxl-job/jobhandler logretentiondays: -1 ip: port: 9999 ç¬¬ä¸‰æ­¥ï¼Œåœ¨åˆé€‚çš„åŒ…ç›®å½•ä¸‹æ–°å»º XxlJobConfig é…ç½®ç±»ï¼š @Configuration public class XxlJobConfig { private Logger logger = LoggerFactory.getLogger(XxlJobConfig.class); @Value(\"${xxl.job.admin.addresses}\") private String adminAddresses; @Value(\"${xxl.job.executor.appname}\") private String appName; @Value(\"${xxl.job.executor.ip}\") private String ip; @Value(\"${xxl.job.executor.port}\") private int port; @Value(\"${xxl.job.accessToken}\") private String accessToken; @Value(\"${xxl.job.executor.logpath}\") private String logPath; @Value(\"${xxl.job.executor.logretentiondays}\") private int logRetentionDays; @Bean(initMethod = \"start\", destroyMethod = \"destroy\") public XxlJobSpringExecutor xxlJobExecutor() { logger.info(\">>>>>>>>>>> xxl-job config init.\"); XxlJobSpringExecutor xxlJobSpringExecutor = new XxlJobSpringExecutor(); xxlJobSpringExecutor.setAdminAddresses(adminAddresses); xxlJobSpringExecutor.setAppName(appName); xxlJobSpringExecutor.setIp(ip); xxlJobSpringExecutor.setPort(port); xxlJobSpringExecutor.setAccessToken(accessToken); xxlJobSpringExecutor.setLogPath(logPath); xxlJobSpringExecutor.setLogRetentionDays(logRetentionDays); return xxlJobSpringExecutor; } /** * é’ˆå¯¹å¤šç½‘å¡ã€å®¹å™¨å†…éƒ¨ç½²ç­‰æƒ…å†µï¼Œå¯å€ŸåŠ© \"spring-cloud-commons\" æä¾›çš„ \"InetUtils\" ç»„ä»¶çµæ´»å®šåˆ¶æ³¨å†ŒIPï¼› * * 1ã€å¼•å…¥ä¾èµ–ï¼š * &lt;dependency> * &lt;groupId>org.springframework.cloud&lt;/groupId> * &lt;artifactId>spring-cloud-commons&lt;/artifactId> * &lt;version>${version}&lt;/version> * &lt;/dependency> * * 2ã€é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…å®¹å™¨å¯åŠ¨å˜é‡ * spring.cloud.inetutils.preferred-networks: 'xxx.xxx.xxx.' * * 3ã€è·å–IP * String ip_ = inetUtils.findFirstNonLoopbackHostInfo().getIpAddress(); */ } è‡³æ­¤ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å°±å·®ä¸å¤šå®Œæˆäº†æˆ‘ä»¬çš„æ¥å…¥å·¥ä½œäº†ï¼Œå°±åªå‰©ä¸‹å¼€å‘ Handler çš„å·¥ä½œé‡äº†ã€‚ ç¬¬å››æ­¥ï¼Œå»ºä¸€ä¸ªç¤ºä¾‹ DemoJobHandler åœ¨å¹³å°ä¸Šè‡ªæµ‹ä¸€ä¸‹ï¼š @JobHandler(value=\"demoJobHandler\") @Component public class DemoJobHandler extends IJobHandler { @Override public ReturnT&lt;String> execute(String param) throws Exception { XxlJobLogger.log(\"XXL-JOB, Hello World.\"); for (int i = 0; i &lt; 5; i++) { XxlJobLogger.log(\"beat at:\" + i); TimeUnit.SECONDS.sleep(2); } return SUCCESS; } } ç„¶åæˆ‘ä»¬å¯ä»¥å¯åŠ¨é¡¹ç›®ï¼Œçœ‹çœ‹ã€Œè°ƒåº¦ä¸­å¿ƒã€æ˜¯å¦å·²ç»æˆåŠŸæ³¨å†Œå½“å‰é¡¹ç›®çš„ã€Œæ‰§è¡Œå™¨ã€ï¼Œå†ä½¿ç”¨ä¸Šé¢ä»‹ç»çš„ã€Œæ–°å»ºä»»åŠ¡ã€çš„æ–¹æ³•ï¼Œæ¥æµ‹è¯•ä¸€ä¸‹æ˜¯å¦æ­£å¸¸æ¥å…¥ã€‚ å°ç»“æ€»ä½“æ¥è¯´ XXL-JOB éå¸¸çš„å®¹æ˜“ä¸Šæ‰‹ï¼Œå¹¶ä¸”å®˜æ–¹æä¾›äº†å¾ˆå‹å¥½çš„å®ä¾‹ä»£ç ï¼ŒåŒ…æ‹¬ä¸€äº›é«˜çº§ç‰¹æ€§ã€Œåˆ†ç‰‡ã€ã€ã€Œè¿œç¨‹è°ƒç”¨ã€ç­‰å¤šç§ä»»åŠ¡éƒ½èƒ½å¤Ÿå¾ˆå¥½çš„é€šè¿‡ç¤ºä¾‹ä»£ç ç†è§£å’Œä½¿ç”¨ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†èµ˜è¿°äº†..å®˜æ–¹æ–‡æ¡£å·²ç»å¾ˆå®Œå–„äº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»é˜…è¯»ä»¥ä¸‹ã€‚ å‚è€ƒèµ„æ–™ https://www.expectfly.com/2017/08/15/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E6%96%B9%E6%A1%88%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/ - åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿé€‰å‹ https://www.yzhu.name/2019/03/30/Schedule-Job/ - åˆ†å¸ƒå¼è°ƒåº¦ç³»ç»Ÿé€‰å‹ https://blog.csdn.net/qq924862077/article/details/82708610 - XXL-JOBåŸç†â€“æ‰§è¡Œå™¨æ³¨å†Œï¼ˆäºŒï¼‰ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹è¯»ä¹¦ç¬”è®°","slug":"ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹è¯»ä¹¦ç¬”è®°","date":"2019-09-14T09:35:00.000Z","updated":"2020-08-03T09:41:47.089Z","comments":true,"path":"2019/09/14/dai-ma-zheng-ji-zhi-dao-du-shu-bi-ji/","link":"","permalink":"http://www.wmyskxz.com/2019/09/14/dai-ma-zheng-ji-zhi-dao-du-shu-bi-ji/","excerpt":"","text":"ä¸ºäº†è·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨ ä¸€ã€å‰è¨€ ä»£ç æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ–è€…è¯´ä½œä¸ºç¨‹åºå‘˜çš„æˆ‘ä»¬ï¼Œå¯¹äºå†™ä»£ç è¿™ä»¶äº‹åˆæ˜¯æŠ±ç€æ€æ ·çš„ä¸€ç§æ€åº¦å‘¢ï¼Ÿæˆ‘æ—¶å¸¸éƒ½åœ¨æƒ³ï¼Œå¦‚ä»Šæˆ‘å¦‚æ„¿æˆä¸ºäº†ä¸€åç¨‹åºå‘˜ï¼ˆè™½ç„¶è¿˜å¾ˆèœï¼‰ï¼Œå†™ä»£ç è¿™ä»¶äº‹æˆäº†æˆ‘çš„å·¥ä½œï¼Œæˆ‘æœŸæœ›ä»å·¥ä½œä¸­è·å¾—äº›ä»€ä¹ˆï¼Ÿè€Œå·¥ä½œåˆèƒ½ç»™äºˆæˆ‘ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘åœ¨çŸ­æš‚çš„å·¥ä½œç»å†ä¸­ï¼ˆ4 ä¸ªæœˆï¼‰ï¼ŒçŠ¯ä¸‹è¿‡ä¸å°‘é”™ï¼Œå°‘éƒ¨åˆ†æ˜¯å› ä¸ºç»éªŒï¼Œä½†å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹éƒ½æ˜¯å› ä¸ºå¯¹ä»£ç æ²¡æœ‰è¶³å¤Ÿçš„æ•¬ç•ä¹‹å¿ƒå¯¼è‡´çš„ï¼Œå¹¶ä¸”åœ¨å·¥ä½œä¸­ä¹Ÿé‡åˆ°è¿‡ä¸€äº›å¾ˆæœ‰æ„æ€çš„ä»£ç ï¼Œæ‰€ä»¥ä»Šå¤©å°±ç€è¿™æœ¬ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ï¼Œæ¥è°ˆä¸€è°ˆå¯¹äºä»£ç çš„æ„Ÿå—å’Œä¸€äº›æƒ³æ³•ã€‚ï¼ˆPsï¼šæƒ³åæ§½ä¸€ä¸‹è¿™æœ¬ä¹¦æŒºé­”æ€”çš„..ï¼‰ äºŒã€ä»€ä¹ˆæ˜¯æ•´æ´çš„ä»£ç  æˆ‘æœç´¢ã€Œä»£ç ã€è¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œç»™å‡ºçš„å®˜æ–¹è§£é‡Šéƒ½ç‰¹åˆ«æœ‰æ„æ€ï¼Œæ‘˜ä¸€ä¸‹ç™¾åº¦ç™¾ç§‘çš„å¥½äº†ï¼š ä»£ç å°±æ˜¯ç¨‹åºå‘˜ç”¨å¼€å‘å·¥å…·æ‰€æ”¯æŒçš„è¯­è¨€å†™å‡ºæ¥çš„æºæ–‡ä»¶ï¼Œæ˜¯ä¸€ç»„ç”±å­—ç¬¦ã€ç¬¦å·æˆ–ä¿¡å·ç å…ƒä»¥ç¦»æ•£å½¢å¼è¡¨ç¤ºä¿¡æ¯çš„æ˜ç¡®çš„è§„åˆ™ä½“ç³»ã€‚ä»£ç è®¾è®¡çš„åŸåˆ™åŒ…æ‹¬å”¯ä¸€ç¡®å®šæ€§ã€æ ‡å‡†åŒ–å’Œé€šç”¨æ€§ã€å¯æ‰©å……æ€§ä¸ç¨³å®šæ€§ã€ä¾¿äºè¯†åˆ«ä¸è®°å¿†ã€åŠ›æ±‚çŸ­å°ä¸æ ¼å¼ç»Ÿä¸€ä»¥åŠå®¹æ˜“ä¿®æ”¹ç­‰ã€‚ æºä»£ç æ˜¯ä»£ç çš„åˆ†æ”¯ï¼ŒæŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œæºä»£ç ç›¸å½“äºä»£ç ã€‚ç°ä»£ç¨‹åºè¯­è¨€ä¸­ï¼Œæºä»£ç å¯ä»¥ä¹¦ç±æˆ–ç£å¸¦å½¢å¼å‡ºç°ï¼Œä½†æœ€ä¸ºå¸¸ç”¨æ ¼å¼æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œè¿™ç§å…¸å‹æ ¼å¼çš„ç›®çš„æ˜¯ä¸ºäº†ç¼–è¯‘å‡ºè®¡ç®—æœºç¨‹åºã€‚è®¡ç®—æœºæºä»£ç æœ€ç»ˆç›®çš„æ˜¯å°†äººç±»å¯è¯»æ–‡æœ¬ç¿»è¯‘æˆä¸ºè®¡ç®—æœºå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œè¿™ç§è¿‡ç¨‹å«ç¼–è¯‘ï¼Œå®ƒç”±é€šè¿‡ç¼–è¯‘å™¨å®Œæˆã€‚ å¥½äº†ï¼Œå­¦æœ¯ä»‹ç»ä¸€å¤§å †ï¼Œé‡ç‚¹è¿˜æ˜¯åœ¨æœ€åä¸€å¥ï¼šè®¡ç®—æœºæºä»£ç æœ€ç»ˆç›®çš„æ˜¯å°†äººç±»å¯è¯»æ–‡æœ¬ç¿»è¯‘æˆä¸ºè®¡ç®—æœºå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚ å†ç²¾ç®€ä¸€ä¸‹ï¼šã€Œäººç±»å¯è¯»ã€ã€ã€Œè®¡ç®—æœºå¯æ‰§è¡Œã€ã€‚ è¯´åˆ°åº•ï¼Œä»£ç æœ€ç»ˆè¿˜æ˜¯å†™ç»™äººçœ‹çš„ï¼Œæ‰€ä»¥ã€Œå¯è¯»æ€§ã€å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œä½†æ€»å½’æˆ‘ä»¬æ˜¯è¦å…ˆæœ‰ã€Œä»£ç ã€ï¼Œå†æœ‰ã€Œå¯è¯»çš„ä»£ç ã€ï¼Œç»è¿‡ä¸æ–­é‡æ„oré‡å†™ï¼Œæœ€ç»ˆå½¢æˆæˆ‘ä»¬ã€Œç®€æ´çš„ä»£ç ã€ã€‚ è¯´å‡ ç‚¹æ„Ÿå—æ¯”è¾ƒå¤§çš„å§ã€‚ æ–¹æ³•å°½é‡çŸ­ &amp;&amp; èŒè´£å•ä¸€æœ‰è°èƒ½å‘Šè¯‰æˆ‘ä¸‹é¢è¿™ä¸ªæ–¹æ³•ç©¶ç«Ÿæ˜¯åœ¨åšä»€ä¹ˆå—ï¼Ÿ /** * @author Administrator * */ public class GeneratePrimes { /** * @param maxValue is the generation limit. * */ public static int[] generatePrimes(int maxValue) { if (maxValue >= 2){ //the only valid case //ddeclarations int s = maxValue +1 ;// size of array boolean[] f = new boolean[s]; int i; //initialize array to true. for ( i = 0;i &lt; s;i++) { f[i] = true; } f[0] = f[1] = false; // sieve int j; for (i = 2;i &lt; Math.sqrt(s) + 1; i++) { if (f[i]) { // if i is uncrossed , cross its multiples. for (j = 2 * i; j &lt; s ;j += i) { f[j] = false; //multiple is not prime } } } // how many primes are there? int count = 0; for (i = 0;i &lt; s; i++) { if (f[i]) { count ++; //bump count. } } int[] primes = new int[count]; //move the primes into the result for (i = 0,j = 0;i &lt; s;i++) { if (f[i]) { primes[j++] = i; } } return primes; } else { //maxValue &lt; 2 return new int[0]; // return null array if bad input. } } } å¦‚æœä½ éå¸¸æœ‰è€å¿ƒåœ°çœ‹å®Œäº†ï¼Œä½ å¯èƒ½å¤§æ¦‚æˆ–è®¸ä¼šäº†è§£åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿”å› maxValue èŒƒå›´ä»¥å†…çš„è´¨æ•°çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ç»è¿‡ç®€å•çš„é‡æ„ä¹‹åï¼Œä¼šå˜å¾—æ›´åŠ å®¹æ˜“ç†è§£ï¼š public class PrimeGenerator { private static boolean[] crossedOut; private static int[] result; public static int[] generatePrimes(int maxValue) { if (maxValue &lt; 2) { return new int[0]; } else { uncrossIntegersUpTo(maxValue); crossOutMultiples(); putUncrossedIntegersIntoResult(); return result; } } private static void putUncrossedIntegersIntoResult() { result = new int[numberOfUncrossedIntegers()]; for (int j = 0, i = 2; i &lt; crossedOut.length; i++) { if (notCrossed(i)) { result[j++] = i; } } } private static int numberOfUncrossedIntegers() { int count = 0; for (int i = 2; i &lt; crossedOut.length; i++) { if (notCrossed(i)) { count++; } } return count; } private static void crossOutMultiples() { int limit = determinuIterationLimit(); for (int i = 2;i &lt;= limit; i++) { if (notCrossed(i)) { crossOutMultiplesOf(i); } } } private static void crossOutMultiplesOf(int i) { for (int multiple = 2 * i; multiple &lt; crossedOut.length; multiple +=i) { crossedOut[multiple] = true; } } private static boolean notCrossed(int i) { return crossedOut[i] == false; } private static int determinuIterationLimit() { double iterationLimit = Math.sqrt(crossedOut.length); return (int)iterationLimit; } private static void uncrossIntegersUpTo(int maxValue) { crossedOut = new boolean[maxValue+1]; for (int i = 2; i &lt; crossedOut.length ; i++) { crossedOut[i] = false; } } } é¦–å…ˆæˆ‘ä»¬é€šè¿‡ç§æœ‰æ–¹æ³•éšè—æ‰äº†å®ç°çš„å…·ä½“ç»†èŠ‚ï¼Œå¹¶ä¸”ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½åï¼Œä½¿å¾—æˆ‘ä»¬ä¸»å‡½æ•° generatePrimes æ›´åŠ ä¾¿äºç†è§£ã€‚ å‡½æ•°çš„ç¬¬ä¸€è§„åˆ™å°±æ˜¯è¦çŸ­å°ï¼Œç¬¬äºŒæ¡è§„åˆ™å°±æ˜¯è¦æ›´çŸ­å°ã€‚æ¯ä¸ªå‡½æ•°ä¿æŒèŒè´£å•ä¸€ï¼Œå¹¶ä¸”æœ‰æ„è¯†çš„ç»´æŒåœ¨ä¸€å®šè¡Œæ•°å†…ï¼ˆJVM å°±å¼ºåˆ¶è¦æ±‚æ¯ä¸ªå‡½æ•°è¦å°äº 8000 è¡Œâ€¦ä¹Ÿå¬è¿‡æ¯ä¸ªå‡½æ•°å°½é‡ç»´æŒåœ¨ 15 è¡Œ or 30 è¡Œ ä¹‹å†…è¿™æ ·çš„è¯´æ³•..å¯èƒ½æœ‰ç‚¹é­”æ€”ï¼Œä½†è¦ç‚¹å°±æ˜¯å‡½æ•°è¦å°½é‡çŸ­å°ï¼‰ï¼Œè¿™å½“ç„¶æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼Œè€Œç°å®çš„æƒ…å†µå¾€å¾€è¦ç³Ÿç³•ä¸€äº›ã€‚ åœ¨å·¥ä½œä¸­ï¼Œæˆ‘å°±é‡åˆ°è¿‡ä¸€äº›é•¿å¾—å¯æ€•çš„æ–¹æ³•ï¼Œä»–ä»¬æˆ–è®¸æœ¬æ¥ä¿æŒç€å•çº¯ï¼ŒèŒè´£å•ä¸€ï¼Œä½†æ˜¯ç»è¿‡ä¸šåŠ¡ä¸æ–­çš„æ”¹é€ ï¼Œéœ€æ±‚ä¸æ–­çš„å åŠ ï¼Œç”šè‡³æ˜¯ä¸€äº›ä¸´æ—¶é€»è¾‘çš„åŠ å…¥ï¼Œè¿™ä¸ªæ–¹æ³•å°±å˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ä¸å ªâ€¦å¹¶ä¸”å› ä¸ºä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œè¶Šæ¥è¶Šå°‘çš„äººä¼š care åˆ°å®ƒï¼Œä»¥è‡³äºæ”¹é€ æˆæœ¬è¶Šæ¥è¶Šå¤§ï¼Œç”šè‡³è¢«é—å¿˜åœ¨è§’è½.. è¿™å…¶å®æ˜¯å†æ­£å¸¸ä¸è¿‡çš„äº‹æƒ…ï¼Œä½†åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€ç‚¹éœ€è¦è‡ªå·±æ¥ç»´æŒæ¸…é†’ï¼Œé‚£å°±æ˜¯ï¼šã€Œä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥è¿”å›çš„ä¸ºä»€ä¹ˆè¦å†™ä¸¤ä¸ªï¼Ÿã€ï¼Œå…³äºè¿™ä¸€ç‚¹ï¼Œä¿æŒè‡ªå·±çš„æ€è€ƒå°±å¥½äº†.. æ³¨é‡Šè¦ä½“ç°ä»£ç ä¹‹å¤–çš„ä¸œè¥¿æœ‰ä¸€å¥å¬èµ·æ¥å¥½å‰å®³çš„è¯å«åšï¼šã€Œä»£ç å³æ³¨é‡Šã€ï¼Œä¸çŸ¥é“å¤§å®¶æ˜¯æ€ä¹ˆçœ‹å¾…è¿™æ ·ä¸€å¥è¯çš„ï¼Œæˆ–è€…è¯´æ˜¯æ€ä¹ˆçœ‹å¾…æ³¨é‡Šçš„ã€‚å…¶å®åè¿‡æ¥æƒ³ï¼Œå¦‚æœä½ çš„ä»£ç éœ€è¦å¤§é‡çš„æ³¨é‡Šæ¥è§£é‡Šå…¶ä¸­çš„é€»è¾‘ï¼Œä¼šä¸ä¼šæ˜¯ä»£ç æœ¬èº«å°±å­˜åœ¨ä¸€å®šé—®é¢˜ï¼Ÿæˆ–è€…æ¢ä¸ªè§’åº¦æ€è€ƒï¼Œæ³¨é‡Šæ˜¯ç”¨æ¥è§£é‡Šä»£ç é€»è¾‘çš„å—ï¼Ÿ å¯æ€•çš„åºŸè¯æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸€æ®µä»£ç çš„æ³¨é‡Šï¼š /** The name. */ private String name; /** The version. */ private String version; /** The licenceName. */ private String licenceName; /** The version. */ private String info; ä¸Šé¢è¿™äº› Javadoc çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ— ã€‚å¹¶ä¸”ä»”ç»†é˜…è¯»ï¼Œä½ ç”šè‡³ä¼šå‘ç°ä¸€å¤„å‰ªåˆ‡-ç²˜è´´å¯¼è‡´çš„é”™è¯¯ï¼Œå¦‚æœä½œè€…åœ¨å†™ï¼ˆæˆ–ç²˜è´´ï¼‰æ³¨é‡Šæ—¶éƒ½æ²¡æœ‰èŠ±å¿ƒæ€ï¼Œæ€ä¹ˆèƒ½æŒ‡æœ›è¯»è€…ä»ä¸­æ”¶ç›Šå‘¢ï¼Ÿ èƒ½ç”¨å‡½æ•°æˆ–å˜é‡æ—¶å°±åˆ«ç”¨æ³¨é‡Šçœ‹çœ‹ä»¥ä¸‹ä»£ç æ¦‚è¦ï¼š // does the module from the globale list &lt;mod> depend on the // subsystem we are part of? if (smodule.getDependSubsystems().contains(subSysMod.getSubSystem()) å¯ä»¥ä¿®æ”¹æˆä»¥ä¸‹æ²¡æœ‰æ³¨é‡Šçš„ç‰ˆæœ¬ï¼š ArrayList moduleDependes = smodule.getDependSubsystems(); String ourSubSystem = subSysMod.getSubSystem(); if (moduleDependes.contains(ourSubSystem)) ç”¨ä»£ç æ¥é˜è¿°æœ‰æ—¶ï¼Œä»£ç æœ¬èº«ä¸è¶³ä»¥è§£é‡Šå…¶è¡Œä¸ºã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼Œè®¸å¤šç¨‹åºå‘˜ä»¥æ­¤ä¸ºç”±ï¼Œè§‰å¾—å¤§éƒ¨åˆ†æ—¶å€™ä»£ç éƒ½ä¸è¶³ä»¥è§£é‡Šå·¥ä½œã€‚è¿™ç§è§‚ç‚¹çº¯å±é”™è¯¯ï¼Œæ¯”å¦‚ä½ æ„¿æ„çœ‹åˆ°ä¸‹é¢è¿™ä¸ªï¼š // Check to see if the employee is eligible for full benefits if ((employee.flags &amp; HOURLY_FLAG) &amp;&amp; (employee.age > 65)) è¿˜æ˜¯è¿™ä¸ªï¼š if (employee.isEligibleForFullBenefits()) åªéœ€è¦å¤šæ€è€ƒé‚£ä¹ˆå‡ ç§’é’Ÿï¼Œå°±èƒ½ç”¨ä»£ç è§£é‡Šä½ çš„å¤§éƒ¨åˆ†æ„å›¾ã€‚å…¶å®å¾ˆå¤šæ—¶å€™ï¼Œç®€å•åˆ°åªéœ€è¦åˆ›å»ºä¸€ä¸ªæè¿°ä¸æ³¨é‡Šæ‰€è¨€åŒä¸€äº‹ç‰©çš„å‡½æ•°å³å¯ã€‚ å°ç»“æ³¨é‡Šç»ˆå½’æ˜¯è¦ç”¨æ¥ä½“ç°ä»£ç ä¹‹å¤–çš„ä¸œè¥¿.. åå‰¯å…¶å®çš„åå­—å–åå­—è¿™ä»¶äº‹ï¼ŒçœŸçš„æ˜¯ç¨‹åºå‘˜çš„ä¸€é—¨è‰ºæœ¯ã€‚è„‘æµ·é‡Œé¢èƒ½æµ®ç°å‡ºåŒäº‹ä»¬ç”¨ç¿»è¯‘è½¯ä»¶å–åçš„ç”»é¢å—ï¼Ÿ ä¸€ä¸ªå¥½çš„åå­—å†æ€ä¹ˆå¤¸èµéƒ½ä¸ä¸ºè¿‡ï¼Œä½†æ˜¯è¿™ä¸ªæœ€åŸºç¡€çš„å‰æå°±æ˜¯ï¼Œå®ƒé¦–å…ˆå¾—æ˜¯ä¸€ä¸ªã€Œæ­£ç¡®çš„åå­—ã€ã€‚æˆ‘å°±é‡åˆ°è¿‡ä¸€æ¬¡ï¼Œå‡½æ•°åå­—å«åšç±»ä¼¼äº listAll è¿™æ ·çš„ä¸œè¥¿ï¼Œæˆ³è¿›å»çœ‹å®é™…ä¸Šè¿˜åŸºäºä¸šåŠ¡è§„åˆ™åšäº†è¿‡æ»¤..ï¼ˆè¿™æ ·çš„ç‰›è‚‰ä¸å¯¹é©¬å˜´çš„æƒ…å†µåˆè®©æˆ‘è”æƒ³åˆ°äº†æ³¨é‡Šè¿™æ ·çš„ä¸œè¥¿ï¼Œå¯èƒ½å®é™…çš„ä»£ç å·²ç»ä½œäº†æ›´æ”¹ï¼Œä½†æ˜¯æ³¨é‡Šè¿˜æ˜¯æ˜¯ç»´æŒåŸæ ·æ²¡æœ‰å˜åŒ–..ï¼‰ å¹¶ä¸”è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«æœ‰æ„æ€çš„ç‚¹ï¼Œå°±æ˜¯å…³äºåå­—çš„ã€Œé•¿åº¦ã€ã€‚æœ‰æ—¶å€™å¯èƒ½ä¸ºäº†æƒ³è¦æè¿°æ¸…æ¥šä¸€ä¸ªå˜é‡ or ä¸€ä¸ªç±»çš„å…·ä½“ä½œç”¨ï¼Œæˆ‘ä¼šç»™å®ƒèµ·ä¸€ä¸ªçœ‹èµ·æ¥ç‰¹åˆ«é•¿çš„åå­—..å…³äºè¿™ä¸ªï¼Œè¿™é‡Œæœ‰ä¸€äº›å°ç»éªŒå¯ä»¥åˆ†äº«ä¸€ä¸‹ï¼š å»æ‰ Info å’Œ Data è¿™æ ·çš„åç¼€ï¼šè¿™äº›å°±åƒæ˜¯è‹±è¯­ä¸­çš„ a/ an/ the ä¸€æ ·ï¼Œæ˜¯æ„ä¹‰å«ç³Šçš„åºŸè¯ï¼ŒåºŸè¯éƒ½æ˜¯å†—ä½™çš„.. ä¸è¦ç»™å˜é‡åŠ å‰ç¼€æ¥æ ‡è¯†ï¼šå˜é‡ä¸éœ€è¦ä¸€ä¸ª m_ or å…¶ä»–ä»€ä¹ˆçš„å‰ç¼€æ¥æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªå˜é‡.. æ€è€ƒæ˜¯å¦æœ‰å¿…è¦æ ‡è¯†å‡ºå˜é‡çš„ç±»å‹ï¼šæˆ‘ä»¬æ ‡æ³¨å‡ºå˜é‡çš„ç±»å‹çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå¯¹äºå¼±ç±»å‹çš„è¯­è¨€ï¼Œå¯èƒ½æœ‰æ—¶å€™è¿˜æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰æ—¶å€™å¹¶ä¸èƒ½ä» students è¿™ä¸ªå˜é‡ä¸­åˆ¤æ˜æˆ‘åº”è¯¥æ€æ ·å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å¯¹äº Java è¿™æ ·çš„å¼ºç±»å‹çš„è¯­è¨€ï¼Œæˆ‘ä»¬å°±éœ€è¦æ ¹æ®å®é™…çš„åœºæ™¯æ€è€ƒæ˜¯å¦çœŸæœ‰é‚£ä¹ˆå¿…è¦äº†ã€‚ æ— å‰¯ä½œç”¨å‡½æ•°æ‰¿è¯ºåªåšä¸€ä»¶äº‹ï¼Œä½†è¿˜æ˜¯ä¼šåšå…¶ä»–è¢«éšè—èµ·æ¥çš„äº‹ã€‚ public class UserValidator { private Cryptographer cryptographer; public boolean checkPassword(String userName, String password) { User user = UserGateway.findByName(userName); if (user != User.NULL) { String codedPhrase = user.getPhraseEncodedByPassrod(); String phrase = cryptographer.decrypt(codedPhrase, password); if (\"Vliad Passwordw\".equals(phrase)) { Session.initialize(); return true; } } return false; } } ä¸Šé¢çš„å‡½æ•°å‰¯ä½œç”¨å°±åœ¨äºå¯¹ Session.initialize() çš„è°ƒç”¨ã€‚checkPassword å‡½æ•°ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥æ£€æŸ¥å¯†ç çš„ï¼Œè¯¥åç§°å¹¶æœªæš—ç¤ºå®ƒä¼šåˆå§‹åŒ–è¯¥æ¬¡ä¼šè¯ã€‚æ‰€ä»¥ï¼Œå½“æŸä¸ªè¯¯ä¿¡äº†å‡½æ•°åçš„è°ƒç”¨è€…æƒ³è¦æ£€æŸ¥ç”¨æˆ·æœ‰æ•ˆæ€§æ—¶ï¼Œå°±å¾—å†’ç€æŠ¹é™¤ç°æœ‰ä¼šè¯æ•°æ®çš„é£é™©ã€‚ æ‰€ä»¥è¿™é‡Œå¯ä»¥é‡å‘½åå‡½æ•°ä¸º checkPasswordAndInitializeSessionï¼Œè™½ç„¶è¿™è¿˜æ˜¯è¿èƒŒäº† â€œåªåšä¸€ä»¶äº‹â€ çš„è§„åˆ™ã€‚ å‡½æ•°å‚æ•°å°½å¯èƒ½å°‘ä¸€ä¸ªå‡½æ•°æœ€ç†æƒ³çš„å‚æ•°æ•°é‡æ˜¯ 0ï¼Œå…¶æ¬¡æ˜¯ 1ï¼Œå†æ¬¡æ˜¯ 2.. è¦é¿å…ä½¿ç”¨ä¸‰ä¸ªä»¥ä¸Šå‚æ•°çš„æƒ…å†µï¼Œå› ä¸ºå‚æ•°å¸¦æœ‰å¤ªå¤šçš„æ¦‚å¿µæ€§ï¼Œå‚æ•°è¿‡å¤šå°±ä¼šå¸¦æ¥æ›´å¤šçš„å¤æ‚æ€§.. æˆ‘å°±è§è¿‡ä¸€ä¸ªæŸ¥è¯¢æ¥å£ï¼Œä¸ºäº†æ»¡è¶³ä¸åŒçš„å¤æ‚æŸ¥è¯¢åœºæ™¯ï¼Œå‚æ•°å¤§æ¦‚å¯èƒ½æœ‰æ¥è¿‘ 10 ä¸ª.. å°±ç®—ä¸ä¸ºæ¥æ‰‹çš„ç¼–ç äººå‘˜è€ƒè™‘ï¼Œæµ‹è¯•äººå‘˜ä¹Ÿä¼šå¤´ç–¼çš„.. æƒ³æƒ³çœ‹ï¼Œè¦è¦†ç›–å¦‚æ­¤å…¼å®¹å¦‚æ­¤å¤šåœºæ™¯å¦‚æ­¤å¤æ‚çš„ä¸€ä¸ªæŸ¥è¯¢æ¥å£ï¼Œæµ‹è¯•ç”¨ä¾‹ç©¶ç«Ÿåº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ More..è¿™æœ¬ä¹¦è¯´å®è¯çœ‹ä¸‹æ¥æŒºé­”æ€”çš„.. é‡Œé¢æœ‰è®¸å¤šç®€æ´å®ç”¨çš„è§‚ç‚¹å¯ä»¥è®©æˆ‘ä»¬å—ç›Šï¼Œæˆ‘ä»…ä»…æŒ‘äº†ä¸€äº›æœ€è¿‘æ¯”è¾ƒæ„ŸåŒèº«å—çš„å‡ ç‚¹ï¼Œæ¥è¿›è¡Œäº†è¯´æ˜ã€‚ ä»£ç ä»“åº“å°±åƒæ˜¯ä¸€æœ¬ã€Šå“ˆå§†é›·ç‰¹ã€‹ä¸€æ ·ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ä¸åŒçš„è§è§£ï¼Œè¿™æ— å¯åšéï¼Œæˆ‘è§‰å¾—é‡è¦çš„å°±æ˜¯è¦ä¿æŒå¯¹ä»£ç çš„æ•¬ç•ä¹‹å¿ƒï¼Œä¿æŒè‡ªèº«çš„æ€è€ƒï¼Œæ‰èƒ½è®©æˆ‘ä»¬ä¸æ–­å‘å‰ï¼ˆè¯´è¯éƒ½å˜é­”æ€”äº†..ï¼‰ ä¸‰ã€ä»£ç ä¹‹å¤– æ¯ä¸ªäººéƒ½èƒ½å†™å‡ºå¥½çš„ä»£ç è¿™å°±æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„è¯é¢˜äº†ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆå‡ ä¸ªè§’åº¦æ¥æ€è€ƒï¼š å¥½çš„ä»£ç æ˜¯å†™å‡ºæ¥çš„å—ï¼Ÿï¼ˆè¿™å¯èƒ½æœ‰ç‚¹ç±»ä¼¼äºå¥½çš„æ–‡ç« æ˜¯å†™å‡ºæ¥çš„å—ï¼Ÿï¼‰ ä¸ºä»€ä¹ˆæˆ‘ä»¬å†™ä¸å‡ºå¥½çš„ä»£ç ï¼Ÿ æˆ‘è®°å¾—ä¹‹å‰åœ¨çœ‹ã€Šé‡æ„:æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹è¿™æœ¬è€ç»å…¸çš„ä¹¦çš„æ—¶å€™ï¼Œå°±æåˆ°ä¸€ç§è§‚ç‚¹è¯´ï¼šã€Œé‡æ„ä¸æ˜¯ä¸€ä¸ªä¸€è¹´è€Œå°±çš„äº‹ï¼Œéœ€è¦é•¿æœŸçš„å®è·µå’Œç»éªŒæ‰èƒ½å¤Ÿå®Œæˆå¾—å¾ˆå¥½ã€‚é‡æ„å¼ºè°ƒçš„æ˜¯ Be Betterï¼Œé‚£åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬é¦–å…ˆéœ€è¦å…ˆåŠ¨èµ·æ‰‹æ¥æ­å»ºæˆ‘ä»¬çš„ç³»ç»Ÿï¼Œè€Œä¸è¦ä¸€å‘³åœ°â€œå®Œç¾ä¸»ä¹‰â€ã€‚ã€ å¥½çš„ä»£ç ä¹Ÿæ˜¯è¿™æ ·ï¼Œéœ€è¦ä¸€ä¸ªå¾ªåºæ¸è¿›çš„è¿‡ç¨‹ï¼Œè™½ç„¶å¤§éƒ¨åˆ†æ—¶å€™ï¼Œç»éªŒå¯ä»¥è®©æˆ‘ä»¬å°‘èµ°è®¸å¤šå¼¯è·¯ï¼Œä½†è¿™äº›éƒ½æ˜¯ä¸€ä¸ªè¿‡ç¨‹ã€‚ å½“ç„¶ä¸Šé¢æ‰€è¯´çš„å…¨éƒ¨ï¼Œéƒ½æ˜¯ç†æƒ³ä¸­çš„çŠ¶å†µï¼Œè€Œç°å®ä¸­çš„æƒ…å†µå¾€å¾€ä¸å…è®¸æˆ‘ä»¬è¿™æ ·åšã€‚ä»€ä¹ˆä¹‹å‰ç‚’èµ·æ¥çš„ 996ï¼Œä»€ä¹ˆ ICUï¼Œéƒ½æ— æƒ…çš„æ­ç¤ºç€å¤§éƒ¨åˆ†ç¨‹åºå‘˜çš„ç°çŠ¶ï¼šå¿™ã€‚å¿™äºå„ç§å·²ç»å †æˆå±±çš„éœ€æ±‚ &amp;&amp; ä¿®å¤å„ç§ BUG ä¸­ã€‚ æˆ‘å­¦åˆ°ä¸€ä¸ªå¾ˆæ­£ç»çš„æ¦‚å¿µï¼Œå«åšã€Œç®¡çª¥ã€ï¼Œé™„å¸¦çš„ä¸€ç§æ¦‚å¿µå«åšã€Œç¨€ç¼ºã€ã€‚ï¼ˆçœ‹å®Œä¸‹é¢è¿™ä¸ªæ•…äº‹åº”è¯¥å¾ˆå®¹æ˜“ç†è§£ï¼Œæ•…è¿™é‡Œä¸ä½œè§£é‡Š..ï¼‰ æˆ‘è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æŠ¥é“ï¼Œè¯´æ˜¯é¦™æ¸¯æŸå¯Œè±ªåœ¨èŠ‚ç›®ä¸­è¦ä½“éªŒå‡ å¤©ç¯å«å·¥äººï¼Œå‚åŠ èŠ‚ç›®å‰ï¼Œä»–æ›¾è¯´è¿‡ï¼šâ€œæˆ‘çš„äººç”Ÿå…¶å®æ²¡æœ‰å¾ˆå¤šæ—¶é—´åä¸‹æ¥ï¼Œæƒ³æƒ³ç°åœ¨çš„ç”Ÿæ´»ä¸é”™ï¼Œäº«å—ä¸€ä¸‹ã€‚æˆ‘æœ‰æ—¶é—´å°±ä¼šè®¡åˆ’ä¸‹ä¸€æ­¥ï¼â€ å¯å‡ å¤©ä¸‹æ¥ï¼Œè®©ä»–æœ€çº ç»“çš„ç«Ÿç„¶æ˜¯åƒé¥­é—®é¢˜ï¼Œä»–å¯¹ç€é•œå¤´è¯´ï¼šâ€œå¾ˆå¥‡æ€ªï¼Œæˆ‘è¿™ä¸¤å¤©åªæ˜¯è€ƒè™‘åƒä¸œè¥¿ï¼Œå®Œå…¨æ²¡ä»€ä¹ˆç›¼æœ›ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³ã€‚æˆ‘åŠªåŠ›å·¥ä½œï¼Œå°±æ˜¯å¸Œæœ›åƒä¸€é¡¿å¥½çš„ã€‚â€ ç¨‹åºå‘˜æ˜¯ä¸€ç§å¾ˆå®¹æ˜“é™·å…¥ï¼Œå¯¹äºæ—¶é—´ã€Œç¨€ç¼ºã€çŠ¶æ€çš„ç‰©ç§ã€‚ç¨€ç¼ºä¼šä¿˜è·æˆ‘ä»¬çš„æ³¨æ„åŠ›ï¼Œå¹¶å¸¦æ¥ä¸€ç‚¹ç‚¹å¥½å¤„ï¼šæˆ‘ä»¬èƒ½å¤Ÿåœ¨åº”å¯¹è¿«åˆ‡éœ€æ±‚æ—¶ï¼Œåšå¾—æ›´å¥½ã€‚ä½†ä»é•¿è¿œçš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬çš„æŸå¤±æ›´å¤§ï¼šæˆ‘ä»¬ä¼šå¿½è§†å…¶ä»–éœ€è¦å…³æ³¨çš„äº‹é¡¹ï¼Œåœ¨ç”Ÿæ´»çš„å…¶ä»–æ–¹é¢å˜å¾—ä¸é‚£ä¹ˆæœ‰æˆæ•ˆã€‚ï¼ˆæ‘˜è‡ªã€Šç¨€ç¼ºã€‹P17ï¼‰ è¿™å¬ä¸Šå»å°±åƒæ˜¯åœ¨æ‰¾å€Ÿå£ä¸€æ ·ï¼Œä½†å…¶å®æœ‰ç‚¹å·®åˆ«ã€‚æˆ‘å‘è§‰æ¯ä¸ªäººå…¶å®éƒ½èƒ½å¤Ÿå†™å‡ºå¥½çš„ä»£ç ï¼Œåªæ˜¯å–å†³äºä½ æœ‰æ²¡æœ‰è¿™æ ·çš„æ„è¯†ï¼Œæœ‰æ²¡æœ‰åšæŒè‡ªå·±çš„æ€è€ƒï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæœ‰æ²¡æœ‰ã€Œè·³å‡ºéœ€æ±‚ã€ï¼Œç”šè‡³æ˜¯ã€Œè·³å‡ºå·¥ä½œã€ä¹‹å¤–æ¥æ€è€ƒï¼Œå°±åƒæ˜¯è¦è·³å‡ºã€Œæˆ‘ä»¬æ˜æ˜çŸ¥é“äº†å¾ˆå¤šé“ç†ï¼Œå´ä¾ç„¶è¿‡ä¸å¥½è¿™ä¸€ç”Ÿã€çš„æ€ªåœˆä¸€æ ·ã€‚ ç»“å°¾ è¿™ä¸€æ®µæ—¶é—´éƒ½ä¸æ€ä¹ˆæ›´æ–°äº†ï¼Œä¸æ˜¯æˆ‘å˜æ‡’äº†.. å‰æ®µæ—¶é—´å°±é™·å…¥äº†ä¸åŠ ç­å°±å®Œæˆä¸äº†å·¥ä½œçš„çŠ¶æ€ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºäº‹æƒ…æ¯”è¾ƒæ‚.. å¦å¤–ä¸€æ–¹é¢å°±æ˜¯è‡ªå·±æ•ˆç‡è¿˜ä¸å¤Ÿé«˜.. ï¼ˆæ‚„æ‚„è¯´ï¼šè™½ç„¶å¾ˆå¿™ï¼Œä½†æ˜¯æ€»æ˜¯èƒ½æŠ½å¾—å‡ºæ—¶é—´ç©å„¿æ‰‹æœº hhhhâ€¦ï¼‰å€¼å¾—åæ€å§.. æœ€è¿‘ä¹Ÿå¼€å§‹æœ‰ä¸€äº›è§‰å¾—è¶Šæ¥è¶Šéš¾ä¸‹ç¬”äº†.. æƒ³å†™çš„ä¸œè¥¿å¾ˆå¤šï¼Œä½†æ€»æ€•å†™ä¸å¥½.. å¦å¤–ï¼Œç¨‹åºå‘˜çœŸçš„æ˜¯å¾ˆæœ‰æ„æ€çš„èŒä½äº†ï¼Œå¹¶ä¸”ä¹Ÿè§‰å¾—ç¨‹åºå‘˜éƒ½å¤šå°‘å¸¦ç€ç‚¹å„¿è‡ªå·±çš„éª„å‚²æ¥å¾—ï¼Œå› ä¸ºæ¯å¤©éƒ½åœ¨è‡ªå·±çš„ä¸–ç•Œç©å„¿æ‹¼å›¾ï¼Œè‡ªå·±å°±æ˜¯ä¸–ç•Œçš„é€ ç‰©ä¸»ï¼Œä¹…äº†ï¼Œéš¾å…æœ‰äº›å—å½±å“..ï¼ˆä¸»è¦ä½“ç°åœ¨æ²Ÿé€šä¸Š..ï¼‰ æ‘.. æ€»ä¹‹è¿™æ˜¯ä¸€æœ¬å¾ˆå¥½çš„ä¹¦ï¼Œå»ºè®®æ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥æºœä¸€éã€‚ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693é’±","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java8æµæ“ä½œ-åŸºæœ¬ä½¿ç”¨&æ€§èƒ½æµ‹è¯•","slug":"Java8æµæ“ä½œ-åŸºæœ¬ä½¿ç”¨-æ€§èƒ½æµ‹è¯•","date":"2019-08-03T11:50:00.000Z","updated":"2020-08-03T09:41:36.495Z","comments":true,"path":"2019/08/03/java8-liu-cao-zuo-ji-ben-shi-yong-xing-neng-ce-shi/","link":"","permalink":"http://www.wmyskxz.com/2019/08/03/java8-liu-cao-zuo-ji-ben-shi-yong-xing-neng-ce-shi/","excerpt":"","text":"ä¸ºè·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨ ä¸€ã€æµ(Stream)ç®€ä»‹ æµæ˜¯ Java8 ä¸­ API çš„æ–°æˆå‘˜ï¼Œå®ƒå…è®¸ä½ ä»¥å£°æ˜å¼çš„æ–¹å¼å¤„ç†æ•°æ®é›†åˆï¼ˆé€šè¿‡æŸ¥è¯¢è¯­å¥æ¥è¡¨è¾¾ï¼Œè€Œä¸æ˜¯ä¸´æ—¶ç¼–å†™ä¸€ä¸ªå®ç°ï¼‰ã€‚è¿™æœ‰ç‚¹å„¿åƒæ˜¯æˆ‘ä»¬æ“ä½œæ•°æ®åº“ä¸€æ ·ï¼Œä¾‹å¦‚æˆ‘æƒ³è¦æŸ¥è¯¢å‡ºçƒ­é‡è¾ƒä½çš„èœå“åå­—æˆ‘å°±å¯ä»¥åƒä¸‹é¢è¿™æ ·ï¼š SELECT name FROM dishes WHERE calorie &lt; 400; æ‚¨çœ‹ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹èœå“çš„ä»€ä¹ˆå±æ€§è¿›è¡Œç­›é€‰ï¼ˆæ¯”å¦‚åƒä¹‹å‰ä½¿ç”¨è¿­ä»£å™¨ä¸€æ ·æ¯ä¸ªåšåˆ¤æ–­ï¼‰ï¼Œæˆ‘ä»¬åªæ˜¯è¡¨è¾¾äº†æˆ‘ä»¬æƒ³è¦ä»€ä¹ˆã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆåˆ°äº† Java çš„é›†åˆä¸­ï¼Œè¿™æ ·åšå°±ä¸è¡Œäº†å‘¢ï¼Ÿ å¦å¤–ä¸€ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¤„ç†å¤§é‡çš„æ•°æ®åˆè¯¥æ€ä¹ˆåŠï¼Ÿæ˜¯å¦æ˜¯è€ƒè™‘ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œå¹¶å‘å¤„ç†å‘¢ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¯èƒ½ç¼–å†™çš„å…³äºå¹¶å‘çš„ä»£ç æ¯”ä½¿ç”¨è¿­ä»£å™¨æœ¬èº«æ›´åŠ çš„å¤æ‚ï¼Œè€Œä¸”è°ƒè¯•èµ·æ¥ä¹Ÿä¼šå˜å¾—éº»çƒ¦ã€‚ åŸºäºä»¥ä¸Šçš„å‡ ç‚¹è€ƒè™‘ï¼ŒJava è®¾è®¡è€…åœ¨ Java 8 ç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥äº†æµçš„æ¦‚å¿µï¼Œæ¥å¸®åŠ©æ‚¨èŠ‚çº¦æ—¶é—´ï¼å¹¶ä¸”æœ‰äº† lambda çš„å‚ä¸ï¼Œæµæ“ä½œçš„ä½¿ç”¨å°†æ›´åŠ é¡ºç•…ï¼ ç‰¹ç‚¹ä¸€ï¼šå†…éƒ¨è¿­ä»£å°±ç°åœ¨æ¥è¯´ï¼Œæ‚¨å¯ä»¥æŠŠå®ƒç®€å•çš„å½“æˆä¸€ç§é«˜çº§çš„è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œæˆ–è€…æ˜¯é«˜çº§çš„ for å¾ªç¯ï¼ŒåŒºåˆ«åœ¨äºï¼Œå‰é¢ä¸¤è€…éƒ½æ˜¯å±äºå¤–éƒ¨è¿­ä»£ï¼Œè€Œæµé‡‡ç”¨å†…éƒ¨è¿­ä»£ã€‚ ä¸Šå›¾ç®€è¦è¯´æ˜äº†å†…éƒ¨è¿­ä»£ä¸å¤–éƒ¨è¿­ä»£çš„å·®å¼‚ï¼Œæˆ‘ä»¬å†ä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­å®é™…çš„ä¾‹å­ï¼ˆå¼•è‡ªã€ŠJava 8 å®æˆ˜ã€‹ï¼‰ï¼Œæ¯”å¦‚æ‚¨æƒ³è®©æ‚¨ä¸¤å²çš„å­©å­ç´¢è²äºšæŠŠå¥¹çš„ç©å…·éƒ½æ”¶åˆ°ç›’å­é‡Œé¢å»ï¼Œä½ ä»¬ä¹‹é—´å¯èƒ½ä¼šäº§ç”Ÿå¦‚ä¸‹çš„å¯¹è¯ï¼š ä½ ï¼šâ€œç´¢è²äºšï¼Œæˆ‘ä»¬æŠŠç©å…·æ”¶èµ·æ¥å§ï¼Œåœ°ä¸Šè¿˜æœ‰ç©å…·å—ï¼Ÿâ€ ç´¢è²äºšï¼šâ€œæœ‰ï¼Œçƒã€‚â€ ä½ ï¼šâ€œå¥½ï¼ŒæŠŠçƒæ”¾è¿›ç›’å­é‡Œé¢å§ï¼Œè¿˜æœ‰å—ï¼Ÿâ€ ç´¢è²äºšï¼šâ€œæœ‰ï¼Œé‚£æ˜¯æˆ‘çš„å¨ƒå¨ƒã€‚â€ ä½ ï¼šâ€œå¥½ï¼ŒæŠŠå¨ƒå¨ƒä¹Ÿæ”¾è¿›å»å§ï¼Œè¿˜æœ‰å—ï¼Ÿâ€ ç´¢è²äºšï¼šâ€œæœ‰ï¼Œæœ‰æˆ‘çš„ä¹¦ã€‚â€ ä½ ï¼šâ€œå¥½ï¼ŒæŠŠä¹¦ä¹Ÿæ”¾è¿›å»ï¼Œè¿˜æœ‰å—ï¼Ÿâ€ ç´¢è²äºšï¼šâ€œæ²¡æœ‰äº†ã€‚â€ ä½ ï¼šâ€œå¥½ï¼Œæˆ‘ä»¬æ”¶å¥½å•¦ã€‚â€ è¿™æ­£æ˜¯ä½ æ¯å¤©éƒ½è¦å¯¹ Java é›†åˆåšçš„äº‹æƒ…ã€‚ä½ å¤–éƒ¨è¿­ä»£äº†ä¸€ä¸ªé›†åˆï¼Œæ˜¾å¼åœ°å–å‡ºæ¯ä¸ªé¡¹ç›®å†åŠ ä»¥å¤„ç†ï¼Œä½†æ˜¯å¦‚æœä½ åªæ˜¯è·Ÿç´¢è²äºšè¯´ï¼šâ€œæŠŠåœ°ä¸Šæ‰€æœ‰ç©å…·éƒ½æ”¾è¿›ç›’å­é‡Œâ€ï¼Œé‚£ä¹ˆç´¢è²äºšå°±å¯ä»¥é€‰æ‹©ä¸€æ‰‹æ‹¿å¨ƒå¨ƒä¸€æ‰‹æ‹¿çƒï¼Œæˆ–æ˜¯é€‰æ‹©å…ˆæ‹¿ç¦»ç›’å­æœ€è¿‘çš„é‚£ä¸ªä¸œè¥¿ï¼Œå†æ‹¿å…¶ä»–çš„ä¸œè¥¿ã€‚ é‡‡ç”¨å†…éƒ¨è¿­ä»£ï¼Œé¡¹ç›®å¯ä»¥é€æ˜åœ°å¹¶è¡Œå¤„ç†ï¼Œæˆ–è€…ç”¨ä¼˜åŒ–çš„é¡ºåºè¿›è¡Œå¤„ç†ï¼Œè¦æ˜¯ä½¿ç”¨ Java è¿‡å»çš„å¤–éƒ¨è¿­ä»£æ–¹æ³•ï¼Œè¿™äº›ä¼˜åŒ–éƒ½æ˜¯å¾ˆå›°éš¾çš„ã€‚ è¿™æˆ–è®¸æœ‰ç‚¹é¸¡è›‹é‡ŒæŒ‘éª¨å¤´ï¼Œä½†è¿™å·®ä¸å¤šå°±æ˜¯ Java 8 å¼•å…¥æµçš„åŸå› äº†â€”â€”Streams åº“çš„å†…éƒ¨è¿­ä»£å¯ä»¥è‡ªåŠ¨é€‰æ‹©ä¸€ç§æ˜¯å’Œä½ ç¡¬ä»¶çš„æ•°æ®è¡¨ç¤ºå’Œå¹¶è¡Œå®ç°ã€‚ ç‰¹ç‚¹äºŒï¼šåªèƒ½éå†ä¸€æ¬¡è¯·æ³¨æ„ï¼Œå’Œè¿­ä»£å™¨ä¸€æ ·ï¼Œæµåªèƒ½éå†ä¸€æ¬¡ã€‚å½“æµéå†å®Œä¹‹åï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸ªæµå·²ç»è¢«æ¶ˆè´¹æ‰äº†ï¼Œä½ å¯ä»¥ä»åŸå§‹æ•°æ®é‚£é‡Œé‡æ–°è·å¾—ä¸€æ¡æ–°çš„æµï¼Œä½†æ˜¯å´ä¸å…è®¸æ¶ˆè´¹å·²æ¶ˆè´¹æ‰çš„æµã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç å°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè¯´æµå·²è¢«æ¶ˆè´¹æ‰äº†ï¼š List&lt;String> title = Arrays.asList(\"Wmyskxz\", \"Is\", \"Learning\", \"Java8\", \"In\", \"Action\"); Stream&lt;String> s = title.stream(); s.forEach(System.out::println); s.forEach(System.out::println); // è¿è¡Œä¸Šé¢ç¨‹åºä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ /* Exception in thread \"main\" java.lang.IllegalStateException: stream has already been operated upon or closed at java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279) at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) at Test1.main(Tester.java:17) */ ç‰¹ç‚¹ä¸‰ï¼šæ–¹ä¾¿çš„å¹¶è¡Œå¤„ç†Java 8 ä¸­ä¸ä»…æä¾›äº†æ–¹ä¾¿çš„ä¸€äº›æµæ“ä½œï¼ˆæ¯”å¦‚è¿‡æ»¤ã€æ’åºä¹‹ç±»çš„ï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯å¯¹äºå¹¶è¡Œå¤„ç†æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œåªéœ€è¦åŠ ä¸Š .parallel() å°±è¡Œäº†ï¼ä¾‹å¦‚æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢ç¨‹åºæ¥è¯´æ˜ä¸€ä¸‹å¤šçº¿ç¨‹æµæ“ä½œçš„æ–¹ä¾¿å’Œå¿«æ·ï¼Œå¹¶ä¸”ä¸å•çº¿ç¨‹åšäº†ä¸€ä¸‹å¯¹æ¯”ï¼š public class StreamParallelDemo { /** æ€»æ•° */ private static int total = 100_000_000; public static void main(String[] args) { System.out.println(String.format(\"æœ¬è®¡ç®—æœºçš„æ ¸æ•°ï¼š%d\", Runtime.getRuntime().availableProcessors())); // äº§ç”Ÿ1000wä¸ªéšæœºæ•°(1 ~ 100)ï¼Œç»„æˆåˆ—è¡¨ Random random = new Random(); List&lt;Integer> list = new ArrayList&lt;>(total); for (int i = 0; i &lt; total; i++) { list.add(random.nextInt(100)); } long prevTime = getCurrentTime(); list.stream().reduce((a, b) -> a + b).ifPresent(System.out::println); System.out.println(String.format(\"å•çº¿ç¨‹è®¡ç®—è€—æ—¶ï¼š%d\", getCurrentTime() - prevTime)); prevTime = getCurrentTime(); // åªéœ€è¦åŠ ä¸Š .parallel() å°±è¡Œäº† list.stream().parallel().reduce((a, b) -> a + b).ifPresent(System.out::println); System.out.println(String.format(\"å¤šçº¿ç¨‹è®¡ç®—è€—æ—¶ï¼š%d\", getCurrentTime() - prevTime)); } private static long getCurrentTime() { return System.currentTimeMillis(); } } ä»¥ä¸Šç¨‹åºåˆ†åˆ«ä½¿ç”¨äº†å•çº¿ç¨‹æµå’Œå¤šçº¿ç¨‹æµè®¡ç®—äº†ä¸€åƒä¸‡ä¸ªéšæœºæ•°çš„å’Œï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š æœ¬è®¡ç®—æœºçš„æ ¸æ•°ï¼š8655028378å•çº¿ç¨‹è®¡ç®—è€—æ—¶ï¼š4159655028378å¤šçº¿ç¨‹è®¡ç®—è€—æ—¶ï¼š540 å¹¶è¡Œæµçš„å†…éƒ¨ä½¿ç”¨äº†é»˜è®¤çš„ ForkJoinPool åˆ†æ”¯/åˆå¹¶æ¡†æ¶ï¼Œå®ƒçš„é»˜è®¤çº¿ç¨‹æ•°é‡å°±æ˜¯ä½ çš„å¤„ç†å™¨æ•°é‡ï¼Œè¿™ä¸ªå€¼æ˜¯ç”± Runtime.getRuntime().availableProcessors() å¾—åˆ°çš„ï¼ˆå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å…¨å±€è®¾ç½®è¿™ä¸ªå€¼ï¼‰ã€‚æˆ‘ä»¬ä¹Ÿä¸å†å»è¿‡åº¦çš„æ“å¿ƒåŠ é”çº¿ç¨‹å®‰å…¨ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚ äºŒã€æµåŸºæœ¬æ“ä½œ è‡³å°‘æˆ‘ä»¬ä»ä¸Šé¢äº†è§£åˆ°äº†ï¼Œæµæ“ä½œä¼¼ä¹æ˜¯ä¸€ç§å¾ˆå¼ºå¤§çš„å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬èŠ‚çº¦æˆ‘ä»¬æ—¶é—´çš„åŒæ—¶è®©æˆ‘ä»¬ç¨‹åºå¯è¯»æ€§æ›´é«˜ï¼Œä¸‹é¢æˆ‘ä»¬å°±å…·ä½“çš„æ¥äº†è§£ä¸€ä¸‹ Java 8 å¸¦æ¥çš„æ–° API Streamï¼Œèƒ½ç»™æˆ‘ä»¬å¸¦æ¥å“ªäº›æ“ä½œã€‚ 1ã€ç­›é€‰å’Œåˆ‡ç‰‡filterStream æ¥å£æ”¯æŒ filter æ–¹æ³•ï¼Œè¯¥æ“ä½œä¼šæ¥å—ä¸€ä¸ªè¿”å› boolean çš„å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç¬¦åˆè¯¥æ¡ä»¶çš„æµã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·é€‰å‡ºæ‰€æœ‰ä»¥å­—æ¯ w å¼€å¤´çš„å•è¯å¹¶æ‰“å°ï¼š List&lt;String> words = Arrays.asList(\"wmyskxz\", \"say\", \"wow\", \"to\", \"everybody\"); words.stream() .filter(word -> word.startsWith(\"w\")) .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // wmyskxz // wow è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼ä¸‹å›¾ï¼š å½“ç„¶å¦‚æœæ‚¨ä¸æ˜¯æƒ³è¦è¾“å‡ºè€Œæ˜¯æƒ³è¦è¿”å›ä¸€ä¸ªé›†åˆï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ .collect(toList())ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š List&lt;String> words = Arrays.asList(\"wmyskxz\", \"say\", \"wow\", \"to\", \"everybody\"); List&lt;String> filteredWords = words.stream() .filter(word -> word.startsWith(\"w\")) .collect(Collectors.toList()); distinctæµè¿˜æ”¯æŒä¸€ä¸ªå«åš distinct çš„æ–¹æ³•ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå…ƒç´ å„å¼‚ï¼ˆæ ¹æ®æµæ‰€ç”Ÿæˆçš„å…ƒç´ çš„ hashCode å’Œ equals æ–¹æ³•å®ç°ï¼‰çš„æµã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä¼šç­›é€‰å‡ºåˆ—è¡¨ä¸­æ‰€æœ‰çš„å¶æ•°ï¼Œå¹¶ç¡®ä¿æ²¡æœ‰é‡å¤ï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 1, 3, 2, 1, 3, 4); numbers.stream() .filter(integer -> integer % 2 == 0) .distinct() .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // 2 // 4 limitæµæ”¯æŒ limit(n) æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªä¸è¶…è¿‡ç»™å®šé•¿åº¦çš„æµï¼Œæ‰€éœ€é•¿åº¦éœ€è¦ä½œä¸ºå‚æ•°ä¼ é€’ç»™ limitã€‚å¦‚æœæµæ˜¯æœ‰åºçš„ï¼Œåˆ™æœ€å¤šä¼šè¿”å›å‰ n ä¸ªå…ƒç´ ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥å»ºç«‹ä¸€ä¸ª Listï¼Œé€‰å‡ºå‰ 3 ä¸ªå…ƒç´ ï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8); numbers.stream() .filter(integer -> integer % 2 == 0) .limit(3) .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // 2 // 4 // 6 è¯·æ³¨æ„è™½ç„¶ä¸Šè¿°çš„é›†åˆæ˜¯æœ‰åºçš„ï¼Œä½† limit æœ¬èº«å¹¶ä¸ä¼šåšä»»ä½•æ’åºçš„æ“ä½œã€‚ skipæµè¿˜æ”¯æŒ skip(n) æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰ n ä¸ªå…ƒç´ çš„æµã€‚å¦‚æœæµä¸­å…ƒç´ ä¸è¶³ n ä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµã€‚è¯·æ³¨æ„ litmit å’Œ skip æ˜¯äº’è¡¥çš„ï¼ä¾‹å¦‚ï¼Œä¸‹é¢è¿™æ®µç¨‹åºï¼Œé€‰å‡ºäº†æ‰€æœ‰çš„å¶æ•°å¹¶è·³è¿‡äº†å‰ä¸¤ä¸ªè¾“å‡ºï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8); numbers.stream() .filter(integer -> integer % 2 == 0) .skip(2) .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // 6 // 8 2ã€æ˜ å°„ä¸€ä¸ªéå¸¸å¸¸è§çš„æ•°æ®å¤„ç†å¥—è·¯å°±æ˜¯ä»æŸäº›å¯¹è±¡ä¸­é€‰æ‹©ä¿¡æ¯ã€‚æ¯”å¦‚åœ¨ SQL é‡Œï¼Œä½ å¯ä»¥ä»è¡¨ä¸­é€‰æ‹©ä¸€åˆ—ï¼ŒStream API ä¹Ÿé€šè¿‡ map å’Œ flatMap æ–¹æ³•æä¾›äº†ç±»ä¼¼çš„å·¥å…·ã€‚ mapæµæ”¯æŒ map æ–¹æ³•ï¼Œä»–ä¼šæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ èº«ä¸Šå—ï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æŠŠæ–¹æ³•å¼•ç”¨ Words::getContent ä¼ ç»™äº† map æ–¹æ³•ï¼Œæ¥æå–æµä¸­ Words çš„å…·ä½“å†…å®¹ï¼š public static void main(String[] args) { List&lt;Words> numbers = Arrays.asList(new Words(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"), new Words(\"å…¬ä¼—å·\"), new Words(\"wmyskxz\")); numbers.stream() .map(Words::getContent) .forEach(System.out::println); } @Data @AllArgsConstructor private static class Words { private String content; } // ==============è¾“å‡ºï¼š=============== // æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ // å…¬ä¼—å· // wmyskxz ä½†æ˜¯å¦‚æœä½ ç°åœ¨åªæƒ³è¦æ‰¾å‡ºæ¯ä¸ª Words å…·ä½“å†…å®¹çš„é•¿åº¦åˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å†è¿›è¡Œä¸€æ¬¡æ˜ å°„ï¼š public static void main(String[] args) { List&lt;Words> numbers = Arrays.asList(new Words(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"), new Words(\"å…¬ä¼—å·\"), new Words(\"wmyskxz\")); numbers.stream() .map(Words::getWords) .map(String::length) .forEach(System.out::println); } @Data @AllArgsConstructor private static class Words { private String words; } // ==============è¾“å‡ºï¼š=============== // 7 // 3 // 7 flatMapï¼šæµçš„æ‰å¹³åŒ–ä½ å·²ç»çœ‹åˆ°æˆ‘ä»¬æ˜¯å¦‚ä½•ä½¿ç”¨ map æ–¹æ³•æ¥è¿”å›æ¯ä¸ª Words çš„å…·ä½“é•¿åº¦äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥æ‰©å±•ä¸€ä¸‹ï¼šå¯¹äºä¸€ä¸ª Words é›†åˆï¼Œæˆ‘éœ€è¦çŸ¥é“è¿™ä¸ªé›†åˆé‡Œä¸€å…±æœ‰å¤šå°‘ä¸ªä¸ç›¸åŒçš„å­—ç¬¦å‘¢ï¼Ÿä¾‹å¦‚ï¼Œç»™å®šå•è¯åˆ—è¡¨ä¸ºï¼š[â€œHelloâ€, â€œWorldâ€]ï¼Œåˆ™éœ€è¦è¿”å›çš„åˆ—è¡¨æ˜¯ï¼š[â€œHâ€, â€œeâ€, â€œlâ€, â€œoâ€, â€œWâ€, â€œrâ€, â€œdâ€]ã€‚ æ‚¨å¯èƒ½ä¼šè§‰å¾—ç®€å•ï¼Œè€Œåå†™ä¸‹ä¸‹åˆ—é”™è¯¯çš„ç¬¬ä¸€ç‰ˆæœ¬ï¼š List&lt;String> words = Arrays.asList(\"Hello\", \"World\"); words.stream() .map(s -> s.split(\"\")) .distinct() .collect(Collectors.toList()) .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // [Ljava.lang.String;@238e0d81 // [Ljava.lang.String;@31221be2 ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè¿™ä¸ªæ–¹æ³•çš„é—®é¢˜è‡ªå‚²ä¸ï¼Œä¼ é€’ç»™ map æ–¹æ³•çš„ lambda è¡¨è¾¾å¼ä¸ºæ¯ä¸ªå•è¯è¿”å›äº†ä¸€ä¸ª String[]ï¼Œæ‰€ä»¥ç»è¿‡ map æ–¹æ³•ä¹‹åè¿”å›çš„æµå°±ä¸æ˜¯æˆ‘ä»¬é¢„æƒ³çš„ Stream&lt;String&gt;ï¼Œè€Œæ˜¯ Stream&lt;String[]&gt;ï¼Œä¸‹å›¾å°±è¯´æ˜äº†è¿™ä¸ªé—®é¢˜ï¼š å¹¸å¥½æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ flatMap æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š List&lt;String> words = Arrays.asList(\"Hello\", \"World\"); words.stream() .map(s -> s.split(\"\")) .flatMap(Arrays::stream) .distinct() .collect(Collectors.toList()) .forEach(System.out::println); // ==============è¾“å‡ºï¼š=============== // H // e // l // o // W // r // d ä½¿ç”¨ flatMap æ–¹æ³•çš„æ•ˆæœæ˜¯ï¼Œå„ä¸ªæ•°ç»„å¹¶ä¸æ˜¯åˆ†åˆ«æ˜ å°„æˆä¸€ä¸ªæµï¼Œè€Œæ˜¯æ˜ å°„æˆæµçš„å†…å®¹ã€‚ä¸€è¨€è”½ä¹‹å°±æ˜¯ flatMap è®©ä½ ä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå€¼éƒ½è½¬æ¢æˆå¦ä¸€ä¸ªå…­ï¼Œç„¶åæŠŠæ‰€æœ‰çš„æµè¿æ¥èµ·æ¥æˆä¸ºä¸€ä¸ªæµï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š 3ã€æŸ¥æ‰¾å’ŒåŒ¹é…å¦ä¸€ä¸ªå¸¸è§çš„æ•°æ®å¤„ç†å¥—è·¯æ˜¯çœ‹çœ‹æ•°æ®é›†ä¸­çš„æŸäº›å…ƒç´ æ˜¯å¦åŒ¹é…ä¸€ä¸ªç»™å®šçš„å±æ€§ï¼ŒStream API é€šè¿‡ allMatchã€anyMatchã€noneMatchã€findFirst å’Œ findAny æ–¹æ³•æä¾›äº†è¿™æ ·çš„å·¥å…·(å…¶å®åˆ°è¿™é‡Œçœ‹åå­—å°±ä¼šå¤§æ¦‚èƒ½å¤ŸçŸ¥é“æ€ä¹ˆä½¿ç”¨äº†)ã€‚ æˆ‘ä»¬ç®€å•çš„ä¸¾ä¸¤ä¸ªä¾‹å­å°±å¥½ã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥çœ‹çœ‹é›†åˆé‡Œé¢æ˜¯å¦æœ‰å¶æ•°ï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3); if (numbers.stream().anyMatch(i -> i % 2 == 0)) { System.out.println(\"é›†åˆé‡Œæœ‰å¶æ•°!\"); } å†æ¯”å¦‚ï¼Œä½ å¯ä»¥ç”¨æ¥å®ƒæ¥æ£€éªŒæ˜¯å¦é›†åˆé‡Œéƒ½ä¸ºå¶æ•°ï¼š List&lt;Integer> numbers = Arrays.asList(2, 2, 4); if (numbers.stream().allMatch(i -> i % 2 == 0)) { System.out.println(\"é›†åˆé‡Œå…¨æ˜¯å¶æ•°!\"); } å†æˆ–è€…ï¼Œç»™å®šä¸€ä¸ªæ•°å­—åˆ—è¡¨ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªå¹³æ–¹èƒ½è¢« 3 æ•´é™¤çš„æ•°ï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7); Optional&lt;Integer> firstSquareDivisibledByThree = numbers.stream() .map(x -> x * x) .filter(x -> x % 3 == 0) .findFirst(); System.out.println(firstSquareDivisibledByThree.get()); // ==============è¾“å‡ºï¼š=============== // 9 Optional ç®€ä»‹ï¼šOptional&lt;T&gt; ç±»æ˜¯ java.util.Optional åŒ…é‡Œçš„ä¸€ä¸ªå®¹å™¨ç±»ï¼Œä»£è¡¨ä¸€ä¸ªå€¼å­˜åœ¨æˆ–è€…ä¸å­˜åœ¨ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒfindFirst() å¯èƒ½ä»€ä¹ˆå…ƒç´ éƒ½æ‰¾ä¸åˆ°ï¼ŒJava 8 çš„è®¾è®¡äººå‘˜å¼•å…¥äº† Optional&lt;T&gt;ï¼Œè¿™æ ·å°±ä¸ç”¨è¿”å›ä¼—æ‰€å‘¨çŸ¥å®¹æ˜“å‡ºé—®é¢˜çš„ null äº†ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä¸å¯¹ Optional åšç»†è‡´çš„è®¨è®ºã€‚ 4ã€å½’çº¦ï¼šreduceåˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ è§åˆ°è¿‡çš„ç»ˆç«¯æ“ä½œ(ä¸‹é¢æˆ‘ä»¬ä¼šè¯´åˆ°è¿™äº›æ“ä½œå…¶å®åˆ†ä¸ºä¸­é—´æ“ä½œå’Œç»ˆç«¯æ“ä½œ)éƒ½æ˜¯è¿”å›ä¸€ä¸ª booleanï¼ˆallMatch ä¹‹ç±»çš„ï¼‰ã€voidï¼ˆforEachï¼‰æˆ– Optional å¯¹è±¡ï¼ˆfindFirst ç­‰ï¼‰ã€‚ä½ ä¹Ÿè§åˆ°è¿‡äº†ä½¿ç”¨ collect æ¥å°†æµä¸­çš„æ‰€æœ‰å…ƒç´ åˆå¹¶æˆä¸€ä¸ª Listã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¥è§¦æ›´åŠ å¤æ‚çš„ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚ â€œæŒ‘å‡ºå•è¯ä¸­é•¿åº¦æœ€é•¿çš„çš„å•è¯â€ æˆ–æ˜¯ â€œè®¡ç®—æ‰€æœ‰å•è¯çš„æ€»é•¿åº¦â€ã€‚æ­¤ç±»æŸ¥è¯¢éœ€è¦å°†æµä¸­çš„å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚è¿™æ ·çš„æŸ¥è¯¢å¯ä»¥è¢«å½’ç±»ä¸ºå½’çº¦æ“ä½œï¼ˆå°†æµå½’çº¦æˆä¸€ä¸ªå€¼ï¼‰ã€‚ æ•°ç»„æ±‚å’Œåœ¨ç ”ç©¶ reduce ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨ä¹‹å‰æ˜¯å¦‚ä½•å¯¹ä¸€ä¸ªæ•°å­—æ•°ç»„è¿›è¡Œæ±‚å’Œçš„ï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3, 4, 5); int sum = 0; for (int x : numbers) { sum += x; } System.out.println(sum); // ==============è¾“å‡ºï¼š=============== // 15 numbers ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨åŠ æ³•è¿ç®—ç¬¦åå¤è¿­ä»£æ¥å¾—åˆ°ç»“æœã€‚é€šè¿‡åå¤ä½¿ç”¨åŠ æ³•ï¼Œæˆ‘ä»¬æœ€ç»ˆæŠŠä¸€ä¸ªæ•°å­—åˆ—è¡¨å½’çº¦æˆäº†ä¸€ä¸ªæ•°å­—ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸€å…±ä½¿ç”¨äº†ä¸¤ä¸ªå‚æ•°ï¼š sumï¼šæ€»å’Œå˜é‡çš„åˆå§‹å€¼ï¼Œåœ¨è¿™é‡Œæ˜¯ 0ï¼› xï¼šç”¨äºæ¥å— numbers ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸ sum åšåŠ æ³•æ“ä½œä¸æ–­è¿­ä»£ï¼› è¦æ˜¯è¿˜èƒ½æŠŠæ‰€æœ‰çš„æ•°å­—ç›¸ä¹˜ï¼Œè€Œä¸ç”¨å¤åˆ¶ç²˜è´´è¿™æ®µä»£ç ï¼Œå²‚ä¸æ˜¯å¾ˆå¥½ï¼Ÿè¿™æ­£æ˜¯ reduce æ“ä½œçš„ç”¨æ­¦ä¹‹åœ°ï¼Œå®ƒå¯¹è¿™ç§é‡å¤åº”ç”¨çš„æ¨¡å¼åšäº†æŠ½è±¡ã€‚ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·å¯¹æµä¸­æ‰€æœ‰çš„å…ƒç´ æ±‚å’Œï¼š List&lt;Integer> numbers = Arrays.asList(1, 2, 3, 4, 5); int sum = numbers.stream().reduce(0, (a, b) -> a + b); System.out.println(sum); // ==============è¾“å‡ºï¼š=============== // 15 å…¶ä¸­ reduce æ¥å—äº†ä¸¤ä¸ªå‚æ•°ï¼š ä¸€ä¸ªåˆå§‹å€¼ï¼Œè¿™é‡Œæ˜¯ 0ï¼› ä¸€ä¸ªæ˜¯ BinaryOperator&lt;T&gt; æ¥å°†ä¸¤ä¸ªå…ƒç´ ç»“åˆèµ·æ¥äº§ç”Ÿä¸€ä¸ªæ–°å€¼ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯ lambda (a, b) -&gt; a + bï¼› ä½ ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“æ”¹é€ æˆæ‰€æœ‰å…ƒç´ ç›¸ä¹˜çš„å½¢å¼ï¼Œåªéœ€è¦å°†å¦ä¸€ä¸ª Lambdaï¼š(a, b) -&gt; a * b ä¼ é€’ç»™ reduce å°±å¯ä»¥äº†ï¼š int product = numbers.stream().reduce(0, (a, b) -> a * b); æˆ‘ä»¬å…ˆæ¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹ reduce æ˜¯å¦‚ä½•å¯¹ä¸€ä¸ªæ•°å­—æµè¿›è¡Œæ±‚å’Œçš„ï¼š å¦‚ä¸Šå›¾æ‰€ç¤ºä¸€æ ·çš„ï¼Œreduce æ¯ä¸€æ¬¡éƒ½æŠŠç»“æœè¿”å›å¹¶ä¸ä¸‹ä¸€æ¬¡çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡å½“éå†åˆ°å…ƒç´  1 æ—¶ï¼Œæ­¤æ—¶è¿”å›åˆå§‹å€¼ 0 + 1 = 1ï¼Œç„¶åå†ç”¨æ­¤æ—¶çš„è¿”å›å€¼ 1 ä¸ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œå åŠ æ“ä½œï¼Œå¦‚æ­¤å¾€å¤ï¼Œä¾¿å®Œæˆäº†å¯¹æ•°å­—åˆ—è¡¨çš„æ±‚å’Œè¿ç®—ã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨è®©è¿™æ®µä»£ç æ›´åŠ ç®€æ´ï¼š int sum = numbers.stream().reduce(0, Integer::sum); æ— åˆå§‹å€¼ reduce è¿˜æœ‰ä¸€ä¸ªé‡è½½çš„å˜ä½“ï¼Œå®ƒä¸æ¥å—åˆå§‹å€¼ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ª Optional å¯¹è±¡(è€ƒè™‘åˆ°æµä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ çš„æƒ…å†µ)ï¼š Optional&lt;Integer> sum = numbers.stream().reduce(Integer::sum); æœ€å¤§å€¼å’Œæœ€å°å€¼æœ‰ç‚¹ç±»ä¼¼äºä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ ·çš„ reduce æ¥è®¡ç®—æµä¸­çš„æœ€å¤§å€¼oræœ€å°å€¼ï¼š // æœ€å¤§å€¼ Optional&lt;Integer> max = numbers.stream().reduce(Integer::max); // æœ€å°å€¼ Optional&lt;Integer> max = numbers.stream().reduce(Integer::min); 5ã€ä¸­é—´æ“ä½œå’Œç»“æŸæ“ä½œï¼ˆç»ˆç«¯æ“ä½œï¼‰Stream API ä¸Šçš„æ‰€æœ‰æ“ä½œåˆ†ä¸ºä¸¤ç±»ï¼šä¸­é—´æ“ä½œå’Œç»“æŸæ“ä½œã€‚ä¸­é—´æ“ä½œåªæ˜¯ä¸€ç§æ ‡è®°ï¼Œåªæœ‰ç»“æŸæ“ä½œæ‰ä¼šè§¦å‘å®é™…è®¡ç®—ã€‚ ä¸­é—´æ“ä½œåˆå¯ä»¥åˆ†ä¸ºæ— çŠ¶æ€çš„(Stateless)å’Œæœ‰çŠ¶æ€çš„(Stateful)ï¼Œæ— çŠ¶æ€ä¸­é—´æ“ä½œæ˜¯æŒ‡å…ƒç´ çš„å¤„ç†ä¸å—å‰é¢å…ƒç´ çš„å½±å“ï¼Œè€Œæœ‰çŠ¶æ€çš„ä¸­é—´æ“ä½œå¿…é¡»ç­‰åˆ°æ‰€æœ‰å…ƒç´ å¤„ç†ä¹‹åæ‰çŸ¥é“æœ€ç»ˆç»“æœï¼Œæ¯”å¦‚æ’åºæ˜¯æœ‰çŠ¶æ€æ“ä½œï¼Œåœ¨è¯»å–æ‰€æœ‰å…ƒç´ ä¹‹å‰å¹¶ä¸èƒ½ç¡®å®šæ’åºç»“æœï¼› ç»“æŸæ“ä½œåˆå¯ä»¥åˆ†ä¸ºçŸ­è·¯æ“ä½œå’ŒéçŸ­è·¯æ“ä½œï¼ŒçŸ­è·¯æ“ä½œæ˜¯æŒ‡ä¸ç”¨å¤„ç†å…¨éƒ¨å…ƒç´ å°±å¯ä»¥è¿”å›ç»“æœï¼Œæ¯”å¦‚æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚ä¹‹æ‰€ä»¥è¦è¿›è¡Œå¦‚æ­¤ç²¾ç»†çš„åˆ’åˆ†ï¼Œæ˜¯å› ä¸ºåº•å±‚å¯¹æ¯ä¸€ç§æƒ…å†µçš„å¤„ç†æ–¹å¼ä¸åŒã€‚ ä¸ºäº†æ›´å¥½çš„ç†è§£æµçš„ä¸­é—´æ“ä½œå’Œç»ˆç«¯æ“ä½œï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¸¤æ®µä»£ç æ¥çœ‹ä»–ä»¬çš„æ‰§è¡Œè¿‡ç¨‹ï¼š IntStream.range(1, 10) .peek(x -> System.out.print(\"\\nA\" + x)) .limit(3) .peek(x -> System.out.print(\"B\" + x)) .forEach(x -> System.out.print(\"C\" + x)); // ==============è¾“å‡ºï¼š=============== // A1B1C1 // A2B2C2 // A3B3C3 ä¸­é—´æ“ä½œæ˜¯æ‡’æƒ°çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå¯¹æ•°æ®åšä»»ä½•æ“ä½œï¼Œç›´åˆ°é‡åˆ°äº†ç»“æŸæ“ä½œã€‚è€Œç»“æŸæ“ä½œéƒ½æ˜¯æ¯”è¾ƒçƒ­æƒ…çš„ï¼Œä»–ä»¬ä¼šå›æº¯ä¹‹å‰æ‰€æœ‰çš„ä¸­é—´æ“ä½œã€‚ æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œå½“æ‰§è¡Œåˆ° forEach() çš„æ—¶å€™ï¼Œå®ƒä¼šå›æº¯åˆ°ä¸Šä¸€æ­¥ä¸­é—´æ“ä½œï¼Œå†åˆ°ä¸Šä¸€æ­¥ä¸­é—´æ“ä½œï¼Œå†ä¸Šä¸€æ­¥..ç›´åˆ°ç¬¬ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œçš„ .peek(x -&gt; System.out.println(&quot;\\nA&quot; + x)ï¼Œç„¶åå¼€å§‹è‡ªä¸Šè€Œä¸‹çš„ä¾æ¬¡æ‰§è¡Œï¼Œè¾“å‡ºç¬¬ä¸€è¡Œçš„ A1B1C1ï¼Œç„¶è€Œç¬¬äºŒæ¬¡æ‰§è¡Œ forEach() æ“ä½œçš„æ—¶å€™ç­‰åŒï¼Œä»¥æ­¤ç±»æ¨.. æˆ‘ä»¬å†æ¥çœ‹ç¬¬äºŒæ®µä»£ç ï¼š IntStream.range(1, 10) .peek(x -> System.out.print(\"\\nA\" + x)) .skip(6) .peek(x -> System.out.print(\"B\" + x)) .forEach(x -> System.out.print(\"C\" + x)); // ==============è¾“å‡ºï¼š=============== // A1 // A2 // A3 // A4 // A5 // A6 // A7B7C7 // A8B8C8 // A9B9C9 æ ¹æ®ä¸Šé¢ä»‹ç»çš„è§„åˆ™ï¼ŒåŒæ ·çš„å½“ç¬¬ä¸€æ¬¡æ‰§è¡Œ .forEach() çš„æ—¶å€™ï¼Œä¼šå›æº¯åˆ°ç¬¬ä¸€ä¸ª peek æ“ä½œï¼Œæ‰“å°å‡º A1ï¼Œç„¶åæ‰§è¡Œ skipï¼Œè¿™ä¸ªæ“ä½œçš„æ„æ€å°±æ˜¯è·³è¿‡ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äº for å¾ªç¯é‡Œé¢çš„ continueï¼Œæ‰€ä»¥å‰å…­æ¬¡çš„ forEach() æ“ä½œéƒ½åªä¼šæ‰“å° Aã€‚ è€Œç¬¬ä¸ƒæ¬¡å¼€å§‹ï¼Œskip å¤±æ•ˆä¹‹åï¼Œå°±ä¼šå¼€å§‹åˆ†åˆ«æ‰§è¡Œ .peek() å’Œ forEach() é‡Œé¢çš„æ‰“å°è¯­å¥äº†ï¼Œå°±ä¼šçœ‹åˆ°è¾“å‡ºçš„æ˜¯ï¼šA7B7C7ã€‚ OKï¼Œåˆ°è¿™é‡Œä¹Ÿç®—æ˜¯å¯¹ Stream API æœ‰äº†ä¸€å®šçš„è®¤è¯†ï¼Œä¸‹é¢æˆ‘ä»¬å¯¹ä¸­é—´æ“ä½œå’Œç»“æŸæ“ä½œåšä¸€ä¸ªæ€»ç»“ï¼š å›¾ç‰‡æˆªè‡ªï¼šhttps://github.com/CarpenterLee/JavaLambdaInternals/blob/master/6-Stream%20Pipelines.md ä¸‰ã€Stream æ€§èƒ½æµ‹è¯• å¼•ç”¨è‡ªï¼šä¸‹æ–¹å‚è€ƒæ–‡æ¡£ç¬¬ 4 æ¡ã€‚ å·²ç»å¯¹ Stream API çš„ç”¨æ³•é¼“å¹å¤Ÿå¤šäº†ï¼Œç”¨èµ·ç®€æ´ç›´è§‚ï¼Œä½†æ€§èƒ½åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿä¼šä¸ä¼šæœ‰å¾ˆé«˜çš„æ€§èƒ½æŸå¤±ï¼Ÿæœ¬èŠ‚æˆ‘ä»¬å¯¹ Stream API çš„æ€§èƒ½ä¸€æ¢ç©¶ç«Ÿã€‚ ä¸ºä¿è¯æµ‹è¯•ç»“æœçœŸå®å¯ä¿¡ï¼Œæˆ‘ä»¬å°† JVM è¿è¡Œåœ¨ -server æ¨¡å¼ä¸‹ï¼Œæµ‹è¯•æ•°æ®åœ¨ GB é‡çº§ï¼Œæµ‹è¯•æœºå™¨é‡‡ç”¨å¸¸è§çš„å•†ç”¨æœåŠ¡å™¨ï¼Œé…ç½®å¦‚ä¸‹ï¼š æŒ‡æ ‡ æ•°å€¼ OS CentOS 6.7 x86_64 CPU Intel Xeon X5675, 12M Cache 3.06 GHz, 6 Cores 12 Threads å†…å­˜ 96GB JDK java version 1.8.0_91, Java HotSpot(TM) 64-Bit Server VM æµ‹è¯•æ‰€ç”¨ä»£ç åœ¨è¿™é‡Œï¼Œæµ‹è¯•ç»“æœæ±‡æ€». æµ‹è¯•æ–¹æ³•å’Œæµ‹è¯•æ•°æ®æ€§èƒ½æµ‹è¯•å¹¶ä¸æ˜¯å®¹æ˜“çš„äº‹ï¼ŒJavaæ€§èƒ½æµ‹è¯•æ›´è´¹åŠ²ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯¹æ€§èƒ½çš„å½±å“å¾ˆå¤§ï¼ŒJVMå¯¹æ€§èƒ½çš„å½±å“æœ‰ä¸¤æ–¹é¢ï¼š GCçš„å½±å“ã€‚GCçš„è¡Œä¸ºæ˜¯Javaä¸­å¾ˆä¸å¥½æ§åˆ¶çš„ä¸€å—ï¼Œä¸ºå¢åŠ ç¡®å®šæ€§ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨CMSæ”¶é›†å™¨ï¼Œå¹¶ä½¿ç”¨10GBå›ºå®šå¤§å°çš„å †å†…å­˜ã€‚å…·ä½“åˆ°JVMå‚æ•°å°±æ˜¯-XX:+UseConcMarkSweepGC -Xms10G -Xmx10G JIT(Just-In-Time)å³æ—¶ç¼–è¯‘æŠ€æœ¯ã€‚å³æ—¶ç¼–è¯‘æŠ€æœ¯ä¼šå°†çƒ­ç‚¹ä»£ç åœ¨JVMè¿è¡Œçš„è¿‡ç¨‹ä¸­ç¼–è¯‘æˆæœ¬åœ°ä»£ç ï¼Œæµ‹è¯•æ—¶æˆ‘ä»¬ä¼šå…ˆå¯¹ç¨‹åºé¢„çƒ­ï¼Œè§¦å‘å¯¹æµ‹è¯•å‡½æ•°çš„å³æ—¶ç¼–è¯‘ã€‚ç›¸å…³çš„JVMå‚æ•°æ˜¯-XX:CompileThreshold=10000ã€‚ Streamå¹¶è¡Œæ‰§è¡Œæ—¶ç”¨åˆ°ForkJoinPool.commonPool()å¾—åˆ°çš„çº¿ç¨‹æ± ï¼Œä¸ºæ§åˆ¶å¹¶è¡Œåº¦æˆ‘ä»¬ä½¿ç”¨Linuxçš„tasksetå‘½ä»¤æŒ‡å®šJVMå¯ç”¨çš„æ ¸æ•°ã€‚ æµ‹è¯•æ•°æ®ç”±ç¨‹åºéšæœºç”Ÿæˆã€‚ä¸ºé˜²æ­¢ä¸€æ¬¡æµ‹è¯•å¸¦æ¥çš„æŠ–åŠ¨ï¼Œæµ‹è¯•4æ¬¡æ±‚å‡ºå¹³å‡æ—¶é—´ä½œä¸ºè¿è¡Œæ—¶é—´ã€‚ å®éªŒä¸€ åŸºæœ¬ç±»å‹è¿­ä»£æµ‹è¯•å†…å®¹ï¼šæ‰¾å‡ºæ•´å‹æ•°ç»„ä¸­çš„æœ€å°å€¼ã€‚å¯¹æ¯”forå¾ªç¯å¤–éƒ¨è¿­ä»£å’ŒStream APIå†…éƒ¨è¿­ä»£æ€§èƒ½ã€‚ æµ‹è¯•ç¨‹åºIntTestï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹å›¾ï¼š å›¾ä¸­å±•ç¤ºçš„æ˜¯forå¾ªç¯å¤–éƒ¨è¿­ä»£è€—æ—¶ä¸ºåŸºå‡†çš„æ—¶é—´æ¯”å€¼ã€‚åˆ†æå¦‚ä¸‹ï¼š å¯¹äºåŸºæœ¬ç±»å‹Streamä¸²è¡Œè¿­ä»£çš„æ€§èƒ½å¼€é”€æ˜æ˜¾é«˜äºå¤–éƒ¨è¿­ä»£å¼€é”€ï¼ˆä¸¤å€ï¼‰ï¼›Streamå¹¶è¡Œè¿­ä»£çš„æ€§èƒ½æ¯”ä¸²è¡Œè¿­ä»£å’Œå¤–éƒ¨è¿­ä»£éƒ½å¥½ã€‚ å¹¶è¡Œè¿­ä»£æ€§èƒ½è·Ÿå¯åˆ©ç”¨çš„æ ¸æ•°æœ‰å…³ï¼Œä¸Šå›¾ä¸­çš„å¹¶è¡Œè¿­ä»£ä½¿ç”¨äº†å…¨éƒ¨ 12 ä¸ªæ ¸ï¼Œä¸ºè€ƒå¯Ÿä½¿ç”¨æ ¸æ•°å¯¹æ€§èƒ½çš„å½±å“ï¼Œæˆ‘ä»¬ä¸“é—¨æµ‹è¯•äº†ä¸åŒæ ¸æ•°ä¸‹çš„Streamå¹¶è¡Œè¿­ä»£æ•ˆæœï¼š åˆ†æï¼Œå¯¹äºåŸºæœ¬ç±»å‹ï¼š ä½¿ç”¨Streamå¹¶è¡ŒAPIåœ¨å•æ ¸æƒ…å†µä¸‹æ€§èƒ½å¾ˆå·®ï¼Œæ¯”Streamä¸²è¡ŒAPIçš„æ€§èƒ½è¿˜å·®ï¼› éšç€ä½¿ç”¨æ ¸æ•°çš„å¢åŠ ï¼ŒStreamå¹¶è¡Œæ•ˆæœé€æ¸å˜å¥½ï¼Œæ¯”ä½¿ç”¨forå¾ªç¯å¤–éƒ¨è¿­ä»£çš„æ€§èƒ½è¿˜å¥½ã€‚ ä»¥ä¸Šä¸¤ä¸ªæµ‹è¯•è¯´æ˜ï¼Œå¯¹äºåŸºæœ¬ç±»å‹çš„ç®€å•è¿­ä»£ï¼ŒStreamä¸²è¡Œè¿­ä»£æ€§èƒ½æ›´å·®ï¼Œä½†å¤šæ ¸æƒ…å†µä¸‹Streamè¿­ä»£æ—¶æ€§èƒ½è¾ƒå¥½ã€‚ å®éªŒäºŒ å¯¹è±¡è¿­ä»£å†æ¥çœ‹å¯¹è±¡çš„è¿­ä»£æ•ˆæœã€‚ æµ‹è¯•å†…å®¹ï¼šæ‰¾å‡ºå­—ç¬¦ä¸²åˆ—è¡¨ä¸­æœ€å°çš„å…ƒç´ ï¼ˆè‡ªç„¶é¡ºåºï¼‰ï¼Œå¯¹æ¯”forå¾ªç¯å¤–éƒ¨è¿­ä»£å’ŒStream APIå†…éƒ¨è¿­ä»£æ€§èƒ½ã€‚ æµ‹è¯•ç¨‹åºStringTestï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹å›¾ï¼š ç»“æœåˆ†æå¦‚ä¸‹ï¼š å¯¹äºå¯¹è±¡ç±»å‹Streamä¸²è¡Œè¿­ä»£çš„æ€§èƒ½å¼€é”€ä»ç„¶é«˜äºå¤–éƒ¨è¿­ä»£å¼€é”€ï¼ˆ1.5å€ï¼‰ï¼Œä½†å·®è·æ²¡æœ‰åŸºæœ¬ç±»å‹é‚£ä¹ˆå¤§ã€‚ Streamå¹¶è¡Œè¿­ä»£çš„æ€§èƒ½æ¯”ä¸²è¡Œè¿­ä»£å’Œå¤–éƒ¨è¿­ä»£éƒ½å¥½ã€‚ å†æ¥å•ç‹¬è€ƒå¯ŸStreamå¹¶è¡Œè¿­ä»£æ•ˆæœï¼š åˆ†æï¼Œå¯¹äºå¯¹è±¡ç±»å‹ï¼š ä½¿ç”¨Streamå¹¶è¡ŒAPIåœ¨å•æ ¸æƒ…å†µä¸‹æ€§èƒ½æ¯”forå¾ªç¯å¤–éƒ¨è¿­ä»£å·®ï¼› éšç€ä½¿ç”¨æ ¸æ•°çš„å¢åŠ ï¼ŒStreamå¹¶è¡Œæ•ˆæœé€æ¸å˜å¥½ï¼Œå¤šæ ¸å¸¦æ¥çš„æ•ˆæœæ˜æ˜¾ã€‚ ä»¥ä¸Šä¸¤ä¸ªæµ‹è¯•è¯´æ˜ï¼Œå¯¹äºå¯¹è±¡ç±»å‹çš„ç®€å•è¿­ä»£ï¼ŒStreamä¸²è¡Œè¿­ä»£æ€§èƒ½æ›´å·®ï¼Œä½†å¤šæ ¸æƒ…å†µä¸‹Streamè¿­ä»£æ—¶æ€§èƒ½è¾ƒå¥½ã€‚ å®éªŒä¸‰ å¤æ‚å¯¹è±¡å½’çº¦ä»å®éªŒä¸€ã€äºŒçš„ç»“æœæ¥çœ‹ï¼ŒStreamä¸²è¡Œæ‰§è¡Œçš„æ•ˆæœéƒ½æ¯”å¤–éƒ¨è¿­ä»£å·®ï¼ˆå¾ˆå¤šï¼‰ï¼Œæ˜¯ä¸æ˜¯è¯´æ˜StreamçœŸçš„ä¸è¡Œäº†ï¼Ÿå…ˆåˆ«ä¸‹ç»“è®ºï¼Œæˆ‘ä»¬å†æ¥è€ƒå¯Ÿä¸€ä¸‹æ›´å¤æ‚çš„æ“ä½œã€‚ æµ‹è¯•å†…å®¹ï¼šç»™å®šè®¢å•åˆ—è¡¨ï¼Œç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„æ€»äº¤æ˜“é¢ã€‚å¯¹æ¯”ä½¿ç”¨å¤–éƒ¨è¿­ä»£æ‰‹åŠ¨å®ç°å’ŒStream APIä¹‹é—´çš„æ€§èƒ½ã€‚ æˆ‘ä»¬å°†è®¢å•ç®€åŒ–ä¸º&lt;userName, price, timeStamp&gt;æ„æˆçš„å…ƒç»„ï¼Œå¹¶ç”¨Orderå¯¹è±¡æ¥è¡¨ç¤ºã€‚æµ‹è¯•ç¨‹åºReductionTestï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹å›¾ï¼š åˆ†æï¼Œå¯¹äºå¤æ‚çš„å½’çº¦æ“ä½œï¼š Stream APIçš„æ€§èƒ½æ™®éå¥½äºå¤–éƒ¨æ‰‹åŠ¨è¿­ä»£ï¼Œå¹¶è¡ŒStreamæ•ˆæœæ›´ä½³ï¼› å†æ¥è€ƒå¯Ÿå¹¶è¡Œåº¦å¯¹å¹¶è¡Œæ•ˆæœçš„å½±å“ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š åˆ†æï¼Œå¯¹äºå¤æ‚çš„å½’çº¦æ“ä½œï¼š ä½¿ç”¨Streamå¹¶è¡Œå½’çº¦åœ¨å•æ ¸æƒ…å†µä¸‹æ€§èƒ½æ¯”ä¸²è¡Œå½’çº¦ä»¥åŠæ‰‹åŠ¨å½’çº¦éƒ½è¦å·®ï¼Œç®€å•è¯´å°±æ˜¯æœ€å·®çš„ï¼› éšç€ä½¿ç”¨æ ¸æ•°çš„å¢åŠ ï¼ŒStreamå¹¶è¡Œæ•ˆæœé€æ¸å˜å¥½ï¼Œå¤šæ ¸å¸¦æ¥çš„æ•ˆæœæ˜æ˜¾ã€‚ ä»¥ä¸Šä¸¤ä¸ªå®éªŒè¯´æ˜ï¼Œå¯¹äºå¤æ‚çš„å½’çº¦æ“ä½œï¼ŒStreamä¸²è¡Œå½’çº¦æ•ˆæœå¥½äºæ‰‹åŠ¨å½’çº¦ï¼Œåœ¨å¤šæ ¸æƒ…å†µä¸‹ï¼Œå¹¶è¡Œå½’çº¦æ•ˆæœæ›´ä½³ã€‚æˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ï¼Œå¯¹äºå…¶ä»–å¤æ‚çš„æ“ä½œï¼ŒStream APIä¹Ÿèƒ½è¡¨ç°å‡ºç›¸ä¼¼çš„æ€§èƒ½è¡¨ç°ã€‚ ç»“è®ºä¸Šè¿°ä¸‰ä¸ªå®éªŒçš„ç»“æœå¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š å¯¹äºç®€å•æ“ä½œï¼Œæ¯”å¦‚æœ€ç®€å•çš„éå†ï¼ŒStreamä¸²è¡ŒAPIæ€§èƒ½æ˜æ˜¾å·®äºæ˜¾ç¤ºè¿­ä»£ï¼Œä½†å¹¶è¡Œçš„Stream APIèƒ½å¤Ÿå‘æŒ¥å¤šæ ¸ç‰¹æ€§ã€‚ å¯¹äºå¤æ‚æ“ä½œï¼ŒStreamä¸²è¡ŒAPIæ€§èƒ½å¯ä»¥å’Œæ‰‹åŠ¨å®ç°çš„æ•ˆæœåŒ¹æ•Œï¼Œåœ¨å¹¶è¡Œæ‰§è¡Œæ—¶Stream APIæ•ˆæœè¿œè¶…æ‰‹åŠ¨å®ç°ã€‚ æ‰€ä»¥ï¼Œå¦‚æœå‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œ1. å¯¹äºç®€å•æ“ä½œæ¨èä½¿ç”¨å¤–éƒ¨è¿­ä»£æ‰‹åŠ¨å®ç°ï¼Œ2. å¯¹äºå¤æ‚æ“ä½œï¼Œæ¨èä½¿ç”¨Stream APIï¼Œ 3. åœ¨å¤šæ ¸æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨å¹¶è¡ŒStream APIæ¥å‘æŒ¥å¤šæ ¸ä¼˜åŠ¿ï¼Œ4.å•æ ¸æƒ…å†µä¸‹ä¸å»ºè®®ä½¿ç”¨å¹¶è¡ŒStream APIã€‚ å¦‚æœå‡ºäºä»£ç ç®€æ´æ€§è€ƒè™‘ï¼Œä½¿ç”¨Stream APIèƒ½å¤Ÿå†™å‡ºæ›´çŸ­çš„ä»£ç ã€‚å³ä½¿æ˜¯ä»æ€§èƒ½æ–¹é¢è¯´ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨Stream APIä¹Ÿå¦å¤–ä¸€ä¸ªä¼˜åŠ¿ï¼Œé‚£å°±æ˜¯åªè¦Java Streamç±»åº“åšäº†å‡çº§ä¼˜åŒ–ï¼Œä»£ç ä¸ç”¨åšä»»ä½•ä¿®æ”¹å°±èƒ½äº«å—åˆ°å‡çº§å¸¦æ¥çš„å¥½å¤„ã€‚ å‚è€ƒæ–‡æ¡£ https://redspider.gitbook.io/concurrent/di-san-pian-jdk-gong-ju-pian/19 - Java 8 Streamå¹¶è¡Œè®¡ç®—åŸç† http://hack.xingren.com/index.php/2018/10/17/java-stream/ - åŸæ¥ä½ æ˜¯è¿™æ ·çš„ Stream â€”â€” æµ…æ Java Stream å®ç°åŸç† https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/6-Stream%20Pipelines.md - Stream Pipelines https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/8-Stream%20Performance.md - Stream Performance ã€ŠJava 8 å®æˆ˜ã€‹ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"Java8","slug":"Java8","permalink":"http://www.wmyskxz.com/tags/Java8/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaè®¡æ—¶æ–°å§¿åŠ¿âˆš","slug":"Javaè®¡æ—¶æ–°å§¿åŠ¿âˆš","date":"2019-07-30T15:20:00.000Z","updated":"2020-08-03T09:41:08.884Z","comments":true,"path":"2019/07/30/java-ji-shi-xin-zi-shi/","link":"","permalink":"http://www.wmyskxz.com/2019/07/30/java-ji-shi-xin-zi-shi/","excerpt":"","text":"ä¸ºè·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·è®¿é—®åŸæ–‡ï¼šä¼ é€é—¨å‰è¨€ï¼š æœ€è¿‘å…¬å¸æ¥äº†ä¸ªå¤§ä½¬ï¼Œä»ä»–é‚£é‡Œå­¦åˆ°ä¸å°‘ä¸œè¥¿ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯è®¡æ—¶çš„æ–°å§¿åŠ¿ã€ŒStopWatchã€ï¼Œèµ¶ç´§æ¥ä¸€èµ·äº†è§£äº†è§£å§! ä¸€ã€æœ€ç®€å•çš„è®¡æ—¶ åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ä¸å…éœ€è¦å¯¹æŸä¸€ä¸ªè¿ç®—æˆ–è€…æ–¹æ³•è¿›è¡Œè®¡æ—¶ï¼Œä»¥ä¾¿æˆ‘ä»¬æ¥è§‚å¯Ÿè¯¥è¿ç®—æˆ–æ–¹æ³•æ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬åˆšå¼€å§‹æ¥è§¦ Java çš„æ—¶å€™éƒ½èƒ½å†™å‡ºç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä»£ç æ¥è®¡æ—¶ï¼š public static void main(String[] args) { Long startTime = System.currentTimeMillis(); doSomeThing(); Long endTime = System.currentTimeMillis(); Long elapsedTime = (endTime - startTime) / 1000; System.out.println(\"æ€»å…±è€—æ—¶ï¼š\" + elapsedTime + \"s\"); } // ç”¨äºæ¨¡æ‹Ÿä¸€äº›æ“ä½œ private static void doSomeThing() { try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } äº‹å®ä¸Šè¿™æ ·ä¹Ÿå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¹¶ä¸”ä¹Ÿèƒ½å¤Ÿè¿è¡Œçš„å¾ˆå¥½ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸å¤ªå¥½çš„å°±æ˜¯ï¼Œè‡ªå·±å…³æ³¨äº†å¤ªå¤šè¾“å‡ºçš„ä¿¡æ¯ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è®¤è¯†ä¸€ç§æ›´ä¼˜é›…çš„ä¸€ç§è®¡æ—¶æ–¹å¼ï¼› äºŒã€StopWatch ç±» æƒ³è¦ä½¿ç”¨å®ƒï¼Œé¦–å…ˆä½ éœ€è¦åœ¨ä½ çš„ Maven ä¸­å¼•å…¥ Spring æ ¸å¿ƒåŒ…ï¼Œå½“ç„¶ Spring MVC å’Œ Spring Boot éƒ½å·²ç»è‡ªåŠ¨å¼•å…¥äº†è¯¥åŒ…ï¼š &lt;!-- springæ ¸å¿ƒåŒ… --> &lt;dependency> &lt;groupId>org.springframework&lt;/groupId> &lt;artifactId>spring-core&lt;/artifactId> &lt;version>${spring.version}&lt;/version> &lt;/dependency> ç°åœ¨æˆ‘ä»¬è®¡æ—¶çš„å§¿åŠ¿æˆ–è®¸å°±ä¼šå˜æˆä»¥ä¸‹è¿™æ ·ï¼š public static void main(String[] args) { StopWatch clock = new StopWatch(); clock.start(\"å¼€å§‹ä»»åŠ¡ä¸€\"); doSomeThing(); clock.stop(); clock.start(\"å¼€å§‹ä»»åŠ¡äºŒ\"); doSomeThing(); clock.stop(); System.out.println(clock.prettyPrint()); } // ç”¨äºæ¨¡æ‹Ÿä¸€äº›æ“ä½œ private static void doSomeThing() { try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } åœ¨æœ€åæˆ‘ä»¬ä½¿ç”¨ StopWatch ç±»è‡ªå¸¦çš„ prettyPrint() æ–¹æ³•ç±»æ ¼å¼åŒ–æˆ‘ä»¬çš„è¾“å‡ºï¼Œè¿è¡Œç¨‹åºä½ ä¼šå‘ç°ä½ çš„ç¨‹åºè¾“å‡ºäº†è¿™æ ·çš„ä¸œè¥¿ï¼š StopWatch '': running time (millis) = 2009 ----------------------------------------- ms % Task name ----------------------------------------- 01005 050% å¼€å§‹ä»»åŠ¡ä¸€ 01004 050% å¼€å§‹ä»»åŠ¡äºŒ ä¸ä»…æœ‰æ€»ç”¨æ—¶ï¼Œè¿˜æœ‰æ¯ä¸ªä»»åŠ¡åˆ†åˆ«çš„å ç”¨æ—¶é—´å’Œå ç”¨æ—¶é—´çš„ç™¾åˆ†æ¯”ï¼Œè¿™æˆ–è®¸å°±ä¼šæ¯”æˆ‘ä»¬è‡ªå·±è¾“å‡ºè¦ä¼˜é›…é‚£ä¹ˆä¸€äº›ï¼› StopWatch ç±»æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ å½“ä½ æˆ³å¼€ StopWatch çš„æºç ï¼Œä½ ä¼šåœ¨æ€»å…±ä¸åˆ° 200 è¡Œçš„ä»£ç é‡Œçœ‹åˆ°ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼š public void start(String taskName) throws IllegalStateException { if (this.currentTaskName != null) { throw new IllegalStateException(\"Can't start StopWatch: it's already running\"); } else { this.currentTaskName = taskName; this.startTimeMillis = System.currentTimeMillis(); } } public void stop() throws IllegalStateException { if (this.currentTaskName == null) { throw new IllegalStateException(\"Can't stop StopWatch: it's not running\"); } else { long lastTime = System.currentTimeMillis() - this.startTimeMillis; this.totalTimeMillis += lastTime; this.lastTaskInfo = new StopWatch.TaskInfo(this.currentTaskName, lastTime); if (this.keepTaskList) { this.taskList.add(this.lastTaskInfo); } ++this.taskCount; this.currentTaskName = null; } } ä½ ä¼šå‘ç°è¯¥ç±»ä½¿ç”¨ LinkedList å®ç°äº†ä¸€ä¸ªå«åš taskList çš„é˜Ÿåˆ—ï¼Œç„¶åæ¯ä¸€æ¬¡å¼€å§‹åŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨ System.currentTimeMillis() æ–¹æ³•æ¥è·å–æ—¶é—´ï¼Œæ¯æ¬¡é™¤äº†è®¡ç®—è€—æ—¶ä¹Ÿä¼šæ„å»ºä¸€ä¸ªæè¿°å½“å‰ä»»åŠ¡çš„ TaskInfo å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒæ”¾å…¥ taskList é˜Ÿåˆ—ä¸­ã€‚ å½“æ‰§è¡Œ prettyPrint() æ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä» taskList é˜Ÿåˆ—ä¸­ä¾æ¬¡å–å‡ºä»»åŠ¡ï¼Œç„¶ååšäº›æ ¼å¼åŒ–çš„æ“ä½œï¼š public String shortSummary() { return \"StopWatch '\" + this.getId() + \"': running time (millis) = \" + this.getTotalTimeMillis(); } public String prettyPrint() { StringBuilder sb = new StringBuilder(this.shortSummary()); sb.append('\\n'); if (!this.keepTaskList) { sb.append(\"No task info kept\"); } else { sb.append(\"-----------------------------------------\\n\"); sb.append(\"ms % Task name\\n\"); sb.append(\"-----------------------------------------\\n\"); NumberFormat nf = NumberFormat.getNumberInstance(); nf.setMinimumIntegerDigits(5); nf.setGroupingUsed(false); NumberFormat pf = NumberFormat.getPercentInstance(); pf.setMinimumIntegerDigits(3); pf.setGroupingUsed(false); StopWatch.TaskInfo[] var4 = this.getTaskInfo(); int var5 = var4.length; for(int var6 = 0; var6 &lt; var5; ++var6) { StopWatch.TaskInfo task = var4[var6]; sb.append(nf.format(task.getTimeMillis())).append(\" \"); sb.append(pf.format(task.getTimeSeconds() / this.getTotalTimeSeconds())).append(\" \"); sb.append(task.getTaskName()).append(\"\\n\"); } } return sb.toString(); } æ‘ï¼Œæ–°å§¿åŠ¿ get âˆšã€‚ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å–„è‰¯æ¯”èªæ˜é‡è¦","slug":"å–„è‰¯æ¯”èªæ˜é‡è¦","date":"2019-07-22T14:17:00.000Z","updated":"2020-08-03T09:40:39.123Z","comments":true,"path":"2019/07/22/shan-liang-bi-cong-ming-chong-yao/","link":"","permalink":"http://www.wmyskxz.com/2019/07/22/shan-liang-bi-cong-ming-chong-yao/","excerpt":"","text":"è½¬è½½è‡ªï¼šhttps://github.com/lifesinger/blog/issues/227 2010 å¹´ï¼Œäºšé©¬é€Š CEO æ°å¤«Â·è´ä½æ–¯ï¼ˆJeff Bezosï¼‰åœ¨æ¯æ ¡æ™®æ—æ–¯é¡¿å¤§å­¦çš„æ¯•ä¸šå…¸ç¤¼ä¸Šï¼Œå‹‰åŠ±å¹´è½»äººï¼Œå–„ç”¨è‡ªå·±çš„å¤©èµ‹ï¼Œåšå‡ºå¯¹çš„é€‰æ‹©ã€‚å› ä¸ºï¼Œã€Œäººç”Ÿåˆ°å¤´æ¥ï¼Œæˆ‘ä»¬çš„é€‰æ‹©ï¼Œå†³å®šäº†æˆ‘ä»¬æ˜¯ä»€ä¹ˆæ ·çš„äººã€‚ã€ ä»¥ä¸‹æ˜¯ Bezos æ¼”è®²å†…å®¹ï¼š As a kid, I spent my summers with my grandparents on their ranch in Texas. I helped fix windmills, vaccinate cattle, and do other chores. We also watched soap operas every afternoon, especially â€œDays of our Lives.â€ My grandparents belonged to a Caravan Club, a group of Airstream trailer owners who travel together around the U.S. and Canada. And every few summers, weâ€™d join the caravan. Weâ€™d hitch up the Airstream trailer to my grandfatherâ€™s car, and off weâ€™d go, in a line with 300 other Airstream adventurers. I loved and worshipped my grandparents and I really looked forward to these trips. On one particular trip, I was about 10 years old. I was rolling around in the big bench seat in the back of the car. My grandfather was driving. And my grandmother had the passenger seat. She smoked throughout these trips, and I hated the smell. å­©ææ—¶ä»£ï¼Œæˆ‘æ€»æ˜¯åœ¨å¾·å·ç¥–çˆ¶æ¯çš„å†œåœºä¸­åº¦è¿‡å¤å¤©ã€‚æˆ‘å¸®å¿™ä¿®ç†é£è½¦ï¼Œä¸ºç‰›æ¥ç§ç–«è‹—ï¼Œä¹Ÿåšå…¶ä»–æ‚æ´»ã€‚æ¯å¤©ä¸‹åˆï¼Œæˆ‘ä»¬ä¹Ÿçœ‹è‚¥çš‚å‰§ï¼Œç‰¹åˆ«æ˜¯ã€Šå…‰è¾‰å²æœˆã€‹ã€‚ç¥–çˆ¶æ¯å‚åŠ äº†ä¸€ä¸ªæˆ¿è½¦ä¿±ä¹éƒ¨ï¼Œä¸€ç¾¤äººé©¾é©¶ Airstream æˆ¿è½¦ï¼Œç»“ä¼´æ¸¸å†ç¾å›½å’ŒåŠ æ‹¿å¤§ã€‚æ¯éš”å‡ ä¸ªå¤å¤©ï¼Œæˆ‘ä»¬ä¼šåŠ å…¥ä¸€æ¬¡æ—…ç¨‹ã€‚æŠŠæˆ¿è½¦æŒ‚åœ¨ç¥–çˆ¶çš„å°æ±½è½¦åé¢ï¼Œèå…¥ 300 ä½™å Airstream æ¢é™©è€…çš„æµ©è¡é˜Ÿä¼ä¸­ï¼Œå°±è¿™æ ·å‡ºå‘ã€‚æˆ‘çˆ±ç¥–çˆ¶æ¯ï¼Œå¿ƒæ€€æ•¬ä»°ï¼Œå¾ˆæœŸç›¼è¿™äº›æ—…ç¨‹ã€‚åœ¨æˆ‘å¤§çº¦ 10 å²æ—¶ï¼Œæœ‰ä¸€æ¬¡å¾ˆç‰¹æ®Šçš„æ—…ç¨‹ã€‚é‚£æ¬¡æˆ‘èƒ¡ä¹±ååœ¨ååº§ä¸Šï¼Œç¥–çˆ¶å¼€ç€è½¦ï¼Œç¥–æ¯ååœ¨ä»–æ—è¾¹ã€‚æ•´ä¸ªæ—…ç¨‹ç¥–æ¯éƒ½å¸ç€çƒŸï¼Œæˆ‘è®¨åŒçƒŸå‘³ã€‚ At that age, Iâ€™d take any excuse to make estimates and do minor arithmetic. Iâ€™d calculate our gas mileage â€“ figure out useless statistics on things like grocery spending. Iâ€™d been hearing an ad campaign about smoking. I canâ€™t remember the details, but basically the ad said, every puff of a cigarette takes some number of minutes off of your life: I think it might have been two minutes per puff. At any rate, I decided to do the math for my grandmother. I estimated the number of cigarettes per days, estimated the number of puffs per cigarette and so on. When I was satisfied that Iâ€™d come up with a reasonable number, I poked my head into the front of the car, tapped my grandmother on the shoulder, and proudly proclaimed, â€œAt two minutes per puff, youâ€™ve taken nine years off your life!â€ I have a vivid memory of what happened, and it was not what I expected. I expected to be applauded for my cleverness and arithmetic skills. â€œJeff, youâ€™re so smart. You had to have made some tricky estimates, figure out the number of minutes in a year and do some division.â€ Thatâ€™s not what happened. Instead, my grandmother burst into tears. I sat in the backseat and did not know what to do. While my grandmother sat crying, my grandfather, who had been driving in silence, pulled over onto the shoulder of the highway. He got out of the car and came around and opened my door and waited for me to follow. Was I in trouble? My grandfather was a highly intelligent, quiet man. He had never said a harsh word to me, and maybe this was to be the first time? Or maybe he would ask that I get back in the car and apologize to my grandmother. I had no experience in this realm with my grandparents and no way to gauge what the consequences might be. We stopped beside the trailer. My grandfather looked at me, and after a bit of silence, he gently and calmly said, â€œJeff, one day youâ€™ll understand that itâ€™s harder to be kind than clever.â€ å½“å¹´ï¼Œæˆ‘æ€»æ˜¯æƒ³å°½åŠæ³•å»åšä¼°æµ‹æˆ–å°ç®—æœ¯ã€‚æˆ‘ä¼šè®¡ç®—æ²¹è€—è¿˜æœ‰æ‚è´§èŠ±é”€ç­‰é¸¡æ¯›è’œçš®çš„å°äº‹ã€‚æˆ‘å¬è¿‡ä¸€ä¸ªä¸å¸çƒŸç›¸å…³çš„å¹¿å‘Šï¼Œä½†è®°ä¸æ¸…ç»†èŠ‚äº†ã€‚å¹¿å‘Šå¤§æ„æ˜¯ï¼Œæ¯å¸ä¸€å£é¦™çƒŸä¼šå‡å°‘å‡ åˆ†é’Ÿå¯¿å‘½ï¼Œå¥½åƒæ˜¯ä¸¤åˆ†é’Ÿã€‚ç®¡å®ƒå‡ åˆ†é’Ÿå‘¢ï¼Œæˆ‘å†³å®šä¸ºç¥–æ¯åšä¸ªç®—æœ¯ã€‚æˆ‘ä¼°æµ‹äº†ç¥–æ¯æ¯å¤©å¸å‡ æ”¯é¦™çƒŸï¼Œæ¯æ”¯é¦™çƒŸå¸å‡ å£ç­‰ç­‰ï¼Œç„¶åå¿ƒæ»¡æ„è¶³åœ°å¾—å‡ºäº†ä¸€ä¸ªåˆç†çš„æ•°å­—ã€‚æ¥ç€ï¼Œæˆ‘æŠŠå¤´æ¢å…¥æ±½è½¦å‰æ’ï¼Œæ‹äº†æ‹ç¥–æ¯çš„è‚©è†€ï¼Œéª„å‚²åœ°å®£ç§°ï¼šã€Œå¦‚æœæ¯å¸ä¸€å£çƒŸå°‘æ´»ä¸¤åˆ†é’Ÿçš„è¯ï¼Œä½ çš„å¯¿å‘½å·²ç»å°‘äº†ä¹å¹´ï¼ã€æˆ‘æ¸…æ™°åœ°è®°å¾—æ¥ä¸‹æ¥å‘ç”Ÿçš„äº‹ï¼Œæ˜¯æˆ‘æ„æ–™ä¹‹å¤–çš„ã€‚å‡­å€Ÿèªæ˜çš„å¤§è„‘å’Œç®—æœ¯æŠ€å·§ï¼Œæˆ‘æœŸå¾…èµ¢æ¥å¤¸èµï¼šã€Œæ°å¤«ï¼Œä½ çœŸèªæ˜ã€‚ä½ åº”è¯¥åšä¸€äº›æ›´éœ€è¦æŠ€å·§çš„ç®—æœ¯ï¼Œæ¯”å¦‚ä¸€å¹´æœ‰å¤šå°‘åˆ†é’Ÿï¼Œä»¥åŠåšäº›é™¤æ³•ã€‚ã€æˆ‘çš„æœŸå¾…å¹¶æ²¡æœ‰å‘ç”Ÿã€‚ç›¸åï¼Œç¥–æ¯çªç„¶å“­æ³£èµ·æ¥ï¼Œæˆ‘ååœ¨ååº§èŒ«ç„¶æ— æªã€‚ç¥–çˆ¶ä¸€ç›´åœ¨é»˜é»˜å¼€è½¦ï¼Œå¬åˆ°ç¥–æ¯çš„å“­å£°ï¼ŒæŠŠè½¦åœåœ¨é«˜é€Ÿè·¯è¾¹ã€‚ç¥–çˆ¶èµ°ä¸‹è½¦æ¥ï¼Œæ‰“å¼€è½¦é—¨ï¼Œç­‰æˆ‘è·Ÿä»–ä¸‹è½¦ã€‚æˆ‘æƒ¹éº»çƒ¦äº†å—ï¼Ÿç¥–çˆ¶æ˜¯ä¸€ä¸ªæ™ºæ…§è€Œå®‰é™çš„äººã€‚ä»–ä»æ¥æ²¡æœ‰å¯¹æˆ‘è¯´è¿‡ä¸¥å‰çš„è¯ï¼Œéš¾é“è¿™ä¼šæ˜¯ç¬¬ä¸€æ¬¡ï¼Ÿè¿˜æ˜¯ä»–ä¼šè®©æˆ‘å›åˆ°è½¦ä¸Šç»™ç¥–æ¯é“æ­‰ï¼Ÿæˆ‘ä»¥å‰ä»æœªé‡åˆ°è¿‡è¿™ç§çŠ¶å†µï¼Œæ— ä»çŸ¥æ™“ä¼šæœ‰ä»€ä¹ˆåæœå‘ç”Ÿã€‚æˆ‘ä»¬åœ¨æˆ¿è½¦æ—åœä¸‹æ¥ï¼Œç¥–çˆ¶æ³¨è§†ç€æˆ‘ï¼Œæ²‰é»˜ç‰‡åˆ»ï¼Œç„¶åè½»è½»åœ°ã€å¹³é™åœ°è¯´ï¼š ã€Œæ°å¤«ï¼Œæœ‰ä¸€å¤©ä½ ä¼šæ˜ç™½ï¼Œå–„è‰¯æ¯”èªæ˜æ›´éš¾ã€‚ã€ What I want to talk to you about today is the difference between gifts and choices. Cleverness is a gift, kindness is a choice. Gifts are easy â€“ theyâ€™re given after all. Choices can be hard. You can seduce yourself with your gifts if youâ€™re not careful, and if you do, itâ€™ll probably be to the detriment of your choices. This is a group with many gifts. Iâ€™m sure one of your gifts is the gift of a smart and capable brain. Iâ€™m confident thatâ€™s the case because admission is competitive and if there werenâ€™t some signs that youâ€™re clever, the dean of admission wouldnâ€™t have let you in. ä»Šå¤©æˆ‘æƒ³å¯¹ä½ ä»¬è¯´çš„æ˜¯ï¼Œå¤©èµ‹å’Œé€‰æ‹©çš„ä¸åŒã€‚ èªæ˜æ˜¯ä¸€ç§å¤©èµ‹ï¼Œè€Œå–„è‰¯æ˜¯ä¸€ç§é€‰æ‹©ã€‚ å¤©èµ‹å¾—æ¥å®¹æ˜“ â€”â€” æ¯•ç«Ÿä¸ç”Ÿä¿±æ¥ã€‚è€Œé€‰æ‹©é¢‡ä¸ºä¸æ˜“ã€‚ä¸€ä¸å°å¿ƒï¼Œä½ å¯èƒ½ä¼šè¢«å¤©èµ‹æ‰€è¯±æƒ‘ï¼Œè€Œè¿™å¯èƒ½ä¼šæŸå®³åˆ°ä½ çš„é€‰æ‹©ã€‚ åœ¨åº§å„ä½éƒ½æ‹¥æœ‰ä¼—å¤šå¤©èµ‹ã€‚æˆ‘ç¡®ä¿¡ä½ ä»¬çš„å¤©èµ‹ä¹‹ä¸€å°±æ˜¯æ‹¥æœ‰ç²¾æ˜èƒ½å¹²çš„å¤´è„‘ã€‚ä¹‹æ‰€ä»¥å¦‚æ­¤ç¡®ä¿¡ï¼Œæ˜¯å› ä¸ºå…¥å­¦ç«äº‰å¦‚æ­¤æ¿€çƒˆï¼Œå¦‚æœä½ ä»¬ä¸èªæ˜ï¼Œä¾¿ä¸ä¼šæœ‰èµ„æ ¼è¿›å…¥è¿™æ‰€å­¦æ ¡ã€‚ Your smarts will come in handy because you will travel in a land of marvels. We humans â€” plodding as we are â€“ will astonish ourselves. Weâ€™ll invent ways to generate clean energy and a lot of it. Atom by atom, weâ€™ll assemble tiny machines that will enter cell walls and make repairs. This month comes the extraordinary but also inevitable news that weâ€™ve synthesized life. In the coming years, weâ€™ll not only synthesize it, but weâ€™ll engineer it to specifications. I believe youâ€™ll even see us understand the human brain. Jules Verne, Mark Twain, Galileo, Newton â€“ all the curious from the ages would have wanted to be alive most of all right now. As a civilization, we will have so many gifts, just as you as individuals have so many individual gifts as you sit before me. How will you use these gifts? And will you take pride in your gifts or pride in your choices? ä½ ä»¬å°†åœ¨ä¸€ç‰‡å……æ»¡å¥‡è¿¹çš„ä¸–ç•Œä¸Šå‰è¡Œï¼Œèªæ˜æ‰æ™ºå¿…èƒ½æ´¾ä¸Šç”¨åœºã€‚æˆ‘ä»¬äººç±»ï¼Œå°½ç®¡è·¬æ­¥å‰è¡Œï¼Œå´ç»ˆå°†ä»¤è‡ªå·±å¤§åƒä¸€æƒŠã€‚æˆ‘ä»¬èƒ½å¤Ÿæƒ³æ–¹è®¾æ³•åˆ¶é€ æ¸…æ´èƒ½æºç­‰ç­‰ï¼Œä¹Ÿèƒ½å¤Ÿä¸€ä¸ªåŸå­ä¸€ä¸ªåŸå­åœ°ç»„è£…å¾®å‹æœºæ¢°ï¼Œä½¿ä¹‹ç©¿è¿‡ç»†èƒå£ï¼Œå»ä¿®å¤ç»†èƒã€‚è¿™ä¸ªæœˆï¼Œæœ‰ä¸€ä¸ªéå¸¸æ¿€åŠ¨äººå¿ƒå´åˆä¸è¶³ä¸ºå¥‡çš„æ¶ˆæ¯ â€”â€” äººç±»ç»ˆäºåˆæˆäº†ç”Ÿå‘½ã€‚åœ¨æœªæ¥å‡ å¹´ï¼Œæˆ‘ä»¬ä¸ä»…ä¼šåˆæˆç”Ÿå‘½ï¼Œè¿˜èƒ½å°†ä¹‹å·¥ç¨‹è§„èŒƒåŒ–ã€‚æˆ‘ç›¸ä¿¡ä½ ä»¬ç”šè‡³ä¼šçœ‹åˆ°äººç±»å¤§è„‘è¢«å½»åº•ç†è§£ã€‚å„’å‹’Â·å‡¡å°”çº³ã€é©¬å…‹Â·åæ¸©ã€ä¼½åˆ©ç•¥ã€ç‰›é¡¿ â€”â€” æ‰€æœ‰é‚£äº›å……æ»¡å¥½å¥‡ä¹‹å¿ƒçš„äººéƒ½å¸Œæœ›èƒ½å¤Ÿæ´»åœ¨ç°åœ¨ã€‚ä½œä¸ºæ–‡æ˜äººï¼Œæˆ‘ä»¬æ‹¥æœ‰å¦‚æ­¤å¤šçš„å¤©èµ‹ï¼Œå°±åƒæ˜¯ååœ¨æˆ‘é¢å‰çš„ä½ ä»¬ï¼Œæ¯ä¸€ä¸ªç”Ÿå‘½ä¸ªä½“éƒ½æ‹¥æœ‰ä¼—å¤šç‹¬ç‰¹çš„å¤©èµ‹ã€‚å¦‚ä½•è¿ç”¨è¿™äº›å¤©èµ‹ï¼Ÿä¸ºè‡ªå·±çš„å¤©èµ‹æ„Ÿåˆ°éª„å‚²ï¼Œè¿˜æ˜¯ä¼šä¸ºè‡ªå·±çš„é€‰æ‹©æ„Ÿåˆ°éª„å‚²ï¼Ÿ I got the idea to start Amazon 16 years ago. I came across the fact that Web usage was growing at 2,300 percent per year. Iâ€™d never seen or heard of anything that grew that fast, and the idea of building an online bookstore with millions of titles â€“ something that simply couldnâ€™t exist in the physical world â€“ was very exciting to me. I had just turned 30 years old, and Iâ€™d been married for a year. I told my wife MacKenzie that I wanted to quit my job and go do this crazy thing that probably wouldnâ€™t work since most startups donâ€™t, and I wasnâ€™t sure what would happen after that. MacKenzie (also a Princeton grad and sitting here in the second row) told me I should go for it. As a young boy, Iâ€™d been a garage inventor. Iâ€™d invented an automatic gate closer out of cement-filled tires, a solar cooker that didnâ€™t work very well out of an umbrella and tinfoil, baking-pan alarms to entrap my siblings. Iâ€™d always wanted to be an inventor, and she wanted me to follow my passion. 16 å¹´å‰ï¼Œæˆ‘èŒç”Ÿäº†åˆ›åŠäºšé©¬é€Šçš„æƒ³æ³•ã€‚å½“å¹´ï¼Œäº’è”ç½‘ä½¿ç”¨é‡ä»¥æ¯å¹´ 2300% çš„é€Ÿåº¦å¢é•¿ï¼Œæˆ‘ä»æœªçœ‹åˆ°æˆ–å¬è¯´è¿‡ä»»ä½•ä¸œè¥¿å¢é•¿å¦‚æ­¤å¿«é€Ÿã€‚æœ‰ä¸ªæƒ³æ³•ä»¤æˆ‘å¼‚å¸¸å…´å¥‹ â€”â€” åˆ›å»ºæ¶µç›–å‡ ç™¾ä¸‡ç§ä¹¦ç±çš„ç½‘ä¸Šä¹¦åº—ï¼Œè¿™ä¸œè¥¿åœ¨ç‰©ç†ä¸–ç•Œæ ¹æœ¬æ— æ³•å­˜åœ¨ã€‚é‚£æ—¶æˆ‘åˆšæ»¡ 30 å²ï¼Œç»“å©šæ‰ä¸€å¹´ã€‚æˆ‘å‘Šè¯‰å¦»å­ MacKenzie æƒ³è¾å»å·¥ä½œï¼Œç„¶åå»åšè¿™ä»¶ç–¯ç‹‚çš„äº‹ï¼Œå¾ˆå¯èƒ½ä¼šå¤±è´¥ï¼Œå› ä¸ºå¤§éƒ¨åˆ†åˆ›ä¸šå…¬å¸éƒ½å¦‚æ­¤ï¼Œè€Œä¸”æˆ‘ä¸ç¡®å®šä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆã€‚MacKenzie ï¼ˆä¹Ÿæ˜¯æ™®æ—æ–¯é¡¿æ¯•ä¸šç”Ÿï¼Œå°±ååœ¨ä¸‹é¢ç¬¬äºŒæ’ï¼‰å‘Šè¯‰æˆ‘ï¼Œæˆ‘åº”è¯¥æ”¾æ‰‹ä¸€æã€‚å°‘å¹´æ—¶æœŸï¼Œæˆ‘æ˜¯ä¸€åè½¦åº“å‘æ˜å®¶ã€‚æˆ‘æ›¾ç”¨æ°´æ³¥å¡«å……çš„è½®èƒåˆ¶ä½œè‡ªåŠ¨å…³é—¨å™¨ï¼Œç”¨é›¨ä¼å’Œé”¡ç®”åˆ¶ä½œå¤ªé˜³èƒ½ç‚’é”…ï¼ˆè™½ç„¶ä¸å¤ªå¥½ç”¨ï¼‰ï¼Œæˆ‘è¿˜ç”¨ç…é”…åšäº†ä¸€ä¸ªè­¦æŠ¥å™¨æ¥å“å”¬é‚»å±…ã€‚æˆ‘ä¸€ç›´æƒ³åšä¸€ä¸ªå‘æ˜å®¶ï¼ŒMacKenzie æ”¯æŒæˆ‘è¿½éšå†…å¿ƒçš„çƒ­æƒ…ã€‚ I was working at a financial firm in New York City with a bunch of very smart people, and I had a brilliant boss that I much admired. I went to my boss and told him I wanted to start a company selling books on the Internet. He took me on a long walk in Central Park, listened carefully to me, and finally said, â€œThat sounds like a really good idea, but it would be an even better idea for someone who didnâ€™t already have a good job.â€ That logic made some sense to me, and he convinced me to think about it for 48 hours before making a final decision. Seen in that light, it really was a difficult choice, but ultimately, I decided I had to give it a shot. I didnâ€™t think Iâ€™d regret trying and failing. And I suspected I would always be haunted by a decision to not try at all. After much consideration, I took the less safe path to follow my passion, and Iâ€™m proud of that choice. æˆ‘å½“æ—¶åœ¨çº½çº¦ä¸€å®¶é‡‘èå…¬å¸å·¥ä½œï¼ŒåŒäº‹æ˜¯ä¸€ç¾¤éå¸¸èªæ˜çš„äººï¼Œè€æ¿ä¹Ÿå¾ˆæœ‰æ™ºæ…§ï¼Œæˆ‘å¾ˆæ•¬ä½©ä»–ã€‚æˆ‘å‘Šè¯‰è€æ¿æˆ‘æƒ³å¼€åŠä¸€å®¶å…¬å¸ï¼Œåœ¨ç½‘ä¸Šå–ä¹¦ã€‚è€æ¿å¸¦æˆ‘åœ¨ä¸­å¤®å…¬å›­æ¼«æ­¥è‰¯ä¹…ï¼Œè®¤çœŸå¬æˆ‘è®²å®Œï¼Œæœ€åè¯´ï¼šã€Œå¬èµ·æ¥çœŸæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸»æ„ã€‚ç„¶è€Œï¼Œå¯¹é‚£äº›ç›®å‰æ²¡æœ‰è°‹åˆ°ä¸€ä»½å¥½å·¥ä½œçš„äººæ¥è¯´ï¼Œè¿™ä¸ªä¸»æ„ä¼šæ›´å¥½ã€‚ã€è¿™ä¸€é€»è¾‘å¯¹æˆ‘è€Œè¨€é¢‡æœ‰é“ç†ï¼Œè€æ¿è¯´æœæˆ‘åšå‡ºæœ€ç»ˆå†³å®šä¹‹å‰å†è€ƒè™‘ 48 å°æ—¶ã€‚é‚£æ ·æƒ³æ¥ï¼Œè¿™ä¸ªå†³å®šç¡®å®å¾ˆè‰°éš¾ï¼Œä½†æ˜¯æœ€ç»ˆï¼Œæˆ‘å†³å®šæ‹¼ä¸€æ¬¡ã€‚ æˆ‘è®¤ä¸ºè‡ªå·±ä¸ä¼šä¸ºå°è¯•è¿‡åçš„å¤±è´¥è€Œé—æ†¾ï¼Œå€’æ˜¯æœ‰æ‰€å†³å®šä½†å®Œå…¨ä¸ä»˜è¯¸è¡ŒåŠ¨ä¼šä¸€ç›´ç…ç†¬ç€æˆ‘ã€‚ æ·±æ€ç†Ÿè™‘åï¼Œæˆ‘é€‰æ‹©äº†é‚£æ¡ä¸å®‰å…¨çš„é“è·¯ï¼Œå»è¿½éšå†…å¿ƒçš„çƒ­æƒ…ã€‚æˆ‘ä¸ºè‡ªå·±çš„å†³å®šæ„Ÿåˆ°éª„å‚²ã€‚ Tomorrow, in a very real sense, your life â€“ the life you author from scratch on your own â€“ begins.How will you use your gifts? What choices will you make?Will inertia be your guide, or will you follow your passions?Will you follow dogma, or will you be original?Will you choose a life of ease, or a life of service and adventure?Will you wilt under criticism, or will you follow your convictions?Will you bluff it out when youâ€™re wrong, or will you apologize?Will you guard your heart against rejection, or will you act when you fall in love?Will you play it safe, or will you be a little bit swashbuckling? When itâ€™s tough, will you give up, or will you be relentless?Will you be a cynic, or will you be a builder?Will you be clever at the expense of others, or will you be kind? æ˜å¤©ï¼Œéå¸¸ç°å®åœ°è¯´ï¼Œä»é›¶å¡‘é€ è‡ªå·±äººç”Ÿçš„æ—¶ä»£ï¼Œå³å°†å¼€å¯ã€‚ä½ ä¼šå¦‚ä½•è¿ç”¨è‡ªå·±çš„å¤©èµ‹ï¼Ÿåˆä¼šåšå‡ºæ€æ ·çš„æŠ‰æ‹©ï¼Ÿä½ ä¼šéšæ³¢é€æµï¼Œè¿˜æ˜¯è¿½éšå†…å¿ƒçš„çƒ­æƒ…ï¼Ÿä½ ä¼šé¡ºä»äºæ•™æ¡ï¼Œè¿˜æ˜¯ä¿æŒåˆå¿ƒï¼Ÿä½ ä¼šé€‰æ‹©å®‰é€¸çš„ç”Ÿæ´»ï¼Œè¿˜æ˜¯å¥‰çŒ®ä¸å†’é™©çš„äººç”Ÿï¼Ÿä½ ä¼šå±ˆäºæ‰¹è¯„ï¼Œè¿˜æ˜¯ä¼šåšå®ˆä¿¡å¿µï¼Ÿä½ ä¼šæ©é¥°é”™è¯¯ï¼Œè¿˜æ˜¯ä¼šå¦è¯šé“æ­‰ï¼Ÿä½ ä¼šå› å®³æ€•æ‹’ç»è€Œæ©é¥°çœŸå¿ƒï¼Œè¿˜æ˜¯ä¼šåœ¨æ·±çˆ±ä¸­å‹‡å¾€ç›´å‰ï¼Ÿä½ æƒ³è¦æ³¢æ¾œä¸æƒŠï¼Œè¿˜æ˜¯æƒ³æå‡»é£æµªï¼Ÿä½ ä¼šåœ¨ä¸¥å³»çš„ç°å®ä¹‹ä¸‹é€‰æ‹©æ”¾å¼ƒï¼Œè¿˜æ˜¯ä¼šä¹‰æ— åé¡¾å‰è¡Œï¼Ÿä½ è¦åšæ„¤ä¸–å«‰ä¿—è€…ï¼Œè¿˜æ˜¯è¸å®å»ºè®¾è€…ï¼Ÿä½ è¦ä¸è®¡ä¸€åˆ‡åœ°å±•ç¤ºèªæ˜ï¼Œè¿˜æ˜¯é€‰æ‹©å–„è‰¯ï¼Ÿ I will hazard a prediction. When you are 80 years old, and in a quiet moment of reflection narrating for only yourself the most personal version of your life story, the telling that will be most compact and meaningful will be the series of choices you have made. In the end, we are our choices. Build yourself a great story. Thank you and good luck! æˆ‘è¦åšä¸€ä¸ªé¢„æµ‹ï¼šåœ¨å¤§å®¶ 80 å²è¿½å¿†å¾€æ˜”çš„æ—¶åˆ»ï¼Œä¸€ä¸ªäººé™é™å¯¹å†…å¿ƒè¯‰è¯´äººç”Ÿæ•…äº‹æ—¶ï¼Œå…¶ä¸­æœ€ä¸ºå……å®ã€æœ€æœ‰æ„ä¹‰çš„é‚£æ®µæ•…äº‹ï¼Œä¼šæ˜¯å¤§å®¶åšå‡ºçš„ä¸€ç³»åˆ—é€‰æ‹©ã€‚æœ€åï¼Œ æ˜¯é€‰æ‹©å¡‘é€ äº†æˆ‘ä»¬ï¼Œä¸ºè‡ªå·±å¡‘é€ ä¸€ä¸ªä¼Ÿå¤§çš„æ•…äº‹å§ã€‚ è°¢è°¢ï¼Œç¥ç¦å¥½è¿ï¼ ï¼ˆå®Œï¼‰ è¯´æ˜ï¼šåˆå§‹è¯‘æ–‡æ¥è‡ªç½‘ç»œï¼Œæœªæ‰¾åˆ°åŸä½œè€…ã€‚ç»†èŠ‚æœ‰ç‘•ç–µï¼Œè¿˜æœ‰å°éƒ¨åˆ†æ¼è¯‘ï¼Œæˆ‘åšäº†å¤§é‡ä¿®æ­£ã€‚ Bezos æ¼”è®²è§†é¢‘ï¼šç‚¹æ­¤æ’­æ”¾","categories":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/categories/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"tags":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/tags/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Kafkaã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","slug":"Kafkaã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","date":"2019-07-17T13:05:00.000Z","updated":"2020-08-03T09:40:12.603Z","comments":true,"path":"2019/07/17/kafka-ru-men-jiu-zhe-yi-pian/","link":"","permalink":"http://www.wmyskxz.com/2019/07/17/kafka-ru-men-jiu-zhe-yi-pian/","excerpt":"","text":"ä¸ºè·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œå»ºè®®æ‚¨è®¿é—®åŸæ–‡åœ°å€ï¼šä¼ é€é—¨ å‰è¨€ï¼šåœ¨ä¹‹å‰çš„æ–‡ç« é‡Œé¢å·²ç»äº†è§£åˆ°äº†ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€æ˜¯æ€ä¹ˆæ ·çš„ä¸€ç§å­˜åœ¨ï¼ˆä¼ é€é—¨ï¼‰ï¼ŒKafka ä½œä¸ºå½“ä¸‹æµè¡Œçš„ä¸€ç§ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬ç°åœ¨å¼€å§‹å­¦ä¹ å®ƒï¼ ä¸€ã€Kafka ç®€ä»‹ Kafka åˆ›å»ºèƒŒæ™¯Kafka æ˜¯ä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿï¼ŒåŸæœ¬å¼€å‘è‡ª LinkedInï¼Œç”¨ä½œ LinkedIn çš„æ´»åŠ¨æµï¼ˆActivity Streamï¼‰å’Œè¿è¥æ•°æ®å¤„ç†ç®¡é“ï¼ˆPipelineï¼‰çš„åŸºç¡€ã€‚ç°åœ¨å®ƒå·²è¢«å¤šå®¶ä¸åŒç±»å‹çš„å…¬å¸ ä½œä¸ºå¤šç§ç±»å‹çš„æ•°æ®ç®¡é“å’Œæ¶ˆæ¯ç³»ç»Ÿä½¿ç”¨ã€‚ æ´»åŠ¨æµæ•°æ®æ˜¯å‡ ä¹æ‰€æœ‰ç«™ç‚¹åœ¨å¯¹å…¶ç½‘ç«™ä½¿ç”¨æƒ…å†µåšæŠ¥è¡¨æ—¶éƒ½è¦ç”¨åˆ°çš„æ•°æ®ä¸­æœ€å¸¸è§„çš„éƒ¨åˆ†ã€‚æ´»åŠ¨æ•°æ®åŒ…æ‹¬é¡µé¢è®¿é—®é‡ï¼ˆPage Viewï¼‰ã€è¢«æŸ¥çœ‹å†…å®¹æ–¹é¢çš„ä¿¡æ¯ä»¥åŠæœç´¢æƒ…å†µç­‰å†…å®¹ã€‚è¿™ç§æ•°æ®é€šå¸¸çš„å¤„ç†æ–¹å¼æ˜¯å…ˆæŠŠå„ç§æ´»åŠ¨ä»¥æ—¥å¿—çš„å½¢å¼å†™å…¥æŸç§æ–‡ä»¶ï¼Œç„¶åå‘¨æœŸæ€§åœ°å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œç»Ÿè®¡åˆ†æã€‚è¿è¥æ•°æ®æŒ‡çš„æ˜¯æœåŠ¡å™¨çš„æ€§èƒ½æ•°æ®ï¼ˆCPUã€IO ä½¿ç”¨ç‡ã€è¯·æ±‚æ—¶é—´ã€æœåŠ¡æ—¥å¿—ç­‰ç­‰æ•°æ®)ã€‚è¿è¥æ•°æ®çš„ç»Ÿè®¡æ–¹æ³•ç§ç±»ç¹å¤šã€‚ è¿‘å¹´æ¥ï¼Œæ´»åŠ¨å’Œè¿è¥æ•°æ®å¤„ç†å·²ç»æˆä¸ºäº†ç½‘ç«™è½¯ä»¶äº§å“ç‰¹æ€§ä¸­ä¸€ä¸ªè‡³å…³é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œè¿™å°±éœ€è¦ä¸€å¥—ç¨å¾®æ›´åŠ å¤æ‚çš„åŸºç¡€è®¾æ–½å¯¹å…¶æä¾›æ”¯æŒã€‚ Kafka ç®€ä»‹Kafka æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„ï¼ŒåŸºäºå‘å¸ƒ / è®¢é˜…çš„æ¶ˆæ¯ç³»ç»Ÿã€‚ä¸»è¦è®¾è®¡ç›®æ ‡å¦‚ä¸‹ï¼š ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(1) çš„æ–¹å¼æä¾›æ¶ˆæ¯æŒä¹…åŒ–èƒ½åŠ›ï¼Œå³ä½¿å¯¹ TB çº§ä»¥ä¸Šæ•°æ®ä¹Ÿèƒ½ä¿è¯å¸¸æ•°æ—¶é—´å¤æ‚åº¦çš„è®¿é—®æ€§èƒ½ã€‚ é«˜ååç‡ã€‚å³ä½¿åœ¨éå¸¸å»‰ä»·çš„å•†ç”¨æœºå™¨ä¸Šä¹Ÿèƒ½åšåˆ°å•æœºæ”¯æŒæ¯ç§’ 100K æ¡ä»¥ä¸Šæ¶ˆæ¯çš„ä¼ è¾“ã€‚ æ”¯æŒ Kafka Server é—´çš„æ¶ˆæ¯åˆ†åŒºï¼ŒåŠåˆ†å¸ƒå¼æ¶ˆè´¹ï¼ŒåŒæ—¶ä¿è¯æ¯ä¸ª Partition å†…çš„æ¶ˆæ¯é¡ºåºä¼ è¾“ã€‚ åŒæ—¶æ”¯æŒç¦»çº¿æ•°æ®å¤„ç†å’Œå®æ—¶æ•°æ®å¤„ç†ã€‚ Scale outï¼šæ”¯æŒåœ¨çº¿æ°´å¹³æ‰©å±•ã€‚ Kafka åŸºç¡€æ¦‚å¿µæ¦‚å¿µä¸€ï¼šç”Ÿäº§è€…ä¸æ¶ˆè´¹è€… å¯¹äº Kafka æ¥è¯´å®¢æˆ·ç«¯æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼šç”Ÿäº§è€…ï¼ˆProducerï¼‰å’Œæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ç”¨æ¥åšæ•°æ®é›†æˆçš„ Kafka Connect API å’Œæµå¼å¤„ç†çš„ Kafka Streams ç­‰é«˜é˜¶å®¢æˆ·ç«¯ï¼Œä½†è¿™äº›é«˜é˜¶å®¢æˆ·ç«¯åº•å±‚ä»ç„¶æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…APIï¼Œå®ƒä»¬åªä¸è¿‡æ˜¯åœ¨ä¸Šå±‚åšäº†å°è£…ã€‚ è¿™å¾ˆå®¹æ˜“ç†è§£ï¼Œç”Ÿäº§è€…ï¼ˆä¹Ÿç§°ä¸ºå‘å¸ƒè€…ï¼‰åˆ›å»ºæ¶ˆæ¯ï¼Œè€Œæ¶ˆè´¹è€…ï¼ˆä¹Ÿç§°ä¸ºè®¢é˜…è€…ï¼‰è´Ÿè´£æ¶ˆè´¹orè¯»å–æ¶ˆæ¯ã€‚ æ¦‚å¿µäºŒï¼šä¸»é¢˜ï¼ˆTopicï¼‰ä¸åˆ†åŒºï¼ˆPartitionï¼‰ åœ¨ Kafka ä¸­ï¼Œæ¶ˆæ¯ä»¥ä¸»é¢˜ï¼ˆTopicï¼‰æ¥åˆ†ç±»ï¼Œæ¯ä¸€ä¸ªä¸»é¢˜éƒ½å¯¹åº”ä¸€ä¸ªã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ï¼Œè¿™æœ‰ç‚¹å„¿ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è¡¨ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠæ‰€æœ‰åŒç±»çš„æ¶ˆæ¯éƒ½å¡å…¥åˆ°ä¸€ä¸ªâ€œä¸­å¿ƒâ€é˜Ÿåˆ—ä¸­ï¼ŒåŠ¿å¿…ç¼ºå°‘å¯ä¼¸ç¼©æ€§ï¼Œæ— è®ºæ˜¯ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ•°ç›®çš„å¢åŠ ï¼Œè¿˜æ˜¯æ¶ˆæ¯æ•°é‡çš„å¢åŠ ï¼Œéƒ½å¯èƒ½è€—å°½ç³»ç»Ÿçš„æ€§èƒ½æˆ–å­˜å‚¨ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼šç°åœ¨ A åŸå¸‚ç”Ÿäº§çš„æŸå•†å“éœ€è¦è¿è¾“åˆ° B åŸå¸‚ï¼Œèµ°çš„æ˜¯å…¬è·¯ï¼Œé‚£ä¹ˆå•é€šé“çš„é«˜é€Ÿå…¬è·¯ä¸è®ºæ˜¯åœ¨ã€ŒA åŸå¸‚å•†å“å¢å¤šã€è¿˜æ˜¯ã€Œç°åœ¨ C åŸå¸‚ä¹Ÿè¦å¾€ B åŸå¸‚è¿è¾“ä¸œè¥¿ã€è¿™æ ·çš„æƒ…å†µä¸‹éƒ½ä¼šå‡ºç°ã€Œååé‡ä¸è¶³ã€çš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¼•å…¥åˆ†åŒºï¼ˆPartitionï¼‰çš„æ¦‚å¿µï¼Œç±»ä¼¼â€œå…è®¸å¤šä¿®å‡ æ¡é“â€çš„æ–¹å¼å¯¹æˆ‘ä»¬çš„ä¸»é¢˜å®Œæˆäº†æ°´å¹³æ‰©å±•ã€‚ æ¦‚å¿µä¸‰ï¼šBroker å’Œé›†ç¾¤ï¼ˆClusterï¼‰ä¸€ä¸ª Kafka æœåŠ¡å™¨ä¹Ÿç§°ä¸º Brokerï¼Œå®ƒæ¥å—ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å­˜å…¥ç£ç›˜ï¼›Broker åŒæ—¶æœåŠ¡æ¶ˆè´¹è€…æ‹‰å–åˆ†åŒºæ¶ˆæ¯çš„è¯·æ±‚ï¼Œè¿”å›ç›®å‰å·²ç»æäº¤çš„æ¶ˆæ¯ã€‚ä½¿ç”¨ç‰¹å®šçš„æœºå™¨ç¡¬ä»¶ï¼Œä¸€ä¸ª Broker æ¯ç§’å¯ä»¥å¤„ç†æˆåƒä¸Šä¸‡çš„åˆ†åŒºå’Œç™¾ä¸‡é‡çº§çš„æ¶ˆæ¯ã€‚ï¼ˆç°åœ¨åŠ¨ä¸åŠ¨å°±ç™¾ä¸‡é‡çº§..æˆ‘ç‰¹åœ°å»æŸ¥äº†ä¸€æŠŠï¼Œå¥½åƒç¡®å®é›†ç¾¤çš„æƒ…å†µä¸‹ååé‡æŒºé«˜çš„..æ‘..ï¼‰ è‹¥å¹²ä¸ª Broker ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼ˆClusterï¼‰ï¼Œå…¶ä¸­é›†ç¾¤å†…æŸä¸ª Broker ä¼šæˆä¸ºé›†ç¾¤æ§åˆ¶å™¨ï¼ˆCluster Controllerï¼‰ï¼Œå®ƒè´Ÿè´£ç®¡ç†é›†ç¾¤ï¼ŒåŒ…æ‹¬åˆ†é…åˆ†åŒºåˆ° Brokerã€ç›‘æ§ Broker æ•…éšœç­‰ã€‚åœ¨é›†ç¾¤å†…ï¼Œä¸€ä¸ªåˆ†åŒºç”±ä¸€ä¸ª Broker è´Ÿè´£ï¼Œè¿™ä¸ª Broker ä¹Ÿç§°ä¸ºè¿™ä¸ªåˆ†åŒºçš„ Leaderï¼›å½“ç„¶ä¸€ä¸ªåˆ†åŒºå¯ä»¥è¢«å¤åˆ¶åˆ°å¤šä¸ª Broker ä¸Šæ¥å®ç°å†—ä½™ï¼Œè¿™æ ·å½“å­˜åœ¨ Broker æ•…éšœæ—¶å¯ä»¥å°†å…¶åˆ†åŒºé‡æ–°åˆ†é…åˆ°å…¶ä»– Broker æ¥è´Ÿè´£ã€‚ä¸‹å›¾æ˜¯ä¸€ä¸ªæ ·ä¾‹ï¼š Kafka çš„ä¸€ä¸ªå…³é”®æ€§è´¨æ˜¯æ—¥å¿—ä¿ç•™ï¼ˆretentionï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸»é¢˜çš„æ¶ˆæ¯ä¿ç•™ç­–ç•¥ï¼Œè­¬å¦‚åªä¿ç•™ä¸€æ®µæ—¶é—´çš„æ—¥å¿—æˆ–è€…åªä¿ç•™ç‰¹å®šå¤§å°çš„æ—¥å¿—ã€‚å½“è¶…è¿‡è¿™äº›é™åˆ¶æ—¶ï¼Œè€çš„æ¶ˆæ¯ä¼šè¢«åˆ é™¤ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é’ˆå¯¹æŸä¸ªä¸»é¢˜å•ç‹¬è®¾ç½®æ¶ˆæ¯è¿‡æœŸç­–ç•¥ï¼Œè¿™æ ·å¯¹äºä¸åŒåº”ç”¨å¯ä»¥å®ç°ä¸ªæ€§åŒ–ã€‚ æ¦‚å¿µå››ï¼šå¤šé›†ç¾¤éšç€ä¸šåŠ¡å‘å±•ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¤šé›†ç¾¤ï¼Œé€šå¸¸å¤„äºä¸‹é¢å‡ ä¸ªåŸå› ï¼š åŸºäºæ•°æ®çš„éš”ç¦»ï¼› åŸºäºå®‰å…¨çš„éš”ç¦»ï¼› å¤šæ•°æ®ä¸­å¿ƒï¼ˆå®¹ç¾ï¼‰ å½“æ„å»ºå¤šä¸ªæ•°æ®ä¸­å¿ƒæ—¶ï¼Œå¾€å¾€éœ€è¦å®ç°æ¶ˆæ¯äº’é€šã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ç”¨æˆ·ä¿®æ”¹äº†ä¸ªäººèµ„æ–™ï¼Œé‚£ä¹ˆåç»­çš„è¯·æ±‚æ— è®ºè¢«å“ªä¸ªæ•°æ®ä¸­å¿ƒå¤„ç†ï¼Œè¿™ä¸ªæ›´æ–°éœ€è¦åæ˜ å‡ºæ¥ã€‚åˆæˆ–è€…ï¼Œå¤šä¸ªæ•°æ®ä¸­å¿ƒçš„æ•°æ®éœ€è¦æ±‡æ€»åˆ°ä¸€ä¸ªæ€»æ§ä¸­å¿ƒæ¥åšæ•°æ®åˆ†æã€‚ ä¸Šé¢è¯´çš„åˆ†åŒºå¤åˆ¶å†—ä½™æœºåˆ¶åªé€‚ç”¨äºåŒä¸€ä¸ª Kafka é›†ç¾¤å†…éƒ¨ï¼Œå¯¹äºå¤šä¸ª Kafka é›†ç¾¤æ¶ˆæ¯åŒæ­¥å¯ä»¥ä½¿ç”¨ Kafka æä¾›çš„ MirrorMaker å·¥å…·ã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒMirrorMaker åªæ˜¯ä¸€ä¸ª Kafka æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—è¿æ¥èµ·æ¥è€Œå·²ã€‚å®ƒä»ä¸€ä¸ªé›†ç¾¤ä¸­æ¶ˆè´¹æ¶ˆæ¯ï¼Œç„¶åå¾€å¦ä¸€ä¸ªé›†ç¾¤ç”Ÿäº§æ¶ˆæ¯ã€‚ äºŒã€Kafka çš„è®¾è®¡ä¸å®ç° ä¸Šé¢æˆ‘ä»¬çŸ¥é“äº† Kafka ä¸­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œä½†ä½œä¸ºä¸€ä¸ªæˆç†Ÿçš„ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ä¸­é—´ä»¶ï¼Œå…¶ä¸­æœ‰è®¸å¤šæœ‰æ„æ€çš„è®¾è®¡å€¼å¾—æˆ‘ä»¬æ€è€ƒï¼Œä¸‹é¢æˆ‘ä»¬ç®€å•åˆ—ä¸¾ä¸€äº›ã€‚ è®¨è®ºä¸€ï¼šKafka å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šæ˜¯çš„ï¼Œæ‚¨é¦–å…ˆåº”è¯¥çŸ¥é“ Kafka çš„æ¶ˆæ¯æ˜¯å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šçš„ã€‚Kafka é«˜åº¦ä¾èµ–æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨å’Œç¼“å­˜æ¶ˆæ¯ï¼Œä¸€èˆ¬çš„äººè®¤ä¸º â€œç£ç›˜æ˜¯ç¼“æ…¢çš„â€ï¼Œæ‰€ä»¥å¯¹è¿™æ ·çš„è®¾è®¡æŒæœ‰æ€€ç–‘æ€åº¦ã€‚å®é™…ä¸Šï¼Œç£ç›˜æ¯”äººä»¬é¢„æƒ³çš„å¿«å¾ˆå¤šä¹Ÿæ…¢å¾ˆå¤šï¼Œè¿™å–å†³äºå®ƒä»¬å¦‚ä½•è¢«ä½¿ç”¨ï¼›ä¸€ä¸ªå¥½çš„ç£ç›˜ç»“æ„è®¾è®¡å¯ä»¥ä½¿ä¹‹è·Ÿç½‘ç»œé€Ÿåº¦ä¸€æ ·å¿«ã€‚ ç°ä»£çš„æ“ä½œç³»ç»Ÿé’ˆå¯¹ç£ç›˜çš„è¯»å†™å·²ç»åšäº†ä¸€äº›ä¼˜åŒ–æ–¹æ¡ˆæ¥åŠ å¿«ç£ç›˜çš„è®¿é—®é€Ÿåº¦ã€‚æ¯”å¦‚ï¼Œé¢„è¯»ä¼šæå‰å°†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç£ç›˜å¿«è¯»å…¥å†…å­˜ã€‚åå†™ä¼šå°†å¾ˆå¤šå°çš„é€»è¾‘å†™æ“ä½œåˆå¹¶èµ·æ¥ç»„åˆæˆä¸€ä¸ªå¤§çš„ç‰©ç†å†™æ“ä½œã€‚å¹¶ä¸”ï¼Œæ“ä½œç³»ç»Ÿè¿˜ä¼šå°†ä¸»å†…å­˜å‰©ä½™çš„æ‰€æœ‰ç©ºé—²å†…å­˜ç©ºé—´éƒ½ç”¨ä½œç£ç›˜ç¼“å­˜ï¼Œæ‰€æœ‰çš„ç£ç›˜è¯»å†™æ“ä½œéƒ½ä¼šç»è¿‡ç»Ÿä¸€çš„ç£ç›˜ç¼“å­˜ï¼ˆé™¤äº†ç›´æ¥ I/O ä¼šç»•è¿‡ç£ç›˜ç¼“å­˜ï¼‰ã€‚ç»¼åˆè¿™å‡ ç‚¹ä¼˜åŒ–ç‰¹ç‚¹ï¼Œå¦‚æœæ˜¯é’ˆå¯¹ç£ç›˜çš„é¡ºåºè®¿é—®ï¼ŒæŸäº›æƒ…å†µä¸‹å®ƒå¯èƒ½æ¯”éšæœºçš„å†…å­˜è®¿é—®éƒ½è¦å¿«ï¼Œç”šè‡³å¯ä»¥å’Œç½‘ç»œçš„é€Ÿåº¦ç›¸å·®æ— å‡ ã€‚ ä¸Šè¿°çš„ Topic å…¶å®æ˜¯é€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œé¢ç›¸æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ï¼Œç‰©ç†ä¸Šå­˜å‚¨çš„å…¶å®æ˜¯ Partitionï¼Œæ¯ä¸€ä¸ª Partition æœ€ç»ˆå¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œé‡Œé¢å­˜å‚¨æ‰€æœ‰çš„æ¶ˆæ¯å’Œç´¢å¼•æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ª Topic åœ¨åˆ›å»ºæ—¶å¦‚æœä¸æŒ‡å®š Partition æ•°é‡æ—¶åªä¼šåˆ›å»º 1 ä¸ª Partitionã€‚æ¯”å¦‚ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª Topic åå­—ä¸º test ï¼Œæ²¡æœ‰æŒ‡å®š Partition çš„æ•°é‡ï¼Œé‚£ä¹ˆä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª test-0 çš„æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œçš„å‘½åè§„åˆ™æ˜¯ï¼š&lt;topic_name&gt;-&lt;partition_id&gt;ã€‚ ä»»ä½•å‘å¸ƒåˆ° Partition çš„æ¶ˆæ¯éƒ½ä¼šè¢«è¿½åŠ åˆ° Partition æ•°æ®æ–‡ä»¶çš„å°¾éƒ¨ï¼Œè¿™æ ·çš„é¡ºåºå†™ç£ç›˜æ“ä½œè®© Kafka çš„æ•ˆç‡éå¸¸é«˜ï¼ˆç»éªŒè¯ï¼Œé¡ºåºå†™ç£ç›˜æ•ˆç‡æ¯”éšæœºå†™å†…å­˜è¿˜è¦é«˜ï¼Œè¿™æ˜¯ Kafka é«˜ååç‡çš„ä¸€ä¸ªå¾ˆé‡è¦çš„ä¿è¯ï¼‰ã€‚ æ¯ä¸€æ¡æ¶ˆæ¯è¢«å‘é€åˆ° Broker ä¸­ï¼Œä¼šæ ¹æ® Partition è§„åˆ™é€‰æ‹©è¢«å­˜å‚¨åˆ°å“ªä¸€ä¸ª Partitionã€‚å¦‚æœ Partition è§„åˆ™è®¾ç½®çš„åˆç†ï¼Œæ‰€æœ‰æ¶ˆæ¯å¯ä»¥å‡åŒ€åˆ†å¸ƒåˆ°ä¸åŒçš„ Partitionä¸­ã€‚ è®¨è®ºäºŒï¼šKafka ä¸­çš„åº•å±‚å­˜å‚¨è®¾è®¡å‡è®¾æˆ‘ä»¬ç°åœ¨ Kafka é›†ç¾¤åªæœ‰ä¸€ä¸ª Brokerï¼Œæˆ‘ä»¬åˆ›å»º 2 ä¸ª Topic åç§°åˆ†åˆ«ä¸ºï¼šã€Œtopic1ã€å’Œã€Œtopic2ã€ï¼ŒPartition æ•°é‡åˆ†åˆ«ä¸º 1ã€2ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ ¹ç›®å½•ä¸‹å°±ä¼šåˆ›å»ºå¦‚ä¸‹ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼š | --topic1-0 | --topic2-0 | --topic2-1 åœ¨ Kafka çš„æ–‡ä»¶å­˜å‚¨ä¸­ï¼ŒåŒä¸€ä¸ª Topic ä¸‹æœ‰å¤šä¸ªä¸åŒçš„ Partitionï¼Œæ¯ä¸ª Partition éƒ½ä¸ºä¸€ä¸ªç›®å½•ï¼Œè€Œæ¯ä¸€ä¸ªç›®å½•åˆè¢«å¹³å‡åˆ†é…æˆå¤šä¸ªå¤§å°ç›¸ç­‰çš„ Segment File ä¸­ï¼ŒSegment File åˆç”± index file å’Œ data file ç»„æˆï¼Œä»–ä»¬æ€»æ˜¯æˆå¯¹å‡ºç°ï¼Œåç¼€ â€œ.indexâ€ å’Œ â€œ.logâ€ åˆ†è¡¨è¡¨ç¤º Segment ç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ã€‚ ç°åœ¨å‡è®¾æˆ‘ä»¬è®¾ç½®æ¯ä¸ª Segment å¤§å°ä¸º 500 MBï¼Œå¹¶å¯åŠ¨ç”Ÿäº§è€…å‘ topic1 ä¸­å†™å…¥å¤§é‡æ•°æ®ï¼Œtopic1-0 æ–‡ä»¶å¤¹ä¸­å°±ä¼šäº§ç”Ÿç±»ä¼¼å¦‚ä¸‹çš„ä¸€äº›æ–‡ä»¶ï¼š | --topic1-0 | --00000000000000000000.index | --00000000000000000000.log | --00000000000000368769.index | --00000000000000368769.log | --00000000000000737337.index | --00000000000000737337.log | --00000000000001105814.index | --00000000000001105814.log | --topic2-0 | --topic2-1 Segment æ˜¯ Kafka æ–‡ä»¶å­˜å‚¨çš„æœ€å°å•ä½ã€‚Segment æ–‡ä»¶å‘½åè§„åˆ™ï¼šPartition å…¨å±€çš„ç¬¬ä¸€ä¸ª Segment ä» 0 å¼€å§‹ï¼Œåç»­æ¯ä¸ª Segment æ–‡ä»¶åä¸ºä¸Šä¸€ä¸ª Segment æ–‡ä»¶æœ€åä¸€æ¡æ¶ˆæ¯çš„ offset å€¼ã€‚æ•°å€¼æœ€å¤§ä¸º 64 ä½ long å¤§å°ï¼Œ19 ä½æ•°å­—å­—ç¬¦é•¿åº¦ï¼Œæ²¡æœ‰æ•°å­—ç”¨0å¡«å……ã€‚å¦‚ 00000000000000368769.index å’Œ 00000000000000368769.logã€‚ ä»¥ä¸Šé¢çš„ä¸€å¯¹ Segment File ä¸ºä¾‹ï¼Œè¯´æ˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶å¯¹åº”å…³ç³»ï¼š å…¶ä¸­ä»¥ç´¢å¼•æ–‡ä»¶ä¸­å…ƒæ•°æ® &lt;3, 497&gt; ä¸ºä¾‹ï¼Œä¾æ¬¡åœ¨æ•°æ®æ–‡ä»¶ä¸­è¡¨ç¤ºç¬¬ 3 ä¸ª messageï¼ˆåœ¨å…¨å±€ Partition è¡¨ç¤ºç¬¬ 368769 + 3 = 368772 ä¸ª messageï¼‰ä»¥åŠè¯¥æ¶ˆæ¯çš„ç‰©ç†åç§»åœ°å€ä¸º 497ã€‚ æ³¨æ„è¯¥ index æ–‡ä»¶å¹¶ä¸æ˜¯ä»0å¼€å§‹ï¼Œä¹Ÿä¸æ˜¯æ¯æ¬¡é€’å¢1çš„ï¼Œè¿™æ˜¯å› ä¸º Kafka é‡‡å–ç¨€ç–ç´¢å¼•å­˜å‚¨çš„æ–¹å¼ï¼Œæ¯éš”ä¸€å®šå­—èŠ‚çš„æ•°æ®å»ºç«‹ä¸€æ¡ç´¢å¼•ï¼Œå®ƒå‡å°‘äº†ç´¢å¼•æ–‡ä»¶å¤§å°ï¼Œä½¿å¾—èƒ½å¤ŸæŠŠ index æ˜ å°„åˆ°å†…å­˜ï¼Œé™ä½äº†æŸ¥è¯¢æ—¶çš„ç£ç›˜ IO å¼€é”€ï¼ŒåŒæ—¶ä¹Ÿå¹¶æ²¡æœ‰ç»™æŸ¥è¯¢å¸¦æ¥å¤ªå¤šçš„æ—¶é—´æ¶ˆè€—ã€‚ å› ä¸ºå…¶æ–‡ä»¶åä¸ºä¸Šä¸€ä¸ª Segment æœ€åä¸€æ¡æ¶ˆæ¯çš„ offset ï¼Œæ‰€ä»¥å½“éœ€è¦æŸ¥æ‰¾ä¸€ä¸ªæŒ‡å®š offset çš„ message æ—¶ï¼Œé€šè¿‡åœ¨æ‰€æœ‰ segment çš„æ–‡ä»¶åä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å°±èƒ½æ‰¾åˆ°å®ƒå½’å±çš„ segment ï¼Œå†åœ¨å…¶ index æ–‡ä»¶ä¸­æ‰¾åˆ°å…¶å¯¹åº”åˆ°æ–‡ä»¶ä¸Šçš„ç‰©ç†ä½ç½®ï¼Œå°±èƒ½æ‹¿å‡ºè¯¥ message ã€‚ ç”±äºæ¶ˆæ¯åœ¨ Partition çš„ Segment æ•°æ®æ–‡ä»¶ä¸­æ˜¯é¡ºåºè¯»å†™çš„ï¼Œä¸”æ¶ˆæ¯æ¶ˆè´¹åä¸ä¼šåˆ é™¤ï¼ˆåˆ é™¤ç­–ç•¥æ˜¯é’ˆå¯¹è¿‡æœŸçš„ Segment æ–‡ä»¶ï¼‰ï¼Œè¿™ç§é¡ºåºç£ç›˜ IO å­˜å‚¨è®¾è®¡å¸ˆ Kafka é«˜æ€§èƒ½å¾ˆé‡è¦çš„åŸå› ã€‚ Kafka æ˜¯å¦‚ä½•å‡†ç¡®çš„çŸ¥é“ message çš„åç§»çš„å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨ Kafka å®šä¹‰äº†æ ‡å‡†çš„æ•°æ®å­˜å‚¨ç»“æ„ï¼Œåœ¨ Partition ä¸­çš„æ¯ä¸€æ¡ message éƒ½åŒ…å«äº†ä»¥ä¸‹ä¸‰ä¸ªå±æ€§ï¼š offsetï¼šè¡¨ç¤º message åœ¨å½“å‰ Partition ä¸­çš„åç§»é‡ï¼Œæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„å€¼ï¼Œå”¯ä¸€ç¡®å®šäº† Partition ä¸­çš„ä¸€æ¡ messageï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä¸€ä¸ª idï¼› MessageSizeï¼šè¡¨ç¤º message å†…å®¹ data çš„å¤§å°ï¼› dataï¼šmessage çš„å…·ä½“å†…å®¹ è®¨è®ºä¸‰ï¼šç”Ÿäº§è€…è®¾è®¡æ¦‚è¦å½“æˆ‘ä»¬å‘é€æ¶ˆæ¯ä¹‹å‰ï¼Œå…ˆé—®å‡ ä¸ªé—®é¢˜ï¼šæ¯æ¡æ¶ˆæ¯éƒ½æ˜¯å¾ˆå…³é”®ä¸”ä¸èƒ½å®¹å¿ä¸¢å¤±ä¹ˆï¼Ÿå¶å°”é‡å¤æ¶ˆæ¯å¯ä»¥ä¹ˆï¼Ÿæˆ‘ä»¬å…³æ³¨çš„æ˜¯æ¶ˆæ¯å»¶è¿Ÿè¿˜æ˜¯å†™å…¥æ¶ˆæ¯çš„ååé‡ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸€ä¸ªä¿¡ç”¨å¡äº¤æ˜“å¤„ç†ç³»ç»Ÿï¼Œå½“äº¤æ˜“å‘ç”Ÿæ—¶ä¼šå‘é€ä¸€æ¡æ¶ˆæ¯åˆ° Kafkaï¼Œå¦ä¸€ä¸ªæœåŠ¡æ¥è¯»å–æ¶ˆæ¯å¹¶æ ¹æ®è§„åˆ™å¼•æ“æ¥æ£€æŸ¥äº¤æ˜“æ˜¯å¦é€šè¿‡ï¼Œå°†ç»“æœé€šè¿‡ Kafka è¿”å›ã€‚å¯¹äºè¿™æ ·çš„ä¸šåŠ¡ï¼Œæ¶ˆæ¯æ—¢ä¸èƒ½ä¸¢å¤±ä¹Ÿä¸èƒ½é‡å¤ï¼Œç”±äºäº¤æ˜“é‡å¤§å› æ­¤ååé‡éœ€è¦å°½å¯èƒ½å¤§ï¼Œå»¶è¿Ÿå¯ä»¥ç¨å¾®é«˜ä¸€ç‚¹ã€‚ å†ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦æ”¶é›†ç”¨æˆ·åœ¨ç½‘é¡µä¸Šçš„ç‚¹å‡»æ•°æ®ï¼Œå¯¹äºè¿™æ ·çš„åœºæ™¯ï¼Œå°‘é‡æ¶ˆæ¯ä¸¢å¤±æˆ–è€…é‡å¤æ˜¯å¯ä»¥å®¹å¿çš„ï¼Œå»¶è¿Ÿå¤šå¤§éƒ½ä¸é‡è¦åªè¦ä¸å½±å“ç”¨æˆ·ä½“éªŒï¼Œåååˆ™æ ¹æ®å®æ—¶ç”¨æˆ·æ•°æ¥å†³å®šã€‚ ä¸åŒçš„ä¸šåŠ¡éœ€è¦ä½¿ç”¨ä¸åŒçš„å†™å…¥æ–¹å¼å’Œé…ç½®ã€‚å…·ä½“çš„æ–¹å¼æˆ‘ä»¬åœ¨è¿™é‡Œä¸åšè®¨è®ºï¼Œç°åœ¨å…ˆçœ‹ä¸‹ç”Ÿäº§è€…å†™æ¶ˆæ¯çš„åŸºæœ¬æµç¨‹ï¼š å›¾ç‰‡æ¥æºï¼šhttp://www.dengshenyu.com/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/2017/11/12/kafka-producer.html æµç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªProducerRecordï¼Œè¿™ä¸ªå¯¹è±¡éœ€è¦åŒ…å«æ¶ˆæ¯çš„ä¸»é¢˜ï¼ˆtopicï¼‰å’Œå€¼ï¼ˆvalueï¼‰ï¼Œå¯ä»¥é€‰æ‹©æ€§æŒ‡å®šä¸€ä¸ªé”®å€¼ï¼ˆkeyï¼‰æˆ–è€…åˆ†åŒºï¼ˆpartitionï¼‰ã€‚ å‘é€æ¶ˆæ¯æ—¶ï¼Œç”Ÿäº§è€…ä¼šå¯¹é”®å€¼å’Œå€¼åºåˆ—åŒ–æˆå­—èŠ‚æ•°ç»„ï¼Œç„¶åå‘é€åˆ°åˆ†é…å™¨ï¼ˆpartitionerï¼‰ã€‚ å¦‚æœæˆ‘ä»¬æŒ‡å®šäº†åˆ†åŒºï¼Œé‚£ä¹ˆåˆ†é…å™¨è¿”å›è¯¥åˆ†åŒºå³å¯ï¼›å¦åˆ™ï¼Œåˆ†é…å™¨å°†ä¼šåŸºäºé”®å€¼æ¥é€‰æ‹©ä¸€ä¸ªåˆ†åŒºå¹¶è¿”å›ã€‚ é€‰æ‹©å®Œåˆ†åŒºåï¼Œç”Ÿäº§è€…çŸ¥é“äº†æ¶ˆæ¯æ‰€å±çš„ä¸»é¢˜å’Œåˆ†åŒºï¼Œå®ƒå°†è¿™æ¡è®°å½•æ·»åŠ åˆ°ç›¸åŒä¸»é¢˜å’Œåˆ†åŒºçš„æ‰¹é‡æ¶ˆæ¯ä¸­ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è´Ÿè´£å‘é€è¿™äº›æ‰¹é‡æ¶ˆæ¯åˆ°å¯¹åº”çš„Kafka brokerã€‚ å½“brokeræ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå¦‚æœæˆåŠŸå†™å…¥åˆ™è¿”å›ä¸€ä¸ªåŒ…å«æ¶ˆæ¯çš„ä¸»é¢˜ã€åˆ†åŒºåŠä½ç§»çš„RecordMetadataå¯¹è±¡ï¼Œå¦åˆ™è¿”å›å¼‚å¸¸ã€‚ ç”Ÿäº§è€…æ¥æ”¶åˆ°ç»“æœåï¼Œå¯¹äºå¼‚å¸¸å¯èƒ½ä¼šè¿›è¡Œé‡è¯•ã€‚ è®¨è®ºå››ï¼šæ¶ˆè´¹è€…è®¾è®¡æ¦‚è¦æ¶ˆè´¹è€…ä¸æ¶ˆè´¹ç»„å‡è®¾è¿™ä¹ˆä¸ªåœºæ™¯ï¼šæˆ‘ä»¬ä»Kafkaä¸­è¯»å–æ¶ˆæ¯ï¼Œå¹¶ä¸”è¿›è¡Œæ£€æŸ¥ï¼Œæœ€åäº§ç”Ÿç»“æœæ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹å»åšè¿™ä»¶äº‹æƒ…ï¼Œä½†å¦‚æœç”Ÿäº§è€…å†™å…¥æ¶ˆæ¯çš„é€Ÿåº¦æ¯”æ¶ˆè´¹è€…è¯»å–çš„é€Ÿåº¦å¿«æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ ·éšç€æ—¶é—´å¢é•¿ï¼Œæ¶ˆæ¯å †ç§¯è¶Šæ¥è¶Šä¸¥é‡ã€‚å¯¹äºè¿™ç§åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ å¤šä¸ªæ¶ˆè´¹è€…æ¥è¿›è¡Œæ°´å¹³æ‰©å±•ã€‚ Kafkaæ¶ˆè´¹è€…æ˜¯æ¶ˆè´¹ç»„çš„ä¸€éƒ¨åˆ†ï¼Œå½“å¤šä¸ªæ¶ˆè´¹è€…å½¢æˆä¸€ä¸ªæ¶ˆè´¹ç»„æ¥æ¶ˆè´¹ä¸»é¢˜æ—¶ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…ä¼šæ”¶åˆ°ä¸åŒåˆ†åŒºçš„æ¶ˆæ¯ã€‚å‡è®¾æœ‰ä¸€ä¸ªT1ä¸»é¢˜ï¼Œè¯¥ä¸»é¢˜æœ‰4ä¸ªåˆ†åŒºï¼›åŒæ—¶æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¶ˆè´¹ç»„G1ï¼Œè¿™ä¸ªæ¶ˆè´¹ç»„åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…C1ã€‚é‚£ä¹ˆæ¶ˆè´¹è€…C1å°†ä¼šæ”¶åˆ°è¿™4ä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å¦‚æœæˆ‘ä»¬å¢åŠ æ–°çš„æ¶ˆè´¹è€…C2åˆ°æ¶ˆè´¹ç»„G1ï¼Œé‚£ä¹ˆæ¯ä¸ªæ¶ˆè´¹è€…å°†ä¼šåˆ†åˆ«æ”¶åˆ°ä¸¤ä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å¦‚æœå¢åŠ åˆ°4ä¸ªæ¶ˆè´¹è€…ï¼Œé‚£ä¹ˆæ¯ä¸ªæ¶ˆè´¹è€…å°†ä¼šåˆ†åˆ«æ”¶åˆ°ä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä½†å¦‚æœæˆ‘ä»¬ç»§ç»­å¢åŠ æ¶ˆè´¹è€…åˆ°è¿™ä¸ªæ¶ˆè´¹ç»„ï¼Œå‰©ä½™çš„æ¶ˆè´¹è€…å°†ä¼šç©ºé—²ï¼Œä¸ä¼šæ”¶åˆ°ä»»ä½•æ¶ˆæ¯ï¼š æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ æ¶ˆè´¹ç»„çš„æ¶ˆè´¹è€…æ¥è¿›è¡Œæ°´å¹³æ‰©å±•æå‡æ¶ˆè´¹èƒ½åŠ›ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå»ºè®®åˆ›å»ºä¸»é¢˜æ—¶ä½¿ç”¨æ¯”è¾ƒå¤šçš„åˆ†åŒºæ•°ï¼Œè¿™æ ·å¯ä»¥åœ¨æ¶ˆè´¹è´Ÿè½½é«˜çš„æƒ…å†µä¸‹å¢åŠ æ¶ˆè´¹è€…æ¥æå‡æ€§èƒ½ã€‚å¦å¤–ï¼Œæ¶ˆè´¹è€…çš„æ•°é‡ä¸åº”è¯¥æ¯”åˆ†åŒºæ•°å¤šï¼Œå› ä¸ºå¤šå‡ºæ¥çš„æ¶ˆè´¹è€…æ˜¯ç©ºé—²çš„ï¼Œæ²¡æœ‰ä»»ä½•å¸®åŠ©ã€‚ Kafkaä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§å°±æ˜¯ï¼Œåªéœ€å†™å…¥ä¸€æ¬¡æ¶ˆæ¯ï¼Œå¯ä»¥æ”¯æŒä»»æ„å¤šçš„åº”ç”¨è¯»å–è¿™ä¸ªæ¶ˆæ¯ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥è¯»åˆ°å…¨é‡çš„æ¶ˆæ¯ã€‚ä¸ºäº†ä½¿å¾—æ¯ä¸ªåº”ç”¨éƒ½èƒ½è¯»åˆ°å…¨é‡æ¶ˆæ¯ï¼Œåº”ç”¨éœ€è¦æœ‰ä¸åŒçš„æ¶ˆè´¹ç»„ã€‚å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ªæ–°çš„æ¶ˆè´¹ç»„G2ï¼Œè€Œè¿™ä¸ªæ¶ˆè´¹ç»„æœ‰ä¸¤ä¸ªæ¶ˆè´¹è€…ï¼Œé‚£ä¹ˆä¼šæ˜¯è¿™æ ·çš„ï¼š åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæ¶ˆè´¹ç»„G1å’Œæ¶ˆè´¹ç»„G2éƒ½èƒ½æ”¶åˆ°T1ä¸»é¢˜çš„å…¨é‡æ¶ˆæ¯ï¼Œåœ¨é€»è¾‘æ„ä¹‰ä¸Šæ¥è¯´å®ƒä»¬å±äºä¸åŒçš„åº”ç”¨ã€‚ æœ€åï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ï¼šå¦‚æœåº”ç”¨éœ€è¦è¯»å–å…¨é‡æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¯·ä¸ºè¯¥åº”ç”¨è®¾ç½®ä¸€ä¸ªæ¶ˆè´¹ç»„ï¼›å¦‚æœè¯¥åº”ç”¨æ¶ˆè´¹èƒ½åŠ›ä¸è¶³ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘åœ¨è¿™ä¸ªæ¶ˆè´¹ç»„é‡Œå¢åŠ æ¶ˆè´¹è€…ã€‚ æ¶ˆè´¹ç»„ä¸åˆ†åŒºé‡å¹³è¡¡å¯ä»¥çœ‹åˆ°ï¼Œå½“æ–°çš„æ¶ˆè´¹è€…åŠ å…¥æ¶ˆè´¹ç»„ï¼Œå®ƒä¼šæ¶ˆè´¹ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†åŒºï¼Œè€Œè¿™äº›åˆ†åŒºä¹‹å‰æ˜¯ç”±å…¶ä»–æ¶ˆè´¹è€…è´Ÿè´£çš„ï¼›å¦å¤–ï¼Œå½“æ¶ˆè´¹è€…ç¦»å¼€æ¶ˆè´¹ç»„ï¼ˆæ¯”å¦‚é‡å¯ã€å®•æœºç­‰ï¼‰æ—¶ï¼Œå®ƒæ‰€æ¶ˆè´¹çš„åˆ†åŒºä¼šåˆ†é…ç»™å…¶ä»–åˆ†åŒºã€‚è¿™ç§ç°è±¡ç§°ä¸ºé‡å¹³è¡¡ï¼ˆrebalanceï¼‰ã€‚é‡å¹³è¡¡æ˜¯ Kafka ä¸€ä¸ªå¾ˆé‡è¦çš„æ€§è´¨ï¼Œè¿™ä¸ªæ€§è´¨ä¿è¯äº†é«˜å¯ç”¨å’Œæ°´å¹³æ‰©å±•ã€‚ä¸è¿‡ä¹Ÿéœ€è¦æ³¨æ„åˆ°ï¼Œåœ¨é‡å¹³è¡¡æœŸé—´ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…éƒ½ä¸èƒ½æ¶ˆè´¹æ¶ˆæ¯ï¼Œå› æ­¤ä¼šé€ æˆæ•´ä¸ªæ¶ˆè´¹ç»„çŸ­æš‚çš„ä¸å¯ç”¨ã€‚è€Œä¸”ï¼Œå°†åˆ†åŒºè¿›è¡Œé‡å¹³è¡¡ä¹Ÿä¼šå¯¼è‡´åŸæ¥çš„æ¶ˆè´¹è€…çŠ¶æ€è¿‡æœŸï¼Œä»è€Œå¯¼è‡´æ¶ˆè´¹è€…éœ€è¦é‡æ–°æ›´æ–°çŠ¶æ€ï¼Œè¿™æ®µæœŸé—´ä¹Ÿä¼šé™ä½æ¶ˆè´¹æ€§èƒ½ã€‚åé¢æˆ‘ä»¬ä¼šè®¨è®ºå¦‚ä½•å®‰å…¨çš„è¿›è¡Œé‡å¹³è¡¡ä»¥åŠå¦‚ä½•å°½å¯èƒ½é¿å…ã€‚ æ¶ˆè´¹è€…é€šè¿‡å®šæœŸå‘é€å¿ƒè·³ï¼ˆhearbeatï¼‰åˆ°ä¸€ä¸ªä½œä¸ºç»„åè°ƒè€…ï¼ˆgroup coordinatorï¼‰çš„ broker æ¥ä¿æŒåœ¨æ¶ˆè´¹ç»„å†…å­˜æ´»ã€‚è¿™ä¸ª broker ä¸æ˜¯å›ºå®šçš„ï¼Œæ¯ä¸ªæ¶ˆè´¹ç»„éƒ½å¯èƒ½ä¸åŒã€‚å½“æ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯æˆ–è€…æäº¤æ—¶ï¼Œä¾¿ä¼šå‘é€å¿ƒè·³ã€‚ å¦‚æœæ¶ˆè´¹è€…è¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰å‘é€å¿ƒè·³ï¼Œé‚£ä¹ˆå®ƒçš„ä¼šè¯ï¼ˆsessionï¼‰å°±ä¼šè¿‡æœŸï¼Œç»„åè°ƒè€…ä¼šè®¤ä¸ºè¯¥æ¶ˆè´¹è€…å·²ç»å®•æœºï¼Œç„¶åè§¦å‘é‡å¹³è¡¡ã€‚å¯ä»¥çœ‹åˆ°ï¼Œä»æ¶ˆè´¹è€…å®•æœºåˆ°ä¼šè¯è¿‡æœŸæ˜¯æœ‰ä¸€å®šæ—¶é—´çš„ï¼Œè¿™æ®µæ—¶é—´å†…è¯¥æ¶ˆè´¹è€…çš„åˆ†åŒºéƒ½ä¸èƒ½è¿›è¡Œæ¶ˆæ¯æ¶ˆè´¹ï¼›é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¼˜é›…å…³é—­ï¼Œè¿™æ ·æ¶ˆè´¹è€…ä¼šå‘é€ç¦»å¼€çš„æ¶ˆæ¯åˆ°ç»„åè°ƒè€…ï¼Œè¿™æ ·ç»„åè°ƒè€…å¯ä»¥ç«‹å³è¿›è¡Œé‡å¹³è¡¡è€Œä¸éœ€è¦ç­‰å¾…ä¼šè¯è¿‡æœŸã€‚ åœ¨ 0.10.1 ç‰ˆæœ¬ï¼ŒKafka å¯¹å¿ƒè·³æœºåˆ¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œå°†å‘é€å¿ƒè·³ä¸æ‹‰å–æ¶ˆæ¯è¿›è¡Œåˆ†ç¦»ï¼Œè¿™æ ·ä½¿å¾—å‘é€å¿ƒè·³çš„é¢‘ç‡ä¸å—æ‹‰å–çš„é¢‘ç‡å½±å“ã€‚å¦å¤–æ›´é«˜ç‰ˆæœ¬çš„ Kafka æ”¯æŒé…ç½®ä¸€ä¸ªæ¶ˆè´¹è€…å¤šé•¿æ—¶é—´ä¸æ‹‰å–æ¶ˆæ¯ä½†ä»ç„¶ä¿æŒå­˜æ´»ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥é¿å…æ´»é”ï¼ˆlivelockï¼‰ã€‚æ´»é”ï¼Œæ˜¯æŒ‡åº”ç”¨æ²¡æœ‰æ•…éšœä½†æ˜¯ç”±äºæŸäº›åŸå› ä¸èƒ½è¿›ä¸€æ­¥æ¶ˆè´¹ã€‚ Partition ä¸æ¶ˆè´¹æ¨¡å‹ä¸Šé¢æåˆ°ï¼ŒKafka ä¸­ä¸€ä¸ª topic ä¸­çš„æ¶ˆæ¯æ˜¯è¢«æ‰“æ•£åˆ†é…åœ¨å¤šä¸ª Partition(åˆ†åŒº) ä¸­å­˜å‚¨çš„ï¼Œ Consumer Group åœ¨æ¶ˆè´¹æ—¶éœ€è¦ä»ä¸åŒçš„ Partition è·å–æ¶ˆæ¯ï¼Œé‚£æœ€ç»ˆå¦‚ä½•é‡å»ºå‡º Topic ä¸­æ¶ˆæ¯çš„é¡ºåºå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šæ²¡æœ‰åŠæ³•ã€‚Kafka åªä¼šä¿è¯åœ¨ Partition å†…æ¶ˆæ¯æ˜¯æœ‰åºçš„ï¼Œè€Œä¸ç®¡å…¨å±€çš„æƒ…å†µã€‚ ä¸‹ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šPartition ä¸­çš„æ¶ˆæ¯å¯ä»¥è¢«ï¼ˆä¸åŒçš„ Consumer Groupï¼‰å¤šæ¬¡æ¶ˆè´¹ï¼Œé‚£ Partitionä¸­è¢«æ¶ˆè´¹çš„æ¶ˆæ¯æ˜¯ä½•æ—¶åˆ é™¤çš„ï¼Ÿ Partition åˆæ˜¯å¦‚ä½•çŸ¥é“ä¸€ä¸ª Consumer Group å½“å‰æ¶ˆè´¹çš„ä½ç½®å‘¢ï¼Ÿ æ— è®ºæ¶ˆæ¯æ˜¯å¦è¢«æ¶ˆè´¹ï¼Œé™¤éæ¶ˆæ¯åˆ°æœŸ Partition ä»ä¸åˆ é™¤æ¶ˆæ¯ã€‚ä¾‹å¦‚è®¾ç½®ä¿ç•™æ—¶é—´ä¸º 2 å¤©ï¼Œåˆ™æ¶ˆæ¯å‘å¸ƒ 2 å¤©å†…ä»»ä½• Group éƒ½å¯ä»¥æ¶ˆè´¹ï¼Œ2 å¤©åï¼Œæ¶ˆæ¯è‡ªåŠ¨è¢«åˆ é™¤ã€‚Partition ä¼šä¸ºæ¯ä¸ª Consumer Group ä¿å­˜ä¸€ä¸ªåç§»é‡ï¼Œè®°å½• Group æ¶ˆè´¹åˆ°çš„ä½ç½®ã€‚ å¦‚ä¸‹å›¾ï¼š ä¸ºä»€ä¹ˆ Kafka æ˜¯ pull æ¨¡å‹æ¶ˆè´¹è€…åº”è¯¥å‘ Broker è¦æ•°æ®ï¼ˆpullï¼‰è¿˜æ˜¯ Broker å‘æ¶ˆè´¹è€…æ¨é€æ•°æ®ï¼ˆpushï¼‰ï¼Ÿä½œä¸ºä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿï¼ŒKafka éµå¾ªäº†ä¼ ç»Ÿçš„æ–¹å¼ï¼Œé€‰æ‹©ç”± Producer å‘ broker push æ¶ˆæ¯å¹¶ç”± Consumer ä» broker pull æ¶ˆæ¯ã€‚ä¸€äº› logging-centric systemï¼Œæ¯”å¦‚ Facebook çš„Scribeå’Œ Cloudera çš„Flumeï¼Œé‡‡ç”¨ push æ¨¡å¼ã€‚äº‹å®ä¸Šï¼Œpush æ¨¡å¼å’Œ pull æ¨¡å¼å„æœ‰ä¼˜åŠ£ã€‚ push æ¨¡å¼å¾ˆéš¾é€‚åº”æ¶ˆè´¹é€Ÿç‡ä¸åŒçš„æ¶ˆè´¹è€…ï¼Œå› ä¸ºæ¶ˆæ¯å‘é€é€Ÿç‡æ˜¯ç”± broker å†³å®šçš„ã€‚push æ¨¡å¼çš„ç›®æ ‡æ˜¯å°½å¯èƒ½ä»¥æœ€å¿«é€Ÿåº¦ä¼ é€’æ¶ˆæ¯ï¼Œä½†æ˜¯è¿™æ ·å¾ˆå®¹æ˜“é€ æˆ Consumer æ¥ä¸åŠå¤„ç†æ¶ˆæ¯ï¼Œå…¸å‹çš„è¡¨ç°å°±æ˜¯æ‹’ç»æœåŠ¡ä»¥åŠç½‘ç»œæ‹¥å¡ã€‚è€Œ pull æ¨¡å¼åˆ™å¯ä»¥æ ¹æ® Consumer çš„æ¶ˆè´¹èƒ½åŠ›ä»¥é€‚å½“çš„é€Ÿç‡æ¶ˆè´¹æ¶ˆæ¯ã€‚ å¯¹äº Kafka è€Œè¨€ï¼Œpull æ¨¡å¼æ›´åˆé€‚ã€‚pull æ¨¡å¼å¯ç®€åŒ– broker çš„è®¾è®¡ï¼ŒConsumer å¯è‡ªä¸»æ§åˆ¶æ¶ˆè´¹æ¶ˆæ¯çš„é€Ÿç‡ï¼ŒåŒæ—¶ Consumer å¯ä»¥è‡ªå·±æ§åˆ¶æ¶ˆè´¹æ–¹å¼â€”â€”å³å¯æ‰¹é‡æ¶ˆè´¹ä¹Ÿå¯é€æ¡æ¶ˆè´¹ï¼ŒåŒæ—¶è¿˜èƒ½é€‰æ‹©ä¸åŒçš„æäº¤æ–¹å¼ä»è€Œå®ç°ä¸åŒçš„ä¼ è¾“è¯­ä¹‰ã€‚ è®¨è®ºäº”ï¼šKafka å¦‚ä½•ä¿è¯å¯é æ€§å½“æˆ‘ä»¬è®¨è®ºå¯é æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»ä¼šæåˆ°ä¿è¯*è¿™ä¸ªè¯è¯­ã€‚å¯é æ€§ä¿è¯æ˜¯åŸºç¡€ï¼Œæˆ‘ä»¬åŸºäºè¿™äº›åŸºç¡€ä¹‹ä¸Šæ„å»ºæˆ‘ä»¬çš„åº”ç”¨ã€‚æ¯”å¦‚å…³ç³»å‹æ•°æ®åº“çš„å¯é æ€§ä¿è¯æ˜¯ACIDï¼Œä¹Ÿå°±æ˜¯åŸå­æ€§ï¼ˆAtomicityï¼‰ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰å’ŒæŒä¹…æ€§ï¼ˆDurabilityï¼‰ã€‚ Kafka ä¸­çš„å¯é æ€§ä¿è¯æœ‰å¦‚ä¸‹å››ç‚¹ï¼š å¯¹äºä¸€ä¸ªåˆ†åŒºæ¥è¯´ï¼Œå®ƒçš„æ¶ˆæ¯æ˜¯æœ‰åºçš„ã€‚å¦‚æœä¸€ä¸ªç”Ÿäº§è€…å‘ä¸€ä¸ªåˆ†åŒºå…ˆå†™å…¥æ¶ˆæ¯Aï¼Œç„¶åå†™å…¥æ¶ˆæ¯Bï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…ä¼šå…ˆè¯»å–æ¶ˆæ¯Aå†è¯»å–æ¶ˆæ¯Bã€‚ å½“æ¶ˆæ¯å†™å…¥æ‰€æœ‰in-syncçŠ¶æ€çš„å‰¯æœ¬åï¼Œæ¶ˆæ¯æ‰ä¼šè®¤ä¸ºå·²æäº¤ï¼ˆcommittedï¼‰ã€‚è¿™é‡Œçš„å†™å…¥æœ‰å¯èƒ½åªæ˜¯å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼Œä¸ä¸€å®šåˆ·æ–°åˆ°ç£ç›˜ã€‚ç”Ÿäº§è€…å¯ä»¥ç­‰å¾…ä¸åŒæ—¶æœºçš„ç¡®è®¤ï¼Œæ¯”å¦‚ç­‰å¾…åˆ†åŒºä¸»å‰¯æœ¬å†™å…¥å³è¿”å›ï¼Œåè€…ç­‰å¾…æ‰€æœ‰in-syncçŠ¶æ€å‰¯æœ¬å†™å…¥æ‰è¿”å›ã€‚ ä¸€æ—¦æ¶ˆæ¯å·²æäº¤ï¼Œé‚£ä¹ˆåªè¦æœ‰ä¸€ä¸ªå‰¯æœ¬å­˜æ´»ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚ æ¶ˆè´¹è€…åªèƒ½è¯»å–åˆ°å·²æäº¤çš„æ¶ˆæ¯ã€‚ ä½¿ç”¨è¿™äº›åŸºç¡€ä¿è¯ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå¯é çš„ç³»ç»Ÿï¼Œè¿™æ—¶å€™éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šç©¶ç«Ÿæˆ‘ä»¬çš„åº”ç”¨éœ€è¦å¤šå¤§ç¨‹åº¦çš„å¯é æ€§ï¼Ÿå¯é æ€§ä¸æ˜¯æ— å¿çš„ï¼Œå®ƒä¸ç³»ç»Ÿå¯ç”¨æ€§ã€ååé‡ã€å»¶è¿Ÿå’Œç¡¬ä»¶ä»·æ ¼æ¯æ¯ç›¸å…³ï¼Œå¾—æ­¤å¤±å½¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦åšæƒè¡¡ï¼Œä¸€å‘³çš„è¿½æ±‚å¯é æ€§å¹¶ä¸å®é™…ã€‚ æƒ³äº†è§£æ›´å¤šæˆ³è¿™é‡Œï¼šhttp://www.dengshenyu.com/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/2017/11/21/kafka-data-delivery.html ä¸‰ã€åŠ¨æ‰‹æ­ä¸€ä¸ª Kafka é€šè¿‡ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å·²ç»å¤§è‡´äº†è§£åˆ°äº†ã€ŒKafkaã€æ˜¯ä½•æ–¹ç¥åœ£äº†ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹å°è¯•è‡ªå·±åŠ¨æ‰‹æœ¬åœ°æ­ä¸€ä¸ªæ¥å®é™…ä½“éªŒä¸€æŠŠã€‚ ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ Kafkaè¿™é‡Œä»¥ Mac OS ä¸ºä¾‹ï¼Œåœ¨å®‰è£…äº† Homebrew çš„æƒ…å†µä¸‹æ‰§è¡Œä¸‹åˆ—ä»£ç ï¼š brew install kafka ç”±äº Kafka ä¾èµ–äº† Zookeeperï¼Œæ‰€ä»¥åœ¨ä¸‹è½½çš„æ—¶å€™ä¼šè‡ªåŠ¨ä¸‹è½½ã€‚ ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æœåŠ¡æˆ‘ä»¬åœ¨å¯åŠ¨ä¹‹å‰é¦–å…ˆéœ€è¦ä¿®æ”¹ Kafka çš„ç›‘å¬åœ°å€å’Œç«¯å£ä¸º localhost:9092ï¼š vi /usr/local/etc/kafka/server.properties ç„¶åä¿®æ”¹æˆä¸‹å›¾çš„æ ·å­ï¼š ä¾æ¬¡å¯åŠ¨ Zookeeper å’Œ Kafkaï¼š brew services start zookeeper brew services start kafka ç„¶åæ‰§è¡Œä¸‹åˆ—è¯­å¥æ¥åˆ›å»ºä¸€ä¸ªåå­—ä¸º â€œtestâ€ çš„ Topicï¼š kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹åˆ—çš„å‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬çš„ Topic åˆ—è¡¨ï¼š kafka-topics --list --zookeeper localhost:2181 ç¬¬ä¸‰æ­¥ï¼šå‘é€æ¶ˆæ¯ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ§åˆ¶å°ï¼Œè¿è¡Œä¸‹åˆ—å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…å…³æ³¨åˆšæ‰åˆ›å»ºçš„ Topicï¼š kafka-console-consumer --bootstrap-server localhost:9092 --topic test --from-beginning ç”¨æ§åˆ¶å°å¾€åˆšæ‰åˆ›å»ºçš„ Topic ä¸­æ·»åŠ æ¶ˆæ¯ï¼Œå¹¶è§‚å¯Ÿåˆšæ‰åˆ›å»ºçš„æ¶ˆè´¹è€…çª—å£ï¼š kafka-console-producer --broker-list localhost:9092 --topic test èƒ½é€šè¿‡æ¶ˆè´¹è€…çª—å£è§‚å¯Ÿåˆ°æ­£ç¡®çš„æ¶ˆæ¯ï¼š å‚è€ƒèµ„æ–™ https://www.infoq.cn/article/kafka-analysis-part-1 - Kafka è®¾è®¡è§£æï¼ˆä¸€ï¼‰ï¼šKafka èƒŒæ™¯åŠæ¶æ„ä»‹ç» http://www.dengshenyu.com/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/2017/11/06/kafka-Meet-Kafka.html - Kafkaç³»åˆ—ï¼ˆä¸€ï¼‰åˆè¯†Kafka https://lotabout.me/2018/kafka-introduction/ - Kafka å…¥é—¨ä»‹ç» https://www.zhihu.com/question/28925721 - Kafka ä¸­çš„ Topic ä¸ºä»€ä¹ˆè¦è¿›è¡Œåˆ†åŒº? - çŸ¥ä¹ https://blog.joway.io/posts/kafka-design-practice/ - Kafka çš„è®¾è®¡ä¸å®è·µæ€è€ƒ http://www.dengshenyu.com/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/2017/11/21/kafka-data-delivery.html - Kafkaç³»åˆ—ï¼ˆå…­ï¼‰å¯é çš„æ•°æ®ä¼ è¾“ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"æ¶æ„ä¹‹è·¯","slug":"æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/tags/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"},{"name":"Kafka","slug":"Kafka","permalink":"http://www.wmyskxz.com/tags/Kafka/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€çœ‹è¿‡æ¥ï¼","slug":"ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€çœ‹è¿‡æ¥ï¼","date":"2019-07-16T01:55:00.000Z","updated":"2020-08-03T09:39:07.771Z","comments":true,"path":"2019/07/16/xiao-xi-dui-lie-kan-guo-lai/","link":"","permalink":"http://www.wmyskxz.com/2019/07/16/xiao-xi-dui-lie-kan-guo-lai/","excerpt":"","text":"ä¸ºäº†è·å¾—æ›´è‰¯å¥½çš„é˜…è¯»ä½“éªŒï¼Œå»ºè®®æ‚¨å‰å¾€ä¸ªäººç‹¬ç«‹åŸŸååšå®¢è§‚çœ‹ï¼šä¼ é€é—¨) ä¸€ã€ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ å½“æˆ‘è¯•å›¾ç”¨ä¸€åˆ™é€šä¿—çš„æ¯”å–»æ¥è¯´æ˜è¿™ä¸ªæ¦‚å¿µçš„æ—¶å€™ï¼Œæˆ‘æƒ³åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„æ¯”å–»ï¼šå¦‚æœæŠŠé˜Ÿåˆ—æŠ½è±¡æˆä¸€ä¸ªé›†åˆä½“ï¼Œé‚£ä¹ˆæ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿå°±æ˜¯ä¸€å †æ¶ˆæ¯çš„é›†åˆã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯æˆ‘æƒ³åˆ°äº†ã€Œæ‚å¿—ã€ã€‚è¿™ä¸å°±æ˜¯ä¸€å †æ¶ˆæ¯çš„é›†åˆå—ï¼Œå…³å¿ƒè¿™äº›æ¶ˆæ¯çš„äººéƒ½èƒ½é€šè¿‡ã€Œè´­ä¹°ã€æ¥è·å¾—è¿™äº›æ¶ˆæ¯ï¼Œè€Œæˆ‘å¯ä»¥é€šè¿‡ä¸åŒç§ç±»çš„ã€Œæ‚å¿—ã€æˆ–è®¸åˆ°ä¸åŒçš„æ¶ˆæ¯ã€‚å¹¶ä¸”å¦‚æœæˆ‘ä½œä¸ºå‡ºç‰ˆæ–¹ï¼Œæˆ‘å¯ä»¥æä¾›æ‰€æœ‰å‡ºç‰ˆè¿‡çš„ã€Œæ‚å¿—ã€ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è®©è¯»è€…åªèƒ½è´­ä¹°è¿‘æœŸçš„ã€‚ äºŒã€ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ å¥½å¤„ä¸€ï¼šè§£è€¦å‡è®¾æˆ‘ä»¬åšäº†ä¸€ä¸ªä¼šè®®å®¤é¢„å®šç³»ç»Ÿï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªè®¾å¤‡åäº†ã€‚æˆ‘ä»¬éœ€è¦é€šçŸ¥é¢„å®šè¿™ä¸ªä¼šè®®å®¤çš„æ‰€æœ‰äººï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦å‘é‚®ä»¶ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š @Service public class EquipmentServiceImpl implements EquipmentService { @Autowired private EmailService emailService; @Autowired private EquipmentRepository equipmentRepository; public void setEquipmentBroken(Long id) { Equipment equipment = equipmentRepository.findById(id); equipment.setStatus(Equipment.StatusEnum.BROKEN); emailService.sendEmail(); } } é—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬åæ¥å‘ç°è®¾å¤‡åäº†å¹¶ä¸”éœ€è¦æ›´æ”¹å¯ç”¨åº“å­˜çš„æ•°é‡ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ˜¯ä¸æ˜¯è¦åœ¨è¿™é‡ŒåŠ å…¥ InventoryService åº“å­˜æœåŠ¡çš„ä»£ç å‘¢ï¼Ÿåæ¥å¦‚æœç»ç†è¯´è®¾å¤‡åäº†åº”è¯¥é€šçŸ¥ä»–æ‰å¯¹å•Šï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¸è¦åŠ å…¥ emailService.sendEmailTo(Manager) è¿™æ ·çš„ä»£ç å‘¢ï¼Ÿ éšç€æˆ‘ä»¬ä¸šåŠ¡æ¨¡å—æ¥å…¥è¶Šæ¥è¶Šå¤šï¼Œæˆ‘ä»¬çš„ä»£ç ä¸å…¶ä»–æ¨¡å—è¶Šæ¥è¶Šè€¦åˆï¼Œä¿®æ”¹ä»£ç çš„éš¾åº¦ä¹ŸæŒ‡æ•°çº§çš„å¢åŠ ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ï¼ŒæŠŠã€Œè®¾å¤‡åäº†ã€è¿™æ ·çš„æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œå…¶ä»–å…³å¿ƒè¿™æ¡æ¶ˆæ¯çš„ä¸šåŠ¡å°±ä¼šå¾—åˆ°è¿™æ ·çš„ã€Œé€šçŸ¥ã€ï¼Œç„¶åå°±ä¼šå»åšå¯¹åº”çš„äº‹ï¼Œè¿™æ ·å„ä¸ªæ¨¡å—ä¹‹é—´å°±è§£è€¦äº†ã€‚ä¼ªä»£ç çœ‹ä¸Šå»å¦‚ä¸‹ï¼š public void setEquipmentBroken(Long id) { Equipment equipment = equipmentRepository.findById(id); equipment.broken(); eventBus.publish(new EquipmentBrokenEvent(equipment.id)); } å¥½å¤„äºŒï¼šå¼‚æ­¥å¤„ç†æ¥ç€ä¸Šé¢çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»æŠŠã€Œå‘é€é‚®ä»¶ã€ã€ã€Œä¿®æ”¹åº“å­˜ã€ä»¥åŠã€Œé€šçŸ¥ç»ç†ã€çš„ä»£ç éƒ½å†™å…¥äº†æˆ‘ä»¬çš„ Service ä»£ç ä¸­ï¼Œå®ƒä»¬åˆ†åˆ«è€—æ—¶ï¼š30msã€50msã€80msï¼Œå¹¶ä¸”æˆ‘ä»¬å¾—çŸ¥ï¼ŒåŸæœ¬æœ€ä¸»è¦çš„åŠŸèƒ½å…¶å®æ˜¯ã€Œå‘é€é‚®ä»¶ã€ï¼Œä½†æˆ‘ä»¬å®Œæˆä¸»è¦çš„åŠŸèƒ½ä¹‹åå´ç­‰å¾…äº†æ›´å¤šçš„é¢å¤–æ—¶é—´ï¼Œè¿™æ˜¾ç¤ºæ˜¯ä¸åˆç†çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒ&amp;æé«˜ååé‡ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥å¼•å…¥ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€æ¥è¿›è¡Œå¼‚æ­¥çš„æ“ä½œã€‚ å¥½å¤„ä¸‰ï¼šå‰Šå³°/é™æµ å‡è®¾æˆ‘ä»¬çš„æœåŠ¡å™¨æœ€å¤šèƒ½æ”¯æŒæ¯ç§’ 1000 ä¸ªè¯·æ±‚ï¼Œè€Œæˆ‘ä»¬å…¬å¸åœ¨èŠ‚æ—¥è¦æä¿ƒé”€ï¼Œä¸ºäº†é¿å…æœåŠ¡å™¨æŒ‚æ‰æˆ‘ä»¬é¢å¤–ç”³è¯·äº†ä¸¤å°æœåŠ¡å™¨åšäº†è´Ÿè½½å‡è¡¡ï¼Œäºæ˜¯æˆ‘ä»¬ç°åœ¨çš„æœºå™¨æœ€ç†æƒ³çš„æƒ…å†µèƒ½å¤Ÿæ”¯æŒæ¯ç§’ 3000 ä¸ªè¯·æ±‚ï¼Œä½†å¥ˆä½•æ´»åŠ¨å¤ªç«çˆ†äº†ï¼Œæ¯ç§’æ¥çš„è¯·æ±‚æœ‰å¤§æ¦‚ 4000 ä¸ªï¼Œè¿™äº›å¤šå‡ºæ¥çš„è¯·æ±‚å°±å¯èƒ½å¯¼è‡´æœåŠ¡å™¨ç»™ç›´æ¥æŒ‚æ‰äº†ã€‚ æ‰€ä»¥æˆ‘ä»¬å°±å¼•å…¥äº†ä¸€ä¸ªã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ï¼Œè®©æ¶ˆæ¯ä¸ç›´æ¥åˆ°è¾¾æœåŠ¡å™¨ï¼Œè€Œæ˜¯å…ˆè®©ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ä¿å­˜è¿™äº›æ•°æ®ï¼Œç„¶åè®©ä¸‹é¢çš„æœåŠ¡å™¨æ¯ä¸€æ¬¡éƒ½å–å„è‡ªèƒ½å¤„ç†çš„è¯·æ±‚æ•°å†å»å¤„ç†ï¼Œè¿™æ ·å½“è¯·æ±‚æ•°è¶…è¿‡æœåŠ¡å™¨æœ€å¤§è´Ÿè½½æ—¶ï¼Œå°±ä¸è‡³äºæŠŠæœåŠ¡å™¨ææŒ‚äº†ã€‚ ä¸‰ã€æ¶ˆæ¯é˜Ÿåˆ—é€‚ç”¨çš„åœºæ™¯ åŸºäºä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å¤§æ¦‚èƒ½æƒ³åˆ°ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€çš„å±€é™æ€§ï¼Œä¾‹å¦‚å½“ã€Œç”Ÿäº§è€…ã€éœ€è¦ã€Œä»æ¶ˆè´¹è€…è·å¾—åé¦ˆã€æ—¶ï¼Œå°±ä¼šå‡ºç°ä¸€å®šçš„é—®é¢˜ã€‚ä¾‹å¦‚æˆ‘ä¹‹å‰å°è¯•ç€ä½¿ç”¨ã€Œäº‹ä»¶é©±åŠ¨ã€çš„æ–¹å¼ç¼–ç æ—¶ï¼Œæˆ‘æƒ³è¦æŠŠ Service çš„ä¸€äº›ä¸»é€»è¾‘ç»™è½¬ç§»åˆ°å…³æ³¨è¯¥äº‹ä»¶çš„ç›‘å¬å™¨ä¸Šæ—¶ï¼Œå‘ç°æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘åŸæœ¬çš„æ„å›¾æ˜¯æƒ³è®©ä¸€éƒ¨åˆ†ä»£ç è§£è€¦ï¼Œä½†ä½œä¸ºä¸»é€»è¾‘çš„ä¸€éƒ¨åˆ†æˆ‘éœ€è¦ä¿è¯å®ƒä»¬å‡†ç¡®çš„æ‰§è¡Œï¼Œå½“æˆ‘ä½¿ç”¨ã€Œæ¶ˆæ¯ã€çš„æ–¹å¼ä¼ é€’å‡ºå»æ—¶ï¼Œæˆ‘æ— æ³•å¾—åˆ°æ¶ˆè´¹è€…çš„åé¦ˆï¼Œæ‰€ä»¥æœ€ç»ˆæˆ‘è¿˜æ˜¯æŠŠä¸»é€»è¾‘ç»™è¿å›æ¥äº†ï¼Œç®—æ˜¯ä¸€æ¬¡å¤±è´¥çš„å°è¯•å§ã€‚ åœºæ™¯ä¸€ï¼šå¼‚æ­¥å¤„ç†é€šè¿‡ä¸Šè¿°çš„é—®é¢˜ä½ ä¹Ÿçœ‹åˆ°äº†ï¼Œã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€é€‚ç”¨äºå¼‚æ­¥å¤„ç†ï¼Œå¹¶ä¸”æ˜¯é‚£äº›ä¸æœŸæœ›ä»æ¶ˆè´¹è€…å¾—åˆ°åé¦ˆçš„å¤„ç†ã€‚å°±å¥½åƒä¸€å¼€å§‹è¯´åˆ°çš„è®¾å¤‡åäº†çš„é—®é¢˜ï¼Œæˆ‘åªéœ€è¦é€šçŸ¥è®¾å¤‡åäº†ï¼Œè‡³äºä¹‹åéœ€è¦åšä»€ä¹ˆäº‹ï¼Œå…³å¿ƒçš„äººè‡ªç„¶ä¼šå»åšç›¸åº”çš„å¤„ç†ã€‚ åœºæ™¯äºŒï¼šæ—¥å¿—æ”¶é›†ä¸Šé¢æåˆ°çš„å¼‚æ­¥å¤„ç†ï¼Œè·Ÿæ—¥å¿—ç³»ç»Ÿä¼¼ä¹æ­é…èµ·æ¥ä¹Ÿå¾ˆå¥½ã€‚ç‰¹åˆ«æ˜¯å½“ä½ éœ€è¦æŠŠæ—¥å¿—å‘å¾€å•ç‹¬çš„æ•°æ®å¹³å°çš„æ—¶å€™ï¼Œã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€å°¤ä¸ºæœ‰ç”¨ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢ä¾µå…¥æˆ‘ä»¬çš„å„ç§æ‰“ç‚¹oræ—¥å¿—ï¼Œåªéœ€è¦ç®€å•çš„å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œå†å»å…³æ³¨åšå¤„ç†å°±å¥½äº†ã€‚ åœºæ™¯å››ï¼šåº”ç”¨è§£è€¦åŸºäºä¸Šé¢çš„ä¾‹å­ä½ åº”è¯¥ä¹Ÿèƒ½æ„Ÿå—ä¸€äºŒäº†ã€‚ åœºæ™¯ä¸‰ï¼šæµé‡å‰Šå³°è¿™ä¹Ÿæ˜¯ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€å¸¸è§çš„åœºæ™¯ï¼Œé€šè¿‡å¼•å…¥ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ï¼Œæˆ‘ä»¬ä¸€æ¥å¯ä»¥æ§åˆ¶è¯·æ±‚çš„äººæ•°ï¼ŒäºŒæ¥ä¹Ÿå¯ä»¥ç¼“è§£çŸ­æ—¶é—´å†…é«˜æµé‡çš„å‹åŠ›ã€‚ åœºæ™¯å››ï¼šæ¶ˆæ¯é€šè®¯æ¶ˆæ¯é€šè®¯æ˜¯æŒ‡ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬éƒ½å†…ç½®äº†é«˜æ•ˆçš„é€šä¿¡æœºåˆ¶ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç”¨åœ¨çº¯çš„æ¶ˆæ¯é€šè®¯ã€‚æ¯”å¦‚å®ç°ç‚¹å¯¹ç‚¹æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ–è€…èŠå¤©å®¤ç­‰ã€‚ å››ã€å¸¸è§æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ å¦‚æœè‡ªå·±è®¾è®¡ä¸€ä¸ªï¼Ÿæˆ‘ä»¬åœ¨è®¨è®ºå¸‚é¢ä¸Šå¸¸è§çš„ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ä¸­é—´ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è€ƒè™‘è‡ªå·±é€ ä¸€ä¸ªæ€ä¹ˆæ ·ï¼Ÿå¦‚æœæ˜¯ä½ è‡ªå·±æ¥è®¾è®¡ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿä¹ä¸€æƒ³ï¼Œä¼¼ä¹æ¯ä¸ªè¯­è¨€éƒ½ä¼šæœ‰è‡ªå·±å®ç°çš„ã€Œé˜Ÿåˆ—ã€ï¼Œå¾€é˜Ÿåˆ—é‡Œå¡æ•°æ®ï¼Œå†ä»é˜Ÿåˆ—é‡Œé¢æŒ¨ä¸ªå–å°±è¡Œäº†ï¼Ÿ ä½†æ˜¯ä¸€ç»†æƒ³å¥½åƒäº‹æƒ…å¹¶ä¸ç®€å•ã€‚ä½œä¸ºä¸€ä¸ªã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ï¼Œä½ é¦–å…ˆè¦ä¿è¯æ•°æ®ä¸èƒ½ç»™äººå®¶å¼„ä¸¢äº†å§ï¼Ÿå­˜å†…å­˜ï¼Ÿä¸‡ä¸€æ–­ç”µäº†æ€ä¹ˆåŠï¼Ÿå†™ç£ç›˜ï¼Ÿæ¶ˆæ¯é‡è¶…è¿‡ç³»ç»Ÿå†™ç£ç›˜é€Ÿç‡ä¸Šé™äº†æ€ä¹ˆåŠï¼Ÿå¤‡ä»½åˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ å¥½ï¼Œå‡è®¾æˆ‘ä¸€æ•´æ£é¼“ï¼Œä¿è¯äº†æˆ‘çš„æ•°æ®ä¸ä¼šä¸¢å¤±äº†ï¼Œä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œç”Ÿäº§è€…æ€ä¹ˆå¾€ã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€é‡Œé¢å¡æ•°æ®ï¼Ÿæˆ‘çš„æ„æ€æ˜¯ï¼Œç”Ÿäº§è€…å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼ŒæŠŠå…¨é‡çš„æ¶ˆæ¯æ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¼¼ä¹ä¸å¤ªåˆé€‚ï¼Œæˆ‘éœ€è¦ç»™è¿™äº›æ¶ˆæ¯åˆ†ä¸ªç±»å§ï¼Ÿæ–°æ¥äº†ä¸€ä¸ªåˆ†ç±»çš„æ¶ˆæ¯æˆ‘æ€ä¹ˆåŠ¨æ€çš„æ‰©å®¹å‘¢ï¼Ÿæ¶ˆè´¹è€…åˆå¦‚ä½•æ¶ˆè´¹è¿™äº›æ•°æ®å‘¢ï¼Ÿå¤šä¸ªæ¶ˆè´¹è€…ä¹‹é—´åˆå¦‚ä½•è¿›è¡Œåè°ƒå‘¢ï¼Ÿ å¥½å§..æ€»ä¹‹é—®é¢˜æŒºå¤šçš„..å¹¶ä¸åƒè¡¨é¢é‚£ä¹ˆç®€å•ã€‚ RabbitMQ RabbitMQ æ˜¯ä½¿ç”¨ Erlang ç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ¬èº«æ”¯æŒå¾ˆå¤šçš„åè®®ï¼šAMQPï¼ŒXMPP, SMTP, STOMPï¼Œä¹Ÿæ­£å› å¦‚æ­¤ï¼Œå®ƒéå¸¸é‡é‡çº§ï¼Œæ›´é€‚åˆäºä¼ä¸šçº§çš„å¼€å‘ã€‚åŒæ—¶å®ç°äº† Broker æ„æ¶ï¼Œè¿™æ„å‘³ç€æ¶ˆæ¯åœ¨å‘é€ç»™å®¢æˆ·ç«¯æ—¶å…ˆåœ¨ä¸­å¿ƒé˜Ÿåˆ—æ’é˜Ÿã€‚å¯¹è·¯ç”±ï¼Œè´Ÿ è½½å‡è¡¡æˆ–è€…æ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚ RedisRedis ä¹Ÿèƒ½ç”¨æ¥åšã€Œæ¶ˆæ¯é˜Ÿåˆ—ã€ã€‚Redis æ˜¯ä¸€ä¸ªåŸºäº Key-Value å¯¹çš„ NoSQL æ•°æ®åº“ï¼Œå¼€å‘ç»´æŠ¤å¾ˆæ´»è·ƒã€‚è™½ç„¶å®ƒæ˜¯ä¸€ä¸ª Key-Value æ•°æ®åº“å­˜å‚¨ç³»ç»Ÿï¼Œä½†å®ƒæœ¬èº«æ”¯æŒ MQ åŠŸèƒ½ï¼Œ æ‰€ä»¥å®Œå…¨å¯ä»¥å½“åšä¸€ä¸ªè½»é‡çº§çš„é˜Ÿåˆ—æœåŠ¡æ¥ä½¿ç”¨ã€‚å¯¹äº RabbitMQ å’Œ Redis çš„å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œï¼Œå„æ‰§è¡Œ 100 ä¸‡æ¬¡ï¼Œæ¯ 10 ä¸‡æ¬¡è®°å½•ä¸€æ¬¡æ‰§è¡Œæ—¶é—´ã€‚æµ‹è¯• æ•°æ®åˆ†ä¸º 128 Bytesã€512 Bytesã€1 Kå’Œ 10 Kå››ä¸ªä¸åŒå¤§å°çš„æ•°æ®ã€‚å®éªŒè¡¨æ˜ï¼šå…¥é˜Ÿæ—¶ï¼Œå½“æ•°æ®æ¯”è¾ƒå°æ—¶ Redis çš„æ€§èƒ½è¦é«˜äº RabbitMQï¼Œè€Œå¦‚æœæ•°æ®å¤§å°è¶…è¿‡äº† 10 Kï¼ŒRedis åˆ™æ…¢çš„æ— æ³•å¿å—ï¼›å‡ºé˜Ÿæ—¶ï¼Œæ— è®ºæ•°æ®å¤§å°ï¼ŒRedis éƒ½è¡¨ç°å‡ºéå¸¸å¥½çš„æ€§èƒ½ï¼Œè€Œ RabbitMQ çš„å‡ºé˜Ÿæ€§èƒ½åˆ™è¿œä½äºRedisã€‚ Kafka/JafkaKafka æ˜¯ Apache ä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½è·¨è¯­è¨€åˆ†å¸ƒå¼ Publish/Subscribe æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œè€Œ Jafka æ˜¯åœ¨ Kafka ä¹‹ä¸Šå­µåŒ–è€Œæ¥çš„ï¼Œå³ Kafka çš„ä¸€ä¸ªå‡çº§ç‰ˆã€‚ å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å¿«é€ŸæŒä¹…åŒ–ï¼Œå¯ä»¥åœ¨O(1)çš„ç³»ç»Ÿå¼€é”€ä¸‹è¿›è¡Œæ¶ˆæ¯æŒä¹…åŒ–ï¼› é«˜ååï¼Œåœ¨ä¸€å°æ™®é€šçš„æœåŠ¡å™¨ä¸Šæ—¢å¯ä»¥è¾¾åˆ° 10 W/sçš„ååé€Ÿç‡ï¼› å®Œå…¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ŒBrokerã€Producerã€Consumeréƒ½åŸç”Ÿè‡ªåŠ¨æ”¯æŒåˆ†å¸ƒå¼ï¼Œè‡ªåŠ¨å®ç°å¤æ‚å‡è¡¡ï¼› æ”¯æŒ Hadoop æ•°æ®å¹¶è¡ŒåŠ è½½ï¼Œå¯¹äºåƒHadoopçš„ä¸€æ ·çš„æ—¥å¿—æ•°æ®å’Œç¦»çº¿åˆ†æç³»ç»Ÿï¼Œä½†åˆè¦æ±‚å®æ—¶å¤„ç†çš„é™åˆ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ Kafka é€šè¿‡ Hadoop çš„å¹¶è¡ŒåŠ è½½æœºåˆ¶æ¥ç»Ÿä¸€äº†åœ¨çº¿å’Œç¦»çº¿çš„æ¶ˆæ¯å¤„ç†ã€‚Apache Kafka ç›¸å¯¹äº ActiveMQ æ˜¯ä¸€ä¸ªéå¸¸è½»é‡çº§çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œé™¤äº†æ€§èƒ½éå¸¸å¥½ä¹‹å¤–ï¼Œè¿˜æ˜¯ä¸€ä¸ªå·¥ä½œè‰¯å¥½çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚ ZeroMQZeroMQ å·ç§°æœ€å¿«çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œå°¤å…¶é’ˆå¯¹å¤§ååé‡çš„éœ€æ±‚åœºæ™¯ã€‚ZeroMQ èƒ½å¤Ÿå®ç° RabbitMQ ä¸æ“…é•¿çš„é«˜çº§ / å¤æ‚çš„é˜Ÿåˆ—ï¼Œä½†æ˜¯å¼€å‘äººå‘˜éœ€è¦è‡ªå·±ç»„åˆå¤šç§æŠ€æœ¯æ¡†æ¶ï¼ŒæŠ€æœ¯ä¸Šçš„å¤æ‚åº¦æ˜¯å¯¹è¿™ MQ èƒ½å¤Ÿåº”ç”¨æˆåŠŸçš„æŒ‘æˆ˜ã€‚ZeroMQ å…·æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„éä¸­é—´ä»¶çš„æ¨¡å¼ï¼Œä½ ä¸éœ€è¦å®‰è£…å’Œè¿è¡Œä¸€ä¸ªæ¶ˆæ¯æœåŠ¡å™¨æˆ–ä¸­é—´ä»¶ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºå°†æ‰®æ¼”è¿™ä¸ªæœåŠ¡å™¨è§’è‰²ã€‚ä½ åªéœ€è¦ç®€å•çš„å¼•ç”¨ ZeroMQ ç¨‹åºåº“ï¼Œå¯ä»¥ä½¿ç”¨ NuGet å®‰è£…ï¼Œç„¶åä½ å°±å¯ä»¥æ„‰å¿«çš„åœ¨åº”ç”¨ç¨‹åºä¹‹é—´å‘é€æ¶ˆæ¯äº†ã€‚ä½†æ˜¯ ZeroMQ ä»…æä¾›éæŒä¹…æ€§çš„é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå®•æœºï¼Œæ•°æ®å°†ä¼šä¸¢å¤±ã€‚å…¶ä¸­ï¼ŒTwitter çš„ Storm 0.9.0 ä»¥å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤ä½¿ç”¨ ZeroMQ ä½œä¸ºæ•°æ®æµçš„ä¼ è¾“ï¼ˆStorm ä» 0.9 ç‰ˆæœ¬å¼€å§‹åŒæ—¶æ”¯æŒ ZeroMQ å’Œ Netty ä½œä¸ºä¼ è¾“æ¨¡å—ï¼‰ã€‚ ActiveMQActiveMQ æ˜¯ Apache ä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ ç±»ä¼¼äº ZeroMQï¼Œå®ƒèƒ½å¤Ÿä»¥ä»£ç†äººå’Œç‚¹å¯¹ç‚¹çš„æŠ€æœ¯å®ç°é˜Ÿåˆ—ã€‚åŒæ—¶ç±»ä¼¼äº RabbitMQï¼Œå®ƒå°‘é‡ä»£ç å°±å¯ä»¥é«˜æ•ˆåœ°å®ç°é«˜çº§åº”ç”¨åœºæ™¯ã€‚ å‚è€ƒèµ„æ–™ Kafka è®¾è®¡è§£æï¼ˆä¸€ï¼‰ï¼šKafka èƒŒæ™¯åŠæ¶æ„ä»‹ç» æµ…è°ˆæ¶ˆæ¯é˜Ÿåˆ—åŠå¸¸è§çš„æ¶ˆæ¯ä¸­é—´ä»¶ æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»åŠå¸¸ç”¨MQå¯¹æ¯” ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ æ¶ˆæ¯é˜Ÿåˆ—çš„ä½¿ç”¨åœºæ™¯æ˜¯æ€æ ·çš„ï¼Ÿ - çŸ¥ä¹ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç‹¬ç«‹åŸŸååšå®¢ï¼šwmyskxz.comç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"æ¶æ„ä¹‹è·¯","slug":"JavaWebè¿›é˜¶/æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ–‡ç« å¯¼èˆª","slug":"Spring-ç³»åˆ—æ–‡ç« ","date":"2019-07-09T13:34:00.000Z","updated":"2020-07-03T08:28:28.418Z","comments":true,"path":"2019/07/09/spring-xi-lie-wen-zhang/","link":"","permalink":"http://www.wmyskxz.com/2019/07/09/spring-xi-lie-wen-zhang/","excerpt":"","text":"æŒç»­æ•´ç†ä¸­â€¦. è¯´æ˜å½“èµ°å‡ºå­¦æ ¡ï¼Œè·¨å…¥èŒåœºï¼Œä½ ä¼šå‘ç°å†™ä»£ç è¿™ä»¶äº‹é™¤äº† CODINGï¼Œè¿˜æœ‰å¾ˆå¤šçš„ã€è®¤çŸ¥ã€‘éœ€è¦æå‡ï¼Œæ‰€ä»¥æœ¬é¡¹ç›®è‡´åŠ›äºã€MORE THAN JAVAã€‘çš„å­¦ä¹ ï¼Œä¸ä»…ä»…æ˜¯ CODINGï¼Œè¿˜æœ‰å¾ˆå¤šä¸æ­¢äº CODING çš„ã€çŸ¥è¯†ã€‘ã€‚ å…¬ä¼—å·å’Œæœ¬é¡¹ç›®ä¿æŒåŒæ­¥æ›´æ–°ï¼Œå–œæ¬¢çš„å°ä¼™ä¼´å¯ä»¥ç‚¹ä¸€æ³¢å…³æ³¨ï¼Œæœ‰ä»»ä½•æ„è§ or å»ºè®®è¯·è”ç³»æˆ‘ï¼Œå¦å¤–è§‰å¾—å¡çš„æœ‹å‹ä¹Ÿå¯ä»¥è®¿é—®å›½å†…çš„ Giteeï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›æœ€å¤§çš„åŠ¨åŠ›! Part 0.å¼€å§‹ä¹‹å‰å¿…è¯» å¼€å§‹ä¹‹å‰ğŸ‘¨â€ğŸ’»â€ æ€ç»´çš„å±€é™ | æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä¿æŒå­¦ä¹  ã€ŒMoreThanJavaã€å½“å¤§å­¦é€‰æ‹©äº†è®¡ç®—æœºä¹‹ååº”è¯¥çŸ¥é“çš„ ã€ŒMoreThanJavaã€è®¡ç®—æœºå‘å±•å²â€”ä»ç»‡å¸ƒæœºåˆ°IBM ã€ŒMoreThanJavaã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿° ã€ŒMoreThanJavaã€ä¸€æ–‡äº†è§£äºŒè¿›åˆ¶å’ŒCPUå·¥ä½œåŸç† ã€ŒMoreThanJavaã€æœºå™¨æŒ‡ä»¤åˆ°æ±‡ç¼–å†åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€ ã€ŒMoreThanJavaã€Javaå‘å±•å²åŠèµ·èˆªæ–°ä¸–ç•Œ ã€ŒMoreThanJavaã€Day 1ï¼šç¯å¢ƒæ­å»ºå’Œç¨‹åºåŸºæœ¬ç»“æ„å…ƒç´  Part 1.Java åŸºç¡€ ğŸ”¥æ¨è Java åŸºç¡€å­¦ä¹ æ•™ç¨‹â˜•ï¸ å°ç å“¥æ•™è‚² - ç»å…¸å…è´¹ Java é›¶åŸºç¡€å…¥é—¨è§†é¢‘ç³»åˆ—æ•™ç¨‹ | å»ºè®® 2 å€é€Ÿè§‚çœ‹ HOW2J - é¡¹ç›®é©±åŠ¨å¼ Java å…¨ç³»åˆ—å­¦ä¹  å»–é›ªå³° - Java ç³»åˆ—åŸºç¡€æ•™ç¨‹ ã€Šç å‡ºé«˜æ•ˆ Java å¼€å‘æ‰‹å†Œã€‹ - å­¤å°½è‘— ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ å· â… ã€‹ | åˆšå…¥é—¨ä¸å»ºè®®é£Ÿç”¨ï¼Œå½“å‚è€ƒä¹¦ç”¨ ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹ | åŠ æ·±å¯¹ Java çš„è®¤è¯†ï¼Œå¯¹åˆšå…¥é—¨å¾ˆæœ‰å¸®åŠ© Java é«˜å¹¶å‘å­¦ä¹ â˜•ï¸ é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ (1)â€”â€”å¹¶å‘åŸºç¡€ é«˜å¹¶å‘ç¼–ç¨‹å­¦ä¹ (2)â€”â€”çº¿ç¨‹é€šä¿¡è¯¦è§£ Part 2.Java Web Spring æ¡†æ¶åŸºç¡€ğŸƒ Springå­¦ä¹ ï¼ˆ1ï¼‰â€”â€”å¿«é€Ÿå…¥é—¨ Springå­¦ä¹ ï¼ˆ2ï¼‰â€”â€”Spring IoCè¯¦è§£ Springå­¦ä¹ ï¼ˆ3ï¼‰â€”â€”è£…é…Spring Beanè¯¦è§£ Springå­¦ä¹ ï¼ˆ4ï¼‰â€”â€”é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPæ¨¡å—ï¼‰ Springå­¦ä¹ ï¼ˆ5ï¼‰â€”â€”Springå’Œæ•°æ®åº“ç¼–ç¨‹ MyBatisä¸Springæ•´åˆ Spring-Data-JPAå°é²œï¼šå¿«é€Ÿæ­å»ºCRUD+åˆ†é¡µåå°å®ä¾‹ SpringBoot å­¦ä¹ ğŸŒ¿ ğŸ”¥Spring Bootã€å¿«é€Ÿå…¥é—¨ã€‘ Part 3. æ¡†æ¶ç›¸å…³ Redis ç³»åˆ—â˜‘ï¸ Redis(1)â€”â€”5ç§åŸºæœ¬æ•°æ®ç»“æ„ Redis(2)â€”â€”è·³è·ƒè¡¨ Redis(3)â€”â€”åˆ†å¸ƒå¼é”æ·±å…¥æ¢ç´¢ Reids(4)â€”â€”ç¥å¥‡çš„HyperLoglogè§£å†³ç»Ÿè®¡é—®é¢˜ Redis(5)â€”â€”äº¿çº§æ•°æ®è¿‡æ»¤å’Œå¸ƒéš†è¿‡æ»¤å™¨ Redis(6)â€”â€”GeoHashæŸ¥æ‰¾é™„è¿‘çš„äºº Redis(7)â€”â€”æŒä¹…åŒ–ã€ä¸€æ–‡äº†è§£ã€‘ Redis(8)â€”â€”å‘å¸ƒ/è®¢é˜…ä¸Stream Redis(9)â€”â€”ä¸»ä»å¤åˆ¶(å¾…æ›´æ–°..) Redis(10)â€”â€”é«˜æ€§èƒ½åŸå› åˆ†æ(å¾…æ›´æ–°..) Redisé¢è¯•æŒ‡å—(å¾…æ›´æ–°..) Part 4.é¢è¯•å®å…¸ Java é¢è¯•çŸ¥è¯†ç‚¹å…¨è§£æğŸ“’ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(å››)â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(äº”)â€”â€”ç½‘ç»œåè®®ç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(å…­)â€”â€”æ•°æ®åº“ç¯‡ Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸ƒ)â€”â€”Webç¯‡ æ•°æ®ç»“æ„ä¸ç®—æ³•ğŸ“’ LeetCode | åˆ·é¢˜å¿…å¤‡ æ•°æ®ç»“æ„ä¸ç®—æ³•(1)â€”â€”æ•°ç»„ä¸é“¾è¡¨ æ•°æ®ç»“æ„ä¸ç®—æ³•(2)â€”â€”æ ˆå’Œé˜Ÿåˆ— æ•°æ®ç»“æ„ä¸ç®—æ³•(3)â€”â€”æ ‘ï¼ˆäºŒå‰ã€äºŒå‰æœç´¢æ ‘ï¼‰ æ•°æ®ç»“æ„ä¸ç®—æ³•(4)â€”â€”ä¼˜å…ˆé˜Ÿåˆ—å’Œå † å…¶ä»–ä¼˜ç§€é¢è¯•å®å…¸æ”¶é›†ğŸ“’ Java3y | Javaåç«¯å¿…å¤‡çŸ¥è¯†ç‚¹ JavaFamily | äº’è”ç½‘ä¸€çº¿å¤§åœºé¢è¯• + å­¦ä¹ æŒ‡å— JavaGuide | Javaå­¦ä¹  + é¢è¯•æŒ‡å— æŠ€æœ¯é¢è¯•æœ€ååé—®é¢è¯•å®˜çš„è¯ ç‰›å®¢ç½‘ | ä¸€çº¿ç¬”ç»é¢ç» Javaé›†åˆå¿…ä¼š14é—®(ç²¾é€‰é¢è¯•é¢˜æ•´ç†) Java I/Oä¸è¿·èŒ«ï¼Œä¸€æ–‡ä¸ºæ‚¨å¯¼èˆªï¼ ã€é¢è¯•å¿…å¤‡ã€‘æ‰‹æ’•ä»£ç ï¼Œä½ æ€•ä¸æ€•ï¼Ÿ æ­£ç¡®è®¤è¯†é¢è¯•ğŸ‘¨â€ğŸ’¼ é¢è¯•éƒ½æœ‰å“ªäº›é¢è¯•æŠ€å·§ï¼Ÿ - çŸ¥ä¹ | @æ€å®‡çˆ±è¯»å†Œ é¢è¯•é¢˜ç›®åº“ğŸ‘¨â€ğŸ’¼ ã€è½¬è½½ã€‘é¢è¯•é—®æˆ‘ï¼Œåˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹åˆé€‚ï¼Ÿæˆ‘è¯¥æ€ä¹ˆè¯´ Part 5.ç¨‹åºäººç”Ÿæ•´ç†ä¸­â€¦ Part 6.æ‡‚ä¸€ç‚¹å‰ç«¯ æ‡‚ä¸€ç‚¹å‰ç«¯â€”â€”Vueå¿«é€Ÿå…¥é—¨ Part 7.æ‡‚ä¸€ç‚¹Python æ‡‚ä¸€ç‚¹Pythonç³»åˆ—â€”â€”å¿«é€Ÿå…¥é—¨ Part 8.æœ‰è¶£é›†ä¸­è¥ æ‰«åœ°åƒ§å›æ¥äº† é¢å‘å¯¹è±¡åœ£ç» å¾®ä¿¡å¦‚æœæœ‰éœ€è¦è”ç³»æˆ‘çš„æœ‹å‹ï¼Œå¯ä»¥æ‰«æä¸‹æ–¹äºŒç»´ç æ·»åŠ æˆ‘çš„ç§äººå¾®ä¿¡ï¼Œæˆ‘ä¹Ÿä¼šæ‹‰æ‚¨è¿›å…¥æŠ€æœ¯äº¤æµç¾¤ï¼Œå½“ç„¶ä¹Ÿæœ‰ QQ äº¤æµç¾¤ï¼Œæ‚¨å¯ä»¥å¤‡æ³¨ä¸€ä¸‹ Github éšæ—¶åŠ å…¥ï¼š3382693ã€‚ è¯·åœ¨æ·»åŠ çš„æ—¶å€™æœ€å¥½èƒ½å¤‡æ³¨ä¸€ä¸‹æ‚¨çš„å§“å/äº†è§£æˆ‘çš„æ¸ é“/æ¥æ„ï¼ˆwmyskxz/Github/å•†åŠ¡åˆä½œï¼‰ å…¬ä¼—å·å†…å®¹å…¬ä¼—å·åŒæ­¥æ›´æ–°ï¼Œæœ‰æ—¶å€™ä¸é€‚åˆå‘ Github çš„ä¸œè¥¿æˆ‘ä¹Ÿä¼šå‘åœ¨å…¬ä¼—å·é‡Œé¢ï¼Œæ‰€ä»¥è¯·å„ä½å¤§å¤§ä¹Ÿæ‰«ç å…³æ³¨ï¼Œæ”¯æŒä¸€æ³¢å§ æŠ•ç¨¿æŠ•ç¨¿è¯·æ·»åŠ ä¸Šæ–¹ä¸ªäººå¾®ä¿¡äºŒç»´ç è”ç³»ï¼Œè¯·å¤‡æ³¨æ¥æ„ï¼Œæ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼ èµèµæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›æœ€å¤§çš„åŠ¨åŠ›","categories":[{"name":"å…¬ä¼—å·ï¼šwmyskxz","slug":"å…¬ä¼—å·ï¼šwmyskxz","permalink":"http://www.wmyskxz.com/categories/%E5%85%AC%E4%BC%97%E5%8F%B7%EF%BC%9Awmyskxz/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å¯¼èˆª","slug":"å¯¼èˆª","permalink":"http://www.wmyskxz.com/tags/%E5%AF%BC%E8%88%AA/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å¦‚ä½•è¶…è¶Šå¤§å¤šæ•°äºº","slug":"å¦‚ä½•è¶…è¶Šå¤§å¤šæ•°äºº","date":"2019-06-30T23:32:00.000Z","updated":"2020-08-03T09:37:44.236Z","comments":true,"path":"2019/07/01/ru-he-chao-yue-da-duo-shu-ren/","link":"","permalink":"http://www.wmyskxz.com/2019/07/01/ru-he-chao-yue-da-duo-shu-ren/","excerpt":"","text":"æœ¬æ–‡è½¬è½½è‡ªé…·å£³-COOLSHELLï¼šhttps://coolshell.cn/articles/19464.htmlä½œè€…ï¼šå·¦è€³å¬é£ å½“ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜ï¼Œä½ ä¸€å®šå¯¹è¿™ç¯‡æ–‡ç« äº§ç”Ÿäº†å·¨å¤§çš„å…´è¶£ï¼Œå› ä¸ºä½ çš„æ½œæ„è¯†åœ¨å‘Šè¯‰ä½ ï¼Œè¿™æ˜¯ä¸€æœ¬äººç”Ÿçš„â€œæ­¦æ—ç§˜ç±â€ï¼Œè€Œä¸”è¿˜æ˜¯å·¦è€³æœµå†™çš„ï¼Œä¸€å®šæœ‰å¹²è´§æ»¡æ»¡ï¼Œåªè¦è¯»å®Œï¼Œä¸€å®šå¯ä»¥ç»ƒå°±ç¥åŠŸå¹¶æ‰¾åˆ°è¶…è¿‡å¤§å¤šæ•°äººçš„å¿«è½¦é“å’Œæ·å¾„â€¦â€¦ç„¶è€Œâ€¦â€¦ å½“ä½ çœ‹åˆ°æˆ‘è¿™æ ·å¼€ç¯‡æ—¶ï¼Œä½ ä¸€å®šä¼šè§‰å¾—æˆ‘é©¬ä¸Šå°±è¦æœ‰ä¸ªè½¬æŠ˜ï¼Œå‘Šè¯‰ä½ è¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œä¸€åˆ‡éƒ½éœ€è¦ä»˜å‡ºå’ŒåŠªåŠ›â€¦â€¦ç„¶è€Œï¼Œä½ é”™äº†ï¼Œè¿™ç¯‡æ–‡ç« è¿˜çœŸå°±æ˜¯ä¸€ç¯‡â€œç§˜ç±â€ï¼Œåªè¦ä½ æŠŠè¿™äº›â€œç§˜ç±â€ç”¨èµ·æ¥ï¼Œä½ å°±ä¸€å®šå¯ä»¥è¶…è¿‡å¤§å¤šæ•°äººã€‚è€Œä¸”ï¼Œè¿™ç¯‡æ–‡ç« åªæœ‰æˆ‘è¿™ä¸ªâ€œäººç”Ÿå¯¼å¸ˆâ€å¯ä»¥å†™å¾—å¥½ã€‚æ¯•ç«Ÿï¼Œæˆ‘çš„ç”Ÿå‘½è¿‡åˆ°äº†åå…­è¿›åˆ¶2Bçš„å¹´çºªï¼Œè¸å…¥è¿™ä¸ªç¤¾ä¼šå·²è¶…è¿‡20å¹´ï¼Œèˆæˆ‘å…¶è°å‘¢ï¼Ÿï¼ P.S. è¿™ç¯‡æ–‡ç« å€Ÿé‰´äºã€Šå¦‚ä½•å†™å‡ºæ— æ³•ç»´æŠ¤çš„ä»£ç ã€‹ä¸€æ–‡çš„é£æ ¼â€¦â€¦å˜¿å˜¿ ç›¸å…³æŠ€å·§å’Œæœ€ä½³å®è·µè¦è¶…è¿‡åˆ«äººå…¶å®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå°¤å…¶åœ¨ä»Šå¤©çš„ä¸­å›½ï¼Œæ›´æ˜¯ç®€å•ã€‚å› ä¸ºï¼Œä½ åªçœ‹çœ‹ä¸­å›½çš„äº’è”ç½‘ï¼Œä½ å°±ä¼šå‘ç°ï¼Œä»–ä»¬åŸºæœ¬ä¸Šå…¨éƒ¨éƒ½æ˜¯åœ¨æ¶ˆè´¹å¤§ä¼—ï¼Œè®©å¤§ä¼—å˜å¾—æ›´ä¸ºåœ°æ„šè ¢å’Œå‚»ç“œã€‚æ‰€ä»¥ï¼Œåœ¨ä»Šå¤©çš„ä¸­å›½ï¼Œä½ åŸºæœ¬ä¸Šä¸ç”¨åšä»€ä¹ˆï¼Œåªéœ€è¦ä¸ä½¿ç”¨ä¸­å›½äº’è”ç½‘ï¼Œä½ å°±å¾ˆè‡ªç„¶åœ°è¶…è¿‡å¤§å¤šæ•°äººäº†ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¿˜æƒ³è·Ÿä»–ä»¬å½»åº•æ‹‰å¼€ï¼Œç”©ä»–ä»¬å‡ ä¸ªèº«ä½ï¼ŒæŠŠåˆ«äººæ‰“åˆ°åº•å±‚ï¼Œä¸‹é¢çš„è¿™äº›â€œæŠ€å·§â€ä½ è¦å¤šå¤šäº†è§£ä¸€ä¸‹ã€‚ åœ¨ä¿¡æ¯è·å–ä¸Šï¼Œä½ è¦ä¸æ–­åœ°å‘å¤§ä¼—é¼“å¹ä¸‹é¢çš„è¿™äº›äº‹ï¼š è®©å¤§å®¶éƒ½ç”¨ç™¾åº¦æœç´¢å¼•æ“æŸ¥æ‰¾ä¿¡æ¯ï¼Œè®¢é˜…å¾®ä¿¡å…¬ä¼—å·æˆ–æ˜¯åˆ°çŸ¥ä¹ä¸Šå­¦ä¹ çŸ¥è¯†â€¦â€¦è¦åšåˆ°è¿™ä¸€æ­¥ï¼Œä½ å°±éœ€è¦æŠŠâ€œç™¾åº¦ä¸€ä¸‹â€æŒ‚åœ¨å˜´è¾¹ï¼Œç„¶åè¦ç»å¸¸åœ¨ç¾¤æˆ–æœ‹å‹åœˆä¸­è½¬å‘å¾®ä¿¡å…¬ä¼—å·çš„æ–‡ç« ï¼Œå¹¶ä¸”è½¬å‘çŸ¥ä¹é‡Œçš„å„ç§â€œå¦‚ä½•çœ‹å¾…â€¦â€¦â€è¿™æ ·çš„æ–‡ç« ï¼Œè®©ä»–ä»¬çˆ±ä¸Šå…«å¦ï¼Œçˆ±ä¸Šè½¬å‘ï¼Œçˆ±ä¸Šç¢ç‰‡ã€‚ è®©å¤§å®¶åˆ°å¾®åšæˆ–æ˜¯çŸ¥è¯†æ˜Ÿçƒä¸Šç²‰ä¸€äº›å¤§å’–ï¼Œå¯†åˆ‡å…³æ³¨ä»–ä»¬çš„è¨€è®ºå’ŒåŠ¨å‘â€¦â€¦æ˜¯çš„ï¼Œå‘Šè¯‰å¤§å®¶ï¼Œå¤§å’–çš„ä»»ä½•æƒ³æ³•ä¸€è¨€ä¸€è¡Œéƒ½å¯ä»¥åœ¨å¾®åšã€æœ‹å‹åœˆæˆ–æ˜¯çŸ¥è¯†æ˜Ÿçƒä¸Šè·å¾—ï¼Œè®©å¤§å®¶ç›¸ä¿¡ï¼Œä½ çš„æˆé•¿å’Œå¤§å’–çš„è§é—»å’Œé—²æ‰¯éå¸¸æœ‰å…³ç³»ï¼Œä½ è·Ÿç‰›äººåœ¨ä¸€ä¸ªåœˆå­é‡Œä½ ä¹Ÿä¼šå˜ç‰›ã€‚ æŠŠä»Šæ—¥å¤´æ¡å’ŒæŠ–éŸ³è¿™æ ·çš„APPæ¨èç»™å¤§å®¶â€¦â€¦ä½ åªéœ€è¦è®©ä½ æœ‰æœ‹å‹æˆåŠŸåœ°å®‰è£…è¿™ä¸¤ä¸ªAPPï¼Œä»–ä»¬å°±ä¼šèŠ±å¤§é‡çš„æ—¶é—´åœ¨ä¸Šé¢ï¼Œè€Œä¸èƒ½è‡ªæ‹”ï¼Œè¦è®©ä»–ä»¬å®‰è£…å…¶å®è¿˜æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä½ è¦ä¸ä¿¡ä½ å°±è£…ä¸€ä¸ªè¯•ç©ä¸€ä¼šçœ‹çœ‹ï¼ˆå˜¿å˜¿å˜¿ï¼‰ã€‚ è®©å¤§å®¶çƒ­çˆ±å…«å¦ï¼Œå…«å¦å¹¶ä¸ä¸€å®šæ˜¯æ˜æ˜Ÿçš„å…«å¦ï¼Œè¿˜å¯ä»¥æ˜¯ä½ èº«è¾¹çš„äººï¼Œæ¯”å¦‚ï¼Œå…¬å¸çš„åŒäº‹ï¼Œè‡ªå·±çš„åŒå­¦ï¼ŒèŒåœºè§é—»ï¼Œç¤¾ä¼šçƒ­ç‚¹ï¼Œäº‰è®®è¯é¢˜ï¼Œâ€¦â€¦è¿™äº›ä¸œè¥¿æ€»æœ‰ä¸€äº›ä¸œè¥¿ä¼šè®©äººå¿ƒæ€æœ‰å¾ˆå¤šå¾®å¦™çš„å˜åŒ–ï¼Œç”šè‡³èŠ±å¤§é‡çš„æ—¶é—´å»æœç´¢å’Œé˜…è¯»å¤§é‡çš„è§‚ç‚¹ï¼Œä»¥åŠèŠ±å¤§é‡æ—¶é—´ä¸äººè¾©è®ºäº‰è®ºï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šè®©äººä¸Šç˜¾ï¼Œè®©äººæ¬²ç½¢ä¸èƒ½ï¼Œç„¶è€Œè¿™äº›äº‹å´å’Œè‡ªå·±æ²¡æœ‰åŠæ¯›é’±å…³ç³»ã€‚ä½ è¦åšçš„äº‹å°±æ˜¯è½¬å‘å…¶ä¸­ä¸€äº›SBæˆ–æ˜¯å¾ˆæç«¯çš„è§‚ç‚¹ï¼Œé€ æˆå¤§å®¶çš„ä¸€ç¦è®¨è®ºåï¼Œå°±æ—©æ—©ç¦»åœºâ€¦â€¦ åˆ©ç”¨çˆ±å›½ä¸»ä¹‰ï¼Œè®©å¤§å®¶è§‰å¾—ä¸ç”¨å­¦è‹±æ–‡ï¼Œä¸è¦å‡ºå›½ï¼Œä¸è¦ç¿»å¢™ï¼Œå’±ä»¬å·²ç»æ˜¯å¼ºå›½äº†â€¦â€¦è¿™ç‚¹å…¶å®è¿˜æ˜¯å¾ˆå®¹æ˜“åšåˆ°çš„ï¼Œå› ä¸ºå­¦ä¹ æ˜¯æ¯”è¾ƒé€†äººæ€§çš„ï¼Œæ‰€ä»¥ï¼Œåªè¦ä½ é¼“å¹é‚£äº›è‹±æ–‡æ— ç”¨è®ºï¼Œå‡ºå›½æ´»å¾—æ›´æƒ¨ï¼Œå›½å®¶å’Œæ°‘æ—éƒ½å˜å¾—å¾ˆå¼ºå¤§ï¼Œå°±ç®—è‡ªå·±è¿‡å¾—å¾ˆåº•å±‚ï¼Œä¹Ÿæœ‰å¤§å›½äººæ°‘çš„æ„Ÿè§‰ã€‚ ç„¶åï¼Œåœ¨çŸ¥è¯†å­¦ä¹ å’ŒæŠ€èƒ½è®­ç»ƒä¸Šï¼Œè®©ä»–ä»¬ä¸å¾—è¦é¢†å¹¶äº§ç”Ÿå¹»è§‰ è®©ä»–ä»¬æ··æ·†è®¤è¯†å’ŒçŸ¥è¯†ï¼Œä»¥ä¸ºå¼€é˜”è®¤çŸ¥å°±æ˜¯å­¦ä¹ ï¼Œè®©ä»–ä»¬æœ‰å­¦ä¹ å’Œæˆé•¿çš„å¹»è§‰â€¦â€¦ åŸ¹å…»ä»–ä»¬è¦å­¦ä¼šä½¿ç”¨ç¢ç‰‡æ—¶é—´å­¦ä¹ ã€‚ç­‰ä»–ä»¬ä¹ æƒ¯åˆ©ç”¨ç¢ç‰‡æ—¶é—´åƒå¿«é¤åï¼Œä»–ä»¬å°±ä¼šå¤±å»ç²¾è¯»ä¸€æœ¬ä¹¦çš„è€æ€§â€¦â€¦ä¸æ–­åœ°ç»™ä»–ä»¬å„ç§å„æ ·â€œæœ‰ä»·å€¼çš„å­¦ä¹ èµ„æ–™â€ï¼Œè®©ä»–ä»¬æŠ“ä¸ä½é‡ç‚¹ï¼Œæˆä¸ºä¸€ä¸ªå¾®ä¿¡å…¬ä¼—å·æˆ–ç”µå­ä¹¦â€œæ”¶è—å®¶â€â€¦â€¦ è®©ä»–ä»¬çœ‹ä¸€äº›æ¯ç‡¥æ— å‘³çš„åŸºç¡€çŸ¥è¯†å’Œç¡¬æ ¸çŸ¥è¯†ï¼Œè¿™æ ·è®©ä»–ä»¬åªä¼šç”¨â€œæ­»è®°ç¡¬èƒŒâ€çš„æ–¹å¼æ¥å­¦ä¹ ï¼Œç”šè‡³ç›´æ¥è®©ä»–ä»¬å¤±å»ä¿¡å¿ƒï¼Œç›´æ¥æ”¾å¼ƒâ€¦â€¦ ç©å…·æ‰‹æªæ˜¯æ˜“ç”¨çš„ï¼Œé‡æ­¦å™¨æ˜¯éš¾ä»¥æ“æ§çš„ï¼Œå¤šç»™ä»–ä»¬ä¸€äº›ç©å…·ï¼Œè¿™æ ·ä»–ä»¬å°±ä¼šå¯¹ç©å…·ç©åœ°å¾—å¿ƒåº”æ‰‹ï¼Œè§‰å¾—ç©ç©å…·å°±æ˜¯è‡ªå·±çš„ä¸“ä¸šâ€¦â€¦ è®©ä»–ä»¬å–œæ¬¢ç›´æ¥å¾—åˆ°ç­”æ¡ˆçš„å·¥ä½œå’Œå­¦ä¹ æ–¹å¼ï¼Œæˆä¸ºä¸€ä¸ªä¼¸æ‰‹å…šï¼Œä»æ­¤å­¦ä¹ å†ä¹Ÿä¸æ€è€ƒâ€¦â€¦ å‘Šè¯‰ä»–ä»¬ä¸œè¥¿åšå‡ºæ¥å°±å¥½äº†ï¼Œä¸è¦è¿½æ±‚åšæ¼‚äº®ï¼Œåšä¼˜é›…ï¼Œè¿™æ ·ä»–ä»¬å°±ä¼šæ…¢æ…¢åœ°å˜æˆåŠ³åŠ¨å¯†é›†å‹â€¦â€¦ è®©ä»–ä»¬è§‰å¾—è‡ªå·±å·²ç»å¾ˆåŠªåŠ›äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯è¿æ°”ï¼Œå¹¶è¯´æœä»–ä»¬å»â€˜åŠæ—¶è¡Œä¹â€™ï¼Œç„¶åå†ä¹Ÿæ‰¾ä¸åˆ°é«˜é˜¶å’Œé«˜æ•ˆç‡å­¦ä¹ çš„æ„Ÿè§‰â€¦â€¦ è®©ä»–ä»¬è§‰å¾—â€œè¯»å®Œä¹¦â€ã€â€œè¯»è¿‡ä¹¦â€å°±è¡Œäº†ï¼Œä¸éœ€è¦å¯¹ä¹¦ä¸­çš„ä¸œè¥¿è¿›è¡Œæ€è€ƒï¼Œè¿›è¡Œæ€»ç»“ï¼Œæˆ–æ˜¯å®è·µï¼Œåªè¦å›«å›µåæ£å°½å¿«è¯»å®Œå°±ç­‰åŒäºå­¦å¥½äº†â€¦â€¦ æœ€åï¼Œåœ¨è®¤çŸ¥å’Œæ ¼å±€ä¸Šï¼Œå½»åº•æ‰“å®ä»–ä»¬ï¼Œè®©ä»–ä»¬å˜æˆéŸ­èœã€‚ è®©ä»–ä»¬ä¸è¦çœ‹åˆ°å¤§çš„å½¢åŠ¿ï¼Œåªçœ‹åˆ°çœ¼å‰çš„ä¸€äº©ä¸‰åˆ†åœ°ï¼Œåšå¥½ä¸€ä¸ªäº•åº•ä¹‹è›™ã€‚å…¶å®è¿™å¾ˆç®€å•ï¼Œæ¯”å¦‚ï¼Œä½ ä¸è¦è®©ä»–ä»¬çœ‹åˆ°æ•´ä¸ªè®¡ç®—æœºäº’è”ç½‘æŠ€æœ¯æ”¹å˜äººç±»ç¤¾ä¼šçš„è¶‹åŠ¿ï¼Œä½ è¦å¤šè®©ä»–çœ‹åˆ°ï¼Œä»äº‹è¿™ä¸€è¡Œä¸šçš„äººæœ‰å¤šè‹¦é€¼ï¼Œç„¶åå†è¯´ä¸€ä¸‹å…¶å®ƒè¡Œä¸šæˆ–èŒä¸šæœ‰å¤šå¥½â€¦â€¦ å®£æ‰¬ä¸€å¤œæš´å¯Œä»¥åŠå¿«é€ŸæŒ£é’±çš„æ¡ˆä¾‹ï¼Œæœ€å¥½è®©ä»–ä»¬è¿›å…¥â€œèµŒåšç±»â€æˆ–æ˜¯â€œä¼ é”€ç±»â€çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼šè‚¡å¸‚ã€æ•°å­—è´§å¸â€¦â€¦è¦è®©ä»–ä»¬ç›¸ä¿¡å„ç§è´¢å¯Œç¥è¯ï¼Œç›¸ä¿¡ä»–ä»¬å°±æ˜¯é‚£ä¸ªå¹¸è¿å„¿ï¼Œä»–ä»¬ä¹Ÿå¯ä»¥æˆä¸ºå·´è²ç‰¹ï¼Œå¯ä»¥æˆä¸ºé©¬äº‘â€¦â€¦ å‘Šè¯‰ä»–ä»¬ï¼Œä¸€äº›çœ‹ä¸Šå»å¾ˆéš¾çš„äº‹éƒ½æ˜¯æœ‰æ·å¾„çš„ï¼Œæ¯”å¦‚ï¼š21å¤©å°±èƒ½å­¦ä¼šæœºå™¨å­¦ä¹ ï¼Œç”¨åŒºå—é“¾å°±èƒ½é¢ è¦†ä»¥åŠé‡æ„æ•´ä¸ªä¸–ç•Œç­‰ç­‰â€¦â€¦ å¤šè·Ÿä»–ä»¬è®²ä¸€äº›å°äººç‰©çš„åŠ±å¿—çš„æ•…äº‹ï¼Œè¿™æ ·è®©ä»–ä»¬ç›¸ä¿¡ï¼Œä¸éœ€è¦å­¦ä¹ é«˜çº§çŸ¥è¯†ï¼Œä¸éœ€è¦æŒæ¡é«˜çº§æŠ€èƒ½ï¼Œåªéœ€è¦ç”¨ä½ç­‰çš„çŸ¥è¯†å’Œä½çº§çš„æŠ€èƒ½ï¼Œå†åŠ ä¸ŠæŒç»­ä¸æ–­æ‹¼å‘½é‡å¤ç°æœ‰çš„å·¥ä½œï¼Œç»ˆæœ‰ä¸€å¤©å°±ä¼šæˆåŠŸâ€¦â€¦ å¤šè®©ä»–ä»¬è·Ÿåˆ«äººæ¯”è¾ƒï¼Œäººæ¯”äººä¸ä¼šæ°”æ­»äººï¼Œä½†æ˜¯ä¼šè®©äººå˜å¾—æµ®èºï¼Œå˜å¾—å¿ƒæ€¥ï¼Œå˜å¾—ç„¦è™‘ï¼Œå½“ä¸€ä¸ªäººæ²¡æœ‰åŠæ³•æ§åˆ¶è‡ªå·±çš„æƒ…ç»ªï¼Œæ²¡æœ‰åŠæ³•è®©è‡ªå·±é™ä¸‹å¿ƒæ¥ï¼Œäººä¼šå¤±å»è€æ€§å’ŒåšæŒï¼Œå¼€å§‹å¥½å¤§å–œæ¬¢åŠŸï¼Œå¼€å§‹è£…é€¼ï¼Œå¼€å§‹æ­ªé—¨é‚ªé“å‰‘èµ°åé”‹â€¦â€¦ è®©ä»–ä»¬åˆ°ä½“åˆ¶å†…çš„ä¸€äº›éå¸¸ç¨³å®šçš„åœ°æ–¹å·¥ä½œï¼Œè¿™æ ·ä»–ä»¬æ‹¥æœ‰ä¸æ€è¿›å–ã€æ€•æ‰¿æ‹…è´£ä»»ã€å®³æ€•çŠ¯é”™ã€å–œæ¬¢å·æ‡’ã€å¾—è¿‡ä¸”è¿‡çš„ç´ è´¨â€¦â€¦ è®©ä»–ä»¬åˆ°ä½“åˆ¶å¤–çš„é‚£äº›å–œæ¬¢æ‹¼å‘½å–œæ¬¢åŠ ç­çš„åœ°æ–¹å·¥ä½œï¼Œå‘Šè¯‰ä»–ä»¬çˆ±æ‹¼æ‰ä¼šèµ¢ï¼ŒåŠªåŠ›åŠ ç­æ˜¯ä¸€ç§ç¦æŠ¥ï¼Œé’æ˜¥å°±æ˜¯ç”¨æ¥æ‹¼çš„ï¼Œè®©ä»–ä»¬å–œæ¬¢ä¸Šä½¿è›®åŠ›çš„æ„Ÿè§‰â€¦â€¦ å‘Šè¯‰ä»–ä»¬ä½ çš„è¡Œä¸šå¤ªç´¯å¤ªè¾›è‹¦ï¼Œå¹²ä¸åˆ°30å²ã€‚è®©ä»–ä»¬æ—©ç‚¹è½¬è¡Œï¼Œä¸è¦è€½è¯¯äººç”Ÿå’Œé’æ˜¥â€¦â€¦ å½“ä»–ä»¬è¦åšå†³å®šçš„æ—¶å€™ï¼Œä¸€å®šè¦è®©ä»–ä»¬æ›´å¤šçš„å…³æ³¨è‡ªå·±ä¼šå¤±å»çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ä¼šå¾—åˆ°çš„ä¸œè¥¿ã€‚åŸ¹å…»ä»–ä»¬æ‚£å¾—æ‚£å¤±å¿ƒæ€ï¼Œè®©ä»–ä»¬è®¤è¯†ä¸åˆ°äº‹ç‰©çœŸæ­£çš„ä»·å€¼ï¼Œå¤±å»åˆ¤æ–­èƒ½åŠ›â€¦â€¦ï¼ˆæ¯”å¦‚ï¼šè®©ä»–ä»¬è§‰å¾—è·Ÿå¯¹äººæ‹é¢†å¯¼çš„é©¬å±å¿ äºå…¬å¸æ¯”è‡ªæˆ‘çš„æˆé•¿æ›´æœ‰ä»·å€¼ï¼‰ å‘Šè¯‰ä»–ä»¬ï¼Œä½ ç°æœ‰çš„æŠ€èƒ½å’ŒçŸ¥è¯†ä¸ç”¨æ›´æ–°ï¼Œå°±èƒ½è¿‡å¥½ä¸€è¾ˆå­ï¼Œæ–°å‡ºæ¥çš„ä¸œè¥¿æ²¡æœ‰ç”Ÿå‘½åŠ›çš„â€¦â€¦è¿™æ ·ä»–ä»¬å°±ä¼šåƒæˆ‘ä»¬å†ä¹Ÿä¸å­¦ä¹ çš„çˆ¶è¾ˆä¸€æ ·å¾ˆå¿«å°±ä¼šè¢«æ—¶ä»£æ‰€æŠ›å¼ƒâ€¦â€¦ æ¯ä¸ªäººéƒ½å–œæ¬¢åœ¨ä¸€äº›è‡ªå·±åšä¸åˆ°çš„äº‹ä¸Šæ‰¾ç†ç”±ï¼Œè¿™ç§èƒ½åŠ›ä¸æ•™å°±ä¼šï¼Œæ¯”å¦‚ï¼Œäº‹æƒ…å¤ªå¤šæ²¡æœ‰æ—¶é—´ï¼Œå› ä¸ºå·¥ä½œä¸Šæ²¡æœ‰ç”¨åˆ°ï¼Œç­‰ç­‰ï¼Œä½ è¦åšçš„å°±æ˜¯å¸®ä»–ä»¬ä¸ºä»–ä»¬åšä¸åˆ°çš„äº‹æ‰¾å„ç§éå¸¸åˆç†çš„ç†ç”±ï¼Œæ¯”å¦‚ï¼šæ²¡äº‹çš„ï¼Œä¸€åˆ‡éƒ½æ˜¯æœ€å¥½çš„å®‰æ’ï¼›ä½ å¾—ä¸åˆ°çš„é‚£ä¸ªäº‹æ²¡ä»€ä¹ˆæ„æ€ï¼›ä½ æ²¡æœ‰é¢å¥½ä¸»è¦åŸå› æ˜¯é‚£ä¸ªé¢è¯•å®˜é—®çš„é—®é¢˜éƒ½æ˜¯å¯ä»¥ä¸Šç½‘æŸ¥å¾—åˆ°çš„çŸ¥è¯†ï¼Œè€Œä¸æ²¡æœ‰é—®åˆ°ä½ çœŸæ­£çš„èƒ½åŠ›ä¸Šï¼›è¿™äº›ä¸œè¥¿å­¦äº†ä¸ç”¨å¾ˆå¿«ä¼šå¿˜äº†ï¼Œç­‰æœ‰äº†ç¯å¢ƒå†å­¦ä¹Ÿä¸è¿Ÿâ€¦â€¦ æœ€åå‹æƒ…æç¤ºä¸€ä¸‹ï¼Œä¸Šè¿°çš„è¿™äº›â€œæœ€ä½³å®è·µâ€ä½ è¦å°å¿ƒï¼Œæ˜¯æ‰€è°“ï¼Œè´©æ¯’çš„äººä»æ¥ä¸å¸æ¯’ï¼Œå¼€èµŒåœºçš„äººä»æ¥ä¸èµŒåšï¼æ‰€ä»¥ï¼Œä½ è¦å°å¿ƒåˆ«è‡ªå·±ä¹Ÿæ‰è¿›å»äº†ï¼è¿™å°±æ˜¯â€œæ¬²ç»ƒç¥åŠŸï¼Œå¿…å…ˆè‡ªå®«â€çš„é“ç†ã€‚ ç›¸å…³åŸç†å’Œæ€ç»´æ¨¡å‹å¯¹äºä¸Šé¢çš„è¿™äº›æŠ€å·§è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œä½ è‡ªå·±ä¹Ÿå¯ä»¥å‘æ˜æˆ–æ˜¯æ‰¾åˆ°å¾ˆå¤šã€‚æ‰€ä»¥ï¼Œæˆ‘æ¥è®²è®²è¿™å…¶ä¸­çš„ä¸€äº›åŸç†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¶…è¿‡åˆ«äººä¸€èˆ¬æ¥è¯´å°±æ˜¯ä¸¤ä¸ªç»´åº¦ï¼š åœ¨è®¤çŸ¥ã€çŸ¥è¯†å’ŒæŠ€èƒ½ä¸Šã€‚è¿™æ˜¯ä¸€ä¸ªäººèµ–ä»¥ç«‹è¶³ç¤¾ä¼šçš„èƒ½åŠ›ï¼ˆå‚çœ‹ã€Šç¨‹åºå‘˜çš„è’è°¬ä¹‹è¨€è¿˜æ˜¯è‡³ç†åè¨€ï¼Ÿã€‹å’Œã€Š21å¤©æ•™ä½ å­¦ä¼šC++ã€‹ï¼‰ åœ¨é¢†å¯¼åŠ›ä¸Šã€‚æ‰€è°“é¢†å¯¼åŠ›å°±æ˜¯ä½ è·‘åœ¨åˆ«äººå‰é¢ï¼Œä½ å¾—è¦æœ‰æ¯”åˆ«äººæ›´å¥½çš„èƒ½åŠ›æ›´é«˜çš„æ ‡å‡†ï¼ˆå‚çœ‹ã€ŠæŠ€æœ¯äººå‘˜å‘å±•ä¹‹è·¯ã€‹ï¼‰ é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ˜ç™½ï¼Œäººçš„æŠ€èƒ½æ˜¯ä»è®¤è¯†å¼€å§‹ï¼Œç„¶åé€šè¿‡å­¦æ ¡ã€åŸ¹è®­æˆ–æ˜¯ä¹¦æœ¬æŠŠâ€œé›¶ç¢çš„è®¤çŸ¥â€è½¬æ¢æˆâ€œç³»ç»Ÿçš„çŸ¥è¯†â€ï¼Œè€Œæœ‰è¦æŠŠçŸ¥è¯†è½¬æ¢æˆæŠ€èƒ½ï¼Œå°±éœ€è¦è®­ç»ƒå’Œå®è·µï¼Œè¿™æ ·æ‰èƒ½å®Œæˆä»ï¼šè®¤è¯† -&gt; çŸ¥è¯† -&gt; æŠ€èƒ½ çš„è½¬æ¢ã€‚è¿™ä¸ªè½¬æ¢è¿‡ç¨‹æ˜¯éœ€è¦è€—è´¹å¾ˆå¤šæ—¶é—´å’Œç²¾åŠ›çš„ï¼Œè€Œä¸”å…¶ä¸­è¿˜éœ€è¦æœ‰å¼ºå¤§çš„å­¦ä¹ èƒ½åŠ›å’ŒåŠ¨æ‰‹èƒ½åŠ›ï¼Œè¿™æ¡è·¯å¾„ä¸Šæœ‰å¾ˆå¤šçš„â€œå…³å¡â€ï¼Œæ¯é“å…³å¡éƒ½ä¼šè¿‡æ»¤æ‰ä¸€å¤§éƒ¨åˆ†äººã€‚æ¯”å¦‚ï¼šå¯¹äºä¸€äº›æ¯”è¾ƒæ¯ç‡¥çš„ç¡¬æ ¸çŸ¥è¯†æ¥è¯´ï¼Œ90%çš„äººåŸºæœ¬ä¸Šå°±å€’ä¸‹æ¥ï¼Œä¸æ˜¯å› ä¸ºä»–ä»¬æ²¡æœ‰æ™ºå•†ï¼Œè€Œæ˜¯ä»–ä»¬æ²¡æœ‰è€å¿ƒã€‚ è®¤çŸ¥è¦åœ¨è®¤çŸ¥ä¸Šè¶…è¿‡åˆ«äººï¼Œå°±è¦åœ¨ä¸‹é¢å‡ ä¸ªæ–¹é¢ä¸Šåšè¶³åŠŸå¤«ï¼š 1ï¼‰ä¿¡æ¯æ¸ é“ã€‚è¯•æƒ³å¦‚æœåˆ«äººçš„ä¿¡æ¯æºæ²¡æœ‰ä½ çš„å¥½ï¼Œé‚£ä¹ˆï¼Œè¿™äº›çœ‹ä¸è§ä¿¡æ¯æºçš„äººï¼Œåªèƒ½æ¥è§¦å¾—åˆ°äºŒæ‰‹ä¿¡æ¯ç”šè‡³ä¸‰æ‰‹ä¿¡æ¯ï¼Œåªèƒ½è·å¾—è¢«åˆ«äººè§£è¯»è¿‡çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯è¢«ä¸‰ä¼ ä¸¤é€’åå¿…å®šä¼šæœ‰é”™è¯¯å’Œå¤±çœŸï¼Œç”šè‡³ä¼šè¢«ä¼ é€’ä¿¡æ¯çš„ä¸­é—´äººhackå…¶ä¸­çš„ä¿¡æ¯ï¼ˆä¹Ÿå°±æ˜¯â€œä¸­é—´äººæ”»å‡»â€ï¼‰ï¼Œè€Œè¿™äº›æ‰¾ä¸å‡ºä¿¡æ¯æºçš„äººï¼Œåªèƒ½â€œè¢«äººå–‚å…»â€ï¼Œäºæ˜¯ï¼Œä»–ä»¬æœ€ç»ˆä¼šè¢«å›°åœ¨ä¿¡æ¯çš„åº•å±‚ï¼Œæ°¸ä¸–ä¸å¾—ç¿»èº«ã€‚ï¼ˆæ¯”å¦‚ï¼šå­¦ä¹ Cè¯­è¨€ï¼Œæ”¾ç€åŸä½œè€…K&amp;Rçš„ä¸ç”¨ï¼Œç¡¬è¦ç”¨é”™è¯¯ç™¾å‡ºè°­æµ©å¼ºçš„ä¹¦ï¼Œèƒ½æœ‰ä»€ä¹ˆå¥½å‘¢ï¼Ÿï¼‰ 2ï¼‰ä¿¡æ¯è´¨é‡ã€‚ä¿¡æ¯è´¨é‡ä¸»è¦è¡¨ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯ä¿¡æ¯ä¸­çš„ç‡¥éŸ³ï¼Œå¦ä¸€ä¸ªæ˜¯ä¿¡æ¯ä¸­çš„è´¨é‡ç­‰çº§ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨å¤§æ•°æ®å¤„ç†ä¸­æœ‰ä¸€å¥åè¨€ï¼Œå« garbage in garbage outï¼Œä½ å¤©å¤©çœ‹çš„éƒ½æ˜¯åƒåœ¾ï¼Œä½ çš„æ€æƒ³å’Œè®¤è¯†ä¹Ÿåªæœ‰åƒåœ¾ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„ä¿¡æ¯è´¨é‡å¹¶ä¸å¥½çš„è¯ï¼Œä½ çš„è®¤çŸ¥ä¹Ÿä¸ä¼šå¥½ï¼Œè€Œä¸”ä½ è¿˜è¦èŠ±å¤§é‡çš„æ—¶é—´æ¥è¿›è¡Œæœ‰ä»·å€¼ä¿¡æ¯çš„æŒ–æ˜å’Œå¤„ç†ã€‚ 3ï¼‰ä¿¡æ¯å¯†åº¦ã€‚ä¼˜è´¨çš„ä¿¡æ¯ï¼Œå¯†åº¦ä¸€èˆ¬éƒ½å¾ˆå¤§ï¼Œå› ä¸ºè¿™ç§ä¿¡æ¯ä¼šé€¼ç€ä½ å»å¹²è¿™ä¹ˆå‡ ä»¶äº‹ï¼Œaï¼‰æœç´¢å¹¶å­¦ä¹ å…¶å…³è”çš„çŸ¥è¯†ï¼Œbï¼‰æ²‰æ€å’Œåçœï¼Œcï¼‰äº²æ‰‹å»æ¨ç†ã€éªŒè¯å’Œå®è·µâ€¦â€¦ä¸€èˆ¬æ¥è¯´ï¼Œç»éªŒæ€§çš„æ–‡ç« ä¼šæ¯”çŸ¥è¯†æ€§çš„æ–‡ç« ä¼šæ›´æœ‰è¿™æ ·çš„åŠŸæ•ˆã€‚æ¯”å¦‚ï¼Œç±»ä¼¼äºåƒ Effiective C++/Javaï¼Œè®¾è®¡æ¨¡å¼ï¼ŒUnixç¼–ç¨‹è‰ºæœ¯ï¼Œç®—æ³•å¯¼è®ºç­‰ç­‰è¿™æ ·çš„ä¹¦å°±æ˜¯å±äºè¿™ç§å¯†åº¦å¾ˆå¤§çš„ä¹¦ï¼Œè€ŒåƒNetflixçš„å®˜æ–¹blogå’ŒAWS CTOçš„blogç­‰ç­‰åœ°æ–¹ä¹Ÿä¼šç»å¸¸æœ‰ä¸€äº›è¿™æ ·çš„æ–‡ç« ã€‚ çŸ¥è¯†è¦åœ¨çŸ¥è¯†ä¸Šè¶…è¿‡åˆ«äººï¼Œä½ å°±éœ€è¦åœ¨ä¸‹é¢å‡ ä¸ªæ–¹é¢ä¸Šåšè¶³åŠŸå¤«ï¼š 1ï¼‰çŸ¥è¯†æ ‘ï¼ˆå›¾ï¼‰ã€‚ä»»ä½•çŸ¥è¯†ï¼Œåªåœ¨ç‚¹ä¸Šå­¦ä¹ ä¸å¤Ÿçš„ï¼Œéœ€è¦åœ¨é¢ä¸Šå­¦ä¹ ï¼Œè¿™å«ç³»ç»Ÿåœ°å­¦ä¹ ï¼Œè¿™éœ€è¦æˆ‘ä»¬å»æ€»ç»“å¹¶å½’çº³çŸ¥è¯†æ ‘æˆ–çŸ¥è¯†å›¾ï¼Œä¸€ä¸ªçŸ¥è¯†é¢ä¼šæœ‰å¤šä¸ªçŸ¥è¯†æ¿å—ç»„æˆï¼Œä¸€ä¸ªæ¿å—åˆæœ‰å„ç§çŸ¥è¯†ç‚¹ï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ä¼šå¯¼å‡ºå¦å¤–çš„çŸ¥è¯†ç‚¹ï¼Œå„ç§çŸ¥è¯†ç‚¹åˆä¼šäº¤å‰å’Œä¾èµ–èµ·æ¥ï¼Œå­¦ä¹ å°±æ˜¯è¦ç³»ç»Ÿåœ°å­¦ä¹ æ•´ä¸ªçŸ¥è¯†æ ‘ï¼ˆå›¾ï¼‰ã€‚è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¯¹äºä¸€æ£µæ ‘æ¥è¯´ï¼Œâ€œæ ¹åŸºâ€æ˜¯éå¸¸é‡è¦çš„ï¼Œæ‰€ä»¥ï¼Œå­¦å¥½åŸºç¡€çŸ¥è¯†ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œå¯¹äºä¸€ä¸ªé™Œç”Ÿçš„åœ°æ–¹ï¼Œæœ‰ä¸€ä»½åœ°å›¾æ˜¯éå¸¸é‡è¦çš„ï¼Œæ²¡æœ‰åœ°å›¾çš„ä½ åªä¼šä¹±çªœï¼Œåªä¼šè¿·è·¯ã€ç»ƒè·¯ã€èµ°å†¤æ‰è·¯ï¼ 2ï¼‰çŸ¥è¯†ç¼˜ç”±ã€‚ä»»ä½•çŸ¥è¯†éƒ½æ˜¯æœ‰ç¼˜ç”±çš„ï¼Œäº†è§£ä¸€ä¸ªçŸ¥è¯†çš„æ¥é¾™å»è„‰å’Œå‰ä¸–ä»Šç”Ÿï¼Œä¼šè®©ä½ å¯¹è¿™ä¸ªçŸ¥è¯†æœ‰éå¸¸å¼ºçš„æŒæ¡ï¼Œè€Œä¸å†åªæ˜¯é è®°å¿†å»å­¦ä¹ ã€‚é è®°å¿†å»å­¦ä¹ æ˜¯ä¸€ä»¶éå¸¸ç³Ÿç³•çš„äº‹ã€‚è€Œå¯¹äºä¸€äº›æ“ä½œæ€§çš„çŸ¥è¯†ï¼ˆä¸éœ€è¦äº†è§£ç”±æ¥çš„ï¼‰ï¼Œæˆ‘æŠŠå…¶å«æ“ä½œçŸ¥è¯†ï¼Œå°±åƒä¸€äº›å‡½æ•°åº“ä¸€æ ·ï¼Œè¿™æ ·çš„çŸ¥è¯†åªè¦å­¦ä¼šæŸ¥æ–‡æ¡£å°±å¥½äº†ã€‚èƒ½å¤ŸçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶çš„äººè‡ªç„¶ä¼šæ¯”è¯†çŸ¥è¯†åˆ°è¡¨çš®çš„äººæ®µä½è¦é«˜å¾ˆå¤šã€‚I 3ï¼‰æ–¹æ³•å¥—è·¯ã€‚å­¦ä¹ ä¸æ˜¯ä¸ºäº†æ‰¾åˆ°ç­”æ¡ˆï¼Œè€Œæ˜¯æ‰¾åˆ°æ–¹æ³•ã€‚å°±åƒæ•°å­¦ä¸€æ ·ï¼Œä½ å­¦çš„æ˜¯æ–¹æ³•ï¼Œæ˜¯è§£é¢˜æ€è·¯ï¼Œæ˜¯å¥—è·¯ï¼Œä¼šç”¨æ–¹ç¨‹å¼è§£é¢˜çš„å’Œä¸ä¼šç”¨æ–¹ç¨‹å¼è§£é¢˜çš„åœ¨è§£é¢˜æ•ˆç‡ä¸Šä¸å¯æ¯”è¾ƒï¼Œè€Œåœ¨å¾®ç§¯åˆ†é¢å‰ï¼Œå…¶å®ƒçš„è§£é¢˜æ–¹æ³•éƒ½å˜æˆäº†æ¸£æ¸£ã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼ŒæŒæ¡é«˜çº§æ–¹æ³•çš„äººæ¯”åˆ«äººçš„ä¼˜åŠ¿æœ‰å¤šå¤§ï¼Œå­¦ä¹ çš„ç›®çš„å°±æ˜¯ä¸ºäº†æŒæ¡æ›´ä¸ºé«˜çº§çš„æ–¹æ³•å’Œè§£é¢˜æ€è·¯ã€‚ æŠ€èƒ½è¦åœ¨æŠ€èƒ½ä¸Šè¶…è¿‡åˆ«äººï¼Œä½ å°±éœ€è¦åœ¨ä¸‹é¢å‡ ä¸ªæ–¹é¢åšè¶³åŠŸå¤«ï¼š 1ï¼‰ç²¾ç›Šæ±‚ç²¾ã€‚å¦‚æœä½ æƒ³æ‹¥æœ‰ä¸“ä¸šçš„æŠ€èƒ½ï¼Œä½ è¦åšä¸ä»…ä»…æ˜¯æ‹¼å‘½åœ°é‡å¤ä¸€éåˆä¸€éçš„è®­ç»ƒï¼Œè€Œæ˜¯åœ¨æ¯ä¸€æ¬¡é‡å¤è®­ç»ƒæ—¶ä½ éƒ½è¦æ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•ï¼Œæ€»ç»“ç»éªŒï¼Œè®©æ–°çš„ä¸€éèƒ½å¤Ÿæ›´å¥½ï¼Œæ›´æ¼‚äº®ï¼Œæ›´æœ‰æ•ˆç‡ï¼Œå¦åˆ™ï¼Œç”¨ç›¸åŒçš„æ–¹æ³•é‡å¤ï¼Œé‚£ä½ åªä¸è¿‡åœ¨æ¬ç –ç½¢äº†ã€‚ 2ï¼‰è®©è‡ªå·±çŠ¯é”™ã€‚çŠ¯é”™æ˜¯æœ‰åˆ©äºæˆé•¿çš„ï¼Œè¿™æ˜¯å› ä¸ºå‡ºé”™ä¼šè®©äººåæ€ï¼Œåæ€æ›´å¥½çš„æ–¹æ³•ï¼Œåæ€æ›´å®Œç¾çš„æ–¹æ¡ˆï¼Œæ€»ç»“æ•™è®­ï¼Œå¯»æ±‚æ›´å¥½æ›´å®Œç¾çš„è¿‡ç¨‹ï¼Œæ˜¯æŠ€èƒ½å‡çº§çš„æœ€å¥½çš„æ–¹å¼ã€‚å°¤å…¶æ˜¯å½“ä½ åœ¨å‡ºé”™åï¼Œè¢«äººé„™è§†ï¼Œè¢«äººå˜²ç¬‘åï¼Œä½ ä¼šæœ‰æ›´å¤§çš„åŠ¨åŠ›æå‡è‡ªå·±ï¼Œè¿™æ ·çš„åŠ¨åŠ›æ‰æ˜¯è¿›æ­¥çš„æºåŠ¨åŠ›ã€‚å½“ç„¶ï¼Œåƒä¸‡ä¸è¦åŒä¸€ä¸ªé”™è¯¯é‡å¤åœ°çŠ¯ï¼ 3ï¼‰æ‰¾é«˜æ‰‹åˆ‡ç£‹ã€‚ä¸‹è¿‡æ£‹ï¼Œæ‰“ä¸ªçƒçš„äººéƒ½çŸ¥é“ï¼Œä½ è¦æƒ³æå‡è‡ªå·±çš„æŠ€è‰ºï¼Œä½ å¿…éœ€æ‰¾é«˜æ‰‹åˆ‡ç£‹ï¼Œåœ¨å’Œé«˜æ‰‹åˆ‡ç£‹çš„è¿‡ç¨‹ä¸­ä½ ä¼šæ„Ÿå—åˆ°é«˜æ‰‹çš„æŠ€èƒ½å’Œæ–¹æ³•ï¼Œæœ‰æ—¶å€™ä½ ä¼šæƒ…ä¸è‡ªç¦åœ°å“‡åœ°ä¸€ä¸‹ï¼Œæˆ‘é ï¼Œè¿˜å¯ä»¥è¿™ä¹ˆç©ï¼ é¢†å¯¼åŠ›æœ€åä¸€ä¸ªæ˜¯é¢†å¯¼åŠ›ï¼Œè¦æœ‰é¢†å¯¼åŠ›æˆ–æ˜¯å½±å“åŠ›è¿™ä¸ªäº‹å¹¶ä¸å®¹æ˜“ï¼Œè¿™è·Ÿä½ çš„é‡å¿ƒæœ‰å¤šå¤§ï¼Œå¥½èƒœå¿ƒæœ‰å¤šå¼º ï¼Œä½ æ„¿æ„ä»˜å‡ºå¤šå°‘å¾ˆæœ‰å…³ç³»ï¼Œå› ä¸ºä¸€ä¸ªäººçš„é¢†å¯¼åŠ›è·Ÿä»–çš„æ ‡å‡†å¾ˆæœ‰å…³ç³»ï¼Œå› ä¸ºæœ‰é¢†å¯¼åŠ›çš„äººçš„æ ‡å‡†æ¯”ç»å¤§å¤šæ•°äººéƒ½è¦é«˜ã€‚ 1ï¼‰è¯†åˆ«è‡ªå·±çš„ç‰¹é•¿å’Œå¤©èµ‹ã€‚é¦–å…ˆï¼Œæ¯ä¸ªäººDNAéƒ½å¯èƒ½æˆ–å¤šæˆ–å°‘éƒ½ä¼šæœ‰ä¸€äº›æ¯”å¤§å¤šæ•°äººNBçš„ä¸œè¥¿ï¼ˆå½“ç„¶ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ï¼‰ï¼Œå¦‚æœä½ æœ‰äº†ï¼Œé‚£ä¹ˆåœ¨ä½ è¿‡å»çš„äººç”Ÿä¸­å°±ä¸€å®šä¼šè¡¨ç°å‡ºæ¥äº†ï¼Œå°±æ˜¯é‚£ç§å¤§å®¶é‡åˆ°è¿™ä¸ªäº‹ä¼šæ¥è¯·æ•™ä½ çš„å¯»æ±‚ä½ å¸®åŠ©çš„ç°è±¡ã€‚é‚£ç§ï¼Œåˆ«äººè¦éå¸¸åŠªåŠ›ï¼Œè€Œä½ æ¯«ä¸è´¹åŠ²çš„äº‹ã€‚ä¸€æ—¦ä½ æœ‰äº†è¿™æ ·çš„ç‰¹é•¿æˆ–å¤©èµ‹ï¼Œé‚£ä½ å°±è¦å¤§åŠ›åœ°æ‰©å¤§ä½ çš„é¢†å…ˆä¼˜åŠ¿ï¼Œåƒä¸‡ä¸è¦è¿›åˆ°é‚£äº›ä¼šé™åˆ¶ä½ ä¼˜åŠ¿çš„åœ°æ–¹ã€‚ä½ æ˜¯ä¸€æ¡é±¼ï¼Œä½ å°±ä¸€å®šè¦æŠŠåˆ«äººæ‹‰åˆ°æ°´é‡Œæ¥ç©ï¼Œç»å¯¹ä¸è¦å»é™†åœ°ä¸Šè·Ÿåˆ«äººæ‹¼ï¼Œä¸æ–­åœ°åœ¨è‡ªå·±çš„ç‰¹é•¿å’Œå¤©èµ‹ä¸Šæ‰©å¤§è‡ªå·±çš„é¢†å…ˆä¼˜åŠ¿ï¼Œå½»åº•ä¸€éª‘ç»å°˜ã€‚ 2ï¼‰è¯†åˆ«è‡ªå·±çš„å…´è¶£å’Œäº‹ä¸šã€‚æ²¡æœ‰å¤©èµ‹ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œè¿˜æœ‰å…´è¶£ç‚¹ï¼Œéƒ½è¯´å…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆï¼Œå½“å¹´ï¼ŒLinuså°±æ˜¯åœ¨å­¦æ ¡é‡Œå¯¹minxç€è¿·äº†ï¼Œäºæ˜¯æ•´å‡ºä¸ªLinuxæ¥ï¼Œè¿™å°±æ˜¯å…´è¶£é©±åŠ¨å‡ºçš„ä¸œè¥¿ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå…´è¶£é©±åŠ¨çš„äº‹æ€»æ˜¯ä¼šæ¯”é‚£äº›è¢«åŠ¨é©±åŠ¨çš„æ›´å¥½ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘æƒ³è¯´æ˜ä¸€ä¸‹ä»€ä¹ˆå«â€œçœŸâˆ™å…´è¶£â€ï¼ŒçœŸæ­£çš„å…´è¶£ä¸æ˜¯é‚£ç§ä¸‰å¤©çƒ­åº¦çš„ä¸œè¥¿ï¼Œè€Œæ˜¯é‚£ç§ï¼Œä½ æ„¿æ„ä¸ºä¹‹ä»˜å‡ºä¸€è¾ˆå­çš„äº‹ï¼Œæ˜¯é‚£ç§æ— è®ºæœ‰å¤šå¤§å›°éš¾æœ‰å¤šéš¾å—ä½ éƒ½è¦æ­»ç£•çš„äº‹ï¼Œè¿™æ‰æ˜¯â€œçœŸâˆ™å…´è¶£â€ï¼Œè¿™ä¹Ÿå°±æ˜¯ä½ çš„â€œé‡å¿ƒâ€å’Œâ€œå¥½èƒœå¿ƒâ€æ‰€åœ¨ï¼Œå…¶å®ä¸Šå‡åˆ°äº†ä½ çš„äº‹ä¸šã€‚ç›¸ä¿¡æˆ‘ï¼Œç»å¤§å¤šæ•°äººåªæœ‰èŒä¸šè€Œæ²¡æœ‰äº‹ä¸šçš„ã€‚ 3ï¼‰å»ºç«‹é«˜çº§çš„ä¹ æƒ¯å’Œæ–¹æ³•ã€‚æ²¡æœ‰å¤©èµ‹æ²¡æœ‰é‡å¿ƒï¼Œä¹Ÿè¿˜æ˜¯å¯ä»¥è·Ÿåˆ«äººæ‹¼ä¹ æƒ¯æ‹¼æ–¹æ³•çš„ï¼Œåªè¦ä½ æœ‰ä¸€äº›æ¯”è¾ƒå¥½çš„ä¹ æƒ¯å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆä½ ä¸€æ ·å¯ä»¥è¶…è¿‡å¤§å¤šæ•°äººã€‚å¯¹æ­¤ï¼Œåœ¨ä¹ æƒ¯ä¸Šä½ è¦åšåˆ°æ¯”è¾ƒå¤§å¤šæ•°äººæ›´è‡ªå¾‹ï¼Œæ›´æœ‰è®¡åˆ’æ€§ï¼Œæ›´æœ‰ç›®æ ‡æ€§ï¼Œæ¯”å¦‚ï¼Œæ¯å¹´å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€æˆ–æŠ€æœ¯ï¼Œå¹¶å¯ä»¥å‚ä¸ç›¸å…³çš„é¡¶çº§å¼€æºé¡¹ç›®ï¼Œæ¯ä¸ªæœˆè®­ç»ƒä¸€ä¸ªç±»ç®—æ³•ï¼ŒæŒæ¡ä¸€ç§ç®—æ³•ï¼Œæ¯å‘¨é˜…è¯»ä¸€ç¯‡è‹±æ–‡è®ºæ–‡ï¼Œå¹¶æŠŠé˜…è¯»ç¬”è®°æ•´ç†å‡ºæ¥â€¦â€¦è‡ªå¾‹çš„æ˜¯éå¸¸å¯æ€•çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦åœ¨æ–¹æ³•ä¸Šè¶…è¿‡åˆ«äººï¼Œä½ éœ€è¦æ»¡ä¸–ç•Œçš„æ‰¾å„ç§é«˜çº§çš„æ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼Œæ€è€ƒçš„æ–¹æ³•ï¼Œå­¦ä¹ çš„æ–¹æ³•ã€æ—¶é—´ç®¡ç†çš„æ–¹æ³•ã€æ²Ÿé€šçš„æ–¹æ³•è¿™ç±»è½¯å®åŠ›çš„ï¼Œè¿˜æœ‰ï¼Œè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼ˆtrouble shooting å’Œ problem solvingï¼‰ï¼Œè®¾è®¡çš„æ–¹æ³•ï¼Œå·¥ç¨‹çš„æ–¹æ³•ï¼Œä»£ç çš„æ–¹æ³•ç­‰ç­‰ç¡¬å®åŠ›çš„ï¼Œä¸€å¼€å§‹ç…§çŒ«ç”»è™ï¼Œæ—¶é—´é•¿äº†å°±å¯èƒ½ä¼šè‡ªå·±å‘æ˜æˆ–æ¨å¯¼æ–°çš„æ–¹æ³•ã€‚ 4ï¼‰å‹¤å¥‹åŠªåŠ›æ‰§ç€åšæŒã€‚å¦‚æœä¸Šé¢ä¸‰ä»¶äº‹ä½ éƒ½æ²¡æœ‰ä¹Ÿæ²¡æœ‰èƒ½åŠ›ï¼Œé‚£è¿˜æœ‰æœ€åä¸€ä»¶äº‹äº†ï¼Œé‚£å°±æ˜¯å‹¤å¥‹åŠªåŠ›äº†ï¼Œå°±æ˜¯æ‰€è°“çš„â€œä¸€ä¸‡å°æ—¶å®šå¾‹â€äº†ï¼ˆå‚çœ‹ã€Š21å¤©æ•™ä½ å­¦ä¼šC++ã€‹ä¸­çš„åå¹´å­¦ç¼–ç¨‹ä¸€èŠ‚ï¼‰ï¼Œæˆ‘è§è¿‡å¾ˆå¤šä¸èªæ˜çš„äººï¼Œæ‚Ÿæ€§ä¹Ÿä¸å¤Ÿï¼ˆæ¯”å¦‚æˆ‘å°±æ˜¯ä¸€ä¸ªï¼‰ï¼Œåˆ«äººå­¦ä¸€ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæœˆå°±å¥½äº†ï¼Œè€Œæˆ‘éœ€è¦1å¹´ç”šè‡³æ›´é•¿ï¼Œä½†æ˜¯å¾ˆå¤šä¸œè¥¿éƒ½æ˜¯æ­»çš„ï¼Œåªè¦è‚¯èŠ±æ—¶é—´å°±æœ‰ä¸€å¤©ä½ ä¼šææ‡‚çš„ï¼Œè€ä¸ä½æˆ‘åšæŒåå¹´äºŒåå¹´ï¼Œèªæ˜çš„äººå‘æ˜ä¸ªé£æœºé£è¿‡å»äº†ï¼Œç¬¨ä¸€ç‚¹çš„äººæ„šå…¬ç§»å±±ä¹Ÿè¿‡å¾—å»ï¼Œå› ä¸ºæ›´å¤šçš„äººæ˜¯æ‡’äººï¼Œæˆ‘ä¸ç”¨æ‹¼è¿‡èªæ˜äººï¼Œæˆ‘åªç”¨æ‹¼è¿‡é‚£äº›æ‡’äººå°±å¥½äº†ã€‚ å¥½äº†ï¼Œå°±è¿™ä¹ˆå¤šï¼Œå¦‚æœå“ªå¤©ä½ å˜å¾—æ¶ˆæå’Œä¸è‡ªä¿¡ï¼Œä½ è¦æ¥è¯»è¯»æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼Œå­æ›°ï¼šæ¸©æ•…è€ŒçŸ¥æ–°ã€‚ ï¼ˆå…¨æ–‡å®Œï¼‰","categories":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/categories/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"tags":[{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/tags/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€åè¡€æ¨èã€‘é¢†åŸŸé©±åŠ¨è®¾è®¡å­¦ä¹ è¾“å‡º","slug":"ã€åè¡€æ¨èã€‘é¢†åŸŸé©±åŠ¨è®¾è®¡å­¦ä¹ è¾“å‡º","date":"2019-06-12T23:38:00.000Z","updated":"2020-08-16T07:50:03.253Z","comments":true,"path":"2019/06/13/tu-xie-tui-jian-ling-yu-qu-dong-she-ji-xue-xi-shu-chu/","link":"","permalink":"http://www.wmyskxz.com/2019/06/13/tu-xie-tui-jian-ling-yu-qu-dong-she-ji-xue-xi-shu-chu/","excerpt":"","text":"ä¸€ã€Hello DDD åˆšå¼€å§‹æ¥è§¦å­¦ä¹ ã€ŒDDD - é¢†åŸŸé©±åŠ¨ã€çš„æ—¶å€™ï¼Œæˆ‘è¢«å„ç§æ–°é¢–çš„æ¦‚å¿µæ‰€å¸å¼•ï¼šã€Œé¢†åŸŸã€ã€ã€Œé¢†åŸŸé©±åŠ¨ã€ã€ã€Œå­åŸŸã€ã€ã€Œèšåˆã€ã€ã€Œèšåˆæ ¹ã€ã€ã€Œå€¼å¯¹è±¡ã€ã€ã€Œé€šç”¨è¯­è¨€ã€â€¦..æ€»ä¹‹ä¸€å¤§å †æœ‰å…³çš„ã€æ— å…³çš„æ¦‚å¿µä»æˆ‘çš„è„‘æµ·ç»è¿‡ï¼Œå…¶ä¸­ä¸ä¹è®©æˆ‘é™·å…¥æ€è€ƒçš„åœ°æ–¹ï¼Œæˆ‘åŸä»¥ä¸ºæˆ‘ä¼šå¾ˆå¼€å¿ƒåœ° â€œäº«ç”¨â€ è¿™äº›æ–°çŸ¥è¯†å¸¦ç»™æˆ‘çš„è¥å…»ï¼ˆå‚ç…§ä¸‹å›¾ï¼‰ å¯äº‹å®ä¸Šï¼Œæˆ‘ä¸ºå­¦ä¹ ã€ŒDDD - é¢†åŸŸé©±åŠ¨ã€ä»˜å‡ºäº†å¾ˆå¤šçš„ç²¾åŠ›ï¼Œæˆ‘å°è¯•ç”¨ã€ŒDDD CRUDã€ã€ã€ŒDDD vs CRUDã€ã€ã€ŒDomain-Driven Designã€ã€ã€ŒDDD CQRSã€ã€ã€Œé¢†åŸŸé©±åŠ¨è®¾è®¡ã€ç­‰ç­‰ä¸€ç³»åˆ—çš„å…³é”®å­—æœé›†æˆ‘æƒ³è¦çš„èµ„æ–™ï¼ˆç¿»éäº† Google å‰æ’çš„æ‰€æœ‰æ–‡ç« &amp;æ‰‹åŠ¨æ„Ÿè°¢è°·æ­Œè®©æˆ‘èƒ½è·å¾—ä¸€äº›ç²¾å½©çš„æ–‡ç« ï¼‰ï¼Œå¯ä¼¼ä¹éƒ½ä¸å¤ªè¿‘äººæ„ï¼Œä¸€æ–¹é¢è¿™ä¸ªã€Œæ–°æ¦‚å¿µã€æˆ‘å¯¹å®ƒçš„å›°æƒ‘å¤ªå¤šäº†ï¼Œå¦ä¸€æ–¹é¢çœŸæ­£ã€Œè½åœ°ã€å¹¶å®è·µèµ·æ¥çš„ç»éªŒæœ‰å¾ˆå°‘æ˜¯å¯ä»¥ç›´æ¥å€Ÿé‰´çš„ï¼Œå†ç»“åˆä¸€äº›å®é™…çš„åœºæ™¯ï¼ˆæ²¡æœ‰äººè§£ç­”ï¼‰ï¼Œæˆ‘æ„Ÿåˆ°æ›´åŠ å›°æƒ‘ã€‚ ä¼ ç»Ÿå¼€å‘é¢ä¸´çš„é—®é¢˜æˆ‘ä»¬å…ˆæ¥è®¨è®ºä¸€ä¸‹ä¼ ç»Ÿå¼€å‘é¢ä¸´çš„ä¸€äº›é—®é¢˜å§ï¼Œå°±å…ˆä»ä¼ ç»Ÿå¼€å‘ä¸­è¢«å¹¿æ³›åº”ç”¨äº Web å¼€å‘çš„ä¼ ç»Ÿä¸‰å±‚æ¡†æ¶ï¼šã€ŒMVCã€ å¼€å§‹è¯´èµ·å§ã€‚ å›¾ç‰‡æ¥æºï¼šhttps://draveness.me/mvx ä¼ ç»Ÿçš„ã€ŒMVCã€æ¨¡å‹æŠŠæ¡†æ¶åˆ†æˆäº†ä¸‰å±‚ï¼šæ˜¾ç¤ºå±‚ã€æ§åˆ¶å±‚ã€æ¨¡å‹å±‚ï¼Œè€Œä¼ ç»Ÿçš„æ¨¡å‹å±‚åˆè¢«æ‹†åˆ†æˆäº†ä¸šåŠ¡å±‚ï¼ˆServiceï¼‰å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAO,Data Access Objectï¼‰ã€‚ æ˜¾ç¤ºå±‚è´Ÿè´£æ˜¾ç¤ºç”¨æˆ·ç•Œé¢ã€æ§åˆ¶å±‚è´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ã€è€Œæ¨¡å‹åˆ™è´Ÿè´£ä¸æ•°æ®åº“é€šä¿¡ï¼Œå¯¹æ•°æ®è¿›è¡ŒæŒä¹…åŒ–çš„æ“ä½œã€‚è¿™æ ·çš„ç»“æ„ä¸ä»…ç»“æ„æ¾æ•£ï¼Œè€Œä¸”å„ä¸ªæ¨¡å—èŒè´£åˆ†ç¦»ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­å§ã€‚ å‡è®¾æˆ‘ä»¬åšäº†ä¸€ä¸ªä¼šè®®å®¤é¢„å®šç³»ç»Ÿï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªè®¾å¤‡åäº†ã€‚æˆ‘ä»¬éœ€è¦é€šçŸ¥é¢„å®šè¿™ä¸ªä¼šè®®å®¤çš„æ‰€æœ‰äººï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦å‘é‚®ä»¶ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š @Service public class EquipmentServiceImpl implements EquipmentService { @Autowired private EmailService emailService; @Autowired private EquipmentRepository equipmentRepository; public void setEquipmentBroken(Long id) { Equipment equipment = equipmentRepository.findById(id); equipment.setStatus(Equipment.StatusEnum.BROKEN); emailService.sendEmail(); } } é—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬åæ¥å‘ç°è®¾å¤‡åäº†å¹¶ä¸”éœ€è¦æ›´æ”¹å¯ç”¨åº“å­˜çš„æ•°é‡ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ˜¯ä¸æ˜¯è¦åœ¨è¿™é‡ŒåŠ å…¥ InventoryService åº“å­˜æœåŠ¡çš„ä»£ç å‘¢ï¼Ÿåæ¥å¦‚æœç»ç†è¯´è®¾å¤‡åäº†åº”è¯¥é€šçŸ¥ä»–æ‰å¯¹å•Šï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¸è¦åŠ å…¥ emailService.sendEmailTo(Manager) è¿™æ ·çš„ä»£ç å‘¢ï¼Ÿ å°±ç®—ä¸è€ƒè™‘èŒè´£å•ä¸€åŸåˆ™å’Œå…³æ³¨åˆ†ç¦»åŸåˆ™ï¼Œç¨‹åºå‘˜ä¹Ÿä¼šç–¯æ‰çš„ï¼Œè¿™æ ·åš Service å¤ªé‡äº†ï¼Œå¹¶ä¸”ç³Ÿç³•çš„æ˜¯å®ƒå¯èƒ½è¿˜ä¸æ­¢è€ƒè™‘è¿™äº›ï¼Œè¿˜æœ‰æƒé™ã€äº‹åŠ¡ç­‰ç­‰ä¸€ç³»åˆ—çš„äº‹æƒ…ç­‰ç€ Service å±‚å»åšï¼Œå¦‚æ­¤äº§ç”Ÿäº†å¤§é‡çš„ä¾èµ–å’Œå¾ªç¯ä¾èµ–ï¼Œå½“ä¸šåŠ¡å¤æ‚åº¦ä¸Šå‡æ—¶ï¼Œç›´æ¥å¯¼è‡´äº†æœåŠ¡å±‚æ‰€å«çš„ä»£ç è¿‡äºåºå¤§å’Œå¤æ‚ã€æµ‹è¯•æˆæœ¬ç›´çº¿ä¸Šå‡ï¼Œå¹¶ä¸”å„ä¸ª Service çš„é€»è¾‘æ•£è½åœ¨å„å¤„ï¼Œç»´æŠ¤çš„æˆæœ¬ä¹Ÿéå¸¸å¤§ã€‚ æˆ‘ç›¸ä¿¡å¾ˆå¤šå…¬å¸æ­£åœ¨ç»å†è¿™æ ·çš„äº‹æƒ…ï¼Œå¹¶ä¸”é—®é¢˜è¿˜è¿œä¸æ­¢äºæ­¤ã€‚ æœ€è¿‘æˆ‘å°±ç»å†è¿‡å¦ä¸€ç§é—®é¢˜ã€‚ä½œä¸ºå®ä¹ ç”Ÿåˆšå…¥å…¬å¸çš„æˆ‘æ¥åˆ°äº§å“äº†ä¸€ä¸ªéœ€æ±‚ï¼Œè™½ç„¶æœ‰æ­£è§„çš„éœ€æ±‚æ–‡æ¡£å¯ä»¥ä¾›æˆ‘é˜…è¯»ï¼Œä½†å¯¹äºä¸šåŠ¡è¿˜ä¸ç†Ÿæ‚‰çš„æˆ‘è¯»èµ·æ¥å°±æ„Ÿè§‰æ˜¯ï¼šæ‘ï¼Œæˆ‘æƒ³è¦è¿™ä¸ªé¡µé¢è¿™æ ·ã€‚ å½“äº§å“ç»å†è€å¿ƒçš„è¿‡æ¥ç»™æˆ‘è§£é‡Šçš„æ—¶å€™ï¼Œæˆ‘ä»ç„¶æ„Ÿåˆ°æ— å¥ˆï¼Œå› ä¸ºä»–å°½å¯èƒ½è¯¦ç»†åœ°åœ¨æè¿°ä»–æƒ³è¦åœ¨å“ªä¸€ä¸ªé¡µé¢çš„å“ªä¸€ä¸ªåœ°æ–¹åŠ ä¸Šä»€ä¹ˆä¸œè¥¿çš„åŒæ—¶ï¼Œæˆ‘çœ‹ç€çœ¼å‰å±å¹•ä¸Šçš„ä¸€å †æ¨¡å‹å’Œä»£ç ï¼Œæ„Ÿåˆ°æ— ä»ä¸‹æ‰‹ï¼Œåªèƒ½æ‰¾æ¥å¤§ä½¬å¸®å¿™å……å½“ä¸€ä¸‹ â€œç¿»è¯‘â€ã€‚ å¿…é¡»æ‰¿è®¤è‡ªå·±å¯¹ä¸šåŠ¡çš„ç”Ÿç–æ˜¯ä¸»è¦çš„åŸå› ï¼Œä½†æ ¹æœ¬åŸå› è¿˜æ˜¯ï¼šå¼€å‘ä¸äº§å“ä¹‹é—´çš„ã€Œæ²Ÿé€šã€ä¸èƒ½ä¿æŒä¸€è‡´ï¼ŒåŒæ–¹å¯¹äºåŒä¸€äº‹ç‰©çš„ã€Œè¡¨è¾¾å’Œç†è§£ã€æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚äº§å“çœ‹åˆ°çš„æ˜¯å®é™…çš„ã€Œä¸šåŠ¡åœºæ™¯ã€ï¼Œè€Œå¼€å‘åˆ™æ›´å…³æ³¨èƒŒåçš„ã€Œå®ç°é€»è¾‘ã€ã€‚ CRUD çš„å„ç§é—®é¢˜ä¸Šé¢æˆ–è®¸æœ‰è¯´å¾—ä¸å¯¹çš„åœ°æ–¹ï¼Œä½†è¿™æ ·çš„ç°è±¡ç¡®å®çš„å­˜åœ¨ã€‚ï¼ˆä¾‹å¦‚æˆ‘å®¡è§†äº†ä¸€ä¸‹æˆ‘ä¹‹å‰å†™è¿‡çš„ä»£ç ï¼Œçªç„¶æ„Ÿæ…¨å¹¸å¥½è‡ªå·±ä¹‹å‰éƒ½æ˜¯ç‹¬ç«‹å¼€å‘ä¸”åŠŸèƒ½ç®€å•ï¼Œå˜»å˜»å˜»ï¼‰ å¦ä¸€ä¸ªæƒ³è¦è®¨è®ºçš„é—®é¢˜æ˜¯å…³äºåç«¯å¼€å‘è€…å¸¸å¸¸æ‹¿æ¥è‡ªå˜²çš„ã€ŒCRUDã€ã€‚ç»å¸¸æœ‰å¼€å‘äººå‘˜è‹¦ç€è„¸è¯´ï¼šæ¯å¤©é™¤äº†å†™ã€ŒBUGã€ï¼Œå°±ä¸€ç›´åœ¨å†™ã€ŒCRUDã€ä»£ç ï¼Œæ²¡æœ‰å¾ˆå¤§é•¿è¿›ã€‚å½“ç„¶è¿™åªæ˜¯ä¸€ç§è‡ªå˜²ï¼Œä½†å¯èƒ½å†™ã€ŒBUGã€æ˜¯çœŸçš„ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰é•¿è¿›æ˜¯çœŸçš„ï¼Œå½“ç„¶ä¸¤ä¸ªéƒ½å¯èƒ½éƒ½æ˜¯çœŸçš„ã€‚ ã€ŒCRUDã€ å…¶å®å¯¹åº”çš„æ˜¯æ•°æ®åº“ä¸­çš„å¢åˆ æ”¹æŸ¥çš„æ“ä½œã€‚ç°å®çš„æƒ…å†µä¸­ï¼Œåªæœ‰æå°‘æœ‰ä¼ä¸šä¸ç”¨åˆ°æ•°æ®åº“ï¼Œæ•°æ®åº“å°±åƒæ˜¯ç°ä»£è½¯ä»¶å¼€å‘çš„ä¸€å‰‚çµä¸¹å¦™è¯ï¼Œä¸ä»…æä¾›å¯é ã€å¿«é€Ÿã€å¤§å®¹é‡çš„å­˜å‚¨æœåŠ¡ï¼Œè¿˜æ”¯æŒå¼ºå¤§çš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ï¼Œæ»¡è¶³äº†å¤§éƒ¨åˆ†åœºæ™¯ä¸­å¯¹æ•°æ®çš„ä¸€è‡´æ€§éœ€æ±‚ã€‚ æ•°æ®åº“å¦‚æ­¤çš„å¼ºå¤§ï¼Œä»¥è‡³äºæˆ‘ä»¬ä»æ¥è§¦è½¯ä»¶å¼€å‘å¼€å§‹å°±ä¸€ç›´ä½¿ç”¨ã€ŒCRUDã€çš„æ¨¡å¼è¿›è¡Œå¼€å‘ã€‚æˆ‘ä»¬çš„ã€Œæ½œæ„è¯†ã€ä¸­å°±å½¢æˆäº†ã€Œä»¥æ•°æ®ä¸ºä¸­å¿ƒã€çš„å¼€å‘æ¨¡å¼ï¼Œè¿™æ²¡æœ‰ä»€ä¹ˆä¸å¥½ï¼Œå¹¶ä¸”å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯é€‚ç”¨çš„ï¼Œè¿™é‡Œåªæ˜¯è®¨è®ºï¼šã€ŒCRUDã€æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ é—®é¢˜ä¸€ï¼šé¢å‘å¯¹è±¡å’Œæ•°æ®åº“å¤©ç„¶é˜»æŠ—é¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­è¨€å’Œæ•°æ®åº“éƒ½æ˜¯æˆ‘ä»¬å‡ ä¹â€œæœ€ç†Ÿæ‚‰â€çš„ä¸œè¥¿äº†ï¼Œæˆ‘ä»¬ç”šè‡³ä½¿ç”¨ä»–ä»¬ç¼–ç»‡å‡ºäº†ç»å¤§å¤šæ•°å¤æ‚å¤šæ ·çš„ç½‘ç»œåº”ç”¨ï¼Œä¸ºä»€ä¹ˆè¯´å®ƒä»¬ä¹‹é—´å­˜åœ¨ç€å¤©ç„¶é˜»æŠ—ï¼Ÿ å½“ç„¶æˆ‘è§‰å¾—è¿™é‡Œæœ‰ä¸€ç‚¹ã€Œå¼ºè¡Œæ‰¾ä¸åŒã€çš„å‘³é“ï¼Œä½†ä¹Ÿä¸å¤±ä¸ºä¸€ç§æ€è€ƒå’Œè®¨è®ºã€‚å¹¶ä¸”æˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹é“ç†çš„ã€‚ A1ï¼šå¯¹è±¡å’Œå…³ç³»æ•°æ®åº“ç´¯èµ˜è½¬æ¢ åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ˜¯æ•°æ®çš„æ‰¿è½½æ–¹å¼ï¼Œæ¯ä¸€ä¸ª DAO å¯¹è±¡éƒ½å¯¹åº”ç€å…³ç³»æ•°æ®åº“ä¸­çš„ä¸€æ¡æ•°æ®ã€‚ ä½†é€šå¸¸è§†å›¾å±‚åªæ˜¾ç¤ºå®Œæ•´å®ä½“å¯¹è±¡çš„ä¸€å°éƒ¨åˆ†æ•°æ®ï¼Œé‚£ä¹ˆå…¶ä½™çš„ã€Œæ— å…³æ•°æ®ã€ä½ å‡†å¤‡æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ æ˜¯å¦è¦æŠŠå¯¹è±¡ä¸­åŒ…å«çš„ã€Œæ‰€æœ‰æ•°æ®ã€ä¸€èµ·è¿”å›ç»™è§†å›¾å±‚ï¼Ÿ æ˜¯å¦éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸“ç”¨çš„ã€Œæ•°æ®ä¼ è¾“å¯¹è±¡ã€ï¼Ÿ æˆ–è€…ä½ æƒ³ç›´æ¥æŠŠã€Œæ— å…³æ•°æ®ã€å­—æ®µè®¾ç½®æˆ nullï¼Ÿ æ˜¾ç„¶ï¼Œåœ¨ç»å¤§å¤šæ•°åº”ç”¨ä¸­éƒ½é‡‡å–äº†ç¬¬äºŒç§æ–¹æ¡ˆï¼Œäºæ˜¯æˆ‘ä»¬çœ‹åˆ°å„ç§å†—ä½™ã€ç¹å¤šçš„ã€Œä¼ è¾“å±‚å¯¹è±¡ã€ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œç³»ç»Ÿä¸­å †ç§¯çš„ã€Œä¼ è¾“å±‚å¯¹è±¡ã€è¶Šæ¥è¶Šå¤šï¼Œä¸ä»…å¢åŠ äº†ç³»ç»Ÿçš„ã€Œå¤æ‚åº¦ã€ï¼Œè€Œä¸”è¿˜é™ä½äº†æˆ‘ä»¬çš„ã€Œå¼€å‘æ•ˆç‡ã€ã€‚æˆ‘çŒœè¿™ä¹Ÿæ˜¯äººä»¬è¯´ Java å¤æ‚çš„ä¸€æ–¹é¢åŸå› å§ã€‚ æ›´é‡è¦çš„æ˜¯ï¼Œä¸‡ä¸€æœ‰ä¸€ä¸ªå­—æ®µå‘ç”Ÿå˜åŒ–ï¼Œæ›´æ”¹é‡å°±å¾ˆå¤§ã€‚ï¼ˆå½“ç„¶è¿™ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼‰ A2ï¼šç»§æ‰¿å…³ç³»çš„å°´å°¬å®ç° ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œè€Œå…³ç³»æ•°æ®åº“å´éš¾ä»¥å¤ç°å¯¹è±¡ä¸–ç•Œä¸­çš„ç»§æ‰¿å…³ç³»ã€‚ æˆ‘ä»¬æ¥è¯•ç€è¿˜åŸä¸€ä¸‹ä¸Šé¢çš„ç»§æ‰¿å…³ç³»å§ã€‚ å¦‚æœæˆ‘ä»¬æŒ‰ç…§æŠŠ Student å’Œ Professor å»ºæˆä¸¤å¼ è¡¨ï¼Œé—®é¢˜å°±æ˜¯ï¼šå…³ç³»æ•°æ®åº“åˆ†å‰²äº†ä¸¤ä¸ªå¯¹è±¡çš„å…±æ€§ Personã€‚ä»è¯­ä¹‰ä¸Šè¯´ï¼šä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªå¯¹è±¡åˆ†å‰²æˆä¸¤ä¸ªéƒ¨åˆ†äº†ï¼›è€Œä¸”å½“ä½ è¦è·å–è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œéœ€è¦ä¸¤æ¬¡Selectã€‚åŒæ ·é“ç†å¢åˆ æ”¹æŸ¥éƒ½è¦ä¸¤æ¬¡ã€‚ å¦‚æœæˆ‘ä»¬æŠŠ Student å’Œ Professor åˆå¹¶æˆä¸€å¼ è¡¨ï¼Œé—®é¢˜å°±æ˜¯ï¼šä¼šäº§ç”Ÿè®¸å¤šç©ºç™½å­—æ®µã€‚è¿™å¾ˆå®¹æ˜“ç†è§£ã€‚ è¿™äº›éƒ½åæ˜ äº†é¢å‘å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“å¤©ç„¶ä¸åŒ¹é…ï¼Œåªèƒ½ä¸€æ–¹ä½œå‡ºå¦¥åï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†æƒ…å†µæ˜¯é¢ç›¸å¯¹è±¡ä½œå‡ºå¦¥åã€‚ A3ï¼šç±»çš„å¤æ‚å…³ç³»å®ç° å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªéƒ¨é—¨ï¼ˆDepartmentï¼‰ï¼Œè€Œä¸€ä¸ªéƒ¨é—¨å°†æ‹¥æœ‰å¤šä¸ªæ•™æˆï¼ˆProfessorï¼‰è¿™æ ·ä¸€ä¸ªæ¨¡å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°é¢å‘å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“ã€Œè¡¨è¾¾æ–¹å¼ã€çš„æ˜¯ä¸¤ç§ä¸åŒçš„å½¢å¼ï¼š é¢å‘å¯¹è±¡ï¼šæˆ‘æ˜¯ä¸€ä¸ªéƒ¨é—¨ï¼Œåœ¨æˆ‘é‡Œé¢æœ‰å¾ˆå¤šçš„æ•™æˆï¼› å…³ç³»æ•°æ®åº“ï¼Œç”±äºå¤–é”®ä¼šåœ¨ Professor ä¸Šï¼šæˆ‘æ˜¯ä¸€ä¸ªæ•™æˆï¼Œæˆ‘å±äºé‚£ä¸ªéƒ¨é—¨ã€‚ é—®é¢˜äºŒï¼šæ˜¯ä¸€ç§æ•°æ®æ¨¡å‹ï¼Œä¸ä¸šåŠ¡è„±èŠ‚æ²¡æœ‰ä¸€ä¸ªã€ŒçœŸå®çš„äººã€ä¼šåœ¨æ”¯ä»˜ä¸€ç¬”è®¢å•çš„æ—¶å€™è¯´ï¼šï¼ˆå¤§æ¦‚æ„æ€..ï¼‰ =&gt; å…ˆé€šè¿‡æˆ‘è¿™ä¸ªè®¢å•çš„ç¼–å·æ‰¾åˆ°åŸå§‹åœ¨ç³»ç»Ÿä¸Šçš„è®°å½•ï¼›=&gt; æŠŠæ”¯ä»˜é‡‘é¢æ”¹æˆæˆ‘å®é™…æ”¯ä»˜çš„é‡‘é¢ï¼›=&gt; æŠŠè¿™ä¸ªè®¢å•çš„çŠ¶æ€ä¿®æ”¹æˆå·²æ”¯ä»˜=&gt; â€¦â€¦.. è€Œä¸€ä¸ªã€ŒçœŸå®çš„äººã€ä¼šç›´æ¥è¯´ï¼šæˆ‘ä¸ºè¿™ç¬”è®¢å•ä»˜äº†xxxé’±ã€‚ å…³ç³»å‹æ•°æ®åº“ï¼ˆRelational Databaseï¼‰çš„æ ¸å¿ƒå®ä½“å°±æ˜¯æ•°æ®è¡¨ï¼Œæ ¸å¿ƒæ“ä½œå°±æ˜¯åœ¨å®šä¹‰å¥½çš„æ•°æ®è¡¨ä¸Šçš„ã€ŒCRUDã€æ“ä½œã€‚è¿™å¥—ä¸œè¥¿å®åœ¨æ˜¯å¤ªå¥½ç”¨äº†ï¼Œä¹Ÿå¤ªæ·±å…¥äººå¿ƒäº†ï¼Œä»¥è‡³äºä½ èƒ½åœ¨å¥½å¤šåœ°æ–¹éƒ½èƒ½çœ‹åˆ°è¿™ç§å°†å…³ç³»æ¨¡å¼ç›´æ¥ç”¨ä½œä¸šåŠ¡æ¨¡å¼çš„ç³»ç»Ÿï¼š æ¯”å¦‚æˆ‘ä¹‹å‰å†™çš„æ‰€æœ‰ä¸œè¥¿ã€‚ï¼ˆå°±æ‹¿æˆ‘å†™çš„ä¸ªäººåšå®¢ä¸ºä¾‹å§ï¼šhttps://github.com/wmyskxz/MyBlogï¼‰ é—®é¢˜å‡ºåœ¨ï¼šæˆ‘çš„ã€ŒEntityå±‚ã€åªæ˜¯æ•°æ®åº“è¡¨ç»“æ„çš„ä¸€ç§æ˜ å°„ç”¨äºæ‰¿è½½æ•°æ®ï¼Œæˆ‘çš„ã€ŒDAOå±‚ã€åªæ˜¯å°è£…äº†å¯¹ã€ŒEntityå±‚ã€çš„å¢åˆ æ”¹æŸ¥ï¼Œæˆ‘çš„ã€ŒControllerå±‚ã€åªæ˜¯ç®€å•çš„æŠŠåœ°å€å’Œå¯¹åº”ã€ŒServiceå±‚ã€çš„å¯¹åº”æ–¹æ³•åšäº†å…³è”è¿”å›ç»“æœç»™ã€Œè§†å›¾å±‚ã€ï¼Œè€Œæˆ‘çš„ã€ŒServiceå±‚ã€åˆ™å¤§éƒ¨åˆ†å·¥ä½œä¹Ÿåªæ˜¯åœ¨åšä¸€äº›ã€ŒæŸ¥è¯¢ã€ã€ã€Œæ‹¼æ¥æ•°æ®ã€çš„å·¥ä½œï¼Œè¿™æ ·çš„ç³»ç»Ÿæ˜¯å£°ç§°å¥—ä¸Šäº†ä¸šåŠ¡çš„å¤–è¡£ï¼Œè€Œå®åˆ™åªæ˜¯ã€Œçš‡å¸çš„æ–°è¡£ã€ï¼Œå‡ ä¹æ— æ³•ä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€å®Œæ•´æ€§ã€‚ æˆ‘è¿˜è®°å¾—æœ‹å‹é—®è¿‡æˆ‘ä¸€ä¸ªé—®é¢˜ï¼Œå¤§æ„å°±æ˜¯æœ‰ä¸€éƒ¨åˆ†çš„ç³»ç»Ÿå…¶å®åªæ˜¯å¯¹æ•°æ®åº“çš„ç®€å•å°è£…ï¼Œæ„Ÿè§‰å°±åƒæ˜¯ç³»ç»Ÿåªæ˜¯æ•°æ®åº“çš„ã€Œç®€å•ä»£ç†ã€ä¸€æ ·ã€‚æˆ‘ä¸€å¼€å§‹æœ‰ç‚¹å„¿æ„ŸåŒèº«å—ï¼Œä½†ç°åœ¨å›è¿‡å¤´æƒ³ï¼Œåªæ˜¯æˆ‘ä»¬å½“æ—¶åšçš„ä¸œè¥¿å¤ªç®€å•äº†è€Œå·²ã€‚ç®€å•çš„ç³»ç»Ÿä¹Ÿå°±æ˜¯å¯¹æ•°æ®åº“çš„ã€ŒCRUDã€ã€‚ ä½†è¿™è¿˜ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯å¤§éƒ¨åˆ†çš„ã€ŒCRUDå·¥ç¨‹å¸ˆã€å¯¹ã€Œä¸šåŠ¡ç†è§£ã€å‡ºäº†é—®é¢˜ã€‚ è®©æˆ‘ä»¬æ‹¿å›½é™…è±¡æ£‹ä¸¾ä¸ªä¾‹å­ï¼š å›¾ç‰‡å¼•è‡ªï¼šhttps://zhuanlan.zhihu.com/p/25442175 ä½œä¸ºä¸€æšã€ŒCRUDå·¥ç¨‹å¸ˆã€ï¼Œåœ¨å®Œæˆäº†å·¦è¾¹éƒ¨åˆ†çš„æ•°æ®åº“è®¾è®¡å’Œå³è¾¹çš„æ•°æ®å±•ç°ä¹‹åï¼Œå¾€å¾€å°±è®¤ä¸ºå·²ç»ä¸‡äº‹å¤§å‰äº†ã€‚ä½†è¿™æ ·çš„äº§å“äº¤ä»˜ä¹‹åï¼Œå¯¹ç°å®ä¸­ä½¿ç”¨å®ƒçš„ç”¨æˆ·æå‡ºäº†å¾ˆå¤šçš„æ½œåœ¨è¦æ±‚ã€‚ã€ŒCRUDå·¥ç¨‹å¸ˆã€ä»æ¥ä¸ä¼šæç¤ºä½ è¿™äº›æ½œåœ¨éœ€æ±‚ï¼Œè°ä¼šå¯¹è‡ªå·±å¹¶ä¸çŸ¥é“çš„äº‹æƒ…åŠ ä»¥è¯´æ˜å‘¢ï¼Ÿ ç®€è€Œè¨€ä¹‹ï¼Œè¿™æ ·çš„ä¸€ä¸ªå›½é™…è±¡æ£‹ç¨‹åºï¼Œè‡ªèº«å¯¹å›½é™…è±¡æ£‹è§„åˆ™å®Œå…¨æ˜¯ä¸€çªä¸é€šçš„ã€‚å°±æ˜¯æ‹¿å‡ºä¸ªè¡¨æ ¼ç»™ä½ ï¼Œéšä½ å¡«æˆå•¥æ ·ã€‚åœ¨è¿™ä»¶äº‹æƒ…ä¸Šï¼Œå®Œå…¨æŒ‡æœ›ä½¿ç”¨è€…ä¸çŠ¯é”™ï¼Œè¿™æ˜¯ä½•ç­‰çš„å¿ƒå¤§ï¼ å›¾ç‰‡å¼•è‡ªï¼šhttps://zhuanlan.zhihu.com/p/25442175 äºæ˜¯ï¼Œè¿™ä¸ªå›½é™…è±¡æ£‹ç¨‹åºå®Œå…¨æœ‰å¯èƒ½å‡ºç° Bad case çš„è¿™ç§è¯¡å¼‚æƒ…å†µï¼šé»‘è‰²éª‘å£«ï¼ˆknightï¼‰èµ°å‡ºä¸€ä¸ªåä¸½çš„æ–œçº¿ï¼Œå’Œå…¶ä¸­ä¸€ä¸ªç™½è‰²å…µï¼ˆpawnï¼‰å…±å¤„ä¸€å®¤ï¼ˆä»€ä¹ˆé¬¼ï¼Ÿï¼ï¼‰ã€Œå›½é™…è±¡æ£‹å¡«è¡¨ç³»ç»Ÿã€å¹¶ä¸ä¼šé˜»æ­¢ä½ è¿™æ ·åšï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰æ­£ç¡®ä¸é”™è¯¯ä¹‹åˆ†ã€‚ è¿™æ—¶å€™ï¼Œã€ŒCRUDå·¥ç¨‹å¸ˆã€è¢«å®¢æˆ·ã€è€æ¿æŠ“å‡ºæ¥æ”¶æ‹¾æ®‹å±€äº†ã€‚ç»è¿‡ä¸€ç•ªè°ƒç ”ï¼ŒåŸæ¥å®¢æˆ·æ˜¯æƒ³æŠŠé»‘è‰²éª‘å£«èµ°åˆ° 6dï¼Œå¹¶åƒæ‰ï¼ˆcaptureï¼‰å¦ä¸€ä¸ªç™½è‰²å…µã€‚â€œäº§å“å·²ç»å¤Ÿç®€å•çš„äº†ï¼Œå®¢æˆ·æ€ä¹ˆéƒ½è¿™ä¹ˆè ¢ï¼Ÿâ€ã€ŒCRUDå·¥ç¨‹å¸ˆã€å˜€å’•é“ï¼Œâ€œå“ï¼Œè¿™å·¥ä½œå‘çœŸæ˜¯å¤šå•Šâ€ã€‚ åŸç‰‡æ®µæ‘˜è‡ªï¼šhttps://zhuanlan.zhihu.com/p/25442175 é—®é¢˜ä¸‰ï¼šCRUD ç¼ºå°‘æ„å›¾ï¼ˆintentï¼‰äº‹å®ä¸Šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€ŒCRUDã€æ¶æ„å¾ˆå¥½çš„æœåŠ¡ç»å¤§å¤šæ•°çš„åº”ç”¨ã€‚ä½†æ˜¯æ­£å¦‚ä¸Šé¢æåˆ°çš„é—®é¢˜æ‰€è¯´çš„é‚£æ ·ï¼Œå½“ç³»ç»Ÿçš„ã€Œå¤æ‚åº¦ã€ä¸Šå‡çš„æ—¶å€™ï¼Œã€ŒCRUDã€å¯èƒ½ä¼šç¼ºå°‘ä¸€ä»¶äº‹ï¼šæ„å›¾ï¼ˆintentï¼‰ã€‚ ä¾‹å¦‚ï¼š æˆ‘ä»¬æƒ³è¦æ”¹å˜ä¸€ä¸ª Customer çš„åœ°å€ï¼Œåœ¨ã€ŒCRUDã€ä½“ç³»ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å‘å‡ºæ›´æ–°è¯­å¥å°±èƒ½å®ç°ã€‚ä½†æ˜¯æˆ‘ä»¬æ— æ³•å¼„æ¸…æ¥šè¿™ç§å˜åŒ–æ˜¯ç”±ä¸æ­£ç¡®çš„æ“ä½œå¼•èµ·çš„ï¼Œè¿˜æ˜¯å®¢æˆ·çœŸçš„è½¬ç§»åˆ°äº†å¦ä¸€ä¸ªåŸå¸‚ã€‚ä¹Ÿè®¸æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼Œéœ€è¦å†é‡æ–°å®šä½æ—¶è§¦å‘å¯¹å¤–éƒ¨ç³»ç»Ÿçš„é€šçŸ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œã€ŒCRUDã€æ˜¾å¾—æœ‰æ‰€ç¼ºå¤±ã€‚ é—®é¢˜å››ï¼šå®æ–½åä½œâ€œå›°éš¾â€åœ¨å¤§å¤šæ•°çš„ã€ŒCRUDã€åº”ç”¨ä¸­ï¼Œæœ€æ–°çš„æ›´æ”¹å°†è¦†ç›–å…¶ä»–ç”¨æˆ·å¹¶è¡Œæ‰§è¡Œçš„å…¶ä»–æ›´æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªå›¢é˜Ÿä¸­çš„ä¸¤ä¸ªäººåŒæ—¶å¯¹åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€è¡Œè¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆåˆå¹¶ä»£ç çš„æ—¶å€™å°±ä¼šäº§ç”Ÿã€Œå†²çªã€ã€‚ åœ¨ä¸Šé¢æˆ‘ä»¬è®ºè¿°äº†åœ¨ä¼ ç»Ÿã€ŒCRUDã€è¿™æ ·çš„çŸ›ç›¾æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼šæ•£è½åœ¨å„å¤„åˆ†æ•£çš„é€»è¾‘ä»£ç ã€‚ é—®é¢˜äº”ï¼šè¢«äººè¯Ÿç—…çš„ã€ŒUã€ã€ŒCRUDã€ä¸­çš„ã€ŒUã€æŒ‡çš„æ˜¯ã€Œæ›´æ–°ã€æ“ä½œã€‚é€šå¸¸åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ã€ŒUã€ä½œä¸ºä¸€ç§é€šç”¨çš„æ–¹æ³•å¯ä»¥æ›´æ–°èµ„æºçš„ä»»ä½•å­—æ®µï¼Œç„¶åä½¿ç”¨æ–°ç‰ˆæœ¬è¦†ç›–æ‰æ—§ç‰ˆæœ¬ã€‚ å¹¶ä¸”ç°åœ¨ç”±äºã€ŒRESTã€çš„æµè¡Œï¼Œå¤§å¤šæ•°çš„ã€ŒAPIã€éƒ½æ˜¯å›´ç»•ã€Œèµ„æºæ¨¡å‹ã€æ¥è¿›è¡Œã€ŒCRUDã€æ“ä½œçš„ï¼Œè¿™æ ·åšä¸ä»…ç¡®å®æå¤§åœ°æ–¹ä¾¿äº†å¼€å‘äººå‘˜çš„å·¥ä½œï¼Œå¹¶ä¸”å€Ÿç”±ã€ŒHTTPåŠ¨è¯ã€å’Œã€Œèµ„æºURIã€ç»“åˆèµ·æ¥æœ‰å¾ˆå¥½çš„å¯è¯»æ€§ã€‚ ä½†è¿™æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªç®€å•çš„ã€Œé“¶è¡Œè´¦æˆ·ã€èµ„æºçš„é—®é¢˜ã€‚å½“æˆ‘ä»¬éœ€è¦æŠŠè´¦æˆ·çš„ä½™é¢æ›´æ–°ä¸ºæƒ³è¦çš„æ•°é‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥å…è®¸å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨æ›´æ–°æ–¹æ³•å—ï¼Ÿä»»ä½•ä½™é¢è°ƒæ•´çš„åŠ¨ä½œéƒ½åº”è¯¥ä½œä¸ºæŸç§ç±»å‹çš„äº¤æ˜“äº‹åŠ¡è¢«è®°å½•ä¸‹æ¥æ‰å¯¹ï¼Œä¾‹å¦‚ã€Œå……å€¼ã€ã€ã€Œå–é’±ã€ï¼Œè¿˜æ˜¯ã€Œè½¬è´¦ã€ï¼Ÿå¦å¤–è´¦æˆ·æ˜¯å¦å­˜åœ¨ï¼Ÿå¯èƒ½å˜æ›´å—ï¼Ÿç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜éƒ½å¯èƒ½ä½¿ä½ çš„é€šç”¨ã€ŒUã€å˜å¾—è‡ƒè‚¿éš¾ä»¥ç»´æŠ¤ã€‚ åŸºäºä¸Šè¿°çš„å¤šç§å¤šæ ·çš„ã€Œåœºæ™¯ã€ï¼Œæˆ‘ä»¬çš„é€šç”¨ã€ŒUã€æ–¹æ³•è¢«æ¨å‘äº†å°´å°¬çš„å¢ƒåœ°ã€‚äº‹å®ä¸Šè¿™å¯èƒ½å±äºè®¾è®¡çš„é—®é¢˜ï¼Œä¸çŸ¥é“ä¸€èˆ¬çš„å…¬å¸ä¸­æ˜¯å¦‚ä½•è§£å†³çš„ï¼Œè‡³å°‘åœ¨æˆ‘ä¹‹å‰å†™çš„ä»£ç ä¸­ï¼Œæˆ‘æ˜¯è¿™æ ·å®ç°çš„ã€‚ï¼ˆå¹¶ä¸”å¯èƒ½è§‰å¾—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼‰ å¦å¤–ä¹Ÿæœ‰çš„äººè¯´ã€ŒCRUDã€é™åˆ¶äº†æè¿°ä¸šåŠ¡çš„è¯­è¨€çš„é—®é¢˜ã€‚å› ä¸ºå¢åˆ æ”¹æŸ¥åªæœ‰å››ä¸ªåŠ¨è¯ï¼Œè€Œæˆ‘ä»¬å®é™…çš„ä¸šåŠ¡åœºæ™¯å¯èƒ½æ›´åŠ å¤æ‚ã€‚ é—®é¢˜å…­ï¼šæä¾›å˜æ›´å†å²è®°å½•çš„æ“ä½œå¾ˆå¤æ‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šã€ŒCRUDã€ä¼šä¸¢å¤±åº”ç”¨ç¨‹åºçš„å†å²è®°å½•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·åœ¨ä¸€æ®µæ—¶é—´å†…å¤šæ¬¡å˜æ›´è®°å½•ï¼Œæˆ‘ä»¬åˆ™æ— æ³•å†è·Ÿè¸ªå•ä¸ªæ›´æ”¹ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œç”šè‡³æ— æ³•ç¡®å®šè¯¥æ¡ç›®æ˜¯å¦æ›¾ç»è¢«æ”¹å˜è¿‡ã€‚ å½“ç„¶ï¼Œè¿™å¯ä»¥é€šè¿‡ä¸ºæœ€åæ›´æ–°çš„æ—¶é—´æˆ³æ·»åŠ å­—æ®µæ¥å¤„ç†ï¼Œä½†è¿™åªä¼šå¸®åŠ©æˆ‘ä»¬èƒ½å¤Ÿè·å¾—æœ€æ–°çš„æ›´æ–°ã€‚å¦‚æœä½ å¯¹æ•´ä¸ªå†å²æ„Ÿå…´è¶£ï¼Œäº‹æƒ…å°±ä¼šå˜å¾—å¤æ‚ï¼šä½ å¿…é¡»ä»ä¸€å¼€å§‹å°±é¢å¤–å¼•å…¥ä¸€ç»„å­—æ®µorä¸€å¼ æ–°è¡¨ã€‚ è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼šç”±äºä½ ä¸çŸ¥é“å°†æ¥ä¼šè¯¢é—®å“ªäº›å…³äºä½ æ•°æ®çš„é—®é¢˜ï¼Œå› æ­¤ä½ æ— æ³•é’ˆå¯¹ç›¸åº”çš„æƒ…å†µå¯¹è¡¨åšå‡ºä¼˜åŒ–ã€‚å› ä¸ºä½ æ”¶é›†å¤ªå¤šæˆ–è€…å¤ªå°‘çš„æ•°æ®ï¼Œä¼¼ä¹éƒ½å­˜åœ¨ä¸€å®šé—®é¢˜ã€‚ æ€»ç»“ç°åœ¨æ—©å·²ç»ä¸å†æ˜¯ PC Web çš„æ—¶ä»£äº†ï¼ŒåŸç”Ÿ APPã€ç§»åŠ¨ Web ç­‰ç­‰å¤šç§å®¢æˆ·ç«¯æŠ€æœ¯åœ¨è¿‘å‡ å¹´çˆ†å‘ï¼ˆIOSã€Androidã€JavaScriptã€â€¦ï¼‰ï¼Œé’å‡ºäºè“è€Œèƒœäºè“ã€‚åŸå…ˆã€ŒMVCã€ä¸­çš„è§†å›¾ï¼ˆWebé¡µé¢ï¼‰æ¸²æŸ“å·¥ä½œï¼Œé¢ä¸´è¢«æ–°æŠ€æœ¯çš„å®Œå…¨æ›¿ä»£ã€‚ã€ŒCRUDå·¥ç¨‹å¸ˆã€æ‰‹ä¸­çš„ç³»ç»Ÿä»¬ï¼Œé¢ä¸´å‘ã€ŒSOAã€çš„è½¬å‹ã€‚ å¤œæ·±äººé™ï¼Œå››ä¸‹æ— äººçš„æ—¶å€™ï¼Œã€ŒCRUDå·¥ç¨‹å¸ˆã€å†æ¬¡é™·å…¥æ·±æ·±çš„å›°æƒ‘ï¼šä¸€è¾¹æ˜¯è‡ƒè‚¿ä¸å ªçš„æ¨¡å‹å’Œæ§åˆ¶å™¨å±‚ï¼Œå¦ä¸€è¾¹æ˜¯é€æ¸æ”¶ç¼©å’ŒæœåŠ¡åŒ–çš„è§†å›¾å±‚ï¼Œéš¾é“å»ºè¡¨ã€å†™è¡¨ã€è¯»è¡¨å°±è¦æˆä¸ºæˆ‘çš„å”¯ä¸€ä¸»é¢˜äº†å—ï¼Ÿ ã€ŒCRUDå·¥ç¨‹å¸ˆã€è®¤ä¸ºè‡ªå·±æ²¡æœ‰åˆ›é€ ä»»ä½•ä¸œè¥¿ï¼Œä»–ä»¬åªæ˜¯æ•°æ®åº“è¡¨çš„æ¬è¿å·¥ã€‚è€Œå¦‚æœä¸æ˜¯ã€ŒCRUDã€ï¼Œä¸šåŠ¡ç³»ç»Ÿåç«¯å·¥ç¨‹å¸ˆçš„ä»·å€¼åœ¨å“ªé‡Œï¼Ÿ ç†è§£å¹¶æŠ½è±¡å‡ºä¸šåŠ¡é€»è¾‘ï¼Œå»ºç«‹æ»¡è¶³éœ€æ±‚çš„ä¸šåŠ¡æ¨¡å‹ï¼Œä»¥æ­¤è®¾è®¡å®ç°å‡ºå¯é çš„ç³»ç»Ÿï¼Œå¹¶æœ‰æ•ˆåœ°æ§åˆ¶å¤æ‚æ€§ã€‚è¿™æ‰æ˜¯å¤§éƒ¨åˆ†ä¸šåŠ¡ç³»ç»Ÿåç«¯å·¥ç¨‹å¸ˆçš„å·¥ä½œé‡ç‚¹ï¼Œä¹Ÿæ˜¯è§£å†³ä»–ä»¬å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å’Œéš¾ç‚¹çš„å…³é”®ã€‚ è§‚ç‚¹æ¥è‡ªï¼šhttps://zhuanlan.zhihu.com/p/25442175 çˆ±å› æ–¯å¦è¯´ï¼šâ€œå¦‚æœç»™æˆ‘ 1 ä¸ªå°æ—¶è§£ç­”ä¸€é“å†³å®šæˆ‘ç”Ÿæ­»çš„é—®é¢˜ï¼Œæˆ‘ä¼šèŠ± 55 åˆ†é’Ÿæ¥å¼„æ¸…æ¥šè¿™é“é¢˜åˆ°åº•æ˜¯åœ¨é—®ä»€ä¹ˆã€‚ä¸€æ—¦æ¸…æ¥šäº†å®ƒåˆ°åº•åœ¨é—®ä»€ä¹ˆï¼Œå‰©ä¸‹çš„ 5 åˆ†é’Ÿè¶³å¤Ÿå›ç­”è¿™ä¸ªé—®é¢˜ã€‚â€ è™½ç„¶ç›®å‰ä¸ºæ­¢æˆ‘ä»¬è¿˜ä¸å¤ªäº†è§£ã€ŒDDDã€æ˜¯å¦‚ä½•å¸®åŠ©æˆ‘ä»¬è§£å†³ä¼ ç»Ÿå¼€å‘ä¸­çš„å„ç§é—®é¢˜ï¼Œä½†æ˜¯å¬è¯´ã€ŒDDD - é¢†åŸŸé©±åŠ¨è®¾è®¡ã€ä¼¼ä¹æ˜¯èƒ½å¤Ÿç”¨æ¥è®¾è®¡å’Œå®ç°ä¸šåŠ¡é€»è¾‘çš„ä¸€å‰‚è‰¯è¯ã€‚ æ‰€ä»¥ã€ŒHello - DDDã€ã€‚ äºŒã€DDD æ˜¯ä»€ä¹ˆï¼Ÿ ã€ŒDDDã€çš„å…¨ç§°æ˜¯ã€ŒDomain-driven Designã€ï¼Œå³ã€Œé¢†åŸŸé©±åŠ¨è®¾è®¡ã€ã€‚æ˜¯ç”±ã€ŒEric Evansã€æœ€æ—©æå‡ºçš„ç»¼åˆè½¯ä»¶ç³»ç»Ÿåˆ†æå’Œè®¾è®¡çš„é¢å‘å¯¹è±¡å»ºæ¨¡æ–¹æ³•ï¼Œå¦‚ä»Šå·²ç»å‘å±•ä¸ºä¸€ç§é’ˆå¯¹å¤§å‹å¤æ‚ç³»ç»Ÿçš„é¢†åŸŸå»ºæ¨¡ä¸åˆ†ææ–¹æ³•ã€‚ å®ƒå®Œå…¨æ”¹å˜äº†ä¼ ç»Ÿè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆé’ˆå¯¹æ•°æ®åº“è¿›è¡Œçš„å»ºæ¨¡æ–¹æ³•ï¼Œä»è€Œå°†è¦è§£å†³çš„ä¸šåŠ¡æ¦‚å¿µå’Œä¸šåŠ¡è§„åˆ™è½¬æ¢ä¸ºè½¯ä»¶ç³»ç»Ÿä¸­çš„ç±»å‹ä»¥åŠç±»å‹çš„å±æ€§ä¸è¡Œä¸ºï¼Œé€šè¿‡åˆç†è¿ç”¨é¢å‘å¯¹è±¡çš„å°è£…ã€ç»§æ‰¿ã€å¤šæ€ç­‰è®¾è®¡è¦ç´ ï¼Œé™ä½æˆ–éšè—æ•´ä¸ªç³»ç»Ÿçš„ä¸šåŠ¡å¤æ‚æ€§ï¼Œå¹¶ä½¿å¾—ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼Œåº”å¯¹çº·ç¹å¤šå˜çš„ç°å®ä¸šåŠ¡é—®é¢˜ã€‚ æ€»ç»“ï¼š ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åªéœ€è¦çŸ¥é“ã€ŒDDDã€æ˜¯ä¸€ç§è‡´åŠ›äºé™ä½æˆ–éšè—æ•´ä¸ªç³»ç»Ÿä¸šåŠ¡å¤æ‚æ€§ï¼Œè®©ç³»ç»Ÿå…·æœ‰æ›´å¥½æ‰©å±•ï¼Œåº”å¯¹çº·æ‚ç¹å¤šçš„ç°å®ä¹Ÿé—®é¢˜çš„æ¶æ„æ–¹æ³•å°±è¡Œäº†ã€‚ DDD ç®€å² å›¾ç‰‡å¼•è‡ªï¼šhttps://www.jianshu.com/p/e1b32a5ee91c é¢†åŸŸé©±åŠ¨è®¾è®¡è¿™ä¸ªæ¦‚å¿µå‡ºç°åœ¨ 2003 å¹´ï¼Œé‚£ä¸ªæ—¶å€™çš„è½¯ä»¶è¿˜å¤„åœ¨ä» CS åˆ° BS è½¬æ¢çš„æ—¶æœŸï¼Œæ•æ·å®£è¨€ä¹Ÿæ‰å‘è¡¨ 2 å¹´ã€‚ä½†æ˜¯ã€ŒEric Evansã€ä½œä¸ºåœ¨ä¼ä¸šçº§åº”ç”¨å·¥ä½œå¤šå¹´çš„æŠ€æœ¯é¡¾é—®ï¼Œæ•é”çš„å‘ç°äº†åœ¨è½¯ä»¶å¼€å‘ä¸šç•Œå†…ï¼ˆå°¤å…¶æ˜¯ä¼ä¸šçº§åº”ç”¨ï¼‰å¼€å§‹æ¶Œç°çš„ä¸€è‚¡æ€æ½®ï¼Œä»–æŠŠè¿™è‚¡æ€æ½®ç§°ä¸ºé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ŒåŒæ—¶è¿˜å‡ºç‰ˆäº†ä¸€æœ¬ä¹¦ï¼Œåœ¨ä¹¦ä¸­åˆ†äº«äº†è‡ªå·±åœ¨è®¾è®¡è½¯ä»¶é¡¹ç›®æ—¶é‡‡ç”¨çš„å»ºæ¨¡æ–¹æ³•ï¼Œå¹¶ä¸ºè®¾è®¡å†³ç­–è€…æä¾›äº†ä¸€ä¸ªæ¡†æ¶ã€‚ ä½†æ˜¯ä»é‚£ä»¥åã€ŒDDDã€å¹¶æ²¡æœ‰å’Œã€Œæ•æ·ã€ä¸€æ ·å˜å¾—æ›´åŠ æµè¡Œï¼Œå¦‚æœè¦é—®åŸå› ï¼Œæˆ‘è§‰å¾—ä¸€æ–¹é¢æ˜¯è¿™å¥—æ–¹æ³•é‡Œé¢æœ‰å¾ˆå¤šçš„æ–°åè¯æ–°æ¦‚å¿µï¼Œæ¯”å¦‚è¯´ã€Œèšåˆã€ï¼Œã€Œé™ç•Œä¸Šä¸‹æ–‡ã€ï¼Œã€Œå€¼å¯¹è±¡ã€ç­‰ç­‰ï¼Œè¦ç†è§£è¿™äº›æŠ½è±¡æ¦‚å¿µæœ¬èº«å°±æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥å­¦ä¹ å’Œåº”ç”¨ã€ŒDDDã€çš„æ›²çº¿æ˜¯éå¸¸é™¡å³­çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œåšä¸ºå½“æ—¶å”¯ä¸€çš„â€œå®˜æ–¹æ•™æâ€ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹ï¼Œé˜…è¯»è¿™æœ¬ä¹¦æ˜¯ä¸€ä¸ªéå¸¸ç—›è‹¦çš„è¿‡ç¨‹ï¼Œåœ¨å†…å®¹ç»„ç»‡ä¸Šç»å¸¸ä¼šå‡ºç°è·³è·ƒï¼Œæ‰€ä»¥å¾ˆå¤šäººéƒ½æ˜¯åˆšè¯»äº†å‡ é¡µå°±æ”¾ä¸‹äº†ã€‚ è™½ç„¶å…¥é—¨é—¨æ§›æœ‰äº›é«˜ï¼Œä½†æ˜¯å¯¹äºå–œæ¬¢æ™ºåŠ›æŒ‘æˆ˜çš„è½¯ä»¶å·¥ç¨‹å¸ˆä»¬æ¥è¯´ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªéš¾åº¦ç¨ä¸ºæœ‰ä¸€ç‚¹é«˜çš„ç©å…·ï¼Œæ‰€ä»¥åœ¨å°èŒƒå›´ç¾¤ä½“å†…ï¼Œé€æ¸æœ‰ä¸€æ‰¹äººå¼€å§‹èƒ½å¤ŸæŒæ§è¿™ä¸ªç©å…·ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å®ƒæ¥æŒ‡å¯¼è®¾è®¡èƒ½å¤Ÿæ§åˆ¶ä¸šåŠ¡å¤æ‚æ€§çš„è½¯ä»¶åº”ç”¨å‡ºæ¥äº†ã€‚è™½ç„¶é‚£æ—¶å€™å¤§éƒ¨åˆ†çš„è½¯ä»¶åº”ç”¨éƒ½æ˜¯å•ä½“çš„ï¼Œä½†æ˜¯ä½¿ç”¨ã€ŒDDDã€ä¾ç„¶å¯ä»¥è®¾è®¡å‡ºæ¥å®¹æ˜“ç»´æŠ¤è€Œä¸”å¿«é€Ÿå“åº”éœ€æ±‚å˜åŒ–çš„å•ä½“åº”ç”¨å‡ºæ¥ã€‚ åˆ°äº† 2013 å¹´ï¼Œéšç€å„ç§åˆ†å¸ƒå¼çš„åŸºç¡€è®¾æ–½é€æ¸æˆç†Ÿï¼Œè€Œã€ŒSOAæ¶æ„ã€åº”ç”¨åœ¨å®è·µä¸­åˆä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©ï¼ŒMartin Fowler å’Œ James Lewis æŠŠå½“æ—¶å‡ºç°çš„ä¸€ç§æ–°å‹åˆ†å¸ƒå¼æ¶æ„é£æ½®æ€»ç»“æˆå¾®æœåŠ¡æ¶æ„ã€‚ ç„¶åå¾®æœåŠ¡è¿™è‚¡é£å°±å‘¼å‘¼çš„å¹äº†èµ·æ¥ï¼Œè¿™æ—¶å€™è½¯ä»¶å·¥ç¨‹å¸ˆä»¬å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è™½ç„¶æŒ‡å¯¼å¾®æœåŠ¡æ¶æ„çš„åº”ç”¨å…·æœ‰ä»€ä¹ˆç‰¹å¾ï¼Œä½†æ˜¯å¦‚ä½•æŠŠåŸæ¥çš„å¤§å•ä½“æ‹†åˆ†æˆå¾®æœåŠ¡æ˜¯å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆåšäº†ã€‚ ç„¶åç†Ÿæ‚‰ã€ŒDDDã€æ–¹æ³•çš„å·¥ç¨‹å¸ˆå‘ç°ï¼Œç”±äºã€ŒDDDã€å¯ä»¥æœ‰æ•ˆçš„ä»ä¸šåŠ¡è§†è§’å¯¹è½¯ä»¶ç³»ç»Ÿè¿›è¡Œæ‹†è§£ï¼Œå¹¶ä¸”ã€ŒDDDã€ç‰¹åˆ«å¥‘åˆå¾®æœåŠ¡çš„ä¸€ä¸ªç‰¹å¾ï¼šå›´ç»•ä¸šåŠ¡èƒ½åŠ›æ„å»ºã€‚æ‰€ä»¥ç”¨ã€ŒDDDã€æ‹†åˆ†å‡ºæ¥çš„å¾®æœåŠ¡æ˜¯æ¯”è¾ƒåˆç†çš„è€Œä¸”èƒ½å¤Ÿå®ç°é«˜å†…èšä½è€¦åˆï¼Œè¿™æ ·æ¥ç€å¾®æœåŠ¡ã€ŒDDDã€è¿æ¥äº†å®ƒçš„ç¬¬äºŒæ˜¥ã€‚ DDD æ€è¾¨ä»è®¡ç®—æœºå‘æ˜ä»¥æ¥ï¼Œäººç±»ç”¨è¿‡è¡¨è¾¾ä¸–ç•Œå˜åŒ–çš„è¯æœ‰ï¼šç”µå­åŒ–ï¼Œä¿¡æ¯åŒ–ï¼Œæ•°å­—åŒ–ã€‚è¿™äº›è¯é‡Œé¢éƒ½æœ‰ä¸€ä¸ª â€œåŒ–â€ å­—ï¼Œä»£è¡¨ç€è½¬å˜ï¼Œè€Œè¿™äº›è½¬å˜å°±æ˜¯äººç±»åœ¨é€æ¸çš„æŠŠåŸæ¥åœ¨ç‰©ç†ä¸–ç•Œä¸­çš„ä¸€ä¸ªä¸ªæ¦‚å¿µä¸€ä¸ªä¸ªå·¥ä½œï¼Œè¿ç§»åˆ°è™šæ‹Ÿçš„è®¡ç®—æœºä¸–ç•Œã€‚ ä½†æ˜¯åœ¨è½¬å˜çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºä¸¤ä¸ªä¸–ç•Œçš„åº•å±‚é€»è¾‘ä»¥åŠåº•å±‚è¯­è¨€ä¸ä¸€è‡´ï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªç¿»è¯‘å’Œè®¾è®¡çš„è¿‡ç¨‹ã€‚è¿™ä¸ªç¿»è¯‘è¿‡ç¨‹ä»è½¯ä»¶è¯ç”Ÿçš„ç¬¬ä¸€å¤©èµ·å°±å¤©ç„¶å­˜åœ¨ï¼Œè€Œç”±äºæœ‰äº†è¿™ä¸ªç¿»è¯‘è¿‡ç¨‹ï¼Œä¸šåŠ¡å’Œå¼€å‘ä¹‹é—´æ‰æ€»æ˜¯æƒ³ä¸¤ä¸ªå¯¹ç«‹çš„é˜¶çº§ä¸€æ ·ï¼Œè§‰å¾—å¯¹æ–¹æ˜¯éš¾ä»¥æ²Ÿé€šçš„ã€‚ äºæ˜¯ä¹æœ‰äº›è½¯ä»¶å·¥ç¨‹ç•Œçš„å¤§ç‰›å°±å¼€å§‹æ€è€ƒï¼Œèƒ½ä¸èƒ½æœ‰ä¸€ç§æ–¹å¼æ¥å‡è½»è¿™ä¸ªç¿»è¯‘è¿‡ç¨‹å‘¢ã€‚ç„¶åå°±å‘æ˜äº†ã€Œé¢å‘å¯¹è±¡è¯­è¨€ã€ï¼Œå¼€å§‹å°è¯•è®©è®¡ç®—æœºä¸–ç•Œæœ‰ç‰©ç†ä¸–ç•Œçš„å¯¹è±¡æ¦‚å¿µã€‚é¢å‘å¯¹è±¡è¿˜ä¸å¤Ÿï¼Œè¿™å°±æœ‰äº†ã€ŒDDDã€ï¼Œã€ŒDDDã€å®šä¹‰äº†ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œç„¶åå°è¯•è®©ä¸šåŠ¡å’Œå¼€å‘éƒ½èƒ½å¤Ÿç†è§£è¿™äº›æ¦‚å¿µåè¯ï¼Œç„¶åè®©ã€Œé¢†åŸŸä¸“å®¶ã€ï¼ˆè¿™é‡Œä½ å¯ä»¥ç†è§£ä¸ºç†Ÿæ‚‰ä¸šåŠ¡çš„äººï¼‰ä½¿ç”¨è¿™äº›æ¦‚å¿µåè¯æ¥æè¿°ä¸šåŠ¡ï¼Œè€Œç”±äºä½¿ç”¨äº†è§„å®šçš„æ¦‚å¿µåè¯ï¼Œå¼€å‘å°±å¯ä»¥å¾ˆå¥½çš„ç†è§£é¢†åŸŸä¸šåŠ¡ï¼Œå¹¶èƒ½å¤ŸæŒ‰ç…§é¢†åŸŸä¸šåŠ¡è®¾è®¡çš„æ–¹å¼è¿›è¡Œè½¯ä»¶å®ç°ã€‚ è¿™å°±æ˜¯DDDçš„åˆè¡·ï¼šè®©ä¸šåŠ¡æ¶æ„ç»‘å®šç³»ç»Ÿæ¶æ„ã€‚ åæ¥å‘ç°è¿™ä¸ªæ–¹æ³•ä¸ä»…ä»…å¯ä»¥åšå¥½ç¿»è¯‘ï¼Œè¿˜å¯ä»¥å¸®åŠ©ä¸šåŠ¡åˆ’åˆ†é¢†åŸŸè¾¹ç•Œï¼Œå¯ä»¥æ˜ç¡®å“ªä¸ªé¢†åŸŸæ˜¯è‡ªå·±çš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ï¼Œä»¥ååº”è¯¥é‡ç‚¹å‘å±•å“ªä¸ªé¢†åŸŸã€‚ç”šè‡³å¯ä»¥ä½œä¸ºç»„ç»‡è¿›è¡Œæˆ˜ç•¥è§„åˆ’çš„å‚è€ƒã€‚è€Œèƒ½å¤Ÿåšåˆ°è¿™ç‚¹ï¼Œå…¶å®èƒŒåçš„åŸå› æ˜¯ç‰©ç†ä¸–ç•Œå’Œè™šæ‹Ÿä¸–ç•Œçš„èåˆã€‚ ä¸‰ã€ä¸ºä»€ä¹ˆä½¿ç”¨ DDDï¼Ÿ DDD å¸®åŠ©è§£å†³å¾®æœåŠ¡æ‹†åˆ†å›°å¢ƒä¸Šé¢ä»‹ç»äº†ä½¿ç”¨DDDå¯ä»¥åšåˆ°ç»‘å®šä¸šåŠ¡æ¶æ„å’Œç³»ç»Ÿæ¶æ„ï¼Œè¿™ç§ç»‘å®šå¯¹äºå¾®æœåŠ¡æ¥è¯´æœ‰ä»€ä¹ˆå…³ç³»å‘¢ã€‚æ‰€è°“çš„å¾®æœåŠ¡æ‹†åˆ†å›°éš¾ï¼Œå…¶å®æ ¹æœ¬åŸå› æ˜¯ä¸çŸ¥é“è¾¹ç•Œåœ¨ä»€ä¹ˆåœ°æ–¹ã€‚è€Œä½¿ç”¨DDDå¯¹ä¸šåŠ¡åˆ†æçš„æ—¶å€™ï¼Œé¦–å…ˆä¼šä½¿ç”¨ã€Œèšåˆã€è¿™ä¸ªæ¦‚å¿µæŠŠå…³è”æ€§å¼ºçš„ä¸šåŠ¡æ¦‚å¿µåˆ’åˆ†åœ¨ä¸€ä¸ªè¾¹ç•Œä¸‹ï¼Œå¹¶é™å®šã€Œèšåˆã€å’Œã€Œèšåˆã€ä¹‹é—´åªèƒ½é€šè¿‡ã€Œèšåˆæ ¹ã€æ¥è®¿é—®ï¼Œè¿™æ˜¯ç¬¬ä¸€å±‚è¾¹ç•Œã€‚ ç„¶ååœ¨ã€Œèšåˆã€åŸºç¡€ä¹‹ä¸Šæ ¹æ®ã€Œä¸šåŠ¡ç›¸å…³æ€§ã€ã€ã€Œä¸šåŠ¡å˜åŒ–é¢‘ç‡ã€ã€ã€Œç»„ç»‡ç»“æ„ã€ç­‰ç­‰çº¦æŸæ¡ä»¶æ¥å®šä¹‰ã€Œé™ç•Œä¸Šä¸‹æ–‡ã€ï¼Œè¿™æ˜¯ç¬¬äºŒå±‚è¾¹ç•Œã€‚æœ‰äº†è¿™ä¸¤å±‚è¾¹ç•Œä½œä¸ºçº¦æŸå’Œé™åˆ¶ï¼Œå¾®æœåŠ¡çš„è¾¹ç•Œä¹Ÿå°±æ¸…æ™°äº†ï¼Œæ‹†åˆ†å¾®æœåŠ¡ä¹Ÿå°±ä¸å†å›°éš¾äº†ã€‚ DDD å¸®åŠ©åº”å¯¹ç³»ç»Ÿå¤æ‚æ€§è§£å†³å¤æ‚å’Œå¤§è§„æ¨¡è½¯ä»¶çš„æ­¦å™¨å¯ä»¥è¢«ç²—ç•¥åœ°å½’ä¸ºä¸‰ç±»ï¼šã€ŒæŠ½è±¡ã€ã€ã€Œåˆ†æ²»ã€å’Œã€ŒçŸ¥è¯†ã€ã€‚ åˆ†æ²»ï¼š æŠŠé—®é¢˜ç©ºé—´åˆ†å‰²ä¸ºè§„æ¨¡æ›´å°ä¸”æ˜“äºå¤„ç†çš„è‹¥å¹²å­é—®é¢˜ã€‚åˆ†å‰²åçš„é—®é¢˜éœ€è¦è¶³å¤Ÿå°ï¼Œä»¥ä¾¿ä¸€ä¸ªäººå•æªåŒ¹é©¬å°±èƒ½å¤Ÿè§£å†³ä»–ä»¬ï¼›å…¶æ¬¡ï¼Œå¿…é¡»è€ƒè™‘å¦‚ä½•å°†åˆ†å‰²åçš„å„ä¸ªéƒ¨åˆ†è£…é…ä¸ºæ•´ä½“ã€‚åˆ†å‰²å¾—è¶Šåˆç†è¶Šæ˜“äºç†è§£ï¼Œåœ¨è£…é…æˆæ•´ä½“æ—¶ï¼Œæ‰€éœ€è·Ÿè¸ªçš„ç»†èŠ‚ä¹Ÿå°±è¶Šå°‘ã€‚å³æ›´å®¹æ˜“è®¾è®¡å„éƒ¨åˆ†çš„åä½œæ–¹å¼ã€‚è¯„åˆ¤ä»€ä¹ˆæ˜¯åˆ†æ²»å¾—å¥½ï¼Œå³é«˜å†…èšä½è€¦åˆã€‚ æŠ½è±¡ï¼š ä½¿ç”¨æŠ½è±¡èƒ½å¤Ÿç²¾ç®€é—®é¢˜ç©ºé—´ï¼Œè€Œä¸”é—®é¢˜è¶Šå°è¶Šå®¹æ˜“ç†è§£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä»åŒ—äº¬åˆ°ä¸Šæµ·å‡ºå·®ï¼Œå¯ä»¥å…ˆç†è§£ä¸ºä½¿ç”¨äº¤é€šå·¥å…·å‰å¾€ï¼Œä½†ä¸éœ€è¦ä¸€å¼€å§‹å°±æƒ³æ¸…æ¥šåˆ°åº•æ˜¯é«˜é“è¿˜æ˜¯é£æœºï¼Œä»¥åŠä¹˜åå®ƒä»¬éœ€è¦æ³¨æ„ä»€ä¹ˆã€‚ çŸ¥è¯†ï¼š é¡¾åæ€ä¹‰ï¼Œã€ŒDDDã€å¯ä»¥è®¤ä¸ºæ˜¯çŸ¥è¯†çš„ä¸€ç§ã€‚ ã€ŒDDDã€æä¾›äº†è¿™æ ·çš„çŸ¥è¯†æ‰‹æ®µï¼Œè®©æˆ‘ä»¬çŸ¥é“å¦‚ä½•æŠ½è±¡å‡ºã€Œé™ç•Œä¸Šä¸‹æ–‡ã€ä»¥åŠå¦‚ä½•å»ã€Œåˆ†æ²»ã€ã€‚ å›¾ç‰‡æ¥æºï¼šhttps://servicecomb.apache.org/cn/docs/crm-part-I/ å¦å¤–ä¸€ä¸ªæ„Ÿå—å°±æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œé¢†åŸŸäº‹ä»¶ã€æ¥åº”å¯¹å¤šæ ·çš„å˜åŒ–ã€‚å‚è€ƒä¸Šé¢æåˆ°å‘é‚®ä»¶çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¹é€ æˆè¿™æ ·ï¼š public void setEquipmentBroken(Long id) { Equipment equipment = equipmentRepository.findById(id); equipment.broken(); eventBus.publish(new EquipmentBrokenEvent(equipment.id)); } è¿™æ ·ï¼Œé€šçŸ¥ä¼šè®®å®¤é¢„è®¢è€…çš„æ¨¡å—å°±ä¼šå»é€šçŸ¥ç›¸åº”çš„äººå‘˜ï¼Œè€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±æ“å¿ƒäº†ã€‚ æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œã€ŒDDDã€æ¶æ„åŒºåˆ«äºä¼ ç»Ÿçš„æ–¹å¼ã€‚ å›¾ç‰‡å¼•è‡ªï¼šhttps://blog.pragmatists.com/domain-driven-design-vs-anemic-model-how-do-they-differ-ffdee9371a86 æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šã€Œè´«è¡€æ¨¡å‹ã€ã€‚ä¹Ÿå°±æ˜¯åªæœ‰å±æ€§çš„ç±»ï¼Œè´«è¡€çš„æ„æ€å°±æ˜¯æ²¡æœ‰è¡Œä¸ºï¼Œåƒæœ¨ä¹ƒä¼Šä¸€æ ·ã€‚è¿™ç§æ¨¡å‹å”¯ä¸€çš„ä½œç”¨å°±æ˜¯å°†ä¸€äº› ORM æ˜ å°„åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸Šï¼Œè€Œæˆ‘ä»¬çš„ã€ŒæœåŠ¡å±‚ã€é€šè¿‡ã€ŒDAOå±‚ã€åŠ è½½è¿™äº›ã€Œè´«è¡€æ¨¡å‹ã€è¿›è¡Œä¸€äº›æ‹¼æ¥ä¹‹ç±»çš„æ“ä½œï¼ŒåŠŸèƒ½è¶Šå¤æ‚ï¼Œè¿™ç§æ“ä½œå°±è¶Šé¢‘ç¹ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„è½¯ä»¶å¤æ‚åº¦ä¸Šå‡çš„ç›´æ¥åŸå› ã€‚ è€Œã€ŒDDDã€åˆ™æŠŠå¤§å¤šæ•°çš„ä¸šåŠ¡é€»è¾‘éƒ½åŒ…å«åœ¨äº†ã€Œèšåˆã€ã€ã€Œå®ä½“ã€ã€ã€Œå€¼å¯¹è±¡ã€é‡Œé¢ï¼Œç®€å•ç†è§£ä¹Ÿå°±æ˜¯å®ç°äº†å¯¹è±¡è‡ªæ²»ï¼ŒæŠŠä¹‹å‰æš´éœ²å‡ºæ¥çš„ä¸€äº›ä¸šåŠ¡æ“ä½œéšè—è¿›äº†ã€ŒåŸŸã€ä¹‹ä¸­ã€‚æ¯ä¸ªä¸åŒçš„åŒºåŸŸä¹‹é—´åªèƒ½é€šè¿‡å¯¹å¤–æš´éœ²çš„ç»Ÿä¸€çš„èšåˆæ ¹æ¥è®¿é—®ï¼Œè¿™æ ·å°±åšäº†æ”¶æƒçš„æ“ä½œï¼Œè¿™æ ·æ•°æ®çš„å®šä¹‰å’Œæ›´æ”¹çš„åœ°æ–¹å°±èšé›†åœ¨äº†ä¸€å¤„ï¼Œå¾ˆå¥½çš„è§£å†³äº†å¤æ‚åº¦çš„é—®é¢˜ã€‚ DDD å¸®åŠ©ç»Ÿä¸€è¯­è¨€åœ¨UMLä½œä¸ºå»ºæ¨¡ä¸»æµçš„æ—¶ä»£ï¼Œè½¯ä»¶è®¾è®¡è¢«æ˜ç¡®åˆ†ä¸ºé¢å‘å¯¹è±¡åˆ†æï¼ˆOOAï¼‰ï¼Œé¢å‘å¯¹è±¡è®¾è®¡ï¼ˆOODï¼‰å’Œé¢å‘å¯¹è±¡ç¼–ç ï¼ˆOOPï¼‰é˜¶æ®µã€‚å®é™…æ“ä½œä¸­OODçš„å·¥ä½œå¾€å¾€è¢«OOAå’ŒOOPå„è‡ªæ‰¿æ‹…ä¸€éƒ¨åˆ†ï¼Œå¹¶åŒæ—¶å­˜åœ¨åˆ†ææ¨¡å‹å’Œè®¾è®¡æ¨¡å‹ä¸¤ä¸ªå‰²è£‚çš„æ¨¡å‹ã€‚ è€Œé¢†åŸŸé©±åŠ¨è®¾è®¡çš„æ ¸å¿ƒæ˜¯å»ºç«‹ç»Ÿä¸€çš„é¢†åŸŸæ¨¡å‹ã€‚é¢†åŸŸæ¨¡å‹åœ¨è½¯ä»¶æ¶æ„ä¸­å¤„äºæ ¸å¿ƒåœ°ä½ï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»ä»¥å»ºç«‹é¢†åŸŸæ¨¡å‹ä¸ºä¸­å¿ƒï¼Œä»¥ä¿éšœé¢†åŸŸæ¨¡å‹çš„å¿ å®ä½“ç°ã€‚ å›¾ç‰‡æ¥æºï¼šhttp://kaelzhang81.github.io/2017/10/20/DDD%E4%B9%8B-%E9%81%93%E6%9C%AF%E5%99%A8/ ç®€å•ç†è§£èµ·æ¥çš„è¯ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸šåŠ¡äººå‘˜å’Œå¼€å‘äººå‘˜çš„è¯­è¨€ç»Ÿä¸€èµ·æ¥ï¼Œç”¨ä»£ç æ¥æ„Ÿå—ä¸€ä¸‹å¤§æ¦‚å°±æ˜¯ï¼š userService.love(Jack, Rose) => Jack.love(Rose) companyService.hire(company,employee) => Company.hire(employee) å››ã€é¢†åŸŸé©±åŠ¨è®¾è®¡è¿‡ç¨‹ é¢†åŸŸé©±åŠ¨è®¾è®¡å¼ºè°ƒé¢†åŸŸæ¨¡å‹çš„é‡è¦æ€§ï¼Œå¹¶é€šè¿‡æ¨¡å‹é©±åŠ¨è®¾è®¡æ¥ä¿éšœé¢†åŸŸæ¨¡å‹ä¸ç¨‹åºè®¾è®¡çš„ä¸€è‡´ã€‚ä»ä¸šåŠ¡éœ€æ±‚ä¸­æç‚¼å‡ºç»Ÿä¸€è¯­è¨€ï¼ˆUbiquitous Languageï¼‰ï¼Œå†åŸºäºç»Ÿä¸€è¯­è¨€å»ºç«‹é¢†åŸŸæ¨¡å‹ï¼›è¿™ä¸ªé¢†åŸŸæ¨¡å‹ä¼šæŒ‡å¯¼ç€ç¨‹åºè®¾è®¡ä»¥åŠç¼–ç å®ç°ï¼›æœ€åï¼Œåˆé€šè¿‡é‡æ„æ¥å‘ç°éšå¼æ¦‚å¿µï¼Œå¹¶è¿ç”¨è®¾è®¡æ¨¡å¼æ”¹è¿›è®¾è®¡ä¸å¼€å‘è´¨é‡ã€‚è¿™ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å›¾ç‰‡æ¥æºï¼šhttp://zhangyi.xyz/overview-of-ddd/ è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªè¦†ç›–è½¯ä»¶å…¨ç”Ÿå‘½å‘¨æœŸçš„è®¾è®¡é—­ç¯ï¼Œæ¯ä¸ªç¯èŠ‚çš„è¾“å‡ºéƒ½å¯ä»¥ä½œä¸ºä¸‹ä¸€ä¸ªç¯èŠ‚çš„è¾“å…¥ï¼Œè€Œåœ¨å…¶ä¸­æ‰®æ¼”é‡è¦æŒ‡å¯¼ä½œç”¨çš„åˆ™æ˜¯â€œé¢†åŸŸæ¨¡å‹â€ã€‚è¿™ä¸ªè®¾è®¡é—­ç¯æ˜¯ä¸€ä¸ªèºæ—‹ä¸Šå‡çš„è¿­ä»£è®¾è®¡è¿‡ç¨‹ï¼Œé¢†åŸŸæ¨¡å‹ä¼šåœ¨è¿™ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­é€æ¸æ¼”è¿›ï¼Œåœ¨ä¿è¯æ¨¡å‹å®Œæ•´æ€§ä¸æ­£ç¡®æ€§çš„åŒæ—¶ï¼Œå…·æœ‰æ–°é²œçš„æ´»åŠ›ï¼Œä½¿å¾—é¢†åŸŸæ¨¡å‹èƒ½å¤Ÿå§‹ç»ˆå¦‚ä¸€çš„è´¯ç©¿é¢†åŸŸé©±åŠ¨è®¾è®¡è¿‡ç¨‹ï¼Œé˜é‡Šç€é¢†åŸŸé€»è¾‘ï¼ŒæŒ‡å¯¼ç€ç¨‹åºè®¾è®¡ï¼ŒéªŒè¯ç€ç¼–ç è´¨é‡ã€‚ å¦‚æœä»”ç»†å®¡è§†è¿™ä¸ªè®¾è®¡é—­ç¯ï¼Œæˆ‘ä»¬å‘ç°åœ¨é’ˆå¯¹é—®é¢˜åŸŸå’Œä¸šåŠ¡æœŸæœ›æç‚¼ç»Ÿä¸€è¯­è¨€ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€è¯­è¨€è¿›è¡Œé¢†åŸŸå»ºæ¨¡æ—¶ï¼Œå¯èƒ½ä¼šé¢ä¸´é«˜å¤æ‚åº¦çš„æŒ‘æˆ˜ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºä¸€ä¸ªå¤æ‚çš„è½¯ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œæˆ‘ä»¬è¦å¤„ç†çš„é—®é¢˜åŸŸå®åœ¨å¤ªåºå¤§äº†ã€‚åœ¨ä¸ºé—®é¢˜åŸŸå¯»æ±‚è§£å†³æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦ä»å®è§‚å±‚æ¬¡åˆ’åˆ†ä¸åŒä¸šåŠ¡å…³æ³¨ç‚¹çš„å­é¢†åŸŸï¼Œç„¶åå†æ·±å…¥åˆ°å­é¢†åŸŸä¸­ä»å¾®è§‚å±‚æ¬¡å¯¹é¢†åŸŸè¿›è¡Œå»ºæ¨¡ã€‚å®è§‚å±‚æ¬¡æ˜¯æˆ˜ç•¥çš„å±‚é¢ï¼Œå¾®è§‚å±‚æ¬¡æ˜¯æˆ˜æœ¯çš„å±‚é¢ï¼Œåªæœ‰å°†æˆ˜ç•¥è®¾è®¡ä¸æˆ˜æœ¯è®¾è®¡ç»“åˆèµ·æ¥ï¼Œæ‰æ˜¯å®Œæ•´çš„é¢†åŸŸé©±åŠ¨è®¾è®¡ã€‚ æˆ˜ç•¥è®¾è®¡ (Do Right Things)Ubiquitous languageé¢†åŸŸé©±åŠ¨å¼€å‘è®©ä¸šåŠ¡ä¸“å®¶(Domain Expert)å’Œå¼€å‘äººå‘˜ä¸€èµ·æ¥æ¢³ç†ä¸šåŠ¡ï¼Œè€ŒåŒæ–¹æœ‰æ•ˆæ²Ÿé€šçš„æ–¹å¼æ˜¯ä½¿ç”¨é€šç”¨è¯­è¨€ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®é‡Œï¼Œä¸€å¼€å§‹æˆ‘ä»¬å°±å®šä¹‰äº†å¾ˆå¤šè¯æ±‡è¡¨, å°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„é€šç”¨è¯­è¨€ã€‚ Bounded Context å’Œ Domainæœ‰äº†é€šç”¨è¯­è¨€ï¼Œè¯æ±‡è¡¨ æ¯ä¸€ä¸ªè¯æ±‡ä¸€å®šæ˜¯æœ‰è¾¹ç•Œçš„ï¼Œä¸åŒçš„è¾¹ç•Œå†…æ˜¯ä¸ä¸€æ ·ï¼Œæ¯”å¦‚ä½ çˆ±äººåœ¨ä½ å®¶è¿™ä¸ª Bounded Context æ˜¯ä½ çš„ Wife, ä½†æ˜¯å¦‚æœå¥¹æ˜¯ä¸€ä¸ªè€å¸ˆï¼Œé‚£ä¹ˆåœ¨å­¦æ ¡è¿™ä¸ªè¾¹ç•Œé‡Œå°±æ˜¯ä¸€ä¸ª Teacher. æˆ‘ä»¬ç»è¿‡å¤šæ¬¡è®¨è®ºï¼Œé‡‡å–çš„æ–¹æ³•æ˜¯æ‹†æˆå¤šä¸ªå­ç³»ç»Ÿï¼ˆBounded Context,æ˜¯ä¸æ˜¯å¾ˆåƒç°åœ¨çš„å¾®æœåŠ¡ï¼Ÿ)ï¼Œæ¯ä¸ªå­ç³»ç»Ÿè¿›è¡Œè‡ªæ²»ã€‚ éšåæˆ‘ä»¬æŠŠä¸€ä¸ªä¸ªä¸šåŠ¡æŠ½è±¡ä¸ºé¢†åŸŸå¯¹è±¡(Domain Model), æ¯ä¸€ä¸ª Domain å¯¹é¢†åŸŸè¿›è¡Œè‡ªæ²»ã€‚è€Œæ¨¡å‹é‡Œçš„å±æ€§å’Œè¡Œä¸ºè¡¨è¾¾ä¸ºä¸šåŠ¡ä¸“å®¶éƒ½å¯ä»¥ç†è§£çš„ä»£ç ï¼Œç”¨æ¯”å¦‚Job.Publish(). è™½ç„¶è¿™é‡Œé¢æœ€ç»ˆäº§ç”Ÿäº†èšåˆæ ¹ã€å®ä½“ã€å€¼å¯¹è±¡ç­‰ï¼Œä½†æ˜¯æˆ‘ä»¬å’Œä¸šåŠ¡ä¸“å®¶æ²Ÿé€šçš„æ—¶å€™å°½é‡ä¸è¦è¯´è¿™äº›è¯æ±‡ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥è¯´ï¼Œ åœ¨æ‹›è˜è¿™å—å„¿ï¼ŒèŒä½æ˜¯ä¸æ˜¯å¿…é¡»ç»è¿‡å…¬å¸è¿›è¡Œç®¡ç†ï¼Œé‚£æ ·æˆ‘ä»¬å°±çŸ¥é“ Job æ˜¯å±äºå…¬å¸è¿™ä¸ªèšåˆæ ¹ã€‚ å¯¹é¢†åŸŸè¿›è¡Œâ€œé€šç”¨â€ï¼ˆç±»åï¼Œæ–¹æ³•åç­‰éƒ½ç”¨è‡ªç„¶è¯­è¨€è¡¨è¾¾ï¼‰å»ºæ¨¡ï¼Œä¸šåŠ¡äººå‘˜å¯ä»¥ç›´æ¥è¯»æ‡‚æˆ‘ä»¬çš„ä»£ç ï¼Œä»è€Œå¯ä»¥çŸ¥é“æ˜¯å¦è¡¨è¾¾äº†ä¸šåŠ¡éœ€æ±‚ã€‚ æˆ˜æœ¯è®¾è®¡ (Do Things Right)åœ¨æˆ˜æœ¯è®¾è®¡æ–¹é¢ï¼Œç”±äºä¸šåŠ¡è¡Œä¸ºå’Œè§„åˆ™éƒ½åœ¨é¢†åŸŸé‡Œï¼Œè€Œä¸”ç³»ç»Ÿè¢«æ‹†åˆ†æˆå¤šä¸ªå­ç³»ç»Ÿï¼Œè¿™å¯¹æŠ€æœ¯å®ç°ä¸Šå¸¦æ¥äº†éå¸¸å¤§çš„æŒ‘æˆ˜ï¼Œå°¤å…¶æ˜¯å¤§éƒ¨åˆ†äººéƒ½æ˜¯æœ‰ç‰¢å›ºçš„åŸºäºæ•°æ®é©±åŠ¨å¼€å‘çš„æ€æƒ³ã€‚ æŠ€æœ¯ä¸Šæœ‰ä¸åŒå®ç°æ–¹å¼ã€‚ Event Sourcing Event Sourcing å°±æ˜¯æˆ‘ä»¬ä¸è®°å½•æ•°æ®çš„æœ€ç»ˆçŠ¶æ€ï¼Œæˆ‘ä»¬è®°å½•å¯¹æ•°æ®çš„æ¯ä¸€æ¬¡æ”¹å˜(Event)ï¼Œè€Œè¯»å–çš„æ—¶å€™æˆ‘ä»¬æŠŠè¿™äº›æ”¹å˜ä»å¤´å†æ¥ä¸€éæ¥å–å¾—æ•°æ®çŠ¶æ€ï¼Œæ¯”å¦‚ä½ æœ‰100å—é’±ï¼Œç°åœ¨å‰©ä¸‹10å—äº†ï¼Œæˆ‘ä»¬è®°å½•çš„ä¸æ˜¯money.total=10, è€Œæ˜¯è®°å½•ä½ æ¯ä¸€æ¬¡å–é’±çš„è®°å½•ï¼Œç„¶åä»100å—å¼€å§‹ä¸€æ­¥æ­¥é‡æ”¾ä½ å–é’±çš„è¿‡ç¨‹ï¼Œæ¥å¾—åˆ°10. ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å†™çš„è¿‡ç¨‹ä¸­ï¼Œæ—¶å¸¸å›æƒ³èµ·æ•°æ®é©±åŠ¨çš„å¥½ï¼Œï¼ˆæ¯æ¬¡å¼€å§‹ä¸€ä¸ªæ–°ä¸œè¥¿çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„æ„Ÿè§‰ï¼Ÿ)ï¼Œè§‰å¾—ç”¨Event Sourcingå„ç§éº»çƒ¦ï¼Œç›´åˆ°åæ¥éšç€ç³»ç»Ÿçš„å¤æ‚æ€§ä¸æ–­å¢åŠ ï¼Œæˆ‘ä»¬æ‰æ„Ÿè§‰åˆ°å¸¦æ¥äº†éå¸¸å¤§çš„å¥½å¤„, è¿™ä¸ªéšåå•ç‹¬æ¥è¯´ã€‚ CQRSç”±äºä½¿ç”¨äº† Event Sourcing, å¯¹æ•°æ®æŸ¥è¯¢ï¼Œå°¤å…¶æ˜¯è·¨ä¸šåŠ¡(Aggregate)çš„æŸ¥è¯¢éå¸¸éº»çƒ¦ï¼Œå¾ˆéš¾åƒå…³ç³»æ•°æ®é‚£æ ·æœ‰æŸ¥è¯¢ä¼˜åŠ¿ï¼ŒCQRSæ˜¯è§£å†³è¿™ä¸€é—®é¢˜éå¸¸å¥½çš„æ–¹æ³•ï¼ŒCQRSè®©æŸ¥è¯¢å’Œå†™å…¥åˆ†å¼€ï¼ŒæŠŠç•Œé¢éœ€è¦æŸ¥è¯¢çš„æ•°æ®è¿›è¡ŒåŸæ ·å†™å…¥ï¼ŒåŸæ ·çš„æ„æ€å°±æ˜¯ç•Œé¢æ˜¾ç¤ºä»€ä¹ˆæ ·çš„ï¼Œå°±æå‰ä¿å­˜æˆä»€ä¹ˆæ ·çš„ï¼Œç±»ä¼¼äºåŸæ¥çš„ç¼“å­˜ï¼Œæ²¡æœ‰ä»»ä½•joinæ“ä½œï¼Œè¿™æ ·æŸ¥è¯¢æ˜¯éå¸¸é«˜æ•ˆçš„ã€‚ å›¾ç‰‡æ¥æºï¼šhttp://vitiy.info/how-to-make-simple-cqrs-implementation-without-event-sourcing/ æ¼”è¿›çš„é¢†åŸŸé©±åŠ¨è®¾è®¡è¿‡ç¨‹æˆ˜ç•¥è®¾è®¡ä¼šæ§åˆ¶å’Œåˆ†è§£æˆ˜æœ¯è®¾è®¡çš„è¾¹ç•Œä¸ç²’åº¦ï¼Œæˆ˜æœ¯è®¾è®¡åˆ™ä»¥å®è¯è§’åº¦éªŒè¯é¢†åŸŸæ¨¡å‹çš„æœ‰æ•ˆæ€§ã€å®Œæ•´æ€§ä¸ä¸€è‡´æ€§ï¼Œè¿›è€Œä»¥æ¼”è¿›çš„æ–¹å¼å¯¹ä¹‹å‰çš„æˆ˜ç•¥è®¾è®¡é˜¶æ®µè¿›è¡Œè¿­ä»£ï¼Œä»è€Œå½¢æˆä¸€ç§èºæ—‹å¼ä¸Šå‡çš„è¿­ä»£è®¾è®¡è¿‡ç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š é¢å¯¹å®¢æˆ·çš„ä¸šåŠ¡éœ€æ±‚ï¼Œç”±é¢†åŸŸä¸“å®¶ä¸å¼€å‘å›¢é˜Ÿå±•å¼€å……åˆ†çš„äº¤æµï¼Œç»è¿‡éœ€æ±‚åˆ†æä¸çŸ¥è¯†æç‚¼ï¼Œè·å¾—æ¸…æ™°çš„é—®é¢˜åŸŸã€‚é€šè¿‡å¯¹é—®é¢˜åŸŸè¿›è¡Œåˆ†æå’Œå»ºæ¨¡ï¼Œè¯†åˆ«é™ç•Œä¸Šä¸‹æ–‡ï¼Œåˆ©ç”¨å®ƒåˆ’åˆ†ç›¸å¯¹ç‹¬ç«‹çš„é¢†åŸŸï¼Œå†é€šè¿‡ä¸Šä¸‹æ–‡æ˜ å°„å»ºç«‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œè¾…ä»¥åˆ†å±‚æ¶æ„ä¸å…­è¾¹å½¢æ¶æ„åˆ’åˆ†ç³»ç»Ÿçš„é€»è¾‘è¾¹ç•Œä¸ç‰©ç†è¾¹ç•Œï¼Œç•Œå®šé¢†åŸŸä¸æŠ€æœ¯ä¹‹é—´çš„ç•Œé™ã€‚ä¹‹åï¼Œè¿›å…¥æˆ˜æœ¯è®¾è®¡é˜¶æ®µï¼Œæ·±å…¥åˆ°é™ç•Œä¸Šä¸‹æ–‡å†…å¯¹é¢†åŸŸè¿›è¡Œå»ºæ¨¡ï¼Œå¹¶ä»¥é¢†åŸŸæ¨¡å‹æŒ‡å¯¼ç¨‹åºè®¾è®¡ä¸ç¼–ç å®ç°ã€‚è‹¥åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œå‘ç°é¢†åŸŸæ¨¡å‹å­˜åœ¨é‡å¤ã€é”™ä½æˆ–ç¼ºå¤±æ—¶ï¼Œå†è¿›è€Œå¯¹å·²æœ‰æ¨¡å‹è¿›è¡Œé‡æ„ï¼Œç”šè‡³é‡æ–°åˆ’åˆ†é™ç•Œä¸Šä¸‹æ–‡ã€‚ ä¸¤ä¸ªä¸åŒé˜¶æ®µçš„è®¾è®¡ç›®æ ‡æ˜¯ä¿æŒä¸€è‡´çš„ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªè¿è´¯çš„è¿‡ç¨‹ï¼Œå½¼æ­¤ä¹‹é—´åˆç›¸äº’æŒ‡å¯¼ä¸è§„èŒƒï¼Œå¹¶æœ€ç»ˆä¿è¯ä¸€ä¸ªæœ‰æ•ˆçš„é¢†åŸŸæ¨¡å‹å’Œä¸€ä¸ªå¯Œæœ‰è¡¨è¾¾åŠ›çš„å®ç°åŒæ—¶æ¼”è¿›ã€‚ æ€»ç»“ ç»“åˆè‡ªå·±çš„å­¦ä¹ ç»è¿‡ï¼Œæœ¬ç¯‡æœ‰æ„è¯†çš„é¿å…äº†ç¹æ‚çº·ä¹±çš„ã€Œæ–°æ¦‚å¿µã€ã€‚å¦‚æœæœ‰å…´è¶£è¯¦ç»†äº†è§£ã€ŒDDDã€ä¸­çš„é‚£äº›æ¦‚å¿µï¼Œå¯ä»¥å‚ç…§è¿™ç¯‡æ–‡ç« ï¼šhttp://qinghua.github.io/ddd/ å€Ÿå¤§ä½¬çš„æ€»ç»“æ¥æ”¶ä¸ªå°¾å§ï¼šé¢†åŸŸé©±åŠ¨å¼€å‘å¥½å¤„å¤šå¤šï¼Œæ¦‚å¿µæ¯”è¾ƒå¤šï¼Œé—¨æ§›ç›¸å¯¹è¾ƒé«˜ï¼Œå¯¹äººå‘˜è¦æ±‚è¾ƒé«˜ï¼Œå›¢é˜Ÿé‡Œè‡³å°‘éœ€è¦æœ‰é¢†è·¯äººï¼Œä¸ç„¶ä»£ä»·ä¼šæ¯”è¾ƒå¤§ã€‚ å°¤å…¶æ…ç”¨Event Sourcing, è€Œé¢†åŸŸé©±åŠ¨å°¤å…¶é€‚åˆä¸šåŠ¡ç›¸å¯¹å¤æ‚çš„é¡¹ç›®ã€‚ å¯¹é‚£äº›å¾ˆå°çš„é¡¹ç›®ï¼ŒCRUDä»ç„¶æ˜¯å¥½çš„é€‰æ‹©ã€‚ å‚è€ƒæ–‡ç«  æµ…è°ˆ MVCã€MVP å’Œ MVVM æ¶æ„æ¨¡å¼ï¼šhttps://draveness.me/mvx ä¸Šå–„è‹¥æ°´çš„åšå®¢ï¼šhttp://deshui.wang/ CRUDå·¥ç¨‹å¸ˆæ™‹çº§ä¹‹è·¯ï¼šhttps://zhuanlan.zhihu.com/p/25442175 å¯¹è±¡å’Œæ•°æ®åº“çš„å¤©ç„¶é˜»æŠ—ï¼šhttps://www.jdon.com/mda/oo-reltaion2.html Commands &amp; Events instead of CRUD â€” Part 1: Commandsï¼šhttps://hackernoon.com/commands-events-instead-of-crud-part-1-commands-17f4c7aee33b æ±¤é›ªåçš„åšå®¢ï¼šhttps://www.cnblogs.com/netfocus/ There is No U in CRUDï¼šhttp://jlhood.com/there-is-no-u-in-crud/ Event sourcing vs CRUDï¼šhttps://community.risingstack.com/event-sourcing-vs-crud/ é˜¿é‡Œç›’é©¬é¢†åŸŸé©±åŠ¨è®¾è®¡å®è·µï¼šhttps://www.infoq.cn/article/alibaba-freshhema-ddd-practice DDDæˆ˜ç•¥ç¯‡ï¼šæ¶æ„è®¾è®¡çš„å“åº”åŠ›ï¼šhttps://zhuanlan.zhihu.com/p/30878497 ä½¿ç”¨DDDæ¥æ„å»ºä½ çš„REST APIï¼Œè€Œä¸æ˜¯CRUDï¼šhttp://blog.didispace.com/use-ddd-design-rest-api/ DDD &amp; co., part 1: Whatâ€™s wrong with CRUDï¼šhttps://www.thenativeweb.io/blog/2017-10-25-09-46-ddd-and-co-part-1-whats-wrong-with-crud/ DDDçš„ç»ˆæå¤§æ‹›â€”â€”By Experienceï¼šhttps://insights.thoughtworks.cn/ddd-by-experience/ é¢†åŸŸé©±åŠ¨è®¾è®¡æ¦‚è§ˆï¼šhttp://zhangyi.xyz/overview-of-ddd/ Refactoring from anemic model to DDDï¼šhttps://blog.pragmatists.com/refactoring-from-anemic-model-to-ddd-880d3dd3d45f ä¸ºä»€ä¹ˆDDDæ˜¯è®¾è®¡å¾®æœåŠ¡çš„æœ€ä½³å®è·µï¼šhttps://www.jianshu.com/p/e1b32a5ee91c é¢†åŸŸé©±åŠ¨è®¾è®¡åœ¨äº’è”ç½‘ä¸šåŠ¡å¼€å‘ä¸­çš„å®è·µï¼šhttps://kb.cnblogs.com/page/586236/ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢†åŸŸé©±åŠ¨è®¾è®¡","slug":"é¢†åŸŸé©±åŠ¨è®¾è®¡","permalink":"http://www.wmyskxz.com/tags/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åå››äº¿äººçš„å£è…¹ä¹‹æ¬²ï¼Œæ˜¯å¦‚ä½•è¢«æ»¡è¶³çš„ï¼Ÿ","slug":"åå››äº¿äººçš„å£è…¹ä¹‹æ¬²ï¼Œæ˜¯å¦‚ä½•è¢«æ»¡è¶³çš„ï¼Ÿ","date":"2019-06-11T02:50:00.000Z","updated":"2019-07-20T03:36:57.000Z","comments":true,"path":"2019/06/11/shi-si-yi-ren-de-kou-fu-zhi-yu-shi-ru-he-bei-man-zu-de/","link":"","permalink":"http://www.wmyskxz.com/2019/06/11/shi-si-yi-ren-de-kou-fu-zhi-yu-shi-ru-he-bei-man-zu-de/","excerpt":"","text":"â€‹â€‹è½¬è‡ªå…¬ä¼—å·â€œè§‚æ–¹ç¿»è¯‘â€ ä»Šå¤©åˆ†äº«ä¸€ä¸ªæˆ‘é€›Quoraçœ‹åˆ°çš„å¸–å­ã€‚æœ‰äººé—®äº†ä¸ªé—®é¢˜ï¼šä¸­å›½æ˜¯æ€ä¹ˆç”Ÿäº§è¿™ä¹ˆå¤šç²®é£Ÿï¼Œè¶³å¤Ÿå…»æ´»åå¤šäº¿äººçš„ï¼Ÿæ˜¯é è¿›å£è¿˜æ˜¯è‡ªç»™è‡ªè¶³ï¼Ÿ å‰‘æ¡¥å¤§å­¦åšå£« Janus Dongye çš„å›ç­”ï¼ˆå’Œä»–ä»¥å‰è®¸å¤šå›ç­”ä¸€æ ·ï¼‰è®©äººæ‹æ¡ˆå«ç»ã€‚ ä»¥ä¸‹ä¸ºæ­£æ–‡ï¼š çœ¼è§æ–¹ä¸ºå®ã€‚æ‰“å¼€ä½ çš„è°·æ­Œåœ°çƒï¼Œä»å¤©ä¸Šçœ‹çœ‹ä¸­å›½å¤§åœ°ä¸Šåˆ°åº•åœ¨å‘ç”Ÿä»€ä¹ˆã€‚è¥¿æ–¹åª’ä½“ä¸€èˆ¬ä¸ä¼šæŠ¥é“è¿™äº›ä¸œè¥¿ã€‚ å“ªäº›åœ°æ–¹å€¼å¾—ç•™æ„ï¼Œæˆ‘ä¼šä¸€ä¸€æŒ‡ç»™ä½ çœ‹ã€‚ åŒ…æ‹¬ä»¥ä¸‹è¿™äº›åæ ‡ç‚¹ï¼š åœ°ç‚¹ä¸€ï¼šç¦å»ºå®å¾·æ¸¯ï¼ˆä¸œç»119Â°57â€™45.2â€ï¼ŒåŒ—çº¬26Â°43â€™02.8â€ï¼‰ æˆ‘ä»¬çš„ç¬¬ä¸€ç«™æ˜¯ç¦å»ºçœçš„æ²¿æµ·åœ°åŒºã€‚ æŠŠåœ°å›¾æ”¾å¤§ä¸€ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°æµ·é¢ä¸Šæ¼‚ç€ä¸Šç™¾ä¸‡ä¸ªæˆ¿å­å’Œç½‘ç®± ä»æµ™æ±Ÿåˆ°å¹¿ä¸œï¼Œè¿™æ®µ1000å¤šè‹±é‡Œçš„æµ·å²¸çº¿ä¸Šï¼Œä½ å‡ ä¹åˆ°å¤„éƒ½å¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„ç½‘ç®±ã€‚ é‚£æ˜¯ä»€ä¹ˆï¼Ÿé‚£æ˜¯ä¸­å›½çš„â€œæµ·é²œå†œåœºâ€ã€‚ ä¸å…¶å‡ºæµ·æ•é‡ç”Ÿæµ·é²œï¼Œä¸å¦‚åœ¨åŒä¸€ä¸ªåœ°æ–¹å…»æµ·é²œã€‚è¿™æ ·ä¸€æ¥èŠ±è¾ƒå°‘çš„ç²¾åŠ›å°±èƒ½å…»å‡ºé±¼ã€è™¾ã€èŸ¹ã€é¾™è™¾ã€è´ç±»ç­‰ï¼ŒæŒ£çš„é’±è¿˜å¤šã€‚ ä¸­å›½å†œæ°‘ä¸åªæµ·æ°´å…»æ®–ï¼Œä»»ä½•å¼€é˜”çš„æ°´åŸŸï¼Œæ°´åº“ã€æ²³æµã€æ¹–æ³Šéƒ½èƒ½å…»æ°´äº§å“ã€‚ æƒ³è±¡ä¸€ä¸‹ï¼Œæ¯ä¸ªç½‘ç®±å…»å‡ åæ¡é±¼æˆ–èƒèŸ¹ï¼ŒåŠ åœ¨ä¸€èµ·æ˜¯å¤šå¤§çš„è§„æ¨¡ã€‚ é‚£ä¸­å›½çš„æµ·é²œæ¶ˆè´¹é‡æ˜¯å¤šå°‘å‘¢ï¼Ÿ æ®ä¼°è®¡æ¯å¹´å…¨çƒæµ·é²œæ¶ˆè´¹æ€»é‡1.44äº¿å¨ï¼Œä¸­å›½æ˜¯æœ€å¤§çš„æµ·é²œæ¶ˆè´¹å›½ï¼Œä»¥6500ä¸‡å¨å å…¨çƒæ€»é‡çš„45%ï¼Œæ¥ä¸‹å»æ˜¯æ¬§ç›Ÿï¼ˆ1300ä¸‡å¨ï¼‰ã€æ—¥æœ¬ï¼ˆ740ä¸‡å¨ï¼‰ã€ç¾å›½ï¼ˆ710ä¸‡å¨ï¼‰å’Œå°åº¦ï¼ˆ480ä¸‡å¨ï¼‰ã€‚ ä¸­å›½å’Œå°åº¦äººå£å·®ä¸å¤šï¼Œä½†ä¸­å›½çš„æµ·é²œæ¶ˆè´¹é‡æ˜¯å°åº¦çš„12å€â€”â€”å°½ç®¡å°åº¦çš„åœ°ç†æ¡ä»¶æ›´ç†æƒ³ï¼Œä½äºæ¸”ä¸šèµ„æºä¸°å¯Œçƒ­å¸¦ï¼Œä¸¤é¢å›´ç»•ç€æ¸©æš–çš„æµ·æ´‹ã€‚ åœ¨ä¸­å›½æ¯å¹´æ¶ˆè´¹çš„6500ä¸‡å¨æµ·é²œé‡Œï¼Œåªæœ‰1500ä¸‡å¨æ˜¯æ•æçš„ï¼Œå…¶ä½™5000ä¸‡å¨éƒ½æ¥è‡ªæ°´äº§å…»æ®–å†œåœºã€‚è€Œæ—¥æœ¬90%çš„æµ·é²œéƒ½æ¥è‡ªæ•æã€‚å¤šäºäº†æµ·é²œå…»æ®–ï¼Œæ™®é€šä¸­å›½ç™¾å§“å¯ä»¥ä¹°åˆ°ä¾¿å®œçš„æµ·é²œï¼Œæ—¥å¸¸ä¸‰é¤å¯ä»¥åƒå¾—èµ·æµ·é²œã€‚ä¸‹é¢æ˜¯å…¸å‹ä¸­å›½å®¶åº­çš„å›¢åœ†é¥­ï¼Œä½ å¯ä»¥çœ‹åˆ°å¾ˆå¤šé£Ÿæéƒ½æ˜¯æµ·é²œã€‚ è¿™æ ·ä¸€æ¡Œä¾›å…¨å®¶äººäº«ç”¨çš„æµ·é²œå¤§é¤ï¼Œä»·æ ¼ä»…åœ¨120ç¾å…ƒå·¦å³ã€‚ åœ°ç‚¹äºŒï¼šæµ™æ±Ÿæ¹–å·å—æµ”ï¼ˆä¸œç»120Â°09â€™02.9â€ï¼ŒåŒ—çº¬30Â°46â€™14.5â€ï¼‰ ä¸‹ä¸€ç«™æ˜¯é•¿æ±Ÿã€å¤ªæ¹–å’Œé’±å¡˜æ±Ÿä¸€å¸¦çš„æ´ªæ³›å¹³åŸã€‚ä¸°å¯Œçš„æ·¡æ°´èµ„æºå¸¦æ¥äº†æ²³æµä¸Šæ¸¸å¤§é‡çš„å…»åˆ†ï¼Œä½¿è¿™ä¸ªåœ°åŒºæˆä¸ºå…»è‚²1äº¿äººå£çš„é±¼ç±³ä¹‹ä¹¡ã€‚è¿™ä¹Ÿæ˜¯ä¸­å›½äººå£å¯†åº¦æœ€é«˜çš„åœ°åŒºä¹‹ä¸€ã€‚å®ƒæ¯”è¾ƒç±»ä¼¼å­ŸåŠ æ‹‰å›½ã€å°åº¦è¥¿å­ŸåŠ æ‹‰é‚¦å’Œè¶Šå—è¥¿è´¡çš„æ´ªæ³›å¹³åŸã€‚ ä¸å¦å¤–é‚£äº›äººå£ç¨ å¯†çš„æ´ªæ³›å¹³åŸç›¸æ¯”ï¼Œä¸­å›½äººåšäº†ä»€ä¹ˆä¸å¯»å¸¸çš„äº‹å‘¢ï¼Ÿ ä¸ç§æ¤æ°´ç¨»ç›¸æ¯”ï¼Œå…»æ®–æ°´äº§å“å¯ä»¥å–å‡ºæ›´é«˜çš„ä»·æ ¼ï¼Œè‡´å¯Œæ›´å¿«ã€‚æ‹‰è¿‘ä¸€ç‚¹ï¼Œä½ ä¼šçœ‹åˆ°è¿™é‡Œæœ‰ä¸Šç™¾ä¸‡ä¸ªé±¼å¡˜ã€‚é™¤äº†é±¼å¡˜ï¼Œä½ è¿˜å¯ä»¥çœ‹åˆ°å‘¨å›´ç§äº†å¾ˆå¤šæ ‘ã€‚ è¿™äº›æ ‘æ˜¯æ¡‘æ ‘ï¼Œæ˜¯ç”¨æ¥å…»èš•çš„ã€‚ä¸¤åƒå¹´æ¥ï¼Œè¿™ç‰‡åœ°åŒºçš„ä¸­å›½äººå‘å±•å‡ºè®¸å¤šé«˜åº¦å¤æ‚ä¸”å¯æŒç»­çš„å†œä¸šç”Ÿæ€ç³»ç»Ÿã€‚å…¶ä¸­æœ€è‘—åçš„å½“å±æ¡‘åŸºé±¼å¡˜ï¼Œè§ä¸‹å›¾ï¼š åœ¨å®Œå…¨ä¸çŸ¥é“â€œå¯æŒç»­å‘å±•â€è¿™ä¸ªæ¦‚å¿µçš„æƒ…å†µä¸‹ï¼Œä¸­å›½å†œæ°‘åˆ©ç”¨è¿™ä¸ªé±¼-æ¡‘-èš•ç»„æˆçš„ç”Ÿæ€ç³»ç»Ÿå·²ç»æœ‰å‡ åƒå¹´å†å²ã€‚å¦‚ä»Šï¼Œè¿™ä¸ªç³»ç»Ÿå‘å±•æˆå¯¹åŒä¸€ç‰‡åœŸåœ°çš„å¤šæ¬¡å¾ªç¯åˆ©ç”¨ï¼š ä½†è¦åœ¨é±¼å¡˜é‡Œå…»æ›´å¤šé±¼ï¼Œä½ å¾—æœ‰å¢æ°§æ³µæ‰è¡Œã€‚å®ƒèƒ½å‘æ°´é‡Œæ³¨å…¥ç©ºæ°”ï¼Œä½¿é±¼æœ‰è¶³å¤Ÿçš„æ°§æ°”ç»´æŒå‘¼å¸ã€‚ä¸‹å›¾ä¸­ï¼Œæ¯ä¸ªé±¼å¡˜ä¸­é—´çš„ç™½ç‚¹å°±æ˜¯ä¸€ä¸ªå¢æ°§æ³µã€‚ è¦åœ¨æ¯ä¸ªé±¼å¡˜é‡Œå®‰è£…å¢æ°§æ³µï¼Œå°±å¿…é¡»å¤„å¤„é€šç”µã€‚æ€ä¹ˆå‘å¢æ°§æ³µä¾›ç”µå‘¢ï¼Ÿå½“ç„¶æ˜¯å¤ªé˜³èƒ½ç”µæ± æ¿ã€‚ åœ¨åœ°æ–¹æ”¿åºœçš„æ¨åŠ¨å’Œä¸“å®¶çš„å¸®åŠ©ä¸‹ï¼Œå†œæ°‘å’Œæ¸”æ°‘å¼€å§‹å­¦ä¹ æœ€å…ˆè¿›çš„å¤ªé˜³èƒ½æŠ€æœ¯å’Œå¯æŒç»­å‘å±•æŠ€æœ¯ã€‚ ä¸­å›½åœ°æ–¹æ”¿åºœä¸ºä»€ä¹ˆå¯¹æ¨å¹¿é«˜ç§‘æŠ€è¿™ä¹ˆä¸Šå¿ƒï¼Ÿå› ä¸ºå®˜å‘˜æ™‹å‡å’Œæ”¿ç»©æŒ‚é’©ã€‚å…‰ä¼é±¼å¡˜å®Œå…¨ç¬¦åˆå¯æŒç»­å‘å±•çš„ç†å¿µï¼Œæ‰€ä»¥æœ‰åˆ©äºåœ°æ–¹å®˜å‘˜æ™‹å‡ã€‚ ä»è¿™ä¸€ç‚¹ä½ å°±å¯ä»¥ç†è§£ä¸­å›½ä¸ºä½•èƒ½ç”Ÿäº§å…¨çƒ84%çš„ä¸ç»¸ã€66%çš„æ·¡æ°´é±¼ï¼Œå¤ªé˜³èƒ½å‘ç”µé‡å å…¨çƒæ€»é‡25.8%ã€‚åœ¨æµ™æ±Ÿå’Œæ±Ÿè‹çš„å†œæ‘åœ°åŒºï¼Œäººä»¬å‡ ä¹æ¯å¤©éƒ½åƒé±¼ã€‚æœ‰äººè¯´è¿™æ˜¯ä»–ä»¬è„‘å­èªæ˜çš„ç§˜è¯€ã€‚ å¦ä¸€ç§ç”Ÿæ€å¾ªç¯æ˜¯è²è—•å’Œå…»é±¼ã€‚ åœ¨æŸäº›é±¼å¡˜é‡Œï¼Œä½ å¯ä»¥åŒæ—¶ç§èœï¼Œå…¶ä¸­æœ€å¸¸è§çš„æ˜¯ç§è²è—•ã€‚ä¸­å›½æ¯å¹´è²è—•äº§é‡è¾¾1100ä¸‡å¨ï¼Œå å…¨çƒæ€»äº§é‡90%ï¼Œå‡ºå£é‡å å…¨çƒ60%ã€‚ä¸å…‰ä¸­å›½äººçˆ±åƒè—•ï¼ŒéŸ©å›½ã€æ—¥æœ¬ã€è¶Šå—ä¹Ÿæ˜¯è¿›å£è²è—•çš„å¤§æˆ·ã€‚ è—•æ˜¯æˆ‘æœ€å–œæ¬¢çš„ç´ èœä¹‹ä¸€ï¼Œå¸Œæœ›ä¸­å›½èƒ½åŠ å¤§æ¨å¹¿åŠ›åº¦ï¼Œè®©å…¨ä¸–ç•Œäººæ°‘éƒ½åƒä¸Šè¿™ç§ç¾å‘³ã€‚ ç¬¬ä¸‰ç§ç”Ÿæ€å¾ªç¯æ˜¯èŠ¥èœ-èœœèœ‚-é±¼è™¾ã€‚ åŒæ ·çš„æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥ç§æ²¹èœã€‚å†œæ°‘ä»¬å†¬å¤©ä»æ²³åºŠä¸ŠæŠŠå…»åˆ†å«é‡é«˜çš„æ·¤æ³¥æŒ–å‡ºæ¥å †åœ¨å²¸è¾¹ï¼Œç„¶ååœ¨è¿™ç§æ³¥é‡Œç§ä¸åŒçš„ä½œç‰©ï¼Œæ¯”å¦‚æ²¹èœæˆ–èŠ‹å¤´ï¼Œä¸ç”¨æ–½åŒ–è‚¥ã€‚ç»è¿‡ä¸Šåƒå¹´çš„è€•ç§ï¼Œè¿™é‡Œçš„å†œç”°æ˜¯è¿™æ ·çš„ï¼š åœ°ç‚¹ä¸‰ï¼šæ±Ÿè‹çœå…´åŒ–å¸‚å›ç”°é•‡ï¼ˆä¸œç»119Â°51â€™50.4â€ï¼ŒåŒ—çº¬32Â°56â€™51.9â€ï¼‰ è¿™é‡Œæ²¡æœ‰è·¯ï¼Œä½ å¾—åèˆ¹æ‰èƒ½åœ¨é‡Œé¢ç©¿è¡Œã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ç§ç”Ÿæ€ç³»ç»Ÿï¼Œä¸­å›½æ‰æˆä¸ºå…¨ä¸–ç•Œå¤´å·èœç±½æ²¹ç”Ÿäº§å›½ï¼Œäº§é‡å å…¨çƒæ€»é‡çš„22%ã€‚ æœ‰äº†æ²¹èœèŠ±ï¼Œå°±èƒ½å¤§è§„æ¨¡å…»èœ‚ã€‚ä¸­å›½èœ‚èœœäº§é‡å å…¨çƒ30%ã€‚ å®é™…ä¸Šï¼Œç¾å›½æ¶ˆè´¹çš„èœ‚èœœæœ‰1/3ç›´æ¥æˆ–é—´æ¥æ¥è‡ªä¸­å›½ã€‚ä¸ºäº†é¿å…å…³ç¨ï¼Œä¸­å›½èœ‚èœœå‡ºå£å•†å…ˆå‡ºå£åˆ°å°åº¦ã€è²å¾‹å®¾å’Œé©¬æ¥è¥¿äºšï¼Œå†åœ¨å½“åœ°é‡æ–°è´´æ ‡æ”¹æˆå½“åœ°äº§å“ï¼Œç„¶åå†å‡ºå£åˆ°ç¾å›½ã€‚å…¶ä»–äº§ä¸šä¹Ÿæœ‰ç±»ä¼¼çš„æ“ä½œã€‚ é™¤äº†èœ‚èœœï¼Œè¿™é‡Œè¿˜æ˜¯ä¸­å›½è‘—åçš„å¤§é—¸èŸ¹äº§åŒºã€‚å¤§é—¸èŸ¹çš„ä»·æ ¼å¯ä»¥å–åˆ°æ¯å…¬æ–¤60ç¾å…ƒå·¦å³ï¼Œåªæœ‰ä¸­ç­‰æ”¶å…¥äººç¾¤æ‰åƒå¾—èµ·ã€‚ åœ°ç‚¹å››ï¼šå±±ä¸œçœå¯¿å…‰å¸‚ï¼ˆä¸œç»118Â°44â€™14.7â€ï¼ŒåŒ—çº¬36Â°44â€™15.9â€ï¼‰ æ¥ä¸‹æ¥è¦å»çš„æ˜¯å±±ä¸œå¹³åŸã€‚ æ”¾å¤§ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±èƒ½åœ¨å¹³åŸä¸Šæ‰¾åˆ°ä¸Šç™¾ä¸‡ä¸ªâ€œé—ªå…‰â€çš„å°å±‹ã€‚çœ‹çœ‹å‘¨å›´ï¼Œå®ƒä»¬æ— å¤„ä¸åœ¨ã€‚ è¿™æ˜¯ä»€ä¹ˆï¼ŸåŸæ¥æ˜¯æ§åˆ¶æ¸©åº¦æ¹¿åº¦çš„è”¬èœæ°´æœå¤§æ£šã€‚ å¤§æ£šé‡Œï¼Œä¸ç®¡ä»€ä¹ˆå­£èŠ‚éƒ½èƒ½åšåˆ°è”¬èœæ°´æœä¸€å¹´å¤šç†Ÿã€‚è¿™æ„å‘³ç€è”¬èœæ°´æœäº§é‡æ¯”ä¼ ç»Ÿå†œç”°é«˜å‡ºå‡ å€ã€‚ æ¯”æ–¹è¯´ï¼Œå¤§æ£šé‡Œç§è´ç¬‹ï¼Œä»æ’­ç§åˆ°æ”¶å‰²éœ€è¦52å¤©ï¼Œè¿™æ ·ä¸€å¹´å¯ä»¥ç§ä¸ƒè½®ï¼Œæ•ˆç‡é«˜äº†ä¸ƒå€ã€‚ æ‰€ä»¥ï¼Œå¤§æ£šç§æ¤åœ¨æœ‰é™ç©ºé—´å†…æå¤§æé«˜äº†å†œä½œç‰©äº§é‡ï¼Œè¿™å¯¹ä¸­å›½äººè€Œè¨€ç®€ç›´å¤ªæ£’äº†ã€‚ä¸ºäº†æ¨å¹¿è¿™ç§æ–¹æ³•ï¼ŒååŒ—åœ°åŒºåœ°æ–¹æ”¿åºœè¦æ±‚å†œæ°‘ä»å†œæ‘åˆä½œé“¶è¡Œè´·æ¬¾æ­å»ºå¤§æ£šã€‚ æ­¤å¤–ï¼Œè¿˜è¦æ±‚å†œæ°‘åœ¨å¤§æ£šå†…å®‰è£…ç‰©è”ç½‘ç›‘æ§ç³»ç»Ÿã€‚é€šè¿‡å†æ•™è‚²åŸ¹è®­ï¼Œå†œæ°‘ä»¬å­¦ä¼šäº†ç”¨æ‰‹æœºç›‘æ§æ¸©å®¤å†…éƒ¨ç¯å¢ƒå‚æ•°ï¼Œæ¯”å¦‚äºŒæ°§åŒ–ç¢³æµ“åº¦ã€å…‰çº¿å¼ºåº¦ã€åœŸå£¤æ¸©åº¦ç­‰ç­‰ã€‚ è”åˆå›½ç²®å†œç»„ç»‡çš„æ•°æ®æ˜¾ç¤ºï¼Œä¸­å›½è”¬æœäº§é‡å’Œæ¶ˆè´¹é‡åœ¨7äº¿å¨å·¦å³ï¼Œæ˜¯ä¸–ç•Œæ€»é‡çš„40%ã€‚å°åº¦å¤§éƒ¨åˆ†å›½æ°‘æ˜¯ç´ é£Ÿè€…ï¼Œå¯è€•åœ°é¢ç§¯å¤§äºä¸­å›½ï¼Œä½†å…¨å›½è”¬æœäº§é‡æ˜¯1.8äº¿å¨ï¼Œä¸­å›½æ˜¯å®ƒçš„3.8å€ã€‚ç§˜è¯€å°±æ˜¯å¤§æ£šç§æ¤ã€‚ æœ‰äº†å¤§æ£šè”¬èœï¼Œä¸­å›½äººäº«ç”¨çš„è”¬èœå“ç§æ¯”ä¸–ç•Œä»»ä½•åœ°æ–¹çš„äººéƒ½è¦å¤šï¼Œä»·æ ¼è¿˜æ›´ä¾¿å®œã€‚æŸ¥è¯¢ç»´åŸºç™¾ç§‘å°±ä¼šå‘ç°ï¼Œé™¤äº†çƒ­å¸¦ç‰¹äº§ä»¥å¤–ï¼Œä¸­å›½æ¯ä¸€ç§è”¬èœäº§é‡å‡ ä¹éƒ½æ˜¯ä¸–ç•Œç¬¬ä¸€ï¼Œè€Œä¸”è·Ÿç¬¬äºŒåæ‹‰å¼€çš„å·®è·è¿˜ä¸å°ã€‚è®¸å¤šä¸œäºšç‰¹æœ‰çš„è”¬èœç”šè‡³éƒ½æ²¡æœ‰ä¸Šæ¦œï¼Œæ¯”å¦‚éŸ­èœã€‚ ä¸è”¬èœç±»ä¼¼ï¼Œä¸­å›½é™¤çƒ­å¸¦æ°´æœå¤–çš„å„ç§æ°´æœäº§é‡å‡ ä¹éƒ½æ˜¯ä¸–ç•Œç¬¬ä¸€ï¼Œè¿œè¶…ç¬¬äºŒåã€‚ æœ‰ä¸€æ¬¡æˆ‘é‚€è¯·ä¸€ä¸ªé»‘äººæœ‹å‹æ¥æˆ‘å®¶å¤å¤œçƒ§çƒ¤ï¼Œæ‹¿äº†å¾ˆå¤šè¥¿ç“œæ‹›å¾…ä»–ï¼Œè¢«å¼€ç©ç¬‘è¯´æˆ‘ç§æ—æ­§è§†ï¼Œæˆ‘ç»™ä»–çœ‹äº†è¿™å¼ ç»Ÿè®¡è¡¨ï¼š åœ¨æ—¥æœ¬ï¼Œä¸€åªè¥¿ç“œå¤§çº¦å–2000æ—¥å…ƒï¼ˆ18ç¾å…ƒï¼‰ï¼Œåœ¨ä¸­å›½ï¼Œä¹°ä¸€åªæ›´å¤§çš„ç“œåªè¦10å—äººæ°‘å¸ï¼ˆ1.5ç¾å…ƒï¼‰ã€‚ä¸­å›½æ–°ç–†çš„è¥¿ç“œç‰¹åˆ«ç”œï¼Œå¦‚æœä½ å–œæ¬¢åƒè¥¿ç“œæˆ–ä»»ä½•ä¸€ç§ç“œæœï¼Œéƒ½åº”è¯¥å»ä¸€è¶Ÿå“ˆå¯†ã€‚ åœ°ç‚¹äº”ï¼šè¥¿è—æ‹‰è¨ï¼ˆä¸œç»91Â°09â€™18.6â€ï¼ŒåŒ—çº¬29Â°41â€™52.3â€ï¼‰ ä¸‹é¢è¿˜æ˜¯å¤§æ£šï¼Œä½†æ˜¯æ˜¯è¥¿è—çš„å¤§æ£šã€‚æŠŠè°·æ­Œåœ°çƒç§»åˆ°è¥¿è—ä»»ä½•åŸé•‡ï¼Œéƒ½èƒ½çœ‹åˆ°å¤§æ£šã€‚ æ”¿åºœè®©è—æ°‘åœ¨é’è—é«˜åŸä¸Šå»ºäº†å¾ˆå¤šå¤§æ£šï¼Œè—æ°‘ä»¬åœ¨å¤§æ£šé‡Œç§ç•ªèŒ„ç§å¾—ä¸äº¦ä¹ä¹ï¼Œå»å¯ºåº™çš„æ—¶é—´å°‘äº†ï¼Œè®©æŸä¸ªå¤§å’Œå°šè§‰å¾—ä¸é«˜å…´äº†ã€‚ ç»“æœå‘¢ï¼Ÿè¿‡å»åå¹´è¥¿è—è”¬èœä»·æ ¼ä¸‹é™90%ï¼Œä¸ç”¨å†ä»é‚»çœè¿äº†ã€‚å¤šæ•°è¥¿è—äººç»ˆäºåƒå¾—èµ·è¥¿ç“œäº†ã€‚è°ä¸å–œæ¬¢åƒç“œå‘¢ï¼Ÿ å†å²ä¸Šå¤šæ•°è—äººåªåƒç‰¦ç‰›è‚‰ã€å¥¶ã€ä¹³åˆ¶å“å’Œé¢é£Ÿã€‚åœ¨é‚£æ ·çš„æ¶åŠ£æ°”å€™æ¡ä»¶ä¸‹ä»€ä¹ˆéƒ½ç§ä¸å‡ºæ¥ã€‚åªæœ‰å–‡å˜›æ‰åƒå¾—èµ·è”¬èœã€‚ç°åœ¨ä¸­å›½æ”¿åºœè®©å¤§å®¶éƒ½åƒå¾—ä¸Šè”¬èœæ°´æœäº†ã€‚ åœ°ç‚¹å…­ï¼šæ–°ç–†ä¼ŠçŠå¯å…‹è¾¾æ‹‰ï¼ˆä¸œç»80Â°35â€™21.5â€ï¼ŒåŒ—çº¬43Â°43â€™51.2â€ï¼‰ å¯å…‹è¾¾æ‹‰æ˜¯åŒ—ç–†çš„ä¸€ä¸ªå¿çº§å¸‚ï¼Œè¥¿è¾¹æ˜¯å“ˆè¨å…‹æ–¯å¦çš„é˜¿æ‹‰æœ¨å›¾åœ°åŒºã€‚ä¸‹å›¾é»„çº¿æ ‡å‡ºçš„æ˜¯ä¸­å“ˆè¾¹å¢ƒçº¿ã€‚ æ˜æ˜¾çœ‹å‡ºï¼Œä¸­å›½ä¸€ä¾§çš„ç»¿è‰²å†œç”°æ›´å¤šï¼Œå“ˆè¨å…‹æ–¯å¦ä¸€ä¾§åŸºæœ¬å°±æ˜¯è’åŸã€‚ å…¶å®è¿™é‡Œçš„åœŸåœ°å¾ˆè´«ç˜ ï¼ŒåœŸå£¤é…¸æ€§å¤ªé«˜ï¼Œæ°´èµ„æºå¤ªå°‘ï¼Œç§ä¸äº†ä»€ä¹ˆå†œä½œç‰©ã€‚åªèƒ½æŒ‡æœ›é›ªå±±ä¸Šå†°å·èåŒ–æ—¶æµä¸‹æ¥çš„æ°´ã€‚å¯¹å“ˆè¨å…‹æ–¯å¦äººæ¥è¯´ï¼Œè¿™æ ·çš„ç§æ¤ä¸šæˆæœ¬å¤ªé«˜ï¼Œè€Œä¸”æœ¬èº«å¸‚åœºä¹Ÿä¸å¤§ã€‚æ‰€ä»¥å“ˆè¨å…‹æ–¯å¦äººå†³å®šå¹²è„†å•¥ä¹Ÿä¸ç§ã€‚ ä¸­å›½è¿™ä¸€ä¾§å‘¢ï¼Œæ‰€æœ‰è’åœ°éƒ½è¢«ä¸€æ”¯ç‰¹åˆ«çš„æ”¿åºœç»„ç»‡â€”â€”æ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢ç»™è€•ç§äº†ã€‚ç°åœ¨æ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢æˆäº†ä¸€ä¸ªç®¡è¾–260ä¸‡å‘˜å·¥å’Œå†œæ°‘çš„å›½ä¼ï¼Œé‡Œé¢æœ‰æ±‰æ—äººä¹Ÿæœ‰ç»´å¾å°”æ—äººã€‚å› ä¸ºæœ‰äº†å¦‚æ­¤åºå¤§çš„è§„æ¨¡ï¼Œè¾¹é™…è¿è¥æˆæœ¬ä¸‹é™ï¼Œè€Œä¸”è·Ÿå†…åœ°å¹¿å¤§å¸‚åœºç›´æ¥å¯¹æ¥ã€‚ è¿‡å»30å¹´æ¥ï¼Œæ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢æ¯å¹´éƒ½æ´¾å†œä¸šå­¦ç”Ÿå»ä»¥è‰²åˆ—å­¦ä¹ æ²™æ¼ æ°”å€™æ¡ä»¶ä¸‹æœ€å…ˆè¿›çš„å†œä¸šæŠ€æœ¯ã€‚è¿™äº›å­¦ç”Ÿå›åˆ°ä¸­å›½åæŠŠæ»´çŒæ³•ç­‰å…ˆè¿›æŠ€æœ¯ä»˜è¯¸å®è·µã€‚å½“æŠ€æœ¯æ¡ä»¶æˆç†Ÿå¯ä»¥å¸‚åœºåº”ç”¨æ—¶ï¼Œä»–ä»¬æŠŠæ–°å¼€å¦çš„åœŸåœ°å–ç»™å½“åœ°å„æ—å†œæ°‘ï¼Œæˆ–ç›´æ¥è¯·ä»–ä»¬åŠ å…¥åˆä½œç¤¾ã€‚ å½“åœ°çš„ç»´å¾å°”æ—å’Œå“ˆè¨å…‹æ—äººä¸ºäº†èŠ‚çº¦æ°´èµ„æºå’Œé™ä½å†œä¸šæˆæœ¬ï¼Œæ¥å—åŸ¹è®­å­¦ä¹ æ±‰è¯­å’Œæœ€æ–°çš„å†œä¸šæŠ€æœ¯ã€‚æ¯ä¸ªæ‘éƒ½æœ‰å…šå‘˜æŒ‡å¯¼ä»–ä»¬å¦‚ä½•ç§‘å­¦è€•ä½œã€‚ æ»´çŒæ³•å¯ä»¥å¤§å¤§å‡å°‘ç”¨æ°´é‡ï¼Œä»è€ŒèŠ‚çº¦æˆæœ¬ã€‚åœ¨ä»¥è‰²åˆ—å’Œä¸­å›½æœ¬åœŸæŠ€æœ¯çš„å¸®åŠ©ä¸‹ï¼Œæ–°ç–†çš„è’åœ°æˆäº†é«˜äº§çš„æ²ƒåœŸã€‚ é‚£ä»–ä»¬åœ¨è¿™äº›æ–°å¼€è¾Ÿçš„åœŸåœ°ä¸Šç§ä»€ä¹ˆå‘¢ï¼Ÿ ç•ªèŒ„ã€è¾£æ¤’ã€ç“œæœã€è‘¡è„å’Œæ£‰èŠ±ã€‚è¿™äº›ä½œç‰©éƒ½æ¯”éº¦å­åˆ©æ¶¦é«˜ã€‚ æ–°ç–†æœ‰å……æ²›çš„æ—¥ç…§å’Œå‡‰çˆ½çš„å¤œæ™šï¼Œè¿™ä½¿ä½œç‰©æ›´åŠ ç”˜ç”œå¯å£ï¼Œä¹°åˆ°å†…åœ°å’Œå›½å¤–å¸‚åœºä¸Šçš„ä»·æ ¼ä¹Ÿå°±æ›´é«˜ã€‚ä¸­å›½æ¶ˆè´¹è€…å–œæ¬¢ä¹°æ–°ç–†æ°´æœï¼Œå› ä¸ºå®ƒå°±æ˜¯æ›´å¥½åƒã€‚ æ–°ç–†çš„å†œä¸šç”Ÿäº§æ•ˆç‡éå¸¸é«˜ï¼Œé«˜åˆ°äº§é‡å›½å†…å¸‚åœºå·²ç»æ¶ˆåŒ–ä¸äº†äº†ã€‚ä¸ºäº†ä¸è®©ç»´å¾å°”å†œæ°‘åƒä»·æ ¼ä¸‹è·Œçš„äºï¼Œæ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢ä¸ä¾èµ–â€œè‡ªç”±å¸‚åœºâ€ï¼Œè€Œæ˜¯ç§¯æå¼€æ‹“æµ·å¤–å¸‚åœºæ¸ é“ï¼ŒæŠŠå†œäº§å“é«˜ä»·å–åˆ°å›½å¤–å»ã€‚ å¦‚æœå›½å†…å¸‚åœºä¸éœ€è¦è¿™äº›å†œäº§å“å‘¢ï¼Ÿ ä¸­å›½å‘ç¾å›½å­¦ä¹ ï¼Œå‘å›½é™…å•†è´¸ä¼™ä¼´æè¦æ±‚ï¼Œè®©å®ƒä»¬ä¹°ã€‚è¿™å°±æ˜¯æ‰€è°“çš„å›½å®¶èµ„æœ¬ä¸»ä¹‰ã€‚ä¸­å›½é¢†å¯¼äººå»å“ªä¸ªå›½å®¶ï¼Œéƒ½äº‰å–ç­¾è‡ªè´¸åè®®ï¼Œè®©å®ƒä»¬ä¹°ä¸­å›½äº§å“ã€‚ ä¸ä¿¡å—ï¼Ÿæ¥ä¸‹æ¥ä¾¿æ˜¯è¯æ®ã€‚ åœ°ç‚¹ä¸ƒï¼šæ–°ç–†å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·å’Œé™å¿ï¼ˆä¸œç»86Â°36â€™15.4â€ï¼ŒåŒ—çº¬42Â°18â€™36.1â€ï¼‰ æ²™æ¼ é‡Œè¿™äº›çº¢è‰²çš„åœ°å—æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ”¾å¤§ä¸€ç‚¹ï¼Œä½ ä¼šçœ‹åˆ°è¿™äº›æ˜¯ç•ªèŒ„ç”°ï¼Œç§ç€æ— æ•°ç•ªèŒ„ã€‚è¿™ä¹ˆå¤§çš„è§„æ¨¡ï¼Œæƒ³è±¡ä¸€ä¸‹äº§é‡æœ‰å¤šé«˜ã€‚ ä½ åƒæ„å¤§åˆ©é¢ã€åœŸè€³å…¶çƒ¤è‚‰æˆ–è–¯æ¡çš„æ—¶å€™ï¼Œå¯èƒ½å°±åœ¨åƒæ–°ç–†ç•ªèŒ„ã€‚å½“ç„¶ï¼Œå¯èƒ½ä¸æ˜¯ä»æ–°ç–†ç›´æ¥è¿›å£çš„ï¼Œè€Œæ˜¯è·Ÿèœ‚èœœä¸€æ ·ï¼Œç»ç”±ç¬¬ä¸‰å›½è½¬é”€çš„ã€‚ ä¸­å›½æ¯å¹´ç•ªèŒ„äº§é‡è¾¾5630ä¸‡å¨ï¼Œå‡ºå£é‡å å…¨çƒ1/3ã€‚å…¶ä¸­1400ä¸‡å¨æ¥è‡ªæ–°ç–†ã€‚ä»å…¨çƒæœ€å¤§çš„ç•ªèŒ„é…±ç”Ÿäº§å•†å°±èƒ½çœ‹å‡ºæ¥ï¼šä¸­ç²®é›†å›¢ï¼ˆç¬¬2ï¼‰ã€æ–°ç–†ä¸­åŸºå®ä¸šï¼ˆç¬¬3ï¼‰ã€å†…è’™å¯Œæºå†œäº§å“ï¼ˆç¬¬6ï¼‰ã€äº¨æ°ï¼ˆç¬¬7ï¼‰ã€æ–°ç–†å¤©ä¸šï¼ˆç¬¬15ï¼‰ã€‚ è¿™äº›å…¬å¸åŸºæœ¬éƒ½æ˜¯æ–°ç–†ç”Ÿäº§å»ºè®¾å…µå›¢å’Œä¸­å›½æ”¿åºœçš„åˆ†é”€å•†ï¼Œè¿™éƒ¨åˆ†åˆ©æ¶¦å¤šæ•°è¿”è¿˜ç»™äº†æ–°ç–†å†œæ°‘ã€‚æœ€è¿‘ä¸­å›½æ”¿åºœè¿˜è¯•å›¾é€šè¿‡ä¸€å¸¦ä¸€è·¯æŠŠæ–°ç–†ç•ªèŒ„å–åˆ°ä¸œæ¬§å»ã€‚2019å¹´3æœˆä¹ è¿‘å¹³ä¸»å¸­è®¿é—®æ„å¤§åˆ©ï¼Œè¯´ä¸å®šä»Šåæ„å¤§åˆ©ä¹Ÿä¼šå¯¹æ–°ç–†ç•ªèŒ„æ„Ÿå…´è¶£ã€‚è¿™äº›äº‹è¥¿æ–¹åª’ä½“æ˜¯ä¸ä¼šæŠ¥é“çš„ã€‚ é™¤äº†ç•ªèŒ„å’Œè¾£æ¤’ï¼Œä¸­å›½è¿˜æ˜¯ä¸–ç•Œæœ€å¤§çš„è‘¡è„äº§å›½ï¼Œäº§é‡å å…¨çƒ19.1%ï¼Œæœ€å¥½çš„è‘¡è„æ¥è‡ªæ–°ç–†åé²ç•ªã€‚å½“ç„¶ï¼Œé…¿é€ è‘¡è„é…’çš„æŠ€æœ¯ç¡®å®ä¸æ€ä¹ˆæ ·ã€‚ æœ€åï¼ŒèŠèŠæ°´ç¨»ã€å°éº¦å’Œç‰ç±³ç­‰ä¸»è¦ä½œç‰©å§ã€‚è¿™æ˜¯æœ€é‡è¦çš„ç²®é£Ÿï¼Œå› ä¸ºä¸åªäººè¦åƒï¼Œè¿˜æ˜¯çŒªã€é¸¡ã€ç‰›ç­‰äº§è‚‰äº§å¥¶çš„ç¦½ç±»ç•œç±»çš„é¥²æ–™ã€‚ æˆ‘ä»¬æ¥æ¯”è¾ƒä¸€ä¸‹å…¨çƒæœ€å¤§çš„ç²®é£Ÿäº§åŒºå§ï¼š å¯è€•åœ°ï¼ˆåƒå¹³æ–¹å…¬é‡Œï¼‰ï¼šä¸­å›½1086ã€å°åº¦1579ã€æ¬§ç›Ÿ1091ã€ç¾å›½1631 å¤§ç±³ï¼ˆç™¾ä¸‡å¨ï¼‰ï¼šä¸­å›½208.1ã€å°åº¦169.5ã€æ¬§ç›Ÿ3.1ã€ç¾å›½9.2 å°éº¦ï¼ˆç™¾ä¸‡å¨ï¼‰ï¼šä¸­å›½134.3ã€å°åº¦98.5ã€æ¬§ç›Ÿ150.2ã€ç¾å›½47.3 ç‰ç±³ï¼ˆç™¾ä¸‡å¨ï¼‰ï¼šä¸­å›½257.3ã€å°åº¦26.0ã€æ¬§ç›Ÿ60.9ã€ç¾å›½366.2 å¯ä»¥çœ‹å‡ºï¼Œä¸­å›½æ€»ä½“ä¸Šæ˜¯æœ€å¤§çš„ç²®é£Ÿç”Ÿäº§å›½ã€‚ä½†å¯¹14äº¿äººå£è€Œè¨€ï¼Œè¿™ä¸ªé‡è¶³å¤Ÿè®©äººâ€œåƒå¾—é¥±â€ï¼Œä½†ç¦»â€œåƒå¾—å¥½â€ã€äººå‡ç²®é£Ÿæ¶ˆè€—é‡è¾¾åˆ°æ¬§ç¾å‘è¾¾å›½å®¶æ°´å¹³ï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚ ç›®å‰ï¼Œä¸­å›½å¯è€•åœ°é¢ç§¯ä¸è¶³ä»¥æ”¯æŒè®©14äº¿äººéƒ½â€œåƒå¾—å¥½â€ï¼Œè€Œä¸”éšç€å·¥ä¸šåŒ–å’ŒåŸé•‡åŒ–ï¼Œå¯è€•åœ°é¢ç§¯è¿˜åœ¨å‡å°‘ã€‚ åœ°ç‚¹å…«ï¼šæ²³åŒ—çœé‚¢å°å¸‚ï¼ˆä¸œç» 114Â°55â€™20.8â€ï¼ŒåŒ—çº¬ 37Â°35â€™54.1â€ï¼‰ ä¸­å›½å®è´µçš„åœŸåœ°èµ„æºæ˜¯æ€ä¹ˆä½¿ç”¨çš„å‘¢ï¼Ÿä¸‹ä¸€ç«™æˆ‘ä»¬è®¿é—®ååŒ—å¹³åŸã€‚è¿™æ˜¯ä¸­å›½å¤§éƒ¨åˆ†å†œä½œç‰©çš„äº§åœ°ã€‚ï¼ˆä¸‹å›¾ä»ä¸Šåˆ°ä¸‹è·ç¦»1500å…¬é‡Œï¼‰ è¿™ç‰‡å¹³åŸä¸Šéšä¾¿é€‰ä¸ªåœ°æ–¹ï¼Œæ¯”å¦‚å››çº¿åŸå¸‚é‚¢å°ï¼Œè¿™æ˜¯ä¸ªæœ‰700ä¸‡äººçš„â€œå°â€åŸå¸‚ã€‚ï¼ˆä¸‹å›¾ä»ä¸Šåˆ°ä¸‹è·ç¦»60å…¬é‡Œï¼‰ è¿™å¬èµ·æ¥æœ‰ç‚¹å“äººï¼Œä½†å®é™…ä¸Šç»¿è‰²çš„æ˜¯å†œç”°ï¼Œç™½è‰²çš„ç‚¹æ˜¯æ‘åº„ï¼Œæ¯ä¸ªæ‘å¤§çº¦500äººã€‚æ¯”è¾ƒå¤§çš„ç™½è‰²åŒºåŸŸæ˜¯é•‡ï¼Œäººå£ä»1ä¸‡åˆ°10ä¸‡ä¸ç­‰ã€‚ å¯ä»¥çœ‹å‡ºï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„äººæŒ£äº†é’±ï¼Œä»–ä»¬å¼€å§‹åœ¨åŸæ¥çš„å†œç”°ä¸Šç›–æˆ¿å­ï¼Œç»¿è‰²çš„ç”°é‡ä¼šè¶Šæ¥è¶Šå°‘ã€‚æ®ä¼°è®¡ï¼Œä¸­å›½æ¯å¹´å‡å°‘çš„å¯è€•åœ°é¢ç§¯åœ¨3000å¹³æ–¹å…¬é‡Œå·¦å³ã€‚è¿™äº›å†œç”°å˜æˆäº†ç™½è‰²çš„æ··å‡åœŸã€‚é•¿æœŸè¿™æ ·ä¸‹å»å°†é€ æˆç¾éš¾ï¼Œå› æ­¤ä¸­å›½æ”¿åºœåœ¨æåŠ›æ§åˆ¶è§„ç®¡åœŸåœ°ä½¿ç”¨ã€‚ä½†è¿™ç§â€œåŸé•‡åŒ–â€çš„åŠ¿å¤´å·¨å¤§ï¼Œç®¡ç†èµ·æ¥éš¾åº¦ç›¸å½“é«˜ã€‚ åœ°ç‚¹ä¹ï¼šç”˜è‚ƒçœåº†é˜³å¸‚ï¼ˆä¸œç»107Â°40â€™38.3â€ï¼ŒåŒ—çº¬35Â°41â€™00.7â€ï¼‰ ä»å»ºå›½ä¹‹åˆå¼€å§‹ï¼Œå¯è€•åœ°èµ„æºåŒ®ä¹çš„ç°å®ä¸€ç›´å—åˆ°å…šå’Œå›½å®¶çš„é«˜åº¦é‡è§†ã€‚ä»æ¯›æ³½ä¸œæ—¶ä»£èµ·ï¼Œä¸­å…±å°±ç»„ç»‡ç¾¤ä¼—å¼€å¦å±±åœ°ã€‚è¿™æ ·çš„ä¾‹å­å¤ªå¤šï¼Œå°±ä»¥é»„åœŸé«˜åŸä¸ºä¾‹å§ã€‚ 64ä¸‡å¹³æ–¹å…¬é‡Œçš„é»„åœŸé«˜åŸå…¶å®ä¸é€‚åˆç§æ¤å†œä½œç‰©ã€‚ä½†å¦‚æœä½ æ”¾å¤§çœ‹çœ‹ï¼Œå°±ä¼šå‘ç°æ‰€æœ‰å±±è°·ã€å±±å¡éƒ½è¢«å¼€è¾Ÿæˆäº†å¯è€•åœ°ã€‚ä»å¤©ä¸Šå¾€ä¸‹çœ‹ï¼Œç±»ä¼¼æ¤ç‰©æ ¹é¡»çš„åœ°æ–¹ä¾¿æ˜¯å†œç”°ã€‚ å†é è¿‘ä¸€ç‚¹ï¼Œä½ å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„å±±ä¸˜éƒ½è¢«æ”¹é€ æˆäº†æ¢¯ç”°ã€‚ å¯äººä»¬å‘ç°ï¼Œæ¢¯ç”°å¤ªå¤šä¼šå¯¼è‡´åœŸåœ°é€€åŒ–ï¼Œé›¨å­£ä¼šå‘ç”Ÿæ³¥çŸ³æµç­‰ç¾éš¾ã€‚ä»1999å¹´å¼€å§‹ï¼Œä¸­å…±æ„è¯†åˆ°å¼€è¾Ÿå¤ªå¤šå†œç”°ä¸ä¼šæ˜¾è‘—æé«˜äº§é‡ï¼Œå´ä¼šå¼•å‘æ´ªæ°´å’Œæ³¥çŸ³æµç­‰è‡ªç„¶ç¾å®³ï¼Œæ‰€ä»¥å‘èµ·äº†â€œé€€è€•è¿˜æ—â€è¿åŠ¨ã€‚ å†œæ°‘ä»¬æ”¾å¼ƒé‚£äº›äº§é‡ä½çš„å†œç”°ï¼Œæ”¹åœ¨ä¸Šé¢æ¤æ ‘ã€‚æ”¾å¼ƒåœŸåœ°çš„å†œæ°‘ä¼šå¾—åˆ°æ”¿åºœè¡¥è´´ï¼Œç»´æŒä»–ä»¬åŸæ¥çš„æ”¶å…¥ã€‚ ä¸Šå›¾å¯ä»¥çœ‹å‡ºé€ æ—çš„æ•ˆæœã€‚è¿™è¯´æ˜ä¸­å›½æ”¿åºœå¸å–äº†è¿‡å»çš„ç»éªŒæ•™è®­ï¼Œé€æ¸ç†è§£äº†å¯æŒç»­å‘å±•çš„çš„å…³é”®ã€‚ ä¸­å›½é¢†å¯¼äººæ›¾ç»æŒ‡å‡ºï¼Œâ€œä¸­å›½é«˜åº¦é‡è§†ç”Ÿæ€ç¯å¢ƒä¿æŠ¤ï¼Œç§‰æŒç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±çš„ç†å¿µï¼Œå€¡å¯¼äººä¸è‡ªç„¶å’Œè°å…±ç”Ÿï¼ŒåšæŒèµ°ç»¿è‰²å‘å±•å’Œå¯æŒç»­å‘å±•ä¹‹è·¯ã€‚â€ è¿™å¯ä¸æ˜¯ç©ºè¯ï¼Œå¯ä»¥è¯´æ¯ä¸ªå­—éƒ½è½åˆ°äº†å®å¤„ã€‚è®¸å¤šå¤–å›½äººä¸æ¸…æ¥šä¸­å›½äººæ°‘ä¸ºä»€ä¹ˆæ”¯æŒé¢†å¯¼äººã€‚å…¶ä¸­ä¸€ä¸ªåŸå› å°±æ˜¯ä»–é‡ç»„äº†ä¸­å›½æ”¿åºœæœºæ„ï¼Œæ›´å…³æ³¨ç¯å¢ƒäº†ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœæŸä¸ªåœ°æ–¹ç¯å¢ƒå¤ªå·®ï¼Œæ²¡æœ‰èµ°å¯æŒç»­å‘å±•é“è·¯ï¼Œè´Ÿè´£ç¯å¢ƒçš„å®˜å‘˜æ˜¯å¯ä»¥â€œå¼¹åŠ¾â€å¸‚é•¿çš„ã€‚ å°½ç®¡é€€è€•è¿˜æ—å·¥ç¨‹å‡å°‘äº†ä¸­å›½çš„å¯è€•åœ°é¢ç§¯ï¼Œå°½ç®¡å­˜åœ¨åœŸåœ°é€€åŒ–ç°è±¡ï¼Œä½†åœ¨å¤§è§„æ¨¡æŠ•èµ„å†œä¸šæŠ€æœ¯çš„å¸®åŠ©ä¸‹ï¼Œå†œä¸šç”Ÿäº§æ•ˆç‡ä»ç„¶å¾—åˆ°äº†æå‡ï¼Œå›½å†…ç²®é£Ÿäº§é‡ä»ç„¶åœ¨å¢é•¿ã€‚ å…¶ä¸­ä¸€é¡¹æŠ€æœ¯æ˜¯è€ç›ç¢±æ°´ç¨»ï¼Œä½¿å†œæ°‘å¯ä»¥åœ¨ç›ç¢±åœ°é‡Œç§å‡ºæ°´ç¨»æ¥ã€‚ å°½ç®¡å›½å†…å†œä½œç‰©äº§é‡æå‡ï¼Œä½†ä¸­å›½ä»ç„¶æ²¡æœ‰å®ç°å¤§ç±³ã€å°éº¦å’Œç‰ç±³çš„è‡ªç»™è‡ªè¶³ï¼Œå¤§çº¦10%çš„ç²®é£Ÿè¿˜æ˜¯å¾—é ä»ä¸–ç•Œå…¶ä»–åœ°åŒºè¿›å£ã€‚ä½†å…¶å®è¿™éƒ¨åˆ†è¿›å£ç²®é£Ÿå¤šæ•°ä¸æ˜¯ç›´æ¥ä¾›äººé£Ÿç”¨çš„ã€‚ ä¾‹ä¸€ï¼šé…¿åˆ¶å•¤é…’å’Œç™½é…’ ä»2006å¹´èµ·ï¼Œä¸­å›½ä¾¿æˆä¸ºäº†å…¨çƒç¬¬ä¸€å¤§å•¤é…’ç”Ÿäº§å›½ï¼Œæ¯å¹´äº§é‡è¾¾4654ä¸‡åƒå‡ï¼Œæ˜¯ç¾å›½äº§é‡çš„ä¸¤å€æœ‰ä½™ã€‚è¿™ä¸ªæ•°å­—è¿˜åœ¨ä»¥æ¯å¹´4.9%çš„é€Ÿåº¦å¢é•¿ã€‚é™¤äº†è¿›å£å°éº¦ï¼Œä¸­å›½çš„å•¤é…’èŠ±ä¹Ÿå¤§éƒ¨åˆ†é ä»å¾·å›½å’Œç¾å›½è¿›å£ã€‚ ä¸­å›½åŒæ—¶ä¹Ÿæ˜¯å…¨çƒæœ€å¤§çš„çƒˆé…’ç”Ÿäº§å›½ã€‚å¤šæ•°ä¸­å›½äººå–ä¸æƒ¯å¨å£«å¿Œå’Œä¼ç‰¹åŠ ï¼Œè€Œæ¯”è¾ƒé’çå‘³é“æ›´èŠ¬èŠ³æµ“éƒçš„ç™½é…’ã€‚ä¸­å›½æ¯å¹´çš„ç™½é…’äº§é‡å¤§çº¦åœ¨1360ä¸‡åƒå‡å·¦å³ï¼Œæ¯”è¥¿æ–¹äººå–çš„çƒˆé…’å¤šå¾—å¤šã€‚è¿™è¿˜æ²¡æœ‰æŠŠç§äººé…¿çš„ç±³é…’ç®—è¿›å»ã€‚ æ‰€ä»¥ï¼Œä¸­å›½æœ‰äº›åœ°æ–¹çš„é¥®é…’æ–‡åŒ–æ˜¯å¤–ç•Œæ ¹æœ¬ä¸çŸ¥é“çš„ï¼Œåæ­£æ¯”è‹±å›½å’Œä¿„å›½äººèƒ½å–ã€‚ ä¾‹äºŒï¼šç”ŸçŒªå’ŒçŒªè‚‰ ä¸Šå›¾åæ˜ å‡ºä¸­å›½äººæœ‰å¤šå–œæ¬¢åƒçŒªè‚‰ã€‚ä¸­å›½ä»ç¾å›½å’Œå·´è¥¿è¿›å£çš„ç‰ç±³æœ‰ä¸€éƒ¨åˆ†è¢«æ‹¿æ¥åšçŒªé¥²æ–™ï¼Œå½“ç„¶ä¹Ÿæœ‰çš„ç”¨äºé¸¡ã€ç‰›ç­‰ç¦½ç±»ç•œç±»çš„å…»æ®–ã€‚ ç»“è®º ä¸­å›½å¯ä»¥å–‚é¥±ä¸­å›½äººï¼Œè€Œä¸”ä¸æ˜¯è®©äººåƒç±³é¢ç­‰ä¸»é£Ÿå¡«é¥±è‚šå­ã€‚ä¸­å›½ä¸å¤§å¤šæ•°å‘è¾¾å›½å®¶ç›¸æ¯”ï¼Œç¾é£Ÿå“ç§æ›´å¤šã€ä»·æ ¼æ›´ä½ã€‚å¯¹ç¤¾ä¼šä¸Šçš„ç©·äººæ¥è¯´ä¹Ÿæ˜¯ä¸€æ ·ã€‚è¿™æ˜¯æˆ‘å»è¿‡æ¬§æ´²ã€ç¾å›½ã€æ—¥æœ¬ç­‰è®¸å¤šåœ°æ–¹ä¹‹åçš„æ„Ÿå—ã€‚ æ¯”æ–¹è¯´ï¼Œä¸­å›½å…«äººä¸€æ¡Œåƒ20ä¸ªèœï¼ŒåŒ…æ‹¬å„ç§è‚‰ç±»ã€è”¬èœå’Œç”œç‚¹ï¼Œå¤§å®¶æ¯«æ— å®—æ•™é¡¾å¿Œï¼Œè¿‡æ•å¿Œå£ï¼Œä¹Ÿä¸ç®¡ä»€ä¹ˆä¸ªäººç©ºé—´ã€‚ åœ¨å±±ä¸œï¼Œè¿™æ ·ä¸€æ¡Œèœå¤§æ¦‚è¦50ç¾å…ƒå·¦å³ã€‚åŒæ ·ä¸€æ¡Œèœåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€å°åŒ—å¤§æ¦‚è¦150ç¾å…ƒå·¦å³ï¼Œåœ¨åŠ å·ã€æ—¥æœ¬ã€é¦™æ¸¯è¦300ç¾å…ƒå·¦å³ã€‚è¿™è¿˜æ²¡æœ‰ç®—å„ç§é¥®æ–™å’Œé…’ç±»ã€‚å®é™…ä¸Šï¼Œæ—¥æœ¬å’Œç¾å›½åŠ å·å¤§å¤šæ•°äººåŸºæœ¬ä¸ä¼šæœ‰ä¸€æ¬¡äº«å—20é“èœè¿™ç§å¥¢ä¾ˆä½“éªŒï¼Œä½†è¿™åœ¨ä¸­å›½å†æ­£å¸¸ä¸è¿‡äº†ã€‚ å†™äº†è¿™ä¹ˆé•¿çš„å¸–å­ï¼Œå¸Œæœ›æœ‰åŠ©äºå¤§å®¶æ¶¨çŸ¥è¯†ï¼Œä¸­å›½ç”Ÿäº§çš„ç²®é£Ÿå¯è¿œè¿œä¸æ­¢â€œå…»æ´»â€åå‡ äº¿å£äººè€Œå·²ã€‚ è°¢è°¢é˜…è¯»ã€‚ ï¼ˆå®Œï¼‰","categories":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/categories/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"tags":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/tags/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æœªæ¥ä½ å°†è¶Šæ¥è¶Šéš¾äº¤æœ‹å‹","slug":"æœªæ¥ä½ å°†è¶Šæ¥è¶Šéš¾äº¤æœ‹å‹","date":"2019-06-11T02:48:00.000Z","updated":"2020-08-03T09:28:19.348Z","comments":true,"path":"2019/06/11/wei-lai-ni-jiang-yue-lai-yue-nan-jiao-peng-you/","link":"","permalink":"http://www.wmyskxz.com/2019/06/11/wei-lai-ni-jiang-yue-lai-yue-nan-jiao-peng-you/","excerpt":"","text":"å¼•è‡ªï¼šæ¯å‘¨åˆ†äº«ç¬¬ 59 æœŸ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—åŸæ–‡é“¾æ¥ï¼šhttp://www.ruanyifeng.com/blog/2019/06/weekly-issue-59.html å…³äºæœªæ¥æœ‰å¾ˆå¤šé¢„æµ‹ï¼Œæœ€æ–°çš„ä¸€ç§é¢„æµ‹æ˜¯ï¼Œæœªæ¥ä½ å¾ˆéš¾äº¤æœ‹å‹ã€‚ é‚£ç§å¯ä»¥äº¤æµå†…å¿ƒçš„æœ‹å‹ï¼Œæœªæ¥ä¼šè¶Šæ¥è¶Šå°‘ã€‚ç†ç”±æ˜¯ï¼Œäººä»¬çš„ç”Ÿæ´»å˜åŠ¨å’Œæ´»åŠ¨èŒƒå›´è¶Šæ¥è¶Šå¤§ï¼Œå¾ˆéš¾ä¸ä»–äººæŒç»­çš„ã€æ·±å…¥çš„æ¥è§¦ã€‚ ä¸€é¡¹è°ƒæŸ¥å‘ç°ï¼Œç¾å›½äººæˆå¹´åçš„20å¹´ä¸­ï¼Œå¹³å‡è¦æ¬å®¶6æ¬¡ï¼Œæ¯ä¸ªåœ°æ–¹å°±ä½ä¸‰å¹´å¤šã€‚åˆšåˆšä¸åˆ«äººç†Ÿæ‚‰äº†ä»¥åï¼Œä½ å°±è¦ç¦»å¼€äº†ï¼Œé™¤éåˆ»æ„ï¼Œä»¥åå°±å¾ˆéš¾å†è§é¢äº†ã€‚ä¸€ä½æ•™æˆæ„Ÿå¹ï¼šâ€æˆ‘çš„æ›¾ç¥–çˆ¶ä¸€ç”Ÿçš„ç”Ÿæ´»åœˆæ˜¯40å¹³æ–¹å…¬é‡Œï¼Œå°±åœ¨å°é•‡è¿‡å®Œä¸€ç”Ÿã€‚ç¥–çˆ¶çš„ç”Ÿæ´»åœˆæ˜¯400å¹³æ–¹å…¬é‡Œï¼Œæœ€è¿œå°±å»äº†åŸé‡Œã€‚çˆ¶äº²æ˜¯4,000å¹³æ–¹å…¬é‡Œï¼Œæˆ‘è‡ªå·±æ˜¯40,000å¹³æ–¹å…¬é‡Œï¼Œä¸ä»…ç”Ÿæ´»åœ¨ä¸œæµ·å²¸å’Œè¥¿æµ·å²¸ï¼Œè¶³è¿¹éå¸ƒå…¨ä¸–ç•Œã€‚â€ æ·±åšçš„å‹è°Šä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œéœ€è¦å¤šæ¬¡æ¥è§¦å’Œåå¤äº¤æµã€‚ä½†æ˜¯ç”±äºç”Ÿæ´»åœˆå­è¶Šæ¥è¶Šå¤§ï¼Œå˜åŠ¨è¶Šæ¥è¶Šå¿«ï¼Œç»“äº¤å¥½æœ‹å‹çš„éš¾åº¦æ­£åœ¨ä¸æ–­åŠ å¤§ã€‚è¿™ä¹ˆè¯´å§ï¼Œå‹è°Šæ˜¯ä¸€ä¸ªé™æ€ç´¯ç§¯çš„è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç”Ÿæ´»æ­£å˜å¾—è¶Šæ¥è¶ŠåŠ¨æ€ã€‚ äº‹å®ä¸Šï¼Œ25%çš„ç¾å›½äººä¸€ä¸ªå¥½æœ‹å‹ä¹Ÿæ²¡æœ‰ã€‚ æœªæ¥äººä¸äººçš„ç›´æ¥æ¥è§¦å°†æå…¶ç¨€å°‘ï¼Œå¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯è·Ÿæœºå™¨æ‰“äº¤é“ã€‚ç°åœ¨ï¼Œä»˜æ¬¾å’Œç‚¹é¤å°±å·²ç»æ˜¯è‡ªåŠ©å¼ï¼Œä¸éœ€è¦äººç±»æ¥è§¦äº†ã€‚æœªæ¥æˆ‘ä»¬ä¸ä»–äººæ¥è§¦å°†è¶Šæ¥è¶Šå¤šåœ¨ç½‘ä¸Šï¼Œä½ å¤§å¤šæ•°äº¤åˆ°çš„æœ‹å‹å°†æ˜¯ç½‘å‹ã€‚ è¿™æ„å‘³ç€ï¼Œä¸ºäº†ä¸€ä¸ªå¥åº·çš„ã€æœ‰ç€ä¸°å¯Œç¤¾äº¤çš„ç”Ÿæ´»ï¼Œä½ éœ€è¦å¤šåœ¨ç½‘ä¸Šå±•ç¤ºè‡ªå·±ã€æ¥è§¦ä»–äººã€‚å¯¹äºé‚£äº›äº’è”ç½‘ä¸Šæ²‰é»˜å¯¡è¨€çš„äººï¼Œæœªæ¥çš„äººç”Ÿå°†ä¼šéå¸¸å­¤ç‹¬ã€‚","categories":[{"name":"æœ‰è¶£é›†ä¸­è¥","slug":"æœ‰è¶£é›†ä¸­è¥","permalink":"http://www.wmyskxz.com/categories/%E6%9C%89%E8%B6%A3%E9%9B%86%E4%B8%AD%E8%90%A5/"}],"tags":[{"name":"æœ‰è¶£é›†ä¸­è¥","slug":"æœ‰è¶£é›†ä¸­è¥","permalink":"http://www.wmyskxz.com/tags/%E6%9C%89%E8%B6%A3%E9%9B%86%E4%B8%AD%E8%90%A5/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ä½ æƒ³äº†è§£çš„ã€ŒSpringCloudã€éƒ½åœ¨è¿™é‡Œ","slug":"ä½ æƒ³äº†è§£çš„ã€ŒSpringCloudã€éƒ½åœ¨è¿™é‡Œ","date":"2019-06-09T07:45:00.000Z","updated":"2020-08-03T09:25:20.558Z","comments":true,"path":"2019/06/09/ni-xiang-liao-jie-de-springcloud-du-zai-zhe-li/","link":"","permalink":"http://www.wmyskxz.com/2019/06/09/ni-xiang-liao-jie-de-springcloud-du-zai-zhe-li/","excerpt":"","text":"å‰è¨€ï¼š ä¹‹å‰æˆ‘ä»¬å·²ç»äº†è§£äº†ã€Œä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿã€ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹äº†è§£ã€Œå¾®æœåŠ¡ã€å…³é”®å­—ä¸‹æ¯”è¾ƒçƒ­é—¨çš„ã€ŒSpring Cloudã€â€¦ ä¸€ã€ä¼ ç»Ÿæ¶æ„å‘å±•å² éƒ¨åˆ†å¼•ç”¨è‡ªï¼šä»æ¶æ„æ¼”è¿›çš„è§’åº¦èŠèŠSpring Cloudéƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ - çº¯æ´çš„å¾®ç¬‘ å•ä½“æ¶æ„å•ä½“æ¶æ„åœ¨å°å¾®ä¼ä¸šæ¯”è¾ƒå¸¸è§ï¼Œå…¸å‹ä»£è¡¨å°±æ˜¯ä¸€ä¸ªåº”ç”¨ã€ä¸€ä¸ªæ•°æ®åº“ã€ä¸€ä¸ªwebå®¹å™¨å°±å¯ä»¥è·‘èµ·æ¥ã€‚ åœ¨ä¸¤ç§æƒ…å†µä¸‹å¯èƒ½ä¼šé€‰æ‹©å•ä½“æ¶æ„ï¼šä¸€æ˜¯åœ¨ä¼ä¸šå‘å±•çš„åˆæœŸï¼Œä¸ºäº†ä¿è¯å¿«é€Ÿä¸Šçº¿ï¼Œé‡‡ç”¨æ­¤ç§æ–¹æ¡ˆè¾ƒä¸ºç®€å•çµæ´»ï¼›äºŒæ˜¯ä¼ ç»Ÿä¼ä¸šä¸­å‚ç›´åº¦è¾ƒé«˜ï¼Œè®¿é—®å‹åŠ›è¾ƒå°çš„ä¸šåŠ¡ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹å¯¹æŠ€æœ¯è¦æ±‚è¾ƒä½ï¼Œæ–¹ä¾¿å„å±‚æ¬¡å¼€å‘äººå‘˜æ¥æ‰‹ï¼Œä¹Ÿèƒ½æ»¡è¶³å®¢æˆ·éœ€æ±‚ã€‚ ä¸‹é¢æ˜¯å•ä½“æ¶æ„çš„æ¶æ„å›¾ï¼š åœ¨å•ä½“æ¶æ„ä¸­ï¼ŒæŠ€æœ¯é€‰å‹éå¸¸çµæ´»ï¼Œä¼˜å…ˆæ»¡è¶³å¿«é€Ÿä¸Šçº¿çš„è¦æ±‚ï¼Œä¹Ÿä¾¿äºå¿«é€Ÿè·Ÿè¿›å¸‚åœºã€‚ å‚ç›´æ¶æ„åœ¨å•ä½“æ¶æ„å‘å±•ä¸€æ®µæ—¶é—´åï¼Œå…¬å¸çš„ä¸šåŠ¡æ¨¡å¼å¾—åˆ°äº†è®¤å¯ï¼Œäº¤æ˜“é‡ä¹Ÿæ…¢æ…¢çš„å¤§èµ·æ¥ï¼Œè¿™æ—¶å€™æœ‰äº›ä¼ä¸šä¸ºäº†åº”å¯¹æ›´å¤§çš„æµé‡ï¼Œå°±ä¼šå¯¹åŸæœ‰çš„ä¸šåŠ¡è¿›è¡Œæ‹†åˆ†ï¼Œæ¯”å¦‚è¯´ï¼šåå°ç³»ç»Ÿã€å‰ç«¯ç³»ç»Ÿã€äº¤æ˜“ç³»ç»Ÿç­‰ã€‚ åœ¨è¿™ä¸€é˜¶æ®µå¾€å¾€ä¼šå°†ç³»ç»Ÿåˆ†ä¸ºä¸åŒçš„å±‚çº§ï¼Œæ¯ä¸ªå±‚çº§æœ‰å¯¹åº”çš„èŒè´£ï¼ŒUIå±‚è´Ÿè´£å’Œç”¨æˆ·è¿›è¡Œäº¤äº’ã€ä¸šåŠ¡é€»è¾‘å±‚è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½ã€æ•°æ®åº“å±‚è´Ÿè´£å’Œä¸Šå±‚è¿›è¡Œæ•°æ®äº¤æ¢å’Œå­˜å‚¨ã€‚ ä¸‹é¢æ˜¯å‚ç›´æ¶æ„çš„æ¶æ„å›¾ï¼š æœåŠ¡åŒ–æ¶æ„å¦‚æœå…¬å¸è¿›ä¸€æ­¥çš„åšå¤§ï¼Œå‚ç›´å­ç³»ç»Ÿä¼šå˜çš„è¶Šæ¥è¶Šå¤šï¼Œç³»ç»Ÿå’Œç³»ç»Ÿä¹‹é—´çš„è°ƒç”¨å…³ç³»å‘ˆæŒ‡æ•°ä¸Šå‡çš„è¶‹åŠ¿ã€‚åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œå¾ˆå¤šå…¬å¸éƒ½ä¼šè€ƒè™‘æœåŠ¡çš„ SOA åŒ–ã€‚SOA ä»£è¡¨é¢å‘æœåŠ¡çš„æ¶æ„ï¼Œå°†åº”ç”¨ç¨‹åºæ ¹æ®ä¸åŒçš„èŒè´£åˆ’åˆ†ä¸ºä¸åŒçš„æ¨¡å—ï¼Œä¸åŒçš„æ¨¡å—ç›´æ¥é€šè¿‡ç‰¹å®šçš„åè®®å’Œæ¥å£è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ä½¿æ•´ä¸ªç³»ç»Ÿåˆ‡åˆ†æˆå¾ˆå¤šå•ä¸ªç»„ä»¶æœåŠ¡æ¥å®Œæˆè¯·æ±‚ï¼Œå½“æµé‡è¿‡å¤§æ—¶é€šè¿‡æ°´å¹³æ‰©å±•ç›¸åº”çš„ç»„ä»¶æ¥æ”¯æ’‘ï¼Œæ‰€æœ‰çš„ç»„ä»¶é€šè¿‡äº¤äº’æ¥æ»¡è¶³æ•´ä½“çš„ä¸šåŠ¡éœ€æ±‚ã€‚ SOAæœåŠ¡åŒ–çš„ä¼˜ç‚¹æ˜¯ï¼Œå®ƒå¯ä»¥æ ¹æ®éœ€æ±‚é€šè¿‡ç½‘ç»œå¯¹æ¾æ•£è€¦åˆçš„ç²—ç²’åº¦åº”ç”¨ç»„ä»¶è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ã€ç»„åˆå’Œä½¿ç”¨ã€‚æœåŠ¡å±‚æ˜¯SOAçš„åŸºç¡€ï¼Œå¯ä»¥ç›´æ¥è¢«åº”ç”¨è°ƒç”¨ï¼Œä»è€Œæœ‰æ•ˆæ§åˆ¶ç³»ç»Ÿä¸­ä¸è½¯ä»¶ä»£ç†äº¤äº’çš„äººä¸ºä¾èµ–æ€§ã€‚ æœåŠ¡åŒ–æ¶æ„æ˜¯ä¸€å¥—æ¾è€¦åˆçš„æ¶æ„ï¼ŒæœåŠ¡çš„æ‹†åˆ†åŸåˆ™æ˜¯æœåŠ¡å†…éƒ¨é«˜å†…èšï¼ŒæœåŠ¡ä¹‹é—´ä½è€¦åˆã€‚ ä¸‹é¢æ˜¯æœåŠ¡åŒ–æ¶æ„å›¾ï¼š åœ¨è¿™ä¸ªé˜¶æ®µå¯ä»¥ä½¿ç”¨ WebService æˆ–è€… Dubbo æ¥æœåŠ¡æ²»ç†ã€‚ æˆ‘ä»¬å‘ç°ä»å•ä½“æ¶æ„åˆ°æœåŠ¡åŒ–æ¶æ„ï¼Œåº”ç”¨æ•°é‡éƒ½åœ¨ä¸æ–­çš„å¢åŠ ï¼Œæ…¢æ…¢çš„ä¸‹æ²‰çš„å°±æˆäº†åŸºç¡€ç»„å»ºï¼Œä¸Šæµ®çš„å°±æˆä¸ºä¸šåŠ¡ç³»ç»Ÿã€‚ä»ä¸Šè¿°ä¹Ÿå¯ä»¥çœ‹å‡ºæ¶æ„çš„æœ¬è´¨å°±æ˜¯ä¸æ–­çš„æ‹†åˆ†é‡æ„ï¼šåˆ†çš„è¿‡ç¨‹æ˜¯æŠŠç³»ç»Ÿæ‹†åˆ†ä¸ºå„ä¸ªå­ç³»ç»Ÿ/æ¨¡å—/ç»„ä»¶ï¼Œæ‹†çš„æ—¶å€™ï¼Œé¦–å…ˆè¦è§£å†³æ¯ä¸ªç»„ä»¶çš„å®šä½é—®é¢˜ï¼Œç„¶åæ‰èƒ½åˆ’åˆ†å½¼æ­¤çš„è¾¹ç•Œï¼Œå®ç°åˆç†çš„æ‹†åˆ†ã€‚åˆå°±æ˜¯æ ¹æ®æœ€ç»ˆè¦æ±‚ï¼ŒæŠŠå„ä¸ªåˆ†ç¦»çš„ç»„ä»¶æœ‰æœºæ•´åˆåœ¨ä¸€èµ·ã€‚æ‹†åˆ†çš„ç»“æœä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåšåˆ°ä¸šåŠ¡èšç„¦ã€æŠ€èƒ½èšç„¦ï¼Œå®ç°å¼€å‘æ•æ·ï¼Œåˆçš„ç»“æœæ˜¯ç³»ç»Ÿå˜å¾—æŸ”æ€§ï¼Œå¯ä»¥å› éœ€è€Œå˜ï¼Œå®ç°ä¸šåŠ¡æ•æ·ã€‚ å¾®æœåŠ¡æ¶æ„å¾®æœåŠ¡æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒæ˜¯ä»¥ä¸“æ³¨äºå•ä¸€è´£ä»»ä¸åŠŸèƒ½çš„å°å‹åŠŸèƒ½åŒºå—ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨æ¨¡ç»„åŒ–çš„æ–¹å¼ç»„åˆå‡ºå¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œå„åŠŸèƒ½åŒºå—ä½¿ç”¨ä¸è¯­è¨€æ— å…³çš„ APIï¼ˆä¾‹å¦‚ RESTï¼‰é›†ç›¸äº’é€šè®¯ï¼Œä¸”æ¯ä¸ªæœåŠ¡å¯ä»¥è¢«å•ç‹¬éƒ¨ç½²ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒç‰¹ç‚¹ï¼š å¾®æœåŠ¡ä¸ºå¤§å‹ç³»ç»Ÿè€Œç”Ÿã€‚éšç€ä¸šåŠ¡çš„å¿«é€Ÿå¢é•¿ï¼Œä¼šå¸¦æ¥ç³»ç»Ÿæµé‡å‹åŠ›å’Œå¤æ‚åº¦çš„ä¸Šå‡ï¼Œç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§æˆä¸ºæ¶æ„è®¾è®¡çš„ä¸»è¦è€ƒè™‘å› ç´ ï¼Œå¾®æœåŠ¡æ¶æ„è®¾è®¡ç†å¿µé€šè¿‡å°è€Œç¾çš„ä¸šåŠ¡æ‹†åˆ†ï¼Œé€šè¿‡åˆ†è€Œè‡ªæ²»æ¥å®ç°å¤æ‚ç³»ç»Ÿçš„ä¼˜é›…è®¾è®¡å®ç°ã€‚ å¾®æœåŠ¡æ¶æ„æ˜¯é¢å‘ç»“æœçš„ã€‚å¾®æœåŠ¡æ¶æ„è®¾è®¡é£æ ¼çš„äº§ç”Ÿå¹¶éæ˜¯å‡ºäºå­¦æœ¯æˆ–ä¸ºæ ‡å‡†è€Œæ ‡å‡†çš„è®¾è®¡ï¼Œè€Œæ˜¯åœ¨è½¯ä»¶æ¶æ„è®¾è®¡é¢†åŸŸä¸æ–­æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œé¢å¯¹å®é™…å·¥ä¸šç•Œæ‰€é‡åˆ°é—®é¢˜ï¼Œè€Œå‡ºç°çš„é¢å‘è§£å†³å®é™…é—®é¢˜çš„æ¶æ„è®¾è®¡é£æ ¼ã€‚ ä¸“æ³¨äºæœåŠ¡çš„å¯æ›¿ä»£æ€§æ¥è®¾è®¡ã€‚å¾®æœåŠ¡æ¶æ„è®¾è®¡é£æ ¼æ ¸å¿ƒè¦è§£å†³çš„é—®é¢˜ä¹‹ä¸€ä¾¿æ˜¯å¦‚ä½•ä¾¿åˆ©åœ°åœ¨å¤§å‹ç³»ç»Ÿä¸­è¿›è¡Œç³»ç»Ÿç»„ä»¶çš„ç»´æŠ¤å’Œæ›¿æ¢ï¼Œä¸”ä¸å½±å“æ•´ä½“ç³»ç»Ÿç¨³å®šæ€§ã€‚ SOA ä¸ å¾®æœåŠ¡ çš„ä¸åŒåœ¨äºï¼š æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ã€‚å¾®æœåŠ¡å¯ä»¥è¯´æ˜¯æ›´ç»†ç»´åº¦çš„æœåŠ¡åŒ–ï¼Œå°åˆ°ä¸€ä¸ªå­å­æ¨¡å—ï¼Œåªè¦è¯¥æ¨¡å—ä¾èµ–çš„èµ„æºä¸å…¶ä»–æ¨¡å—éƒ½æ²¡æœ‰å…³ç³»ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‹†åˆ†æˆä¸€ä¸ªå¾®æœåŠ¡ã€‚ æœåŠ¡ç‹¬ç«‹éƒ¨ç½²ã€‚æ¯ä¸ªæœåŠ¡éƒ½ä¸¥æ ¼éµå¾ªç‹¬ç«‹æ‰“åŒ…éƒ¨ç½²çš„å‡†åˆ™ï¼Œäº’ä¸å½±å“ã€‚æ¯”å¦‚ä¸€å°ç‰©ç†æœºä¸Šå¯ä»¥éƒ¨ç½²å¤šä¸ª Docker å®ä¾‹ï¼Œæ¯ä¸ª Docker å®ä¾‹å¯ä»¥éƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡çš„ä»£ç ã€‚ æœåŠ¡ç‹¬ç«‹ç»´æŠ¤ã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½å¯ä»¥äº¤ç”±ä¸€ä¸ªå°å›¢é˜Ÿç”šè‡³ä¸ªäººæ¥å¼€å‘ã€æµ‹è¯•ã€å‘å¸ƒå’Œè¿ç»´ï¼Œå¹¶å¯¹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£ã€‚ æœåŠ¡æ²»ç†èƒ½åŠ›è¦æ±‚é«˜ã€‚å› ä¸ºæ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹åï¼ŒæœåŠ¡çš„æ•°é‡å˜å¤šï¼Œå› æ­¤éœ€è¦æœ‰ç»Ÿä¸€çš„æœåŠ¡æ²»ç†å¹³å°ï¼Œæ¥å¯¹å„ä¸ªæœåŠ¡è¿›è¡Œç®¡ç†ã€‚ äºŒã€å¼•å…¥ Spring Cloud ä»€ä¹ˆæ˜¯ Spring Cloud?Spring å…¨å®¶æ¡¶åœ¨ Java å¼€å‘ä¸­æ‹¥æœ‰ä¸¾è¶³è½»é‡çš„åœ°ä½ï¼Œå…¶ä¸­çš„ä¸€ç³»åˆ—äº§å“ä¸ä»…ä»…å¤§å¤§ç®€åŒ–å’Œæ–¹ä¾¿äº† Java çš„å¼€å‘ï¼Œå…¶ä¸­çš„ AOP å’Œ IoC ç­‰ä¸€ç³»åˆ—çš„ç†å¿µä¹Ÿæ·±åˆ»åœ°å½±å“ç€ Java ç¨‹åºå‘˜ä»¬ã€‚ Spring å…¨å®¶æ¡¶äº§å“ä¼—å¤šï¼Œæ€»ç»“èµ·æ¥å¤§æ¦‚å°±æ˜¯ï¼š Spring é€šå¸¸æŒ‡ Spring IOCã€‚ Spring Framework åŒ…å«äº† Spring IOCï¼ŒåŒæ—¶åŒ…å«äº† Spring AOPï¼Œå¹¶å®ç°ä¸å…¶å®ƒ J2EE æ¡†æ¶çš„æ•´åˆã€‚ Spring Boot æ˜¯å¯¹ Spring Framework çš„è¡¥å……ï¼Œè®©æ¡†æ¶çš„é›†æˆå˜å¾—æ›´ç®€å•ï¼Œè‡´åŠ›äºå¿«é€Ÿå¼€å‘ ç‹¬ç«‹çš„ Spring åº”ç”¨ã€‚ Spring Cloud æ˜¯åŸºäº Spring Boot è®¾è®¡çš„ä¸€å¥—å¾®æœåŠ¡è§„èŒƒï¼Œå¹¶å¢å¼ºäº†åº”ç”¨ä¸Šä¸‹æ–‡ã€‚ æˆ‘ä»¬ä¹Ÿä¸å¦¨æ¥çœ‹çœ‹å®˜ç½‘çš„ä»‹ç»ï¼š æ€»ç»“èµ·æ¥å°±æ˜¯ï¼š Spring Cloud æ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆã€‚æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨åŸºäº Spring Boot è®¾è®¡çš„ Spring Cloud æ–¹ä¾¿å¿«é€Ÿçš„æ­å»ºèµ·è‡ªå·±çš„å¯é ã€åè°ƒä¸€è‡´çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚ ä¸ºä»€ä¹ˆæ˜¯ Spring Cloudï¼Ÿå¾®æœåŠ¡çš„æ¡†æ¶é‚£ä¹ˆå¤šæ¯”å¦‚ï¼šDubboã€Kubernetesï¼Œä¸ºä»€ä¹ˆå°±è¦ä½¿ç”¨ Spring Cloud çš„å‘¢ï¼Ÿ äº§å‡ºäº Spring å¤§å®¶æ—ï¼ŒSpring åœ¨ä¼ä¸šçº§å¼€å‘æ¡†æ¶ä¸­æ— äººèƒ½æ•Œï¼Œæ¥å¤´å¾ˆå¤§ï¼Œå¯ä»¥ä¿è¯åç»­çš„æ›´æ–°ã€å®Œå–„ã€‚æ¯”å¦‚ Dubbo ç°åœ¨å°±å·®ä¸å¤šæ­»äº† æœ‰ Spring Boot è¿™ä¸ªç‹¬ç«‹å¹²å°†å¯ä»¥çœå¾ˆå¤šäº‹ï¼Œå¤§å¤§å°å°çš„æ´» Spring Boot éƒ½æçš„æŒºä¸é”™ã€‚ ä½œä¸ºä¸€ä¸ªå¾®æœåŠ¡æ²»ç†çš„å¤§å®¶ä¼™ï¼Œè€ƒè™‘çš„å¾ˆå…¨é¢ï¼Œå‡ ä¹æœåŠ¡æ²»ç†çš„æ–¹æ–¹é¢é¢éƒ½è€ƒè™‘åˆ°äº†ï¼Œæ–¹ä¾¿å¼€å‘å¼€ç®±å³ç”¨ã€‚ Spring Cloud æ´»è·ƒåº¦å¾ˆé«˜ï¼Œæ•™ç¨‹å¾ˆä¸°å¯Œï¼Œé‡åˆ°é—®é¢˜å¾ˆå®¹æ˜“æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚ è½»è½»æ¾æ¾å‡ è¡Œä»£ç å°±å®Œæˆäº†ç†”æ–­ã€å‡è¡¡è´Ÿè½½ã€æœåŠ¡ä¸­å¿ƒçš„å„ç§å¹³å°åŠŸèƒ½ã€‚ ä¸‰ã€Spring Cloud èƒ½å¤Ÿå¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ å‰é¢æˆ‘ä»¬è¯´åˆ°äº†ï¼Œã€ŒSpring Cloudã€æ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„é›†åˆï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³åˆ†å¸ƒå¼/å¾®æœåŠ¡çš„å„ç§é—®é¢˜ï¼Œé‚£ä¹ˆã€ŒSpring Cloudã€ç©¶ç«Ÿèƒ½å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆå‘¢ï¼Ÿ SpringCloudçš„åŸºç¡€åŠŸèƒ½åŒ…æ‹¬ï¼š æœåŠ¡æ²»ç†ï¼š Spring Cloud Eureka å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼š Spring Cloud Ribbon æœåŠ¡å®¹é”™ä¿æŠ¤ï¼š Spring Cloud Hystrix å£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼š Spring Cloud Feign APIç½‘å…³æœåŠ¡ï¼š Spring Cloud Zuul åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼š Spring Cloud Config å½“ç„¶ Spring Cloud è¿˜åŒ…æ‹¬ä¸€äº›é«˜çº§çš„åŠŸèƒ½ï¼š æ¶ˆæ¯æ€»çº¿ï¼š Spring Cloud Bus æ¶ˆæ¯é©±åŠ¨çš„å¾®æœåŠ¡ï¼š Spring Cloud Stream åˆ†å¸ƒå¼æœåŠ¡è·Ÿè¸ªï¼š Spring Cloud Sleuth æœåŠ¡æ²»ç†ï¼šEurekaå¾®æœåŠ¡å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ã€Œæ— çŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªæœåŠ¡ä¹‹é—´åº”è¯¥æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥å½“å¾®æœåŠ¡æ¶æ„æ­èµ·æ¥ä¹‹åå„ä¸ªç‹¬ç«‹çš„ã€Œå¾®æœåŠ¡ã€ä¹‹é—´åº”è¯¥å¦‚ä½•é€šè®¯æˆäº†é¦–è¦çš„é—®é¢˜ã€‚ å‡è®¾æˆ‘ä»¬çš„ AæœåŠ¡ éœ€è¦è®¿é—® BæœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“å¯¹æ–¹çš„ ipåœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨èµ·æ¥å¯èƒ½å°±åƒï¼š ä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœ BæœåŠ¡ çš„ ipåœ°å€ å˜æ›´äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åªèƒ½æ‰‹åŠ¨çš„å»æ›´æ”¹ AæœåŠ¡ çš„é…ç½®ï¼Œå¦‚æœæˆ‘ä»¬çš„æœåŠ¡æœ‰å¾ˆå¤šï¼Œå¹¶ä¸”ä¸æ­¢ AæœåŠ¡ è°ƒç”¨äº† BæœåŠ¡ï¼Œé‚£ä¹ˆæ‰‹åŠ¨æ›´æ”¹è¿™äº›é…ç½®å°†ä¼šæ˜¯ä¸€åœºå™©æ¢¦ã€‚ Eureka æ˜¯ Netflix å¼€æºçš„ä¸€æ¬¾æä¾›æœåŠ¡æ³¨å†Œå’Œå‘ç°çš„äº§å“ï¼Œå®ƒæä¾›äº†å®Œæ•´çš„ Service Registry å’Œ Service Discovery å®ç°ã€‚ä¹Ÿæ˜¯ Spring Cloud ä½“ç³»ä¸­æœ€é‡è¦æœ€æ ¸å¿ƒçš„ç»„ä»¶ä¹‹ä¸€ã€‚ ç”¨å¤§ç™½è¯è®²ï¼ŒEureka å°±æ˜¯ä¸€ä¸ªæœåŠ¡ä¸­å¿ƒï¼Œå°†æ‰€æœ‰çš„å¯ä»¥æä¾›çš„æœåŠ¡éƒ½æ³¨å†Œåˆ°å®ƒè¿™é‡Œæ¥ç®¡ç†ï¼Œå…¶å®ƒå„è°ƒç”¨è€…éœ€è¦çš„æ—¶å€™å»æ³¨å†Œä¸­å¿ƒè·å–ï¼Œç„¶åå†è¿›è¡Œè°ƒç”¨ï¼Œé¿å…äº†æœåŠ¡ä¹‹é—´çš„ç›´æ¥è°ƒç”¨ï¼Œæ–¹ä¾¿åç»­çš„æ°´å¹³æ‰©å±•ã€æ•…éšœè½¬ç§»ç­‰ã€‚å¦‚ä¸‹å›¾ï¼š å½“ç„¶æœåŠ¡ä¸­å¿ƒè¿™ä¹ˆé‡è¦çš„ç»„ä»¶ä¸€ä½†æŒ‚æ‰å°†ä¼šå½±å“å…¨éƒ¨æœåŠ¡ï¼Œå› æ­¤éœ€è¦æ­å»º Eureka é›†ç¾¤æ¥ä¿æŒé«˜å¯ç”¨æ€§ï¼Œç”Ÿäº§ä¸­å»ºè®®æœ€å°‘ä¸¤å°ã€‚éšç€ç³»ç»Ÿçš„æµé‡ä¸æ–­å¢åŠ ï¼Œéœ€è¦æ ¹æ®æƒ…å†µæ¥æ‰©å±•æŸä¸ªæœåŠ¡ï¼ŒEureka å†…éƒ¨å·²ç»æä¾›å‡è¡¡è´Ÿè½½çš„åŠŸèƒ½ï¼Œåªéœ€è¦å¢åŠ ç›¸åº”çš„æœåŠ¡ç«¯å®ä¾‹æ—¢å¯ã€‚é‚£ä¹ˆåœ¨ç³»ç»Ÿçš„è¿è¡ŒæœŸé—´æŸä¸ªå®ä¾‹æŒ‚äº†æ€ä¹ˆåŠï¼ŸEureka å†…å®¹æœ‰ä¸€ä¸ªå¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼Œ å¦‚æœæŸä¸ªå®ä¾‹åœ¨è§„å®šçš„æ—¶é—´å†…æ²¡æœ‰è¿›è¡Œé€šè®¯åˆ™ä¼šè‡ªåŠ¨è¢«å‰”é™¤æ‰ï¼Œé¿å…äº†æŸä¸ªå®ä¾‹æŒ‚æ‰è€Œå½±å“æœåŠ¡ã€‚ å› æ­¤ä½¿ç”¨äº†Eurekaå°±è‡ªåŠ¨å…·æœ‰äº†æ³¨å†Œä¸­å¿ƒã€è´Ÿè½½å‡è¡¡ã€æ•…éšœè½¬ç§»çš„åŠŸèƒ½ã€‚å¦‚æœæƒ³å¯¹Eurekaè¿›ä¸€æ­¥äº†è§£å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šæ³¨å†Œä¸­å¿ƒEureka å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼š RibbonRibbon æ˜¯ä¸€ä¸ªåŸºäº HTTP å’Œ TCP å®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡å™¨ã€‚Ribbon å¯ä»¥åœ¨é€šè¿‡å®¢æˆ·ç«¯ä¸­é…ç½®çš„ ribbonServerList æœåŠ¡ç«¯åˆ—è¡¨å»è½®è¯¢è®¿é—®ä»¥è¾¾åˆ°å‡è¡¡è´Ÿè½½çš„ä½œç”¨ã€‚ å½“ Ribbon ä¸ Eureka è”åˆä½¿ç”¨æ—¶ï¼ŒribbonServerList ä¼šè¢« DiscoveryEnabledNIWSServerList é‡å†™ï¼Œæ‰©å±•æˆä» Eureka æ³¨å†Œä¸­å¿ƒä¸­è·å–æœåŠ¡ç«¯åˆ—è¡¨ã€‚åŒæ—¶å®ƒä¹Ÿä¼šç”¨ NIWSDiscoveryPing æ¥å–ä»£ IPingï¼Œå®ƒå°†èŒè´£å§”æ‰˜ç»™ Eureka æ¥ç¡®å®šæœåŠ¡ç«¯æ˜¯å¦å·²ç»å¯åŠ¨ã€‚ å®æˆ˜ï¼š Spring Cloudæ„å»ºå¾®æœåŠ¡æ¶æ„ï¼ˆäºŒï¼‰æœåŠ¡æ¶ˆè´¹è€… - http://blog.didispace.com/springcloud2/ æœåŠ¡å®¹é”™ä¿æŠ¤ï¼š Hystrixåœ¨å¾®æœåŠ¡æ¶æ„ä¸­é€šå¸¸ä¼šæœ‰å¤šä¸ªæœåŠ¡å±‚è°ƒç”¨ï¼ŒåŸºç¡€æœåŠ¡çš„æ•…éšœå¯èƒ½ä¼šå¯¼è‡´çº§è”æ•…éšœï¼Œè¿›è€Œé€ æˆæ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨çš„æƒ…å†µï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºæœåŠ¡é›ªå´©æ•ˆåº”ã€‚æœåŠ¡é›ªå´©æ•ˆåº”æ˜¯ä¸€ç§å› â€œæœåŠ¡æä¾›è€…â€çš„ä¸å¯ç”¨å¯¼è‡´â€œæœåŠ¡æ¶ˆè´¹è€…â€çš„ä¸å¯ç”¨,å¹¶å°†ä¸å¯ç”¨é€æ¸æ”¾å¤§çš„è¿‡ç¨‹ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šAä½œä¸ºæœåŠ¡æä¾›è€…ï¼ŒBä¸ºAçš„æœåŠ¡æ¶ˆè´¹è€…ï¼ŒCå’ŒDæ˜¯Bçš„æœåŠ¡æ¶ˆè´¹è€…ã€‚Aä¸å¯ç”¨å¼•èµ·äº†Bçš„ä¸å¯ç”¨ï¼Œå¹¶å°†ä¸å¯ç”¨åƒæ»šé›ªçƒä¸€æ ·æ”¾å¤§åˆ°Cå’ŒDæ—¶ï¼Œé›ªå´©æ•ˆåº”å°±å½¢æˆäº†ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹å°±éœ€è¦æ•´ä¸ªæœåŠ¡æœºæ„å…·æœ‰æ•…éšœéš”ç¦»çš„åŠŸèƒ½ï¼Œé¿å…æŸä¸€ä¸ªæœåŠ¡æŒ‚æ‰å½±å“å…¨å±€ã€‚åœ¨ Spring Cloud ä¸­ Hystrix ç»„ä»¶å°±æ‰®æ¼”è¿™ä¸ªè§’è‰²ã€‚ Hystrix ä¼šåœ¨æŸä¸ªæœåŠ¡è¿ç»­è°ƒç”¨ N æ¬¡ä¸å“åº”çš„æƒ…å†µä¸‹ï¼Œç«‹å³é€šçŸ¥è°ƒç”¨ç«¯è°ƒç”¨å¤±è´¥ï¼Œé¿å…è°ƒç”¨ç«¯æŒç»­ç­‰å¾…è€Œå½±å“äº†æ•´ä½“æœåŠ¡ã€‚Hystrix é—´éš”æ—¶é—´ä¼šå†æ¬¡æ£€æŸ¥æ­¤æœåŠ¡ï¼Œå¦‚æœæœåŠ¡æ¢å¤å°†ç»§ç»­æä¾›æœåŠ¡ã€‚ ç»§ç»­äº†è§£Hystrixå¯ä»¥å‚è€ƒï¼šç†”æ–­å™¨Hystrix Hystrix Dashboard å’Œ Turbineå½“ç†”æ–­å‘ç”Ÿçš„æ—¶å€™éœ€è¦è¿…é€Ÿçš„å“åº”æ¥è§£å†³é—®é¢˜ï¼Œé¿å…æ•…éšœè¿›ä¸€æ­¥æ‰©æ•£ï¼Œé‚£ä¹ˆå¯¹ç†”æ–­çš„ç›‘æ§å°±å˜å¾—éå¸¸é‡è¦ã€‚ç†”æ–­çš„ç›‘æ§ç°åœ¨æœ‰ä¸¤æ¬¾å·¥å…·ï¼šHystrix-dashboard å’Œ Turbine Hystrix-dashboard æ˜¯ä¸€æ¬¾é’ˆå¯¹Hystrixè¿›è¡Œå®æ—¶ç›‘æ§çš„å·¥å…·ï¼Œé€šè¿‡ Hystrix Dashboard æˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°å„ Hystrix Command çš„è¯·æ±‚å“åº”æ—¶é—´, è¯·æ±‚æˆåŠŸç‡ç­‰æ•°æ®ã€‚ä½†æ˜¯åªä½¿ç”¨ Hystrix Dashboard çš„è¯, ä½ åªèƒ½çœ‹åˆ°å•ä¸ªåº”ç”¨å†…çš„æœåŠ¡ä¿¡æ¯, è¿™æ˜æ˜¾ä¸å¤Ÿ. æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·èƒ½è®©æˆ‘ä»¬æ±‡æ€»ç³»ç»Ÿå†…å¤šä¸ªæœåŠ¡çš„æ•°æ®å¹¶æ˜¾ç¤ºåˆ° Hystrix Dashboard ä¸Š, è¿™ä¸ªå·¥å…·å°±æ˜¯ Turbine. ç›‘æ§çš„æ•ˆæœå›¾å¦‚ä¸‹ï¼š æƒ³äº†è§£å…·ä½“éƒ½ç›‘æ§äº†å“ªäº›æŒ‡æ ‡ï¼Œä»¥åŠå¦‚ä½•ç›‘æ§å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šç†”æ–­ç›‘æ§Hystrix Dashboardå’ŒTurbine å£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼šFeignä¸Šé¢æˆ‘ä»¬ä»‹ç»äº† Ribbon å’Œ Hystrix äº†ï¼Œå¯ä»¥å‘ç°ï¼šè¿™ä¸¤ä¸ªå¯ä»¥ä½œä¸ºåŸºç¡€å·¥å…·ç±»å¹¿æ³›çš„åµŒå…¥åˆ°å„ä¸ªå¾®æœåŠ¡ä¸­ã€‚ä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„å¼€å‘ï¼ŒSpring Cloud Feign å‡ºç°äº†ï¼å®ƒåŸºäº Netflix Feign å®ç°ï¼Œæ•´åˆäº† Spring Cloud Ribbon ä¸ Spring Cloud Hystrix, é™¤äº†æ•´åˆè¿™ä¸¤è€…çš„å¼ºå¤§åŠŸèƒ½ä¹‹å¤–ï¼Œå®ƒè¿˜æä¾›äº†å£°æ˜å¼çš„æœåŠ¡è°ƒç”¨(ä¸å†é€šè¿‡RestTemplate)ã€‚ Feign æ˜¯ä¸€ç§å£°æ˜å¼ã€æ¨¡æ¿åŒ–çš„HTTPå®¢æˆ·ç«¯ã€‚åœ¨ Spring Cloud ä¸­ä½¿ç”¨ Feign, æˆ‘ä»¬å¯ä»¥åšåˆ°ä½¿ç”¨HTTPè¯·æ±‚è¿œç¨‹æœåŠ¡æ—¶èƒ½ä¸è°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·çš„ç¼–ç ä½“éªŒï¼Œå¼€å‘è€…å®Œå…¨æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯è¿œç¨‹æ–¹æ³•ï¼Œæ›´æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯ä¸ª HTTP è¯·æ±‚ã€‚ ä¸‹é¢å°±ç®€å•çœ‹çœ‹Feignæ˜¯æ€ä¹ˆä¼˜é›…åœ°å®ç°è¿œç¨‹è°ƒç”¨çš„ï¼š æœåŠ¡ç»‘å®šï¼š // value --->æŒ‡å®šè°ƒç”¨å“ªä¸ªæœåŠ¡ // fallbackFactory--->ç†”æ–­å™¨çš„é™çº§æç¤º @FeignClient(value = \"MICROSERVICECLOUD-DEPT\", fallbackFactory = DeptClientServiceFallbackFactory.class) public interface DeptClientService { // é‡‡ç”¨Feignæˆ‘ä»¬å¯ä»¥ä½¿ç”¨SpringMVCçš„æ³¨è§£æ¥å¯¹æœåŠ¡è¿›è¡Œç»‘å®šï¼ @RequestMapping(value = \"/dept/get/{id}\", method = RequestMethod.GET) public Dept get(@PathVariable(\"id\") long id); @RequestMapping(value = \"/dept/list\", method = RequestMethod.GET) public List&lt;Dept> list(); @RequestMapping(value = \"/dept/add\", method = RequestMethod.POST) public boolean add(Dept dept); } Feign ä¸­ä½¿ç”¨ç†”æ–­å™¨ï¼š /** * Feignä¸­ä½¿ç”¨æ–­è·¯å™¨ * è¿™é‡Œä¸»è¦æ˜¯å¤„ç†å¼‚å¸¸å‡ºé”™çš„æƒ…å†µ(é™çº§/ç†”æ–­æ—¶æœåŠ¡ä¸å¯ç”¨ï¼Œfallbackå°±ä¼šæ‰¾åˆ°è¿™é‡Œæ¥) */ @Component // ä¸è¦å¿˜è®°æ·»åŠ ï¼Œä¸è¦å¿˜è®°æ·»åŠ  public class DeptClientServiceFallbackFactory implements FallbackFactory&lt;DeptClientService> { @Override public DeptClientService create(Throwable throwable) { return new DeptClientService() { @Override public Dept get(long id) { return new Dept().setDeptno(id).setDname(\"è¯¥IDï¼š\" + id + \"æ²¡æœ‰æ²¡æœ‰å¯¹åº”çš„ä¿¡æ¯,Consumerå®¢æˆ·ç«¯æä¾›çš„é™çº§ä¿¡æ¯,æ­¤åˆ»æœåŠ¡Providerå·²ç»å…³é—­\") .setDb_source(\"no this database in MySQL\"); } @Override public List&lt;Dept> list() { return null; } @Override public boolean add(Dept dept) { return false; } }; } } è°ƒç”¨ï¼š å¼•ç”¨è‡ªï¼šå¤–è¡Œäººéƒ½èƒ½çœ‹æ‡‚çš„ Spring Cloud - https://juejin.im/post/5b83466b6fb9a019b421cecc#heading-12 API ç½‘å…³æœåŠ¡ï¼šZuulåœ¨å¾®æœåŠ¡æ¶æ„æ¨¡å¼ä¸‹ï¼Œåç«¯æœåŠ¡çš„å®ä¾‹æ•°ä¸€èˆ¬æ˜¯åŠ¨æ€çš„ï¼Œå¯¹äºå®¢æˆ·ç«¯è€Œè¨€å¾ˆéš¾å‘ç°åŠ¨æ€æ”¹å˜çš„æœåŠ¡å®ä¾‹çš„è®¿é—®åœ°å€ä¿¡æ¯ã€‚å› æ­¤åœ¨åŸºäºå¾®æœåŠ¡çš„é¡¹ç›®ä¸­ä¸ºäº†ç®€åŒ–å‰ç«¯çš„è°ƒç”¨é€»è¾‘ï¼Œé€šå¸¸ä¼šå¼•å…¥ API Gateway ä½œä¸ºè½»é‡çº§ç½‘å…³ï¼ŒåŒæ—¶ API Gateway ä¸­ä¹Ÿä¼šå®ç°ç›¸å…³çš„è®¤è¯é€»è¾‘ä»è€Œç®€åŒ–å†…éƒ¨æœåŠ¡ä¹‹é—´ç›¸äº’è°ƒç”¨çš„å¤æ‚åº¦ã€‚ Spring Cloud ä½“ç³»ä¸­æ”¯æŒ API Gateway è½åœ°çš„æŠ€æœ¯å°±æ˜¯ Zuulã€‚Spring Cloud Zuul è·¯ç”±æ˜¯å¾®æœåŠ¡æ¶æ„ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œæä¾›åŠ¨æ€è·¯ç”±ï¼Œç›‘æ§ï¼Œå¼¹æ€§ï¼Œå®‰å…¨ç­‰çš„è¾¹ç¼˜æœåŠ¡ã€‚Zuul æ˜¯ Netflix å‡ºå“çš„ä¸€ä¸ªåŸºäº JVM è·¯ç”±å’ŒæœåŠ¡ç«¯çš„è´Ÿè½½å‡è¡¡å™¨ã€‚ å®ƒçš„å…·ä½“ä½œç”¨å°±æ˜¯æœåŠ¡è½¬å‘ï¼Œæ¥æ”¶å¹¶è½¬å‘æ‰€æœ‰å†…å¤–éƒ¨çš„å®¢æˆ·ç«¯è°ƒç”¨ã€‚ä½¿ç”¨ Zuul å¯ä»¥ä½œä¸ºèµ„æºçš„ç»Ÿä¸€è®¿é—®å…¥å£ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨ç½‘å…³åšä¸€äº›æƒé™æ ¡éªŒç­‰ç±»ä¼¼çš„åŠŸèƒ½ã€‚ å…·ä½“ä½¿ç”¨å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šæœåŠ¡ç½‘å…³zuul åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼šConfigéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œæˆ‘ä»¬çš„ã€Œå¾®æœåŠ¡ã€å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œè€Œæ¯ä¸€ä¸ªå¾®æœåŠ¡éƒ½ä¼šæœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ç ”å‘è¿‡ç¨‹ä¸­æœ‰æµ‹è¯•ç¯å¢ƒã€UATç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒï¼Œå› æ­¤æ¯ä¸ªå¾®æœåŠ¡åˆå¯¹åº”è‡³å°‘ä¸‰ä¸ªä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ã€‚è¿™ä¹ˆå¤šçš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹æŸä¸ªå…¬å…±æœåŠ¡çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚ï¼šç¼“å­˜ã€æ•°æ®åº“ç­‰ï¼Œéš¾å…ä¼šäº§ç”Ÿæ··ä¹±ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼•å…¥ Spring Cloud å¦å¤–ä¸€ä¸ªç»„ä»¶ï¼šSpring Cloud Configã€‚ Spring Cloud Config æ˜¯ä¸€ä¸ªè§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿçš„é…ç½®ç®¡ç†æ–¹æ¡ˆã€‚å®ƒåŒ…å«äº† Client å’Œ Server ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒServer æä¾›é…ç½®æ–‡ä»¶çš„å­˜å‚¨ã€ä»¥æ¥å£çš„å½¢å¼å°†é…ç½®æ–‡ä»¶çš„å†…å®¹æä¾›å‡ºå»ï¼ŒClient é€šè¿‡æ¥å£è·å–æ•°æ®ã€å¹¶ä¾æ®æ­¤æ•°æ®åˆå§‹åŒ–è‡ªå·±çš„åº”ç”¨ã€‚ å…¶å®å°±æ˜¯ Server ç«¯å°†æ‰€æœ‰çš„é…ç½®æ–‡ä»¶æœåŠ¡åŒ–ï¼Œéœ€è¦é…ç½®æ–‡ä»¶çš„æœåŠ¡å®ä¾‹å» Config Server è·å–å¯¹åº”çš„æ•°æ®ã€‚å°†æ‰€æœ‰çš„é…ç½®æ–‡ä»¶ç»Ÿä¸€æ•´ç†ï¼Œé¿å…äº†é…ç½®æ–‡ä»¶ç¢ç‰‡åŒ–ã€‚é…ç½®ä¸­å¿ƒgitå®ä¾‹å‚è€ƒï¼šé…ç½®ä¸­å¿ƒgitç¤ºä¾‹ï¼› å¦‚æœæœåŠ¡è¿è¡ŒæœŸé—´æ”¹å˜é…ç½®æ–‡ä»¶ï¼ŒæœåŠ¡æ˜¯ä¸ä¼šå¾—åˆ°æœ€æ–°çš„é…ç½®ä¿¡æ¯ï¼Œéœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜å°±éœ€è¦å¼•å…¥ Refreshã€‚å¯ä»¥åœ¨æœåŠ¡çš„è¿è¡ŒæœŸé—´é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šé…ç½®ä¸­å¿ƒsvnç¤ºä¾‹å’Œrefresh å½“æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½å­˜å‚¨åœ¨é…ç½®ä¸­å¿ƒçš„æ—¶å€™ï¼Œé…ç½®ä¸­å¿ƒå°±æˆä¸ºäº†ä¸€ä¸ªéå¸¸é‡è¦çš„ç»„ä»¶ã€‚å¦‚æœé…ç½®ä¸­å¿ƒå‡ºç°é—®é¢˜å°†ä¼šå¯¼è‡´ç¾éš¾æ€§çš„åæœï¼Œå› æ­¤åœ¨ç”Ÿäº§ä¸­å»ºè®®å¯¹é…ç½®ä¸­å¿ƒåšé›†ç¾¤ï¼Œæ¥æ”¯æŒé…ç½®ä¸­å¿ƒé«˜å¯ç”¨æ€§ã€‚å…·ä½“å‚è€ƒï¼šé…ç½®ä¸­å¿ƒæœåŠ¡åŒ–å’Œé«˜å¯ç”¨ æ¶ˆæ¯æ€»çº¿ï¼šBusä¸Šé¢çš„ Refresh æ–¹æ¡ˆè™½ç„¶å¯ä»¥è§£å†³å•ä¸ªå¾®æœåŠ¡è¿è¡ŒæœŸé—´é‡è½½é…ç½®ä¿¡æ¯çš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨çœŸæ­£çš„å®è·µç”Ÿäº§ä¸­ï¼Œå¯èƒ½ä¼šæœ‰ N å¤šçš„æœåŠ¡éœ€è¦æ›´æ–°é…ç½®ï¼Œå¦‚æœæ¯æ¬¡ä¾é æ‰‹åŠ¨ Refresh å°†æ˜¯ä¸€ä¸ªå·¨å¤§çš„å·¥ä½œé‡ï¼Œè¿™æ—¶å€™ Spring Cloud æå‡ºäº†å¦å¤–ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šSpring Cloud Bus Spring Cloud Bus é€šè¿‡è½»é‡æ¶ˆæ¯ä»£ç†è¿æ¥å„ä¸ªåˆ†å¸ƒçš„èŠ‚ç‚¹ã€‚è¿™ä¼šç”¨åœ¨å¹¿æ’­çŠ¶æ€çš„å˜åŒ–ï¼ˆä¾‹å¦‚é…ç½®å˜åŒ–ï¼‰æˆ–è€…å…¶å®ƒçš„æ¶ˆæ¯æŒ‡ä»¤ä¸­ã€‚Spring Cloud Bus çš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡åˆ†å¸ƒå¼çš„å¯åŠ¨å™¨å¯¹Spring Bootåº”ç”¨è¿›è¡Œæ‰©å±•ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å»ºç«‹ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ä¹‹é—´çš„é€šä¿¡é¢‘é“ã€‚ç›®å‰å”¯ä¸€å®ç°çš„æ–¹å¼æ˜¯ç”¨ AMQP æ¶ˆæ¯ä»£ç†ä½œä¸ºé€šé“ã€‚ Spring Cloud Bus æ˜¯è½»é‡çº§çš„é€šè®¯ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å…¶å®ƒç±»ä¼¼çš„åœºæ™¯ä¸­ã€‚æœ‰äº† Spring Cloud Bus ä¹‹åï¼Œå½“æˆ‘ä»¬æ”¹å˜é…ç½®æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­æ—¶ï¼Œä¼šè‡ªåŠ¨çš„è§¦å‘å¯¹åº”å®ä¾‹çš„ Refreshï¼Œå…·ä½“çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š ä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« æ¥äº†è§£ï¼šé…ç½®ä¸­å¿ƒå’Œæ¶ˆæ¯æ€»çº¿ æ¶ˆæ¯é©±åŠ¨çš„å¾®æœåŠ¡ï¼šStreamSpring Cloud Stream æ˜¯ä¸€ä¸ªç”¨æ¥ä¸ºå¾®æœåŠ¡åº”ç”¨æ„å»ºæ¶ˆæ¯é©±åŠ¨èƒ½åŠ›çš„æ¡†æ¶ã€‚å®ƒå¯ä»¥åŸºäº Spring Boot æ¥åˆ›å»ºç‹¬ç«‹çš„ã€å¯ç”¨äºç”Ÿäº§çš„ Spring åº”ç”¨ç¨‹åºã€‚å®ƒé€šè¿‡ä½¿ç”¨ Spring Integration æ¥è¿æ¥æ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶ä»¥å®ç°æ¶ˆæ¯äº‹ä»¶é©±åŠ¨çš„å¾®æœåŠ¡åº”ç”¨ã€‚ ä¸‹å›¾æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº Spring Cloud Stream åº”ç”¨æ¨¡å‹çš„ç»“æ„å›¾ã€‚ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒSpring Cloud Stream æ„å»ºçš„åº”ç”¨ç¨‹åºä¸æ¶ˆæ¯ä¸­é—´ä»¶ä¹‹é—´æ˜¯é€šè¿‡ç»‘å®šå™¨ Binder ç›¸å…³è”çš„ï¼Œç»‘å®šå™¨å¯¹äºåº”ç”¨ç¨‹åºè€Œè¨€èµ·åˆ°äº†éš”ç¦»ä½œç”¨ï¼Œå®ƒä½¿å¾—ä¸åŒæ¶ˆæ¯ä¸­é—´ä»¶çš„å®ç°ç»†èŠ‚å¯¹åº”ç”¨ç¨‹åºæ¥è¯´æ˜¯é€æ˜çš„ã€‚æ‰€ä»¥å¯¹äºæ¯ä¸€ä¸ª Spring Cloud Stream çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå®ƒä¸éœ€è¦çŸ¥æ™“æ¶ˆæ¯ä¸­é—´ä»¶çš„é€šä¿¡ç»†èŠ‚ï¼Œå®ƒåªéœ€è¦çŸ¥é“ Binder å¯¹åº”ç”¨ç¨‹åºæä¾›çš„æ¦‚å¿µå»å®ç°å³å¯ã€‚å¦‚ä¸‹å›¾æ¡ˆä¾‹ï¼Œåœ¨åº”ç”¨ç¨‹åºå’Œ Binder ä¹‹é—´å®šä¹‰äº†ä¸¤æ¡è¾“å…¥é€šé“å’Œä¸‰æ¡è¾“å‡ºé€šé“æ¥ä¼ é€’æ¶ˆæ¯ï¼Œè€Œç»‘å®šå™¨åˆ™æ˜¯ä½œä¸ºè¿™äº›é€šé“å’Œæ¶ˆæ¯ä¸­é—´ä»¶ä¹‹é—´çš„æ¡¥æ¢è¿›è¡Œé€šä¿¡ã€‚ Spring Cloud Stream ä¸ºä¸€äº›ä¾›åº”å•†çš„æ¶ˆæ¯ä¸­é—´ä»¶äº§å“æä¾›äº†ä¸ªæ€§åŒ–çš„è‡ªåŠ¨åŒ–é…ç½®å®ç°ï¼Œå¹¶ä¸”å¼•å…¥äº†å‘å¸ƒ-è®¢é˜…ã€æ¶ˆè´¹ç»„ä»¥åŠæ¶ˆæ¯åˆ†åŒºè¿™ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚ç®€å•çš„è¯´ï¼ŒSpring Cloud Stream æœ¬è´¨ä¸Šå°±æ˜¯æ•´åˆäº† Spring Boot å’Œ Spring Integrationï¼Œå®ç°äº†ä¸€å¥—è½»é‡çº§çš„æ¶ˆæ¯é©±åŠ¨çš„å¾®æœåŠ¡æ¡†æ¶ã€‚é€šè¿‡ä½¿ç”¨ Spring Cloud Streamï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®€åŒ–å¼€å‘äººå‘˜å¯¹æ¶ˆæ¯ä¸­é—´ä»¶çš„ä½¿ç”¨å¤æ‚åº¦ï¼Œè®©ç³»ç»Ÿå¼€å‘äººå‘˜å¯ä»¥æœ‰æ›´å¤šçš„ç²¾åŠ›å…³æ³¨äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚ç”±äº Spring Cloud Stream åŸºäº Spring Boot å®ç°ï¼Œæ‰€ä»¥å®ƒç§‰æ‰¿äº† Spring Boot çš„ä¼˜ç‚¹ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–é…ç½®çš„åŠŸèƒ½å¸®å¿™æˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„ä¸Šæ‰‹ä½¿ç”¨ï¼Œä½†æ˜¯ç›®å‰ä¸ºæ­¢ Spring Cloud Stream åªæ”¯æŒ RabbitMQ å’Œ Kafka ä¸¤ä¸ªè‘—åçš„æ¶ˆæ¯ä¸­é—´ä»¶çš„è‡ªåŠ¨åŒ–é…ç½®ï¼š å®æˆ˜ï¼šSpring Cloudæ„å»ºå¾®æœåŠ¡æ¶æ„ï¼šæ¶ˆæ¯é©±åŠ¨çš„å¾®æœåŠ¡ï¼ˆå…¥é—¨ï¼‰ã€Dalstonç‰ˆã€‘ - http://blog.didispace.com/spring-cloud-starter-dalston-7-1/ åˆ†å¸ƒå¼æœåŠ¡è·Ÿè¸ªï¼šSleuthéšç€æœåŠ¡çš„è¶Šæ¥è¶Šå¤šï¼Œå¯¹è°ƒç”¨é“¾çš„åˆ†æä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œå¦‚æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€æŸä¸ªè¯·æ±‚å¯¹åº”çš„è°ƒç”¨é“¾ã€è°ƒç”¨ä¹‹é—´æ¶ˆè´¹çš„æ—¶é—´ç­‰ï¼Œå¯¹è¿™äº›ä¿¡æ¯è¿›è¡Œç›‘æ§å°±æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚åœ¨å®é™…çš„ä½¿ç”¨ä¸­æˆ‘ä»¬éœ€è¦ç›‘æ§æœåŠ¡å’ŒæœåŠ¡ä¹‹é—´é€šè®¯çš„å„é¡¹æŒ‡æ ‡ï¼Œè¿™äº›æ•°æ®å°†æ˜¯æˆ‘ä»¬æ”¹è¿›ç³»ç»Ÿæ¶æ„çš„ä¸»è¦ä¾æ®ã€‚å› æ­¤åˆ†å¸ƒå¼çš„é“¾è·¯è·Ÿè¸ªå°±å˜çš„éå¸¸é‡è¦ï¼ŒSpring Cloud ä¹Ÿç»™å‡ºäº†å…·ä½“çš„è§£å†³æ–¹æ¡ˆï¼šSpring Cloud Sleuth å’Œ Zipkin Spring Cloud Sleuth ä¸ºæœåŠ¡ä¹‹é—´è°ƒç”¨æä¾›é“¾è·¯è¿½è¸ªã€‚é€šè¿‡ Sleuth å¯ä»¥å¾ˆæ¸…æ¥šçš„äº†è§£åˆ°ä¸€ä¸ªæœåŠ¡è¯·æ±‚ç»è¿‡äº†å“ªäº›æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡å¤„ç†èŠ±è´¹äº†å¤šé•¿æ—¶é—´ã€‚ä»è€Œè®©æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç†æ¸…å„å¾®æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»ã€‚ Zipkin æ˜¯ Twitter çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå…è®¸å¼€å‘è€…æ”¶é›† Twitter å„ä¸ªæœåŠ¡ä¸Šçš„ç›‘æ§æ•°æ®ï¼Œå¹¶æä¾›æŸ¥è¯¢æ¥å£ åˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ªéœ€è¦ Sleuth + Zipkin ç»“åˆæ¥å®ç°ï¼Œå…·ä½“æ“ä½œå‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šåˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ª(Sleuth) æ€»ç»“æˆ‘ä»¬ä»æ•´ä½“ä¸Šæ¥çœ‹ä¸€ä¸‹Spring Cloudå„ä¸ªç»„ä»¶å¦‚ä½•æ¥é…å¥—ä½¿ç”¨ï¼š ä»ä¸Šå›¾å¯ä»¥çœ‹å‡º Spring Cloud å„ä¸ªç»„ä»¶ç›¸äº’é…åˆï¼Œåˆä½œæ”¯æŒäº†ä¸€å¥—å®Œæ•´çš„å¾®æœåŠ¡æ¶æ„ã€‚ å…¶ä¸­ Eureka è´Ÿè´£æœåŠ¡çš„æ³¨å†Œä¸å‘ç°ï¼Œå¾ˆå¥½å°†å„æœåŠ¡è¿æ¥èµ·æ¥ Hystrix è´Ÿè´£ç›‘æ§æœåŠ¡ä¹‹é—´çš„è°ƒç”¨æƒ…å†µï¼Œè¿ç»­å¤šæ¬¡å¤±è´¥è¿›è¡Œç†”æ–­ä¿æŠ¤ã€‚ Hystrix dashboard,Turbine è´Ÿè´£ç›‘æ§ Hystrix çš„ç†”æ–­æƒ…å†µï¼Œå¹¶ç»™äºˆå›¾å½¢åŒ–çš„å±•ç¤º Spring Cloud Config æä¾›äº†ç»Ÿä¸€çš„é…ç½®ä¸­å¿ƒæœåŠ¡ å½“é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼ŒSpring Cloud Bus è´Ÿè´£é€šçŸ¥å„æœåŠ¡å»è·å–æœ€æ–°çš„é…ç½®ä¿¡æ¯ æ‰€æœ‰å¯¹å¤–çš„è¯·æ±‚å’ŒæœåŠ¡ï¼Œæˆ‘ä»¬éƒ½é€šè¿‡ Zuul æ¥è¿›è¡Œè½¬å‘ï¼Œèµ·åˆ° API ç½‘å…³çš„ä½œç”¨ æœ€åæˆ‘ä»¬ä½¿ç”¨ Sleuth + Zipkin å°†æ‰€æœ‰çš„è¯·æ±‚æ•°æ®è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œåç»­åˆ†æ Spring Cloud ä»è®¾è®¡ä¹‹åˆå°±è€ƒè™‘äº†ç»å¤§å¤šæ•°äº’è”ç½‘å…¬å¸æ¶æ„æ¼”åŒ–æ‰€éœ€çš„åŠŸèƒ½ï¼Œå¦‚æœåŠ¡å‘ç°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯æ€»çº¿ã€è´Ÿè½½å‡è¡¡ã€æ–­è·¯å™¨ã€æ•°æ®ç›‘æ§ç­‰ã€‚è¿™äº›åŠŸèƒ½éƒ½æ˜¯ä»¥æ’æ‹”çš„å½¢å¼æä¾›å‡ºæ¥ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç³»ç»Ÿæ¶æ„æ¼”è¿›çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åˆç†çš„é€‰æ‹©éœ€è¦çš„ç»„ä»¶è¿›è¡Œé›†æˆï¼Œä»è€Œåœ¨æ¶æ„æ¼”è¿›çš„è¿‡ç¨‹ä¸­ä¼šæ›´åŠ å¹³æ»‘ã€é¡ºåˆ©ã€‚ å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§è¶‹åŠ¿ï¼ŒSpring Cloud æä¾›äº†æ ‡å‡†åŒ–çš„ã€å…¨ç«™å¼çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæ„ä¹‰å¯èƒ½ä¼šå ªæ¯”å½“å‰ Servlet è§„èŒƒçš„è¯ç”Ÿï¼Œæœ‰æ•ˆæ¨è¿›æœåŠ¡ç«¯è½¯ä»¶ç³»ç»ŸæŠ€æœ¯æ°´å¹³çš„è¿›æ­¥ã€‚ å¼•ç”¨è‡ªï¼šä»æ¶æ„æ¼”è¿›çš„è§’åº¦èŠèŠSpring Cloudéƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ - http://www.ityouknow.com/springcloud/2017/11/02/framework-and-springcloud.html å››ã€Spring Cloud ç‰ˆæœ¬ åˆšæ¥è§¦çš„ã€ŒSpring Cloudã€çš„ç«¥é‹å¯èƒ½ä¼šå¯¹å®ƒçš„ç‰ˆæœ¬æ„Ÿåˆ°å¥‡æ€ªï¼Œä»€ä¹ˆ Angleã€Brixtonã€Finchleyï¼Œè¿™äº›éƒ½æ˜¯å•¥å•Šï¼Ÿã€Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤šç§çœ‹èµ·æ¥ä¸åŒçš„ Spring Cloudï¼Ÿã€ ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼šSpring Cloud æ˜¯ä¸€ä¸ªæ‹¥æœ‰è¯¸å¤šå­é¡¹ç›®çš„å¤§å‹ç»¼åˆé¡¹ç›®ï¼ˆåŠŸèƒ½ä¸æ­¢ä¸Šé¢çš„ä»‹ç»ï¼‰ï¼ŒåŸåˆ™ä¸Šå…¶å­é¡¹ç›®ä¹Ÿéƒ½ç»´æŠ¤ç€è‡ªå·±çš„å‘å¸ƒç‰ˆæœ¬å·ã€‚é‚£ä¹ˆæ¯ä¸€ä¸ªSpring Cloudçš„ç‰ˆæœ¬éƒ½ä¼šåŒ…å«ä¸åŒçš„å­é¡¹ç›®ç‰ˆæœ¬ï¼Œä¸ºäº†è¦ç®¡ç†æ¯ä¸ªç‰ˆæœ¬çš„å­é¡¹ç›®æ¸…å•ï¼Œé¿å…ç‰ˆæœ¬åä¸å­é¡¹ç›®çš„å‘å¸ƒå·æ··æ·†ï¼Œæ‰€ä»¥æ²¡æœ‰é‡‡ç”¨ç‰ˆæœ¬å·çš„æ–¹å¼ï¼Œè€Œæ˜¯é€šè¿‡å‘½åçš„æ–¹å¼ã€‚ è¿™äº›ç‰ˆæœ¬åå­—é‡‡ç”¨äº†ä¼¦æ•¦åœ°é“ç«™çš„åå­—ï¼Œæ ¹æ®å­—æ¯è¡¨çš„é¡ºåºæ¥å¯¹åº”ç‰ˆæœ¬æ—¶é—´é¡ºåºï¼Œæ¯”å¦‚ï¼šæœ€æ—©çš„Releaseç‰ˆæœ¬ï¼šAngelï¼Œç¬¬äºŒä¸ªReleaseç‰ˆæœ¬ï¼šBrixtonï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦ å½“ä¸€ä¸ªé¡¹ç›®åˆ°è¾¾å‘å¸ƒä¸´ç•Œç‚¹æˆ–è€…è§£å†³äº†ä¸€ä¸ªä¸¥é‡çš„ BUG åå°±ä¼šå‘å¸ƒä¸€ä¸ª â€œservice Releaseâ€ ç‰ˆæœ¬ï¼Œ ç®€ç§° SRï¼ˆXï¼‰ç‰ˆæœ¬ï¼Œx ä»£è¡¨ä¸€ä¸ªé€’å¢æ•°å­—ã€‚ å¼•ç”¨è‡ªï¼šèŠèŠSpring Cloudç‰ˆæœ¬çš„é‚£äº›äº‹å„¿ - http://blog.didispace.com/springcloud-version/ Spring Cloud &amp; Spring Boot ç‰ˆæœ¬å¯¹ç…§è¡¨é€šè¿‡æŸ¥é˜…å®˜ç½‘ï¼šhttps://spring.io/projects/spring-cloudï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªã€ŒRelease train Spring Boot compatibilityã€è¡¨ï¼š Release Train Boot Version Greenwich 2.1.x Finchley 2.0.x Edgware 1.5.x Dalston 1.5.x ä¸Šè¡¨å¯ä»¥çœ‹å‡ºï¼Œæœ€æ–°çš„ã€ŒSpring Cloudã€ç‰ˆæœ¬å·²ç»å‡ºåˆ°äº† Greenwichâ€¦ æ¯ä¸ªç‰ˆæœ¬éƒ½èƒ½æŸ¥é˜…åˆ°å½“å‰ç‰ˆæœ¬æ‰€åŒ…å«çš„å­é¡¹ç›®ï¼Œä»¥åŠå­é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤æ¥å†³å®šéœ€è¦é€‰æ‹©æ€ä¹ˆæ ·çš„ç‰ˆæœ¬ã€‚ å‚è€ƒèµ„æ–™ 1. å¤–è¡Œäººéƒ½èƒ½çœ‹æ‡‚çš„SpringCloudï¼Œé”™è¿‡äº†è¡€äºï¼ - https://juejin.im/post/5b83466b6fb9a019b421cecc#heading-192. ä»æ¶æ„æ¼”è¿›çš„è§’åº¦èŠèŠSpring Cloudéƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ - http://www.ityouknow.com/springcloud/2017/11/02/framework-and-springcloud.html3. èŠèŠSpring Cloudç‰ˆæœ¬çš„é‚£äº›äº‹å„¿ - http://blog.didispace.com/springcloud-version/4. Spring Cloud ä»å…¥é—¨åˆ°ç²¾é€š - http://blog.didispace.com/spring-cloud-learning/5. Spring Cloud ä¸­æ–‡ç½‘ - https://springcloud.cc/ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://www.wmyskxz.com/categories/Spring-Cloud/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://www.wmyskxz.com/tags/Spring-Cloud/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šé‡æ„:æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°","slug":"ã€Šé‡æ„-æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°","date":"2019-06-07T23:37:00.000Z","updated":"2020-08-03T09:25:08.973Z","comments":true,"path":"2019/06/08/chong-gou-gai-shan-ji-you-dai-ma-de-she-ji-du-shu-bi-ji/","link":"","permalink":"http://www.wmyskxz.com/2019/06/08/chong-gou-gai-shan-ji-you-dai-ma-de-she-ji-du-shu-bi-ji/","excerpt":"","text":"å‰è¨€ï¼š æ§è¯»åƒè¿™ä¸€ç±»çš„ä¹¦å¯¹äºè‡ªå·±æ¥è¯´æ€»å¸¦ç€ä¸€äº›ç¥åœ£æ„Ÿï¼Œæ„Ÿè°¢è‡ªå·±å¹¶æ²¡æœ‰è¢«è¿™ä¹ˆå®å¤§çš„ä¸»é¢˜å“é€€ï¼Œçœ‹å®Œäº†è¿™é‡Œåˆ†äº«è¾“å‡ºä¸€ä¸‹è‡ªå·±çš„ç¬”è®°ã€‚ ä¸€ã€ç†è§£é‡æ„ ä»€ä¹ˆæ˜¯é‡æ„ï¼ŸæŒ‰ä¹¦ä¸­ P45 ä¸­çš„è¯´æ³•ï¼Œé‡æ„è¿™ä¸ªæ¦‚å¿µè¢«åˆ†æˆäº†åŠ¨è¯å’Œåè¯çš„æ–¹é¢è¢«åˆ†åˆ«é˜è¿°ï¼š é‡æ„ï¼ˆåè¯ï¼‰ï¼š å¯¹è½¯ä»¶å†…éƒ¨ç»“æ„çš„ä¸€ç§è°ƒæ•´ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜è½¯ä»¶å¯è§‚å¯Ÿè¡Œä¸ºçš„å‰æä¸‹ï¼Œæé«˜å…¶å¯ç†è§£æ€§ï¼Œé™ä½å…¶ä¿®æ”¹æˆæœ¬ã€‚ é‡æ„ï¼ˆåŠ¨è¯ï¼‰ï¼š ä½¿ç”¨ä¸€ç³»åˆ—é‡æ„æ‰‹æ³•ï¼Œåœ¨ä¸æ”¹å˜è½¯ä»¶å¯è§‚å¯Ÿè¡Œä¸ºçš„å‰æä¸‹ï¼Œè°ƒæ•´å…¶ç»“æ„ã€‚ åœ¨è¿‡å»çš„å‡ åå¹´æ—¶é—´é‡Œï¼Œé‡æ„è¿™ä¸ªè¯ä¼¼ä¹è¢«ç”¨æ¥ä»£æŒ‡ä»»ä½•å½¢å¼çš„ä»£ç æ¸…ç†ï¼Œä½†ä¸Šé¢çš„å®šä¹‰æ‰€æŒ‡çš„æ˜¯ä¸€ç§ç‰¹å®šçš„æ¸…ç†ä»£ç çš„æ–¹å¼ã€‚é‡æ„çš„å…³é”®åœ¨äºè¿ç”¨å¤§é‡å¾®å°ä¸”ä¿æŒè½¯ä»¶è¡Œä¸ºçš„æ­¥éª¤ï¼Œä¸€æ­¥ä¸€æ­¥è¾¾æˆå¤§è§„æ¨¡çš„ä¿®æ”¹ã€‚ æ¯ä¸€æ¬¡çš„é‡æ„è¦ä¹ˆå¾ˆå°ï¼Œè¦ä¹ˆåŒ…å«äº†è‹¥å¹²ä¸ªå°æ­¥éª¤ï¼Œå³ä½¿é‡æ„æ²¡æœ‰å®Œæˆï¼Œä¹Ÿåº”å½“å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»åœä¸‹æ¥ï¼Œæ‰€ä»¥å¦‚æœæœ‰äººè¯´å®ƒä»¬çš„ä»£ç åœ¨é‡æ„è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸¤å¤©æ—¶é—´ä¸å¯ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šï¼Œä»–ä»¬åšçš„äº‹ä¸æ˜¯é‡æ„ã€‚ ä¸æ€§èƒ½ä¼˜åŒ–çš„åŒºåˆ«é‡æ„ä¸æ€§èƒ½ä¼˜åŒ–æœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼šä¸¤è€…éƒ½éœ€è¦ä¿®æ”¹ä»£ç ï¼Œå¹¶ä¸”ä¸¤è€…éƒ½ä¸ä¼šæ”¹å˜ç¨‹åºçš„æ•´ä½“åŠŸèƒ½ã€‚ ä¸¤è€…çš„å·®åˆ«åœ¨äºèµ·ç›®çš„ï¼š é‡æ„æ˜¯ä¸ºäº†è®©ä»£ç  â€œæ›´å®¹æ˜“ç†è§£ï¼Œæ›´å®¹æ˜“ä¿®æ”¹â€ã€‚è¿™å¯èƒ½ä½¿ç¨‹åºè¿è¡Œå¾—æ›´å¿«ï¼Œä¹Ÿå¯èƒ½ä½¿ç¨‹åºè¿è¡Œçš„æ›´æ…¢ã€‚ æ€§èƒ½ä¼˜åŒ–åˆ™åªå…³å¿ƒç¨‹åºæ˜¯å¦è¿è¡Œçš„æ›´å¿«ã€‚å¯¹äºæœ€ç»ˆå¾—åˆ°çš„ä»£ç æ˜¯å¦å®¹æ˜“ç†è§£å’Œç»´æŠ¤å°±ä¸çŸ¥é“äº†ã€‚ ä¸ºä»€ä¹ˆé‡æ„ï¼Ÿé‡æ„ä¸æ˜¯åŒ…æ²»ç™¾ç—…çš„çµä¸¹å¦™è¯ï¼Œä¹Ÿç»å¯¹ä¸æ˜¯æ‰€è°“çš„â€œé“¶å¼¹â€ã€‚é‡æ„åªæ˜¯ä¸€ç§å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ å§‹ç»ˆè‰¯å¥½çš„æ§åˆ¶ä»£ç è€Œå·²ã€‚ä½¿ç”¨å®ƒï¼Œå¯èƒ½åŸºäºä¸‹é¢çš„å‡ ä¸ªç›®çš„ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰æ„æ€çš„ç§‘æ™®ï¼ˆå¼•ç”¨è‡ªç™¾åº¦ç™¾ç§‘ï¼šæ²¡æœ‰é“¶å¼¹ï¼‰ï¼šåœ¨æ°‘ä¿—ä¼ è¯´é‡Œï¼Œæ‰€æœ‰èƒ½è®©æˆ‘ä»¬å……æ»¡æ¢¦é¥çš„æ€ªç‰©ä¹‹ä¸­ï¼Œæ²¡æœ‰æ¯”ç‹¼äººæ›´å¯æ€•çš„äº†ï¼Œå› ä¸ºå®ƒä»¬ä¼šçªç„¶åœ°ä»ä¸€èˆ¬äººå˜èº«ä¸ºææ€–çš„æ€ªå…½ï¼Œå› æ­¤äººä»¬å°è¯•ç€æŸ¥æ‰¾èƒ½å¤Ÿå¥‡è¿¹ä¼¼åœ°å°†ç‹¼äººä¸€æªæ¯™å‘½çš„é“¶å¼¹ã€‚æˆ‘ä»¬ç†Ÿæ‚‰çš„è½¯ä»¶é¡¹ç›®ä¹Ÿæœ‰ç±»ä¼¼çš„ç‰¹è´¨ï¼ˆä»¥ä¸€ä¸ªä¸æ‡‚æŠ€æœ¯çš„ç®¡ç†è€…è§’åº¦æ¥çœ‹ï¼‰ï¼Œå¹³å¸¸çœ‹ä¼¼å•çº¯è€Œç‡ç›´ï¼Œä½†å¾ˆå¯èƒ½ä¸€è½¬çœ¼å°±å˜æˆä¸€åªæ—¶ç¨‹å»¶è¯¯ã€é¢„ç®—è¶…æ”¯ã€äº§å“å……æ»¡ç‘•ç–µçš„æ€ªå…½ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¬åˆ°äº†ç»æœ›çš„å‘¼å”¤ï¼Œæ¸´æœ›æœ‰ä¸€ç§é“¶å¼¹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½è½¯ä»¶å¼€å‘çš„æˆæœ¬ï¼Œå°±è·Ÿç”µè„‘ç¡¬ä»¶æˆæœ¬èƒ½å¿«é€Ÿä¸‹é™ä¸€æ ·ã€‚ 1. æ”¹è¿›è½¯ä»¶çš„è®¾è®¡å½“äººä»¬åªä¸ºçŸ­æœŸç›®çš„è€Œä¿®æ”¹ä»£ç æ—¶ï¼Œä»–ä»¬ç»å¸¸æ²¡æœ‰å®Œå…¨ç†è§£æ¶æ„çš„æ•´ä½“è®¾è®¡ã€‚äºæ˜¯ä»£ç é€æ¸å¤±å»äº†è‡ªå·±çš„ç»“æ„ã€‚ç¨‹åºå‘˜è¶Šæ¥è¶Šéš¾ä»¥é€šè¿‡é˜…è¯»ä»£ç æ¥ç†è§£åŸæ¥çš„è®¾è®¡ã€‚ä»£ç ç»“æ„çš„æµå¤±æœ‰ç´¯ç§¯æ•ˆåº”ã€‚è¶Šéš¾çœ‹å‡ºä»£ç æ‰€ä»£è¡¨çš„è®¾è®¡ä¼å›¾ï¼Œå°±è¶Šéš¾ä»¥ä¿æŠ¤å…¶è®¾è®¡ï¼Œäºæ˜¯è®¾è®¡å°±è…è´¥å¾—è¶Šå¿«ã€‚ å®ŒæˆåŒæ ·ä¸€ä»¶äº‹ï¼Œè®¾è®¡æ¬ ä½³çš„ç¨‹åºå¾€å¾€éœ€è¦æ›´å¤šä»£ç ï¼Œè¿™å¸¸å¸¸æ˜¯å› ä¸ºä»£ç åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨å®Œå…¨ç›¸åŒçš„è¯­å¥åšåŒæ ·çš„äº‹æƒ…ï¼Œå› æ­¤æ”¹è¿›è®¾è®¡çš„ä¸€ä¸ªé‡è¦æ–¹å‘å°±æ˜¯æ¶ˆé™¤é‡å¤ä»£ç ã€‚æ¶ˆé™¤é‡å¤ä»£ç ï¼Œæˆ‘å°±å¯ä»¥ç¡®å®šæ‰€æœ‰äº‹ç‰©å’Œè¡Œä¸ºåœ¨ä»£ç ä¸­åªè¡¨è¿°ä¸€æ¬¡ï¼Œè¿™æ­£æ˜¯ä¼˜ç§€è®¾è®¡çš„æ ¹æœ¬ã€‚ 2. ä½¿è½¯ä»¶æ›´å®¹æ˜“ç†è§£æ‰€è°“ç¨‹åºè®¾è®¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯ä¸è®¡ç®—æœºå¯¹è¯ï¼šæˆ‘ç¼–å†™ä»£ç å‘Šè¯‰è®¡ç®—æœºåšä»€ä¹ˆï¼Œè€Œå®ƒçš„å“åº”æ˜¯æŒ‰ç…§æˆ‘çš„æŒ‡ç¤ºç²¾ç¡®è¡ŒåŠ¨ã€‚ä¸€è¨€ä»¥è”½ä¹‹ï¼Œæˆ‘æ‰€åšçš„å°±æ˜¯å¡«è¡¥â€œæˆ‘æƒ³è¦å®ƒåšä»€ä¹ˆâ€å’Œâ€œæˆ‘å‘Šè¯‰å®ƒåšä»€ä¹ˆâ€ä¹‹é—´çš„ç¼éš™ã€‚ç¼–ç¨‹çš„æ ¸å¿ƒå°±åœ¨äºâ€œå‡†ç¡®è¯´å‡ºæˆ‘æƒ³è¦çš„â€ã€‚ ç„¶è€Œåˆ«å¿˜äº†ï¼Œé™¤è®¡ç®—æœºä¹‹å¤–ï¼Œæºç è¿˜æœ‰å…¶ä»–è¯»è€…ï¼Œå¹¶ä¸”å¾ˆå¤§æ¦‚ç‡è¿˜æ˜¯å‡ ä¸ªæœˆåçš„è‡ªå·±ï¼Œå¦‚ä½•æ›´æ¸…æ™°åœ°è¡¨è¾¾æˆ‘æƒ³è¦åšçš„ï¼Œè¿™å¯èƒ½å°±éœ€è¦ä¸€äº›é‡æ„çš„æ‰‹æ³•ã€‚ è¿™é‡Œæˆ‘è”æƒ³åˆ°äº†è½¯ä»¶è®¾è®¡çš„ KISS åŸåˆ™ï¼šKISS åŸåˆ™ï¼ŒKeep It Simple and Stupid ï¼Œç®€å•çš„ç†è§£è¿™å¥è¯å°±æ˜¯ï¼Œè¦æŠŠä¸€ä¸ªç³»ç»Ÿåšçš„è¿ç™½ç—´éƒ½ä¼šç”¨ã€‚ 3. å¸®åŠ©æ‰¾åˆ° BUGå¯¹ä»£ç çš„ç†è§£ï¼Œå¯ä»¥å¸®åŠ©æ‰¾åˆ°ç³»ç»Ÿä¸­å­˜åœ¨çš„ä¸€äº› BUGã€‚ææ¸…æ¥šç¨‹åºç»“æ„çš„åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å¯¹è‡ªå·±çš„å‡è®¾åšä¸€äº›éªŒè¯ï¼Œè¿™æ ·ä¸€æ¥ BUG æƒ³ä¸å‘ç°éƒ½éš¾ã€‚ Kent Beck ç»å¸¸å½¢å®¹è‡ªå·±çš„ä¸€å¥è¯æ˜¯ï¼šâ€œæˆ‘ä¸æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„ç¨‹åºå‘˜ï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªæœ‰ç€ä¸€äº›ç‰¹åˆ«å¥½çš„ä¹ æƒ¯çš„è¿˜ä¸é”™çš„çš„ç¨‹åºå‘˜ã€‚â€é‡æ„èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æœ‰æ•ˆåœ°å†™å‡ºå¥å£®çš„ä»£ç ã€‚ 4. æé«˜ç¼–ç¨‹é€Ÿåº¦å¬èµ·æ¥å¯èƒ½æœ‰äº›åç›´è§‰ï¼Œå› ä¸ºé‡æ„å¯èƒ½ä¼šèŠ±å¤§é‡çš„æ—¶é—´æ”¹å–„è®¾è®¡ã€æé«˜é˜…è¯»æ€§ã€ä¿®æ”¹ BUGï¼Œéš¾é“ä¸æ˜¯åœ¨é™ä½å¼€å‘é€Ÿåº¦å˜›ï¼Ÿ è½¯ä»¶å¼€å‘è€…äº¤è°ˆæ—¶çš„æ•…äº‹ï¼šä¸€å¼€å§‹ä»–ä»¬è¿›å±•å¾ˆå¿«ï¼Œä½†å¦‚ä»Šæƒ³è¦æ·»åŠ ä¸€ä¸ªæ–°åŠŸèƒ½éœ€è¦çš„æ—¶é—´å°±è¦é•¿å¾—å¤šã€‚ä»–ä»¬éœ€è¦èŠ±è¶Šæ¥è¶Šå¤šçš„æ—¶é—´å»è€ƒè™‘å¦‚ä½•æŠŠæ–°åŠŸèƒ½å¡è¿›ç°æœ‰çš„ä»£ç åº“ï¼Œä¸æ–­è¹¦å‡ºæ¥çš„bugä¿®å¤èµ·æ¥ä¹Ÿè¶Šæ¥è¶Šæ…¢ã€‚ä»£ç åº“çœ‹èµ·æ¥å°±åƒè¡¥ä¸æ‘è¡¥ä¸ï¼Œéœ€è¦ç»†è‡´çš„è€ƒå¤å·¥ä½œæ‰èƒ½å¼„æ˜ç™½æ•´ä¸ªç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è¿™ä»½è´Ÿæ‹…ä¸æ–­æ‹–æ…¢æ–°å¢åŠŸèƒ½çš„é€Ÿåº¦ï¼Œåˆ°æœ€åç¨‹åºå‘˜æ¨ä¸å¾—ä»å¤´å¼€å§‹é‡å†™æ•´ä¸ªç³»ç»Ÿã€‚ ä¸‹é¢è¿™å¹…å›¾å¯ä»¥æç»˜ä»–ä»¬ç»å†çš„å›°å¢ƒã€‚ ä½†æœ‰äº›å›¢é˜Ÿçš„å¢ƒé‡åˆ™æˆªç„¶ä¸åŒã€‚ä»–ä»¬æ·»åŠ æ–°åŠŸèƒ½çš„é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œå› ä¸ºä»–ä»¬èƒ½åˆ©ç”¨å·²æœ‰çš„åŠŸèƒ½ï¼ŒåŸºäºå·²æœ‰çš„åŠŸèƒ½å¿«é€Ÿæ„å»ºæ–°åŠŸèƒ½ã€‚ ä¸¤ç§å›¢é˜Ÿçš„åŒºåˆ«å°±åœ¨äºè½¯ä»¶çš„å†…éƒ¨è´¨é‡ã€‚éœ€è¦æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå†…éƒ¨è´¨é‡è‰¯å¥½çš„è½¯ä»¶è®©æˆ‘å¯ä»¥å¾ˆå®¹æ˜“æ‰¾åˆ°åœ¨å“ªé‡Œä¿®æ”¹ã€å¦‚ä½•ä¿®æ”¹ã€‚è‰¯å¥½çš„æ¨¡å—åˆ’åˆ†ä½¿æˆ‘åªéœ€è¦ç†è§£ä»£ç åº“çš„ä¸€å°éƒ¨åˆ†ï¼Œå°±å¯ä»¥åšå‡ºä¿®æ”¹ã€‚å¦‚æœä»£ç å¾ˆæ¸…æ™°ï¼Œæˆ‘å¼•å…¥ BUG çš„å¯èƒ½æ€§å°±ä¼šå˜å°ï¼Œå³ä½¿å¼•å…¥äº† BUGï¼Œè°ƒè¯•ä¹Ÿä¼šå®¹æ˜“å¾—å¤šã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä»£ç åº“ä¼šé€æ­¥æ¼”åŒ–æˆä¸€ä¸ªå¹³å°ï¼Œåœ¨å…¶ä¸Šå¯ä»¥å¾ˆå®¹æ˜“åœ°æ„é€ ä¸å…¶é¢†åŸŸç›¸å…³çš„æ–°åŠŸèƒ½ã€‚ è¿™ç§ç°è±¡è¢«ä½œè€…ç§°ä¸ºâ€œè®¾è®¡è€ä¹…æ€§å‡è¯´â€ï¼šé€šè¿‡æŠ•å…¥ç²¾åŠ›æ”¹å–„å†…éƒ¨è®¾è®¡ï¼Œæˆ‘ä»¬å¢åŠ äº†è½¯ä»¶çš„è€ä¹…æ€§ï¼Œä»è€Œå¯ä»¥æ›´é•¿æ—¶é—´åœ°ä¿æŒå¼€å‘çš„å¿«é€Ÿã€‚ç›®å‰è¿˜æ— æ³•ç§‘å­¦åœ°è¯æ˜è¿™ä¸ªç†è®ºï¼Œæ‰€ä»¥è¯´å®ƒæ˜¯ä¸€ä¸ªâ€œå‡è¯´â€ã€‚ 20å¹´å‰ï¼Œè¡Œä¸šçš„é™ˆè§„è®¤ä¸ºï¼šè‰¯å¥½çš„è®¾è®¡å¿…é¡»åœ¨å¼€å§‹ç¼–ç¨‹ä¹‹å‰å®Œæˆï¼Œå› ä¸ºä¸€æ—¦å¼€å§‹ç¼–å†™ä»£ç ï¼Œè®¾è®¡å°±åªä¼šé€æ¸è…è´¥ã€‚é‡æ„æ”¹å˜äº†è¿™ä¸ªå›¾æ™¯ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥æ”¹å–„å·²æœ‰ä»£ç çš„è®¾è®¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆåšä¸€ä¸ªè®¾è®¡ï¼Œç„¶åä¸æ–­æ”¹å–„å®ƒï¼Œå“ªæ€•ç¨‹åºæœ¬èº«çš„åŠŸèƒ½ä¹Ÿåœ¨ä¸æ–­å‘ç”Ÿç€å˜åŒ–ã€‚ç”±äºé¢„å…ˆåšå‡ºè‰¯å¥½çš„è®¾è®¡éå¸¸å›°éš¾ï¼Œæƒ³è¦æ—¢ä½“é¢åˆå¿«é€Ÿåœ°å¼€å‘åŠŸèƒ½ï¼Œé‡æ„å¿…ä¸å¯å°‘ã€‚ ä»€ä¹ˆæ—¶å€™é‡æ„ï¼Ÿ ä¸‰æ¬¡æ³•åˆ™ï¼šç¬¬ä¸€æ¬¡åšæŸä»¶äº‹æ—¶åªç®¡å»åšï¼›ç¬¬äºŒæ¬¡åšç±»ä¼¼çš„äº‹ä¼šäº§ç”Ÿåæ„Ÿï¼Œä½†æ— è®ºå¦‚ä½•è¿˜æ˜¯å¯ä»¥å»åšï¼›ç¬¬ä¸‰æ¬¡å†åšç±»ä¼¼çš„äº‹ï¼Œä½ å°±åº”è¯¥é‡æ„ã€‚ ä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥é‡æ„ï¼Ÿé‡æ„å¹¶ä¸æ˜¯å¿…è¦ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›ä¸é‚£ä¹ˆéœ€è¦é‡æ„çš„æƒ…å†µï¼š ä¸éœ€è¦ä¿®æ”¹ï¼Œé‚£äº›ä¸‘é™‹çš„ä»£ç èƒ½éšè—åœ¨ä¸€ä¸ª API ä¹‹ä¸‹ã€‚ åªæœ‰å½“æˆ‘éœ€è¦ç†è§£å…¶å·¥ä½œåŸç†æ—¶ï¼Œå¯¹å…¶è¿›è¡Œé‡æ„æ‰ä¼šæœ‰ä»·å€¼ï¼› é‡å†™æ¯”é‡æ„å®¹æ˜“ã€‚ è¿™å¯èƒ½å°±éœ€è¦è‰¯å¥½çš„åˆ¤æ–­åŠ›å’Œä¸°å¯Œçš„ç»éªŒæ‰èƒ½å¤Ÿè¿›è¡ŒæŠ‰æ‹©äº†ã€‚ äºŒã€é‡æ„çš„å‡ ç§å§¿åŠ¿ é¢„å¤‡æ€§é‡æ„ï¼šè®©æ·»åŠ æ–°åŠŸèƒ½æ›´å®¹æ˜“é‡æ„çš„æœ€ä½³æ—¶æœºå°±åœ¨æ·»åŠ æ–°åŠŸèƒ½ä¹‹å‰ã€‚åœ¨åŠ¨æ‰‹æ·»åŠ æ–°åŠŸèƒ½ä¹‹å‰ï¼Œæˆ‘ä¼šçœ‹çœ‹ç°æœ‰çš„ä»£ç åº“ï¼Œæ­¤æ—¶ç»å¸¸ä¼šå‘ç°ï¼šå¦‚æœå¯¹ä»£ç ç»“æ„åšä¸€ç‚¹å¾®è°ƒï¼Œæˆ‘çš„å·¥ä½œä¼šå®¹æ˜“å¾—å¤šã€‚ä¹Ÿè®¸å·²ç»æœ‰ä¸ªå‡½æ•°æä¾›äº†æˆ‘éœ€è¦çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†æœ‰å‡ ä¸ªå­—é¢é‡çš„å€¼ä¸æˆ‘çš„éœ€è¦ç•¥æœ‰å†²çªã€‚å¦‚æœä¸åšé‡æ„ï¼Œæˆ‘å¯èƒ½ä¼šæŠŠæ•´ä¸ªå‡½æ•°å¤åˆ¶è¿‡æ¥ï¼Œä¿®æ”¹è¿™å‡ ä¸ªå€¼ï¼Œä½†è¿™å°±ä¼šå¯¼è‡´é‡å¤ä»£ç â€”å¦‚æœå°†æ¥æˆ‘éœ€è¦åšä¿®æ”¹ï¼Œå°±å¿…é¡»åŒæ—¶ä¿®æ”¹ä¸¤å¤„ï¼ˆæ›´éº»çƒ¦çš„æ˜¯ï¼Œæˆ‘å¾—å…ˆæ‰¾åˆ°è¿™ä¸¤å¤„ï¼‰ã€‚è€Œä¸”ï¼Œå¦‚æœå°†æ¥æˆ‘è¿˜éœ€è¦ä¸€ä¸ªç±»ä¼¼åˆç•¥æœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œå°±åªèƒ½å†å¤åˆ¶ç²˜è´´ä¸€æ¬¡ï¼Œè¿™å¯ä¸æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ è¿™å°±å¥½åƒæˆ‘è¦å¾€ä¸œå»100å…¬é‡Œã€‚æˆ‘ä¸ä¼šå¾€ä¸œä¸€å¤´æŠŠè½¦å¼€è¿›æ ‘æ—ï¼Œè€Œæ˜¯å…ˆå¾€åŒ—å¼€20å…¬é‡Œä¸Šé«˜é€Ÿï¼Œç„¶åå†å‘ä¸œå¼€100å…¬é‡Œã€‚åè€…çš„é€Ÿåº¦æ¯”å‰è€…è¦å¿«ä¸Š3å€ã€‚å¦‚æœæœ‰äººå‚¬ç€ä½ â€œèµ¶å¿«ç›´æ¥å»é‚£å„¿â€ï¼Œæœ‰æ—¶ä½ éœ€è¦è¯´ï¼šâ€œç­‰ç­‰ï¼Œæˆ‘è¦å…ˆçœ‹çœ‹åœ°å›¾ï¼Œæ‰¾å‡ºæœ€å¿«çš„è·¯å¾„ã€‚â€è¿™å°±æ˜¯é¢„å¤‡æ€§é‡æ„äºæˆ‘çš„æ„ä¹‰ã€‚ â€”â€”Jessica Kerr ä¿®å¤bugæ—¶çš„æƒ…å†µä¹Ÿæ˜¯ä¸€æ ·ã€‚åœ¨å¯»æ‰¾é—®é¢˜æ ¹å› æ—¶ï¼Œæˆ‘å¯èƒ½ä¼šå‘ç°ï¼šå¦‚æœæŠŠ3æ®µä¸€æ¨¡ä¸€æ ·ä¸”éƒ½ä¼šå¯¼è‡´é”™è¯¯çš„ä»£ç åˆå¹¶åˆ°ä¸€å¤„ï¼Œé—®é¢˜ä¿®å¤èµ·æ¥ä¼šå®¹æ˜“å¾—å¤šã€‚æˆ–è€…ï¼Œå¦‚æœæŠŠæŸäº›æ›´æ–°æ•°æ®çš„é€»è¾‘ä¸æŸ¥è¯¢é€»è¾‘åˆ†å¼€ï¼Œä¼šæ›´å®¹æ˜“é¿å…é€ æˆé”™è¯¯çš„é€»è¾‘çº ç¼ ã€‚ç”¨é‡æ„æ”¹å–„è¿™äº›æƒ…å†µï¼Œåœ¨åŒæ ·åœºåˆå†æ¬¡å‡ºç°åŒæ ·bugçš„æ¦‚ç‡ä¹Ÿä¼šé™ä½ã€‚ å¸®åŠ©ç†è§£çš„é‡æ„ï¼šä½¿ä»£ç æ›´æ˜“æ‡‚æˆ‘éœ€è¦å…ˆç†è§£ä»£ç åœ¨åšä»€ä¹ˆï¼Œç„¶åæ‰èƒ½ç€æ‰‹ä¿®æ”¹ã€‚è¿™æ®µä»£ç å¯èƒ½æ˜¯æˆ‘å†™çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯åˆ«äººå†™çš„ã€‚ä¸€æ—¦æˆ‘éœ€è¦æ€è€ƒâ€œè¿™æ®µä»£ç åˆ°åº•åœ¨åšä»€ä¹ˆâ€ï¼Œæˆ‘å°±ä¼šè‡ªé—®ï¼šèƒ½ä¸èƒ½é‡æ„è¿™æ®µä»£ç ï¼Œä»¤å…¶ä¸€ç›®äº†ç„¶ï¼Ÿæˆ‘å¯èƒ½çœ‹è§äº†ä¸€æ®µç»“æ„ç³Ÿç³•çš„æ¡ä»¶é€»è¾‘ï¼Œä¹Ÿå¯èƒ½å¸Œæœ›å¤ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä½†èŠ±è´¹äº†å‡ åˆ†é’Ÿæ‰å¼„æ‡‚å®ƒåˆ°åº•åœ¨åšä»€ä¹ˆï¼Œå› ä¸ºå®ƒçš„å‡½æ•°å‘½åå®åœ¨æ˜¯å¤ªç³Ÿç³•äº†ã€‚è¿™äº›éƒ½æ˜¯é‡æ„çš„æœºä¼šã€‚ çœ‹ä»£ç æ—¶ï¼Œæˆ‘ä¼šåœ¨è„‘æµ·é‡Œå½¢æˆä¸€äº›ç†è§£ï¼Œä½†æˆ‘çš„è®°æ€§ä¸å¥½ï¼Œè®°ä¸ä½é‚£ä¹ˆå¤šç»†èŠ‚ã€‚æ­£å¦‚ Ward Cunningham æ‰€è¯´ï¼Œé€šè¿‡é‡æ„ï¼Œæˆ‘å°±æŠŠè„‘å­é‡Œçš„ç†è§£è½¬ç§»åˆ°äº†ä»£ç æœ¬èº«ã€‚éšåæˆ‘è¿è¡Œè¿™ä¸ªè½¯ä»¶ï¼Œçœ‹å®ƒæ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œæ¥æ£€æŸ¥è¿™äº›ç†è§£æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæŠŠå¯¹ä»£ç çš„ç†è§£æ¤å…¥ä»£ç ä¸­ï¼Œè¿™ä»½çŸ¥è¯†ä¼šä¿å­˜å¾—æ›´ä¹…ï¼Œå¹¶ä¸”æˆ‘çš„åŒäº‹ä¹Ÿèƒ½çœ‹åˆ°ã€‚ é‡æ„å¸¦æ¥çš„å¸®åŠ©ä¸ä»…å‘ç”Ÿåœ¨å°†æ¥â€”â€”å¸¸å¸¸æ˜¯ç«‹ç«¿è§å½±ã€‚æ˜¯æˆ‘ä¼šå…ˆåœ¨ä¸€äº›å°ç»†èŠ‚ä¸Šä½¿ç”¨é‡æ„æ¥å¸®åŠ©ç†è§£ï¼Œç»™ä¸€ä¸¤ä¸ªå˜é‡æ”¹åï¼Œè®©å®ƒä»¬æ›´æ¸…æ¥šåœ°è¡¨è¾¾æ„å›¾ï¼Œä»¥æ–¹ä¾¿ç†è§£ï¼Œæˆ–æ˜¯å°†ä¸€ä¸ªé•¿å‡½æ•°æ‹†æˆå‡ ä¸ªå°å‡½æ•°ã€‚å½“ä»£ç å˜å¾—æ›´æ¸…æ™°ä¸€äº›æ—¶ï¼Œæˆ‘å°±ä¼šçœ‹è§ä¹‹å‰çœ‹ä¸è§çš„è®¾è®¡é—®é¢˜ã€‚å¦‚æœä¸åšå‰é¢çš„é‡æ„ï¼Œæˆ‘å¯èƒ½æ°¸è¿œéƒ½çœ‹ä¸è§è¿™äº›è®¾è®¡é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä¸å¤Ÿèªæ˜ï¼Œæ— æ³•åœ¨è„‘æµ·ä¸­æ¨æ¼”æ‰€æœ‰è¿™äº›å˜åŒ–ã€‚Ralph Johnsonè¯´ï¼Œè¿™äº›åˆæ­¥çš„é‡æ„å°±åƒæ‰«å»çª—ä¸Šçš„å°˜åŸƒï¼Œä½¿æˆ‘ä»¬å¾—ä»¥çœ‹åˆ°çª—å¤–çš„é£æ™¯ã€‚åœ¨ç ”è¯»ä»£ç æ—¶ï¼Œé‡æ„ä¼šå¼•é¢†æˆ‘è·å¾—æ›´é«˜å±‚é¢çš„ç†è§£ï¼Œå¦‚æœåªæ˜¯é˜…è¯»ä»£ç å¾ˆéš¾æœ‰æ­¤é¢†æ‚Ÿã€‚æœ‰äº›äººä»¥ä¸ºè¿™äº›é‡æ„åªæ˜¯æ¯«æ— æ„ä¹‰åœ°æŠŠç©ä»£ç ï¼Œä»–ä»¬æ²¡æœ‰æ„è¯†åˆ°ï¼Œç¼ºå°‘äº†è¿™äº›ç»†å¾®çš„æ•´ç†ï¼Œä»–ä»¬å°±æ— æ³•çœ‹åˆ°éšè—åœ¨ä¸€ç‰‡æ··ä¹±èƒŒåçš„æœºé‡ã€‚ æ¡åƒåœ¾å¼é‡æ„å¸®åŠ©ç†è§£çš„é‡æ„è¿˜æœ‰ä¸€ä¸ªå˜ä½“ï¼šæˆ‘å·²ç»ç†è§£ä»£ç åœ¨åšä»€ä¹ˆï¼Œä½†å‘ç°å®ƒåšå¾—ä¸å¥½ï¼Œä¾‹å¦‚é€»è¾‘ä¸å¿…è¦åœ°è¿‚å›å¤æ‚ï¼Œæˆ–è€…ä¸¤ä¸ªå‡½æ•°å‡ ä¹å®Œå…¨ç›¸åŒï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå‚æ•°åŒ–çš„å‡½æ•°å–è€Œä»£ä¹‹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå–èˆï¼šæˆ‘ä¸æƒ³ä»çœ¼ä¸‹æ­£è¦å®Œæˆçš„ä»»åŠ¡ä¸Šè·‘é¢˜å¤ªå¤šï¼Œä½†æˆ‘ä¹Ÿä¸æƒ³æŠŠåƒåœ¾ç•™åœ¨åŸåœ°ï¼Œç»™å°†æ¥çš„ä¿®æ”¹å¢åŠ éº»çƒ¦ã€‚å¦‚æœæˆ‘å‘ç°çš„åƒåœ¾å¾ˆå®¹æ˜“é‡æ„ï¼Œæˆ‘ä¼šé©¬ä¸Šé‡æ„å®ƒï¼›å¦‚æœé‡æ„éœ€è¦èŠ±ä¸€äº›ç²¾åŠ›ï¼Œæˆ‘å¯èƒ½ä¼šæ‹¿ä¸€å¼ ä¾¿ç¬ºçº¸æŠŠå®ƒè®°ä¸‹æ¥ï¼Œå®Œæˆå½“ä¸‹çš„ä»»åŠ¡å†å›æ¥é‡æ„å®ƒã€‚ å½“ç„¶ï¼Œæœ‰æ—¶è¿™æ ·çš„åƒåœ¾éœ€è¦å¥½å‡ ä¸ªå°æ—¶æ‰èƒ½è§£å†³ï¼Œè€Œæˆ‘åˆæœ‰æ›´ç´§æ€¥çš„äº‹è¦å®Œæˆã€‚ä¸è¿‡å³ä¾¿å¦‚æ­¤ï¼Œç¨å¾®èŠ±ä¸€ç‚¹å·¥å¤«åšä¸€ç‚¹å„¿æ¸…ç†ï¼Œé€šå¸¸éƒ½æ˜¯å€¼å¾—çš„ã€‚æ­£å¦‚é‡è¥è€…çš„è€è¯æ‰€è¯´ï¼šè‡³å°‘è¦è®©è¥åœ°æ¯”ä½ åˆ°è¾¾æ—¶æ›´å¹²å‡€ã€‚å¦‚æœæ¯æ¬¡ç»è¿‡è¿™æ®µä»£ç æ—¶éƒ½æŠŠå®ƒå˜å¥½ä¸€ç‚¹ç‚¹ï¼Œç§¯å°‘æˆå¤šï¼Œåƒåœ¾æ€»ä¼šè¢«å¤„ç†å¹²å‡€ã€‚é‡æ„çš„å¦™å¤„å°±åœ¨äºï¼Œæ¯ä¸ªå°æ­¥éª¤éƒ½ä¸ä¼šç ´åä»£ç â€”â€”æ‰€ä»¥ï¼Œæœ‰æ—¶ä¸€å—åƒåœ¾åœ¨å¥½å‡ ä¸ªæœˆä¹‹åæ‰ç»ˆäºæ¸…ç†å¹²å‡€ï¼Œä½†å³ä¾¿æ¯æ¬¡æ¸…ç†å¹¶ä¸å®Œæ•´ï¼Œä»£ç ä¹Ÿä¸ä¼šè¢«ç ´åã€‚ æœ‰è®¡åˆ’çš„é‡æ„å’Œè§æœºè¡Œäº‹çš„é‡æ„ä¸Šé¢çš„ä¾‹å­â€”â€”é¢„å¤‡æ€§é‡æ„ã€å¸®åŠ©ç†è§£çš„é‡æ„ã€æ¡åƒåœ¾å¼é‡æ„â€”â€”éƒ½æ˜¯è§æœºè¡Œäº‹çš„ï¼šæˆ‘å¹¶ä¸ä¸“é—¨å®‰æ’ä¸€æ®µæ—¶é—´æ¥é‡æ„ï¼Œè€Œæ˜¯åœ¨æ·»åŠ åŠŸèƒ½æˆ–ä¿®å¤ BUG çš„åŒæ—¶é¡ºä¾¿é‡æ„ã€‚è¿™æ˜¯æˆ‘è‡ªç„¶çš„ç¼–ç¨‹æµçš„ä¸€éƒ¨åˆ†ã€‚ä¸ç®¡æ˜¯è¦æ·»åŠ åŠŸèƒ½è¿˜æ˜¯ä¿®å¤ BUGï¼Œé‡æ„å¯¹æˆ‘å½“ä¸‹çš„ä»»åŠ¡æœ‰å¸®åŠ©ï¼Œè€Œä¸”è®©æˆ‘æœªæ¥çš„å·¥ä½œæ›´è½»æ¾ã€‚è¿™æ˜¯ä¸€ä»¶å¾ˆé‡è¦è€Œåˆå¸¸è¢«è¯¯è§£çš„äº‹ï¼šé‡æ„ä¸æ˜¯ä¸ç¼–ç¨‹å‰²è£‚çš„è¡Œä¸ºã€‚ä½ ä¸ä¼šä¸“é—¨å®‰æ’æ—¶é—´é‡æ„ï¼Œæ­£å¦‚ä½ ä¸ä¼šä¸“é—¨å®‰æ’æ—¶é—´å†™ if è¯­å¥ã€‚æˆ‘çš„é¡¹ç›®è®¡åˆ’ä¸Šæ²¡æœ‰ä¸“é—¨ç•™ç»™é‡æ„çš„æ—¶é—´ï¼Œç»å¤§å¤šæ•°é‡æ„éƒ½åœ¨æˆ‘åšå…¶ä»–äº‹çš„è¿‡ç¨‹ä¸­è‡ªç„¶å‘ç”Ÿã€‚ è¿˜æœ‰ä¸€ç§å¸¸è§çš„è¯¯è§£è®¤ä¸ºï¼Œé‡æ„å°±æ˜¯äººä»¬å¼¥è¡¥è¿‡å»çš„é”™è¯¯æˆ–è€…æ¸…ç†è‚®è„çš„ä»£ç ã€‚å½“ç„¶ï¼Œå¦‚æœé‡ä¸Šäº†è‚®è„çš„ä»£ç ï¼Œä½ å¿…é¡»é‡æ„ï¼Œä½†æ¼‚äº®çš„ä»£ç ä¹Ÿéœ€è¦å¾ˆå¤šé‡æ„ã€‚åœ¨å†™ä»£ç æ—¶ï¼Œæˆ‘ä¼šåšå‡ºå¾ˆå¤šæƒè¡¡å–èˆï¼šå‚æ•°åŒ–éœ€è¦åšåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿå‡½æ•°ä¹‹é—´çš„è¾¹ç•Œåº”è¯¥åˆ’åœ¨å“ªé‡Œï¼Ÿå¯¹äºæ˜¨å¤©çš„åŠŸèƒ½å®Œå…¨åˆç†çš„æƒè¡¡ï¼Œåœ¨ä»Šå¤©è¦æ·»åŠ æ–°åŠŸèƒ½æ—¶å¯èƒ½å°±ä¸å†åˆç†ã€‚å¥½åœ¨ï¼Œå½“æˆ‘éœ€è¦æ”¹å˜è¿™äº›æƒè¡¡ä»¥åæ˜ ç°å®æƒ…å†µçš„å˜åŒ–æ—¶ï¼Œæ•´æ´çš„ä»£ç é‡æ„èµ·æ¥ä¼šæ›´å®¹æ˜“ã€‚ é•¿ä¹…ä»¥æ¥ï¼Œäººä»¬è®¤ä¸ºç¼–å†™è½¯ä»¶æ˜¯ä¸€ä¸ªç´¯åŠ çš„è¿‡ç¨‹ï¼šè¦æ·»åŠ æ–°åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±åº”è¯¥å¢åŠ æ–°ä»£ç ã€‚ä½†ä¼˜ç§€çš„ç¨‹åºå‘˜çŸ¥é“ï¼Œæ·»åŠ æ–°åŠŸèƒ½æœ€å¿«çš„æ–¹æ³•å¾€å¾€æ˜¯å…ˆä¿®æ”¹ç°æœ‰çš„ä»£ç ï¼Œä½¿æ–°åŠŸèƒ½å®¹æ˜“è¢«åŠ å…¥ã€‚æ‰€ä»¥ï¼Œè½¯ä»¶æ°¸è¿œä¸åº”è¯¥è¢«è§†ä¸ºâ€œå®Œæˆâ€ã€‚æ¯å½“éœ€è¦æ–°èƒ½åŠ›æ—¶ï¼Œè½¯ä»¶å°±åº”è¯¥åšå‡ºç›¸åº”çš„æ”¹å˜ã€‚è¶Šæ˜¯åœ¨å·²æœ‰ä»£ç ä¸­ï¼Œè¿™æ ·çš„æ”¹å˜å°±è¶Šæ˜¾é‡è¦ã€‚ ä¸è¿‡ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œå¹¶ä¸è¡¨ç¤ºæœ‰è®¡åˆ’çš„é‡æ„æ€»æ˜¯é”™çš„ã€‚å¦‚æœå›¢é˜Ÿè¿‡å»å¿½è§†äº†é‡æ„ï¼Œé‚£ä¹ˆå¸¸å¸¸ä¼šéœ€è¦ä¸“é—¨èŠ±ä¸€äº›æ—¶é—´æ¥ä¼˜åŒ–ä»£ç åº“ï¼Œä»¥ä¾¿æ›´å®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½ã€‚åœ¨é‡æ„ä¸ŠèŠ±ä¸€ä¸ªæ˜ŸæœŸçš„æ—¶é—´ï¼Œä¼šåœ¨æœªæ¥å‡ ä¸ªæœˆé‡Œå‘æŒ¥ä»·å€¼ã€‚æœ‰æ—¶ï¼Œå³ä¾¿å›¢é˜Ÿåšäº†æ—¥å¸¸çš„é‡æ„ï¼Œè¿˜æ˜¯ä¼šæœ‰é—®é¢˜åœ¨æŸä¸ªåŒºåŸŸé€æ¸ç´¯ç§¯é•¿å¤§ï¼Œæœ€ç»ˆéœ€è¦ä¸“é—¨èŠ±äº›æ—¶é—´æ¥è§£å†³ã€‚ä½†è¿™ç§æœ‰è®¡åˆ’çš„é‡æ„åº”è¯¥å¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†é‡æ„åº”è¯¥æ˜¯ä¸èµ·çœ¼çš„ã€è§æœºè¡Œäº‹çš„ã€‚ é•¿æœŸé‡æ„å¤§å¤šæ•°é‡æ„å¯ä»¥åœ¨å‡ åˆ†é’Ÿâ€”æœ€å¤šå‡ å°æ—¶â€”å†…å®Œæˆã€‚ä½†æœ‰ä¸€äº›å¤§å‹çš„é‡æ„å¯èƒ½è¦èŠ±ä¸Šå‡ ä¸ªæ˜ŸæœŸï¼Œä¾‹å¦‚è¦æ›¿æ¢ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„åº“ï¼Œæˆ–è€…å°†æ•´å—ä»£ç æŠ½å–åˆ°ä¸€ä¸ªç»„ä»¶ä¸­å¹¶å…±äº«ç»™å¦ä¸€æ”¯å›¢é˜Ÿä½¿ç”¨ï¼Œå†æˆ–è€…è¦å¤„ç†ä¸€å¤§å †æ··ä¹±çš„ä¾èµ–å…³ç³»ï¼Œç­‰ç­‰ã€‚ å³ä¾¿åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»ç„¶ä¸æ„¿è®©ä¸€æ”¯å›¢é˜Ÿä¸“é—¨åšé‡æ„ã€‚å¯ä»¥è®©æ•´ä¸ªå›¢é˜Ÿè¾¾æˆå…±è¯†ï¼Œåœ¨æœªæ¥å‡ å‘¨æ—¶é—´é‡Œé€æ­¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ç»å¸¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç­–ç•¥ã€‚æ¯å½“æœ‰äººé è¿‘â€œé‡æ„åŒºâ€çš„ä»£ç ï¼Œå°±æŠŠå®ƒæœæƒ³è¦æ”¹è¿›çš„æ–¹å‘æ¨åŠ¨ä¸€ç‚¹ã€‚è¿™ä¸ªç­–ç•¥çš„å¥½å¤„åœ¨äºï¼Œé‡æ„ä¸ä¼šç ´åä»£ç â€”æ¯æ¬¡å°æ”¹åŠ¨ä¹‹åï¼Œæ•´ä¸ªç³»ç»Ÿä»ç„¶ç…§å¸¸å·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³æ›¿æ¢æ‰ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„åº“ï¼Œå¯ä»¥å…ˆå¼•å…¥ä¸€å±‚æ–°çš„æŠ½è±¡ï¼Œä½¿å…¶å…¼å®¹æ–°æ—§ä¸¤ä¸ªåº“çš„æ¥å£ã€‚ä¸€æ—¦è°ƒç”¨æ–¹å·²ç»å®Œå…¨æ”¹ä¸ºä½¿ç”¨è¿™å±‚æŠ½è±¡ï¼Œæ›¿æ¢ä¸‹é¢çš„åº“å°±ä¼šå®¹æ˜“å¾—å¤šã€‚ï¼ˆè¿™ä¸ªç­–ç•¥å«ä½œBranch By Abstraction[mf-bba]ã€‚ï¼‰ å¤å®¡ä»£ç æ—¶é‡æ„è‡³äºå¦‚ä½•åœ¨ä»£ç å¤å®¡çš„è¿‡ç¨‹ä¸­åŠ å…¥é‡æ„ï¼Œè¿™è¦å–å†³äºå¤å®¡çš„å½¢å¼ã€‚åœ¨å¸¸è§çš„pull requestæ¨¡å¼ä¸‹ï¼Œå¤å®¡è€…ç‹¬è‡ªæµè§ˆä»£ç ï¼Œä»£ç çš„ä½œè€…ä¸åœ¨æ—è¾¹ï¼Œæ­¤æ—¶è¿›è¡Œé‡æ„æ•ˆæœå¹¶ä¸å¥½ã€‚å¦‚æœä»£ç çš„åŸä½œè€…åœ¨æ—è¾¹ä¼šå¥½å¾ˆå¤šï¼Œå› ä¸ºä½œè€…èƒ½æä¾›å…³äºä»£ç çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¹¶ä¸”å……åˆ†è®¤åŒå¤å®¡è€…è¿›è¡Œä¿®æ”¹çš„æ„å›¾ã€‚å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œä¸åŸä½œè€…è‚©å¹¶è‚©ååœ¨ä¸€èµ·ï¼Œä¸€è¾¹æµè§ˆä»£ç ä¸€è¾¹é‡æ„ï¼Œä½“éªŒæ˜¯æœ€ä½³çš„ã€‚è¿™ç§å·¥ä½œæ–¹å¼å¾ˆè‡ªç„¶åœ°å¯¼å‘ç»“å¯¹ç¼–ç¨‹ï¼šåœ¨ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­æŒç»­ä¸æ–­åœ°è¿›è¡Œä»£ç å¤å®¡ã€‚ ä¸‰ã€åä»£ç é•¿ä»€ä¹ˆæ ·ï¼Ÿ è¿™è®©æˆ‘æƒ³èµ·ä¹‹å‰åœ¨æ§è¯»ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹æ—¶å­¦ä¹ çš„ä»£ç è§„èŒƒçš„é—®é¢˜ï¼ˆä¼ é€é—¨ï¼‰ï¼Œåªä¸è¿‡å½“æ—¶å­¦ä¹ çš„æ˜¯å¥½çš„ä»£ç åº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œè€Œç°åœ¨è®¨è®ºçš„äº‹æƒ…æ˜¯ï¼šåçš„ä»£ç é•¿ä»€ä¹ˆæ ·ï¼Ÿ å…¶å®å¤§éƒ¨åˆ†çš„æƒ…å†µåº”è¯¥ä½œä¸ºç¨‹åºå‘˜çš„æˆ‘ä»¬éƒ½æœ‰ä¸€å®šçš„å…±è¯†ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—ç®€å•åˆ—ä¸€ä¸‹ä¹¦ä¸­æåˆ°çš„æƒ…å†µå°±è¶³ä»¥è¯´æ˜ï¼š ç¥ç§˜å‘½å é‡å¤ä»£ç  è¿‡é•¿å‡½æ•° è¿‡é•¿å‚æ•°åˆ—è¡¨ å…¨å±€æ•°æ®ï¼š å…¨å±€æ•°æ®çš„é—®é¢˜åœ¨äºï¼Œä»ä»£ç åº“çš„ä»»ä½•ä¸€ä¸ªè§’è½éƒ½å¯ä»¥ä¿®æ”¹å®ƒï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•æœºåˆ¶å¯ä»¥æ¢æµ‹å‡ºåˆ°åº•å“ªæ®µä»£ç åšå‡ºäº†ä¿®æ”¹ã€‚ä¸€æ¬¡åˆä¸€æ¬¡ï¼Œå…¨å±€æ•°æ®é€ æˆäº†ä¸€äº›è¯¡å¼‚çš„ BUGï¼Œè€Œé—®é¢˜çš„æ ¹æºå´åœ¨é¥è¿œçš„åˆ«å¤„ã€‚ å¯å˜æ•°æ®ï¼š å¯¹æ•°æ®çš„ä¿®æ”¹ç»å¸¸å¯¼è‡´å‡ºä¹æ„æ–™çš„ç»“æœå’Œéš¾ä»¥å‘ç°çš„ BUGã€‚æˆ‘åœ¨ä¸€å¤„æ›´æ–°æ•°æ®ï¼Œå´æ²¡æœ‰æ„è¯†åˆ°è½¯ä»¶ä¸­çš„å¦ä¸€å¤„æœŸæœ›ç€å®Œå…¨ä¸åŒçš„æ•°æ®ã€‚ å‘æ•£å¼å˜åŒ–ï¼š æ¨¡å—ç»å¸¸å› ä¸ºä¸åŒçš„åŸå› åœ¨ä¸åŒçš„æ–¹å‘ä¸Šå‘ç”Ÿå˜åŒ–ã€‚ æ•£å¼¹å¼ä¿®æ”¹ï¼š æ¯é‡åˆ°æŸç§å˜åŒ–ï¼Œä½ éƒ½å¿…é¡»åœ¨è®¸å¤šä¸åŒçš„ç±»å†…åšå‡ºè®¸å¤šå°ä¿®æ”¹ã€‚ ä¾æ‹æƒ…ç»“ï¼š æ‰€è°“æ¨¡å—åŒ–ï¼Œå°±æ˜¯åŠ›æ±‚å°†ä»£ç åˆ†å‡ºåŒºåŸŸï¼Œæœ€å¤§åŒ–åŒºåŸŸå†…éƒ¨çš„äº¤äº’ã€æœ€å°åŒ–è·¨åŒºåŸŸçš„äº¤äº’ã€‚ä½†æœ‰æ—¶ä½ ä¼šå‘ç°ï¼Œä¸€ä¸ªå‡½æ•°è·Ÿå¦ä¸€ä¸ªæ¨¡å—ä¸­çš„å‡½æ•°æˆ–è€…æ•°æ®äº¤æµæ ¼å¤–é¢‘ç¹ï¼Œè¿œèƒœäºåœ¨è‡ªå·±æ‰€å¤„æ¨¡å—å†…éƒ¨çš„äº¤æµã€‚ æ•°æ®æ³¥å›¢ï¼š ä½ ç»å¸¸åœ¨å¾ˆå¤šåœ°æ–¹çœ‹åˆ°ç›¸åŒçš„ä¸‰å››é¡¹æ•°æ®ï¼šä¸¤ä¸ªç±»ä¸­ç›¸åŒçš„å­—æ®µã€è®¸å¤šå‡½æ•°ç­¾åä¸­ç›¸åŒçš„å‚æ•°ã€‚ åŸºæœ¬ç±»å‹åæ‰§ï¼š å¾ˆå¤šç¨‹åºå‘˜ä¸æ„¿æ„åˆ›å»ºå¯¹è‡ªå·±çš„é—®é¢˜åŸŸæœ‰ç”¨çš„åŸºæœ¬ç±»å‹ï¼Œå¦‚é’±ã€åæ ‡ã€èŒƒå›´ç­‰ã€‚ é‡å¤çš„ switchï¼š åœ¨ä¸åŒçš„åœ°æ–¹åå¤ä½¿ç”¨ç›¸åŒçš„ switch é€»è¾‘ã€‚é—®é¢˜åœ¨äºï¼šæ¯å½“ä½ æƒ³å¢åŠ ä¸€ä¸ªé€‰æ‹©åˆ†æ”¯æ—¶ï¼Œå¿…é¡»æ‰¾åˆ°æ‰€æœ‰çš„ switchï¼Œå¹¶é€ä¸€æ›´æ–°ã€‚ å¾ªç¯è¯­å¥ï¼š æˆ‘ä»¬å‘ç°ï¼Œç®¡é“æ“ä½œï¼ˆå¦‚ filter å’Œ mapï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«åœ°çœ‹æ¸…è¢«å¤„ç†çš„å…ƒç´ ä¸€çº§å¤„ç†å®ƒä»¬çš„åŠ¨ä½œã€‚ å†—ä½™çš„å…ƒç´  å¤¸å¤¸å…¶è°ˆé€šç”¨æ€§ï¼š å‡½æ•°æˆ–ç±»çš„å”¯ä¸€ç”¨æˆ·æ˜¯æµ‹è¯•ç”¨ä¾‹ã€‚ ä¸´æ—¶å­—æ®µï¼š æœ‰æ—¶ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ç±»ï¼šå…¶å†…éƒ¨æŸä¸ªå­—æ®µä»…ä¸ºæŸç§ç‰¹å®šæƒ…å†µè€Œå®šã€‚è¿™æ ·çš„ä»£ç è®©äººä¸ç†è§£ï¼Œå› ä¸ºä½ é€šå¸¸è®¤ä¸ºå¯¹è±¡åœ¨æ‰€æœ‰æ—¶å€™éƒ½éœ€è¦å®ƒçš„æ‰€æœ‰å­—æ®µã€‚åœ¨å­—æ®µæœªè¢«ä½¿ç”¨çš„æƒ…å†µä¸‹çŒœæµ‹å½“åˆè®¾ç½®å®ƒçš„ç›®çš„ï¼Œä¼šè®©ä½ å‘ç–¯ã€‚ è¿‡é•¿çš„æ¶ˆæ¯é“¾ ä¸­é—´äººï¼š è¿‡åº¦è¿ç”¨å§”æ‰˜ã€‚ å†…å¹•äº¤æ˜“ï¼š è½¯ä»¶å¼€å‘è€…å–œæ¬¢åœ¨æ¨¡å—ä¹‹é—´ç­‘èµ·é«˜å¢™ï¼Œæå…¶åæ„Ÿåœ¨æ¨¡å—ä¹‹é—´å¤§é‡äº¤æ¢æ•°æ®ï¼Œå› ä¸ºè¿™ä¼šå¢åŠ æ¨¡å—é—´çš„è€¦åˆã€‚åœ¨å®é™…æƒ…å†µé‡Œï¼Œä¸€å®šçš„æ•°æ®äº¤æ¢ä¸å¯é¿å…ï¼Œä½†æˆ‘ä»¬å¿…é¡»å°½é‡å‡å°‘è¿™ç§æƒ…å†µï¼Œå¹¶æŠŠè¿™ç§äº¤æ¢éƒ½æ”¾åˆ°æ˜é¢ä¸Šæ¥ã€‚ è¿‡å¤§çš„ç±» å¼‚æ›²åŒå·¥çš„ç±» çº¯æ•°æ®ç±»ï¼š æ‰€è°“çº¯æ•°æ®ç±»æ˜¯æŒ‡ï¼šä»–ä»¬æ‹¥æœ‰ä¸€äº›å­—æ®µï¼Œä»¥åŠç”¨äºè®¿é—®ï¼ˆè¯»å†™ï¼‰è¿™äº›å­—æ®µçš„å‡½æ•°ï¼Œé™¤æ­¤ä¹‹å¤–ä¸€æ— é•¿ç‰©ã€‚çº¯æ•°æ®ç±»å¸¸å¸¸æ„å‘³ç€è¡Œä¸ºè¢«æ”¾åœ¨äº†é”™è¯¯çš„åœ°æ–¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æŠŠå¤„ç†æ•°æ®çš„è¡Œä¸ºä»å®¢æˆ·ç«¯æ¬ç§»åˆ°çº¯æ•°æ®ç±»é‡Œæ¥ï¼Œå°±èƒ½ä½¿æƒ…å†µå¤§ä¸ºæ”¹è§‚ã€‚ è¢«æ‹’ç»çš„é—èµ ï¼š æ‹’ç»ç»§æ‰¿è¶…ç±»çš„å®ç°ï¼Œæˆ‘ä»¬ä¸ä»‹æ„ï¼šä½†å¦‚æœæ‹’ç»æ”¯æŒè¶…ç±»çš„æ¥å£ï¼Œè¿™å°±éš¾ä»¥æ¥å—äº†ã€‚ æ³¨é‡Šï¼š å½“ä½ æ„Ÿè§‰éœ€è¦çº‚å†™æ³¨é‡Šæ—¶ï¼Œè¯·å…ˆå°è¯•é‡æ„ï¼Œè¯•ç€è®©æ‰€æœ‰æ³¨é‡Šéƒ½å˜å¾—å¤šä½™ã€‚ å››ã€é‡æ„çš„ä¸€äº›æ–¹æ³• ä¹¦ä¸­èŠ±äº†å¤§é‡çš„ç« èŠ‚ä»‹ç»æˆ‘ä»¬åº”è¯¥å¦‚ä½•é‡æ„æˆ‘ä»¬çš„ç¨‹åºï¼Œæœ‰å‡ ä¸ªå…³é”®çš„ç‚¹æ˜¯æˆ‘è‡ªå·±èƒ½å¤Ÿæç‚¼å‡ºæ¥çš„ï¼šæ‰¾å‡ºä»£ç ä¸­ä¸åˆç†çš„åœ°æ–¹ã€ç»“æ„åŒ–ã€å®¹æ˜“ç†è§£ã€æµ‹è¯•ç¡®ä¿æ­£ç¡®ã€‚æ€»ä¹‹å›´ç»•è¿™å‡ ä¸ªç‚¹ï¼Œä¹¦ä¸­ä»‹ç»äº†å¤§é‡çš„æ–¹æ³•ï¼Œä¸‹é¢ç»“åˆè‡ªå·±çš„ä¸€äº›ç†è§£æ¥ç®€å•æ¦‚è¿°ä¸€ä¸‹å§ã€‚ ç»“æ„åŒ–ä»£ç ç»“æ„åŒ–çš„ä»£ç æ›´åŠ ä¾¿äºæˆ‘ä»¬é˜…è¯»å’Œç†è§£ï¼Œä¾‹å¦‚æœ€å¸¸ä½¿ç”¨çš„é‡æ„æ–¹æ³•ï¼šæç‚¼å‡½æ•° åŠ¨æœºï¼šæŠŠæ„å›¾å’Œå®ç°åˆ†å¼€ void printOwing(double amount) { printBanner(); //print details System.out.println (\"name:\" + _name); System.out.println (\"amount\" + amount); } =&gt; void printOwing(double amount) { printBanner(); printDetails(amount); } void printDetails (double amount) { System.out.println (\"name:\" + _name); System.out.println (\"amount\" + amount); } æ›´æ¸…æ¥šçš„è¡¨è¾¾ç”¨æ„è¦ä¿æŒè½¯ä»¶çš„ KISS åŸåˆ™æ˜¯ä¸å®¹æ˜“çš„ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥å€Ÿé‰´ï¼Œä¾‹å¦‚ï¼šå¼•å…¥è§£é‡Šæ€§å˜é‡ åŠ¨æœºï¼šç”¨ä¸€ä¸ªè‰¯å¥½å‘½åçš„ä¸´æ—¶å˜é‡æ¥è§£é‡Šå¯¹åº”æ¡ä»¶å­å¥çš„æ„ä¹‰ï¼Œä½¿è¯­ä¹‰æ›´åŠ æ¸…æ™°ã€‚ if ( (platform.toUpperCase().indexOf(\"MAC\") > -1) &amp;&amp; (browser.toUpperCase().indexOf(\"IE\") > -1) &amp;&amp; wasInitialized() &amp;&amp; resize > 0 ) { // do something } =&gt; final boolean isMacOs = platform.toUpperCase().indexOf(\"MAC\") > -1; final boolean isIEBrowser = browser.toUpperCase().indexOf(\"IE\") > -1; final boolean wasResized = resize > 0; if (isMacOs &amp;&amp; isIEBrowser &amp;&amp; wasInitialized() &amp;&amp; wasResized) { // do something } å¦å¤–ç”±äº lambda è¡¨è¾¾å¼çš„ç››è¡Œï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€äº›æ›´åŠ ä¼˜é›…æ˜“è¯»çš„æ–¹æ³•ä½¿æˆ‘ä»¬çš„ä»£ç ä¿æŒå¯è¯»ï¼šä»¥ç®¡é“å–ä»£å¾ªç¯å°±æ˜¯è¿™æ ·ä¸€ç§æ–¹æ³•ã€‚ const names = []; for (const i of input) { if (i.job === \"programer\") names.push(i.name); } =&gt; const names = input .filter(i => i.job === \"programer\") .map(i => i.name) ; åˆç†çš„ç»„ç»‡ç»“æ„ä¾‹å¦‚ä¸Šé¢ä»‹ç»çš„æç‚¼å‡½æ•°çš„æ–¹æ³•ï¼Œå›ºç„¶æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ï¼Œä½†ä¹Ÿåº”è¯¥é¿å…è¿‡åº¦çš„å°è£…ï¼Œå¦‚æœåˆ«äººä½¿ç”¨äº†å¤ªå¤šé—´æ¥å±‚ï¼Œä½¿å¾—ç³»ç»Ÿä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½ä¼¼ä¹åªæ˜¯å¯¹å¦ä¸€ä¸ªå‡½æ•°çš„ç®€å•å§”æ‰˜ï¼ˆdelegationï¼‰ï¼Œé€ æˆæˆ‘åœ¨è¿™äº›å§”æ‰˜åŠ¨ä½œä¹‹é—´æ™•å¤´è½¬å‘ï¼Œå¹¶ä¸”å†…éƒ¨ä»£ç å’Œå‡½æ•°åç§°åŒæ ·æ¸…æ™°æ˜“è¯»ï¼Œé‚£ä¹ˆå°±åº”è¯¥è€ƒè™‘å†…è”å‡½æ•°ã€‚ åŠ¨æœºï¼šâ‘ å»å¤„ä¸å¿…è¦çš„é—´æ¥æ€§ï¼›â‘¡å¯ä»¥æ‰¾å‡ºæœ‰ç”¨çš„é—´æ¥å±‚ã€‚ int getRating() { return (moreThanFiveLateDeliveries()) ? 2 : 1; } boolean moreThanFiveLateDeliveries() { return _numberOfLateDeliveries > 5; } =&gt; int getRating() { return (_numberOfLateDeliveries > 5) ? 2 : 1; } åˆç†çš„å°è£…å°è£…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬éšè—ç»†èŠ‚å¹¶ä¸”ï¼Œèƒ½å¤Ÿæ›´å¥½çš„åº”å¯¹å˜åŒ–ï¼Œå½“æˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„ç±»å¤ªå¤§è€Œä¸å®¹æ˜“ç†è§£çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æç‚¼ç±»çš„æ–¹æ³•ã€‚ åŠ¨æœºï¼šç±»å¤ªå¤§è€Œä¸å®¹æ˜“ç†è§£ã€‚ class Person { get officeAreaCode() { return this._officeAreaCode; } get officeNumber() { return this._officeNumber; } } =&gt; class Person { get officeAreaCode() { return this._telephoneNumber.areaCode; } get officeNumber() { return this._telephoneNumber.number; } } class TelephoneNumber { get areaCode() { return this._areaCode; } get number() { return this._number; } } åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°ä¸€ä¸ªç±»ä¸å†æ‰¿æ‹…è¶³å¤Ÿè´£ä»»ï¼Œä¸å†æœ‰å•ç‹¬å­˜åœ¨çš„ç†ç”±çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œåå‘é‡æ„ï¼šå†…æ•›ç±» class Person { get officeAreaCode() { return this._telephoneNumber.areaCode; } get officeNumber() { return this._telephoneNumber.number; } } class TelephoneNumber { get areaCode() { return this._areaCode; } get number() { return this._number; } } =&gt; class Person { get officeAreaCode() { return this._officeAreaCode; } get officeNumber() { return this._officeNumber; } } ç®€åŒ–æ¡ä»¶è¡¨è¾¾å¼åˆ†è§£æ¡ä»¶å¼ï¼š æˆ‘ä»¬èƒ½é€šè¿‡æç‚¼ä»£ç ï¼ŒæŠŠä¸€æ®µ ã€Œå¤æ‚çš„æ¡ä»¶é€»è¾‘ã€ åˆ†è§£æˆå¤šä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œè¿™æ ·å°±èƒ½æ›´åŠ æ¸…æ¥šåœ°è¡¨è¾¾è‡ªå·±çš„æ„å›¾ã€‚ if (date.before (SUMMER_START) || date.after(SUMMER_END)) charge = quantity * _winterRate + _winterServiceCharge; else charge = quantity * _summerRate; =&gt; if (notSummer(date)) charge = winterCharge(quantity); else charge = summerCharge (quantity); å¦å¤–ä¸€ä¸ªæ¯”è¾ƒå—ç”¨çš„ä¸€æ¡å»ºè®®å°±æ˜¯ï¼šä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶å¼ã€‚æ ¹æ®ç»éªŒï¼Œæ¡ä»¶å¼é€šå¸¸æœ‰ä¸¤ç§å‘ˆç°å½¢å¼ã€‚ç¬¬ä¸€ç§å½¢å¼æ˜¯ï¼šæ‰€æœ‰åˆ†æ”¯éƒ½å±äºæ­£å¸¸è¡Œä¸ºã€‚ç¬¬äºŒç§å½¢å¼åˆ™æ˜¯ï¼šæ¡ä»¶å¼æä¾›çš„ç­”æ¡ˆä¸­åªæœ‰ä¸€ç§æ˜¯æ­£å¸¸è¡Œä¸ºï¼Œå…¶ä»–éƒ½æ˜¯ä¸å¸¸è§çš„æƒ…å†µã€‚ ç²¾é«“æ˜¯ï¼šç»™æŸä¸€æ¡åˆ†æ”¯ä»¥ç‰¹åˆ«çš„é‡è§†ã€‚å¦‚æœä½¿ç”¨ if-then-else ç»“æ„ï¼Œä½ å¯¹ if åˆ†æ”¯å’Œ else åˆ†æ”¯çš„é‡è§†æ˜¯åŒç­‰çš„ã€‚ è¿™æ ·çš„ä»£ç ç»“æ„ä¼ é€’ç»™é˜…è¯»è€…çš„æ¶ˆæ¯å°±æ˜¯ï¼šå„ä¸ªåˆ†æ”¯æœ‰åŒæ ·çš„é‡è¦æ€§ã€‚å«è¯­å¥ï¼ˆguard clausesï¼‰å°±ä¸åŒäº†ï¼Œå®ƒå‘Šè¯‰é˜…è¯»è€…ï¼šã€Œè¿™ç§æƒ…å†µå¾ˆç½•è§ï¼Œå¦‚æœå®ƒçœŸçš„å‘ç”Ÿäº†ï¼Œè¯·åš ä¸€äº›å¿…è¦çš„æ•´ç†å·¥ä½œï¼Œç„¶åé€€å‡ºã€‚ã€ ã€Œæ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ã€çš„è§‚å¿µï¼Œæ ¹æ·±è’‚å›ºäºæŸäº›ç¨‹åºå‘˜çš„è„‘æµ·é‡Œã€‚ æˆ‘å‘ç°ï¼Œå½“æˆ‘å¤„ç†ä»–ä»¬ç¼–å†™çš„ä»£ç æ—¶ï¼Œæˆ‘ç»å¸¸éœ€è¦ä½¿ç”¨ Replace Nested Conditional with Guard Clausesã€‚ç°ä»Šçš„ç¼–ç¨‹è¯­è¨€éƒ½ä¼šå¼ºåˆ¶ä¿è¯æ¯ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œ è‡³äºã€Œå•ä¸€å‡ºå£ã€è§„åˆ™ï¼Œå…¶å®ä¸æ˜¯é‚£ä¹ˆæœ‰ç”¨ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œä¿æŒä»£ç æ¸…æ™°æ‰æ˜¯æœ€å…³é”®çš„ï¼šå¦‚æœã€Œå•ä¸€å‡ºå£ã€èƒ½ä½¿è¿™ä¸ªå‡½æ•°æ›´æ¸…æ¥šæ˜“è¯»ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å•ä¸€å‡ºå£ï¼›å¦åˆ™å°±ä¸å¿…è¿™ä¹ˆåšã€‚ double getPayAmount() { double result; if (_isDead) result = deadAmount(); else { if (_isSeparated) result = separatedAmount(); else { if (_isRetired) result = retiredAmount(); else result = normalPayAmount(); }; } return result; }; =&gt; double getPayAmount() { if (_isDead) return deadAmount(); if (_isSeparated) return separatedAmount(); if (_isRetired) return retiredAmount(); return normalPayAmount(); }; è‡ªæˆ‘æµ‹è¯•ä»£ç å¦‚æœè®¤çœŸè§‚å¯Ÿç¨‹åºå‘˜æŠŠæœ€å¤šæ—¶é—´è€—åœ¨å“ªé‡Œï¼Œä½ å°±ä¼šå‘ç°ï¼Œç¼–å†™ä»£ç å…¶å®åªå éå¸¸å°çš„ä¸€éƒ¨åˆ†ã€‚æœ‰äº›æ—¶é—´ç”¨æ¥å†³å®šä¸‹ä¸€æ­¥å¹²ä»€ä¹ˆï¼Œå¦ä¸€äº›æ—¶é—´èŠ±åœ¨è®¾è®¡ä¸Šé¢ï¼Œæœ€å¤šçš„æ—¶é—´åˆ™æ˜¯ç”¨æ¥è°ƒè¯•ï¼ˆdebug)ã€‚æ¯ä¸ªç¨‹åºå‘˜éƒ½èƒ½è®²å‡ºã€ŒèŠ±ä¸€æ•´å¤©ï¼ˆç”šè‡³æ›´å¤šï¼‰æ—¶é—´åªæ‰¾å‡ºä¸€åªå°å°è‡­è™«ã€çš„æ•…äº‹ã€‚ä¿®å¤é”™è¯¯é€šå¸¸æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ‰¾å‡ºé”™è¯¯å´æ˜¯å™©æ¢¦ä¸€åœºã€‚å½“ä½ ä¿®å¥½ä¸€ä¸ªé”™è¯¯ï¼Œæ€»æ˜¯ä¼šæœ‰å¦ä¸€ä¸ªé”™è¯¯å‡ºç°ï¼Œè€Œä¸”è‚¯å®šè¦å¾ˆä¹…ä»¥åæ‰ä¼šæ³¨æ„åˆ°å®ƒã€‚ å½¼æ—¶ä½ åˆè¦èŠ±ä¸Šå¤§æŠŠæ—¶é—´å»å¯»æ‰¾å®ƒã€‚ ã€Œé¢‘ç¹è¿›è¡Œæµ‹è¯•ã€æ˜¯æé™ç¼–ç¨‹ï¼ˆ extreme programming XPï¼‰[Beck, XP]çš„é‡è¦ä¸€ ç¯ã€‚ã€Œæé™ç¼–ç¨‹ã€ä¸€è¯å®¹æ˜“è®©äººè”æƒ³èµ·é‚£äº›ç¼–ç é£å¿«ã€è‡ªç”±è€Œæ•£æ¼«çš„é»‘å®¢ï¼ˆhackers)ï¼Œ å®é™…ä¸Šæé™ç¼–ç¨‹è€…éƒ½æ˜¯ååˆ†ä¸“æ³¨çš„æµ‹è¯•è€…ã€‚ä»–ä»¬å¸Œæœ›å°½å¯èƒ½å¿«é€Ÿå¼€å‘è½¯ä»¶ï¼Œè€Œä»–ä»¬ä¹ŸçŸ¥é“ã€Œæµ‹è¯•ã€å¯ååŠ©ä»–ä»¬å°½å¯èƒ½å¿«é€Ÿåœ°å‰è¿›ã€‚ åœ¨é‡æ„ä¹‹å‰ï¼Œå…ˆä¿è¯ä¸€ç»„å¯é çš„æµ‹è¯•ç”¨ä¾‹ï¼ˆæœ‰è‡ªæˆ‘æ£€éªŒçš„èƒ½åŠ›ï¼‰ï¼Œè¿™ä¸ä»…æœ‰åŠ©äºæˆ‘ä»¬æ£€æµ‹ BUGï¼Œå…¶ä¸­ä¹Ÿæœ‰ä¸€ç§ä»¥ç»ˆä¸ºå§‹çš„æ€æƒ³åœ¨é‡Œé¢ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæ›´åŠ æ¸…æ¥šæˆ‘ä»¬æœ€ç»ˆçš„å‡½æ•°åº”è¯¥é•¿ä»€ä¹ˆæ ·å­ï¼Œæä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ã€‚ ç»“æŸè¯­ æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼Œä»¥ä¸Šå°±æ˜¯æ•´ä¸ªå­¦ä¹ çš„ç¬”è®°äº†ã€‚ é‡æ„ä¸æ˜¯ä¸€ä¸ªä¸€è¹´è€Œå°±çš„äº‹ï¼Œéœ€è¦é•¿æœŸçš„å®è·µå’Œç»éªŒæ‰èƒ½å¤Ÿå®Œæˆå¾—å¾ˆå¥½ã€‚é‡æ„å¼ºè°ƒçš„æ˜¯ Be Betterï¼Œé‚£åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬é¦–å…ˆéœ€è¦å…ˆåŠ¨èµ·æ‰‹æ¥æ­å»ºæˆ‘ä»¬çš„ç³»ç»Ÿï¼Œè€Œä¸è¦ä¸€å‘³åœ°â€œå®Œç¾ä¸»ä¹‰â€ï¼Œè¿‘äº›æ—¶é—´æ¥è§¦çš„æ•æ·å¼å¼€å‘ä¹Ÿæ­£æ˜¯è¿™æ ·çš„ä¸€ç§æ€æƒ³ã€‚ å¦‚æœæœ‰å…´è¶£é˜…è¯»ï¼Œè¿™é‡Œåªæ‰¾åˆ°ä¸€ä»½ç¬¬ä¸€ç‰ˆå¯ä»¥åœ¨çº¿é˜…è¯»çš„åœ°æ–¹ï¼Œè¯·è‡ªè¡Œé£Ÿç”¨å§ï¼šhttps://www.kancloud.cn/sstd521/refactor/194190 æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ","slug":"ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ","date":"2019-06-06T23:35:00.000Z","updated":"2020-08-03T09:24:50.982Z","comments":true,"path":"2019/06/07/shi-me-shi-wei-fu-wu/","link":"","permalink":"http://www.wmyskxz.com/2019/06/07/shi-me-shi-wei-fu-wu/","excerpt":"","text":"å‰è¨€ï¼šèµ·åˆæ²¡æœ‰æ„è¯†åˆ°è‡ªå·±é€‰äº†è¿™ä¹ˆä¸€ä¸ªå¯¹è‡ªå·±æ¥è¯´æœ‰ä¸€äº›â€œå®å¤§â€çš„é—®é¢˜ï¼Œå› ä¸ºé‡Œé¢æ¶‰åŠåˆ°å¥½å¤šçŸ¥è¯†..æ‰€ä»¥ç äº†ä¸€äº›å†…å®¹.. ä¸€ã€ä¿¡æ¯æŠ€æœ¯å‘å±•è¶‹åŠ¿ ä¿¡æ¯æŠ€æœ¯å‘å±•çš„ä¸‰ä¸ªé˜¶æ®µä¿¡æ¯æŠ€æœ¯ä»å‡ºç°åˆ°é€æ¸æˆä¸ºä¸»æµï¼Œä¸»è¦ç»å†äº†è½¯ä»¶ã€å¼€æºã€äº‘ä¸‰ä¸ªé˜¶æ®µçš„å‘å±•ã€‚ä»è½¯ä»¶åˆ°å¼€æºï¼Œå†åˆ°äº‘ï¼Œè¿™ä¹Ÿæ˜¯ä¿¡æ¯æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿ã€‚ 1. è½¯ä»¶æ”¹å˜ä¸–ç•Œçºµè§‚äººç±»ç¤¾ä¼šæ¼«é•¿çš„å‘å±•å†å²ï¼Œå†œè€•æ—¶ä»£ã€å·¥ä¸šæ—¶ä»£ä¸ä¿¡æ¯æ—¶ä»£å¯è°“æ˜¯æ˜æ˜¾çš„ä¸‰ä¸ªåˆ†æ°´å²­ï¼Œæ¯ä¸ªæ—¶ä»£éƒ½ä¼šå‡ºç°å¾ˆå¤šæ–°å…´çš„é¢†åŸŸï¼Œä½œä¸ºä¿¡æ¯æ—¶ä»£æœ€é‡è¦çš„è½½ä½“ï¼Œäº’è”ç½‘è¶Šæ¥è¶Šæˆä¸ºå½“ä»Šç¤¾ä¼šå…³æ³¨çš„ç„¦ç‚¹ï¼Œäº’è”ç½‘çš„åŸºçŸ³ä¹‹ä¸€â€”â€”è½¯ä»¶ï¼Œæ­£åœ¨è¿…é€Ÿåœ°æ”¹å˜ç€è¿™ä¸ªä¸–ç•Œã€‚ 2. å¼€æºæ”¹å˜è½¯ä»¶éšç€è½¯ä»¶è¡Œä¸šçš„æˆç†Ÿï¼Œç›¸æ¯”äºâ€œé‡å¤é€ è½®å­â€ï¼Œâ€œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šâ€æ˜æ˜¾å¯ä»¥æ›´åŠ å®¹æ˜“å’Œå¿«é€Ÿåœ°åˆ›é€ å‡ºä¼˜ç§€çš„æ–°äº§å“ã€‚éšç€å¼€æºæ–‡åŒ–è¶Šæ¥è¶Šè¢«è®¤å¯ï¼Œä»¥åŠç¤¾åŒºæ–‡åŒ–è¶Šæ¥è¶Šæˆç†Ÿï¼Œä½¿ç”¨ä¼˜ç§€çš„å¼€æºäº§å“ä½œä¸ºåŸºç¡€æ¶æ„æ¥å¿«é€Ÿæ­å»ºç³»ç»Ÿä»¥å®ç°å¸‚åœºæˆ˜ç•¥ï¼Œæˆä¸ºå½“ä»Šæœ€ä¼˜çš„èµ„æºé…æ¯”æ–¹æ¡ˆã€‚ 3. äº‘åå™¬å¼€æºä»…é€šè¿‡å¼€æºäº§å“æ­å»ºå¹¶è¿ç»´ä¸€ä¸ªé«˜å¯ç”¨ã€é«˜åº¦å¼¹æ€§åŒ–çš„å¹³å°ï¼Œè¿›è€Œå®ç°äº’è”ç½‘è¿‘ä¹100%çš„å¯ç”¨æ€§ï¼Œéš¾åº¦å¯æƒ³è€ŒçŸ¥ã€‚å› æ­¤ï¼Œåœ¨æä¾›æŠ€æœ¯æ€è·¯çš„åŒæ—¶ï¼Œè¿›ä¸€æ­¥æä¾›æ•´å¥—äº‘è§£å†³æ–¹æ¡ˆä»¥ä¿è¯ä¸æ–­æ‰©å±•çš„éåŠŸèƒ½éœ€æ±‚ï¼Œä¾¿æˆäº†å½“ä»Šæ–°ä¸€ä»£äº’è”ç½‘å¹³å°çš„è¿½æ±‚ã€‚ éšç€ç”¨æˆ·é›†ç¾¤è§„æ¨¡çš„è¿›ä¸€æ­¥åŠ å¤§ï¼Œå•çº¯çš„åˆ†å¸ƒå¼ç³»ç»Ÿå·²ç»éš¾ä»¥é©¾é©­ï¼Œå› æ­¤æŠ€æœ¯åœˆå¼€å¯äº†ä¸€ä¸ªæ¦‚å¿µçˆ†å‘çš„æ—¶ä»£â€”â€”SOAã€DevOpsã€å®¹å™¨ã€CI/CDã€å¾®æœåŠ¡ã€Service Meshç­‰æ¦‚å¿µå±‚å‡ºä¸ç©·ï¼Œè€Œ Dockerã€Kubernetesã€Mesosã€Spring Cloudã€Istio ç­‰ä¸€ç³»åˆ—äº§å“çš„å‡ºç°ï¼Œæ ‡å¿—ç€äº‘æ—¶ä»£å·²çœŸæ­£åˆ°æ¥ã€‚ äº’è”ç½‘æ¶æ„çš„æ ¸å¿ƒé—®é¢˜1. æµ·é‡ç”¨æˆ·å½“ä»Šçš„äº’è”ç½‘å¤§æ½®ï¼Œå·²ç»è¶Šæ¥è¶Šéš¾ä»¥ä¼°ç®—ç”¨æˆ·é‡ä»¥åŠç”±æ­¤äº§ç”Ÿçš„è‡ªç„¶æ•°æ®å¢é•¿æœ‰å¤šå°‘äº†ï¼ŒåŒºåˆ«äºæˆ‘ä»¬æ—¥å¸¸çš„ç”Ÿæ´»ï¼ˆä¾‹å¦‚å•†åœºï¼Œä»…æœ‰ 10 ä¸ªäººå’Œæœ‰ 1000 äººçš„è´­ç‰©ä½“éªŒæ˜¯æ˜æ˜¾ä¸åŒçš„ï¼‰ï¼Œä¼ä¸šå¦‚ä½•åšåˆ°æ— å·®åˆ«åœ°ä¸ºå…¨ä¸–ç•Œæ‰€æœ‰çš„ç”¨æˆ·æä¾›æœåŠ¡ï¼Œæˆäº†ä¸€é“éš¾é¢˜ã€‚ 2. äº§å“è¿…é€Ÿè¿­ä»£é¢å¯¹å½“ä»Šå¿«é€Ÿå¢é•¿çš„ä¸šåŠ¡å’Œéœ€æ±‚ï¼Œæ•æ·å¼€å‘æˆä¸ºäº†çƒ­é—¨çš„é€‰æ‹©ã€‚åœ¨ä¸æ–­è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œæ—¶é—´æˆæœ¬å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å¦‚ä½•æ•æ·åœ°æ¢çŸ¥å¸‚åœºéœ€æ±‚å¹¶å°†å…¶å®ç°ï¼Œæ˜¯äº’è”ç½‘è¡Œä¸šçš„ç«‹å‘½ä¹‹æœ¬ã€‚äº§å“å¿«é€Ÿå‡çº§å¿…ç„¶ä¼šæ¨åŠ¨ã€æµ‹è¯•ã€äº¤ä»˜ç”šè‡³ç³»ç»Ÿè¿…é€Ÿè¿­ä»£ã€‚ 3. 7x24 å°æ—¶ä¸é—´æ–­æœåŠ¡æˆ‘ä»¬è¦ä¿è¯åº”ç”¨å…¨å¤©å€™ä¸é—´æ–­çš„å¯ç”¨ï¼Œå¿…é¡»è¦è€ƒè™‘åˆ°éšæ—¶å¯èƒ½å‘ç”Ÿçš„æ„å¤–ï¼Œä¾‹å¦‚å…‰ç¼†æŒ–æ–­ã€æœºæˆ¿å¤±ç«ç­‰ï¼Œæ¯ä¸€æ¬¡å®•æœºéƒ½å¯èƒ½ä¼šé€ æˆå·¨å¤§çš„æŸå¤±ã€‚å¦å¤–ï¼Œå¦‚æœç³»ç»Ÿè®¾è®¡å¾—ä¸å¤Ÿå¥å£®ï¼Œå¯¹å…¶å‡çº§å’Œç»´æŠ¤æ—¶å°±è¦åœæ­¢æœåŠ¡ã€‚é¢‘ç¹çš„ç³»ç»Ÿå‡çº§åŒæ ·ä¼šå¯¹ç³»ç»Ÿå¯ç”¨æ€§äº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚ è™½ç„¶éšæ—¶éšå¤„å¯ç”¨çš„éš¾åº¦éå¸¸å¤§ï¼Œä½†äº’è”ç½‘åº”ç”¨ä¼šå°½é‡ç¼©çŸ­å®•æœºæ—¶é—´ã€‚é€šå¸¸ä½¿ç”¨ 35 ä¸ª 9ï¼ˆ3 ä¸ª 9 å³ 99.9%ï¼Œ4 ä¸ª 9 å³ 99.99%ï¼Œ5 ä¸ª 9 å³ 99.999%ï¼‰ä½œä¸ºè¡¡é‡ç³»ç»Ÿå¯ç”¨æ€§çš„æŒ‡æ ‡ï¼Œè¡¨ç¤ºç³»ç»Ÿåœ¨ 1 å¹´çš„è¿è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„æ—¶é—´ä¸æ€»è¿è¡Œæ—¶é—´çš„æ¯”å€¼ï¼Œä¸‹é¢åˆ†åˆ«è®¡ç®— 35 ä¸ª 9 æŒ‡æ ‡ä¸‹çš„å…¨å¹´å®•æœºæ—¶é—´ï¼Œæ„Ÿå—ä¸€ä¸‹å®ƒä»¬çš„å¯é æ€§å·®å¼‚ï¼š 3 ä¸ª 9ï¼šï¼ˆ1 - 99.9%ï¼‰ x 365 x 24 = 8.76 å°æ—¶4 ä¸ª 9ï¼šï¼ˆ1 - 99.99&amp;ï¼‰ x 365 x 24 = 52.6 åˆ†é’Ÿ4 ä¸ª 9ï¼šï¼ˆ1 - 99.999&amp;ï¼‰ x 365 x 24 = 5.26 åˆ†é’Ÿ 4. æµé‡çªå¢æµé‡çªå¢åˆ†ä¸ºå¯é¢„æœŸå‹å¾’å¢å’Œä¸å¯é¢„æœŸå‹å¾’å¢ï¼Œåƒä¿ƒé”€æ´»åŠ¨ã€æœ‰è®¡åˆ’çš„çƒ­ç‚¹äº‹ä»¶ç­‰å¼•èµ·çš„æµé‡çªå¢å±äºå‰è€…ï¼Œå¯ä»¥é€šè¿‡æå‰æ‰©å®¹ã€é¢„æ¡ˆæ¼”ç»ƒç­‰æ–¹å¼ç²¾å¿ƒä¸ºè¿™äº›æµé‡çªå¢å‡†å¤‡åº”å¯¹æ–¹æ¡ˆã€‚è€Œæ„æ–™ä¹‹å¤–çš„çƒ­ç‚¹äº‹ä»¶ï¼ˆå¦‚åœ°éœ‡ï¼‰å¾€å¾€äº‹å‘çªç„¶ï¼Œç³»ç»Ÿæ¥ä¸åŠå‡†å¤‡åº”å¯¹æªæ–½ï¼Œå› æ­¤è‹¥ç³»ç»Ÿæœ¬èº«çš„å¯ç”¨æ€§ã€å¼¹æ€§ç­‰éåŠŸèƒ½éœ€æ±‚ååˆ†æˆç†Ÿï¼Œä¾¿å¯ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šåº”å¯¹è¿™ç§çªå¢ã€‚ 5. ä¸šåŠ¡ç»„åˆå¤æ‚å¾ˆå¤šäº’è”ç½‘å…¬å¸éƒ½æ˜¯è·¨ç•Œå·¨å¤´ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå³ä½¿ä¸è·¨ç•Œï¼Œåœ¨å•ä¸€é¢†åŸŸç¼–ç»‡ä¸€ä¸ªå¤§è§„æ¨¡çš„æˆå‹ä¸šåŠ¡ç³»ç»Ÿä¹Ÿå¹¶ä¸ç®€å•ã€‚ ä¸Šå›¾æ˜¯æˆ‘ä» ProcessOn æ¨¡æ¿é‡Œéšä¾¿æ‰¾çš„ä¸€å¼ å…³äºç”µå•†å¹³å°åº”ç”¨æœåŠ¡çš„æ¶æ„å›¾ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢äº¤ç»‡äº†å„ç§å„æ ·çš„ä¸šåŠ¡ï¼Œå½“è¡Œä¸šçš„æ‰©å¼ é€Ÿåº¦è¶…å‡ºé¢„è®¡çš„å¢é•¿çš„æ—¶å€™ï¼Œå¯¹åº•å±‚æ”¯æ’‘çš„è€ƒéªŒè¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚ äºŒã€ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ éœ€è¦æ³¨æ„ï¼Œâ€œå¾®æœåŠ¡â€ä¸â€œå¾®æœåŠ¡æ¶æ„â€æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼š â€œå¾®æœåŠ¡â€å¼ºè°ƒçš„æ˜¯æœåŠ¡çš„å¤§å°ï¼Œå®ƒå…³æ³¨çš„æ˜¯æŸä¸€ä¸ªç‚¹ã€‚è€Œâ€œå¾®æœåŠ¡æ¶æ„â€åˆ™æ˜¯ä¸€ç§æ¶æ„æ€æƒ³ï¼Œéœ€è¦ä»æ•´ä½“ä¸Šå¯¹è½¯ä»¶ç³»ç»Ÿè¿›è¡Œé€šç›˜çš„è€ƒè™‘ã€‚ æ¶æ„çš„æ¼”å˜è¦äº†è§£å¾®æœåŠ¡æ˜¯å¦‚ä½•è¯ç”Ÿçš„ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å¯¹æ¶æ„çš„æ¼”å˜è¿‡ç¨‹æœ‰ä¸€å®šçš„äº†è§£ã€‚ä¸Šé¢å·²ç»å¯¹æ¶æ„ä¸»è¦é¢ä¸´çš„é—®é¢˜è¿›è¡Œäº†é˜è¿°ï¼Œä¸‹é¢æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹æ¶æ„æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å‡çº§å¹¶è½¬åŒ–åˆ°â€œäº‘â€ä¸Šçš„ã€‚ 1. å•ä½“æ¶æ„å•ä½“æ¶æ„æ¯”è¾ƒåˆçº§ï¼Œå…¸å‹çš„ä¸‰çº§æ¶æ„ï¼Œå‰ç«¯(Web/æ‰‹æœºç«¯)+ä¸­é—´ä¸šåŠ¡é€»è¾‘å±‚+æ•°æ®åº“å±‚ã€‚è¿™æ˜¯ä¸€ç§å…¸å‹çš„ MVC æ¡†æ¶çš„åº”ç”¨ã€‚ å•ä½“æ¶æ„çš„åº”ç”¨æ¯”è¾ƒå®¹æ˜“éƒ¨ç½²ã€æµ‹è¯•ï¼Œ åœ¨é¡¹ç›®çš„åˆæœŸï¼Œå•ä½“åº”ç”¨å¯ä»¥å¾ˆå¥½åœ°è¿è¡Œã€‚ç„¶è€Œï¼Œéšç€éœ€æ±‚çš„ä¸æ–­å¢åŠ ï¼Œ è¶Šæ¥è¶Šå¤šçš„äººåŠ å…¥å¼€å‘å›¢é˜Ÿï¼Œä»£ç åº“ä¹Ÿåœ¨é£é€Ÿåœ°è†¨èƒ€ã€‚æ…¢æ…¢åœ°ï¼Œå•ä½“åº”ç”¨å˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œå¯ç»´æŠ¤æ€§ã€çµæ´»æ€§é€æ¸é™ä½ï¼Œç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ã€‚ä¸‹é¢æ˜¯å•ä½“æ¶æ„åº”ç”¨çš„ä¸€äº›ç¼ºç‚¹ï¼š å¤æ‚æ€§é«˜ï¼š ä»¥ä¸€ä¸ªç™¾ä¸‡è¡Œçº§åˆ«çš„å•ä½“åº”ç”¨ä¸ºä¾‹ï¼Œæ•´ä¸ªé¡¹ç›®åŒ…å«çš„æ¨¡å—éå¸¸å¤šã€æ¨¡å—çš„è¾¹ç•Œæ¨¡ç³Šã€ ä¾èµ–å…³ç³»ä¸æ¸…æ™°ã€ ä»£ç è´¨é‡å‚å·®ä¸é½ã€ æ··ä¹±åœ°å †ç Œåœ¨ä¸€èµ·ã€‚å¯æƒ³è€ŒçŸ¥æ•´ä¸ªé¡¹ç›®éå¸¸å¤æ‚ã€‚ æ¯æ¬¡ä¿®æ”¹ä»£ç éƒ½å¿ƒæƒŠèƒ†æˆ˜ï¼Œ ç”šè‡³æ·»åŠ ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ï¼Œ æˆ–è€…ä¿®æ”¹ä¸€ä¸ª Bug éƒ½ä¼šå¸¦æ¥éšå«çš„ç¼ºé™·ã€‚ æŠ€æœ¯å€ºåŠ¡ï¼š éšç€æ—¶é—´æ¨ç§»ã€éœ€æ±‚å˜æ›´å’Œäººå‘˜æ›´è¿­ï¼Œä¼šé€æ¸å½¢æˆåº”ç”¨ç¨‹åºçš„æŠ€æœ¯å€ºåŠ¡ï¼Œ å¹¶ä¸”è¶Šç§¯ è¶Šå¤šã€‚â€œ ä¸åä¸ä¿®â€ï¼Œ è¿™åœ¨è½¯ä»¶å¼€å‘ä¸­éå¸¸å¸¸è§ï¼Œ åœ¨å•ä½“åº”ç”¨ä¸­è¿™ç§æ€æƒ³æ›´ç”šã€‚ å·²ä½¿ç”¨çš„ç³»ç»Ÿè®¾è®¡æˆ–ä»£ç éš¾ä»¥è¢«ä¿®æ”¹ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–æ¨¡å—å¯èƒ½ä¼šä»¥æ„æ–™ä¹‹å¤–çš„æ–¹å¼ä½¿ç”¨å®ƒã€‚ éƒ¨ç½²é¢‘ç‡ä½ï¼š éšç€ä»£ç çš„å¢å¤šï¼Œæ„å»ºå’Œéƒ¨ç½²çš„æ—¶é—´ä¹Ÿä¼šå¢åŠ ã€‚è€Œåœ¨å•ä½“åº”ç”¨ä¸­ï¼Œ æ¯æ¬¡åŠŸèƒ½çš„å˜æ›´æˆ–ç¼ºé™·çš„ä¿®å¤éƒ½ä¼šå¯¼è‡´éœ€è¦é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ã€‚å…¨é‡éƒ¨ç½²çš„æ–¹å¼è€—æ—¶é•¿ã€ å½±å“èŒƒå›´å¤§ã€ é£é™©é«˜ï¼Œ è¿™ä½¿å¾—å•ä½“åº”ç”¨é¡¹ç›®ä¸Šçº¿éƒ¨ç½²çš„é¢‘ç‡è¾ƒä½ã€‚ è€Œéƒ¨ç½²é¢‘ç‡ä½åˆå¯¼è‡´ä¸¤æ¬¡å‘å¸ƒä¹‹é—´ä¼šæœ‰å¤§é‡çš„åŠŸèƒ½å˜æ›´å’Œç¼ºé™·ä¿®å¤ï¼Œå‡ºé”™ç‡æ¯”è¾ƒé«˜ã€‚ å¯é æ€§å·®ï¼š æŸä¸ªåº”ç”¨Bugï¼Œä¾‹å¦‚æ­»å¾ªç¯ã€å†…å­˜æº¢å‡ºç­‰ï¼Œ å¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªåº”ç”¨çš„å´©æºƒã€‚ æ‰©å±•èƒ½åŠ›å—é™ï¼š å•ä½“åº”ç”¨åªèƒ½ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ‰©å±•ï¼Œæ— æ³•æ ¹æ®ä¸šåŠ¡æ¨¡å—çš„éœ€è¦è¿›è¡Œä¼¸ç¼©ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ä¸­æœ‰çš„æ¨¡å—æ˜¯è®¡ç®—å¯†é›†å‹çš„ï¼Œå®ƒéœ€è¦å¼ºåŠ²çš„CPUï¼› æœ‰çš„æ¨¡å—åˆ™æ˜¯IOå¯†é›†å‹çš„ï¼Œéœ€è¦æ›´å¤§çš„å†…å­˜ã€‚ ç”±äºè¿™äº›æ¨¡å—éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä¸å¾—ä¸åœ¨ç¡¬ä»¶çš„é€‰æ‹©ä¸Šåšå‡ºå¦¥åã€‚ é˜»ç¢æŠ€æœ¯åˆ›æ–°ï¼š å•ä½“åº”ç”¨å¾€å¾€ä½¿ç”¨ç»Ÿä¸€çš„æŠ€æœ¯å¹³å°æˆ–æ–¹æ¡ˆè§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œ å›¢é˜Ÿä¸­çš„æ¯ä¸ªæˆå‘˜ éƒ½å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å¼€å‘è¯­è¨€å’Œæ¡†æ¶ï¼Œè¦æƒ³å¼•å…¥æ–°æ¡†æ¶æˆ–æ–°æŠ€æœ¯å¹³å°ä¼šéå¸¸å›°éš¾ã€‚ 2. åˆ†å¸ƒå¼æ¶æ„ä¸­çº§æ¶æ„ï¼Œåˆ†å¸ƒå¼åº”ç”¨ï¼Œä¸­é—´å±‚åˆ†å¸ƒå¼ + æ•°æ®åº“åˆ†å¸ƒå¼ï¼Œæ˜¯å•ä½“æ¶æ„çš„å¹¶å‘æ‰©å±•ï¼Œå°†ä¸€ä¸ªå¤§çš„ç³»ç»Ÿåˆ’åˆ†ä¸ºå¤šä¸ªä¸šåŠ¡æ¨¡å—ï¼Œä¸šåŠ¡æ¨¡å—åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå„ä¸ªä¸šåŠ¡æ¨¡å—ä¹‹é—´é€šè¿‡æ¥å£è¿›è¡Œæ•°æ®äº¤äº’ã€‚æ•°æ®åº“ä¹Ÿå¤§é‡é‡‡ç”¨åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¦‚ Redisã€Elasticsearchã€Solor ç­‰ã€‚é€šè¿‡ LVS/Nginx ä»£ç†åº”ç”¨ï¼Œå°†ç”¨æˆ·è¯·æ±‚å‡è¡¡çš„è´Ÿè½½åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚ è¯¥æ¶æ„ç›¸å¯¹äºå•ä½“æ¶æ„æ¥è¯´ï¼Œè¿™ç§æ¶æ„æä¾›äº†è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›ï¼Œå¤§å¤§æé«˜äº†ç³»ç»Ÿè´Ÿè½½èƒ½åŠ›ï¼Œè§£å†³äº†ç½‘ç«™é«˜å¹¶å‘çš„éœ€æ±‚ã€‚å¦å¤–è¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š é™ä½äº†è€¦åˆåº¦ï¼š æŠŠæ¨¡å—æ‹†åˆ†,ä½¿ç”¨æ¥å£é€šä¿¡,é™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ã€‚ è´£ä»»æ¸…æ™°ï¼š æŠŠé¡¹ç›®æ‹†åˆ†æˆè‹¥å¹²ä¸ªå­é¡¹ç›®,ä¸åŒçš„å›¢é˜Ÿè´Ÿè´£ä¸åŒçš„å­é¡¹ç›®ã€‚ æ‰©å±•æ–¹ä¾¿ï¼š å¢åŠ åŠŸèƒ½æ—¶åªéœ€è¦å†å¢åŠ ä¸€ä¸ªå­é¡¹ç›®,è°ƒç”¨å…¶ä»–ç³»ç»Ÿçš„æ¥å£å°±å¯ä»¥ã€‚ éƒ¨ç½²æ–¹ä¾¿ï¼š å¯ä»¥çµæ´»çš„è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ã€‚ æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼š æ¯”å¦‚ service å±‚ï¼Œå¦‚æœä¸é‡‡ç”¨åˆ†å¸ƒå¼ REST æœåŠ¡æ–¹å¼æ¶æ„å°±ä¼šåœ¨æ‰‹æœº wap å•†åŸï¼Œå¾®ä¿¡å•†åŸï¼ŒPCï¼ŒAndroidï¼ŒIOS æ¯ä¸ªç«¯éƒ½è¦å†™ä¸€ä¸ª service å±‚é€»è¾‘ï¼Œå¼€å‘é‡å¤§ï¼Œéš¾ä»¥ç»´æŠ¤ä¸€èµ·å‡çº§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼ REST æœåŠ¡æ–¹å¼ï¼Œå…¬ç”¨ä¸€ä¸ª service å±‚ã€‚ ç¼ºç‚¹ï¼š ç³»ç»Ÿä¹‹é—´çš„äº¤äº’è¦ä½¿ç”¨è¿œç¨‹é€šä¿¡,æ¥å£å¼€å‘å¢å¤§å·¥ä½œé‡,ä½†æ˜¯åˆ©å¤§äºå¼Šã€‚ 3. å¾®æœåŠ¡æ¶æ„å¾®æœåŠ¡æ¶æ„ï¼Œä¸»è¦æ˜¯ä¸­é—´å±‚åˆ†è§£ï¼Œå°†ç³»ç»Ÿæ‹†åˆ†æˆå¾ˆå¤šå°åº”ç”¨ï¼ˆå¾®æœåŠ¡ï¼‰ï¼Œå¾®æœåŠ¡å¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨ç›¸åŒçš„æœåŠ¡å™¨ä¸åŒçš„å®¹å™¨ä¸Šã€‚å½“åº”ç”¨çš„æ•…éšœä¸ä¼šå½±å“åˆ°å…¶ä»–åº”ç”¨ï¼Œå•åº”ç”¨çš„è´Ÿè½½ä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–åº”ç”¨ï¼Œå…¶ä»£è¡¨æ¡†æ¶æœ‰ Spring cloudã€Dubbo ç­‰ã€‚ æ˜“äºå¼€å‘å’Œç»´æŠ¤ï¼š ä¸€ä¸ªå¾®æœåŠ¡åªä¼šå…³æ³¨ä¸€ä¸ªç‰¹å®šçš„ä¸šåŠ¡åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒä¸šåŠ¡æ¸…æ™°ã€ä»£ç é‡è¾ƒå°‘ã€‚ å¼€å‘å’Œç»´æŠ¤å•ä¸ªå¾®æœåŠ¡ç›¸å¯¹ç®€å•ã€‚è€Œæ•´ä¸ªåº”ç”¨æ˜¯ç”±è‹¥å¹²ä¸ªå¾®æœåŠ¡æ„å»ºè€Œæˆçš„ï¼Œæ‰€ä»¥æ•´ä¸ªåº”ç”¨ä¹Ÿä¼šè¢«ç»´æŒåœ¨ä¸€ä¸ªå¯æ§çŠ¶æ€ã€‚ å•ä¸ªå¾®æœåŠ¡å¯åŠ¨è¾ƒå¿«ï¼š å•ä¸ªå¾®æœåŠ¡ä»£ç é‡è¾ƒå°‘ï¼Œ æ‰€ä»¥å¯åŠ¨ä¼šæ¯”è¾ƒå¿«ã€‚ å±€éƒ¨ä¿®æ”¹å®¹æ˜“éƒ¨ç½²ï¼š å•ä½“åº”ç”¨åªè¦æœ‰ä¿®æ”¹ï¼Œå°±å¾—é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ï¼Œå¾®æœåŠ¡è§£å†³äº†è¿™æ ·çš„é—®é¢˜ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹æŸä¸ªå¾®æœåŠ¡è¿›è¡Œä¿®æ”¹ï¼Œåªéœ€è¦é‡æ–°éƒ¨ç½²è¿™ä¸ªæœåŠ¡å³å¯ã€‚ æŠ€æœ¯æ ˆä¸å—é™ï¼š åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå¯ä»¥ç»“åˆé¡¹ç›®ä¸šåŠ¡åŠå›¢é˜Ÿçš„ç‰¹ç‚¹ï¼Œåˆç†åœ°é€‰æ‹©æŠ€æœ¯æ ˆã€‚ä¾‹å¦‚æŸäº›æœåŠ¡å¯ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“MySQLï¼›æŸäº›å¾®æœåŠ¡æœ‰å›¾å½¢è®¡ç®—çš„éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨Neo4jï¼›ç”šè‡³å¯æ ¹æ®éœ€è¦ï¼Œéƒ¨åˆ†å¾®æœåŠ¡ä½¿ç”¨Javaå¼€å‘ï¼Œéƒ¨åˆ†å¾®æœåŠ¡ä½¿ç”¨Node.jså¼€å‘ã€‚ å¾®æœåŠ¡è™½ç„¶æœ‰å¾ˆå¤šå¸å¼•äººçš„åœ°æ–¹ï¼Œä½†å®ƒå¹¶ä¸æ˜¯å…è´¹çš„åˆé¤ï¼Œä½¿ç”¨å®ƒæ˜¯æœ‰ä»£ä»·çš„ã€‚ä½¿ç”¨å¾®æœåŠ¡æ¶æ„é¢ä¸´çš„æŒ‘æˆ˜ã€‚ è¿ç»´è¦æ±‚è¾ƒé«˜ï¼š æ›´å¤šçš„æœåŠ¡æ„å‘³ç€æ›´å¤šçš„è¿ç»´æŠ•å…¥ã€‚åœ¨å•ä½“æ¶æ„ä¸­ï¼Œåªéœ€è¦ä¿è¯ä¸€ä¸ªåº”ç”¨çš„æ­£å¸¸è¿è¡Œã€‚è€Œåœ¨å¾®æœåŠ¡ä¸­ï¼Œéœ€è¦ä¿è¯å‡ åç”šè‡³å‡ ç™¾ä¸ªæœåŠ¡æœåŠ¡çš„æ­£å¸¸è¿è¡Œä¸åä½œï¼Œè¿™ç»™è¿ç»´å¸¦æ¥äº†å¾ˆå¤§çš„æŒ‘æˆ˜ã€‚ åˆ†å¸ƒå¼å›ºæœ‰çš„å¤æ‚æ€§ï¼š ä½¿ç”¨å¾®æœåŠ¡æ„å»ºçš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿã€‚å¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç³»ç»Ÿå®¹é”™ã€ç½‘ç»œå»¶è¿Ÿã€åˆ†å¸ƒå¼äº‹åŠ¡ç­‰éƒ½ä¼šå¸¦æ¥å·¨å¤§çš„æŒ‘æˆ˜ã€‚ æ¥å£è°ƒæ•´æˆæœ¬é«˜ï¼š å¾®æœåŠ¡ä¹‹é—´é€šè¿‡æ¥å£è¿›è¡Œé€šä¿¡ã€‚å¦‚æœä¿®æ”¹æŸä¸€ä¸ªå¾®æœåŠ¡çš„APIï¼Œå¯èƒ½æ‰€æœ‰ä½¿ç”¨äº†è¯¥æ¥å£çš„å¾®æœåŠ¡éƒ½éœ€è¦åšè°ƒæ•´ã€‚ é‡å¤åŠ³åŠ¨ï¼š å¾ˆå¤šæœåŠ¡å¯èƒ½éƒ½ä¼šä½¿ç”¨åˆ°ç›¸åŒçš„åŠŸèƒ½ï¼Œè€Œè¿™ä¸ªåŠŸèƒ½å¹¶æ²¡æœ‰è¾¾åˆ°åˆ†è§£ä¸ºä¸€ä¸ªå¾®æœåŠ¡çš„ç¨‹åº¦ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯èƒ½å„ä¸ªæœåŠ¡éƒ½ä¼šå¼€å‘è¿™ä¸€åŠŸèƒ½ï¼Œä»è€Œå¯¼è‡´ä»£ç é‡å¤ã€‚å°½ç®¡å¯ä»¥ä½¿ç”¨å…±äº«åº“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆä¾‹å¦‚å¯ä»¥å°†è¿™ä¸ªåŠŸèƒ½å°è£…æˆå…¬å…±ç»„ä»¶ï¼Œéœ€è¦è¯¥åŠŸèƒ½çš„å¾®æœåŠ¡å¼•ç”¨è¯¥ç»„ä»¶ï¼‰ï¼Œä½†å…±äº«åº“åœ¨å¤šè¯­è¨€ç¯å¢ƒä¸‹å°±ä¸ä¸€å®šè¡Œå¾—é€šäº†ã€‚ 4. Serverless æ¶æ„å½“æˆ‘ä»¬è¿˜åœ¨å®¹å™¨çš„æµªæ½®ä¸­å‰è¡Œæ—¶ï¼Œå·²ç»æœ‰ä¸€äº›é©å‘½å…ˆé©±æ‚„ç„¶å¸ƒå±€å¦å¤–ä¸€ä¸ªäº‘è®¡ç®—æˆ˜åœºï¼šServerless æ¶æ„ã€‚ Serverless æ¶æ„èƒ½å¤Ÿè®©å¼€å‘è€…åœ¨æ„å»ºåº”ç”¨çš„è¿‡ç¨‹ä¸­æ— éœ€å…³æ³¨è®¡ç®—èµ„æºçš„è·å–å’Œè¿ç»´ï¼Œç”±å¹³å°æ¥æŒ‰éœ€åˆ†é…è®¡ç®—èµ„æºå¹¶ä¿è¯åº”ç”¨æ‰§è¡Œçš„SLAï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼‰ï¼ŒæŒ‰ç…§è°ƒç”¨æ¬¡æ•°è¿›è¡Œè®¡è´¹ï¼Œæœ‰æ•ˆçš„èŠ‚çœåº”ç”¨æˆæœ¬ã€‚ ç”±äºè¯¥æ¶æ„æœ‰ä¸€å®šçš„è¶…å‰æ€§ï¼Œè¿™é‡Œä¸åšè¿‡å¤šä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥æˆ³è¿™é‡Œï¼šhttps://jimmysong.io/posts/what-is-serverless/ å¾®æœåŠ¡å®šä¹‰é€šè¿‡ä¸Šé¢ç®€å•çš„ä»‹ç»ï¼Œæˆ‘ä»¬äº†è§£äº†æˆ‘ä»¬çš„æ¶æ„æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥è¿‡æ¸¡åˆ°å¾®æœåŠ¡çš„ï¼Œä¸ºäº†è§£å†³å•ä½“åº”ç”¨çš„è¯¸å¤šé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†åˆ†å¸ƒå¼çš„æ¦‚å¿µï¼Œé€šè¿‡å°†å•ä½“åº”ç”¨æ‹†åˆ†æˆè¯¸å¤šå•ç‹¬çš„æ¨¡å—æ¥é™ä½è€¦åˆä»¥åŠæå‡ç³»ç»Ÿæ€§èƒ½ï¼Œå…¶å®è¿™é‡Œå°±æ¶‰åŠåˆ°ä¸€ä¸ªæœåŠ¡åŒ–çš„æ¦‚å¿µï¼Œè€Œå¾®æœåŠ¡ä¸ä¹‹ä¸åŒçš„æ˜¯ï¼š æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ã€‚å¾®æœåŠ¡å¯ä»¥è¯´æ˜¯æ›´ç»†ç»´åº¦çš„æœåŠ¡åŒ–ï¼Œå°åˆ°ä¸€ä¸ªå­å­æ¨¡å—ï¼Œåªè¦è¯¥æ¨¡å—ä¾èµ–çš„èµ„æºä¸å…¶ä»–æ¨¡å—éƒ½æ²¡æœ‰å…³ç³»ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ‹†åˆ†æˆä¸€ä¸ªå¾®æœåŠ¡ã€‚ æœåŠ¡ç‹¬ç«‹éƒ¨ç½²ã€‚æ¯ä¸ªæœåŠ¡éƒ½ä¸¥æ ¼éµå¾ªç‹¬ç«‹æ‰“åŒ…éƒ¨ç½²çš„å‡†åˆ™ï¼Œäº’ä¸å½±å“ã€‚æ¯”å¦‚ä¸€å°ç‰©ç†æœºä¸Šå¯ä»¥éƒ¨ç½²å¤šä¸ª Docker å®ä¾‹ï¼Œæ¯ä¸ª Docker å®ä¾‹å¯ä»¥éƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡çš„ä»£ç ã€‚ æœåŠ¡ç‹¬ç«‹ç»´æŠ¤ã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½å¯ä»¥äº¤ç”±ä¸€ä¸ªå°å›¢é˜Ÿç”šè‡³ä¸ªäººæ¥å¼€å‘ã€æµ‹è¯•ã€å‘å¸ƒå’Œè¿ç»´ï¼Œå¹¶å¯¹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£ã€‚ æœåŠ¡æ²»ç†èƒ½åŠ›è¦æ±‚é«˜ã€‚å› ä¸ºæ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹åï¼ŒæœåŠ¡çš„æ•°é‡å˜å¤šï¼Œå› æ­¤éœ€è¦æœ‰ç»Ÿä¸€çš„æœåŠ¡æ²»ç†å¹³å°ï¼Œæ¥å¯¹å„ä¸ªæœåŠ¡è¿›è¡Œç®¡ç†ã€‚ å°½ç®¡å¾®æœåŠ¡å’Œå¾®æœåŠ¡æ¶æ„æœ‰æ‰€ä¸åŒï¼Œä½†æˆ‘ä»¬é€šå¸¸ä¹Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºï¼š å¾®æœåŠ¡æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå®ƒæ˜¯ä»¥ä¸“æ³¨äºå•ä¸€è´£ä»»ä¸åŠŸèƒ½çš„å°å‹åŠŸèƒ½åŒºå—ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨æ¨¡ç»„åŒ–çš„æ–¹å¼ç»„åˆå‡ºå¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œå„åŠŸèƒ½åŒºå—ä½¿ç”¨ä¸è¯­è¨€æ— å…³çš„ APIï¼ˆä¾‹å¦‚ RESTï¼‰é›†ç›¸äº’é€šè®¯ï¼Œä¸”æ¯ä¸ªæœåŠ¡å¯ä»¥è¢«å•ç‹¬éƒ¨ç½²ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒç‰¹ç‚¹ï¼š å¾®æœåŠ¡ä¸ºå¤§å‹ç³»ç»Ÿè€Œç”Ÿã€‚éšç€ä¸šåŠ¡çš„å¿«é€Ÿå¢é•¿ï¼Œä¼šå¸¦æ¥ç³»ç»Ÿæµé‡å‹åŠ›å’Œå¤æ‚åº¦çš„ä¸Šå‡ï¼Œç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§æˆä¸ºæ¶æ„è®¾è®¡çš„ä¸»è¦è€ƒè™‘å› ç´ ï¼Œå¾®æœåŠ¡æ¶æ„è®¾è®¡ç†å¿µé€šè¿‡å°è€Œç¾çš„ä¸šåŠ¡æ‹†åˆ†ï¼Œé€šè¿‡åˆ†è€Œè‡ªæ²»æ¥å®ç°å¤æ‚ç³»ç»Ÿçš„ä¼˜é›…è®¾è®¡å®ç°ã€‚ å¾®æœåŠ¡æ¶æ„æ˜¯é¢å‘ç»“æœçš„ã€‚å¾®æœåŠ¡æ¶æ„è®¾è®¡é£æ ¼çš„äº§ç”Ÿå¹¶éæ˜¯å‡ºäºå­¦æœ¯æˆ–ä¸ºæ ‡å‡†è€Œæ ‡å‡†çš„è®¾è®¡ï¼Œè€Œæ˜¯åœ¨è½¯ä»¶æ¶æ„è®¾è®¡é¢†åŸŸä¸æ–­æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œé¢å¯¹å®é™…å·¥ä¸šç•Œæ‰€é‡åˆ°é—®é¢˜ï¼Œè€Œå‡ºç°çš„é¢å‘è§£å†³å®é™…é—®é¢˜çš„æ¶æ„è®¾è®¡é£æ ¼ã€‚ ä¸“æ³¨äºæœåŠ¡çš„å¯æ›¿ä»£æ€§æ¥è®¾è®¡ã€‚å¾®æœåŠ¡æ¶æ„è®¾è®¡é£æ ¼æ ¸å¿ƒè¦è§£å†³çš„é—®é¢˜ä¹‹ä¸€ä¾¿æ˜¯å¦‚ä½•ä¾¿åˆ©åœ°åœ¨å¤§å‹ç³»ç»Ÿä¸­è¿›è¡Œç³»ç»Ÿç»„ä»¶çš„ç»´æŠ¤å’Œæ›¿æ¢ï¼Œä¸”ä¸å½±å“æ•´ä½“ç³»ç»Ÿç¨³å®šæ€§ã€‚ å‚è€ƒèµ„æ–™ 1. æµ…è°ˆwebç½‘ç«™æ¶æ„æ¼”å˜è¿‡ç¨‹ - https://www.cnblogs.com/xiaoMzjm/p/5223799.html2. äº’è”ç½‘æ¶æ„æ¼”è¿›ä¹‹è·¯ - https://zhuanlan.zhihu.com/p/421157573. å››ç§è½¯ä»¶æ¶æ„æ¼”è¿›å² - https://blog.csdn.net/xinyuan_java/article/details/883943324. ã€Šæœªæ¥æ¶æ„ ä»æœåŠ¡åŒ–åˆ°äº‘åŸç”Ÿã€‹ - å¼ äº® ç­‰è‘— æ‰©å±•é˜…è¯»ï¼š1.å¾®æœåŠ¡çš„4ä¸ªè®¾è®¡åŸåˆ™å’Œ19ä¸ªè§£å†³æ–¹æ¡ˆ - http://p.primeton.com/articles/59b0f9244be8e61fea00be67 æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å¾®æœåŠ¡","slug":"JavaWebè¿›é˜¶/å¾®æœåŠ¡","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å¾®æœåŠ¡","slug":"å¾®æœåŠ¡","permalink":"http://www.wmyskxz.com/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"äº”å­æ£‹å…ˆä¸‹ä¸€å®šèµ¢ï¼Ÿ","slug":"äº”å­æ£‹å…ˆä¸‹ä¸€å®šèµ¢ï¼Ÿ","date":"2019-06-06T02:35:00.000Z","updated":"2020-08-03T09:24:18.044Z","comments":true,"path":"2019/06/06/wu-zi-qi-xian-xia-yi-ding-ying/","link":"","permalink":"http://www.wmyskxz.com/2019/06/06/wu-zi-qi-xian-xia-yi-ding-ying/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼šhttps://www.zhihu.com/question/24053236/answer/32848231å¼•ç”¨è‡ªï¼šçŸ¥ä¹ - äº”å­æ£‹å…ˆä¸‹çš„ä¸€å®šèµ¢å—ï¼Ÿå¦‚ä½•è¯æ˜ï¼Ÿ - @èƒ¡å¤©ç¡• é€šå¸¸å¤§å®¶ç©çš„äº”å­æ£‹åˆ†ä¸ºå¸¦ç¦æ‰‹å’Œä¸å¸¦ç¦æ‰‹ä¸¤ä¸ªç‰ˆæœ¬ï¼ˆå‰è€…ä¸€èˆ¬ç§°ä¹‹ä¸ºäº”å­æ£‹Gomokuï¼Œåè€…ç§°ä¹‹ä¸ºè¿ç Renjuï¼‰ï¼Œæ— è®ºå“ªä¸€ä¸ªç‰ˆæœ¬ï¼Œå…ˆæ‰‹é»‘æ£‹å‡å¿…èƒœã€‚ æ‰€è°“é»‘å¿…èƒœçš„æ„æ€æ˜¯ï¼Œåªè¦é»‘æ£‹æŒ‰ç…§ä¸€å®šçš„æ–¹å¼ä¸‹ï¼Œç™½æ£‹é€‰æ‹©æ£‹ç›˜ä¸Šçš„ä»»ä½•ä¸€ä¸ªç‚¹éƒ½ä¸å¯èƒ½èµ¢æ£‹ã€‚ å…¶å®åœ¨ç”µè„‘å‡ºç°ä¹‹å‰ï¼Œäº”å­æ£‹çš„ç©å®¶å°±å‘ç°é»‘æ£‹é‡‡å–æŸäº›å¼€å±€èµ¢é¢çš„æå¤§ï¼Œä¹Ÿæ€€ç–‘æœ‰å…ˆæ‰‹å¿…èƒœçš„æ–¹æ³•ã€‚ä½†æ²¡æœ‰äººèƒ½å¤ŸçœŸæ­£â€œè¯æ˜â€å‡ºæ¥ç™½æ£‹æ— è®ºæ€ä¹ˆä¸‹éƒ½æ˜¯å¿…è´¥çš„â€”â€”è¿™ä¸ªç»“è®ºæœ€ç»ˆè¿˜æ˜¯é€šå…³ç”µè„‘æ¥è¯æ˜çš„ã€‚ å…¶ä¸­ä¸å¸¦ç¦æ‰‹æ˜¯ 1992 å¹´ Victor Allis é€šè¿‡ç¼–ç¨‹è¯æ˜é»‘å¿…èƒœçš„ï¼Œæ–‡ç« åœ°å€åœ¨è¿™é‡Œï¼š https://project.dke.maastrichtuniversity.nl/games/files/phd/SearchingForSolutions.pdf ç¦æ‰‹è§„åˆ™æ˜¯åªé’ˆå¯¹é»‘æ£‹çš„ï¼Œç®€è€Œè¨€ä¹‹æ˜¯é»‘æ£‹åªå…è®¸ä½¿ç”¨å†²å››æ´»ä¸‰è¿™ä¸€ç§èµ¢æ³•ï¼ˆå½“ç„¶ä¸æ’é™¤ç™½æ£‹æ•…æ„å†²å››ä¸æŒ¡è¿™ç§æ–¹æ³•ï¼‰ã€‚è®¾è®¡çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†é™åˆ¶é»‘æ£‹çš„å·¨å¤§ä¼˜åŠ¿ï¼Œç™½æ£‹ä¹Ÿå¤šäº†é€¼ç¦æ‰‹è¿™å„¿ä¸€ç§èµ¢æ³•ã€‚ä½†åæ¥äººä»¬ä¹Ÿé€æ­¥å‘ç°å¸¦ç¦æ‰‹åï¼Œé»‘æ£‹ä¾ç„¶ä¼¼ä¹èƒ½ä¸è´¥ã€‚ç›´åˆ°åæ¥ï¼Œä¹Ÿæœ‰äººè¯æ˜ï¼Œå¸¦ç¦æ‰‹æ‰§é»‘ä¹Ÿå¯ä»¥å¿…èƒœã€‚ å¸¦ç¦æ‰‹çš„æ˜¯ 2001 æ˜¯ Janos Wagner ç¬¬ä¸€æ¬¡è¯æ˜é»‘å¿…èƒœçš„ï¼Œæ–‡ç« åœ°å€åœ¨è¿™é‡Œï¼š http://www.sze.hu/~gtakacs/download/wagnervirag_2001.pdf è¿™ä¸ªåé¢çš„è¯æ˜æ¯”å‰é¢çš„è¯æ˜è¦å¼ºå¾ˆå¤šï¼Œå› ä¸ºæŒ‰ç…§å¸¦ç¦æ‰‹çš„èµ°æ³•ï¼Œä¸å¸¦ç¦æ‰‹ä¹Ÿä¸€å®šå¿…èƒœï¼Œä½†å€’è¿‡æ¥æœªå¿…ã€‚ è¿™è¿˜ä¸è¯´ï¼Œä¸ºäº†è¿›ä¸€æ­¥å‰Šå¼±é»‘æ£‹çš„ä¼˜åŠ¿ï¼Œå›½é™…ä¸Šæ¨å‡ºäº”æ‰‹ä¸¤æ‰“ï¼ˆå°±æ˜¯é»‘æ£‹çš„ç¬¬ä¸‰æ­¥éœ€è¦ä¸‹ä¸¤ä¸ªç‚¹ï¼Œä½†ç”±ç™½æ£‹æŒ‘é€‰è®©å…¶ä¸‹è¾ƒå¼±çš„å“ªä¸€ä¸ªï¼‰çš„è§„åˆ™ã€‚å¯æ˜¯äººä»¬å‘ç°é»‘æ£‹å¸¦ç¦æ‰‹ä¾ç„¶æ˜¯å¿…èƒœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé»‘æ£‹å¿…èƒœä¸ä»…ä»…æœ‰ä¸€ç§æ–¹æ³•ï¼Œè€Œæ˜¯è‡³å°‘æœ‰ä¸¤ç§ä»¥ä¸Šï¼ˆæ¥å›åº”å„ç§å˜ç§çš„ç¬¬å››æ­¥ï¼‰ã€‚ ä»å®è·µçš„è§’åº¦æ¥è®²ï¼Œç½‘ä¸Šæ˜¯å¯ä»¥æœç´¢â€œåœ°æ¯¯è°±â€ï¼ˆå°¤å…¶æ˜¯èŠ±æœˆå’Œè’²æœˆéƒ½æ˜¯äº”æ‰‹ä¸¤æ‰“å¿…èƒœï¼‰ï¼Œä¸€èˆ¬åœ¨å‡ ç™¾å…†å·¦å³ï¼Œå¯ä»¥ç”¨ renlib è½¯ä»¶æ‰“å¼€ï¼Œæ‰€è°“åœ°æ¯¯è°±çš„æ„æ€å°±æ˜¯é»‘æ£‹ä¼šæŒ‡å®šä¸‹æ³•ï¼Œä½†ç™½æ£‹æ¯ä¸€æ­¥éƒ½å¯ä»¥é€‰æ‹©æ£‹ç›˜ä»»æ„ä½ç½®ï¼Œæœ€åé»‘æ£‹å¿…èƒœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æŒ‰ç…§æ­¤æ£‹è°±ä¸‹æ£‹ï¼Œäº”å­æ£‹ä¸–ç•Œå† å†›éƒ½ä¸€å®šä¼šè¾“ç»™ä½ ã€‚ æ‰€ä»¥æ­£å¼çš„æ¯”èµ›æ‰ä¼šæœ‰ä¸‰æ‰‹äº¤æ¢äº”æ‰‹ä¸¤æ‰“ï¼Œå±±å£è§„åˆ™ï¼ˆäº”æ‰‹ n æ‰“ï¼‰è¿™äº›å¤æ‚çš„è§„åˆ™æ¥å¹³è¡¡æ¯”èµ›ã€‚ä½†è¿™äº›è§„åˆ™ä¹Ÿæ˜¯é€æ¸è¢«äººç ´è§£ï¼Œäº”å­æ£‹çš„æ¯”èµ›å·²ç»å¾ˆå¤§ç¨‹åº¦ä¸æ˜¯åœ¨è€ƒéªŒè‡ªå·±çš„ä¸´åœºå‘æŒ¥ï¼Œè€Œæ˜¯è€ƒéªŒé€‰æ‰‹å¯¹äºå„ç§å¼€å±€çš„è®°å¿†æƒ…å†µã€‚ å¦å¤–é’ˆå¯¹æœ‰äººè´¨ç–‘æ—¢ç„¶äº”å­æ£‹å¿…èƒœï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç©ï¼š å¿…èƒœå¹¶ä¸ä»£è¡¨å»ç½‘ä¸Šé»‘å…ˆå¼€æµ¦æœˆã€èŠ±æœˆå°±ä¸€å®šäººæŒ¡æ€äººï¼Œä½›æŒ¡æ€ä½›ã€‚ å¿…èƒœçš„å„ç§åˆ†æ”¯å¥—è·¯ä¹Ÿä¸æ˜¯é‚£ä¹ˆå®¹æ˜“è®°ä½çš„ï¼Œè¯¸ä½å¯ä»¥å’Œ tito2014 æˆ–è€…å¼ˆå¿ƒæ‰§é»‘ä½“éªŒä¸€ä¸‹ï¼ˆé«˜æ‰‹ç»•é“ï¼‰ã€‚æ‰€ä»¥å„ç§å¯¹æˆ˜å¹³å°ä¸Šï¼Œå°±ç®—æ˜¯åœ¨éç¦æ‰‹åŒºæ‹¿åˆ°èƒœç‡è¿œè¶… 50%ä¹Ÿä¸æ˜¯ä¸å¯èƒ½çš„ã€‚ å¦å¤–ä¸å¸¦ç¦æ‰‹çš„äº”å­æ£‹æ˜¯å±äºä¸€ç±»æ›´ä¸ºæ™®éçš„ m,n,k æ¸¸æˆï¼ˆm,n,k-gameï¼‰çš„ä¸€ç§ç‰¹ä¾‹ï¼Œå³ 15,15,5ã€‚m,n,k æ¸¸æˆæ˜¯æŒ‡ m è¡Œ n åˆ—ï¼Œè½®æµä¸‹å­ï¼Œè¿æˆ k ä¸ªç®—èµ¢ã€‚è¿™ä¸ªåœ¨æ•°å­¦ä¸­ä¸“é—¨æœ‰ç ”ç©¶å¦‚æœåœ¨æœ€ç†æƒ³ä¸‹æ³•ï¼ˆPerfect Playï¼‰çš„æƒ…å†µä¸‹æœ‰ä»€ä¹ˆæ ·ä¸åŒçš„ç»“æœï¼Œæ¯”å¦‚æ ‡å‡†çš„ä¸‰è¿æ£‹ï¼ˆTic-tac-toeï¼‰æ˜¯ 3,3,3 æ˜¯ä¸€ä¸ªå¹³å±€ï¼ŒåŒæ ·åªæœ‰å…­è·¯æ£‹ç›˜çš„äº”å­æ£‹ä¹Ÿæ˜¯å¹³å±€ï¼Œå½“ç„¶ä¸Šé¢æˆ‘ä»¬å·²ç»è¯´æ˜äº† 15,15,5 æ˜¯å…ˆæ‰‹å¿…èƒœã€‚m,n,k æ¸¸æˆåªæœ‰å…ˆæ‰‹å¿…èƒœå’Œå¹³å±€ä¸¤ç§ç»“æœã€‚ç”±äºæ¯ä¸‹ä¸€ä¸ªå­éƒ½ä¸€å®šä¼šå¯¹ä¸‹å­ä¸€æ–¹é‚£ä¸€æ–¹æœ‰ä¼˜åŠ¿ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡åè¯æ³•è¯æ˜ m,n,k æ¸¸æˆé‡Œä¸å¯èƒ½æœ‰åæ‰‹èƒœåˆ©çš„æƒ…å†µã€‚å¦‚æœåæ‰‹æœ‰èƒœåˆ©çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå…ˆæ‰‹å¯ä»¥æå‰â€œå€Ÿé‰´â€è¿‡æ¥å®ç°å¿…èƒœï¼ˆStrategy stealingï¼‰ã€‚ å¦å¤–é™¤äº†è§„å®šå¤æ‚çš„å¼€å±€å’Œç¦æ‰‹è§„åˆ™ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªå‡ºè·¯ï¼š é™¤äº†é‡‡å–å¯¹å…ˆæ‰‹é‡‡å–å„ç§é™åˆ¶çš„æ–¹æ³•ï¼Œ2003 å¹´è¢«å´æ¯…æˆæ•™æˆå‘æ˜çš„é€£å…­æ£‹(Connect6)ä¹Ÿéå¸¸ç±»ä¼¼äº”å­æ£‹ï¼Œéš¾åº¦å¾ˆé«˜ï¼Œä½†å…­å­æ£‹æ²¡æœ‰å…ˆæ‰‹ä¼˜åŠ¿â€”â€”å› ä¸ºæ¯ä¸€æ­¥éƒ½ä¸‹ä¸¤ä¸ªå­ï¼Œé™¤äº†ç¬¬ä¸€æ­¥ä¸‹ä¸€ä¸ªå­ï¼Œè¿™æ ·ä¿è¯åŒæ–¹æ¯æ¬¡ä¸‹æ£‹æ—¶ï¼Œéƒ½å¯ä»¥æ¯”å¯¹æ–¹å¤šä¸€ä¸ªå­ã€‚AI ç›®å‰è®¡ç®—çš„ç»“æœä¹Ÿæ˜¯ï¼Œæ²¡æœ‰å‘ç°å…ˆæ‰‹æ¯”åæ‰‹æœ‰æ›´å¤§çš„ä¼˜åŠ¿ã€‚ æ—¢ç„¶åŒæ–¹éƒ½æ²¡æœ‰ä¼˜åŠ¿ï¼Œå…­å­æ£‹ä¸‹æ»¡æ•´ä¸ªï¼ˆå›´æ£‹ 19x19 æ£‹ç›˜ï¼‰éƒ½æ²¡æœ‰åˆ†å‡ºé«˜ä½éƒ½æ˜¯æœ‰å¯èƒ½çš„ã€‚ï¼ˆè¿™ä¸ªæ¸¸æˆå·²ç»ä¸å†æ˜¯ m,n,k æ¸¸æˆäº†ï¼‰ ä¸å¾—ä¸è¯´çš„æ˜¯ï¼Œè™½ç„¶æœ‰ä¸ªåˆ«æ¯”èµ›ï¼ˆgomocup è¯´ä½ å‘¢ï¼‰è¿˜æ˜¯åœ¨ç”¨é™å®šè§„åˆ™çš„äº”å­æ£‹åš ai æ¯”èµ›ï¼Œä½†æ˜¯æ­£ç»çš„ç¼–ç¨‹å¥¥èµ›æ˜¯æ²¡æœ‰äº”å­æ£‹çš„æ¯”èµ›ï¼ˆ93 å¹´å°±æ²¡äº†å¥½ä¸å¥½ï¼‰ï¼Œè€Œè¢« connect6 è¿™ç§ç®€çº¦çš„è§„åˆ™æ‰€å–ä»£ã€‚Connect6 çš„è§£å†³éš¾åº¦å‡ ä¹ä¸å›´æ£‹ç›¸å½“ã€‚ æ„Ÿå…´è¶£ä¼ ç»Ÿäº”å­æ£‹å’Œè¿ç çš„ AI ç®—æ³•çš„å¯ä»¥å‚è€ƒè¿™ä¸ªé—®é¢˜ï¼šç°åœ¨çš„äº”å­æ£‹ AI åœ¨èŒä¸šæ¯”èµ›è§„åˆ™ä¸‹ä¸äººå¯¹å†³æ˜¯ä»€ä¹ˆæ°´å¹³ï¼Ÿ - äººå·¥æ™ºèƒ½:https://www.zhihu.com/question/27077916å’Œè¿™ä¸ªé¡µé¢ï¼ˆè‹±æ–‡ï¼‰:AI EXP - https://www.aiexp.info/pages/yixin-cn.html","categories":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/categories/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"tags":[{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/tags/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"äº†è§£ã€Dockerã€‘ä»è¿™é‡Œå¼€å§‹","slug":"äº†è§£ã€Dockerã€‘ä»è¿™é‡Œå¼€å§‹","date":"2019-05-28T23:33:00.000Z","updated":"2020-08-03T09:16:08.664Z","comments":true,"path":"2019/05/29/liao-jie-docker-cong-zhe-li-kai-shi/","link":"","permalink":"http://www.wmyskxz.com/2019/05/29/liao-jie-docker-cong-zhe-li-kai-shi/","excerpt":"","text":"ä¸€ã€ç¯å¢ƒé…ç½®çš„éš¾é¢˜ è½¯ä»¶å¼€å‘æœ€å¤§çš„éš¾é¢˜ä¹‹ä¸€å°±æ˜¯ç¯å¢ƒé…ç½®çš„é—®é¢˜ã€‚ç°åœ¨ç”¨æˆ·ç¯å¢ƒçº·ä¹±å¤æ‚ï¼Œå¹¶ä¸”ç”±äºå¼€æºç¤¾åŒºçš„è¿›ä¸€æ­¥æ¨å¹¿å’Œè®¸å¤šå¼€æºé¡¹ç›®ä¸åœåœ°è¿­ä»£æ›´æ–°ï¼Œé¡¹ç›®å¯èƒ½ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„ä¾èµ–ä»¥åŠè¶Šæ¥è¶Šéš¾ç®¡ç†çš„ä¾èµ–ç‰ˆæœ¬ï¼Œå¦‚ä½•ä¿è¯ç¼–å†™çš„ç¨‹åºèƒ½ä¸åªæ˜¯åœ¨â€œæˆ‘çš„ç”µè„‘ä¸Šèƒ½è¿è¡Œâ€ï¼ˆIt works on my machineï¼‰æˆäº†ä¸€ä¸ªå¤æ‚éº»çƒ¦çš„äº‹æƒ…ã€‚ äºæ˜¯å°±æœ‰äººæå‡ºï¼šèƒ½ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼Œè®©è½¯ä»¶å¯ä»¥è‡ªå¸¦ç¯å¢ƒå®‰è£…ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£…çš„æ—¶å€™ï¼ŒæŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥ã€‚ è™šæ‹Ÿæœºè™šæ‹Ÿæœºï¼ˆvirtual machineï¼‰å°±æ˜¯ä¸€ç§è‡ªå¸¦ç¯å¢ƒå®‰è£…çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒå¯ä»¥åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿé‡Œé¢è¿è¡Œå¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚åœ¨ Windows ç³»ç»Ÿé‡Œè¿è¡Œä¸€ä¸ª Linux çš„æ“ä½œç³»ç»Ÿã€‚ åº”ç”¨ç¨‹åºå¯¹è™šæ‹Ÿæœºæ˜¯æ¯«æ— æ„ŸçŸ¥çš„ï¼Œå› ä¸ºè™šæ‹Ÿæœºçœ‹ä¸Šå»è·ŸçœŸå®çš„æ“ä½œç³»ç»Ÿä¸€æ¨¡ä¸€æ ·ï¼Œè€Œä¸”å¯¹äºåº•å±‚çš„ç³»ç»Ÿæ¥è¯´ï¼Œè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦äº†å°±åˆ é™¤ï¼Œå¯¹å…¶ä»–éƒ¨åˆ†æ¯«æ— å½±å“ã€‚ è™½ç„¶ç”¨æˆ·å¯ä»¥é€šè¿‡è™šæ‹Ÿæœºè¿˜åŸè½¯ä»¶çš„åŸå§‹ç¯å¢ƒã€‚ä½†æ˜¯ï¼Œè¯¥æ–¹æ¡ˆæœ‰ä»¥ä¸‹çš„å‡ ä¸ªç¼ºç‚¹ï¼š 1. èµ„æºå ç”¨å¤š è™šæ‹Ÿæœºä¼šç‹¬å ä¸€éƒ¨åˆ†æœ¬å±äºæ“ä½œç³»ç»Ÿçš„å†…å­˜å’Œç¡¬ç›˜ç©ºé—´ã€‚å®ƒè¿è¡Œçš„æ—¶å€™ï¼Œå…¶ä»–ç¨‹åºå°±ä¸èƒ½ä½¿ç”¨è¿™äº›èµ„æºäº†ã€‚å“ªæ€•ä½ æƒ³åœ¨è™šæ‹Ÿæœºé‡Œé¢ä½¿ç”¨çš„åº”ç”¨ç¨‹åºå®ƒå®é™…åªä¼šå ç”¨ 1MB çš„å†…å­˜ï¼Œè™šæ‹Ÿæœºä»ç„¶éœ€è¦å‡ ç™¾ MB çš„å†…å­˜æ‰èƒ½è¿è¡Œã€‚ 2. å†—ä½™æ­¥éª¤å¤š è™šæ‹Ÿæœºæ˜¯å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œä¸€äº›ç³»ç»Ÿå±‚é¢ä¸Šçš„æ“ä½œæ­¥éª¤ï¼Œå¾€å¾€æ— æ³•è°ƒè¿‡ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•ã€‚ 3. å¯åŠ¨æ…¢ å¯åŠ¨æ“ä½œç³»ç»Ÿéœ€è¦å¤šä¹…ï¼Œå¯åŠ¨è™šæ‹Ÿæœºå°±éœ€è¦å¤šä¹…ã€‚å¯èƒ½è¦ç­‰å‡ åˆ†é’Ÿï¼Œæ‰èƒ½è®©åº”ç”¨ç¨‹åºçœŸæ­£çš„è¿è¡Œèµ·æ¥ã€‚ Linux å®¹å™¨ç”±äºè™šæ‹Ÿæœºå­˜åœ¨ä¸Šè¿°çš„è¿™äº›ç¼ºç‚¹ï¼ŒLinux æå‡ºäº†å¦ä¸€ç§è™šæ‹ŸæœºåŒ–æŠ€æœ¯ï¼šLinux å®¹å™¨ï¼ˆLinux Containersï¼Œç¼©å†™ LXCï¼‰ã€‚ Linux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚æˆ–è€…è¯´ï¼Œåœ¨æ­£å¸¸è¿›ç¨‹çš„å¤–é¢å¥—äº†ä¸€ä¸ªä¿æŠ¤å±‚ã€‚å¯¹äºå®¹å™¨é‡Œé¢çš„è¿›ç¨‹æ¥è¯´ï¼Œå®ƒæ¥è§¦åˆ°çš„å„ç§èµ„æºéƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œä»è€Œå®ç°ä¸åº•å±‚ç³»ç»Ÿçš„éš”ç¦»ã€‚ ç”±äºå®¹å™¨æ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œç›¸æ¯”è™šæ‹Ÿæœºæœ‰å¾ˆå¤šä¼˜åŠ¿ã€‚ 1. å¯åŠ¨å¿« å®¹å™¨é‡Œé¢çš„åº”ç”¨ï¼Œç›´æ¥å°±æ˜¯åº•å±‚ç³»ç»Ÿçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿæœºå†…éƒ¨çš„è¿›ç¨‹ã€‚æ‰€ä»¥ï¼Œå¯åŠ¨å®¹å™¨ç›¸å½“äºå¯åŠ¨æœ¬æœºçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸æ˜¯å¯åŠ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œé€Ÿåº¦å°±å¿«å¾ˆå¤šã€‚ 2. èµ„æºå ç”¨å°‘ å®¹å™¨åªå ç”¨éœ€è¦çš„èµ„æºï¼Œä¸å ç”¨é‚£äº›æ²¡æœ‰ç”¨åˆ°çš„èµ„æºï¼›è™šæ‹Ÿæœºç”±äºæ˜¯å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œä¸å¯é¿å…è¦å ç”¨æ‰€æœ‰èµ„æºã€‚å¦å¤–ï¼Œå¤šä¸ªå®¹å™¨å¯ä»¥å…±äº«èµ„æºï¼Œè™šæ‹Ÿæœºéƒ½æ˜¯ç‹¬äº«èµ„æºã€‚ 3. ä½“ç§¯å° å®¹å™¨åªè¦åŒ…å«ç”¨åˆ°çš„ç»„ä»¶å³å¯ï¼Œè€Œè™šæ‹Ÿæœºæ˜¯æ•´ä¸ªæ“ä½œç³»ç»Ÿçš„æ‰“åŒ…ï¼Œæ‰€ä»¥å®¹å™¨æ–‡ä»¶æ¯”è™šæ‹Ÿæœºæ–‡ä»¶è¦å°å¾ˆå¤šã€‚ æ€»ä¹‹ï¼Œå®¹å™¨æœ‰ç‚¹åƒè½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œèƒ½å¤Ÿæä¾›è™šæ‹ŸåŒ–çš„ç¯å¢ƒï¼Œä½†æ˜¯æˆæœ¬å¼€é”€å°å¾—å¤šã€‚ äºŒã€ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ Enterprise Container Platform for High-Velocity InnovationSecurely build, share and run any application, anywhere è¯‘ï¼šä¼ä¸šé«˜é€Ÿå®¹å™¨å¹³å°åœ¨ä»»ä½•åœ°æ–¹å®‰å…¨çš„å»ºé€ ã€åˆ†äº«ã€è¿è¡Œä½ çš„åº”ç”¨ç¨‹åº å®˜æ–¹å¯¹ Docker çš„å®šä¹‰æ˜¯ä¸€ä¸ªå®¹å™¨å¹³å°ã€‚ç®€å•æ¥è¯´ï¼ŒDocker å±äº Linux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚å¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨ Docker æ¥æ¶ˆé™¤åä½œç¼–ç æ—¶ â€œåœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥æ­£å¸¸å·¥ä½œâ€ çš„é—®é¢˜ã€‚ Docker å°†åº”ç”¨ç¨‹åºä¸è¯¥ç¨‹åºçš„ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿå®¹å™¨ã€‚ç¨‹åºåœ¨è¿™ä¸ªè™šæ‹Ÿå®¹å™¨é‡Œè¿è¡Œï¼Œå°±å¥½åƒåœ¨çœŸå®çš„ç‰©ç†æœºä¸Šè¿è¡Œä¸€æ ·ã€‚æœ‰äº† Dockerï¼Œå°±ä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ æ€»ä½“æ¥è¯´ï¼ŒDocker çš„æ¥å£ç›¸å½“ç®€å•ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼ŒæŠŠè‡ªå·±çš„åº”ç”¨æ”¾å…¥å®¹å™¨ã€‚å®¹å™¨è¿˜å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€å¤åˆ¶ã€åˆ†äº«ã€ä¿®æ”¹ï¼Œå°±åƒç®¡ç†æ™®é€šçš„ä»£ç ä¸€æ ·ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Dockerï¼ŸDocker æ˜¯ä¸€ä¸ªä¸ºå¼€å‘è€…å’Œè¿ç»´è€…å»å¼€å‘ã€å‘å¸ƒå’Œåœ¨å®¹å™¨ä¸­è¿è¡Œåº”ç”¨çš„å¹³å°ã€‚ä½¿ç”¨ Linux å®¹å™¨æ¥éƒ¨ç½²åº”ç”¨ç¨‹åºè¢«ç§°ä¸ºå®¹å™¨åŒ–ã€‚ å®¹å™¨ä¸æ˜¯æ–°çš„æ¦‚å¿µï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºå¾ˆå®¹æ˜“å‘å¸ƒä¸€ä¸ªåº”ç”¨ã€‚ å®¹å™¨åŒ–å˜å¾—éå¸¸çš„æµè¡Œï¼Œå› ä¸ºå®¹å™¨åŒ–å…·æœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹ï¼š çµæ´»ï¼šå³ä½¿æœ€å¤æ‚çš„åº”ç”¨ä¹Ÿèƒ½å¤Ÿè¢«å®¹å™¨åŒ–ã€‚ è½»é‡ï¼šå®¹å™¨æœ€å¤§åŒ–åˆ©ç”¨å’Œåˆ†äº«ä¸»æœºçš„å†…æ ¸ã€‚ å¯äº’æ¢ï¼šä½ å¯ä»¥å³æ—¶éƒ¨ç½²æ›´æ–°å’Œå‡çº§åº”ç”¨ã€‚ ä¾¿æ·ï¼šä½ å¯ä»¥åœ¨æœ¬åœ°æ„å»ºåº”ç”¨ï¼Œå¹¶éƒ¨ç½²åˆ°å®¹å™¨äº‘ï¼Œå¹¶åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œã€‚ å¯æ‰©å±•ï¼šä½ å¯ä»¥å¢åŠ å’Œè‡ªåŠ¨åˆ†å‘å®¹å™¨çš„ä¸ªæ•°ã€‚ å¯å †å ï¼šæ‚¨å¯ä»¥å‚ç›´å †å æœåŠ¡å¹¶å³æ—¶å †å æœåŠ¡ã€‚ å®¹å™¨é™¤äº†è¿è¡Œå…¶ä¸­åº”ç”¨å¤–ï¼ŒåŸºæœ¬ä¸æ¶ˆè€—é¢å¤–çš„ç³»ç»Ÿèµ„æºï¼Œä½¿å¾—åº”ç”¨çš„æ€§èƒ½å¾ˆé«˜ï¼ŒåŒæ—¶ç³»ç»Ÿçš„å¼€é”€å°½é‡å°ã€‚ä¼ ç»Ÿè™šæ‹Ÿæœºæ–¹å¼è¿è¡Œ 10 ä¸ªä¸åŒçš„åº”ç”¨å°±è¦èµ· 10 ä¸ªè™šæ‹Ÿæœºï¼Œè€ŒDocker åªéœ€è¦å¯åŠ¨ 10 ä¸ªéš”ç¦»çš„åº”ç”¨å³å¯ã€‚ å…·ä½“è¯´æ¥ï¼ŒDocker åœ¨å¦‚ä¸‹å‡ ä¸ªæ–¹é¢å…·æœ‰è¾ƒå¤§çš„ä¼˜åŠ¿ã€‚ 1. æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½² å¯¹å¼€å‘å’Œè¿ç»´ï¼ˆdevopï¼‰äººå‘˜æ¥è¯´ï¼Œæœ€å¸Œæœ›çš„å°±æ˜¯ä¸€æ¬¡åˆ›å»ºæˆ–é…ç½®ï¼Œå¯ä»¥åœ¨ä»»æ„åœ°æ–¹æ­£å¸¸è¿è¡Œã€‚ å¼€å‘è€…å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ ‡å‡†çš„é•œåƒæ¥æ„å»ºä¸€å¥—å¼€å‘å®¹å™¨ï¼Œå¼€å‘å®Œæˆä¹‹åï¼Œè¿ç»´äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªå®¹å™¨æ¥éƒ¨ç½²ä»£ç ã€‚ Docker å¯ä»¥å¿«é€Ÿåˆ›å»ºå®¹å™¨ï¼Œå¿«é€Ÿè¿­ä»£åº”ç”¨ç¨‹åºï¼Œå¹¶è®©æ•´ä¸ªè¿‡ç¨‹å…¨ç¨‹å¯è§ï¼Œä½¿å›¢é˜Ÿä¸­çš„å…¶ä»–æˆå‘˜æ›´å®¹æ˜“ç†è§£åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•åˆ›å»ºå’Œå·¥ä½œçš„ã€‚ Docker å®¹å™¨å¾ˆè½»å¾ˆå¿«ï¼å®¹å™¨çš„å¯åŠ¨æ—¶é—´æ˜¯ç§’çº§çš„ï¼Œå¤§é‡åœ°èŠ‚çº¦å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ã€‚ 2. æ›´é«˜æ•ˆçš„è™šæ‹ŸåŒ– Docker å®¹å™¨çš„è¿è¡Œä¸éœ€è¦é¢å¤–çš„ hypervisor æ”¯æŒï¼Œå®ƒæ˜¯å†…æ ¸çº§çš„è™šæ‹ŸåŒ–ï¼Œå› æ­¤å¯ä»¥å®ç°æ›´é«˜çš„æ€§èƒ½å’Œæ•ˆç‡ã€‚ 3. æ›´è½»æ¾çš„è¿ç§»å’Œæ‰©å±• Docker å®¹å™¨å‡ ä¹å¯ä»¥åœ¨ä»»æ„çš„å¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ç‰©ç†æœºã€è™šæ‹Ÿæœºã€å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€ä¸ªäººç”µè„‘ã€æœåŠ¡å™¨ç­‰ã€‚ è¿™ç§å…¼å®¹æ€§å¯ä»¥è®©ç”¨æˆ·æŠŠä¸€ä¸ªåº”ç”¨ç¨‹åºä»ä¸€ä¸ªå¹³å°ç›´æ¥è¿ç§»åˆ°å¦å¤–ä¸€ä¸ªã€‚ 4. æ›´ç®€å•çš„ç®¡ç† ä½¿ç”¨ Dockerï¼Œåªéœ€è¦å°å°çš„ä¿®æ”¹ï¼Œå°±å¯ä»¥æ›¿ä»£ä»¥å¾€å¤§é‡çš„æ›´æ–°å·¥ä½œã€‚æ‰€æœ‰çš„ä¿®æ”¹éƒ½ä»¥å¢é‡çš„æ–¹å¼è¢«åˆ†å‘å’Œæ›´æ–°ï¼Œä»è€Œå®ç°è‡ªåŠ¨åŒ–å¹¶ä¸”é«˜æ•ˆçš„ç®¡ç†ã€‚ Docker VS VMå®¹å™¨å’Œè™šæ‹Ÿæœºå¯¹èµ„æºçš„éš”ç¦»å’Œåˆ†é…æœ‰ç›¸åŒçš„ä¼˜åŠ¿ï¼Œä½†ä¸åŒçš„æ˜¯å®¹å™¨è™šæ‹ŸåŒ–æ“ä½œç³»ç»Ÿè€Œä¸æ˜¯ç¡¬ä»¶ï¼Œè¿™ä½¿å¾—å®¹å™¨æ›´åŠ çš„æ–¹ä¾¿å’Œé«˜æ•ˆã€‚ ä¸€ä¸ªå®¹å™¨æ˜¯åœ¨ Linux æœåŠ¡æœ¬åœ°è¿è¡Œï¼Œå¹¶å’Œå…¶ä»–çš„å®¹å™¨å…±äº«ä¸»æœºçš„å†…æ ¸ã€‚å®ƒè¿è¡Œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼Œç›¸å¯¹äºå…¶ä»–å¯æ‰§è¡Œçš„è¿›ç¨‹ï¼ˆæ¯”å¦‚è™šæ‹Ÿæœºï¼‰æ¥è¯´ï¼Œå®¹å™¨çš„å†…å­˜å ç”¨ç©ºé—´æ›´å°ï¼Œæ›´åŠ çš„è½»é‡åŒ–ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œè™šæ‹Ÿæœºï¼ˆVMï¼‰è¿è¡Œä¸€ä¸ªå®Œæ•´çš„â€œå®¢æˆ·â€æ“ä½œç³»ç»Ÿï¼Œé€šè¿‡è™šæ‹Ÿæœºç®¡ç†ç¨‹åºè™šæ‹Ÿè®¿é—®ä¸»æœºèµ„æºã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè™šæ‹Ÿæœºæä¾›çš„ç¯å¢ƒæ¯”å¤§å¤šæ•°åº”ç”¨ç¨‹åºéœ€è¦çš„èµ„æºæ›´å¤šã€‚ ç”±äº Docker è½»é‡ã€èµ„æºå ç”¨å°‘ï¼Œä½¿å¾— Docker å¯ä»¥è½»æ˜“çš„åº”ç”¨åˆ°æ„å»ºæ ‡å‡†åŒ–çš„åº”ç”¨ä¸­ã€‚ä½† Docker ç›®å‰è¿˜ä¸å¤Ÿå®Œå–„ï¼Œæ¯”å¦‚éš”ç¦»æ•ˆæœä¸å¦‚ VMï¼Œå…±äº«å®¿ä¸»æœºæ“ä½œç³»ç»Ÿçš„ä¸€äº›åŸºç¡€åº“ç­‰ï¼›ç½‘ç»œé…ç½®åŠŸèƒ½ç›¸å¯¹ç®€å•ï¼Œä¸»è¦ä»¥æ¡¥æ¥æ–¹å¼ä¸ºä¸»ï¼›æŸ¥çœ‹æ—¥å¿—ä¹Ÿä¸å¤Ÿæ–¹ä¾¿çµæ´»ã€‚ Docker çš„ç”¨é€”Docker çš„ä¸»è¦ç”¨é€”ï¼Œç›®å‰æœ‰ä¸‰å¤§ç±»ã€‚ 1. æä¾›ä¸€æ¬¡æ€§çš„ç¯å¢ƒã€‚æ¯”å¦‚ï¼Œæœ¬åœ°æµ‹è¯•ä»–äººçš„è½¯ä»¶ã€æŒç»­é›†æˆçš„æ—¶å€™æä¾›å•å…ƒæµ‹è¯•å’Œæ„å»ºçš„ç¯å¢ƒã€‚ 2. æä¾›å¼¹æ€§çš„äº‘æœåŠ¡ã€‚å› ä¸º Docker å®¹å™¨å¯ä»¥éšå¼€éšå…³ï¼Œå¾ˆé€‚åˆåŠ¨æ€æ‰©å®¹å’Œç¼©å®¹ã€‚ 3. ç»„å»ºå¾®æœåŠ¡æ¶æ„ã€‚é€šè¿‡å¤šä¸ªå®¹å™¨ï¼Œä¸€å°æœºå™¨å¯ä»¥è·‘å¤šä¸ªæœåŠ¡ï¼Œå› æ­¤åœ¨æœ¬æœºå°±å¯ä»¥æ¨¡æ‹Ÿå‡ºå¾®æœåŠ¡æ¶æ„ã€‚ ä¸‰ã€Docker åŸºæœ¬æ¦‚å¿µ ä¸‹é¢è¿™å¼ å›¾éå¸¸çš„ç»å…¸ï¼Œå¾ˆå½¢è±¡åœ°å±•ç¤ºäº†ï¼Œä»€ä¹ˆæ˜¯å®¹å™¨ï¼Œä»€ä¹ˆæ˜¯é•œåƒï¼Œä»€ä¹ˆæ˜¯ä»“åº“ï¼Œä»¥åŠä¸‰è€…ä¹‹é—´çš„è”ç³»ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹è¿™å¼ å›¾ã€‚ç°åœ¨æˆ‘ä»¬è¦é€ ä¸€é—´å¨æˆ¿ï¼Œåœ¨é€ ä¹‹å‰æˆ‘ä»¬é¦–å…ˆè¦å¹²çš„ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å…ˆåˆ—ä¸¾å‡ºæˆ‘ä»¬é€ å¨æˆ¿éœ€è¦çš„ä¸œè¥¿ã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸€ä¸ªé€šäº†æ°´ç”µç…¤çš„æˆ¿å­ä»¥åŠä¸€äº›å¿…éœ€çš„å¨æˆ¿ç”¨å…·è¯¸å¦‚é”…ç¢—ç“¢å‹ºã€ç…¤æ°”ç¶ã€å†°ç®±ã€æ°´æ§½ç­‰ç­‰è¿™äº›ä¸œè¥¿ã€‚ç°åœ¨æˆ‘ä»¬çŸ¥é“éœ€è¦äº†ä»€ä¹ˆä¸œè¥¿ä¹‹åï¼Œæˆ‘ä»¬å°±å»æ‰¾è¿™äº›ä¸œè¥¿ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆå»äº¬ä¸œè´­ä¹°ä¸€äº›å¨æˆ¿ç”¨å…·ï¼Œè¿™äº›ç”¨å…·å°±å¥½æ¯”æˆ‘ä»¬çš„Dockeré•œåƒï¼Œæˆ‘ä»¬å¨æˆ¿çš„ç”¨å…·åˆ°äº†ä¹‹åå¾—æ‰¾ä¸ªåœ°æ–¹æŠŠå®ƒä»¬æ”¾åœ¨ï¼Œä¸å¯èƒ½éšå¤„ä¸¢å§ï¼Œä¸ç„¶åé¢ç”¨çš„æ—¶å€™å°±æ‰¾ä¸åˆ°å®ƒäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬Dockeré•œåƒä¹Ÿæ˜¯è¿™æ ·ï¼Œéœ€è¦ä¸€ä¸ªDockerä»“åº“å»å­˜å‚¨è¿™äº›é•œåƒã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†è¿™äº›å¨æˆ¿ç”¨å…·ä¹‹åå°±å¯ä»¥åšé¥­äº†å—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯ä¸èƒ½ï¼Œæ²¡æ°´æ²¡ç”µæ²¡ç«å•Šï¼è¿™æ—¶å€™æˆ‘ä»¬å¾—æŠŠå¨æˆ¿ç”¨å…·ç»™è£…åˆ°ä¸€ä¸ªé€šäº†æ°´ç”µç…¤çš„æˆ¿å­æ‰è¡Œï¼Œé‚£ä¹ˆDockeré•œåƒä¹Ÿæ˜¯è¿™æ ·ï¼Œå•çº¯çš„Dockeré•œåƒæ˜¯ä¸èƒ½ç”¨çš„ï¼Œå®ƒå¾—è£…åˆ°Dockerå®¹å™¨ä¸­é€šäº†æ°´ç”µç…¤æ‰èƒ½ä½¿ç”¨ã€‚ç­‰æˆ‘ä»¬è£…å¥½äº†å¨æˆ¿ç”¨å…·ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹åšé¥­ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„Dockeré•œåƒè£…åˆ°Dockerå®¹å™¨ä¹‹åï¼Œæˆ‘ä»¬åº”ç”¨å°±å¯ä»¥è·‘èµ·æ¥äº†ã€‚ æ¦‚å¿µè¯¦è§£Dockeræ˜¯CSæ¶æ„ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼š Docker daemon: è¿è¡Œåœ¨å®¿ä¸»æœºä¸Šï¼ŒDockerå®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æˆ·é€šè¿‡Docker client(Dockerå‘½ä»¤)ä¸Docker daemonäº¤äº’ Docker client: Docker å‘½ä»¤è¡Œå·¥å…·ï¼Œæ˜¯ç”¨æˆ·ä½¿ç”¨Dockerçš„ä¸»è¦æ–¹å¼ï¼ŒDocker clientä¸Docker daemoné€šä¿¡å¹¶å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ï¼ŒDocker clientä¹Ÿå¯ä»¥é€šè¿‡socketæˆ–è€…RESTful apiè®¿é—®è¿œç¨‹çš„Docker daemon äº†è§£äº†Dockerçš„ç»„æˆï¼Œå†æ¥äº†è§£ä¸€ä¸‹Dockerçš„ä¸‰ä¸ªä¸»è¦æ¦‚å¿µï¼š Docker imageï¼š é•œåƒæ˜¯åªè¯»çš„ï¼Œé•œåƒä¸­åŒ…å«æœ‰éœ€è¦è¿è¡Œçš„æ–‡ä»¶ã€‚é•œåƒç”¨æ¥åˆ›å»ºcontainerï¼Œä¸€ä¸ªé•œåƒå¯ä»¥è¿è¡Œå¤šä¸ªcontainerï¼›é•œåƒå¯ä»¥é€šè¿‡Dockerfileåˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä»Docker hub/registryä¸Šä¸‹è½½ã€‚ Docker containerï¼š å®¹å™¨æ˜¯Dockerçš„è¿è¡Œç»„ä»¶ï¼Œå¯åŠ¨ä¸€ä¸ªé•œåƒå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨æ˜¯ä¸€ä¸ªéš”ç¦»ç¯å¢ƒï¼Œå¤šä¸ªå®¹å™¨ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œä¿è¯å®¹å™¨ä¸­çš„ç¨‹åºè¿è¡Œåœ¨ä¸€ä¸ªç›¸å¯¹å®‰å…¨çš„ç¯å¢ƒä¸­ã€‚ Docker hub/registry: å…±äº«å’Œç®¡ç†Dockeré•œåƒï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ æˆ–è€…ä¸‹è½½ä¸Šé¢çš„é•œåƒï¼Œå®˜æ–¹åœ°å€ä¸ºhttps://registry.hub.docker.com/ï¼Œä¹Ÿå¯ä»¥æ­å»ºè‡ªå·±ç§æœ‰çš„Docker registryã€‚ é•œåƒå°±ç›¸å½“äºæ‰“åŒ…å¥½çš„ç‰ˆæœ¬ï¼Œé•œåƒå¯åŠ¨ä¹‹åè¿è¡Œåœ¨å®¹å™¨ä¸­ï¼Œä»“åº“å°±æ˜¯è£…å­˜å‚¨é•œåƒçš„åœ°æ–¹ã€‚ ä¸‰ã€Docker å®‰è£… å®‰è£…è¿‡ç¨‹éƒ½å¤§åŒå°å¼‚ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œè¯¦ç»†çš„å¯ä»¥å‚è€ƒè¿™é‡Œï¼šhttps://www.runoob.com/docker/macos-docker-install.html å”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯ç”±äºå›½å†…ç½‘ç»œé—®é¢˜ï¼Œéœ€è¦ç»™ Docker é•œåƒåŠ ä¸ªé€Ÿï¼ˆè¯¦ç»†çš„å¯ä»¥æˆ³ä¸Šé¢é“¾æ¥ï¼Œæœ€åæœ‰â€¦ï¼‰ å››ã€Docker Hello World é¦–å…ˆï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå°† image æ–‡ä»¶ä»ä»“åº“æŠ“å–åˆ°æœ¬åœ°ã€‚ $ docker image pull library/hello-world ä¸Šé¢ä»£ç ä¸­ï¼Œdocker image pullæ˜¯æŠ“å– image æ–‡ä»¶çš„å‘½ä»¤ã€‚library/hello-worldæ˜¯ image æ–‡ä»¶åœ¨ä»“åº“é‡Œé¢çš„ä½ç½®ï¼Œå…¶ä¸­libraryæ˜¯ image æ–‡ä»¶æ‰€åœ¨çš„ç»„ï¼Œhello-worldæ˜¯ image æ–‡ä»¶çš„åå­—ã€‚ ç”±äº Docker å®˜æ–¹æä¾›çš„ image æ–‡ä»¶ï¼Œéƒ½æ”¾åœ¨libraryç»„é‡Œé¢ï¼Œæ‰€ä»¥å®ƒçš„æ˜¯é»˜è®¤ç»„ï¼Œå¯ä»¥çœç•¥ã€‚å› æ­¤ï¼Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ $ docker image pull hello-world æŠ“å–æˆåŠŸä»¥åï¼Œå°±å¯ä»¥åœ¨æœ¬æœºçœ‹åˆ°è¿™ä¸ª image æ–‡ä»¶äº†ã€‚ $ docker image ls ç°åœ¨ï¼Œè¿è¡Œè¿™ä¸ª image æ–‡ä»¶ $ docker container run hello-world docker container run å‘½ä»¤ä¼šä» image æ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚ æ³¨æ„ï¼Œdocker container run å‘½ä»¤å…·æœ‰è‡ªåŠ¨æŠ“å– image æ–‡ä»¶çš„åŠŸèƒ½ã€‚å¦‚æœå‘ç°æœ¬åœ°æ²¡æœ‰æŒ‡å®šçš„ image æ–‡ä»¶ï¼Œå°±ä¼šä»ä»“åº“è‡ªåŠ¨æŠ“å–ã€‚å› æ­¤ï¼Œå‰é¢çš„ docker image pull å‘½ä»¤å¹¶ä¸æ˜¯å¿…éœ€çš„æ­¥éª¤ã€‚ å¦‚æœè¿è¡ŒæˆåŠŸï¼Œä½ ä¼šåœ¨å±å¹•ä¸Šè¯»åˆ°ä¸‹é¢çš„è¾“å‡ºã€‚ $ docker container run hello-world Hello from Docker! This message shows that your installation appears to be working correctly. ... ... è¾“å‡ºè¿™æ®µæç¤ºä»¥åï¼Œhello world å°±ä¼šåœæ­¢è¿è¡Œï¼Œå®¹å™¨è‡ªåŠ¨ç»ˆæ­¢ã€‚ æœ‰äº›å®¹å™¨ä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢ï¼Œå› ä¸ºæä¾›çš„æ˜¯æœåŠ¡ã€‚æ¯”å¦‚ï¼Œå®‰è£…è¿è¡Œ Ubuntu çš„ imageï¼Œå°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä½“éªŒ Ubuntu ç³»ç»Ÿã€‚ $ docker container run -it ubuntu bash å¯¹äºé‚£äº›ä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢çš„å®¹å™¨ï¼Œå¿…é¡»ä½¿ç”¨docker container kill å‘½ä»¤æ‰‹åŠ¨ç»ˆæ­¢ã€‚ $ docker container kill [containID] äº”ã€å¸¸ç”¨å‘½ä»¤ æ€æ­»æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker kill $(docker ps -a -q) åˆ é™¤æ‰€æœ‰å·²ç»åœæ­¢çš„å®¹å™¨docker rm $(docker ps -a -q) åˆ é™¤æ‰€æœ‰é•œåƒdocker rmi $(docker images -q) å…³é—­å®¹å™¨docker stop CONTAINER IDæˆ–è€…NAMES é‡æ–°å¯åŠ¨å…³é—­çš„å®¹å™¨docker start CONTAINER IDæˆ–è€…NAMES ç§»é™¤æœ¬åœ°å®¹å™¨docker rm CONTAINER IDæˆ–è€…NAMES æŸ¥çœ‹æœ¬åœ°å®¹å™¨docker ps //æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨docker ps -a //æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ æŸ¥çœ‹æœ¬åœ°é•œåƒdocker images åˆ›å»ºé•œåƒdocker build -t name:tag Dockerfileè·¯å¾„ ä¿®æ”¹æœ¬åœ°é•œåƒæ ‡è®°docker tag IMAGE ID name:tagdocker rmi name:tag åˆ é™¤æœ¬åœ°é•œåƒdocker rmi name:tagæˆ–è€…IMAGE ID è¿›å…¥å®¹å™¨docker exec -it IMAGE IDæˆ–è€…NAMES /bin/bash è·å–é•œåƒä¸­å¿ƒçš„é•œåƒdocker pull name:tag è·å–å®¹å™¨çš„ç«¯å£æ˜ å°„é…ç½®docker port CONTAINER IDæˆ–è€…NAMES å‚è€ƒèµ„æ–™ 1. Dockerå…¥é—¨æ•™ç¨‹(é˜®ä¸€å³°) - http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html2. Docker(ä¸€)ï¼šDockerå…¥é—¨æ•™ç¨‹(çº¯æ´çš„å¾®ç¬‘) - https://www.cnblogs.com/ityouknow/p/8520296.html3. Dockeræ•™ç¨‹(èœé¸Ÿæ•™ç¨‹) - https://www.runoob.com/docker/docker-tutorial.html4. - Dockerå…¥é—¨ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† - https://segmentfault.com/a/1190000009544565#articleHeader65. å®˜æ–¹æ–‡æ¡£ - https://www.docker.com æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"æ¶æ„ä¹‹è·¯","slug":"æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/categories/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Docker","slug":"Docker","permalink":"http://www.wmyskxz.com/tags/Docker/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ŠEffective-Rubyã€‹è¯»ä¹¦ç¬”è®°","slug":"ã€ŠEffective-Rubyã€‹è¯»ä¹¦ç¬”è®°","date":"2019-05-11T23:32:00.000Z","updated":"2020-08-03T09:15:42.565Z","comments":true,"path":"2019/05/12/effective-ruby-du-shu-bi-ji/","link":"","permalink":"http://www.wmyskxz.com/2019/05/12/effective-ruby-du-shu-bi-ji/","excerpt":"","text":"æœ¬ç¯‡æ˜¯åœ¨æˆ‘æ¥è§¦äº† Ruby å¾ˆçŸ­ä¸€æ®µæ—¶é—´åæœ‰å¹¸æ§èµ·çš„ä¸€æœ¬ä¹¦ï¼Œä¸‹é¢ç»“åˆè‡ªå·±çš„ä¸€äº›æ€è€ƒï¼Œæ¥è¾“å‡ºä¸€ä¸‹è‡ªå·±çš„è¯»ä¹¦ç¬”è®° å‰è¨€å­¦ä¹ ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€é€šå¸¸éœ€è¦ç»è¿‡ä¸¤ä¸ªé˜¶æ®µï¼š ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯å­¦ä¹ è¿™é—¨ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•å’Œç»“æ„ï¼Œå¦‚æœæˆ‘ä»¬å…·æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ç»éªŒï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹é€šå¸¸åªéœ€è¦å¾ˆçŸ­çš„æ—¶é—´ï¼› ç¬¬äºŒä¸ªé˜¶æ®µæ˜¯æ·±å…¥è¯­è¨€ã€å­¦ä¹ è¯­è¨€é£æ ¼ï¼Œè®¸å¤šç¼–ç¨‹è¯­è¨€åœ¨è§£å†³å¸¸è§çš„é—®é¢˜æ—¶éƒ½ä¼šä½¿ç”¨ç‹¬ç‰¹çš„æ–¹æ³•ï¼ŒRuby ä¹Ÿä¸ä¾‹å¤–ã€‚ ã€ŠEffictive Rubyã€‹å°±æ˜¯ä¸€æœ¬è‡´åŠ›äºè®©ä½ åœ¨ç¬¬äºŒé˜¶æ®µæ›´åŠ æ·±å…¥å’Œå…¨é¢çš„äº†è§£ Rubyï¼Œç¼–å†™å‡ºæ›´å…·å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ä»£ç çš„ä¹¦ï¼Œä¸‹é¢æˆ‘å°±ç€ä¸€äº›æˆ‘è®¤ä¸ºçš„é‡ç‚¹å’Œè‡ªå·±çš„æ€è€ƒæ¥è¿›è¡Œä¸€äº›ç²¾ç®€å’Œè¯´æ˜ ç¬¬ä¸€ç« ï¼šè®©è‡ªå·±ç†Ÿæ‚‰ Rubyç¬¬ 1 æ¡ï¼šç†è§£ Ruby ä¸­çš„ True æ¯ä¸€é—¨è¯­è¨€å¯¹äºå¸ƒå°”ç±»å‹çš„å€¼éƒ½æœ‰è‡ªå·±çš„å¤„ç†æ–¹å¼ï¼Œåœ¨ Ruby ä¸­ï¼Œé™¤äº† false å’Œ nilï¼Œå…¶ä»–å€¼éƒ½ä¸ºçœŸå€¼ï¼ŒåŒ…æ‹¬æ•°å­— 0 å€¼ã€‚ å¦‚æœä½ éœ€è¦åŒºåˆ† false å’Œ nilï¼Œå¯ä»¥ä½¿ç”¨ nil? çš„æ–¹å¼æˆ– â€œ==â€œ æ“ä½œç¬¦å¹¶å°† false ä½œä¸ºå·¦æ“ä½œå¯¹è±¡ã€‚# å°† false æ”¾åœ¨å·¦è¾¹æ„å‘³ç€ Ruby ä¼šå°†è¡¨è¾¾å¼è§£æä¸º FalseClass#== æ–¹æ³•çš„è°ƒç”¨ï¼ˆè¯¥æ–¹æ³•ç»§æ‰¿è‡ª Object ç±»ï¼‰ # è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾ˆæ”¾å¿ƒåœ°çŸ¥é“ï¼šå¦‚æœå³è¾¹çš„æ“ä½œå¯¹è±¡ä¹Ÿæ˜¯ false å¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¸º true if false == x ... end æ¢å¥è¯è¯´ï¼ŒæŠŠ false ç½®ä¸ºæœ‰æ“ä½œå¯¹è±¡æ˜¯æœ‰é£é™©çš„ï¼Œå¯èƒ½ä¸åŒäºæˆ‘ä»¬çš„æœŸæœ›ï¼Œå› ä¸ºå…¶ä»–ç±»å¯èƒ½è¦†ç›– Object#== æ–¹æ³•ä»è€Œæ”¹å˜ä¸‹é¢è¿™ä¸ªæ¯”è¾ƒclass Bad def == (other) true endend irb&gt; false == Bad.newâ€”&gt; falseirb&gt; Bad.new == falseâ€”&gt; true ## ç¬¬ 2 æ¡ï¼šæ‰€æœ‰å¯¹è±¡çš„å€¼éƒ½å¯èƒ½ä¸º nil åœ¨ Ruby ä¸­å€¡å¯¼æ¥å£é«˜äºç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´é¢„æœŸè¦æ±‚å¯¹è±¡æ˜¯æŸä¸ªç»™å®šç±»çš„å®ä¾‹ï¼Œä¸å¦‚å°†æ³¨æ„åŠ›æ”¾åœ¨è¯¥å¯¹è±¡èƒ½åšä»€ä¹ˆä¸Šã€‚æ²¡æœ‰ä»€ä¹ˆä¼šé˜»æ­¢ä½ æ„å¤–åœ°æŠŠ Time ç±»å‹å¯¹è±¡ä¼ é€’ç»™æ¥å— Date å¯¹è±¡çš„æ–¹æ³•ï¼Œè¿™äº›ç±»å‹çš„é—®é¢˜è™½ç„¶å¯ä»¥é€šè¿‡æµ‹è¯•é¿å…ï¼Œä½†ä»ç„¶æœ‰ä¸€äº›å¤šæ€æ›¿æ¢çš„é—®é¢˜ä½¿è¿™äº›ç»è¿‡æµ‹è¯•çš„åº”ç”¨ç¨‹åºå‡ºç°é—®é¢˜ï¼š ```ruby undefined method &#39;fubar&#39; for nil:NilClass (NoMethodError)å½“ä½ è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•è€Œå…¶è¿”å›å€¼åˆšå¥½æ˜¯è®¨åŒçš„ nil å¯¹è±¡æ—¶ï¼Œè¿™ç§æƒ…å†µå°±ä¼šå‘ç”ŸÂ·Â·Â·nil æ˜¯ç±» NilClass çš„å”¯ä¸€å¯¹è±¡ã€‚è¿™æ ·çš„é”™è¯¯ä¼šæ‚„ç„¶é€ƒè¿‡æµ‹è¯•è€Œä»…åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å‡ºç°ï¼šå¦‚æœä¸€ä¸ªç”¨æˆ·åšäº†äº›è¶…ä¹å¯»å¸¸çš„äº‹ã€‚ å¦ä¸€ç§å¯¼è‡´è¯¥ç»“æœçš„æƒ…å†µæ˜¯ï¼Œå½“ä¸€ä¸ªæ–¹æ³•è¿”å› nil å¹¶å°†å…¶ä½œä¸ºå‚æ•°ç›´æ¥ä¼ ç»™ä¸€ä¸ªæ–¹æ³•æ—¶ã€‚äº‹å®ä¸Šå­˜åœ¨æ•°é‡æƒŠäººçš„æ–¹å¼å¯ä»¥å°† nil æ„å¤–åœ°å¼•å…¥ä½ è¿è¡Œä¸­çš„ç¨‹åºã€‚æœ€å¥½çš„é˜²èŒƒæ–¹å¼æ˜¯ï¼šå‡è®¾ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥ä¸º nilï¼ŒåŒ…æ‹¬æ–¹æ³•å‚æ•°å’Œè°ƒç”¨æ–¹æ³•çš„è¿”å›å€¼ã€‚ # æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ nil? æ–¹æ³• # å¦‚æœæ–¹æ³•æ¥å—è€…ï¼ˆreceiverï¼‰æ˜¯ nilï¼Œè¯¥æ–¹æ³•å°†è¿”å›çœŸå€¼ï¼Œå¦åˆ™è¿”å›å‡å€¼ã€‚ # ä»¥ä¸‹å‡ è¡Œä»£ç æ˜¯ç­‰ä»·çš„ï¼š person.save if person person.save if !person.nil? person.save unless person.nil? # å°†å˜é‡æ˜¾å¼è½¬æ¢æˆæœŸæœ›çš„ç±»å‹å¸¸å¸¸æ¯”æ—¶åˆ»æ‹…å¿ƒå…¶ä¸º nil è¦å®¹æ˜“å¾—å¤š # å°¤å…¶æ˜¯åœ¨ä¸€ä¸ªæ–¹æ³•å³ä½¿æ˜¯éƒ¨åˆ†è¾“å…¥ä¸º nil æ—¶ä¹Ÿåº”è¯¥äº§ç”Ÿç»“æœçš„æ—¶å€™ # Object ç±»å®šä¹‰äº†å‡ ç§è½¬æ¢æ–¹æ³•ï¼Œå®ƒä»¬èƒ½åœ¨è¿™ç§æƒ…å†µä¸‹æ´¾ä¸Šç”¨åœº # æ¯”å¦‚ï¼Œto_s æ–¹æ³•ä¼šå°†æ–¹æ³•æ¥å—è€…è½¬åŒ–ä¸º stringï¼š irb> 13.to_s ---> \"13\" irb> nil.to_s ---> \"\" # to_s å¦‚æ­¤ä¹‹æ£’çš„åŸå› åœ¨äº String#to_s æ–¹æ³•åªæ˜¯ç®€å•è¿”å› self è€Œä¸åšä»»ä½•è½¬æ¢å’Œå¤åˆ¶ # å¦‚æœä¸€ä¸ªå˜é‡æ˜¯ stringï¼Œé‚£ä¹ˆè°ƒç”¨ to_s çš„å¼€é”€æœ€å° # ä½†å¦‚æœå˜é‡æœŸå¾… string è€Œæ°å¥½å¾—åˆ° nilï¼Œto_s ä¹Ÿèƒ½å¸®ä½ æ‰­è½¬å±€é¢ï¼š def fix_title (title) title.to_s.capitalize end è¿™é‡Œè¿˜æœ‰ä¸€äº›é€‚ç”¨äº nil çš„æœ€æœ‰ç”¨çš„ä¾‹å­ï¼š irb> nil.to_a ---> [] irb> nil.to_i ---> 0 irb> nil.to_f ---> 0.0 å½“éœ€è¦åŒæ—¶è€ƒè™‘å¤šä¸ªå€¼çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨ç±» Array æä¾›çš„ä¼˜é›…çš„è®¨å·§æ–¹å¼ã€‚Array#compact æ–¹æ³•è¿”å›å»æ‰æ‰€æœ‰ nil å…ƒç´ çš„æ–¹æ³•æ¥å—è€…çš„å‰¯æœ¬ã€‚è¿™åœ¨å°†ä¸€ç»„å¯èƒ½ä¸º nil çš„å˜é‡ç»„è£…æˆ string æ—¶å¾ˆå¸¸ç”¨ã€‚æ¯”å¦‚ï¼šå¦‚æœä¸€ä¸ªäººçš„åå­—ç”± firstã€middle å’Œ last ç»„æˆï¼ˆå…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½å¯èƒ½ä¸º nilï¼‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ç»„æˆè¿™ä¸ªåå­—ï¼š name = [first, middle, last].compact.join(\" \") nil å¯¹è±¡çš„å—œå¥½æ˜¯åœ¨ä½ ä¸ç»æ„é—´å·å·æºœè¿›æ­£åœ¨è¿è¡Œçš„ç¨‹åºä¸­ã€‚æ— è®ºå®ƒæ¥è‡ªç”¨æˆ·è¾“å…¥ã€æ— çº¦æŸæ•°æ®åº“ï¼Œè¿˜æ˜¯ç”¨ nil æ¥è¡¨ç¤ºå¤±è´¥çš„æ–¹æ³•ï¼Œæ„å‘³ç€æ¯ä¸ªå˜é‡éƒ½å¯èƒ½ä¸º nilã€‚ ç¬¬ 3 æ¡ï¼šé¿å…ä½¿ç”¨ Ruby ä¸­å¤æ€ªçš„ Perl é£æ ¼è¯­æ³• æ¨èä½¿ç”¨ String#match æ›¿ä»£ String#=~ã€‚å‰è€…å°†åŒ¹é…ä¿¡æ¯ä»¥ MatchDate å¯¹è±¡è¿”å›ï¼Œè€Œéå‡ ä¸ªç‰¹æ®Šçš„å…¨å±€å˜é‡ã€‚ ä½¿ç”¨æ›´é•¿ã€æ›´è¡¨æ„çš„å…¨å±€å˜é‡çš„åˆ«åï¼Œè€Œéå…¶çŸ­çš„ã€å¤æ€ªçš„åå­—ï¼ˆæ¯”å¦‚ï¼Œç”¨ $LOAD_PATH æ›¿ä»£ $: ï¼‰ã€‚å¤§å¤šæ•°é•¿çš„åå­—éœ€è¦åœ¨åŠ è½½åº“ English ä¹‹åæ‰èƒ½ä½¿ç”¨ã€‚ é¿å…ä½¿ç”¨éšå¼è¯»å†™å…¨å±€å˜é‡ $_ çš„æ–¹æ³•ï¼ˆæ¯”å¦‚ï¼ŒKernel#printã€Regexp#~ ç­‰ï¼‰ # è¿™æ®µä»£ç ä¸­æœ‰ä¸¤ä¸ª Perl è¯­æ³•ã€‚ # ç¬¬ä¸€ä¸ªï¼šä½¿ç”¨ String#=~ æ–¹æ³• # ç¬¬äºŒä¸ªï¼šåœ¨ä¸Šè¿°ä»£ç ä¸­çœ‹èµ·æ¥å¥½åƒæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå…¨å±€å˜é‡ $1 å¯¼å‡ºç¬¬ä¸€ä¸ªåŒ¹é…ç»„çš„å†…å®¹ï¼Œä½†å…¶å®ä¸æ˜¯... def extract_error (message) if message =~ /^ERROR:\\s+(.+)$/ $1 else \"no error\" end end # ä»¥ä¸‹æ˜¯æ›¿ä»£æ–¹æ³•ï¼š def extract_error (message) if m = message.match(/^ERROR:\\s+(.+)$/) m[1] else \"no error\" end end ç¬¬ 4 æ¡ï¼šç•™ç¥ï¼Œå¸¸é‡æ˜¯å¯å˜çš„æœ€å¼€å§‹æ¥è§¦ Ruby æ—¶ï¼Œå¯¹äºå¸¸é‡çš„è®¤è¯†å¤§æ¦‚å¯èƒ½å°±æ˜¯ç”±å¤§å†™å­—æ¯åŠ ä¸‹åˆ’çº¿ç»„æˆçš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ STDINã€RUBY_VERSIONã€‚ä¸è¿‡è¿™å¹¶ä¸æ˜¯æ•…äº‹çš„å…¨éƒ¨ï¼Œäº‹å®ä¸Šï¼Œç”±å¤§å†™å­—æ¯å¼€å¤´çš„ä»»ä½•æ ‡è¯†ç¬¦éƒ½æ˜¯å¸¸é‡ï¼ŒåŒ…æ‹¬ String æˆ– Arrayï¼Œæ¥çœ‹çœ‹è¿™ä¸ªï¼š module Defaults NOTWORKS = [\"192.168.1\",\"192.168.2\"] end def purge_unreachable (networks=Defaults::NETWORKS) networks.delete_if do |net| !ping(net + \".1\") end end å¦‚æœè°ƒç”¨æ–¹æ³• unreadchable æ—¶æ²¡æœ‰åŠ å‚æ•°çš„è¯ï¼Œä¼šæ„å¤–çš„æ”¹å˜ä¸€ä¸ªå¸¸é‡çš„å€¼ã€‚åœ¨ Ruby ä¸­è¿™æ ·åšç”šè‡³éƒ½ä¸ä¼šè­¦å‘Šä½ ã€‚å¥½åœ¨æœ‰ä¸€ç§è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•â€”â€”freeze æ–¹æ³•ï¼š module Defaults NOTWORKS = [\"192.168.1\",\"192.168.2\"].freeze end åŠ å…¥ä½ å†æƒ³æ”¹å˜å¸¸é‡ NETWORKS çš„å€¼ï¼Œpurge_unreadchable æ–¹æ³•å°±ä¼šå¼•å…¥ RuntimeError å¼‚å¸¸ã€‚æ ¹æ®ä¸€èˆ¬çš„ç»éªŒï¼Œæ€»æ˜¯é€šè¿‡å†»ç»“å¸¸é‡æ¥é˜»æ­¢å…¶è¢«æ”¹å˜ï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œå†»ç»“ NETWORKS æ•°ç»„è¿˜ä¸å¤Ÿï¼Œæ¥çœ‹çœ‹è¿™ä¸ªï¼š def host_addresses (host, networks=Defaults::NETWORKS) networks.map {|net| net &lt;&lt; \".#{host}\"} end å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰èµ‹å€¼ï¼Œé‚£ä¹ˆ host_addresses æ–¹æ³•ä¼šä¿®æ”¹æ•°ç»„ NETWORKS çš„å…ƒç´ ã€‚å³ä½¿æ•°ç»„ NETWORKS è‡ªèº«è¢«å†»ç»“ï¼Œä½†æ˜¯å…ƒç´ ä»ç„¶æ˜¯å¯å˜çš„ï¼Œä½ å¯èƒ½æ— æ³•ä»æ•°ç»„ä¸­å¢åˆ å…ƒç´ ï¼Œä½†ä½ ä¸€å®šå¯ä»¥å¯¹å­˜åœ¨çš„å…ƒç´ åŠ ä»¥ä¿®æ”¹ã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªå¸¸é‡å¼•ç”¨äº†ä¸€ä¸ªé›†åˆï¼Œæ¯”å¦‚æ•°ç»„æˆ–è€…æ˜¯æ•£åˆ—ï¼Œé‚£ä¹ˆè¯·å†»ç»“è¿™ä¸ªé›†åˆä»¥åŠå…¶ä¸­çš„å…ƒç´ ï¼š module Defaults NETWORKS = [ \"192.168.1\", \"192.168.2\" ].map(&amp;:freeze).freeze end ç”šè‡³ï¼Œè¦è¾¾åˆ°é˜²æ­¢å¸¸é‡è¢«é‡æ–°èµ‹å€¼çš„ç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥å†»ç»“å®šä¹‰å®ƒçš„é‚£ä¸ªæ¨¡å—ï¼š module Defaults TIMEOUT = 5 end Defaults.freeze ç¬¬ 5 æ¡ï¼šç•™æ„è¿è¡Œæ—¶è­¦å‘Š ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹ â€-wâ€œ æ¥è¿è¡Œ Ruby è§£é‡Šå™¨ä»¥å¯ç”¨ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶çš„è­¦å‘Šã€‚è®¾ç½®ç¯å¢ƒå˜é‡ RUBYOPT ä¸º â€-wâ€œ ä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒç›®çš„ã€‚ å¦‚æœå¿…é¡»ç¦ç”¨è¿è¡Œæ—¶çš„è­¦å‘Šï¼Œå¯ä»¥ä¸´æ—¶å°†å…¨å±€å˜é‡ $VERBOSE è®¾ç½®ä¸º nilã€‚ # test.rb def add (x, y) z = 1 x + y end puts add 1, 2 # ä½¿ç”¨ä¸å¸¦ -w å‚æ•°çš„å‘½ä»¤è¡Œ irb> ruby test.rb ---> 3 # ä½¿ç”¨å¸¦ -w å‚æ•°çš„å‘½ä»¤è¡Œ irb&lt; ruby -w test.rb ---> test.rb:1: warning: parentheses after method name is interpreted as an argument list, not a decomposed argument ---> test.rb:2: warning: assigned but unused variable - z ---> 3 ç¬¬äºŒç« ï¼šç±»ã€å¯¹è±¡å’Œæ¨¡å—ç¬¬ 6 æ¡ï¼šäº†è§£ Ruby å¦‚ä½•æ„å»ºé›†æˆä½“ç³»è®©æˆ‘ä»¬ç›´æ¥ä»ä»£ç å…¥æ‰‹å§ï¼š class Person def name ... end end class Customer &lt; Person ... end irb> customer = Customer.new ---> #&lt;Customer> irb> customer.superclass ---> Person irb> customer.respond_to?(:name) ---> true ä¸Šé¢çš„ä»£ç å‡ ä¹å°±å’Œä½ é¢„æƒ³çš„é‚£æ ·ï¼Œå½“è°ƒç”¨ customer å¯¹è±¡çš„ name æ–¹æ³•æ—¶ï¼ŒCustomer ç±»ä¼šé¦–å…ˆæ£€æŸ¥è‡ªèº«æ˜¯å¦æœ‰è¿™ä¸ªå®ä¾‹æ–¹æ³•ï¼Œæ²¡æœ‰é‚£ä¹ˆå°±ç»§ç»­æœç´¢ã€‚ é¡ºç€é›†æˆä½“ç³»å‘ä¸Šæ‰¾åˆ°äº† Person ç±»ï¼Œåœ¨è¯¥ç±»ä¸­æ‰¾åˆ°äº†è¯¥æ–¹æ³•å¹¶å°†å…¶æ‰§è¡Œã€‚ï¼ˆå¦‚æœ Person ç±»ä¸­æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼ŒRuby ä¼šç»§ç»­å‘ä¸Šç›´åˆ°åˆ°è¾¾ BasicObjectï¼‰ ä½†æ˜¯å¦‚æœæ–¹æ³•åœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­ç›´åˆ°ç±»æ ‘çš„æ ¹èŠ‚ç‚¹ä»ç„¶æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„åŠæ³•ï¼Œé‚£ä¹ˆå®ƒå°†é‡æ–°ä»èµ·ç‚¹å¼€å§‹æŸ¥æ‰¾ï¼Œä¸è¿‡è¿™ä¸€æ¬¡ä¼šæŸ¥æ‰¾ method_missing æ–¹æ³•ã€‚ ä¸‹é¢æˆ‘ä»¬å¼€å§‹è®©äº‹æƒ…å˜å¾—æ›´åŠ æœ‰è¶£ä¸€ç‚¹ï¼š module ThingsWithNames def name ... end end class Person include(ThingsWithNames) end irb> Person.superclass ---> Object irb> customer = Customer.new ---> #&lt;Customer> irb> customer.respond_to?(:name) ---> true è¿™é‡ŒæŠŠ name æ–¹æ³•ä» Person ç±»ä¸­å–å‡ºå¹¶ç§»åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œç„¶åæŠŠæ¨¡å—å¼•å…¥åˆ°äº† Person ç±»ã€‚Customer ç±»çš„å®ä¾‹ä»ç„¶å¯ä»¥å¦‚ä½ æ‰€æ–™å“åº” name æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¾ç„¶ï¼Œæ¨¡å— ThingsWithNames å¹¶ä¸åœ¨é›†æˆä½“ç³»ä¸­ï¼Œå› ä¸º Person ç±»çš„è¶…ç±»ä»ç„¶æ˜¯ Object ç±»ï¼Œé‚£ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ï¼ŒRuby åœ¨è¿™é‡Œå¯¹ä½ æ’’è°äº†ï¼å½“ä½  include æ–¹æ³•æ¥å°†æ¨¡å—å¼•å…¥ç±»æ—¶ï¼ŒRuby åœ¨å¹•åæ‚„æ‚„åœ°åšäº†ä¸€äº›äº‹æƒ…ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªå•ä¾‹ç±»å¹¶å°†å®ƒæ’å…¥ç±»ä½“ç³»ä¸­ã€‚è¿™ä¸ªåŒ¿åçš„ä¸å¯è§ç±»è¢«é“¾å‘è¿™ä¸ªæ¨¡å—ï¼Œå› æ­¤å®ƒä»¬å…±äº«äº†å®åŠ›æ–¹æ³•å’Œå¸¸é‡ã€‚ å½“æ¯ä¸ªæ¨¡å—è¢«ç±»åŒ…å«æ—¶ï¼Œå®ƒä¼šç«‹å³è¢«æ’å…¥é›†æˆä½“ç³»ä¸­åŒ…å«å®ƒçš„ç±»çš„ä¸Šæ–¹ï¼Œä»¥åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ–¹å¼ã€‚æ¯ä¸ªå¯¹è±¡éƒ½é€šè¿‡å˜é‡ superclass é“¾æ¥ï¼Œåƒå•é“¾è¡¨ä¸€æ ·ã€‚è¿™å”¯ä¸€çš„ç»“æœå°±æ˜¯ï¼Œå½“ Ruby å¯»æ‰¾ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå®ƒå°†ä»¥é€†åºè®¿é—®è®¿é—®æ¯ä¸ªæ¨¡å—ï¼Œæœ€ååŒ…å«çš„æ¨¡å—æœ€å…ˆè®¿é—®åˆ°ã€‚å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæ¨¡å—æ°¸è¿œä¸ä¼šé‡è½½ç±»ä¸­çš„æ–¹æ³•ï¼Œå› ä¸ºæ¨¡å—æ’å…¥çš„ä½ç½®æ˜¯åŒ…å«å®ƒçš„ç±»çš„ä¸Šæ–¹ï¼Œè€Œ Ruby æ€»æ˜¯ä¼šåœ¨å‘ä¸Šæ£€æŸ¥ä¹‹å‰å…ˆæ£€æŸ¥ç±»æœ¬èº«ã€‚ï¼ˆå¥½å§Â·Â·Â·Â·Â·Â·è¿™ä¸æ˜¯å…¨éƒ¨çš„äº‹å®ã€‚ç¡®ä¿ä½ é˜…è¯»äº†ç¬¬ 35 æ¡ï¼Œæ¥çœ‹çœ‹ Ruby 2.0 ä¸­çš„ prepend æ–¹æ³•æ˜¯å¦‚ä½•ä½¿å…¶å¤æ‚åŒ–çš„ï¼‰ è¦ç‚¹å›é¡¾ï¼š è¦å¯»æ‰¾ä¸€ä¸ªæ–¹æ³•ï¼ŒRuby åªéœ€è¦å‘ä¸Šæœç´¢ç±»ä½“ç³»ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œå°±ä»èµ·ç‚¹å¼€å§‹æœæœ method_missing æ–¹æ³•ã€‚ åŒ…å«æ¨¡å—æ—¶ Ruby ä¼šæ‚„æ‚„åœ°åˆ›å»ºå•ä¾‹ç±»ï¼Œå¹¶å°†å…¶æ’å…¥åœ¨ç»§æ‰¿ä½“ç³»ä¸­åŒ…å«å®ƒçš„ç±»çš„ä¸Šæ–¹ã€‚ å•ä¾‹æ–¹æ³•ï¼ˆç±»æ–¹æ³•å’Œé’ˆå¯¹å¯¹è±¡çš„æ–¹æ³•ï¼‰å­˜å‚¨äºå•ä¾‹ç±»ä¸­ï¼Œå®ƒä¹Ÿä¼šè¢«æ’å…¥ç»§æ‰¿ä½“ç³»ä¸­ã€‚ ç¬¬ 7 æ¡ï¼šäº†è§£ super çš„ä¸åŒè¡Œä¸º å½“ä½ æƒ³é‡è½½ç»§æ‰¿ä½“ç³»ä¸­çš„ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå…³é”®å­— super å¯ä»¥å¸®ä½ è°ƒç”¨å®ƒã€‚ ä¸åŠ æ‹¬å·åœ°æ— å‚è°ƒç”¨ super ç­‰ä»·äºå°†å®¿ä¸»æ–¹æ³•çš„ç´ æœ‰å‚æ•°ä¼ é€’ç»™è¦è°ƒç”¨çš„æ–¹æ³•ã€‚ å¦‚æœå¸Œæœ›ä½¿ç”¨ super å¹¶ä¸”ä¸å‘é‡è½½æ–¹æ³•ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå¿…é¡»ä½¿ç”¨ç©ºæ‹¬å·ï¼Œå³ super()ã€‚ å½“ super è°ƒç”¨å¤±è´¥æ—¶ï¼Œè‡ªå®šä¹‰çš„ method_missing æ–¹æ³•å°†ä¸¢å¼ƒä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚åœ¨ç¬¬ 30 æ¡ä¸­æœ‰ method_missing çš„æ›¿ä»£è§£å†³æ–¹æ¡ˆã€‚ ç¬¬ 8 æ¡ï¼šåˆå§‹åŒ–å­ç±»æ—¶è°ƒç”¨ super å½“åˆ›å»ºå­ç±»å¯¹è±¡æ—¶ï¼ŒRuby ä¸ä¼šè‡ªåŠ¨è°ƒç”¨è¶…ç±»ä¸­çš„ initialize æ–¹æ³•ã€‚ä½œä¸ºæ›¿ä»£ï¼Œå¸¸è§„çš„æ–¹æ³•æŸ¥è¯¢è§„åˆ™ä¹Ÿé€‚ç”¨äº initialize æ–¹æ³•ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…çš„å‰¯æœ¬ä¼šè¢«è°ƒç”¨ã€‚ å½“ä¸ºæ˜¾å¼ä½¿ç”¨ç»§æ‰¿çš„ç±»å®šä¹‰ initialize æ–¹æ³•æ—¶ï¼Œä½¿ç”¨ super æ¥åˆå§‹åŒ–å…¶çˆ¶ç±»ã€‚åœ¨å®šä¹‰ initialize_copy æ–¹æ³•æ—¶ï¼Œåº”ä½¿ç”¨ç›¸åŒçš„è§„åˆ™ class Parent def initialize (name) @name = name end end class Child &lt; Parent def initialize (grade) @grade = grade end end # ä½ èƒ½çœ‹åˆ°ä¸Šé¢çš„çª˜å¢ƒï¼ŒRuby æ²¡æœ‰æä¾›ç»™å­ç±»å’Œå…¶è¶…ç±»çš„ initialize æ–¹æ³•å»ºç«‹è”ç³»çš„æ–¹å¼ # æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šç”¨æ„ä¹‰ä¸Šçš„ super å…³é”®å­—æ¥å®Œæˆç»§æ‰¿ä½“ç³»ä¸­ä½äºé«˜å±‚çš„åŠæ³•ï¼š class Child &lt; Parent def initialize (name, grade) super(name) # Initialize Parent. @grade = grade end end ç¬¬ 9 æ¡ï¼šæé˜² Ruby æœ€æ£˜æ‰‹çš„è§£æè¿™æ˜¯ä¸€æ¡å…³äº Ruby å¯èƒ½ä¼šæˆå¼„ä½ çš„å¦ä¸€æ¡æé†’ï¼Œè¦ç‚¹åœ¨äºï¼šRuby åœ¨å¯¹å˜é‡èµ‹å€¼å’Œå¯¹ setter æ–¹æ³•è°ƒç”¨æ—¶çš„è§£ææ˜¯æœ‰åŒºåˆ«çš„ï¼ç›´æ¥çœ‹ä»£ç å§ï¼š # è¿™é‡ŒæŠŠ initialize æ–¹æ³•ä½“ä¸­çš„å†…å®¹å½“åšç¬¬ counter= æ–¹æ³•çš„è°ƒç”¨ä¹Ÿä¸æ˜¯æ¯«æ— é“ç† # äº‹å®ä¸Š initialize æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡ counterï¼Œå¹¶å°†å…¶èµ‹å€¼ä¸º 0 # è¿™æ˜¯å› ä¸º Ruby åœ¨è°ƒç”¨ setter æ–¹æ³•æ—¶è¦æ±‚å­˜åœ¨ä¸€ä¸ªæ˜¾å¼æ¥å—è€… class Counter attr_accessor(:counter) def initialize counter = 0 end ... end # ä½ éœ€è¦ä½¿ç”¨ self å……å½“è¿™ä¸ªæ¥å—è€… class Counter attr_accessor(:counter) def initialize self.counter = 0 end ... end # è€Œåœ¨ä½ è°ƒç”¨é setter æ–¹æ³•æ—¶ï¼Œä¸éœ€è¦æ˜¾å¼æŒ‡å®šæ¥å—è€… # æ¢å¥è¯è¯´ï¼Œä¸è¦ä½¿ç”¨ä¸å¿…è¦çš„ selfï¼Œé‚£ä¼šå¼„ä¹±ä½ çš„ä»£ç ï¼š class Name attr_accessor(:first, :last) def initialize (first, last) self.first = first self.last = last end def full self.first + \" \" + self.last # è¿™é‡Œæ²¡æœ‰è°ƒç”¨ setter æ–¹æ³•ä½¿ç”¨ self å¤šä½™äº† end end # å°±åƒä¸Šé¢ full æ–¹æ³•é‡Œçš„æ³¨é‡Šï¼Œåº”è¯¥æŠŠæ–¹æ³•ä½“å†…çš„å†…å®¹æ”¹ä¸º first + \" \" + last ç¬¬ 10 æ¡ï¼šæ¨èä½¿ç”¨ Struct è€Œé Hash å­˜å‚¨ç»“æ„åŒ–æ•°æ®çœ‹ä»£ç å§ï¼š # å‡è®¾ä½ è¦å¯¹ä¸€ä¸ªä¿å­˜äº†å¹´åº¦å¤©æ°”æ•°æ®çš„ CSV æ–‡ä»¶è¿›è¡Œè§£æå¹¶å­˜å‚¨ # åœ¨ initialize æ–¹æ³•åï¼Œä½ ä¼šè·å¾—ä¸€ä¸ªå›ºå®šæ ¼å¼çš„å“ˆå¸Œæ•°ç»„ï¼Œä½†æ˜¯å­˜åœ¨ä»¥ä¸‹çš„é—®é¢˜ï¼š # 1.ä¸èƒ½é€šè¿‡ getter æ–¹æ³•è®¿é—®å…¶å±æ€§ï¼Œä¹Ÿä¸åº”è¯¥å°†è¿™ä¸ªå“ˆå¸Œæ•°ç»„é€šè¿‡å…¬å…±æ¥å£å‘å¤–æš´éœ²ï¼Œå› ä¸ºå…¶ä¸­åŒ…å«äº†å®ç°ç»†èŠ‚ # 2.æ¯æ¬¡ä½ æƒ³åœ¨ç±»å†…éƒ¨ä½¿ç”¨è¯¥å“ˆå¸Œæ—¶ï¼Œä½ ä¸å¾—ä¸å›å¤´æ¥çœ‹ initialize æ–¹æ³• # å› ä¸ºä½ ä¸çŸ¥é“CSVå…·ä½“çš„å¯¹åº”æ˜¯æ€æ ·çš„ï¼Œè€Œä¸”å½“ç±»æˆç†Ÿæƒ…å†µå¯èƒ½è¿˜ä¼šå‘ç”Ÿå˜åŒ– require('csv') class AnnualWeather def initialize (file_name) @readings = [] CSV.foreach(file_name, headers: true) do |row| @readings &lt;&lt; { :date => Date.parse(row[2]), :high => row[10].to_f, :low => row[11].to_f, } end end end # ä½¿ç”¨ Struct::new æ–¹æ³•çš„è¿”å›å€¼èµ‹ç»™ä¸€ä¸ªå¸¸é‡å¹¶åˆ©ç”¨å®ƒåˆ›å»ºå¯¹è±¡çš„å®è·µï¼š class AnnualWeather # Create a new struct to hold reading data. Reading = Struct.new(:date, :high, :low) def initialize (file_name) @readings = [] CSV.foreach(file_name, headers: true) do |row| @readings &lt;&lt; Reading.new(Date.parse(row[2]), row[10].to_f, row[11].to_f) end end end # Struct ç±»æœ¬èº«æ¯”ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ›´åŠ å¼ºå¤§ã€‚é™¤äº†å±æ€§åˆ—è¡¨ï¼ŒStruct::new æ–¹æ³•è¿˜èƒ½æ¥å—ä¸€ä¸ªå¯é€‰çš„å— # ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬èƒ½åœ¨å—ä¸­å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¿”å›å¹³å‡æ¯æœˆå¹³å‡æ¸©åº¦çš„ mean æ–¹æ³•ï¼š Reading = Struct.new(:date, :high, :low) do def mean (high + low) / 2.0 end end å¦å¤–ä»å…¶ä»–åœ°æ–¹çœ‹åˆ°äº†å…³äº Struct::new çš„å®è·µ è€ƒè™‘ä½¿ç”¨ Struct.new, å®ƒå¯ä»¥å®šä¹‰ä¸€äº›çç¢çš„ accessors, constructorï¼ˆæ„é€ å‡½æ•°ï¼‰ å’Œ comparisonï¼ˆæ¯”è¾ƒï¼‰ æ“ä½œã€‚ # good class Person attr_reader :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end end betterclass Person &lt; Struct.new(:first_name, :last_name)end - è€ƒè™‘ä½¿ç”¨ Struct.newï¼Œå®ƒæ›¿ä½ å®šä¹‰äº†é‚£äº›çç¢çš„å­˜å–å™¨ï¼ˆaccessorsï¼‰ï¼Œæ„é€ å™¨ï¼ˆconstructorï¼‰ä»¥åŠæ¯”è¾ƒæ“ä½œç¬¦ï¼ˆcomparison operatorsï¼‰ã€‚ ```ruby # good class Person attr_accessor :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end end # better Person = Struct.new(:first_name, :last_name) do end è¦å» extend ä¸€ä¸ª Struct.new - å®ƒå·²ç»æ˜¯ä¸€ä¸ªæ–°çš„ classã€‚æ‰©å±•å®ƒä¼šäº§ç”Ÿä¸€ä¸ªå¤šä½™çš„ class å±‚çº§ å¹¶ä¸”å¯èƒ½ä¼šäº§ç”Ÿæ€ªå¼‚çš„é”™è¯¯å¦‚æœæ–‡ä»¶è¢«åŠ è½½å¤šæ¬¡ã€‚ ç¬¬ 11 æ¡ï¼šé€šè¿‡åœ¨æ¨¡å—ä¸­åµŒå…¥ä»£ç æ¥åˆ›å»ºå‘½åç©ºé—´ é€šè¿‡åœ¨æ¨¡å—ä¸­åµŒå…¥ä»£ç æ¥åˆ›å»ºå‘½åç©ºé—´ è®©ä½ çš„å‘½åç©ºé—´ç»“æ„å’Œç›®å½•ç»“æ„ç›¸åŒ å¦‚æœä½¿ç”¨æ—¶å¯èƒ½å‡ºç°æ­§ä¹‰ï¼Œå¯ä½¿ç”¨ â€::â€ æ¥é™å®šé¡¶çº§å¸¸é‡ï¼ˆæ¯”å¦‚ï¼Œ::Arrayï¼‰ ç¬¬ 12 æ¡ï¼šç†è§£ç­‰ä»·çš„ä¸åŒç”¨æ³•çœ‹çœ‹ä¸‹é¢çš„ IRB å›è¯ç„¶åè‡ªé—®ä¸€ä¸‹ï¼šä¸ºä»€ä¹ˆæ–¹æ³• equal? çš„è¿”å›å€¼å’Œæ“ä½œç¬¦ â€œ==â€ çš„ä¸åŒå‘¢ï¼Ÿ irb> \"foo\" == \"foo\" ---> true irb> \"foo\".equal?(\"foo\") ---> false äº‹å®ä¸Šï¼Œåœ¨ Ruby ä¸­æœ‰å››ç§æ–¹å¼æ¥æ£€æŸ¥å¯¹è±¡ä¹‹é—´çš„ç­‰ä»·æ€§ï¼Œä¸‹é¢æ¥ç®€å•æ€»ä¸ªç»“å§ï¼š ç»ä¸è¦é‡è½½ equal? æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„é¢„æœŸè¡Œä¸ºæ˜¯ï¼Œä¸¥æ ¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼Œä»…å½“å®ƒä»¬åŒæ—¶æŒ‡å‘å†…å­˜ä¸­åŒä¸€å¯¹è±¡æ—¶å…¶å€¼ä¸ºçœŸï¼ˆå³ï¼Œå½“å®ƒä»¬å…·æœ‰ç›¸åŒçš„ object_id æ—¶ï¼‰ Hash ç±»åœ¨å†²çªæ£€æŸ¥æ—¶ä½¿ç”¨ eql? æ–¹æ³•æ¥æ¯”è¾ƒé”®å¯¹è±¡ã€‚é»˜è®¤å®ç°å¯èƒ½å’Œä½ çš„æƒ³åƒä¸åŒã€‚éµå¾ªç¬¬ 13 æ¡å»ºè®®ä¹‹åå†ä½¿ç”¨åˆ«å eql? æ¥æ›¿ä»£ â€œ==â€ ä¹¦å†™æ›´åˆç†çš„ hash æ–¹æ³• ä½¿ç”¨ â€œ==â€ æ“ä½œç¬¦æ¥æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦è¡¨ç¤ºç›¸åŒçš„å€¼ã€‚æœ‰äº›ç±»æ¯”å¦‚è¡¨ç¤ºæ•°å­—çš„ç±»ä¼šæœ‰ä¸€ä¸ªç²—ç³™çš„ç­‰å·æ“ä½œç¬¦è¿›è¡Œç±»å‹è½¬æ¢ case è¡¨è¾¾å¼ä½¿ç”¨ â€œ===â€œ æ“ä½œç¬¦æ¥æµ‹è¯•æ¯ä¸ª when è¯­å¥çš„å€¼ã€‚å·¦æ“ä½œæ•°æ˜¯ when çš„å‚æ•°ï¼Œå³æ“ä½œæ•°æ˜¯ case çš„å‚æ•° ç¬¬ 13 æ¡ï¼šé€šè¿‡ â€œ&lt;=&gt;â€ æ“ä½œç¬¦å®ç°æ¯”è¾ƒå’Œæ¯”è¾ƒæ¨¡å—è¦è®°ä½åœ¨ Ruby è¯­è¨€ä¸­ï¼ŒäºŒå…ƒæ“ä½œç¬¦æœ€ç»ˆä¼šè¢«è½¬æ¢æˆæ–¹æ³•è°ƒç”¨çš„å½¢å¼ï¼Œå·¦æ“ä½œæ•°å¯¹åº”ç€æ–¹æ³•çš„æ¥å—è€…ï¼Œå³æ“ä½œæ•°å¯¹åº”ç€æ–¹æ³•ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯å”¯ä¸€çš„é‚£ä¸ªå‚æ•°ã€‚ é€šè¿‡å®šä¹‰ â€œ&lt;=&gt;â€ æ“ä½œç¬¦å’Œå¼•å…¥ Comparable æ¨¡å—å®ç°å¯¹è±¡çš„æ’åº å¦‚æœå·¦æ“ä½œæ•°ä¸èƒ½ä¸å³æ“ä½œæ•°è¿›è¡Œæ¯”è¾ƒï¼Œâ€&lt;=&gt;â€ æ“ä½œç¬¦åº”è¯¥è¿”å› nil å¦‚æœè¦å®ç°ç±»çš„ â€œ&lt;=&gt;â€ è¿ç®—ç¬¦ï¼Œåº”è¯¥è€ƒè™‘å°† eql? æ–¹æ³•è®¾ç½®ä¸º â€œ==â€ æ“ä½œç¬¦çš„åˆ«åï¼Œç‰¹åˆ«æ˜¯å½“ä½ å¸Œæœ›è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹å¯ä»¥è¢«ç”¨æ¥ä½œä¸ºå“ˆå¸Œé”®çš„æ—¶å€™ï¼Œå°±åº”è¯¥é‡è½½å“ˆå¸Œæ–¹æ³• ç¬¬ 14 æ¡ï¼šé€šè¿‡ protected æ–¹æ³•å…±äº«ç§æœ‰çŠ¶æ€ é€šè¿‡ protected æ–¹æ³•å…±äº«ç§æœ‰çŠ¶æ€ ä¸€ä¸ªå¯¹è±¡çš„ protected æ–¹æ³•è‹¥è¦è¢«æ˜¾å¼æ¥å—è€…è°ƒç”¨ï¼Œé™¤éè¯¥å¯¹è±¡ä¸æ¥å—è€…æ˜¯åŒç±»å¯¹è±¡æˆ–å…¶å…·æœ‰ç›¸åŒçš„å®šä¹‰è¯¥ protected æ–¹æ³•çš„è¶…ç±» # Ruby è¯­è¨€ä¸­ï¼Œç§æœ‰æ–¹æ³•çš„è¡Œä¸ºå’Œå…¶ä»–é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸­ä¸å¤ªç›¸åŒã€‚Ruby è¯­è¨€ä»…ä»…åœ¨ç§æœ‰æ–¹æ³•ä¸ŠåŠ äº†ä¸€æ¡é™åˆ¶â€”â€”â€”â€”å®ƒä»¬ä¸èƒ½è¢«æ˜¾å¼æ¥å—è€…è°ƒç”¨ # æ— è®ºä½ åœ¨ç»§æ‰¿å…³ç³»ä¸­çš„å“ªä¸€çº§ï¼Œåªè¦ä½ æ²¡æœ‰ä½¿ç”¨æ¥å—è€…ï¼Œä½ éƒ½å¯ä»¥è°ƒç”¨ç¥–å…ˆæ–¹æ³•ä¸­çš„ç§æœ‰æ–¹æ³•ï¼Œä½†æ˜¯ä½ ä¸èƒ½è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„ç§æœ‰æ–¹æ³• # è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š # æ–¹æ³• Widget#overlapping? ä¼šæ£€æµ‹å…¶æœ¬èº«æ˜¯å¦å’Œå¦ä¸€ä¸ªå¯¹è±¡åœ¨å±å¹•ä¸Šé‡åˆ # Widget ç±»çš„å…¬å…±æ¥å£å¹¶æ²¡æœ‰å°†å±å¹•åæ ‡å¯¹å¤–æš´éœ²ï¼Œå®ƒä»¬çš„å…·ä½“å®ç°éƒ½éšè—åœ¨äº†å†…éƒ¨ class Widget def overlapping? (other) x1, y1 = @screen_x, @screen_y x2, y2 = other.instance_eval {[@screen_x, @screen_y]} ... end end # å¯ä»¥å®šä¹‰ä¸€ä¸ªæš´éœ²ç§æœ‰å±å¹•åæ ‡çš„æ–¹æ³•ï¼Œä½†å¹¶ä¸é€šè¿‡å…¬å…±æ¥å£æ¥å®ç°ï¼Œå…¶å®ç°æ–¹å¼æ˜¯å£°æ˜è¯¥æ–¹æ³•ä¸º protected # è¿™æ ·æˆ‘ä»¬æ—¢ä¿æŒäº†åŸæœ‰çš„å°è£…æ€§ï¼Œä¹Ÿä½¿å¾— overlapping? æ–¹æ³•å¯ä»¥è®¿é—®å…¶è‡ªèº«ä»¥åŠå…¶ä»–ä¼ å…¥çš„ widget å®ä¾‹çš„åæ ‡ # è¿™æ­£å¼è®¾è®¡ protected æ–¹æ³•çš„åŸå› â€”â€”â€”â€”åœ¨ç›¸å…³ç±»ä¹‹é—´å…±äº«ç§æœ‰ä¿¡æ¯ class Widget def overlapping? (other) x1, y1 = @screen_x, @screen_y x2, y2 = other.screen_coordinates ... end protected def screen_coordinates [@screen_x, @screen_y] end end ç¬¬ 15 æ¡ï¼šä¼˜å…ˆä½¿ç”¨å®ä¾‹å˜é‡è€Œéç±»å˜é‡ ä¼˜å…ˆä½¿ç”¨å®ä¾‹å˜é‡(@)è€Œéç±»å˜é‡(@@) ç±»ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬æ‹¥æœ‰è‡ªå·±çš„ç§æœ‰å®ä¾‹å˜é‡é›†åˆ ç¬¬ä¸‰ç« ï¼šé›†åˆç¬¬ 16 æ¡ï¼šåœ¨æ”¹å˜ä½œä¸ºå‚æ•°çš„é›†åˆä¹‹å‰å¤åˆ¶å®ƒä»¬åœ¨ Ruby ä¸­å¤šæ•°å¯¹è±¡éƒ½æ˜¯é€šè¿‡å¼•ç”¨è€Œä¸æ˜¯é€šè¿‡å®é™…å€¼æ¥ä¼ é€’çš„ï¼Œå½“å°†è¿™ç§ç±»å‹çš„å¯¹è±¡æ’å…¥å®¹å™¨æ—¶ï¼Œé›†åˆç±»å®é™…å­˜å‚¨ç€è¯¥å¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚ï¼ˆå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ¡å‡†åˆ™æ˜¯ä¸ªä¾‹å¦‚ï¼šFixnum ç±»çš„å¯¹è±¡åœ¨ä¼ é€’æ—¶æ€»æ˜¯é€šè¿‡å€¼è€Œä¸æ˜¯å¼•ç”¨ä¼ é€’ï¼‰ è¿™ä¹Ÿå°±æ„å‘³ç€å½“ä½ æŠŠé›†åˆä½œä¸ºå‚æ•°ä¼ å…¥æŸä¸ªæ–¹æ³•å¹¶è¿›è¡Œä¿®æ”¹æ—¶ï¼ŒåŸå§‹é›†åˆä¹Ÿä¼šå› æ­¤è¢«ä¿®æ”¹ï¼Œæœ‰ç‚¹é—´æ¥ï¼Œä¸è¿‡å¾ˆå®¹æ˜“çœ‹åˆ°è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚ Ruby è¯­è¨€è‡ªå¸¦äº†ä¸¤ä¸ªç”¨æ¥å¤åˆ¶å¯¹è±¡çš„æ–¹æ³•ï¼šdup å’Œ cloneã€‚ å®ƒä»¬éƒ½ä¼šåŸºäºæ¥æ”¶è€…åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œä½†æ˜¯ä¸ dup æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œclone æ–¹æ³•ä¼šä¿ç•™åŸå§‹å¯¹è±¡çš„ä¸¤ä¸ªé™„åŠ ç‰¹æ€§ã€‚ é¦–å…ˆï¼Œclone æ–¹æ³•ä¼šä¿ç•™æ¥å—è€…çš„å†»ç»“çŠ¶æ€ã€‚å¦‚æœåŸå§‹å¯¹è±¡çš„çŠ¶æ€æ˜¯å†»ç»“çš„ï¼Œé‚£ä¹ˆç”Ÿæˆçš„å‰¯æœ¬ä¹Ÿä¼šæ˜¯å†»ç»“çš„ã€‚è€Œ dup æ–¹æ³•å°±ä¸åŒäº†ï¼Œå®ƒæ°¸è¿œä¸ä¼šè¿”å›å†»ç»“çš„å¯¹è±¡ã€‚ å…¶æ¬¡ï¼Œå¦‚æœæ¥å—è¿™ç§å­˜åœ¨å•ä¾‹æ–¹æ³•ï¼Œä½¿ç”¨ clone ä¹Ÿä¼šå¤åˆ¶å•ä¾‹ç±»ã€‚ç”±äº dup æ–¹æ³•ä¸ä¼šè¿™æ ·åšï¼Œæ‰€ä»¥å½“ä½¿ç”¨ dup æ–¹æ³•æ—¶ï¼ŒåŸå§‹å¯¹è±¡å’Œä½¿ç”¨ dup æ–¹æ³•åˆ›å»ºçš„å‰¯æœ¬å¯¹äºç›¸åŒæ¶ˆæ¯çš„å“åº”å¯èƒ½æ˜¯ä¸åŒçš„ã€‚ # ä¹Ÿå¯ä»¥ä½¿ç”¨ Marshal ç±»å°†ä¸€ä¸ªé›†åˆåŠå…¶æ‰€æŒæœ‰çš„å…ƒç´ åºåˆ—åŒ–ï¼Œç„¶åå†ååºåˆ—åŒ–ï¼š irb> a = [\"Monkey\", \"Brains\"] irb> b = Marshal.load(Marshal.dump(a)) irb> b.each(&amp;:upcasel); b.first ---> \"MONKEY\" irb> a.last ---> \"Brains\" ç¬¬ 17 æ¡ï¼šä½¿ç”¨ Array æ–¹æ³•å°† nil åŠæ ‡é‡å¯¹è±¡è½¬æ¢æˆæ•°ç»„ ä½¿ç”¨ Array æ–¹æ³•å°† nil åŠæ ‡é‡å¯¹è±¡è½¬æ¢æˆæ•°ç»„ ä¸è¦å°†å“ˆå¸Œä¼ ç»™ Array æ–¹æ³•ï¼Œå®ƒä¼šè¢«è½¬åŒ–æˆä¸€ä¸ªåµŒå¥—æ•°ç»„çš„é›†åˆ # è€ƒè™‘ä¸‹é¢è¿™æ ·ä¸€ä¸ªè®¢æŠ«è¨çš„ç±»ï¼š class Pizza def initialize (toppings) toppings.each do |topping| add_and_price_topping(topping) end end end # ä¸Šé¢çš„ initialize æ–¹æ³•æœŸå¾…çš„æ˜¯ä¸€ä¸ª toppings æ•°ç»„ï¼Œä½†æˆ‘ä»¬èƒ½ä¼ å…¥å•ä¸ª toppingï¼Œç”šè‡³æ˜¯åœ¨æ²¡æœ‰ topping å¯¹è±¡çš„æ—¶å€™ç›´æ¥ä¼ å…¥ nil # ä½ å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨å¯å˜é•¿åº¦å‚æ•°åˆ—è¡¨æ¥å®ç°å®ƒï¼Œå¹¶å°†å‚æ•°ç±»å‹æ”¹ä¸º *toppingï¼Œè¿™æ ·ä¼šæŠŠæ‰€æœ‰çš„å‚æ•°æ•´åˆæˆä¸€ä¸ªæ•°ç»„ã€‚ # å°½ç®¡è¿™æ ·åšå¯ä»¥è®©æˆ‘ä»¬ä¼ å…¥å•ä¸ª topping å¯¹è±¡ï¼Œæ‹…å½“ä¼ å…¥ä¸€ç»„å¯¹è±¡ç»™ initialize æ–¹æ³•çš„æ—¶å€™å¿…é¡»ä½¿ç”¨ \"*\" æ˜¾å¼å°†å…¶æ‹“å±•æˆä¸€ä¸ªæ•°ç»„ã€‚ # æ‰€ä»¥è¿™æ ·åšä»…ä»…æ˜¯æ‹†ä¸œå¢™è¡¥è¥¿å¢™ç½¢äº†ï¼Œä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹å¼æ˜¯å°†ä¼ å…¥çš„å‚æ•°è½¬æ¢æˆä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ˜ç¡®åœ°çŸ¥é“æˆ‘è¦åšçš„æ˜¯ä»€ä¹ˆäº† # å…ˆå¯¹ Array() åšä¸€äº›æ¢ç´¢ï¼š irb> Array('Betelgeuse') ---> [\"Betelgeuse\"] irb> Array(nil) ---> [] irb> Array(['Nadroj', 'Retep']) ---> [\"Nadroj\", \"Retep\"] irb> h = {pepperoni: 20,jalapenos: 2} irb> Array(h) ---> [[:pepperoni, 20], [:jalapenos, 2]] # å¦‚æœä½ æƒ³å¤„ç†ä¸€ç»„å“ˆå¸Œæœ€å¥½é‡‡ç”¨ç¬¬ 10 æ¡çš„å»ºè®®é‚£æ · # å›ç­”è®¢æŠ«è¨çš„é—®é¢˜ä¸Šï¼š # ç»è¿‡ä¸€ç•ªæ”¹é€ ï¼Œå®ƒç°åœ¨èƒ½å¤Ÿæ¥å— topping æ•°ç»„ã€å•ä¸ª toppingï¼Œæˆ–è€…æ²¡æœ‰ topping(nil or []) class Pizza def initialize (toppings) Array(toppings).each do |topping| add_and_price_topping(topping) end end ... end ç¬¬ 18 æ¡ï¼šè€ƒè™‘ä½¿ç”¨é›†åˆé«˜æ•ˆæ£€æŸ¥å…ƒç´ çš„åŒ…å«æ€§ï¼ˆä¹¦ä¸Šå¯¹äºè¿™ä¸€æ¡å»ºè®®çš„æè¿°è¶³è¶³æœ‰ 4 é¡µåŠï¼Œä½†å…¶å®å¯ä»¥çœ‹ä¸‹é¢ç»“è®ºå°±okï¼Œç»“å°¾æœ‰å®ä¾‹ä»£ç ï¼‰ è€ƒè™‘ä½¿ç”¨ Set æ¥é«˜æ•ˆåœ°æ£€æµ‹å…ƒç´ çš„åŒ…å«æ€§ æ’å…¥ Set çš„å¯¹è±¡å¿…é¡»ä¹Ÿè¢«å½“åšå“ˆå¸Œçš„é”®æ¥ç”¨ ä½¿ç”¨ Set ä¹‹å‰è¦å¼•å…¥å®ƒ # åŸå§‹ç‰ˆæœ¬ class Role def initialize (name, permissions) @name, @permissions = name, permissions end def can? (permission) @permissions.include?(permission) end end # ç‰ˆæœ¬1.0ï¼šä½¿ç”¨ Hash æ›¿ä»£ Array çš„ Role ç±»ï¼š # è¿™æ ·åšåŸºäºä¸¤å¤„æƒè¡¡ï¼Œé¦–å…ˆï¼Œå› ä¸ºå“ˆå¸Œåªå­˜å‚¨çš„é”®ï¼Œæ‰€ä»¥æ•°ç»„ä¸­çš„ä»»ä½•é‡å¤åœ¨è½¬æ¢æˆå“ˆå¸Œçš„è¿‡ç¨‹ä¸­éƒ½ä¼šä¸¢å¤±ã€‚ # å…¶æ¬¡ï¼Œä¸ºäº†èƒ½å¤Ÿå°†æ•°ç»„è½¬æ¢æˆå“ˆå¸Œï¼Œéœ€è¦å°†æ•´ä¸ªæ•°ç»„æ˜ å°„ï¼Œæ„å»ºå‡ºä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ï¼Œä»è€Œè½¬åŒ–ä¸ºå“ˆå¸Œã€‚è¿™å°†æ€§èƒ½é—®é¢˜ä» can? æ–¹æ³•è½¬ç§»åˆ°äº† initialize æ–¹æ³• class Role def initialize (name, permissions) @name = name @permissions = Hash[permissions.map {|p| [p, ture]}] end def can? (permission) @permissions.include?(permission) end end # ç‰ˆæœ¬2.0ï¼šå¼•å…¥ Setï¼š # æ€§èƒ½å‡ ä¹å’Œä¸Šä¸€ä¸ªå“ˆå¸Œç‰ˆæœ¬çš„ä¸€æ · require('set') class Role def initialize (name, permissions) @name, @permissions = name, Set.new(permissions) end def can? (permission) @permissions.include?(permission) end end # æœ€ç»ˆçš„ä¾‹å­ # è¿™ä¸ªç‰ˆæœ¬è‡ªåŠ¨ä¿è¯äº†é›†åˆä¸­æ²¡æœ‰é‡å¤çš„è®°å½•ï¼Œä¸”é‡å¤æ¡ç›®æ˜¯å¾ˆå¿«å°±èƒ½è¢«æ£€æµ‹åˆ°çš„ require('set') require('csv') class AnnualWeather Reading = Struct.new(:date, :high, :low) do def eql? (other) date.eql?(other.date); end def hash; date.hash; end end def initialize (file_name) @readings = Set.new CSV.foreach(file_name, headers: true) do |row| @readings &lt;&lt; Reading.new(Date.parse(row[2]), row[10].to_f, row[11].to_f) end end end ç¬¬ 19 æ¡ï¼šäº†è§£å¦‚ä½•é€šè¿‡ reduce æ–¹æ³•æŠ˜å é›†åˆå°½ç®¡å¯èƒ½æœ‰ç‚¹äº‘é‡Œé›¾é‡Œï¼Œä½†è¿˜æ˜¯è€ƒè™‘è€ƒè™‘å…ˆé£Ÿç”¨ä»£ç å§ï¼š # reduce æ–¹æ³•çš„å‚æ•°æ˜¯ç´¯åŠ å™¨çš„èµ·å§‹å€¼ï¼Œå—çš„ç›®çš„æ˜¯åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªé€‚ç”¨äºä¸‹ä¸€æ¬¡å—è¿­ä»£çš„ç´¯åŠ å™¨ # å¦‚æœåŸå§‹é›†åˆä¸ºç©ºï¼Œé‚£ä¹ˆå—æ°¸è¿œä¹Ÿä¸ä¼šè¢«æ‰§è¡Œï¼Œreduce æ–¹æ³•ä»…ä»…æ˜¯ç®€å•åœ°è¿”å›ç´¯åŠ å™¨çš„åˆå§‹å€¼ # è¦æ³¨æ„å—å¹¶æ²¡æœ‰åšä»»ä½•èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ¯ä¸ªè¿­ä»£åï¼Œreduce ä¸¢å¼ƒä¸Šæ¬¡è¿­ä»£çš„ç´¯åŠ å™¨å¹¶ä¿ç•™äº†å—çš„è¿”å›å€¼ä½œä¸ºæ–°çš„ç´¯åŠ å™¨ def sum (enum) enum.reduce(0) do |accumulator, element| accumulator + element end end # å¦ä¸€ä¸ªå¿«æ·æ“ä½œæ–¹å¼å¯¹å¤„ç†å—æœ¬èº«å¾ˆæ–¹ä¾¿ï¼šå¯ä»¥ç»™ reduce ä¼ é€’ä¸€ä¸ªç¬¦å·ï¼ˆsymbolï¼‰è€Œä¸æ˜¯å—ã€‚ # æ¯ä¸ªè¿­ä»£ reduce éƒ½ä½¿ç”¨ç¬¦å·ä½œä¸ºæ¶ˆæ¯åç§°å‘é€æ¶ˆæ¯ç»™ç´¯åŠ å™¨ï¼ŒåŒæ—¶å°†å½“å‰å…ƒç´ ä½œä¸ºå‚æ•° def sum (enum) enum.reduce(0, :+) end # è€ƒè™‘ä¸€ä¸‹æŠŠä¸€ä¸ªæ•°ç»„çš„å€¼å…¨éƒ¨è½¬æ¢ä¸ºå“ˆå¸Œçš„é”®ï¼Œè€Œå®ƒä»¬çš„å€¼éƒ½æ˜¯ true çš„æƒ…å†µï¼š Hash[array.map {|x| [x, true]}] # reduce å¯èƒ½ä¼šæä¾›æ›´åŠ å®Œç¾çš„æ–¹æ¡ˆï¼ˆæ³¨æ„æ­¤æ—¶ reduce çš„èµ·å§‹å€¼ä¸ºä¸€ä¸ªç©ºçš„å“ˆå¸Œï¼‰ï¼š array.reduce({}) do |hash, element| hash.update(element => true) end # å†è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘ä»¬éœ€è¦ä»ä¸€ä¸ªå­˜å‚¨ç”¨æˆ·çš„æ•°ç»„ä¸­ç­›é€‰å‡ºé‚£äº›å¹´é¾„å¤§äºæˆ–ç­‰äº 21 å²çš„äººç¾¤ï¼Œä¹‹åæˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªç”¨æˆ·æ•°ç»„è½¬æ¢æˆä¸€ä¸ªå§“åæ•°ç»„ # åœ¨æ²¡æœ‰ reduce çš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šè¿™æ ·å†™ï¼š users.select {|u| u.age >= 21}.map(&amp;:name) # ä¸Šé¢è¿™æ ·åšå½“ç„¶å¯ä»¥ï¼Œä½†å¹¶ä¸é«˜æ•ˆï¼ŒåŸå› åœ¨äºæˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„è¯­å¥æ—¶å¯¹æ•°ç»„è¿›è¡Œäº†å¤šæ¬¡éå† # ç¬¬ä¸€æ¬¡æ˜¯é€šè¿‡ select ç­›é€‰å‡ºäº†å¹´é¾„å¤§äºæˆ–ç­‰äº 21 å²çš„äººï¼Œç¬¬äºŒæ¬¡åˆ™è¿˜éœ€è¦æ˜ å°„æˆåªåŒ…å«åå­—çš„æ–°æ•°ç»„ # å¦‚æœæˆ‘ä»¬ä½¿ç”¨ reduce åˆ™æ— éœ€åˆ›å»ºæˆ–éå†å¤šä¸ªæ•°ç»„ï¼š users.reduce([]) do |names, user| names &lt;&lt; user.name if user.age >= 21 names end å¼•å…¥ Enumerable æ¨¡å—çš„ç±»ä¼šå¾—åˆ°å¾ˆå¤šæœ‰ç”¨çš„å®ä¾‹æ–¹æ³•ï¼Œå®ƒä»¬å¯ç”¨äºå¯¹å¯¹è±¡çš„é›†åˆè¿›è¡Œè¿‡æ»¤ã€éå†å’Œè½¬åŒ–ã€‚å…¶ä¸­æœ€ä¸ºå¸¸ç”¨çš„åº”è¯¥æ˜¯ map å’Œ select æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ˜¯å¦‚æ­¤å¼ºå¤§ä»¥è‡³äºåœ¨å‡ ä¹æ‰€æœ‰çš„ Ruby ç¨‹åºä¸­ä½ éƒ½èƒ½è§åˆ°å®ƒä»¬çš„å½±å­ã€‚ åƒæ•°ç»„å’Œå“ˆå¸Œè¿™æ ·çš„é›†åˆç±»å‡ ä¹å·²ç»æ˜¯æ¯ä¸ª Ruby ç¨‹åºä¸å¯æˆ–ç¼ºçš„äº†ï¼Œå¦‚æœä½ è¿˜ä¸ç†Ÿæ‚‰ Enumberable æ¨¡å—ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œä½ å¯èƒ½å·²ç»è‡ªå·±å†™äº†ç›¸å½“å¤šçš„ Enumberable æ¨¡å—å·²ç»å…·å¤‡çš„æ–¹æ³•ï¼ŒçŸ¥è¯†ä½ è¿˜ä¸çŸ¥é“è€Œå·²ã€‚ Enumberable æ¨¡å— æˆ³å¼€ Array çš„æºç ä½ èƒ½çœ‹åˆ° include Enumberable çš„å­—æ ·ï¼ˆå¼•å…¥çš„ç±»å¿…é¡»å®ç° each æ–¹æ³•ä¸ç„¶æŠ¥é”™ï¼‰ï¼Œæˆ‘ä»¬æ¥ç®€å•é˜è¿°ä¸€ä¸‹ Enumberable APIï¼š irb> [1, 2, 3].map {|n| n + 1} ---> [2, 3, 4] irb> %w[a l p h a b e t].sort ---> [\"a\", \"a\", \"b\", \"e\", \"h\", \"l\", \"p\", \"t\"] irb> [21, 42, 84].first ---> 21 ä¸Šé¢çš„ä»£ç ä¸­ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æµè¡Œçš„ map æ–¹æ³•éå†æ¯ä¸ªå…ƒç´ ï¼Œå¹¶å°†æ¯ä¸ªå…ƒç´  +1 å¤„ç†ï¼Œç„¶åè¿”å›æ–°çš„æ•°ç»„ï¼› å…¶æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† sort æ–¹æ³•å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œæ’åºé‡‡ç”¨äº† ASCII å­—æ¯æ’åº æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æŸ¥æ‰¾æ–¹æ³• select è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  reduce æ–¹æ³•åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿå®ƒä¸ºä»€ä¹ˆè¿™ä¹ˆç‰¹åˆ«ï¼Ÿåœ¨å‡½æ•°å¼ç¼–ç¨‹çš„èŒƒç•´ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥å°†ä¸€ä¸ªæ•°æ®ç»“æ„è½¬æ¢æˆå¦ä¸€ç§ç»“æ„çš„æŠ˜å å‡½æ•°ã€‚ è®©æˆ‘ä»¬å…ˆä»å®è§‚çš„è§’åº¦æ¥çœ‹æŠ˜å å‡½æ•°ï¼Œå½“ä½¿ç”¨å¦‚ reduce è¿™æ ·çš„æŠ˜å å‡½æ•°æ—¶ä½ éœ€è¦äº†è§£å¦‚ä¸‹ä¸‰éƒ¨åˆ†ï¼š æšä¸¾çš„å¯¹è±¡æ˜¯ reduce æ¶ˆæ¯çš„æ¥å—è€…ã€‚æŸç§ç¨‹åº¦ä¸Šè¿™æ˜¯ä½ æƒ³è½¬æ¢çš„åŸå§‹é›†åˆã€‚æ˜¾ç„¶ï¼Œå®ƒçš„ç±»å¿…é¡»å¼•å…¥ Enumberable æ¨¡å—ï¼Œå¦åˆ™ä½ æ— æ³•å¯¹å®ƒè°ƒç”¨ reduce æ–¹æ³•ï¼› å—ä¼šè¢«æºé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ï¼Œå’Œ each æ–¹æ³•è°ƒç”¨å—çš„æ–¹å¼ç±»ä¼¼ã€‚ä½†å’Œ each ä¸åŒçš„æ˜¯ï¼Œä¼ å…¥ reduce æ–¹æ³•çš„å—å¿…é¡»äº§ç”Ÿä¸€ä¸ªè¿”å›å€¼ã€‚è¿™ä¸ªè¿”å›å€¼ä»£è¡¨äº†é€šè¿‡å½“å‰å…ƒç´ æœ€ç»ˆæŠ˜å ç”Ÿæˆçš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å°†ä¼šé€šè¿‡ä¸€äº›ä¾‹å­æ¥å·©å›ºè¿™ä¸€çŸ¥è¯†ç‚¹ã€‚ ä¸€ä¸ªä»£è¡¨äº†ç›®æ ‡æ•°æ®ç»“æ„èµ·å§‹å€¼çš„å¯¹è±¡ï¼Œè¢«ç§°ä¸ºç´¯åŠ å™¨ã€‚æ¯ä¸€æ¬¡å—çš„è°ƒç”¨éƒ½ä¼šæ¥å—å½“å‰çš„ç´¯åŠ å™¨å€¼å¹¶è¿”å›æ–°çš„ç´¯åŠ å™¨å€¼ã€‚åœ¨æ‰€æœ‰å…ƒç´ éƒ½è¢«æŠ˜å è¿›ç´¯åŠ å™¨åï¼Œå®ƒçš„æœ€ç»ˆç»“æ„ä¹Ÿå°±æ˜¯ reduce çš„è¿”å›å€¼ã€‚ æ­¤æ—¶äº†è§£äº†è¿™ä¸‰éƒ¨åˆ†ä½ å¯ä»¥å›å¤´å†å»çœ‹ä¸€çœ‹ä»£ç ã€‚ è¯•ç€å›æƒ³ä¸€ä¸‹ä¸Šä¸€æ¬¡ä½¿ç”¨ each çš„åœºæ™¯ï¼Œreduce èƒ½å¤Ÿå¸®åŠ©ä½ æ”¹å–„ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„æ¨¡å¼ï¼š hash = {} array.each do |element| hash[element] = true end ç¬¬ 20 æ¡ï¼šè€ƒè™‘ä½¿ç”¨é»˜è®¤å“ˆå¸Œå€¼æˆ‘ç¡®å®šä½ æ˜¯ä¸€ä¸ªæ›¾ç»åœ¨å—çš„è¯­æ³•ä¸Šå¾˜å¾Šè®¸ä¹…çš„ Ruby ç¨‹åºå‘˜ï¼Œé‚£ä¹ˆè¯·å‘Šè¯‰æˆ‘ï¼Œä¸‹é¢è¿™æ ·çš„æ¨¡å¼åœ¨ä»£ç ä¸­å‡ºç°çš„é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿ def frequency (array) array.reduce({}) do |hash, element| hash[element] ||= 0 # Make sure the key exists. hash[element] += 1 # Then increment it. hash # Return the hash to reduce. end end è¿™é‡Œç‰¹åœ°ä½¿ç”¨äº† â€œ||=â€ æ“ä½œç¬¦ä»¥ç¡®ä¿åœ¨ä¿®æ”¹å“ˆå¸Œçš„å€¼æ—¶å®ƒæ˜¯è¢«èµ‹è¿‡å€¼çš„ã€‚è¿™æ ·åšçš„ç›®çš„å…¶å®ä¹Ÿå°±æ˜¯ç¡®ä¿å“ˆå¸Œèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆï¼š def frequency (array) array.reduce(Hash.new(0)) do |hash, element| hash[element] += 1 # Then increment it. hash # Return the hash to reduce. end end çœ‹ä¸Šå»è¿˜çœŸæ˜¯é‚£ä¹ˆä¸€å›äº‹å„¿ï¼Œä½†æ˜¯å°å¿ƒï¼Œè¿™é‡ŒåŸ‹è—ç€ä¸€ä¸ªéšè”½çš„å…³äºå“ˆå¸Œçš„é™·é˜±ã€‚ # å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ª IRB ä¼šè¯ï¼š irb> h = Hash.new(42) irb> h[:missing_key] ---> 42ã€ irb> h.keys # Hash is still empty! ---> [] irb> h[:missing_key] += 1 ---> 43 irb> h.keys # Ah, there you are. ---> [:missing_key] # æ³¨æ„ï¼Œå½“è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶ä¼šè¿”å›é»˜è®¤å€¼ï¼Œä½†è¿™ä¸ä¼šä¿®æ”¹å“ˆå¸Œå¯¹è±¡ã€‚ # ä½¿ç”¨ \"+=\" æ“ä½œç¬¦çš„ç¡®ä¼šåƒä½ æƒ³è±¡ä¸­é‚£èˆ¬æ›´æ–°å“ˆå¸Œï¼Œä½†å¹¶ä¸æ˜ç¡®ï¼Œå›é¡¾ä¸€ä¸‹ \"+=\" æ“ä½œç¬¦ä¼šå±•å¼€æˆä»€ä¹ˆå¯èƒ½ä¼šå¾ˆæœ‰å¸®åŠ©ï¼š # Short version: hash[key] += 1 # Expands to: hash[key] = hash[key] + 1 # ç°åœ¨èµ‹å€¼çš„è¿‡ç¨‹å°±å¾ˆæ˜ç¡®äº†ï¼Œå…ˆå–å¾—é»˜è®¤å€¼å†è¿›è¡Œ +1 çš„æ“ä½œï¼Œæœ€ç»ˆå°†å…¶è¿”å›çš„ç»“æœä»¥åŒæ ·çš„é”®åå­˜å…¥å“ˆå¸Œ # æˆ‘ä»¬å¹¶æ²¡æœ‰ä»¥ä»»ä½•æ–¹å¼æ”¹å˜é»˜è®¤å€¼ï¼Œå½“ç„¶ï¼Œä¸Šé¢ä¸€æ®µä»£ç çš„é»˜è®¤å€¼æ˜¯æ•°å­—ç±»å‹ï¼Œå®ƒæ˜¯ä¸èƒ½ä¿®æ”¹çš„ # ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¯ä»¥ä¿®æ”¹çš„å€¼ä½œä¸ºé»˜è®¤å€¼å¹¶åœ¨ä¹‹åä½¿ç”¨äº†å®ƒæƒ…å†µå°†ä¼šå˜å¾—æ›´åŠ æœ‰è¶£ï¼š irb> h = Hash.new([]) irb> h[:missing_key] ---> [] irb> h[:missing_key] &lt;&lt; \"Hey there!\" ---> [\"Hey there!\"] irb> h.keys # Wait for it... ---> [] irb> h[:missing_key] ---> [\"Hey there!\"] # çœ‹åˆ°ä¸Šé¢å…³äº \"&lt;&lt;\" çš„å°éª—å±€äº†å—ï¼Ÿæˆ‘ä»æ²¡æœ‰æ”¹å˜å“ˆå¸Œå¯¹è±¡ï¼Œå½“æˆ‘æ’å…¥ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œå“ˆå¸Œå¹¶ä¹ˆæœ‰æ”¹å˜ï¼Œä½†æ˜¯é»˜è®¤å€¼æ”¹å˜äº† # è¿™ä¹Ÿæ˜¯ keys æ–¹æ³•æç¤ºè¿™ä¸ªå“ˆå¸Œæ˜¯ç©ºä½†æ˜¯è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶å´åæ‚”äº†æœ€è¿‘ä¿®æ”¹çš„å€¼çš„åŸå›  # å¦‚æœä½ çœŸæƒ³æ’å…¥ä¸€ä¸ªå…ƒç´ å¹¶è®¾ç½®ä¸€ä¸ªé”®ï¼Œä½ éœ€è¦æ›´æ·±å…¥çš„ç ”ç©¶ï¼Œä½†å¦ä¸€ä¸ªä¸æ˜æ˜¾çš„å‰¯ä½œç”¨æ­£ç­‰ç€ä½ ï¼š irb> h = Hash.new([]) irb> h[:weekdays] = h[:weekdays] &lt;&lt; \"Monday\" irb> h[:months] = h[:months] &lt;&lt; \"Januray\" irb> h.keys ---> [:weekdays, :months] irb> h[:weekdays] ---> [\"Monday\", \"January\"] irb> h.default ---> [\"Monday\", \"Januray\"] # ä¸¤ä¸ªé”®å…±äº«äº†åŒä¸€ä¸ªé»˜è®¤æ•°ç»„ï¼Œå¤šæ•°æƒ…å†µä½ å¹¶ä¸æƒ³è¿™ä¹ˆåš # æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯å½“æˆ‘ä»¬è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶èƒ½è¿”å›ä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ # å¦‚æœç»™ Hash::new ä¸€ä¸ªå—ï¼Œå½“éœ€è¦é»˜è®¤å€¼æ—¶è¿™ä¸ªå—å°±ä¼šè¢«è°ƒç”¨ï¼Œå¹¶å‹å¥½åœ°è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„æ•°ç»„ï¼š irb> h = Hash.new{[]} irb> h[:weekdays] = h[:weekdays] &lt;&lt; \"Monday\" ---> [\"Monday\"] irb> h[:months] = h[:months] &lt;&lt; \"Januray\" ---> [\"Januray\"] irb> h[:weekdays] ---> [\"Monday\"] # è¿™æ ·å¥½å¤šäº†ï¼Œä½†æˆ‘ä»¬è¿˜å¯ä»¥å¾€å‰ä¸€æ­¥ã€‚ # ä¼ ç»™ Hash::new çš„å—å¯ä»¥æœ‰é€‰æ‹©åœ°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå“ˆå¸Œæœ¬èº«å’Œå°†è¦è®¿é—®çš„é”® # è¿™æ„å‘³ç€æˆ‘ä»¬å¦‚æœæƒ³å»æ”¹å˜å“ˆå¸Œä¹Ÿæ˜¯å¯çš„ï¼Œé‚£ä¹ˆå½“è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ—¶ï¼Œä¸ºä»€ä¹ˆä¸å°†å…¶å¯¹åº”çš„å€¼è®¾ç½®ä¸ºä¸€ä¸ªæ–°çš„ç©ºæ•°ç»„å‘¢ï¼Ÿ irb> h = Hash.new{|hash, key| hash[key] = []} irb> h[:weekdays] &lt;&lt; \"Monday\" irb> h[:holidays] ---> [] irb> h.keys ---> [:weekdays, :holidays] # ä½ å¯èƒ½å‘ç°ä¸Šé¢è¿™æ ·çš„æŠ€å·§å­˜åœ¨ç€é‡è¦çš„ä¸è¶³ï¼šæ¯å½“è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶ï¼Œå—ä¸ä»…ä¼šåœ¨å“ˆå¸Œä¸­åˆ›å»ºæ–°å®ä½“ï¼ŒåŒæ—¶è¿˜ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ # é‡ç”³ä¸€éï¼šè®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é”®ä¼šå°†è¿™ä¸ªé”®å­˜å…¥å“ˆå¸Œï¼Œè¿™æš´éœ²äº†é»˜è®¤å€¼å­˜åœ¨çš„é€šç”¨é—®é¢˜ï¼š # æ­£ç¡®çš„æ£€æŸ¥ä¸€ä¸ªå“ˆå¸Œæ˜¯å¦åŒ…å«æŸä¸ªé”®çš„æ–¹å¼æ˜¯ä½¿ç”¨ hash_key? æ–¹æ³•æˆ–ä½¿ç”¨å®ƒçš„åˆ«åï¼Œä½†æ˜¯æ·±æ„Ÿå†…ç–šçš„æ˜¯é€šå¸¸æƒ…å†µä¸‹é»˜è®¤å€¼æ˜¯ nilï¼š if hash[key] ... end # å¦‚æœä¸€ä¸ªå“ˆå¸Œçš„é»˜è®¤å€¼ä¸æ˜¯ nil æˆ–è€… falseï¼Œè¿™ä¸ªæ¡ä»¶åˆ¤æ–­ä¼šä¸€ç›´æˆåŠŸï¼šå°†å“ˆå¸Œçš„é»˜è®¤å€¼è®¾ç½®æˆé nil å¯èƒ½ä¼šä½¿ç¨‹åºå˜å¾—ä¸å®‰å…¨ # å¦å¤–è¿˜è¦æé†’çš„æ˜¯ï¼šé€šè¿‡è·å–å…¶å€¼æ¥æ£€æŸ¥å“ˆå¸ŒæŸä¸ªé”®å­˜åœ¨ä¸å¦æ˜¯è‰ç‡çš„ï¼Œå…¶ç»“æœä¹Ÿå¯èƒ½å’Œä½ æ‰€é¢„æœŸçš„ä¸åŒ # å¦ä¸€ç§å¤„ç†é»˜è®¤å€¼çš„æ–¹å¼ï¼ŒæŸäº›æ—¶å€™ä¹Ÿæ˜¯æœ€å¥½çš„æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨ Hash#fetch æ–¹æ³• # è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ å¸Œæœ›ä»å“ˆå¸Œä¸­æŸ¥æ‰¾çš„é”®ï¼Œä½†æ˜¯ fetch æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•° # å¦‚æœæŒ‡å®šçš„ key åœ¨å½“å‰çš„å“ˆå¸Œä¸­æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå–è€Œä»£ä¹‹ï¼Œfetch çš„ç¬¬äºŒä¸ªå‚æ•°ä¼šè¿”å› # å¦‚æœä½ çœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåœ¨ä½ è¯•å›¾è·å–ä¸€ä¸ªå“ˆå¸Œä¸­ä¸å­˜åœ¨çš„é”®æ—¶ï¼Œfetch æ–¹æ³•ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ # ç›¸æ¯”äºå¯¹æ•´ä¸ªå“ˆå¸Œè®¾ç½®é»˜è®¤å€¼ï¼Œè¿™ç§æ–¹å¼æ›´åŠ å®‰å…¨ irb> h = {} irb> h[:weekdays] = h.fetch(:weekdays, []) &lt;&lt; \"Monday\" ---> [\"Monday\"] irb> h.fetch(:missing_key) keyErro: key not found: :missing_key æ‰€ä»¥çœ‹è¿‡ä¸Šé¢çš„ä»£ç æ¡†éšè—çš„å†…å®¹åä½ ä¼šå‘ç°ï¼š å¦‚æœæŸæ®µä»£ç åœ¨æ¥å—å“ˆå¸Œçš„éæ³•é”®æ—¶ä¼šè¿”å› nilï¼Œä¸è¦ä¸ºä¼ å…¥è¯¥æ–¹æ³•çš„å“ˆå¸Œä½¿ç”¨é»˜è®¤å€¼ ç›¸æ¯”ä½¿ç”¨é»˜è®¤å€¼ï¼Œæœ‰äº›æ—¶å€™ç”¨ Hash#fetch æ–¹æ³•èƒ½æ›´åŠ å®‰å…¨ ç¬¬ 21 æ¡ï¼šå¯¹é›†åˆä¼˜å…ˆä½¿ç”¨å§”æ‰˜è€Œéç»§æ‰¿è¿™ä¸€æ¡ä¹Ÿå¯ä»¥è¢«å‘½åä¸ºâ€œå¯¹äºæ ¸å¿ƒç±»ï¼Œä¼˜å…ˆä½¿ç”¨å§”æ‰˜è€Œéç»§æ‰¿â€ï¼Œå› ä¸ºå®ƒåŒæ ·é€‚ç”¨äº Ruby çš„æ‰€æœ‰æ ¸å¿ƒç±»ã€‚ Ruby çš„æ‰€æœ‰æ ¸å¿ƒç±»éƒ½æ˜¯é€šè¿‡ Cè¯­è¨€ æ¥å®ç°çš„ï¼ŒæŒ‡å‡ºè¿™ç‚¹æ˜¯å› ä¸ºæŸäº›ç±»çš„å®ä¾‹æ–¹æ³•å¹¶æ²¡æœ‰è€ƒè™‘åˆ°å­ç±»ï¼Œæ¯”å¦‚ Array#reverse æ–¹æ³•ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„è€Œä¸æ˜¯æ”¹å˜æ¥å—è€…ã€‚ çŒœçŒœå¦‚æœä½ ç»§æ‰¿äº† Array ç±»å¹¶è°ƒç”¨äº†å­ç±»çš„ reverse æ–¹æ³•åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ # æ˜¯çš„ï¼ŒLikeArray#reverse è¿”å›äº† Array å®ä¾‹è€Œä¸æ˜¯ LikeArray å®ä¾‹ # ä½†ä½ ä¸åº”è¯¥å»è´£å¤‡ Array ç±»ï¼Œåœ¨æ–‡æ¡£ä¸­æœ‰å†™çš„å¾ˆæ˜ç™½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œæ‰€ä»¥è¾¾ä¸åˆ°ä½ çš„é¢„æœŸæ˜¯å¾ˆè‡ªç„¶çš„ irb> class LikeArray &lt; Array; end irb> x = LikeArray.new([1, 2, 3]) ---> [1, 2, 3] irb> y = x.reverse ---> [3, 2, 1] irb> y.class ---> Array å½“ç„¶è¿˜ä¸æ­¢è¿™äº›ï¼Œé›†åˆä¸Šçš„è®¸å¤šå…¶ä»–å®ä¾‹æ–¹æ³•ä¹Ÿæ˜¯è¿™æ ·ï¼Œé›†æˆæ¯”è¾ƒæ“ä½œç¬¦å°±æ›´ç³Ÿç³•äº†ã€‚ æ¯”å¦‚ï¼Œå®ƒä»¬å…è®¸å­ç±»çš„å®ä¾‹å’Œçˆ¶ç±»çš„å®ä¾‹ç›¸æ¯”è¾ƒï¼Œè¿™è¯´å¾—é€šå˜›ï¼Ÿ irb> LikeArray.new([1, 2, 3]) == [1, 2, 3,] ---> true ç»§æ‰¿å¹¶ä¸æ˜¯ Ruby çš„æœ€ä½³é€‰æ‹©ï¼Œä»æ ¸å¿ƒçš„é›†åˆç±»ä¸­ç»§æ‰¿æ›´æ˜¯æ¯«æ— é“ç†çš„ï¼Œæ›¿ä»£æ–¹æ³•å°±æ˜¯ä½¿ç”¨â€œå§”æ‰˜â€ã€‚ è®©æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªåŸºäºå“ˆå¸Œä½†æœ‰ä¸€ä¸ªé‡è¦ä¸åŒçš„ç±»ï¼Œè¿™ä¸ªç±»åœ¨è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ å®ç°å®ƒæœ‰å¾ˆå¤šä¸åŒçš„æ–¹å¼ï¼Œä½†ç¼–å†™ä¸€ä¸ªæ–°ç±»è®©æˆ‘ä»¬å¯ä»¥ç®€å•çš„é‡ç”¨åŒä¸€ä¸ªå®ç°ã€‚ ä¸ç»§æ‰¿ Hash ç±»åä¸ºä¿è¯æ­£ç¡®è€Œåˆ°å¤„ä¿®ä¿®è¡¥è¡¥ä¸åŒï¼Œæˆ‘ä»¬è¿™ä¸€æ¬¡é‡‡ç”¨å§”æ‰˜ã€‚æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå®ä¾‹å˜é‡ @hashï¼Œå®ƒä¼šæ›¿æˆ‘ä»¬å¹²æ‰€æœ‰çš„é‡æ´»ï¼š # åœ¨ Ruby ä¸­å®ç°å§”æ‰˜çš„æ–¹å¼æœ‰å¾ˆå¤šï¼ŒForwardable æ¨¡å—è®©ä½¿ç”¨å§”æ‰˜çš„è¿‡ç¨‹éå¸¸å®¹æ˜“ # å®ƒå°†ä¸€ä¸ªå­˜æœ‰è¦ä»£ç†çš„æ–¹æ³•çš„é“¾è¡¨ç»‘å®šåˆ°ä¸€ä¸ªå®ä¾‹å˜é‡ä¸Šï¼Œå®ƒæ˜¯æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼ˆä¸æ˜¯æ ¸å¿ƒåº“ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯éœ€è¦æ˜¾å¼å¼•å…¥çš„åŸå›  requireï¼ˆ'forwardable') class RaisingHash extend(Forwardable) include(Enumerbale) def_delegators(:@hash, :[], :[]=, :delete, :each, :keys, :values, :length, :empty?, :hash_key?) end ï¼ˆæ›´å¤šçš„æ¢ç´¢åœ¨ä¹¦ä¸Š.è¿™é‡Œåªæ˜¯ç®€å•ç»™ä¸€ä¸‹ç»“è®º.æ„Ÿå…´è¶£çš„ç«¥é‹å†å»çœ‹çœ‹å§!ï¼‰ æ‰€ä»¥è¦ç‚¹å›é¡¾ä¸€ä¸‹ï¼š å¯¹é›†åˆä¼˜å…ˆä½¿ç”¨å§”æ‰˜è€Œéç»§æ‰¿ ä¸è¦å¿˜è®°ç¼–å†™ç”¨æ¥å¤åˆ¶å§”æ‰˜ç›®æ ‡çš„ initialize_copy æ–¹æ³• ç¼–å†™ freezeã€taint ä»¥åŠ untaint æ–¹æ³•æ—¶ï¼Œå…ˆä¼ é€’ä¿¡æ¯ç»™å§”æ‰˜ç›®æ ‡ï¼Œä¹‹åè°ƒç”¨ super æ–¹æ³•ã€‚ ç¬¬å››ç« ï¼šå¼‚å¸¸ç¬¬ 22 æ¡ï¼šä½¿ç”¨å®šåˆ¶çš„å¼‚å¸¸è€Œä¸æ˜¯æŠ›å‡ºå­—ç¬¦ä¸² é¿å…ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå¼‚å¸¸ï¼Œå®ƒä»¬ä¼šè¢«è½¬æ¢æˆåŸç”Ÿçš„ RuntimeError å¯¹è±¡ã€‚å–è€Œä»£ä¹‹ï¼Œåˆ›å»ºä¸€ä¸ªå®šåˆ¶çš„å¼‚å¸¸ç±» å®šåˆ¶çš„å¼‚å¸¸ç±»åº”è¯¥ç»§æ‰¿è‡ª StandardErrorï¼Œä¸”ç±»ååº”è¯¥ä»¥ â€œErrorâ€ ç»“å°¾ å½“ä¸ºä¸€ä¸ªå·¥ç¨‹åˆ›å»ºäº†ä¸æ­¢ä¸€ä¸ªå¼‚å¸¸ç±»æ—¶ï¼Œä»åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª StandardError çš„åŸºç±»å¼€å§‹ã€‚å…¶ä»–çš„å¼‚å¸¸ç±»åº”è¯¥ç»§æ‰¿è‡ªè¯¥å®šåˆ¶çš„åŸºç±» å¦‚æœä½ å¯¹ä½ çš„å®šåˆ¶å¼‚å¸¸ç±»ç¼–å†™äº† initialize æ–¹æ³•ï¼ŒåŠ¡å¿…ç¡®ä¿å…¶è°ƒç”¨äº† super æ–¹æ³•ï¼Œæœ€å¥½åœ¨è°ƒç”¨æ—¶ä»¥é”™è¯¯ä¿¡æ¯ä½œä¸ºå‚æ•° åœ¨ initialize æ–¹æ³•ä¸­è®¾ç½®é”™è¯¯ä¿¡æ¯æ—¶ï¼Œè¯·ç‰¢è®°ï¼šå¦‚æœåœ¨ raise æ–¹æ³•ä¸­å†åº¦è®¾ç½®é”™è¯¯ä¿¡æ¯ä¼šè¦†ç›–åŸæœ¬åœ¨ initialize ä¸­è®¾ç½®çš„é‚£ä¸€æ¡ class TemperatureError &lt; StandardError attr_reader(:temperature) def initialize(temperature) @temperature = temperature super(\"invalid temperature: #@temperature\") end end ç¬¬ 23 æ¡ï¼šæ•è·å¯èƒ½çš„æœ€å…·ä½“çš„å¼‚å¸¸ åªæ•è·é‚£äº›ä½ çŸ¥é“å¦‚ä½•æ¢å¤çš„å¼‚å¸¸ å½“æ•è·å¼‚å¸¸æ—¶ï¼Œé¦–å…ˆå¤„ç†æœ€ç‰¹æ®Šçš„ç±»å‹ã€‚åœ¨å¼‚å¸¸çš„ç»§æ‰¿å…³ç³»ä¸­ä½ç½®è¶Šé«˜çš„ï¼Œè¶Šåº”è¯¥æ’åœ¨ rescue é“¾çš„åé¢ é¿å…æ•è·å¦‚ StandardError è¿™æ ·çš„é€šç”¨å¼‚å¸¸ã€‚å¦‚æœä½ å·²ç»è¿™ä¹ˆåšäº†ï¼Œå°±åº”è¯¥æƒ³æƒ³ä½ çœŸæ­£æƒ³åšçš„æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡ ensure è¯­å¥æ¥å®ç° åœ¨å¼‚å¸¸å‘ç”Ÿçš„æƒ…å†µä¸‹ï¼Œä» resuce è¯­å¥ä¸­æŠ›å‡ºçš„å¼‚å¸¸å°†ä¼šæ›¿æ¢å½“å‰å¼‚å¸¸å¹¶ç¦»å¼€å½“å‰çš„ä½œç”¨åŸŸ ç¬¬ 24 æ¡ï¼šé€šè¿‡å—å’Œ ensure ç®¡ç†èµ„æº é€šè¿‡ ensure è¯­å¥æ¥é‡Šæ”¾ä»»ä½•å·²è·å¾—çš„èµ„æº é€šè¿‡åœ¨ç±»æ–¹æ³•ä¸Šä½¿ç”¨å—å’Œ ensure è¯­å¥å°†èµ„æºç®¡ç†çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ ç¡®ä¿ ensure è¯­å¥ä¸­ä½¿ç”¨çš„å˜é‡å·²ç»è¢«åˆå§‹åŒ–è¿‡äº† ç¬¬ 25 æ¡ï¼šé€šè¿‡ä¸´è¿‘çš„ end é€€å‡º ensure è¯­å¥ é¿å…åœ¨ ensure è¯­å¥ä¸­æ˜¾å¼ä½¿ç”¨ return è¯­å¥ï¼Œè¿™æ„å‘³ç€æ–¹æ³•ä½“å†…å­˜åœ¨ç€æŸäº›é”™è¯¯çš„é€»è¾‘ åŒæ ·ï¼Œä¸è¦åœ¨ ensure è¯­å¥ä¸­ç›´æ¥ä½¿ç”¨ throwï¼Œä½ åº”è¯¥å°† throw æ”¾åœ¨æ–¹æ³•ä¸»ä½“å†… å½“æ‰§è¡Œè¿­ä»£æ—¶ï¼Œä¸è¦åœ¨ ensure è¯­å¥ä¸­æ‰§è¡Œ next æˆ– breakã€‚ä»”ç»†æƒ³æƒ³åœ¨è¿­ä»£å†…åˆ°åº•éœ€ä¸éœ€è¦ begin å—ã€‚å°†å…³ç³»åè½¬æˆ–è®¸æ›´åŠ åˆç†ï¼Œå°±æ˜¯å°†è¿­ä»£æ”¾åœ¨ begin å—ä¸­ ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦å† ensure è¯­å¥ä¸­æ”¹å˜æ§åˆ¶æµï¼Œåœ¨ rescue è¯­å¥ä¸­å®Œæˆè¿™æ ·çš„å·¥ä½œï¼Œä½ çš„æ„å›¾ä¼šæ›´åŠ æ¸…æ™° ç¬¬ 26 æ¡ï¼šé™åˆ¶ retry æ¬¡æ•°ï¼Œæ”¹å˜é‡è¯•é¢‘ç‡å¹¶è®°å½•å¼‚å¸¸ä¿¡æ¯ æ°¸è¿œä¸è¦æ— æ¡ä»¶ retryï¼Œè¦æŠŠå®ƒçœ‹åšä»£ç ä¸­çš„éšå¼å¾ªç¯ï¼›åœ¨ä»£ç å—çš„å¤–å›´å®šä¹‰é‡è¯•æ¬¡æ•°ï¼Œå½“è¶…å‡ºæœ€å¤§é‡è¯•æ¬¡æ•°æ—¶é‡æ–°æŠ›å‡ºå¼‚å¸¸ retry æ—¶è®°å½•å…·æœ‰å®¡è®¡ä½œç”¨çš„å¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœé‡è¯•æœ‰é—®é¢˜çš„ä»£ç è§£å†³ä¸äº†é—®é¢˜ï¼Œéœ€è¦è¿½æ ¹æº¯æºåœ°å»äº†è§£å¼‚å¸¸æ˜¯å¦‚ä½•å‘ç”Ÿçš„ å½“åœ¨ retry ä¹‹å‰ä½¿ç”¨å»¶æ—¶æ—¶ï¼Œéœ€è¦è€ƒè™‘å¢åŠ å»¶æ—¶é¿å…åŠ å‰§é—®é¢˜ ç¬¬ 27 æ¡ï¼šthrow æ¯” raise æ›´é€‚åˆç”¨æ¥è·³å‡ºä½œç”¨åŸŸ åœ¨å¤æ‚çš„æµç¨‹æ§åˆ¶ä¸­ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ throw å’Œ raiseï¼Œè¿™ç§æ–¹æ³•ä¸€ä¸ªé¢å¤–çš„å¥½å¤„æ˜¯å¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡ä¼ é€’åˆ°ä¸Šå±‚è°ƒç”¨æ ˆå¹¶ä½œä¸º catch çš„æœ€ç»ˆè¿”å›å€¼ å°½é‡ä½¿ç”¨ç®€å•çš„æ–¹æ³•æ¥æ§åˆ¶ç¨‹åºç»“æœï¼Œå¯ä»¥é€šè¿‡æ–¹æ³•è°ƒç”¨å’Œ return é‡å†™ catch å’Œ throw ç¬¬äº”ç« ï¼šå…ƒç¼–ç¨‹ç¬¬ 28 æ¡ï¼šç†Ÿæ‚‰ Ruby æ¨¡å—å’Œç±»çš„é’©å­æ–¹æ³• æ‰€æœ‰çš„é’©å­æ–¹æ³•éƒ½éœ€è¦è¢«å®šä¹‰ä¸ºå•ä¾‹æ–¹æ³• æ·»åŠ ã€åˆ é™¤ã€å–æ¶ˆå®šä¹‰æ–¹æ³•çš„é’©å­æ–¹æ³•å‚æ•°æ˜¯æ–¹æ³•åï¼Œè€Œä¸æ˜¯ç±»åï¼Œå¦‚æœéœ€è¦ï¼Œä½¿ç”¨ self å»è·å–ç±»çš„ä¿¡æ¯ å®šä¹‰ singleton_method_added ä¼šå‡ºå‘è‡ªèº« ä¸è¦è¦†ç›– extend_objectã€append_features å’Œ prepend_features æ–¹æ³•ï¼Œä½¿ç”¨ extendedã€included å’Œ prepended æ›¿ä»£ ç¬¬ 29 æ¡ï¼šåœ¨ç±»çš„é’©å­æ–¹æ³•ä¸­æ‰§è¡Œ super æ–¹æ³• åœ¨ç±»çš„é’©å­æ–¹æ³•ä¸­æ‰§è¡Œ super æ–¹æ³• ç¬¬ 30 æ¡ï¼šæ¨èä½¿ç”¨ define_method è€Œé method_missing define_method ä¼˜äº method_missing å¦‚æœå¿…é¡»ä½¿ç”¨ method_missingï¼Œæœ€å¥½ä¹Ÿå®šä¹‰ respond_to_missing? æ–¹æ³• ç¬¬ 31 æ¡ï¼šäº†è§£ä¸åŒç±»å‹çš„ eval é—´çš„å·®å¼‚ ä½¿ç”¨ instance_eval å’Œ instance_exec å®šä¹‰çš„å•ä¾‹æ–¹æ³• class_evalã€module_evalã€class_exec å’Œ module_exec æ–¹æ³•åªå¯ä»¥è¢«æ¨¡å—æˆ–è€…æ–¹æ³•ä½¿ç”¨ã€‚é€šè¿‡è¿™äº›å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯å®ä¾‹æ–¹æ³• ç¬¬ 32 æ¡ï¼šæ…ç”¨çŒ´å­è¡¥ä¸ å°½ç®¡ refinement å·²ç»ä¸å†æ˜¯å®éªŒæ€§çš„åŠŸèƒ½ï¼Œå®ƒä»ç„¶æœ‰å¯èƒ½è¢«ä¿®æ”¹å¾—æ›´åŠ æˆç†Ÿ åœ¨ä¸åŒçš„è¯­æ³•ä½œç”¨åŸŸï¼Œåœ¨ä½¿ç”¨ refinement ä¹‹å‰å¿…é¡»å…ˆæ¿€æ´»å®ƒ ç¬¬ 33 æ¡ï¼šä½¿ç”¨åˆ«åé“¾æ‰§è¡Œè¢«ä¿®æ”¹çš„æ–¹æ³• åœ¨è®¾ç½®åˆ«åé“¾æ—¶ï¼Œéœ€è¦ç¡®ä¿åˆ«åæ˜¯ç‹¬ä¸€æ— äºŒçš„ å¿…è¦çš„æ—¶å€™è¦è€ƒè™‘æä¾›ä¸€ä¸ªæ’¤é”€åˆ«åé“¾çš„æ–¹æ³• ç¬¬ 34 æ¡ï¼šæ”¯æŒå¤šç§ Proc å‚æ•°æ•°é‡ ä¸å¼± Proc å¯¹è±¡ä¸åŒï¼Œåœ¨å‚æ•°æ•°é‡ä¸åŒ¹é…æ—¶ï¼Œå¼º Proc å¯¹è±¡ä¼šæŠ›å‡º ArgumentError å¼‚å¸¸ å¯ä»¥ä½¿ç”¨ Proc#arity æ–¹æ³•å¾—åˆ° Proc æœŸæœ›çš„å‚æ•°æ•°é‡ï¼Œå¦‚æœè¿”å›çš„æ˜¯æ­£æ•°ï¼Œåˆ™æ„å‘³ç€æœ‰å¤šå°‘å‚æ•°æ˜¯å¿…é¡»çš„ã€‚å¦‚æœè¿”å›çš„æ˜¯è´Ÿæ•°ï¼Œåˆ™æ„å‘³ç€ Proc æœ‰äº›å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥é€šè¿‡ â€œ~â€ æ¥å¾—åˆ°æœ‰å¤šå°‘æ˜¯å¿…é¡»å‚æ•° ç¬¬ 35 æ¡ï¼šä½¿ç”¨æ¨¡å—å‰ç½®æ—¶è¯·è°¨æ…æ€è€ƒ prepend æ–¹æ³•åœ¨ä½¿ç”¨æ—¶å¯¹ç±»ä½“ç³»æœºæ„çš„å½±å“æ˜¯ï¼šå®ƒå°†æ¨¡å—æ’å…¥åˆ°æ¥å—è€…ä¹‹å‰ã€‚è¿™å’Œ include æ–¹æ³•æœ‰å¾ˆå¤§ä¸åŒï¼šinclude åˆ™æ˜¯å°†æ¨¡å—æ’å…¥åˆ°æ¥å—è€…å’Œå…¶è¶…ç±»ä¹‹é—´ ä¸ included å’Œ extended æ¨¡å—é’©å­ä¸€æ ·ï¼Œå‰ç½®æ¨¡å—ä¹Ÿä¼šå‡ºå‘ prepended é’©å­ ç¬¬å…­ç« ï¼šæµ‹è¯•ç¬¬ 36 æ¡ï¼šç†Ÿæ‚‰å•å…ƒæµ‹è¯•å·¥å…· MiniTest æµ‹è¯•æ–¹æ³•éœ€è¦ä»¥ â€œtest_â€ ä½œä¸ºå‰ç¼€ ç®€çŸ­çš„æµ‹è¯•æ›´å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ ä½¿ç”¨åˆé€‚çš„æ–­è¨€æ–¹æ³•ç”Ÿæˆæ›´æ˜“è¯»çš„å‡ºé”™ä¿¡æ¯ æ–­è¨€ï¼ˆAssertionï¼‰å’Œåæ¼”ï¼ˆrefutationï¼‰çš„æ–‡æ¡£åœ¨ MiniTest::Assertions ä¸­ ç¬¬ 37 æ¡ï¼šç†Ÿæ‚‰ MiniTest çš„éœ€æ±‚æµ‹è¯• ä½¿ç”¨ describe æ–¹æ³•åˆ›å»ºæµ‹è¯•ç±»ï¼Œä½¿ç”¨ it å®šä¹‰æµ‹è¯•ç”¨ä¾‹ è™½ç„¶åœ¨éœ€æ±‚è¯´æ˜æµ‹è¯•ä¸­ï¼Œæ–­è¨€ä»ç„¶å¯ç”¨ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨æ³¨å…¥åˆ° Object ä¸­çš„æœŸæœ›æ–¹æ³• åœ¨ MiniTest::Expectations æ¨¡å—ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°å…³äºæœŸæœ›æ–¹æ³•æ›´è¯¦ç»†çš„æ–‡æ¡£ ç¬¬ 38 æ¡ï¼šä½¿ç”¨ Mock æ¨¡æ‹Ÿç‰¹å®šå¯¹è±¡ ä½¿ç”¨ Mock æ¥éš”ç¦»å¤–éƒ¨ç³»ç»Ÿçš„ä¸ç¨³å®šå› ç´  Mock æˆ–è€…æ›¿æ¢æ²¡æœ‰è¢«æµ‹è¯•è¿‡å¾—æ–¹æ³•ï¼Œæœ‰å¯èƒ½ä¼šè®©è¿™äº›è¢« Mock çš„ä»£ç åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‡ºç°é—®é¢˜ è¯·ç¡®ä¿åœ¨æµ‹è¯•æ–¹æ³•ä»£ç çš„æœ€åè°ƒç”¨äº† MiniTest::Mock#verity æ–¹æ³• ç¬¬ 39 æ¡ï¼šåŠ›äº‰ä»£ç è¢«æœ‰æ•ˆæµ‹è¯•è¿‡ ä½¿ç”¨æ¨¡ç³Šæµ‹è¯•å’Œå±æ€§æµ‹è¯•å·¥å…·ï¼Œå¸®åŠ©æµ‹è¯•ä»£ç çš„å¿«ä¹è·¯å¾„å’Œå¼‚å¸¸è·¯å¾„ã€‚ æµ‹è¯•è¦†ç›–ç‡å·¥å…·ä¼šç»™ä½ ä¸€ç§è™šå‡çš„å®‰å…¨æ„Ÿï¼Œå› ä¸ºè¢«æ‰§è¡Œè¿‡çš„ä»£ç ä¸ä»£è¡¨è¿™è¡Œä»£ç æ˜¯æ­£ç¡®çš„ åœ¨ç¼–å†™ç‰¹æ€§çš„åŒæ—¶å°±åŠ ä¸Šæµ‹è¯•ï¼Œä¼šè®©æµ‹è¯•å®¹æ˜“å¾—å¤š åœ¨ä½ å¼€å§‹å¯»æ‰¾å¯¼è‡´ bug çš„æ ¹æœ¬åŸå› ä¹‹å‰ï¼Œå…ˆå†™ä¸€ä¸ªé’ˆå¯¹è¯¥ bug çš„æµ‹è¯•å°½å¯èƒ½å¤šåœ°è‡ªåŠ¨åŒ–ä½ çš„æµ‹è¯• ç¬¬ä¸ƒç« ï¼šå·¥å…·ä¸åº“ç¬¬ 40 æ¡ï¼šå­¦ä¼šä½¿ç”¨ Ruby æ–‡æ¡£ ri å·¥å…·ç”¨æ¥è¯»å–æ–‡æ¡£ï¼Œrdoc å·¥å…·ç”¨æ¥ç”Ÿæˆæ–‡æ¡£ ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹ â€œ-d docâ€ æ¥ä¸º RI å·¥å…·åˆ¶å®šåœ¨ â€œdocâ€ è·¯å¾„ä¸‹æŸ¥æ‰¾æ–‡æ¡£è¿è¡Œ rdoc æ—¶ï¼Œåé¢è·Ÿä¸Šå‘½ä»¤è¡Œé€‰é¡¹ â€œ-f riâ€ æ¥ä¸º RI å·¥å…·ç”Ÿæˆæ–‡æ¡£ã€‚å¦å¤–ï¼Œç”¨ â€œ-f darkfishâ€ æ¥ç”Ÿæˆ HTML æ ¼å¼çš„æ–‡æ¡£(è‡ªå·±æµ‹è¯•è¿‡..å¯¹äºå¤§å‹é¡¹ç›®ç”Ÿæˆçš„ HTML æ–‡æ¡£ä¸æ˜¯å¾ˆå‹å¥½..) å®Œæ•´çš„ RDoc æ–‡æ¡£å¯ä»¥åœ¨ RDoc::Markup ç±»ä¸­æ‰¾åˆ°ï¼ˆä½¿ç”¨ RI æŸ¥é˜…ï¼‰ ç¬¬ 41 æ¡ï¼šè®¤è¯† IRB çš„é«˜çº§ç‰¹æ€§ åœ¨ IRB::ExtendCommandBundle æ¨¡å—ï¼Œæˆ–è€…ä¸€ä¸ªä¼šè¢«å¼•å…¥ IRB::ExtendCommandBundle ä¸­çš„æ¨¡å—ä¸­è‡ªå®šä¹‰ IRB å‘½ä»¤ åˆ©ç”¨ä¸‹åˆ’çº¿å˜é‡ï¼ˆâ€_â€ï¼‰æ¥è·å–ä¸Šä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼ˆä¾‹å¦‚ï¼Œlast_elem = _ï¼‰ irb å‘½ä»¤å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œå¹¶å°†å½“å‰çš„è¯„ä¼°ä¸Šä¸‹æ–‡æ”¹å˜æˆä»»æ„å¯¹è±¡è€ƒè™‘ Pry gem ä½œä¸º IRB çš„æ›¿ä»£å“ ç¬¬ 42 æ¡ï¼šç”¨ Bundler ç®¡ç† Gem ä¾èµ– åœ¨åŠ è½½å®Œ Bundler ä¹‹åï¼Œä½¿ç”¨ Bundler.require ä¼šç‰ºç‰²ä¸€ç‚¹ç‚¹çµæ´»æ€§ï¼Œä½†æ˜¯å¯ä»¥åŠ è½½ Gemfile ä¸­æ‰€æœ‰çš„ gem å½“å¼€å‘åº”ç”¨æ—¶ï¼Œåœ¨ Gemfile ä¸­åˆ—å‡ºæ‰€æœ‰çš„ gemï¼Œç„¶åæŠŠ Gemfile.lock æ·»åŠ åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ å½“æ‰“åŒ… RubyGemï¼Œåœ¨ gem è§„æ ¼æ–‡ä»¶ä¸­åˆ—å‡º gem æ‰€æœ‰ä¾èµ–ï¼Œä½†ä¸è¦æŠŠ Gemfile.lock æ·»åŠ åˆ°ä½ çš„ç‰ˆæœ¬ç³»ç»Ÿä¸­ ç¬¬ 43 æ¡ï¼šä¸º Gem ä¾èµ–è®¾å®šç‰ˆæœ¬ä¸Šé™ å¿½ç•¥æ‰ç‰ˆæœ¬ä¸Šé™éœ€æ±‚ç›¸å½“äºä½ è¯´äº†ä½ å¯ä»¥æ”¯æŒæœªæ¥æ‰€æœ‰çš„ç‰ˆæœ¬ ç›¸å¯¹äºæ‚²è§‚ç‰ˆæœ¬æ“ä½œç¬¦ï¼Œæ›´åŠ å€¾å‘äºä½¿ç”¨æ˜ç¡®çš„ç‰ˆæœ¬èŒƒå›´ å½“å…¬å¸ƒå‘å¸ƒä¸€ä¸ª gem æ—¶ï¼ŒæŒ‡æ˜ä¾èµ–åŒ…çš„ç‰ˆæœ¬é™åˆ¶è¦æ±‚ï¼Œåœ¨å®‰å…¨çš„èŒƒå›´å†…è¶Šå®½è¶Šå¥½ï¼Œä¸Šé™å¯ä»¥æ‰©å±•åˆ°ä¸‹ä¸€ä¸ªä¸»è¦å‘å¸ƒç‰ˆæœ¬ä¹‹å‰ ç¬¬å…«ç« ï¼šå†…å­˜ç®¡ç†ä¸æ€§èƒ½ç¬¬ 44 æ¡ï¼šç†Ÿæ‚‰ Ruby çš„åƒåœ¾æ”¶é›†å™¨ æ‰©å±•é˜…è¯»ï¼šRuby GC è‡ªè¿° Â· Ruby ChinaRuby 2.1:RGenGC åƒåœ¾æ”¶é›†å™¨æ˜¯ä¸ªå¤æ‚çš„è½¯ä»¶å·¥ç¨‹ã€‚ä»å¾ˆé«˜çš„å±‚æ¬¡çœ‹ï¼ŒRuby åƒåœ¾æ”¶é›†å™¨ä½¿ç”¨ä¸€ç§è¢«ç§°ä¸º æ ‡è®°-æ¸…é™¤ï¼ˆmark and sweepï¼‰çš„è¿‡ç¨‹ã€‚ï¼ˆç†Ÿæ‚‰ Java çš„ç«¥é‹åº”è¯¥ä¼šæ„Ÿåˆ°ä¸€ä¸ç†Ÿæ‚‰ï¼‰ é¦–å…ˆï¼Œéå†å¯¹è±¡å›¾ï¼Œèƒ½è¢«è®¿é—®åˆ°çš„å¯¹è±¡ä¼šè¢«æ ‡è®°ä¸ºå­˜æ´»çš„ã€‚æ¥ç€ï¼Œä»»ä½•æœªåœ¨ç¬¬ä¸€é˜¶æ®µæ ‡è®°è¿‡çš„å¯¹è±¡ä¼šè¢«è§†ä¸ºåƒåœ¾å¹¶è¢«æ¸…æ¥šï¼Œä¹‹åå°†å†…å­˜é‡Šæ”¾å› Ruby æˆ–æ“ä½œç³»ç»Ÿã€‚ éå†æ•´ä¸ªå¯¹è±¡å›¾å¹¶æ ‡è®°å¯è®¿é—®å¯¹è±¡çš„å¼€é”€å¤ªå¤§ã€‚Ruby 2.1 é€šè¿‡æ–°çš„åˆ†ä»£å¼åƒåœ¾æ”¶é›†å™¨å¯¹æ€§èƒ½è¿›è¡Œäº†ä¼˜åŒ–ã€‚å¯¹è±¡è¢«åˆ†ä¸ºä¸¤ç±»ï¼Œå¹´è½»ä»£å’Œå¹´è€ä»£ã€‚ åˆ†ä»£å¼åƒåœ¾æ”¶é›†å™¨åŸºäºä¸€ä¸ªå‰æï¼šå¤§å¤šæ•°å¯¹è±¡çš„ç”Ÿå­˜æ—¶é—´éƒ½ä¸ä¼šå¾ˆé•¿ã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“äº†ä¸€ä¸ªå¯¹è±¡å¯ä»¥å­˜æ´»å¾ˆä¹…ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¼˜åŒ–æ ‡è®°é˜¶æ®µï¼Œè‡ªåŠ¨å°†è¿™äº›è€çš„å¯¹è±¡æ ‡è®°ä¸ºå¯è®¿é—®ï¼Œè€Œä¸éœ€è¦éå†æ•´ä¸ªå¯¹è±¡å›¾ã€‚ å¦‚æœå¹´è½»ä»£å¯¹è±¡åœ¨ç¬¬ä¸€é˜¶æ®µçš„æ ‡è®°ä¸­å­˜æ´»äº†ä¸‹æ¥ï¼Œé‚£ä¹ˆ Ruby çš„åˆ†ä»£å¼åƒåœ¾æ”¶é›†å™¨å°±æŠŠå®ƒä»¬æå‡ä¸ºå¹´è€ä»£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»–ä»¬ä¾ç„¶æ˜¯å¯è®¿é—®çš„ã€‚ åœ¨å¹´è½»ä»£å¯¹è±¡å’Œå¹´è€ä»£å¯¹è±¡çš„æ¦‚å¿µä¸‹ï¼Œæ ‡è®°é˜¶æ®µå¯ä»¥åˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼šä¸»è¦æ ‡è®°é˜¶æ®µï¼ˆmajorï¼‰å’Œæ¬¡è¦æ ‡è®°é˜¶æ®µï¼ˆminorï¼‰ã€‚ åœ¨ä¸»è¦æ ‡è®°é˜¶æ®µï¼Œæ‰€æœ‰çš„å¯¹è±¡ï¼ˆæ— è®ºæ–°è€ï¼‰éƒ½ä¼šè¢«æ ‡è®°ã€‚è¯¥æ¨¡å¼ä¸‹ï¼Œåƒåœ¾æ”¶é›†å™¨ä¸åŒºåˆ†æ–°è€ä¸¤ä»£ï¼Œæ‰€ä»¥å¼€é”€å¾ˆå¤§ã€‚ æ¬¡è¦æ ‡è®°é˜¶æ®µï¼Œä»…ä»…è€ƒè™‘å¹´è½»ä»£å¯¹è±¡ï¼Œå¹¶è‡ªåŠ¨æ ‡è®°å¹´è€ä»£å¯¹è±¡ï¼Œè€Œä¸æ£€æŸ¥èƒ½å¦è¢«è®¿é—®ã€‚è¿™æ„å‘³ç€å¹´è€ä»£å¯¹è±¡åªä¼šåœ¨ä¸»è¦æ ‡è®°é˜¶æ®µä¹‹åæ‰ä¼šè¢«æ¸…é™¤ã€‚é™¤éè¾¾åˆ°äº†ä¸€äº›é˜ˆå€¼ï¼Œä¿è¯æ•´ä¸ªè¿‡ç¨‹å…¨éƒ¨ä½œä¸ºä¸»è¦æ ‡è®°ä¹‹å¤–ï¼Œåƒåœ¾æ”¶é›†å™¨å€¾å‘äºä½¿ç”¨æ¬¡è¦æ ‡è®°ã€‚ åƒåœ¾æ”¶é›†å™¨çš„æ¸…é™¤é˜¶æ®µä¹Ÿæœ‰ä¼˜åŒ–æœºåˆ¶ï¼Œåˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼šå³ä½¿æ¨¡å¼å’Œæ‡’æƒ°æ¨¡å¼ã€‚ åœ¨å³ä½¿æ¨¡å¼ä¸­ï¼Œåƒåœ¾æ”¶é›†å™¨ä¼šæ¸…é™¤æ‰€æœ‰çš„æœªæ ‡è®°çš„å¯¹è±¡ã€‚å¦‚æœæœ‰å¾ˆå¤šå¯¹è±¡éœ€è¦è¢«é‡Šæ”¾ï¼Œé‚£è¿™ç§æ¨¡å¼å¼€é”€å°±å¾ˆå¤§ã€‚ å› æ­¤ï¼Œæ¸…é™¤é˜¶æ®µè¿˜æ”¯æŒæ‡’æƒ°æ¨¡å¼ï¼Œå®ƒå°†å°è¯•é‡Šæ”¾å°½å¯èƒ½å°‘çš„å¯¹è±¡ã€‚ æ¯å½“ Ruby ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œå®ƒå¯èƒ½å°è¯•è§¦å‘ä¸€æ¬¡æ‡’æƒ°æ¸…é™¤é˜¶æ®µï¼Œå»é‡Šæ”¾ä¸€äº›ç©ºé—´ã€‚ä¸ºäº†æ›´å¥½çš„ç†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦çœ‹çœ‹åƒåœ¾æ”¶é›†å™¨å¦‚ä½•ç®¡ç†å­˜å‚¨å¯¹è±¡çš„å†…å­˜ã€‚ï¼ˆç®€å•æ¦‚æ‹¬ï¼šåƒåœ¾æ”¶é›†å™¨é€šè¿‡ç»´æŠ¤ä¸€ä¸ªç”±é¡µç»„æˆçš„å †æ¥ç®¡ç†å†…å­˜ã€‚é¡µåˆç”±æ§½ç»„æˆã€‚æ¯ä¸ªæ§½å­˜å‚¨ä¸€ä¸ªå¯¹è±¡ã€‚ï¼‰ æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ–°çš„ IRB ä¼šè¯ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š `IRB``> ``GC``.stat` `---> {``:count``=>``9``, ``:heap_length``=>``126``, ...}` GC::stat æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ•£åˆ—ï¼ŒåŒ…å«åƒåœ¾æ”¶é›†å™¨ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚è¯·è®°ä½ï¼Œè¯¥æ•£åˆ—ä¸­çš„é”®ä»¥åŠå®ƒä»¬å¯¹åº”åƒåœ¾æ”¶é›†å™¨çš„æ„ä¹‰å¯èƒ½åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬å‘ç”Ÿå˜åŒ–ã€‚ å¥½äº†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›æœ‰è¶£çš„é”®ï¼š é”®å è¯´æ˜ count åƒåœ¾æ”¶é›†å™¨è¿è¡Œçš„æ€»æ¬¡æ•° major_gc_count ä¸»è¦æ¨¡å¼ä¸‹çš„è¿è¡Œæ¬¡æ•° minor_gc_count æ¬¡è¦æ¨¡å¼ä¸‹çš„è¿è¡Œæ¬¡æ•° total_allocated_object ç¨‹åºå¼€å§‹æ—¶åˆ†é…çš„å¯¹è±¡æ€»æ•° total_freed_object Ruby é‡Šæ”¾çš„å¯¹è±¡æ€»æ•°ã€‚ä¸ä¸Šé¢ä¹‹å·®è¡¨ç¤ºå­˜æ´»å¯¹è±¡çš„æ•°é‡ï¼Œè¿™å¯ä»¥é€šè¿‡ heap_live_slot é”®æ¥è®¡ç®— heap_length å½“å‰å †ä¸­çš„é¡µæ•° heap_live_slot å’Œ heap_free_slot è¡¨ç¤ºå…¨éƒ¨é¡µä¸­è¢«ä½¿ç”¨çš„æ§½æ•°å’Œæœªè¢«ä½¿ç”¨çš„æ§½æ•° old_object å¹´è€ä»£çš„å¯¹è±¡æ•°é‡ï¼Œåœ¨æ¬¡è¦æ ‡è®°é˜¶æ®µä¸ä¼šè¢«å¤„ç†ã€‚å¹´è½»ä»£çš„å¯¹è±¡æ•°é‡å¯ä»¥ç”¨ heap_live_slot å‡å» old_object æ¥è·å¾— è¯¥æ•£åˆ—ä¸­è¿˜æœ‰å‡ ä¸ªæœ‰è¶£çš„æ•°å­—ï¼Œä½†åœ¨ä»‹ç»ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ¥å­¦ä¹ åƒåœ¾æ”¶é›†å™¨çš„æœ€åä¸€ä¸ªè¦ç‚¹ã€‚è¿˜è®°å¾—å¯¹è±¡æ˜¯å­˜åœ¨æ§½ä¸­çš„å§ã€‚Ruby 2.1 çš„æ§½å¤§å°ä¸º 40 å­—èŠ‚ï¼Œç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯è¿™ä¹ˆå¤§ã€‚ æ¯”å¦‚ï¼Œä¸€ä¸ªåŒ…å« 255 ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚å¦‚æœå¯¹è±¡çš„å¤§å°è¶…è¿‡äº†æ§½çš„å¤§å°ï¼ŒRuby å°±ä¼šé¢å¤–å‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å—å†…å­˜ã€‚ å½“å¯¹è±¡è¢«é”€æ¯ï¼Œæ§½è¢«é‡Šæ”¾åï¼ŒRuby ä¼šæŠŠå¤šä½™çš„å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ GC::stat æ•£åˆ—ä¸­çš„è¿™äº›é”®ï¼š é”®å è¯´æ˜ malloc_increase æ‰€æœ‰è¶…è¿‡æ§½å¤§å°çš„å¯¹è±¡æ‰€å ç”¨çš„æ€»æ¯”ç‰¹æ•° malloc_limit é˜ˆå€¼ã€‚å¦‚æœ malloc_increase çš„å¤§å°è¶…è¿‡äº† malloc_limitï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¼šåœ¨æ¬¡è¦æ¨¡å¼ä¸‹è¿è¡Œã€‚ä¸€ä¸ª Ruby åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸé‡Œï¼Œmalloc_limit æ˜¯è¢«åŠ¨è°ƒæ•´çš„ã€‚å®ƒçš„å¤§å°æ˜¯å½“å‰ malloc_increase çš„å¤§å°ä¹˜ä»¥è°ƒèŠ‚å› å­ï¼Œè¿™ä¸ªå› å­é»˜è®¤æ˜¯ 1.4ã€‚ä½ å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ RUBY_GC_MALLOC_LIMIT_GROWTH_FACTOR æ¥è®¾å®šè¿™ä¸ªå› å­ oldmalloc_increase å’Œ oldmalloc_limit æ˜¯ä¸Šé¢ä¸¤ä¸ªå¯¹åº”çš„å¹´è€ä»£å€¼ã€‚å¦‚æœ oldmalloc_increase çš„å¤§å°è¶…è¿‡äº† oldmalloc_limitï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¼šåœ¨ä¸»è¦æ¨¡å¼ä¸‹è¿è¡Œã€‚oldmalloc_limit çš„è°ƒèŠ‚å› å­moreæ˜¯ 1.2ã€‚é€šè¿‡ç¯å¢ƒå˜é‡ RUBY_GC_OLDMALLOC_LIMIT_GROWTH_FACTOR å¯ä»¥è®¾å®šå®ƒ ä½œä¸ºæœ€åä¸€éƒ¨åˆ†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹é’ˆå¯¹ç‰¹å®šåº”ç”¨ç¨‹åºè¿›è¡Œåƒåœ¾æ”¶é›†å™¨è°ƒä¼˜çš„ç¯å¢ƒå˜é‡ã€‚ åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„ Ruby ä¸­ï¼ŒGC::stat æ•£åˆ—ä¸­çš„å€¼å¯¹åº”çš„ç¯å¢ƒå˜é‡å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å¥½æ¶ˆæ¯æ˜¯ Ruby 2.2 å°†æ”¯æŒ 3 ä¸ªåˆ†ä»£ï¼ŒRuby 2.1 åªæ”¯æŒä¸¤ä¸ªã€‚è¿™å¯èƒ½ä¼šå½±å“åˆ°ä¸Šè¿°å˜é‡çš„è®¾å®šã€‚ æœ‰å…³åƒåœ¾æ”¶é›†å™¨è°ƒä¼˜çš„ç¯å¢ƒå˜é‡çš„æƒå¨ä¿¡æ¯ä¿å­˜åœ¨ â€œgc.câ€ æ–‡ä»¶ä¸­ï¼Œæ˜¯ Ruby æºç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚ ä¸‹é¢æ˜¯ Ruby 2.1 ä¸­ç”¨äºè°ƒä¼˜çš„ç¯å¢ƒå˜é‡ï¼ˆä»…ä¾›å‚è€ƒï¼‰ï¼š ç¯å¢ƒå˜é‡å è¯´æ˜ RUBY_GC_HEAP_INIT_SLOTS åˆå§‹æ§½çš„æ•°é‡ã€‚é»˜è®¤ä¸º 10kï¼Œå¢åŠ å®ƒçš„å€¼å¯ä»¥è®©ä½ çš„åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å‡å°‘åƒåœ¾æ”¶é›†å™¨çš„å·¥ä½œæ•ˆç‡ RUBY_GC_HEAP_FREE_SLOTS åƒåœ¾æ”¶é›†å™¨è¿è¡Œåï¼Œç©ºæ§½æ•°é‡çš„æœ€å°å€¼ã€‚å¦‚æœç©ºæ§½çš„æ•°é‡å°äºè¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆ Ruby ä¼šç”³è¯·é¢å¤–çš„é¡µï¼Œå¹¶æ”¾å…¥å †ä¸­ã€‚é»˜è®¤å€¼æ˜¯ 4096 RUBY_GC_HEAP_GROWTH_FACTOR å½“éœ€è¦é¢å¤–çš„æ§½æ—¶ï¼Œç”¨äºè®¡ç®—éœ€è¦å¢åŠ çš„é¡µæ•°çš„ä¹˜æ•°å› å­ã€‚ç”¨å·²ä½¿ç”¨çš„é¡µæ•°ä¹˜ä»¥è¿™ä¸ªå› å­ç®—å‡ºè¿˜éœ€è¦å¢åŠ çš„é¡µæ•°ã€é»˜è®¤å€¼æ˜¯ 1.8 RUBY_GC_HEAP_GROWTH_MAX_SLOTS ä¸€æ¬¡æ·»åŠ åˆ°å †ä¸­çš„æœ€å¤§æ§½æ•°ã€‚é»˜è®¤å€¼æ˜¯0ï¼Œè¡¨ç¤ºæ²¡æœ‰é™åˆ¶ã€‚ RUBY_GC_HEAP_OLDOBJECT_LIMIT_FACTOR ç”¨äºè®¡ç®—å‡ºå‘ä¸»è¦æ¨¡å¼åƒåœ¾æ”¶é›†å™¨çš„é—¨é™å€¼çš„ä¹˜æ•°å› å­ã€‚é—¨é™ç”±å‰ä¸€æ¬¡ä¸»è¦æ¸…é™¤åå¹´è€ä»£å¯¹è±¡æ•°é‡ä¹˜ä»¥è¯¥å› å­å¾—åˆ°ã€‚è¯¥é—¨é™ä¸å½“å‰å¹´è€ä»£å¯¹è±¡æ•°é‡æˆæ¯”ä¾‹ã€‚é»˜è®¤å€¼æ˜¯ 2.0ã€‚è¿™æ„å‘³ç€å¦‚æœå¹´è€ä»£å¯¹è±¡åœ¨ä¸Šæ¬¡ä¸»è¦æ ‡è®°é˜¶æ®µè¿‡åçš„æ•°é‡ç¿»å€çš„è¯ï¼Œæ–°ä¸€è½®çš„ä¸»è¦æ ‡è®°è¿‡ç¨‹å°†è¢«å‡ºå‘ã€‚ RUBY_GC_MALLOC_LIMIT GC::stat æ•£åˆ—ä¸­ malloc_limit çš„æœ€å°å€¼ã€‚å¦‚æœ malloc_increase è¶…è¿‡äº† malloc_limit çš„å€¼ï¼Œé‚£ä¹ˆæ¬¡è¦æ¨¡å¼åƒåœ¾æ”¶é›†å™¨å°±ä¼šè¿è¡Œä¸€æ¬¡ã€‚è¯¥è®¾å®šç”¨äºç¡®ä¿ malloc_increase ä¸ä¼šå°äºç‰¹å®šå€¼ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯ 16 777 216ï¼ˆ16MBï¼‰ RUBY_GC_MALOC_LIMIT_MAX ä¸ RUBY_GC_MALLOC_LIMIT ç›¸åçš„å€¼ï¼Œè¿™ä¸ªè®¾å®šä¿è¯ malloc_limit ä¸ä¼šå˜å¾—å¤ªé«˜ã€‚å®ƒå¯ä»¥è¢«è®¾ç½®æˆ 0 æ¥å–æ¶ˆä¸Šé™ã€‚é»˜è®¤å€¼æ˜¯ 33 554 432ï¼ˆ32MBï¼‰ RUBY_GC_MALLOC_LIMIT_GROWTH_FACTOR æ§åˆ¶ malloc_limit å¦‚ä½•å¢é•¿çš„ä¹˜æ•°å› å­ã€‚æ–°çš„ malloc_limit å€¼ç”±å½“å‰ malloc_limit å€¼ä¹˜ä»¥è¿™ä¸ªå› å­æ¥è·å¾—ï¼Œé»˜è®¤å€¼ä¸º 1.4 RUBY_GC_OLDMALLOC_LIMIT å¹´è€ä»£å¯¹åº”çš„ RUBY_GC_MALLOC_LIMIT å€¼ã€‚é»˜è®¤å€¼æ˜¯ 16 777 216ï¼ˆ16MBï¼‰ RUBY_GC_OLDMALLOC_LIMIT_MAX å¹´è€ä»£å¯¹åº”çš„ RUBY_GC_MALLOC_LIMIT_MAX å€¼ã€‚é»˜è®¤å€¼æ˜¯ 134 217 728ï¼ˆ128MBï¼‰ RUBY_GC_OLDMALLOC_LIMIT_GROWTH_FACTOR å¹´è€ä»£å¯¹åº”çš„ RUBY_GC_MALLOC_LIMIT_GROWTH_FACTOR å€¼ã€‚é»˜è®¤å€¼æ˜¯ 1.2 ç¬¬ 45 æ¡ï¼šç”¨ Finalizer æ„å»ºèµ„æºå®‰å…¨ç½‘ æœ€å¥½ä½¿ç”¨ ensure å­å¥æ¥ä¿æŠ¤æœ‰é™çš„èµ„æºã€‚ å¦‚æœå¿…é¡»è¦åœ¨ ensure å­å¥å¤–æŠ¥å½•ä¸€ä¸ªèµ„æºï¼ˆresourceï¼‰ï¼Œé‚£ä¹ˆå°±ç»™å®ƒåˆ›å»ºä¸€ä¸ª finalizerï¼ˆç»ˆç»“æ–¹æ³•ï¼‰ æ°¸è¿œä¸è¦å†è¿™æ ·ä¸€ä¸ªç»‘å®šä¸­åˆ›å»º finalizer Procï¼Œè¯¥ç»‘å®šå¼•ç”¨äº†ä¸€ä¸ªæ³¨å®šä¼šè¢«é”€æ¯çš„å¯¹è±¡ï¼Œè¿™ä¼šé€ æˆåƒåœ¾æ”¶é›†å™¨æ— æ³•é‡Šæ”¾è¯¥å¯¹è±¡ è®°ä½ï¼Œfinalizer å¯èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡é”€æ¯åä»¥åŠç¨‹åºç»ˆæ­¢å‰çš„ä»»ä½•æ—¶é—´è¢«è°ƒç”¨ ç¬¬ 46 æ¡ï¼šè®¤è¯† Ruby æ€§èƒ½åˆ†æå·¥å…· åœ¨ä¿®æ”¹æ€§èƒ½å·®çš„ä»£ç ä¹‹å‰ï¼Œå…ˆä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·æ”¶é›†æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚ åœ¨ ruby-prof gem å’Œ Ruby è‡ªå¸¦çš„æ ‡å‡† profile åº“ä¹‹é—´ï¼Œé€‰æ‹©å‰è€…ï¼Œå› ä¸ºå‰è€…æ›´å¿«è€Œä¸”å¯ä»¥æä¾›å¤šç§ä¸åŒçš„æŠ¥å‘Šã€‚ å¦‚æœä½¿ç”¨ Ruby 2.1 æˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬ï¼Œåº”è¯¥è€ƒè™‘ä½¿ç”¨ stackprof gem å’Œ memory_profiler gemã€‚ ç¬¬ 47 æ¡ï¼šé¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨å¯¹è±¡å­—é¢é‡ å°†å¾ªç¯ä¸­çš„ä¸ä¼šå˜åŒ–çš„å¯¹è±¡å­—é¢é‡å˜æˆå¸¸é‡ã€‚ åœ¨ Ruby 2.1 åŠæ›´é«˜çš„ç‰ˆæœ¬ä¸­å†»ç»“å­—ç¬¦ä¸²å­—é¢é‡ï¼Œç›¸å½“äºæŠŠå®ƒä½œä¸ºå¸¸é‡ï¼Œå¯ä»¥è¢«æ•´ä¸ªè¿è¡Œç¨‹åºå…±äº«ã€‚ ç¬¬ 48 æ¡ï¼šè€ƒè™‘è®°å¿†åŒ–å¤§å¼€é”€è®¡ç®— è€ƒè™‘æä¾›ä¸€ä¸ªæ–¹æ³•é€šè¿‡å°†ç¼“å­˜çš„å˜é‡èŒä½ nil æ¥é‡ç½®è®°å¿†åŒ–ã€‚ ç¡®ä¿æ—¶é’Ÿè®¤çœŸè€ƒè™‘è¿‡è¿™äº›ç”±è®°å¿†åŒ–è€Œè·³è¿‡å‰¯ä½œç”¨æ‰€å¯¼è‡´çš„åæœã€‚ å¦‚æœä¸å¸Œæœ›è°ƒç”¨è€…ä¿®æ”¹ç¼“å­˜çš„å˜é‡ï¼Œé‚£åº”è¯¥è€ƒè™‘è®©è¢«è®°å¿†åŒ–çš„æ–¹æ³•è¿”å›å†»ç»“å¯¹è±¡ã€‚ å…ˆç”¨å·¥å…·åˆ†æç¨‹åºçš„æ€§èƒ½ï¼Œå†è€ƒè™‘æ˜¯å¦éœ€è¦è®°å¿†åŒ–ã€‚ æ€»ç»“å‘¨æœ«å­¦ä¹ äº†ä¸¤å¤©æ‰å‹‰å¼ºçœ‹å®Œäº†ä¸€éï¼Œå¯¹äº Ruby è¯­è¨€çš„æœ‰ä¸€äº›é«˜çº§ç‰¹æ€§è¿˜æ˜¯æ¯”è¾ƒåƒåŠ›çš„ï¼Œéœ€è¦è‡ªå·±ååå¤å¤çš„çœ‹æ‰èƒ½ç†è§£ä¸€äºŒã€‚ä¸è¿‡å¥½åœ¨ä¹Ÿæ˜¯æœ‰æ”¶è·å§ï¼Œæ²¡æœ‰ç™½è´¹è‡ªå·±çš„åŠªåŠ›ï¼Œç‰¹åœ°æ€»ç»“ä¸€ä¸ªç²¾ç®€ç‰ˆæ–¹ä¾¿åé¢çš„ç«¥é‹å­¦ä¹ ã€‚ å¦å¤–è¿™ç¯‡æ–‡ç« æœ€å¼€å§‹æ˜¯ä½¿ç”¨å…¬å¸çš„æ–‡æ¡£ç©ºé—´åˆ›å»ºçš„ï¼Œå‘ç° Markdown è™½ç„¶ç²¾ç®€æ˜“äºä½¿ç”¨ï¼Œä½†æ˜¯åŠŸèƒ½æ€§ä¸Šæ¯”ä¸€äº›æˆç†Ÿçš„å†™æ–‡å·¥å…·è¦å·®ä¸Šå¾ˆå¤šï¼Œå°±æ¯”å¦‚å¯¹ä»£ç çš„æ”¯æŒå§ï¼Œç”¨å…¬å¸çš„ä»£ç å—è¿˜æ”¯æŒè‡ªå®šä¹‰æ ‡é¢˜ã€æ˜¾ç¤ºè¡Œå·ã€æ˜¯å¦èƒ½ç¼©æ”¾ã€ä¸»é¢˜ç­‰ä¸€ç³»åˆ—è‡ªå®šä¹‰çš„ä¸œè¥¿ï¼Œå†™å‡ºæ¥çš„ä¸œè¥¿ä¹Ÿæ›´åŠ å‹å¥½â€¦ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/categories/Ruby/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/tags/Ruby/"},{"name":"ä»£ç è§„èŒƒ","slug":"ä»£ç è§„èŒƒ","permalink":"http://www.wmyskxz.com/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaè½¬Rubyã€å¿«é€Ÿå…¥é—¨ã€‘","slug":"Javaè½¬Rubyã€å¿«é€Ÿå…¥é—¨ã€‘","date":"2019-04-25T23:23:00.000Z","updated":"2020-08-03T09:15:27.017Z","comments":true,"path":"2019/04/26/java-zhuan-ruby-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2019/04/26/java-zhuan-ruby-kuai-su-ru-men/","excerpt":"","text":"æœ€è¿‘å‚åŠ å®ä¹ äº†ï¼Œå…¬å¸çš„æŠ€æœ¯æ ˆä¸­éœ€è¦ç”¨åˆ° Ruby ä»¥åŠ Rails æ¡†æ¶ï¼Œæ‰€ä»¥ç®—æ˜¯å¼€å§‹äº†è¸©å‘ä¹‹æ—…å§.. Ruby ç®€ä»‹ç½‘ä¸Šçš„ç®€ä»‹è¦æœéƒ½èƒ½æœåˆ°ï¼Œå…·ä½“æ¶‰åŠçš„åŒ…æ‹¬å†å²å•¦ä¹‹ç±»è¿™é‡Œä¸å†èµ˜è¿°ï¼Œæå‡ ä¸ªå…³é”®è¯å§ï¼š 1993 å¹´ç”±æ—¥æœ¬çš„æ¾æœ¬è¡Œå¼˜åˆ›å»º çº¯ç²¹é¢ç›¸å¯¹è±¡ç¼–ç¨‹/ è„šæœ¬è¯­è¨€/ è§£é‡Šå‹/ åŠ¨æ€ç±»å‹ å¯¹äºå‡†å¤‡è¿ˆå…¥ Ruby çš„ Java ç¨‹åºå‘˜æ¥è¯´ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦ç‰¹åˆ«çš„å»äº†è§£ä¸€ä¸‹ã€‚ çº¯ç²¹é¢ç›¸å¯¹è±¡å…¶å®ç»è¿‡è®ºè¯ï¼ŒJava åŒ Ruby ä¸€æ ·éƒ½æ˜¯çº¯ç²¹çš„é¢ç›¸å¯¹è±¡çš„è¯­è¨€ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€åŒ…å«æ‰€æœ‰çš„æ•°å­—ç­‰åœ¨å†…éƒ½æ˜¯å¯¹è±¡ï¼Œæ³¨æ„æ‰€æœ‰çš„éƒ½æ˜¯ã€‚ è„šæœ¬è¯­è¨€è¿™æ„å‘³ç€ä½ å†™çš„ç¨‹åºä¸ç”¨ç¼–è¯‘å°±èƒ½è¿è¡Œï¼Œç”šè‡³å®æ—¶ç”Ÿæ•ˆã€‚ è§£é‡Šå‹åŒ Java ä¸€æ ·ï¼ŒRuby æœ‰è‡ªå·±çš„è™šæ‹Ÿæœºï¼Œè¿è¡Œéœ€è¦ä¸€å®šçš„ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯ Ruby è§£é‡Šå™¨ï¼Œå®ƒä¼šè´Ÿè´£æŠŠ Ruby ç¿»è¯‘æˆåŠå…¶èƒ½å¤Ÿæ‰§è¡Œçš„ä»£ç ã€‚ åŠ¨æ€ç±»å‹Ruby ä¸­çš„æ•°æ®æ›´åƒæ˜¯ä¸€ç§ç¬¦å·ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸æ£€æŸ¥ç±»å‹ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„æ£€æŸ¥ã€‚ ä¸ºä»€ä¹ˆæ˜¯ Ruby ï¼Ÿ åŸå› å¾ˆç®€å•ï¼šé«˜æ•ˆ/ çµæ´»/ ä¼˜é›…/ ç®€å• å¦‚æœä½ å†ç¨å¾®èŠ±ä¸€äº›å¿ƒæ€æœç´¢ä¸€ä¸‹ Ruby on Rails è¿™ä¸ª Web å¼€å‘æ¡†æ¶ï¼Œå¹¶ä¸”æ‰“å¼€ä¸€äº›è¯¦ç»†è¯´æ˜äº†ä½“éªŒä¹‹åçš„æ–‡ç« æˆ–è€…æ˜¯å¤šå¹´ç»éªŒå¼€å‘è€…çš„åˆ†äº«ï¼Œä½ å¯èƒ½ä¼šå¯¹å®ƒäº§ç”Ÿä¸€äº›å…´è¶£ï¼Œè¿™ä¸€Partå°±ç•™ç€ä¹‹åä»‹ç»äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»¥åå­¦ä¹  RoR æ¡†æ¶åšå‡†å¤‡çš„ã€‚ æ€»ä¹‹æˆ‘ä»¬è¦æ˜ç¡®æˆ‘ä»¬ç›®çš„ï¼šçŸ¥é“æœ€åŸºæœ¬çš„è¯­æ³•ï¼Œç†è§£å…¶ä¸­çš„ä¸€äº›å…³é”®æ¦‚å¿µå³å¯ã€‚ Ruby åˆä½“éªŒMac OX ä¸­æœ‰é»˜è®¤çš„ Ruby ç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥æ¥ä¸€ä¸ªæœ€çŸ­çš„ â€œHello Worldâ€ ç¨‹åºï¼Œé¦–å…ˆåœ¨æ§åˆ¶å°ä¸­è¾“å…¥ irb å‘½ä»¤ï¼Œç„¶åè¾“å…¥ puts &quot;Hello World!&quot; å‘½ä»¤ï¼š irb irb(main):001:0> puts \"Hello World!\" Hello World! => nil ä½ å°±èƒ½çœ‹åˆ°ç´§è·Ÿç€ä½ çš„è¾“å…¥ä¼šæœ‰ä¸€ä¸ª Hello World! çš„è¾“å‡ºä»¥åŠä¸€ä¸ª nil ï¼ˆå¯¹åº” Java ä¸­çš„ nullï¼‰çš„è¿”å›ã€‚ å†æ¥ä¸€ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ï¼Œæˆ‘ä»¬è¿™ä¸€æ¬¡æ¥åˆ›å»ºä¸€ä¸ªæ•°ç»„ç„¶åå¾ªç¯è¾“å‡ºå®ƒï¼š irb(main):002:0> properties = ['name','age','sex'] => [\"name\", \"age\", \"sex\"] irb(main):003:0> properties => [\"name\", \"age\", \"sex\"] irb(main):005:0> properties.each {|property| puts \"This is #{property}.\"} This is name. This is age. This is sex. => [\"name\", \"age\", \"sex\"] ä¸çŸ¥é“æ„Ÿè§‰å¦‚ä½•ï¼Ÿè‡³å°‘æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„æ„Ÿå—åˆ°ï¼š ä¸ç”¨ç”Ÿå‘½å˜é‡ï¼Œç›´æ¥ = å°±å¥½ æ¯æ¡ Ruby ä»£ç éƒ½ä¼šè¿”å›æŸä¸ªå€¼ ä» Java åˆ° RubyJava éå¸¸æˆç†Ÿï¼Œå¹¶ä¸”é€šè¿‡ Spring çš„åŠ æŒå¾—åˆ°äº†è®¸å¤šä¼ä¸šçš„é’çï¼Œä½†æ˜¯ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ„Ÿå—åˆ°ä¸€ç‚¹ï¼šå®ƒæˆ–è®¸æœ‰äº›å•°å—¦â€¦ï¼ˆæˆ‘ä¹±è¯´çš„å•Šï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œåˆ«é—®æˆ‘å•Š..ï¼‰ä» Java åˆ° Ruby æ®è¯´å¯ä»¥é¢„è§æ€§çš„å°†ä»£ç çš„è§„æ¨¡é‡å¤§å¤§ç¼©å°ï¼Œå› æ­¤ä¹Ÿèƒ½ä½¿ç”¨æ›´å°‘çš„æ—¶é—´æ¥è¾“å‡ºäº§å“åŸå‹ã€‚ ç›¸ä¼¼ç‚¹Ruby ä¸ Java æœ‰ä¸€äº›ç›¸ä¼¼çš„åœ°æ–¹â€¦ åƒåœ¾å›æ”¶å™¨å¸®ä½ ç®¡ç†å†…å­˜ã€‚ å¼ºç±»å‹å¯¹è±¡ã€‚ æœ‰ publicã€ private å’Œ protected æ–¹æ³•ã€‚ æ‹¥æœ‰åµŒå…¥å¼æ–‡æ¡£å·¥å…·ï¼ˆRuby çš„å·¥å…·å« rdocï¼‰ã€‚rdoc ç”Ÿæˆçš„æ–‡æ¡£ä¸ javadoc éå¸¸ç›¸ä¼¼ã€‚ ä¸åŒç‚¹Ruby ä¸ Java ä¸åŒçš„åœ°æ–¹â€¦ ä½ ä¸éœ€è¦ç¼–è¯‘ä½ çš„ä»£ç ã€‚ä½ åªéœ€è¦ç›´æ¥è¿è¡Œå®ƒã€‚ æœ‰å‡ ä¸ªä¸åŒçš„æµè¡Œçš„ç¬¬ä¸‰æ–¹GUIå·¥å…·åŒ…ã€‚Ruby ç”¨æˆ·å¯ä»¥å°è¯• WxRubyã€ FXRubyã€ Ruby-GNOME2ã€ Qt æˆ– Ruby å†…ç½®çš„ Tkã€‚ å®šä¹‰åƒç±»è¿™æ ·çš„ä¸œè¥¿æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ end å…³é”®å­—ï¼Œè€Œä¸ä½¿ç”¨èŠ±æ‹¬å·åŒ…è£¹ä»£ç å—ã€‚ ä½¿ç”¨ require ä»£æ›¿ importã€‚ æ‰€æœ‰æˆå‘˜å˜é‡ä¸ºç§æœ‰ã€‚åœ¨å¤–éƒ¨ï¼Œä½¿ç”¨æ–¹æ³•è·å–æ‰€æœ‰ä½ éœ€è¦çš„ä¸€åˆ‡ã€‚ æ–¹æ³•è°ƒç”¨çš„æ‹¬å·é€šå¸¸æ˜¯å¯é€‰çš„ï¼Œç»å¸¸è¢«çœç•¥ã€‚ ä¸€åˆ‡çš†å¯¹è±¡ï¼ŒåŒ…æ‹¬åƒ 2 å’Œ 3.14159 è¿™æ ·çš„æ•°å­—ã€‚ æ²¡æœ‰é™æ€ç±»å‹æ£€æŸ¥ã€‚ å˜é‡ååªæ˜¯æ ‡ç­¾ã€‚å®ƒä»¬æ²¡æœ‰ç›¸åº”çš„ç±»å‹ã€‚ æ²¡æœ‰ç±»å‹å£°æ˜ã€‚æŒ‰éœ€åˆ†é…å˜é‡åï¼ŒåŠæ—¶å¯ç”¨ï¼ˆå¦‚ï¼ša = [1,2,3] è€Œä¸æ˜¯ int[] a = {1,2,3};ï¼‰ã€‚ æ²¡æœ‰æ˜¾å¼è½¬æ¢ã€‚åªéœ€è¦è°ƒç”¨æ–¹æ³•ã€‚ä»£ç è¿è¡Œä¹‹å‰ï¼Œå•å…ƒæµ‹è¯•åº”è¯¥å‘Šè¯‰ä½ å‡ºç°å¼‚å¸¸ã€‚ ä½¿ç”¨ foo = Foo.new(&quot;hi&quot;) åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œé Foo foo = new Foo(&quot;hi&quot;)ã€‚ æ„é€ å™¨æ€»æ˜¯å‘½åä¸ºâ€œinitializeâ€ è€Œä¸æ˜¯ç±»åç§°ã€‚ ä½œä¸ºæ¥å£çš„æ›¿ä»£ï¼Œä½ å°†è·å¾—â€œæ··å…¥ï¼ˆmixinsï¼‰â€ã€‚ ç›¸æ¯” XMLï¼Œå€¾å‘äºä½¿ç”¨ YAMLã€‚ nil æ›¿ä»£ nullã€‚ Ruby å¯¹ == å’Œ equals() çš„å¤„ç†æ–¹å¼ä¸ Java ä¸ä¸€æ ·ã€‚æµ‹è¯•ç›¸ç­‰æ€§ä½¿ç”¨ ==ï¼ˆJava ä¸­æ˜¯ equals()ï¼‰ã€‚æµ‹è¯•æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ä½¿ç”¨ equals?()ï¼ˆJava ä¸­æ˜¯ ==ï¼‰ã€‚ ä»¥ä¸Šçš„ç›¸åŒä¸ä¸åŒæ¥è‡ªï¼šhttps://www.ruby-lang.org/zh_cn/documentation/ruby-from-other-languages/to-ruby-from-java/å»¶ä¼¸é˜…è¯»ï¼šhttps://gquintana.github.io/2017/01/08/From-Java-to-Ruby.html Ruby åŸºç¡€åœ¨å¤§è‡´äº†è§£äº† Ruby ä¸€äº›åŸºç¡€ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹ Ruby åŸºç¡€è¯­æ³•çš„å­¦ä¹ ï¼Œè™½ç„¶é¢å¯¹ä¸€é—¨æ–°çš„è¯­è¨€ï¼Œè¯­æ³•å•Šç‰¹æ€§å•Šä¹‹ç±»çš„äº†è§£å¾ˆæœ‰å¿…è¦ï¼Œä½†è¿˜æ˜¯æƒ³åœ¨äº†è§£ä¹‹å‰çœ‹ä¸€çœ‹ Ruby çš„ä¸€äº›ä»£ç è§„èŒƒï¼Œå¥½è®©è‡ªå·±èƒ½å¿«é€Ÿäº†è§£ Ruby çš„åŸºç¡€ä¸Šè¿˜èƒ½å…»æˆä¸€ä¸ªè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚ å­¦ä¹ ä¹‹å‰å¿…å¤‡ - ä»£ç è§„èŒƒæˆ–è®¸æœ‰äº›è¯­å¥è¿˜ä¸èƒ½ç†è§£ï¼Œæ²¡å…³ç³»ï¼Œæœ‰ä¸€ä¸ªåŸºç¡€å°è±¡å°±å¥½ã€‚ ä¸€èˆ¬æ¥è®²ï¼ŒRuby ä¸­çš„å˜é‡åå’Œæ–¹æ³•åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•(å°å†™å­—æ¯ + _)ï¼Œç±»åå’Œæ¨¡å—åä½¿ç”¨ Java ç±»ä¼¼çš„é©¼å³°å‘½åæ³• æ¯ä¸ªç¼©è¿›çº§åˆ«ä½¿ç”¨ä¸¤ä¸ª spaceï¼ˆåˆåè½¯ tabsï¼‰ï¼Œä¸è¦ä½¿ç”¨ç¡¬ tabs # bad - four spaces def some_method do_something end # good def some_method do_something end ä¸ç”¨ä½¿ç”¨ ; æ¥åˆ†å‰²è¯­å¥å’Œè¡¨è¾¾å¼ã€‚ä»¥æ­¤æ¨è®º - ä¸€è¡Œä½¿ç”¨ä¸€ä¸ªè¡¨è¾¾å¼ # bad puts 'foobar'; # superfluous semicolon puts 'foo'; puts 'bar' # two expression on the same line # good puts 'foobar' puts 'foo' puts 'bar' puts 'foo', 'bar' # this applies to puts in particular é¿å…å•è¡Œæ–¹æ³•ã€‚å³ä¾¿è¿˜æ˜¯ä¼šå—åˆ°ä¸€äº›äººçš„æ¬¢è¿ï¼Œè¿™é‡Œè¿˜æ˜¯ä¼šæœ‰ä¸€äº›å¤æ€ªçš„è¯­æ³•ç”¨èµ·æ¥å¾ˆå®¹æ˜“çŠ¯é”™. æ— è®ºå¦‚ä½• - åº”è¯¥ä¸€è¡Œä¸è¶…è¿‡ä¸€ä¸ªå•è¡Œæ–¹æ³•. # bad def too_much; something; something_else; end # okish - notice that the first ; is required def no_braces_method; body end # okish - notice that the second ; is optional def no_braces_method; body; end # okish - valid syntax, but no ; make it kind of hard to read def some_method() body end # good def some_method body end ç©ºæ–¹æ³•æ˜¯è¿™ä¸ªè§„åˆ™çš„ä¾‹å¤–ã€‚ # good def no_op; end å½“èµ‹å€¼ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼çš„ç»“æœç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œä¿æŒåˆ†æ”¯çš„ç¼©æ’åœ¨åŒä¸€å±‚ã€‚ # bad - pretty convoluted kind = case year when 1850..1889 then 'Blues' when 1890..1909 then 'Ragtime' when 1910..1929 then 'New Orleans Jazz' when 1930..1939 then 'Swing' when 1940..1950 then 'Bebop' else 'Jazz' end result = if some_cond calc_something else calc_something_else end # good - it's apparent what's going on kind = case year when 1850..1889 then 'Blues' when 1890..1909 then 'Ragtime' when 1910..1929 then 'New Orleans Jazz' when 1930..1939 then 'Swing' when 1940..1950 then 'Bebop' else 'Jazz' end result = if some_cond calc_something else calc_something_else end # good (and a bit more width efficient) kind = case year when 1850..1889 then 'Blues' when 1890..1909 then 'Ragtime' when 1910..1929 then 'New Orleans Jazz' when 1930..1939 then 'Swing' when 1940..1950 then 'Bebop' else 'Jazz' end result = if some_cond calc_something else calc_something_else end åœ¨æ–¹æ³•å®šä¹‰ä¹‹é—´ä½¿ç”¨ç©ºè¡Œå¹¶ä¸”ä¸€ä¸ªæ–¹æ³•æ ¹æ®é€»è¾‘æ®µæ¥éš”å¼€ã€‚ def some_method data = initialize(options) data.manipulate! data.result end def some_methods result end ä¸è¦ä½¿ç”¨åŒºå—æ³¨é‡Šã€‚å®ƒä»¬ä¸èƒ½ç”±ç©ºç™½å¼•å¯¼ï¼ˆ=begin å¿…é¡»é¡¶å¤´å¼€å§‹ï¼‰ï¼Œå¹¶ä¸”ä¸å¦‚æ™®é€šæ³¨é‡Šå®¹æ˜“è¾¨è®¤ã€‚ # bad == begin comment line another comment line == end # good # comment line # another comment line ä½¿ç”¨æ‹¬å·å°†defçš„å‚æ•°æ‹¬èµ·æ¥ã€‚å½“æ–¹æ³•ä¸æ¥æ”¶ä»»ä½•å‚æ•°çš„æ—¶å€™å¿½ç•¥æ‹¬å·ã€‚# bad def some_method() # body omitted end gooddef some_method body omittedend baddef some_method_with_arguments arg1, arg2 body omittedend gooddef some_method_with_arguments(arg1, arg2) body omittedend - ä»æ¥ä¸è¦ä½¿ç”¨ `for`ï¼Œ é™¤éä½ çŸ¥é“ä½¿ç”¨å®ƒçš„å‡†ç¡®åŸå› ã€‚å¤§å¤šæ•°æ—¶å€™è¿­ä»£å™¨éƒ½å¯ä»¥ç”¨æ¥æ›¿ `for`ã€‚`for` æ˜¯ç”±ä¸€ç»„ `each` å®ç°çš„ (å› æ­¤ä½ æ­£é—´æ¥æ·»åŠ äº†ä¸€çº§)ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå°é“é“ - `for` å¹¶ä¸åŒ…å«ä¸€ä¸ªæ–°çš„ scope (ä¸åƒ `each`)å¹¶ä¸”åœ¨å®ƒçš„å—ä¸­å®šä¹‰çš„å˜é‡åœ¨å¤–é¢ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ã€‚ï¼ˆè¿™é‡Œæœ‰äº›åƒ Java ä¸­ä¸ç”¨ for-each è¯­å¥ç±»ä¼¼ï¼Œæ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥å»æœä¸€æœï¼‰ ```ruby arr = [1, 2, 3] # bad for elem in arr do puts elem end # note that elem is accessible outside of the for loop elem #=&gt; 3 # good arr.each { |elem| puts elem } # elem is not accessible outside each&#39;s block elem #=&gt; NameError: undefined local variable or method `elem&#39; åˆ©ç”¨ if and case æ˜¯è¡¨è¾¾å¼è¿™æ ·çš„äº‹å®å®ƒä»¬è¿”å›ä¸€ä¸ªç»“æœã€‚ # bad if condition result = x else result = y end # good result = if condition x else y end å¸ƒå°”è¡¨è¾¾å¼ä½¿ç”¨&amp;&amp;/||, and/orç”¨äºæ§åˆ¶æµç¨‹ã€‚ï¼ˆç»éªŒRule:å¦‚æœä½ å¿…é¡»ä½¿ç”¨é¢å¤–çš„æ‹¬å·ï¼ˆè¡¨è¾¾é€»è¾‘ï¼‰ï¼Œé‚£ä¹ˆä½ æ­£åœ¨ä½¿ç”¨é”™è¯¯çš„çš„æ“ä½œç¬¦ã€‚ï¼‰ # boolean expression if some_condition &amp;&amp; some_other_condition do_something end # control flow document.save? or document.save! æ°¸è¿œä¸è¦ä½¿ç”¨ unless å’Œ else ç»„åˆã€‚å°†å®ƒä»¬æ”¹å†™æˆè‚¯å®šæ¡ä»¶ã€‚ # bad unless success? puts 'failure' else puts 'success' end # good if success? puts 'success' else puts 'failure' end ä¸ç”¨ä½¿ç”¨æ‹¬å·åŒ…å« if/unless/while çš„æ¡ä»¶ã€‚ # bad if (x > 10) # body omitted end # good if x > 10 # body omitted end å€¾å‘ä½¿ç”¨ moduleï¼Œè€Œä¸æ˜¯åªæœ‰ç±»æ–¹æ³•çš„ classã€‚ç±»åˆ«åº”è¯¥åªåœ¨åˆ›å»ºå®ä¾‹æ˜¯åˆç†çš„æ—¶å€™ä½¿ç”¨ã€‚ # bad class SomeClass def self.some_method # body omitted end def self.some_other_method end end # good module SomeClass module_function def some_method # body omitted end def some_other_method end end å½“ä½ å¸Œæœ›å°†æ¨¡å—çš„å®ä¾‹æ–¹æ³•å˜æˆ class æ–¹æ³•æ—¶ï¼Œåçˆ±ä½¿ç”¨ module_function èƒœè¿‡ extend selfã€‚ module Utilities extend self def parse_something(string) # do stuff here end def other_utility_method(number, string) # do some more stuff end end # good module Utilities module_function def parse_something(string) # do stuff here end def other_utility_method(number, string) # do some more stuff end end æ€»æ˜¯ä¸ºä½ è‡ªå·±çš„ç±»æä¾› to_s æ–¹æ³•, ç”¨æ¥è¡¨ç°è¿™ä¸ªç±»ï¼ˆå®ä¾‹ï¼‰å¯¹è±¡åŒ…å«çš„å¯¹è±¡. class Person attr_reader :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end def to_s \"#@first_name #@last_name\" end end è€ƒè™‘ä½¿ç”¨ Struct.new, å®ƒå¯ä»¥å®šä¹‰ä¸€äº›çç¢çš„ accessors, constructorï¼ˆæ„é€ å‡½æ•°ï¼‰ å’Œ comparisonï¼ˆæ¯”è¾ƒï¼‰ æ“ä½œã€‚ # good class Person attr_reader :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end end # better class Person &lt; Struct.new(:first_name, :last_name) end è€ƒè™‘ä½¿ç”¨ Struct.newï¼Œå®ƒæ›¿ä½ å®šä¹‰äº†é‚£äº›çç¢çš„å­˜å–å™¨ï¼ˆaccessorsï¼‰ï¼Œæ„é€ å™¨ï¼ˆconstructorï¼‰ä»¥åŠæ¯”è¾ƒæ“ä½œç¬¦ï¼ˆcomparison operatorsï¼‰ã€‚ # good class Person attr_accessor :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end end # better Person = Struct.new(:first_name, :last_name) do end ä¸è¦å» extend ä¸€ä¸ª Struct.new - å®ƒå·²ç»æ˜¯ä¸€ä¸ªæ–°çš„ classã€‚æ‰©å±•å®ƒä¼šäº§ç”Ÿä¸€ä¸ªå¤šä½™çš„ class å±‚çº§ å¹¶ä¸”å¯èƒ½ä¼šäº§ç”Ÿæ€ªå¼‚çš„é”™è¯¯å¦‚æœæ–‡ä»¶è¢«åŠ è½½å¤šæ¬¡ã€‚ é¸­å­ç±»å‹ï¼ˆduck-typingï¼‰ä¼˜äºç»§æ‰¿ã€‚ # bad class Animal # abstract method def speak end end # extend superclass class Duck &lt; Animal def speak puts 'Quack! Quack' end end # extend superclass class Dog &lt; Animal def speak puts 'Bau! Bau!' end end # good class Duck def speak puts 'Quack! Quack' end end class Dog def speak puts 'Bau! Bau!' end end å½“è®¿é—®ä¸€ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆ–è€…æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå€¾å‘ä½¿ç”¨ first æˆ– last è€Œä¸æ˜¯ [0] æˆ– [-1]ã€‚ ä¼˜å…ˆä½¿ç”¨ å­—ç¬¦ä¸²æ’å€¼ æ¥ä»£æ›¿ å­—ç¬¦ä¸²ä¸²è”ã€‚ # bad email_with_name = user.name + ' &lt;' + user.email + '>' # good email_with_name = \"#{user.name} &lt;#{user.email}>\" # good email_with_name = format('%s &lt;%s>', user.name, user.email) åœ¨å¯¹è±¡æ’å€¼çš„æ—¶å€™ä¸è¦ä½¿ç”¨ Object#to_sï¼Œå®ƒå°†ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚ æ“ä½œè¾ƒå¤§çš„å­—ç¬¦ä¸²æ—¶, é¿å…ä½¿ç”¨ String#+ åšä¸ºæ›¿ä»£ä½¿ç”¨ String#&lt;&lt;ã€‚å°±åœ°çº§è”å­—ç¬¦ä¸²å—æ€»æ˜¯æ¯” String#+ æ›´å¿«ï¼Œå®ƒåˆ›å»ºäº†å¤šä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚ # good and also fast html = '' html &lt;&lt; '&lt;h1>Page title&lt;/h1>' paragraphs.each do |paragraph| html &lt;&lt; \"&lt;p>#{paragraph}&lt;/p>\" end RuboCopRuboCop æ˜¯ä¸€ä¸ªåŸºäºæœ¬æŒ‡å—çš„ Ruby ä»£ç é£æ ¼æ£€æŸ¥å·¥å…·ã€‚ RuboCop æ¶µç›–äº†æœ¬æŒ‡å—ç›¸å½“å¤§çš„éƒ¨åˆ†ï¼Œæ”¯æŒ MRI 1.9 å’Œ MRI 2.0ï¼Œè€Œä¸”ä¸ Emacs æ•´åˆè‰¯å¥½ã€‚ RubyMineRubyMine çš„ä»£ç æ£€æŸ¥æ˜¯ éƒ¨åˆ†åŸºäº æœ¬æŒ‡å—çš„ã€‚ åŸºäºä¸‹é¢é“¾æ¥ç®€åŒ–äº†å¤§éƒ¨åˆ†ï¼Œå› ä¸ºæœ‰ä¸€äº›ç¼–ç é£æ ¼èƒ½ä» Java è‡ªç„¶çš„åˆ‡æ¢è¿‡æ¥ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åº”çš„å·¥å…·æ¥æ£€æŸ¥æˆ‘ä»¬çš„ä»£ç ï¼Œæ›´å¤šå¯ä»¥çœ‹è¿™é‡Œï¼šhttps://ruby-china.org/wiki/coding-style Ruby è¯­è¨€åŸºç¡€å…¶å®é€šè¿‡ä¸Šé¢çš„è¯­æ³•è§„èŒƒï¼Œæˆ‘ä»¬æˆ–å¤šæˆ–å°‘èƒ½æ„ŸçŸ¥åˆ°ä¸€äº› Ruby çš„è¯­æ³•ï¼Œæœ‰ä¸€äº›ç»†èŠ‚çš„åœ°æ–¹å¯ä»¥è‡ªè¡Œå»èœé¸Ÿæ•™ç¨‹orå…¶ä»–ç½‘ç«™èƒ½çœ‹åˆ°ï¼Œä¸‹é¢æˆ‘ä»¬å°±ç€ä¸€äº›é‡è¦çš„ä¸œè¥¿å¿«é€Ÿçš„å­¦ä¹ ä¸€éå§.. æ•°æ®ç±»å‹Ruby ä¸­æœ‰ä»¥ä¸‹å‡ ç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼š æ•°å­—/ å­—ç¬¦ä¸²/ ç¬¦å·/ å“ˆå¸Œ/ æ•°ç»„/ å¸ƒå°”æ¯”è¾ƒåœ¨æ„çš„æ˜¯ Ruby å¹¶æ²¡æœ‰ Java ä¸­çš„æšä¸¾ç±»å‹ï¼Œå¯èƒ½æ˜¯å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘å§..ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“â€¦ï¼‰ ç¬¦å·å°±åƒå­—ç¬¦ä¸²ã€‚ä¸€ä¸ªç¬¦å·ä¹‹å‰æ˜¯å†’å·ï¼ˆ:ï¼‰ã€‚ä¾‹å¦‚ï¼š :abcd å®ƒä»¬ä¸åŒ…å«ç©ºæ ¼ã€‚ å«æœ‰å¤šä¸ªå•è¯çš„ç¬¦å·ç”¨(_)å†™æˆã€‚ å­—ç¬¦ä¸²å’Œç¬¦å·ä¹‹é—´çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå¦‚æœæ–‡æœ¬æ˜¯ä¸€ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†å¦‚æœå®ƒæ˜¯ä¸€ä¸ªä»£ç ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¬¦å·ã€‚ ç¬¦å·æ˜¯å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºé™æ€å€¼ï¼Œè€Œå­—ç¬¦ä¸²è¡¨ç¤ºæ›´æ”¹çš„å€¼ã€‚ ç¤ºä¾‹ï¼š irb(main):011:0> \"string\".object_id => 26922000 irb(main):012:0> \"string\".object_id => 29115220 irb(main):013:0> :symbol.object_id => 788188 irb(main):014:0> :symbol.object_id => 788188 å“ˆå¸Œå°†å…¶å€¼åˆ†é…ç»™å…¶é”®ã€‚ å®ƒä»¬å¯ä»¥ç”¨é”®å…³è”æŒ‡å®šå€¼ã€‚é”®çš„å€¼ç”± =&gt; ç¬¦å·åˆ†é…ã€‚ é”®/å€¼å¯¹ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ‰€æœ‰å¯¹éƒ½ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥ã€‚ ä¾‹å¦‚ï¼š {\"key1\" => \"value1\", \"key2\" => \"Chemistry\", \"key3\" => \"Maths\"} ç¤ºä¾‹ï¼š data = {\"key1\" => \"Physics\", \"key2\" => \"Chemistry\", \"key3\" => \"Maths\"} puts data[\"key1\"] puts data[\"key2\"] puts data[\"key3\"] æ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š Physics Chemistry Maths å˜é‡Ruby æœ‰å››ç§ç±»å‹çš„å˜é‡ï¼Œå˜é‡çš„å‘½åæ–¹å¼å†³å®šäº†å˜é‡çš„ç§ç±»ï¼š å±€éƒ¨å˜é‡ä»¥è‹±æ–‡å°å†™å­—æ¯æˆ–è€… _ å¼€å¤´ï¼Œä½œç”¨åŸŸç­‰åŒäº Java å±€éƒ¨å˜é‡ã€‚ å…¨å±€å˜é‡ä»¥ $ å¼€å¤´ï¼Œä½œç”¨åŸŸç­‰åŒäº Java å…¨å±€å˜é‡ã€‚åªè¦å…¨å±€å˜é‡çš„åç§°ç›¸åŒï¼Œä¸ç®¡å˜é‡åœ¨ç¨‹åºçš„å“ªä¸ªéƒ¨åˆ†ä½¿ç”¨ï¼Œç¨‹åºéƒ½è®¤ä¸ºæ˜¯å®ƒä»¬æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡çš„å€¼ä¼šè¢«åˆå§‹åŒ–ä¸ºï¼šnilã€‚å»ºè®®ä¸è¦ä½¿ç”¨å…¨å±€å˜é‡ï¼Œå› ä¸ºå®ƒä»¬ä½¿ç¨‹åºå˜å¾—ç§˜å¯†å’Œå¤æ‚ã€‚ ç¤ºä¾‹ï¼š $global_var = \"GLOBAL\" class One def display puts \"Global variable in One is #$global_var\" end end class Two def display puts \"Global variable in Two is #$global_var\" end end oneobj = One.new oneobj.display twoobj = Two.new twoobj.display æ‰§è¡Œä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š Total number of states written: 4 Total number of states written: 4 Total number of states written: 4 Total number of states written: 4 å®ä¾‹å˜é‡ä»¥ @ å¼€å¤´ï¼Œåœ¨åŒä¸€ä¸ªå®ä¾‹ä¸­ï¼Œç¨‹åºå¯ä»¥è¶…è¶Šæ–¹æ³•å®šä¹‰ï¼Œä»»æ„å¼•ç”¨ã€ä¿®æ”¹å®ä¾‹å˜é‡ã€‚å®ƒå±äºç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥ä»æ–¹æ³•ä¸­çš„ç±»çš„ä»»ä½•å®ä¾‹è®¿é—®ã€‚ å®ƒä»¬åªèƒ½è®¿é—®ä¸€ä¸ªç‰¹å®šçš„ç±»çš„å®ä¾‹ã€‚å®ƒä»¬ä¸éœ€è¦åˆå§‹åŒ–ï¼Œæœªåˆå§‹åŒ–çš„å®ä¾‹å˜é‡çš„å€¼æ˜¯ï¼šnil ã€‚ ç¤ºä¾‹ï¼š class States def initialize(name) @states_name=name end def display() puts \"States name #@states_name\" end end # Create Objects first=States.new(\"Hainan\") second=States.new(\"GuangDong\") third=States.new(\"Beijing\") fourth=States.new(\"ShangDong\") # Call Methods first.display() second.display() third.display() fourth.display() æ‰§è¡Œä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š States name GuangDong States name Beijing States name ShangDong ç±»å˜é‡ä»¥ @@ å¼€å¤´ï¼Œä½œç”¨åŸŸä¸ºè¯¥ç±»çš„æ‰€æœ‰å®ä¾‹ã€‚éœ€è¦åœ¨ä½¿ç”¨å‰è¿›è¡Œåˆå§‹åŒ–ï¼Œç”±ç±»çš„æ‰€æœ‰åä»£å…±äº«ï¼Œæœªåˆå§‹åŒ–çš„å˜é‡å°†å¯¼è‡´é”™è¯¯ã€‚ ç¤ºä¾‹ï¼š class States @@no_of_states=0 def initialize(name) @states_name=name @@no_of_states += 1 end def display() puts \"State name #@state_name\" end def total_no_of_states() puts \"Total number of states written: #@@no_of_states\" end end # Create Objects first=States.new(\"Assam\") second=States.new(\"Meghalaya\") third=States.new(\"Maharashtra\") fourth=States.new(\"Pondicherry\") # Call Methods first.total_no_of_states() second.total_no_of_states() third.total_no_of_states() fourth.total_no_of_states() æ‰§è¡Œä¸Šé¢ä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š Total number of states written: 4 Total number of states written: 4 Total number of states written: 4 Total number of states written: 4 ç±»å’Œå¯¹è±¡Object ç±»æ˜¯æ‰€æœ‰ Ruby å¯¹è±¡çš„é»˜è®¤æ ¹ã€‚ Ruby å¯¹è±¡ç»§æ‰¿è‡ª BasicObject(å®ƒæ˜¯Rubyä¸­æ‰€æœ‰ç±»çš„çˆ¶ç±»)ç±»ï¼Œå…è®¸åˆ›å»ºæ›¿ä»£å¯¹è±¡å±‚æ¬¡ç»“æ„ã€‚ é¦–å…ˆä¸ Java å¾ˆä¸åŒçš„æ˜¯åˆ›å»ºå¯¹è±¡ï¼š Object newObject = new Object(); // Java ä¸­æ–°å»ºå¯¹è±¡ å¯¹æ¯” Rubyï¼š objectName = className.new æ¯ä¸ª Ruby ç±»éƒ½æ˜¯ Class ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚é€šå¸¸å¯¹äºç±»åï¼Œä½¿ç”¨é©¼å³°å‘½åè§„åˆ™ï¼Œç±»çš„åç§°å§‹ç»ˆä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚å®šä¹‰ç±»æ˜¯ç”¨ end å…³é”®å­—å®Œæˆçš„ã€‚ è¯­æ³• class ClassName codes... end æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢å­¦ä¹ è¿‡çš„è¯­æ³•è§„èŒƒæ¥åˆ›å»ºä¸€ä¸ª Person ç±»ï¼ˆå†™ä¸Š to_s æ–¹æ³•ï¼‰ï¼š class Person attr_reader :first_name, :last_name def initialize(first_name, last_name) @first_name = first_name @last_name = last_name end def to_s \"#@first_name #@last_name\" end end æ³¨æ„è¿™é‡Œçš„ attr_reader å¯¹åº”åœ¨ Java ä¸­ç›¸å½“äºä¸º first_name å’Œ last_name å®šä¹‰äº† getter ï¼Œåœ¨ Ruby ä¸­ï¼Œä»å¯¹è±¡å¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®å®ä¾‹å˜é‡æˆ–å¯¹å®ä¾‹å˜é‡èµ‹å€¼ï¼Œéœ€è¦é€šè¿‡æ–¹æ³•æ¥è®¿é—®å¯¹è±¡çš„å†…éƒ¨ï¼Œå¦‚æœåƒ Java é‚£æ ·ä¸€éä¸€éä¸ºæ¯ä¸€ä¸ªå˜é‡å†™ getter/setter å°±æœ‰äº›å†—æ‚äº†ï¼ŒRuby ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„å­˜å–å™¨ã€‚ å®šä¹‰ æ„ä¹‰ attr_reader :name åªè¯»ï¼ˆå®šä¹‰ name æ–¹æ³•ï¼‰ attr_writer :name åªå†™ï¼ˆå®šä¹‰ name= æ–¹æ³•ï¼‰ attr_accessor :name è¯»å†™ï¼ˆå®šä¹‰ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ï¼‰ å¦å¤–ä¸€ç‚¹ä¸Šé¢æœ‰ä¸€ä¸ªéå¸¸æœ‰è¶£çš„è§„èŒƒæ˜¯ä½¿ç”¨ Struct.new æ¥ç®€åŒ–ä»£ç ï¼Œæˆ‘è§‰å¾—å¾ˆé…·ä¹Ÿæƒ³æŠŠå®ƒåº”ç”¨åœ¨ä¸Šè¿° Person ç±»çš„åˆ›å»ºä¸­ï¼Œä½†æ˜¯å‘ç°å¤±è´¥äº†ï¼ˆä¸èƒ½åœ¨å…¶ä¸­å®šä¹‰å…¶ä»–åŠŸèƒ½æ€§çš„ä»£ç ï¼‰ï¼Œæ‰€ä»¥å¯èƒ½ç»“è®ºæ˜¯ï¼šè¿™æ ·çš„ç®€åŒ–åªé€‚ç”¨äºä¸€äº›å®ä½“ç±»ä¿å­˜æ•°æ®çš„ç±»å§ã€‚ æ–¹æ³•Ruby æ–¹æ³•ä½¿ç”¨ def å…³é”®å­—å¼€å§‹ï¼Œæœ€åè¿˜éœ€è¦ä½¿ç”¨ end å…³é”®å­—æ¥è¡¨ç¤ºæ–¹æ³•å®šä¹‰ç»“æŸã€‚ è¯­æ³•ï¼š def methodName code... end ç¤ºä¾‹ï¼š def method_defining(a1 = \"Ruby\", a2 = \"Python\") puts \"The programming language is #{a1}\" puts \"The programming language is #{a2}\" end method_defining \"C\", \"C++\" method_defining è¿è¡Œä¸Šé¢çš„ä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š The programming language is C The programming language is C++ The programming language is Ruby The programming language is Python æ–¹æ³•è¿”å›å€¼ï¼š åœ¨åˆæ¢ Ruby çš„æ—¶å€™æˆ‘ä»¬å°±æ„Ÿå—åˆ°ï¼Œè²Œä¼¼æ¯ä¸€æ¡æŒ‡ä»¤éƒ½ä¼šè¿”å›ä¸€ä¸ªè¿”å›å€¼ï¼Œæ–¹æ³•ä¹Ÿæ˜¯è¿™æ ·ï¼Œåœ¨ Ruby ä¸­æ¯ä¸ªæ–¹æ³•éƒ½æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿™ä¸ªè¿”å›çš„å€¼å°†æ˜¯æœ€åä¸€ä¸ªè¯­å¥çš„å€¼ã€‚ä¾‹å¦‚ï¼š def my_method i = 100 j = 10 k = 1 end ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åæ–¹æ³•çš„è¿”å›å€¼æ˜¯ 1ã€‚ Ruby return è¯­å¥ Ruby ä¸­çš„ return è¯­å¥ç”¨äºä» Ruby æ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ ç¤ºä¾‹ï¼š def method i = 100 j = 200 k = 300 return i, j, k end var = method puts var ä¸Šé¢ä»£ç ç»“æœå¦‚ä¸‹ï¼š 100 200 300 å¯å˜å‚æ•°ï¼š å‡è®¾å£°æ˜ä¸€ä¸ªæ–¹æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œæ¯å½“è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼ŒRubyå…è®¸æ‚¨å£°æ˜ä½¿ç”¨å¯å˜æ•°é‡å‚æ•°çš„æ–¹æ³•ã€‚ è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç¤ºä¾‹ï¼š def sample (*test) puts \"The number of parameters is #{test.length}\" for i in 0...test.length puts \"The parameters are #{test[i]}\" end end sample \"Maxsu\", \"6\", \"F\" sample \"Mac\", \"38\", \"M\", \"MCA\" æ‰§è¡Œä¸Šé¢ä»£ç ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š The number of parameters is 3 The parameters are Maxsu The parameters are 6 The parameters are F The number of parameters is 4 The parameters are Mac The parameters are 38 The parameters are M The parameters are MCA ç±»æ–¹æ³•ï¼š å½“æ–¹æ³•åœ¨ç±»å®šä¹‰ä¹‹å¤–å®šä¹‰æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•è¢«æ ‡è®°ä¸º privateã€‚ å¦ä¸€æ–¹é¢ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç±»å®šä¹‰ä¸­å®šä¹‰çš„æ–¹æ³•è¢«æ ‡è®°ä¸º publicã€‚æ¨¡å—çš„é»˜è®¤å¯è§æ€§å’Œ private æ ‡è®°å¯ä»¥é€šè¿‡æ¨¡å—çš„ public æˆ– private æ›´æ”¹ã€‚ Ruby ç»™å‡ºä¸€ç§ä¸ç”¨å®ä¾‹åŒ–ä¸€ä¸ªç±»å°±å¯ä»¥è®¿é—®ä¸€ä¸ªæ–¹æ³•ã€‚ä¸‹é¢æ¥çœ‹çœ‹çœ‹å¦‚ä½•å£°æ˜å’Œè®¿é—®ç±»æ–¹æ³• - class Accounts def reading_charge end def Accounts.return_date end end è®¿é—®ç±»æ–¹æ³• - Accounts.return_date æ¨¡æ¿Ruby æ¨¡å—æ˜¯æ–¹æ³•å’Œå¸¸é‡çš„é›†åˆã€‚æš‚æ—¶ä½ å¯ç®€å•çš„ç†è§£ä¸ºä¸€ä¸ªä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸€æ¥å¯ä»¥æä¾›ä¸€ä¸ªå‘½åç©ºé—´é¿å…åå­—å†²çªï¼Œå¦ä¸€ä¸ªæ˜¯å®ç°äº† mixin çš„åŠŸèƒ½ã€‚ ä¸çŸ¥é“æ‚¨æœ‰æ²¡æœ‰å‘ç°ï¼ŒRuby æ²¡æœ‰æä¾›å¤šé‡ç»§æ‰¿çš„åŠŸèƒ½ï¼Œä½† Ruby çš„æ¨¡æ¿å‡ ä¹æ¶ˆé™¤äº†å¤šé‡ç»§æ‰¿çš„éœ€è¦ï¼Œæä¾›äº†ä¸€ç§åä¸º mixin çš„è£…ç½®ã€‚ ç¤ºä¾‹ï¼š module A def a1 end def a2 end end module B def b1 end def b2 end end class Sample include A include B def s1 end end samp=Sample.new samp.a1 samp.a2 samp.b1 samp.b2 samp.s1 å—Ruby ä»£ç åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­è¢«ç§°ä¸ºé—­åŒ…ã€‚å®ƒç”±ä¸€ç»„ä»£ç ç»„æˆï¼Œå®ƒä»¬å§‹ç»ˆç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œæˆ–è€…åœ¨ do..end ä¹‹é—´ä¹¦å†™ã€‚å¤§æ‹¬å·è¯­æ³•æ€»æ˜¯å…·æœ‰æ¯” do..end è¯­æ³•æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚ä¹Ÿå°±æ˜¯è¯´å¤§æ‹¬å·ä¼˜å…ˆçº§é«˜ï¼Œdo..end ä¼˜å…ˆçº§ä½ã€‚ è¯­æ³•ï¼š block_name{ statement1 statement2 .......... } yieldè¯­å¥ï¼š def test puts \"åœ¨ test æ–¹æ³•å†…\" yield puts \"ä½ åˆå›åˆ°äº† test æ–¹æ³•å†…\" yield end test {puts \"ä½ åœ¨å—å†…\"} ä¸Šé¢ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼š åœ¨ test æ–¹æ³•å†… ä½ åœ¨å—å†… ä½ åˆå›åˆ°äº† test æ–¹æ³•å†… ä½ åœ¨å—å†… å—å’Œæ–¹æ³•ï¼š def test yield end test{ puts \"Hello world\"} æœ¬å®ä¾‹æ˜¯å®ç°å—çš„æœ€ç®€å•çš„æ–¹å¼ã€‚æ‚¨ä½¿ç”¨ yield è¯­å¥è°ƒç”¨ test å—ã€‚ ä½†æ˜¯å¦‚æœæ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°å‰å¸¦æœ‰ &amp;ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å‘è¯¥æ–¹æ³•ä¼ é€’ä¸€ä¸ªå—ï¼Œä¸”è¿™ä¸ªå—å¯è¢«èµ‹ç»™æœ€åä¸€ä¸ªå‚æ•°ã€‚å¦‚æœ * å’Œ &amp; åŒæ—¶å‡ºç°åœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œ&amp; åº”æ”¾åœ¨åé¢ã€‚ def test(&amp;block) block.call end test { puts \"Hello World!\"} ä¸Šè¿°ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼š Hello World! è¿™ä¸€éƒ¨åˆ†å»ºè®®å†å»çœ‹ä¸€ä¸‹æ…•è¯¾ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œçœ‹å…³äºç¬¬ä¸‰ç« çš„å†…å®¹å³å¯ï¼šRubyè¯­è¨€å¿«é€Ÿå…¥é—¨ï¼šhttps://www.imooc.com/learn/765 æ€»ç»“ç»è¿‡ä»¥ä¸Šç®€å•çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å¯¹ Ruby æœ‰äº†ä¸€ä¸ªå¤§è‡´çš„äº†è§£ï¼Œç®—æ˜¯ç®€å•å…¥äº†ä¸ªé—¨ï¼ˆæœ‰ä¸€äº›ç®€å•çš„ä¾‹å¦‚å¾ªç¯å•Šï¼Œåˆ¤æ–­å•Šï¼Œè¿ç®—ç¬¦ä¹‹ç±»çš„ç®€å•æˆ‘å°±æ²¡æœ‰å†™äº†ï¼‰ï¼Œæ›´å¤šçš„ä¸œè¥¿éœ€è¦è‡ªå·±å¹³æ—¶çš„ç¼–ç ä¸­å»æ€»ç»“å­¦ä¹ ï¼ˆè‚¯å®šæœ‰ä¸€äº›å‘éœ€è¦è‡ªå·±å»å¡«çš„ï¼‰ã€‚ å‚è€ƒæ–‡ç« ï¼š1.Ruby æ•™ç¨‹ - èœé¸Ÿé©¿ç«™ - http://www.runoob.com/ruby/ruby-intro.html2.Ruby æ•™ç¨‹ - æ˜“ç™¾æ•™ç¨‹ - https://www.yiibai.com/ruby3.20åˆ†é’Ÿä½“éªŒ Ruby - https://www.ruby-lang.org/zh_cn/documentation/quickstart/4.ç¬¨æ–¹æ³•å­¦ Ruby - https://lrthw.github.io/intro/5.Ruby å¿«é€Ÿå…¥é—¨ - https://wdxtub.com/2016/03/30/ruby-first-step/ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/categories/Ruby/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/tags/Ruby/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"MongoDBã€å¿«é€Ÿå…¥é—¨ã€‘","slug":"MongoDBã€å¿«é€Ÿå…¥é—¨ã€‘","date":"2019-04-24T23:21:00.000Z","updated":"2020-08-03T09:13:53.558Z","comments":true,"path":"2019/04/25/mongodb-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2019/04/25/mongodb-kuai-su-ru-men/","excerpt":"","text":"1.MongDB ç®€ä»‹MongoDBï¼ˆæ¥è‡ªäºè‹±æ–‡å•è¯â€œHumongousâ€ï¼Œä¸­æ–‡å«ä¹‰ä¸ºâ€œåºå¤§â€ï¼‰æ˜¯å¯ä»¥åº”ç”¨äºå„ç§è§„æ¨¡çš„ä¼ä¸šã€å„ä¸ªè¡Œä¸šä»¥åŠå„ç±»åº”ç”¨ç¨‹åºçš„å¼€æºæ•°æ®åº“ã€‚ä½œä¸ºä¸€ä¸ªé€‚ç”¨äºæ•æ·å¼€å‘çš„æ•°æ®åº“ï¼ŒMongoDB çš„æ•°æ®æ¨¡å¼å¯ä»¥éšç€åº”ç”¨ç¨‹åºçš„å‘å±•è€Œçµæ´»åœ°æ›´æ–°ã€‚ä¸æ­¤åŒæ—¶ï¼Œå®ƒä¹Ÿä¸ºå¼€å‘äººå‘˜ æä¾›äº†ä¼ ç»Ÿæ•°æ®åº“çš„åŠŸèƒ½ï¼šäºŒçº§ç´¢å¼•ï¼Œå®Œæ•´çš„æŸ¥è¯¢ç³»ç»Ÿä»¥åŠä¸¥æ ¼ä¸€è‡´æ€§ç­‰ç­‰ã€‚ MongoDB èƒ½å¤Ÿä½¿ä¼ä¸šæ›´åŠ å…·æœ‰æ•æ·æ€§å’Œå¯æ‰©å±•æ€§ï¼Œå„ç§è§„æ¨¡çš„ä¼ä¸šéƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ MongoDB æ¥åˆ›å»ºæ–°çš„åº”ç”¨ï¼Œæé«˜ä¸å®¢æˆ·ä¹‹é—´çš„å·¥ä½œæ•ˆç‡ï¼ŒåŠ å¿«äº§å“ä¸Šå¸‚æ—¶é—´ï¼Œä»¥åŠé™ä½ä¼ä¸šæˆæœ¬ã€‚ MongoDB æ˜¯ä¸“ä¸ºå¯æ‰©å±•æ€§ï¼Œé«˜æ€§èƒ½å’Œé«˜å¯ç”¨æ€§è€Œè®¾è®¡çš„æ•°æ®åº“ã€‚å®ƒå¯ä»¥ä»å•æœåŠ¡å™¨éƒ¨ç½²æ‰©å±•åˆ°å¤§å‹ã€å¤æ‚çš„å¤šæ•°æ®ä¸­å¿ƒæ¶æ„ã€‚åˆ©ç”¨å†…å­˜è®¡ç®—çš„ä¼˜åŠ¿ï¼ŒMongoDB èƒ½å¤Ÿæä¾›é«˜æ€§èƒ½çš„æ•°æ®è¯»å†™æ“ä½œã€‚ MongoDB çš„æœ¬åœ°å¤åˆ¶å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»åŠŸèƒ½ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºå…·æœ‰ä¼ä¸šçº§çš„å¯é æ€§å’Œæ“ä½œçµæ´»æ€§ã€‚ ä»¥ä¸Šå†…å®¹æ‘˜è‡ªå®˜ç½‘ï¼š 1.1 æ–‡æ¡£å‹æ•°æ®åº“ç®€è€Œè¨€ä¹‹ï¼ŒMongoDBæ˜¯ä¸€ä¸ªå…è´¹å¼€æºè·¨å¹³å°çš„ NoSQL æ•°æ®åº“ï¼Œä¸å…³ç³»å‹æ•°æ®åº“ä¸åŒï¼ŒMongoDB çš„æ•°æ®ä»¥ç±»ä¼¼äº JSON æ ¼å¼çš„äºŒè¿›åˆ¶æ–‡æ¡£å­˜å‚¨ï¼š { name: \"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\", age: 22, } æ–‡æ¡£å‹çš„æ•°æ®å­˜å‚¨æ–¹å¼æœ‰å‡ ä¸ªé‡è¦å¥½å¤„ï¼š æ–‡æ¡£çš„æ•°æ®ç±»å‹å¯ä»¥å¯¹åº”åˆ°è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Œå¦‚æ•°ç»„ç±»å‹ï¼ˆArrayï¼‰å’Œå¯¹è±¡ç±»å‹ï¼ˆObjectï¼‰ï¼› æ–‡æ¡£å¯ä»¥åµŒå¥—ï¼Œæœ‰æ—¶å…³ç³»å‹æ•°æ®åº“æ¶‰åŠå‡ ä¸ªè¡¨çš„æ“ä½œï¼Œåœ¨ MongoDB ä¸­ä¸€æ¬¡å°±èƒ½å®Œæˆï¼Œå¯ä»¥å‡å°‘æ˜‚è´µçš„è¿æ¥èŠ±é”€ï¼› æ–‡æ¡£ä¸å¯¹æ•°æ®ç»“æ„åŠ ä»¥é™åˆ¶ï¼Œä¸åŒçš„æ•°æ®ç»“æ„å¯ä»¥å­˜å‚¨åœ¨åŒä¸€å¼ è¡¨ï¼› MongoDB çš„æ–‡æ¡£æ•°æ®æ¨¡å‹å’Œç´¢å¼•ç³»ç»Ÿèƒ½æœ‰æ•ˆæå‡æ•°æ®åº“æ€§èƒ½ï¼› å¤åˆ¶é›†åŠŸèƒ½æä¾›æ•°æ®å†—ä½™ï¼Œè‡ªåŠ¨åŒ–å®¹ç¾å®¹é”™ï¼Œæå‡æ•°æ®åº“å¯ç”¨æ€§ï¼› åˆ†ç‰‡æŠ€æœ¯èƒ½å¤Ÿåˆ†æ•£å•æœåŠ¡å™¨çš„è¯»å†™å‹åŠ›ï¼Œæé«˜å¹¶å‘èƒ½åŠ›ï¼Œæå‡æ•°æ®åº“çš„å¯æ‹“å±•æ€§ï¼› MongoDB é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§ç­‰ç‰¹ç‚¹ï¼Œä½¿å…¶è‡³ 2009 å¹´å‘å¸ƒä»¥æ¥ï¼Œé€æ¸è¢«è®¤å¯ï¼Œå¹¶è¢«è¶Šæ¥è¶Šå¤šçš„ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­ã€‚AWSã€GCPã€é˜¿é‡Œäº‘ç­‰äº‘å¹³å°éƒ½æä¾›äº†ååˆ†ä¾¿æ·çš„ MongoDB äº‘æœåŠ¡ã€‚ 1.2 MongoDB åŸºç¡€æ¦‚å¿µå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ MySQL æ•°æ®åº“æ¥åŠ ä»¥å¯¹æ¯”ï¼š MySQL åŸºç¡€æ¦‚å¿µ MongoDB å¯¹åº”æ¦‚å¿µ æ•°æ®åº“ï¼ˆdatabaseï¼‰ å®¹å™¨ï¼ˆdatabaseï¼‰ è¡¨ï¼ˆtableï¼‰ é›†åˆï¼ˆcollectionï¼‰ è¡Œï¼ˆrowï¼‰ æ–‡æ¡£ï¼ˆdocumentï¼‰ åˆ—ï¼ˆcolumnï¼‰ åŸŸï¼ˆfiledï¼‰ ç´¢å¼•ï¼ˆindexï¼‰ ç´¢å¼•ï¼ˆindexï¼‰ ä¹Ÿå€Ÿç”¨ä¸€ä¸‹èœé¸Ÿæ•™ç¨‹çš„å›¾æ¥æ›´åŠ å½¢è±¡ç”ŸåŠ¨çš„è¯´æ˜ä¸€ä¸‹ï¼š è¿™å¾ˆå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºï¼šæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å¼•å…¥æ–°çš„æ¦‚å¿µå‘¢ï¼Ÿï¼ˆä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠâ€œè¡¨â€æ›¿æ¢æˆâ€œé›†åˆâ€ï¼Œâ€œè¡Œâ€æ›¿æ¢æˆâ€œæ–‡æ¡£â€ï¼Œâ€œåˆ—â€æ›¿æ¢æˆâ€œåŸŸâ€å‘¢ï¼Ÿï¼‰åŸå› åœ¨äºï¼Œå…¶å®åœ¨ MySQL è¿™æ ·çš„å…¸å‹å…³ç³»å‹æ•°æ®ä¸­ï¼Œæˆ‘ä»¬æ˜¯åœ¨å®šä¹‰è¡¨çš„æ—¶å€™å®šä¹‰åˆ—çš„ï¼Œä½†æ˜¯ç”±äºä¸Šè¿°æ–‡æ¡£å‹æ•°æ®åº“çš„ç‰¹ç‚¹ï¼Œå®ƒå…è®¸æ–‡æ¡£çš„æ•°æ®ç±»å‹å¯ä»¥å¯¹åº”åˆ°è¯­è¨€çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯åœ¨å®šä¹‰æ–‡æ¡£çš„æ—¶å€™æ‰ä¼šå®šä¹‰åŸŸçš„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œé›†åˆä¸­çš„æ¯ä¸ªæ–‡æ¡£éƒ½å¯ä»¥æœ‰ç‹¬ç«‹çš„åŸŸã€‚å› æ­¤ï¼Œè™½è¯´é›†åˆç›¸å¯¹äºè¡¨æ¥è¯´æ˜¯ä¸€ä¸ªç®€åŒ–äº†çš„å®¹å™¨ï¼Œè€Œæ–‡æ¡£åˆ™åŒ…å«äº†æ¯”è¡Œè¦å¤šå¾—å¤šçš„ä¿¡æ¯ã€‚ 2 æ­å»ºç¯å¢ƒæ€ä¹ˆæ ·éƒ½å¥½ï¼Œæ­å»ºå¥½ç¯å¢ƒå°±è¡Œï¼Œè¿™é‡Œä»¥ OS ç¯å¢ƒä¸ºä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ OSX çš„ brew å®‰è£… mongodbï¼š brew install mongodb åœ¨è¿è¡Œä¹‹å‰æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å­˜å‚¨ç›®å½• /data/dbï¼š sudo mkdir -p /data/db ç„¶åå¯åŠ¨ mongodbï¼Œé»˜è®¤æ•°æ®åº“ç›®å½•å³ä¸º /data/dbï¼ˆå¦‚æœä¸æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨ --dbpath æŒ‡ä»¤æ¥æŒ‡å®šï¼‰ï¼š sudo mongd è¿‡ä¸€ä¼šå„¿ä½ å°±èƒ½çœ‹åˆ°ä½ çš„ mongodb è¿è¡Œèµ·æ¥çš„æç¤ºï¼š å…·ä½“çš„æ­å»ºè¿‡ç¨‹å¯ä»¥å‚è€ƒèœé¸Ÿçš„æ•™ç¨‹ï¼šhttp://www.runoob.com/mongodb/mongodb-window-install.html 3 åŸºäº Shell çš„ CRUD3.1 è¿æ¥å®ä¾‹é€šè¿‡ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬åœ¨ç³»ç»Ÿé‡Œè¿è¡Œäº†ä¸€ä¸ª mongodb å®ä¾‹ï¼Œæ¥ä¸‹æ¥é€šè¿‡ mongo å‘½ä»¤æ¥è¿æ¥å®ƒï¼š mongo [options] [db address] [file names] ç”±äºä¸Šé¢è¿è¡Œçš„ mongodb è¿è¡Œåœ¨ 27017 ç«¯å£ï¼Œå¹¶ä¸”ç­æœ‰å¯åŠ¨å®‰å…¨æ¨¡å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥ç›´æ¥è¿æ¥ï¼š mongo 127.0.0.1:27017 æˆ–è€…é€šè¿‡ --host å’Œ --port é€‰é¡¹æŒ‡å®šä¸»æœºå’Œç«¯å£ã€‚ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå°±è¿›å…¥äº† mongoDB shellï¼Œshell ä¼šæŠ¥å‡ºä¸€è¿ä¸²æƒé™è­¦å‘Šï¼Œä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œè¿™å¹¶ä¸ä¼šå½±å“ä¹‹åçš„æ“ä½œã€‚åœ¨æ·»åŠ æˆæƒç”¨æˆ·å’Œå¼€å¯è®¤è¯åï¼Œè¿™äº›è­¦å‘Šä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚ 3.2 CRUD æ“ä½œåœ¨è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹å¸¸ç”¨çš„ shell å‘½ä»¤ï¼š db æ˜¾ç¤ºå½“å‰æ‰€åœ¨æ•°æ®åº“ï¼Œé»˜è®¤ä¸º test show dbs åˆ—å‡ºå¯ç”¨æ•°æ®åº“ show tables show collections åˆ—å‡ºæ•°æ®åº“ä¸­å¯ç”¨é›†åˆ use &lt;database&gt; ç”¨äºåˆ‡æ¢æ•°æ®åº“ mongoDB é¢„è®¾æœ‰ä¸¤ä¸ªæ•°æ®åº“ï¼Œadmin å’Œ localï¼Œadmin ç”¨æ¥å­˜æ”¾ç³»ç»Ÿæ•°æ®ï¼Œlocal ç”¨æ¥å­˜æ”¾è¯¥å®ä¾‹æ•°æ®ï¼Œåœ¨å‰¯æœ¬é›†ä¸­ï¼Œä¸€ä¸ªå®ä¾‹çš„ local æ•°æ®åº“å¯¹äºå…¶å®ƒå®ä¾‹æ˜¯ä¸å¯è§çš„ã€‚ä½¿ç”¨ use å‘½ä»¤åˆ‡æ¢æ•°æ®åº“ï¼š > use admin > use local > use newDatabase å¯ä»¥ use ä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®åº“ï¼Œå½“ä½ å­˜å…¥æ–°æ•°æ®æ—¶ï¼ŒmongoDB ä¼šåˆ›å»ºè¿™ä¸ªæ•°æ®åº“ï¼š > use newDatabase > db.newCollection.insert({x:1}) WriteResult({ \"nInserted\" : 1 }) ä»¥ä¸Šå‘½ä»¤å‘æ•°æ®åº“ä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£ï¼Œè¿”å› 1 è¡¨ç¤ºæ’å…¥æˆåŠŸï¼ŒmongoDB è‡ªåŠ¨åˆ›å»º newCollection é›†åˆå’Œæ•°æ®åº“ newDatabaseã€‚ä¸‹é¢å°†å¯¹å¢æŸ¥æ”¹åˆ æ“ä½œè¿›è¡Œä¸€ä¸ªç®€å•çš„æ¼”ç¤ºã€‚ 3.2.1 åˆ›å»ºï¼ˆCreateï¼‰MongoDB æä¾› insert æ–¹æ³•åˆ›å»ºæ–°æ–‡æ¡£ï¼š db.collection.inserOne() æ’å…¥å•ä¸ªæ–‡æ¡£WriteResult({ â€œnInsertedâ€ : 1 }) db.collection.inserMany() æ’å…¥å¤šä¸ªæ–‡æ¡£ db.collection.insert() æ’å…¥å•æ¡æˆ–å¤šæ¡æ–‡æ¡£ æˆ‘ä»¬æ¥ç€åœ¨åˆšæ‰æ–°åˆ›å»ºçš„ newDatabase ä¸‹é¢æ–°å¢æ•°æ®å§ï¼š db.newCollection.insert({name:\"wmyskxz\",age:22}) æ ¹æ®ä»¥å¾€ç»éªŒåº”è¯¥ä¼šè§‰å¾—è›®å¥‡æ€ªçš„ï¼Œå› ä¸ºä¹‹å‰åœ¨è¿™ä¸ªé›†åˆä¸­æ’å…¥çš„æ•°æ®æ ¼å¼æ˜¯ {x:1} çš„ï¼Œè€Œè¿™é‡Œæ–°å¢çš„æ•°æ®æ ¼å¼ç¡®æ˜¯ {name:&quot;wmyskxz&quot;,age:22} è¿™ä¸ªæ ·å­çš„ã€‚è¿˜è®°å¾—å—ï¼Œæ–‡æ¡£å‹æ•°æ®åº“çš„ä¸ä¼ ç»Ÿå‹çš„å…³ç³»å‹æ•°æ®çš„åŒºåˆ«å°±æ˜¯åœ¨è¿™é‡Œï¼ å¹¶ä¸”è¦æ³¨æ„ï¼Œage:22 å’Œ age:&quot;22&quot; æ˜¯ä¸ä¸€æ ·çš„å“¦ï¼Œå‰è€…æ’å…¥çš„æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œè€Œåè€…æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ db.newCollection.find() å‘½ä»¤æŸ¥çœ‹åˆ°åˆšåˆšæ’å…¥çš„æ–‡æ¡£ï¼š > db.newCollection.find() { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } è¿™é‡Œæœ‰ä¸€ä¸ªç¥å¥‡çš„è¿”å›ï¼Œé‚£å°±æ˜¯å¤šäº†ä¸€ä¸ªå«åš _id çš„ä¸œè¥¿ï¼Œè¿™æ˜¯ MongoDB ä¸ºä½ è‡ªåŠ¨æ·»åŠ çš„å­—æ®µï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±ç”Ÿæˆã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿˜æ˜¯ä¼šè®© MongoDB ä¸ºæˆ‘ä»¬ç”Ÿæˆï¼Œè€Œä¸”é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å­—æ®µæ˜¯è¢«åŠ ä¸Šäº†ç´¢å¼•çš„ã€‚ 3.2.2 æŸ¥æ‰¾ï¼ˆReadï¼‰MongoDB æä¾› find æ–¹æ³•æŸ¥æ‰¾æ–‡æ¡£ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŸ¥è¯¢æ¡ä»¶ï¼š > db.newCollection.find() # æŸ¥æ‰¾æ‰€æœ‰æ–‡æ¡£ { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } > db.newCollection.find({name:\"wmyskxz\"}) # æŸ¥æ‰¾ name ä¸º wmyskxz çš„æ–‡æ¡£ { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } > db.newCollection.find({age:{$gt:20}}) # æŸ¥æ‰¾ age å¤§äº 20 çš„æ–‡æ¡£ { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } ä¸Šè¿°ä»£ç ä¸­çš„$gtå¯¹åº”äºå¤§äºå·&gt;çš„è½¬ä¹‰ã€‚ ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ å…¥æŠ•å½±æ–‡æ¡£æ˜ å°„æ•°æ®ï¼š > db.newCollection.find({age:{$gt:20}},{name:1}) { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\" } ä¸Šè¿°å‘½ä»¤å°†æŸ¥æ‰¾ age å¤§äº 20 çš„æ–‡æ¡£ï¼Œè¿”å› name å­—æ®µï¼Œæ’é™¤å…¶ä»–å­—æ®µã€‚æŠ•å½±æ–‡æ¡£ä¸­å­—æ®µä¸º 1 æˆ–å…¶ä»–çœŸå€¼è¡¨ç¤ºåŒ…å«ï¼Œ0 æˆ–å‡å€¼è¡¨ç¤ºæ’é™¤ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªå­—æ®µä½ä¸º 1 æˆ– 0ï¼Œä½†ä¸èƒ½æ··åˆä½¿ç”¨ã€‚ ä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬ä¸ºè¿™ä¸ªé›†åˆå¼„äº†ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„æ•°æ®ï¼š > db.newCollection.find() { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"age\" : 22, \"x\" : 1, \"y\" : 30 } ç„¶åå†æ¥æµ‹è¯•ï¼š > db.newCollection.find({age:{$gt:20}},{name:1,x:1}) { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\" } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"x\" : 1 } > db.newCollection.find({age:{$gt:20}},{name:0,x:0}) { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"age\" : 22 } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"age\" : 22, \"y\" : 30 } > db.newCollection.find({age:{$gt:20}},{name:0,x:1}) Error: error: { \"ok\" : 0, \"errmsg\" : \"Projection cannot have a mix of inclusion and exclusion.\", \"code\" : 2, \"codeName\" : \"BadValue\" } ä»ä¸Šé¢çš„å‘½ä»¤æˆ‘ä»¬å°±å¯ä»¥æŠŠæˆ‘ä»¬çš„ä¸€äº›æƒ³æ³•å’Œä¸Šé¢çš„ç»“è®ºå¾—ä»¥éªŒè¯ï¼Œperfectï¼ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ countã€skipã€limit ç­‰æŒ‡é’ˆï¼ˆCursorï¼‰æ–¹æ³•ï¼Œæ”¹å˜æ–‡æ¡£æŸ¥è¯¢çš„æ‰§è¡Œæ–¹å¼ï¼š > db.newCollection.find().count() 3 > db.newCollection.find().skip(1).limit(10).sort({age:1}) { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"age\" : 22, \"x\" : 1, \"y\" : 30 } ä¸Šè¿°æŸ¥æ‰¾å‘½ä»¤è·³è¿‡ 1 ä¸ªæ–‡æ¡£ï¼Œé™åˆ¶è¾“å‡º 10 ä¸ªï¼Œä»¥ age å­æ®µæ­£åºæ’åºï¼ˆå¤§äº 0 ä¸ºæ­£åºï¼Œå°äº 0 ä½ååºï¼‰è¾“å‡ºç»“æœã€‚æœ€åï¼Œå¯ä»¥ä½¿ç”¨ Cursor æ–¹æ³•ä¸­çš„ pretty æ–¹æ³•ï¼Œæå‡æŸ¥è¯¢æ–‡æ¡£çš„æ˜“è¯»æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸ¥çœ‹åµŒå¥—çš„æ–‡æ¡£å’Œé…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼š > db.newCollection.find().pretty() { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 22 } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"age\" : 22, \"x\" : 1, \"y\" : 30 } 3.2.3 æ›´æ–°ï¼ˆUpdateï¼‰MongoDB æä¾› update æ–¹æ³•æ›´æ–°æ–‡æ¡£ï¼š db.collection.updateOne() æ›´æ–°æœ€å¤šä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.updateMany() æ›´æ–°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.replaceOne() æ›¿ä»£æœ€å¤šä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.update() é»˜è®¤æ›´æ–°ä¸€ä¸ªæ–‡æ¡£ï¼Œå¯é…ç½® multi å‚æ•°ï¼Œè·Ÿæ–°å¤šä¸ªæ–‡æ¡£ ä»¥ update() æ–¹æ³•ä¸ºä¾‹ã€‚å…¶æ ¼å¼ï¼š > db.collection.update( , , { upsert: , multi: } ) å„å‚æ•°æ„ä¹‰ï¼š query ä¸ºæŸ¥è¯¢æ¡ä»¶ update ä¸ºä¿®æ”¹çš„æ–‡æ¡£ upsert ä¸ºçœŸï¼ŒæŸ¥è¯¢ä¸ºç©ºæ—¶æ’å…¥æ–‡æ¡£ multi ä¸ºçœŸï¼Œæ›´æ–°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ ä¸‹é¢æˆ‘ä»¬æµ‹è¯•æŠŠ name å­—æ®µä¸º wmyskxz çš„æ–‡æ¡£æ›´æ–°ä¸€ä¸‹è¯•è¯•ï¼š > db.newCollection.update({name:\"wmyskxz\"},{name:\"wmyskxz\",age:30}) WriteResult({ \"nMatched\" : 1, \"nUpserted\" : 0, \"nModified\" : 1 }) è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ›´æ–°æ–‡æ¡£åªä¼ å…¥ age å­—æ®µï¼Œé‚£ä¹ˆæ–‡æ¡£ä¼šè¢«æ›´æ–°ä¸º{age: 30}ï¼Œè€Œä¸æ˜¯{name:&quot;wmyskxz&quot;, age:30}ã€‚è¦é¿å…æ–‡æ¡£è¢«è¦†ç›–ï¼Œéœ€è¦ç”¨åˆ° $set æŒ‡ä»¤ï¼Œ$set ä»…æ›¿æ¢æˆ–æ·»åŠ æŒ‡å®šå­—æ®µï¼š > db.newCollection.update({name:\"wmyskxz\"},{$set:{age:30}}) å¦‚æœè¦åœ¨æŸ¥è¯¢çš„æ–‡æ¡£ä¸å­˜åœ¨çš„æ—¶å€™æ’å…¥æ–‡æ¡£ï¼Œè¦æŠŠ upsert å‚æ•°è®¾ç½®çœŸå€¼ï¼š > db.newCollection.update({name:\"wmyskxz11\"},{$set:{age:30}},{upsert:true}) update æ–¹æ³•é»˜è®¤æƒ…å†µåªæ›´æ–°ä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚æœè¦æ›´æ–°ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰æ–‡æ¡£ï¼Œè¦æŠŠ multi è®¾ä¸ºçœŸå€¼ï¼Œå¹¶ä½¿ç”¨ $set æŒ‡ä»¤ï¼š > db.newCollection.update({age:{$gt:20}},{$set:{test:\"A\"}},{multi:true}) WriteResult({ \"nMatched\" : 3, \"nUpserted\" : 0, \"nModified\" : 3 }) > db.newCollection.find() { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc102fb33907ae66490e46d\"), \"name\" : \"wmyskxz\", \"age\" : 30, \"test\" : \"A\" } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"age\" : 22, \"x\" : 1, \"y\" : 30, \"test\" : \"A\" } { \"_id\" : ObjectId(\"5cc110148d0a578f03d43e81\"), \"name\" : \"wmyskxz11\", \"age\" : 30, \"test\" : \"A\" } 3.2.4 åˆ é™¤ï¼ˆDeleteï¼‰MongoDB æä¾›äº† delete æ–¹æ³•åˆ é™¤æ–‡æ¡£ï¼š db.collection.deleteOne() åˆ é™¤æœ€å¤šä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.deleteMany() åˆ é™¤æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.remove() åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ ä»¥ remove æ–¹æ³•ä¸ºä¾‹ï¼š > db.newCollection.remove({name:\"wmyskxz11\"}) > db.newCollection.remove({age:{$gt:20}},{justOne:true}) > db.newCollection.find() { \"_id\" : ObjectId(\"5cc1026533907ae66490e46c\"), \"x\" : 1 } { \"_id\" : ObjectId(\"5cc108fb33907ae66490e46e\"), \"name\" : \"wmyskxz-test\", \"age\" : 22, \"x\" : 1, \"y\" : 30, \"test\" : \"A\" } MongoDB æä¾›äº† drop æ–¹æ³•åˆ é™¤é›†åˆï¼Œè¿”å› true è¡¨é¢åˆ é™¤é›†åˆæˆåŠŸï¼š > db.newCollection.drop() 3.2.5 å°ç»“ç›¸æ¯”ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼ŒMongoDB çš„ CURD æ“ä½œæ›´åƒæ˜¯ç¼–å†™ç¨‹åºï¼Œæ›´ç¬¦åˆå¼€å‘äººå‘˜çš„ç›´è§‰ï¼Œä¸è¿‡ MongoDB åŒæ ·ä¹Ÿæ”¯æŒ SQL è¯­è¨€ã€‚MongoDB çš„ CURD å¼•æ“é…åˆç´¢å¼•æŠ€æœ¯ã€æ•°æ®èšåˆæŠ€æœ¯å’Œ JavaScript å¼•æ“ï¼Œèµ‹äºˆ MongoDB ç”¨æˆ·æ›´å¼ºå¤§çš„æ“çºµæ•°æ®çš„èƒ½åŠ›ã€‚ å‚è€ƒæ–‡ç« ï¼šç®€æ˜ MongoDB å…¥é—¨æ•™ç¨‹ - https://segmentfault.com/a/1190000010556670 4 MongoDB æ•°æ®æ¨¡å‹çš„ä¸€äº›è®¨è®º å‰ç½®ç”³æ˜ï¼šè¿™ä¸€éƒ¨åˆ†åŸºäºä»¥ä¸‹é“¾æ¥æ•´ç† https://github.com/justinyhuang/the-little-mongodb-book-cn/blob/master/mongodb.md#%E8%AE%B8%E5%8F%AF%E8%AF%81 è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡çš„è¯é¢˜ï¼Œä¸å¤§å¤šæ•°NoSQLæ–¹æ¡ˆç›¸æ¯”,åœ¨å»ºæ¨¡æ–¹é¢,é¢å‘æ–‡æ¡£çš„æ•°æ®åº“ç®—æ˜¯å’Œå…³ç³»æ•°æ®åº“ç›¸å·®æœ€å°çš„ã€‚è¿™äº›å·®åˆ«æ˜¯å¾ˆå°ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯è¯´ä¸é‡è¦ã€‚ 4.1 æ²¡æœ‰è¿æ¥ï¼ˆJoinï¼‰æ‚¨è¦æ¥å—çš„ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯æœ€åŸºæœ¬çš„ä¸€ä¸ªå·®åˆ«ï¼Œå°±æ˜¯ MongoDB æ²¡æœ‰è¿æ¥ï¼ˆjoinï¼‰ã€‚æˆ‘ä¸çŸ¥é“MongoDBä¸æ”¯æŒæŸäº›ç±»å‹è¿æ¥å¥æ³•çš„å…·ä½“åŸå› ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ä¸€èˆ¬è€Œè¨€äººä»¬è®¤ä¸ºè¿æ¥æ˜¯ä¸å¯æ‰©å±•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å¼€å§‹æ¨ªå‘åˆ†å‰²æ•°æ®ï¼Œæœ€ç»ˆä¸å¯é¿å…çš„å°±æ˜¯åœ¨å®¢æˆ·ç«¯ï¼ˆåº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼‰ä½¿ç”¨è¿æ¥ã€‚ä¸”ä¸è®ºMongoDBä¸ºä»€ä¹ˆä¸æ”¯æŒè¿æ¥ï¼Œäº‹å®æ˜¯æ•°æ®æ˜¯æœ‰å…³ç³»çš„ï¼Œå¯æ˜¯MongoDBä¸æ”¯æŒè¿æ¥ã€‚ï¼ˆè¯‘è€…ï¼šè¿™é‡Œçš„å…³ç³»æŒ‡çš„æ˜¯ä¸åŒçš„æ•°æ®ä¹‹é—´æ˜¯æœ‰å…³è”çš„ï¼Œå¯¹äºæ²¡æœ‰å…³ç³»çš„æ•°æ®ï¼Œå°±å®Œå…¨ä¸éœ€è¦è¿æ¥ã€‚ï¼‰ ä¸ºäº†åœ¨æ²¡æœ‰è¿æ¥çš„MongoDBä¸­ç”Ÿå­˜ä¸‹å»ï¼Œåœ¨æ²¡æœ‰å…¶ä»–å¸®åŠ©çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­å®ç°è¿æ¥ã€‚ åŸºæœ¬ä¸Šæˆ‘ä»¬éœ€è¦ç”¨ç¬¬äºŒæ¬¡æŸ¥è¯¢å»æ‰¾åˆ°ç›¸å…³çš„æ•°æ®ã€‚æ‰¾åˆ°å¹¶ç»„ç»‡è¿™äº›æ•°æ®ç›¸å½“äºåœ¨å…³ç³»æ•°æ®åº“ä¸­å£°æ˜ä¸€ä¸ªå¤–æ¥çš„é”®ã€‚ç°åœ¨å…ˆåˆ«ç®¡ä»€ä¹ˆç‹¬è§’å…½äº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬çš„å‘˜å·¥ã€‚é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‘˜å·¥çš„æ•°æ®ï¼ˆè¿™æ¬¡æˆ‘å‘Šè¯‰æ‚¨å…·ä½“çš„_idå€¼ï¼Œè¿™æ ·æˆ‘ä»¬çš„ä¾‹å­å°±æ˜¯ä¸€æ ·çš„äº†ï¼‰ï¼š db.employees.insert({_id: ObjectId(\"4d85c7039ab0fd70a117d730\"), name: 'Leto'}) ç„¶åæˆ‘ä»¬å†åŠ å…¥å‡ ä¸ªå‘˜å·¥å¹¶æŠŠ Leto è®¾æˆä»–ä»¬çš„è€æ¿ï¼š db.employees.insert({_id: ObjectId(\"4d85c7039ab0fd70a117d731\"), name: 'Duncan', manager: ObjectId(\"4d85c7039ab0fd70a117d730\")}); db.employees.insert({_id: ObjectId(\"4d85c7039ab0fd70a117d732\"), name: 'Moneo', manager: ObjectId(\"4d85c7039ab0fd70a117d730\")}); ï¼ˆæœ‰å¿…è¦å†å¼ºè°ƒä¸€ä¸‹ï¼Œ_idå¯ä»¥æ˜¯ä»»ä½•çš„å”¯ä¸€çš„å€¼ã€‚åœ¨å®é™…å·¥ä½œä¸­ä½ å¾ˆå¯èƒ½ä¼šç”¨åˆ°ObjectIdï¼Œ æ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œä¹Ÿä½¿ç”¨å®ƒï¼‰ æ˜¾ç„¶ï¼Œè¦æ‰¾åˆ°Letoçš„æ‰€æœ‰å‘˜å·¥ï¼Œåªè¦æ‰§è¡Œï¼š db.employees.find({manager: ObjectId(\"4d85c7039ab0fd70a117d730\")}) æ²¡ä»€ä¹ˆäº†ä¸èµ·çš„ã€‚åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œä¸ºå¼¥è¡¥è¿æ¥çš„ç¼ºå¤±éœ€è¦åšçš„åªæ˜¯å†å¤šæŸ¥è¯¢ä¸€æ¬¡è€Œå·²ï¼Œè¯¥æŸ¥è¯¢å¾ˆå¯èƒ½æ˜¯ç»è¿‡ç´¢å¼•äº†çš„ã€‚ 4.1.1 æ•°ç»„å’ŒåµŒå…¥æ–‡æ¡£ï¼ˆEmbedded Documentsï¼‰MongoDB æ²¡æœ‰è¿æ¥å¹¶ä¸æ„å‘³ç€å®ƒæ²¡æœ‰å…¶ä»–çš„ä¼˜åŠ¿ã€‚è¿˜è®°å¾—æˆ‘ä»¬æ›¾è¯´è¿‡ MongoDB æ”¯æŒæ•°ç»„å¹¶æŠŠå®ƒå½“æˆæ–‡æ¡£ä¸­çš„ä¸€çº§å¯¹è±¡å—ï¼Ÿå½“å¤„ç†å¤šå¯¹ä¸€æˆ–æ˜¯å¤šå¯¹å¤šå…³ç³»çš„æ—¶å€™ï¼Œè¿™ä¸€ç‰¹æ€§å°±æ˜¾å¾—éå¸¸å¥½ç”¨äº†ã€‚ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜ï¼Œå¦‚æœä¸€ä¸ªå‘˜å·¥æœ‰ä¸¤ä¸ªç»ç†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå…³ç³»å‚¨å­˜åœ¨ä¸€ä¸ªæ•°ç»„å½“ä¸­ï¼š ({name: 'Siona', manager: [ObjectId(\"4d85c7039ab0fd70a117d730\"), ObjectId(\"4d85c7039ab0fd70a117d732\")] }) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰äº›æ–‡æ¡£ä¸­çš„ manager å¯èƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼Œè€Œå…¶ä»–çš„å´æ˜¯æ•°ç»„ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œå‰é¢çš„ find è¿˜æ˜¯ä¸€æ ·å¯ä»¥å·¥ä½œï¼š db.employees.find({manager: ObjectId(\"4d85c7039ab0fd70a117d730\")}) å¾ˆå¿«æ‚¨å°±ä¼šå‘ç°æ•°ç»„ä¸­çš„å€¼æ¯”èµ·å¤šå¯¹å¤šçš„è¿æ¥è¡¨ï¼ˆjoin-tableï¼‰æ¥è¯´è¦æ›´å®¹æ˜“å¤„ç†ã€‚ é™¤äº†æ•°ç»„ï¼ŒMongoDB è¿˜æ”¯æŒåµŒå…¥æ–‡æ¡£ã€‚å°è¯•æ’å…¥å«æœ‰å†…åµŒæ–‡æ¡£çš„æ–‡æ¡£ï¼Œåƒè¿™æ ·ï¼š db.employees.insert({_id: ObjectId(\"4d85c7039ab0fd70a117d734\"), name: 'Ghanima', family: {mother: 'Chani', father: 'Paul', brother: ObjectId(\"4d85c7039ab0fd70a117d730\")}}) ä¹Ÿè®¸æ‚¨ä¼šè¿™æ ·æƒ³ï¼Œç¡®å®ä¹Ÿå¯ä»¥è¿™æ ·åšï¼šåµŒå…¥æ–‡æ¡£å¯ä»¥ç”¨â€˜.â€™ç¬¦å·æ¥æŸ¥è¯¢ï¼š db.employees.find({'family.mother': 'Chani'}) å°±è¿™æ ·ï¼Œæˆ‘ä»¬ç®€è¦åœ°ä»‹ç»äº†åµŒå…¥æ–‡æ¡£é€‚ç”¨çš„åœºåˆä»¥åŠæ‚¨åº”è¯¥æ€æ ·ä½¿ç”¨å®ƒã€‚ 4.1.2 DBRefMongoDB æ”¯æŒä¸€ä¸ªå«åš DBRef çš„åŠŸèƒ½ï¼Œè®¸å¤š MongoDB çš„é©±åŠ¨éƒ½æä¾›å¯¹è¿™ä¸€åŠŸèƒ½çš„æ”¯æŒã€‚å½“é©±åŠ¨é‡åˆ°ä¸€ä¸ª DBRef æ—¶å®ƒä¼šæŠŠå½“ä¸­å¼•ç”¨çš„æ–‡æ¡£è¯»å–å‡ºæ¥ã€‚DBRef åŒ…å«äº†æ‰€å¼•ç”¨çš„æ–‡æ¡£çš„ ID å’Œæ‰€åœ¨çš„é›†åˆã€‚å®ƒé€šå¸¸ä¸“é—¨ç”¨äºè¿™æ ·çš„åœºåˆï¼šç›¸åŒé›†åˆä¸­çš„æ–‡æ¡£éœ€è¦å¼•ç”¨å¦å¤–ä¸€ä¸ªé›†åˆä¸­çš„ä¸åŒæ–‡æ¡£ã€‚ä¾‹å¦‚ï¼Œæ–‡æ¡£ 1 çš„ DBRef å¯èƒ½æŒ‡å‘ managers ä¸­çš„æ–‡æ¡£ï¼Œè€Œæ–‡æ¡£ 2 ä¸­çš„ DBRef å¯èƒ½æŒ‡å‘ employees ä¸­çš„æ–‡æ¡£ã€‚ 4.1.3 èŒƒè§„èŒƒåŒ–ï¼ˆDenormalizationï¼‰ä»£æ›¿è¿æ¥çš„å¦ä¸€ç§æ–¹æ³•å°±æ˜¯åè§„èŒƒåŒ–æ•°æ®ã€‚åœ¨è¿‡å»ï¼Œåè§„èŒƒåŒ–æ˜¯ä¸ºæ€§èƒ½æ•æ„Ÿä»£ç æ‰€è®¾ï¼Œæˆ–è€…æ˜¯éœ€è¦æ•°æ®å¿«ç…§ï¼ˆä¾‹å¦‚å®¡è®¡æ—¥å¿—ï¼‰çš„æ—¶å€™æ‰åº”ç”¨çš„ã€‚ç„¶è€Œï¼Œéšç€NoSQLçš„æ—¥æ¸æ™®åŠï¼Œæœ‰è®¸å¤šè¿™æ ·çš„æ•°æ®åº“å¹¶ä¸æä¾›è¿æ¥æ“ä½œï¼Œäºæ˜¯ä½œä¸ºè§„èŒƒå»ºæ¨¡çš„ä¸€éƒ¨åˆ†ï¼Œåè§„èŒƒåŒ–å°±è¶Šæ¥è¶Šå¸¸è§äº†ã€‚è¿™æ ·è¯´å¹¶ä¸æ˜¯è¯´æ‚¨å°±éœ€è¦ä¸ºæ¯ä¸ªæ–‡æ¡£ä¸­çš„æ¯ä¸€æ¡ä¿¡æ¯åˆ›å»ºå‰¯æœ¬ã€‚ä¸æ­¤ç›¸åï¼Œä¸å…¶åœ¨è®¾è®¡çš„æ—¶å€™è¢«å¤åˆ¶æ•°æ®çš„æ‹…å¿§ç‰µç€èµ°ï¼Œè¿˜ä¸å¦‚æŒ‰ç…§ä¸åŒçš„ä¿¡æ¯åº”è¯¥å½’å±äºç›¸åº”çš„æ–‡æ¡£è¿™ä¸€æ€è·¯æ¥å¯¹æ•°æ®å»ºæ¨¡ã€‚ æ¯”å¦‚è¯´ï¼Œå‡è®¾æ‚¨åœ¨ç¼–å†™ä¸€ä¸ªè®ºå›çš„åº”ç”¨ç¨‹åºã€‚æŠŠä¸€ä¸ª user å’Œä¸€ç¯‡ post å…³è”èµ·æ¥çš„ä¼ ç»Ÿæ–¹æ³•æ˜¯åœ¨ posts ä¸­åŠ å…¥ä¸€ä¸ª userid çš„åˆ—ã€‚è¿™æ ·çš„æ¨¡å‹ä¸­ï¼Œå¦‚æœè¦æ˜¾ç¤º posts å°±ä¸å¾—ä¸è¯»å–ï¼ˆè¿æ¥ï¼‰usersã€‚ä¸€ç§ç®€å•å¯è¡Œçš„æ›¿ä»£æ–¹æ¡ˆå°±æ˜¯ç›´æ¥æŠŠ name å’Œ userid å­˜å‚¨åœ¨ post ä¸­ã€‚æ‚¨ç”šè‡³å¯ä»¥ç”¨åµŒå…¥æ–‡æ¡£æ¥å®ç°ï¼Œæ¯”å¦‚è¯´ user: {id: ObjectId(&#39;Something&#39;), name: &#39;Leto&#39;}ã€‚å½“ç„¶ï¼Œå¦‚æœå…è®¸ç”¨æˆ·æ›´æ”¹ä»–ä»¬çš„ç”¨æˆ·åï¼Œé‚£ä¹ˆæ¯å½“æœ‰ç”¨æˆ·åä¿®æ”¹çš„æ—¶å€™ï¼Œæ‚¨å°±éœ€è¦å»æ›´æ–°æ‰€æœ‰çš„æ–‡æ¡£äº†ï¼ˆè¿™éœ€è¦ä¸€ä¸ªé¢å¤–çš„æŸ¥è¯¢ï¼‰ã€‚ å¯¹ä¸€äº›äººæ¥è¯´æ”¹ç”¨è¿™ç§æ–¹æ³•å¹¶éæ˜“äº‹ã€‚ç”šè‡³åœ¨ä¸€äº›æƒ…å†µä¸‹æ ¹æœ¬è¡Œä¸é€šã€‚ä¸è¿‡åˆ«ä¸æ•¢å»å°è¯•è¿™ç§æ–¹æ³•ï¼šæœ‰æ—¶å€™å®ƒä¸ä»…å¯è¡Œï¼Œè€Œä¸”å°±æ˜¯æ­£ç¡®çš„æ–¹æ³•ã€‚ 4.1.4 åº”è¯¥é€‰æ‹©å“ªä¸€ç§ï¼Ÿå½“å¤„ç†ä¸€å¯¹å¤šæˆ–æ˜¯å¤šå¯¹å¤šé—®é¢˜çš„æ—¶å€™ï¼Œé‡‡ç”¨idæ•°ç»„å¾€å¾€éƒ½æ˜¯æ­£ç¡®çš„ç­–ç•¥ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒDBRef å¹¶ä¸æ˜¯é‚£ä¹ˆå¸¸ç”¨ï¼Œè™½ç„¶æ‚¨å®Œå…¨å¯ä»¥è¯•ç€é‡‡ç”¨è¿™é¡¹æŠ€æœ¯ã€‚è¿™ä½¿å¾—æ–°æ‰‹ä»¬åœ¨é¢ä¸´é€‰æ‹©åµŒå…¥æ–‡æ¡£è¿˜æ˜¯æ‰‹å·¥å¼•ç”¨ï¼ˆmanual referenceï¼‰æ—¶çŠ¹è±«ä¸å†³ã€‚ é¦–å…ˆï¼Œè¦çŸ¥é“ç›®å‰ä¸€ä¸ªå•ç‹¬çš„æ–‡æ¡£çš„å¤§å°é™åˆ¶æ˜¯ 4MBï¼Œè™½ç„¶å·²ç»æ¯”è¾ƒå¤§äº†ã€‚äº†è§£äº†è¿™ä¸ªé™åˆ¶å¯ä»¥ä¸ºå¦‚ä½•ä½¿ç”¨æ–‡æ¡£æä¾›ä¸€äº›æ€è·¯ã€‚ç›®å‰çœ‹æ¥å¤šæ•°çš„å¼€å‘è€…è¿˜æ˜¯å¤§é‡åœ°ä¾èµ–æ‰‹å·¥å¼•ç”¨æ¥ç»´æŠ¤æ•°æ®çš„å…³ç³»ã€‚åµŒå…¥æ–‡æ¡£ç»å¸¸è¢«ä½¿ç”¨ï¼Œbut mostly for small pieces of data which we want to always pull with the parent documentã€‚ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œæˆ‘æŠŠ accounts æ–‡æ¡£åµŒå…¥å­˜å‚¨åœ¨ç”¨æˆ·çš„æ–‡æ¡£ä¸­ï¼Œå°±åƒè¿™æ ·ï¼š db.users.insert({name: 'leto', email: 'leto@dune.gov', account: {allowed_gholas: 5, spice_ration: 10}}) è¿™ä¸æ˜¯è¯´æ‚¨å°±åº”è¯¥ä½ä¼°åµŒå…¥æ–‡æ¡£çš„ä½œç”¨ï¼Œä¹Ÿä¸æ˜¯è¯´åº”è¯¥æŠŠå®ƒå½“æˆæ˜¯é²œå°‘ç”¨åˆ°çš„å·¥å…·å¹¶ç›´æ¥å¿½ç•¥ã€‚å°†æ•°æ®æ¨¡å‹ç›´æ¥æ˜ å°„åˆ°ç›®æ ‡å¯¹è±¡ä¸Šå¯ä»¥ä½¿é—®é¢˜å˜å¾—æ›´åŠ ç®€å•ï¼Œä¹Ÿå¾€å¾€å› æ­¤è€Œä¸å†éœ€è¦è¿æ¥æ“ä½œã€‚å½“æ‚¨çŸ¥é“ MongoDB å…è®¸å¯¹åµŒå…¥æ–‡æ¡£çš„åŸŸè¿›è¡ŒæŸ¥è¯¢å¹¶åšç´¢å¼•åï¼Œè¿™ä¸ªè¯´æ³•å°±å°¤å…¶æ˜¾å¾—æ­£ç¡®äº†ã€‚ 4.2 é›†åˆï¼šå°‘ä¸€äº›è¿˜æ˜¯å¤šä¸€äº›ï¼Ÿæ—¢ç„¶é›†åˆä¸å¼ºåˆ¶ä½¿ç”¨æ¨¡å¼ï¼Œé‚£ä¹ˆå°±å®Œå…¨æœ‰å¯èƒ½ç”¨ä¸€ä¸ªå•ä¸€çš„é›†åˆä»¥åŠä¸€ä¸ªä¸åŒ¹é…çš„æ–‡æ¡£æ„å»ºä¸€ä¸ªç³»ç»Ÿã€‚ä»¥æˆ‘æ‰€è§è¿‡çš„æƒ…å†µï¼Œå¤§éƒ¨åˆ†çš„ MongoDB ç³»ç»Ÿéƒ½åƒæ‚¨åœ¨å…³ç³»æ•°æ®åº“ä¸­æ‰€è§åˆ°çš„é‚£æ ·å¸ƒå±€ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨å…³ç³»æ•°æ®åº“ä¸­ä¼šç”¨è¡¨ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½åœ¨ MongoDB ä¸­å°±è¦ç”¨é›†åˆï¼ˆå¤šå¯¹å¤šè¿æ¥è¡¨åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªä¸å¯å¿½è§†çš„ä¾‹å¤–ï¼‰ å½“æŠŠåµŒå…¥æ–‡æ¡£å¼•è¿›æ¥çš„æ—¶å€™ï¼Œè®¨è®ºå°±ä¼šå˜å¾—æ›´åŠ æœ‰æ„æ€äº†ã€‚æœ€å¸¸è§çš„ä¾‹å­å°±æ˜¯åšå®¢ç³»ç»Ÿã€‚æ˜¯åº”è¯¥åˆ†åˆ«ç»´æŠ¤ posts å’Œ comments ä¸¤ä¸ªé›†åˆï¼Œè¿˜æ˜¯åœ¨æ¯ä¸ª post ä¸­åµŒå…¥ä¸€ä¸ª comments æ•°ç»„ï¼Ÿæš‚ä¸”ä¸è€ƒè™‘é‚£ä¸ª 4MB çš„é™åˆ¶ï¼ˆå“ˆå§†é›·ç‰¹æ‰€æœ‰çš„è¯„è®ºä¹Ÿä¸è¶…è¿‡200KBï¼Œè°çš„åšå®¢ä¼šæ¯”ä»–æ›´å—æ¬¢è¿ï¼Ÿï¼‰ï¼Œå¤§å¤šæ•°çš„å¼€å‘è€…è¿˜æ˜¯å€¾å‘äºæŠŠæ•°æ®åˆ’åˆ†å¼€ã€‚å› ä¸ºè¿™æ ·æ—¢ç®€æ´åˆæ˜ç¡®ã€‚ æ²¡æœ‰ä»€ä¹ˆç¡¬æ€§çš„è§„å®šï¼ˆå‘ƒï¼Œé™¤äº† 4MB çš„é™åˆ¶ï¼‰ã€‚åšäº†ä¸åŒçš„å°è¯•ä¹‹åæ‚¨å°±å¯ä»¥å‡­æ„Ÿè§‰çŸ¥é“æ€æ ·åšæ˜¯å¯¹çš„äº†ã€‚ æ€»ç»“è‡³æ­¤å·²ç»å¯¹ MongoDB æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£å’Œå…¥é—¨ï¼Œä½†æ˜¯è¦è¿ç”¨åœ¨å®é™…çš„é¡¹ç›®ä¸­ä»ç„¶æœ‰è®¸å¤šå®è·µéœ€è¦è‡ªå·±å»å®Œæˆ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"MongoDB","slug":"MongoDB","permalink":"http://www.wmyskxz.com/tags/MongoDB/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Elasticsearchã€å¿«é€Ÿå…¥é—¨ã€‘","slug":"Elasticsearchã€å¿«é€Ÿå…¥é—¨ã€‘","date":"2019-01-07T23:19:00.000Z","updated":"2020-08-03T09:13:36.502Z","comments":true,"path":"2019/01/08/elasticsearch-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2019/01/08/elasticsearch-kuai-su-ru-men/","excerpt":"","text":"å‰è¨€ï¼šæ¯•è®¾é¡¹ç›®è¿˜è¦æ±‚åŠ äº†è¿™ä¸ªåšå¤§æ•°æ®æœç´¢ï¼Œæ­£å¥½è‡ªå·±ä¹Ÿæ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œå°±ä¸€èµ·æ¥å­¦ä¹ å­¦ä¹ å§ï¼ Elasticsearch ç®€ä»‹Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€RESTful é£æ ¼çš„æœç´¢å’Œæ•°æ®åˆ†æå¼•æ“ï¼Œèƒ½å¤Ÿè§£å†³ä¸æ–­æ¶Œç°å‡ºçš„å„ç§ç”¨ä¾‹ã€‚ä½œä¸º Elastic Stack çš„æ ¸å¿ƒï¼Œå®ƒé›†ä¸­å­˜å‚¨æ‚¨çš„æ•°æ®ï¼Œå¸®åŠ©æ‚¨å‘ç°æ„æ–™ä¹‹ä¸­ä»¥åŠæ„æ–™ä¹‹å¤–çš„æƒ…å†µã€‚ æŸ¥è¯¢ä¿æŒå¥½å¥‡å¿ƒã€‚ä»æ•°æ®ä¸­æ¢å¯»å„ç§é—®é¢˜çš„ç­”æ¡ˆã€‚ é€šè¿‡ Elasticsearchï¼Œæ‚¨èƒ½å¤Ÿæ‰§è¡ŒåŠåˆå¹¶å¤šç§ç±»å‹çš„æœç´¢ï¼ˆç»“æ„åŒ–æ•°æ®ã€éç»“æ„åŒ–æ•°æ®ã€åœ°ç†ä½ç½®ã€æŒ‡æ ‡ï¼‰ï¼Œæœç´¢æ–¹å¼éšå¿ƒè€Œå˜ã€‚å…ˆä»ä¸€ä¸ªç®€å•çš„é—®é¢˜å‡ºå‘ï¼Œè¯•è¯•çœ‹èƒ½å¤Ÿä»ä¸­å‘ç°äº›ä»€ä¹ˆã€‚ åˆ†æå¤§å¤„ç€çœ¼ï¼Œå…¨å±€åœ¨æ¡ã€‚ æ‰¾åˆ°ä¸æŸ¥è¯¢æœ€åŒ¹é…çš„åä¸ªæ–‡æ¡£æ˜¯ä¸€å›äº‹ã€‚ä½†å¦‚æœé¢å¯¹çš„æ˜¯åäº¿è¡Œæ—¥å¿—ï¼Œåˆè¯¥å¦‚ä½•è§£è¯»å‘¢ï¼ŸElasticsearch èšåˆè®©æ‚¨èƒ½å¤Ÿä»å¤§å¤„ç€çœ¼ï¼Œæ¢ç´¢æ•°æ®çš„è¶‹åŠ¿å’Œæ¨¡å¼ã€‚ é€Ÿåº¦ å¯æ‰©å±•æ€§ å¼¹æ€§ çµæ´»æ€§ æ“ä½œçš„ä¹è¶£ å®¢æˆ·ç«¯åº“ä½¿ç”¨æ‚¨è‡ªå·±çš„ç¼–ç¨‹è¯­è¨€ä¸ Elasticsearch è¿›è¡Œäº¤äº’ Elasticsearch ä½¿ç”¨çš„æ˜¯æ ‡å‡†çš„ RESTful é£æ ¼çš„ API å’Œ JSONã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ„å»ºå’Œç»´æŠ¤äº†å¾ˆå¤šå…¶ä»–è¯­è¨€çš„å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ Javaã€Pythonã€.NETã€SQL å’Œ PHPã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬çš„ç¤¾åŒºä¹Ÿè´¡çŒ®äº†å¾ˆå¤šå®¢æˆ·ç«¯ã€‚è¿™äº›å®¢æˆ·ç«¯ä½¿ç”¨èµ·æ¥ç®€å•è‡ªç„¶ï¼Œè€Œä¸”å°±åƒ Elasticsearch ä¸€æ ·ï¼Œä¸ä¼šå¯¹æ‚¨çš„ä½¿ç”¨æ–¹å¼è¿›è¡Œé™åˆ¶ã€‚ Javaï¼š RestHighLevelClient client = new RestHighLevelClient(RestClient.builder( new HttpHost(\"localhost\", 9200, \"http\"))); SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); searchSourceBuilder.query(QueryBuilders.matchAllQuery()); searchSourceBuilder.aggregation(AggregationBuilders.terms(\"top_10_states\").field(\"state\").size(10)); SearchRequest searchRequest = new SearchRequest(); searchRequest.indices(\"social-*\"); searchRequest.source(searchSourceBuilder); SearchResponse searchResponse = client.search(searchRequest); å°½äº«å¼ºå¤§åŠŸèƒ½ HADOOP å’Œ SPRAK ç…§ä¾‹æ¥è¯´åº”è¯¥æ˜¯å»æ‰’å®˜ç½‘ï¼Œç»“æœä¸€æœå°±æƒŠäº†ï¼Œè¿™å®˜ç½‘ä¹Ÿå¿’å¾—åŠ²å„¿äº†å§ï¼Œç«Ÿç„¶æä¾›ä¸­æ–‡ç‰ˆæœ¬è€Œä¸”è¿˜æœ‰ä¸­æ–‡ç‰ˆæœ¬çš„æ–‡æ¡£ï¼Œå‹å¥½å‹å¥½ï¼Œæˆ‘çœ‹äº†å¥½é•¿ä¸€ä¼šå„¿æ‰ååº”è¿‡æ¥è‡ªå·±è¿˜æœ‰åšå®¢è¦å†™.å’³å’³ï¼Œä¸Šé¢çš„å†…å®¹éƒ½æ˜¯æ‘˜è‡ªå®˜ç½‘é¡ºä¾¿é™„ä¸€ä¸ªå®˜ç½‘é“¾æ¥ï¼šhttps://www.elastic.co/cn/products/elasticsearch å¦å¤–è¿˜æœ‰ä¸€ä¸ªå…³äº Elasticsearch æ¥æºå¾ˆæœ‰è¶£çš„æ•…äº‹åœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹ï¼š å›å¿†æ—¶å…‰ è®¸å¤šå¹´å‰ï¼Œä¸€ä¸ªåˆšç»“å©šçš„åå« Shay Banon çš„å¤±ä¸šå¼€å‘è€…ï¼Œè·Ÿç€ä»–çš„å¦»å­å»äº†ä¼¦æ•¦ï¼Œä»–çš„å¦»å­åœ¨é‚£é‡Œå­¦ä¹ å¨å¸ˆã€‚ åœ¨å¯»æ‰¾ä¸€ä¸ªèµšé’±çš„å·¥ä½œçš„æ—¶å€™ï¼Œä¸ºäº†ç»™ä»–çš„å¦»å­åšä¸€ä¸ªé£Ÿè°±æœç´¢å¼•æ“ï¼Œä»–å¼€å§‹ä½¿ç”¨ Lucene çš„ä¸€ä¸ªæ—©æœŸç‰ˆæœ¬ã€‚ ç›´æ¥ä½¿ç”¨ Lucene æ˜¯å¾ˆéš¾çš„ï¼Œå› æ­¤ Shay å¼€å§‹åšä¸€ä¸ªæŠ½è±¡å±‚ï¼ŒJava å¼€å‘è€…ä½¿ç”¨å®ƒå¯ä»¥å¾ˆç®€å•çš„ç»™ä»–ä»¬çš„ç¨‹åºæ·»åŠ æœç´¢åŠŸèƒ½ã€‚ ä»–å‘å¸ƒäº†ä»–çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›® Compassã€‚ åæ¥ Shay è·å¾—äº†ä¸€ä»½å·¥ä½œï¼Œä¸»è¦æ˜¯é«˜æ€§èƒ½ï¼Œåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å†…å­˜æ•°æ®ç½‘æ ¼ã€‚è¿™ä¸ªå¯¹äºé«˜æ€§èƒ½ï¼Œå®æ—¶ï¼Œåˆ†å¸ƒå¼æœç´¢å¼•æ“çš„éœ€æ±‚å°¤ä¸ºçªå‡ºï¼Œ ä»–å†³å®šé‡å†™ Compassï¼ŒæŠŠå®ƒå˜ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å¹¶å–å Elasticsearchã€‚ ç¬¬ä¸€ä¸ªå…¬å¼€ç‰ˆæœ¬åœ¨2010å¹´2æœˆå‘å¸ƒï¼Œä»æ­¤ä»¥åï¼ŒElasticsearch å·²ç»æˆä¸ºäº† Github ä¸Šæœ€æ´»è·ƒçš„é¡¹ç›®ä¹‹ä¸€ï¼Œä»–æ‹¥æœ‰è¶…è¿‡300å contributors(ç›®å‰736å contributors )ã€‚ ä¸€å®¶å…¬å¸å·²ç»å¼€å§‹å›´ç»• Elasticsearch æä¾›å•†ä¸šæœåŠ¡ï¼Œå¹¶å¼€å‘æ–°çš„ç‰¹æ€§ï¼Œä½†æ˜¯ï¼ŒElasticsearch å°†æ°¸è¿œå¼€æºå¹¶å¯¹æ‰€æœ‰äººå¯ç”¨ã€‚ æ®è¯´ï¼ŒShay çš„å¦»å­è¿˜åœ¨ç­‰ç€å¥¹çš„é£Ÿè°±æœç´¢å¼•æ“â€¦ å®‰è£… Elasticsearchå®˜ç½‘æœ€æ–°ç‰ˆæœ¬ Elasticsearch ï¼ˆ6.5.4ï¼‰ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„ç¯å¢ƒä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æœ‰é—®é¢˜ï¼ˆé…åˆä¸‹é¢çš„å·¥å…· Kibana æœ‰é—®é¢˜..Kibana å¯åŠ¨ä¸äº†ï¼‰ï¼Œæ‰€ä»¥ä¸å¾—ä¸æ¢æˆæ›´ä½ç‰ˆæœ¬çš„ 6.2.2ï¼Œä¸‹è½½å¤–é“¾ï¼šæˆ³è¿™é‡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹æœ€æ–°çš„ç‰ˆæœ¬ï¼š é¡ºå¸¦ä¸€æï¼šåœ¨ä¸‹è½½ä¹‹å‰ä½ åº”è¯¥ç¡®ä¿ä½ çš„ Java ç‰ˆæœ¬ä¿æŒåœ¨ 1.8 åŠä»¥ä¸Šï¼ˆå°± 1.8 å§..ï¼‰ï¼Œè¿™æ˜¯ Elasticsearch çš„ç¡¬æ€§è¦æ±‚ï¼Œå¯ä»¥è‡ªè¡Œæ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥ java -version æ¥æŸ¥çœ‹ Java çš„ç‰ˆæœ¬ ä¸‹è½½å®Œæˆåï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œæˆ‘ä»¬ç›´æ¥è§£å‹åœ¨ D ç›˜ä¸Šï¼Œç„¶åæ‰“å¼€ bin ç›®å½•ä¸‹çš„ elasticsearch.bat æ–‡ä»¶ ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå¯ä»¥çœ‹åˆ°å°é»‘æ¡†è¾“å‡ºä¸€è¡Œ start ï¼Œå°±è¯´æ˜æˆ‘ä»¬çš„ Elasticsearch å·²ç»è·‘èµ·æ¥äº†ï¼Œæˆ‘ä»¬è®¿é—®åœ°å€ï¼šhttp://127.0.0.1:9200/ï¼Œçœ‹åˆ°è¿”å›ä¸€ä¸² JSON æ ¼å¼çš„ä»£ç å°±è¯´æ˜å·²ç»æˆåŠŸäº†ï¼š å®‰è£… Kibanaè¿™æ˜¯ä¸€ä¸ªå®˜æ–¹æ¨å‡ºçš„æŠŠ Elasticsearch æ•°æ®å¯è§†åŒ–çš„å·¥å…·ï¼Œå®˜ç½‘åœ¨è¿™é‡Œï¼šã€ä¼ é€é—¨ã€‘ï¼Œä¸è¿‡æˆ‘ä»¬ç°åœ¨æš‚æ—¶è¿˜ç”¨ä¸åˆ°é‚£äº›æ•°æ®åˆ†æçš„ä¸œè¥¿ï¼Œä¸è¿‡é‡Œé¢æœ‰ä¸€ä¸ª Dev Tools çš„å·¥å…·å¯ä»¥æ–¹ä¾¿çš„å’Œ Elasticsearch æœåŠ¡è¿›è¡Œäº¤äº’ï¼Œå»å®˜ç½‘ä¸‹è½½äº†æœ€æ–°ç‰ˆæœ¬çš„ Kibanaï¼ˆ6.5.4ï¼‰ ç»“æœä¸çŸ¥é“ä¸ºä»€ä¹ˆæ€»æ˜¯å¯åŠ¨ä¸èµ·æ¥ï¼Œæ‰€ä»¥æ¢ä¸€äº†ä¸€ä¸ªä½ç‰ˆæœ¬çš„ï¼ˆ6.2.2ï¼‰æ­£å¸¸ï¼Œç»™ä¸ªä¸‹è½½å¤–é“¾ï¼šä¸‹è½½ç‚¹è¿™é‡Œï¼Œä½ ä»¬ä¹Ÿå¯ä»¥å»å®˜ç½‘è¯•è¯•èƒ½ä¸èƒ½æŠŠæœ€æ–°çš„è·‘èµ·æ¥ï¼š è§£å‹åˆ° D ç›˜ï¼ˆæ„å¤–çš„æœ‰ç‚¹æ…¢..ï¼‰ï¼ŒåŒæ ·æ‰“å¼€ç›®å½•ä¸‹çš„bin\\kibana.batï¼š ç­‰å¾…ä¸€æ®µæ—¶é—´åå°±å¯ä»¥çœ‹åˆ°æç¤ºä¿¡æ¯ï¼Œè¿è¡Œåœ¨ 5601 ç«¯å£ï¼Œæˆ‘ä»¬è®¿é—®åœ°å€ http://localhost:5601/app/kibana#/dev_tools/console?_g=() å¯ä»¥æˆåŠŸè¿›å…¥åˆ° Dev-tools ç•Œé¢ï¼š ç‚¹å‡» ã€Get to workã€‘ï¼Œç„¶ååœ¨æ§åˆ¶å°è¾“å…¥ GET /_cat/health?v æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ï¼Œå¯ä»¥åœ¨å³ä¾§è¿”å›çš„ç»“æœä¸­çœ‹åˆ° green å³è¡¨ç¤ºæœåŠ¡å™¨çŠ¶æ€ç›®å‰æ˜¯å¥åº·çš„ï¼š å¿«é€Ÿå…¥é—¨ä¸€ã€åŸºç¡€æ¦‚å¿µ-å¿«é€Ÿå…¥é—¨èŠ‚ç‚¹ Nodeã€é›†ç¾¤ Cluster å’Œåˆ†ç‰‡ ShardsElasticSearch æ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå…è®¸å¤šå°æœåŠ¡å™¨ååŒå·¥ä½œï¼Œæ¯å°æœåŠ¡å™¨å¯ä»¥è¿è¡Œå¤šä¸ªå®ä¾‹ã€‚å•ä¸ªå®ä¾‹ç§°ä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼ˆnodeï¼‰ï¼Œä¸€ç»„èŠ‚ç‚¹æ„æˆä¸€ä¸ªé›†ç¾¤ï¼ˆclusterï¼‰ã€‚åˆ†ç‰‡æ˜¯åº•å±‚çš„å·¥ä½œå•å…ƒï¼Œæ–‡æ¡£ä¿å­˜åœ¨åˆ†ç‰‡å†…ï¼Œåˆ†ç‰‡åˆè¢«åˆ†é…åˆ°é›†ç¾¤å†…çš„å„ä¸ªèŠ‚ç‚¹é‡Œï¼Œæ¯ä¸ªåˆ†ç‰‡ä»…ä¿å­˜å…¨éƒ¨æ•°æ®çš„ä¸€éƒ¨åˆ†ã€‚ ç´¢å¼• Indexã€ç±»å‹ Type å’Œæ–‡æ¡£ Documentå¯¹æ¯”æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ MySQL æ•°æ®åº“ï¼š index â†’ dbtype â†’ tabledocument â†’ row å¦‚æœæˆ‘ä»¬è¦è®¿é—®ä¸€ä¸ªæ–‡æ¡£å…ƒæ•°æ®åº”è¯¥åŒ…æ‹¬å›Šæ‹¬ index/type/id è¿™ä¸‰ç§ç±»å‹ï¼Œå¾ˆå¥½ç†è§£ã€‚ äºŒã€ä½¿ç”¨ RESTful API ä¸ Elasticsearch è¿›è¡Œäº¤äº’æ‰€æœ‰å…¶ä»–è¯­è¨€å¯ä»¥ä½¿ç”¨ RESTful API é€šè¿‡ç«¯å£ 9200 å’Œ Elasticsearch è¿›è¡Œé€šä¿¡ï¼Œä½ å¯ä»¥ç”¨ä½ æœ€å–œçˆ±çš„ web å®¢æˆ·ç«¯è®¿é—® Elasticsearch ã€‚ä¸€ä¸ª Elasticsearch è¯·æ±‚å’Œä»»ä½• HTTP è¯·æ±‚ä¸€æ ·ç”±è‹¥å¹²ç›¸åŒçš„éƒ¨ä»¶ç»„æˆï¼š curl -X&lt;VERB&gt; &#39;&lt;PROTOCOL&gt;://&lt;HOST&gt;:&lt;PORT&gt;/&lt;PATH&gt;?&lt;QUERY_STRING&gt;&#39; -d &#39;&lt;BODY&gt;&#39; è¢« &lt; &gt; æ ‡è®°çš„éƒ¨ä»¶ï¼š éƒ¨ä»¶å ä½œç”¨ VERB é€‚å½“çš„ HTTP æ–¹æ³• æˆ– è°“è¯ : GETã€ POSTã€ PUTã€ HEAD æˆ–è€… DELETEã€‚ PROTOCOL http æˆ–è€… httpsï¼ˆå¦‚æœä½ åœ¨ Elasticsearch å‰é¢æœ‰ä¸€ä¸ª https ä»£ç†ï¼‰ HOST Elasticsearch é›†ç¾¤ä¸­ä»»æ„èŠ‚ç‚¹çš„ä¸»æœºåï¼Œæˆ–è€…ç”¨ localhost ä»£è¡¨æœ¬åœ°æœºå™¨ä¸Šçš„èŠ‚ç‚¹ã€‚ PORT è¿è¡Œ Elasticsearch HTTP æœåŠ¡çš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯ 9200 ã€‚ PATH API çš„ç»ˆç«¯è·¯å¾„ï¼ˆä¾‹å¦‚ _count å°†è¿”å›é›†ç¾¤ä¸­æ–‡æ¡£æ•°é‡ï¼‰ã€‚Path å¯èƒ½åŒ…å«å¤šä¸ªç»„ä»¶ï¼Œä¾‹å¦‚ï¼š_cluster/stats å’Œ _nodes/stats/jvm ã€‚ QUERY_STRING ä»»æ„å¯é€‰çš„æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•° (ä¾‹å¦‚ ?pretty å°†æ ¼å¼åŒ–åœ°è¾“å‡º JSON è¿”å›å€¼ï¼Œä½¿å…¶æ›´å®¹æ˜“é˜…è¯») BODY ä¸€ä¸ª JSON æ ¼å¼çš„è¯·æ±‚ä½“ (å¦‚æœè¯·æ±‚éœ€è¦çš„è¯) å°±æ¯”å¦‚è®¡ç®—é›†ç¾¤ä¸­æ–‡æ¡£çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ª: curl -XGET 'http://localhost:9200/_count?pretty' -d ' { \"query\": { \"match_all\": {} } } ' ä¸è¿‡å¯¹äºå®‰è£…äº† Kibana çš„æˆ‘ä»¬ï¼Œå¯ä»¥ç›´æ¥åœ¨ Kibana çš„æ§åˆ¶å°è¾“å‡ºä»¥ä¸‹è¯­å¥ï¼Œä¹Ÿæ˜¯åŒæ ·çš„æ•ˆæœï¼š GET /_count?pretty { \"query\": { \"match_all\": {} } } æ–‡æ¡£ç®¡ç†ï¼ˆCRUDï¼‰å¦‚æœå¯¹äº RESTful ä¸å¤ªç†Ÿæ‚‰çš„ç«¥é‹è¯·å³è½¬ï¼šã€ä¼ é€é—¨ã€‘ å¢åŠ ï¼š POST /db/user/1 { \"username\": \"wmyskxz1\", \"password\": \"123456\", \"age\": \"22\" } POST /db/user/2 { \"username\": \"wmyskxz2\", \"password\": \"123456\", \"age\": \"22\" } è¿™ä¸€æ®µä»£ç ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œè¿™å…¶å®å°±å¾€ç´¢å¼•ä¸º db ç±»å‹ä¸º user çš„æ•°æ®åº“ä¸­æ’å…¥ä¸€æ¡ id ä¸º 1 çš„ä¸€æ¡æ•°æ®ï¼Œè¿™æ¡æ•°æ®å…¶å®å°±ç›¸å½“äºä¸€ä¸ªæ‹¥æœ‰ username/password/age ä¸‰ä¸ªå±æ€§çš„ä¸€ä¸ªå®ä½“ï¼Œå°±æ˜¯ JSON æ•°æ® æ‰§è¡Œå‘½ä»¤åï¼ŒElasticsearch è¿”å›å¦‚ä¸‹æ•°æ®ï¼š # POST /db/user/1 { \"_index\": \"db\", \"_type\": \"user\", \"_id\": \"1\", \"_version\": 1, \"result\": \"created\", \"_shards\": { \"total\": 2, \"successful\": 1, \"failed\": 0 }, \"_seq_no\": 2, \"_primary_term\": 1 } # POST /db/user/2 { \"_index\": \"db\", \"_type\": \"user\", \"_id\": \"2\", \"_version\": 1, \"result\": \"created\", \"_shards\": { \"total\": 2, \"successful\": 1, \"failed\": 0 }, \"_seq_no\": 1, \"_primary_term\": 1 } version æ˜¯ç‰ˆæœ¬å·çš„æ„æ€ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œæ“ä½œä¼šè‡ªåŠ¨åŠ  1 åˆ é™¤ï¼š DELETE /db/user/1 Elasticsearch è¿”å›æ•°æ®å¦‚ä¸‹ï¼š { \"_index\": \"db\", \"_type\": \"user\", \"_id\": \"1\", \"_version\": 2, \"result\": \"deleted\", \"_shards\": { \"total\": 2, \"successful\": 1, \"failed\": 0 }, \"_seq_no\": 1, \"_primary_term\": 1 } è¿™é‡Œå°±å¯ä»¥çœ‹åˆ° version å˜æˆäº† 2 ä¿®æ”¹ï¼š PUT /db/user/2 { \"username\": \"wmyskxz3\", \"password\": \"123456\", \"age\": \"22\" } Elasticsearch è¿”å›æ•°æ®å¦‚ä¸‹ï¼š { \"_index\": \"db\", \"_type\": \"user\", \"_id\": \"2\", \"_version\": 2, \"result\": \"updated\", \"_shards\": { \"total\": 2, \"successful\": 1, \"failed\": 0 }, \"_seq_no\": 2, \"_primary_term\": 1 } æŸ¥è¯¢ï¼š GET /db/user/2 è¿”å›æ•°æ®å¦‚ä¸‹ï¼š { \"_index\": \"db\", \"_type\": \"user\", \"_id\": \"2\", \"_version\": 2, \"found\": true, \"_source\": { \"username\": \"wmyskxz3\", \"password\": \"123456\", \"age\": \"22\" } } æœç´¢ä¸Šé¢æˆ‘ä»¬å·²ç»æ¼”ç¤ºäº†åŸºæœ¬çš„æ–‡æ¡£ CRUD åŠŸèƒ½ï¼Œç„¶è€Œ Elasticsearch çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æœç´¢ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ ä¹‹å‰ï¼Œä¸ºæ›´å¥½çš„æ¼”ç¤ºè¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å…ˆå¾€ Elasticsearch ä¸­æ’å…¥ä¸€äº›æ•°æ®ï¼š PUT /movies/movie/1 { \"title\": \"The Godfather\", \"director\": \"Francis Ford Coppola\", \"year\": 1972, \"genres\": [ \"Crime\", \"Drama\" ] } PUT /movies/movie/2 { \"title\": \"Lawrence of Arabia\", \"director\": \"David Lean\", \"year\": 1962, \"genres\": [ \"Adventure\", \"Biography\", \"Drama\" ] } PUT /movies/movie/3 { \"title\": \"To Kill a Mockingbird\", \"director\": \"Robert Mulligan\", \"year\": 1962, \"genres\": [ \"Crime\", \"Drama\", \"Mystery\" ] } PUT /movies/movie/4 { \"title\": \"Apocalypse Now\", \"director\": \"Francis Ford Coppola\", \"year\": 1979, \"genres\": [ \"Drama\", \"War\" ] } PUT /movies/movie/5 { \"title\": \"Kill Bill: Vol. 1\", \"director\": \"Quentin Tarantino\", \"year\": 2003, \"genres\": [ \"Action\", \"Crime\", \"Thriller\" ] } PUT /movies/movie/6 { \"title\": \"The Assassination of Jesse James by the Coward Robert Ford\", \"director\": \"Andrew Dominik\", \"year\": 2007, \"genres\": [ \"Biography\", \"Crime\", \"Drama\" ] } _searchç«¯ç‚¹ ç°åœ¨å·²ç»æŠŠä¸€äº›ç”µå½±ä¿¡æ¯æ”¾å…¥äº†ç´¢å¼•ï¼Œå¯ä»¥é€šè¿‡æœç´¢çœ‹çœ‹æ˜¯å¦å¯æ‰¾åˆ°å®ƒä»¬ã€‚ ä¸ºäº†ä½¿ç”¨ ElasticSearch è¿›è¡Œæœç´¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ _search ç«¯ç‚¹ï¼Œå¯é€‰æ‹©ä½¿ç”¨ç´¢å¼•å’Œç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ¨¡å¼å‘URLå‘å‡ºè¯·æ±‚ï¼š&lt;index&gt;/&lt;type&gt;/_searchã€‚å…¶ä¸­ï¼Œindex å’Œ type éƒ½æ˜¯å¯é€‰çš„ã€‚ æ¢å¥è¯è¯´ï¼Œä¸ºäº†æœç´¢ç”µå½±ï¼Œå¯ä»¥å¯¹ä»¥ä¸‹ä»»ä¸€URLè¿›è¡ŒPOSTè¯·æ±‚ï¼š http://localhost:9200/_search - æœç´¢æ‰€æœ‰ç´¢å¼•å’Œæ‰€æœ‰ç±»å‹ã€‚ http://localhost:9200/movies/_search - åœ¨ç”µå½±ç´¢å¼•ä¸­æœç´¢æ‰€æœ‰ç±»å‹ http://localhost:9200/movies/movie/_search - åœ¨ç”µå½±ç´¢å¼•ä¸­æ˜¾å¼æœç´¢ç”µå½±ç±»å‹çš„æ–‡æ¡£ã€‚ æœç´¢è¯·æ±‚æ­£æ–‡å’ŒElasticSearchæŸ¥è¯¢DSL å¦‚æœåªæ˜¯å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°ä¸Šé¢çš„URLï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æ‰€æœ‰çš„ç”µå½±ä¿¡æ¯ã€‚ä¸ºäº†åˆ›å»ºæ›´æœ‰ç”¨çš„æœç´¢è¯·æ±‚ï¼Œè¿˜éœ€è¦å‘è¯·æ±‚æ­£æ–‡ä¸­æä¾›æŸ¥è¯¢ã€‚ è¯·æ±‚æ­£æ–‡æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œé™¤äº†å…¶å®ƒå±æ€§ä»¥å¤–ï¼Œå®ƒè¿˜è¦åŒ…å«ä¸€ä¸ªåç§°ä¸º â€œqueryâ€ çš„å±æ€§ï¼Œè¿™å°±å¯ä½¿ç”¨ElasticSearchçš„æŸ¥è¯¢DSLã€‚ { \"query\": { //Query DSL here } } ä½ å¯èƒ½æƒ³çŸ¥é“æŸ¥è¯¢DSLæ˜¯ä»€ä¹ˆã€‚å®ƒæ˜¯ElasticSearchè‡ªå·±åŸºäºJSONçš„åŸŸç‰¹å®šè¯­è¨€ï¼Œå¯ä»¥åœ¨å…¶ä¸­è¡¨è¾¾æŸ¥è¯¢å’Œè¿‡æ»¤å™¨ã€‚ä½ å¯ä»¥æŠŠå®ƒç®€å•åŒSQLå¯¹åº”èµ·æ¥ï¼Œå°±ç›¸å½“äºæ˜¯æ¡ä»¶è¯­å¥å§ã€‚ åŸºæœ¬è‡ªç”±æ–‡æœ¬æœç´¢ï¼š æŸ¥è¯¢DSLå…·æœ‰ä¸€é•¿åˆ—ä¸åŒç±»å‹çš„æŸ¥è¯¢å¯ä»¥ä½¿ç”¨ã€‚ å¯¹äºâ€œæ™®é€šâ€è‡ªç”±æ–‡æœ¬æœç´¢ï¼Œæœ€æœ‰å¯èƒ½æƒ³ä½¿ç”¨ä¸€ä¸ªåç§°ä¸ºâ€œæŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢â€ã€‚ æŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢æ˜¯ä¸€ä¸ªé«˜çº§æŸ¥è¯¢ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„é€‰é¡¹ï¼ŒElasticSearchå°†è§£æå’Œè½¬æ¢ä¸ºæ›´ç®€å•çš„æŸ¥è¯¢æ ‘ã€‚å¦‚æœå¿½ç•¥äº†æ‰€æœ‰çš„å¯é€‰å‚æ•°ï¼Œå¹¶ä¸”åªéœ€è¦ç»™å®ƒä¸€ä¸ªå­—ç¬¦ä¸²ç”¨äºæœç´¢ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“ä½¿ç”¨ã€‚ ç°åœ¨å°è¯•åœ¨ä¸¤éƒ¨ç”µå½±çš„æ ‡é¢˜ä¸­æœç´¢æœ‰â€œkillâ€è¿™ä¸ªè¯çš„ç”µå½±ä¿¡æ¯ï¼š GET /_search { \"query\": { \"query_string\": { \"query\": \"kill\" } } } æ‰§è¡Œä¸Šé¢çš„è¯·æ±‚å¹¶æŸ¥çœ‹ç»“æœï¼Œå¦‚ä¸‹æ‰€ç¤º - æ­£å¦‚é¢„æœŸçš„ï¼Œå¾—åˆ°ä¸¤ä¸ªå‘½ä¸­ç»“æœï¼Œæ¯ä¸ªç”µå½±çš„æ ‡é¢˜ä¸­éƒ½å¸¦æœ‰â€œkillâ€å•è¯ã€‚å†çœ‹çœ‹å¦ä¸€ç§æƒ…å†µï¼Œåœ¨ç‰¹å®šå­—æ®µä¸­æœç´¢ã€‚ æŒ‡å®šæœç´¢çš„å­—æ®µ åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªéå¸¸ç®€å•çš„æŸ¥è¯¢ï¼Œä¸€ä¸ªåªæœ‰ä¸€ä¸ªå±æ€§ â€œqueryâ€ çš„æŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢ã€‚ å¦‚å‰æ‰€è¿°ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢æœ‰ä¸€äº›å¯ä»¥æŒ‡å®šè®¾ç½®ï¼Œå¦‚æœä¸ä½¿ç”¨ï¼Œå®ƒå°†ä¼šä½¿ç”¨é»˜è®¤çš„è®¾ç½®å€¼ã€‚ è¿™æ ·çš„è®¾ç½®ç§°ä¸ºâ€œfieldsâ€ï¼Œå¯ç”¨äºæŒ‡å®šè¦æœç´¢çš„å­—æ®µåˆ—è¡¨ã€‚å¦‚æœä¸ä½¿ç”¨â€œfieldsâ€å­—æ®µï¼ŒElasticSearchæŸ¥è¯¢å°†é»˜è®¤è‡ªåŠ¨ç”Ÿæˆçš„åä¸º â€œ_allâ€ çš„ç‰¹æ®Šå­—æ®µï¼Œæ¥åŸºäºæ‰€æœ‰æ–‡æ¡£ä¸­çš„å„ä¸ªå­—æ®µåŒ¹é…æœç´¢ã€‚ ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œä¿®æ”¹ä»¥å‰çš„æœç´¢è¯·æ±‚æ­£æ–‡ï¼Œä»¥ä¾¿æŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢æœ‰ä¸€ä¸ª fields å±æ€§ç”¨æ¥è¦æœç´¢çš„å­—æ®µæ•°ç»„ï¼š GET /_search { \"query\": { \"query_string\": { \"query\": \"ford\", \"fields\": [ \"title\" ] } } } æ‰§è¡Œä¸Šé¢æŸ¥è¯¢å®ƒï¼Œçœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆç»“æœ(åº”è¯¥åªåŒ¹é…åˆ° 1 è¡Œæ•°æ®)ï¼š æ­£å¦‚é¢„æœŸçš„å¾—åˆ°ä¸€ä¸ªå‘½ä¸­ï¼Œç”µå½±çš„æ ‡é¢˜ä¸­çš„å•è¯â€œfordâ€ã€‚ç°åœ¨ï¼Œä»æŸ¥è¯¢ä¸­ç§»é™¤fieldså±æ€§ï¼Œåº”è¯¥èƒ½åŒ¹é…åˆ° 3 è¡Œæ•°æ®ï¼š è¿‡æ»¤å‰é¢å·²ç»ä»‹ç»äº†å‡ ä¸ªç®€å•çš„è‡ªç”±æ–‡æœ¬æœç´¢æŸ¥è¯¢ã€‚ç°åœ¨æ¥çœ‹çœ‹å¦ä¸€ä¸ªç¤ºä¾‹ï¼Œæœç´¢ â€œdramaâ€ï¼Œä¸æ˜ç¡®æŒ‡å®šå­—æ®µï¼Œå¦‚ä¸‹æŸ¥è¯¢ - GET /_search { \"query\": { \"query_string\": { \"query\": \"drama\" } } } å› ä¸ºåœ¨ç´¢å¼•ä¸­æœ‰äº”éƒ¨ç”µå½±åœ¨ _all å­—æ®µ(ä»ç±»åˆ«å­—æ®µ)ä¸­åŒ…å«å•è¯ â€œdramaâ€ï¼Œæ‰€ä»¥å¾—åˆ°äº†ä¸Šè¿°æŸ¥è¯¢çš„ 5 ä¸ªå‘½ä¸­ã€‚ ç°åœ¨ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³é™åˆ¶è¿™äº›å‘½ä¸­ä¸ºåªæ˜¯ 1962 å¹´å‘å¸ƒçš„ç”µå½±ã€‚è¦åšåˆ°è¿™ç‚¹ï¼Œéœ€è¦åº”ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¦æ±‚ â€œyearâ€ å­—æ®µç­‰äº 1962ã€‚è¦æ·»åŠ è¿‡æ»¤å™¨ï¼Œä¿®æ”¹æœç´¢è¯·æ±‚æ­£æ–‡ï¼Œä»¥ä¾¿å½“å‰çš„é¡¶çº§æŸ¥è¯¢(æŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢)åŒ…å«åœ¨è¿‡æ»¤çš„æŸ¥è¯¢ä¸­ï¼š { \"query\": { \"filtered\": { \"query\": { \"query_string\": { \"query\": \"drama\" } }, \"filter\": { //Filter to apply to the query } } } } è¿‡æ»¤çš„æŸ¥è¯¢æ˜¯å…·æœ‰ä¸¤ä¸ªå±æ€§(queryå’Œfilter)çš„æŸ¥è¯¢ã€‚æ‰§è¡Œæ—¶ï¼Œå®ƒä½¿ç”¨è¿‡æ»¤å™¨è¿‡æ»¤æŸ¥è¯¢çš„ç»“æœã€‚è¦å®Œæˆè¿™æ ·çš„æŸ¥è¯¢è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¦æ±‚yearå­—æ®µçš„å€¼ä¸º1962ã€‚ ElasticSearchæŸ¥è¯¢DSLæœ‰å„ç§å„æ ·çš„è¿‡æ»¤å™¨å¯ä¾›é€‰æ‹©ã€‚å¯¹äºè¿™ä¸ªç®€å•çš„æƒ…å†µï¼ŒæŸä¸ªå­—æ®µåº”è¯¥åŒ¹é…ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œä¸€ä¸ªæ¡ä»¶è¿‡æ»¤å™¨å°±èƒ½å¾ˆå¥½åœ°å®Œæˆå·¥ä½œã€‚ \"filter\": { \"term\": { \"year\": 1962 } } å®Œæ•´çš„æœç´¢è¯·æ±‚å¦‚ä¸‹æ‰€ç¤ºï¼š GET /_search { \"query\": { \"filtered\": { \"query\": { \"query_string\": { \"query\": \"drama\" } }, \"filter\": { \"term\": { \"year\": 1962 } } } } } å½“æ‰§è¡Œä¸Šé¢è¯·æ±‚ï¼Œåªå¾—åˆ°ä¸¤ä¸ªå‘½ä¸­ï¼Œè¿™ä¸ªä¸¤ä¸ªå‘½ä¸­çš„æ•°æ®çš„ year å­—æ®µçš„å€¼éƒ½æ˜¯ç­‰äº 1962ã€‚ æ— éœ€æŸ¥è¯¢å³å¯è¿›è¡Œè¿‡æ»¤ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨è¿‡æ»¤å™¨é™åˆ¶æŸ¥è¯¢å­—ç¬¦ä¸²æŸ¥è¯¢çš„ç»“æœã€‚å¦‚æœæƒ³è¦åšçš„æ˜¯åº”ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨å‘¢ï¼Ÿ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰ç”µå½±ç¬¦åˆä¸€å®šçš„æ ‡å‡†ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç„¶åœ¨æœç´¢è¯·æ±‚æ­£æ–‡ä¸­ä½¿ç”¨ â€œqueryâ€ å±æ€§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½åªæ˜¯æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œéœ€è¦å°†å®ƒåŒ…è£…åœ¨æŸç§æŸ¥è¯¢ä¸­ã€‚ ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä¿®æ”¹å½“å‰çš„æœç´¢è¯·æ±‚ï¼Œæ›¿æ¢æŸ¥è¯¢å­—ç¬¦ä¸² query è¿‡æ»¤æŸ¥è¯¢ä¸­çš„ match_all æŸ¥è¯¢ï¼Œè¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢ï¼Œåªæ˜¯åŒ¹é…ä¸€åˆ‡ã€‚ç±»ä¼¼ä¸‹é¢è¿™ä¸ªï¼š GET /_search { \"query\": { \"filtered\": { \"query\": { \"match_all\": {} }, \"filter\": { \"term\": { \"year\": 1962 } } } } } å¦ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¸¸æ•°åˆ†æ•°æŸ¥è¯¢ï¼š GET /_search { \"query\": { \"constant_score\": { \"filter\": { \"term\": { \"year\": 1962 } } } } } å‚è€ƒæ–‡ç« ï¼šElasticsearchå…¥é—¨æ•™ç¨‹ã€Elasticsearchå®˜æ–¹æ–‡æ¡£ã€ ElasticSearch å¿«é€Ÿä¸Šæ‰‹å­¦ä¹ å…¥é—¨æ•™ç¨‹ ä¸‰ã€é›†æˆ SpringBoot ç®€å•ç¤ºä¾‹ç¬¬ä¸€æ­¥ï¼šæ–°å»º SpringBoot é¡¹ç›®pomåŒ…ä¾èµ–ï¼š &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;!-- Elasticsearchæ”¯æŒ --> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-elasticsearch&lt;/artifactId> &lt;/dependency> application.propertiesï¼š spring.data.elasticsearch.cluster-nodes=127.0.0.1:9300 ç¬¬äºŒæ­¥ï¼šæ–°å»ºå®ä½“ç±»Userç±»ï¼š @Document(indexName = \"users\", type = \"user\") public class User { private int id; private String username; private String password; private int age; /** getter and setter */ } ç¬¬ä¸‰æ­¥ï¼šDao å±‚UserDaoï¼š import com.wmyskxz.demo.domain.User; import org.springframework.data.elasticsearch.repository.ElasticsearchRepository; public interface UserDao extends ElasticsearchRepository&lt;User, Integer> { } ç¬¬å››æ­¥ï¼šController å±‚è¿™é‡Œç´§ç´§æ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œæ‰€ä»¥å°±çœç•¥ service å±‚ï¼Œå½“ç„¶ CRUD ä¸èƒ½å°‘ï¼š @RestController public class UserController { @Autowired UserDao userDao; @PostMapping(\"/addUser\") public String addUser(String username, String password, Integer age) { User user = new User(); user.setUsername(username); user.setPassword(password); user.setAge(age); return String.valueOf(userDao.save(user).getId());// è¿”å›idåšéªŒè¯ } @DeleteMapping(\"/deleteUser\") public String deleteUser(Integer id) { userDao.deleteById(id); return \"Success!\"; } @PutMapping(\"/updateUser\") public String updateUser(Integer id, String username, String password, Integer age) { User user = new User(); user.setId(id); user.setUsername(username); user.setPassword(password); user.setAge(age); return String.valueOf(userDao.save(user).getId());// è¿”å›idåšéªŒè¯ } @GetMapping(\"/getUser\") public User getUser(Integer id) { return userDao.findById(id).get(); } @GetMapping(\"/getAllUsers\") public Iterable&lt;User> getAllUsers() { return userDao.findAll(); } } ç¬¬äº”æ­¥ï¼šæµ‹è¯•ä½¿ç”¨ REST æµ‹è¯•å·¥å…·æµ‹è¯•æ²¡æœ‰é—®é¢˜ï¼Œè¿‡ç¨‹æˆ‘å°±ä¸ç»™äº†..bingoï¼ æ€»ç»“å…¶å®ä½¿ç”¨ SpringBoot æ¥æ“ä½œ Elasticsearch çš„è¯ä½¿ç”¨æ–¹æ³•æœ‰ç‚¹ç±»ä¼¼ JPA äº†ï¼Œè€Œä¸”å®Œå…¨å¯ä»¥æŠŠ Elasticsearch å½“åš SQL æœåŠ¡å™¨æ¥ç”¨ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜â€¦åœ¨å„ç§åœ°æ–¹çœ‹åˆ°äº†å„ä¸ªå¤§å¤§ç‰¹åˆ«æ˜¯å®˜æ–¹ï¼Œéƒ½å¿«æŠŠ Elasticsearch è¿™æ¬¾å·¥å…·å¹ä¸Šå¤©äº†ï¼Œå¯¹äºå®ƒæ–¹ä¾¿çš„é›†æˆè¿™ä¸€ç‚¹æˆ‘å€’æ˜¯æœ‰æ„Ÿå—ï¼Œå…³äºé€Ÿåº¦è¿™æ–¹é¢è¿˜æ²¡æœ‰å¾ˆæ·±çš„æ„Ÿå—ï¼Œæ…¢æ…¢æ¥å§â€¦ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"Elasticsearch","slug":"Elasticsearch","permalink":"http://www.wmyskxz.com/tags/Elasticsearch/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°","slug":"Javaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°","date":"2019-01-06T23:17:00.000Z","updated":"2020-08-03T09:12:41.307Z","comments":true,"path":"2019/01/07/java-xiao-xi-xi-tong-jian-dan-she-ji-yu-shi-xian/","link":"","permalink":"http://www.wmyskxz.com/2019/01/07/java-xiao-xi-xi-tong-jian-dan-she-ji-yu-shi-xian/","excerpt":"","text":"å‰è¨€ï¼šç”±äºå¯¼å¸ˆåœ¨æˆ‘çš„æ¯•è®¾é¡¹ç›®é‡ŒåŠ äº†æ¶ˆæ¯ç³»ç»Ÿï¼ˆæœ¬æ¥æƒ³æ°´æ°´å°±è¿‡çš„..ï¼‰ï¼Œæ²¡åŠæ³•â€¦æ¥ç¨å¾®ç ”ç©¶ç ”ç©¶å§..ç®€å•ç®€å•â€¦ éœ€æ±‚åˆ†ææˆ‘çš„æ¯•è®¾æ˜¯ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œç±»ä¼¼äºç®€ä¹¦è¿™æ ·çš„ï¼Œæ‰€ä»¥æ¶ˆæ¯ç³»ç»Ÿä¹Ÿç±»ä¼¼ï¼Œåœ¨ç”¨æˆ·çš„æ¶ˆæ¯é‡ŒåŒ…å«äº†æœ‰ï¼šå–œæ¬¢å’Œèµã€è¯„è®ºã€å…³æ³¨ã€ç§ä¿¡è¿™æ ·çš„ä¸€ç±»ä¸œè¥¿ï¼Œè¿™æ ·çš„ä¸€ä¸ªç³»ç»Ÿåº”è¯¥åŒ…å«ä»¥ä¸‹çš„åŠŸèƒ½ï¼š å½“ç”¨æˆ·è¯„è®º/å…³æ³¨/ç‚¹èµæ—¶èƒ½å¤Ÿé€šçŸ¥åˆ°è¢«è¯„è®º/å…³æ³¨/ç‚¹èµçš„ç”¨æˆ·ï¼Œå¹¶ç”Ÿæˆåƒå¦‚ä¸‹æ ¼å¼çš„æç¤ºä¿¡æ¯ï¼ˆå…è®¸å–æ¶ˆå…³æ³¨/ç‚¹èµä½†ä¸æ”¶åˆ°é€šçŸ¥ï¼‰ï¼š æˆ‘æ²¡æœ‰ å…³æ³¨äº† ä½ ä¸‰é¢— å–œæ¬¢äº†ä½ çš„æ–‡ç«  ã€ŠJavaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°ã€‹å¿ƒè„ è¯„è®ºäº†ä½ çš„æ–‡ç«  ã€ŠJavaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°ã€‹ ç”¨æˆ·ä¹‹é—´èƒ½å¤Ÿå‘é€/æ¥å—ç§ä¿¡ï¼Œä¸éœ€è¦åƒQQé‚£æ ·å»ºç«‹é•¿è¿æ¥å®ç°å®æ—¶é€šä¿¡ï¼Œä½†åˆ·æ–°åˆ—è¡¨èƒ½çœ‹åˆ°æ–°æ¶ˆæ¯ï¼Œå¹¶ä¸”ç•Œé¢ç±»ä¼¼QQèŠå¤©ç•Œé¢ä¸€å·¦ä¸€å³ï¼Œå…è®¸åˆ é™¤ç§ä¿¡ï¼› ç®¡ç†å‘˜èƒ½å‘é€é€šå‘Šï¼Œå…¶å®å°±åƒæ˜¯ç”¨ç®¡ç†å‘˜çš„è´¦å·ç»™æ¯ä¸€ä¸ªç”¨æˆ·å‘é€ç§ä¿¡ï¼› å¯ä»¥æŸ¥çœ‹å…³æ³¨çš„ç”¨æˆ·æœ€æ–°å‘è¡¨çš„æ–‡ç« ï¼Œå¾—åˆ°ç±»ä¼¼æ¨é€çš„æ•ˆæœï¼› æ‰€æœ‰æ¶ˆæ¯å½“ç„¶ä¹Ÿè¦æ ‡æ³¨å¥½æ¶ˆæ¯å·²è¯»oræœªè¯»ï¼Œç™»å½•å°±èƒ½å¾—åˆ°æ¶ˆæ¯æé†’æ ‡è¯†å¥½æœ‰å¤šå°‘æœªè¯»æ¶ˆæ¯ï¼Œåƒæ˜¯QQæ¶ˆæ¯å³ä¸Šè§’çš„å°çº¢ç‚¹é‚£æ ·ç±»ä¼¼ï¼› OKï¼Œå¤§è‡´å°±æ˜¯ä»¥ä¸Šçš„åŠŸèƒ½ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šè¿™è¦æ€ä¹ˆè®¾è®¡å•Šï¼Ÿ è¿›ä¸€æ­¥åˆ†æå…¶å®å¯ä»¥æ ¹æ®ä¸Šé¢çš„éœ€æ±‚åˆ†æï¼ŒæŠŠä¸Šé¢çš„æ¶ˆæ¯å¤§è‡´å¯ä»¥åˆ†ä¸ºå…¬å‘Šï¼ˆAnnouncementï¼‰ã€æé†’ï¼ˆRemindï¼‰ã€ç§ä¿¡ï¼ˆMessageï¼‰ä¸‰ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´æŠ½è±¡å‡ºä¸€ä¸ª é€šçŸ¥ï¼ˆNotifyï¼‰ æ¨¡å‹ï¼š å‘é€è€… æ¥å—è€… ä¿¡æ¯ç±»å‹ åŠ¨ä½œç±»å‹ é€šçŸ¥å†…å®¹ æ˜¯å¦å·²è¯» æ¶ˆæ¯åˆ›å»ºæ—¶é—´ ç²‰ä¸1å· æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ æé†’ å…³æ³¨ ç²‰ä¸1å· å…³æ³¨äº† ä½  æ˜¯ xx:xx:xx ç²‰ä¸1å· æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ æé†’ å–œæ¬¢å’Œèµ ç²‰ä¸1å· å–œæ¬¢äº†ä½ çš„æ–‡ç«  ã€ŠJavaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°ã€‹ æ˜¯ xx:xx:xx ç²‰ä¸1å· æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ æé†’ è¯„è®º ç²‰ä¸1å· è¯„è®ºäº†ä½ çš„æ–‡ç«  ã€ŠJavaæ¶ˆæ¯ç³»ç»Ÿç®€å•è®¾è®¡ä¸å®ç°ã€‹ æ˜¯ xx:xx:xx ç²‰ä¸2å· æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ ç§ä¿¡ æ—  ä½ æ”¶åˆ°äº†æ¥è‡ª ç²‰ä¸2å· çš„ 1 æ¡ç§ä¿¡ æ˜¯ xx:xx:xx ä¸Šé¢åŠ äº†ä¸€äº›æ•°æ®ä»¥ä¾¿ç†è§£ï¼Œä¸è¿‡è¯è¯´ç²‰ä¸1å·æœç„¶æ˜¯çœŸçˆ±ç²‰ï¼Œåˆå…³æ³¨åˆå–œæ¬¢åˆè¯„è®ºï¼Œå˜»å˜»å˜»å˜»â€¦ emm.è¿™æ ·çš„æ¨¡å‹èƒ½å¤Ÿèƒœä»»æˆ‘ä»¬çš„å·¥ä½œå—ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“..ä¸è¿‡æ ¹æ®è¿™ä¸ªæ¨¡å‹èƒ½å¤Ÿæƒ³å‡ºå¤§æ¦‚çš„è¿™æ ·çš„åˆ›å»ºé€šçŸ¥çš„é€»è¾‘ï¼š ä¼¼ä¹çœ‹ä¸Šå»ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜..ä¸è¿‡æ—¢ç„¶æ¶ˆæ¯å†…å®¹éƒ½å¯ä»¥æ ¹æ®åŠ¨ä½œç±»å‹è‡ªåŠ¨ç”Ÿæˆçš„äº†ï¼ŒåŠ ä¸Šç§ä¿¡å’Œå…¬å‘Šçš„å†…å®¹å› ä¸ºé•¿åº¦é—®é¢˜ä¹Ÿè‚¯å®šä¸ä¿å­˜åœ¨è¿™å¼ è¡¨é‡Œçš„å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®åº“æ—¶å¹²è„†æŠŠé€šçŸ¥å†…å®¹è¿™æ¡å»æ‰ä¸è¦ï¼Œå½“ä¿¡æ¯ç±»å‹æ˜¯å…¬å‘Šæˆ–è€…ç§ä¿¡æ—¶å¯ä»¥æ ¹æ®è¿™æ¡é€šçŸ¥çš„ id åœ¨ç›¸åº”çš„è¡¨ä¸­æ‰¾åˆ°ç›¸åº”çš„æ•°æ®å°±å¯ä»¥äº†ï¼Œemm..æˆ‘è§‰å¾—å¯ä»¥ é¡ºä¸‹å»æƒ³æƒ³å…¶å®è„‘ä¸­æœ‰äº†ä¸€ä¸ªå¤§æ¦‚ï¼Œè¿™æ ·çš„æ¨¡å‹è¿˜å®¹æ˜“è®¾è®¡å’Œæƒ³åˆ°ï¼Œå…¶å®ä¸»è¦çš„é—®é¢˜è¿˜æ˜¯ä¸‹é¢çš„é‚£äº› é—®é¢˜ä¸€ï¼šå•è¡¨æ•°æ®å¤§äº†æ€ä¹ˆåŠï¼Ÿå¦‚æœå½“ç”¨æˆ·é‡ä¸Šå»åˆ°ä¸€å®šé‡çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™å¼  é€šçŸ¥è¡¨ åŠ¿å¿…ä¼šå˜å¾—å·¨å¤§ï¼Œå› ä¸ºä¸ç®¡æ˜¯æˆ‘ä»¬çš„å…¬å‘Šã€æé†’è¿˜æ˜¯ç§ä¿¡éƒ½ä¼šåœ¨è¿™ä¸ªé€šçŸ¥è¡¨ä¸Šåˆ›å»ºä¸€æ¡æ•°æ®ï¼Œåˆ°æ—¶å€™å°±ä¼šé¢ä¸´æŸ¥è¯¢æ…¢çš„é—®é¢˜ï¼Œé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼šæˆ‘ä¹Ÿä¸çŸ¥é“.. æ‰€ä»¥æˆ‘ä»¬çš„è§„å®šæ˜¯ï¼šä¸è€ƒè™‘åƒç®€ä¹¦è¿™æ ·è¶…å¤§ç”¨æˆ·é‡ï¼Œèƒ½å¤Ÿåº”ä»˜æ¯•è®¾å°±å¥½å•¦..ç®€å•è®¾è®¡ï¼Œå˜»å˜»å˜»..ä¸è¿‡ä¹Ÿä¸è¦å¤ªä¸ç›¸ä¿¡MySQLçš„æ€§èƒ½ï¼Œè¿˜æ˜¯æœ‰ä¸€å®šå®¹çº³èƒ½åŠ›çš„ï¼ é—®é¢˜äºŒï¼šç”¨æˆ·è¦æ€æ ·æ­£ç¡®å¾—åˆ°è‡ªå·±çš„æœªè¯»æ¶ˆæ¯å‘¢ï¼Ÿæš´åŠ›ä¸€ç‚¹æ–¹æ³•æ˜¯ï¼Œåæ­£é€šçŸ¥è¡¨é‡Œæœ‰ç”¨æˆ·æ‰€æœ‰çš„æ¶ˆæ¯ï¼Œç›´æ¥è¯»å–å®Œï¼Œç„¶åé€šè¿‡æ˜¯å¦å·²è¯»å­—æ®µå°±èƒ½å¤Ÿæ‰¾åˆ°æ­£ç¡®çš„æ‰€æœ‰æœªè¯»æ¶ˆæ¯äº†ï¼Œè¿™..è¿™ä¹ˆç®€å•å—ï¼Ÿ å…¶å®æœ‰æ€è€ƒè¿‡ä½¿ç”¨æ—¶é—´æˆ–è€…å¦å»ºä¸€å¼ ä¿å­˜æœ‰æœ€æ–°å·²è¯»åˆ°å“ªæ¡æ¶ˆæ¯çš„è¡¨ï¼Œä½†ç”¨æˆ·å¯ä»¥é€‰æ‹©æœ‰ä¸€äº›è¯»æœ‰ä¸€äº›ä¸è¯»ï¼Œè¿™ä¸¤ä¸ªä¼¼ä¹éƒ½å¾ˆéš¾è¾¾åˆ°ç›®çš„â€¦è¿˜æ˜¯æš´åŠ›å§ é—®é¢˜ä¸‰ï¼šç§ä¿¡æ¶ˆæ¯è¯¥æ€ä¹ˆè®¾è®¡ï¼Ÿ å‘é€è€… æ¥å—è€… å†…å®¹ å‘é€æ—¶é—´ ç²‰ä¸1å· æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ æˆ‘æ˜¯ä½ çš„çœŸçˆ±ç²‰å•Šï¼æˆ‘è¦ç»™ä½ ç”ŸçŒ´å­ï¼ 2019å¹´1æœˆ7æ—¥11:34:23 æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ ç²‰ä¸1å· å·²é˜…â€¦ä¸‹ä¸€ä¸ªâ€¦ 2019å¹´1æœˆ7æ—¥11:34:53 å°±åƒ QQæ¶ˆæ¯ ä¸€æ ·å˜›ï¼ŒåŒ…å«ä¸€ä¸ªå†…å®¹ã€æ—¶é—´ã€å‘é€è€…å’Œæ¥å—è€…ï¼Œç„¶åå‰ç«¯ç›´æ¥æ ¹æ®æ—¶é—´æˆ–è€… id æ’åºç”Ÿæˆä¸€å·¦ä¸€å³çš„æ¶ˆæ¯å¯¹è¯æ¡†ï¼Œä¸è¿‡æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç‚¹å°±æ˜¯ç§ä¿¡æ˜¯ä¸€ä¸ªåŒå‘äº¤æµçš„è¿‡ç¨‹ï¼Œåœ¨ä¸€ä¸ªå¯¹è¯æ¡†ä¸­æˆ‘å¯èƒ½æ—¢æ˜¯æ¥å—è€…ä¹Ÿæ˜¯å‘é€è€…ï¼Œè¿™ä¹Ÿæ— æ‰€è°“å˜›ï¼Œç¨å¾®åˆ†æåˆ†æåœºæ™¯ï¼š è¯»å–ç§ä¿¡åˆ—è¡¨æ—¶ï¼šæŒ‰ç…§æ¥å—è€…å’Œå‘é€è€…ä¸€èµ·æŸ¥è¯¢çš„åŸåˆ™ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢æ¥å—è€…æ˜¯è‡ªå·±å’Œå‘é€è€…æ˜¯è‡ªå·±çš„æ•°æ®ï¼Œç„¶åæ ¹æ®æ—¶é—´å’Œå·²è¯»æœªè¯»æ¥å»ºç«‹ç§ä¿¡åˆ—è¡¨ï¼› è¯»å–ç§ä¿¡æ—¶ï¼šè¿™æ—¶å·²ç»æœ‰äº†æ˜ç¡®çš„æ¥å—è€…å’Œå‘é€è€…ï¼Œé‚£å°±æŸ¥è¯¢æ‰€æœ‰ å‘é€è€…æ˜¯å¯¹æ–¹æ¥å—è€…æ˜¯è‡ªå·± Or å‘é€è€…æ˜¯è‡ªå·±æ¥å—è€…æ˜¯å¯¹æ–¹ çš„æ•°æ®ï¼Œç„¶ååœ¨å‰ç«¯æ‹¼å‡‘å‡ºä¸€å·¦ä¸€å³çš„èŠå¤©æ¡†ï¼› å‘é€ç§ä¿¡æ—¶ï¼šå…ˆæŸ¥è¯¢ä¹‹å‰æ˜¯å¦æœ‰è®°å½•ï¼Œç„¶ååŒä¸Šå»ºç«‹èŠå¤©æ¡†ï¼Œç‚¹å‡»å‘é€ä¹‹åæŠŠå‘é€æ–¹è®¾ä¸ºè‡ªå·±æ¥æ”¶æ–¹è®¾ä¸ºç§ä¿¡å¯¹è±¡ï¼Œç„¶ååœ¨é€šçŸ¥è¡¨ä¸­æ–°å»ºä¸€æ¡æœªè¯»æ•°æ®é€šçŸ¥ç§ä¿¡å¯¹è±¡æœ‰ç§ä¿¡æ¥äº†ï¼› è¿™å®Œå…¨èƒ½æ»¡è¶³è¦æ±‚ï¼Œåªä¸è¿‡æ„Ÿè§‰æŸ¥è¯¢å¤šäº†äº›.. æ•°æ®åº“è®¾è®¡ ç®€å•å¼„äº†å¼„å¼„..çœ‹ç€æŒºéš¾å—çš„ï¼Œä¸è¿‡èƒ½ç®€å•å®ç°åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸ºäº†æ¼”ç¤ºï¼Œè¿™é‡Œæ˜¯åšäº†ä¸€å¼ user_followè¡¨ï¼Œè¡¨ç¤ºç”¨æˆ·ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œç‚¹èµå’Œè¯„è®ºä¸è¿™ä¸ªç±»ä¼¼ï¼Œå°±ä¸å¤šå¼„äº†..ä¸‹é¢ç»™ä¸€ä¸‹å»ºè¡¨è¯­å¥å§ï¼š userè¡¨ï¼š CREATE TABLE `user` ( `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `username` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·å§“å', PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8; user_followè¡¨ï¼š CREATE TABLE `user_follow` ( `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `uid` bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID', `follow_uid` bigint(20) NOT NULL COMMENT 'å…³æ³¨çš„ç”¨æˆ·id', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='ç”¨æˆ·å…³æ³¨è¡¨,è®°å½•äº†æ‰€æœ‰ç”¨æˆ·çš„å…³æ³¨ä¿¡æ¯'; notifyè¡¨ï¼š CREATE TABLE `notify` ( `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `sender_id` bigint(20) NOT NULL COMMENT 'å‘é€è€…ç”¨æˆ·ID', `reciver_id` bigint(20) NOT NULL COMMENT 'æ¥å—è€…ç”¨æˆ·ID', `type` varchar(50) NOT NULL COMMENT 'æ¶ˆæ¯ç±»å‹:announcementå…¬å‘Š/remindæé†’/messageç§ä¿¡', `is_read` bit(1) NOT NULL DEFAULT b'0' COMMENT 'æ˜¯å¦å·²è¯»,0æœªè¯»,1å·²è¯»', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´:æŒ‰å½“å‰æ—¶é—´è‡ªåŠ¨åˆ›å»º', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='ç”¨æˆ·é€šçŸ¥è¡¨,åŒ…å«äº†æ‰€æœ‰ç”¨æˆ·çš„æ¶ˆæ¯'; messageè¡¨ï¼š CREATE TABLE `message` ( `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `notify_id` bigint(20) NOT NULL COMMENT 'å¯¹åº”é€šçŸ¥æ¶ˆæ¯çš„id', `sender_id` bigint(20) NOT NULL COMMENT 'å‘é€è€…ç”¨æˆ·ID', `reciver_id` bigint(20) NOT NULL COMMENT 'æ¥å—è€…ç”¨æˆ·ID', `content` varchar(1000) NOT NULL COMMENT 'æ¶ˆæ¯å†…å®¹,æœ€é•¿é•¿åº¦ä¸å…è®¸è¶…è¿‡1000', `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´:æŒ‰å½“å‰æ—¶é—´è‡ªåŠ¨åˆ›å»º', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='ç§ä¿¡ä¿¡æ¯è¡¨,åŒ…å«äº†æ‰€æœ‰ç”¨æˆ·çš„ç§ä¿¡ä¿¡æ¯'; æ ¹æ®ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹5.3 ç¬¬å…­æ¡ æ²¡æœ‰ä½¿ç”¨ä»»ä½•çº§è”å’Œå¤–é”®ï¼Œbingoï¼ Spring Boot + MyBatis å®ä¾‹ç¬¬ä¸€æ­¥ï¼šåŸºç¡€ç¯å¢ƒæ­å»ºSpringBooté¡¹ç›®æ€ä¹ˆæ­å°±ä¸è¯´äº†å§ï¼Œç»™ä¸€ç»™å‡ ä¸ªå…³é”®çš„é…ç½®æ–‡ä»¶ï¼š pomåŒ…ä¾èµ–ï¼š &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.mybatis.spring.boot&lt;/groupId> &lt;artifactId>mybatis-spring-boot-starter&lt;/artifactId> &lt;version>1.3.2&lt;/version> &lt;/dependency> &lt;!-- SpringBoot - MyBatis é€†å‘å·¥ç¨‹ --> &lt;dependency> &lt;groupId>org.mybatis.generator&lt;/groupId> &lt;artifactId>mybatis-generator-core&lt;/artifactId> &lt;version>1.3.6&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;scope>5.1.18&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> è¿™é‡Œæœ‰ä¸€ä¸ªå·¨å‘ï¼Œè€—è´¹äº†æˆ‘å¥½åŠå¤©çš„æ—¶é—´ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘æ˜æ˜å¼•å…¥çš„ 5.1.18 ç‰ˆæœ¬çš„ mysql-connector-javaï¼Œå¯ Maven å°±æ˜¯éè¦ç»™æˆ‘æ¯”è¾ƒæ–°ç‰ˆæœ¬çš„ 8.0.13ï¼Œè¿™å¯¼è‡´äº†åœ¨æˆ‘ä½¿ç”¨ MyBatis é€†å‘å·¥ç¨‹ç”Ÿæˆ domain å’Œ mapper çš„è¿‡ç¨‹ä¸­å‡ºç°äº†ä»¥ä¸‹çš„é—®é¢˜ï¼š 1ã€æç¤ºæˆ‘æ•°æ®åº“è¿æ¥çš„é©±åŠ¨åç§°éœ€è¦æ”¹æˆcom.mysql.cj.jdbc.Driverè€Œä¸æ˜¯ä¹‹å‰çš„com.mysql.jdbc.Driverï¼Œä¸ç„¶å°±æŠ¥é”™ï¼š Loading class com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class iscom.mysql.cj.jdbc.Driverâ€™. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary. 2ã€è¿˜éœ€è¦è®¾ç½® mysql çš„æ—¶åŒºï¼Œä¹Ÿå°±æ˜¯éœ€è¦å°†connectionURLå±æ€§å†™æˆ&quot;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&quot;ã€‚å¦‚æœä¸æŒ‡å®šserverTimezone=UTCï¼ˆè¿˜å¿…é¡»å¤§å†™ï¼‰ï¼Œå°†æŠ¥é”™ï¼š java.sql.SQLException: The server time zone value â€˜?Ğ¹???????â€™ is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.&emsp;&emsp;at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:695)&emsp;&emsp;at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:663) 3ã€é€†å‘å·¥ç¨‹ä¼šå»æ‰¾ MySQL å…¶ä»–åº“çš„ç›¸åŒè¡¨åçš„è¡¨ï¼Œç„¶åç”Ÿæˆä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè¿˜ç”±äºæ‰¾ä¸åˆ°ä¸»é”® id ç”Ÿæˆäº†åªå« inser() æ–¹æ³•è€Œä¸å«åˆ é™¤ã€æ›´æ–°æ–¹æ³•çš„ Mapper æ–‡ä»¶ï¼› è§£å†³æ–¹æ³•å°±åªæœ‰è‡ªå·±æ‰‹åŠ¨å»è°ƒä½ mysql-connector-java çš„ç‰ˆæœ¬åˆ° 5.xxï¼Œè¿˜æ‰¾åˆ°ä¸€ä¸ªè·Ÿæˆ‘æƒ…å†µç±»ä¼¼ï¼šhttps://blog.csdn.net/angel_xiaa/article/details/52474022 application.propertiesï¼š ## æ•°æ®åº“è¿æ¥é…ç½® spring.datasource.driver-class-name=com.mysql.jdbc.Driver spring.datasource.url=jdbc:mysql://127.0.0.1:3306/message_system?characterEncoding=UTF-8 spring.datasource.username=root spring.datasource.password=123456 ## MyBatisç›¸å…³é…ç½® mybatis.type-aliases-package=com.wmyskxz.demo.messagesystem.domain mybatis.mapper-locations=classpath:mapper/*.xml åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Šæ³¨è§£ï¼š @EnableTransactionManagement // å¯æ³¨è§£äº‹åŠ¡ç®¡ç†ï¼Œç­‰åŒäºxmlé…ç½®æ–¹å¼çš„ &lt;tx:annotation-driven /> @MapperScan(\"com.wmyskxz.demo.messagesystem.dao\") @SpringBootApplication public class MessageSystemApplication { .... } ç¬¬äºŒæ­¥ï¼šMyBatis é€†å‘å·¥ç¨‹æ–°å»ºã€utilã€‘åŒ…ï¼Œåœ¨ä¸‹é¢æ–°å»ºä¸¤ä¸ªç±»ï¼š MybatisGeneratorç±»ï¼š public class MybatisGenerator { public static void main(String[] args) throws Exception { String today = \"2019-1-7\"; SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\"); Date now = sdf.parse(today); Date d = new Date(); if (d.getTime() > now.getTime() + 1000 * 60 * 60 * 24) { System.err.println(\"â€”â€”â€”â€”â€”â€”æœªæˆæˆåŠŸè¿è¡Œâ€”â€”â€”â€”â€”â€”\"); System.err.println(\"â€”â€”â€”â€”â€”â€”æœªæˆæˆåŠŸè¿è¡Œâ€”â€”â€”â€”â€”â€”\"); System.err.println(\"æœ¬ç¨‹åºå…·æœ‰ç ´åä½œç”¨ï¼Œåº”è¯¥åªè¿è¡Œä¸€æ¬¡ï¼Œå¦‚æœå¿…é¡»è¦å†è¿è¡Œï¼Œéœ€è¦ä¿®æ”¹todayå˜é‡ä¸ºä»Šå¤©ï¼Œå¦‚:\" + sdf.format(new Date())); return; } if (false) return; List&lt;String> warnings = new ArrayList&lt;String>(); boolean overwrite = true; InputStream is = MybatisGenerator.class.getClassLoader().getResource(\"generatorConfig.xml\").openStream(); ConfigurationParser cp = new ConfigurationParser(warnings); Configuration config = cp.parseConfiguration(is); is.close(); DefaultShellCallback callback = new DefaultShellCallback(overwrite); MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings); myBatisGenerator.generate(null); System.out.println(\"ç”Ÿæˆä»£ç æˆåŠŸï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥åæ‰§è¡Œä¼šè¦†ç›–æ‰mapper,pojo,xml ç­‰æ–‡ä»¶ä¸Šåšçš„ä¿®æ”¹\"); } } OverIsMergeablePluginç±»ï¼š /** * è§£æ±º MyBatis é€†å‘å·¥ç¨‹é‡å¤ç”Ÿæˆè¦†ç›–é—®é¢˜çš„å·¥å…·ç±» */ public class OverIsMergeablePlugin extends PluginAdapter { @Override public boolean validate(List&lt;String> warnings) { return true; } @Override public boolean sqlMapGenerated(GeneratedXmlFile sqlMap, IntrospectedTable introspectedTable) { try { Field field = sqlMap.getClass().getDeclaredField(\"isMergeable\"); field.setAccessible(true); field.setBoolean(sqlMap, false); } catch (Exception e) { e.printStackTrace(); } return true; } } åœ¨ã€resroucesã€‘èµ„æºæ–‡ä»¶ä¸‹æ–°å»ºé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶ã€generatorConfig.xmlã€‘ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;!DOCTYPE generatorConfiguration PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\" \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"> &lt;generatorConfiguration> &lt;context id=\"DB2Tables\" targetRuntime=\"MyBatis3\"> &lt;!--é¿å…ç”Ÿæˆé‡å¤ä»£ç çš„æ’ä»¶--> &lt;plugin type=\"com.wmyskxz.demo.messagesystem.util.OverIsMergeablePlugin\"/> &lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ä¸­çš„æ³¨é‡Š trueï¼šæ˜¯ falseï¼šå¦--> &lt;commentGenerator> &lt;property name=\"suppressDate\" value=\"true\"/> &lt;property name=\"suppressAllComments\" value=\"true\"/> &lt;/commentGenerator> &lt;!--æ•°æ®åº“é“¾æ¥åœ°å€è´¦å·å¯†ç --> &lt;jdbcConnection driverClass=\"com.mysql.jdbc.Driver\" connectionURL=\"jdbc:mysql://localhost:3306/message_system?serverTimezone=UTC\" userId=\"root\" password=\"123456\"> &lt;/jdbcConnection> &lt;!-- é»˜è®¤ falseï¼ŒæŠŠ JDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integer ä¸º true æ—¶è§£æä¸º java.math.BigDecimal --> &lt;javaTypeResolver> &lt;property name=\"forceBigDecimals\" value=\"false\"/> &lt;/javaTypeResolver> &lt;!--ç”Ÿæˆpojoç±»å­˜æ”¾ä½ç½®--> &lt;javaModelGenerator targetPackage=\"com.wmyskxz.demo.messagesystem.domain\" targetProject=\"src/main/java\"> &lt;!-- enableSubPackagesï¼šæ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€--> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;!-- trimStringsï¼šä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --> &lt;property name=\"trimStrings\" value=\"true\"/> &lt;!-- æ˜¯å¦å¯¹modelæ·»åŠ  æ„é€ å‡½æ•° --> &lt;property name=\"constructorBased\" value=\"true\"/> &lt;/javaModelGenerator> &lt;!--ç”Ÿæˆxmlæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®--> &lt;sqlMapGenerator targetPackage=\"mapper\" targetProject=\"src/main/resources\"> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;/sqlMapGenerator> &lt;!--ç”Ÿæˆmapperç±»å­˜æ”¾ä½ç½®--> &lt;javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"com.wmyskxz.demo.messagesystem.dao\" targetProject=\"src/main/java\"> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;/javaClientGenerator> &lt;!--ç”Ÿæˆå¯¹åº”è¡¨åŠç±»å tableName:è¦ç”Ÿæˆçš„è¡¨å domainObjectName:ç”Ÿæˆåçš„å®ä¾‹å enableCountByExample:Countè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableUpdateByExample:Updateè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableDeleteByExample:Deleteè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableSelectByExample:Selectå¤šæ¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ selectByExampleQueryId:Selectå•ä¸ªå¯¹è±¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ --> &lt;table tableName=\"user\" domainObjectName=\"User\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\" enableDeleteByPrimaryKey=\"true\" enableUpdateByPrimaryKey=\"true\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"false\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"notify\" domainObjectName=\"Notify\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\" enableDeleteByPrimaryKey=\"true\" enableUpdateByPrimaryKey=\"true\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"false\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"user_follow\" domainObjectName=\"UserFollow\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\" enableDeleteByPrimaryKey=\"true\" enableUpdateByPrimaryKey=\"true\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"false\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"message\" domainObjectName=\"Message\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\" enableDeleteByPrimaryKey=\"true\" enableUpdateByPrimaryKey=\"true\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"false\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;/context> &lt;/generatorConfiguration> è¿è¡Œæˆ‘ä»¬çš„ã€MybatisGeneratorã€‘ç±»ä¸­çš„ main æ–¹æ³•å°±èƒ½çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆçš„å®ä½“ã€Xmlæ–‡ä»¶ä»¥åŠ Mapper ç±» ç¬¬ä¸‰æ­¥ï¼šService å±‚ä¸ç»™æ¥å£äº†ï¼Œç›´æ¥ç»™å®ç°å§ï¼Œæ–¹æ³•éƒ½å¾ˆç®€å•ï¼Œè€Œä¸”æ²¡æœ‰åšä»»ä½•çš„å®‰å…¨é™åˆ¶ï¼Œåªæ˜¯ä¸ºäº†å®ç°ç®€å•çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œçœ‹æ•ˆæœ UserServiceImplï¼š @Service public class UserServiceImpl implements UserService { @Resource UserMapper userMapper; @Override public void addUserByUsername(String username) { userMapper.insert(new User(null, username));// ä¸»é”®è‡ªå¢é•¿. } @Override public User findUserById(Long id) { return userMapper.selectByPrimaryKey(id); } } UserFollowServiceImplï¼š @Service public class UserFollowServiceImpl implements UserFollowService { @Resource UserFollowMapper userFollowMapper; @Autowired NotifyService notifyService; @Override public void userAFollowUserBById(Long userAId, Long userBId) { // å…ˆè¦åˆ›å»ºä¸€æ¡æç¤ºæ¶ˆæ¯ notifyService.addNotify(userAId, userBId, \"follow\");// å…³æ³¨ä¿¡æ¯ UserFollow userFollow = new UserFollow(); userFollow.setUid(userAId); userFollow.setFollowUid(userBId); userFollowMapper.insertSelective(userFollow); } @Override public void userAUnfollowUserBById(Long userAId, Long userBId) { // é¦–å…ˆæŸ¥è¯¢åˆ°ç›¸å…³çš„è®°å½• UserFollowExample example = new UserFollowExample(); example.or().andUidEqualTo(userAId).andFollowUidEqualTo(userBId); UserFollow userFollow = userFollowMapper.selectByExample(example).get(0); // åˆ é™¤å…³æ³¨æ•°æ® userFollowMapper.deleteByPrimaryKey(userFollow.getId()); } } NotifyServiceImplï¼š @Service public class NotifyServiceImpl implements NotifyService { @Resource NotifyMapper notifyMapper; @Override public int addNotify(Long senderId, Long reciverId, String type) { Notify notify = new Notify(null, senderId, reciverId, type, false, null); return notifyMapper.insertSelective(notify);// idå’ŒcreatTimeè‡ªåŠ¨ç”Ÿæˆ. } @Override public void readNotifyById(Long id) { Notify notify = notifyMapper.selectByPrimaryKey(id); notify.setIsRead(true); notifyMapper.updateByPrimaryKey(notify); } @Override public List&lt;Notify> findAllNotifyByReciverId(Long id) { List&lt;Notify> notifies = new LinkedList&lt;>(); NotifyExample example = new NotifyExample(); example.setOrderByClause(\"`id` DESC\");// æŒ‰idå€’å™,ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ˜¯æœ€æ–°çš„. example.or().andReciverIdEqualTo(id); notifies.addAll(notifyMapper.selectByExample(example)); return notifies; } @Override public List&lt;Notify> findAllUnReadNotifyByReciverId(Long id) { List&lt;Notify> notifies = new LinkedList&lt;>(); NotifyExample example = new NotifyExample(); example.setOrderByClause(\"`id` DESC\");// æŒ‰idå€’å™,ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ˜¯æœ€æ–°çš„. example.or().andReciverIdEqualTo(id).andIsReadEqualTo(false); notifies.addAll(notifyMapper.selectByExample(example)); return notifies; } } MessageServiceImplï¼š @Service public class MessageServiceImpl implements MessageService { @Resource MessageMapper messageMapper; @Resource NotifyService notifyService; @Override public void addMessage(Long senderId, Long reciverId, String content) { // å…ˆåˆ›å»ºä¸€æ¡ notify æ•°æ® Long notifyId = (long) notifyService.addNotify(senderId, reciverId, \"message\");// messageè¡¨ç¤ºç§ä¿¡ // å¢åŠ ä¸€æ¡ç§ä¿¡ä¿¡å¿ƒ Message message = new Message(null, notifyId, senderId, reciverId, content, null); messageMapper.insertSelective(message);// æ’å…¥éç©ºé¡¹,id/createTimeæ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆ } @Override public void deleteMessageById(Long id) { messageMapper.deleteByPrimaryKey(id); } @Override public Message findMessageByNotifyId(Long id) { // è§¦å‘æ–¹æ³•æ—¶åº”æŠŠæ¶ˆæ¯ç½®ä¸ºå·²è¯» notifyService.readNotifyById(id); MessageExample example = new MessageExample(); example.or().andNotifyIdEqualTo(id); return messageMapper.selectByExample(example).get(0); } } ç¬¬å››æ­¥ï¼šController å±‚ä¹Ÿå¾ˆç®€å•ï¼Œåªæ˜¯ä¸ºäº†çœ‹æ•ˆæœ UserControllerï¼š @RestController public class UserController { @Autowired UserService userService; @PostMapping(\"/addUser\") public String addUser(@RequestParam String username) { userService.addUserByUsername(username); return \"Success!\"; } @GetMapping(\"/findUser\") public User findUser(@RequestParam Long id) { return userService.findUserById(id); } } UserFollowController ï¼š @RestController public class UserFollowController { @Autowired UserFollowService userFollowService; @PostMapping(\"/follow\") public String follow(@RequestParam Long userAId, @RequestParam Long userBId) { userFollowService.userAFollowUserBById(userAId, userBId); return \"Success!\"; } @PostMapping(\"/unfollow\") public String unfollow(@RequestParam Long userAId, @RequestParam Long userBId) { userFollowService.userAUnfollowUserBById(userAId, userBId); return \"Success!\"; } } NotifyController ï¼š @RestController public class NotifyController { @Autowired NotifyService notifyService; @PostMapping(\"/addNotify\") public String addNotify(@RequestParam Long senderId, @RequestParam Long reciverId, @RequestParam String type) { notifyService.addNotify(senderId, reciverId, type); return \"Success!\"; } @PostMapping(\"/readNotify\") public String readNotify(@RequestParam Long id) { notifyService.readNotifyById(id); return \"Success!\"; } @GetMapping(\"/listAllNotify\") public List&lt;Notify> listAllNotify(@RequestParam Long id) { return notifyService.findAllNotifyByReciverId(id); } @GetMapping(\"/listAllUnReadNotify\") public List&lt;Notify> listAllUnReadNotify(@RequestParam Long id) { return notifyService.findAllUnReadNotifyByReciverId(id); } } MessageController ï¼š @RestController public class MessageController { @Autowired MessageService messageService; @PostMapping(\"/addMessage\") public String addMessage(@RequestParam Long senderId, @RequestParam Long reciverId, @RequestParam String content) { messageService.addMessage(senderId, reciverId, content); return \"Success!\"; } @DeleteMapping(\"/deleteMessage\") public String deleteMessage(@RequestParam Long id) { messageService.deleteMessageById(id); return \"Success!\"; } @GetMapping(\"/findMessage\") public Message findMessage(@RequestParam Long id) { return messageService.findMessageByNotifyId(id); } } ç¬¬äº”æ­¥ï¼šæµ‹è¯•é€šè¿‡ REST æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°æ­£ç¡®çš„æ•ˆæœï¼Œè¿™é‡Œå°±ä¸ç»™å‡ºæ‰€æœ‰çš„æµ‹è¯•äº†ã€‚ æ€»ç»“ä»¥ä¸Šçš„é¡¹ç›®ç®€å•è€Œä¸”æ²¡æœ‰ä»»ä½•çš„å®‰å…¨éªŒè¯ï¼Œä¸è¿‡èƒ½å¤ŸåŸºæœ¬å®Œæˆæˆ‘ä»¬çš„éœ€æ±‚ï¼Œè¿˜æœ‰ä¸€äº›åŠŸèƒ½æ²¡æœ‰å®ç°ï¼Œä¾‹å¦‚ç®¡ç†å‘˜å‘é€šå‘Šï¼ˆä¸Šé¢åªæ¼”ç¤ºäº†ç§ä¿¡å’Œå…³æ³¨ä¿¡æ¯ï¼‰ï¼ŒæŒ‰ç…§ä¸Šé¢çš„ç³»ç»Ÿå°±ç›´æ¥æš´åŠ›ç»™æ¯ä¸ªç”¨æˆ·éƒ½åŠ ä¸€æ¡é€šçŸ¥æ¶ˆæ¯ï¼Œæ„Ÿè§‰æœ‰ç‚¹è‡ªé—­..æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆè®¾è®¡å¥½..å¸Œæœ›æœ‰ç»éªŒçš„å¤§å¤§èƒ½æŒ‡æ¡è·¯å•Šï¼ å…¶å®å…³äºè¿™ä¸ªç®€å•çš„ç³»ç»Ÿæˆ‘æŸ¥äº†å¥½å¤šå¥½å¤šèµ„æ–™..æŠŠè‡ªå·±éƒ½çœ‹è‡ªé—­äº†ï¼Œåæ¥æˆ‘å¹²è„†æŠŠæ‰€æœ‰ç½‘é¡µéƒ½å…³æ‰ï¼Œå¼€å§‹ç”¨ JPA è‡ªå·±å¼€å§‹æŠ½è±¡å®ä½“ï¼ŒæŠŠå„ä¸ªå®ä½“å†™å‡ºæ¥å¹¶æŠŠæ‰€æœ‰å®ä½“éœ€è¦çš„æ•°æ®å•Šç›¸äº’ä¹‹é—´çš„å…³è”å…³ç³»å•Šå†™æ¸…æ¥šï¼Œç„¶åå†ä»è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®åº“ä¸­æ‰¾æ€è·¯â€¦hhhâ€¦è¦ä¸æ˜¯æˆ‘ JPA ä¸æ˜¯å¾ˆç†Ÿæˆ‘è§‰å¾—ç”¨ JPA å°±èƒ½å†™å‡ºæ¥äº†ï¼Œä¸ç”¨ JPA çš„åŸå› åœ¨äºä¸€äº›æ•°æ®çš„æ‡’åŠ è½½ä¸çŸ¥é“æ€ä¹ˆå¤„ç†ï¼Œè¿˜æœ‰å°±æ˜¯æŸ¥è¯¢è¯­å¥å¤ªå¤æ‚ï¼Œå…ä¸äº†è¦æµªè´¹ä¸€äº›èµ„æºâ€¦emmm..è¯´åˆ°åº•è¿˜æ˜¯ä¸æ˜¯ç‰¹åˆ«æ‡‚ JPAï¼Œä¸‹é¢ç»™ä¸€å¼ å¤æ‚çš„ç”¨ JPA å»ºç«‹çš„ User å®ä½“å§ï¼ˆéšæ‰‹æˆªçš„..hhhâ€¦å¾ˆä¹±..ï¼‰ï¼š æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Shiroå®‰å…¨æ¡†æ¶ã€å¿«é€Ÿå…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","slug":"Shiroå®‰å…¨æ¡†æ¶ã€å¿«é€Ÿå…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","date":"2019-01-05T23:14:00.000Z","updated":"2020-08-03T09:12:19.592Z","comments":true,"path":"2019/01/06/shiro-an-quan-kuang-jia-kuai-su-ru-men-jiu-zhe-yi-pian/","link":"","permalink":"http://www.wmyskxz.com/2019/01/06/shiro-an-quan-kuang-jia-kuai-su-ru-men-jiu-zhe-yi-pian/","excerpt":"","text":"Shiro ç®€ä»‹ç…§ä¾‹åˆå»å®˜ç½‘æ‰’äº†æ‰’ä»‹ç»ï¼š Apache Shiroâ„¢ is a powerful and easy-to-use Java security framework that performs authentication, authorization, cryptography, and session management. With Shiroâ€™s easy-to-understand API, you can quickly and easily secure any application â€“ from the smallest mobile applications to the largest web and enterprise applications.Apache Shiroâ„¢æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”æ˜“ç”¨çš„Javaå®‰å…¨æ¡†æ¶,èƒ½å¤Ÿç”¨äºèº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ã€‚Shiroæ‹¥æœ‰æ˜“äºç†è§£çš„API,æ‚¨å¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°è·å¾—ä»»ä½•åº”ç”¨ç¨‹åºâ€”â€”ä»æœ€å°çš„ç§»åŠ¨åº”ç”¨ç¨‹åºåˆ°æœ€å¤§çš„ç½‘ç»œå’Œä¼ä¸šåº”ç”¨ç¨‹åºã€‚ ç®€è€Œè¨€ä¹‹ï¼ŒApache Shiro æ˜¯ä¸€ä¸ªå¼ºå¤§çµæ´»çš„å¼€æºå®‰å…¨æ¡†æ¶ï¼Œå¯ä»¥å®Œå…¨å¤„ç†èº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ã€‚ Shiroèƒ½åˆ°åº•èƒ½åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ éªŒè¯ç”¨æˆ·èº«ä»½ ç”¨æˆ·è®¿é—®æƒé™æ§åˆ¶ï¼Œæ¯”å¦‚ï¼š1ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åˆ†é…äº†ä¸€å®šçš„å®‰å…¨è§’è‰²ã€‚2ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¢«æˆäºˆå®ŒæˆæŸä¸ªæ“ä½œçš„æƒé™ åœ¨é Web æˆ– EJB å®¹å™¨çš„ç¯å¢ƒä¸‹å¯ä»¥ä»»æ„ä½¿ç”¨Session API å¯ä»¥å“åº”è®¤è¯ã€è®¿é—®æ§åˆ¶ï¼Œæˆ–è€… Session ç”Ÿå‘½å‘¨æœŸä¸­å‘ç”Ÿçš„äº‹ä»¶ å¯å°†ä¸€ä¸ªæˆ–ä»¥ä¸Šç”¨æˆ·å®‰å…¨æ•°æ®æºæ•°æ®ç»„åˆæˆä¸€ä¸ªå¤åˆçš„ç”¨æˆ· â€œviewâ€(è§†å›¾) æ”¯æŒå•ç‚¹ç™»å½•(SSO)åŠŸèƒ½ æ”¯æŒæä¾›â€œRemember Meâ€æœåŠ¡ï¼Œè·å–ç”¨æˆ·å…³è”ä¿¡æ¯è€Œæ— éœ€ç™»å½•Â·Â·Â· ä¸ºä»€ä¹ˆæ˜¯ Shiroï¼Ÿä½¿ç”¨ Shiro å®˜æ–¹ç»™äº†è®¸å¤šä»¤äººä¿¡æœçš„åŸå› ï¼Œå› ä¸º Shiro å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š æ˜“äºä½¿ç”¨â€”â€”æ˜“ç”¨æ€§æ˜¯é¡¹ç›®çš„æœ€ç»ˆç›®æ ‡ã€‚åº”ç”¨ç¨‹åºå®‰å…¨éå¸¸ä»¤äººå›°æƒ‘å’Œæ²®ä¸§,è¢«è®¤ä¸ºæ˜¯â€œä¸å¯é¿å…çš„ç¾éš¾â€ã€‚å¦‚æœä½ è®©å®ƒç®€åŒ–åˆ°æ–°æ‰‹éƒ½å¯ä»¥ä½¿ç”¨å®ƒ,å®ƒå°±å°†ä¸å†æ˜¯ä¸€ç§ç—›è‹¦äº†ã€‚ å…¨é¢â€”â€”æ²¡æœ‰å…¶ä»–å®‰å…¨æ¡†æ¶çš„å®½åº¦èŒƒå›´å¯ä»¥åŒApache Shiroä¸€æ ·,å®ƒå¯ä»¥æˆä¸ºä½ çš„â€œä¸€ç«™å¼â€ä¸ºæ‚¨çš„å®‰å…¨éœ€æ±‚æä¾›ä¿éšœã€‚ çµæ´»â€”â€”Apache Shiroå¯ä»¥åœ¨ä»»ä½•åº”ç”¨ç¨‹åºç¯å¢ƒä¸­å·¥ä½œã€‚è™½ç„¶åœ¨ç½‘ç»œå·¥ä½œã€EJBå’ŒIoCç¯å¢ƒä¸­å¯èƒ½å¹¶ä¸éœ€è¦å®ƒã€‚ä½†Shiroçš„æˆæƒä¹Ÿæ²¡æœ‰ä»»ä½•è§„èŒƒ,ç”šè‡³æ²¡æœ‰è®¸å¤šä¾èµ–å…³ç³»ã€‚ Webæ”¯æŒâ€”â€”Apache Shiroæ‹¥æœ‰ä»¤äººå…´å¥‹çš„webåº”ç”¨ç¨‹åºæ”¯æŒ,å…è®¸æ‚¨åŸºäºåº”ç”¨ç¨‹åºçš„urlåˆ›å»ºçµæ´»çš„å®‰å…¨ç­–ç•¥å’Œç½‘ç»œåè®®(ä¾‹å¦‚REST),åŒæ—¶è¿˜æä¾›ä¸€ç»„JSPåº“æ§åˆ¶é¡µé¢è¾“å‡ºã€‚ ä½è€¦åˆâ€”â€”Shiroå¹²å‡€çš„APIå’Œè®¾è®¡æ¨¡å¼ä½¿å®ƒå®¹æ˜“ä¸è®¸å¤šå…¶ä»–æ¡†æ¶å’Œåº”ç”¨ç¨‹åºé›†æˆã€‚ä½ ä¼šçœ‹åˆ°Shiroæ— ç¼åœ°é›†æˆSpringè¿™æ ·çš„æ¡†æ¶, ä»¥åŠGrails, Wicket, Tapestry, Mule, Apache Camel, Vaadinâ€¦ç­‰ã€‚ è¢«å¹¿æ³›æ”¯æŒâ€”â€”Apache Shiroæ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šçš„ä¸€éƒ¨åˆ†ã€‚é¡¹ç›®å¼€å‘å’Œç”¨æˆ·ç»„éƒ½æœ‰å‹å¥½çš„ç½‘æ°‘æ„¿æ„å¸®åŠ©ã€‚è¿™æ ·çš„å•†ä¸šå…¬å¸å¦‚æœéœ€è¦Katasoftè¿˜æä¾›ä¸“ä¸šçš„æ”¯æŒå’ŒæœåŠ¡ã€‚ æœ‰å…´è¶£çš„å¯ä»¥å»ä»”ç»†çœ‹çœ‹å®˜æ–¹çš„æ–‡æ¡£ï¼šã€ä¼ é€é—¨ã€‘ Apache Shiro Features ç‰¹æ€§Apache Shiroæ˜¯ä¸€ä¸ªå…¨é¢çš„ã€è•´å«ä¸°å¯ŒåŠŸèƒ½çš„å®‰å…¨æ¡†æ¶ã€‚ä¸‹å›¾ä¸ºæè¿°ShiroåŠŸèƒ½çš„æ¡†æ¶å›¾ï¼š Authenticationï¼ˆè®¤è¯ï¼‰, Authorizationï¼ˆæˆæƒï¼‰, Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰, Cryptographyï¼ˆåŠ å¯†ï¼‰è¢« Shiro æ¡†æ¶çš„å¼€å‘å›¢é˜Ÿç§°ä¹‹ä¸ºåº”ç”¨å®‰å…¨çš„å››å¤§åŸºçŸ³ã€‚é‚£ä¹ˆå°±è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬å§ï¼š Authenticationï¼ˆè®¤è¯ï¼‰ï¼šç”¨æˆ·èº«ä»½è¯†åˆ«ï¼Œé€šå¸¸è¢«ç§°ä¸ºç”¨æˆ·â€œç™»å½•â€ Authorizationï¼ˆæˆæƒï¼‰ï¼šè®¿é—®æ§åˆ¶ã€‚æ¯”å¦‚æŸä¸ªç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªæ“ä½œçš„ä½¿ç”¨æƒé™ã€‚ Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰ï¼šç‰¹å®šäºç”¨æˆ·çš„ä¼šè¯ç®¡ç†,ç”šè‡³åœ¨éweb æˆ– EJB åº”ç”¨ç¨‹åºã€‚ Cryptographyï¼ˆåŠ å¯†ï¼‰ï¼šåœ¨å¯¹æ•°æ®æºä½¿ç”¨åŠ å¯†ç®—æ³•åŠ å¯†çš„åŒæ—¶ï¼Œä¿è¯æ˜“äºä½¿ç”¨ã€‚ è¿˜æœ‰å…¶ä»–çš„åŠŸèƒ½æ¥æ”¯æŒå’ŒåŠ å¼ºè¿™äº›ä¸åŒåº”ç”¨ç¯å¢ƒä¸‹å®‰å…¨é¢†åŸŸçš„å…³æ³¨ç‚¹ã€‚ç‰¹åˆ«æ˜¯å¯¹ä»¥ä¸‹çš„åŠŸèƒ½æ”¯æŒï¼š Webæ”¯æŒï¼šShiroçš„Webæ”¯æŒAPIæœ‰åŠ©äºä¿æŠ¤Webåº”ç”¨ç¨‹åºã€‚ ç¼“å­˜ï¼šç¼“å­˜æ˜¯Apache Shiro APIä¸­çš„ç¬¬ä¸€çº§ï¼Œä»¥ç¡®ä¿å®‰å…¨æ“ä½œä¿æŒå¿«é€Ÿå’Œé«˜æ•ˆã€‚ å¹¶å‘æ€§ï¼šApache Shiroæ”¯æŒå…·æœ‰å¹¶å‘åŠŸèƒ½çš„å¤šçº¿ç¨‹åº”ç”¨ç¨‹åºã€‚ æµ‹è¯•ï¼šå­˜åœ¨æµ‹è¯•æ”¯æŒï¼Œå¯å¸®åŠ©æ‚¨ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œå¹¶ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå¾—åˆ°ä¿éšœã€‚ â€œè¿è¡Œæ–¹å¼â€ï¼šå…è®¸ç”¨æˆ·æ‰¿æ‹…å¦ä¸€ä¸ªç”¨æˆ·çš„èº«ä»½(å¦‚æœå…è®¸)çš„åŠŸèƒ½ï¼Œæœ‰æ—¶åœ¨ç®¡ç†æ–¹æ¡ˆä¸­å¾ˆæœ‰ç”¨ã€‚ â€œè®°ä½æˆ‘â€ï¼šè®°ä½ç”¨æˆ·åœ¨ä¼šè¯ä¸­çš„èº«ä»½ï¼Œæ‰€ä»¥ç”¨æˆ·åªéœ€è¦å¼ºåˆ¶ç™»å½•å³å¯ã€‚ æ³¨æ„ï¼š Shiroä¸ä¼šå»ç»´æŠ¤ç”¨æˆ·ã€ç»´æŠ¤æƒé™ï¼Œè¿™äº›éœ€è¦æˆ‘ä»¬è‡ªå·±å»è®¾è®¡/æä¾›ï¼Œç„¶åé€šè¿‡ç›¸åº”çš„æ¥å£æ³¨å…¥ç»™Shiro High-Level Overview é«˜çº§æ¦‚è¿°åœ¨æ¦‚å¿µå±‚ï¼ŒShiro æ¶æ„åŒ…å«ä¸‰ä¸ªä¸»è¦çš„ç†å¿µï¼šSubject,SecurityManagerå’Œ Realmã€‚ä¸‹é¢çš„å›¾å±•ç¤ºäº†è¿™äº›ç»„ä»¶å¦‚ä½•ç›¸äº’ä½œç”¨ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢ä¾æ¬¡å¯¹å…¶è¿›è¡Œæè¿°ã€‚ Subjectï¼šå½“å‰ç”¨æˆ·ï¼ŒSubject å¯ä»¥æ˜¯ä¸€ä¸ªäººï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹æœåŠ¡ã€å®ˆæŠ¤è¿›ç¨‹å¸æˆ·ã€æ—¶é’Ÿå®ˆæŠ¤ä»»åŠ¡æˆ–è€…å…¶å®ƒâ€“å½“å‰å’Œè½¯ä»¶äº¤äº’çš„ä»»ä½•äº‹ä»¶ã€‚ SecurityManagerï¼šç®¡ç†æ‰€æœ‰Subjectï¼ŒSecurityManager æ˜¯ Shiro æ¶æ„çš„æ ¸å¿ƒï¼Œé…åˆå†…éƒ¨å®‰å…¨ç»„ä»¶å…±åŒç»„æˆå®‰å…¨ä¼ã€‚ Realmsï¼šç”¨äºè¿›è¡Œæƒé™ä¿¡æ¯çš„éªŒè¯ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°ã€‚Realm æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‰¹å®šçš„å®‰å…¨ DAOï¼šå®ƒå°è£…ä¸æ•°æ®æºè¿æ¥çš„ç»†èŠ‚ï¼Œå¾—åˆ°Shiro æ‰€éœ€çš„ç›¸å…³çš„æ•°æ®ã€‚åœ¨é…ç½® Shiro çš„æ—¶å€™ï¼Œä½ å¿…é¡»æŒ‡å®šè‡³å°‘ä¸€ä¸ªRealm æ¥å®ç°è®¤è¯ï¼ˆauthenticationï¼‰å’Œ/æˆ–æˆæƒï¼ˆauthorizationï¼‰ã€‚ æˆ‘ä»¬éœ€è¦å®ç°Realmsçš„Authentication å’Œ Authorizationã€‚å…¶ä¸­ Authentication æ˜¯ç”¨æ¥éªŒè¯ç”¨æˆ·èº«ä»½ï¼ŒAuthorization æ˜¯æˆæƒè®¿é—®æ§åˆ¶ï¼Œç”¨äºå¯¹ç”¨æˆ·è¿›è¡Œçš„æ“ä½œæˆæƒï¼Œè¯æ˜è¯¥ç”¨æˆ·æ˜¯å¦å…è®¸è¿›è¡Œå½“å‰æ“ä½œï¼Œå¦‚è®¿é—®æŸä¸ªé“¾æ¥ï¼ŒæŸä¸ªèµ„æºæ–‡ä»¶ç­‰ã€‚ Shiro è®¤è¯è¿‡ç¨‹ ä¸Šå›¾å±•ç¤ºäº† Shiro è®¤è¯çš„ä¸€ä¸ªé‡è¦çš„è¿‡ç¨‹ï¼Œä¸ºäº†åŠ æ·±æˆ‘ä»¬çš„å°è±¡ï¼Œæˆ‘ä»¬æ¥è‡ªå·±åŠ¨æ‰‹æ¥å†™ä¸€ä¸ªä¾‹å­ï¼Œæ¥éªŒè¯ä¸€ä¸‹ï¼Œé¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹ï¼Œç„¶ååœ¨pom.xmlä¸­å¼•å…¥ç›¸å…³ä¾èµ–ï¼š &lt;dependency> &lt;groupId>org.apache.shiro&lt;/groupId> &lt;artifactId>shiro-core&lt;/artifactId> &lt;version>1.4.0&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>junit&lt;/groupId> &lt;artifactId>junit&lt;/artifactId> &lt;version>4.12&lt;/version> &lt;/dependency> æ–°å»ºä¸€ä¸ªã€AuthenticationTestã€‘æµ‹è¯•ç±»ï¼š import org.apache.shiro.SecurityUtils; import org.apache.shiro.authc.UsernamePasswordToken; import org.apache.shiro.mgt.DefaultSecurityManager; import org.apache.shiro.realm.SimpleAccountRealm; import org.apache.shiro.subject.Subject; import org.junit.Before; import org.junit.Test; public class AuthenticationTest { SimpleAccountRealm simpleAccountRealm = new SimpleAccountRealm(); @Before // åœ¨æ–¹æ³•å¼€å§‹å‰æ·»åŠ ä¸€ä¸ªç”¨æˆ· public void addUser() { simpleAccountRealm.addAccount(\"wmyskxz\", \"123456\"); } @Test public void testAuthentication() { // 1.æ„å»ºSecurityManagerç¯å¢ƒ DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager(); defaultSecurityManager.setRealm(simpleAccountRealm); // 2.ä¸»ä½“æäº¤è®¤è¯è¯·æ±‚ SecurityUtils.setSecurityManager(defaultSecurityManager); // è®¾ç½®SecurityManagerç¯å¢ƒ Subject subject = SecurityUtils.getSubject(); // è·å–å½“å‰ä¸»ä½“ UsernamePasswordToken token = new UsernamePasswordToken(\"wmyskxz\", \"123456\"); subject.login(token); // ç™»å½• // subject.isAuthenticated()æ–¹æ³•è¿”å›ä¸€ä¸ªbooleanå€¼,ç”¨äºåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è®¤è¯æˆåŠŸ System.out.println(\"isAuthenticated:\" + subject.isAuthenticated()); // è¾“å‡ºtrue subject.logout(); // ç™»å‡º System.out.println(\"isAuthenticated:\" + subject.isAuthenticated()); // è¾“å‡ºfalse } } è¿è¡Œä¹‹åå¯ä»¥çœ‹åˆ°é¢„æƒ³ä¸­çš„æ•ˆæœï¼Œå…ˆè¾“å‡ºisAuthenticated:trueè¡¨ç¤ºç™»å½•è®¤è¯æˆåŠŸï¼Œç„¶åå†è¾“å‡ºisAuthenticated:falseè¡¨ç¤ºè®¤è¯å¤±è´¥é€€å‡ºç™»å½•ï¼Œå†æ¥ä¸€å¼ å›¾åŠ æ·±ä¸€ä¸‹å°è±¡ï¼š æµç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆè°ƒç”¨ Subject.login(token) è¿›è¡Œç™»å½•ï¼Œå…¶ä¼šè‡ªåŠ¨å§”æ‰˜ç»™ Security Managerï¼Œè°ƒç”¨ä¹‹å‰å¿…é¡»é€šè¿‡ SecurityUtils.setSecurityManager() è®¾ç½®ï¼› SecurityManager è´Ÿè´£çœŸæ­£çš„èº«ä»½éªŒè¯é€»è¾‘ï¼›å®ƒä¼šå§”æ‰˜ç»™ Authenticator è¿›è¡Œèº«ä»½éªŒè¯ï¼› Authenticator æ‰æ˜¯çœŸæ­£çš„èº«ä»½éªŒè¯è€…ï¼ŒShiro API ä¸­æ ¸å¿ƒçš„èº«ä»½è®¤è¯å…¥å£ç‚¹ï¼Œæ­¤å¤„å¯ä»¥è‡ªå®šä¹‰æ’å…¥è‡ªå·±çš„å®ç°ï¼› Authenticator å¯èƒ½ä¼šå§”æ‰˜ç»™ç›¸åº”çš„ AuthenticationStrategy è¿›è¡Œå¤š Realm èº«ä»½éªŒè¯ï¼Œé»˜è®¤ ModularRealmAuthenticator ä¼šè°ƒç”¨ AuthenticationStrategy è¿›è¡Œå¤š Realm èº«ä»½éªŒè¯ï¼› Authenticator ä¼šæŠŠç›¸åº”çš„ token ä¼ å…¥ Realmï¼Œä» Realm è·å–èº«ä»½éªŒè¯ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰è¿”å› / æŠ›å‡ºå¼‚å¸¸è¡¨ç¤ºèº«ä»½éªŒè¯å¤±è´¥äº†ã€‚æ­¤å¤„å¯ä»¥é…ç½®å¤šä¸ª Realmï¼Œå°†æŒ‰ç…§ç›¸åº”çš„é¡ºåºåŠç­–ç•¥è¿›è¡Œè®¿é—®ã€‚ Shiro æˆæƒè¿‡ç¨‹ è·Ÿè®¤è¯è¿‡ç¨‹å¤§è‡´ç›¸ä¼¼ï¼Œä¸‹é¢æˆ‘ä»¬ä»ç„¶é€šè¿‡ä»£ç æ¥ç†Ÿæ‚‰ä¸€ä¸‹è¿‡ç¨‹ï¼ˆå¼•å…¥åŒ…ç±»ä¼¼è¿™é‡ŒèŠ‚çº¦ç¯‡å¹…å°±ä¸è´´å‡ºæ¥äº†ï¼‰ï¼š public class AuthenticationTest { SimpleAccountRealm simpleAccountRealm = new SimpleAccountRealm(); @Before // åœ¨æ–¹æ³•å¼€å§‹å‰æ·»åŠ ä¸€ä¸ªç”¨æˆ·,è®©å®ƒå…·å¤‡adminå’Œuserä¸¤ä¸ªè§’è‰² public void addUser() { simpleAccountRealm.addAccount(\"wmyskxz\", \"123456\", \"admin\", \"user\"); } @Test public void testAuthentication() { // 1.æ„å»ºSecurityManagerç¯å¢ƒ DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager(); defaultSecurityManager.setRealm(simpleAccountRealm); // 2.ä¸»ä½“æäº¤è®¤è¯è¯·æ±‚ SecurityUtils.setSecurityManager(defaultSecurityManager); // è®¾ç½®SecurityManagerç¯å¢ƒ Subject subject = SecurityUtils.getSubject(); // è·å–å½“å‰ä¸»ä½“ UsernamePasswordToken token = new UsernamePasswordToken(\"wmyskxz\", \"123456\"); subject.login(token); // ç™»å½• // subject.isAuthenticated()æ–¹æ³•è¿”å›ä¸€ä¸ªbooleanå€¼,ç”¨äºåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è®¤è¯æˆåŠŸ System.out.println(\"isAuthenticated:\" + subject.isAuthenticated()); // è¾“å‡ºtrue // åˆ¤æ–­subjectæ˜¯å¦å…·æœ‰adminå’Œuserä¸¤ä¸ªè§’è‰²æƒé™,å¦‚æ²¡æœ‰åˆ™ä¼šæŠ¥é”™ subject.checkRoles(\"admin\",\"user\"); // subject.checkRole(\"xxx\"); // æŠ¥é”™ } } è¿è¡Œæµ‹è¯•ï¼Œèƒ½å¤Ÿæ­£ç¡®çœ‹åˆ°æ•ˆæœã€‚ è‡ªå®šä¹‰ Realmä»ä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°å®é™…è¿›è¡Œæƒé™ä¿¡æ¯éªŒè¯çš„æ˜¯æˆ‘ä»¬çš„ Realmï¼ŒShiro æ¡†æ¶å†…éƒ¨é»˜è®¤æä¾›äº†ä¸¤ç§å®ç°ï¼Œä¸€ç§æ˜¯æŸ¥è¯¢.iniæ–‡ä»¶çš„IniRealmï¼Œå¦ä¸€ç§æ˜¯æŸ¥è¯¢æ•°æ®åº“çš„JdbcRealmï¼Œè¿™ä¸¤ç§æ¥è¯´éƒ½ç›¸å¯¹ç®€å•ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»ã€è¿™é‡Œã€‘ç„ä¸¤çœ¼ï¼Œæˆ‘ä»¬ç€é‡å°±æ¥ä»‹ç»ä»‹ç»è‡ªå®šä¹‰å®ç°çš„ Realm å§ã€‚ æœ‰äº†ä¸Šé¢çš„å¯¹è®¤è¯å’Œæˆæƒçš„ç†è§£ï¼Œæˆ‘ä»¬å…ˆåœ¨åˆé€‚çš„åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªã€MyRealmã€‘ç±»ï¼Œç»§æ‰¿ Shirot æ¡†æ¶çš„ AuthorizingRealm ç±»ï¼Œå¹¶å®ç°é»˜è®¤çš„ä¸¤ä¸ªæ–¹æ³•ï¼š package com.wmyskxz.demo.realm; import org.apache.shiro.authc.*; import org.apache.shiro.realm.AuthorizingRealm; import org.apache.shiro.subject.PrincipalCollection; import java.util.*; public class MyRealm extends AuthorizingRealm { /** * æ¨¡æ‹Ÿæ•°æ®åº“æ•°æ® */ Map&lt;String, String> userMap = new HashMap&lt;>(16); { userMap.put(\"wmyskxz\", \"123456\"); super.setName(\"myRealm\"); // è®¾ç½®è‡ªå®šä¹‰Realmçš„åç§°ï¼Œå–ä»€ä¹ˆæ— æ‰€è°“.. } /** * æˆæƒ * * @param principalCollection * @return */ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) { String userName = (String) principalCollection.getPrimaryPrincipal(); // ä»æ•°æ®åº“è·å–è§’è‰²å’Œæƒé™æ•°æ® Set&lt;String> roles = getRolesByUserName(userName); Set&lt;String> permissions = getPermissionsByUserName(userName); SimpleAuthorizationInfo simpleAuthorizationInfo = new SimpleAuthorizationInfo(); simpleAuthorizationInfo.setStringPermissions(permissions); simpleAuthorizationInfo.setRoles(roles); return simpleAuthorizationInfo; } /** * æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­è·å–æƒé™æ•°æ® * * @param userName * @return */ private Set&lt;String> getPermissionsByUserName(String userName) { Set&lt;String> permissions = new HashSet&lt;>(); permissions.add(\"user:delete\"); permissions.add(\"user:add\"); return permissions; } /** * æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­è·å–è§’è‰²æ•°æ® * * @param userName * @return */ private Set&lt;String> getRolesByUserName(String userName) { Set&lt;String> roles = new HashSet&lt;>(); roles.add(\"admin\"); roles.add(\"user\"); return roles; } /** * è®¤è¯ * * @param authenticationToken ä¸»ä½“ä¼ è¿‡æ¥çš„è®¤è¯ä¿¡æ¯ * @return * @throws AuthenticationException */ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException { // 1.ä»ä¸»ä½“ä¼ è¿‡æ¥çš„è®¤è¯ä¿¡æ¯ä¸­ï¼Œè·å¾—ç”¨æˆ·å String userName = (String) authenticationToken.getPrincipal(); // 2.é€šè¿‡ç”¨æˆ·ååˆ°æ•°æ®åº“ä¸­è·å–å‡­è¯ String password = getPasswordByUserName(userName); if (password == null) { return null; } SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(\"wmyskxz\", password, \"myRealm\"); return authenticationInfo; } /** * æ¨¡æ‹Ÿä»æ•°æ®åº“å–å‡­è¯çš„è¿‡ç¨‹ * * @param userName * @return */ private String getPasswordByUserName(String userName) { return userMap.get(userName); } } ç„¶åæˆ‘ä»¬ç¼–å†™æµ‹è¯•ç±»ï¼Œæ¥éªŒè¯æ˜¯å¦æ­£ç¡®ï¼š import com.wmyskxz.demo.realm.MyRealm; import org.apache.shiro.SecurityUtils; import org.apache.shiro.authc.UsernamePasswordToken; import org.apache.shiro.mgt.DefaultSecurityManager; import org.apache.shiro.subject.Subject; import org.junit.Test; public class AuthenticationTest { @Test public void testAuthentication() { MyRealm myRealm = new MyRealm(); // å®ç°è‡ªå·±çš„ Realm å®ä¾‹ // 1.æ„å»ºSecurityManagerç¯å¢ƒ DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager(); defaultSecurityManager.setRealm(myRealm); // 2.ä¸»ä½“æäº¤è®¤è¯è¯·æ±‚ SecurityUtils.setSecurityManager(defaultSecurityManager); // è®¾ç½®SecurityManagerç¯å¢ƒ Subject subject = SecurityUtils.getSubject(); // è·å–å½“å‰ä¸»ä½“ UsernamePasswordToken token = new UsernamePasswordToken(\"wmyskxz\", \"123456\"); subject.login(token); // ç™»å½• // subject.isAuthenticated()æ–¹æ³•è¿”å›ä¸€ä¸ªbooleanå€¼,ç”¨äºåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è®¤è¯æˆåŠŸ System.out.println(\"isAuthenticated:\" + subject.isAuthenticated()); // è¾“å‡ºtrue // åˆ¤æ–­subjectæ˜¯å¦å…·æœ‰adminå’Œuserä¸¤ä¸ªè§’è‰²æƒé™,å¦‚æ²¡æœ‰åˆ™ä¼šæŠ¥é”™ subject.checkRoles(\"admin\", \"user\"); // subject.checkRole(\"xxx\"); // æŠ¥é”™ // åˆ¤æ–­subjectæ˜¯å¦å…·æœ‰user:addæƒé™ subject.checkPermission(\"user:add\"); } } è¿è¡Œæµ‹è¯•ï¼Œå®Œç¾ã€‚ Shiro åŠ å¯†åœ¨ä¹‹å‰çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­ä¿å­˜çš„å¯†ç éƒ½æ˜¯æ˜æ–‡çš„ï¼Œä¸€æ—¦æ•°æ®åº“æ•°æ®æ³„éœ²ï¼Œé‚£å°±ä¼šé€ æˆä¸å¯ä¼°ç®—çš„æŸå¤±ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½ä¼šä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼Œç®€å•ç†è§£ä¹Ÿå°±æ˜¯ä¸å¯é€†çš„åŠ å¯†ï¼Œè€Œ md5 åŠ å¯†ç®—æ³•å°±æ˜¯ç¬¦åˆè¿™æ ·çš„ä¸€ç§ç®—æ³•ã€‚ å¦‚ä¸Šé¢çš„ 123456 ç”¨ Md5 åŠ å¯†åï¼Œå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼še10adc3949ba59abbe56e057f20f883eï¼Œå°±æ— æ³•é€šè¿‡è®¡ç®—è¿˜åŸå› 123456ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸²ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œç­‰ä¸‹æ¬¡ç”¨æˆ·ç™»å½•æ—¶æˆ‘ä»¬æŠŠå¯†ç é€šè¿‡åŒæ ·çš„ç®—æ³•åŠ å¯†åå†ä»æ•°æ®åº“ä¸­å–å‡ºè¿™ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå°±èƒ½å¤ŸçŸ¥é“å¯†ç æ˜¯å¦æ­£ç¡®äº†ï¼Œè¿™æ ·æ—¢ä¿ç•™äº†å¯†ç éªŒè¯çš„åŠŸèƒ½åˆå¤§å¤§å¢åŠ äº†å®‰å…¨æ€§ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼šè™½ç„¶æ— æ³•ç›´æ¥é€šè¿‡è®¡ç®—åæ¨å›å¯†ç ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡è®¡ç®—ä¸€äº›ç®€å•çš„å¯†ç åŠ å¯†åçš„ Md5 å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæ¨ç®—å‡ºåŸæ¥çš„å¯†ç  æ¯”å¦‚æˆ‘çš„å¯†ç æ˜¯ 123456ï¼Œä½ çš„å¯†ç ä¹Ÿæ˜¯ï¼Œé€šè¿‡ md5 åŠ å¯†ä¹‹åçš„å­—ç¬¦ä¸²ä¸€è‡´ï¼Œæ‰€ä»¥ä½ ä¹Ÿå°±èƒ½çŸ¥é“æˆ‘çš„å¯†ç äº†ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå¸¸ç”¨çš„ä¸€äº›å¯†ç éƒ½åš md5 åŠ å¯†å¾—åˆ°ä¸€æœ¬å­—å…¸ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°ç›¸å½“ä¸€éƒ¨åˆ†çš„äººå¯†ç ï¼Œè¿™ä¹Ÿå°±ç›¸å½“äºâ€œç ´è§£â€äº†ä¸€æ ·ï¼Œæ‰€ä»¥å…¶å®ä¹Ÿæ²¡æœ‰æˆ‘ä»¬æƒ³è±¡ä¸­çš„é‚£ä¹ˆâ€œå®‰å…¨â€ã€‚ åŠ ç› + å¤šæ¬¡åŠ å¯†æ—¢ç„¶ç›¸åŒçš„å¯†ç  md5 ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®©æˆ‘ä»¬çš„åŸå§‹å¯†ç å†åŠ ä¸€ä¸ªéšæœºæ•°ï¼Œç„¶åå†è¿›è¡Œ md5 åŠ å¯†ï¼Œè¿™ä¸ªéšæœºæ•°å°±æ˜¯æˆ‘ä»¬è¯´çš„ç›(salt)ï¼Œè¿™æ ·å¤„ç†ä¸‹æ¥å°±èƒ½å¾—åˆ°ä¸åŒçš„ Md5 å€¼ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªéšæœºæ•°ç›ä¹Ÿä¿å­˜è¿›æ•°æ®åº“ä¸­ï¼Œä»¥ä¾¿æˆ‘ä»¬è¿›è¡ŒéªŒè¯ã€‚ å¦å¤–æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šæ¬¡åŠ å¯†çš„æ–¹æ³•ï¼Œå³ä½¿é»‘å®¢é€šè¿‡ä¸€å®šçš„æŠ€æœ¯æ‰‹æ®µæ‹¿åˆ°äº†æˆ‘ä»¬çš„å¯†ç  md5 å€¼ï¼Œä½†å®ƒå¹¶ä¸çŸ¥é“æˆ‘ä»¬åˆ°åº•åŠ å¯†äº†å¤šå°‘æ¬¡ï¼Œæ‰€ä»¥è¿™ä¹Ÿä½¿å¾—ç ´è§£å·¥ä½œå˜å¾—è‰°éš¾ã€‚ åœ¨ Shiro æ¡†æ¶ä¸­ï¼Œå¯¹äºè¿™æ ·çš„æ“ä½œæä¾›äº†ç®€å•çš„ä»£ç å®ç°ï¼š String password = \"123456\"; String salt = new SecureRandomNumberGenerator().nextBytes().toString(); int times = 2; // åŠ å¯†æ¬¡æ•°ï¼š2 String alogrithmName = \"md5\"; // åŠ å¯†ç®—æ³• String encodePassword = new SimpleHash(alogrithmName, password, salt, times).toString(); System.out.printf(\"åŸå§‹å¯†ç æ˜¯ %s , ç›æ˜¯ï¼š %s, è¿ç®—æ¬¡æ•°æ˜¯ï¼š %d, è¿ç®—å‡ºæ¥çš„å¯†æ–‡æ˜¯ï¼š%s \",password,salt,times,encodePassword); è¾“å‡ºï¼š åŸå§‹å¯†ç æ˜¯ 123456 , ç›æ˜¯ï¼š f5GQZsuWjnL9z585JjLrbQ==, è¿ç®—æ¬¡æ•°æ˜¯ï¼š 2, è¿ç®—å‡ºæ¥çš„å¯†æ–‡æ˜¯ï¼š55fee80f73537cefd6b3c9a920993c25 SpringBoot ç®€å•å®ä¾‹é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ç°åœ¨æ¥ç€æ‰‹æ­å»ºä¸€ä¸ªç®€å•çš„ä½¿ç”¨ Shiro è¿›è¡Œæƒé™éªŒè¯æˆæƒçš„ä¸€ä¸ªç®€å•ç³»ç»Ÿ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºSpringBooté¡¹ç›®ï¼Œæ­å»ºåŸºç¡€ç¯å¢ƒpomåŒ…ï¼š &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-jpa&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-thymeleaf&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;scope>runtime&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.apache.shiro&lt;/groupId> &lt;artifactId>shiro-spring&lt;/artifactId> &lt;version>1.4.0&lt;/version> &lt;/dependency> application.propertiesæ–‡ä»¶ï¼š #thymeleaf é…ç½® spring.thymeleaf.mode=HTML5 spring.thymeleaf.encoding=UTF-8 spring.thymeleaf.servlet.content-type=text/html #ç¼“å­˜è®¾ç½®ä¸ºfalse, è¿™æ ·ä¿®æ”¹ä¹‹åé©¬ä¸Šç”Ÿæ•ˆï¼Œä¾¿äºè°ƒè¯• spring.thymeleaf.cache=false #æ•°æ®åº“ spring.datasource.url=jdbc:mysql://127.0.0.1:3306/testdb?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=UTC spring.datasource.username=root spring.datasource.password=123456 spring.datasource.driver-class-name=com.mysql.jdbc.Driver spring.jpa.properties.hibernate.hbm2ddl.auto=update #æ˜¾ç¤ºSQLè¯­å¥ spring.jpa.show-sql=true #ä¸åŠ ä¸‹é¢è¿™å¥åˆ™ä¸ä¼šé»˜è®¤åˆ›å»ºMyISAMå¼•æ“çš„æ•°æ®åº“ spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect #è‡ªå·±é‡å†™çš„é…ç½®ç±»ï¼Œé»˜è®¤ä½¿ç”¨utf8ç¼–ç  spring.jpa.properties.hibernate.dialect=com.wmyskxz.demo.shiro.config.MySQLConfig ç¬¬äºŒæ­¥ï¼šæ–°å»ºå®ä½“ç±»æ–°å»ºä¸€ä¸ªã€entityã€‘åŒ…ï¼Œåœ¨ä¸‹é¢åˆ›å»ºä»¥ä¸‹å®ä½“ï¼š ç”¨æˆ·ä¿¡æ¯ï¼š @Entity public class UserInfo { @Id @GeneratedValue private Long id; // ä¸»é”®. @Column(unique = true) private String username; // ç™»å½•è´¦æˆ·,å”¯ä¸€. private String name; // åç§°(åŒ¿åæˆ–çœŸå®å§“å),ç”¨äºUIæ˜¾ç¤º private String password; // å¯†ç . private String salt; // åŠ å¯†å¯†ç çš„ç› @JsonIgnoreProperties(value = {\"userInfos\"}) @ManyToMany(fetch = FetchType.EAGER) // ç«‹å³ä»æ•°æ®åº“ä¸­è¿›è¡ŒåŠ è½½æ•°æ® @JoinTable(name = \"SysUserRole\", joinColumns = @JoinColumn(name = \"uid\"), inverseJoinColumns = @JoinColumn(name = \"roleId\")) private List&lt;SysRole> roles; // ä¸€ä¸ªç”¨æˆ·å…·æœ‰å¤šä¸ªè§’è‰² /** getter and setter */ } è§’è‰²ä¿¡æ¯ï¼š @Entity public class SysRole { @Id @GeneratedValue private Long id; // ä¸»é”®. private String name; // è§’è‰²åç§°,å¦‚ admin/user private String description; // è§’è‰²æè¿°,ç”¨äºUIæ˜¾ç¤º // è§’è‰² -- æƒé™å…³ç³»ï¼šå¤šå¯¹å¤š @JsonIgnoreProperties(value = {\"roles\"}) @ManyToMany(fetch = FetchType.EAGER) @JoinTable(name = \"SysRolePermission\", joinColumns = {@JoinColumn(name = \"roleId\")}, inverseJoinColumns = {@JoinColumn(name = \"permissionId\")}) private List&lt;SysPermission> permissions; // ç”¨æˆ· -- è§’è‰²å…³ç³»ï¼šå¤šå¯¹å¤š @JsonIgnoreProperties(value = {\"roles\"}) @ManyToMany @JoinTable(name = \"SysUserRole\", joinColumns = {@JoinColumn(name = \"roleId\")}, inverseJoinColumns = {@JoinColumn(name = \"uid\")}) private List&lt;UserInfo> userInfos;// ä¸€ä¸ªè§’è‰²å¯¹åº”å¤šä¸ªç”¨æˆ· /** getter and setter */ } æƒé™ä¿¡æ¯ï¼š @Entity public class SysPermission { @Id @GeneratedValue private Long id; // ä¸»é”®. private String name; // æƒé™åç§°,å¦‚ user:select private String description; // æƒé™æè¿°,ç”¨äºUIæ˜¾ç¤º private String url; // æƒé™åœ°å€. @JsonIgnoreProperties(value = {\"permissions\"}) @ManyToMany @JoinTable(name = \"SysRolePermission\", joinColumns = {@JoinColumn(name = \"permissionId\")}, inverseJoinColumns = {@JoinColumn(name = \"roleId\")}) private List&lt;SysRole> roles; // ä¸€ä¸ªæƒé™å¯ä»¥è¢«å¤šä¸ªè§’è‰²ä½¿ç”¨ /** getter and setter */ } æ³¨æ„ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œè¿˜ç¼ äº†æˆ‘è›®ä¹…æ„Ÿè§‰ï¼Œå°±æ˜¯å½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨RESTfulé£æ ¼è¿”å›ç»™å‰å°JSONæ•°æ®çš„æ—¶å€™ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³äºå¤šå¯¹å¤šæ— é™å¾ªç¯çš„å‘ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬æƒ³è¦è¿”å›ç»™å‰å°ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œç”±äºä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼Œä¸€ä¸ªè§’è‰²åˆæ‹¥æœ‰å¤šä¸ªæƒé™ï¼Œè€Œæƒé™è·Ÿè§’è‰²ä¹Ÿæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯é€ æˆäº† æŸ¥ç”¨æˆ·â†’æŸ¥è§’è‰²â†’æŸ¥æƒé™â†’æŸ¥è§’è‰²â†’æŸ¥ç”¨æˆ·â€¦ è¿™æ ·çš„æ— é™å¾ªç¯ï¼Œå¯¼è‡´ä¼ è¾“é”™è¯¯ï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®è¿™æ ·çš„é€»è¾‘åœ¨æ¯ä¸€ä¸ªå®ä½“ç±»è¿”å›JSONæ—¶ä½¿ç”¨äº†ä¸€ä¸ª@JsonIgnorePropertiesæ³¨è§£ï¼Œæ¥æ’é™¤è‡ªå·±å¯¹è‡ªå·±æ— çº¿å¼•ç”¨çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ‰“æ–­è¿™æ ·çš„æ— é™å¾ªç¯ã€‚ æ ¹æ®ä»¥ä¸Šçš„ä»£ç ä¼šè‡ªåŠ¨ç”Ÿæˆuser_infoï¼ˆç”¨æˆ·ä¿¡æ¯è¡¨ï¼‰ã€sys_roleï¼ˆè§’è‰²è¡¨ï¼‰ã€sys_permissionï¼ˆæƒé™è¡¨ï¼‰ã€sys_user_roleï¼ˆç”¨æˆ·è§’è‰²è¡¨ï¼‰ã€sys_role_permissionï¼ˆè§’è‰²æƒé™è¡¨ï¼‰è¿™äº”å¼ è¡¨ï¼Œä¸ºäº†æ–¹ä¾¿æµ‹è¯•æˆ‘ä»¬ç»™è¿™äº”å¼ è¡¨æ’å…¥ä¸€äº›åˆå§‹åŒ–æ•°æ®ï¼š INSERT INTO `user_info` (`id`,`name`,`password`,`salt`,`username`) VALUES (1, 'ç®¡ç†å‘˜','951cd60dec2104024949d2e0b2af45ae', 'xbNIxrQfn6COSYn1/GdloA==', 'wmyskxz'); INSERT INTO `sys_permission` (`id`,`description`,`name`,`url`) VALUES (1,'æŸ¥è¯¢ç”¨æˆ·','userInfo:view','/userList'); INSERT INTO `sys_permission` (`id`,`description`,`name`,`url`) VALUES (2,'å¢åŠ ç”¨æˆ·','userInfo:add','/userAdd'); INSERT INTO `sys_permission` (`id`,`description`,`name`,`url`) VALUES (3,'åˆ é™¤ç”¨æˆ·','userInfo:delete','/userDelete'); INSERT INTO `sys_role` (`id`,`description`,`name`) VALUES (1,'ç®¡ç†å‘˜','admin'); INSERT INTO `sys_role_permission` (`permission_id`,`role_id`) VALUES (1,1); INSERT INTO `sys_role_permission` (`permission_id`,`role_id`) VALUES (2,1); INSERT INTO `sys_user_role` (`role_id`,`uid`) VALUES (1,1); ç¬¬ä¸‰æ­¥ï¼šé…ç½® Shiroæ–°å»ºä¸€ä¸ªã€configã€‘åŒ…ï¼Œåœ¨ä¸‹é¢åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š MySQLConfigï¼š public class MySQLConfig extends MySQL5InnoDBDialect { @Override public String getTableTypeString() { return \"ENGINE=InnoDB DEFAULT CHARSET=utf8\"; } } è¿™ä¸ªæ–‡ä»¶å…³è”çš„æ˜¯é…ç½®æ–‡ä»¶ä¸­æœ€åä¸€ä¸ªé…ç½®ï¼Œæ˜¯è®© Hibernate é»˜è®¤åˆ›å»º InnoDB å¼•æ“å¹¶é»˜è®¤ä½¿ç”¨ utf-8 ç¼–ç  MyShiroRealmï¼š public class MyShiroRealm extends AuthorizingRealm { @Resource private UserInfoService userInfoService; @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) { // èƒ½è¿›å…¥è¿™é‡Œè¯´æ˜ç”¨æˆ·å·²ç»é€šè¿‡éªŒè¯äº† UserInfo userInfo = (UserInfo) principalCollection.getPrimaryPrincipal(); SimpleAuthorizationInfo simpleAuthorizationInfo = new SimpleAuthorizationInfo(); for (SysRole role : userInfo.getRoles()) { simpleAuthorizationInfo.addRole(role.getName()); for (SysPermission permission : role.getPermissions()) { simpleAuthorizationInfo.addStringPermission(permission.getName()); } } return simpleAuthorizationInfo; } @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException { // è·å–ç”¨æˆ·è¾“å…¥çš„è´¦æˆ· String username = (String) authenticationToken.getPrincipal(); System.out.println(authenticationToken.getPrincipal()); // é€šè¿‡usernameä»æ•°æ®åº“ä¸­æŸ¥æ‰¾ UserInfo å¯¹è±¡ // å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µåšç¼“å­˜ï¼Œå¦‚æœä¸åšï¼ŒShiroè‡ªå·±ä¹Ÿæ˜¯æœ‰æ—¶é—´é—´éš”æœºåˆ¶ï¼Œ2åˆ†é’Ÿå†…ä¸ä¼šé‡å¤æ‰§è¡Œè¯¥æ–¹æ³• UserInfo userInfo = userInfoService.findByUsername(username); if (null == userInfo) { return null; } SimpleAuthenticationInfo simpleAuthenticationInfo = new SimpleAuthenticationInfo( userInfo, // ç”¨æˆ·å userInfo.getPassword(), // å¯†ç  ByteSource.Util.bytes(userInfo.getSalt()), // salt=username+salt getName() // realm name ); return simpleAuthenticationInfo; } } è‡ªå®šä¹‰çš„ Realm ï¼Œæ–¹æ³•è·Ÿä¸Šé¢çš„è®¤è¯æˆæƒè¿‡ç¨‹ä¸€è‡´ ShiroConfigï¼š @Configuration public class ShiroConfig { @Bean public ShiroFilterFactoryBean shirFilter(SecurityManager securityManager) { System.out.println(\"ShiroConfiguration.shirFilter()\"); ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean(); shiroFilterFactoryBean.setSecurityManager(securityManager); // æ‹¦æˆªå™¨. Map&lt;String, String> filterChainDefinitionMap = new LinkedHashMap&lt;String, String>(); // é…ç½®ä¸ä¼šè¢«æ‹¦æˆªçš„é“¾æ¥ é¡ºåºåˆ¤æ–­ filterChainDefinitionMap.put(\"/static/**\", \"anon\"); // é…ç½®é€€å‡º è¿‡æ»¤å™¨,å…¶ä¸­çš„å…·ä½“çš„é€€å‡ºä»£ç Shiroå·²ç»æ›¿æˆ‘ä»¬å®ç°äº† filterChainDefinitionMap.put(\"/logout\", \"logout\"); // &lt;!-- è¿‡æ»¤é“¾å®šä¹‰ï¼Œä»ä¸Šå‘ä¸‹é¡ºåºæ‰§è¡Œï¼Œä¸€èˆ¬å°†/**æ”¾åœ¨æœ€ä¸ºä¸‹è¾¹ -->:è¿™æ˜¯ä¸€ä¸ªå‘å‘¢ï¼Œä¸€ä¸å°å¿ƒä»£ç å°±ä¸å¥½ä½¿äº†; // &lt;!-- authc:æ‰€æœ‰urléƒ½å¿…é¡»è®¤è¯é€šè¿‡æ‰å¯ä»¥è®¿é—®; anon:æ‰€æœ‰urléƒ½éƒ½å¯ä»¥åŒ¿åè®¿é—®--> filterChainDefinitionMap.put(\"/**\", \"authc\"); // å¦‚æœä¸è®¾ç½®é»˜è®¤ä¼šè‡ªåŠ¨å¯»æ‰¾Webå·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„\"/login.jsp\"é¡µé¢ shiroFilterFactoryBean.setLoginUrl(\"/login\"); // ç™»å½•æˆåŠŸåè¦è·³è½¬çš„é“¾æ¥ shiroFilterFactoryBean.setSuccessUrl(\"/index\"); //æœªæˆæƒç•Œé¢; shiroFilterFactoryBean.setUnauthorizedUrl(\"/403\"); shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap); return shiroFilterFactoryBean; } /** * å‡­è¯åŒ¹é…å™¨ * ï¼ˆç”±äºæˆ‘ä»¬çš„å¯†ç æ ¡éªŒäº¤ç»™Shiroçš„SimpleAuthenticationInfoè¿›è¡Œå¤„ç†äº†ï¼‰ * * @return */ @Bean public HashedCredentialsMatcher hashedCredentialsMatcher() { HashedCredentialsMatcher hashedCredentialsMatcher = new HashedCredentialsMatcher(); hashedCredentialsMatcher.setHashAlgorithmName(\"md5\"); // æ•£åˆ—ç®—æ³•:è¿™é‡Œä½¿ç”¨MD5ç®—æ³•; hashedCredentialsMatcher.setHashIterations(2); // æ•£åˆ—çš„æ¬¡æ•°ï¼Œæ¯”å¦‚æ•£åˆ—ä¸¤æ¬¡ï¼Œç›¸å½“äº md5(md5(\"\")); return hashedCredentialsMatcher; } @Bean public MyShiroRealm myShiroRealm() { MyShiroRealm myShiroRealm = new MyShiroRealm(); myShiroRealm.setCredentialsMatcher(hashedCredentialsMatcher()); return myShiroRealm; } @Bean public SecurityManager securityManager() { DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(myShiroRealm()); return securityManager; } /** * å¼€å¯shiro aopæ³¨è§£æ”¯æŒ. * ä½¿ç”¨ä»£ç†æ–¹å¼;æ‰€ä»¥éœ€è¦å¼€å¯ä»£ç æ”¯æŒ; * * @param securityManager * @return */ @Bean public AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor(SecurityManager securityManager) { AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = new AuthorizationAttributeSourceAdvisor(); authorizationAttributeSourceAdvisor.setSecurityManager(securityManager); return authorizationAttributeSourceAdvisor; } @Bean(name = \"simpleMappingExceptionResolver\") public SimpleMappingExceptionResolver createSimpleMappingExceptionResolver() { SimpleMappingExceptionResolver r = new SimpleMappingExceptionResolver(); Properties mappings = new Properties(); mappings.setProperty(\"DatabaseException\", \"databaseError\"); // æ•°æ®åº“å¼‚å¸¸å¤„ç† mappings.setProperty(\"UnauthorizedException\", \"403\"); r.setExceptionMappings(mappings); // None by default r.setDefaultErrorView(\"error\"); // No default r.setExceptionAttribute(\"ex\"); // Default is \"exception\" //r.setWarnLogCategory(\"example.MvcLogger\"); // No default return r; } } Apache Shiro çš„æ ¸å¿ƒé€šè¿‡ Filter æ¥å®ç°ï¼Œå°±å¥½åƒ SpringMvc é€šè¿‡ DispachServlet æ¥ä¸»æ§åˆ¶ä¸€æ ·ã€‚ æ—¢ç„¶æ˜¯ä½¿ç”¨ Filter ä¸€èˆ¬ä¹Ÿå°±èƒ½çŒœåˆ°ï¼Œæ˜¯é€šè¿‡URLè§„åˆ™æ¥è¿›è¡Œè¿‡æ»¤å’Œæƒé™æ ¡éªŒï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ç³»åˆ—å…³äºURLçš„è§„åˆ™å’Œè®¿é—®æƒé™ã€‚ Filter Chainå®šä¹‰è¯´æ˜ï¼š 1ã€ä¸€ä¸ªURLå¯ä»¥é…ç½®å¤šä¸ªFilterï¼Œä½¿ç”¨é€—å·åˆ†éš” 2ã€å½“è®¾ç½®å¤šä¸ªè¿‡æ»¤å™¨æ—¶ï¼Œå…¨éƒ¨éªŒè¯é€šè¿‡ï¼Œæ‰è§†ä¸ºé€šè¿‡ 3ã€éƒ¨åˆ†è¿‡æ»¤å™¨å¯æŒ‡å®šå‚æ•°ï¼Œå¦‚permsï¼Œroles Shiroå†…ç½®çš„FilterChain Filter Name Class anon org.apache.shiro.web.filter.authc.AnonymousFilter authc org.apache.shiro.web.filter.authc.FormAuthenticationFilter authcBasic org.apache.shiro.web.filter.authc.BasicHttpAuthenticationFilter perms org.apache.shiro.web.filter.authz.PermissionsAuthorizationFilter port org.apache.shiro.web.filter.authz.PortFilter rest org.apache.shiro.web.filter.authz.HttpMethodPermissionFilter roles org.apache.shiro.web.filter.authz.RolesAuthorizationFilter ssl org.apache.shiro.web.filter.authz.SslFilter user org.apache.shiro.web.filter.authc.UserFilter anon:æ‰€æœ‰urléƒ½éƒ½å¯ä»¥åŒ¿åè®¿é—® authc: éœ€è¦è®¤è¯æ‰èƒ½è¿›è¡Œè®¿é—® user:é…ç½®è®°ä½æˆ‘æˆ–è®¤è¯é€šè¿‡å¯ä»¥è®¿é—® ç¬¬å››æ­¥ï¼šå‡†å¤‡ DAO å±‚å’Œ Service å±‚æ–°å»ºã€daoã€‘åŒ…ï¼Œåœ¨ä¸‹é¢åˆ›å»ºã€UserInfoDaoã€‘æ¥å£ï¼š public interface UserInfoDao extends JpaRepository&lt;UserInfo, Long> { /** é€šè¿‡usernameæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯*/ public UserInfo findByUsername(String username); } æ–°å»ºã€serviceã€‘åŒ…ï¼Œåˆ›å»ºã€UserInfoServiceã€‘æ¥å£ï¼š public interface UserInfoService { /** é€šè¿‡usernameæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯ï¼›*/ public UserInfo findByUsername(String username); } å¹¶åœ¨è¯¥åŒ…ä¸‹å†æ–°å»ºä¸€ä¸ªã€implã€‘åŒ…ï¼Œæ–°å»ºã€UserInfoServiceImplã€‘å®ç°ç±»ï¼š @Service public class UserInfoServiceImpl implements UserInfoService { @Resource UserInfoDao userInfoDao; @Override public UserInfo findByUsername(String username) { return userInfoDao.findByUsername(username); } } ç¬¬äº”æ­¥ï¼šcontrollerå±‚æ–°å»ºã€controllerã€‘åŒ…ï¼Œç„¶ååœ¨ä¸‹é¢åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š HomeControllerï¼š @Controller public class HomeController { @RequestMapping({\"/\",\"/index\"}) public String index(){ return\"/index\"; } @RequestMapping(\"/login\") public String login(HttpServletRequest request, Map&lt;String, Object> map) throws Exception{ System.out.println(\"HomeController.login()\"); // ç™»å½•å¤±è´¥ä»requestä¸­è·å–shiroå¤„ç†çš„å¼‚å¸¸ä¿¡æ¯ã€‚ // shiroLoginFailure:å°±æ˜¯shiroå¼‚å¸¸ç±»çš„å…¨ç±»å. String exception = (String) request.getAttribute(\"shiroLoginFailure\"); System.out.println(\"exception=\" + exception); String msg = \"\"; if (exception != null) { if (UnknownAccountException.class.getName().equals(exception)) { System.out.println(\"UnknownAccountException -- > è´¦å·ä¸å­˜åœ¨ï¼š\"); msg = \"UnknownAccountException -- > è´¦å·ä¸å­˜åœ¨ï¼š\"; } else if (IncorrectCredentialsException.class.getName().equals(exception)) { System.out.println(\"IncorrectCredentialsException -- > å¯†ç ä¸æ­£ç¡®ï¼š\"); msg = \"IncorrectCredentialsException -- > å¯†ç ä¸æ­£ç¡®ï¼š\"; } else if (\"kaptchaValidateFailed\".equals(exception)) { System.out.println(\"kaptchaValidateFailed -- > éªŒè¯ç é”™è¯¯\"); msg = \"kaptchaValidateFailed -- > éªŒè¯ç é”™è¯¯\"; } else { msg = \"else >> \"+exception; System.out.println(\"else -- >\" + exception); } } map.put(\"msg\", msg); // æ­¤æ–¹æ³•ä¸å¤„ç†ç™»å½•æˆåŠŸ,ç”±shiroè¿›è¡Œå¤„ç† return \"/login\"; } @RequestMapping(\"/403\") public String unauthorizedRole(){ System.out.println(\"------æ²¡æœ‰æƒé™-------\"); return \"403\"; } } è¿™é‡Œè¾¹çš„åœ°å€å¯¹åº”æˆ‘ä»¬åœ¨è®¾ç½® Shiro æ—¶è®¾ç½®çš„åœ°å€ UserInfoControllerï¼š @RestController public class UserInfoController { @Resource UserInfoService userInfoService; /** * æŒ‰usernameè´¦æˆ·ä»æ•°æ®åº“ä¸­å–å‡ºç”¨æˆ·ä¿¡æ¯ * * @param username è´¦æˆ· * @return */ @GetMapping(\"/userList\") @RequiresPermissions(\"userInfo:view\") // æƒé™ç®¡ç†. public UserInfo findUserInfoByUsername(@RequestParam String username) { return userInfoService.findByUsername(username); } /** * ç®€å•æ¨¡æ‹Ÿä»æ•°æ®åº“æ·»åŠ ç”¨æˆ·ä¿¡æ¯æˆåŠŸ * * @return */ @PostMapping(\"/userAdd\") @RequiresPermissions(\"userInfo:add\") public String addUserInfo() { return \"addUserInfo success!\"; } /** * ç®€å•æ¨¡æ‹Ÿä»æ•°æ®åº“åˆ é™¤ç”¨æˆ·æˆåŠŸ * * @return */ @DeleteMapping(\"/userDelete\") @RequiresPermissions(\"userInfo:delete\") public String deleteUserInfo() { return \"deleteUserInfo success!\"; } } ç¬¬å…­æ­¥ï¼šå‡†å¤‡é¡µé¢æ–°å»ºä¸‰ä¸ªé¡µé¢ç”¨æ¥æµ‹è¯•ï¼š index.htmlï¼šé¦–é¡µ &lt;!DOCTYPE html> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>é¦–é¡µ&lt;/title> &lt;/head> &lt;body> index - é¦–é¡µ &lt;/body> &lt;/html> login.htmlï¼šç™»å½•é¡µ &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.w3.org/1999/xhtml\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>ç™»å½•é¡µ&lt;/title> &lt;/head> &lt;body> é”™è¯¯ä¿¡æ¯ï¼š&lt;h4 th:text=\"${msg}\">&lt;/h4> &lt;form action=\"\" method=\"post\"> &lt;p>è´¦å·ï¼š&lt;input type=\"text\" name=\"username\" value=\"wmyskxz\"/>&lt;/p> &lt;p>å¯†ç ï¼š&lt;input type=\"text\" name=\"password\" value=\"123456\"/>&lt;/p> &lt;p>&lt;input type=\"submit\" value=\"ç™»å½•\"/>&lt;/p> &lt;/form> &lt;/body> &lt;/html> 403.htmlï¼šæ²¡æœ‰æƒé™çš„é¡µé¢ &lt;!DOCTYPE html> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>403é”™è¯¯é¡µ&lt;/title> &lt;/head> &lt;body> é”™è¯¯é¡µé¢ &lt;/body> &lt;/html> ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯• ç¼–å†™å¥½ç¨‹åºåå°±å¯ä»¥å¯åŠ¨ï¼Œé¦–å…ˆè®¿é—®http://localhost:8080/userList?username=wmyskxzé¡µé¢ï¼Œç”±äºæ²¡æœ‰ç™»å½•å°±ä¼šè·³è½¬åˆ°æˆ‘ä»¬é…ç½®å¥½çš„http://localhost:8080/loginé¡µé¢ã€‚ç™»é™†ä¹‹åå°±ä¼šçœ‹åˆ°æ­£ç¡®è¿”å›çš„JSONæ•°æ®ï¼Œä¸Šé¢è¿™äº›æ“ä½œæ—¶å€™è§¦å‘MyShiroRealm.doGetAuthenticationInfo()è¿™ä¸ªæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç™»å½•è®¤è¯çš„æ–¹æ³•ã€‚ ç™»å½•ä¹‹åï¼Œæˆ‘ä»¬è¿˜èƒ½è®¿é—®http://localhost:8080/userAddé¡µé¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­æå‰é…ç½®å¥½äº†æƒé™ï¼Œèƒ½å¤Ÿçœ‹åˆ°æ­£ç¡®è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬è®¿é—®http://localhost:8080/userDeleteæ—¶ï¼Œå°±ä¼šè¿”å›é”™è¯¯é¡µé¢. æ³¨æ„ï¼šä»¥ä¸Šæµ‹è¯•éœ€è¦åœ¨RESTå·¥å…·ä¸­æµ‹è¯•ï¼Œå› ä¸ºåœ¨Controllerå±‚ä¸­é…ç½®äº†æ–¹æ³•ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä¸ç”¨RESTé£æ ¼æ¥æµ‹è¯•ä¸€ä¸‹çœ‹çœ‹ï¼ å®Œæˆäº†ä»¥ä¸Šçš„å­¦ä¹ ï¼Œæˆ‘ä»¬å°±å·®ä¸å¤šå¯¹ Shiro æ¡†æ¶æœ‰äº†ä¸€å®šäº†è§£äº†ï¼Œæ›´å¤šçš„ä¸œè¥¿ä»¥åå†åˆ†äº«å†å­¦ä¹ å§. å‚è€ƒèµ„æ–™ï¼šspringboot(åå››)ï¼šspringbootæ•´åˆshiro-ç™»å½•è®¤è¯å’Œæƒé™ç®¡ç†â€”â€”çº¯æ´çš„å¾®ç¬‘Shiroå®‰å…¨æ¡†æ¶å…¥é—¨ - æ…•è¯¾è§†é¢‘æ•™ç¨‹Shiro ç³»åˆ—æ•™ç¨‹ â€”â€” how2jç½‘ç«™ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Shiro","slug":"Shiro","permalink":"http://www.wmyskxz.com/tags/Shiro/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Spring-Data-JPAå°é²œï¼šå¿«é€Ÿæ­å»ºCRUD+åˆ†é¡µåå°å®ä¾‹","slug":"Spring-Data-JPAå°é²œï¼šå¿«é€Ÿæ­å»ºCRUD-åˆ†é¡µåå°å®ä¾‹","date":"2019-01-04T23:11:00.000Z","updated":"2020-08-03T09:11:39.731Z","comments":true,"path":"2019/01/05/spring-data-jpa-chang-xian-kuai-su-da-jian-crud-fen-ye-hou-tai-shi-li/","link":"","permalink":"http://www.wmyskxz.com/2019/01/05/spring-data-jpa-chang-xian-kuai-su-da-jian-crud-fen-ye-hou-tai-shi-li/","excerpt":"","text":"å‰è¨€ï¼šç”±äºä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡Hibernateæ¡†æ¶ï¼Œä½†æ˜¯æœ€è¿‘çœ‹ä¸€äº›åšå®¢æ·±æ·±è¢«å®ƒçš„â€œæ•ˆç‡â€æ‰€å¸å¼•ï¼Œæ‰€ä»¥è¿™å°±æ¥è·Ÿå¤§å®¶ä¸€èµ·å°±ç€ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥å°å°Springå…¨å®¶æ¡¶é‡Œè‡ªå¸¦çš„JPAçš„é²œ Spring-DATA-JPA ç®€ä»‹JPA(Java Persistence API)æ˜¯Sunå®˜æ–¹æå‡ºçš„JavaæŒä¹…åŒ–è§„èŒƒã€‚å®ƒä¸ºJavaå¼€å‘äººå‘˜æä¾›äº†ä¸€ç§å¯¹è±¡/å…³è”æ˜ å°„å·¥å…·æ¥ç®¡ç†Javaåº”ç”¨ä¸­çš„å…³ç³»æ•°æ®ã€‚ä»–çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–ç°æœ‰çš„æŒä¹…åŒ–å¼€å‘å·¥ä½œå’Œæ•´åˆORMæŠ€æœ¯ï¼Œç»“æŸç°åœ¨Hibernateï¼ŒTopLinkï¼ŒJDOç­‰ORMæ¡†æ¶å„è‡ªä¸ºè¥çš„å±€é¢ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒJPAæ˜¯åœ¨å……åˆ†å¸æ”¶äº†ç°æœ‰Hibernateï¼ŒTopLinkï¼ŒJDOç­‰ORMæ¡†æ¶çš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ï¼Œå…·æœ‰æ˜“äºä½¿ç”¨ï¼Œä¼¸ç¼©æ€§å¼ºç­‰ä¼˜ç‚¹ã€‚ä»ç›®å‰çš„å¼€å‘ç¤¾åŒºçš„ååº”ä¸Šçœ‹ï¼ŒJPAå—åˆ°äº†æå¤§çš„æ”¯æŒå’Œèµæ‰¬ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†Springä¸EJB3.0çš„å¼€å‘å›¢é˜Ÿã€‚ æ³¨æ„ï¼šJPAæ˜¯ä¸€å¥—è§„èŒƒï¼Œä¸æ˜¯ä¸€å¥—äº§å“ï¼Œé‚£ä¹ˆåƒHibernate,TopLink,JDOä»–ä»¬æ˜¯ä¸€å¥—äº§å“ï¼Œå¦‚æœè¯´è¿™äº›äº§å“å®ç°äº†è¿™ä¸ªJPAè§„èŒƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å«ä»–ä»¬ä¸ºJPAçš„å®ç°äº§å“ã€‚ Spring Data JPA æ˜¯ Spring åŸºäº ORM æ¡†æ¶ã€JPA è§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—JPAåº”ç”¨æ¡†æ¶ï¼Œå¯ä½¿å¼€å‘è€…ç”¨æç®€çš„ä»£ç å³å¯å®ç°å¯¹æ•°æ®çš„è®¿é—®å’Œæ“ä½œã€‚å®ƒæä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ç­‰åœ¨å†…çš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æ˜“äºæ‰©å±•ï¼å­¦ä¹ å¹¶ä½¿ç”¨ Spring Data JPA å¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡ï¼ï¼ˆspring data jpaè®©æˆ‘ä»¬è§£è„±äº†DAOå±‚çš„æ“ä½œï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰CRUDéƒ½å¯ä»¥ä¾èµ–äºå®ƒæ¥å®ç°ï¼‰ æ‘˜è‡ªï¼šspringboot(äº”)ï¼šspring data jpaçš„ä½¿ç”¨â€”â€”çº¯æ´çš„å¾®ç¬‘ Hibernate å’Œ MyBatis ç®€å•å¯¹æ¯”ç”±äºJPAåº•å±‚å¹²æ´»çš„ä»ç„¶æ˜¯Hibernateæ¡†æ¶ï¼Œè€Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„åªæœ‰MyBatisç›¸å…³çš„ä¸œè¥¿ï¼Œæ‰€ä»¥åœ¨å°é²œä¹‹å‰è¿˜æ˜¯æœ‰å¿…è¦ç®€å•äº†è§£ä¸€ä¸‹ä¸¤è€…çš„åŒºåˆ«ï¼š Hibernateçš„ä¼˜åŠ¿ï¼š Hibernateçš„DAOå±‚å¼€å‘æ¯”MyBatisç®€å•ï¼ŒMybatiséœ€è¦ç»´æŠ¤SQLå’Œç»“æœæ˜ å°„ã€‚ Hibernateå¯¹å¯¹è±¡çš„ç»´æŠ¤å’Œç¼“å­˜è¦æ¯”MyBatiså¥½ï¼Œå¯¹å¢åˆ æ”¹æŸ¥çš„å¯¹è±¡çš„ç»´æŠ¤è¦æ–¹ä¾¿ã€‚ Hibernateæ•°æ®åº“ç§»æ¤æ€§å¾ˆå¥½ï¼ŒMyBatisçš„æ•°æ®åº“ç§»æ¤æ€§ä¸å¥½ï¼Œä¸åŒçš„æ•°æ®åº“éœ€è¦å†™ä¸åŒSQLã€‚ Hibernateæœ‰æ›´å¥½çš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜ã€‚MyBatisæœ¬èº«æä¾›çš„ç¼“å­˜æœºåˆ¶ä¸ä½³ã€‚ MyBatisçš„ä¼˜åŠ¿ï¼š MyBatiså¯ä»¥è¿›è¡Œæ›´ä¸ºç»†è‡´çš„SQLä¼˜åŒ–ï¼Œå¯ä»¥å‡å°‘æŸ¥è¯¢å­—æ®µã€‚ MyBatiså®¹æ˜“æŒæ¡ï¼Œè€ŒHibernateé—¨æ§›è¾ƒé«˜ã€‚ ç®€å•æ€»ç»“ï¼š MyBatisï¼šå°å·§ã€æ–¹ä¾¿ã€é«˜æ•ˆã€ç®€å•ã€ç›´æ¥ã€åŠè‡ªåŠ¨åŒ– Hibernateï¼šå¼ºå¤§ã€æ–¹ä¾¿ã€é«˜æ•ˆã€å¤æ‚ã€é—´æ¥ã€å…¨è‡ªåŠ¨åŒ– å¼•ç”¨è‡ªï¼šã€æŒä¹…åŒ–æ¡†æ¶ã€‘Mybatisä¸Hibernateçš„è¯¦ç»†å¯¹æ¯”â€”â€”é«˜äº® CRUD + åˆ†é¡µåå°å®ä¾‹ä¸‹é¢æˆ‘ä»¬æ¥å¿«é€Ÿæ­å»ºä¸€ä¸ªä½¿ç”¨Spring-DATA-JPAçš„CRUD+åˆ†é¡µåå°å®ä¾‹ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¼šç›´æ¥ä½¿ç”¨åˆ°RESTful APIï¼ˆä¸ç†Ÿæ‚‰çš„åŒå­¦æˆ³è¿™é‡Œï¼‰ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºSpringBooté¡¹ç›®æ‰“å¼€IDEAæ–°å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œä¸ç†Ÿæ‚‰SpringBootçš„åŒå­¦è¯·å³è½¬ï¼šã€ä¼ é€é—¨ã€‘ï¼Œç„¶ååœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š &lt;!-- mysql--> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>5.1.21&lt;/version> &lt;/dependency> &lt;!-- jpa--> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-jpa&lt;/artifactId> &lt;/dependency> ç„¶åæŠŠapplication.propertieså¼„æˆè¿™ä¸ªæ ·å­ï¼š #æ•°æ®åº“ spring.datasource.url=jdbc:mysql://127.0.0.1:3306/testdb?useUnicode=true&amp;characterEncoding=utf-8 spring.datasource.username=root spring.datasource.password=123456 spring.datasource.driver-class-name=com.mysql.jdbc.Driver spring.jpa.properties.hibernate.hbm2ddl.auto=update #æ˜¾ç¤ºSQLè¯­å¥ spring.jpa.show-sql=true #ä¸åŠ ä¸‹é¢è¿™å¥åˆ™é»˜è®¤åˆ›å»ºMyISAMå¼•æ“çš„æ•°æ®åº“ spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect #è‡ªå·±é‡å†™çš„é…ç½®ç±»ï¼Œé»˜è®¤ä½¿ç”¨utf8ç¼–ç  spring.jpa.properties.hibernate.dialect=com.wmyskxz.demo.config.MySQLConfig spring.jpa.properties.hibernate.hbm2ddl.autoæ˜¯hibernateçš„é…ç½®å±æ€§ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼šè‡ªåŠ¨åˆ›å»ºã€æ›´æ–°ã€éªŒè¯æ•°æ®åº“è¡¨ç»“æ„ã€‚è¯¥å‚æ•°çš„å‡ ç§é…ç½®å¦‚ä¸‹ï¼š createï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶éƒ½ä¼šåˆ é™¤ä¸Šä¸€æ¬¡çš„ç”Ÿæˆçš„è¡¨ï¼Œç„¶åæ ¹æ®ä½ çš„modelç±»å†é‡æ–°æ¥ç”Ÿæˆæ–°è¡¨ï¼Œå“ªæ€•ä¸¤æ¬¡æ²¡æœ‰ä»»ä½•æ”¹å˜ä¹Ÿè¦è¿™æ ·æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¯¼è‡´æ•°æ®åº“è¡¨æ•°æ®ä¸¢å¤±çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚ create-dropï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ç”Ÿæˆè¡¨ï¼Œä½†æ˜¯sessionFactoryä¸€å…³é—­,è¡¨å°±è‡ªåŠ¨åˆ é™¤ã€‚ updateï¼šæœ€å¸¸ç”¨çš„å±æ€§ï¼Œç¬¬ä¸€æ¬¡åŠ è½½hibernateæ—¶æ ¹æ®modelç±»ä¼šè‡ªåŠ¨å»ºç«‹èµ·è¡¨çš„ç»“æ„ï¼ˆå‰ææ˜¯å…ˆå»ºç«‹å¥½æ•°æ®åº“ï¼‰ï¼Œä»¥ååŠ è½½hibernateæ—¶æ ¹æ®modelç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼Œå³ä½¿è¡¨ç»“æ„æ”¹å˜äº†ä½†è¡¨ä¸­çš„è¡Œä»ç„¶å­˜åœ¨ä¸ä¼šåˆ é™¤ä»¥å‰çš„è¡Œã€‚è¦æ³¨æ„çš„æ˜¯å½“éƒ¨ç½²åˆ°æœåŠ¡å™¨åï¼Œè¡¨ç»“æ„æ˜¯ä¸ä¼šè¢«é©¬ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œæ˜¯è¦ç­‰åº”ç”¨ç¬¬ä¸€æ¬¡è¿è¡Œèµ·æ¥åæ‰ä¼šã€‚ validateï¼šæ¯æ¬¡åŠ è½½hibernateæ—¶ï¼ŒéªŒè¯åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œåªä¼šå’Œæ•°æ®åº“ä¸­çš„è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¼šåˆ›å»ºæ–°è¡¨ï¼Œä½†æ˜¯ä¼šæ’å…¥æ–°å€¼ã€‚ ç„¶åæ–°å»ºä¸€ä¸ªã€configã€‘åŒ…ï¼Œåˆ›å»ºä¸€ä¸ªã€MySQLConfigã€‘ç±»ï¼ˆä¸Šé¢çš„spring.jpa.properties.hibernate.dialectå±æ€§å°±è¦é…ç½®è¿™é‡Œçš„ç±»å…¨è·¯å¾„ï¼‰ï¼š package com.wmyskxz.demo.config; import org.hibernate.dialect.MySQL5InnoDBDialect; public class MySQLConfig extends MySQL5InnoDBDialect { @Override public String getTableTypeString() { return \"ENGINE=InnoDB DEFAULT CHARSET=utf8\"; } } ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå¥½éœ€è¦çš„æ•°æ®åº“æ‰“å¼€SQLæœåŠ¡ï¼Œå»ºè¡¨è¯­å¥ä¹Ÿå¾ˆç®€å•å•¦ï¼š create database testdb; ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»å®ä½“ç±»æ˜ å°„çš„å®é™…ä¸Šæ˜¯æ•°æ®åº“è¡¨çš„ç»“æ„ï¼Œåœ¨é€‚å½“çš„åŒ…ç›®å½•ä¸‹ï¼ˆä¾‹å¦‚ã€entityã€‘ï¼‰ä¸‹åˆ›å»ºå¥½å®ä½“ç±»ï¼š package com.wmyskxz.demo.entity; import javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.Id; @Entity // è¡¨æ˜è¿™æ˜¯ä¸ªå®ä½“ç±» public class User { @Id // è¡¨æ˜è¿™ä¸ªå±æ€§æ˜¯ä¸»é”® @GeneratedValue // è‡ªå¢é•¿ private long id; @Column(nullable = false, unique = true) // ä¸å…è®¸ä¸ºç©ºï¼Œå±æ€§å”¯ä¸€ private String username; @Column(nullable = false) // ä¸å…è®¸ä¸ºç©º private String password; // getter and setter } ç¬¬å››æ­¥ï¼šDAOå±‚æ–°å»ºä¸€ä¸ªã€repositoryã€‘åŒ…ï¼Œç„¶åæ–°å»ºä¸€ä¸ªã€UserRepositoryã€‘æ¥å£ï¼Œå¹¶ç»§æ‰¿JpaRepositoryç±»ï¼š package com.wmyskxz.demo.repository; import com.wmyskxz.demo.entity.User; import org.springframework.data.jpa.repository.JpaRepository; public interface UserRepository extends JpaRepository&lt;User, Long> { } ç»§æ‰¿JpaRepositoryéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å®ä½“ç±»Userä¸€ä¸ªæ˜¯ä¸»é”®çš„ç±»å‹Longï¼Œè€Œå‡¡æ˜¯ç»§æ‰¿äº†JpaRepositoryç±»çš„å°±ä¼šè‡ªåŠ¨å®ç°å¾ˆå¤šå†…ç½®çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å¢åˆ æ”¹æŸ¥ï¼Œä»¥åŠä½¿ç”¨é»˜è®¤æ”¯æŒçš„Pageableå¯¹è±¡æ¥è¿›è¡Œåˆ†é¡µï¼Œé»˜è®¤çš„æ–¹æ³•å¤§è‡´å¦‚ä¸‹ï¼š public interface JpaRepository&lt;T, ID> extends PagingAndSortingRepository&lt;T, ID>, QueryByExampleExecutor&lt;T> { List&lt;T> findAll(); List&lt;T> findAll(Sort var1); List&lt;T> findAllById(Iterable&lt;ID> var1); &lt;S extends T> List&lt;S> saveAll(Iterable&lt;S> var1); void flush(); &lt;S extends T> S saveAndFlush(S var1); void deleteInBatch(Iterable&lt;T> var1); void deleteAllInBatch(); T getOne(ID var1); &lt;S extends T> List&lt;S> findAll(Example&lt;S> var1); &lt;S extends T> List&lt;S> findAll(Example&lt;S> var1, Sort var2); } ç¬¬äº”æ­¥ï¼šControllerå±‚æ–°å»ºã€controllerã€‘åŒ…ï¼Œæ–°å»ºä¸€ä¸ªã€UserControllerã€‘ç±»ï¼Œç¼–å†™ç®€å•çš„å¢åˆ æ”¹æŸ¥ä»£ç ï¼š package com.wmyskxz.demo.controoler; import com.wmyskxz.demo.entity.User; import com.wmyskxz.demo.repository.UserRepository; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.data.domain.PageRequest; import org.springframework.data.domain.Sort; import org.springframework.web.bind.annotation.*; import java.util.Optional; @RestController // è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªControllerå¹¶è¿”å›JSONæ ¼å¼ public class UserController { @Autowired private UserRepository userRepository; @GetMapping(\"/getOne\") public Optional&lt;User> getOneUserById(@RequestParam long id) { return userRepository.findById(id); } @GetMapping(\"/all\") public Iterable&lt;User> getAllUsers(@RequestParam(value = \"page\", defaultValue = \"0\") int page, @RequestParam(value = \"size\", defaultValue = \"5\") int size) { page = page &lt; 0 ? 0 : page;// å¦‚æœpageä¸ºè´Ÿæ•°åˆ™ä¿®æ”¹ä¸º0ï¼Œé˜²æ­¢åœ¨é¦–é¡µç‚¹å‡»ä¸Šä¸€é¡µå‘ç”Ÿé”™è¯¯ Sort sort = new Sort(Sort.Direction.DESC, \"id\");// æŒ‰idå€’å™æ’åˆ— return userRepository.findAll(new PageRequest(page, size, sort)); } @PostMapping(\"/add\") public String addUser(@RequestParam String username, @RequestParam String password) { User user = new User(); user.setUsername(username); user.setPassword(password); userRepository.save(user);// æ³¨æ„è¿™é‡Œæ˜¯save return \"Saved\"; } @DeleteMapping(\"/delete\") public String deleteUserById(@RequestParam long id) { userRepository.deleteById(id); return \"Deleted\"; } @PutMapping(\"/update\") public String updateUser(User user) { // User user = new User(); // user.setId(id); // user.setUsername(username); // user.setPassword(password); userRepository.save(user); return \"Updated\"; } } ä¸Šé¢å°±ç›´æ¥ä½¿ç”¨@Autowiredè‡ªåŠ¨å¼•å…¥äº†ç»§æ‰¿äº†JpaRepositoryçš„UserRepositoryæ¥å£ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒé»˜è®¤çš„æ–¹æ³•å·²ç»è¶³å¤Ÿå®Œæˆæˆ‘ä»¬çš„åŸºç¡€åŠŸèƒ½äº†ï¼Œå€¼å¾—ä¸€æçš„æ˜¯æˆ‘ä»¬çš„getAllUsers(...)æ–¹æ³•ï¼Œå®ƒå¾€findAll()æ–¹æ³•é‡Œä¼ å…¥äº†ä¸€ä¸ªPageableå¯¹è±¡ï¼Œè¿™æ˜¯Spring Dataåº“ä¸­å®šä¹‰çš„ä¸€ä¸ªæ¥å£ï¼Œæ˜¯æ‰€æœ‰åˆ†é¡µç›¸å…³ä¿¡æ¯çš„ä¸€ä¸ªæŠ½è±¡ï¼Œé€šè¿‡è¯¥æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œåˆ†é¡µç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆä¾‹å¦‚pageNumberã€pageSizeç­‰ï¼‰ï¼Œè¿™æ ·Jpaå°±èƒ½å¤Ÿé€šè¿‡Pageableå‚æ•°æ¥å¾—åˆ°ä¸€ä¸ªå¸¦åˆ†é¡µä¿¡æ¯çš„Sqlè¯­å¥ã€‚ å½“ç„¶ä¸Šé¢æˆ‘ä»¬æ˜¯é€šè¿‡è‡ªå·±åˆ›å»ºäº†ä¸€ä¸ªPageableå¯¹è±¡ï¼ŒSpringä¹Ÿæ”¯æŒç›´æ¥è·å–Pageableå¯¹è±¡ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„getAllUsers(...)æ–¹æ³•æ”¹å†™æˆä¸‹é¢è¿™æ ·ï¼š @GetMapping(\"/all\") public Iterable&lt;User> getAllUsers(@PageableDefault(value = 5, sort = {\"id\"}, direction = Sort.Direction.DESC) Pageable pageable) { return userRepository.findAll(pageable); } é»˜è®¤ä»ç¬¬0é¡µå¼€å§‹ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¼ å…¥ä¸€ä¸ªpageå‚æ•°ï¼Œè·Ÿä¸Šé¢çš„æ˜¯ä¸€æ ·çš„ã€‚ ç¬¬å…­æ­¥ï¼šè¿è¡Œé¡¹ç›®ä¸Šé¢æˆ‘ä»¬å°±å¿«é€Ÿæ­å»ºèµ·æ¥äº†ä¸€ä¸ªåŸºäºSpring Bootå’ŒJPAçš„RESTé£æ ¼çš„åå°å¢åˆ æ”¹æŸ¥å®ä¾‹ï¼Œæˆ‘ä»¬æŠŠé¡¹ç›®è·‘èµ·æ¥ï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“è‡ªåŠ¨åˆ›å»ºäº†ä¸€äº›è¡¨ï¼š JPAå¸®æˆ‘ä»¬åˆ›å»ºçš„userè¡¨çš„åˆ›å»ºSQLå¦‚ä¸‹ï¼š CREATE TABLE `user` ( `id` bigint(20) NOT NULL, `password` varchar(255) NOT NULL, `username` varchar(255) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_sb8bbouer5wak8vyiiy4pf2bx` (`username`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; ä½¿ç”¨RESTæµ‹è¯•å·¥å…·æµ‹è¯•å®Œå…¨ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨ä¸€äº›RESTçš„æµ‹è¯•å·¥å…·ï¼Œæ¥æµ‹è¯•ä¸Šé¢çš„åŠŸèƒ½æ˜¯å¦éƒ½èƒ½æ­£ç¡®è¿è¡Œï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œä½¿ç”¨çš„ã€Restlet Clientã€‘ï¼Œåœ¨Chromeå•†åº—å°±å¯ä»¥ä¸‹è½½åˆ°ã€‚ /allåœ°å€æµ‹è¯•ï¼šé¦–å…ˆå…ˆæ¥æµ‹è¯•ä¸€ä¸‹http://localhost:8080/allåœ°å€ï¼Œç”±äºç°åœ¨æ•°æ®åº“è¿˜æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°è¿”å›å¦‚ä¸‹ï¼š { \"content\": [ ], \"pageable\": { \"sort\": { \"sorted\": true, \"unsorted\": false, \"empty\": false }, \"offset\": 0, \"pageNumber\": 0, \"pageSize\": 5, \"unpaged\": false, \"paged\": true }, \"totalElements\": 0, \"last\": true, \"totalPages\": 0, \"number\": 0, \"size\": 5, \"sort\": { \"sorted\": true, \"unsorted\": false, \"empty\": false }, \"numberOfElements\": 0, \"first\": true, \"empty\": true } æ·»åŠ ç”¨æˆ·æµ‹è¯•ï¼šç„¶åæˆ‘ä»¬ä½¿ç”¨http://localhost:8080/add?username=wmyskxz&amp;password=123åœ°å€ï¼Œæ·»åŠ å‡ ä¸ªç±»ä¼¼çš„ç”¨æˆ·ä¿¡æ¯ï¼š å¯ä»¥çœ‹åˆ°è¿”å›æ­£ç¡®çš„Savedä¿¡æ¯ï¼š /getOneåœ°å€æµ‹è¯•ï¼šæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨http://localhost:8080/getOne?id=1æ¥è·å–åˆšæ‰æ·»åŠ çš„ç”¨æˆ·ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›æ­£ç¡®çš„æ•°æ®ï¼š { \"id\": 1, \"username\": \"wmyskxz\", \"password\": \"123\" } ä¿®æ”¹ç”¨æˆ·æµ‹è¯•ï¼šç„¶åæˆ‘ä»¬ä½¿ç”¨http://localhost:8080/update?id=1&amp;username=wmyskxz&amp;password=123456æ¥æ¨¡æ‹Ÿè¿›è¡Œç”¨æˆ·å¯†ç çš„ä¿®æ”¹ï¼š å¯ä»¥çœ‹åˆ°æ­£ç¡®çš„æ›´æ–°ä¿¡æ¯Updatedï¼Œå†æ¬¡æŸ¥è¯¢ç”¨æˆ·ï¼Œä¹Ÿèƒ½çœ‹åˆ°æ­£ç¡®çš„æ•°æ®ï¼š { \"id\": 1, \"username\": \"wmyskxz\", \"password\": \"123456\" } åˆ†é¡µæµ‹è¯•ï¼šæˆ‘ä»¬ä½¿ç”¨æ·»åŠ åŠŸèƒ½ä¸ºæ•°æ®åº“æ·»åŠ 5æ¡ä»¥ä¸Šçš„æ•°æ®ï¼Œç„¶åè¿›è¡Œä¸€æ¬¡æŸ¥è¯¢/allï¼Œå¯ä»¥çœ‹åˆ°èƒ½å¤ŸæŒ‰ç…§idå€’å™æ’åˆ—åè¿”å›5æ¡æ•°æ®ï¼š è¿”å›çš„JSONæ•°æ®å¦‚ä¸‹ï¼š { \"content\": [ { \"id\": 10, \"username\": \"wmyskxz8\", \"password\": \"123\" }, { \"id\": 9, \"username\": \"wmyskxz7\", \"password\": \"123\" }, { \"id\": 8, \"username\": \"wmyskxz6\", \"password\": \"123\" }, { \"id\": 7, \"username\": \"wmyskxz5\", \"password\": \"123\" }, { \"id\": 6, \"username\": \"wmyskxz4\", \"password\": \"123\" } ], \"pageable\": { \"sort\": { \"sorted\": true, \"unsorted\": false, \"empty\": false }, \"offset\": 0, \"pageNumber\": 0, \"pageSize\": 5, \"unpaged\": false, \"paged\": true }, \"totalElements\": 9, \"last\": false, \"totalPages\": 2, \"number\": 0, \"size\": 5, \"sort\": { \"sorted\": true, \"unsorted\": false, \"empty\": false }, \"numberOfElements\": 5, \"first\": true, \"empty\": false } åˆ é™¤ç”¨æˆ·æµ‹è¯•ï¼šä½¿ç”¨åœ°å€http://localhost:8080/delete?id=1æ¥åˆ é™¤IDä¸º1çš„ç”¨æˆ·ï¼š èƒ½æ­£ç¡®çœ‹åˆ°Deletedä¿¡æ¯ï¼Œå¹¶æŸ¥çœ‹æ•°æ®èƒ½å¤Ÿçœ‹åˆ°æ•°æ®å·²ç»è¢«åˆ é™¤äº†ã€‚ ä»¥ä¸Šï¼Œæˆ‘ä»¬å°±å¿«é€Ÿæ­å»ºå¥½äº†ä¸€ä¸ªCRUD+åˆ†é¡µçš„åå°å®ä¾‹ï¼Œè¿˜ç”¨äº†æ¯”è¾ƒæµè¡Œçš„RESTfulé£æ ¼ï¼Œç²—ç•¥çš„æ„Ÿå—äº†ä¸€ä¸‹JPAçš„æ–¹ä¾¿ï¼Œè¿˜æ˜¯æŒºçˆ½çš„..æ²¡æœ‰å¤æ‚çš„Mapperæ–‡ä»¶ï¼Œä¸ç”¨è‡ªåŠ¨ç”Ÿæˆå®ä½“ï¼Œç”šè‡³ä¸ç”¨ç®¡SQLï¼Œåªéœ€è¦ä¸“æ³¨åœ¨é€»è¾‘ä¸Šå°±è¡Œäº†ï¼Œå…¶å®ç®€å•ä½¿ç”¨çš„è¯ä»¥ä¸Šçš„ä¸œè¥¿ä¹Ÿèƒ½åº”ä»˜ä¸€äº›å¸¸è§çš„åœºæ™¯äº†ï¼ŒåæœŸå†æ·±å…¥äº†è§£äº†è§£å§ï¼ å‚è€ƒèµ„æ–™ï¼šspringboot(äº”)ï¼šspring data jpaçš„ä½¿ç”¨â€”â€”çº¯æ´çš„å¾®ç¬‘springboot(åäº”)ï¼šspringboot+jpa+thymeleafå¢åˆ æ”¹æŸ¥ç¤ºä¾‹â€”â€”çº¯æ´çš„å¾®ç¬‘Spring Bootä¸­ä½¿ç”¨Spring-data-jpaè®©æ•°æ®è®¿é—®æ›´ç®€å•ã€æ›´ä¼˜é›…â€”â€”ç¨‹åºçŒ¿DD æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"é¡¹ç›®","slug":"JavaWebè¿›é˜¶/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/é¡¹ç›®/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E9%A1%B9%E7%9B%AE/Spring-Boot/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Thymeleafã€å¿«é€Ÿå…¥é—¨ã€‘","slug":"Thymeleafã€å¿«é€Ÿå…¥é—¨ã€‘","date":"2019-01-01T23:08:00.000Z","updated":"2020-08-03T09:10:59.160Z","comments":true,"path":"2019/01/02/thymeleaf-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2019/01/02/thymeleaf-kuai-su-ru-men/","excerpt":"","text":"å‰è¨€ï¼šçªç„¶å‘ç°è‡ªå·±ç»™è‡ªå·±åŸ‹äº†ä¸€ä¸ªå¤§å‘ï¼Œæ¯•è®¾å¥½éš¾..æ¯ä¸€ä¸ªå°ç‚¹æ‹å‡ºæ¥éƒ½èƒ½å½“ä¸€ä¸ªå°é¢˜ç›®ï¼ˆæ‰‹åŠ¨æ‘†æ‰‹..ï¼‰ï¼Œæ²¡åŠæ³•è‡ªå·±é€‰çš„å«ç€æ³ªä¹Ÿè¦æŠŠå‘å¡«å®Œ..å…ˆä¸€ç‚¹ä¸€ç‚¹æŠŠéœ€è¦è¡¥å……çš„çŸ¥è¯†å­¦å®Œå§.. Thymeleafä»‹ç»ç¨å¾®æ‘˜ä¸€æ‘˜ã€å®˜ç½‘ã€‘ä¸Šé¢çš„ä»‹ç»å§ï¼ˆç¿»è¯‘æ˜¯æ‰¾åˆ°ï¼Œæœ‰äº›å¢åŠ çš„å†…å®¹ï¼‰ï¼š 1.Thymeleaf is a modern server-side Java template engine for both web and standalone environments. Thymeleafæ˜¯â¾¯å‘Webå’Œç‹¬â½´ç¯å¢ƒçš„ç°ä»£æœåŠ¡å™¨ç«¯Javaæ¨¡æ¿å¼•æ“ï¼Œèƒ½å¤Ÿå¤„ç†HTMLï¼ŒXMLï¼ŒJavaScriptï¼ŒCSSç”šâ¾„çº¯â½‚æœ¬ã€‚ 2.Thymeleafâ€™s main goal is to bring elegant natural templates to your development workflow â€” HTML that can be correctly displayed in browsers and also work as static prototypes, allowing for stronger collaboration in development teams. Thymeleafæ—¨åœ¨æä¾›â¼€ä¸ªä¼˜é›…çš„ã€â¾¼åº¦å¯ç»´æŠ¤çš„åˆ›å»ºæ¨¡æ¿çš„â½…å¼ã€‚ ä¸ºäº†å®ç°è¿™â¼€â½¬æ ‡ï¼ŒThymeleafå»ºâ½´åœ¨â¾ƒç„¶æ¨¡æ¿çš„æ¦‚å¿µä¸Šï¼Œå°†å…¶é€»è¾‘æ³¨â¼Šåˆ°æ¨¡æ¿â½‚ä»¶ä¸­ï¼Œä¸ä¼šå½±å“æ¨¡æ¿è®¾è®¡åŸå‹ã€‚ è¿™æ”¹å–„äº†è®¾è®¡çš„æ²Ÿé€šï¼Œå¼¥åˆäº†è®¾è®¡å’Œå¼€å‘å›¢é˜Ÿä¹‹é—´çš„å·®è·ã€‚ 3.With modules for Spring Framework, a host of integrations with your favourite tools, and the ability to plug in your own functionality, Thymeleaf is ideal for modern-day HTML5 JVM web development â€” although there is much more it can do.å¯¹äºSpringæ¡†æ¶æ¨¡å—,ä¸€ä¸ªå…è®¸ä½ é›†æˆä½ æœ€å–œæ¬¢çš„å·¥å…·çš„å¹³å°,å¹¶ä¸”èƒ½å¤Ÿæ’å…¥è‡ªå·±çš„åŠŸèƒ½,Thymeleafæ˜¯ç†æƒ³çš„ç°ä»£JVM HTML5 webå¼€å‘å·¥å…·,è™½ç„¶å®ƒå¯ä»¥åšå¾—å¤šã€‚ ç„¶åå®˜ç½‘è¿˜ç»™å‡ºäº†ä¸€æ®µçœ‹èµ·æ¥ä»ç„¶åƒHTMLä¸€æ ·å·¥ä½œçš„é›†æˆäº†Thymeleafæ¨¡ç‰ˆçš„ä»£ç ï¼Œæˆ‘ä»¬å¤§è‡´çš„æ¥æ„Ÿå—ä¸€ä¸‹ï¼š ç®€å•è¯´ï¼Œ Thymeleaf æ˜¯ä¸€ä¸ªè·Ÿ Velocityã€FreeMarker ç±»ä¼¼çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒå¯ä»¥å®Œå…¨æ›¿ä»£ JSPã€‚ Thymeleafä¸JSPçš„åŒºåˆ«åœ¨äºï¼Œä¸è¿è¡Œé¡¹ç›®ä¹‹å‰ï¼ŒThymeleafä¹Ÿæ˜¯çº¯HTMLï¼ˆä¸éœ€è¦æœåŠ¡ç«¯çš„æ”¯æŒï¼‰è€ŒJSPéœ€è¦è¿›è¡Œä¸€å®šçš„è½¬æ¢ï¼Œè¿™æ ·å°±æ–¹ä¾¿å‰ç«¯äººå‘˜è¿›è¡Œç‹¬ç«‹çš„è®¾è®¡ã€è°ƒè¯•ã€‚ç›¸è¾ƒä¸å…¶ä»–çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒæœ‰å¦‚ä¸‹ä¸‰ä¸ªæå¸å¼•äººçš„ç‰¹ç‚¹ï¼š 1.Thymeleaf åœ¨æœ‰ç½‘ç»œå’Œæ— ç½‘ç»œçš„ç¯å¢ƒä¸‹çš†å¯è¿è¡Œï¼Œå³å®ƒå¯ä»¥è®©ç¾å·¥åœ¨æµè§ˆå™¨æŸ¥çœ‹é¡µé¢çš„é™æ€æ•ˆæœï¼Œä¹Ÿå¯ä»¥è®©ç¨‹åºå‘˜åœ¨æœåŠ¡å™¨æŸ¥çœ‹å¸¦æ•°æ®çš„åŠ¨æ€é¡µé¢æ•ˆæœã€‚è¿™æ˜¯ç”±äºå®ƒæ”¯æŒ html åŸå‹ï¼Œç„¶ååœ¨ html æ ‡ç­¾é‡Œå¢åŠ é¢å¤–çš„å±æ€§æ¥è¾¾åˆ°æ¨¡æ¿+æ•°æ®çš„å±•ç¤ºæ–¹å¼ã€‚æµè§ˆå™¨è§£é‡Š html æ—¶ä¼šå¿½ç•¥æœªå®šä¹‰çš„æ ‡ç­¾å±æ€§ï¼Œæ‰€ä»¥ thymeleaf çš„æ¨¡æ¿å¯ä»¥é™æ€åœ°è¿è¡Œï¼›å½“æœ‰æ•°æ®è¿”å›åˆ°é¡µé¢æ—¶ï¼ŒThymeleaf æ ‡ç­¾ä¼šåŠ¨æ€åœ°æ›¿æ¢æ‰é™æ€å†…å®¹ï¼Œä½¿é¡µé¢åŠ¨æ€æ˜¾ç¤ºã€‚ 2.Thymeleaf å¼€ç®±å³ç”¨çš„ç‰¹æ€§ã€‚å®ƒæä¾›æ ‡å‡†å’Œspringæ ‡å‡†ä¸¤ç§æ–¹è¨€ï¼Œå¯ä»¥ç›´æ¥å¥—ç”¨æ¨¡æ¿å®ç°JSTLã€ OGNLè¡¨è¾¾å¼æ•ˆæœï¼Œé¿å…æ¯å¤©å¥—æ¨¡æ¿ã€è¯¥jstlã€æ”¹æ ‡ç­¾çš„å›°æ‰°ã€‚åŒæ—¶å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥æ‰©å±•å’Œåˆ›å»ºè‡ªå®šä¹‰çš„æ–¹è¨€ã€‚ 3.Thymeleaf æä¾›springæ ‡å‡†æ–¹è¨€å’Œä¸€ä¸ªä¸ SpringMVC å®Œç¾é›†æˆçš„å¯é€‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿçš„å®ç°è¡¨å•ç»‘å®šã€å±æ€§ç¼–è¾‘å™¨ã€å›½é™…åŒ–ç­‰åŠŸèƒ½ã€‚ æ‘˜è‡ªï¼šspring boot(å››):thymeleafä½¿ç”¨è¯¦è§£-çº¯æ´çš„å¾®ç¬‘ 00#å…ˆæŠŠéœ€è¦ç¯å¢ƒæ­èµ·æ¥ä¹Ÿå°±æ˜¯SpringBooté¡¹ç›®çš„æ­å»ºï¼Œå¾ˆå¸¸è§„ï¼Œå¿«é€Ÿæ­èµ·æ¥ï¼š ç¨å¾®æ”¹æ”¹åŒ…åè¿˜æœ‰æè¿°ï¼Œç‚¹å‡»ã€Nextã€‘ï¼š å‹¾é€‰ä¸ŠWeb/Thymeleafæ”¯æŒï¼Œç„¶åç‚¹å‡»ã€Nextã€‘ï¼š é€‰æ‹©é¡¹ç›®ä¿å­˜ä½ç½®ï¼Œç‚¹å‡»ã€Finishã€‘ï¼š è‡³æ­¤å°±ç®€å•åˆ›å»ºäº†ä¸€ä¸ªç”¨äºå­¦ä¹ Thymeleafçš„ç®€å•ç¯å¢ƒã€‚ 01#åˆ›å»ºä¸€ä¸ªHello Thymeleafé¡µé¢ç¬¬ä¸€æ­¥ï¼šæ–°å»ºä¸€ä¸ªHelloControlleråœ¨ã€com.wmyskxz.demoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€controllerã€‘åŒ…ï¼Œç„¶åæ–°å»ºä¸€ä¸ªã€HelloControllerã€‘ï¼š package com.wmyskxz.demo.controoler; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; @Controller public class HelloController { @RequestMapping(\"/hello\") public String hello(Model model) { model.addAttribute(\"name\", \"thymeleaf\"); return \"hello\"; } } ç¬¬äºŒæ­¥ï¼šæ–°å»ºä¸€ä¸ªhello.htmlé¡µé¢åœ¨ã€resourcesã€‘ä¸‹çš„ã€templatesã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€hello.htmlã€‘æ–‡ä»¶ï¼Œä½¿ç”¨è¿™ä¸ªç›®å½•çš„åŸå› æ˜¯å½“ä½ ä½¿ç”¨æ¨¡æ¿å¼•æ“æ—¶Spring Bootä¼šé»˜è®¤åœ¨src/main/resources/templatesä¸‹å»æ‰¾ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªé»˜è®¤è·¯å¾„ï¼Œè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;p th:text=\"${name}\">name&lt;/p> &lt;p th:text=\"'Helloï¼ ' + ${name} + '!'\">hello world&lt;/p> &lt;p th:text=\"|Helloï¼ ${name}!|\">hello world&lt;/p> &lt;/body> &lt;/html> ç¬¬ä¸‰æ­¥ï¼šæŠŠé¡¹ç›®è·‘èµ·æ¥äº‹å®ä¸Šï¼Œä¸Šé¢å·²ç»å±•ç¤ºäº†ä¸‰ç§æ‹¼æ¥å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œä½ åº”è¯¥ä¹Ÿèƒ½çœ‹å‡ºthymeleafçš„ä¸€ç‚¹ç«¯å€ªï¼Œä¸è¿‡ä½ ç¬¬ä¸€ä»¶æ³¨æ„åˆ°çš„äº‹åº”è¯¥æ˜¯è¿™æ˜¯ä¸€ä¸ªHTML5æ–‡ä»¶ï¼Œå¯ä»¥ç”±ä»»ä½•æµè§ˆå™¨æ­£ç¡®çš„æ˜¾ç¤ºï¼Œå› ä¸ºå®ƒä¸åŒ…å«ä»»ä½•éHTMLå¾—æ ‡ç­¾ï¼ˆæµè§ˆå™¨ä¼šå¿½ç•¥ä»–ä»¬ä¸æ˜ç™½çš„æ‰€æœ‰å±æ€§ï¼Œå¦‚ï¼šth:textï¼‰ é¡¹ç›®è¿è¡Œä¹‹åï¼Œæˆ‘ä»¬åœ¨åœ°å€æ è¾“å…¥localhost:8080/helloï¼Œå°±ä¼šçœ‹åˆ°æ„æ–™ä¹‹ä¸­ç»“æœæ­£ç¡®çš„é¡µé¢ï¼š ä½†æ˜¯ä½ ä¹Ÿå¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œè¿™ä¸ªæ¨¡æ¿å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£æœ‰æ•ˆçš„HTML5æ–‡æ¡£ï¼Œå› ä¸ºHTML5è§„èŒƒä¸å…è®¸åœ¨th:*å½¢å¼ä¸­ä½¿ç”¨è¿™äº›éæ ‡å‡†å±æ€§ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬ç”šè‡³åœ¨æˆ‘ä»¬çš„&lt;html&gt;æ ‡ç­¾ä¸­æ·»åŠ äº†ä¸€ä¸ªxmlns:thå±æ€§ï¼Œè¿™ç»å¯¹æ˜¯éHTML5æ ‡å‡†ï¼š&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; ä¸ç®¡æ€æ ·ï¼Œä½ å·²ç»çœ‹åˆ°äº†æˆ‘ä»¬å°†å¦‚ä½•ä½¿ç”¨Thymeleafæ¨¡æ¿å¼•æ“è®¿é—®modelä¸­çš„æ•°æ®ï¼šâ€œ${}â€ï¼Œè¿™å’ŒJSPæä¸ºç›¸ä¼¼ï¼Œä¸‹é¢æˆ‘ä»¬å°†è¿›ä¸€æ­¥å±•ç¤ºThymeleafçš„ç”¨æ³•ã€‚ ç¬¬å››æ­¥ï¼šå¯¹é¡¹ç›®åšä¸€äº›ä¿®æ”¹ä»¥æ–¹ä¾¿è°ƒè¯•ç°åœ¨æˆ‘ä»¬åŸºç¡€çš„ç¯å¢ƒå’Œç¬¬ä¸€ä¸ªä»»åŠ¡ï¼ˆä¸€ä¸ªHello Worldï¼‰é¡µé¢éƒ½å·²ç»å¼€å‘å®Œæˆäº†ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸å¥½çš„æ˜¯ï¼Œæ¯ä¸€æ¬¡æˆ‘ä»¬å¯¹é¡µé¢çš„ä¿®æ”¹éƒ½ä¸èƒ½å¾—åˆ°åŠæ—¶çš„ååº”ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­çš„é‡å¯æœåŠ¡å™¨ä»¥çœ‹åˆ°æ•ˆæœï¼Œè¿™åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­æ˜¯ååˆ†ç³Ÿç³•çš„è¡¨ç°ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›ä¿®æ”¹ï¼Œè®©Thymeleafé¡µé¢èƒ½å¤Ÿå®æ—¶çš„åˆ·æ–°è€Œä¸éœ€è¦é‡å¯æœåŠ¡å™¨ã€‚ æ‰“å¼€IDEA-&gt;Settingï¼Œå°†ä¸‹é¢çš„é€‰é¡¹ã€Build project automaticallyã€‘ç»™å‹¾é€‰ä¸Šï¼š ç„¶åæŒ‰ä¸‹å¿«æ·é”®ã€Ctrl + Alt + Shift + /ã€‘ï¼Œå¬å”¤å‡ºã€Maintenanceã€‘èœå•ï¼Œè¿›å…¥ã€Registryã€‘ï¼š æŠŠã€compiler.automake.allow.when.app.runningã€‘è¿™ä¸ªé€‰é¡¹çš„ âˆš ç»™æ‰“ä¸Šï¼š ç„¶åå†æŠŠã€application.propertiesã€‘å¼„æˆè¿™ä¸ªæ ·å­ï¼š #thymeleaf é…ç½® spring.thymeleaf.mode=HTML5 spring.thymeleaf.encoding=UTF-8 spring.thymeleaf.servlet.content-type=text/html #ç¼“å­˜è®¾ç½®ä¸ºfalse, è¿™æ ·ä¿®æ”¹ä¹‹åé©¬ä¸Šç”Ÿæ•ˆï¼Œä¾¿äºè°ƒè¯• spring.thymeleaf.cache=false ç„¶åé‡å¯é¡¹ç›®ï¼Œå¯¹æˆ‘ä»¬çš„hello.htmlç¨ç¨åšä¸€äº›ä¿®æ”¹ï¼Œç¨ç­‰ä¸€ä¼šå„¿ï¼Œä½ å°±èƒ½åˆ·æ–°é¡µé¢çœ‹åˆ°æ•ˆæœï¼Œå®Œç¾ã€‚ 10#æ›´å¤šThymeleafçš„åŸºç¡€ç”¨æ³•1. model ä¸­çš„æ•°æ®è¿­ä»£Thymeleaf çš„è¿­ä»£å’Œ JSP çš„å†™æ³•ä¹Ÿå¾ˆç›¸ä¼¼ï¼Œæˆ‘ä»¬å°†å°±ä¸Šé¢çš„helloé¡¹ç›®æ”¹ä¸€ä¸‹ï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;table> &lt;thead> &lt;tr> &lt;th>å­¦ç”Ÿid&lt;/th> &lt;th>å­¦ç”Ÿå§“å&lt;/th> &lt;/tr> &lt;/thead> &lt;tbody> &lt;tr th:each=\"s:${students}\"> &lt;td th:text=\"${s.id}\">&lt;/td> &lt;td th:text=\"${s.name}\">&lt;/td> &lt;/tr> &lt;/tbody> &lt;/table> &lt;/body> &lt;/html> ä¸ºäº†é…åˆæ¼”ç¤ºï¼Œåœ¨ã€com.wmyskxz.demoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€pojoã€‘åŒ…ï¼Œç„¶åæ–°å»ºä¸€ä¸ªã€Studentã€‘ç±»ï¼š package com.wmyskxz.demo.pojo; public class Student { private String name; private Integer id; public Student(String name, Integer id) { this.name = name; this.id = id; } // getter and setter } å†æŠŠcontrolleræ”¹æ”¹ï¼Œç»™å‰ç«¯æ·»åŠ å‡ æ¡æ•°æ®ï¼š @RequestMapping(\"/hello\") public String hello(Model model) { List&lt;Student> students = new ArrayList&lt;>(); students.add(new Student(\"å¼ ä¸‰\", 1)); students.add(new Student(\"æå››\", 2)); students.add(new Student(\"ç‹äº”\", 3)); students.add(new Student(\"äºŒéº»å­\", 4)); students.add(new Student(\"ä¸‰æ£’å­\", 5)); model.addAttribute(\"students\", students); return \"hello\"; } é‡å¯é¡¹ç›®ï¼Œç„¶ååœ¨åœ°å€æ è¾“å…¥ï¼šlocalhost:8080/helloï¼Œèƒ½çœ‹åˆ°æ­£ç¡®çš„æ˜¾ç¤ºï¼Œå®Œç¾ï¼š ä»£ç è§£é‡Šï¼š ä½¿ç”¨th:eachæ¥åšå¾ªç¯è¿­ä»£ï¼ˆth:each=&quot;s:${students}&quot;ï¼‰ï¼Œsä½œä¸ºè¿­ä»£å…ƒç´ æ¥ä½¿ç”¨ï¼Œç„¶ååƒä¸Šé¢ä¸€æ ·è®¿é—®è¿­ä»£å…ƒç´ ä¸­çš„å±æ€§ï¼Œç›¸ä¿¡è¿™æ ·çš„ç”¨æ³•åº”è¯¥ä¸ä¼šé™Œç”Ÿã€‚ è¿›é˜¶-å¸¦çŠ¶æ€çš„éå†æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨th:each=&quot;s,status:${students}&quot;æ–¹å¼éå†ï¼Œå°±å¯ä»¥æŠŠçŠ¶æ€æ”¾åœ¨statusé‡Œé¢äº†ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç”¨th:class=&quot;${stauts.even}?&#39;even&#39;:&#39;odd&#39;&quot;æ¥åˆ¤æ–­å¥‡å¶ã€‚ statusé‡Œé¢åŒ…å«çš„ä¿¡æ¯å¤§è‡´å¦‚ä¸‹ï¼š å±æ€§ è¯´æ˜ index ä»0å¼€å§‹çš„ç´¢å¼•å€¼ count ä»1å¼€å§‹çš„ç´¢å¼•å€¼ size é›†åˆå†…å…ƒç´ çš„æ€»é‡ current å½“å‰çš„è¿­ä»£å¯¹è±¡ even/odd booleanç±»å‹çš„ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¶æ•°ä¸ªè¿˜æ˜¯å¥‡æ•°ä¸ª first booleanç±»å‹ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºç¬¬ä¸€ä¸ª last booleanç±»å‹ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæœ€åä¸€ä¸ª æˆ‘ä»¬å†æ¬¡æ¥ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„hello.htmlï¼Œè®©å®ƒå¤šæ˜¾ç¤ºä¸€è¡Œindexå±æ€§ï¼Œå¹¶å¢åŠ ä¸€äº›ç®€å•çš„æ•ˆæœå¥½è®©å•åŒè¡ŒåŒºåˆ«å¼€æ¥ï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;table> &lt;thead> &lt;tr> &lt;th>index&lt;/th> &lt;th>å­¦ç”Ÿid&lt;/th> &lt;th>å­¦ç”Ÿå§“å&lt;/th> &lt;/tr> &lt;/thead> &lt;tbody> &lt;tr th:class=\"${status.even}?'even':'odd'\" th:each=\"s,status:${students}\"> &lt;td th:text=\"${status.index}\">&lt;/td> &lt;td th:text=\"${s.id}\">&lt;/td> &lt;td th:text=\"${s.name}\">&lt;/td> &lt;/tr> &lt;/tbody> &lt;/table> &lt;/body> &lt;style> .even{ background-color: hotpink; } .odd{ background-color: cornflowerblue; } &lt;/style> &lt;/html> ä¸ç”¨é‡å¯ï¼Œåˆ·æ–°ä¸€ä¸‹é¡µé¢å°±å¯ä»¥çœ‹åˆ°æ•ˆæœï¼Œå®Œç¾ï¼š 2. æ•°æ®åˆ¤æ–­Thymeleaf çš„æ¡ä»¶åˆ¤æ–­æ˜¯é€šè¿‡th:ifæ¥åšçš„ï¼Œåªæœ‰æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™æ‰ä¼šæ˜¾ç¤ºå½“å‰å…ƒç´ ï¼Œå–åå¯ä»¥ç”¨notï¼ˆth:if=&quot;not æ¡ä»¶&quot;ï¼‰æˆ–è€…th:unlessï¼Œæˆ–è€…å¸¸è§çš„ä¸‰å…ƒåˆ¤æ–­ç¬¦ï¼ˆx?y:zï¼‰ä¹Ÿæ˜¯é€‚ç”¨çš„ï¼Œæˆ‘ä»¬åŠ¨æ‰‹å†æ¥ä¿®æ”¹æˆ‘ä»¬çš„hello.htmlï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;!-- å½“studentsé›†åˆä¸ºç©ºåˆ™æ˜¾ç¤ºæç¤ºä¿¡æ¯ --> &lt;div th:if=\"${#lists.isEmpty(students)}\">studnetsé›†åˆä¸ºç©ºï¼&lt;/div> &lt;!-- å½“studentsé›†åˆä¸ä¸ºç©ºæ—¶æ‰ä¼šæ˜¾ç¤ºä¸‹é¢çš„å…ƒç´  --> &lt;div th:if=\"${not #lists.isEmpty(students)}\"> &lt;table> &lt;thead> &lt;tr> &lt;th>index&lt;/th> &lt;th>å­¦ç”Ÿid&lt;/th> &lt;th>å­¦ç”Ÿå§“å&lt;/th> &lt;/tr> &lt;/thead> &lt;tbody> &lt;tr th:class=\"${status.even}?'even':'odd'\" th:each=\"s,status:${students}\"> &lt;td th:text=\"${status.index}\">&lt;/td> &lt;td th:text=\"${s.id}\">&lt;/td> &lt;td th:text=\"${s.name}\">&lt;/td> &lt;/tr> &lt;/tbody> &lt;/table> &lt;/div> &lt;/body> &lt;style> .even { background-color: hotpink; } .odd { background-color: cornflowerblue; } &lt;/style> &lt;/html> ç„¶åæˆ‘ä»¬ç›¸åº”çš„æŠŠControllerä¸¢ç»™hello.htmlçš„æ•°æ®ç»™æ¸…ç©ºï¼š @RequestMapping(\"/hello\") public String hello(Model model) { List&lt;Student> students = new ArrayList&lt;>(); // students.add(new Student(\"å¼ ä¸‰\", 1)); // students.add(new Student(\"æå››\", 2)); // students.add(new Student(\"ç‹äº”\", 3)); // students.add(new Student(\"äºŒéº»å­\", 4)); // students.add(new Student(\"ä¸‰æ£’å­\", 5)); model.addAttribute(\"students\", students); return \"hello\"; } é‡å¯é¡¹ç›®ï¼Œåˆ·æ–°é¡µé¢ï¼Œèƒ½çœ‹åˆ°æ­£ç¡®çš„é”™è¯¯æç¤ºä¿¡æ¯ï¼ˆå¯¹äºè¿™æ ·çš„ï¼Œéœ€è¦æœ‰é”™è¯¯æç¤ºçš„é¡µé¢æˆ‘ä¹Ÿä¸çŸ¥é“åº”è¯¥æ€ä¹ˆå†™å¥½ï¼Œè¿™é‡Œå°±ç®€å•ç¤ºèŒƒä¸€ä¸‹ï¼Œå¦‚æœçŸ¥é“æ€ä¹ˆå†™å¥½çš„å°ä¼™ä¼´è®°å¾—æç¤ºä¸€ä¸‹å•Šï¼‰ï¼š ä»£ç è§£é‡Šï¼š é€šè¿‡${not #lists.isEmpty(students)}è¡¨è¾¾å¼ï¼Œåˆ¤æ–­äº†studentsæ˜¯å¦ä¸ºç©ºï¼ŒThymeleafæ”¯æŒ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ä½œä¸ºæ¯”è¾ƒæ¡ä»¶ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå°†SpringELè¡¨è¾¾å¼è¯­è¨€ç”¨äºæ¡ä»¶ä¸­ï¼Œè¡¨è¾¾å¼ä¸­çš„#lists.isEmpty()è¯­æ³•æ˜¯Thymeleafæ¨¡æ¿è‡ªå¸¦çš„ä¸€ç§å†…ç½®å·¥å…·ï¼Œåƒè¿™æ ·çš„å†…ç½®å·¥å…·ä¸ä»…æ–¹ä¾¿è€Œä¸”èƒ½æé«˜æˆ‘ä»¬çš„æ•ˆç‡ï¼Œå®Œæ•´çš„å†…ç½®å·¥å…·åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼šã€ä¼ é€é—¨ã€‘ 3. åœ¨ JavaScript ä¸­è®¿é—® modelé¦–å…ˆæˆ‘ä»¬éœ€è¦å­¦ä¹ å¦‚ä½•åœ¨Thymeleafä¸­å¼•ç”¨é™æ€èµ„æºï¼Œå¾ˆç®€å•ï¼Œä½¿ç”¨@{}å°±å¯ä»¥ï¼Œè¿™åœ¨JSPä¸‹æ˜¯ææ˜“å‡ºé”™çš„ã€‚æˆ‘ä»¬åœ¨ã€mainã€‘ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªã€webappã€‘ç›®å½•ï¼Œç„¶ååœ¨ã€staitc/jsã€‘ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªã€thymeleaf.jsã€‘æ–‡ä»¶ï¼š function testFunction(){ alert(\"test Thymeleaf.js!\"); } åœ¨hello.htmlçš„&lt;head&gt;æ ‡ç­¾ä¸­æ·»åŠ ä¸Šä¸‹é¢è¿™å¥è¯ï¼š &lt;script type=\"text/javascript\" src=\"../../webapp/static/js/thymeleaf.js\" th:src=\"@{/static/js/thymeleaf.js}\">&lt;/script> é€šè¿‡th:href=&quot;@{/static/js/thymeleaf.js}&quot;è¿™ç§æ–¹å¼ï¼Œå¯ä»¥åœ¨æ¸²æŸ“åçš„htmlé‡Œè‡ªåŠ¨ç”Ÿæˆä¸Šä¸‹æ–‡è·¯å¾„ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•ï¼Œä¹Ÿå°±æ˜¯èƒ½åœ¨æ˜¾ç¤ºå™¨ä¸­ç›´æ¥æ‰“å¼€htmlæ–‡ä»¶è¿›è¡Œæ•ˆæœçš„æŸ¥çœ‹ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†srcå±æ€§ï¼ˆsrc=&quot;../../webapp/static/js/thymeleaf.js&quot;ï¼‰ åˆ·æ–°é¡¹ç›®ï¼Œèƒ½æ­£ç¡®å¾—åˆ°æç¤ºä¿¡æ¯ï¼š ç„¶åæˆ‘ä»¬æŠŠhello.htmlæ”¹å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;script th:inline=\"javascript\"> var single = [[${student}]]; console.log(single.name + \"/\" + single.id); &lt;/script> &lt;/head> &lt;body> &lt;/body> &lt;/html> å†è®©Controllerç®€å•çš„ä¼ ä¸€ä¸ªå­¦ç”Ÿåˆ°å‰å°ï¼š @RequestMapping(\"/hello\") public String hello(Model model) { model.addAttribute(\"student\", new Student(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\", 1)); return \"hello\"; } åˆ·æ–°é¡¹ç›®ï¼ŒæŒ‰ä¸‹F12ï¼Œå°±å¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°æ­£ç¡®çš„ä¿¡æ¯äº†ï¼š ä»£ç è§£é‡Šï¼š é€šè¿‡th:inline=&quot;javascript&quot;æ·»åŠ åˆ°scriptæ ‡ç­¾ï¼Œè¿™æ ·JavaScriptä»£ç å³å¯è®¿é—®modelä¸­çš„å±æ€§ï¼Œå†é€šè¿‡[[${}]]æ ¼å¼æ¥è·å¾—å®é™…çš„å€¼ã€‚ 4. åŒ…å«æˆ‘ä»¬åœ¨å¼€å‘ä¸­å¸¸å¸¸éƒ½æŠŠé¡µé¢å…±åŒçš„headerå’Œfooteræå–å‡ºæ¥ï¼Œå¼„æˆå•ç‹¬çš„é¡µé¢ï¼Œç„¶åè®©è¯¥åŒ…å«çš„é¡µé¢åŒ…å«è¿›æ¥ï¼Œæˆ‘ä»¬å°±æ‹¿footerä¸¾ä¾‹ï¼Œé¦–å…ˆåœ¨ã€templatesã€‘ä¸‹æ–°å»ºä¸€ä¸ªè¦èƒŒå…¶ä»–é¡µé¢åŒ…å«çš„footeré¡µé¢ã€includeã€‘ï¼š &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;footer th:fragment=\"footer1\"> &lt;p>All Rights Reserved&lt;/p> &lt;/footer> &lt;footer th:fragment=\"footer2(start,now)\"> &lt;p th:text=\"|${start} - ${now} All Rights Reserved|\">&lt;/p> &lt;/footer> &lt;/html> ç„¶åç›´æ¥åœ¨æˆ‘ä»¬çš„hello.htmlé¡µé¢ä¸­åˆ†åˆ«å¼•ç”¨ä¸Šé¢é¡µé¢å®šä¹‰å¥½çš„ä¸¤ä¸ªfootï¼š &lt;!DOCTYPE html> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;div th:include=\"include::footer1\">&lt;/div> &lt;div th:replace=\"include::footer2(2015,2018)\">&lt;/div> &lt;/body> &lt;/html> åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ•ˆæœï¼š ä»£ç è§£é‡Šï¼š æˆ‘ä»¬å¯ä»¥ä½¿ç”¨th:fragmentå±æ€§æ¥å®šä¹‰è¢«åŒ…å«çš„æ¨¡æ¿ç‰‡æ®µï¼Œç„¶åä½¿ç”¨th:includeå’Œth:replaceä¸¤ä¸ªæ ‡ç­¾æ¥ç›´æ¥å¼•ç”¨æ ‡è®°å¥½çš„ç‰‡æ®µï¼Œä¸Šé¢hello.htmlå…¶å®å°±ç›¸å½“äºï¼š &lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-Hello Thymeleaf&lt;/title> &lt;/head> &lt;body> &lt;div> &lt;p>All Rights Reserved&lt;/p> &lt;/div> &lt;footer> &lt;p>2015 - 2018 All Rights Reserved&lt;/p> &lt;/footer> &lt;/body> &lt;/html> ä¹Ÿå¯ä»¥å¾ˆæ˜æ˜¾æ„Ÿè§‰åˆ°ä¸¤ä¸ªæ ‡ç­¾çš„å·®åˆ«ï¼Œincludeä¼šä¿ç•™è‡ªå·±çš„ä¸»æ ‡ç­¾ï¼Œè€Œreplaceä¼šä¿ç•™fragmentçš„ä¸»æ ‡ç­¾ã€‚ 11#ä¸€ä¸ªCRUD+åˆ†é¡µçš„å®ä¾‹æ¥ä¸‹æ¥æˆ‘ä»¬æ²¿ç”¨ä¸Šé¢çš„åŸºç¡€ï¼ŒæŠŠè¿™ä¸ªé¡¹ç›®è¿›è¡Œä¸€å®šçš„æ‰©å±•ï¼Œå˜æˆä¸€ä¸ªCRUD+åˆ†é¡µçš„å®Œæ•´é¡¹ç›®ï¼Œä¸è¿‡é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¹‹å‰å› ä¸ºä¸å¥½ä¹ æƒ¯å†™çš„pojo.studentç±»é‡Œçš„idå’Œnameé¡ºåºäº¤æ¢ä¸€ä¸‹ï¼Œå¥½åŒ¹é…æ•°æ®åº“é‡Œçš„ç»“æ„ï¼š package com.wmyskxz.demo.pojo; public class Student { private Integer id; private String name; // getter and setter } ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å¥½æ•°æ®åº“ç¯å¢ƒå»ºè¡¨SQLï¼š create database wmyskxz; use wmyskxz; CREATE TABLE student ( id int(11) NOT NULL AUTO_INCREMENT, name varchar(30), PRIMARY KEY (id) ) DEFAULT CHARSET=UTF8; ç¬¬äºŒæ­¥ï¼šä¿®æ”¹application.propertieså’Œpom.xmlå¢åŠ æ•°æ®åº“ç›¸å…³é…ç½®åˆ°application,propertiesä¸­ï¼Œå®Œæ•´çš„æ–‡ä»¶å¦‚ä¸‹ï¼š #thymeleaf é…ç½® spring.thymeleaf.mode=HTML5 spring.thymeleaf.encoding=UTF-8 spring.thymeleaf.servlet.content-type=text/html #ç¼“å­˜è®¾ç½®ä¸ºfalse, è¿™æ ·ä¿®æ”¹ä¹‹åé©¬ä¸Šç”Ÿæ•ˆï¼Œä¾¿äºè°ƒè¯• spring.thymeleaf.cache=false #æ•°æ®åº“ spring.datasource.url=jdbc:mysql://127.0.0.1:3306/wmyskxz?characterEncoding=UTF-8 spring.datasource.username=root spring.datasource.password=123456 spring.datasource.driver-class-name=com.mysql.jdbc.Driver å¾€pom.xmlå¢åŠ jdbc,mybatis,pageHelperçš„jaråŒ…ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"> &lt;modelVersion>4.0.0&lt;/modelVersion> &lt;parent> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-parent&lt;/artifactId> &lt;version>2.1.1.RELEASE&lt;/version> &lt;relativePath/> &lt;!-- lookup parent from repository --> &lt;/parent> &lt;groupId>com.wmyskxz&lt;/groupId> &lt;artifactId>demo&lt;/artifactId> &lt;version>0.0.1-SNAPSHOT&lt;/version> &lt;name>demo&lt;/name> &lt;description>Demo project for Spring Boot + Thymeleaf&lt;/description> &lt;properties> &lt;java.version>1.8&lt;/java.version> &lt;/properties> &lt;dependencies> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-thymeleaf&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-devtools&lt;/artifactId> &lt;optional>true&lt;/optional> &lt;!-- è¿™ä¸ªéœ€è¦ä¸º true çƒ­éƒ¨ç½²æ‰æœ‰æ•ˆ --> &lt;/dependency> &lt;!-- servletä¾èµ–. --> &lt;dependency> &lt;groupId>javax.servlet&lt;/groupId> &lt;artifactId>javax.servlet-api&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>javax.servlet&lt;/groupId> &lt;artifactId>jstl&lt;/artifactId> &lt;/dependency> &lt;!-- tomcatçš„æ”¯æŒ.--> &lt;dependency> &lt;groupId>org.apache.tomcat.embed&lt;/groupId> &lt;artifactId>tomcat-embed-jasper&lt;/artifactId> &lt;/dependency> &lt;!-- mybatis --> &lt;dependency> &lt;groupId>org.mybatis.spring.boot&lt;/groupId> &lt;artifactId>mybatis-spring-boot-starter&lt;/artifactId> &lt;version>1.1.1&lt;/version> &lt;/dependency> &lt;!-- mysql --> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>5.1.21&lt;/version> &lt;/dependency> &lt;!-- pageHelper --> &lt;dependency> &lt;groupId>com.github.pagehelper&lt;/groupId> &lt;artifactId>pagehelper&lt;/artifactId> &lt;version>4.1.6&lt;/version> &lt;/dependency> &lt;/dependencies> &lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-maven-plugin&lt;/artifactId> &lt;/plugin> &lt;/plugins> &lt;/build> &lt;/project> ç¬¬ä¸‰æ­¥ï¼šå¢åŠ StudentMapperæ–°å»ºã€mapperã€‘åŒ…ï¼Œå¹¶åœ¨å…¶ä¸‹æ–°å¢StudentMapperæ¥å£ï¼š package com.wmyskxz.demo.mapper; import com.wmyskxz.demo.pojo.Student; import org.apache.ibatis.annotations.*; import java.util.List; @Mapper public interface StudentMapper { @Select(\"select * from student\") List&lt;Student> findAll(); @Insert(\"insert into student ( name ) values (#{name}) \") int save(Student student); @Delete(\"delete from student where id= #{id} \") void delete(int id); @Select(\"select * from student where id= #{id} \") Student get(int id); @Update(\"update student set name=#{name} where id=#{id} \") int update(Student student); } ç¬¬å››æ­¥ï¼šæ–°å¢StudentControllerç±»åœ¨ã€controllerã€‘åŒ…ä¸‹æ–°å¢ä¸€ä¸ªã€StudentControllerã€‘ç±»ï¼š package com.wmyskxz.demo.controoler; import com.github.pagehelper.PageHelper; import com.github.pagehelper.PageInfo; import com.wmyskxz.demo.mapper.StudentMapper; import com.wmyskxz.demo.pojo.Student; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import java.util.List; @Controller public class StudentController { @Autowired StudentMapper studentMapper; @RequestMapping(\"/addStudent\") public String listStudent(Student student) throws Exception { studentMapper.save(student); return \"redirect:listStudent\"; } @RequestMapping(\"/deleteStudent\") public String deleteStudent(Student student) throws Exception { studentMapper.delete(student.getId()); return \"redirect:listStudent\"; } @RequestMapping(\"/updateStudent\") public String updateStudent(Student student) throws Exception { studentMapper.update(student); return \"redirect:listStudent\"; } @RequestMapping(\"/editStudent\") public String listStudent(int id, Model m) throws Exception { Student student = studentMapper.get(id); m.addAttribute(\"student\", student); return \"editStudent\"; } @RequestMapping(\"/listStudent\") public String listStudent(Model m, @RequestParam(value = \"start\", defaultValue = \"0\") int start, @RequestParam(value = \"size\", defaultValue = \"5\") int size) throws Exception { PageHelper.startPage(start, size, \"id desc\"); List&lt;Student> students = studentMapper.findAll(); PageInfo&lt;Student> page = new PageInfo&lt;>(students); m.addAttribute(\"page\", page); return \"listStudent\"; } } ç¬¬äº”æ­¥ï¼šé…ç½®PageHelperæ–°å»ºã€configã€‘åŒ…ï¼Œå¹¶åœ¨ä¸‹é¢æ–°å»ºã€PageHelperConfigã€‘ç±»ï¼š package com.wmyskxz.demo.config; import com.github.pagehelper.PageHelper; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import java.util.Properties; @Configuration public class PageHelperConfig { @Bean public PageHelper pageHelper() { PageHelper pageHelper = new PageHelper(); Properties p = new Properties(); p.setProperty(\"offsetAsPageNum\", \"true\"); p.setProperty(\"rowBoundsWithCount\", \"true\"); p.setProperty(\"reasonable\", \"true\"); pageHelper.setProperties(p); return pageHelper; } } ç¬¬å…­æ­¥ï¼šç¼–å†™HTMLæ–‡ä»¶ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬ç®€å•æ·»åŠ ä¸¤ä¸ªé¡µé¢å°±å¥½äº†ï¼Œä¸€ä¸ªæ˜¯ã€listStudent.htmlã€‘ï¼š &lt;!DOCTYPE HTML> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-CRUDå’Œåˆ†é¡µå®ä¾‹&lt;/title> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;/head> &lt;body> &lt;div style=\"width:500px;margin:20px auto;text-align: center\"> &lt;table align='center' border='1' cellspacing='0'> &lt;tr> &lt;td>id&lt;/td> &lt;td>name&lt;/td> &lt;td>ç¼–è¾‘&lt;/td> &lt;td>åˆ é™¤&lt;/td> &lt;/tr> &lt;tr th:each=\"student:${page.list}\"> &lt;td th:text=\"${student.id}\">&lt;/td> &lt;td th:text=\"${student.name}\">&lt;/td> &lt;td>&lt;a th:href=\"@{/editStudent(id=${student.id})}\">ç¼–è¾‘&lt;/a>&lt;/td> &lt;td>&lt;a th:href=\"@{/deleteStudent(id=${student.id})}\">åˆ é™¤&lt;/a>&lt;/td> &lt;/tr> &lt;/table> &lt;br/> &lt;div> &lt;a th:href=\"@{/listStudent(start=0)}\">[é¦– é¡µ]&lt;/a> &lt;a th:href=\"@{/listStudent(start=${page.pageNum-1})}\">[ä¸Šä¸€é¡µ]&lt;/a> &lt;a th:href=\"@{/listStudent(start=${page.pageNum+1})}\">[ä¸‹ä¸€é¡µ]&lt;/a> &lt;a th:href=\"@{/listStudent(start=${page.pages})}\">[æœ« é¡µ]&lt;/a> &lt;/div> &lt;br/> &lt;form action=\"addStudent\" method=\"post\"> name: &lt;input name=\"name\"/> &lt;br/> &lt;button type=\"submit\">æäº¤&lt;/button> &lt;/form> &lt;/div> &lt;/body> &lt;/html> å¦ä¸€ä¸ªå°±æ˜¯ç¼–è¾‘Studentçš„é¡µé¢ã€editStudent.htmlã€‘ï¼š &lt;!DOCTYPE HTML> &lt;html xmlns:th=\"http://www.thymeleaf.org\"> &lt;head> &lt;title>Thymeleafå¿«é€Ÿå…¥é—¨-CRUDå’Œåˆ†é¡µå®ä¾‹&lt;/title> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> &lt;/head> &lt;body> &lt;div style=\"margin:0px auto; width:500px\"> &lt;form action=\"updateStudent\" method=\"post\"> name: &lt;input name=\"name\" th:value=\"${student.name}\"/> &lt;br/> &lt;input name=\"id\" type=\"hidden\" th:value=\"${student.id}\"/> &lt;button type=\"submit\">æäº¤&lt;/button> &lt;/form> &lt;/div> &lt;/body> &lt;/html> ç¬¬ä¸ƒæ­¥ï¼šè¿è¡Œé¡¹ç›®åœ¨æ·»åŠ äº†ä¸€äº›æ•°æ®ä¹‹åï¼Œå¯ä»¥è§‚å¯Ÿåˆ°å„é¡¹åŠŸèƒ½éƒ½æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œè¿™ä¸ªä¾‹å­ä¹Ÿæ˜¯æˆ‘ç›´æ¥å€Ÿé‰´how2jæ•™ç¨‹é‡Œçš„æºç å†™çš„ï¼ŒåŸæ–‡åœ¨è¿™é‡Œï¼šã€ä¼ é€é—¨ã€‘ï¼Œè¿è¡Œä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å¤§æ¦‚æ˜¯è¿™æ ·çš„æ•ˆæœï¼Œå®Œç¾ï¼š è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å·®ä¸å¤šç®—æ˜¯å¯¹Thymeleafå…¥äº†é—¨ã€‚ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼Œè¯è¯´æœ‰æœ¨æœ‰æ‡‚å…¬ä¼—å·è¿è¥çš„å°ä¼™ä¼´å•Šï¼Ÿæ±‚æŒ‡æ•™ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å‰ç«¯","slug":"JavaWebè¿›é˜¶/å‰ç«¯","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%89%8D%E7%AB%AF/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/å‰ç«¯/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%89%8D%E7%AB%AF/Spring-Boot/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"2018å¹´ç»ˆæ€»ç»“","slug":"2018å¹´ç»ˆæ€»ç»“","date":"2018-12-31T23:07:00.000Z","updated":"2020-08-03T09:10:09.223Z","comments":true,"path":"2019/01/01/2018-nian-zhong-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2019/01/01/2018-nian-zhong-zong-jie/","excerpt":"","text":"å›é¡¾8102è¯´ç€å›é¡¾8102å¹´ï¼Œæˆ‘å°±æƒ³è¦ä»è‡ªå·±å¹´å‰å†™ä¸‹çš„æ—¥è®°ã€åšå®¢ã€å‘è¿‡çš„ç¥¨åœˆé‡Œå»å¯»æ‰¾è‡ªå·±åœ¨è¿™ä¸€å¹´æ¥çš„è½¨è¿¹ï¼Œå‘ç°è™½ç„¶æ‰çŸ­çŸ­ä¸€å¹´æ—¶é—´ï¼Œè‡ªå·±çš„å¿ƒå¢ƒå´å‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ï¼Œå›çœ‹é‚£äº›æ—¥è®°ã€åšå®¢ã€å‘è¿‡çš„ç¥¨åœˆï¼Œé‚£ä¸ªå¹´å‰çš„æˆ‘ç«Ÿå¸¦ç€ä¸€ä¸é™Œç”Ÿæ°”å’Œäº›è®¸å¤©çœŸï¼Œä½†å¥½åœ¨å†™çš„æŠ€æœ¯åšå®¢è¿˜æ˜¯æŒºå¥½çš„..ï¼ˆå˜»å˜»å˜»..ï¼‰ä¸è¿‡ä¸€å¹´æ¥çœ‹ï¼Œæˆ‘å¾ˆæ„Ÿè°¢å¹´å‰é‚£ä¸ªä¸€ä¸é™Œç”Ÿçš„æˆ‘ï¼Œå¸¦ç€è‡ªå·±çš„å¤©çœŸä¸€ç›´(åŠªåŠ›)å¥‹æ–—åˆ°äº†å¹´å°¾ï¼Œä»Šæ—©åˆšå¥½åˆçœ‹åˆ°ä¸€å¥æ¨ç»›è€å…ˆç”Ÿçš„è¯ï¼Œéå¸¸å–œæ¬¢ï¼Œåˆ†äº«å…±å‹‰ä¹‹çš„åŒæ—¶ï¼Œä¹Ÿå†™ä¸€å†™è‡ªå·±çš„å¹´ç»ˆæ€»ç»“ï¼š â€œæˆ‘ä»¬æ›¾å¦‚æ­¤æ¸´æœ›å‘½è¿çš„æ³¢æ¾œï¼Œåˆ°æœ€åæ‰å‘ç°ï¼šäººç”Ÿæœ€æ›¼å¦™çš„é£æ™¯ï¼Œç«Ÿæ˜¯å†…å¿ƒçš„æ·¡å®šä¸ä»å®¹â€¦.æˆ‘ä»¬æ›¾å¦‚æ­¤æœŸç›¼å¤–ç•Œçš„è®¤å®šï¼Œåˆ°æœ€åæ‰çŸ¥é“ï¼šä¸–ç•Œæ˜¯è‡ªå·±çš„ï¼Œä¸ä»–äººæ¯«æ— å…³ç³»ï¼â€ 00.æ”¹å˜ &amp; æˆé•¿ä¸ƒä¸ªæ˜ŸæœŸé›¶2å¤©è®¡åˆ’å¼€é€šåšå®¢æ˜¯åœ¨å»å¹´ï¼Œåˆè¡·ä¹Ÿåªæ˜¯æƒ³è®°å½•è®°å½•è‡ªå·±çš„å­¦ä¹ ç»å†ï¼Œèµ·åˆä¹Ÿåªæ˜¯ä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘çš„é›¶é›¶ç¢ç¢çš„å†™ï¼Œåæ¥è¿‡å®Œå¹´ç¿»äº†æ–°å­¦æœŸï¼Œå¯èƒ½æ˜¯æ„Ÿå—åˆ°äº†å¤§å­¦çš„æ—¶å…‰ä¸å¤šäº†å§ï¼Œå¯èƒ½æ˜¯çœ‹åˆ°äº†ä¸æŸäº›å¤§ç¥ä¹‹é—´çš„å·®è·å§ï¼Œä¹Ÿå¯èƒ½æ˜¯æƒ³æ˜ç™½äº†è‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆäº†å§ï¼Œwhateverï¼Œåæ­£æˆ‘å°±å¼€å§‹ç®—ç€æ—¥å­ç»™è‡ªå·±åˆ¶å®šäº†ä¸€ä¸ª7ä¸ªæ˜ŸæœŸé›¶2å¤©è®¡åˆ’ï¼Œä»è®¡åˆ’å¼€å§‹åˆ°å­¦æœŸç»“æŸï¼Œæ­£å¥½æ˜¯è¿™ä¹ˆé•¿çš„æ—¶é—´ã€‚ ç°åœ¨æƒ³æ¥ä¹ŸçœŸæ˜¯ä¸€æ®µç–¯ç‹‚çš„æ—¥å­ï¼ŒæŠŠè‡ªå·±è£¹åœ¨å­¦æ ¡çš„å®éªŒå®¤é‡Œï¼Œæ—©å‡ºæ™šå½’ï¼Œå¹³å‡æ¯å¤©ä¿æŒ10å°æ—¶ä»¥ä¸Šçš„å­¦ä¹ æ—¶é—´ï¼ˆå½“ç„¶æœ‰å·æ‡’å•¦..ï¼‰ï¼Œä¸ç®¡æ˜¯åšå®¢ä¹¦ç±è¿˜æ˜¯è§†é¢‘éƒ½ä¸ç®¡ä¸é¡¾çš„æ±²å–é‡Œé¢çš„ä¸œè¥¿ç„¶åæ€»ç»“æˆè‡ªå·±çš„åšæ–‡ï¼Œæ—¶é—´å¾ˆå¿«å°±è¿‡å»ï¼Œåœ¨æœ€åçš„æ€»ç»“ä¸­å¤©çœŸçš„å†™é“ï¼šâ€œä»ä¸ƒä¸ªæ˜ŸæœŸä¹‹å‰ï¼Œè¿˜åªæ˜¯æ‡‚ä¸€ç‚¹ç‚¹Javaçš„å°ä¼™å­ï¼Œç°åœ¨å·²ç»æ˜¯å¯¹Java Webè¿˜æœ‰Javaç†Ÿæ‚‰çš„æŠ€æœ¯äººå‘˜äº†å§â€ï¼ˆå½“ç„¶ç°åœ¨çœ‹èµ·æ¥è›®æ‰“è„¸çš„..ï¼‰ï¼Œhhhâ€¦æœç„¶è¿˜æ˜¯å¹´è½» ä»Java Webæ–‡é›†å¼€å§‹å†™çš„3-14å·ä¸€ç›´åˆ°è®¡åˆ’å¿«ç»“æŸçš„æ—¶å€™ï¼Œæˆ‘å·²ç»ä¸çŸ¥ä¸è§‰æ”¶è·äº†600+ç²‰ä¸ï¼Œæ”¶åˆ°è¿‡å·¥ä½œé‚€è¯·ã€å†™ä¹¦é‚€è¯·ä»¥åŠå„ç§ç²‰ä¸çš„é¼“åŠ±åŠ æ²¹å–œæ¬¢ï¼Œåœ¨åšå®¢å›­ä¸€ç¯‡å…³äºSpringBootçš„æ–‡ç« ä¹Ÿæ˜¯çªç ´äº†16Wçš„é˜…è¯»é‡..emmmï¼Œè¿™äº›æ— ä¸è®©æˆ‘æ›´åŠ é¼“èˆæ›´åŠ å¥‹å‹‡ï¼Œæ¸æ¸ä¹Ÿè§‰å¾—è‡ªå·±ç»ˆäºæ˜¯èƒ½çœ‹åˆ°å¤§ç¥çš„å°¾ç¯äº†ï¼Œå¾ˆå®‰å¿ƒã€‚ æš‘æœŸè®¡åˆ’ ä¸ºäº†å®Œæˆè‡ªå·±æ–°å¹´ç»™è‡ªå·±è®¸çš„â€œæ¥å¹´å˜æˆä¸€åªå·¥ä½œç‹—â€çš„å¿ƒæ„¿ï¼Œæš‘å‡å°±å¾…åœ¨å­¦æ ¡ç»§ç»­å­¦ä¹ å‡†å¤‡å³å°†æ¥ä¸´çš„ç§‹æ‹›äº†ï¼ŒæœŸé—´ä¹ŸæŠŠè‡ªå·±æ€»ç»“çš„ä¸€äº›é¢è¯•çš„ä¸œè¥¿éƒ½å‘äº†åšå®¢ï¼Œè¿˜æœ‰å¹¸å»å‚ä¸äº†ä¸€æ¬¡å°é—­å¼å¼€å‘ï¼ˆè™½ç„¶è§‰å¾—è›®æ»‘æ°´çš„ï¼Œä½†æ˜¯æœ‰é’±æ‹¿ï¼Œè¿˜æ··åƒæ··å–ï¼Œå˜»å˜»å˜»..ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€æ¬¡åˆ«æ ·çš„ä½“éªŒå§.. ä¹Ÿä¸ºäº†æ›´å¥½çš„åœ¨è‡ªå·±ç®€å†ä¸­åŠ ä¸Šä¸€äº›äº®çœ¼çš„ä¸œè¥¿ï¼Œè‡ªå·±åœ¨æ·±å…¥å­¦ä¹ äº†ä¸€äº›åº•å±‚çŸ¥è¯†çš„åŒæ—¶ï¼Œä¹Ÿä»é›¶å¼€å§‹æ­å»ºäº†è‡ªå·±çš„ä¸ªäººåšå®¢ï¼Œè™½ç„¶åæ¥åœ¨é˜¿é‡ŒäºŒé¢çš„æ—¶å€™è¢«é¢è¯•å®˜åˆ†åˆ†é’Ÿæ‰¾åˆ°å®‰å…¨æ¼æ´ï¼ˆåæ¥ç»™ä¿®å¤äº†..ï¼‰..ä½†ä»ç„¶åœ¨é€ è½®å­çš„è¿‡ç¨‹ä¸­å­¦ä¹ äº†å¾ˆå¤šã€‚ ç„¶åï¼Œç»å†ç§‹æ‹›ï¼Œè§è¯†åˆ°äº†æ›´å¤šå¤§ç‰›ä»¬ï¼Œæ„è¯†åˆ°è‡ªå·±åˆ°åº•è¿˜æ˜¯èœï¼Œå¹¶ä¸”è‡ªå·±è¿˜æœ‰è®¸å¤šæƒ³è¦ç»§ç»­å­¦ä¹ çš„ä¸œè¥¿ï¼Œè€ƒè™‘å†ä¸‰ï¼Œè·Ÿè€å¦ˆé€šäº†ä¸€ä¸ªé•¿ç”µè¯ï¼Œå†³å®šè€ƒç ”ã€‚ è€ƒç ”è®¡åˆ’ å¤§è‡´è·Ÿå®¶é‡Œäººè¯´äº†ä¸€ä¸‹ä¹‹åï¼Œç„¶ååœ¨åšå®¢å‘äº†ä¸€ç¯‡è‡´å°ä¼™ä¼´ä»¬ä¹¦ä¹‹åï¼Œå°±ä¸€å¤´æŒ¤è¿›äº†è€ƒç ”å¤§å†›ä¹‹ä¸­ã€‚è¯´å®åœ¨çš„ï¼Œè€ƒç ”çš„æ—¥å­æ¯”æˆ‘æƒ³è±¡çš„è¦å•è°ƒå¾—å¤šï¼Œä¸‰ç‚¹ä¸€çº¿ï¼Œæ¯ä¸€å¤©æŒ‰éƒ¨å°±ç­ï¼Œç”Ÿæ´»æ²¡æœ‰ä¸€ç‚¹èµ·ä¼ï¼Œæˆ‘å¹¶ä¸è§‰å¾—è¾›è‹¦ï¼Œä½†è¿™æ ·çš„æ—¥å­å¯¹æˆ‘æ¥è¯´å¤ªæŠ˜ç£¨äº†ï¼Œå¥½åœ¨æˆ‘åšæŒäº†ä¸‹æ¥ï¼Œå¹¶ä¸”å¥½æ¶ˆæ¯æ˜¯ï¼šè€ƒç ”è¿˜ç®—é¡ºåˆ©ï¼ä¸å‡ºæ„å¤–ï¼Œåº”è¯¥åœ¨ä»Šå¹´å°±èƒ½å½“ç ”ç©¶ç”Ÿå­¦é•¿å•¦~ è€ƒå®Œï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„ç‹‚æ¬¢ï¼Œå€’æ˜¯æ›´æƒ³å†™ä»£ç ä¸€äº›ï¼Œhhhhâ€¦ ä»¥å‰æ€»è§‰å¾—æ—¥å­æ˜¯è¿‡ä¸å®Œçš„ï¼Œæœªæ¥æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚è¯´ä¸ä¸Šæ¥è‡ªå·±ç»å†è¿‡è¿™äº›æœ‰å¤šå¤§çš„å˜åŒ–ï¼Œæ¢¦æƒ³ä¹Ÿè¿˜åƒå°æ—¶å€™ä¸€æ ·é¥è¿œï¼Œæˆ–è®¸å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œæœ‰ä¸€äº›æƒ³æ³•æˆ‘å·²ç»å¼€å§‹ç€æ‰‹å»å®ç°å®ƒã€‚ 01.å±•æœ›2019å¸Œæœ›19å¹´ä»ç„¶æ˜¯â€œå¥‹æ–—â€çš„ä¸€å¹´å§ï¼å¹¶ä¸”æŠŠè‡ªå·±çš„å…¬ä¼—å·ä»wmyskxz_javawebæ”¹ä¸ºäº†wmyskxzï¼ˆæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„çš„ç¼©å†™ï¼‰ï¼Œå¸Œæœ›å…¬ä¼—å·å’Œåšå®¢éƒ½ä»è®°å½•å­¦ä¹ å˜æˆè®°å½•å­¦ä¹ å’Œç”Ÿæ´»å§ã€‚ ç„¶åå¸Œæœ›19å¹´çš„å…³é”®å­—æ˜¯ï¼šå­¦ä¹ /å¥èº«/é˜…è¯»/è®°å½•/ç‹¬ç«‹ã€‚ 10.çŸ«æƒ…çš„éƒ¨åˆ†å…³äºå­¦ä¹ 18å¹´ç®—æ˜¯è¯»äº†ä¸€äº›ä¹¦ï¼ŒæŠ€æœ¯ç±»/æ–‡å­¦ç±»/è€ƒç ”ç±»â€¦ä¸ªäººè§‰å¾—å­¦ä¹ æœ€é‡è¦çš„è¿˜æ˜¯ä¿æŒæ¸…é†’å§ï¼Œæ¸…æ¥šè‡ªå·±è¦å­¦åˆ°å“ªä¸€ç§ç¨‹åº¦ï¼Œè‡ªå·±è¿˜æ¬ ç¼ºä¸€äº›ä»€ä¹ˆçŸ¥è¯†ï¼Œæœ€å¥½é‡‡ç”¨ä»€ä¹ˆæ ·çš„æ–¹æ³•å»å­¦ã€‚ç‰¹åˆ«å–œæ¬¢å¹¶ä¸”å—ç”¨çš„ä¸€å¥è¯æ˜¯ï¼šæ–¹å‘ä¸å¯¹ï¼ŒåŠªåŠ›ç™½è´¹ã€‚å¼€å§‹è¡ŒåŠ¨ä¹‹å‰å¤šæ€è€ƒï¼Œä¸è¦æŠŠæ—¶é—´æµªè´¹åœ¨ä¸€äº›â€œæ— æ‰€è°“â€çš„äº‹æƒ…èº«ä¸Šã€‚è¿™æ ·çš„æ¸…é†’è¿˜åº”è¯¥å»¶å±•åˆ°ç”Ÿæ´»ä¸­ï¼Œæ—¶åˆ»æé†’è‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆï¼Œä¸ºè‡ªå·±åˆ›é€ éœ€è¦çš„ç¯å¢ƒï¼Œè‡³å°‘æˆ‘æ˜¯è¿™æ ·ç²—æµ…çš„ä»¥ä¸ºçš„ã€‚ è¿˜å–œæ¬¢ä¸€ä¸ªçŸ¥è¯†è¾¹ç•Œçš„ç†è®ºï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠæ•´ä¸ªITçŸ¥è¯†é¢†åŸŸç”¨ä¸€ä¸ªä¸å®‰å…¨æ¥è¡¨ç¤ºï¼Œé»‘è‰²å®ä½“éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬åˆšå¼€å§‹è®¤çŸ¥çš„åŒºåŸŸï¼Œå› ä¸ºæˆ‘ä»¬åˆšå¼€å§‹çŸ¥é“çš„å°‘ï¼Œäº†è§£çš„å°‘ï¼Œé‡Œé¢çš„åœ†çš„å‘¨é•¿å°±ä¼šå°å¾ˆå¤šï¼Œæˆ‘ä»¬æ„Ÿè§‰åˆ°è‡ªå·±éœ€è¦äº†è§£çš„ä¸œè¥¿ä¹Ÿç›¸å¯¹å°ã€‚ï¼ˆå°±åƒæˆ‘åœ¨è‡ªå·±çš„æ€»ç»“é‡Œé¢å†™ï¼šè‡ªå·±æ˜¯ç†Ÿæ‚‰Javaçš„ç¼–ç¨‹äººå‘˜ä¸€æ ·ï¼‰ å½“æˆ‘ä»¬é€šè¿‡ä¸æ–­çš„å­¦ä¹ ã€æ‰©å®½è‡ªå·±çŸ¥è¯†çš„è¾¹ç•Œï¼Œå°±åƒé‡Œé¢çš„å°åœ†ä¸æ–­çš„é•¿å¤§ä¸€äº›ï¼Œæˆ‘ä»¬æ„Ÿå—åˆ°çš„æœªçŸ¥ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œè®¤è¯†åˆ°è‡ªå·±äº†è§£çš„å†…å®¹å æ•´ä¸ªä½“ç³»åªæ˜¯å¾ˆå°çš„ä¸€éƒ¨åˆ†ã€‚ å¦å¤–åˆ†äº«ä¸€ç¯‡å–œæ¬¢çš„æ–‡ç« ï¼šæ€ç»´çš„å±€é™ å…³äºæœ‹å‹ &amp; å®¶äºº18å¹´çš„èŠ‚å¥ä¸€ç›´æ˜¯åœ¨å­¦ä¹ ã€å­¦ä¹ ã€å­¦ä¹ ï¼Œä¸€ç›´åœˆåœ¨å­¦æ ¡çš„ä¸€æ–¹å°å¤©åœ°ï¼Œä¹ æƒ¯äº†è¿™æ ·å¥‡æ€ªçš„èŠ‚å¥ï¼Œå¯¹å®¶äººå’Œæœ‹å‹æ²¡æœ‰è¿‡å¤šçš„å…³å¿ƒï¼Œè€ƒå®Œç ”äº†è·Ÿæœ‹å‹èŠå¤©å‘ç°è‡ªå·±éƒ½å¿«æ­ä¸ä¸Šä»–ä»¬çš„è¯äº†ï¼Œå…¶å®æœ‰äº›è®©æˆ‘ä¸çŸ¥æ‰€æªï¼Œä½†å¥½åœ¨ä»–ä»¬ä»ç„¶çƒ­æ°”è…¾è…¾ï¼Œä»ç„¶è®©æˆ‘æ„Ÿåˆ°å¹´èŠ‚çš„æš–ï¼Œæˆ‘åªæ•¢è¯´è°¢è°¢ã€‚æˆ‘çŸ¥é“äººç”ŸèŠ±å›¢é”¦ç°‡ï¼ŒæŸä¸€åˆ»ç»ˆäºå’Œè‡ªå·±æœ‰å…³ã€‚ å…³äºè‡ªå·± â€œæˆ‘ä¸€å‘è§‰å¾—ï¼Œè‡ªèº«å¯¹äºä»–äººè€Œè¨€ï¼Œæ˜¯ä¸€ç§ä¸å¯ç†å–»çš„å­˜åœ¨ï¼Œå¹¶ä¸”å‘ä»–äººå¯»æ±‚ç†è§£ï¼Œä¹Ÿæ˜¯ä¸€ç§è’è°¬ä¸å ªçš„æš´åŠ›ã€‚ä»–äººæ€»æ˜¯è¶…ä¹æƒ³è±¡çš„éš¾ä»¥ç†è§£æˆ‘ï¼Œä½†æ­£å› ä¸ºè¿™ä»½ä¸ç†è§£ï¼Œæˆ‘æ‰å¾—ä»¥è‡ªç”±ï¼›æ­£å› ä¸ºè¿™ä»½ä¸ç†è§£ï¼Œæˆ‘æ‰å¾—ä»¥æ´»ä¸‹å»ã€‚æˆ‘ä¹‹æ‰€ä»¥æ‹¥æœ‰æ„Ÿå—ä»–äººå¯çˆ±ä¹‹å¤„çš„èƒ½åŠ›ï¼Œä¹Ÿå¿…å®šå‡ºäºç›¸åŒçš„åŸå› ã€‚â€ â€œè¯´æ¥çŸ«æƒ…ï¼Œæ€»è§‰å¾—è‡ªå·±ç”Ÿæ¥å°±å¸¦ç€ä¸€ä¸­è‡ªå·±ä¹Ÿæ— æ³•å®Œå…¨ç†è§£çš„æ‚²ä¼¤ï¼Œä»–æ— æ—¶æ— åˆ»çš„æŠ˜ç£¨æˆ‘ï¼Œå·¨å¤§åˆ°æ— æ³•åŒ–è§£ï¼Œä»»ä½•æ„Ÿæƒ…ä¹Ÿéƒ½æ— æ³•æ…°è—‰ï¼Œè®©æˆ‘å“­ç¬‘ä¸å¾—ï¼Œæ›´ä¸å¾—ä¸ä¹‹ç‹¬å¤„ã€‚è€Œå¯å–œçš„æ˜¯ï¼Œæˆ‘åŒæ ·æ·±ä¿¡ä¸è®ºæœ€é‡æˆ‘æ˜¯å¦å­‘ç„¶ä¸€èº«ï¼Œä¸€å®šä¹Ÿåªæœ‰å®ƒä¸ä¼šå¼ƒæˆ‘è€Œå»ï¼Œæ¯æ¯æƒ³åˆ°è¿™å„¿çš„æ—¶å€™åˆè®©æˆ‘æ— æ¯”å®‰å¿ƒã€‚â€ æœ€å æ„Ÿè°¢æ‚¨ä¸€ç›´çœ‹åˆ°äº†æœ€åï¼Œåˆ†äº«æˆ‘ä¸€ç›´åœ¨ç”¨å¹¶ä¸”å¾ˆå–œæ¬¢çš„ä¸€å¼ å£çº¸å§ï¼ŒSomewhereæˆ–è®¸æˆ‘è¿˜ä¸èƒ½ç¡®å®šåœ¨å“ªé‡Œï¼Œä½†æˆ‘çŸ¥é“æ­¤åˆ»ï¼Œå¯¹äºæˆ‘å¿ƒä¸­çš„Somewhereï¼Œæˆ‘ä¸€å®šåœ¨è·¯ä¸Šï¼å…±å‹‰ï¼2019ï¼ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"è‡´å°ä¼™ä¼´ä»¬ä¹¦","slug":"è‡´å°ä¼™ä¼´ä»¬ä¹¦","date":"2018-09-26T23:05:00.000Z","updated":"2019-07-03T23:06:26.000Z","comments":true,"path":"2018/09/27/zhi-xiao-huo-ban-men-shu/","link":"","permalink":"http://www.wmyskxz.com/2018/09/27/zhi-xiao-huo-ban-men-shu/","excerpt":"","text":"è‡´å°ä¼™ä¼´ä»¬ï¼šä½ ä»¬å¥½ï¼Œæ„Ÿè°¢ä½ ä»¬å¯¹äºæˆ‘çš„æ”¯æŒä¸å–œçˆ±ï¼Œåœ¨å¾ˆå¤§ä¸€éƒ¨åˆ†è‡ªå­¦çš„æ—¶é—´é‡Œï¼Œéƒ½æ˜¯å› ä¸ºä½ ä»¬çš„ç›¸ä¼´ä½ ä»¬çš„æ”¯æŒæ‰ä½¿æˆ‘èµ°å¾—æ›´è¿œçœ‹å¾—æ›´å¤šï¼Œæ„Ÿè°¢ï¼› ç»è¿‡è¯¸å¤šæ–¹é¢çš„è€ƒè™‘ï¼Œä¹Ÿç»å†è¿‡æå‰æ‰¹å’Œç§‹æ‹›çš„æ´—ç¤¼ï¼Œè§‰å¾—è‡ªå·±æœ‰æ›´å¤šæƒ³è¦å­¦ä¹ çš„ä¸œè¥¿ï¼Œä¹Ÿæœ‰æ›´å¤šæƒ³è¦åˆ†äº«çš„å†…å®¹ï¼Œæˆ‘å†³å®šè¸ä¸Šè€ƒç ”çš„é“è·¯ï¼Œå°½ç®¡å¯èƒ½æ—¶é—´ä¸å¤šï¼Œä½†è¿˜æ˜¯æƒ³è¦å»åŠªåŠ›è¯•è¯•ï¼Œæ‰€ä»¥ä¼šæœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸ä¼šè·Ÿå¤§å®¶è§é¢äº†ï¼Œä½†æ˜¯è¯·å°ä¼™ä¼´ä»¬ç›¸ä¿¡æˆ‘ï¼Œä¹Ÿè¯·å¤§å®¶ç»§ç»­å…³æ³¨æˆ‘ï¼Œæˆ‘çš„å­¦ä¹ ä¹‹è·¯è¿˜æ²¡æœ‰åœæ­¢ï¼Œè€Œæ˜¯åœ¨å‡†å¤‡ç€è¸ä¸Šä¸€æ®µæ›´é•¿æ›´è¿œçš„è·¯ï¼Œåœ¨è¿™æ¡è·¯ä¸Šæˆ‘ä»ç„¶å¸Œæœ›æœ‰ä½ ä»¬çš„æ”¯æŒ.. ä»¥ä¸Šï¼Œæ„Ÿæ©ï¼›","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"http://www.wmyskxz.com/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€é¢è¯•å¿…å¤‡ã€‘æ‰‹æ’•ä»£ç ï¼Œä½ æ€•ä¸æ€•ï¼Ÿ","slug":"ã€é¢è¯•å¿…å¤‡ã€‘æ‰‹æ’•ä»£ç ï¼Œä½ æ€•ä¸æ€•ï¼Ÿ","date":"2018-08-25T23:03:00.000Z","updated":"2020-08-03T09:09:36.537Z","comments":true,"path":"2018/08/26/mian-shi-bi-bei-shou-si-dai-ma-ni-pa-bu-pa/","link":"","permalink":"http://www.wmyskxz.com/2018/08/26/mian-shi-bi-bei-shou-si-dai-ma-ni-pa-bu-pa/","excerpt":"","text":"å‰è¨€ï¼šä¸ç®¡æ˜¯è¿œç¨‹çš„è§†é¢‘é¢è¯•ï¼Œè¿˜æ˜¯ç°åœºçš„é¢è¯•ï¼Œéƒ½æœ‰å¯èƒ½ä¼šæœ‰æ‰‹æ’•ä»£ç çš„ç¯èŠ‚ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šç«¥é‹åŒ…æ‹¬æˆ‘(è™½ç„¶è¿˜æ²¡é‡åˆ°è¿‡..)éƒ½å¾ˆå¤´ç–¼çš„ä¸œè¥¿ï¼Œå¯èƒ½æ˜¯å› ä¸º IDE è‡ªåŠ¨æç¤ºåŠŸèƒ½ç”¨æƒ¯äº†æˆ–æ˜¯å…¶ä»–ä¸€äº›åŸå› ï¼Œæ€»ä¹‹è®©æˆ‘æ‰‹å†™ä»£ç å°±æ˜¯æ„Ÿè§‰å¾ˆå¥‡æ€ª..ä½†æ˜¯æˆ‘æƒ³çš„è¯ï¼Œè¿™åº”è¯¥ä¾§é‡è€ƒå¯Ÿçš„æ˜¯ä¸€äº›ç»†èŠ‚æˆ–è€…æ˜¯ä¹ æƒ¯æ–¹é¢çš„ä¸€äº›ä¸œè¥¿ï¼Œæ‰€ä»¥è¿˜æ˜¯é˜²æ‚£äºæœªç„¶å§ï¼ŒæŠŠä¸€äº›å¯èƒ½æ‰‹æ’•çš„ä»£ç ç»™å‡†å¤‡å‡†å¤‡ï¼Œåˆ†äº«åˆ†äº«ï¼Œå¸Œæœ›å¯ä»¥å¾—åˆ°å„ä½çš„æŒ‡æ­£ï¼Œç„¶åèƒ½æœ‰ä¸€äº›è®¨è®ºï¼Œç”±äºæˆ‘å­—å¤ªä¸‘å°±ä¸ä¸Šä¼ è‡ªå·±é»˜å†™çš„ä»£ç äº†ï¼Œä½†è¿˜æ˜¯å¸Œæœ›å„ä½æ½¦è‰å†™ä¸€éåŠ æ·±ä¸€ä¸‹å°è±¡å§ï¼Œä»¥ä¸Šï¼› Part 1.ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜è¿™ç»å¯¹æ˜¯å±äºé‡ç‚¹äº†ï¼Œä¸ç®¡æ˜¯è€ƒå¯Ÿå¯¹äºè¯¥é‡è¦æ¨¡å‹çš„ç†è§£è¿˜æ˜¯è€ƒå¯Ÿä»£ç èƒ½åŠ›ï¼Œè¿™éƒ½æ˜¯ä¸€é“å¾ˆå¥½çš„è€ƒé¢˜ï¼Œæ‰€ä»¥å¾ˆæœ‰å¿…è¦çš„ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ï¼› é—®é¢˜ç®€å•å›é¡¾ ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼ˆè‹±è¯­ï¼šProducer-consumer problemï¼‰ï¼Œä¹Ÿç§°æœ‰é™ç¼“å†²é—®é¢˜ï¼ˆè‹±è¯­ï¼šBounded-buffer problemï¼‰ï¼Œæ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹åŒæ­¥é—®é¢˜çš„ç»å…¸æ¡ˆä¾‹ã€‚è¯¥é—®é¢˜æè¿°äº†å…±äº«å›ºå®šå¤§å°ç¼“å†²åŒºçš„ä¸¤ä¸ªçº¿ç¨‹â€”â€”å³æ‰€è°“çš„â€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€â€”â€”åœ¨å®é™…è¿è¡Œæ—¶ä¼šå‘ç”Ÿçš„é—®é¢˜ã€‚ç”Ÿäº§è€…çš„ä¸»è¦ä½œç”¨æ˜¯ç”Ÿæˆä¸€å®šé‡çš„æ•°æ®æ”¾åˆ°ç¼“å†²åŒºä¸­ï¼Œç„¶åé‡å¤æ­¤è¿‡ç¨‹ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ¶ˆè´¹è€…ä¹Ÿåœ¨ç¼“å†²åŒºæ¶ˆè€—è¿™äº›æ•°æ®ã€‚è¯¥é—®é¢˜çš„å…³é”®å°±æ˜¯è¦ä¿è¯ç”Ÿäº§è€…ä¸ä¼šåœ¨ç¼“å†²åŒºæ»¡æ—¶åŠ å…¥æ•°æ®ï¼Œæ¶ˆè´¹è€…ä¹Ÿä¸ä¼šåœ¨ç¼“å†²åŒºä¸­ç©ºæ—¶æ¶ˆè€—æ•°æ®ã€‚(æ‘˜è‡ªç»´åŸºç™¾ç§‘ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜) æ³¨æ„ï¼š ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ä¸­çš„å†…å­˜ç¼“å­˜åŒºçš„ä¸»è¦åŠŸèƒ½æ˜¯æ•°æ®åœ¨å¤šçº¿ç¨‹é—´çš„å…±äº«ï¼Œæ­¤å¤–ï¼Œé€šè¿‡è¯¥ç¼“å†²åŒºï¼Œå¯ä»¥ç¼“è§£ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æ€§èƒ½å·®ï¼› å‡ ç§å®ç°æ–¹å¼ä¸Šé¢è¯´åˆ°è¯¥é—®é¢˜çš„å…³é”®æ˜¯ï¼šå¦‚ä½•ä¿è¯ç”Ÿäº§è€…ä¸ä¼šåœ¨ç¼“å†²åŒºæ»¡æ—¶åŠ å…¥æ•°æ®ï¼Œæ¶ˆè´¹è€…ä¹Ÿä¸ä¼šåœ¨ç¼“å†²åŒºç©ºæ—¶æ¶ˆè€—æ•°æ®ï¼›è§£å†³æ€è·¯å¯ä»¥ç®€å•æ¦‚æ‹¬ä¸ºï¼š ç”Ÿäº§è€…æŒç»­ç”Ÿäº§ï¼Œç›´åˆ°ç¼“å†²åŒºæ»¡ï¼Œæ»¡æ—¶é˜»å¡ï¼›ç¼“å†²åŒºä¸æ»¡åï¼Œç»§ç»­ç”Ÿäº§ï¼› æ¶ˆè´¹è€…æŒç»­æ¶ˆè´¹ï¼Œç›´åˆ°ç¼“å†²åŒºç©ºï¼Œç©ºæ—¶é˜»å¡ï¼›ç¼“å†²åŒºä¸ç©ºåï¼Œç»§ç»­æ¶ˆè´¹ï¼› ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½å¯ä»¥æœ‰å¤šä¸ªï¼› é‚£ä¹ˆåœ¨ Java è¯­è¨€ä¸­ï¼Œèƒ½è¾¾åˆ°ä¸Šè¿°è¦æ±‚çš„ï¼Œè‡ªç„¶è€Œç„¶çš„å°±ä¼šæœ‰å¦‚ä¸‹çš„å‡ ç§å†™æ³•ï¼Œä½†æ˜¯é—®é¢˜çš„æ ¸å¿ƒéƒ½æ˜¯èƒ½å¤Ÿè®©æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…åœ¨å„è‡ªæ»¡è¶³æ¡ä»¶éœ€è¦é˜»å¡æ—¶èƒ½å¤Ÿèµ·åˆ°æ­£ç¡®çš„ä½œç”¨ï¼š wait()/notify()æ–¹å¼ï¼› await()/signal()æ–¹å¼ï¼› BlockingQueueé˜»å¡é˜Ÿåˆ—æ–¹å¼ï¼› PipedInputStream/PipedOutputStreamæ–¹å¼ï¼› æ‰‹å†™ä»£ç ï¼Œæˆ‘ä»¬ç€é‡æŒæ¡ä¸Šé¢å¯¹åº”çš„ç¬¬ä¸€ç§å’Œç¬¬ä¸‰ç§å†™æ³•å°±è¶³å¤Ÿäº†ï¼› wait()/notify()æ–¹å¼å®ç°åœ¨æ‰‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç°åœ¨ IDE ä¸Šå®ç°ä¸€éï¼Œç†è§£å…¶ä¸­çš„è¿‡ç¨‹å¹¶ä¸”æ‰¾åˆ°ä¸€äº›é‡ç‚¹/ç»†èŠ‚ï¼Œæˆ‘ä»¬å…ˆæ¥ä»£ç èµ°ä¸€éï¼Œç„¶åæˆ‘æŠŠæˆ‘ç†è§£çš„é‡ç‚¹ç»™åœˆå„¿å‡ºæ¥ï¼š ç”Ÿäº§è€…ä»£ç public class Producer implements Runnable { private volatile boolean isRunning = true; private final Vector sharedQueue; // å†…å­˜ç¼“å†²åŒº private final int SIZE; // ç¼“å†²åŒºå¤§å° private static AtomicInteger count = new AtomicInteger(); // æ€»æ•°ï¼ŒåŸå­æ“ä½œ private static final int SLEEPTIME = 1000; public Producer(Vector sharedQueue, int SIZE) { this.sharedQueue = sharedQueue; this.SIZE = SIZE; } @Override public void run() { int data; Random r = new Random(); System.out.println(\"start producer id = \" + Thread.currentThread().getId()); try { while (isRunning) { // æ¨¡æ‹Ÿå»¶è¿Ÿ Thread.sleep(r.nextInt(SLEEPTIME)); // å½“é˜Ÿåˆ—æ»¡æ—¶é˜»å¡ç­‰å¾… while (sharedQueue.size() == SIZE) { synchronized (sharedQueue) { System.out.println(\"Queue is full, producer \" + Thread.currentThread().getId() + \" is waiting, sizeï¼š\" + sharedQueue.size()); sharedQueue.wait(); } } // é˜Ÿåˆ—ä¸æ»¡æ—¶æŒç»­åˆ›é€ æ–°å…ƒç´  synchronized (sharedQueue) { data = count.incrementAndGet(); // æ„é€ ä»»åŠ¡æ•°æ® sharedQueue.add(data); System.out.println(\"producer create data:\" + data + \", sizeï¼š\" + sharedQueue.size()); sharedQueue.notifyAll(); } } } catch (InterruptedException e) { e.printStackTrace(); Thread.currentThread().interrupted(); } } public void stop() { isRunning = false; } } æœ‰äº†ä¸Šé¢çš„æåˆ°çš„è§£å†³æ€è·¯ï¼Œåº”è¯¥å¾ˆå®¹æ˜“å®ç°ï¼Œä½†æ˜¯è¿™é‡Œä¸»è¦æä¸€ä¸‹ä¸€äº›ç»†èŠ‚å’Œé‡ç‚¹ï¼š åˆ›é€ æ•°æ®ï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…è§£å†³çš„é—®é¢˜å°±æ˜¯æ•°æ®åœ¨å¤šçº¿ç¨‹é—´çš„å…±äº«ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–è¦å…³å¿ƒçš„é—®é¢˜å°±åº”è¯¥æ˜¯æ•°æ®ï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªAtomicIntegerç±»æ¥ä¸ºæˆ‘ä»¬åˆ›é€ æ•°æ®ï¼Œä½¿ç”¨å®ƒçš„å¥½å¤„æ˜¯è¯¥ç±»æ˜¯ä¸€ä¸ªä¿è¯åŸå­æ“ä½œçš„ç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¶ä¸­çš„incrementAndGet()æ–¹æ³•ä¸ä»…èƒ½å¤Ÿä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œè¿˜å¯ä»¥è¾¾åˆ°ä¸€ä¸ªè®¡æ•°çš„æ•ˆæœï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªæ—¢ç®€å•åˆå®ç”¨çš„é€‰æ‹©ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ•°æ®æ¥ä»£æ›¿ï¼Œè¿™é‡Œæ³¨æ„çš„æ˜¯è¦ä¿è¯è¯¥ç±»åœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä»½ï¼Œä½¿ç”¨staticä¿®é¥°ï¼› å†…å­˜ç¼“å†²åŒºï¼šè¦ä¿è¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å†…å­˜ç¼“å†²åŒºçš„å®‰å…¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ç®€å•çš„Vectorç±»æ¥ä½œä¸ºæˆ‘ä»¬çš„å†…å­˜ç¼“å†²åŒºï¼Œå¹¶ä¸”ä½¿ç”¨finalä¿®é¥°ä¿è¯å†…å­˜ç¼“å†²åŒºçš„å”¯ä¸€ï¼Œç„¶åçš„è¯æˆ‘ä»¬éœ€è¦åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªæ ‡è¯†ç¼“å†²åŒºå¤§å°çš„å˜é‡SIZEï¼Œæ³¨æ„ä¹Ÿæ˜¯finalä¿®é¥°ï¼› æ¨¡æ‹Ÿå»¶è¿Ÿï¼šè¿™é‡Œä¸»è¦æ¨¡æ‹Ÿçš„æ˜¯ä¸€ä¸ªç½‘ç»œå»¶è¿Ÿï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªSLEEPTIMEçš„å»¶è¿ŸèŒƒå›´ï¼Œæ³¨æ„ä½¿ç”¨çš„æ˜¯static finalä¿®é¥°ï¼Œç„¶åä½¿ç”¨Random()ç±»çš„nextInt()æ–¹æ³•æ¥éšæœºé€‰å–ä¸€ä¸ªè¯¥èŒƒå›´å†…çš„å€¼æ¥æ¨¡æ‹Ÿç½‘ç»œç¯å¢ƒä¸­çš„å»¶è¿Ÿï¼› åœæ­¢æ–¹æ³•ï¼šé¦–å…ˆéœ€è¦çŸ¥é“åœ¨Threadç±»ä¸­æœ‰ä¸€ä¸ªå¼ƒç”¨çš„stop()æ–¹æ³•ï¼Œæˆ‘ä»¬è‡ªå·±å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½isRunningæ¥å®Œæˆæˆ‘ä»¬è‡ªå·±çš„stop()åŠŸèƒ½ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨volatileæ¥ä¿®é¥°ï¼Œä¿è¯è¯¥æ ‡å¿—ä½çš„å¯è§æ€§ï¼› é”™è¯¯å¤„ç†ï¼šå½“æ•è·åˆ°é”™è¯¯æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨Threadç±»ä¸­çš„interrupted()æ–¹æ³•æ¥ç»ˆæ­¢å½“å‰çš„è¿›ç¨‹ï¼› æ¶ˆæ¯æç¤ºï¼šæˆ‘ä»¬ä¸»è¦æ˜¯è¦åœ¨æ§åˆ¶å°è¾“å‡ºè¯¥ç”Ÿäº§è€…çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å½“å‰é˜Ÿåˆ—çš„çŠ¶æ€ï¼Œå¤§å°ï¼Œå½“å‰çº¿ç¨‹çš„ç”Ÿäº§è€…ä¿¡æ¯ç­‰ï¼Œæ³¨æ„çš„æ˜¯ä¿¡æ¯æ ¼å¼çš„ç»Ÿä¸€(åé¢çš„æ¶ˆè´¹è€…åŒæ ·çš„)ï¼› æ¶ˆè´¹è€…ä»£ç public class Consumer implements Runnable { private final Vector sharedQueue; // å†…å­˜ç¼“å†²åŒº private final int SIZE; // ç¼“å†²åŒºå¤§å° private static final int SLEEPTIME = 1000; public Consumer(Vector sharedQueue, int SIZE) { this.sharedQueue = sharedQueue; this.SIZE = SIZE; } @Override public void run() { Random r = new Random(); System.out.println(\"start consumer id = \" + Thread.currentThread().getId()); try { while (true) { // æ¨¡æ‹Ÿå»¶è¿Ÿ Thread.sleep(r.nextInt(SLEEPTIME)); // å½“é˜Ÿåˆ—ç©ºæ—¶é˜»å¡ç­‰å¾… while (sharedQueue.isEmpty()) { synchronized (sharedQueue) { System.out.println(\"Queue is empty, consumer \" + Thread.currentThread().getId() + \" is waiting, sizeï¼š\" + sharedQueue.size()); sharedQueue.wait(); } } // é˜Ÿåˆ—ä¸ç©ºæ—¶æŒç»­æ¶ˆè´¹å…ƒç´  synchronized (sharedQueue) { System.out.println(\"consumer consume dataï¼š\" + sharedQueue.remove(0) + \", sizeï¼š\" + sharedQueue.size()); sharedQueue.notifyAll(); } } } catch (InterruptedException e) { e.printStackTrace(); Thread.currentThread().interrupt(); } } } è·Ÿç”Ÿäº§è€…ç›¸åŒçš„ï¼Œä½ éœ€è¦æ³¨æ„å†…å­˜ç¼“å†²åŒº/ æ¨¡æ‹Ÿå»¶è¿Ÿ/ é”™è¯¯å¤„ç†/ æ¶ˆæ¯æç¤ºè¿™äº›æ–¹é¢çš„ç»†èŠ‚é—®é¢˜ï¼Œæ€»ä½“æ¥è¯´æ¶ˆè´¹è€…å°±æ˜¯æŒç»­ä¸æ–­çš„æ¶ˆè´¹ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“å®ç°ï¼› ä¸»çº¿ç¨‹ä»£ç æœ‰äº†æˆ‘ä»¬çš„æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æ¥éªŒè¯ä¸€ä¸‹å®ƒä»¬çš„æ­£ç¡®æ€§ï¼Œç…§å¸¸ç†æ¥è¯´æˆ‘ä»¬ç›´æ¥åˆ›å»ºä¸€äº›æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…çš„çº¿ç¨‹è®©å®ƒä»¬æ‰§è¡Œå°±å¯ä»¥äº†å•Šï¼Œä½†æ˜¯ä¸ºäº†â€œåŠ åˆ†â€è€ƒè™‘å‘¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨çº¿ç¨‹æ± å§..ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤æ‚ï¼š public static void main(String args[]) throws InterruptedException { // 1.æ„å»ºå†…å­˜ç¼“å†²åŒº Vector sharedQueue = new Vector(); int size = 4; // 2.å»ºç«‹çº¿ç¨‹æ± å’Œçº¿ç¨‹ ExecutorService service = Executors.newCachedThreadPool(); Producer prodThread1 = new Producer(sharedQueue, size); Producer prodThread2 = new Producer(sharedQueue, size); Producer prodThread3 = new Producer(sharedQueue, size); Consumer consThread1 = new Consumer(sharedQueue, size); Consumer consThread2 = new Consumer(sharedQueue, size); Consumer consThread3 = new Consumer(sharedQueue, size); service.execute(prodThread1); service.execute(prodThread2); service.execute(prodThread3); service.execute(consThread1); service.execute(consThread2); service.execute(consThread3); // 3.ç¡ä¸€ä¼šå„¿ç„¶åå°è¯•åœæ­¢ç”Ÿäº§è€… Thread.sleep(10 * 1000); prodThread1.stop(); prodThread2.stop(); prodThread3.stop(); // 4.å†ç¡ä¸€ä¼šå„¿å…³é—­çº¿ç¨‹æ±  Thread.sleep(3000); service.shutdown(); } å¤§å®¶å¯ä»¥è‡ªè¡Œå»çœ‹çœ‹è¿è¡Œçš„ç»“æœï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¸ä¼šå‡ºç°å¤šç”Ÿäº§æˆ–è€…å¤šæ¶ˆè´¹ä¹‹ç±»çš„å¤šçº¿ç¨‹é—®é¢˜ï¼Œè¿è¡Œä¸€æ®µæ—¶é—´ç­‰ç”Ÿäº§è€…éƒ½åœæ­¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°æ§åˆ¶å°ä¸‰ä¸ªæ¶ˆè´¹è€…éƒ½åœ¨ç­‰å¾…æ•°æ®çš„æƒ…å†µï¼š Queue is empty, consumer 17 is waiting, sizeï¼š0 Queue is empty, consumer 15 is waiting, sizeï¼š0 Queue is empty, consumer 16 is waiting, sizeï¼š0 BlockingQueueé˜»å¡é˜Ÿåˆ—æ–¹å¼å®ç°è¯¥æ–¹å¼å¯¹æ¯”èµ·ä¸Šé¢ä¸€ç§æ–¹å¼å®ç°èµ·æ¥è¦ç®€å•ä¸€äº›ï¼Œå› ä¸ºä¸éœ€è¦æ‰‹åŠ¨çš„å»é€šçŸ¥å…¶ä»–çº¿ç¨‹äº†ï¼Œç”Ÿäº§è€…ç›´æ¥å¾€é˜Ÿåˆ—ä¸­æ”¾æ•°æ®ç›´åˆ°é˜Ÿåˆ—æ»¡ï¼Œæ¶ˆè´¹è€…ç›´æ¥ä»é˜Ÿåˆ—ä¸­è·å–æ•°æ®ç›´åˆ°é˜Ÿåˆ—ç©ºï¼ŒBlockingQueueä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆé˜»å¡è¿™ä¸ªåŠ¨ä½œï¼Œè¿˜æ˜¯å…ˆæ¥çœ‹çœ‹ä»£ç  ç”Ÿäº§è€…ä»£ç public class Producer implements Runnable { private volatile boolean isRunning = true; private BlockingQueue&lt;Integer> queue; // å†…å­˜ç¼“å†²åŒº private static AtomicInteger count = new AtomicInteger(); // æ€»æ•°ï¼ŒåŸå­æ“ä½œ private static final int SLEEPTIME = 1000; public Producer(BlockingQueue&lt;Integer> queue) { this.queue = queue; } @Override public void run() { int data; Random r = new Random(); System.out.println(\"start producer id = \" + Thread.currentThread().getId()); try { while (isRunning) { // æ¨¡æ‹Ÿå»¶è¿Ÿ Thread.sleep(r.nextInt(SLEEPTIME)); // å¾€é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ® data = count.incrementAndGet(); // æ„é€ ä»»åŠ¡æ•°æ® System.out.println(\"producer \" + Thread.currentThread().getId() + \" create dataï¼š\" + data + \", sizeï¼š\" + queue.size()); if (!queue.offer(data, 2, TimeUnit.SECONDS)) { System.err.println(\"failed to put dataï¼š\" + data); } } } catch (InterruptedException e) { e.printStackTrace(); Thread.currentThread().interrupted(); } } public void stop() { isRunning = false; } } è·Ÿä¸Šé¢ä¸€ç§æ–¹å¼æ²¡æœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œå€’æ˜¯ä»£ç æ›´åŠ ç®€å•é€šé€ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯å¯¹é˜»å¡é˜Ÿåˆ—æ·»åŠ å¤±è´¥çš„é”™è¯¯å¤„ç†ï¼› æ¶ˆè´¹è€…ä»£ç public class Consumer implements Runnable { private BlockingQueue&lt;Integer> queue; // å†…å­˜ç¼“å†²åŒº private static final int SLEEPTIME = 1000; public Consumer(BlockingQueue&lt;Integer> queue) { this.queue = queue; } @Override public void run() { int data; Random r = new Random(); System.out.println(\"start consumer id = \" + Thread.currentThread().getId()); try { while (true) { // æ¨¡æ‹Ÿå»¶è¿Ÿ Thread.sleep(r.nextInt(SLEEPTIME)); // ä»é˜»å¡é˜Ÿåˆ—ä¸­è·å–æ•°æ® if (!queue.isEmpty()) { data = queue.take(); System.out.println(\"consumer \" + Thread.currentThread().getId() + \" consume dataï¼š\" + data + \", sizeï¼š\" + queue.size()); } else { System.out.println(\"Queue is empty, consumer \" + Thread.currentThread().getId() + \" is waiting, sizeï¼š\" + queue.size()); } } } catch (InterruptedException e) { e.printStackTrace(); Thread.currentThread().interrupt(); } } } ä¸»çº¿ç¨‹ä»£ç public static void main(String args[]) throws InterruptedException { // 1.æ„å»ºå†…å­˜ç¼“å†²åŒº BlockingQueue&lt;Integer> queue = new LinkedBlockingDeque&lt;>(); // 2.å»ºç«‹çº¿ç¨‹æ± å’Œçº¿ç¨‹ ExecutorService service = Executors.newCachedThreadPool(); Producer prodThread1 = new Producer(queue); Producer prodThread2 = new Producer(queue); Producer prodThread3 = new Producer(queue); Consumer consThread1 = new Consumer(queue); Consumer consThread2 = new Consumer(queue); Consumer consThread3 = new Consumer(queue); service.execute(prodThread1); service.execute(prodThread2); service.execute(prodThread3); service.execute(consThread1); service.execute(consThread2); service.execute(consThread3); // 3.ç¡ä¸€ä¼šå„¿ç„¶åå°è¯•åœæ­¢ç”Ÿäº§è€… Thread.sleep(10 * 1000); prodThread1.stop(); prodThread2.stop(); prodThread3.stop(); // 4.å†ç¡ä¸€ä¼šå„¿å…³é—­çº¿ç¨‹æ±  Thread.sleep(3000); service.shutdown(); } å› ä¸ºé˜Ÿåˆ—ä¸­æ·»åŠ å’Œåˆ é™¤çš„æ“ä½œæ¯”è¾ƒé¢‘ç¹ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨LinkedBlockingQueueæ¥ä½œä¸ºé˜»å¡é˜Ÿåˆ—ï¼Œæ‰€ä»¥è¿™é‡Œé™¤äº†å†…å­˜ç¼“å†²åŒºæœ‰æ‰€ä¸åŒä»¥å¤–ï¼Œå…¶ä»–çš„éƒ½å·®ä¸å¤šâ€¦å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªé˜Ÿåˆ—çš„å¤§å°ï¼› æ€»ç»“ä»¥åŠæ”¹è¿›ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼å¾ˆå¥½åœ°å¯¹ç”Ÿäº§è€…çº¿ç¨‹å’Œæ¶ˆè´¹è€…çº¿ç¨‹è¿›è¡Œè§£è€¦ï¼Œä¼˜åŒ–äº†ç³»ç»Ÿæ•´ä½“çš„ç»“æ„ï¼ŒåŒæ—¶ç”±äºç¼“å†²åŒºçš„ä½œç”¨ï¼Œå…è®¸ç”Ÿäº§è€…çº¿ç¨‹å’Œæ¶ˆè´¹è€…çº¿ç¨‹å­˜åœ¨æ‰§è¡Œä¸Šçš„æ€§èƒ½å·®å¼‚ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†æ€§èƒ½ç“¶é¢ˆå¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ï¼›ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½æ˜¯éå¸¸å¸¸è§„çš„å†™æ³•ï¼Œåªèƒ½è¯´èƒ½èµ·ç èƒ½åœ¨åŠæ ¼çš„åŸºç¡€ä¸ŠåŠ ä¸ªé‚£ä¹ˆç‚¹å„¿åˆ†æ•°ï¼Œå¦‚æœæƒ³è¦å¾—é«˜åˆ†å¯ä»¥å»æœç´¢æœæœ Disruptor æ¥å®ç°ä¸€ä¸ªæ— é”çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€¦.è¿™é‡Œå°±ä¸æåŠäº†.. æ”¹è¿›ï¼šä¸Šé¢çš„çº¿ç¨‹è¾“å‡ºå¯èƒ½ä¼šæœ‰ç‚¹å„¿ä¸å‹å¥½ï¼ˆä¸ç›´è§‚ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬è¿™é‡Œæ˜¯ç›´æ¥ä½¿ç”¨çš„çº¿ç¨‹çš„ ID æ¥ä½œä¸ºè¾“å‡ºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™çº¿ç¨‹å¼„ä¸€ä¸ªåå­—æ¥ä½œä¸ºè¾“å‡ºï¼Œä»¥ä¸Šï¼› Part 2.æ’åºç®—æ³•æ’åºç®—æ³•å½“ç„¶ä¹Ÿç®—æ˜¯é‡ç‚¹è€ƒå¯Ÿçš„å¯¹è±¡ä¹‹ä¸€äº†ï¼Œæ¯•ç«ŸåŸºç¡€ä¸”åç®—æ³•ï¼Œå½“ç„¶æˆ‘ä»¬æœ‰å¿…è¦å»äº†è§£å¸¸è§çš„æ’åºç®—æ³•ä»¥åŠå®ƒä»¬é‡‡å–äº†æ€æ ·çš„æ€æƒ³åˆæ˜¯å¦‚ä½•å®ç°çš„è¿˜æœ‰å¤æ‚åº¦çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™é‡Œçš„è¯ï¼Œä¸»è¦å°±æåŠä¸¤ç§è€ƒçš„æ¯”è¾ƒå¸¸è§çš„æ’åºç®—æ³•ï¼šå†’æ³¡å’Œå¿«æ’ï¼Œä»¥åŠåˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œçš„ä¸€äº›ä¼˜åŒ–ï¼› å†’æ³¡æ’åºå†’æ³¡åº”è¯¥æ˜¯æ¯”è¾ƒåŸºç¡€çš„ä¸€ç§ç®—æ³•ï¼Œæˆ‘ä»¬ä»¥ä»å°åˆ°å¤§æ’åºä¸ºä¾‹ï¼Œå®ƒçš„åŸºç¡€æ€æƒ³æ˜¯ï¼šä»ç¬¬ä¸€ä¸ªæ•°å¼€å§‹ç›´åˆ°æ•°ç»„å€’æ•°ç¬¬äºŒä¸ªæ•°ï¼Œæ¯ä¸€è½®éƒ½å»æ¯”è¾ƒæ•°ç»„ä¸­å‰©ä¸‹çš„æ•°ï¼Œå¦‚æœåé¢çš„æ•°æ®æ›´å°åˆ™ä¸¤æ•°äº¤æ¢ï¼Œè¿™æ ·ä¸€è½®ä¸€è½®çš„æ¯”è¾ƒäº¤æ¢ä¸‹æ¥ï¼Œæœ€å¤§çš„é‚£ä¸ªæ•°ä¹Ÿå°±â€œæ²‰åˆ°â€äº†æ•°ç»„çš„æœ€åï¼Œæœ€å°çš„â€œå†’â€åˆ°äº†æ•°ç»„çš„æœ€å‰é¢ï¼Œè¿™æ ·å°±å®Œæˆäº†æ’åºå·¥ä½œï¼› åŸºç¡€ç®—æ³•ä»£ç ï¼ˆæœªä¼˜åŒ–ï¼‰å¾ˆç®€å•ï¼Œç›´æ¥ä¸Šä»£ç ï¼š /** * å†’æ³¡æ’åº * * @param nums å¾…æ’åºçš„æ•°ç»„ */ public void bubbleSort(int[] nums) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == nums || nums.length &lt;= 1) { return; } // ä»å°åˆ°å¤§æ’åº for (int i = 0; i &lt; nums.length - 1; i++) { for (int j = i + 1; j &lt; nums.length; j++) { if (nums[i] > nums[j]) { nums[i] = nums[i] + nums[j]; nums[j] = nums[i] - nums[j]; nums[i] = nums[i] - nums[j]; } } } } è¿™é‡Œéœ€è¦æ³¨æ„ï¼šåŠ ä¸Šæ­£ç¡®æ€§åˆ¤æ–­ï¼›ï¼ˆè®¨è®ºï¼šå…¶å®æˆ‘çœ‹å¤§å¤šæ•°åœ°æ–¹éƒ½æ˜¯æ²¡æœ‰è¿™ä¸ªçš„ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰åŠ ä¸Šçš„å¿…è¦â€¦æ±‚è®¨è®ºï¼‰ å¦å¤–å…‰å†™å®Œå®ç°å†’æ³¡æ’åºçš„ç®—æ³•æ˜¯ä¸ç®—å®Œçš„ï¼Œè¿˜è¦å…»æˆè‰¯å¥½çš„ä¹ æƒ¯å»å†™æµ‹è¯•å•å…ƒç”¨ä¾‹ï¼Œè€Œä¸”å°½å¯èƒ½è¦è€ƒè™‘åˆ°å¤šçš„ç‚¹ï¼Œä¾‹å¦‚è¿™é‡Œçš„è´Ÿæ•°ã€å¤šä¸ªç›¸åŒçš„æ•°ä¹‹ç±»çš„ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘å°±å¤§æ¦‚å†™ä¸€ä¸ªå§ï¼Œä¹Ÿæ¬¢è¿æŒ‡æ­£ï¼š @Test public void bubbleSortTester() { // æµ‹è¯•ç”¨ä¾‹1ï¼šéªŒè¯è´Ÿæ•°æ˜¯å¦æ»¡è¶³è¦æ±‚ int[] nums = {1, 4, 2, -2, 5, 11, -7, 0}; bubbleSort(nums); // è¾“å‡ºæµ‹è¯•ç»“æœ for (int i = 0; i &lt; nums.length; i++) { System.out.print(nums[i] + \", \"); } System.out.println(); // æµ‹è¯•ç”¨ä¾‹2ï¼šéªŒè¯å¤šä¸ªç›¸åŒçš„æ•°æ˜¯å¦æ»¡è¶³è¦æ±‚ nums = new int[]{1, 1, 5, 7, 7, 3, 1}; bubbleSort(nums); // è¾“å‡ºæµ‹è¯•ç»“æœ for (int i = 0; i &lt; nums.length; i++) { System.out.print(nums[i] + \", \"); } } å†’æ³¡æ’åºä¼˜åŒ–æƒ³è±¡ä¸€ä¸ªè¿™æ ·çš„åœºæ™¯ï¼šå¦‚æœè¯¥æ•°ç»„åŸºæœ¬æœ‰åºï¼Œæˆ–è€…åœ¨æ•°ç»„çš„ååŠæ®µåŸºæœ¬æœ‰åºï¼Œä¸Šé¢çš„ç®—æ³•å°±ä¼šæµªè´¹è®¸å¤šçš„æ—¶é—´å¼€é”€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å†ä½¿ç”¨åŒé‡åµŒå¥—å»æ¯”è¾ƒæ¯ä¸¤ä¸ªå…ƒç´ çš„å€¼ï¼Œè€Œåªæ˜¯ä¸æ–­æ¯”è¾ƒæ•°ç»„æ¯å‰åä¸¤ä¸ªæ•°å€¼ï¼Œè®©å¤§çš„é‚£ä¸ªæ•°ä¸æ–­â€œå†’â€åˆ°æ•°ç»„çš„æœ€åï¼Œç„¶åç¼©å°å°¾è¾¹ç•Œçš„èŒƒå›´ï¼Œå¹¶ä¸”å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè¡¨ç¤ºè¿™ä¸€è¶Ÿæ˜¯å¦å‘ç”Ÿäº†äº¤æ¢ï¼Œå¦‚æœæ²¡æœ‰é‚£ä¹ˆè¯æ˜è¯¥æ•°ç»„å·²ç»æœ‰åºåˆ™å®Œæˆäº†æ’åºäº†ï¼š /** * æ”¹è¿›çš„å†’æ³¡æ’åº * * @param nums å¾…æ’åºçš„æ•°ç»„ */ public void bubbleSort2(int[] nums) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == nums || nums.length &lt;= 1) { return; } // ä½¿ç”¨ä¸€ä¸ªæ•°æ¥è®°å½•å°¾è¾¹ç•Œ int length = nums.length; boolean flag = true;// å‘ç”Ÿäº†äº¤æ¢å°±ä¸ºtrue, æ²¡å‘ç”Ÿå°±ä¸ºfalseï¼Œç¬¬ä¸€æ¬¡åˆ¤æ–­æ—¶å¿…é¡»æ ‡å¿—ä½trueã€‚ while (flag) { flag = false;// æ¯æ¬¡å¼€å§‹æ’åºå‰ï¼Œéƒ½è®¾ç½®flagä¸ºæœªæ’åºè¿‡ for (int i = 1; i &lt; length; i++) { if (nums[i - 1] > nums[i]) {// å‰é¢çš„æ•°å­—å¤§äºåé¢çš„æ•°å­—å°±äº¤æ¢ int temp; temp = nums[i - 1]; nums[i - 1] = nums[i]; nums[i] = temp; // è¡¨ç¤ºäº¤æ¢è¿‡æ•°æ®; flag = true; } } length--; // å‡å°ä¸€æ¬¡æ’åºçš„å°¾è¾¹ç•Œ } } åŒæ ·çš„è®°å¾—å†™å•å…ƒæµ‹è¯•å‡½æ•°ï¼› å†’æ³¡æ’åºè¿›ä¸€æ­¥ä¼˜åŒ–é¡ºç€è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼šç°åœ¨æœ‰ä¸€ä¸ªåŒ…å« 1000 ä¸ªæ•°çš„æ•°ç»„ï¼Œä»…æœ‰å‰é¢ 100 ä¸ªæ•°æ— åºï¼Œåé¢çš„ 900 ä¸ªæ•°éƒ½æ¯”å‰é¢çš„ 100 ä¸ªæ•°æ›´å¤§å¹¶ä¸”å·²ç»æ’å¥½åºï¼Œé‚£ä¹ˆä¸Šé¢ä¼˜åŒ–çš„æ–¹æ³•åˆä¼šé€ æˆä¸€å®šçš„æ—¶é—´æµªè´¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿›ä¸€æ­¥å¢åŠ ä¸€ä¸ªå˜é‡è®°å½•æœ€åå‘ç”Ÿäº¤æ¢çš„å…ƒç´ çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æ’åºçš„å°¾è¾¹ç•Œäº†ï¼š /** * å†’æ³¡ç®—æ³•æœ€ä¼˜è§£ * * @param nums å¾…æ’åºçš„æ•°ç»„ */ public static void bubbleSort3(int[] nums) { int j, k; int flag = nums.length;// flagæ¥è®°å½•æœ€åäº¤æ¢çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æ’åºçš„å°¾è¾¹ç•Œ while (flag > 0) {// æ’åºæœªç»“æŸæ ‡å¿— k = flag;// k æ¥è®°å½•éå†çš„å°¾è¾¹ç•Œ flag = 0; for (j = 1; j &lt; k; j++) { if (nums[j - 1] > nums[j]) {// å‰é¢çš„æ•°å­—å¤§äºåé¢çš„æ•°å­—å°±äº¤æ¢ // äº¤æ¢a[j-1]å’Œa[j] int temp; temp = nums[j - 1]; nums[j - 1] = nums[j]; nums[j] = temp; // è¡¨ç¤ºäº¤æ¢è¿‡æ•°æ®; flag = j;// è®°å½•æœ€æ–°çš„å°¾è¾¹ç•Œ. } } } } è¿™åº”è¯¥æ˜¯æœ€ä¼˜çš„å†’æ³¡æ’åºäº†ï¼ŒåŒæ—¶ä¹Ÿåˆ«å¿˜è®°äº†æœ€åè¦å†™æµ‹è¯•å•å…ƒç”¨ä¾‹ä»£ç ï¼› å¿«é€Ÿæ’åºå¿«æ’ä¹Ÿæ˜¯ä¸€ç§å¾ˆç»å…¸çš„ç®—æ³•ï¼Œå®ƒä½¿ç”¨äº†ä¸€ç§åˆ†æ²»çš„æ€æƒ³ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’åºçš„æ•°ç»„åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„æ˜¯æ¯”å…³é”®å­—æ›´å°çš„ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯æ¯”å…³é”®å­—æ›´å¤§çš„ï¼Œç„¶åå†åˆ†åˆ«å¯¹ç€ä¸¤éƒ¨åˆ†ç»§ç»­è¿›è¡Œæ’åºï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—æœ‰åºï¼› åŸºç¡€å®ç°éå¸¸ç»å…¸çš„ä»£ç ï¼Œç›´æ¥ä¸Šå§ï¼š public static void quickSort(int[] arr) { qsort(arr, 0, arr.length - 1); } private static void qsort(int[] arr, int low, int high) { if (low &lt; high) { int pivot = partition(arr, low, high); // å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ† qsort(arr, low, pivot - 1); // é€’å½’æ’åºå·¦å­æ•°ç»„ qsort(arr, pivot + 1, high); // é€’å½’æ’åºå³å­æ•°ç»„ } } private static int partition(int[] arr, int low, int high) { int pivot = arr[low]; // æ¢è½´è®°å½• while (low &lt; high) { while (low &lt; high &amp;&amp; arr[high] >= pivot) --high; arr[low] = arr[high]; // äº¤æ¢æ¯”æ¢è½´å°çš„è®°å½•åˆ°å·¦ç«¯ while (low &lt; high &amp;&amp; arr[low] &lt;= pivot) ++low; arr[high] = arr[low]; // äº¤æ¢æ¯”æ¢è½´å°çš„è®°å½•åˆ°å³ç«¯ } // æ‰«æå®Œæˆï¼Œæ¢è½´åˆ°ä½ arr[low] = pivot; // è¿”å›çš„æ˜¯æ¢è½´çš„ä½ç½® return low; } å½“ç„¶ï¼Œåœ¨æ‰‹æ’•çš„æ—¶å€™éœ€è¦æ³¨æ„å‡½æ•°ä¸Šçš„ Java Doc æ ¼å¼çš„æ³¨é‡Šï¼Œè¿™é‡Œçœç•¥æ‰æ˜¯ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œå¦å¤–åˆ«å¿˜äº†æµ‹è¯•å•å…ƒç”¨ä¾‹ä»£ç ï¼› ä¸Šé¢çš„ä»£ç ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªâ€œå¡«å‘â€çš„è¿‡ç¨‹ï¼Œç¬¬ä¸€ä¸ªâ€œå‘â€æŒ–åœ¨æ¯æ¬¡æ’åºçš„ç¬¬ä¸€ä¸ªä½ç½®arr[low]ï¼Œä»åºåˆ—åé¢å¾€å‰æ‰¾ç¬¬ä¸€ä¸ªæ¯”pivotå°çš„æ•°æ¥æŠŠè¿™ä¸ªâ€œå‘â€å¡«ä¸Šï¼Œè¿™æ—¶å€™çš„â€œå‘â€å°±å˜æˆäº†å½“å‰çš„arr[high]ï¼Œç„¶åå†ä»åºåˆ—å‰é¢å¾€åç”¨ç¬¬ä¸€ä¸ªæ¯”pivotå¤§çš„æ•°æŠŠåˆšæ‰çš„â€œå‘â€å¡«ä¸Šï¼Œå¦‚æ­¤å¾€å¤ï¼Œå§‹ç»ˆæœ‰ä¸€ä¸ªâ€œå‘â€éœ€è¦æˆ‘ä»¬å¡«ä¸Šï¼Œç›´åˆ°æœ€åä¸€ä¸ªâ€œå‘â€å‡ºç°ï¼Œè¿™ä¸ªâ€œå‘â€ä½¿ç”¨ä¸€å¼€å§‹çš„pivotå¡«ä¸Šå°±å¯ä»¥äº†ï¼Œè€Œè¿™ä¸ªâ€œå‘â€çš„ä½ç½®ä¹Ÿå°±æ˜¯pivotè¯¥å¡«ä¸Šçš„æ­£ç¡®ä½ç½®ï¼Œæˆ‘ä»¬å†æŠŠè¿™ä¸ªä½ç½®è¿”å›ï¼Œå°±å¯ä»¥æŠŠå½“å‰åºåˆ—åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†å†ä¾æ¬¡è¿™æ ·æ“ä½œæœ€ç»ˆå°±è¾¾åˆ°æ’åºçš„ç›®çš„äº†ï¼Œä¸å¾—ä¸è¯´è¿™æ ·çš„æ€æƒ³æŒºç¥å¥‡çš„ï¼› ç®—æ³•ä¼˜åŒ–ä¸Šé¢è¿™ä¸ªå¿«é€Ÿæ’åºç®—æ³•å¯ä»¥è¯´æ˜¯æœ€åŸºæœ¬çš„å¿«é€Ÿæ’åºï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰è€ƒè™‘ä»»ä½•è¾“å…¥æ•°æ®ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°è¿™ä¸ªç®—æ³•çš„ç¼ºé™·ï¼šè¿™å°±æ˜¯åœ¨æˆ‘ä»¬è¾“å…¥æ•°æ®åŸºæœ¬æœ‰åºç”šè‡³å®Œå…¨æœ‰åºçš„æ—¶å€™ï¼Œè¿™ç®—æ³•é€€åŒ–ä¸ºå†’æ³¡æ’åºï¼Œä¸å†æ˜¯O(nã’n)ï¼Œè€Œæ˜¯O(n^2)äº†ã€‚ ç©¶å…¶æ ¹æºï¼Œåœ¨äºæˆ‘ä»¬çš„ä»£ç å®ç°ä¸­ï¼Œæ¯æ¬¡åªä»æ•°ç»„ç¬¬ä¸€ä¸ªå¼€å§‹å–ã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨â€œä¸‰è€…å–ä¸­â€ï¼Œå³ arr[low], arr[high], arr[(low+high)/2] ä¸‰è€…çš„ä¸­å€¼ä½œä¸ºæ¢è½´è®°å½•ï¼Œåˆ™å¯ä»¥å¤§å¤§æé«˜å¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹çš„æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä»ç„¶æ— æ³•å°†å®ƒåœ¨æ•°ç»„æœ‰åºæƒ…å½¢ä¸‹çš„æ€§èƒ½æé«˜åˆ°O(n)ã€‚è¿˜æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ä¸åŒç¨‹åº¦åœ°æé«˜å¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´æ€§èƒ½ã€‚ æ­¤å¤–ï¼Œå¿«é€Ÿæ’åºéœ€è¦ä¸€ä¸ªé€’å½’æ ˆï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™ä¸ªæ ˆä¸ä¼šå¾ˆæ·±ï¼Œä¸ºlog(n)çº§åˆ«ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ¯æ¬¡åˆ’åˆ†çš„ä¸¤ä¸ªæ•°ç»„é•¿åº¦ä¸¥é‡å¤±è¡¡ï¼Œåˆ™ä¸ºæœ€åæƒ…å†µï¼Œæ ˆçš„æ·±åº¦å°†å¢åŠ åˆ°O(n)ã€‚æ­¤æ—¶ï¼Œç”±æ ˆç©ºé—´å¸¦æ¥çš„ç©ºé—´å¤æ‚åº¦ä¸å¯å¿½ç•¥ã€‚å¦‚æœåŠ ä¸Šé¢å¤–å˜é‡çš„å¼€é”€ï¼Œè¿™é‡Œç”šè‡³å¯èƒ½è¾¾åˆ°ææ€–çš„O(n^2)ç©ºé—´å¤æ‚åº¦ã€‚æ‰€ä»¥ï¼Œå¿«é€Ÿæ’åºçš„æœ€å·®ç©ºé—´å¤æ‚åº¦ä¸æ˜¯ä¸€ä¸ªå®šå€¼ï¼Œç”šè‡³å¯èƒ½ä¸åœ¨ä¸€ä¸ªçº§åˆ«ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡åˆ’åˆ†åæ¯”è¾ƒä¸¤ç«¯çš„é•¿åº¦ï¼Œå¹¶å…ˆå¯¹çŸ­çš„åºåˆ—è¿›è¡Œæ’åºï¼ˆç›®çš„æ˜¯å…ˆç»“æŸè¿™äº›æ ˆä»¥é‡Šæ”¾ç©ºé—´ï¼‰ï¼Œå¯ä»¥å°†æœ€å¤§æ·±åº¦é™å›åˆ°O(ã’n)çº§åˆ«ã€‚ å…³äºä¼˜åŒ–çš„è¯ï¼Œäº†è§£ä¸€ä¸ªå¤§æ¦‚çš„æ€è·¯å°±å¯ä»¥äº†ï¼Œé‚£åœ¨è¿™é‡Œç¨å¾®æ€»ç»“ä¸€ä¸‹ï¼š â‘ ä¸‰æ•°å–ä¸­ä½œä¸ºæ¢è½´è®°å½•ï¼› â‘¡å½“å¾…æ’åºåºåˆ—çš„é•¿åº¦åˆ†å‰²åˆ°ä¸€å®šå¤§å°ä¹‹åï¼Œä½¿ç”¨æ’å…¥æ’åºï¼› â‘¢åœ¨ä¸€æ¬¡åˆ†å‰²ç»“æŸåï¼Œå¯ä»¥æŠŠä¸pivotç›¸ç­‰çš„å…ƒç´ èšåœ¨ä¸€èµ·ï¼Œç»§ç»­ä¸‹æ¬¡åˆ†å‰²æ—¶ï¼Œä¸ç”¨å†å¯¹ä¸pivotç›¸ç­‰çš„å…ƒç´ åˆ†å‰²ï¼› â‘£ä¼˜åŒ–é€’å½’æ“ä½œï¼› å‚è€ƒæ–‡ç« ï¼šhttp://blog.51cto.com/flyingcat2013/1281614æƒ³è¦äº†è§£çš„æ›´å¤šçš„ç«¥é‹å¯ä»¥æˆ³è¿™é‡Œï¼šhttps://blog.csdn.net/insistGoGo/article/details/7785038 Part 3.äºŒå‰æ ‘ç›¸å…³ç®—æ³•äºŒå‰æ ‘ä¹Ÿæ˜¯ä¸€ä¸ªå®¹æ˜“æåŠçš„æ¦‚å¿µå’Œå†™ç®—æ³•çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„å‡ ç§é€’å½’éå†å’Œéé€’å½’éå†ï¼Œéƒ½æ˜¯åŸºç¡€ä¸”å¸¸è€ƒçš„ç‚¹ï¼Œé‚£åœ¨è¿™é‡Œå°±ç¨å¾®æ•´ç†æ•´ç†å§â€¦ äºŒå‰æ ‘çš„å‡ ç§é€’å½’éå†å‰åºã€ä¸­åºã€ååºéå†éƒ½æ˜¯éå¸¸åŸºç¡€ä¸”å®¹æ˜“çš„éå†æ–¹æ³•ï¼Œé‡ç‚¹è¿˜æ˜¯åœ¨åé¢çš„ä¸­åºå’Œåç»­çš„éé€’å½’éå†ä¸Šï¼Œå½“ç„¶è¿˜æœ‰å±‚åºéå†ï¼Œæ‰€ä»¥è¿™é‡Œä¸å¤šè¯´ï¼Œç›´æ¥ç»™ä»£ç ï¼› å‰åºéå†é€’å½’å®ç°public void preOrderTraverse1(TreeNode root) { if (root != null) { System.out.print(root.val + \" \"); preOrderTraverse1(root.left); preOrderTraverse1(root.right); } } ä¸­åºéå†é€’å½’å®ç°public void inOrderTraverse1(TreeNode root) { if (root != null) { preOrderTraverse1(root.left); System.out.print(root.val + \" \"); preOrderTraverse1(root.right); } } ååºéå†é€’å½’å®ç°public void postOrderTraverse1(TreeNode root) { if (root != null) { preOrderTraverse1(root.left); preOrderTraverse1(root.right); System.out.print(root.val + \" \"); } } å‰é¢ä¸‰ç§éå†ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºç»“ç‚¹æ•°æ®çš„ä½ç½®ä¸åŒè€Œå·²ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å¦‚æœæ‰‹å†™ï¼Œå»ºè®®é—®æ¸…æ¥šé¢è¯•å®˜è¦æ±‚ï¼Œæ˜¯åœ¨éå†æ—¶ç›´æ¥è¾“å‡ºè¿˜æ˜¯éœ€è¦å‡½æ•°è¿”å›ä¸€ä¸ªListé›†åˆï¼Œç„¶åæ³¨æ„å†™æµ‹è¯•ç”¨ä¾‹ä»£ç ï¼ äºŒå‰æ ‘çš„å‡ ç§éé€’å½’éå†â˜…â˜…å±‚åºéå†â˜…â˜…å±‚åºéå†æˆ‘ä»¬åªéœ€è¦å¢åŠ ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å³å¯ï¼Œçœ‹ä»£ç å¾ˆå®¹æ˜“ç†è§£ï¼š public void levelTraverse(TreeNode root) { if (root == null) { return; } LinkedList&lt;TreeNode> queue = new LinkedList&lt;>(); queue.offer(root); while (!queue.isEmpty()) { TreeNode node = queue.poll(); System.out.print(node.val + \" \"); if (node.left != null) { queue.offer(node.left); } if (node.right != null) { queue.offer(node.right); } } } å‰åºéå†éé€’å½’å®ç°public void preOrderTraverse2(TreeNode root) { if (root == null) { return; } LinkedList&lt;TreeNode> stack = new LinkedList&lt;>(); TreeNode pNode = root; while (pNode != null || !stack.isEmpty()) { if (pNode != null) { System.out.print(pNode.val + \" \"); stack.push(pNode); pNode = pNode.left; } else { //pNode == null &amp;&amp; !stack.isEmpty() TreeNode node = stack.pop(); pNode = node.right; } } } â˜…â˜…ä¸­åºéå†éé€’å½’å®ç°â˜…â˜…/** * éé€’å½’ä¸­åºéå†äºŒå‰æ ‘ * * @param root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹ * @return ä¸­åºéå†ç»“æœé›† */ public List&lt;Integer> inorderTraversal(TreeNode root) { List&lt;Integer> list = new ArrayList&lt;>(); ArrayDeque&lt;TreeNode> stack = new ArrayDeque&lt;>(); while (root != null || !stack.isEmpty()) { while (root != null) { stack.addFirst(root); root = root.left; } root = stack.removeFirst(); list.add(root.val); root = root.right; } return list; } â˜…â˜…åç»­éå†éé€’å½’å®ç°â˜…â˜…/** * äºŒå‰æ ‘çš„ååºéå† * * @param root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹ * @return ååºéå†ç»“æœé›† */ public List&lt;Integer> postorderTraversal(TreeNode root) { List&lt;Integer> list = new ArrayList&lt;>(); Deque&lt;TreeNode> stack = new ArrayDeque&lt;>(); TreeNode pre = null; while (!stack.isEmpty() || root != null) { while (root != null) { stack.push(root); root = root.left; } root = stack.peek(); // i ï¼šåˆ¤æ–­å¦‚æœå³å­æ ‘ä¸ä¸ºç©ºä¸”ä¸ä¸º if (root.right != null &amp;&amp; root.right != pre) { root = root.right; } else { root = stack.pop(); list.add(root.val); pre = root; root = null; } } return list; } å¦‚æœæ¯”è¾ƒéš¾ä»¥ç†è§£çš„è¯ï¼Œå¯ä»¥è‡ªå·±å°è¯•ç€è·Ÿè·Ÿ Debug ç„¶åçœ‹çœ‹è¿‡ç¨‹ï¼› äºŒå‰æ ‘ç›¸å…³å…¶ä»–ç®—æ³•é¢˜å¦å¤–çš„è¯è¿˜æœ‰ä¸€äº›æ¯”è¾ƒå¸¸è§çš„å…³äºæ ‘çš„ç®—æ³•ï¼Œåœ¨æ–‡ç« çš„æœ«å°¾ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ï¼š é“¾æ¥ï¼šhttps://www.jianshu.com/p/4ef1f50d45b5 Part 4.å…¶ä»–é‡è¦ç®—æ³•é™¤äº†ä¸Šé¢ 3 Part æ¯”è¾ƒé‡è¦çš„ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç®—æ³•ä¹Ÿæ˜¯ç»å¸¸è€ƒåˆ°çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´ï¼› 1.åè½¬é“¾è¡¨è¿™æ˜¯ä¸€é“å¾ˆç»å…¸çš„é¢˜ï¼Œä¸ä»…è€ƒä½ å¯¹é“¾è¡¨çš„ç†è§£ï¼Œè€Œä¸”è¿˜æœ‰ä¸€äº›ç»†èŠ‚ï¼ˆä¾‹å¦‚æ­£ç¡®æ€§åˆ¤æ–­/ æµ‹è¯•ç”¨ä¾‹ï¼‰éœ€è¦ä½ ä»ä»£ç å±‚é¢å»å±•ç°ï¼Œä¸‹é¢æˆ‘ä»¬ç»™å‡ºä¸¤æ®µä»£ç ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå»æ¯”è¾ƒï¼Œæˆ‘åªæ˜¯æä¾›ä¸€ä¸ªæ€è·¯ï¼› æ€è·¯ä¸€ï¼šä½¿ç”¨ä¸€ä¸ª Node ä¸æ–­é“¾æ¥è¿™æ˜¯æœ€ç»å…¸çš„ç®—æ³•ï¼Œä¹Ÿæ˜¯éœ€è¦æˆ‘ä»¬ç‰¢ç‰¢æŒæ¡çš„æ–¹æ³•ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯ç†è§£ while() å¾ªç¯ä¸­çš„è¿‡ç¨‹ï¼š public ListNode reverseList(ListNode head) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } ListNode pre = null; while (null != head) { ListNode temp = head; head = head.next; temp.next = pre; pre = temp; } return pre; } æ€è·¯äºŒï¼šåè½¬å…ƒç´ å€¼ç„¶åé‡æ–°èµ‹ç»™ Nodeè¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æ€è·¯ï¼Œæ¯”ä¸Šä¸ªæ€è·¯è¦å¤šéå†ä¸€éé“¾è¡¨ï¼Œä½†æ˜¯å¥½å¤„æ˜¯ç®€å•ï¼Œæ€è·¯æ¸…æ™°ï¼Œå®ç°èµ·æ¥å®¹æ˜“ï¼Œemmï¼Œåƒè¿™ä¸€ç±»é—®é¢˜æˆ‘è§‰å¾—å¦ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„å°±æ˜¯ä¸¾ä¸€åä¸‰çš„èƒ½åŠ›å§ï¼Œåœ¨è¿™é‡Œæˆ‘åªæä¾›ä¸¤ä¸ªæ€è·¯ï¼Œå…¶å®è¿˜æœ‰å¾ˆå¤šç§å®ç°æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿåˆ«å¿˜äº†ç»†èŠ‚çš„ä¸œè¥¿~ public ListNode reverseList(ListNode head) { // 1.æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } // 2.éå†é“¾è¡¨headå¹¶å°†ç»“æœä¿å­˜åœ¨Listé›†åˆä¸­ List&lt;ListNode> list = new LinkedList(); ListNode tempNode = head; while (null != tempNode) { list.insert(tempNode.val); tempNode = tempNode.next; } // end whileï¼šéå†å®Œäº†é“¾è¡¨å¹¶å°†ç»“æœä¿å­˜åœ¨äº†Listé›†åˆä¸­ // 3.åè½¬é›†åˆï¼Œå¹¶å°†å€¼ä¾æ¬¡å¤åˆ¶ç»™é“¾è¡¨ Collections.reverse(list); tempNode = head; while (null != tempNode) { tempNode.val = list.remove(0); tempNode = tempNode.next; } return head; } 2.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨é—®é¢˜æè¿°ï¼šå°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ï¼› åŒæ ·çš„ç»å…¸ç®—æ³•ï¼Œéœ€è¦æŒæ¡ï¼š public ListNode mergeTwoLists(ListNode l1, ListNode l2) { if (l1 == null) { return l2; } if (l2 == null) { return l1; } ListNode head = null; if (l1.val &lt; l2.val) { head = l1; head.next = mergeTwoLists(l1.next, l2); } else { head = l2; head.next = mergeTwoLists(l1, l2.next); } return head; } è¿™é“é¢˜ä¹Ÿæ˜¯ LeetCode ä¸Šçš„ä¸€é“é¢˜ï¼Œæˆ‘å½“æ—¶çš„åšæ³•æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼Œè™½ç„¶çœ‹èµ·æ¥ä»£ç é‡å¤šäº†ä¸å°‘è€Œä¸”çœ‹èµ·æ¥è ¢è ¢çš„..ä½†æ˜¯ç»è¿‡ LeetCode æµ‹è¯•ï¼Œç”šè‡³æ¯”ä¸Šé¢çš„å®ç°è¦å¿«ä¸Šé‚£ä¹ˆ 2msï¼Œç‰¹åˆ«æé†’ï¼šä¸‹é¢çš„ä»£ç åªæ˜¯ç”¨ä½œä¸€ä¸ªæ€è·¯çš„å‚è€ƒï¼Œç€é‡æŒæ¡ä¸Šé¢çš„ä»£ç  ï¼š public ListNode mergeTwoLists(ListNode l1, ListNode l2) { // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå† ListNode dummyHead = new ListNode(-1); dummyHead.next = l1; ListNode pre = dummyHead; // éå†l1é“¾è¡¨ int len1 = 0; while (null != pre.next) { len1++; pre = pre.next; } int[] nums1 = new int[len1]; // ä¿å­˜l1é“¾è¡¨çš„æ•°æ® pre = dummyHead; for (int i = 0; i &lt; len1; i++) { nums1[i] = pre.next.val; pre = pre.next; } // éå†l2é“¾è¡¨ int len2 = 0; dummyHead.next = l2; pre = dummyHead; while (null != pre.next) { len2++; pre = pre.next; } int[] nums2 = new int[len2]; // ä¿å­˜l2é“¾è¡¨çš„æ•°æ® pre = dummyHead; for (int i = 0; i &lt; len2; i++) { nums2[i] = pre.next.val; pre = pre.next; } int[] nums = new int[len1 + len2]; // å°†ä¸¤ä¸ªé“¾è¡¨çš„æ•°æ®æ•´åˆå¹¶æ’åº System.arraycopy(nums1, 0, nums, 0, len1); System.arraycopy(nums2, 0, nums, len1, len2); Arrays.sort(nums); // æ‹¼æ¥ä¸€ä¸ªé“¾è¡¨ ListNode dummy = new ListNode(-1); pre = dummy; for (int i = 0; i &lt; nums.length; i++) { ListNode node = new ListNode(nums[i]); pre.next = node; pre = pre.next; } return dummy.next; } 3.ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹é¢˜ç›®æè¿°ï¼šæ‰¾å‡ºä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ï¼› /** * æ±‚ä¸¤ä¸ªé“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ * * @param pHead1 é“¾è¡¨1å¤´ç»“ç‚¹ * @param pHead2 é“¾è¡¨2å¤´ç»“ç‚¹ * @return é“¾è¡¨ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ */ public ListNode FindFirstCommonNode(ListNode pHead1, ListNode pHead2) { // 1.æ­£ç¡®æ€§åˆ¤æ–­ if (null == pHead1 || null == pHead2) { return null; } // 2.éå†é“¾è¡¨1æŠŠæ‰€æœ‰ç»“ç‚¹ä¿å­˜åœ¨åˆ—è¡¨ä¸­ä¸­ Vector&lt;ListNode> nodeList1 = new Vector&lt;>(); while (null != pHead1) { nodeList1.add(pHead1); pHead1 = pHead1.next; // åˆ¤æ–­æ˜¯å¦æˆç¯ï¼Œæˆç¯åˆ™é€€å‡ºå¾ªç¯ if (nodeList1.contains(pHead1)) { break; } } // end whileï¼šé“¾è¡¨1ä¸­çš„æ‰€æœ‰ç»“ç‚¹éƒ½å­˜å…¥äº†nodeList1ä¸­ // 3.éå†é“¾è¡¨2æ¯”è¾ƒåˆ—è¡¨ä¸­çš„æ•°æ® Vector&lt;ListNode> nodeList2 = new Vector&lt;>(); while (null != pHead2) { // å…ˆåˆ¤æ–­nodeList1ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒç»“ç‚¹ï¼Œå­˜åœ¨åˆ™è¿”å› if (nodeList1.contains(pHead2)) { return pHead2; } // å¦‚æœä¸å­˜åœ¨åˆ™ç»§ç»­éå†ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦æˆç¯ nodeList2.add(pHead2); pHead2 = pHead2.next; if (nodeList2.contains(pHead2)) { break; } } // end whileï¼šéå†å®Œäº†é“¾è¡¨2å¹¶å°†æ‰€æœ‰ç»“ç‚¹ä¿å­˜åœ¨äº†nodeList2ä¸­ // å¦‚æœéå†å®Œé“¾è¡¨2åˆ™è¿”å›null return null; } éœ€è¦æ³¨æ„çš„ç»†èŠ‚æ˜¯ï¼šâ‘ æ­£ç¡®æ€§åˆ¤æ–­ï¼›â‘¡åˆ¤æ–­é“¾è¡¨æ˜¯å¦è‡ªå·±æˆç¯ï¼›â‘¢æ³¨é‡Šï¼›â‘£æ³¨æ„è¦è‡ªå·±å†™æµ‹è¯•ç”¨ä¾‹å•Šâ€¦ å¦å¤–è¿˜æœ‰ä¸€äº›ç±»ä¼¼çš„é¢˜ç›®åƒæ˜¯ï¼šâ‘ é“¾è¡¨å…¥ç¯ç»“ç‚¹ï¼›â‘¡é“¾è¡¨å€’æ•°ç¬¬kä¸ªç»“ç‚¹ï¼›ä¹‹ç±»çš„éƒ½æ˜¯éœ€è¦æŒæ¡çš„â€¦ 4.äºŒåˆ†æŸ¥æ‰¾ç®—æ³•äºŒåˆ†æŸ¥æ‰¾ä¹Ÿæ˜¯ä¸€ç±»æ¯”è¾ƒå¸¸è€ƒçš„é¢˜ç›®ï¼Œå…¶å®ä»£ç ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œç›´æ¥ä¸Šå§ï¼Œå†å†å†æé†’ä¸€ä¸‹ï¼šæ³¨æ„æ­£ç¡®æ€§åˆ¤æ–­è¿˜æœ‰æµ‹è¯•ç”¨ä¾‹â€¦ æ™®é€šå®ç°/** * äºŒåˆ†æŸ¥æ‰¾æ™®é€šå®ç°ã€‚ * * @param srcArray æœ‰åºæ•°ç»„ * @param key æŸ¥æ‰¾å…ƒç´  * @return ä¸å­˜åœ¨è¿”å›-1 */ public static int binSearch(int srcArray[], int key) { int mid; int start = 0; int end = srcArray.length - 1; while (start &lt;= end) { mid = (end - start) / 2 + start; if (key &lt; srcArray[mid]) { end = mid - 1; } else if (key > srcArray[mid]) { start = mid + 1; } else { return mid; } } return -1; } é€’å½’å®ç°/** * äºŒåˆ†æŸ¥æ‰¾é€’å½’å®ç°ã€‚ * * @param srcArray æœ‰åºæ•°ç»„ * @param start æ•°ç»„ä½åœ°å€ä¸‹æ ‡ * @param end æ•°ç»„é«˜åœ°å€ä¸‹æ ‡ * @param key æŸ¥æ‰¾å…ƒç´  * @return æŸ¥æ‰¾å…ƒç´ ä¸å­˜åœ¨è¿”å›-1 */ public static int binSearch(int srcArray[], int start, int end, int key) { int mid = (end - start) / 2 + start; if (srcArray[mid] == key) { return mid; } if (start >= end) { return -1; } else if (key > srcArray[mid]) { return binSearch(srcArray, mid + 1, end, key); } else if (key &lt; srcArray[mid]) { return binSearch(srcArray, start, mid - 1, key); } return -1; } 5.æ–æ³¢é‚£å¥‘æ•°åˆ—è¿™ä¹Ÿæ˜¯ä¸€é“å¾ˆç»å…¸çš„é¢˜ï¼Œé€šå¸¸æ˜¯è¦è¦æ±‚ N å€¼çš„èŒƒå›´çš„ï¼Œå¸¸è§„å†™æ³•åº”è¯¥å¾ˆç®€å•ï¼Œæ‰€ä»¥éœ€è¦æŒæ¡çš„æ˜¯ä¼˜åŒ–ä¹‹åçš„ç®—æ³•ï¼š public int Fibonacci(int n) { // æ­£ç¡®æ€§åˆ¤æ–­ if (0 == n || 1 == n) { return n; } int nums1 = 0, nums2 = 1; int res = 0; for (int i = 2; i &lt;= n; i++) { res = nums1 + nums2; nums1 = nums2; nums2 = res; } return res; } è¿˜æ˜¯æ³¨æ„æ­£ç¡®æ€§åˆ¤æ–­ç„¶åå†™æµ‹è¯•ç”¨ä¾‹â€¦ æ‰‹æ’•ä»£ç æ€»ç»“å¦‚æœç”¨æ‰‹å†™ä»£ç çš„è¯ï¼Œç¡®å®æ˜¯ä¸ªæŒºéº»çƒ¦çš„äº‹å„¿ï¼Œé¦–å…ˆéœ€è¦å¯¹ä»£ç æœ‰ç›¸å½“çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œç„¶åå…¶æ¬¡çš„è¯è€ƒå¯Ÿçš„éƒ½æ˜¯ä¸€äº›ç»†èŠ‚çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼š ç¼–ç è§„èŒƒï¼šåŒ…æ‹¬ä¸€äº›å‘½åçš„è§„èŒƒ/ æ³¨é‡Šçš„è§„èŒƒç­‰ç­‰ï¼› ç¼©è¿›ï¼šè¿™ä¸ªæˆ‘è‡ªå·±å€’æ˜¯æŒºåœ¨æ„çš„..å…³äºè¿™ä¸ªå¯ä»¥å»å‚è€ƒå‚è€ƒé˜¿é‡Œå‡ºçš„é‚£ä¸ªè§„èŒƒæ‰‹å†Œï¼› æ³¨é‡Šï¼šå¦‚æœå‘½åè§„èŒƒåšå¾—å¥½çš„è¯å…¶å®æ˜¯å¯ä»¥è¾¾åˆ°ä»£ç å³æ³¨é‡Šçš„ï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›éœ€è¦æ ‡æ³¨çš„åœ°æ–¹ä¾‹å¦‚å‡½æ•°å¤´ä¹‹ç±»çš„ï¼Œæœ€å¥½è¿˜æ˜¯åšå¥½æ³¨é‡Šï¼› ä»£ç çš„å®Œæ•´æ€§ï¼šæˆ‘è§‰å¾—è¿™ä¸ªåŒ…æ‹¬å¯¹äºé”™è¯¯çš„å¤„ç†/ æ­£ç¡®æ€§åˆ¤æ–­è¿™æ ·ä¸€ç±»çš„ä¸œè¥¿ï¼› æµ‹è¯•ç”¨ä¾‹ï¼šæ¯ä¸ªå‡½æ•°éƒ½éœ€è¦ä¸€å®šçš„æµ‹è¯•æ¥ä¿è¯å…¶æ­£ç¡®æ€§ï¼Œæ‰€ä»¥è¿™ä¸ªè¿˜æ˜¯æŒºæœ‰å¿…è¦çš„ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›è¾¹ç•Œæƒ…å†µï¼Œnull å€¼åˆ¤æ–­ä¹‹ç±»çš„ï¼› æƒ³å¥½å†ä¸‹ç¬”ï¼šè¿™ä¸€ç‚¹å…¶å®ä¹Ÿè›®é‡è¦çš„ï¼Œä¸ç®¡æ˜¯åœ¨çº¸ä¸Šè¿˜æ˜¯åœ¨æˆ‘ä»¬å¹³æ—¶çš„ç¼–ç¨‹ä¸­ï¼Œæ€è·¯æ°¸è¿œéƒ½æ˜¯æ›´é‡è¦çš„ï¼› è¯´æ¥è¯´å»è¿˜æ˜¯å…³äºä»£ç çš„äº‹ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯ç†æ¸…æ€è·¯æœ€é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ä¸€éä¸€éç†Ÿæ‚‰ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œç†ŸçŸ¥è¿™äº›ä»£ç çš„æ€è·¯ï¼Œåªæœ‰ææ¸…æ¥šè¿™äº›ä»£ç èƒŒåçš„åŸç†äº†ï¼Œæˆ‘ä»¬æ‰èƒ½æ­£ç¡®ä¸”å¿«é€Ÿçš„å†™å‡ºæˆ‘ä»¬å¿ƒä¸­æƒ³è¦çš„ä»£ç ï¼Œè€Œä¸æ˜¯ç®€å•çš„å»èƒŒè¯µï¼Œè¿™æ ·æ˜¯æ²¡æœ‰å¾ˆå¤§æ•ˆæœçš„ï¼Œä»¥ä¸Šâ€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"é¢è¯•","slug":"JavaåŸºç¡€/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java I/Oä¸è¿·èŒ«ï¼Œä¸€æ–‡ä¸ºæ‚¨å¯¼èˆªï¼","slug":"Java-I-Oä¸è¿·èŒ«ï¼Œä¸€æ–‡ä¸ºæ‚¨å¯¼èˆªï¼","date":"2018-08-14T23:01:00.000Z","updated":"2020-08-03T09:08:34.829Z","comments":true,"path":"2018/08/15/java-i-o-bu-mi-mang-yi-wen-wei-nin-dao-hang/","link":"","permalink":"http://www.wmyskxz.com/2018/08/15/java-i-o-bu-mi-mang-yi-wen-wei-nin-dao-hang/","excerpt":"","text":"å‰è¨€ï¼šåœ¨ä¹‹å‰çš„é¢è¯•ä¸­ï¼Œæ¯æ¯é—®åˆ°å…³äºJava I/O æ–¹é¢çš„ä¸œè¥¿éƒ½æ„Ÿè§‰è‡ªå·±åƒäº†å¤§äº..æ‰€ä»¥è¿™é‡ŒæŠ¢æ•‘ä¸€ä¸‹..æ¥æ·±å…¥çš„äº†è§£ä¸€ä¸‹åœ¨Javaä¹‹ä¸­çš„ I/O åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹..æ–‡ç« å¯èƒ½è¯´æ˜ç±»çš„æ–‡å­—æœ‰ç‚¹å„¿å¤šï¼Œå¸Œæœ›èƒ½è€å¿ƒè¯»å®Œ.. ä»€ä¹ˆæ˜¯ I/O?å­¦ä¹ è¿‡è®¡ç®—æœºç›¸å…³è¯¾ç¨‹çš„ç«¥é‹åº”è¯¥éƒ½çŸ¥é“ï¼ŒI/O å³è¾“å…¥Input/ è¾“å‡ºOutputçš„ç¼©å†™ï¼Œæœ€å®¹æ˜“è®©äººè”æƒ³åˆ°çš„å°±æ˜¯å±å¹•è¿™æ ·çš„è¾“å‡ºè®¾å¤‡ä»¥åŠé”®ç›˜é¼ æ ‡è¿™ä¸€ç±»çš„è¾“å…¥è®¾å¤‡ï¼Œå…¶å¹¿ä¹‰ä¸Šçš„å®šä¹‰å°±æ˜¯ï¼šæ•°æ®åœ¨å†…éƒ¨å­˜å‚¨å™¨å’Œå¤–éƒ¨å­˜å‚¨å™¨æˆ–å…¶ä»–å‘¨è¾¹è®¾å¤‡ä¹‹é—´çš„è¾“å…¥å’Œè¾“å‡ºï¼› æˆ‘ä»¬å¯ä»¥ä»å®šä¹‰ä¸Šçœ‹åˆ°é—®é¢˜çš„æ ¸å¿ƒå°±æ˜¯ï¼šæ•°æ®/ è¾“å…¥/ è¾“å‡ºï¼Œåœ¨Javaä¸­ï¼Œä¸»è¦å°±æ˜¯æ¶‰åŠåˆ°ç£ç›˜ I/O å’Œç½‘ç»œ I/O ä¸¤ç§äº†ï¼› ç®€å•ç†è§£Java æµï¼ˆStreamï¼‰é€šå¸¸æˆ‘ä»¬è¯´ I/O éƒ½ä¼šæ¶‰åŠåˆ°è¯¸å¦‚è¾“å…¥æµã€è¾“å‡ºæµè¿™æ ·çš„æ¦‚å¿µï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æµå‘¢ï¼Ÿæµæ˜¯ä¸€ä¸ªæŠ½è±¡ä½†å½¢è±¡çš„æ¦‚å¿µï¼Œä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªæ•°æ®çš„åºåˆ—ï¼Œè¾“å…¥æµè¡¨ç¤ºä»ä¸€ä¸ªæºè¯»å–æ•°æ®ï¼Œè¾“å‡ºæµåˆ™è¡¨ç¤ºå‘ä¸€ä¸ªç›®æ ‡å†™æ•°æ®ï¼Œåœ¨Javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯é‡‡ç”¨ â€œæµâ€ è¿™æ ·çš„æ–¹å¼è¿›è¡Œçš„ï¼Œå…¶è®¾å¤‡å¯ä»¥æ˜¯æ–‡ä»¶ã€ç½‘ç»œã€å†…å­˜ç­‰ï¼› æµå…·æœ‰æ–¹å‘æ€§ï¼Œè‡³äºæ˜¯è¾“å…¥æµè¿˜æ˜¯è¾“å‡ºæµåˆ™æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µï¼Œä¸€èˆ¬ä»¥ç¨‹åºä¸ºå‚è€ƒï¼Œå¦‚æœæ•°æ®çš„æµå‘æ˜¯ç¨‹åºè‡³è®¾å¤‡ï¼Œæˆ‘ä»¬æˆä¸ºè¾“å‡ºæµï¼Œåä¹‹æˆ‘ä»¬ç§°ä¸ºè¾“å…¥æµã€‚ å¯ä»¥å°†æµæƒ³è±¡æˆä¸€ä¸ªâ€œæ°´æµç®¡é“â€ï¼Œæ°´æµå°±åœ¨è¿™ç®¡é“ä¸­å½¢æˆäº†ï¼Œè‡ªç„¶å°±å‡ºç°äº†æ–¹å‘çš„æ¦‚å¿µã€‚ â€œæµâ€ï¼Œä»£è¡¨äº†ä»»ä½•æœ‰èƒ½åŠ›äº§å‡ºæ•°æ®çš„æ•°æ®æºå¯¹è±¡æˆ–æœ‰èƒ½åŠ›æ¥å—æ•°æ®çš„æ¥æ”¶ç«¯å¯¹è±¡ï¼Œå®ƒå±è”½äº†å®é™…çš„ I/O è®¾å¤‡ä¸­å¤„ç†æ•°æ®çš„ç»†èŠ‚â€”â€”æ‘˜è‡ªã€ŠThink in Javaã€‹ å‚è€ƒèµ„æ–™ï¼šæ·±å…¥ç†è§£ Javaä¸­çš„ æµ (Stream)ï¼šhttps://www.cnblogs.com/shitouer/archive/2012/12/19/2823641.html Javaä¸­çš„ I/O ç±»åº“çš„åŸºæœ¬æ¶æ„I/O é—®é¢˜æ˜¯ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æ— æ³•å›é¿çš„é—®é¢˜ï¼Œå› ä¸º I/O æ“ä½œæ˜¯äººæœºäº¤äº’çš„æ ¸å¿ƒï¼Œæ˜¯æœºå™¨è·å–å’Œäº¤æ¢ä¿¡æ¯çš„ä¸»è¦æ¸ é“ï¼Œæ‰€ä»¥å¦‚ä½•è®¾è®¡ I/O ç³»ç»Ÿå˜æˆäº†ä¸€å¤§éš¾é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å½“ä»Šå¤§æµé‡å¤§æ•°æ®çš„æ—¶ä»£ï¼ŒI/O é—®é¢˜å°¤å…¶çªå‡ºï¼Œå¾ˆå®¹æ˜“ç§°ä¸ºä¸€ä¸ªæ€§èƒ½çš„ç“¶é¢ˆï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨ I/O åº“ä¸Šä¹Ÿä¸€ç›´åœ¨åšæŒç»­çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚JDK1.4å¼•å…¥çš„ NIOï¼ŒJDK1.7å¼•å…¥çš„ NIO 2.0ï¼Œéƒ½ä¸€å®šç¨‹åº¦ä¸Šçš„æå‡äº† I/O çš„æ€§èƒ½ï¼› Javaçš„ I/O æ“ä½œç±»åœ¨åŒ… java.ioä¸‹ï¼Œæœ‰å°†è¿‘80ä¸ªç±»ï¼Œè¿™äº›ç±»å¤§æ¦‚å¯ä»¥åˆ†æˆå¦‚ä¸‹ 4 ç»„ï¼š åŸºäºå­—èŠ‚æ“ä½œçš„ I/O æ¥å£ï¼šInputStream å’Œ OutputStreamï¼› åŸºäºå­—ç¬¦æ“ä½œçš„ I/O æ¥å£ï¼šWriter å’Œ Readerï¼› åŸºäºç£ç›˜æ“ä½œçš„ I/O æ¥å£ï¼šFileï¼› åŸºäºç½‘ç»œæ“ä½œçš„ I/O æ¥å£ï¼šSocketï¼› å‰ä¸¤ç»„ä¸»è¦æ˜¯ä¼ è¾“æ•°æ®çš„æ•°æ®æ ¼å¼ï¼Œåä¸¤ç»„ä¸»è¦æ˜¯ä¼ è¾“æ•°æ®çš„æ–¹å¼ï¼Œè™½ç„¶Socketç±»å¹¶ä¸åœ¨java.ioåŒ…ä¸‹ï¼Œä½†è¿™é‡Œä»ç„¶æŠŠå®ƒä»¬åˆ’åˆ†åœ¨äº†ä¸€èµ·ï¼›I/O åªæ˜¯äººæœºäº¤äº’çš„ä¸€ç§æ‰‹æ®µï¼Œé™¤äº†å®ƒä»¬èƒ½å¤Ÿå®Œæˆè¿™ä¸ªäº¤äº’åŠŸèƒ½å¤–ï¼Œæˆ‘ä»¬æ›´å¤šçš„åº”è¯¥æ˜¯å…³æ³¨å¦‚ä½•æé«˜å®ƒçš„è¿è¡Œæ•ˆç‡ï¼› 00.åŸºäºå­—èŠ‚çš„ I/O æ“ä½œæ¥å£åŸºäºå­—èŠ‚çš„ I/O æ“ä½œçš„æ¥å£è¾“å…¥å’Œè¾“å‡ºåˆ†åˆ«å¯¹åº”æ˜¯ InputStream å’Œ OutputStreamï¼ŒInputStream çš„ç±»å±‚æ¬¡ç»“æ„å¦‚ä¸‹å›¾ï¼š è¾“å…¥æµæ ¹æ®æ•°æ®ç±»å‹å’Œæ“ä½œæ–¹å¼åˆè¢«åˆ’åˆ†æˆè‹¥å¹²ä¸ªå­ç±»ï¼Œæ¯ä¸ªå­ç±»åˆ†åˆ«å¤„ç†ä¸åŒæ“ä½œç±»å‹ï¼ŒOutputStream è¾“å‡ºæµçš„ç±»å±‚æ¬¡ç»“æ„ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™é‡Œå°±ä¸è¯¦ç»†è§£é‡Šæ¯ä¸ªå­ç±»å¦‚ä½•ä½¿ç”¨äº†ï¼Œå¦‚æœæ„Ÿå…´è¶£å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹JDKçš„æºç ï¼Œè€Œä¸”çš„è¯ä»ç±»åä¹Ÿèƒ½å¤§è‡´çœ‹å‡ºä¸€äºŒè¯¥ç±»æ˜¯åœ¨å¤„ç†æ€æ ·çš„ä¸€äº›ä¸œè¥¿..è¿™é‡Œéœ€è¦è¯´æ˜ä¸¤ç‚¹ï¼š 1ï¼‰æ“ä½œæ•°æ®çš„æ–¹å¼æ˜¯å¯ä»¥ç»„åˆä½¿ç”¨çš„ï¼š ä¾‹å¦‚ï¼š OutputStream out = new BufferedOutputStream(new ObjectOutputStream(new FileOutputStream(\"fileName\"))ï¼› 2ï¼‰å¿…é¡»è¦æŒ‡å®šæµæœ€ç»ˆå†™åˆ°ä»€ä¹ˆåœ°æ–¹ï¼š è¦ä¹ˆæ˜¯å†™åˆ°ç£ç›˜ï¼Œè¦ä¹ˆæ˜¯å†™åˆ°ç½‘ç»œä¸­ï¼Œä½†é‡ç‚¹æ˜¯ä½ å¿…é¡»è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè€Œä¸”ä½ ä¼šå‘ç°å…¶å®SocketOutputStreamæ˜¯å±äºFileOutputStreamä¸‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å†™ç½‘ç»œå®é™…ä¸Šä¹Ÿæ˜¯å†™æ–‡ä»¶ï¼Œåªä¸è¿‡å†™ç½‘ç»œè¿˜æœ‰ä¸€æ­¥éœ€è¦å¤„ç†ï¼Œå°±æ˜¯è®©åº•å±‚çš„æ“ä½œç³»ç»ŸçŸ¥é“æˆ‘è¿™ä¸ªæ•°æ®æ˜¯éœ€è¦ä¼ é€åˆ°å…¶ä»–åœ°æ–¹è€Œä¸æ˜¯æœ¬åœ°ç£ç›˜ä¸Šçš„ï¼› 01.åŸºäºå­—ç¬¦çš„ I/O æ“ä½œæ¥å£ä¸ç®¡æ˜¯ç£ç›˜è¿˜æ˜¯ç½‘ç»œä¼ è¾“ï¼Œæœ€å°çš„å­˜å‚¨å•å…ƒéƒ½æ˜¯å­—èŠ‚ï¼Œè€Œä¸æ˜¯å­—ç¬¦ï¼Œæ‰€ä»¥ I/O æ“ä½œçš„éƒ½æ˜¯å­—èŠ‚è€Œä¸æ˜¯å­—ç¬¦ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬æ—¥å¸¸çš„ç¨‹åºä¸­æ“ä½œçš„æ•°æ®å‡ ä¹éƒ½æ˜¯å­—ç¬¦ï¼Œæ‰€ä»¥ä¸ºäº†æ“ä½œæ–¹ä¾¿å½“ç„¶è¦æä¾›ä¸€ä¸ªå¯ä»¥ç›´æ¥å†™å­—ç¬¦çš„ I/O æ¥å£ã€‚è€Œä¸”ä»å­—ç¬¦åˆ°å­—èŠ‚å¿…é¡»ç»è¿‡ç¼–ç è½¬æ¢ï¼Œè€Œè¿™ä¸ªç¼–ç åˆéå¸¸è€—æ—¶ï¼Œè¿˜ç»å¸¸å‡ºç°ä¹±ç çš„é—®é¢˜ï¼Œæ‰€ä»¥ I/O çš„ç¼–ç é—®é¢˜ç»å¸¸æ˜¯è®©äººå¤´ç–¼çš„é—®é¢˜ï¼Œå…³äºè¿™ä¸ªé—®é¢˜æœ‰ä¸€ç¯‡æ·±åº¦å¥½æ–‡æ¨èä¸€ä¸‹ï¼šã€Šæ·±å…¥åˆ†æ Java ä¸­çš„ä¸­æ–‡ç¼–ç é—®é¢˜ã€‹ ä¸‹å›¾æ˜¯å†™å­—ç¬¦çš„ I/O æ“ä½œæ¥å£æ¶‰åŠåˆ°çš„ç±»ï¼ŒWriter ç±»æä¾›äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³• write(char cbuf[], int off, int len) ç”±å­ç±»å»å®ç°ï¼š è¯»å­—ç¬¦çš„æ“ä½œæ¥å£ä¹Ÿæœ‰ç±»ä¼¼çš„ç±»ç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¯»å­—ç¬¦çš„æ“ä½œæ¥å£ä¸­ä¹Ÿæ˜¯ int read(char cbuf[], int off, int len)ï¼Œè¿”å›è¯»åˆ°çš„ n ä¸ªå­—èŠ‚æ•°ï¼Œä¸ç®¡æ˜¯ Writer è¿˜æ˜¯ Reader ç±»å®ƒä»¬éƒ½åªå®šä¹‰äº†è¯»å–æˆ–å†™å…¥çš„æ•°æ®å­—ç¬¦çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æ€ä¹ˆå†™æˆ–è¯»ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è§„å®šæ•°æ®è¦å†™åˆ°å“ªå»ï¼Œå†™åˆ°å“ªå»å°±æ˜¯æˆ‘ä»¬åé¢è¦è®¨è®ºçš„åŸºäºç£ç›˜å’Œç½‘ç»œçš„å·¥ä½œæœºåˆ¶ã€‚ 01.å­—èŠ‚ä¸å­—ç¬¦çš„è½¬åŒ–æ¥å£å¦å¤–æ•°æ®æŒä¹…åŒ–æˆ–ç½‘ç»œä¼ è¾“éƒ½æ˜¯ä»¥å­—èŠ‚è¿›è¡Œçš„ï¼Œæ‰€ä»¥å¿…é¡»è¦æœ‰å­—ç¬¦åˆ°å­—èŠ‚æˆ–å­—èŠ‚åˆ°å­—ç¬¦çš„è½¬åŒ–ã€‚å­—ç¬¦åˆ°å­—èŠ‚éœ€è¦è½¬åŒ–ï¼Œå…¶ä¸­è¯»çš„è½¬åŒ–è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š InputStreamReader ç±»æ˜¯å­—èŠ‚åˆ°å­—ç¬¦çš„è½¬åŒ–æ¡¥æ¢ï¼ŒInputStream åˆ° Reader çš„è¿‡ç¨‹è¦æŒ‡å®šç¼–ç å­—ç¬¦é›†ï¼Œå¦åˆ™å°†é‡‡ç”¨æ“ä½œç³»ç»Ÿé»˜è®¤å­—ç¬¦é›†ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ä¹±ç é—®é¢˜ã€‚StreamDecoder æ­£æ˜¯å®Œæˆå­—èŠ‚åˆ°å­—ç¬¦çš„è§£ç çš„å®ç°ç±»ã€‚ä¹Ÿå°±æ˜¯å½“ä½ ç”¨å¦‚ä¸‹æ–¹å¼è¯»å–ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼š try { StringBuffer str = new StringBuffer(); char[] buf = new char[1024]; FileReader f = new FileReader(\"file\"); while(f.read(buf)>0){ str.append(buf); } str.toString(); } catch (IOException e) {} FileReader ç±»å°±æ˜¯æŒ‰ç…§ä¸Šé¢çš„å·¥ä½œæ–¹å¼è¯»å–æ–‡ä»¶çš„ï¼ŒFileReader æ˜¯ç»§æ‰¿äº† InputStreamReader ç±»ï¼Œå®é™…ä¸Šæ˜¯è¯»å–æ–‡ä»¶æµï¼Œç„¶åé€šè¿‡ StreamDecoder è§£ç æˆ charï¼Œåªä¸è¿‡è¿™é‡Œçš„è§£ç å­—ç¬¦é›†æ˜¯é»˜è®¤å­—ç¬¦é›†ã€‚ å†™å…¥ä¹Ÿæ˜¯ç±»ä¼¼çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š é€šè¿‡ OutputStreamWriter ç±»å®Œæˆï¼Œå­—ç¬¦åˆ°å­—èŠ‚çš„ç¼–ç è¿‡ç¨‹ï¼Œç”± StreamEncoder å®Œæˆç¼–ç è¿‡ç¨‹ã€‚ ç£ç›˜ I/O çš„å·¥ä½œæœºåˆ¶åœ¨ä»‹ç» Java è¯»å–å’Œå†™å…¥ç£ç›˜æ–‡ä»¶ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹åº”ç”¨ç¨‹åºè®¿é—®æ–‡ä»¶æœ‰å“ªå‡ ç§æ–¹å¼ï¼› å‡ ç§è®¿é—®æ–‡ä»¶çš„æ–¹å¼æˆ‘ä»¬çŸ¥é“ï¼Œè¯»å–å’Œå†™å…¥æ–‡ä»¶ I/O æ“ä½œéƒ½è°ƒç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿæä¾›ç»™æˆ‘ä»¬çš„æ¥å£ï¼Œå› ä¸ºç£ç›˜è®¾å¤‡æ˜¯å½’æ“ä½œç³»ç»Ÿç®¡çš„ï¼Œè€Œåªè¦æ˜¯ç³»ç»Ÿè°ƒç”¨éƒ½å¯èƒ½å­˜åœ¨å†…æ ¸ç©ºé—´åœ°å€å’Œç”¨æˆ·ç©ºé—´åœ°å€åˆ‡æ¢çš„é—®é¢˜ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·è¿›ç¨‹ä¸èƒ½ç›´æ¥æ“ä½œå†…æ ¸ï¼Œä¿è¯å†…æ ¸çš„å®‰å…¨è€Œè®¾è®¡çš„ï¼Œç°ä»£çš„æ“ä½œç³»ç»Ÿå°†è™šæ‹Ÿç©ºé—´åˆ’åˆ†æˆäº†å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ä¸¤éƒ¨åˆ†å¹¶å®ç°äº†éš”ç¦»ï¼Œä½†æ˜¯è¿™æ ·è™½ç„¶ä¿è¯äº†å†…æ ¸ç¨‹åºè¿è¡Œçš„å®‰å…¨æ€§ï¼Œä½†æ˜¯ä¹Ÿå¿…ç„¶å­˜åœ¨æ•°æ®å¯èƒ½éœ€è¦ä»å†…æ ¸ç©ºé—´å‘ç”¨æˆ·ç”¨æˆ·ç©ºé—´å¤åˆ¶çš„é—®é¢˜ï¼› å¦‚æœé‡åˆ°éå¸¸è€—æ—¶çš„æ“ä½œï¼Œå¦‚ç£ç›˜ I/Oï¼Œæ•°æ®ä»ç£ç›˜å¤åˆ¶åˆ°å†…æ ¸ç©ºé—´ï¼Œç„¶ååˆä»å†…æ ¸ç©ºé—´å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå°†ä¼šéå¸¸è€—æ—¶ï¼Œè¿™æ—¶æ“ä½œç³»ç»Ÿä¸ºäº†åŠ é€Ÿ I/O è®¿é—®ï¼Œåœ¨å†…æ ¸ç©ºé—´ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯å°†ä»ç£ç›˜è¯»å–çš„æ–‡ä»¶æŒ‰ç…§ä¸€å®šçš„ç»„ç»‡æ–¹å¼è¿›è¡Œç¼“å­˜ï¼Œå…¥è‚¡ç”¨æˆ·ç¨‹åºè®¿é—®çš„æ˜¯åŒä¸€æ®µç£ç›˜åœ°å€çš„ç©ºé—´æ•°æ®ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå°†ä»å†…æ ¸ç¼“å­˜ä¸­ç›´æ¥å–å‡ºè¿”å›ç»™ç”¨æˆ·ç¨‹åºï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘ I/O çš„å“åº”æ—¶é—´ï¼› 00. æ ‡å‡†è®¿é—®æ–‡ä»¶çš„æ–¹å¼ è¯»å–çš„æ–¹å¼æ˜¯ï¼Œå½“åº”ç”¨ç¨‹åºè°ƒç”¨read()æ¥å£æ—¶ï¼š â‘ æ“ä½œç³»ç»Ÿé¦–å…ˆæ£€æŸ¥åœ¨å†…æ ¸çš„é«˜é€Ÿç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨éœ€è¦çš„æ•°æ®ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›ï¼› â‘¡å¦‚æœæ²¡æœ‰ï¼Œåˆ™ä»ç£ç›˜ä¸­è¯»å–ï¼Œç„¶åç¼“å­˜åœ¨æ“ä½œç³»ç»Ÿçš„ç¼“å­˜ä¸­ï¼› å†™å…¥çš„æ–¹å¼æ˜¯ï¼Œå½“åº”ç”¨ç¨‹åºè°ƒç”¨write()æ¥å£æ—¶ï¼š ä»ç”¨æˆ·åœ°å€ç©ºé—´å¤åˆ¶åˆ°å†…æ ¸åœ°å€ç©ºé—´çš„ç¼“å­˜ä¸­ï¼Œè¿™æ—¶å¯¹ç”¨æˆ·ç¨‹åºæ¥è¯´å†™æ“ä½œå°±å·²ç»å®Œæˆäº†ï¼Œè‡³äºä»€ä¹ˆæ—¶å€™åœ¨å†™åˆ°ç£ç›˜ä¸­ç”±æ“ä½œç³»ç»Ÿå†³å®šï¼Œé™¤éæ˜¾ç¤ºåœ°è°ƒç”¨äº† sync åŒæ­¥å‘½ä»¤ï¼› 01.ç›´æ¥ I/O æ–¹å¼ æ‰€è°“çš„ç›´æ¥ I/O çš„æ–¹å¼å°±æ˜¯åº”ç”¨ç¨‹åºç›´æ¥è®¿é—®ç£ç›˜æ•°æ®ï¼Œè€Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿå†…æ ¸æ•°æ®ç¼“å†²åŒºï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯å‡å°‘ä¸€æ¬¡ä»å†…æ ¸ç¼“å†²åŒºåˆ°ç”¨æˆ·ç¨‹åºç¼“å­˜çš„æ•°æ®å¤åˆ¶ï¼› è¿™ç§è®¿é—®æ–‡ä»¶çš„æ–¹å¼é€šå¸¸æ˜¯åœ¨å¯¹æ•°æ®çš„ç¼“å­˜ç®¡ç†ç”±åº”ç”¨ç¨‹åºå®ç°çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¦‚åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿæ˜ç¡®åœ°çŸ¥é“åº”è¯¥ç¼“å­˜å“ªäº›æ•°æ®ï¼Œåº”è¯¥å¤±æ•ˆå“ªäº›æ•°æ®ï¼Œè¿˜å¯ä»¥å¯¹ä¸€äº›çƒ­ç‚¹æ•°æ®åšé¢„åŠ è½½ï¼Œæå‰å°†çƒ­ç‚¹æ•°æ®åŠ è½½åˆ°å†…å­˜ï¼Œå¯ä»¥åŠ é€Ÿæ•°æ®çš„è®¿é—®æ•ˆç‡ï¼Œè€Œè¿™äº›æƒ…å†µå¦‚æœæ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿè¿›è¡Œç¼“å­˜ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå°†ä¸çŸ¥é“å“ªäº›æ•°æ®æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œå“ªäº›æ˜¯åªä¼šè®¿é—®ä¸€æ¬¡çš„æ•°æ®ï¼Œå› ä¸ºå®ƒåªæ˜¯ç®€å•çš„ç¼“å­˜æœ€è¿‘ä¸€æ¬¡ä»ç£ç›˜è¯»å–çš„æ•°æ®è€Œå·²ï¼› ä½†æ˜¯ç›´æ¥ I/O ä¹Ÿæœ‰è´Ÿé¢å½±å“ï¼Œå¦‚æœè®¿é—®çš„æ•°æ®ä¸å†åº”ç”¨ç¨‹åºç¼“å­˜ä¹‹ä¸­ï¼Œé‚£ä¹ˆæ¯æ¬¡æ•°æ®éƒ½ä¼šç›´æ¥ä»ç£ç›˜è¿›è¡ŒåŠ è½½ï¼Œè¿™ç§ç›´æ¥åŠ è½½ä¼šéå¸¸ç¼“æ…¢ï¼Œå› æ­¤ç›´æ¥ I/O é€šå¸¸ä¸ å¼‚æ­¥ I/O è¿›è¡Œç»“åˆä»¥è¾¾åˆ°æ›´å¥½çš„æ€§èƒ½ï¼› 10.å†…å­˜æ˜ å°„çš„æ–¹å¼ å†…å­˜æ˜ å°„æ˜¯æŒ‡å°†ç¡¬ç›˜ä¸Šæ–‡ä»¶çš„ä½ç½®ä¸è¿›ç¨‹é€»è¾‘åœ°å€ç©ºé—´ä¸­ä¸€å—å¤§å°ç›¸åŒçš„åŒºåŸŸä¸€ä¸€å¯¹åº”ï¼Œå½“è¦è®¿é—®å†…å­˜ä¸­ä¸€æ®µæ•°æ®æ—¶ï¼Œè½¬æ¢ä¸ºè®¿é—®æ–‡ä»¶çš„æŸä¸€æ®µæ•°æ®ã€‚è¿™ç§æ–¹å¼çš„ç›®çš„åŒæ ·æ˜¯å‡å°‘æ•°æ®åœ¨ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ä¹‹é—´çš„æ‹·è´æ“ä½œã€‚å½“å¤§é‡æ•°æ®éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œé‡‡ç”¨å†…å­˜æ˜ å°„æ–¹å¼å»è®¿é—®æ–‡ä»¶ä¼šè·å¾—æ¯”è¾ƒå¥½çš„æ•ˆç‡ã€‚ åŒæ­¥å’Œå¼‚æ­¥è®¿é—®æ–‡ä»¶çš„æ–¹å¼å¦å¤–è¿˜æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æ•°æ®çš„è¯»å–å’Œå†™å…¥éƒ½æ˜¯åŒæ­¥æ“ä½œçš„åŒæ­¥æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯æ˜¯å½“è®¿é—®æ•°æ®çš„çº¿ç¨‹å‘å‡ºè¯·æ±‚ä¹‹åï¼Œçº¿ç¨‹ä¼šæ¥ç€å»å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œè€Œä¸æ˜¯é˜»å¡ç­‰å¾…çš„å¼‚æ­¥è®¿é—®æ–¹å¼ï¼Œä½†ä»ç¬”è€…å°±ã€Šæ·±å…¥åˆ†æ Java WebæŠ€æœ¯å†…å¹•ã€‹ä¸€ä¹¦ä¸­çš„å†…å®¹æ¥çœ‹ï¼Œè¿™ä¸¤ç§æ–¹å¼æ›´åƒæ˜¯å¯¹æ ‡å‡†è®¿é—®æ–¹å¼çš„ä¸€ä¸ªå…·ä½“è¯´æ˜ï¼Œæ˜¯æ ‡å‡†è®¿é—®æ–¹å¼å¯¹åº”çš„ä¸¤ç§ä¸åŒå¤„ç†æ–¹æ³•ï¼ŒçŸ¥é“å°±å¥½äº†â€¦ Java è®¿é—®ç£ç›˜æ–‡ä»¶æˆ‘ä»¬çŸ¥é“æ•°æ®åœ¨ç£ç›˜çš„å”¯ä¸€æœ€å°æè¿°å°±æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šå±‚åº”ç”¨ç¨‹åºåªèƒ½é€šè¿‡æ–‡ä»¶æ¥æ“ä½œç£ç›˜ä¸Šçš„æ•°æ®ï¼Œæ–‡ä»¶ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿå’Œç£ç›˜é©±åŠ¨å™¨äº¤äº’çš„ä¸€ä¸ªæœ€å°å•å…ƒã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ Java ä¸­é€šå¸¸çš„ File å¹¶ä¸ä»£è¡¨ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶å¯¹è±¡ï¼Œå½“ä½ é€šè¿‡æŒ‡å®šä¸€ä¸ªè·¯å¾„æè¿°ç¬¦æ—¶ï¼Œå®ƒå°±ä¼šè¿”å›ä¸€ä¸ªä»£è¡¨è¿™ä¸ªè·¯å¾„ç›¸å…³è”çš„ä¸€ä¸ªè™šæ‹Ÿå¯¹è±¡ï¼Œè¿™ä¸ªå¯èƒ½æ˜¯ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªæ–‡ä»¶çš„ç›®å½•ã€‚ä¸ºä½•è¦è¿™æ ·è®¾è®¡ï¼Ÿå› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒè¿™ä¸ªæ–‡ä»¶æ˜¯å¦çœŸçš„å­˜åœ¨ï¼Œè€Œæ˜¯å…³å¿ƒè¿™ä¸ªæ–‡ä»¶åˆ°åº•å¦‚ä½•æ“ä½œã€‚ä¾‹å¦‚æˆ‘ä»¬æ‰‹æœºé‡Œé€šå¸¸å­˜äº†å‡ ç™¾ä¸ªæœ‹å‹çš„ç”µè¯å·ç ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸å…³å¿ƒçš„æ˜¯æˆ‘æœ‰æ²¡æœ‰è¿™ä¸ªæœ‹å‹çš„ç”µè¯å·ç ï¼Œæˆ–è€…è¿™ä¸ªç”µè¯å·ç æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯è¿™ä¸ªç”µè¯å·ç åˆ°åº•èƒ½ä¸èƒ½æ‰“é€šï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯æ—¶æ—¶åˆ»åˆ»éƒ½å»æ£€æŸ¥ï¼Œè€Œåªæœ‰åœ¨çœŸæ­£è¦ç»™ä»–æ‰“ç”µè¯æ—¶æ‰ä¼šçœ‹è¿™ä¸ªç”µè¯èƒ½ä¸èƒ½ç”¨ã€‚ä¹Ÿå°±æ˜¯ä½¿ç”¨è¿™ä¸ªç”µè¯è®°å½•è¦æ¯”æ‰“è¿™ä¸ªç”µè¯çš„æ¬¡æ•°å¤šå¾ˆå¤šã€‚ ä½•æ—¶çœŸæ­£ä¼šè¦æ£€æŸ¥ä¸€ä¸ªæ–‡ä»¶å­˜ä¸å­˜ï¼Ÿå°±æ˜¯åœ¨çœŸæ­£è¦è¯»å–è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œä¾‹å¦‚ FileInputStream ç±»éƒ½æ˜¯æ“ä½œä¸€ä¸ªæ–‡ä»¶çš„æ¥å£ï¼Œæ³¨æ„åˆ°åœ¨åˆ›å»ºä¸€ä¸ª FileInputStream å¯¹è±¡æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª FileDescriptor å¯¹è±¡ï¼Œå…¶å®è¿™ä¸ªå¯¹è±¡å°±æ˜¯çœŸæ­£ä»£è¡¨ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶å¯¹è±¡çš„æè¿°ï¼Œå½“æˆ‘ä»¬åœ¨æ“ä½œä¸€ä¸ªæ–‡ä»¶å¯¹è±¡æ—¶å¯ä»¥é€šè¿‡ getFD() æ–¹æ³•è·å–çœŸæ­£æ“ä½œçš„ä¸åº•å±‚æ“ä½œç³»ç»Ÿå…³è”çš„æ–‡ä»¶æè¿°ã€‚ä¾‹å¦‚å¯ä»¥è°ƒç”¨ FileDescriptor.sync() æ–¹æ³•å°†æ“ä½œç³»ç»Ÿç¼“å­˜ä¸­çš„æ•°æ®å¼ºåˆ¶åˆ·æ–°åˆ°ç‰©ç†ç£ç›˜ä¸­ã€‚ ä¸‹é¢ä»¥ä¸Šæ–‡è¯»å–æ–‡ä»¶çš„ç¨‹åºä¸ºä¾‹ï¼Œä»‹ç»ä¸‹å¦‚ä½•ä»ç£ç›˜è¯»å–ä¸€æ®µæ–‡æœ¬å­—ç¬¦ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å½“ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œå°†ä¼šæ ¹æ®è¿™ä¸ªè·¯å¾„åˆ›å»ºä¸€ä¸ª File å¯¹è±¡æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå°†ä¼šæ ¹æ®è¿™ä¸ª File å¯¹è±¡åˆ›å»ºçœŸæ­£è¯»å–æ–‡ä»¶çš„æ“ä½œå¯¹è±¡ï¼Œè¿™æ—¶å°†ä¼šçœŸæ­£åˆ›å»ºä¸€ä¸ªå…³è”çœŸå®å­˜åœ¨çš„ç£ç›˜æ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ FileDescriptorï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥ç›´æ¥æ§åˆ¶è¿™ä¸ªç£ç›˜æ–‡ä»¶ã€‚ç”±äºæˆ‘ä»¬éœ€è¦è¯»å–çš„æ˜¯å­—ç¬¦æ ¼å¼ï¼Œæ‰€ä»¥éœ€è¦ StreamDecoder ç±»å°† byte è§£ç ä¸º char æ ¼å¼ï¼Œè‡³äºå¦‚ä½•ä»ç£ç›˜é©±åŠ¨å™¨ä¸Šè¯»å–ä¸€æ®µæ•°æ®ï¼Œç”±æ“ä½œç³»ç»Ÿå¸®æˆ‘ä»¬å®Œæˆã€‚è‡³äºæ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä»¥åŠå¦‚ä½•å»ºç«‹æ•°æ®ç»“æ„éœ€è¦æ ¹æ®å½“å‰æ“ä½œç³»ç»Ÿä½¿ç”¨ä½•ç§æ–‡ä»¶ç³»ç»Ÿæ¥å›ç­”ï¼Œè‡³äºæ–‡ä»¶ç³»ç»Ÿçš„ç›¸å…³ç»†èŠ‚å¯ä»¥å‚è€ƒå¦å¤–çš„æ–‡ç« ã€‚ å‚è€ƒæ–‡ç« ï¼šæ·±å…¥åˆ†æ Java I/O çš„å·¥ä½œæœºåˆ¶å…³äºè¿™ä¸€partï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£ä¸€ä¸‹å°±å¯ä»¥ï¼Œæˆ‘ä¹Ÿæ˜¯ç›´æ¥å¤åˆ¶å°±å®Œäº‹å„¿â€¦ Java åºåˆ—åŒ–æŠ€æœ¯Javaåºåˆ—åŒ–å°±æ˜¯å°†ä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆä¸€ä¸²äºŒè¿›åˆ¶è¡¨ç¤ºçš„å­—èŠ‚æ•°ç»„ï¼Œé€šè¿‡ä¿å­˜æˆ–è½¬ç§»è¿™äº›å­—èŠ‚æ•°æ®æ¥è¾¾åˆ°æŒä¹…åŒ–çš„ç›®çš„ã€‚éœ€è¦æŒä¹…åŒ–ï¼Œå¯¹è±¡å¿…é¡»ç»§æ‰¿ java.io.Serializable æ¥å£ï¼Œæˆ–è€…å°†å…¶è½¬ä¸ºå­—èŠ‚æ•°ç»„ï¼Œç”¨äºç½‘ç»œä¼ è¾“ï¼› ä¸€ä¸ªå®é™…çš„åºåˆ—åŒ–ä¾‹å­ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªç”¨äºåºåˆ—åŒ–çš„å¯¹è±¡ ä¸ºäº†å…·ä½“è¯´æ˜åºåˆ—åŒ–åœ¨Javaä¸­æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥å†™ä¸€ä¸ªç”¨äºåºåˆ—åŒ–çš„å¯¹è±¡ï¼Œç„¶åå®ç°ä¸Šè¿°çš„æ¥å£ï¼š /** * ç”¨äºæ¼”ç¤ºJavaä¸­åºåˆ—åŒ–çš„å·¥ä½œæµç¨‹... * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-08-15-ä¸‹åˆ 14:37 */ public class People implements Serializable{ public String name; public transient int age; public void sayHello() { System.out.println(\"Hello,My Name is \" + name); } } æ³¨æ„ï¼šä¸€ä¸ªç±»çš„å¯¹è±¡æƒ³è¦åºåˆ—åŒ–æˆåŠŸï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ â‘ å®ç°ä¸Šè¿°çš„æ¥å£ï¼› â‘¡ä¿è¯è¯¥ç±»çš„æ‰€æœ‰å±æ€§å¿…é¡»éƒ½æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¦‚æœä¸å¸Œæœ›æŸä¸ªå±æ€§åºåˆ—åŒ–ï¼ˆä¾‹å¦‚ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œå¯ä»¥åŠ ä¸Štransientå…³é”®å­—ï¼› ç¬¬äºŒæ­¥ï¼šåºåˆ—åŒ–å¯¹è±¡ å¦‚ä¸‹çš„ä»£ç å®Œæˆäº†å®ä¾‹åŒ–ä¸€ä¸ª People å¯¹è±¡å¹¶å…¶åºåˆ—åŒ–åˆ°Dç›˜çš„æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªæ“ä½œï¼Œè¿™é‡Œå‘¢æŒ‰ç…§ Java çš„æ ‡å‡†çº¦å®šå°†æ–‡ä»¶çš„åç¼€å†™æˆ .ser çš„æ ·å­ï¼Œä½ ä¹Ÿå¯ä»¥å†™æˆå…¶ä»–çš„â€¦ People people = new People(); people.name = \"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"; people.age = 21; try { FileOutputStream fileOutputStream = new FileOutputStream(\"D:/people.ser\"); ObjectOutputStream out = new ObjectOutputStream(fileOutputStream); out.writeObject(people); out.close(); fileOutputStream.close(); System.out.println(\"Serialized data is saved in D:/\"); } catch (IOException e) { e.printStackTrace(); } ç¬¬ä¸‰æ­¥ï¼šååºåˆ—åŒ–å¯¹è±¡ ä¸‹é¢çš„ç¨‹åºå®Œæˆäº†å¯¹åˆšæ‰æˆ‘ä»¬åºåˆ—åŒ–çš„æ–‡ä»¶è¿˜åŸæˆä¸€ä¸ªPeopleå¯¹è±¡çš„è¿‡ç¨‹ï¼Œå¹¶è·å–äº†å…¶ä¸­çš„å‚æ•°ï¼Œä½†æ˜¯æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬å¸Œæœ› age å±æ€§æ˜¯çŸ­æš‚çš„åŠ å…¥äº†transientå…³é”®å­—ï¼Œ æ‰€ä»¥æˆ‘ä»¬æ— æ³•è·å–åˆ°åºåˆ—åŒ–æ—¶ People çš„ age å±æ€§ï¼š People people = null; try { FileInputStream fileIn = new FileInputStream(\"D:/people.ser\"); ObjectInputStream in = new ObjectInputStream(fileIn); people = (People) in.readObject(); in.close(); fileIn.close(); } catch (IOException i) { i.printStackTrace(); return; } catch (ClassNotFoundException c) { System.out.println(\"People class not found\"); c.printStackTrace(); return; } System.out.println(\"Deserialized People...\"); System.out.println(\"Name: \" + people.name); System.out.println(\"Age: \" + people.age); è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š Deserialized People... Name: æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ Age: 0 serialVersionUIDçš„ä½œç”¨ä¸Šè¿°çš„ä¾‹å­ä¸­æˆ‘ä»¬å®Œæˆäº†å¯¹ä¸€ä¸ª People å¯¹è±¡åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç°åœ¨æ¥åšä¸€ç‚¹ç®€å•çš„ä¿®æ”¹ï¼Œä¾‹å¦‚æŠŠageå­—æ®µçš„transientå…³é”®å­—å»æ‰ï¼š public class People implements Serializable { public String name; public int age; public void sayHello() { System.out.println(\"Hello,My Name is \" + name); } } ç„¶åæˆ‘ä»¬å†è¿è¡Œæˆ‘ä»¬åˆšæ‰ååºåˆ—åŒ–çš„ä»£ç ï¼Œä¼šå‘ç°ï¼Œè¿™ä¸ªæ—¶å€™ç¨‹åºç«Ÿç„¶æŠ¥é”™äº†ï¼Œè¯´æ˜¯serialVersionUIDä¸ä¸€è‡´ï¼š äº‹å®ä¸Šï¼Œå¦‚æœä½ ç»å¸¸çœ‹åˆ«äººçš„ä»£ç çš„è¯ï¼Œæˆ–è®¸ä¼šæœ‰ç•™æ„åˆ°è¯¸å¦‚è¿™æ ·çš„ä»£ç ï¼š private static final long serialVersionUID = 876323262645176354L; å°±è¿™ä¸€é•¿ä¸²çš„ä¸œè¥¿ä¹Ÿä¸çŸ¥é“æ˜¯åœ¨å¹²å˜›çš„ï¼Œä½†è¿™å…¶å®æ˜¯ä¸ºäº†ä¿è¯åºåˆ—åŒ–ç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œå³åœ¨ç‰ˆæœ¬å‡çº§ååºåˆ—åŒ–ä»ä¿æŒå¯¹è±¡çš„å”¯ä¸€æ€§ï¼›æˆ‘ä»¬é€šè¿‡ä¸Šè¿°çš„ä¿®æ”¹ä¹Ÿæ„Ÿå—åˆ°äº†å…¶ä¸­çš„ä¸€äºŒï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­å†™ä»»ä½•å…³äºè¿™ä¸ªUIDçš„ä»£ç å‘€ï¼Ÿ è¿™æ˜¯ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å®ç°äº†åºåˆ—åŒ–æ¥å£ï¼Œä½†æ˜¯æ²¡æœ‰è‡ªå·±æ˜¾å¼çš„å£°æ˜è¿™ä¸ªUIDçš„è¯ï¼Œé‚£ä¹ˆJVMå°±ä¼šæ ¹æ®è¯¥ç±»çš„ç±»åã€å±æ€§åã€æ–¹æ³•åç­‰è‡ªå·±è®¡ç®—å‡ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å˜é‡å€¼ï¼Œç„¶åå°†è¿™ä¸ªå˜é‡å€¼ä¸€åŒåºåˆ—åŒ–åˆ°æ–‡ä»¶ä¹‹ä¸­ï¼Œè€Œåœ¨ååºåˆ—åŒ–çš„æ—¶å€™åŒæ ·ï¼Œä¼šæ ¹æ®è¯¥ç±»è®¡ç®—å‡ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å˜é‡ç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œä¸ä¸€è‡´å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æˆ‘æ€€ç€å¼ºçƒˆçš„å¥½å¥‡å¿ƒå»åç¼–è¯‘äº†ä¸€ä¸‹.classæ–‡ä»¶ï¼Œå¹¶æ²¡æœ‰å‘ç°ç¼–è¯‘å™¨å†™äº†UDIè¿™ä¸€ç±»çš„ä¸œè¥¿ï¼Œæˆ‘çœ‹ã€Šæ·±å…¥åˆ†æ Java Web æŠ€æœ¯å†…å¹•ã€‹ä¸­è¯´ï¼Œå®é™…ä¸Šæ˜¯å†™åˆ°äº†äºŒè¿›åˆ¶æ–‡ä»¶é‡Œé¢äº†ï¼› ä¸æ˜¾å¼å£°æ˜çš„ç¼ºç‚¹ï¼šä¸€æ—¦å†™å¥½äº†æŸä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆæƒ³è¦ä¿®æ”¹å°±ä¸è¡Œäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½è‡ªå·±æ˜¾å¼çš„å»å£°æ˜ï¼› æ˜¾å¼å£°æ˜çš„æ–¹å¼ï¼šâ‘ ä½¿ç”¨é»˜è®¤çš„1Lä½œç”¨UIDï¼›â‘¡æ ¹æ®ç±»åã€æ¥å£åç­‰ç”Ÿæˆä¸€ä¸ª64ä½çš„å“ˆå¸Œå­—æ®µï¼Œç°åœ¨çš„ç¼–è¯‘å™¨å¦‚IDEAã€Eclipseéƒ½æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œå¤§å®¶æ„Ÿå…´è¶£å»äº†è§£ä¸‹ï¼› åºåˆ—åŒ–ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿè™½ç„¶æˆ‘ä»¬ä¸Šé¢çš„ç¨‹åºæˆåŠŸå°†ä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–ä¿å­˜åˆ°ç£ç›˜ï¼Œç„¶åä»ç£ç›˜è¿˜åŸï¼Œä½†æ˜¯è¿™æ ·çš„åŠŸèƒ½åˆ°åº•å¯ä»¥åº”ç”¨åœ¨å“ªäº›åœºæ™¯ï¼Ÿåˆ°åº•å¯ä»¥å¹²ä¸€äº›ä»€ä¹ˆæ ·çš„äº‹æƒ…å‘¢ï¼Ÿä¸‹é¢ä¸¾ä¸€äº›åœ¨å®é™…åº”ç”¨ä¸­çš„ä¾‹å­ï¼š WebæœåŠ¡å™¨ä¸­ä¿å­˜Sessionå¯¹è±¡ï¼Œå¦‚Tomcatä¼šåœ¨æœåŠ¡å™¨å…³é—­æ—¶æŠŠsessionåºåˆ—åŒ–å­˜å‚¨åˆ°ä¸€ä¸ªåä¸ºsession.serçš„æ–‡ä»¶ä¹‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºsessionçš„é’åŒ–ï¼› ç½‘ç»œä¸Šä¼ è¾“å¯¹è±¡ï¼Œå¦‚åˆ†å¸ƒå¼åº”ç”¨ç­‰ï¼› å…³äºåºåˆ—åŒ–çš„ä¸€äº›ç»†èŠ‚1.å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®ç°Serializableæ¥å£ï¼Œä½†æ˜¯å®ƒçš„åŸºç±»å®ç°äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿæ˜¯å¯ä»¥åºåˆ—åŒ–çš„ï¼› 2.ç›¸åï¼Œå¦‚æœä¸€ä¸ªç±»å®ç°äº†Serializableæ¥å£ï¼Œä½†æ˜¯å®ƒçš„çˆ¶ç±»æ²¡æœ‰å®ç°ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»è¿˜æ˜¯å¯ä»¥åºåˆ—åŒ–ï¼ˆObjectæ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼‰ï¼Œä½†æ˜¯åºåˆ—åŒ–è¯¥å­ç±»å¯¹è±¡ï¼Œç„¶åååºåˆ—åŒ–åè¾“å‡ºçˆ¶ç±»å®šä¹‰çš„æŸå˜é‡çš„æ•°å€¼ï¼Œä¼šå‘ç°è¯¥å˜é‡æ•°å€¼ä¸åºåˆ—åŒ–æ—¶çš„æ•°å€¼ä¸åŒï¼ˆä¸€èˆ¬ä¸ºnullæˆ–è€…å…¶ä»–é»˜è®¤å€¼ï¼‰ï¼Œè€Œä¸”è¿™ä¸ªçˆ¶ç±»é‡Œé¢å¿…é¡»æœ‰æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œä¸ç„¶å­ç±»ååºåˆ—åŒ–çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚ äº†è§£åˆ°è¿™é‡Œå°±å¯ä»¥äº†ï¼Œæ›´å¤šçš„ç»†èŠ‚æ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥è‡ªè¡Œå»æœç´¢å¼•æ“æœç´¢.. ç½‘ç»œ I/O å·¥ä½œæœºåˆ¶æ•°æ®ä»ä¸€å°ä¸»æœºå‘é€åˆ°ç½‘ç»œä¸­çš„å¦ä¸€å°ä¸»æœºéœ€è¦ç»è¿‡å¾ˆå¤šæ­¥éª¤ï¼Œé¦–å…ˆåŒæ–¹éœ€è¦æœ‰æ²Ÿé€šçš„æ„å‘ï¼Œç„¶åè¦æœ‰èƒ½å¤Ÿæ²Ÿé€šçš„ç‰©ç†æ¸ é“ï¼ˆç‰©ç†é“¾è·¯ï¼‰ï¼Œå…¶æ¬¡ï¼Œè¿˜è¦ä¿éšœåŒæ–¹èƒ½å¤Ÿæ­£å¸¸çš„è¿›è¡Œäº¤æµï¼Œä¾‹å¦‚è¯­è¨€ä¸€è‡´çš„é—®é¢˜ã€è¯´è¯é¡ºåºçš„é—®é¢˜ç­‰ç­‰ç­‰ï¼› Java Socket çš„å·¥ä½œæœºåˆ¶çœ‹åˆ°æœ‰åœ°æ–¹è¯´ï¼šç½‘ç»œ I/O çš„å®è´¨å…¶å®å°±æ˜¯å¯¹ Socket çš„è¯»å–ï¼›é‚£Socket è¿™ä¸ªæ¦‚å¿µæ²¡æœ‰å¯¹åº”åˆ°ä¸€ä¸ªå…·ä½“çš„å®ä½“ï¼Œå®ƒæ˜¯æè¿°è®¡ç®—æœºä¹‹é—´å®Œæˆç›¸äº’é€šä¿¡ä¸€ç§æŠ½è±¡åŠŸèƒ½ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œå¯ä»¥æŠŠ Socket æ¯”ä½œä¸ºä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„äº¤é€šå·¥å…·ï¼Œæœ‰äº†å®ƒï¼Œå°±å¯ä»¥åœ¨åŸå¸‚ä¹‹é—´æ¥å›ç©¿æ¢­äº†ã€‚äº¤é€šå·¥å…·æœ‰å¤šç§ï¼Œæ¯ç§äº¤é€šå·¥å…·ä¹Ÿæœ‰ç›¸åº”çš„äº¤é€šè§„åˆ™ã€‚Socket ä¹Ÿä¸€æ ·ï¼Œä¹Ÿæœ‰å¤šç§ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯åŸºäº TCP/IP çš„æµå¥—æ¥å­—ï¼Œå®ƒæ˜¯ä¸€ç§ç¨³å®šçš„é€šä¿¡åè®®ã€‚ ä¸‹å›¾æ˜¯å…¸å‹çš„åŸºäº Socket çš„é€šä¿¡çš„åœºæ™¯ï¼š ä¸»æœº A çš„åº”ç”¨ç¨‹åºè¦èƒ½å’Œä¸»æœº B çš„åº”ç”¨ç¨‹åºé€šä¿¡ï¼Œå¿…é¡»é€šè¿‡ Socket å»ºç«‹è¿æ¥ï¼Œè€Œå»ºç«‹ Socket è¿æ¥å¿…é¡»éœ€è¦åº•å±‚ TCP/IP åè®®æ¥å»ºç«‹ TCP è¿æ¥ã€‚å»ºç«‹ TCP è¿æ¥éœ€è¦åº•å±‚ IP åè®®æ¥å¯»å€ç½‘ç»œä¸­çš„ä¸»æœºã€‚æˆ‘ä»¬çŸ¥é“ç½‘ç»œå±‚ä½¿ç”¨çš„ IP åè®®å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ ¹æ® IP åœ°å€æ¥æ‰¾åˆ°ç›®æ ‡ä¸»æœºï¼Œä½†æ˜¯ä¸€å°ä¸»æœºä¸Šå¯èƒ½è¿è¡Œç€å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œå¦‚ä½•æ‰èƒ½ä¸æŒ‡å®šçš„åº”ç”¨ç¨‹åºé€šä¿¡å°±è¦é€šè¿‡ TCP æˆ– UPD çš„åœ°å€ä¹Ÿå°±æ˜¯ç«¯å£å·æ¥æŒ‡å®šã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸€ä¸ª Socket å®ä¾‹å”¯ä¸€ä»£è¡¨ä¸€ä¸ªä¸»æœºä¸Šçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„é€šä¿¡é“¾è·¯äº†ã€‚ å»ºç«‹é€šä¿¡é“¾è·¯å½“å®¢æˆ·ç«¯è¦ä¸æœåŠ¡ç«¯é€šä¿¡ï¼Œå®¢æˆ·ç«¯é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ª Socket å®ä¾‹ï¼Œæ“ä½œç³»ç»Ÿå°†ä¸ºè¿™ä¸ª Socket å®ä¾‹åˆ†é…ä¸€ä¸ªæ²¡æœ‰è¢«ä½¿ç”¨çš„æœ¬åœ°ç«¯å£å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«æœ¬åœ°å’Œè¿œç¨‹åœ°å€å’Œç«¯å£å·çš„å¥—æ¥å­—æ•°æ®ç»“æ„ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„å°†ä¸€ç›´ä¿å­˜åœ¨ç³»ç»Ÿä¸­ç›´åˆ°è¿™ä¸ªè¿æ¥å…³é—­ã€‚åœ¨åˆ›å»º Socket å®ä¾‹çš„æ„é€ å‡½æ•°æ­£ç¡®è¿”å›ä¹‹å‰ï¼Œå°†è¦è¿›è¡Œ TCP çš„ä¸‰æ¬¡æ¡æ‰‹åè®®ï¼ŒTCP æ¡æ‰‹åè®®å®Œæˆåï¼ŒSocket å®ä¾‹å¯¹è±¡å°†åˆ›å»ºå®Œæˆï¼Œå¦åˆ™å°†æŠ›å‡º IOException é”™è¯¯ã€‚ ä¸ä¹‹å¯¹åº”çš„æœåŠ¡ç«¯å°†åˆ›å»ºä¸€ä¸ª ServerSocket å®ä¾‹ï¼ŒServerSocket åˆ›å»ºæ¯”è¾ƒç®€å•åªè¦æŒ‡å®šçš„ç«¯å£å·æ²¡æœ‰è¢«å ç”¨ï¼Œä¸€èˆ¬å®ä¾‹åˆ›å»ºéƒ½ä¼šæˆåŠŸï¼ŒåŒæ—¶æ“ä½œç³»ç»Ÿä¹Ÿä¼šä¸º ServerSocket å®ä¾‹åˆ›å»ºä¸€ä¸ªåº•å±‚æ•°æ®ç»“æ„ï¼Œè¿™ä¸ªæ•°æ®ç»“æ„ä¸­åŒ…å«æŒ‡å®šç›‘å¬çš„ç«¯å£å·å’ŒåŒ…å«ç›‘å¬åœ°å€çš„é€šé…ç¬¦ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯â€œ*â€å³ç›‘å¬æ‰€æœ‰åœ°å€ã€‚ä¹‹åå½“è°ƒç”¨ accept() æ–¹æ³•æ—¶ï¼Œå°†è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å½“ä¸€ä¸ªæ–°çš„è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå°†ä¸ºè¿™ä¸ªè¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¥—æ¥å­—æ•°æ®ç»“æ„ï¼Œè¯¥å¥—æ¥å­—æ•°æ®çš„ä¿¡æ¯åŒ…å«çš„åœ°å€å’Œç«¯å£ä¿¡æ¯æ­£æ˜¯è¯·æ±‚æºåœ°å€å’Œç«¯å£ã€‚è¿™ä¸ªæ–°åˆ›å»ºçš„æ•°æ®ç»“æ„å°†ä¼šå…³è”åˆ° ServerSocket å®ä¾‹çš„ä¸€ä¸ªæœªå®Œæˆçš„è¿æ¥æ•°æ®ç»“æ„åˆ—è¡¨ä¸­ï¼Œæ³¨æ„è¿™æ—¶æœåŠ¡ç«¯ä¸ä¹‹å¯¹åº”çš„ Socket å®ä¾‹å¹¶æ²¡æœ‰å®Œæˆåˆ›å»ºï¼Œè€Œè¦ç­‰åˆ°ä¸å®¢æˆ·ç«¯çš„ä¸‰æ¬¡æ¡æ‰‹å®Œæˆåï¼Œè¿™ä¸ªæœåŠ¡ç«¯çš„ Socket å®ä¾‹æ‰ä¼šè¿”å›ï¼Œå¹¶å°†è¿™ä¸ª Socket å®ä¾‹å¯¹åº”çš„æ•°æ®ç»“æ„ä»æœªå®Œæˆåˆ—è¡¨ä¸­ç§»åˆ°å·²å®Œæˆåˆ—è¡¨ä¸­ã€‚æ‰€ä»¥ ServerSocket æ‰€å…³è”çš„åˆ—è¡¨ä¸­æ¯ä¸ªæ•°æ®ç»“æ„ï¼Œéƒ½ä»£è¡¨ä¸ä¸€ä¸ªå®¢æˆ·ç«¯çš„å»ºç«‹çš„ TCP è¿æ¥ã€‚ æ•°æ®ä¼ è¾“ä¼ è¾“æ•°æ®æ˜¯æˆ‘ä»¬å»ºç«‹è¿æ¥çš„ä¸»è¦ç›®çš„ï¼Œå¦‚ä½•é€šè¿‡ Socket ä¼ è¾“æ•°æ®ï¼Œä¸‹é¢å°†è¯¦ç»†ä»‹ç»ã€‚ å½“è¿æ¥å·²ç»å»ºç«‹æˆåŠŸï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ª Socket å®ä¾‹ï¼Œæ¯ä¸ª Socket å®ä¾‹éƒ½æœ‰ä¸€ä¸ª InputStream å’Œ OutputStreamï¼Œæ­£æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡æ¥äº¤æ¢æ•°æ®ã€‚åŒæ—¶æˆ‘ä»¬ä¹ŸçŸ¥é“ç½‘ç»œ I/O éƒ½æ˜¯ä»¥å­—èŠ‚æµä¼ è¾“çš„ã€‚å½“ Socket å¯¹è±¡åˆ›å»ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ä¼šä¸º InputStream å’Œ OutputStream åˆ†åˆ«åˆ†é…ä¸€å®šå¤§å°çš„ç¼“å†²åŒºï¼Œæ•°æ®çš„å†™å…¥å’Œè¯»å–éƒ½æ˜¯é€šè¿‡è¿™ä¸ªç¼“å­˜åŒºå®Œæˆçš„ã€‚å†™å…¥ç«¯å°†æ•°æ®å†™åˆ° OutputStream å¯¹åº”çš„ SendQ é˜Ÿåˆ—ä¸­ï¼Œå½“é˜Ÿåˆ—å¡«æ»¡æ—¶ï¼Œæ•°æ®å°†è¢«å‘é€åˆ°å¦ä¸€ç«¯ InputStream çš„ RecvQ é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœè¿™æ—¶ RecvQ å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆ OutputStream çš„ write æ–¹æ³•å°†ä¼šé˜»å¡ç›´åˆ° RecvQ é˜Ÿåˆ—æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³ SendQ å‘é€çš„æ•°æ®ã€‚å€¼å¾—ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªç¼“å­˜åŒºçš„å¤§å°ä»¥åŠå†™å…¥ç«¯çš„é€Ÿåº¦å’Œè¯»å–ç«¯çš„é€Ÿåº¦éå¸¸å½±å“è¿™ä¸ªè¿æ¥çš„æ•°æ®ä¼ è¾“æ•ˆç‡ï¼Œç”±äºå¯èƒ½ä¼šå‘ç”Ÿé˜»å¡ï¼Œæ‰€ä»¥ç½‘ç»œ I/O ä¸ç£ç›˜ I/O åœ¨æ•°æ®çš„å†™å…¥å’Œè¯»å–è¿˜è¦æœ‰ä¸€ä¸ªåè°ƒçš„è¿‡ç¨‹ï¼Œå¦‚æœä¸¤è¾¹åŒæ—¶ä¼ é€æ•°æ®æ—¶å¯èƒ½ä¼šäº§ç”Ÿæ­»é”ï¼Œåœ¨åé¢ NIO éƒ¨åˆ†å°†ä»‹ç»é¿å…è¿™ç§æƒ…å†µã€‚ NIO çš„å·¥ä½œæ–¹å¼BIO å¸¦æ¥çš„æŒ‘æˆ˜BIO å³é˜»å¡ I/Oï¼Œä¸ç®¡æ˜¯ç£ç›˜ I/O è¿˜æ˜¯ç½‘ç»œ I/Oï¼Œæ•°æ®åœ¨å†™å…¥ OutputStream æˆ–è€…ä» InputStream è¯»å–æ—¶éƒ½æœ‰å¯èƒ½ä¼šé˜»å¡ã€‚ä¸€æ—¦æœ‰çº¿ç¨‹é˜»å¡å°†ä¼šå¤±å» CPU çš„ä½¿ç”¨æƒï¼Œè¿™åœ¨å½“å‰çš„å¤§è§„æ¨¡è®¿é—®é‡å’Œæœ‰æ€§èƒ½è¦æ±‚æƒ…å†µä¸‹æ˜¯ä¸èƒ½æ¥å—çš„ã€‚è™½ç„¶å½“å‰çš„ç½‘ç»œ I/O æœ‰ä¸€äº›è§£å†³åŠæ³•ï¼Œå¦‚ä¸€ä¸ªå®¢æˆ·ç«¯ä¸€ä¸ªå¤„ç†çº¿ç¨‹ï¼Œå‡ºç°é˜»å¡æ—¶åªæ˜¯ä¸€ä¸ªçº¿ç¨‹é˜»å¡è€Œä¸ä¼šå½±å“å…¶å®ƒçº¿ç¨‹å·¥ä½œï¼Œè¿˜æœ‰ä¸ºäº†å‡å°‘ç³»ç»Ÿçº¿ç¨‹çš„å¼€é”€ï¼Œé‡‡ç”¨çº¿ç¨‹æ± çš„åŠæ³•æ¥å‡å°‘çº¿ç¨‹åˆ›å»ºå’Œå›æ”¶çš„æˆæœ¬ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä½¿ç”¨åœºæ™¯ä»ç„¶æ˜¯æ— æ³•è§£å†³çš„ã€‚å¦‚å½“å‰ä¸€äº›éœ€è¦å¤§é‡ HTTP é•¿è¿æ¥çš„æƒ…å†µï¼Œåƒæ·˜å®ç°åœ¨ä½¿ç”¨çš„ Web æ—ºæ—ºé¡¹ç›®ï¼ŒæœåŠ¡ç«¯éœ€è¦åŒæ—¶ä¿æŒå‡ ç™¾ä¸‡çš„ HTTP è¿æ¥ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ¯æ—¶æ¯åˆ»è¿™äº›è¿æ¥éƒ½åœ¨ä¼ è¾“æ•°æ®ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸å¯èƒ½åŒæ—¶åˆ›å»ºè¿™ä¹ˆå¤šçº¿ç¨‹æ¥ä¿æŒè¿æ¥ã€‚å³ä½¿çº¿ç¨‹çš„æ•°é‡ä¸æ˜¯é—®é¢˜ï¼Œä»ç„¶æœ‰ä¸€äº›é—®é¢˜è¿˜æ˜¯æ— æ³•é¿å…çš„ã€‚å¦‚è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æƒ³ç»™æŸäº›å®¢æˆ·ç«¯æ›´é«˜çš„æœåŠ¡ä¼˜å…ˆçº§ï¼Œå¾ˆéš¾é€šè¿‡è®¾è®¡çº¿ç¨‹çš„ä¼˜å…ˆçº§æ¥å®Œæˆï¼Œå¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦è®©æ¯ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚åœ¨æœåŠ¡ç«¯å¯èƒ½éœ€è¦è®¿é—®ä¸€äº›ç«äº‰èµ„æºï¼Œç”±äºè¿™äº›å®¢æˆ·ç«¯æ˜¯åœ¨ä¸åŒçº¿ç¨‹ä¸­ï¼Œå› æ­¤éœ€è¦åŒæ­¥ï¼Œè€Œå¾€å¾€è¦å®ç°è¿™äº›åŒæ­¥æ“ä½œè¦è¿œè¿œæ¯”ç”¨å•çº¿ç¨‹å¤æ‚å¾ˆå¤šã€‚ä»¥ä¸Šè¿™äº›æƒ…å†µéƒ½è¯´æ˜ï¼Œæˆ‘ä»¬éœ€è¦å¦å¤–ä¸€ç§æ–°çš„ I/O æ“ä½œæ–¹å¼ã€‚ NIO çš„å·¥ä½œæœºåˆ¶å¾ˆå¤šäººéƒ½æŠŠNIOç¿»è¯‘æˆNew IOï¼Œä½†æˆ‘æ›´è§‰å¾—No-Block IOæ›´æ¥è¿‘å®ƒçš„æœ¬æ„ï¼Œä¹Ÿå°±æ˜¯éé˜»å¡å¼IOï¼Œå®ƒè™½ç„¶æ˜¯éé˜»å¡å¼çš„ï¼Œä½†å®ƒæ˜¯åŒæ­¥çš„ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ NIO æ¶‰åŠåˆ°çš„å…³è”ç±»å›¾ï¼Œå¦‚ä¸‹ï¼š ä¸Šå›¾ä¸­æœ‰ä¸¤ä¸ªå…³é”®ç±»ï¼šChannel å’Œ Selectorï¼Œå®ƒä»¬æ˜¯ NIO ä¸­ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬è¿˜ç”¨å‰é¢çš„åŸå¸‚äº¤é€šå·¥å…·æ¥ç»§ç»­æ¯”å–» NIO çš„å·¥ä½œæ–¹å¼ï¼Œè¿™é‡Œçš„ Channel è¦æ¯” Socket æ›´åŠ å…·ä½“ï¼Œå®ƒå¯ä»¥æ¯”ä½œä¸ºæŸç§å…·ä½“çš„äº¤é€šå·¥å…·ï¼Œå¦‚æ±½è½¦æˆ–æ˜¯é«˜é“ç­‰ï¼Œè€Œ Selector å¯ä»¥æ¯”ä½œä¸ºä¸€ä¸ªè½¦ç«™çš„è½¦è¾†è¿è¡Œè°ƒåº¦ç³»ç»Ÿï¼Œå®ƒå°†è´Ÿè´£ç›‘æ§æ¯è¾†è½¦çš„å½“å‰è¿è¡ŒçŠ¶æ€ï¼šæ˜¯å·²ç»å‡ºæˆ˜è¿˜æ˜¯åœ¨è·¯ä¸Šç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯å®ƒå¯ä»¥è½®è¯¢æ¯ä¸ª Channel çš„çŠ¶æ€ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ª Buffer ç±»ï¼Œå®ƒä¹Ÿæ¯” Stream æ›´åŠ å…·ä½“åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒæ¯”ä½œä¸ºè½¦ä¸Šçš„åº§ä½ï¼ŒChannel æ˜¯æ±½è½¦çš„è¯å°±æ˜¯æ±½è½¦ä¸Šçš„åº§ä½ï¼Œé«˜é“ä¸Šå°±æ˜¯é«˜é“ä¸Šçš„åº§ä½ï¼Œå®ƒå§‹ç»ˆæ˜¯ä¸€ä¸ªå…·ä½“çš„æ¦‚å¿µï¼Œä¸ Stream ä¸åŒã€‚Stream åªèƒ½ä»£è¡¨æ˜¯ä¸€ä¸ªåº§ä½ï¼Œè‡³äºæ˜¯ä»€ä¹ˆåº§ä½ç”±ä½ è‡ªå·±å»æƒ³è±¡ï¼Œä¹Ÿå°±æ˜¯ä½ åœ¨å»ä¸Šè½¦ä¹‹å‰å¹¶ä¸çŸ¥é“ï¼Œè¿™ä¸ªè½¦ä¸Šæ˜¯å¦è¿˜æœ‰æ²¡æœ‰åº§ä½äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¸Šçš„æ˜¯ä»€ä¹ˆè½¦ï¼Œå› ä¸ºä½ å¹¶ä¸èƒ½é€‰æ‹©ï¼Œè¿™äº›ä¿¡æ¯éƒ½å·²ç»è¢«å°è£…åœ¨äº†è¿è¾“å·¥å…·ï¼ˆSocketï¼‰é‡Œé¢äº†ï¼Œå¯¹ä½ æ˜¯é€æ˜çš„ã€‚ NIO å¼•å…¥äº† Channelã€Buffer å’Œ Selector å°±æ˜¯æƒ³æŠŠè¿™äº›ä¿¡æ¯å…·ä½“åŒ–ï¼Œè®©ç¨‹åºå‘˜æœ‰æœºä¼šæ§åˆ¶å®ƒä»¬ï¼Œå¦‚ï¼šå½“æˆ‘ä»¬è°ƒç”¨ write() å¾€ SendQ å†™æ•°æ®æ—¶ï¼Œå½“ä¸€æ¬¡å†™çš„æ•°æ®è¶…è¿‡ SendQ é•¿åº¦æ˜¯éœ€è¦æŒ‰ç…§ SendQ çš„é•¿åº¦è¿›è¡Œåˆ†å‰²ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éœ€è¦æœ‰å°†ç”¨æˆ·ç©ºé—´æ•°æ®å’Œå†…æ ¸åœ°å€ç©ºé—´è¿›è¡Œåˆ‡æ¢ï¼Œè€Œè¿™ä¸ªåˆ‡æ¢ä¸æ˜¯ä½ å¯ä»¥æ§åˆ¶çš„ã€‚è€Œåœ¨ Buffer ä¸­æˆ‘ä»¬å¯ä»¥æ§åˆ¶ Buffer çš„ capacityï¼Œå¹¶ä¸”æ˜¯å¦æ‰©å®¹ä»¥åŠå¦‚ä½•æ‰©å®¹éƒ½å¯ä»¥æ§åˆ¶ã€‚ ç†è§£äº†è¿™äº›æ¦‚å¿µåæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œå®é™…ä¸Šå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¸‹é¢æ˜¯å…¸å‹çš„ä¸€æ®µ NIO ä»£ç ï¼š public void selector() throws IOException { ByteBuffer buffer = ByteBuffer.allocate(1024); Selector selector = Selector.open(); ServerSocketChannel ssc = ServerSocketChannel.open(); ssc.configureBlocking(false);//è®¾ç½®ä¸ºéé˜»å¡æ–¹å¼ ssc.socket().bind(new InetSocketAddress(8080)); ssc.register(selector, SelectionKey.OP_ACCEPT);//æ³¨å†Œç›‘å¬çš„äº‹ä»¶ while (true) { Set selectedKeys = selector.selectedKeys();//å–å¾—æ‰€æœ‰keyé›†åˆ Iterator it = selectedKeys.iterator(); while (it.hasNext()) { SelectionKey key = (SelectionKey) it.next(); if ((key.readyOps() &amp; SelectionKey.OP_ACCEPT) == SelectionKey.OP_ACCEPT) { ServerSocketChannel ssChannel = (ServerSocketChannel) key.channel(); SocketChannel sc = ssChannel.accept();//æ¥å—åˆ°æœåŠ¡ç«¯çš„è¯·æ±‚ sc.configureBlocking(false); sc.register(selector, SelectionKey.OP_READ); it.remove(); } else if ((key.readyOps() &amp; SelectionKey.OP_READ) == SelectionKey.OP_READ) { SocketChannel sc = (SocketChannel) key.channel(); while (true) { buffer.clear(); int n = sc.read(buffer);//è¯»å–æ•°æ® if (n &lt;= 0) { break; } buffer.flip(); } it.remove(); } } } } è°ƒç”¨ Selector çš„é™æ€å·¥å‚åˆ›å»ºä¸€ä¸ªé€‰æ‹©å™¨ï¼Œåˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯çš„ Channel ç»‘å®šåˆ°ä¸€ä¸ª Socket å¯¹è±¡ï¼Œå¹¶æŠŠè¿™ä¸ªé€šä¿¡ä¿¡é“æ³¨å†Œåˆ°é€‰æ‹©å™¨ä¸Šï¼ŒæŠŠè¿™ä¸ªé€šä¿¡ä¿¡é“è®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼ã€‚ç„¶åå°±å¯ä»¥è°ƒç”¨ Selector çš„ selectedKeys æ–¹æ³•æ¥æ£€æŸ¥å·²ç»æ³¨å†Œåœ¨è¿™ä¸ªé€‰æ‹©å™¨ä¸Šçš„æ‰€æœ‰é€šä¿¡ä¿¡é“æ˜¯å¦æœ‰éœ€è¦çš„äº‹ä»¶å‘ç”Ÿï¼Œå¦‚æœæœ‰æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°†ä¼šè¿”å›æ‰€æœ‰çš„ SelectionKeyï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡ Channel æ–¹æ³•å°±å¯ä»¥å–å¾—è¿™ä¸ªé€šä¿¡ä¿¡é“å¯¹è±¡ä»è€Œå¯ä»¥è¯»å–é€šä¿¡çš„æ•°æ®ï¼Œè€Œè¿™é‡Œè¯»å–çš„æ•°æ®æ˜¯ Bufferï¼Œè¿™ä¸ª Buffer æ˜¯æˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„ç¼“å†²å™¨ã€‚ åœ¨ä¸Šé¢çš„è¿™æ®µç¨‹åºä¸­ï¼Œæ˜¯å°† Server ç«¯çš„ç›‘å¬è¿æ¥è¯·æ±‚çš„äº‹ä»¶å’Œå¤„ç†è¯·æ±‚çš„äº‹ä»¶æ”¾åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæŠŠå®ƒä»¬æ”¾åœ¨ä¸¤ä¸ªçº¿ç¨‹ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸“é—¨è´Ÿè´£ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œè€Œä¸”æ˜¯é˜»å¡æ–¹å¼æ‰§è¡Œçš„ï¼›å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸“é—¨æ¥å¤„ç†è¯·æ±‚ï¼Œè¿™ä¸ªä¸“é—¨å¤„ç†è¯·æ±‚çš„çº¿ç¨‹æ‰ä¼šçœŸæ­£é‡‡ç”¨ NIO çš„æ–¹å¼ï¼Œåƒ Web æœåŠ¡å™¨ Tomcat å’Œ Jetty éƒ½æ˜¯è¿™ä¸ªå¤„ç†æ–¹å¼ï¼Œå…³äº Tomcat å’Œ Jetty çš„ NIO å¤„ç†æ–¹å¼å¯ä»¥å‚è€ƒæ–‡ç« ã€Š Jetty çš„å·¥ä½œåŸç†å’Œä¸ Tomcat çš„æ¯”è¾ƒã€‹ã€‚ ä¸‹å›¾æ˜¯æè¿°äº†åŸºäº NIO å·¥ä½œæ–¹å¼çš„ Socket è¯·æ±‚çš„å¤„ç†è¿‡ç¨‹ï¼š ä¸Šå›¾ä¸­çš„ Selector å¯ä»¥åŒæ—¶ç›‘å¬ä¸€ç»„é€šä¿¡ä¿¡é“ï¼ˆChannelï¼‰ä¸Šçš„ I/O çŠ¶æ€ï¼Œå‰ææ˜¯è¿™ä¸ª Selector è¦å·²ç»æ³¨å†Œåˆ°è¿™äº›é€šä¿¡ä¿¡é“ä¸­ã€‚é€‰æ‹©å™¨ Selector å¯ä»¥è°ƒç”¨ select() æ–¹æ³•æ£€æŸ¥å·²ç»æ³¨å†Œçš„é€šä¿¡ä¿¡é“ä¸Šçš„æ˜¯å¦æœ‰ I/O å·²ç»å‡†å¤‡å¥½ï¼Œå¦‚æœæ²¡æœ‰è‡³å°‘ä¸€ä¸ªä¿¡é“ I/O çŠ¶æ€æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆ select æ–¹æ³•ä¼šé˜»å¡ç­‰å¾…æˆ–åœ¨è¶…æ—¶æ—¶é—´åä¼šè¿”å› 0ã€‚ä¸Šå›¾ä¸­å¦‚æœæœ‰å¤šä¸ªä¿¡é“æœ‰æ•°æ®ï¼Œé‚£ä¹ˆå°†ä¼šå°†è¿™äº›æ•°æ®åˆ†é…åˆ°å¯¹åº”çš„æ•°æ® Buffer ä¸­ã€‚æ‰€ä»¥å…³é”®çš„åœ°æ–¹æ˜¯æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰è¿æ¥çš„æ•°æ®äº¤äº’ï¼Œæ¯ä¸ªè¿æ¥çš„æ•°æ®äº¤äº’éƒ½ä¸æ˜¯é˜»å¡æ–¹å¼ï¼Œæ‰€ä»¥å¯ä»¥åŒæ—¶å¤„ç†å¤§é‡çš„è¿æ¥è¯·æ±‚ã€‚ Buffer çš„å·¥ä½œæ–¹å¼ä¸Šé¢ä»‹ç»äº† Selector å°†æ£€æµ‹åˆ°æœ‰é€šä¿¡ä¿¡é“ I/O æœ‰æ•°æ®ä¼ è¾“æ—¶ï¼Œé€šè¿‡ selelct() å–å¾— SocketChannelï¼Œå°†æ•°æ®è¯»å–æˆ–å†™å…¥ Buffer ç¼“å†²åŒºã€‚ä¸‹é¢è®¨è®ºä¸€ä¸‹ Buffer å¦‚ä½•æ¥å—å’Œå†™å‡ºæ•°æ®ï¼Ÿ Buffer å¯ä»¥ç®€å•çš„ç†è§£ä¸ºä¸€ç»„åŸºæœ¬æ•°æ®ç±»å‹çš„å…ƒç´ åˆ—è¡¨ï¼Œå®ƒé€šè¿‡å‡ ä¸ªå˜é‡æ¥ä¿å­˜è¿™ä¸ªæ•°æ®çš„å½“å‰ä½ç½®çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æœ‰å››ä¸ªç´¢å¼•ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š ç´¢å¼• è¯´æ˜ capacity ç¼“å†²åŒºæ•°ç»„çš„æ€»é•¿åº¦ position ä¸‹ä¸€ä¸ªè¦æ“ä½œçš„æ•°æ®å…ƒç´ çš„ä½ç½® limit ç¼“å†²åŒºæ•°ç»„ä¸­ä¸å¯æ“ä½œçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œlimit&lt;=capacity mark ç”¨äºè®°å½•å½“å‰ position çš„å‰ä¸€ä¸ªä½ç½®æˆ–è€…é»˜è®¤æ˜¯ 0 åœ¨å®é™…æ“ä½œæ•°æ®æ—¶å®ƒä»¬æœ‰å¦‚ä¸‹å…³ç³»å›¾ï¼š æˆ‘ä»¬é€šè¿‡ ByteBuffer.allocate(11) æ–¹æ³•åˆ›å»ºä¸€ä¸ª 11 ä¸ª byte çš„æ•°ç»„ç¼“å†²åŒºï¼Œåˆå§‹çŠ¶æ€å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œposition çš„ä½ç½®ä¸º 0ï¼Œcapacity å’Œ limit é»˜è®¤éƒ½æ˜¯æ•°ç»„é•¿åº¦ã€‚å½“æˆ‘ä»¬å†™å…¥ 5 ä¸ªå­—èŠ‚æ—¶ä½ç½®å˜åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™æ—¶åº•å±‚æ“ä½œç³»ç»Ÿå°±å¯ä»¥ä»ç¼“å†²åŒºä¸­æ­£ç¡®è¯»å–è¿™ 5 ä¸ªå­—èŠ‚æ•°æ®å‘é€å‡ºå»äº†ã€‚åœ¨ä¸‹ä¸€æ¬¡å†™æ•°æ®ä¹‹å‰æˆ‘ä»¬åœ¨è°ƒä¸€ä¸‹ clear() æ–¹æ³•ã€‚ç¼“å†²åŒºçš„ç´¢å¼•çŠ¶æ€åˆå›åˆ°åˆå§‹ä½ç½®ã€‚ è¿™é‡Œè¿˜è¦è¯´æ˜ä¸€ä¸‹ markï¼Œå½“æˆ‘ä»¬è°ƒç”¨ mark() æ—¶ï¼Œå®ƒå°†è®°å½•å½“å‰ position çš„å‰ä¸€ä¸ªä½ç½®ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ reset æ—¶ï¼Œposition å°†æ¢å¤ mark è®°å½•ä¸‹æ¥çš„å€¼ã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼Œé€šè¿‡ Channel è·å–çš„ I/O æ•°æ®é¦–å…ˆè¦ç»è¿‡æ“ä½œç³»ç»Ÿçš„ Socket ç¼“å†²åŒºå†å°†æ•°æ®å¤åˆ¶åˆ° Buffer ä¸­ï¼Œè¿™ä¸ªçš„æ“ä½œç³»ç»Ÿç¼“å†²åŒºå°±æ˜¯åº•å±‚çš„ TCP åè®®å…³è”çš„ RecvQ æˆ–è€… SendQ é˜Ÿåˆ—ï¼Œä»æ“ä½œç³»ç»Ÿç¼“å†²åŒºåˆ°ç”¨æˆ·ç¼“å†²åŒºå¤åˆ¶æ•°æ®æ¯”è¾ƒè€—æ€§èƒ½ï¼ŒBuffer æä¾›äº†å¦å¤–ä¸€ç§ç›´æ¥æ“ä½œæ“ä½œç³»ç»Ÿç¼“å†²åŒºçš„çš„æ–¹å¼å³ ByteBuffer.allocateDirector(size)ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›çš„ byteBuffer å°±æ˜¯ä¸åº•å±‚å­˜å‚¨ç©ºé—´å…³è”çš„ç¼“å†²åŒºï¼Œå®ƒçš„æ“ä½œæ–¹å¼ä¸ linux2.4 å†…æ ¸çš„ sendfile æ“ä½œæ–¹å¼ç±»ä¼¼ã€‚ Java NIO å®ä¾‹ä¸Šé¢ä» NIO ä¸­å¼•å…¥äº†ä¸€äº›æ¦‚å¿µï¼Œä¸‹é¢æˆ‘ä»¬å¯¹è¿™äº›æ¦‚å¿µå†æ¥è¿›è¡Œç®€å•çš„å¤è¿°å’Œè¡¥å……ï¼š ç¼“å†²åŒºBufferï¼šç¼“å†²åŒºæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢å­˜çš„æ˜¯æ•°æ®ï¼ŒNIOè¿›è¡Œé€šè®¯ï¼Œä¼ é€’çš„æ•°æ®ï¼Œéƒ½åŒ…è£…åˆ°Bufferä¸­ï¼ŒBufferæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚å­ç±»æœ‰ByteBufferã€CharBufferç­‰ï¼Œå¸¸ç”¨çš„æ˜¯å­—èŠ‚ç¼“å†²åŒºï¼Œä¹Ÿå°±æ˜¯ByteBufferï¼› é€šé“Channelï¼šchannelæ˜¯ä¸€ä¸ªé€šé“ï¼Œé€šé“å°±æ˜¯é€šæµæŸç§ç‰©è´¨çš„ç®¡é“ï¼Œåœ¨è¿™é‡Œå°±æ˜¯é€šæµæ•°æ®ï¼Œä»–å’Œæµçš„ä¸åŒä¹‹å¤„å°±åœ¨äºï¼Œæµæ˜¯å•å‘çš„ï¼Œåªèƒ½å‘ä¸€ä¸ªæ–¹å‘æµåŠ¨ï¼Œè€Œé€šé“æ˜¯ä¸€ä¸ªç®¡é“ï¼Œæœ‰ä¸¤ç«¯ï¼Œæ˜¯åŒå‘çš„ï¼Œå¯ä»¥è¿›è¡Œè¯»æ“ä½œï¼Œä¹Ÿå¯ä»¥å†™æ“ä½œï¼Œæˆ–è€…ä¸¤è€…åŒæ—¶è¿›è¡Œï¼› å¤šè·¯å¤ç”¨å™¨Selectorï¼šå¤šè·¯å¤ç”¨å™¨æ˜¯ä¸€ä¸ªå¤§ç®¡å®¶ï¼Œä»–ç®¡ç†ç€é€šé“ï¼Œé€šé“æŠŠè‡ªå·±æ³¨å†Œåˆ°Selectorä¸Šé¢ï¼ŒSelectorä¼šè½®è¯¢æ³¨å†Œåˆ°è‡ªå·±çš„ç®¡é“ï¼Œé€šè¿‡åˆ¤æ–­è¿™ä¸ªç®¡é“çš„ä¸åŒçš„çŠ¶æ€ï¼Œæ¥è¿›è¡Œç›¸åº”çš„æ“ä½œï¼› NIO å·¥ä½œæœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½æ˜¯ä½¿ç”¨çš„é€šé“ï¼Œé€šé“å…·æœ‰äº‹ä»¶ï¼Œå¯ä»¥å°†äº‹ä»¶æ³¨å†Œåˆ°å¤šè·¯å¤é€‰å™¨ä¸Šï¼Œäº‹ä»¶æœ‰å°±ç»ªå’Œéå°±ç»ªä¸¤ç§çŠ¶æ€ï¼Œå°±ç»ªçš„çŠ¶æ€ä¼šæ”¾åˆ°å¤šè·¯å¤é€‰å™¨çš„å°±ç»ªé”®çš„é›†åˆä¸­ï¼Œèµ·ä¸€ä¸ªçº¿ç¨‹ä¸æ–­åœ°å»è½®è¯¢å°±ç»ªçš„çŠ¶æ€ï¼Œæ ¹æ®ä¸åŒçš„çŠ¶æ€åšä¸åŒçš„å¤„ç† å‚è€ƒèµ„æ–™ï¼šhttps://wangjingxin.top/2017/01/17/io/ NIO å’Œ IO çš„ä¸»è¦åŒºåˆ« é¢å‘æµä¸é¢å‘ç¼“å†².Java NIOå’ŒIOä¹‹é—´ç¬¬ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ã€‚Java IOé¢å‘æµæ„å‘³ç€æ¯æ¬¡ä»æµä¸­è¯»ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œç›´è‡³è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå®ƒä»¬æ²¡æœ‰è¢«ç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒä¸èƒ½å‰åç§»åŠ¨æµä¸­çš„æ•°æ®ã€‚å¦‚æœéœ€è¦å‰åç§»åŠ¨ä»æµä¸­è¯»å–çš„æ•°æ®ï¼Œéœ€è¦å…ˆå°†å®ƒç¼“å­˜åˆ°ä¸€ä¸ªç¼“å†²åŒºã€‚ Java NIOçš„ç¼“å†²å¯¼å‘æ–¹æ³•ç•¥æœ‰ä¸åŒã€‚æ•°æ®è¯»å–åˆ°ä¸€ä¸ªå®ƒç¨åå¤„ç†çš„ç¼“å†²åŒºï¼Œéœ€è¦æ—¶å¯åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚è¿™å°±å¢åŠ äº†å¤„ç†è¿‡ç¨‹ä¸­çš„çµæ´»æ€§ã€‚ é˜»å¡ä¸éé˜»å¡IOJava IOçš„å„ç§æµæ˜¯é˜»å¡çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨read() æˆ– write()æ—¶ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€äº›æ•°æ®è¢«è¯»å–ï¼Œæˆ–æ•°æ®å®Œå…¨å†™å…¥ã€‚è¯¥çº¿ç¨‹åœ¨æ­¤æœŸé—´ä¸èƒ½å†å¹²ä»»ä½•äº‹æƒ…äº†ã€‚ Java NIOçš„éé˜»å¡æ¨¡å¼ï¼Œä½¿ä¸€ä¸ªçº¿ç¨‹ä»æŸé€šé“å‘é€è¯·æ±‚è¯»å–æ•°æ®ï¼Œä½†æ˜¯å®ƒä»…èƒ½å¾—åˆ°ç›®å‰å¯ç”¨çš„æ•°æ®ï¼Œå¦‚æœç›®å‰æ²¡æœ‰æ•°æ®å¯ç”¨æ—¶ï¼Œè¯¥çº¿ç¨‹å¯ä»¥ç»§ç»­åšå…¶ä»–çš„äº‹æƒ…ã€‚ éé˜»å¡å†™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚å†™å…¥ä¸€äº›æ•°æ®åˆ°æŸé€šé“ï¼Œä½†ä¸éœ€è¦ç­‰å¾…å®ƒå®Œå…¨å†™å…¥ï¼Œè¿™ä¸ªçº¿ç¨‹åŒæ—¶å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ã€‚çº¿ç¨‹é€šå¸¸å°†éé˜»å¡IOçš„ç©ºé—²æ—¶é—´ç”¨äºåœ¨å…¶å®ƒé€šé“ä¸Šæ‰§è¡ŒIOæ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ç°åœ¨å¯ä»¥ç®¡ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“ï¼ˆchannelï¼‰ã€‚ é€‰æ‹©å™¨ï¼ˆSelectorsï¼‰Java NIOçš„é€‰æ‹©å™¨å…è®¸ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹æ¥ç›‘è§†å¤šä¸ªè¾“å…¥é€šé“ï¼Œä½ å¯ä»¥æ³¨å†Œå¤šä¸ªé€šé“ä½¿ç”¨ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹æ¥â€œé€‰æ‹©â€é€šé“ï¼šè¿™äº›é€šé“é‡Œå·²ç»æœ‰å¯ä»¥å¤„ç†çš„è¾“å…¥ï¼Œæˆ–è€…é€‰æ‹©å·²å‡†å¤‡å†™å…¥çš„é€šé“ã€‚è¿™ç§é€‰æ‹©æœºåˆ¶ï¼Œä½¿å¾—ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹å¾ˆå®¹æ˜“æ¥ç®¡ç†å¤šä¸ªé€šé“ã€‚ Java AIO ç®€å•äº†è§£AIOå°±æ˜¯å¼‚æ­¥éé˜»å¡IOï¼ŒAå°±æ˜¯asynchronousçš„æ„æ€ï¼Œå› ä¸ºNIO1.0è™½ç„¶é¢å‘ç¼“å†²ï¼Œåˆ©ç”¨å¤šè·¯å¤é€‰å™¨å®ç°äº†åŒæ­¥éé˜»å¡IOï¼Œå¯æ˜¯åœ¨NIO1.0ä¸­éœ€è¦ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ä¸æ–­å»è½®è¯¢å°±ç»ªé›†åˆï¼Œå¼€é”€ä¹Ÿæ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæ‰€ä»¥åœ¨jdk1.7ä¸­æ‰©å±•äº†NIOï¼Œç§°ä¹‹ä¸ºNIO2.0ï¼ŒNIO2.0ä¸­å¼•å…¥äº†AIOï¼Œæ­¤å¤–NIO2.0ä¸­è¿˜å¼•å…¥äº†å¼‚æ­¥æ–‡ä»¶é€šé“ï¼Œé‚£ä¹ˆç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°å¼‚æ­¥çš„å‘¢ï¼Ÿ AIO æœ‰ä¸‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒçš„ç‰¹ç‚¹ä¹Ÿå¯ä»¥è¯´æ˜å®ƒæ˜¯å¦‚ä½•å®Œæˆå¼‚æ­¥è¿™æ ·çš„æ“ä½œçš„ï¼š â‘ è¯»å®Œäº†å†é€šçŸ¥æˆ‘ï¼› â‘¡ä¸ä¼šåŠ å¿« I/Oï¼Œåªæ˜¯åœ¨è¯»å®Œåè¿›è¡Œé€šçŸ¥ï¼› â‘¢ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œè¿›è¡Œä¸šåŠ¡å¤„ç†ï¼› AIO çš„æ ¸å¿ƒåŸç†å°±æ˜¯ï¼šå¯¹å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„å„ç§æ“ä½œè¿›è¡Œå›è°ƒå‡½æ•°çš„æ³¨å†Œï¼ˆé€šè¿‡å®ç°ä¸€ä¸ªCompletionHandleræ¥å£ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªcompletedçš„æˆåŠŸæ“ä½œæ–¹æ³•å’Œä¸€ä¸ªfailçš„å¤±è´¥æ–¹æ³•ï¼‰ã€‚åœ¨å®ŒæˆæŸä¸ªæ“ä½œä¹‹åï¼Œå°±ä¼šè‡ªå·±å»è°ƒç”¨è¯¥æ³¨å†Œåˆ°è¯¥æ“ä½œçš„å›è°ƒå‡½æ•°ï¼Œè¾¾åˆ°å¼‚æ­¥çš„æ•ˆæœã€‚ BIO/ NIO/ AIO çš„ç®€å•ç†è§£æˆ‘ä»¬åœ¨è¿™é‡Œå‡è®¾ä¸€ä¸ªçƒ§äº†ä¸€æ’å¼€æ°´çš„åœºæ™¯ï¼ŒBIOï¼ˆåŒæ­¥é˜»å¡IOï¼‰çš„åšæ³•å°±æ˜¯ï¼Œå«ä¸€ä¸ªçº¿ç¨‹åœç•™åœ¨ä¸€ä¸ªæ°´å£¶é‚£ï¼Œç›´åˆ°è¿™ä¸ªæ°´å£¶çƒ§å¼€æˆ‘å†å»å¤„ç†ä¸‹ä¸€ä¸ªæ°´å£¶ï¼›NIOï¼ˆå‡†å¤‡å¥½å†é€šçŸ¥æˆ‘ï¼ŒåŒæ­¥éé˜»å¡IOï¼‰çš„åšæ³•å°±æ˜¯å«ä¸€ä¸ªçº¿ç¨‹ä¸æ–­åœ°å»è¯¢é—®æ¯ä¸ªæ°´å£¶çš„çŠ¶æ€ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰æ°´å£¶çš„çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œå˜åŒ–åˆ™å†å»åšç›¸åº”çš„å¤„ç†ï¼›AIOï¼ˆè¯»å®Œäº†å†é€šçŸ¥æˆ‘ï¼Œå¼‚æ­¥éé˜»å¡IOï¼‰çš„åšæ³•æ˜¯åœ¨æ¯ä¸ªæ°´å£¶ä¸Šéƒ½å®‰è£…ä¸€ä¸ªè£…ç½®ï¼Œå½“æ°´å£¶çƒ§å¼€ä¹‹åå°±ä¼šè‡ªåŠ¨é€šçŸ¥æˆ‘æ°´å£¶çƒ§å¼€äº†è®©æˆ‘åšç›¸åº”çš„å¤„ç†ï¼› å¦‚æœè¿˜è§‰å¾—ç†è§£èµ·æ¥æœ‰å›°éš¾çš„ç«¥é‹å»ºè®®é˜…è¯»ä»¥ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡ä¼šæœ‰æ”¶è·ï¼šhttp://loveshisong.cn/ç¼–ç¨‹æŠ€æœ¯/2016-06-25-ååˆ†é’Ÿäº†è§£BIO-NIO-AIO.html BIOã€NIOã€AIOé€‚ç”¨åœºæ™¯åˆ†æ BIOæ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®æ¯”è¾ƒå°ä¸”å›ºå®šçš„æ¶æ„ï¼Œè¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨èµ„æºè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼ŒJDK1.4ä»¥å‰çš„å”¯ä¸€é€‰æ‹©ï¼Œä½†ç¨‹åºç›´è§‚ç®€å•æ˜“ç†è§£ã€‚ NIOæ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒçŸ­ï¼ˆè½»æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚èŠå¤©æœåŠ¡å™¨ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK1.4å¼€å§‹æ”¯æŒã€‚ AIOæ–¹å¼ä½¿ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒé•¿ï¼ˆé‡æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚ç›¸å†ŒæœåŠ¡å™¨ï¼Œå……åˆ†è°ƒç”¨OSå‚ä¸å¹¶å‘æ“ä½œï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK7å¼€å§‹æ”¯æŒã€‚ ç®€å•æ€»ç»“è¿™ç¯‡æ–‡ç« å¤§é‡å¤åˆ¶ç²˜è´´åˆ°ã€Šæ·±å…¥åˆ†æ Java Web æŠ€æœ¯å†…å¹•ã€‹ç¬¬äºŒèŠ‚â€œæ·±å…¥åˆ†æ Java I/O çš„å·¥ä½œæœºåˆ¶â€çš„å†…å®¹ï¼Œæ²¡åŠæ³•ç¡®å®å¾ˆå¤šæè¿°æ€§çš„æ¦‚å¿µä»¥åŠè¯´æ˜ï¼Œè‡ªå·±çš„è¯´æ˜ä¹Ÿæ²¡æœ‰è¾¾åˆ°ç”¨ç®€å•è¯­è¨€èƒ½æè¿°å¤æ‚äº‹ç‰©çš„ç¨‹åº¦..æ‰€ä»¥å¯èƒ½çœ‹èµ·æ¥è¿™ç¯‡æ–‡ç« ä¼šæœ‰é‚£ä¹ˆç‚¹å„¿éš¾ä»¥ä¸‹å’½..æˆ‘è‡ªå·±çš„è¯ä¹Ÿæ˜¯ä¸ºäº†å†™ç€ä¸€ç¯‡æ–‡ç« æŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œä¹¦ä¹Ÿæ˜¯ç¿»äº†å¾ˆå¤šå¾ˆå¤šéæ‰å¯¹Java ä¸­çš„ I/O ç›¸å…³çš„çŸ¥è¯†æœ‰æ‰€ç†Ÿæ‚‰ï¼Œä¸è¿‡è€—è´¹çš„æ—¶é—´ä¹Ÿæ˜¯å€¼å¾—çš„ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›è§‚çœ‹æ–‡ç« çš„ä½ èƒ½å¤Ÿæœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿å„ä½æŒ‡æ­£ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ç§‹æ‹›æå‰æ‰¹ï¼ˆCVTEä¸€é¢æŒ‚ã€é˜¿é‡Œä¸‰é¢æŒ‚ï¼‰","slug":"ç§‹æ‹›æå‰æ‰¹ï¼ˆCVTEä¸€é¢æŒ‚ã€é˜¿é‡Œä¸‰é¢æŒ‚ï¼‰","date":"2018-08-14T22:58:00.000Z","updated":"2020-08-03T09:08:24.890Z","comments":true,"path":"2018/08/15/qiu-zhao-ti-qian-pi-cvte-yi-mian-gua-a-li-san-mian-gua/","link":"","permalink":"http://www.wmyskxz.com/2018/08/15/qiu-zhao-ti-qian-pi-cvte-yi-mian-gua-a-li-san-mian-gua/","excerpt":"","text":"7æœˆ27æ—¥ï¼šCVTEä¸€é¢ 30åˆ†é’Ÿï¼ˆæŒ‚ï¼‰ è‡ªæˆ‘ä»‹ç» æœ‰æ²¡æœ‰åšè¿‡JavaWebç›¸å…³çš„é¡¹ç›®ï¼Ÿä½ è§‰å¾—éš¾ç‚¹åœ¨å“ªé‡Œå‘¢ï¼Ÿ ä½ è¿™ä¸ªåšå®¢ç³»ç»Ÿæœ‰æ²¡æœ‰åŠ æƒé™ç³»ç»Ÿï¼Ÿå¦‚æœè¢«æ‹¦æˆªå°åŒ…è·å–äº†è´¦å·å¯†ç æ€ä¹ˆåŠï¼Ÿï¼ˆæ²¡åŠ ï¼Œå‡‰æ‹Œ..ï¼‰ ç”¨è¿‡äº‹åŠ¡å—ï¼Ÿæ€ä¹ˆç”¨çš„ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Ÿ Springä¸­çš„@Transactionalæ”¾åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿï¼ˆä¸çŸ¥é“..ï¼‰ ä½ å¯¹Javaå“ªä¸€ä¸ªæ–¹é¢çš„çŸ¥è¯†ç†Ÿæ‚‰ï¼Ÿ List/ Set/ Mapæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è°ˆä¸€ä¸‹HashMapæ’å…¥å…ƒç´ çš„è¿‡ç¨‹ï¼Ÿ HashMapå®‰å…¨å—ï¼Ÿé‚£æœ‰å®‰å…¨çš„Mapå—ï¼Ÿ å¤šçº¿ç¨‹å¹¶å‘æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿåˆšæ‰å®‰å…¨çš„Mapæ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿ Javaä¸­å®ç°å¤šçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿ æ€»ä½“æ„Ÿè§‰CVTEä¸€é¢è¿˜æ²¡å¼€å§‹é—®å°±å·²ç»ç»“æŸäº†â€¦æ‰€ä»¥é¢å®Œæ„Ÿè§‰æŒºä¸å¥½çš„ï¼Œæ€»è§‰å¾—è‡ªå·±ä¼šå‡‰å‡‰â€¦ç»“æœä¸€æŸ¥ç»“æœçœŸå‡‰äº†â€¦æ‡µé€¼â€¦ 7æœˆ30æ—¥ï¼šé˜¿é‡Œä¸€é¢ 36åˆ†é’Ÿ è‡ªæˆ‘ä»‹ç» é¢è¯•å®˜å¼€å§‹è‡ªå·±ä»‹ç»ä»–æ‰€å±çš„éƒ¨é—¨ç„¶åå¹³æ—¶çš„ä¸€äº›ä¸šåŠ¡ è¯´ä¸€ä¸‹HashMapçš„åº•å±‚ç»“æ„ï¼Ÿ ä¸ºä»€ä¹ˆ1.8è¦å¼•å…¥çº¢é»‘æ ‘è¿™ç§ç»“æ„å‘¢ï¼Ÿ HashMapçº¿ç¨‹å®‰å…¨å—ï¼Ÿé‚£æœ‰æ²¡æœ‰çº¿ç¨‹å®‰å…¨çš„Mapï¼Ÿï¼ˆConcurrentHashMapè¿˜æœ‰ä¸€ä¸ªCollectionsç±»ä¸­çš„é™æ€å†…éƒ¨ç±»SynrhonizedMapï¼‰ ConcurrentHashMapåº•å±‚ç»“æ„ï¼Ÿ å¯¹JDK1.5çš„concurrentåŒ…äº†è§£å—ï¼Ÿï¼ˆä¸äº†è§£â€¦ï¼‰ Javaä¸­æœ‰ä¸¤ç§é”™è¯¯ä½ èƒ½è¯´ä¸€ä¸‹å˜›ï¼Ÿï¼ˆæƒ³ä¸èµ·å…·ä½“åå­—æ¥äº†..è§£é‡Šäº†åŠå¤©..ï¼‰ è¯´ä¸‹JVMçš„å†…å­˜ç»“æ„ï¼Ÿï¼ˆæœ¬åœ°æ–¹æ³•æ ˆæ‰“æ­»æ²¡æƒ³èµ·æ¥â€¦ï¼‰å †ã€æ ˆåˆ†åˆ«å­˜å‚¨ä»€ä¹ˆä¿¡æ¯ï¼Ÿ è¯´ä¸€ä¸‹æ–°ç”Ÿä»£å’Œæ°¸ä¹…ä»£æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ å¹³æ—¶å­¦æ ¡å­¦ä»€ä¹ˆè¯¾ï¼Ÿç®—æ³•å’Œæ•°æ®ç»“æ„å­¦è¿‡å§ï¼Ÿ è¯´ä¸€ä¸ªä½ å°è±¡æœ€æ·±åˆ»çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥è§£å†³ä»€ä¹ˆå…¸å‹é—®é¢˜ï¼Ÿï¼ˆå †ã€TopKé—®é¢˜ï¼‰ è¯´ä¸€ä¸ªå…¸å‹çš„ç®—æ³•è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå†å›ç­”ä¸€ä¸ªï¼ˆç­”å¾—ä¸å¥½â€¦ï¼‰ è´ªå¿ƒç®—æ³•æœ‰ä»€ä¹ˆä¼˜ç‚¹ç¼ºç‚¹ï¼Ÿè´ªå¿ƒç®—æ³•å¯èƒ½ä¸æ˜¯æœ€ä¼˜è§£é‚£ä»€ä¹ˆç®—æ³•èƒ½è§£å†³å‘¢ï¼Ÿï¼ˆåŠ¨æ€è§„åˆ’è¿™ä¸ªè¯è€æƒ³ä¸èµ·æ¥..ï¼‰ Springäº†è§£å—ï¼Ÿè¯´ä¸€ä¸‹è£…è½½Beançš„è¿‡ç¨‹ï¼Ÿ è®¾è®¡æ¨¡å¼äº†è§£å—ï¼Ÿè¯´å‡ ä¸ªå¸¸ç”¨çš„ è£…é¥°å™¨æ¨¡å¼å’Œä»£ç†æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ çœ‹ä½ åšè¿‡è¿™ä¹ˆå¤šé¡¹ç›®è¯´ä¸€ä¸ªä½ åˆšå¼€å§‹éš¾ä»¥è§£å†³ç„¶åé€šè¿‡ä»€ä¹ˆæ–¹å¼æœ€ç»ˆè§£å†³çš„ï¼Ÿ æœ‰æ²¡æœ‰ä»€ä¹ˆè¦é—®æˆ‘çš„ï¼Ÿ å¹³æ—¶éƒ½æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ æ­£åœ¨å¯å®¤æ”¶æ‹¾ä¸œè¥¿çš„æ—¶å€™é¢„çº¦äº†6åˆ†é’Ÿåé¢è¯•ï¼Œé‚£ä¸ªæ¿€åŠ¨..æ€»çš„æ¥è¯´æ„Ÿè§‰ç­”å¾—ä¸å¥½ï¼Œç¡®å®æ˜¯æ²¡å•¥é¢è¯•ç»éªŒï¼Œæœ‰å¾ˆå¤šä¸œè¥¿è‡ªå·±çŸ¥é“æ²¡æœ‰è¡¨è¾¾ï¼Œä¸è¿‡å›ç­”çš„æ—¶å€™å€’æ˜¯æŒºæœ‰è‡ªä¿¡çš„ï¼Œç”µè¯ä¸€æŒ‚è„‘å­ä¸€å»å›æƒ³.è¯ä¸¸â€¦ä¸è¿‡é¢è¯•å®˜è¿˜ç®—æ˜¯æ¯”è¾ƒå¥½çš„â€¦å¸Œæœ›èƒ½è¿‡å§â€¦ 8æœˆ5æ—¥ï¼šé˜¿é‡ŒäºŒé¢ 60åˆ†é’Ÿ é¢è¯•å®˜å¼€åœºç™½ï¼šä»‹ç»éƒ¨é—¨ã€ä¸šåŠ¡ï¼Œä¸Šä¸€è½®é¢è¯•çš„å¤§æ¦‚æƒ…å†µï¼Œä»Šå¤©å‡†å¤‡èŠä¸€èŠç¼–ç¨‹èƒ½åŠ›å’Œé¡¹ç›®çš„ä¸€äº›é—®é¢˜ï¼› é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹ç‚¹ï¼Ÿä½ æ€ä¹ˆç†è§£å¤šæ€ï¼ŸJavaä¸­æ˜¯æ€ä¹ˆå®ç°å¤šæ€çš„ï¼Ÿ åºåˆ—åŒ–æœ‰äº†è§£è¿‡å—ï¼Ÿ Javaç½‘ç»œI/Oäº†è§£å—ï¼Ÿï¼ˆä¸æ˜¯å¾ˆäº†è§£..ï¼‰HTTPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„è¯¦ç»†è¿‡ç¨‹èƒ½è¯´ä¸‹å—ï¼Ÿ è®¾è®¡é¢˜ï¼šä¸€ä¸ªç½‘ç»œèŠå¤©å®¤æœ‰æ€è·¯å—ï¼Ÿä¸è¦æ±‚ç•Œé¢ï¼Œåªè¯´æ€è·¯ï¼ˆåæ¥æƒ³äº†æƒ³å›ç­”çš„å¾ˆä¸€èˆ¬..ï¼‰ ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼ŸArrayListæ˜¯æ€ä¹ˆæ‰©å®¹çš„ï¼Ÿ Javaä¸­æœ‰ä¸¤ç§å¼‚å¸¸ï¼Œä½ èƒ½è¯´è¯´å˜›ï¼ˆæ„Ÿè§‰æ˜¯çœ‹äº†ä¸Šä¸€ä¸ªé¢è¯•å®˜çš„è¯„ä»·æ¥çœ‹æˆ‘å¤ä¹ æ²¡æœ‰çš„æ„Ÿè§‰..ï¼‰ï¼ŸExceptionåˆåˆ†ä¸ºä¸¤ç§ä½ çŸ¥é“å—ï¼Ÿä¸¾ä¸€ä¸ªRunTimeExceptionä½ é‡åˆ°è¿‡çš„ï¼Ÿï¼ˆæˆ‘è¯´çš„NullPointerï¼‰é™¤äº†è¿™ä¸ªä½ å†è¯´ä¸€ä¸ªï¼Ÿå†ä¸¾ä¸€ä¸ªéRunTimeExceptionï¼Ÿ GCä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿæˆ‘è°ƒç”¨System.gc()èƒ½ä¿è¯GCä¸€å®šå‘ç”Ÿå—ï¼Ÿ ä½ è¯´ä¸€ä¸‹ç±»åŠ è½½å™¨æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿï¼ˆæˆ‘è¯´äº†ä¸€ä¸‹åŒäº²å§”æ´¾æ¨¡å‹..ä½†åæ¥æƒ³é¢è¯•å®˜å¥½åƒé—®çš„æ˜¯æ€ä¹ˆåŠ è½½classï¼Ÿâ€¦ï¼‰æ€ä¹ˆå®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Ÿ è®¾è®¡é¢˜ï¼šç°åœ¨æˆ‘çš„jaråŒ…åœ¨äº‘ä¸Šï¼Œæ€ä¹ˆåŠ¨æ€æ·»åŠ è¿›æˆ‘çš„é¡¹ç›®ä¸­ï¼Ÿï¼ˆä¸çŸ¥é“..åæ¥æƒ³äº†ä¸€ä¸‹è‡ªå·±å†™ClassLoaderåº”è¯¥å¯ä»¥..ï¼‰ çœ‹ä½ ç®€å†æœ‰å‰ç«¯çš„ä¸œè¥¿ï¼Œé‚£å‰ç«¯ç›’å­æ¨¡å‹æœ‰äº†è§£å—ï¼Ÿ å¯ä»¥ç»™marginæˆ–è€…paddingè¿™æ ·çš„å±æ€§èµ‹å€¼ä¸ºè´Ÿæ•°å—ï¼Ÿ æˆ‘æƒ³æŠŠborderå˜æˆä¸€ä¸ªè™šçº¿è¯¥æ€ä¹ˆå†™ï¼Ÿï¼ˆå¿˜äº†å…·ä½“çš„dashedï¼Œåªè®°å¾—border-style..ï¼‰ å¹³å¸¸éƒ½ç”¨ä»€ä¹ˆæ•°æ®åº“ï¼Ÿï¼ˆMySQLï¼‰é‚£MySQLæœ‰ä¸¤ç§å¼•æ“äº†è§£å—ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆè¿™ä¸ªè¯´å¾—æŒºå®Œæ•´çš„ï¼‰æˆ‘è¦ç”¨SQLè·å¾—ä¸€ä¸ªè¡¨çº§é”åº”è¯¥æ€ä¹ˆå†™ï¼Ÿï¼ˆä¸äº†è§£..ï¼‰æˆ‘ç»™ä¸€ä¸ªè¡¨ä¸‰ä¸ªABCåˆ—å»ºäº†ä¸€ä¸ªç»„åˆç´¢å¼•ï¼Œæˆ‘æŸ¥è¯¢Bä¼šç”¨åˆ°ç´¢å¼•å˜›ï¼Ÿï¼ˆä¸çŸ¥é“..ï¼‰ äº‹åŠ¡äº†è§£å—ï¼Ÿå››å¤§åŸºæœ¬ç‰¹æ€§ï¼Ÿä»€ä¹ˆæ˜¯éš”ç¦»æ€§ï¼Ÿæ•°æ®åº“å¹¶å‘æœ‰å‡ ä¸ªéš”ç¦»çº§åˆ«ï¼Ÿï¼ˆæˆ‘è¯´æˆ‘ä»é¢ä¸´çš„é—®é¢˜å¼€å§‹è¯´é¢è¯•å®˜è¯´ä¸ç”¨åªç”¨è¯´å‡ ä¸ªçº§åˆ«å°±å¯ä»¥ï¼‰MySQLé»˜è®¤çº§åˆ«ï¼Ÿä½ ç¡®å®šï¼Ÿï¼ˆç¡®å®š..ï¼‰ å¹³æ—¶æœ‰ç”¨åˆ°ä»€ä¹ˆæ¡†æ¶ï¼Ÿï¼ˆSpring/ SpringMVC/ SpringBoot/ MyBatisï¼‰ MyBatisé—®ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨mapperæ–‡ä»¶ä¸­#{}å’Œ${}æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Springæœ‰ä¸¤å¤§ç‰¹æ€§ï¼Œä½ æ˜¯æ€ä¹ˆç†è§£IoCæ§åˆ¶åè½¬çš„ï¼ŸAOPå®ç°åŸç†ä½ äº†è§£å—ï¼ŸJDKä»£ç†ä¸ºä»€ä¹ˆéè¦å®ç°ä¸€ä¸ªæ¥å£å‘¢ï¼Ÿï¼ˆè¿™ä¸ªä¸€æ—¶é—´å¿˜äº†â€¦ï¼‰ MVCä½ æ˜¯æ€ä¹ˆç†è§£çš„ï¼Ÿ ä»€ä¹ˆæ—¶å€™éœ€è¦é‡å†™equals()ï¼Ÿä»€ä¹ˆæ—¶å€™éœ€è¦é‡å†™hashCode()ï¼Ÿ é¡¹ç›®ç›¸å…³ï¼Œä½ åšå®¢æ˜¯ä»0åˆ°æœ‰çš„ï¼Ÿä¸ºä»€ä¹ˆè¦é€ è¿™ä¸ªè½®å­ï¼Ÿ JavaWebå®‰å…¨æ–¹é¢çš„é—®é¢˜ï¼Œä½ è¿™ä¸ªç•™è¨€å•¥çš„æœ‰æ²¡æœ‰å•¥é—®é¢˜ï¼Ÿï¼ˆXSSæ”»å‡»ï¼‰çŸ¥é“æœ‰é—®é¢˜ä¸ºå•¥ä¸æä¸€ä¸‹ï¼Ÿï¼ˆæˆ‘â€¦ï¼‰ æˆ‘æŠŠé¢è¯•ç»“æœæŠ¥ä¸Šå»ï¼Œä¸€èˆ¬ä¸¤ä¸‰å¤©åå‡ºç»“æœï¼Œæ‹œæ‹œï¼› å› ä¸ºæ˜¯é å›å¿†ï¼Œæ‰€ä»¥æœ‰äº›é—®é¢˜çš„é¡ºåºæœ‰ç‚¹å„¿è®°ä¸å¤ªæ¸…äº†ï¼Œæ¯”è¾ƒåŸºç¡€ä½†æ˜¯æœ‰äº›å®½æ³›..é—®äº†æˆ‘ä¸€äº›å‰ç«¯çš„é—®é¢˜..æ¯”è¾ƒé—æ†¾çš„æ˜¯ç½‘ç»œI/Oè¿™ä¸€å—è‡ªå·±ä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œç„¶åé‚£ä¸€é“è®¾è®¡é¢˜è‡ªå·±æ²¡æœ‰å›ç­”å¾—å¾ˆå¥½..é¢è¯•å®˜è¯´çœ‹å¾—å‡ºæˆ‘åŸºç¡€è¿˜è¡Œå°±æ˜¯æ·±åº¦ä¸å¤Ÿï¼Œä»–è¯´è¦çœ‹æ€»ä½“çš„é¢è¯•æƒ…å†µå¦‚æœé å‰å°±å®‰æ’ä¸‹ä¸€è½®é¢è¯•ï¼Œè®©æˆ‘è‡ªå·±ä¸‹å»å‡†å¤‡ç­‰é€šçŸ¥ï¼Œä½†æ€»è§‰å¾—ä»–åœ¨å¥—è·¯æˆ‘..æ—©ä¸Šè½¬å‘äº†ä¸€åªä¸“å±é”¦é²¤ï¼Œå¸Œæœ›èƒ½å¸¦æ¥å¥½è¿å§.. 8æœˆ13æ—¥ï¼šé˜¿é‡Œä¸‰é¢ï¼ˆP9é’‰é’‰è§†é¢‘é¢ï¼‰ 120åˆ†é’Ÿå·¦å³1.é¢è¯•å®˜è®©è¿›ä¸€ä¸ªé“¾æ¥åšå…­é“é¢˜ï¼Œä¸€ä¸ªå°æ—¶ä¹‹åå®ƒæ¥çœ‹ä»£ç ï¼Œå¯ä»¥æœç´¢èµ„æ–™å•¥çš„éƒ½å¯ä»¥ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·å…­é“é¢˜ï¼šâ‘ åè½¬ä¸€ä¸²å­—ç¬¦ä¸²ï¼›â‘¡ä»ä¸€ä¸²JSONå­—ç¬¦ä¸²ä¸­æå–æ‰€æœ‰çš„ä¸€ä¸ªå±æ€§å¹¶è¾“å‡ºï¼›â‘¢ç»Ÿè®¡ä¸€ä¸²å­—ç¬¦ä¸²ä¸­çš„æ•°å­—ã€è‹±æ–‡å­—æ¯ã€ç©ºæ ¼ã€å…¶ä»–å­—ç¬¦çš„ä¸ªæ•°å¹¶æ‰“å°è¾“å‡ºï¼›â‘£è®¡ç®—Nçš„é˜¶ä¹˜ï¼›â‘¤æ•°ç»„æ’åºç®—æ³•éšä¾¿å†™ï¼›â‘¥åˆ›å»ºä¸‰ä¸ªçº¿ç¨‹ABCï¼Œåˆ†åˆ«æ‰“å°å…¶çº¿ç¨‹ååæ¬¡ï¼Œå¹¶æŒ‰ç…§ABCçš„é¡ºåºæ‰§è¡Œï¼›2.æœ€è¿‘çš„é¡¹ç›®æœ‰æ²¡æœ‰ä»€ä¹ˆæƒ³è¯´çš„ï¼Ÿå°è±¡æ·±åˆ»çš„ï¼Ÿ3.é¡¹ç›®æœ‰ä»€ä¹ˆéš¾ç‚¹ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ4.è®¾è®¡æ¨¡å¼æœ‰äº†è§£è¿‡å“ªäº›ï¼Ÿæ¨¡æ¿æ¨¡å¼åº”ç”¨äºä»€ä¹ˆæ ·çš„åœºæ™¯ï¼Ÿ5.OSIä¸ƒå±‚æ¨¡å‹çŸ¥é“å—ï¼ŸIPåœ¨å“ªä¸€å±‚ï¼ŸTCPåœ¨å“ªä¸€å±‚ï¼Ÿ6.å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†æœ‰äº†è§£å—ï¼Ÿ7.è°ˆè°ˆå¯¹BIO/ NIO/ AIOçš„ç†è§£ï¼Ÿï¼ˆæœ‰ç‚¹å¿˜äº†..è¯´çš„æœ‰ç‚¹é—®é¢˜é¢è¯•å®˜ç»™è§£é‡Šäº†ä¸€ä¸‹..ï¼‰åˆ†åˆ«ç”¨äºä»€ä¹ˆæ ·çš„åœºæ™¯ï¼Ÿ8.SpringBootä½ è§‰å¾—å¯¹äºMVCæœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ9.å¹³æ—¶æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ10.æœ‰ä»€ä¹ˆè¦é—®çš„..ç„¶åé—®äº†ä¸€äº›è‡ªå·±å…³å¿ƒçš„é—®é¢˜ï¼Œå¹¶è®©é¢è¯•å®˜ç»™æˆ‘ä¸€äº›å»ºè®®ï¼Œæ„Ÿè§‰è‡ªå·±å‡‰å‡‰.. ç¬¬äºŒå¤©ä¸‹åˆæ›´æ–°äº†çŠ¶æ€æ˜¾ç¤ºå·²å›ç»äº†.. ç®€å•æ€»ç»“å…¶å®è‡ªå·±æŠ•äº†è›®å¤šå…¬å¸çš„ï¼Œä½†æ˜¯ç›®å‰æ¥åˆ°ç”µè¯å¹¶ä¸”é¢è¯•çš„ï¼Œå°±åªæœ‰é˜¿é‡Œå’ŒCVTEï¼Œç‰¹åˆ«æ˜¯CVTEæ„Ÿè§‰è¿˜è›®æ•ˆç‡çš„..æŠ•é€’äº†æ²¡è¿‡å‡ å¤©å°±æ‰“ç”µè¯é¢„çº¦é¢è¯•äº†ï¼Œemm..è™½ç„¶ä¸¤å®¶å…¬å¸æå‰æ‰¹çš„é¢è¯•éƒ½æŒ‚äº†..ä½†æˆ‘å·²ç»é‡æ–°ç”³è¯·äº†æ­£å¸¸çš„ç½‘ç”³æµç¨‹..å˜»å˜»..æ„Ÿè§‰è¿˜æ˜¯åŸºç¡€è‡³ä¸Šå§..è€Œä¸”çš„è¯ï¼Œç”µè¯é¢è¯•çš„ç»éªŒä¹Ÿå¾ˆé‡è¦ï¼Œç°åœ¨å›æƒ³CVTEä¸€é¢çš„æ—¶å€™ç¡®å®è‡ªå·±ä¹Ÿä¸çŸ¥é“æ˜¯ä¸ªå•¥çŠ¶æ€..é—®é¢˜ä¹Ÿæ²¡æœ‰å›ç­”å¾ˆå¥½..æŒ‚çš„é‚£è‡ªç„¶ä¹Ÿæ˜¯ç†æ‰€å½“ç„¶..å¯¹äºé˜¿é‡Œçš„è¯å°±æ¯”è¾ƒå¯æƒœå§..ç‰¹åˆ«æ˜¯ä¸‰é¢ï¼Œé—®çš„é—®é¢˜éƒ½ä¸æ˜¯è‡ªå·±ä¸çŸ¥é“çš„ï¼Œè€Œå·®ä¸å¤šéƒ½æ˜¯è‡ªå·±æœ‰äº›é—å¿˜æˆ–è€…ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„..å†³å®šè¿˜æ˜¯æŠ“ç´§æ—¶é—´å›ç‚‰é”»é€ é”»é€ .. ä¸è¿‡å¹¸è¿çš„æ˜¯è¿™åªæ˜¯æå‰æ‰¹å§..è‡ªå·±è¿˜æ˜¯æœ‰ä¸€äº›æ—¶é—´å»å‡†å¤‡ï¼Œé€šè¿‡ä¸Šé¢çš„å››æ¬¡é¢è¯•ä¹Ÿæ˜¯çŸ¥é“äº†è‡ªå·±çš„ä¸è¶³ï¼Œå¦å¤–æƒ³è¯´çš„ä¸€ç‚¹æ˜¯ï¼šä¸¾ä¸€åä¸‰çš„èƒ½åŠ›ï¼Œé˜¿é‡Œä¸‰é¢ä¹Ÿè·Ÿé¢è¯•å®˜æœ‰èŠåˆ°ï¼Œå°±æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä½ å›ç­”çš„æ—¶å€™æœ€å¥½èƒ½å¤Ÿå¼•ç”³å‡ºå…¶ä»–ç›¸å…³çš„ä¸€äº›ä¸œè¥¿ï¼Œæ¢ä½æ€è€ƒçš„è§’åº¦è®²ï¼Œé¢è¯•å®˜å¸Œæœ›è¿™æ ·ï¼Œè€Œä½ åˆèƒ½å¾ˆå¥½çš„å±•ç°è‡ªå·±çš„èƒ½åŠ›å’ŒåŸºç¡€çŸ¥è¯†ï¼Œç‰¹åˆ«æ‹…å¿ƒé‚£ç§è‡ªå·±æ˜æ˜çŸ¥é“å´è¯´ä¸å¥½çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯é—æ¼äº†ä¸€äº›ç‚¹çš„é—®é¢˜ï¼Œè¿˜æ˜¯ä¸‹æ¥éœ€è¦å¤šèŠ±æ—¶é—´å‡†å¤‡å§..åŠ æ²¹.. æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"},{"name":"é¢è¯•","slug":"ç¼–ç¨‹äººç”Ÿ/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé›†åˆå¿…ä¼š14é—®(ç²¾é€‰é¢è¯•é¢˜æ•´ç†)","slug":"Javaé›†åˆå¿…ä¼š14é—®-ç²¾é€‰é¢è¯•é¢˜æ•´ç†","date":"2018-07-27T22:56:00.000Z","updated":"2020-08-03T09:06:21.383Z","comments":true,"path":"2018/07/28/java-ji-he-bi-hui-14-wen-jing-xuan-mian-shi-ti-zheng-li/","link":"","permalink":"http://www.wmyskxz.com/2018/07/28/java-ji-he-bi-hui-14-wen-jing-xuan-mian-shi-ti-zheng-li/","excerpt":"","text":"å‰è¨€ï¼šæŠŠè¿™æ®µæ—¶é—´å¤ä¹ çš„å…³äºé›†åˆç±»çš„ä¸œè¥¿æ•´ç†å‡ºæ¥ï¼Œç‰¹åˆ«æ˜¯HashMapç›¸å…³çš„ä¸€äº›ä¸œè¥¿ï¼Œä¹‹å‰éƒ½æ²¡æœ‰å¾ˆæ³¨æ„1.7 -&gt;&gt; 1.8çš„å˜åŒ–é—®é¢˜ï¼Œä½†åæ¥å‘ç°è¿™å…¶å®å˜åŒ–æŒºå¤§çš„ï¼Œè€Œä¸”å¾ˆå¤šæ•´ç†çš„é¢è¯•èµ„æ–™éƒ½æ²¡æœ‰æ›´æ–°ï¼ˆåŒ…æ‹¬æˆ‘ä¹‹å‰æ•´ç†çš„â€¦ï¼‰ 1ï¼‰è¯´è¯´å¸¸è§çš„é›†åˆæœ‰å“ªäº›å§ï¼Ÿç­”ï¼šMapæ¥å£å’ŒCollectionæ¥å£æ˜¯æ‰€æœ‰é›†åˆæ¡†æ¶çš„çˆ¶æ¥å£ï¼š Collectionæ¥å£çš„å­æ¥å£åŒ…æ‹¬ï¼šSetæ¥å£å’ŒListæ¥å£ Mapæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashMapã€TreeMapã€Hashtableã€ConcurrentHashMapä»¥åŠPropertiesç­‰ Setæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashSetã€TreeSetã€LinkedHashSetç­‰ Listæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Stackä»¥åŠVectorç­‰ 2ï¼‰HashMapä¸HashTableçš„åŒºåˆ«ï¼Ÿç­”ï¼š HashMapæ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼›Hashtableä½¿ç”¨äº†synchronizedå…³é”®å­—ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼› HashMapå…è®¸K/Véƒ½ä¸ºnullï¼›åè€…K/Véƒ½ä¸å…è®¸ä¸ºnullï¼› HashMapç»§æ‰¿è‡ªAbstractMapç±»ï¼›è€ŒHashtableç»§æ‰¿è‡ªDictionaryç±»ï¼› 3ï¼‰HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹ï¼Ÿ å›¾å¼•ç”¨è‡ªï¼šhttps://blog.csdn.net/u011240877/article/details/53358305 ç­”ï¼šä¸‹é¢å…ˆæ¥åˆ†æä¸€ä¸‹æºç  final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { HashMap.Node&lt;K,V>[] tab; HashMap.Node&lt;K,V> p; int n, i; // 1.å¦‚æœtableä¸ºç©ºæˆ–è€…é•¿åº¦ä¸º0ï¼Œå³æ²¡æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨resize()æ–¹æ³•æ‰©å®¹ if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; // 2.è®¡ç®—æ’å…¥å­˜å‚¨çš„æ•°ç»„ç´¢å¼•iï¼Œæ­¤å¤„è®¡ç®—æ–¹æ³•åŒ 1.7 ä¸­çš„indexFor()æ–¹æ³• // å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œå³ä¸å­˜åœ¨Hashå†²çªï¼Œåˆ™ç›´æ¥æ’å…¥æ•°ç»„ if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); // 3.æ’å…¥æ—¶ï¼Œå¦‚æœå‘ç”ŸHashå†²çªï¼Œåˆ™ä¾æ¬¡å¾€ä¸‹åˆ¤æ–­ else { HashMap.Node&lt;K,V> e; K k; // a.åˆ¤æ–­table[i]çš„å…ƒç´ çš„keyæ˜¯å¦ä¸éœ€è¦æ’å…¥çš„keyä¸€æ ·ï¼Œè‹¥ç›¸åŒåˆ™ç›´æ¥ç”¨æ–°çš„valueè¦†ç›–æ‰æ—§çš„value // åˆ¤æ–­åŸåˆ™equals() - æ‰€ä»¥éœ€è¦å½“keyçš„å¯¹è±¡é‡å†™è¯¥æ–¹æ³• if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; // b.ç»§ç»­åˆ¤æ–­ï¼šéœ€è¦æ’å…¥çš„æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘è¿˜æ˜¯é“¾è¡¨ // å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œåˆ™ç›´æ¥åœ¨æ ‘ä¸­æ’å…¥ or æ›´æ–°é”®å€¼å¯¹ else if (p instanceof HashMap.TreeNode) e = ((HashMap.TreeNode&lt;K,V>)p).putTreeVal(this, tab, hash, key, value); // å¦‚æœæ˜¯é“¾è¡¨ï¼Œåˆ™åœ¨é“¾è¡¨ä¸­æ’å…¥ or æ›´æ–°é”®å€¼å¯¹ else { // i .éå†table[i]ï¼Œåˆ¤æ–­keyæ˜¯å¦å·²å­˜åœ¨ï¼šé‡‡ç”¨equalså¯¹æ¯”å½“å‰éå†ç»“ç‚¹çš„keyä¸éœ€è¦æ’å…¥æ•°æ®çš„key // å¦‚æœå­˜åœ¨ç›¸åŒçš„ï¼Œåˆ™ç›´æ¥è¦†ç›– // ii.éå†å®Œæ¯•åä»»åŠ¡å‘ç°ä¸Šè¿°æƒ…å†µï¼Œåˆ™ç›´æ¥åœ¨é“¾è¡¨å°¾éƒ¨æ’å…¥æ•°æ® // æ’å…¥å®Œæˆååˆ¤æ–­é“¾è¡¨é•¿åº¦æ˜¯å¦ > 8ï¼šè‹¥æ˜¯ï¼Œåˆ™æŠŠé“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘ for (int binCount = 0; ; ++binCount) { if ((e = p.next) == null) { p.next = newNode(hash, key, value, null); if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; } if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; } } // å¯¹äºi æƒ…å†µçš„åç»­æ“ä½œï¼šå‘ç°keyå·²å­˜åœ¨ï¼Œç›´æ¥ç”¨æ–°valueè¦†ç›–æ—§value&amp;è¿”å›æ—§value if (e != null) { // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } ++modCount; // æ’å…¥æˆåŠŸåï¼Œåˆ¤æ–­å®é™…å­˜åœ¨çš„é”®å€¼å¯¹æ•°é‡size > æœ€å¤§å®¹é‡ // å¦‚æœå¤§äºåˆ™è¿›è¡Œæ‰©å®¹ if (++size > threshold) resize(); // æ’å…¥æˆåŠŸæ—¶ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼ˆé»˜è®¤å®ç°ä¸ºç©ºï¼‰ afterNodeInsertion(evict); return null; } å›¾ç‰‡ç®€å•æ€»ç»“ä¸ºï¼š 4ï¼‰HashMapçš„æ‰©å®¹æ“ä½œæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿç­”ï¼šé€šè¿‡åˆ†ææºç æˆ‘ä»¬çŸ¥é“äº†HashMapé€šè¿‡resize()æ–¹æ³•è¿›è¡Œæ‰©å®¹æˆ–è€…åˆå§‹åŒ–çš„æ“ä½œï¼Œä¸‹é¢æ˜¯å¯¹æºç è¿›è¡Œçš„ä¸€äº›ç®€å•åˆ†æï¼š /** * è¯¥å‡½æ•°æœ‰2ä¸­ä½¿ç”¨æƒ…å†µï¼š1.åˆå§‹åŒ–å“ˆå¸Œè¡¨ï¼›2.å½“å‰æ•°ç»„å®¹é‡è¿‡å°ï¼Œéœ€è¦æ‰©å®¹ */ final Node&lt;K,V>[] resize() { Node&lt;K,V>[] oldTab = table;// æ‰©å®¹å‰çš„æ•°ç»„ï¼ˆå½“å‰æ•°ç»„ï¼‰ int oldCap = (oldTab == null) ? 0 : oldTab.length;// æ‰©å®¹å‰çš„æ•°ç»„å®¹é‡ï¼ˆæ•°ç»„é•¿åº¦ï¼‰ int oldThr = threshold;// æ‰©å®¹å‰æ•°ç»„çš„é˜ˆå€¼ int newCap, newThr = 0; if (oldCap > 0) { // é’ˆå¯¹æƒ…å†µ2ï¼šè‹¥æ‰©å®¹å‰çš„æ•°ç»„å®¹é‡è¶…è¿‡æœ€å¤§å€¼ï¼Œåˆ™ä¸å†æ‰©å®¹ if (oldCap >= MAXIMUM_CAPACITY) { threshold = Integer.MAX_VALUE; return oldTab; } // é’ˆå¯¹æƒ…å†µ2ï¼šè‹¥æ²¡æœ‰è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å®¹ä¸ºåŸæ¥çš„2å€ï¼ˆå·¦ç§»1ä½ï¼‰ else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap >= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold } // é’ˆå¯¹æƒ…å†µ1ï¼šåˆå§‹åŒ–å“ˆå¸Œè¡¨ï¼ˆé‡‡ç”¨æŒ‡å®šæˆ–è€…ä½¿ç”¨é»˜è®¤å€¼çš„æ–¹å¼ï¼‰ else if (oldThr > 0) // initial capacity was placed in threshold newCap = oldThr; else { // zero initial threshold signifies using defaults newCap = DEFAULT_INITIAL_CAPACITY; newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY); } // è®¡ç®—æ–°çš„resizeä¸Šé™ if (newThr == 0) { float ft = (float)newCap * loadFactor; newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); } threshold = newThr; @SuppressWarnings({\"rawtypes\",\"unchecked\"}) Node&lt;K,V>[] newTab = (Node&lt;K,V>[])new Node[newCap]; table = newTab; if (oldTab != null) { // æŠŠæ¯ä¸€ä¸ªbucketéƒ½ç§»åŠ¨åˆ°æ–°çš„bucketä¸­å» for (int j = 0; j &lt; oldCap; ++j) { Node&lt;K,V> e; if ((e = oldTab[j]) != null) { oldTab[j] = null; if (e.next == null) newTab[e.hash &amp; (newCap - 1)] = e; else if (e instanceof TreeNode) ((TreeNode&lt;K,V>)e).split(this, newTab, j, oldCap); else { // preserve order Node&lt;K,V> loHead = null, loTail = null; Node&lt;K,V> hiHead = null, hiTail = null; Node&lt;K,V> next; do { next = e.next; if ((e.hash &amp; oldCap) == 0) { if (loTail == null) loHead = e; else loTail.next = e; loTail = e; } else { if (hiTail == null) hiHead = e; else hiTail.next = e; hiTail = e; } } while ((e = next) != null); if (loTail != null) { loTail.next = null; newTab[j] = loHead; } if (hiTail != null) { hiTail.next = null; newTab[j + oldCap] = hiHead; } } } } } return newTab; } 5ï¼‰HashMapæ˜¯æ€ä¹ˆè§£å†³å“ˆå¸Œå†²çªçš„ï¼Ÿ å‚è€ƒèµ„æ–™ï¼šhttps://juejin.im/post/5ab99afff265da23a2291dee ç­”ï¼šåœ¨è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯å“ˆå¸Œå†²çªï¼Œè€Œåœ¨äº†è§£å“ˆå¸Œå†²çªä¹‹å‰æˆ‘ä»¬è¿˜è¦çŸ¥é“ä»€ä¹ˆæ˜¯å“ˆå¸Œæ‰è¡Œï¼› ä»€ä¹ˆæ˜¯å“ˆå¸Œï¼ŸHashï¼Œä¸€èˆ¬ç¿»è¯‘ä¸ºâ€œæ•£åˆ—â€ï¼Œä¹Ÿæœ‰ç›´æ¥éŸ³è¯‘ä¸ºâ€œå“ˆå¸Œâ€çš„ï¼Œè¿™å°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥é€šè¿‡æ•£åˆ—ç®—æ³•ï¼Œå˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ï¼ˆå“ˆå¸Œå€¼ï¼‰ï¼›è¿™ç§è½¬æ¢æ˜¯ä¸€ç§å‹ç¼©æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ï¼Œæ•£åˆ—å€¼çš„ç©ºé—´é€šå¸¸è¿œå°äºè¾“å…¥çš„ç©ºé—´ï¼Œä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šæ•£åˆ—æˆç›¸åŒçš„è¾“å‡ºï¼Œæ‰€ä»¥ä¸å¯èƒ½ä»æ•£åˆ—å€¼æ¥å”¯ä¸€çš„ç¡®å®šè¾“å…¥å€¼ã€‚ç®€å•çš„è¯´å°±æ˜¯ä¸€ç§å°†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯å‹ç¼©åˆ°æŸä¸€å›ºå®šé•¿åº¦çš„æ¶ˆæ¯æ‘˜è¦çš„å‡½æ•°ã€‚ æ‰€æœ‰æ•£åˆ—å‡½æ•°éƒ½æœ‰å¦‚ä¸‹ä¸€ä¸ªåŸºæœ¬ç‰¹æ€§ï¼šæ ¹æ®åŒä¸€æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºçš„æ•£åˆ—å€¼å¦‚æœä¸åŒï¼Œé‚£ä¹ˆè¾“å…¥å€¼è‚¯å®šä¹Ÿä¸åŒã€‚ä½†æ˜¯ï¼Œæ ¹æ®åŒä¸€æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºçš„æ•£åˆ—å€¼å¦‚æœç›¸åŒï¼Œè¾“å…¥å€¼ä¸ä¸€å®šç›¸åŒã€‚ ä»€ä¹ˆæ˜¯å“ˆå¸Œå†²çªï¼Ÿå½“ä¸¤ä¸ªä¸åŒçš„è¾“å…¥å€¼ï¼Œæ ¹æ®åŒä¸€æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºç›¸åŒçš„æ•£åˆ—å€¼çš„ç°è±¡ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒå«åšç¢°æ’ï¼ˆå“ˆå¸Œç¢°æ’ï¼‰ã€‚ HashMapçš„æ•°æ®ç»“æ„åœ¨Javaä¸­ï¼Œä¿å­˜æ•°æ®æœ‰ä¸¤ç§æ¯”è¾ƒç®€å•çš„æ•°æ®ç»“æ„ï¼šæ•°ç»„å’Œé“¾è¡¨ã€‚æ•°ç»„çš„ç‰¹ç‚¹æ˜¯ï¼šå¯»å€å®¹æ˜“ï¼Œæ’å…¥å’Œåˆ é™¤å›°éš¾ï¼›é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯ï¼šå¯»å€å›°éš¾ï¼Œä½†æ’å…¥å’Œåˆ é™¤å®¹æ˜“ï¼›æ‰€ä»¥æˆ‘ä»¬å°†æ•°ç»„å’Œé“¾è¡¨ç»“åˆåœ¨ä¸€èµ·ï¼Œå‘æŒ¥ä¸¤è€…å„è‡ªçš„ä¼˜åŠ¿ï¼Œä½¿ç”¨ä¸€ç§å«åšé“¾åœ°å€æ³•çš„æ–¹å¼å¯ä»¥è§£å†³å“ˆå¸Œå†²çªï¼š è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†æ‹¥æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„å¯¹è±¡ç»„ç»‡æˆä¸€ä¸ªé“¾è¡¨æ”¾åœ¨hashå€¼æ‰€å¯¹åº”çš„bucketä¸‹ï¼Œä½†ç›¸æ¯”äºhashCodeè¿”å›çš„intç±»å‹ï¼Œæˆ‘ä»¬HashMapåˆå§‹çš„å®¹é‡å¤§å°DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4ï¼ˆå³2çš„å››æ¬¡æ–¹16ï¼‰è¦è¿œå°äºintç±»å‹çš„èŒƒå›´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¦‚æœåªæ˜¯å•çº¯çš„ç”¨hashCodeå–ä½™æ¥è·å–å¯¹åº”çš„bucketè¿™å°†ä¼šå¤§å¤§å¢åŠ å“ˆå¸Œç¢°æ’çš„æ¦‚ç‡ï¼Œå¹¶ä¸”æœ€åæƒ…å†µä¸‹è¿˜ä¼šå°†HashMapå˜æˆä¸€ä¸ªå•é“¾è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¯¹hashCodeä½œä¸€å®šçš„ä¼˜åŒ– hash()å‡½æ•°ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯å› ä¸ºå¦‚æœä½¿ç”¨hashCodeå–ä½™ï¼Œé‚£ä¹ˆç›¸å½“äºå‚ä¸è¿ç®—çš„åªæœ‰hashCodeçš„ä½ä½ï¼Œé«˜ä½æ˜¯æ²¡æœ‰èµ·åˆ°ä»»ä½•ä½œç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯å°±æ˜¯è®©hashCodeå–å€¼å‡ºçš„é«˜ä½ä¹Ÿå‚ä¸è¿ç®—ï¼Œè¿›ä¸€æ­¥é™ä½hashç¢°æ’çš„æ¦‚ç‡ï¼Œä½¿å¾—æ•°æ®åˆ†å¸ƒæ›´å¹³å‡ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„æ“ä½œç§°ä¸ºæ‰°åŠ¨ï¼Œåœ¨JDK 1.8ä¸­çš„hash()å‡½æ•°å¦‚ä¸‹ï¼š static final int hash(Object key) { int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);// ä¸è‡ªå·±å³ç§»16ä½è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼ˆé«˜ä½ä½å¼‚æˆ–ï¼‰ } è¿™æ¯”åœ¨JDK 1.7ä¸­ï¼Œæ›´ä¸ºç®€æ´ï¼Œç›¸æ¯”åœ¨1.7ä¸­çš„4æ¬¡ä½è¿ç®—ï¼Œ5æ¬¡å¼‚æˆ–è¿ç®—ï¼ˆ9æ¬¡æ‰°åŠ¨ï¼‰ï¼Œåœ¨1.8ä¸­ï¼Œåªè¿›è¡Œäº†1æ¬¡ä½è¿ç®—å’Œ1æ¬¡å¼‚æˆ–è¿ç®—ï¼ˆ2æ¬¡æ‰°åŠ¨ï¼‰ï¼› JDK1.8æ–°å¢çº¢é»‘æ ‘ é€šè¿‡ä¸Šé¢çš„é“¾åœ°å€æ³•ï¼ˆä½¿ç”¨æ•£åˆ—è¡¨ï¼‰å’Œæ‰°åŠ¨å‡½æ•°æˆ‘ä»¬æˆåŠŸè®©æˆ‘ä»¬çš„æ•°æ®åˆ†å¸ƒæ›´å¹³å‡ï¼Œå“ˆå¸Œç¢°æ’å‡å°‘ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çš„HashMapä¸­å­˜åœ¨å¤§é‡æ•°æ®æ—¶ï¼ŒåŠ å…¥æˆ‘ä»¬æŸä¸ªbucketä¸‹å¯¹åº”çš„é“¾è¡¨æœ‰nä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆéå†æ—¶é—´å¤æ‚åº¦å°±ä¸ºO(n)ï¼Œä¸ºäº†é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼ŒJDK1.8åœ¨HashMapä¸­æ–°å¢äº†çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„ï¼Œè¿›ä¸€æ­¥ä½¿å¾—éå†å¤æ‚åº¦é™ä½è‡³O(logn)ï¼› æ€»ç»“ç®€å•æ€»ç»“ä¸€ä¸‹HashMapæ˜¯ä½¿ç”¨äº†å“ªäº›æ–¹æ³•æ¥æœ‰æ•ˆè§£å†³å“ˆå¸Œå†²çªçš„ï¼š 1. ä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆä½¿ç”¨æ•£åˆ—è¡¨ï¼‰æ¥é“¾æ¥æ‹¥æœ‰ç›¸åŒhashå€¼çš„æ•°æ®ï¼›2. ä½¿ç”¨2æ¬¡æ‰°åŠ¨å‡½æ•°ï¼ˆhashå‡½æ•°ï¼‰æ¥é™ä½å“ˆå¸Œå†²çªçš„æ¦‚ç‡ï¼Œä½¿å¾—æ•°æ®åˆ†å¸ƒæ›´å¹³å‡ï¼›3. å¼•å…¥çº¢é»‘æ ‘è¿›ä¸€æ­¥é™ä½éå†çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½¿å¾—éå†æ›´å¿«ï¼› 6ï¼‰HashMapä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨hashCode()å¤„ç†åçš„å“ˆå¸Œå€¼ç›´æ¥ä½œä¸ºtableçš„ä¸‹æ ‡ï¼Ÿç­”ï¼šhashCode()æ–¹æ³•è¿”å›çš„æ˜¯intæ•´æ•°ç±»å‹ï¼Œå…¶èŒƒå›´ä¸º-(2 ^ 31)(2 ^ 31 - 1)ï¼Œçº¦æœ‰40äº¿ä¸ªæ˜ å°„ç©ºé—´ï¼Œè€ŒHashMapçš„å®¹é‡èŒƒå›´æ˜¯åœ¨16ï¼ˆåˆå§‹åŒ–é»˜è®¤å€¼ï¼‰2 ^ 30ï¼ŒHashMapé€šå¸¸æƒ…å†µä¸‹æ˜¯å–ä¸åˆ°æœ€å¤§å€¼çš„ï¼Œå¹¶ä¸”è®¾å¤‡ä¸Šä¹Ÿéš¾ä»¥æä¾›è¿™ä¹ˆå¤šçš„å­˜å‚¨ç©ºé—´ï¼Œä»è€Œå¯¼è‡´é€šè¿‡hashCode()è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼å¯èƒ½ä¸åœ¨æ•°ç»„å¤§å°èŒƒå›´å†…ï¼Œè¿›è€Œæ— æ³•åŒ¹é…å­˜å‚¨ä½ç½®ï¼› é¢è¯•å®˜ï¼šé‚£æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ ç­”ï¼š HashMapè‡ªå·±å®ç°äº†è‡ªå·±çš„hash()æ–¹æ³•ï¼Œé€šè¿‡ä¸¤æ¬¡æ‰°åŠ¨ä½¿å¾—å®ƒè‡ªå·±çš„å“ˆå¸Œå€¼é«˜ä½ä½è‡ªè¡Œè¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œé™ä½å“ˆå¸Œç¢°æ’æ¦‚ç‡ä¹Ÿä½¿å¾—æ•°æ®åˆ†å¸ƒæ›´å¹³å‡ï¼› åœ¨ä¿è¯æ•°ç»„é•¿åº¦ä¸º2çš„å¹‚æ¬¡æ–¹çš„æ—¶å€™ï¼Œä½¿ç”¨hash()è¿ç®—ä¹‹åçš„å€¼ä¸è¿ç®—ï¼ˆ&amp;ï¼‰ï¼ˆæ•°ç»„é•¿åº¦ - 1ï¼‰æ¥è·å–æ•°ç»„ä¸‹æ ‡çš„æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼Œè¿™æ ·ä¸€æ¥æ˜¯æ¯”å–ä½™æ“ä½œæ›´åŠ æœ‰æ•ˆç‡ï¼ŒäºŒæ¥ä¹Ÿæ˜¯å› ä¸ºåªæœ‰å½“æ•°ç»„é•¿åº¦ä¸º2çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œh&amp;(length-1)æ‰ç­‰ä»·äºh%lengthï¼Œä¸‰æ¥è§£å†³äº†â€œå“ˆå¸Œå€¼ä¸æ•°ç»„å¤§å°èŒƒå›´ä¸åŒ¹é…â€çš„é—®é¢˜ï¼› é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆæ•°ç»„é•¿åº¦è¦ä¿è¯ä¸º2çš„å¹‚æ¬¡æ–¹å‘¢ï¼Ÿ ç­”ï¼š åªæœ‰å½“æ•°ç»„é•¿åº¦ä¸º2çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œh&amp;(length-1)æ‰ç­‰ä»·äºh%lengthï¼Œå³å®ç°äº†keyçš„å®šä½ï¼Œ2çš„å¹‚æ¬¡æ–¹ä¹Ÿå¯ä»¥å‡å°‘å†²çªæ¬¡æ•°ï¼Œæé«˜HashMapçš„æŸ¥è¯¢æ•ˆç‡ï¼› å¦‚æœ length ä¸º 2 çš„æ¬¡å¹‚ åˆ™ length-1 è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å¿…å®šæ˜¯ 11111â€¦â€¦çš„å½¢å¼ï¼Œåœ¨äº h çš„äºŒè¿›åˆ¶ä¸æ“ä½œæ•ˆç‡ä¼šéå¸¸çš„å¿«ï¼Œè€Œä¸”ç©ºé—´ä¸æµªè´¹ï¼›å¦‚æœ length ä¸æ˜¯ 2 çš„æ¬¡å¹‚ï¼Œæ¯”å¦‚ length ä¸º 15ï¼Œåˆ™ length - 1 ä¸º 14ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º 1110ï¼Œåœ¨äº h ä¸æ“ä½œï¼Œæœ€åä¸€ä½éƒ½ä¸º 0 ï¼Œè€Œ 0001ï¼Œ0011ï¼Œ0101ï¼Œ1001ï¼Œ1011ï¼Œ0111ï¼Œ1101 è¿™å‡ ä¸ªä½ç½®æ°¸è¿œéƒ½ä¸èƒ½å­˜æ”¾å…ƒç´ äº†ï¼Œç©ºé—´æµªè´¹ç›¸å½“å¤§ï¼Œæ›´ç³Ÿçš„æ˜¯è¿™ç§æƒ…å†µä¸­ï¼Œæ•°ç»„å¯ä»¥ä½¿ç”¨çš„ä½ç½®æ¯”æ•°ç»„é•¿åº¦å°äº†å¾ˆå¤šï¼Œè¿™æ„å‘³ç€è¿›ä¸€æ­¥å¢åŠ äº†ç¢°æ’çš„å‡ ç‡ï¼Œå‡æ…¢äº†æŸ¥è¯¢çš„æ•ˆç‡ï¼è¿™æ ·å°±ä¼šé€ æˆç©ºé—´çš„æµªè´¹ã€‚ é¢è¯•å®˜ï¼šé‚£ä¸ºä»€ä¹ˆæ˜¯ä¸¤æ¬¡æ‰°åŠ¨å‘¢ï¼Ÿ ç­”ï¼šè¿™æ ·å°±æ˜¯åŠ å¤§å“ˆå¸Œå€¼ä½ä½çš„éšæœºæ€§ï¼Œä½¿å¾—åˆ†å¸ƒæ›´å‡åŒ€ï¼Œä»è€Œæé«˜å¯¹åº”æ•°ç»„å­˜å‚¨ä¸‹æ ‡ä½ç½®çš„éšæœºæ€§&amp;å‡åŒ€æ€§ï¼Œæœ€ç»ˆå‡å°‘Hashå†²çªï¼Œä¸¤æ¬¡å°±å¤Ÿäº†ï¼Œå·²ç»è¾¾åˆ°äº†é«˜ä½ä½ä½åŒæ—¶å‚ä¸è¿ç®—çš„ç›®çš„ï¼› 7ï¼‰HashMapåœ¨JDK1.7å’ŒJDK1.8ä¸­æœ‰å“ªäº›ä¸åŒï¼Ÿç­”ï¼š ä¸åŒ JDK 1.7 JDK 1.8 å­˜å‚¨ç»“æ„ æ•°ç»„ + é“¾è¡¨ æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ åˆå§‹åŒ–æ–¹å¼ å•ç‹¬å‡½æ•°ï¼šinflateTable() ç›´æ¥é›†æˆåˆ°äº†æ‰©å®¹å‡½æ•°resize()ä¸­ hashå€¼è®¡ç®—æ–¹å¼ æ‰°åŠ¨å¤„ç† = 9æ¬¡æ‰°åŠ¨ = 4æ¬¡ä½è¿ç®— + 5æ¬¡å¼‚æˆ–è¿ç®— æ‰°åŠ¨å¤„ç† = 2æ¬¡æ‰°åŠ¨ = 1æ¬¡ä½è¿ç®— + 1æ¬¡å¼‚æˆ–è¿ç®— å­˜æ”¾æ•°æ®çš„è§„åˆ™ æ— å†²çªæ—¶ï¼Œå­˜æ”¾æ•°ç»„ï¼›å†²çªæ—¶ï¼Œå­˜æ”¾é“¾è¡¨ æ— å†²çªæ—¶ï¼Œå­˜æ”¾æ•°ç»„ï¼›å†²çª &amp; é“¾è¡¨é•¿åº¦ &lt; 8ï¼šå­˜æ”¾å•é“¾è¡¨ï¼›å†²çª &amp; é“¾è¡¨é•¿åº¦ &gt; 8ï¼šæ ‘åŒ–å¹¶å­˜æ”¾çº¢é»‘æ ‘ æ’å…¥æ•°æ®æ–¹å¼ å¤´æ’æ³•ï¼ˆå…ˆè®²åŸä½ç½®çš„æ•°æ®ç§»åˆ°å1ä½ï¼Œå†æ’å…¥æ•°æ®åˆ°è¯¥ä½ç½®ï¼‰ å°¾æ’æ³•ï¼ˆç›´æ¥æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨/çº¢é»‘æ ‘ï¼‰ æ‰©å®¹åå­˜å‚¨ä½ç½®çš„è®¡ç®—æ–¹å¼ å…¨éƒ¨æŒ‰ç…§åŸæ¥æ–¹æ³•è¿›è¡Œè®¡ç®—ï¼ˆå³hashCode -&gt;&gt; æ‰°åŠ¨å‡½æ•° -&gt;&gt; (h&amp;length-1)ï¼‰ æŒ‰ç…§æ‰©å®¹åçš„è§„å¾‹è®¡ç®—ï¼ˆå³æ‰©å®¹åçš„ä½ç½®=åŸä½ç½® or åŸä½ç½® + æ—§å®¹é‡ï¼‰ 8ï¼‰ä¸ºä»€ä¹ˆHashMapä¸­Stringã€Integerè¿™æ ·çš„åŒ…è£…ç±»é€‚åˆä½œä¸ºKï¼Ÿç­”ï¼šStringã€Integerç­‰åŒ…è£…ç±»çš„ç‰¹æ€§èƒ½å¤Ÿä¿è¯Hashå€¼çš„ä¸å¯æ›´æ”¹æ€§å’Œè®¡ç®—å‡†ç¡®æ€§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘Hashç¢°æ’çš„å‡ ç‡ éƒ½æ˜¯finalç±»å‹ï¼Œå³ä¸å¯å˜æ€§ï¼Œä¿è¯keyçš„ä¸å¯æ›´æ”¹æ€§ï¼Œä¸ä¼šå­˜åœ¨è·å–hashå€¼ä¸åŒçš„æƒ…å†µ å†…éƒ¨å·²é‡å†™äº†equals()ã€hashCode()ç­‰æ–¹æ³•ï¼Œéµå®ˆäº†HashMapå†…éƒ¨çš„è§„èŒƒï¼ˆä¸æ¸…æ¥šå¯ä»¥å»ä¸Šé¢çœ‹çœ‹putValueçš„è¿‡ç¨‹ï¼‰ï¼Œä¸å®¹æ˜“å‡ºç°Hashå€¼è®¡ç®—é”™è¯¯çš„æƒ…å†µï¼› é¢è¯•å®˜ï¼šå¦‚æœæˆ‘æƒ³è¦è®©è‡ªå·±çš„Objectä½œä¸ºKåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ ç­”ï¼šé‡å†™hashCode()å’Œequals()æ–¹æ³• é‡å†™hashCode()æ˜¯å› ä¸ºéœ€è¦è®¡ç®—å­˜å‚¨æ•°æ®çš„å­˜å‚¨ä½ç½®ï¼Œéœ€è¦æ³¨æ„ä¸è¦è¯•å›¾ä»æ•£åˆ—ç è®¡ç®—ä¸­æ’é™¤æ‰ä¸€ä¸ªå¯¹è±¡çš„å…³é”®éƒ¨åˆ†æ¥æé«˜æ€§èƒ½ï¼Œè¿™æ ·è™½ç„¶èƒ½æ›´å¿«ä½†å¯èƒ½ä¼šå¯¼è‡´æ›´å¤šçš„Hashç¢°æ’ï¼› é‡å†™equals()æ–¹æ³•ï¼Œéœ€è¦éµå®ˆè‡ªåæ€§ã€å¯¹ç§°æ€§ã€ä¼ é€’æ€§ã€ä¸€è‡´æ€§ä»¥åŠå¯¹äºä»»ä½•énullçš„å¼•ç”¨å€¼xï¼Œx.equals(null)å¿…é¡»è¿”å›falseçš„è¿™å‡ ä¸ªç‰¹æ€§ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿è¯keyåœ¨å“ˆå¸Œè¡¨ä¸­çš„å”¯ä¸€æ€§ï¼› 9ï¼‰ConcurrentHashMapå’ŒHashtableçš„åŒºåˆ«ï¼Ÿç­”ï¼šConcurrentHashMap ç»“åˆäº† HashMap å’Œ HashTable äºŒè€…çš„ä¼˜åŠ¿ã€‚HashMap æ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼ŒHashTable è€ƒè™‘äº†åŒæ­¥çš„é—®é¢˜ã€‚ä½†æ˜¯ HashTable åœ¨æ¯æ¬¡åŒæ­¥æ‰§è¡Œæ—¶éƒ½è¦é”ä½æ•´ä¸ªç»“æ„ã€‚ ConcurrentHashMap é”çš„æ–¹å¼æ˜¯ç¨å¾®ç»†ç²’åº¦çš„ã€‚ é¢è¯•å®˜ï¼šConcurrentHashMapçš„å…·ä½“å®ç°çŸ¥é“å—ï¼Ÿ å‚è€ƒèµ„æ–™ï¼šhttp://www.importnew.com/23610.html ç­”ï¼šåœ¨JDK1.7ä¸­ï¼ŒConcurrentHashMapé‡‡ç”¨Segment + HashEntryçš„æ–¹å¼è¿›è¡Œå®ç°ï¼Œç»“æ„å¦‚ä¸‹ï¼š è¯¥ç±»åŒ…å«ä¸¤ä¸ªé™æ€å†…éƒ¨ç±» HashEntry å’Œ Segment ï¼›å‰è€…ç”¨æ¥å°è£…æ˜ å°„è¡¨çš„é”®å€¼å¯¹ï¼Œåè€…ç”¨æ¥å……å½“é”çš„è§’è‰²ï¼› Segment æ˜¯ä¸€ç§å¯é‡å…¥çš„é” ReentrantLockï¼Œæ¯ä¸ª Segment å®ˆæŠ¤ä¸€ä¸ªHashEntry æ•°ç»„é‡Œå¾—å…ƒç´ ï¼Œå½“å¯¹ HashEntry æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„ Segment é”ã€‚ åœ¨JDK1.8ä¸­ï¼Œæ”¾å¼ƒäº†Segmentè‡ƒè‚¿çš„è®¾è®¡ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯é‡‡ç”¨Node + CAS + Synchronizedæ¥ä¿è¯å¹¶å‘å®‰å…¨è¿›è¡Œå®ç°ï¼Œç»“æ„å¦‚ä¸‹ï¼š æ’å…¥å…ƒç´ è¿‡ç¨‹ï¼ˆå»ºè®®å»çœ‹çœ‹æºç ï¼‰ï¼š å¦‚æœç›¸åº”ä½ç½®çš„Nodeè¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™è°ƒç”¨CASæ’å…¥ç›¸åº”çš„æ•°æ®ï¼› else if ((f = tabAt(tab, i = (n - 1) &amp; hash)) == null) { if (casTabAt(tab, i, null, new Node&lt;K,V>(hash, key, value, null))) break; // no lock when adding to empty bin } å¦‚æœç›¸åº”ä½ç½®çš„Nodeä¸ä¸ºç©ºï¼Œä¸”å½“å‰è¯¥èŠ‚ç‚¹ä¸å¤„äºç§»åŠ¨çŠ¶æ€ï¼Œåˆ™å¯¹è¯¥èŠ‚ç‚¹åŠ synchronizedé”ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹çš„hashä¸å°äº0ï¼Œåˆ™éå†é“¾è¡¨æ›´æ–°èŠ‚ç‚¹æˆ–æ’å…¥æ–°èŠ‚ç‚¹ï¼› if (fh >= 0) { binCount = 1; for (Node&lt;K,V> e = f;; ++binCount) { K ek; if (e.hash == hash &amp;&amp; ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))) { oldVal = e.val; if (!onlyIfAbsent) e.val = value; break; } Node&lt;K,V> pred = e; if ((e = e.next) == null) { pred.next = new Node&lt;K,V>(hash, key, value, null); break; } } } å¦‚æœè¯¥èŠ‚ç‚¹æ˜¯TreeBinç±»å‹çš„èŠ‚ç‚¹ï¼Œè¯´æ˜æ˜¯çº¢é»‘æ ‘ç»“æ„ï¼Œåˆ™é€šè¿‡putTreeValæ–¹æ³•å¾€çº¢é»‘æ ‘ä¸­æ’å…¥èŠ‚ç‚¹ï¼›å¦‚æœbinCountä¸ä¸º0ï¼Œè¯´æ˜putæ“ä½œå¯¹æ•°æ®äº§ç”Ÿäº†å½±å“ï¼Œå¦‚æœå½“å‰é“¾è¡¨çš„ä¸ªæ•°è¾¾åˆ°8ä¸ªï¼Œåˆ™é€šè¿‡treeifyBinæ–¹æ³•è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œå¦‚æœoldValä¸ä¸ºç©ºï¼Œè¯´æ˜æ˜¯ä¸€æ¬¡æ›´æ–°æ“ä½œï¼Œæ²¡æœ‰å¯¹å…ƒç´ ä¸ªæ•°äº§ç”Ÿå½±å“ï¼Œåˆ™ç›´æ¥è¿”å›æ—§å€¼ï¼› å¦‚æœæ’å…¥çš„æ˜¯ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡ŒaddCount()æ–¹æ³•å°è¯•æ›´æ–°å…ƒç´ ä¸ªæ•°baseCountï¼› 10ï¼‰Javaé›†åˆçš„å¿«é€Ÿå¤±è´¥æœºåˆ¶ â€œfail-fastâ€ï¼Ÿç­”ï¼š æ˜¯javaé›†åˆçš„ä¸€ç§é”™è¯¯æ£€æµ‹æœºåˆ¶ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¯¹é›†åˆè¿›è¡Œç»“æ„ä¸Šçš„æ”¹å˜çš„æ“ä½œæ—¶ï¼Œæœ‰å¯èƒ½ä¼šäº§ç”Ÿ fail-fast æœºåˆ¶ã€‚ ä¾‹å¦‚ï¼šå‡è®¾å­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹1ã€çº¿ç¨‹2ï¼‰ï¼Œçº¿ç¨‹1é€šè¿‡Iteratoråœ¨éå†é›†åˆAä¸­çš„å…ƒç´ ï¼Œåœ¨æŸä¸ªæ—¶å€™çº¿ç¨‹2ä¿®æ”¹äº†é›†åˆAçš„ç»“æ„ï¼ˆæ˜¯ç»“æ„ä¸Šé¢çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ç®€å•çš„ä¿®æ”¹é›†åˆå…ƒç´ çš„å†…å®¹ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ç¨‹åºå°±ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ï¼Œä»è€Œäº§ç”Ÿfail-fastæœºåˆ¶ã€‚ åŸå› ï¼šè¿­ä»£å™¨åœ¨éå†æ—¶ç›´æ¥è®¿é—®é›†åˆä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨éå†è¿‡ç¨‹ä¸­ä½¿ç”¨ä¸€ä¸ª modCount å˜é‡ã€‚é›†åˆåœ¨è¢«éå†æœŸé—´å¦‚æœå†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ”¹å˜modCountçš„å€¼ã€‚æ¯å½“è¿­ä»£å™¨ä½¿ç”¨hashNext()/next()éå†ä¸‹ä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œéƒ½ä¼šæ£€æµ‹modCountå˜é‡æ˜¯å¦ä¸ºexpectedmodCountå€¼ï¼Œæ˜¯çš„è¯å°±è¿”å›éå†ï¼›å¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œç»ˆæ­¢éå†ã€‚ è§£å†³åŠæ³•ï¼š 1. åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°æ”¹å˜modCountå€¼å¾—åœ°æ–¹å…¨éƒ¨åŠ ä¸Šsynchronizedã€‚ 2. ä½¿ç”¨CopyOnWriteArrayListæ¥æ›¿æ¢ArrayList 11ï¼‰ArrayList å’Œ Vector çš„åŒºåˆ«ï¼Ÿç­”ï¼š è¿™ä¸¤ä¸ªç±»éƒ½å®ç°äº† List æ¥å£ï¼ˆList æ¥å£ç»§æ‰¿äº† Collection æ¥å£ï¼‰ï¼Œä»–ä»¬éƒ½æ˜¯æœ‰åºé›†åˆï¼Œå³å­˜å‚¨åœ¨è¿™ä¸¤ä¸ªé›†åˆä¸­çš„å…ƒç´ ä½ç½®éƒ½æ˜¯æœ‰é¡ºåºçš„ï¼Œç›¸å½“äºä¸€ç§åŠ¨æ€çš„æ•°ç»„ï¼Œæˆ‘ä»¬ä»¥åå¯ä»¥æŒ‰ä½ç½®ç´¢å¼•æ¥å–å‡ºæŸä¸ªå…ƒç´ ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ•°æ®æ˜¯å…è®¸é‡å¤çš„ï¼Œè¿™æ˜¯ä¸ HashSet ä¹‹ç±»çš„é›†åˆçš„æœ€å¤§ä¸åŒå¤„ï¼ŒHashSet ä¹‹ç±»çš„é›†åˆä¸å¯ä»¥æŒ‰ç´¢å¼•å·å»æ£€ç´¢å…¶ä¸­çš„å…ƒç´ ï¼Œä¹Ÿä¸å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚ ArrayList ä¸ Vector çš„åŒºåˆ«ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼š åŒæ­¥æ€§ï¼šVector æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹åŒæ­¥ï¼ˆåŠ äº†synchronized å…³é”®å­—ï¼‰çš„ï¼Œè€Œ ArrayList æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ ArrayListï¼Œå› ä¸ºå®ƒä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šé«˜ä¸€äº›ï¼›å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ Vectorï¼Œå› ä¸ºä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†å»è€ƒè™‘å’Œç¼–å†™çº¿ç¨‹å®‰å…¨çš„ä»£ç ã€‚ æ•°æ®å¢é•¿ï¼šArrayList ä¸ Vector éƒ½æœ‰ä¸€ä¸ªåˆå§‹çš„å®¹é‡å¤§å°ï¼Œå½“å­˜å‚¨è¿›å®ƒä»¬é‡Œé¢çš„å…ƒç´ çš„ä¸ªäººè¶…è¿‡äº†å®¹é‡æ—¶ï¼Œå°±éœ€è¦å¢åŠ  ArrayList å’Œ Vector çš„å­˜å‚¨ç©ºé—´ï¼Œæ¯æ¬¡è¦å¢åŠ å­˜å‚¨ç©ºé—´æ—¶ï¼Œä¸æ˜¯åªå¢åŠ ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œè€Œæ˜¯å¢åŠ å¤šä¸ªå­˜å‚¨å•å…ƒï¼Œæ¯æ¬¡å¢åŠ çš„å­˜å‚¨å•å…ƒçš„ä¸ªæ•°åœ¨å†…å­˜ç©ºé—´åˆ©ç”¨ä¸ç¨‹åºæ•ˆç‡ä¹‹é—´è¦å»çš„ä¸€å®šçš„å¹³è¡¡ã€‚Vector åœ¨æ•°æ®æ»¡æ—¶ï¼ˆåŠ è½½å› å­1ï¼‰å¢é•¿ä¸ºåŸæ¥çš„ä¸¤å€ï¼ˆæ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 2 å€ï¼‰ï¼Œè€Œ ArrayList åœ¨æ•°æ®é‡è¾¾åˆ°å®¹é‡çš„ä¸€åŠæ—¶ï¼ˆåŠ è½½å› å­ 0.5ï¼‰å¢é•¿ä¸ºåŸå®¹é‡çš„ (0.5 å€ + 1) ä¸ªç©ºé—´ã€‚ 12ï¼‰ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Ÿç­”ï¼š LinkedList å®ç°äº† List å’Œ Deque æ¥å£ï¼Œä¸€èˆ¬ç§°ä¸ºåŒå‘é“¾è¡¨ï¼›ArrayList å®ç°äº† List æ¥å£ï¼ŒåŠ¨æ€æ•°ç»„ï¼› LinkedList åœ¨æ’å…¥å’Œåˆ é™¤æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼ŒArrayList åœ¨æŸ¥æ‰¾æŸä¸ª index çš„æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼› LinkedList æ¯” ArrayList éœ€è¦æ›´å¤šçš„å†…å­˜ï¼› é¢è¯•å®˜ï¼šArray å’Œ ArrayList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åº” Array è€Œä¸æ˜¯ ArrayList å‘¢ï¼Ÿ ç­”ï¼šå®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š Array å¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒArrayList åªèƒ½åŒ…å«å¯¹è±¡ç±»å‹ã€‚ Array å¤§å°æ˜¯å›ºå®šçš„ï¼ŒArrayList çš„å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚ ArrayList æä¾›äº†æ›´å¤šçš„æ–¹æ³•å’Œç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šaddAll()ï¼ŒremoveAll()ï¼Œiterator() ç­‰ç­‰ã€‚ å¯¹äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œé›†åˆä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥å‡å°‘ç¼–ç å·¥ä½œé‡ã€‚ä½†æ˜¯ï¼Œå½“å¤„ç†å›ºå®šå¤§å°çš„åŸºæœ¬æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œè¿™ç§æ–¹å¼ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚ 13ï¼‰HashSetæ˜¯å¦‚ä½•ä¿è¯æ•°æ®ä¸å¯é‡å¤çš„ï¼Ÿç­”ï¼šHashSetçš„åº•å±‚å…¶å®å°±æ˜¯HashMapï¼Œåªä¸è¿‡æˆ‘ä»¬HashSetæ˜¯å®ç°äº†Setæ¥å£å¹¶ä¸”æŠŠæ•°æ®ä½œä¸ºKå€¼ï¼Œè€ŒVå€¼ä¸€ç›´ä½¿ç”¨ä¸€ä¸ªç›¸åŒçš„è™šå€¼æ¥ä¿å­˜ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æºç ï¼š public boolean add(E e) { return map.put(e, PRESENT)==null;// è°ƒç”¨HashMapçš„putæ–¹æ³•,PRESENTæ˜¯ä¸€ä¸ªè‡³å§‹è‡³ç»ˆéƒ½ç›¸åŒçš„è™šå€¼ } ç”±äºHashMapçš„Kå€¼æœ¬èº«å°±ä¸å…è®¸é‡å¤ï¼Œå¹¶ä¸”åœ¨HashMapä¸­å¦‚æœK/Vç›¸åŒæ—¶ï¼Œä¼šç”¨æ–°çš„Vè¦†ç›–æ‰æ—§çš„Vï¼Œç„¶åè¿”å›æ—§çš„Vï¼Œé‚£ä¹ˆåœ¨HashSetä¸­æ‰§è¡Œè¿™ä¸€å¥è¯å§‹ç»ˆä¼šè¿”å›ä¸€ä¸ªfalseï¼Œå¯¼è‡´æ’å…¥å¤±è´¥ï¼Œè¿™æ ·å°±ä¿è¯äº†æ•°æ®çš„ä¸å¯é‡å¤æ€§ï¼› 14ï¼‰BlockingQueueæ˜¯ä»€ä¹ˆï¼Ÿç­”ï¼š Java.util.concurrent.BlockingQueueæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåœ¨è¿›è¡Œæ£€ç´¢æˆ–ç§»é™¤ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå®ƒä¼šç­‰å¾…é˜Ÿåˆ—å˜ä¸ºéç©ºï¼›å½“åœ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå®ƒä¼šç­‰å¾…é˜Ÿåˆ—ä¸­çš„å¯ç”¨ç©ºé—´ã€‚BlockingQueueæ¥å£æ˜¯Javaé›†åˆæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ã€‚æˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒç­‰å¾…ç”Ÿäº§è€…æœ‰å¯ç”¨çš„ç©ºé—´ï¼Œæˆ–æ¶ˆè´¹è€…æœ‰å¯ç”¨çš„å¯¹è±¡ï¼Œå› ä¸ºå®ƒéƒ½åœ¨BlockingQueueçš„å®ç°ç±»ä¸­è¢«å¤„ç†äº†ã€‚Javaæä¾›äº†é›†ä¸­BlockingQueueçš„å®ç°ï¼Œæ¯”å¦‚ArrayBlockingQueueã€LinkedBlockingQueueã€PriorityBlockingQueue,ã€SynchronousQueueç­‰ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"é¢è¯•","slug":"JavaåŸºç¡€/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•(4)â€”â€”ä¼˜å…ˆé˜Ÿåˆ—å’Œå †","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•-4-â€”â€”ä¼˜å…ˆé˜Ÿåˆ—å’Œå †","date":"2018-07-11T22:53:00.000Z","updated":"2020-08-03T09:05:52.642Z","comments":true,"path":"2018/07/12/shu-ju-jie-gou-yu-suan-fa-4-you-xian-dui-lie-he-dui/","link":"","permalink":"http://www.wmyskxz.com/2018/07/12/shu-ju-jie-gou-yu-suan-fa-4-you-xian-dui-lie-he-dui/","excerpt":"","text":"å‰è¨€ï¼šé¢˜å›¾æ— å…³ï¼Œæ¥ä¸‹æ¥å¼€å§‹ç®€å•å­¦ä¹ å­¦ä¹ ä¼˜å…ˆé˜Ÿåˆ—å’Œå †çš„ç›¸å…³æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼› å‰åºæ–‡ç« ï¼š æ•°æ®ç»“æ„ä¸ç®—æ³•(1)â€”â€”æ•°ç»„ä¸é“¾è¡¨ï¼ˆhttps://www.jianshu.com/p/7b93b3570875ï¼‰ æ•°æ®ç»“æ„ä¸ç®—æ³•(2)â€”â€”æ ˆå’Œé˜Ÿåˆ—(https://www.jianshu.com/p/5087c751cb42) æ•°æ®ç»“æ„ä¸ç®—æ³•(3)â€”â€”æ ‘ï¼ˆäºŒå‰ã€äºŒå‰æœç´¢æ ‘ï¼‰(https://www.jianshu.com/p/4ef1f50d45b5) ä»€ä¹ˆæ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼Ÿå¬è¿™ä¸ªåå­—å°±èƒ½çŸ¥é“ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ï¼Œåªä¸è¿‡ä¸åŒçš„æ˜¯ï¼Œä¼˜å…ˆé˜Ÿåˆ—çš„å‡ºé˜Ÿé¡ºåºæ˜¯æŒ‰ç…§ä¼˜å…ˆçº§æ¥çš„ï¼›åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦æ‰¾åˆ°å…ƒç´ é›†åˆä¸­çš„æœ€å°æˆ–è€…æœ€å¤§å…ƒç´ ï¼Œå¯ä»¥åˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—ADTæ¥å®Œæˆæ“ä½œï¼Œä¼˜å…ˆé˜Ÿåˆ—ADTæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ”¯æŒæ’å…¥å’Œåˆ é™¤æœ€å°å€¼æ“ä½œï¼ˆè¿”å›å¹¶åˆ é™¤æœ€å°å…ƒç´ ï¼‰æˆ–åˆ é™¤æœ€å¤§å€¼æ“ä½œï¼ˆè¿”å›å¹¶åˆ é™¤æœ€å¤§å…ƒç´ ï¼‰ï¼› è¿™äº›æ“ä½œç­‰ä»·äºé˜Ÿåˆ—çš„enQueueå’ŒdeQueueæ“ä½œï¼ŒåŒºåˆ«åœ¨äºï¼Œå¯¹äºä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…ƒç´ è¿›å…¥é˜Ÿåˆ—çš„é¡ºåºå¯èƒ½ä¸å…¶è¢«æ“ä½œçš„é¡ºåºä¸åŒï¼Œä½œä¸šè°ƒåº¦æ˜¯ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸€ä¸ªåº”ç”¨å®ä¾‹ï¼Œå®ƒæ ¹æ®ä¼˜å…ˆçº§çš„é«˜ä½è€Œä¸æ˜¯å…ˆåˆ°å…ˆæœåŠ¡çš„æ–¹å¼æ¥è¿›è¡Œè°ƒåº¦ï¼› å¦‚æœæœ€å°é”®å€¼å…ƒç´ æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆè¿™ç§ä¼˜å…ˆé˜Ÿåˆ—å«ä½œå‡åºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå³æ€»æ˜¯å…ˆåˆ é™¤æœ€å°çš„å…ƒç´ ï¼‰ï¼Œç±»ä¼¼çš„ï¼Œå¦‚æœæœ€å¤§é”®å€¼å…ƒç´ æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆè¿™ç§ä¼˜å…ˆé˜Ÿåˆ—å«ä½œé™åºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå³æ€»æ˜¯å…ˆåˆ é™¤æœ€å¤§çš„å…ƒç´ ï¼‰ï¼›ç”±äºè¿™ä¸¤ç§ç±»å‹æ—¶å¯¹ç§°çš„ï¼Œæ‰€ä»¥åªéœ€è¦å…³æ³¨å…¶ä¸­ä¸€ç§ï¼Œå¦‚å‡åºä¼˜å…ˆé˜Ÿåˆ—ï¼› ä¼˜å…ˆé˜Ÿåˆ—ADTä¸‹é¢æ“ä½œç»„æˆäº†ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸€ä¸ªADTï¼› 1.ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸»è¦æ“ä½œä¼˜å…ˆé˜Ÿåˆ—æ˜¯å…ƒç´ çš„å®¹å™¨ï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªç›¸å…³çš„é”®å€¼ï¼› insert(key, data)ï¼šæ’å…¥é”®å€¼ä¸ºkeyçš„æ•°æ®åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œå…ƒç´ ä»¥å…¶keyè¿›è¡Œæ’åºï¼› deleteMin/deleteMaxï¼šåˆ é™¤å¹¶è¿”å›æœ€å°/æœ€å¤§é”®å€¼çš„å…ƒç´ ï¼› getMinimum/getMaximumï¼šè¿”å›æœ€å°/æœ€å¤§å‰‘æŒ‡çš„å…ƒç´ ï¼Œä½†ä¸åˆ é™¤å®ƒï¼› 2.ä¼˜å…ˆé˜Ÿåˆ—çš„è¾…åŠ©æ“ä½œ ç¬¬kæœ€å°/ç¬¬kæœ€å¤§ï¼šè¿”å›ä¼˜å…ˆé˜Ÿåˆ—ä¸­é”®å€¼ä¸ºç¬¬kä¸ªæœ€å°/æœ€å¤§çš„å…ƒç´ ï¼› å¤§å°ï¼ˆsizeï¼‰ï¼šè¿”å›ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ï¼› å †æ’åºï¼ˆHeap Sortï¼‰ï¼šåŸºäºé”®å€¼çš„ä¼˜å…ˆçº§å°†ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼› ä¼˜å…ˆé˜Ÿåˆ—çš„åº”ç”¨ æ•°æ®å‹ç¼©ï¼šèµ«å¤«æ›¼ç¼–ç ç®—æ³•ï¼› æœ€çŸ­è·¯å¾„ç®—æ³•ï¼šDijkstraç®—æ³•ï¼› æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼šPrimç®—æ³•ï¼› äº‹ä»¶é©±åŠ¨ä»¿çœŸï¼šé¡¾å®¢æ’é˜Ÿç®—æ³•ï¼› é€‰æ‹©é—®é¢˜ï¼šæŸ¥æ‰¾ç¬¬kä¸ªæœ€å°å…ƒç´ ï¼› ç­‰ç­‰ç­‰ç­‰â€¦. ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°æ¯”è¾ƒ å®ç° æ’å…¥ åˆ é™¤ å¯»æ‰¾æœ€å°å€¼ æ— åºæ•°ç»„ 1 n n æ— åºé“¾è¡¨ 1 n n æœ‰åºæ•°ç»„ n 1 1 æœ‰åºé“¾è¡¨ n 1 1 äºŒå‰æœç´¢æ ‘ logn(å¹³å‡) logn(å¹³å‡) logn(å¹³å‡) å¹³è¡¡äºŒå‰æœç´¢æ ‘ logn logn logn äºŒå‰å † logn logn 1 å †å’ŒäºŒå‰å †ä»€ä¹ˆæ˜¯å †å †æ˜¯ä¸€é¢—å…·æœ‰ç‰¹å®šæ€§è´¨çš„äºŒå‰æ ‘ï¼Œå †çš„åŸºæœ¬è¦æ±‚å°±æ˜¯å †ä¸­æ‰€æœ‰ç»“ç‚¹çš„å€¼å¿…é¡»å¤§äºæˆ–ç­‰äºï¼ˆæˆ–å°äºæˆ–ç­‰äºï¼‰å…¶å­©å­ç»“ç‚¹çš„å€¼ï¼Œè¿™ä¹Ÿç§°ä¸ºå †çš„æ€§è´¨ï¼›å †è¿˜æœ‰å¦ä¸€ä¸ªæ€§è´¨ï¼Œå°±æ˜¯å½“ h &gt; 0 æ—¶ï¼Œæ‰€æœ‰å¶å­ç»“ç‚¹éƒ½å¤„äºç¬¬ h æˆ– h - 1 å±‚ï¼ˆå…¶ä¸­ h ä¸ºæ ‘çš„é«˜åº¦ï¼Œå®Œå…¨äºŒå‰æ ‘ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå †åº”è¯¥æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼› åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå·¦è¾¹çš„æ ‘ä¸ºå †ï¼ˆæ¯ä¸ªå…ƒç´ éƒ½å¤§äºå…¶å­©å­ç»“ç‚¹çš„å€¼ï¼‰ï¼Œè€Œå³è¾¹çš„æ ‘ä¸æ˜¯å †ï¼ˆå› ä¸º5å¤§äºå…¶å­©å­ç»“ç‚¹2ï¼‰ äºŒå‰å †åœ¨äºŒå‰å †ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­©å­ç»“ç‚¹ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼ŒäºŒå‰å †å·²ç»è¶³å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤æ¥ä¸‹æ¥ä¸»è¦è®¨è®ºäºŒå‰æœ€å°å †å’ŒäºŒå‰æœ€å¤§å †ï¼› å †çš„è¡¨ç¤ºï¼šåœ¨æè¿°å †çš„æ“ä½œå‰ï¼Œé¦–å…ˆæ¥çœ‹å †æ˜¯æ€æ ·è¡¨ç¤ºçš„ï¼Œä¸€ç§å¯èƒ½çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨æ•°ç»„ï¼Œå› ä¸ºå †åœ¨å½¢å¼ä¸Šæ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œç”¨æ•°ç»„æ¥å­˜å‚¨å®ƒä¸ä¼šæµªè´¹ä»»ä½•ç©ºé—´ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š ç”¨æ•°ç»„æ¥è¡¨ç¤ºå †ä¸ä»…ä¸ä¼šæµªè´¹ç©ºé—´è¿˜å…·æœ‰ä¸€å®šçš„ä¼˜åŠ¿ï¼š æ¯ä¸ªç»“ç‚¹çš„å·¦å­©å­ä¸ºä¸‹æ ‡içš„2å€ï¼šleft child(i) = i * 2ï¼›æ¯ä¸ªç»“ç‚¹çš„å³å­©å­ä¸ºä¸‹æ ‡içš„2å€åŠ 1ï¼šright child(i) = i * 2 + 1 æ¯ä¸ªç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹ä¸ºä¸‹æ ‡çš„äºŒåˆ†ä¹‹ä¸€ï¼šparent(i) = i / 2ï¼Œæ³¨æ„è¿™é‡Œæ˜¯æ•´æ•°é™¤ï¼Œ2å’Œ3é™¤ä»¥2éƒ½ä¸º1ï¼Œå¤§å®¶å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼› æ³¨æ„ï¼šè¿™é‡Œæ˜¯æŠŠä¸‹æ ‡ä¸º0çš„åœ°æ–¹ç©ºå‡ºæ¥äº†çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå¦‚æœ0ä¸ç©ºå‡ºæ¥åªéœ€è¦åœ¨è®¡ç®—çš„æ—¶å€™æŠŠiå€¼å¾€å³åç§»ä¸€ä¸ªä½ç½®å°±è¡Œäº†ï¼ˆä¹Ÿå°±æ˜¯åŠ 1ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ï¼Œä¸‹é¢çš„æ¼”ç¤ºä¹Ÿé‡‡å–è¿™æ ·çš„æ–¹å¼ï¼‰ï¼› äºŒå‰å †çš„ç›¸å…³æ“ä½œå †çš„åŸºæœ¬ç»“æ„public class MaxHeap&lt;E extends Comparable&lt;E>> { private Array&lt;E> data; public MaxHeap(int capacity){ data = new Array&lt;>(capacity); } public MaxHeap(){ data = new Array&lt;>(); } // è¿”å›å †ä¸­çš„å…ƒç´ ä¸ªæ•° public int size(){ return data.getSize(); } // è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼, è¡¨ç¤ºå †ä¸­æ˜¯å¦ä¸ºç©º public boolean isEmpty(){ return data.isEmpty(); } // è¿”å›å®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤ºä¸­ï¼Œä¸€ä¸ªç´¢å¼•æ‰€è¡¨ç¤ºçš„å…ƒç´ çš„çˆ¶äº²èŠ‚ç‚¹çš„ç´¢å¼• private int parent(int index){ if(index == 0) throw new IllegalArgumentException(\"index-0 doesn't have parent.\"); return (index - 1) / 2; } // è¿”å›å®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤ºä¸­ï¼Œä¸€ä¸ªç´¢å¼•æ‰€è¡¨ç¤ºçš„å…ƒç´ çš„å·¦å­©å­èŠ‚ç‚¹çš„ç´¢å¼• private int leftChild(int index){ return index * 2 + 1; } // è¿”å›å®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤ºä¸­ï¼Œä¸€ä¸ªç´¢å¼•æ‰€è¡¨ç¤ºçš„å…ƒç´ çš„å³å­©å­èŠ‚ç‚¹çš„ç´¢å¼• private int rightChild(int index){ return index * 2 + 2; } } å‘å †ä¸­æ·»åŠ å…ƒç´ å’ŒSift Upå½“æ’å…¥ä¸€ä¸ªå…ƒç´ åˆ°å †ä¸­æ—¶ï¼Œå®ƒå¯èƒ½ä¸æ»¡è¶³å †çš„æ€§è´¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦è°ƒæ•´å †ä¸­å…ƒç´ çš„ä½ç½®ä½¿ä¹‹é‡æ–°å˜æˆå †ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå †åŒ–ï¼ˆheapifyingï¼‰ï¼›åœ¨æœ€å¤§å †ä¸­ï¼Œè¦å †åŒ–ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦æ‰¾åˆ°å®ƒçš„çˆ¶äº²ç»“ç‚¹ï¼Œå¦‚æœä¸æ»¡è¶³å †çš„åŸºæœ¬æ€§è´¨åˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œé‡å¤è¯¥è¿‡ç¨‹ç›´åˆ°æ¯ä¸ªç»“ç‚¹éƒ½æ»¡è¶³å †çš„æ€§è´¨ä¸ºæ­¢ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š ä¸‹é¢æˆ‘ä»¬åœ¨è¯¥å †ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ 26ï¼š æˆ‘ä»¬é€šè¿‡ç´¢å¼•ï¼ˆä¸Šé¢çš„å…¬å¼ï¼‰å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰¾åˆ°æ–°æ’å…¥å…ƒç´ çš„çˆ¶äº²ç»“ç‚¹ï¼Œç„¶åæ¯”è¾ƒå®ƒä»¬çš„å¤§å°ï¼Œå¦‚æœæ–°å…ƒç´ æ›´å¤§åˆ™äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œè¿™ä¸ªæ“ä½œå°±ç›¸å½“äºæŠŠè¯¥å…ƒç´ ä¸Šæµ®äº†ä¸€ä¸‹ï¼š é‡å¤è¯¥æ“ä½œç›´åˆ°26åˆ°äº†ä¸€ä¸ªæ»¡è¶³å †æ¡ä»¶çš„ä½ç½®ï¼Œæ­¤æ—¶å°±å®Œæˆäº†æ’å…¥çš„æ“ä½œï¼š å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š // å‘å †ä¸­æ·»åŠ å…ƒç´  public void add(E e){ data.addLast(e); siftUp(data.getSize() - 1); } private void siftUp(int k){ while(k > 0 &amp;&amp; data.get(parent(k)).compareTo(data.get(k)) &lt; 0 ){ data.swap(k, parent(k)); k = parent(k); } } å–å‡ºå †ä¸­çš„æœ€å¤§å…ƒç´ å’ŒSift Downå¦‚æœç†è§£äº†ä¸Šè¿°çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆå–å‡ºå †ä¸­çš„æœ€å¤§å…ƒç´ ï¼ˆå †é¡¶å…ƒç´ ï¼‰å°†å˜å¾—å®¹æ˜“ï¼Œä¸è¿‡è¿™é‡Œè¿ç”¨åˆ°ä¸€ä¸ªå°æŠ€å·§ï¼Œå°±æ˜¯ç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿æ¢æ‰æ ˆé¡¶å…ƒç´ ï¼Œç„¶åæŠŠæœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤æ‰ï¼Œè¿™æ ·ä¸€æ¥å…ƒç´ çš„æ€»ä¸ªæ•°ä¹Ÿæ»¡è¶³æ¡ä»¶ï¼Œç„¶ååªéœ€è¦æŠŠæ ˆé¡¶å…ƒç´ ä¾æ¬¡å¾€ä¸‹è°ƒæ•´å°±å¥½äº†ï¼Œè¿™ä¸ªæ“ä½œå°±å«åšSift Downï¼ˆä¸‹æ²‰ï¼‰ï¼š ç”¨æœ€åå…ƒç´ æ›¿æ¢æ‰æ ˆé¡¶å…ƒç´ ï¼Œç„¶ååˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼š ç„¶åæ¯”è¾ƒå…¶å­©å­ç»“ç‚¹çš„å¤§å°ï¼š å¦‚æœä¸æ»¡è¶³å †çš„æ¡ä»¶ï¼Œé‚£ä¹ˆå°±è·Ÿå­©å­ç»“ç‚¹ä¸­è¾ƒå¤§çš„ä¸€ä¸ªäº¤æ¢ä½ç½®ï¼š é‡å¤è¯¥æ­¥éª¤ï¼Œç›´åˆ°16åˆ°è¾¾åˆé€‚çš„ä½ç½®ï¼š å®Œæˆå–å‡ºæœ€å¤§å…ƒç´ çš„æ“ä½œï¼š å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š // çœ‹å †ä¸­çš„æœ€å¤§å…ƒç´  public E findMax(){ if(data.getSize() == 0) throw new IllegalArgumentException(\"Can not findMax when heap is empty.\"); return data.get(0); } // å–å‡ºå †ä¸­æœ€å¤§å…ƒç´  public E extractMax(){ E ret = findMax(); data.swap(0, data.getSize() - 1); data.removeLast(); siftDown(0); return ret; } private void siftDown(int k){ while(leftChild(k) &lt; data.getSize()){ int j = leftChild(k); // åœ¨æ­¤è½®å¾ªç¯ä¸­,data[k]å’Œdata[j]äº¤æ¢ä½ç½® if( j + 1 &lt; data.getSize() &amp;&amp; data.get(j + 1).compareTo(data.get(j)) > 0 ) j ++; // data[j] æ˜¯ leftChild å’Œ rightChild ä¸­çš„æœ€å¤§å€¼ if(data.get(k).compareTo(data.get(j)) >= 0 ) break; data.swap(k, j); k = j; } } Replace å’Œ HeapifyReplaceè¿™ä¸ªæ“ä½œå…¶å®å°±æ˜¯å–å‡ºå †ä¸­æœ€å¤§çš„å…ƒç´ ä¹‹åå†æ–°æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¸¸è§„çš„åšæ³•æ˜¯å–å‡ºæœ€å¤§å…ƒç´ ä¹‹åï¼Œå†åˆ©ç”¨ä¸Šé¢çš„æ’å…¥æ–°å…ƒç´ çš„æ“ä½œå¯¹å †è¿›è¡ŒSift Upæ“ä½œï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§å°±æ˜¯ç›´æ¥ä½¿ç”¨æ–°å…ƒç´ æ›¿æ¢æ‰å †é¡¶å…ƒç´ ï¼Œä¹‹åå†è¿›è¡ŒSift Downæ“ä½œï¼Œè¿™æ ·å°±æŠŠä¸¤æ¬¡O(lognï¼‰çš„æ“ä½œå˜æˆäº†ä¸€æ¬¡O(logn)ï¼š // å–å‡ºå †ä¸­çš„æœ€å¤§å…ƒç´ ï¼Œå¹¶ä¸”æ›¿æ¢æˆå…ƒç´ e public E replace(E e){ E ret = findMax(); data.set(0, e); siftDown(0); return ret; } Heapifyç¿»è¯‘è¿‡æ¥å°±æ˜¯å †åŒ–çš„æ„æ€ï¼Œå°±æ˜¯å°†ä»»æ„æ•°ç»„æ•´ç†æˆå †çš„å½¢çŠ¶ï¼Œé€šå¸¸çš„åšæ³•æ˜¯éå†æ•°ç»„ä»0å¼€å§‹æ·»åŠ åˆ›å»ºä¸€ä¸ªæ–°çš„å †ï¼Œä½†æ˜¯è¿™é‡Œå­˜åœ¨ä¸€ä¸ªå°æŠ€å·§å°±æ˜¯æŠŠå½“å‰æ•°ç»„å°±çœ‹åšæ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œç„¶åä»æœ€åä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹è¿›è¡ŒSift Downæ“ä½œå°±å¯ä»¥äº†ï¼Œæœ€åä¸€ä¸ªéå¶å­ç»“ç‚¹ä¹Ÿå¾ˆå¥½æ‰¾ï¼Œå°±æ˜¯æœ€åä¸€ä¸ªç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹ï¼Œå¤§å®¶å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š ä»22è¿™ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å¼€å§‹Sift Downæ“ä½œï¼š é‡å¤è¯¥è¿‡ç¨‹ç›´åˆ°å †é¡¶å…ƒç´ ï¼š å®Œæˆå †åŒ–æ“ä½œï¼š å°†nä¸ªå…ƒç´ é€ä¸ªæ’å…¥åˆ°ä¸€ä¸ªç©ºå †ä¸­ï¼Œç®—æ³•å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œè€Œheapifyçš„è¿‡ç¨‹ï¼Œç®—æ³•å¤æ‚åº¦ä¸ºO(n)ï¼Œè¿™æ˜¯æœ‰ä¸€ä¸ªè´¨çš„é£è·ƒçš„ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š public MaxHeap(E[] arr){ data = new Array&lt;>(arr); for(int i = parent(arr.length - 1) ; i >= 0 ; i --) siftDown(i); } åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—é¦–å…ˆæˆ‘ä»¬çš„é˜Ÿåˆ—ä»ç„¶éœ€è¦ç»§æ‰¿æˆ‘ä»¬ä¹‹å‰å°†é˜Ÿåˆ—æ—¶å€™å£°æ˜çš„å“ªä¸ªæ¥å£Queueï¼Œç„¶åå®ç°è¿™ä¸ªæ¥å£ä¸­çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œä¹‹ç±»ç®€å•å†™ä¸€ä¸‹ï¼š public class PriorityQueue&lt;E extends Comparable&lt;E>> implements Queue&lt;E> { private MaxHeap&lt;E> maxHeap; public PriorityQueue(){ maxHeap = new MaxHeap&lt;>(); } @Override public int getSize(){ return maxHeap.size(); } @Override public boolean isEmpty(){ return maxHeap.isEmpty(); } @Override public E getFront(){ return maxHeap.findMax(); } @Override public void enqueue(E e){ maxHeap.add(e); } @Override public E dequeue(){ return maxHeap.extractMax(); } } Javaä¸­çš„PriorityQueueåœ¨Javaä¸­ä¹Ÿå®ç°äº†è‡ªå·±çš„ä¼˜å…ˆé˜Ÿåˆ—java.util.PriorityQueueï¼Œä¸æˆ‘ä»¬è‡ªå·±å†™çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒJavaä¸­å†…ç½®çš„ä¸ºæœ€å°å †ï¼Œç„¶åå°±æ˜¯ä¸€äº›å‡½æ•°åä¸ä¸€æ ·ï¼Œåº•å±‚è¿˜æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªObjectç±»å‹çš„æ•°ç»„ï¼Œå¤§å®¶å¯ä»¥æˆ³æˆ³çœ‹æœ‰ä»€ä¹ˆä¸åŒï¼Œå¦å¤–å¦‚æœæƒ³è¦æŠŠæœ€å°å †å˜æˆæœ€å¤§å †å¯ä»¥ç»™PriorityQueueä¼ å…¥è‡ªå·±çš„æ¯”è¾ƒå™¨ï¼Œä¾‹å¦‚ï¼š // é»˜è®¤ä¸ºæœ€å°å † PriorityQueue&lt;Integer> pq = new PriorityQueue&lt;>(); pq.add(5); pq.add(2); pq.add(1); pq.add(10); pq.add(3); while (!pq.isEmpty()) { System.out.println(pq.poll() + \", \"); } System.out.println(); System.out.println(\"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\"); // ä½¿ç”¨Lambdaè¡¨è¾¾å¼ä¼ å…¥è‡ªå·±çš„æ¯”è¾ƒå™¨è½¬æ¢æˆæœ€å¤§å † PriorityQueue&lt;Integer> pq2 = new PriorityQueue&lt;>((a, b) -> b - a); pq2.add(5); pq2.add(2); pq2.add(1); pq2.add(10); pq2.add(3); while (!pq2.isEmpty()) { System.out.println(pq2.poll() + \", \"); } LeetCodeç›¸å…³é¢˜ç›®æ•´ç†23. åˆå¹¶Kä¸ªæ’åºé“¾è¡¨ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ85msï¼‰ public ListNode mergeKLists(ListNode[] lists) { if (lists == null || lists.length == 0) return null; PriorityQueue&lt;ListNode> q = new PriorityQueue&lt;>(Comparator.comparing(node -> node.val)); for (int i = 0; i &lt; lists.length; i++) { if (lists[i] != null) { q.add(lists[i]); } } ListNode dummy = new ListNode(0); ListNode tail = dummy; while (!q.isEmpty()) { tail.next = q.poll(); tail = tail.next; if (tail.next != null) { q.add(tail.next); } } return dummy.next; } 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ75msï¼‰ public int findKthLargest(int[] nums, int k) { // æ­£ç¡®æ€§åˆ¤æ–­ if (0 == nums.length || null == nums || k &lt;= 0 || k > nums.length) { return -1; } // æ„é€ ä¼˜å…ˆé˜Ÿåˆ—,é»˜è®¤ä¸ºæœ€å°å †,ä¼ å…¥è‡ªå®šä¹‰çš„æ¯”è¾ƒå™¨è½¬æ¢æˆæœ€å¤§å † PriorityQueue&lt;Integer> pq = new PriorityQueue&lt;>((a, b) -> b - a); for (Integer num : nums) { pq.add(num); } for (int i = 0; i &lt; k - 1; i++) { pq.remove(); } return pq.peek(); } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ5msï¼‰ public int findKthLargest(int[] nums, int k) { if (nums.length == 1) { return nums[0]; } int max = nums[0]; int min = nums[0]; for (int i : nums) { max = i > max ? i : max; min = i &lt; min ? i : min; } int[] arrs = new int[max - min + 1]; for (int i : nums) { arrs[max - i]++; } int pos = 0; for (int i = 0; i &lt; arrs.length; i++) { pos += arrs[i]; if (pos >= k) { return max - i; } } return nums[0]; } è¿˜çœ‹åˆ°ä¸€ä¸ªç®€å•ç²—æš´çš„ï¼Œä¹Ÿæ˜¯æœäº†ï¼šï¼ˆ4msï¼‰ public int findKthLargest(int[] nums, int k) { Arrays.sort(nums); return nums[nums.length - k]; } è€Œä¸”æˆ‘éšæœºç”Ÿæˆäº†ä¸€ä¸ª100ä¸‡æ•°æ®çš„éšæœºæ•°ç»„ï¼Œæ¥æµ‹è¯•è¿™ä¸ªç®€å•ç²—æš´çš„æ–¹æ³•çš„æ•ˆç‡ï¼Œå‘ç°å½“æ•°æ®é‡ä¸Šå»ä¹‹åï¼Œæ’åºè¿™ä¸ªæ“ä½œå˜å¾—ç¹çï¼Œæˆ‘è‡ªå·±æµ‹è¯•çš„æ—¶å€™ï¼Œä¸Šé¢ä¸‰ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸‰ä¸ªå¤§æ¦‚æ¯”ç¬¬ä¸€ä¸ªï¼ˆæˆ‘è‡ªå·±å†™çš„æ–¹æ³•ï¼‰å¤šèŠ±ä»…4å€çš„æ—¶é—´ï¼› 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼ˆç±»ä¼¼å‰‘æŒ‡Offeré¢è¯•é¢˜59ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ88msï¼‰ public int[] maxSlidingWindow(int[] nums, int k) { if (nums == null || k &lt;= 0) return new int[0]; int[] res = new int[nums.length - k + 1]; ArrayDeque&lt;Integer> deque = new ArrayDeque&lt;Integer>(); int index = 0; for (int i = 0; i &lt; nums.length; i++) { while (!deque.isEmpty() &amp;&amp; deque.peek() &lt; i - k + 1) // Ensure deque's size doesn't exceed k deque.poll(); // Remove numbers smaller than a[i] from right(a[i-1]) to left, to make the first number in the deque the largest one in the window while (!deque.isEmpty() &amp;&amp; nums[deque.peekLast()] &lt; nums[i]) deque.pollLast(); deque.offer(i);// Offer the current index to the deque's tail if (i >= k - 1)// Starts recording when i is big enough to make the window has k elements res[index++] = nums[deque.peek()]; } return res; } å‚è€ƒç­”æ¡ˆ2ï¼šï¼ˆ9msï¼‰ public int[] maxSlidingWindow(int[] nums, int k) { /* æ€æƒ³ï¼šä¾æ¬¡éå†æ•°ç»„ï¼Œæœ‰æ•ˆèŒƒå›´åœ¨é•¿åº¦kå†…å¯»æ‰¾å½“å‰æœ€å¤§å€¼ï¼Œåœ¨ç”¨resultæ•°ç»„æ¥ä¾æ¬¡å­˜å‚¨å½“å‰é•¿åº¦Kå†…çš„æœ€å¤§å€¼ï¼› è‹¥åœ¨å½“å‰è½®ä¸­å‡ºç°æ–°å¢çš„nums[end]å¤§äºcurMax,ç›´æ¥æ›¿æ¢å³å¯ï¼› å¦‚æœå½“å‰è½®curMaxä¸æ˜¯æ–°å¢çš„nums[end]ï¼Œåœ¨æ–°çš„èŒƒå›´å†…é‡ç½®curMax. */ if (nums.length == 0 || k &lt;= 0) return new int[0]; int curMax = Integer.MIN_VALUE; for (int i = 0; i &lt; k; i++) { if (nums[i] > curMax) curMax = nums[i]; } int[] ans = new int[nums.length - k + 1]; ans[0] = curMax; for (int start = 1; start + k - 1 &lt; nums.length; start++) { int end = start + k - 1; if (nums[end] > curMax) curMax = nums[end]; else if (nums[start - 1] == curMax) {//æ–°å¢çš„ä¸å¤§äºcurMaxï¼Œæ–°èŒƒå›´å†…é‡ç½® curMax = Integer.MIN_VALUE; for (int i = start; i &lt;= end; i++) { if (nums[i] > curMax) curMax = nums[i]; } } ans[start] = curMax; } return ans; } 264. ä¸‘æ•° IIï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜49ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ7msï¼‰ public int nthUglyNumber(int n) { // æ­£ç¡®æ€§åˆ¤æ–­ if (n &lt; 1 || n > 1690) { return -1; } int[] ugly = new int[n]; ugly[0] = 1; int index2 = 0, index3 = 0, index5 = 0; int factor2 = 2, factor3 = 3, factor5 = 5; for (int i = 1; i &lt; n; i++) { int min = Math.min(Math.min(factor2, factor3), factor5); ugly[i] = min; if (factor2 == min) factor2 = 2 * ugly[++index2]; if (factor3 == min) factor3 = 3 * ugly[++index3]; if (factor5 == min) factor5 = 5 * ugly[++index5]; } return ugly[n - 1]; } å¦‚æœé‡‡ç”¨é€ä¸ªåˆ¤æ–­æ¯ä¸ªæ•´æ•°æ˜¯ä¸æ˜¯ä¸‘æ•°çš„è§£æ³•ï¼Œç›´è§‚ä½†ä¸å¤Ÿé«˜æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦æ¢ä¸€ç§æ€è·¯ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”å°±æ˜¯è¿™å…¶ä¸­ä¸€å®šæœ‰ä»€ä¹ˆè§„å¾‹ï¼Œä½†æ˜¯å°è¯•ç€æ‰¾äº†ä¸€ä¸‹ï¼Œæ²¡æ‰¾åˆ°â€¦çœ‹äº†çœ‹ç­”æ¡ˆæ‰å¹¡ç„¶é†’æ‚Ÿï¼Œå‰é¢æåˆ°çš„ç®—æ³•ä¹‹æ‰€ä»¥æ•ˆç‡ä½ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºä¸ç®¡ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ä¸‘æ•°ï¼Œæˆ‘ä»¬éƒ½è¦å¯¹å®ƒè¿›è¡Œè®¡ç®—ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¯•ç€æ‰¾åˆ°ä¸€ç§åªè®¡ç®—ä¸‘æ•°çš„æ–¹æ³•ï¼Œè€Œä¸åœ¨éä¸‘æ•°çš„æ•´æ•°ä¸ŠèŠ±è´¹æ—¶é—´ï¼Œæ ¹æ®ä¸‘æ•°çš„å®šä¹‰ï¼Œä¸‘æ•°åº”è¯¥æ˜¯å¦ä¸€ä¸ªä¸‘æ•°ä¹˜ä»¥2ã€3æˆ–è€…5çš„ç»“æœï¼ˆ1é™¤å¤–ï¼‰ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æ•°å­—æ˜¯æ’å¥½åºçš„ä¸‘æ•°ï¼Œæ¯ä¸ªä¸‘æ•°éƒ½æ˜¯å‰é¢çš„ä¸‘æ•°ä¹˜ä»¥2ã€3æˆ–è€…5å¾—åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ç®—æ³•äº†.. 295.æ•°æ®æµçš„ä¸­ä½æ•°ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜41ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ219msï¼‰ public class MedianFinder { PriorityQueue&lt;Integer> maxHeap; PriorityQueue&lt;Integer> minHeap; /** * initialize your data structure here. */ public MedianFinder() { maxHeap = new PriorityQueue&lt;>(Collections.reverseOrder()); minHeap = new PriorityQueue&lt;>(); } public void addNum(int num) { maxHeap.add(num); minHeap.add(maxHeap.poll()); if (minHeap.size() - maxHeap.size() > 0) { maxHeap.add(minHeap.poll()); } } public double findMedian() { if (maxHeap.size() == minHeap.size()) { return (maxHeap.peek() + minHeap.peek()) / 2.0; } else { return maxHeap.peek(); } } } æ€è·¯ï¼šè¿™é“é¢˜çš„å®ç°æ€è·¯æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨æ’å…¥çš„æ—¶å€™å°±å°†æ¯ä¸ªå…ƒç´ æ’å…¥åˆ°æ­£ç¡®çš„ä½ç½®ä¸Šï¼Œè¿™æ ·è¿”å›ä¸­ä½æ•°çš„æ—¶å€™å°±ä¼šæ˜¯ä¸€ä¸ªO(1)çš„æ“ä½œï¼Œä¸‹é¢åˆ—ä¸¾ä¸€å¼ è¡¨æ¥è¯´æ˜ä¸åŒå®ç°çš„å¤æ‚åº¦å…·ä½“æ˜¯å¤šå°‘ï¼šæ•°æ®ç»“æ„ | æ’å…¥çš„æ—¶é—´å¤æ‚åº¦ | å¾—åˆ°ä¸­ä½æ•°çš„æ—¶é—´å¤æ‚åº¦:â€“ | :â€“ | :â€“æ²¡æœ‰æ’åºçš„æ•°ç»„ | O(1) | O(n)æ’åºçš„æ•°ç»„ | O(n) | O(1)æ’åºçš„é“¾è¡¨ | O(n) | O(1)äºŒå‰æœç´¢æ ‘ | å¹³å‡O(logn)ï¼Œæœ€å·®O(n) | å¹³å‡O(logn)ï¼Œæœ€å·®O(n)AVLæ ‘ | O(logn) | O(logn)æœ€å¤§å †å’Œæœ€å°å † | O(logn) | O(logn) AVLæ ‘æ˜¯ä¸€ç§å¾ˆé«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°çš„è¯­è¨€ä¸­éƒ½æ²¡æœ‰ç°æˆçš„å®ç°ï¼Œæ‰€ä»¥è€ƒè™‘ç”¨æœ€å¤§å †å’Œæœ€å°å †ï¼Œå¯¹äºä¸€ä¸ªå·²ç»æ’å¥½åºçš„æ•°æ®å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­é—´åˆ†å¼€åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­æ‹¿P1æŒ‡å‘å·¦åŠéƒ¨åˆ†æœ€å¤§çš„å…ƒç´ ï¼Œæ‹¿P2æŒ‡å‘æœ‰åŠéƒ¨åˆ†æœ€å°çš„å…ƒç´ ï¼Œå¦‚æœèƒ½å¤Ÿä¿è¯æ•°æ®å®¹å™¨å·¦è¾¹çš„æ•°æ®éƒ½å°äºå³è¾¹çš„æ•°æ®ï¼Œé‚£ä¹ˆå³ä½¿å·¦ã€å³ä¸¤è¾¹å†…éƒ¨çš„æ•°æ®æ²¡æœ‰æ’åºï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æ ¹æ®å·¦è¾¹æœ€å¤§çš„æ•°å’Œå³è¾¹æœ€å¤§çš„æ•°å¾—åˆ°ä¸­ä½æ•°ï¼šå¦‚ä½•å¿«é€Ÿä»ä¸€ä¸ªæ•°æ®å®¹å™¨ä¸­æ‰¾å‡ºæœ€å¤§æ•°å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å¤§å †æ¥å®ç°è¿™ä¸ªæ•°æ®å®¹å™¨ï¼Œå› ä¸ºå †é¡¶çš„å…ƒç´ å°±æ˜¯æœ€å¤§çš„å…ƒç´ ï¼›åŒæ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å°å †æ¥å¿«é€Ÿæ‰¾å‡ºä¸€ä¸ªæ•°æ®å®¹å™¨ä¸­æœ€å°æ•°ã€‚å› æ­¤æŒ‰ç…§è¿™ä¸ªæ€è·¯æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæœ€å¤§å †å®ç°å·¦è¾¹çš„æ•°æ®å®¹å™¨ï¼Œä½¿ç”¨ä¸€ä¸ªæœ€å°å †å®ç°å³è¾¹çš„æ•°æ®å®¹å™¨ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸¤ä¸ªå®¹å™¨çš„å¤§å°å·®å€¼ä¸èƒ½è¶…è¿‡1ï¼› 347. å‰Kä¸ªé«˜é¢‘å…ƒç´ ï¼ˆç±»ä¼¼å‰‘æŒ‡Offeré¢è¯•é¢˜40ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ131msï¼‰ public List&lt;Integer> topKFrequent(int[] nums, int k) { TreeMap&lt;Integer, Integer> map = new TreeMap&lt;>(); // ä¿å­˜é¢‘ç‡ for (int num : nums) { if (map.containsKey(num)) { map.put(num, map.get(num) + 1); } else { map.put(num, 1); } } PriorityQueue&lt;Integer> pq = new PriorityQueue&lt;>(Comparator.comparingInt(map::get)); for (int key : map.keySet()) { if (pq.size() &lt; k) { pq.add(key); } else if (map.get(key) > map.get(pq.peek())) { pq.remove(); pq.add(key); } } LinkedList&lt;Integer> res = new LinkedList&lt;>(); while (!pq.isEmpty()) { res.add(pq.remove()); } return res; } 692. å‰Kä¸ªé«˜é¢‘å•è¯ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ72msï¼‰ public List&lt;String> topKFrequent(String[] words, int k) { Map&lt;String, Integer> count = new HashMap(); for (String word: words) { count.put(word, count.getOrDefault(word, 0) + 1); } List&lt;String> candidates = new ArrayList(count.keySet()); Collections.sort(candidates, (w1, w2) -> count.get(w1).equals(count.get(w2)) ? w1.compareTo(w2) : count.get(w2) - count.get(w1)); return candidates.subList(0, k); } è¿™é“é¢˜ç±»ä¼¼äºä¸Šé¢çš„ç¬¬347é¢˜ï¼Œä½†æ˜¯é—®é¢˜å‡ºåœ¨è¿”å›çš„é¡ºåºä¸Šï¼Œéœ€è¦è‡ªå·±æ¥å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨æ¥æ’åº..ç„¶åä¹Ÿå­¦åˆ°ä¸€ä¸ªå†™æ³•ï¼Œå°±æ˜¯ä¸Šé¢çš„ç¬¬ä¸€ä¸ªforå¾ªç¯é‡Œï¼ŒgetOrDefault()æ–¹æ³•ï¼Œgetâˆš.. å‚è€ƒç­”æ¡ˆ2ï¼šï¼ˆ91msï¼‰ public List&lt;String> topKFrequent(String[] words, int k) { Map&lt;String, Integer> count = new HashMap(); for (String word: words) { count.put(word, count.getOrDefault(word, 0) + 1); } PriorityQueue&lt;String> heap = new PriorityQueue&lt;String>( (w1, w2) -> count.get(w1).equals(count.get(w2)) ? w2.compareTo(w1) : count.get(w1) - count.get(w2) ); for (String word: count.keySet()) { heap.offer(word); if (heap.size() > k) heap.poll(); } List&lt;String> ans = new ArrayList(); while (!heap.isEmpty()) ans.add(heap.poll()); Collections.reverse(ans); return ans; } è¿™ä¸ªè§£æ³•å°±æœ‰ç‚¹å„¿ç±»ä¼¼äºä¸Šé¢çš„347é¢˜ï¼Œå…¶å®æ˜¯å¤§åŒå°å¼‚ï¼Œå°±æ˜¯è‡ªå·±ä¸ä¼šçµæ´»ä½¿ç”¨æ¯”è¾ƒå™¨è€Œå·²ï¼Œå­¦ä¹ åˆ°äº†å­¦ä¹ åˆ°äº†âˆšâ€¦ ç®€å•æ€»ç»“ä»Šå¤©ç®—æ˜¯å¾ˆæœ‰æ”¶è·çš„ä¸€å¤©ï¼Œå› ä¸ºè¿™ä¸¤ç§æ•°æ®ç»“æ„éƒ½æ˜¯è‡ªå·±ç‰¹åˆ«ä¸ç†Ÿæ‚‰çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨åˆ·äº†ä¸€äº›LeetCodeç›¸å…³é¢˜ç›®ä¹‹åï¼Œå¯¹è¿™ä¸¤ç§æ•°æ®æœ‰äº†å¾ˆä¸ä¸€æ ·çš„è®¤è¯†ï¼Œç‰¹åˆ«æ˜¯å †çš„åº”ç”¨ï¼Œè¿™æ˜¯ä¸€ç§ç‰¹åˆ«é€‚åˆç”¨æ¥æ‰¾ç¬¬kå°/å¤§çš„ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”åœ¨Javaä¸­å±…ç„¶æœ‰ç›´æ¥çš„å®ç°ï¼Œè¿™å¯å¤ªæ£’äº†ï¼Œè€Œä¸”ä»Šå¤©çš„æ•ˆç‡è¿˜ç®—æŒºé«˜çš„ï¼Œæ»¡è¶³ï¼› æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"é¢è¯•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•(3)â€”â€”æ ‘ï¼ˆäºŒå‰ã€äºŒå‰æœç´¢æ ‘ï¼‰","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•-3-â€”â€”æ ‘ï¼ˆäºŒå‰ã€äºŒå‰æœç´¢æ ‘ï¼‰","date":"2018-07-10T22:51:00.000Z","updated":"2020-08-03T09:04:46.520Z","comments":true,"path":"2018/07/11/shu-ju-jie-gou-yu-suan-fa-3-shu-er-cha-er-cha-sou-suo-shu/","link":"","permalink":"http://www.wmyskxz.com/2018/07/11/shu-ju-jie-gou-yu-suan-fa-3-shu-er-cha-er-cha-sou-suo-shu/","excerpt":"","text":"å‰è¨€ï¼šé¢˜å›¾æ— å…³ï¼Œç°åœ¨å¼€å§‹æ¥å­¦ä¹ å­¦ä¹ æ ‘ç›¸å…³çš„çŸ¥è¯† å‰åºæ–‡ç« ï¼š æ•°æ®ç»“æ„ä¸ç®—æ³•(1)â€”â€”æ•°ç»„ä¸é“¾è¡¨ï¼ˆhttps://www.jianshu.com/p/7b93b3570875ï¼‰ æ•°æ®ç»“æ„ä¸ç®—æ³•(2)â€”â€”æ ˆå’Œé˜Ÿåˆ—(https://www.jianshu.com/p/5087c751cb42) æ ‘ä»€ä¹ˆæ˜¯æ ‘æ ‘æ˜¯ä¸€ç§ç±»ä¼¼äºé“¾è¡¨çš„æ•°æ®ç»“æ„ï¼Œä¸è¿‡é“¾è¡¨çš„ç»“ç‚¹æ˜¯ä»¥çº¿æ€§æ–¹å¼ç®€å•åœ°æŒ‡å‘å…¶åç»§ç»“ç‚¹ï¼Œè€Œæ ‘çš„ä¸€ä¸ªç»“ç‚¹å¯ä»¥æŒ‡å‘è®¸å¤šä¸ªç»“ç‚¹ï¼›æ•°æ˜¯ä¸€ç§å…¸å‹çš„éçº¿æ€§ç»“æ„ï¼›æ ‘ç»“æ„æ˜¯ä»¥è¡¨è¾¾å…·æœ‰å±‚æ¬¡ç‰¹æ€§çš„å›¾ç»“æ„çš„ä¸€ç§æ–¹æ³•ï¼› ç›¸å…³æœ¯è¯­ æ ¹èŠ‚ç‚¹ï¼šæ ¹èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ²¡æœ‰åŒäº²ç»“ç‚¹çš„ç»“ç‚¹ï¼Œä¸€æ£µæ ‘ä¸­æœ€å¤šæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ˆå¦‚ä¸Šå›¾çš„ç»“ç‚¹Aå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼‰ï¼› è¾¹ï¼šè¾¹è¡¨ç¤ºä»åŒäº²ç»“ç‚¹åˆ°å­©å­ç»“ç‚¹çš„é“¾æ¥ï¼ˆå¦‚ä¸Šå›¾ä¸­æ‰€æœ‰çš„é“¾æ¥ï¼‰ï¼› å¶å­ç»“ç‚¹ï¼šæ²¡æœ‰å­©å­ç»“ç‚¹çš„ç»“ç‚¹å«ä½œå¶å­ç»“ç‚¹ï¼ˆå¦‚Eã€Jã€Kã€Hå’ŒIï¼‰ï¼› å…„å¼Ÿç»“ç‚¹ï¼šæ‹¥æœ‰ç›¸åŒåŒäº²ç»“ç‚¹çš„æ‰€æœ‰å­©å­ç»“ç‚¹å«ä½œå…„å¼Ÿç»“ç‚¹ï¼ˆBã€Cã€Dæ˜¯Açš„å…„å¼Ÿç»“ç‚¹ï¼ŒEã€Fæ˜¯Bçš„å…„å¼Ÿç»“ç‚¹ï¼‰ï¼› ç¥–å…ˆç»“ç‚¹ï¼šå¦‚æœå­˜åœ¨ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°ç»“ç‚¹qçš„è·¯å¾„ï¼Œå…¶ç»“ç‚¹på‡ºç°åœ¨è¿™æ¡è·¯å¾„ä¸Šï¼Œé‚£ä¹ˆå°±å¯ä»¥å§ç»“ç‚¹på«ä½œç»“ç‚¹qçš„ç¥–å…ˆç»“ç‚¹ï¼Œç»“ç‚¹qä¹Ÿå«åšpçš„å­å­™ç»“ç‚¹ï¼ˆä¾‹å¦‚ï¼ŒAã€Cå’ŒGæ˜¯Kçš„ç¥–å…ˆç»“ç‚¹ï¼‰ï¼› ç»“ç‚¹çš„å¤§å°ï¼šç»“ç‚¹çš„å¤§å°æ˜¯æŒ‡å­å­™çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å…¶è‡ªèº«ã€‚ï¼ˆå­æ ‘Cçš„å¤§å°ä¸º3ï¼‰ï¼› æ ‘çš„å±‚ï¼šä½äºç›¸åŒæ·±åº¦çš„æ‰€æœ‰ç»“ç‚¹çš„é›†åˆå«ä½œæ ‘çš„å±‚ï¼ˆBã€Cå’ŒDå…·æœ‰ç›¸åŒçš„å±‚ï¼Œä¸Šå›¾çš„ç»“æ„æœ‰0/1/2/3å››ä¸ªå±‚ï¼‰ï¼› ç»“ç‚¹çš„æ·±åº¦ï¼šæ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ï¼ˆGç‚¹çš„æ·±åº¦ä¸º2ï¼ŒAâ€”Câ€”Gï¼‰ï¼› ç»“ç‚¹çš„é«˜åº¦ï¼šæ˜¯æŒ‡ä»è¯¥èŠ‚ç‚¹åˆ°æœ€æ·±èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ï¼Œæ ‘çš„é«˜åº¦æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°ä¹¦ä¸­æœ€æ·±ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ï¼Œåªå«æœ‰æ ¹èŠ‚ç‚¹çš„æ ‘çš„é«˜åº¦ä¸º0ã€‚ï¼ˆBçš„é«˜åº¦ä¸º2ï¼ŒBâ€”Fâ€”Jï¼‰ï¼› æ ‘çš„é«˜åº¦ï¼šæ˜¯æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹é«˜åº¦çš„æœ€å¤§å€¼ï¼Œæ ‘çš„æ·±åº¦æ˜¯æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹æ·±åº¦çš„æœ€å¤§å€¼ï¼Œå¯¹äºåŒä¸€æ£µæ ‘ï¼Œå…¶æ·±åº¦å’Œé«˜åº¦æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å¯¹äºå„ä¸ªç»“ç‚¹ï¼Œå…¶æ·±åº¦å’Œé«˜åº¦ä¸ä¸€å®šç›¸åŒï¼› äºŒå‰æ ‘å¦‚æœä¸€æ£µæ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹æœ‰0ï¼Œ1æˆ–è€…2ä¸ªå­©å­ç»“ç‚¹ï¼Œé‚£ä¹ˆè¿™æ£µæ ‘å°±ç§°ä¸ºäºŒå‰æ ‘ï¼›ç©ºæ ‘ä¹Ÿæ˜¯ä¸€é¢—æœ‰æ•ˆçš„äºŒå‰æ ‘ï¼Œä¸€é¢—äºŒå‰æ ‘å¯ä»¥çœ‹åšæ˜¯ç”±æ ¹èŠ‚ç‚¹å’Œä¸¤æ£µä¸ç›¸äº¤çš„å­æ ‘ï¼ˆåˆ†åˆ«ç§°ä¸ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼‰ç»„æˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ äºŒå‰æ ‘çš„ç±»å‹ä¸¥æ ¼äºŒå‰æ ‘ï¼šäºŒå‰æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæœ‰ä¸¤ä¸ªå­©å­ç»“ç‚¹ï¼Œè¦ä¹ˆæ²¡æœ‰å­©å­ç»“ç‚¹ æ»¡äºŒå‰æ ‘ï¼šäºŒå‰æ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹æ°å¥½æœ‰ä¸¤ä¸ªå­©å­ç»“ç‚¹ä¸”æ‰€æœ‰å¶å­ç»“ç‚¹éƒ½åœ¨åŒä¸€å±‚ å®Œå…¨äºŒå‰æ ‘ï¼šåœ¨å®šä¹‰å®Œå…¨äºŒå‰æ ‘ä¹‹å‰ï¼Œå‡å®šäºŒå‰æ ‘çš„é«˜åº¦ä¸ºhï¼›å¯¹äºå®Œå…¨äºŒå‰æ ‘ï¼Œå¦‚æœå°†æ‰€æœ‰ç»“ç‚¹ä»æ ¹èŠ‚ç‚¹å¼€å§‹ä»å·¦è‡³å³ï¼Œä»ä¸Šè‡³ä¸‹ï¼Œä¾æ¬¡ç¼–å·ï¼ˆå‡å®šæ ¹èŠ‚ç‚¹çš„ç¼–å·ä¸º1ï¼‰ï¼Œé‚£ä¹ˆåƒµå¾—åˆ°ä»1~nï¼ˆnä¸ºç»“ç‚¹æ€»æ•°ï¼‰çš„å®Œæ•´åºåˆ—ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­å¯¹äºç©ºæŒ‡é’ˆä¹Ÿèµ‹äºˆç¼–å·ï¼Œå¦‚æœæ‰€æœ‰ä¼½æ¤°å­ç»“ç‚¹çš„æ·±åº¦ä¸ºhæˆ–h-1ï¼Œä¸”åœ¨ç»“ç‚¹ç¼–å·åºåˆ—ä¸­æ²¡æœ‰æ¼æ‰ä»»ä½•æ•°å­—ï¼Œé‚£ä¹ˆè¿™æ ·çš„äºŒå‰æ ‘å«ä½œå®Œå…¨äºŒå‰æ ‘ã€‚ äºŒå‰æ ‘çš„åº”ç”¨ ç¼–è¯‘å™¨ä¸­çš„è¡¨è¾¾å¼æ ‘ï¼› ç”¨äºæ•°æ®å‹ç¼©ç®—æ³•ä¸­çš„èµ«å¤«æ›¼ç¼–ç æ ‘ï¼› æ”¯æŒåœ¨é›†åˆä¸­æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ï¼Œå…¶å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(lognn)çš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ï¼› ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPQï¼‰ï¼Œå®ƒæ”¯æŒä»¥å¯¹æ•°æ—¶é—´ï¼ˆæœ€åæƒ…å†µä¸‹ï¼‰å¯¹é›†åˆä¸­çš„æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰æ•°æ®å…ƒç´ è¿›è¡Œæœç´¢å’Œåˆ é™¤ï¼› äºŒå‰æ ‘çš„éå† è®¿é—®æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹çš„è¿‡ç¨‹å«ä½œæ ‘çš„éå†ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹åªèƒ½è¢«å¤„ç†ä¸€æ¬¡ï¼Œå°½ç®¡å…¶æœ‰å¯èƒ½è¢«è®¿é—®å¤šæ¬¡ï¼›æ ¹æ®ç»“ç‚¹å¤„ç†é¡ºåºçš„ä¸åŒï¼Œã€‚å¯ä»¥å®šä¹‰ä¸åŒçš„éå†æ–¹æ³•ï¼Œéå†åˆ†ç±»å¯ä»¥æ ¹æ®å½“å‰èŠ‚ç‚¹è¢«å¤„ç†çš„é¡ºåºæ¥åˆ’åˆ†ï¼š å‰åºéå†åœ¨å‰åºéå†ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æ˜¯åœ¨å®ƒçš„å­æ ‘éå†ä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œè¿™æ˜¯æœ€å®¹æ˜“ç†è§£çš„ä¾¿åˆ©æ–¹æ³•ï¼Œç„¶è€Œï¼Œå°½ç®¡æ¯ä¸ªç»“ç‚¹åœ¨å…¶å­æ ‘ä¹‹å‰è¿›è¡Œäº†å¤„ç†ï¼Œä½†åœ¨å‘ä¸‹ç§»åŠ¨çš„è¿‡ç¨‹ä»ç„¶éœ€è¦ä¿ç•™ä¸€äº›ä¿¡æ¯ï¼Œä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œé¦–å…ˆè®¿é—®ç»“ç‚¹1ï¼Œéšåéå†å…¶å·¦å­æ ‘ï¼Œæœ€åéå†å…¶å³å­æ ‘ï¼Œå› æ­¤å½“å·¦å­æ ‘éå†å®Œåï¼Œå¿…é¡»è¦è¿”å›åˆ°å…¶å³å­æ ‘æ¥ç»§ç»­éå†ï¼›ä¸ºäº†èƒ½å¤Ÿåœ¨å·¦å­æ ‘éå†å®Œæˆåç§»åŠ¨åˆ°å³å­æ ‘ï¼Œå¿…é¡»ä¿ç•™æ ¹èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œèƒ½å¤Ÿå®ç°è¯¥ä¿¡æ¯å­˜å‚¨çš„æŠ½è±¡æ•°æ®ç±»å‹æ˜¾è€Œæ˜“è§æ˜¯æ ˆï¼Œç”±äºå®ƒæ˜¯LIFOçš„ç»“æ„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä»¥é€†åºæ¥æ±‡è¿‡å»è¯¥ä¿¡æ¯å¹¶è¿”å›åˆ°å³å­æ ‘ï¼› å‰åºéå†å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š è®¿é—®æ ¹èŠ‚ç‚¹ï¼› æŒ‰å‰åºéå†æ–¹å¼éå†å·¦å­æ ‘ï¼› æŒ‰å‰åºéå†æ–¹å¼éå†å³å­æ ‘ï¼› åˆ©ç”¨å‰åºéå†æ–¹æ³•ä¸Šå›¾æ‰€ç¤ºçš„æ ‘çš„è¾“å‡ºåºåˆ—ä¸ºï¼š1 2 4 5 3 6 7 void preOrder(BinaryTreeNode root) { if (null != root) { System.out.println(root.getData()); preOrder(root.getLeft()); preOrder(root.getRight()); } } ä¸­åºéå†åœ¨ä¸­åºéå†ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„è®¿é—®åœ¨ä¸¤æ£µå­æ ‘çš„éå†ä¸­é—´å®Œæˆï¼Œä¸­åºéå†å¦‚ä¸‹å®šä¹‰ï¼š æŒ‰ä¸­åºéå†æ–¹å¼éå†å·¦å­æ ‘ï¼› è®¿é—®æ ¹èŠ‚ç‚¹ï¼› æŒ‰ä¸­åºéå†æ–¹å¼éå†å³å­æ ‘ï¼› åŸºäºä¸­åºéå†ï¼Œä¸Šå›¾æ‰€ç¤ºæ ‘çš„ä¸­åºéå†è¾“å‡ºé¡ºåºä¸ºï¼š4 2 5 1 6 3 7 void inOrder(BinaryTreeNode root) { if (null != root) { inOrder(root.getLeft()); System.out.println(root.getData()); inOrder(root.getRight()); } } ååºéå†åœ¨åç»­éå†ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„è®¿é—®æ˜¯åœ¨å…¶ä¸¤æ£µå­æ ‘éƒ½éå†å®Œæˆåè¿›è¡Œçš„ï¼Œåç»­éå†å¦‚ä¸‹å®šä¹‰ï¼š æŒ‰ååºéå†å·¦å­æ ‘ï¼› æŒ‰ååºéå†å³å­æ ‘ï¼› è®¿é—®æ ¹èŠ‚ç‚¹ï¼› å¯¹ä¸Šå›¾æ‰€ç¤ºçš„äºŒå‰æ ‘ï¼Œåç»­éå†äº§ç”Ÿçš„è¾“å‡ºåºåˆ—ä¸ºï¼š4 5 2 6 7 3 1 void postOrder(BinaryTreeNode root) { if (null != root) { postOrder(root.getLeft()); postOrder(root.getRight()); System.out.println(root.getData()); } } å±‚æ¬¡éå†å±‚æ¬¡éå†çš„å®šä¹‰å¦‚ä¸‹ï¼š è®¿é—®æ ¹èŠ‚ç‚¹ï¼› åœ¨è®¿é—®ç¬¬lå±‚æ—¶ï¼Œå°†l+1å±‚çš„èŠ‚ç‚¹æŒ‰é¡ºåºä¿å­˜åœ¨é˜Ÿåˆ—ä¸­ï¼› è¿›å…¥ä¸‹ä¸€å±‚å¹¶è®¿é—®è¯¥å±‚çš„æ‰€æœ‰ç»“ç‚¹ï¼› é‡å¤ä¸Šè¿°æ“ä½œç›´è‡³æ‰€æœ‰å±‚éƒ½è®¿é—®å®Œï¼› å¯¹äºä¸Šå›¾æ‰€ç¤ºçš„äºŒå‰æ ‘ï¼Œå±‚æ¬¡éå†äº§ç”Ÿçš„è¾“å‡ºåºåˆ—ä¸ºï¼š1 2 3 4 5 6 7 void levelOrder(BinaryTreeNode root) { BinaryTreeNode temp; LoopQueue Q = new LoopQueue(); if (null == root) { return; } Q.enqueue(root); while (!Q.isEmpty()) { temp = Q.dequeue(); // å¤„ç†å½“å‰èŠ‚ç‚¹ System.out.println(temp.getData()); if (temp.getLeft()) { Q.enqueue(temp.getLeft()); } if (temp.getRight()) { Q.enqueue(temp.getRight()); } } // åˆ é™¤é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰æ•°æ® Q.deletequeue(); } äºŒå‰æœç´¢æ ‘åœ¨äºŒå‰æœç´¢æ ‘ä¸­ï¼Œæ‰€æœ‰å·¦å­æ ‘ç»“ç‚¹çš„å…ƒç´ å°äºæ ¹èŠ‚ç‚¹çš„æ•°æ®ï¼Œæ‰€æœ‰å³å­æ ‘ç»“ç‚¹çš„å…ƒç´ å¤§äºæ ¹èŠ‚ç‚¹æ•°æ®ï¼Œæ³¨æ„ï¼Œæ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹éƒ½åº”æ»¡è¶³è¿™ä¸ªæ€§è´¨ï¼› å®ç°è‡ªå·±çš„äºŒå‰æœç´¢æ ‘å…¶ä¸­åŒ…å«äº†å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒ…æ‹¬å‡ ç§éå†æ–¹æ³•è¿˜æœ‰æŸ¥è¯¢ã€åˆ é™¤ç­‰ï¼Œä»…ä¾›å‚è€ƒï¼š public class BST&lt;E extends Comparable&lt;E>> { private class Node{ public E e; public Node left, right; public Node(E e){ this.e = e; left = null; right = null; } } private Node root; private int size; public BST(){ root = null; size = 0; } public int size(){ return size; } public boolean isEmpty(){ return size == 0; } // å‘äºŒåˆ†æœç´¢æ ‘ä¸­æ·»åŠ æ–°çš„å…ƒç´ e public void add(E e){ root = add(root, e); } // å‘ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­æ’å…¥å…ƒç´ eï¼Œé€’å½’ç®—æ³• // è¿”å›æ’å…¥æ–°èŠ‚ç‚¹åäºŒåˆ†æœç´¢æ ‘çš„æ ¹ private Node add(Node node, E e){ if(node == null){ size ++; return new Node(e); } if(e.compareTo(node.e) &lt; 0) node.left = add(node.left, e); else if(e.compareTo(node.e) > 0) node.right = add(node.right, e); return node; } // çœ‹äºŒåˆ†æœç´¢æ ‘ä¸­æ˜¯å¦åŒ…å«å…ƒç´ e public boolean contains(E e){ return contains(root, e); } // çœ‹ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­æ˜¯å¦åŒ…å«å…ƒç´ e, é€’å½’ç®—æ³• private boolean contains(Node node, E e){ if(node == null) return false; if(e.compareTo(node.e) == 0) return true; else if(e.compareTo(node.e) &lt; 0) return contains(node.left, e); else // e.compareTo(node.e) > 0 return contains(node.right, e); } // äºŒåˆ†æœç´¢æ ‘çš„å‰åºéå† public void preOrder(){ preOrder(root); } // å‰åºéå†ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘, é€’å½’ç®—æ³• private void preOrder(Node node){ if(node == null) return; System.out.println(node.e); preOrder(node.left); preOrder(node.right); } // äºŒåˆ†æœç´¢æ ‘çš„éé€’å½’å‰åºéå† public void preOrderNR(){ Stack&lt;Node> stack = new Stack&lt;>(); stack.push(root); while(!stack.isEmpty()){ Node cur = stack.pop(); System.out.println(cur.e); if(cur.right != null) stack.push(cur.right); if(cur.left != null) stack.push(cur.left); } } // äºŒåˆ†æœç´¢æ ‘çš„ä¸­åºéå† public void inOrder(){ inOrder(root); } // ä¸­åºéå†ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘, é€’å½’ç®—æ³• private void inOrder(Node node){ if(node == null) return; inOrder(node.left); System.out.println(node.e); inOrder(node.right); } // äºŒåˆ†æœç´¢æ ‘çš„ååºéå† public void postOrder(){ postOrder(root); } // ååºéå†ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘, é€’å½’ç®—æ³• private void postOrder(Node node){ if(node == null) return; postOrder(node.left); postOrder(node.right); System.out.println(node.e); } // äºŒåˆ†æœç´¢æ ‘çš„å±‚åºéå† public void levelOrder(){ Queue&lt;Node> q = new LinkedList&lt;>(); q.add(root); while(!q.isEmpty()){ Node cur = q.remove(); System.out.println(cur.e); if(cur.left != null) q.add(cur.left); if(cur.right != null) q.add(cur.right); } } // å¯»æ‰¾äºŒåˆ†æœç´¢æ ‘çš„æœ€å°å…ƒç´  public E minimum(){ if(size == 0) throw new IllegalArgumentException(\"BST is empty!\"); return minimum(root).e; } // è¿”å›ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘çš„æœ€å°å€¼æ‰€åœ¨çš„èŠ‚ç‚¹ private Node minimum(Node node){ if(node.left == null) return node; return minimum(node.left); } // å¯»æ‰¾äºŒåˆ†æœç´¢æ ‘çš„æœ€å¤§å…ƒç´  public E maximum(){ if(size == 0) throw new IllegalArgumentException(\"BST is empty\"); return maximum(root).e; } // è¿”å›ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘çš„æœ€å¤§å€¼æ‰€åœ¨çš„èŠ‚ç‚¹ private Node maximum(Node node){ if(node.right == null) return node; return maximum(node.right); } // ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤æœ€å°å€¼æ‰€åœ¨èŠ‚ç‚¹, è¿”å›æœ€å°å€¼ public E removeMin(){ E ret = minimum(); root = removeMin(root); return ret; } // åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ // è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹ private Node removeMin(Node node){ if(node.left == null){ Node rightNode = node.right; node.right = null; size --; return rightNode; } node.left = removeMin(node.left); return node; } // ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤æœ€å¤§å€¼æ‰€åœ¨èŠ‚ç‚¹ public E removeMax(){ E ret = maximum(); root = removeMax(root); return ret; } // åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­çš„æœ€å¤§èŠ‚ç‚¹ // è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹ private Node removeMax(Node node){ if(node.right == null){ Node leftNode = node.left; node.left = null; size --; return leftNode; } node.right = removeMax(node.right); return node; } // ä»äºŒåˆ†æœç´¢æ ‘ä¸­åˆ é™¤å…ƒç´ ä¸ºeçš„èŠ‚ç‚¹ public void remove(E e){ root = remove(root, e); } // åˆ é™¤æ‰ä»¥nodeä¸ºæ ¹çš„äºŒåˆ†æœç´¢æ ‘ä¸­å€¼ä¸ºeçš„èŠ‚ç‚¹, é€’å½’ç®—æ³• // è¿”å›åˆ é™¤èŠ‚ç‚¹åæ–°çš„äºŒåˆ†æœç´¢æ ‘çš„æ ¹ private Node remove(Node node, E e){ if( node == null ) return null; if( e.compareTo(node.e) &lt; 0 ){ node.left = remove(node.left , e); return node; } else if(e.compareTo(node.e) > 0 ){ node.right = remove(node.right, e); return node; } else{ // e.compareTo(node.e) == 0 // å¾…åˆ é™¤èŠ‚ç‚¹å·¦å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if(node.left == null){ Node rightNode = node.right; node.right = null; size --; return rightNode; } // å¾…åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸ºç©ºçš„æƒ…å†µ if(node.right == null){ Node leftNode = node.left; node.left = null; size --; return leftNode; } // å¾…åˆ é™¤èŠ‚ç‚¹å·¦å³å­æ ‘å‡ä¸ä¸ºç©ºçš„æƒ…å†µ // æ‰¾åˆ°æ¯”å¾…åˆ é™¤èŠ‚ç‚¹å¤§çš„æœ€å°èŠ‚ç‚¹, å³å¾…åˆ é™¤èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ // ç”¨è¿™ä¸ªèŠ‚ç‚¹é¡¶æ›¿å¾…åˆ é™¤èŠ‚ç‚¹çš„ä½ç½® Node successor = minimum(node.right); successor.right = removeMin(node.right); successor.left = node.left; node.left = node.right = null; return successor; } } @Override public String toString(){ StringBuilder res = new StringBuilder(); generateBSTString(root, 0, res); return res.toString(); } // ç”Ÿæˆä»¥nodeä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ·±åº¦ä¸ºdepthçš„æè¿°äºŒå‰æ ‘çš„å­—ç¬¦ä¸² private void generateBSTString(Node node, int depth, StringBuilder res){ if(node == null){ res.append(generateDepthString(depth) + \"null\\n\"); return; } res.append(generateDepthString(depth) + node.e +\"\\n\"); generateBSTString(node.left, depth + 1, res); generateBSTString(node.right, depth + 1, res); } private String generateDepthString(int depth){ StringBuilder res = new StringBuilder(); for(int i = 0 ; i &lt; depth ; i ++) res.append(\"--\"); return res.toString(); } } LeetCodeç›¸å…³é¢˜ç›®æ•´ç†94.äºŒå‰æ ‘çš„ä¸­åºéå† æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ1msï¼‰ public List&lt;Integer> inorderTraversal(TreeNode root) { List result = new ArrayList(); if (null != root) { result.addAll(inorderTraversal(root.left)); result.add(root.val); result.addAll(inorderTraversal(root.right)); } return result; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ0msï¼‰ public List&lt;Integer> inorderTraversal(TreeNode root) { List&lt;Integer> list=new ArrayList&lt;>(); traversal(root, list); return list; } public void traversal(TreeNode root,List&lt;Integer> list) { if(root!=null){ traversal(root.left, list); list.add(root.val); traversal(root.right, list); } } 98. éªŒè¯äºŒå‰æœç´¢æ ‘ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ53msï¼‰ private static int INT_MIN = Integer.MIN_VALUE; private static int INT_MAX = Integer.MAX_VALUE; public boolean isValidBST(TreeNode root) { // å¦‚æœèŠ‚ç‚¹ä¸ºç©ºåˆ™æ»¡è¶³äºŒå‰æœç´¢æ ‘æ¡ä»¶ if (null == root) { return true; } // å¦‚æœå·¦å­©å­ç»“ç‚¹å¤§äºäº†æ ¹èŠ‚ç‚¹åˆ™è¿”å›false if (null != root.left &amp;&amp; findMax(root.left) > root.val) { return false; } // å¦‚æœå³å­©å­ç»“ç‚¹å°äºäº†æ ¹èŠ‚ç‚¹åˆ™è¿”å›false if (null != root.right &amp;&amp; findMin(root.right) &lt; root.val) { return false; } // é€’å½’åˆ¤æ–­å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œè‹¥å…¶ä¸­æœ‰ä¸€é¢—ä¸æ˜¯BSTæ ‘ï¼Œåˆ™è¿”å›false if (!isValidBST(root.left) || !isValidBST(root.right)) { return false; } // é€šè¿‡æ‰€æœ‰åˆ¤æ–­åˆ™æ˜¯ä¸€é¢—BSTæ ‘ return true; } /** * æ‰¾åˆ°ä¸€é¢—éç©ºæ ‘ä¸­çš„æœ€å¤§å€¼ * * @param root * @return */ private int findMax(TreeNode root) { int maxVal = INT_MIN; int leftMaxVal = INT_MIN; int rightMaxVal = INT_MIN; if (null != root) { // æœ€å¤§å€¼é»˜è®¤ç­‰äºå½“å‰èŠ‚ç‚¹å€¼ maxVal = root.val; leftMaxVal = findMax(root.left); rightMaxVal = findMax(root.right); // maxValç­‰äºå½“å‰maxValä¸leftMaxValä¸­è¾ƒå¤§çš„ä¸€ä¸ª maxVal = maxVal > leftMaxVal ? maxVal : leftMaxVal; // maxValç­‰äºå½“å‰maxValä¸rightMaxValä¸­è¾ƒå¤§çš„ä¸€ä¸ª maxVal = maxVal > rightMaxVal ? maxVal : rightMaxVal; } return maxVal; } /** * æ‰¾åˆ°ä¸€é¢—éç©ºæ ‘çš„æœ€å°å€¼ * * @param root * @return */ private int findMin(TreeNode root) { int minVal = INT_MAX; int leftMinVal = INT_MAX; int rightMinVal = INT_MAX; if (null != root) { // æœ€å°å€¼é»˜è®¤ä¸ºå½“å‰èŠ‚ç‚¹å€¼ minVal = root.val; leftMinVal = findMin(root.left); rightMinVal = findMin(root.right); // minValç­‰äºå½“å‰minValä¸leftMinValä¸­è¾ƒå°çš„ä¸€ä¸ª minVal = minVal &lt; leftMinVal ? minVal : leftMinVal; // minValç­‰äºå½“å‰minValä¸rightMinValä¸­è¾ƒå°çš„ä¸€ä¸ª minVal = minVal &lt; rightMinVal ? minVal : rightMinVal; } return minVal; } è‡ªå·±å†™çš„æ—¶å€™æäº¤é”™äº†å¾ˆå¤šæ¬¡..æ²¡æœ‰æŒæ¡åˆ°äºŒåˆ†æœç´¢æ ‘çš„ç²¾é«“.. å‚è€ƒç­”æ¡ˆï¼šï¼ˆ2msï¼‰ public boolean isValidBST(TreeNode root) { if (root == null) return true; return valid(root, Long.MIN_VALUE, Long.MAX_VALUE); } public boolean valid(TreeNode root, long low, long high) { if (root == null) return true; if (root.val &lt;= low || root.val >= high) return false; return valid(root.left, low, root.val) &amp;&amp; valid(root.right, root.val, high); } è¿™ç­”æ¡ˆå†™å¾—æˆ‘æœäº†..çœŸæœ.. 101. å¯¹ç§°äºŒå‰æ ‘ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜28ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ12msï¼‰ public boolean isSymmetric(TreeNode root) { return isSymmetric(root, root); } public boolean isSymmetric(TreeNode root1, TreeNode root2) { if (null == root1 &amp;&amp; null == root2) { return true; } if (null == root1 || null == root2) { return false; } if (root1.val != root2.val) { return false; } return isSymmetric(root1.left, root2.right) &amp;&amp; isSymmetric(root1.right, root2.left); } è‡ªå·±åšçš„æ€è·¯æ˜¯ä½¿ç”¨ä¸­åºéå†æ¥åˆ¤æ–­ï¼ˆè½¬æˆæ•°ç»„ä¹‹åæ˜¯å¯¹ç§°çš„ï¼‰ï¼Œä½†æ˜¯å‡ºäº†å¾ˆå¤šé—®é¢˜ï¼Œå°±æ˜¯éœ€è¦è€ƒè™‘nullå€¼ï¼Œä¸­åºéå†ä¸­å¹¶ä¸èƒ½å¾ˆå¥½åœ°æŠŠä¸€æ£µæ ‘ä¿å­˜ä¸ºä¸€ä¸ªå®Œæ•´äºŒå‰æ ‘çš„æ ·å­..æ‰€ä»¥çœ‹äº†ä¸‹å‚è€ƒç­”æ¡ˆ..å†™å¾—æœ.. 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜55ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ3msï¼‰ public int maxDepth(TreeNode root) { int leftHeight, rightHeight; if (null == root) { return 0; } else { // è®¡ç®—æ¯ä¸ªå­æ ‘çš„é«˜åº¦ leftHeight = maxDepth(root.left); rightHeight = maxDepth(root.right); return leftHeight > rightHeight ? leftHeight + 1 : rightHeight + 1; } } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ0msï¼‰ public int maxDepth(TreeNode root) { if(root==null) return 0; return Math.max(maxDepth(root.left)+1,maxDepth(root.right)+1); } 105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜7ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ2msï¼‰ public TreeNode buildTree(int[] preorder, int[] inorder) { if (preorder == null || preorder.length == 0) { return null; } return buildTree(preorder, inorder, 0, 0, inorder.length - 1); } private TreeNode buildTree(int[] preorder, int[] inorder, int ps, int is, int ie) { int val = preorder[ps]; TreeNode node = new TreeNode(val); int iRoot = ie; while (iRoot > is) { if (val == inorder[iRoot]) { break; } iRoot--; } if (iRoot > is) { node.left = buildTree(preorder, inorder, ps + 1, is, iRoot - 1); } if (iRoot &lt; ie) { node.right = buildTree(preorder, inorder, ps + 1 + (iRoot - is), iRoot + 1, ie); } return node; } æ€è·¯æ˜¯è¿™æ ·çš„ï¼šåœ¨äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—ä¸­ï¼Œç¬¬ä¸€ä¸ªæ•°å­—æ€»æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œä½†åœ¨ä¸­åºéå†åºåˆ—ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„å€¼ä¿å­˜åœ¨åºåˆ—çš„ä¸­é—´ï¼Œå·¦å­æ ‘çš„èŠ‚ç‚¹çš„å€¼ä½äºæ ¹èŠ‚ç‚¹çš„å€¼çš„å·¦è¾¹ï¼Œè€Œå³å­æ ‘åˆ™ç›¸åï¼Œç„¶åæ—¢ç„¶æ‰¾åˆ°äº†å·¦å³å­æ ‘æˆ‘ä»¬åˆå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•åœ¨å‰åºå’Œä¸­åºä¸­åˆ†åˆ«æ„å»ºå·¦å³å­æ ‘ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿä½¿ç”¨é€’å½’çš„æ–¹æ³•å®Œæˆï¼›ï¼ˆä¸Šé¢ç®—æ³•ä¸­çš„psã€isã€ieåˆ†åˆ«è¡¨ç¤ºå‰åºçš„å¼€å§‹ä½ç½®ï¼Œä¸­åºçš„å¼€å§‹ä½ç½®å’Œä¸­åºçš„ç»“æŸä½ç½®ï¼›ï¼‰ 113. è·¯å¾„æ€»å’Œ IIï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜34ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ3msï¼‰ public List&lt;List&lt;Integer>> pathSum(TreeNode root, int sum) { List&lt;Integer> nodeList = new ArrayList&lt;Integer>(); List&lt;List&lt;Integer>> sumList = new ArrayList&lt;List&lt;Integer>>(); if (root == null) { return sumList; } pathSum2(root, sum, sumList, nodeList); return sumList; } public void pathSum2(TreeNode root, int target, List&lt;List&lt;Integer>> sumList, List&lt;Integer> nodeList) { if (root.left == null &amp;&amp; root.right == null) { nodeList.add(root.val); int sum = 0; for (Integer integer : nodeList) { sum += integer; } if (sum == target) { sumList.add(new ArrayList&lt;Integer>(nodeList)); } return; } nodeList.add(root.val); if (root.left != null) { pathSum2(root.left, target, sumList, nodeList); nodeList.remove(nodeList.size() - 1); } if (root.right != null) { pathSum2(root.right, target, sumList, nodeList); nodeList.remove(nodeList.size() - 1); } } 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ ï¼ˆç±»ä¼¼å‰‘æŒ‡Offeré¢è¯•é¢˜54ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ23msï¼‰ public int kthSmallest(TreeNode root, int k) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == root || k &lt; 1) { return -1; } List&lt;Integer> result = preOrder(root); // ä»å°åˆ°å¤§æ’åº Collections.sort(result); return result.get(k - 1); } /** * éå†æ•´æ£µæ ‘å¹¶è¿”å›ä¸€ä¸ªList * * @param root * @return */ private List&lt;Integer> preOrder(TreeNode root) { List result = new ArrayList(); if (null != root) { result.add(root.val); result.addAll(preOrder(root.left)); result.addAll(preOrder(root.right)); } return result; } è´¼è ¢ï¼Œå®Œå…¨æ²¡æœ‰ç”¨åˆ°äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ1msï¼‰ public int kthSmallest(TreeNode root, int k) { int count = countNodes(root.left); if (k &lt;= count) { return kthSmallest(root.left, k); } else if (k > count + 1) { return kthSmallest(root.right, k - 1 - count); } return root.val; } public int countNodes(TreeNode n) { if (n == null) return 0; return 1 + countNodes(n.left) + countNodes(n.right); } 449. åºåˆ—åŒ–äºŒå‰æœç´¢æ ‘ï¼ˆç±»ä¼¼å‰‘æŒ‡Offeré¢è¯•é¢˜37ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ12msï¼‰ // Encodes a tree to a single string. public String serialize(TreeNode root) { StringBuffer sb = new StringBuffer(); preOrder(root,sb); return sb.toString(); } private static void preOrder(TreeNode root, StringBuffer sb){ if(root==null) return; sb.append(root.val).append('#'); preOrder(root.left,sb); preOrder(root.right,sb); } // Decodes your encoded data to tree. public TreeNode deserialize(String data) { if(data==null) return null; int val =0; TreeNode root = null; for(int i=0;i&lt;data.length();i++){ if(data.charAt(i)!='#'){ val = val*10+(data.charAt(i)-'0'); }else{ root = insert(root,val); val=0; } } return root; } private static TreeNode insert(TreeNode root,int val){ if(root==null) return new TreeNode(val); if(root.val&lt;val) root.right = insert(root.right,val); else root.left = insert(root.left,val); return root; } 572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘ï¼ˆç±»ä¼¼å‰‘æŒ‡Offeré¢è¯•é¢˜26ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ15msï¼‰ public boolean isSubtree(TreeNode s, TreeNode t) { // Write your code here if (s == null) { return t == null; } if (s.val == t.val &amp;&amp; isSametree(s, t)) { return true; } return isSubtree(s.left, t) | isSubtree(s.right, t); } private boolean isSametree(TreeNode s, TreeNode t) { if (s == null) { return t == null; } if (t == null) { return false; } if (s.val != t.val) { return false; } return isSametree(s.left, t.left) &amp; isSametree(s.right, t.right); } æˆ‘çš„ç¬¬ä¸€ä¸ªååº”è¿˜æ˜¯å»æŠŠä¸¤æ£µæ ‘çš„å‰åºéå†çš„æ•°ç»„å¼„å‡ºæ¥ç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºå­é›†ï¼Œä½†æ˜¯æ ‘è¿™æ ·çš„å¤©ç„¶é€’å½’ç»“æ„è¿™æ ·å†™å¾ˆè‡ªç„¶â€¦ ç®€å•æ€»ç»“è¿˜æ˜¯åªæ˜¯ç®€å•å¤ä¹ äº†ä¸€ä¸‹æ ‘çš„ç›¸å…³çŸ¥è¯†å§ï¼Œé€šè¿‡åˆ·LeetCodeé¢˜ç›®è¿˜æœ‰å‚ç…§ç€å‰‘æŒ‡Offerå¯¹äºŒå‰æ ‘ã€äºŒå‰æœç´¢æ ‘ä»…ä»…è¿™ä¸¤ç§ç»“æ„æœ‰äº†ä¸€ä¸ªè¾ƒæ·±çš„è®¤è¯†ï¼Œå› ä¸ºåç»­è¿˜ä¼šç»§ç»­ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œç®€å•å¤ä¹ ä¸€ä¸‹ä¹Ÿæ— æ‰€è°“ï¼Œä¸è¿‡çœ‹ç€é¢˜ç›®å€’æ˜¯æ„Ÿè§‰è¿™æ ·çš„ç»“æ„å¾ˆå®¹æ˜“è€ƒé¢è¯•é¢˜å•Šï¼Œå› ä¸ºè¿™äº›ç»“æ„æ—¢é‡è¦è€ƒç‚¹åˆå¤šâ€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"é¢è¯•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•(2)â€”â€”æ ˆå’Œé˜Ÿåˆ—","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•-2-â€”â€”æ ˆå’Œé˜Ÿåˆ—","date":"2018-07-05T22:46:00.000Z","updated":"2020-08-03T09:04:32.372Z","comments":true,"path":"2018/07/06/shu-ju-jie-gou-yu-suan-fa-2-zhan-he-dui-lie/","link":"","permalink":"http://www.wmyskxz.com/2018/07/06/shu-ju-jie-gou-yu-suan-fa-2-zhan-he-dui-lie/","excerpt":"","text":"å‰è¨€ï¼šé¢˜å›¾æ— å…³ï¼Œåªæ˜¯å¥½çœ‹ï¼Œæ¥ä¸‹æ¥å°±æ¥å¤ä¹ ä¸€ä¸‹æ ˆå’Œé˜Ÿåˆ—çš„ç›¸å…³çŸ¥è¯† å‰åºæ–‡ç« ï¼š æ•°æ®ç»“æ„ä¸ç®—æ³•(1)â€”â€”æ•°ç»„ä¸é“¾è¡¨ï¼ˆhttps://www.jianshu.com/p/7b93b3570875ï¼‰ æ ˆä»€ä¹ˆæ˜¯æ ˆæ ˆæ˜¯ä¸€ç§ç”¨äºå­˜å‚¨æ•°æ®çš„ç®€å•æ•°æ®ç»“æ„ï¼ˆä¸é“¾è¡¨ç±»ä¼¼ï¼‰ã€‚æ•°æ®å…¥æ ˆçš„æ¬¡åºæ˜¯æ ˆçš„å…³é”®ã€‚å¯ä»¥æŠŠä¸€æ¡¶æ¡¶è£…çš„è–¯ç‰‡çœ‹ä½œæ˜¯ä¸€ä¸ªæ ˆçš„ä¾‹å­ï¼Œå½“è–¯ç‰‡åšå¥½ä¹‹åï¼Œå®ƒä»¬ä¼šä¾æ¬¡è¢«æ·»åŠ åˆ°æ¡¶é‡Œï¼Œæ¯ä¸€ç‰‡éƒ½ä¼šæ˜¯å½“å‰çš„æœ€ä¸Šé¢ä¸€ç‰‡ï¼Œè€Œæ¯æ¬¡æˆ‘ä»¬å–çš„æ—¶å€™ä¹Ÿæ˜¯å–çš„æœ€ä¸Šé¢çš„é‚£ä¸€ç‰‡ï¼Œè§„å®šä½ ä¸èƒ½ç ´åæ¡¶ä¹Ÿä¸èƒ½æŠŠåº•éƒ¨æ…ç©¿ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªæ”¾å…¥æ¡¶çš„è–¯ç‰‡åªèƒ½æœ€åä¸€ä¸ªä»æ¡¶é‡Œå–å‡ºï¼› å®šä¹‰ï¼šæ ˆï¼ˆStackï¼‰æ˜¯ä¸€ä¸ªæœ‰åºçº¿æ€§è¡¨ï¼Œåªèƒ½åœ¨è¡¨çš„ä¸€ç«¯ï¼ˆç§°ä¸ºæ ˆé¡¶ï¼Œtopï¼‰æ‰§è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚æœ€åæ’å…¥çš„å…ƒç´ å°†ç¬¬ä¸€ä¸ªè¢«åˆ é™¤ï¼Œæ‰€ä»¥æ ˆä¹Ÿç§°ä¸ºåè¿›å…ˆå‡ºï¼ˆLast In First Outï¼ŒLIFOï¼‰æˆ–å…ˆè¿›åå‡ºï¼ˆFirst In Last Outï¼‰çº¿æ€§è¡¨ï¼› ä¸¤ä¸ªæ”¹å˜æ ˆçš„æ“ä½œéƒ½æœ‰ä¸“ç”¨åç§°ã€‚ä¸€ä¸ªç§°ä¸ºå…¥æ ˆï¼ˆpushï¼‰ï¼Œè¡¨ç¤ºåœ¨æ ˆä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼›å¦ä¸€ä¸ªç§°ä¸ºå‡ºæ ˆï¼ˆpopï¼‰ï¼Œè¡¨ç¤ºä»æ ˆä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚è¯•å›¾å¯¹ä¸€ä¸ªç©ºæ ˆæ‰§è¡Œæ ˆæ“ä½œç§°ä¸ºä¸‹æº¢ï¼ˆunderflowï¼‰ï¼›è¯•å›¾å¯¹ä¸€ä¸ªæ»¡æ ˆæ‰§è¡Œæ ˆæ“ä½œç§°ä¸ºæº¢å‡ºï¼ˆoverflowï¼‰ã€‚é€šå¸¸ï¼Œæº¢å‡ºå’Œä¸‹æº¢å‡è®¤ä¸ºæ˜¯å¼‚å¸¸ï¼› æ ˆçš„åº”ç”¨ æ— å¤„ä¸åœ¨çš„Undoæ“ä½œï¼ˆæ’¤é”€ï¼‰ï¼› ç¨‹åºè°ƒç”¨çš„ç³»ç»Ÿæ ˆï¼› æ‹¬å·/ç¬¦å·åŒ¹é…ï¼› ç­‰ç­‰ç­‰ç­‰â€¦. æ ˆæŠ½è±¡æ•°æ®ç±»å‹ä¸‹é¢ç»™å‡ºæ ˆæŠ½è±¡æ•°æ®ç±»å‹ä¸­çš„æ“ä½œï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œå‡è®¾æ•°æ®ç±»å‹ä¸ºæ•´å‹ï¼› æ ˆçš„ä¸»è¦æ“ä½œ void push(int data)ï¼šå°†dataï¼ˆæ•°æ®ï¼‰æ’å…¥æ ˆï¼› int pop()ï¼šåˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªæ’å…¥æ ˆçš„å…ƒç´ ï¼› æ ˆçš„è¾…åŠ©æ“ä½œ int top()ï¼šè¿”å›æœ€åä¸€ä¸ªæ’å…¥æ ˆçš„å…ƒç´ ï¼Œä½†ä¸åˆ é™¤ï¼› int size()ï¼šè¿”å›å­˜å‚¨åœ¨æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°ï¼› int isEmpty()ï¼šåˆ¤æ–­æ ˆä¸­æ˜¯å¦æœ‰å…ƒç´ ï¼› int isStackFull()ï¼šåˆ¤æ–­æ ˆä¸­æ˜¯å¦å­˜æ»¡å…ƒç´ ï¼› åŠ¨æ€æ•°ç»„ç®€å•å®ç°æ ˆç»“æ„æˆ‘ä»¬ç»“åˆä¹‹å‰åˆ›å»ºçš„Arrayç±»ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆå¥½çš„åˆ›å»ºå±äºæˆ‘ä»¬è‡ªå·±çš„åŠ¨æ€æ•°ç»„å®ç°çš„æ ˆç»“æ„ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦å®Œæˆæˆ‘ä»¬çš„ç›¸å…³æ“ä½œï¼Œå¹¶ä¸”çŸ¥é“æˆ‘èƒ½å¤Ÿä¸æ–­åœ°å¾€é‡Œæ·»åŠ å…ƒç´ è€Œä¸å‡ºé”™å°±è¡Œäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å®šä¹‰ä¸€ä¸ªé€šç”¨çš„æ ˆæ¥å£ï¼š public interface Stack&lt;E> { int getSize(); boolean isEmepty(); void push(E e); E pop(); E top(); } ç„¶åæˆ‘ä»¬å¾€ä¹‹å‰çš„åŠ¨æ€æ•°ç»„ä¸­æ·»åŠ ä¸¤ä¸ªç”¨æˆ·å‹å¥½çš„æ–¹æ³•ï¼š public E getLast() { return get(size - 1); } public E getFirst() { return get(0); } ç„¶åå®ç°è‡ªå·±çš„åŠ¨æ€æ•°ç»„ä¸ºåº•å±‚çš„æ ˆç»“æ„å°±è½»æ¾å¤šäº†ï¼š public class ArrayStack&lt;E> implements Stack&lt;E> { Array&lt;E> array; public ArrayStack(int capacity) { array = new Array&lt;>(capacity); } public ArrayStack() { array = new Array&lt;>(); } @Override public int getSize() { return array.getSize(); } @Override public boolean isEmepty() { return array.isEmpty(); } public int getCapacity() { return array.getCapacity(); } @Override public void push(E e) { array.addLast(e); } @Override public E pop() { return array.removeLast(); } @Override public E top() { return array.getLast(); } @Override public String toString() { StringBuilder res = new StringBuilder(); res.append(\"Stack:\"); res.append(\"[\"); for (int i = 0; i &lt; array.getSize(); i++) { res.append(array.get(i)); if (i != array.getSize() - 1) { res.append(\",\"); } } res.append(\"]\"); return res.toString(); } } ç®€å•å¤æ‚åº¦åˆ†æä»ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå‡ ä¹æ‰€æœ‰çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1)çº§åˆ«ï¼Œæ¯”è¾ƒç‰¹åˆ«çš„æ˜¯push()å’Œpop()æ“ä½œå¯èƒ½æ¶‰åŠåˆ°åº•å±‚æ•°ç»„çš„æ‰©å®¹æˆ–ç¼©å®¹çš„æ“ä½œï¼Œæ‰€ä»¥æ˜¯å‡æ‘Šä¸‹æ¥çš„å¤æ‚åº¦ï¼› é˜Ÿåˆ—ä»€ä¹ˆæ˜¯é˜Ÿåˆ—é˜Ÿåˆ—æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨æ•°æ®çš„æ•°æ®ç»“æ„ï¼ˆä¸é“¾è¡¨å’Œæ ˆç±»ä¼¼ï¼‰ï¼Œæ•°æ®åˆ°è¾¾çš„æ¬¡åºæ˜¯é˜Ÿåˆ—çš„å…³é”®ï¼›åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­é˜Ÿåˆ—æ˜¯æŒ‡ä»åºåˆ—çš„å¼€å§‹æŒ‰ç…§é¡ºåºç­‰å¾…æœåŠ¡çš„ä¸€é˜Ÿäººæˆ–ç‰©ï¼› å®šä¹‰ï¼šé˜Ÿåˆ—æ˜¯ä¸€ç§åªèƒ½åœ¨ä¸€ç«¯æ’å…¥ï¼ˆé˜Ÿå°¾ï¼‰ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤ï¼ˆé˜Ÿé¦–ï¼‰çš„æœ‰åºçº¿æ€§è¡¨ã€‚é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ’å…¥çš„å…ƒç´ ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè¢«åˆ é™¤çš„å…ƒç´ ï¼Œæ‰€ä»¥é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO,First In First Outï¼‰æˆ–åè¿›åå‡ºï¼ˆLiLO,Last In Last Outï¼‰çº¿æ€§è¡¨ï¼› ä¸æ ˆç±»ä¼¼ï¼Œä¸¤ä¸ªæ”¹å˜é˜Ÿåˆ—çš„æ“ä½œå„æœ‰ä¸“ç”¨åç§°ï¼›åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸ºå…¥é˜Ÿï¼ˆEnQueueï¼‰ï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸ºå‡ºé˜Ÿï¼ˆDeQueueï¼‰ï¼›è¯•å›¾å¯¹ä¸€ä¸ªç©ºé˜Ÿåˆ—æ‰§è¡Œå‡ºé˜Ÿæ“ä½œç§°ä¸ºä¸‹æº¢ï¼ˆunderflowï¼‰ï¼Œè¯•å›¾å¯¹ä¸€ä¸ªæ»¡é˜Ÿåˆ—æ‰§è¡Œå…¥é˜Ÿæ“ä½œç§°ä¸ºæº¢å‡ºï¼ˆoverflowï¼‰ï¼›é€šå¸¸è®¤ä¸ºæº¢å‡ºå’Œä¸‹æº¢æ˜¯å¼‚å¸¸ã€‚ é˜Ÿåˆ—çš„ä¸€äº›åº”ç”¨ä¸¾ä¾‹ æ“ä½œç³»ç»Ÿæ ¹æ®ï¼ˆå…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„ï¼‰ä»»åŠ¡åˆ°è¾¾çš„é¡ºåºè°ƒåº¦ä»»åŠ¡ï¼ˆä¾‹å¦‚æ‰“å°é˜Ÿåˆ—ï¼‰ï¼› æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­çš„é˜Ÿåˆ—ï¼Œå¦‚å”®ç¥¨æŸœå°å‰çš„é˜Ÿä¼ï¼Œæˆ–è€…ä»»ä½•éœ€è¦å…ˆæ¥å…ˆæœåŠ¡çš„åœºæ™¯ï¼› å¤šé“ç¨‹åºè®¾è®¡ï¼› å¼‚æ­¥æ•°æ®ä¼ è¾“ï¼ˆæ–‡ä»¶è¾“å…¥è¾“å‡ºã€ç®¡é“ã€å¥—æ¥å­—ï¼‰ï¼› ç­‰ç­‰ç­‰ç­‰â€¦ åŠ¨æ€æ•°ç»„ç®€å•å®ç°é˜Ÿåˆ—ç»“æ„æˆ‘ä»¬ä»ç„¶å®šä¹‰ä¸€ä¸ªQueueæ¥å£æ¥è¯´æ˜æˆ‘ä»¬é˜Ÿåˆ—ä¸­å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ï¼š public interface Queue&lt;E> { int getSize(); boolean isEmpty(); void enqueue(E e); E dequeue(); E getFront(); } å€Ÿç”±æˆ‘ä»¬ä¹‹å‰è‡ªå·±å®ç°çš„åŠ¨æ€æ•°ç»„ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„é˜Ÿåˆ—å°±å¾ˆç®€å•äº†ï¼š public class ArrayQueue&lt;E> implements Queue&lt;E> { private Array&lt;E> array; public ArrayQueue(int capacity){ array = new Array&lt;>(capacity); } public ArrayQueue(){ array = new Array&lt;>(); } @Override public int getSize(){ return array.getSize(); } @Override public boolean isEmpty(){ return array.isEmpty(); } public int getCapacity(){ return array.getCapacity(); } @Override public void enqueue(E e){ array.addLast(e); } @Override public E dequeue(){ return array.removeFirst(); } @Override public E getFront(){ return array.getFirst(); } @Override public String toString(){ StringBuilder res = new StringBuilder(); res.append(\"Queue: \"); res.append(\"front [\"); for(int i = 0 ; i &lt; array.getSize() ; i ++){ res.append(array.get(i)); if(i != array.getSize() - 1) res.append(\", \"); } res.append(\"] tail\"); return res.toString(); } } ç®€å•çš„å¤æ‚åº¦åˆ†æ void enquque(E)ï¼šO(1)ï¼ˆå‡æ‘Šï¼‰ E dequeue()ï¼šO(n) E front()ï¼šO(1) int getSize()ï¼šO(1) boolean isEmpty()ï¼šO(1) å®ç°è‡ªå·±çš„å¾ªç¯é˜Ÿåˆ—å¾ªç¯é˜Ÿåˆ—çš„å®ç°å…¶å®å°±æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªfrontå’Œä¸€ä¸ªtailåˆ†åˆ«æŒ‡å‘å¤´å’Œå°¾ï¼Œç„¶åéœ€è¦ç‰¹åˆ«æ³¨æ„çš„å‘¢æ˜¯åˆ¤å®šé˜Ÿæ»¡å’Œé˜Ÿç©ºçš„æ¡ä»¶ï¼š é˜Ÿç©ºï¼šfront == tailï¼Œè¿™æ²¡å•¥å¥½è¯´çš„ï¼› é˜Ÿæ»¡ï¼štail + 1 == frontï¼Œè¿™é‡Œå…¶å®æ˜¯æœ‰æ„æµªè´¹äº†ä¸€ä¸ªç©ºé—´ï¼Œä¸ç„¶å°±åˆ¤å®šä¸äº†åˆ°åº•æ˜¯é˜Ÿç©ºè¿˜æ˜¯é˜Ÿæ»¡äº†ï¼Œå› ä¸ºæ¡ä»¶éƒ½ä¸€æ ·â€¦ public class LoopQueue&lt;E> implements Queue&lt;E> { private E[] data; private int front, tail; private int size; public LoopQueue(int capacity){ data = (E[])new Object[capacity + 1]; front = 0; tail = 0; size = 0; } public LoopQueue(){ this(10); } public int getCapacity(){ return data.length - 1; } @Override public boolean isEmpty(){ return front == tail; } @Override public int getSize(){ return size; } @Override public void enqueue(E e){ if((tail + 1) % data.length == front) resize(getCapacity() * 2); data[tail] = e; tail = (tail + 1) % data.length; size ++; } @Override public E dequeue(){ if(isEmpty()) throw new IllegalArgumentException(\"Cannot dequeue from an empty queue.\"); E ret = data[front]; data[front] = null; front = (front + 1) % data.length; size --; if(size == getCapacity() / 4 &amp;&amp; getCapacity() / 2 != 0) resize(getCapacity() / 2); return ret; } @Override public E getFront(){ if(isEmpty()) throw new IllegalArgumentException(\"Queue is empty.\"); return data[front]; } private void resize(int newCapacity){ E[] newData = (E[])new Object[newCapacity + 1]; for(int i = 0 ; i &lt; size ; i ++) newData[i] = data[(i + front) % data.length]; data = newData; front = 0; tail = size; } @Override public String toString(){ StringBuilder res = new StringBuilder(); res.append(String.format(\"Queue: size = %d , capacity = %d\\n\", size, getCapacity())); res.append(\"front [\"); for(int i = front ; i != tail ; i = (i + 1) % data.length){ res.append(data[i]); if((i + 1) % data.length != tail) res.append(\", \"); } res.append(\"] tail\"); return res.toString(); } } ç®€å•å¤æ‚åº¦åˆ†æ void enquque(E)ï¼šO(1)ï¼ˆå‡æ‘Šï¼‰ E dequeue()ï¼šO(1)ï¼ˆå‡æ‘Šï¼‰ E front()ï¼šO(1) int getSize()ï¼šO(1) boolean isEmpty()ï¼šO(1) ç®€å•æ•°ç»„é˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—çš„ç®€å•æ¯”è¾ƒæˆ‘ä»¬æ¥ç®€å•å¯¹æ¯”ä¸€ä¸‹ä¸¤ä¸ªé˜Ÿåˆ—çš„æ€§èƒ½å§ï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š // æµ‹è¯•ä½¿ç”¨qè¿è¡ŒopCountä¸ªenqueueuå’Œdequeueæ“ä½œæ‰€éœ€è¦çš„æ—¶é—´ï¼Œå•ä½ï¼šç§’ private static double testQueue(Queue&lt;Integer> q, int opCount){ long startTime = System.nanoTime(); Random random = new Random(); for(int i = 0 ; i &lt; opCount ; i ++) q.enqueue(random.nextInt(Integer.MAX_VALUE)); for(int i = 0 ; i &lt; opCount ; i ++) q.dequeue(); long endTime = System.nanoTime(); return (endTime - startTime) / 1000000000.0; } public static void main(String[] args) { int opCount = 100000; ArrayQueue&lt;Integer> arrayQueue = new ArrayQueue&lt;>(); double time1 = testQueue(arrayQueue, opCount); System.out.println(\"ArrayQueue, time: \" + time1 + \" s\"); LoopQueue&lt;Integer> loopQueue = new LoopQueue&lt;>(); double time2 = testQueue(loopQueue, opCount); System.out.println(\"LoopQueue, time: \" + time2 + \" s\"); } æˆ‘è¿™é‡Œçš„æµ‹è¯•ç»“æœæ˜¯è¿™æ ·çš„ï¼Œå¤§å®¶ä¹Ÿå°±å¯è§ä¸€æ–‘å•¦ï¼š å…¶å®ArrayQueueæ…¢ä¸»è¦æ˜¯å› ä¸ºå‡ºæ ˆæ—¶æ¯æ¬¡éƒ½éœ€è¦æŠŠæ•´ä¸ªç»“æ„å¾€å‰æŒªä¸€ä¸‹ LeetCode ç›¸å…³é¢˜ç›®æ•´ç†20.æœ‰æ•ˆçš„æ‹¬å· æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ10msï¼‰ public boolean isValid(String s) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == s || s.length() == 1) { return false; } Stack&lt;Character> stack = new Stack&lt;>(); // éå†è¾“å…¥çš„å­—ç¬¦ for (int i = 0; i &lt; s.length(); i++) { char c = s.charAt(i); // å¦‚æœä¸ºå·¦æ‹¬å·åˆ™pushè¿›æ ˆ if (c == '(' || c == '[' || c == '{') { stack.push(c); } else { if (stack.isEmpty()) { return false; } char topChar = stack.pop(); if (c == ')' &amp;&amp; topChar != '(') { return false; } if (c == ']' &amp;&amp; topChar != '[') { return false; } if (c == '}' &amp;&amp; topChar != '{') { return false; } } } // æœ€åæ ˆä¸ºç©ºæ‰èƒ½è¿”å›true return stack.isEmpty(); } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ8msï¼‰ public boolean isValid(String s) { // æ­£ç¡®æ€§åˆ¤æ–­ if (0 == s.length()) { return true; } if (s.length() % 2 == 1) { return false; } Stack&lt;Character> stack = new Stack(); char[] cs = s.toCharArray(); for (int i = 0; i &lt; cs.length; i++) { if (cs[i] == '(' || cs[i] == '[' || cs[i] == '{') { stack.push(cs[i]); } else { if (stack.isEmpty()) { return false; } char c = stack.pop(); if ((cs[i] == ')' &amp;&amp; c == '(') || (cs[i] == '}' &amp;&amp; c == '{') || (cs[i] == ']' &amp;&amp; c == '[')) { } else { return false; } } } return stack.isEmpty(); } 155. æœ€å°æ ˆï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜30ï¼‰ å‚è€ƒç­”æ¡ˆï¼ˆ107msï¼‰ class MinStack { // æ•°æ®æ ˆï¼Œç”¨äºå­˜æ”¾æ’å…¥çš„æ•°æ® private Stack&lt;Integer> dataStack; // æœ€å°æ•°ä½ç½®æ ˆï¼Œå­˜æ”¾æ•°æ®æ ˆä¸­æœ€å°çš„æ•°çš„ä½ç½® private Stack&lt;Integer> minStack; /** * initialize your data structure here. */ public MinStack() { this.dataStack = new Stack&lt;>(); this.minStack = new Stack&lt;>(); } /** * å…ƒç´ å…¥æ ˆ * * @param x å…¥æ ˆçš„å…ƒç´  */ public void push(int x) { dataStack.push(x); // å¦‚æœæœ€å°æ ˆæ˜¯ç©ºçš„ï¼Œåªè¦å°†å…ƒç´ å…¥æ ˆ if (minStack.isEmpty()) { minStack.push(x); } // å¦‚æœæœ€å°æ ˆä¸­æœ‰æ•°æ® else { minStack.push(Math.min(x, minStack.peek())); } } /** * å‡ºæ ˆæ–¹æ³• */ public void pop() { // å¦‚æœæ ˆå·²ç»ä¸ºç©ºï¼Œåˆ™è¿”å›ï¼ˆLeetCodeä¸èƒ½æŠ›å¼‚å¸¸...ï¼‰ if (dataStack.isEmpty()) { return; } // å¦‚æœæœ‰æ•°æ®ï¼Œæœ€å°æ•°ä½ç½®æ ˆå’Œæ•°æ®æ ˆå¿…å®šæ˜¯æœ‰ç›¸åŒçš„å…ƒç´ ä¸ªæ•°ï¼Œ // ä¸¤ä¸ªæ ˆåŒæ—¶å‡ºæ ˆ minStack.pop(); dataStack.pop(); } /** * è¿”å›æ ˆé¡¶å…ƒç´  * * @return æ ˆé¡¶å…ƒç´  */ public int top() { return dataStack.peek(); } /** * è·å–æ ˆä¸­çš„æœ€å°å…ƒç´  * * @return æ ˆä¸­çš„æœ€å°å…ƒç´  */ public int getMin() { // å¦‚æœæœ€å°æ•°å…¬ä½ç½®æ ˆå·²ç»ä¸ºç©ºï¼ˆæ•°æ®æ ˆä¸­å·²ç»æ²¡æœ‰æ•°æ®äº†ï¼‰ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ if (minStack.isEmpty()) { return 0; } // è·å–æ•°æ®å ä¸­çš„æœ€å°å…ƒç´ ï¼Œå¹¶ä¸”è¿”å›ç»“æœ return minStack.peek(); } } æ”¹è¿›ç­”æ¡ˆï¼š ä¸Šé¢æ±‚è§£æ–¹æ³•çš„ä¸»è¦é—®é¢˜åœ¨äºï¼Œæ¯æ¬¡pushæ“ä½œæ—¶ï¼ŒminStackä¹Ÿæ‰§è¡Œäº†ä¸€æ¬¡pushæ“ä½œï¼ˆæ–°å…ƒç´ æˆ–å½“å‰çš„æœ€å°å…ƒç´ ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé‡å¤æ‰§è¡Œäº†æœ€å°å€¼çš„å…¥æ ˆæ“ä½œï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬æ¥ä¿®æ”¹ç®—æ³•é™ä½ç©ºé—´å¤æ‚åº¦ã€‚ä»ç„¶éœ€è¦è®¾ç½®ä¸€ä¸ªminStackï¼Œä½†æ˜¯åªæœ‰å½“ä»dataStackä¸­å‡ºæ ˆçš„å…ƒç´ ç­‰äºminStackæ ˆé¡¶å…ƒç´ æ—¶ï¼Œæ‰å¯¹minStackæ‰§è¡Œå‡ºæ ˆçš„æ“ä½œï¼›ä¹Ÿåªæœ‰å½“dataStackå…¥æ ˆçš„å…ƒç´ å°äºæˆ–ç­‰äºå½“å‰æœ€å°å€¼æ—¶ï¼Œæ‰å¯¹minStackæ‰§è¡Œå…¥æ ˆæ“ä½œï¼Œä¸‹é¢å°±ç®€å•å†™ä¸€ä¸‹äº†ä¸»è¦çœ‹ä¸€ä¸‹å‡ºæ ˆå’Œå…¥æ ˆå®ç°çš„é€»è¾‘å°±å¥½äº†ï¼š class MinStack { private Stack&lt;Integer> dataStack; private Stack&lt;Integer> minStack; public MinStack() { this.dataStack = new Stack&lt;>(); this.minStack = new Stack&lt;>(); } public void push(int x) { dataStack.push(x); if (minStack.isEmpty() || minStack.peek() >= (Integer) x) { minStack.push(x); } } public void pop() { if (dataStack.isEmpty()) { return; } Integer minTop = minStack.peek(); Integer dataTop = dataStack.peek(); if (minTop.intValue() == dataTop.intValue()) { minStack.pop(); } dataStack.pop(); } public int top() { return dataStack.peek(); } public int getMin() { return minStack.peek(); } } 225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ118msï¼‰ class MyStack { private Queue&lt;Integer> queue1; private Queue&lt;Integer> queue2; /** * Initialize your data structure here. */ public MyStack() { queue1 = new LinkedList&lt;>(); queue2 = new LinkedList&lt;>(); } /** * Push element x onto stack. */ public void push(int x) { if (queue1.isEmpty()) { queue2.offer(x); } else { queue1.offer(x); } } /** * Removes the element on top of the stack and returns that element. */ public int pop() { int size; if (!queue1.isEmpty()) { size = queue1.size(); for (int i = 0; i &lt; size - 1; i++) { queue2.offer(queue1.poll()); } return queue1.poll(); } else { size = queue2.size(); for (int i = 0; i &lt; size - 1; i++) { queue1.offer(queue2.poll()); } return queue2.poll(); } } /** * Get the top element. */ public int top() { int size; if (!queue1.isEmpty()) { size = queue1.size(); for (int i = 0; i &lt; size - 1; i++) { queue2.offer(queue1.poll()); } int result = queue1.peek(); queue2.offer(queue1.poll()); return result; } else { size = queue2.size(); for (int i = 0; i &lt; size - 1; i++) { queue1.offer(queue2.poll()); } int result = queue2.peek(); queue1.offer(queue2.poll()); return result; } } /** * Returns whether the stack is empty. */ public boolean empty() { return queue1.isEmpty() &amp;&amp; queue2.isEmpty(); } } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ121msï¼‰ class MyStack { Queue&lt;Integer> q; /** * Initialize your data structure here. */ public MyStack() { this.q = new LinkedList&lt;Integer>(); } /** * Push element x onto stack. */ public void push(int x) { q.add(x); } /** * Removes the element on top of the stack and returns that element. */ public int pop() { int size = q.size(); for (int i = 0; i &lt; size - 1; i++) { q.add(q.remove()); } return q.remove(); } /** * Get the top element. */ public int top() { int size = q.size(); for (int i = 0; i &lt; size - 1; i++) { q.add(q.remove()); } int ret = q.remove(); q.add(ret); return ret; } /** * Returns whether the stack is empty. */ public boolean empty() { return q.isEmpty(); } } ç¡®å®å†™å¾—ç®€æ´å•Šï¼Œè¿™æ ·ä¸€æ¥æˆ‘å°±ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å’Œä¸¤ä¸ªé˜Ÿåˆ—éƒ½æŒæ¡å•¦ï¼Œå¼€å¿ƒ~ 232.ç”¨æ ˆå®ç°é˜Ÿåˆ—ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜9ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ72msï¼‰ class MyQueue { Stack&lt;Integer> pushstack; Stack&lt;Integer> popstack; /** * Initialize your data structure here. */ public MyQueue() { this.pushstack = new Stack(); this.popstack = new Stack(); } /** * Push element x to the back of queue. */ public void push(int x) { pushstack.push(x); } /** * Removes the element from in front of queue and returns that element. */ public int pop() { if (popstack.isEmpty()) { while (!pushstack.isEmpty()) { popstack.push(pushstack.pop()); } } return popstack.pop(); } /** * Get the front element. */ public int peek() { if (popstack.isEmpty()) { while (!pushstack.isEmpty()) { popstack.push(pushstack.pop()); } } return popstack.peek(); } /** * Returns whether the queue is empty. */ public boolean empty() { return pushstack.isEmpty() &amp;&amp; popstack.isEmpty(); } } å…¶ä»–é¢˜ç›®æ•´ç†å‰‘æŒ‡Offeré¢è¯•é¢˜31ï¼šæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—é¢˜ç›®ï¼šè¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ—{1,2,3,4,5}æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ—{4,5,3,2,1}æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½†{4,3,5,1,2}å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ å‚è€ƒç­”æ¡ˆï¼šï¼ˆåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/derrantcm/article/details/46691083ï¼‰ public class Test22 { /** * è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚ * å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚åºåˆ—1 ã€2ã€3 ã€4ã€5 æ˜¯æŸæ ˆå‹æ ˆåºåˆ—ï¼Œ * åºåˆ—4ã€5ã€3ã€2ã€1æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œ * ä½†4ã€3ã€5ã€1ã€2å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ£‹åºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ * ã€ä¸ä¹¦æœ¬çš„çš„æ–¹æ³•ä¸åŒã€‘ * * @param push å…¥æ ˆåºåˆ— * @param pop å‡ºæ ˆåºåˆ— * @return trueï¼šå‡ºæ ˆåºåˆ—æ˜¯å…¥æ ˆåºåˆ—çš„ä¸€ä¸ªå¼¹å‡ºé¡ºåº */ public static boolean isPopOrder(int[] push, int[] pop) { // è¾“å…¥æ ¡éªŒï¼Œå‚æ•°ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”ä¸¤ä¸ªæ•°ç»„ä¸­å¿…é¡»æœ‰æ•°å­—ï¼Œå¹¶ä¸”ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ•°å­—ä¸ªæ•°ç›¸åŒ // å¦åˆ™è¿”å›false if (push == null || pop == null || pop.length == 0 || push.length == 0 || push.length != pop.length) { return false; } // ç»è¿‡ä¸Šé¢çš„å‚æ•°æ ¡éªŒï¼Œä¸¤ä¸ªæ•°ç»„ä¸­ä¸€å®šæœ‰æ•°æ®ï¼Œä¸”æ•°æ®æ•°ç›®ç›¸ç­‰ // ç”¨äºå­˜æ”¾å…¥æ ˆæ—¶çš„æ•°æ® Stack&lt;Integer> stack = new Stack&lt;>(); // ç”¨äºè®°å½•å…¥æ ˆæ•°ç»„å…ƒç´ çš„å¤„ç†ä½ç½® int pushIndex = 0; // ç”¨äºè®°å½•å‡ºæ ˆæ•°ç»„å…ƒç´ çš„å¤„ç†ä½ç½® int popIndex = 0; // å¦‚æœè¿˜æœ‰å‡ºæ ˆå…ƒç´ è¦å¤„ç† while (popIndex &lt; pop.length) { // å…¥æ ˆå…ƒç´ è¿˜æœªå…¨éƒ¨å…¥æ ˆçš„æ¡ä»¶ä¸‹ï¼Œå¦‚æœæ ˆä¸ºç©ºï¼Œæˆ–è€…æ ˆé¡¶çš„å…ƒç´ ä¸ä¸å½“å‰å¤„ç†çš„ç›¸ç­‰ï¼Œåˆ™ä¸€ç›´è¿›è¡Œæ ˆæ“ä½œï¼Œ // ç›´åˆ°å…¥æ ˆå…ƒç´ å…¨éƒ¨å…¥æ ˆæˆ–è€…æ‰¾åˆ°äº†ä¸€ä¸ªä¸å½“å‡ºæ ˆå…ƒç´ ç›¸ç­‰çš„å…ƒç´  while (pushIndex &lt; push.length &amp;&amp; (stack.isEmpty() || stack.peek() != pop[popIndex])) { // å…¥æ ˆæ•°ç»„ä¸­çš„å…ƒç´ å…¥æ ˆ stack.push(push[pushIndex]); // æŒ‡å‘ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„å…¥æ ˆå…ƒç´  pushIndex++; } // å¦‚æœåœ¨ä¸Šä¸€æ­¥çš„å…¥æ ˆè¿‡ç¨‹ä¸­æ‰¾åˆ°äº†ä¸å‡ºæ ˆçš„å…ƒç´ ç›¸ç­‰çš„å…ƒç´  if (stack.peek() == pop[popIndex]) { // å°†å…ƒç´ å‡ºæ ˆ stack.pop(); // å¤„ç†ä¸‹ä¸€ä¸ªå‡ºæ ˆå…ƒç´  popIndex++; } // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ä¸å‡ºæ ˆå…ƒç´ ç›¸ç­‰çš„å…ƒç´ ï¼Œè¯´æ˜è¿™ä¸ªå‡ºæ ˆé¡ºåºæ˜¯ä¸åˆæ³•çš„ // å°±è¿”å›false else { return false; } } // ä¸‹é¢çš„è¯­å¥æ€»æ˜¯æˆç«‹çš„ // return stack.isEmpty(); // ä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥è¿”å›trueï¼šå¯¹ä¸Šé¢çš„å¤–å±‚whileè¿›è¡Œåˆ†æå¯çŸ¥é“ï¼Œå¯¹æ¯ä¸€ä¸ªå…¥æ ˆçš„å…ƒç´ ï¼Œ // åœ¨stackæ ˆä¸­ï¼Œé€šè¿‡ä¸€äº›å…¥æ ˆæ“ä½œï¼Œæ€»å¯ä»¥åœ¨æ ˆé¡¶ä¸Šæ‰¾åˆ°ä¸å…¥æ ˆå…ƒç´ å€¼ç›¸åŒçš„å…ƒç´ ï¼Œ // è¿™å°±è¯´æ˜äº†è¿™ä¸ªå‡ºæ ˆçš„é¡ºåºæ˜¯å…¥æ ˆé¡ºåºçš„ä¸€ä¸ªå¼¹å‡ºé˜Ÿåˆ—ï¼Œè¿™ä¹Ÿå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆstack.isEmpty() // æ€»æ˜¯è¿”å›trueï¼Œæ‰€æœ‰çš„å…¥æ ˆå…ƒç´ éƒ½å¯ä»¥è¿›æ ˆï¼Œå¹¶ä¸”å¯ä»¥è¢«åŒ¹é…åˆ°ï¼Œä¹‹åå°±å¼¹å‡ºï¼Œæœ€åæ ˆä¸­å°±æ— å…ƒç´ ã€‚ return true; } /** * è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚ * ã€æŒ‰ä¹¦æœ¬ä¸Šçš„æ€è·¯è¿›è¡Œæ±‚è§£ï¼Œä¸¤è€…ç›¸å·®ä¸å¤§ã€‘ * * @param push å…¥æ ˆåºåˆ— * @param pop å‡ºæ ˆåºåˆ— * @return trueï¼šå‡ºæ ˆåºåˆ—æ˜¯å…¥æ ˆåºåˆ—çš„ä¸€ä¸ªå¼¹å‡ºé¡ºåº */ public static boolean isPopOrder2(int[] push, int[] pop) { // ç”¨äºè®°å½•åˆ¤æ–­å‡ºæ ˆé¡ºåºæ˜¯ä¸æ˜¯å…¥æ ˆé¡ºçš„ä¸€ä¸ªå‡ºæ ˆåºåˆ—ï¼Œé»˜è®¤false boolean isPossible = false; // å½“å…¥æ ˆå’Œå‡ºæ ˆæ•°ç»„è€…éƒ½ä¸ä¸ºç©ºï¼Œå¹¶ä¸”éƒ½æœ‰æ•°æ®ï¼Œå¹¶ä¸”æ•°æ®ä¸ªæ•°éƒ½ç›¸ç­‰ if (push != null &amp;&amp; pop != null &amp;&amp; push.length > 0 &amp;&amp; push.length == pop.length) { // ç”¨äºå­˜æ”¾å…¥æ ˆæ—¶çš„æ•°æ® Stack&lt;Integer> stack = new Stack&lt;>(); // è®°å½•ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„å…¥æ ˆå…ƒç´ çš„ä½ç½® int nextPush = 0; // è®°å½•ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„å‡ºæ ˆå…ƒç´ çš„ä½ç½® int nextPop = 0; // å¦‚æœå‡ºæ ˆå…ƒç´ æ²¡æœ‰å¤„ç†å®Œå°±ç»§ç»­è¿›è¡Œå¤„ç† while (nextPop &lt; pop.length) { // å¦‚æœæ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶çš„å…ƒç´ ä¸å½“å‰å¤„ç†çš„å‡ºæ ˆå…ƒç´ ä¸ç›¸åŒï¼Œä¸€ç›´è¿›è¡Œæ“ä½œ while (stack.isEmpty() || stack.peek() != pop[nextPop]) { // å¦‚æœå…¥æ ˆçš„å…ƒç´ å·²ç»å…¨éƒ¨å…¥æ ˆäº†ï¼Œå°±é€€å‡ºå†…å±‚å¾ªç¯ if (nextPush >= push.length) { break; } // æ‰§è¡Œåˆ°æ­¤å¤„è¯´æ˜è¿˜æœ‰å…¥æ ˆå…ƒç´ å¯ä»¥å…¥æ ˆ // å³å°†å…ƒç´ å…¥æ ˆ stack.push(push[nextPush]); // æŒ‡å‘ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„å…¥æ ˆå…ƒç´ çš„ä½ç½® nextPush++; } // æ‰§è¡Œåˆ°æ­¤å¤„æœ‰ä¸¤ç§æƒ…å†µï¼š // ç¬¬ä¸€ç§ï¼šåœ¨æ ˆé¡¶ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªä¸å…¥æ ˆå…ƒç´ ç›¸ç­‰çš„å…ƒç´  // ç¬¬äºŒç§ï¼šåœ¨æ ˆé¡¶ä¸Šæ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªä¸å…¥æ ˆå…ƒç´ ç›¸ç­‰çš„å…ƒç´ ï¼Œè€Œä¸”è¾“å…¥æ ˆçš„å…ƒç´ å·²ç»å…¨éƒ¨å…¥æ ˆäº† // å¯¹äºç¬¬äºŒç§æƒ…å†µå°±è¯´å¼¹å‡ºæ ˆçš„é¡ºåºæ˜¯ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œé€€å‡ºå¤–å±‚å¾ªç¯ if (stack.peek() != pop[nextPop]) { break; } // å¯¹åº”åˆ°ç¬¬ä¸€ç§æƒ…å†µï¼šéœ€è¦è¦æ ˆçš„æ ˆé¡¶å…ƒç´ å¼¹å‡º stack.pop(); // æŒ‡å‘ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„å‡ºæ ˆå…ƒç´ çš„ä½ç½® nextPop++; } // æ‰§è¡Œåˆ°æ­¤å¤„æœ‰ä¸¤ç§æƒ…å†µ // ç¬¬ä¸€ç§ï¼šå¤–å±‚whileå¾ªç¯çš„åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹é€€å‡ºï¼Œ // ç¬¬äºŒç§ï¼šæ‰€æœ‰çš„å‡ºæ ˆå…ƒç´ éƒ½è¢«æ­£ç¡®åŒ¹é… // å¯¹äºå‡ºç°çš„ç¬¬ä¸€ç§æƒ…å†µå…¶stack.isEmpty()å¿…ä¸ä¸ºç©ºï¼ŒåŸå› ä¸ºåˆ†æå¦‚ä¸‹ï¼š // æ‰€æœ‰çš„å…¥æ ˆå…ƒç´ ä¸€å®šä¼šå…¥æ ˆï¼Œä½†æ˜¯åªæœ‰åŒ¹é…çš„æƒ…å†µä¸‹æ‰ä¼šå‡ºæ ˆï¼Œ // åŒ¹é…çš„æ¬¡æ•°æœ€å¤šä¸å…¥æ ˆå…ƒç´ ä¸ªæ•°å…ƒç´ ç›¸åŒï¼ˆä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ç›¸ç­‰ï¼‰ï¼Œå¦‚æœæœ‰ä¸åŒ¹é…çš„å…ƒç´ ï¼Œ // å¿…ç„¶ä¼šä½¿å‡ºæ ˆçš„æ¬¡æ•°æ¯”å…¥æ ˆçš„æ¬¡æ•°å°‘ï¼Œè¿™æ ·æ ˆä¸­è‡³å°‘ä¼šæœ‰ä¸€ä¸ªå…ƒç´  // å¯¹äºç¬¬äºŒç§æƒ…å†µå…¶stack.isEmpty()ä¸€å®šä¸ºç©º // æ‰€ä»¥ä¹¦æœ¬ä¸Šçš„nextPop == pop.lengthï¼ˆpNextPop-pPop==nLengthï¼‰æ˜¯å¤šä½™çš„ if (stack.isEmpty()) { isPossible = true; } } return isPossible; } public static void main(String[] args) { int[] push = {1, 2, 3, 4, 5}; int[] pop1 = {4, 5, 3, 2, 1}; int[] pop2 = {3, 5, 4, 2, 1}; int[] pop3 = {4, 3, 5, 1, 2}; int[] pop4 = {3, 5, 4, 1, 2}; System.out.println(\"true: \" + isPopOrder(push, pop1)); System.out.println(\"true: \" + isPopOrder(push, pop2)); System.out.println(\"false: \" + isPopOrder(push, pop3)); System.out.println(\"false: \" + isPopOrder(push, pop4)); int[] push5 = {1}; int[] pop5 = {2}; System.out.println(\"false: \" + isPopOrder(push5, pop5)); int[] push6 = {1}; int[] pop6 = {1}; System.out.println(\"true: \" + isPopOrder(push6, pop6)); System.out.println(\"false: \" + isPopOrder(null, null)); // æµ‹è¯•æ–¹æ³•2 System.out.println(); System.out.println(\"true: \" + isPopOrder2(push, pop1)); System.out.println(\"true: \" + isPopOrder2(push, pop2)); System.out.println(\"false: \" + isPopOrder2(push, pop3)); System.out.println(\"false: \" + isPopOrder2(push, pop4)); System.out.println(\"false: \" + isPopOrder2(push5, pop5)); System.out.println(\"true: \" + isPopOrder2(push6, pop6)); System.out.println(\"false: \" + isPopOrder2(null, null)); } } ç®€å•æ€»ç»“æ ˆå’Œé˜Ÿåˆ—çš„åº”ç”¨è¿œä¸æ­¢ä¸Šé¢å­¦ä¹ åˆ°çš„é‚£äº›ï¼Œå®ç°æ–¹å¼ä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œç°åœ¨ä¹Ÿåªæ˜¯æš‚æ—¶å­¦åˆ°è¿™é‡Œï¼Œé€šè¿‡åˆ·LeetCodeä¹ŸåŠ æ·±äº†æˆ‘å¯¹äºè¿™ä¸¤ç§æ•°æ®ç»“æ„çš„è®¤è¯†ï¼Œä¸è¿‡è‡ªå·±è¿˜éœ€è¦å»ç†Ÿæ‚‰äº†è§£ä¸€ä¸‹è®¡ç®—æœºç³»ç»Ÿå…³äºæ ˆçš„åº”ç”¨è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå› ä¸ºæ ˆè¿™ç§ç»“æ„æœ¬èº«å°±å¾ˆé€‚åˆç”¨æ¥ä¿å­˜CPUç°åœºä¹‹ç±»çš„å·¥ä½œï¼Œè¿˜æ˜¯æŠ“ç´§æ—¶é—´å§ï¼Œè¿‡ä¸¤å¤©è¿˜è€ƒè¯•ï¼Œè¿™ä¸¤å¤©å°±å…ˆå¤ä¹ å•¦â€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"é¢è¯•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•(1)â€”â€”æ•°ç»„ä¸é“¾è¡¨","slug":"æ•°æ®ç»“æ„é¢„ç®—æ³•-1-â€”â€”æ•°ç»„ä¸é“¾è¡¨","date":"2018-07-01T22:44:00.000Z","updated":"2020-08-03T09:03:57.056Z","comments":true,"path":"2018/07/02/shu-ju-jie-gou-yu-suan-fa-1-shu-zu-yu-lian-biao/","link":"","permalink":"http://www.wmyskxz.com/2018/07/02/shu-ju-jie-gou-yu-suan-fa-1-shu-zu-yu-lian-biao/","excerpt":"","text":"å‰è¨€ï¼šç»ˆäºåˆ°äº†ç–¯ç‹‚å­¦ä¹ æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œæ¢ä¸ªå¥½çœ‹çš„é¢˜å›¾ï¼Œå¼€å§‹å§.. æ•°ç»„ä»€ä¹ˆæ˜¯æ•°ç»„ï¼Ÿæ•°ç»„ç®€å•æ¥è¯´å°±æ˜¯å°†æ‰€æœ‰çš„æ•°æ®æ’æˆä¸€æ’å­˜æ”¾åœ¨ç³»ç»Ÿåˆ†é…çš„ä¸€ä¸ªå†…å­˜å—ä¸Šï¼Œé€šè¿‡ä½¿ç”¨ç‰¹å®šå…ƒç´ çš„ç´¢å¼•ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡ï¼Œå¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…è®¿é—®æ•°ç»„å…ƒç´ çš„è¿™ä¹ˆä¸€ä¸ªç»“æ„ï¼› ä¸ºä»€ä¹ˆèƒ½åœ¨å¸¸æ•°æ—¶é—´å†…è®¿é—®æ•°ç»„å…ƒç´ ï¼Ÿä¸ºäº†è®¿é—®ä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œè¯¥å…ƒç´ çš„å†…å­˜åœ°å€éœ€è¦è®¡ç®—å…¶è·ç¦»æ•°ç»„åŸºåœ°å€çš„åç§»é‡ã€‚éœ€è¦ç”¨ä¸€ä¸ªä¹˜æ³•è®¡ç®—åç§»é‡ï¼Œå†åŠ ä¸ŠåŸºåœ°å€ï¼Œå°±å¯ä»¥è·å¾—æŸä¸ªå…ƒç´ çš„å†…å­˜åœ°å€ã€‚é¦–å…ˆè®¡ç®—å…ƒç´ æ•°æ®ç±»å‹çš„å­˜å‚¨å¤§å°ï¼Œç„¶åå°†å®ƒä¹˜ä»¥å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œæœ€ååŠ ä¸ŠåŸºåœ°å€ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºè¯¥ç´¢å¼•ä½ç½®å…ƒç´ çš„åœ°å€äº†ï¼›æ•´ä¸ªè¿‡ç¨‹å¯ä»¥çœ‹åˆ°éœ€è¦ä¸€æ¬¡ä¹˜æ³•å’Œä¸€æ¬¡åŠ æ³•å°±å®Œæˆäº†ï¼Œè€Œè¿™ä¸¤ä¸ªè¿ç®—çš„æ‰§è¡Œæ—¶é—´éƒ½æ˜¯å¸¸æ•°æ—¶é—´ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºæ•°ç»„è®¿é—®æ“ä½œèƒ½åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆï¼› æ•°ç»„çš„ä¼˜ç‚¹ ç®€å•ä¸”æ˜“ç”¨ï¼› è®¿é—®å…ƒç´ å¿«ï¼ˆå¸¸æ•°æ—¶é—´ï¼‰ï¼› æ•°ç»„çš„ç¼ºç‚¹ å¤§å°å›ºå®šï¼šæ•°ç»„çš„å¤§å°æ˜¯é™æ€çš„ï¼ˆåœ¨ä½¿ç”¨å‰å¿…é¡»åˆ¶å®šæ•°ç»„çš„å¤§å°ï¼‰ï¼› åˆ†é…ä¸€ä¸ªè¿ç»­ç©ºé—´å—ï¼šæ•°ç»„åˆå§‹åˆ†é…ç©ºé—´æ—¶ï¼Œæœ‰æ—¶å€™æ— æ³•åˆ†é…èƒ½å­˜å‚¨æ•´ä¸ªæ•°ç»„çš„å†…å­˜ç©ºé—´ï¼ˆå½“æ•°ç»„è§„æ¨¡å¤ªå¤§æ—¶ï¼‰ï¼› åŸºäºä½ç½®çš„æ’å…¥æ“ä½œå®ç°å¤æ‚ï¼šå¦‚æœè¦åœ¨æ•°ç»„ä¸­çš„ç»™å®šä½ç½®æ’å…¥å…ƒç´ ï¼Œé‚£ä¹ˆå¯èƒ½å°±ä¼šéœ€è¦ç§»åŠ¨å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å…¶ä»–å…ƒç´ ï¼Œè¿™æ ·æ‰èƒ½è…¾å‡ºæŒ‡å®šçš„ä½ç½®æ¥æ”¾æ’å…¥çš„æ–°å…ƒç´ ï¼›è€Œå¦‚æœåœ¨æ•°ç»„çš„å¼€å§‹ä½ç½®æ’å…¥å…ƒç´ ï¼Œé‚£ä¹ˆè¿™æ ·çš„ç§»åŠ¨æ“ä½œå¼€é”€å°±ä¼šå¾ˆå¤§ã€‚ å…³äºæ•°ç»„çš„ä¸€äº›é—®é¢˜æ€è€ƒ1ï¼‰åœ¨ç´¢å¼•æ²¡æœ‰è¯­ä¹‰çš„æƒ…å†µä¸‹å¦‚ä½•è¡¨ç¤ºæ²¡æœ‰çš„å…ƒç´ ï¼Ÿ æˆ‘ä»¬åˆ›å»ºçš„æ•°ç»„çš„ç´¢å¼•å¯ä»¥æœ‰è¯­ä¹‰ä¹Ÿå¯ä»¥æ²¡æœ‰è¯­ä¹‰ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨åªæ˜¯å•çº¯çš„æƒ³å­˜æ”¾100ï¼Œ98ï¼Œ96è¿™ä¸‰ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå®ƒä»¬ä¿å­˜åœ¨ç´¢å¼•ä¸º0ï¼Œ1ï¼Œ2çš„è¿™å‡ ä¸ªåœ°æ–¹æˆ–è€…å…¶ä»–åœ°æ–¹éƒ½å¯ä»¥ï¼Œæ— è®ºå®ƒä»¬ä¹‹é—´çš„é¡ºåºæ€æ ·æˆ‘éƒ½ä¸å…³å¿ƒï¼Œå› ä¸ºå®ƒä»¬çš„ç´¢å¼•æ˜¯æ²¡æœ‰è¯­ä¹‰çš„æˆ‘åªæ˜¯æƒ³æŠŠå®ƒä»¬å­˜èµ·æ¥è€Œå·²ï¼›ä½†æ˜¯å¦‚æœå®ƒä»¬å˜æˆäº†å­¦å·ä¸º1ï¼Œ2ï¼Œ3è¿™å‡ ä¸ªåŒå­¦å¯¹åº”çš„æˆç»©ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ç´¢å¼•å°±æœ‰äº†è¯­ä¹‰ï¼Œç´¢å¼•0å¯¹åº”äº†å­¦å·ä¸º1çš„åŒå­¦çš„æˆç»©ï¼Œç´¢å¼•1å¯¹åº”äº†å­¦å·2çš„åŒå­¦ï¼Œç´¢å¼•2å¯¹åº”äº†å­¦å·3çš„åŒå­¦ï¼Œå› ä¸ºæ•°ç»„çš„æœ€å¤§çš„ä¼˜ç‚¹æ˜¯è®¿é—®å…ƒç´ æ˜¯åœ¨å¸¸æ•°æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æ•°ç»„æœ€å¥½å°±æ˜¯åœ¨ç´¢å¼•æœ‰è¯­ä¹‰çš„æƒ…å†µä¸‹ï¼› å¥½äº†ï¼Œé‚£ä¹ˆå¦‚æœåœ¨ç´¢å¼•æ²¡æœ‰è¯­ä¹‰çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¦‚ä½•è¡¨ç¤ºæ²¡æœ‰çš„å…ƒç´ å‘¢ï¼Ÿä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œå¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè®¿é—®ç´¢å¼•ä¸º3å’Œ4çš„æ•°ç»„å…ƒç´ æ˜¯è¿æ³•çš„ï¼Œå› ä¸ºå®ƒä»¬æ ¹æœ¬å°±ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å¦‚ä½•è¡¨ç¤ºæ²¡æœ‰çš„å…ƒç´ å‘¢ï¼Ÿ è¡¨ç¤ºä¸º0æˆ–è€…-1ï¼Ÿ 2ï¼‰å¦‚ä½•æ·»åŠ å…ƒç´ å’Œåˆ é™¤å…ƒç´ å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“ï¼Œæ•°ç»„çš„æ˜æ˜¾ç¼ºç‚¹æ˜¯åœ¨åˆ›å»ºä¹‹å‰éœ€è¦æå‰å£°æ˜å¥½è¦ä½¿ç”¨çš„ç©ºé—´ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ç©ºé—´æ»¡äº†è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿåˆè¯¥å¦‚ä½•åˆ é™¤å…ƒç´ å‘¢ï¼Ÿåœ¨Javaä¸­æä¾›ç»™æˆ‘ä»¬çš„é»˜è®¤æ•°ç»„æ˜¯ä¸æ”¯æŒè¿™äº›åŠŸèƒ½çš„ï¼Œæˆ‘ä»¬éœ€è¦å¼€å‘å±äºè‡ªå·±çš„æ•°ç»„ç±»æ‰è¡Œï¼› ä½¿ç”¨æ³›å‹å°è£…è‡ªå·±çš„æ•°ç»„ç±»æˆ‘ä»¬éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªArrayç±»ï¼Œå¹¶å®ç°ä¸€äº›å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼Œå¤§ä½“çš„ç»“æ„å¦‚ä¸‹ï¼š public class Array&lt;E>{ private E[] data; private int size; /* ä¸€äº›æˆå‘˜æ–¹æ³• */ } æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä¿å­˜æˆ‘ä»¬çš„æ•°æ®ï¼Œè¿™é‡Œæ˜¯dataï¼Œç„¶åéœ€è¦ä¸€ä¸ªintç±»å‹æ¥å­˜æ”¾æˆ‘ä»¬çš„æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦å†å¤šå®šä¹‰ä¸€ä¸ªè¡¨ç¤ºæ•°ç»„ç©ºé—´çš„å˜é‡ï¼Œå› ä¸ºè¿™é‡Œçš„ç©ºé—´å¤§å°å°±æ˜¯data.lengthï¼› é»˜è®¤çš„æ„é€ å‡½æ•°æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€äº›æ–¹æ³•æ¥åˆå§‹åŒ–æˆ‘ä»¬çš„æ•°ç»„ï¼Œé‚£è‚¯å®šæ˜¯éœ€è¦ä¼ ä¸€ä¸ªcapacityæ¥è¡¨ç¤ºæ•°ç»„çš„å®¹é‡å˜›ï¼š // æ„é€ å‡½æ•°ï¼Œä¼ å…¥æ•°ç»„çš„å®¹é‡capacityæ„é€ Array public Array(int capacity) { data = (E[]) new Object[capacity]; size = 0; } å½“ç„¶æˆ‘ä»¬ä¹Ÿéœ€è¦åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°æ¥ä¸ºä¸çŸ¥é“åˆå§‹è¯¥å®šä¹‰å¤šå°‘çš„ç”¨æˆ·ä¸€ä¸ªé»˜è®¤å¤§å°çš„æ•°ç»„ï¼š // æ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œé»˜è®¤æ•°ç»„çš„å®¹é‡capacity=10 public Array() { this(10); } è¿™é‡Œæ¼”ç¤ºçš„è¯ç»™ä¸ª10å·®ä¸å¤šäº†ï¼Œå®é™…å¯èƒ½ä¼šæ›´å¤æ‚ä¸€äº›â€¦ æˆå‘˜æ–¹æ³•å°±æ˜¯å¢åˆ æ”¹æŸ¥å˜›ï¼Œä¸è¿‡è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†å®ç°æˆ‘ä»¬è‡ªå·±çš„åŠ¨æ€æ•°ç»„ï¼Œåœ¨å¢åŠ å’Œåˆ é™¤ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¸´ç•Œå€¼è¿›è¡Œäº†åˆ¤æ–­ï¼ŒåŠ¨æ€çš„å¢åŠ æˆ–è€…ç¼©å°æ•°ç»„çš„å¤§å°ï¼Œè€Œä¸”æä¾›äº†ä¸€äº›å¸¸ç”¨å‹å¥½çš„æ–¹æ³•ç»™ç”¨æˆ·ï¼› // è·å–æ•°ç»„çš„å®¹é‡ public int getCapacity() { return data.length; } // è·å–æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•° public int getSize() { return size; } // è¿”å›æ•°ç»„æ˜¯å¦ä¸ºç©º public boolean isEmpty() { return size == 0; } // åœ¨indexç´¢å¼•çš„ä½ç½®æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ e public void add(int index, E e) { if (index &lt; 0 || index > size) throw new IllegalArgumentException(\"Add failed. Require index >= 0 and index &lt;= size.\"); if (size == data.length) resize(2 * data.length); for (int i = size - 1; i >= index; i--) data[i + 1] = data[i]; data[index] = e; size++; } // å‘æ‰€æœ‰å…ƒç´ åæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  public void addLast(E e) { add(size, e); } // åœ¨æ‰€æœ‰å…ƒç´ å‰æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  public void addFirst(E e) { add(0, e); } // è·å–indexç´¢å¼•ä½ç½®çš„å…ƒç´  public E get(int index) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Get failed. Index is illegal.\"); return data[index]; } // ä¿®æ”¹indexç´¢å¼•ä½ç½®çš„å…ƒç´ ä¸ºe public void set(int index, E e) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Set failed. Index is illegal.\"); data[index] = e; } // æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦æœ‰å…ƒç´ e public boolean contains(E e) { for (int i = 0; i &lt; size; i++) { if (data[i].equals(e)) return true; } return false; } // æŸ¥æ‰¾æ•°ç»„ä¸­å…ƒç´ eæ‰€åœ¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨å…ƒç´ eï¼Œåˆ™è¿”å›-1 public int find(E e) { for (int i = 0; i &lt; size; i++) { if (data[i].equals(e)) return i; } return -1; } // ä»æ•°ç»„ä¸­åˆ é™¤indexä½ç½®çš„å…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  public E remove(int index) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Remove failed. Index is illegal.\"); E ret = data[index]; for (int i = index + 1; i &lt; size; i++) data[i - 1] = data[i]; size--; data[size] = null; // loitering objects != memory leak if (size == data.length / 4 &amp;&amp; data.length / 2 != 0) resize(data.length / 2); return ret; } // ä»æ•°ç»„ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  public E removeFirst() { return remove(0); } // ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  public E removeLast() { return remove(size - 1); } // ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ e public void removeElement(E e) { int index = find(e); if (index != -1) remove(index); } @Override public String toString() { StringBuilder res = new StringBuilder(); res.append(String.format(\"Array: size = %d , capacity = %d\\n\", size, data.length)); res.append('['); for (int i = 0; i &lt; size; i++) { res.append(data[i]); if (i != size - 1) res.append(\", \"); } res.append(']'); return res.toString(); } // å°†æ•°ç»„ç©ºé—´çš„å®¹é‡å˜æˆnewCapacityå¤§å° private void resize(int newCapacity) { E[] newData = (E[]) new Object[newCapacity]; for (int i = 0; i &lt; size; i++) newData[i] = data[i]; data = newData; } æ³¨æ„ï¼šä¸ºäº†æ›´å¥½çš„å±•ç¤ºä»£ç è€Œä¸å¤ªæµªè´¹ç©ºé—´ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨//çš„é£æ ¼æ¥æ³¨é‡Šä»£ç ï¼› ç‰¹åˆ«æ³¨æ„ï¼šåœ¨removeæ–¹æ³•ä¸­ï¼Œç¼©å°æ•°ç»„çš„åˆ¤æ–­æ¡ä»¶ä¸ºsize == data.length / 4 &amp;&amp; data.length / 2 != 0ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢å¤æ‚åº¦æŠ–åŠ¨å’Œå®‰å…¨æ€§ï¼› ç®€å•æ—¶é—´å¤æ‚åº¦åˆ†ææ·»åŠ æ“ä½œåœ¨æ·»åŠ æ“ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ˜æ˜¾çœ‹åˆ°ï¼ŒaddLast()æ–¹æ³•æ˜¯ä¸næ— å…³çš„ï¼Œæ‰€ä»¥ä¸ºO(1)å¤æ‚åº¦ï¼›è€ŒaddFirst()å’Œadd()æ–¹æ³•éƒ½æ¶‰åŠåˆ°æŒªåŠ¨æ•°ç»„å…ƒç´ ï¼Œæ‰€ä»¥éƒ½æ˜¯O(n)å¤æ‚åº¦ï¼ŒåŒ…æ‹¬resize()æ–¹æ³•ï¼›ç»¼åˆèµ·æ¥æ·»åŠ æ“ä½œçš„å¤æ‚åº¦å°±æ˜¯O(n)ï¼› åˆ é™¤æ“ä½œåœ¨åˆ é™¤æ“ä½œä¸­ï¼Œä¸æ·»åŠ æ“ä½œåŒç†ï¼Œç»¼åˆæ¥çœ‹åˆ é™¤æ“ä½œçš„å¤æ‚åº¦å°±æ˜¯O(n)ï¼› ä¿®æ”¹æ“ä½œåœ¨ä¿®æ”¹æ“ä½œä¸­ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†éœ€è¦ä¿®æ”¹å…ƒç´ çš„ç´¢å¼•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…æ‰¾åˆ°å…ƒç´ å¹¶è¿›è¡Œä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“çš„çŸ¥é“è¿™ä¸ªæ“ä½œæ—¶ä¸€ä¸ªå¤æ‚åº¦ä¸ºO(1)çš„æ“ä½œï¼Œæ‰€ä»¥ä¿®æ”¹æ“ä½œçš„å¤æ‚åº¦å°±æ˜¯O(1)ï¼›ä½†å¦å¤–ä¸€ç§æƒ…å†µæ˜¯æˆ‘ä»¬ä¸çŸ¥é“å…ƒç´ çš„ç´¢å¼•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å…ˆå»æŸ¥è¯¢è¿™ä¸ªå…ƒç´ ï¼Œæˆ‘æŠŠè¿™å½’ç»“åˆ°æŸ¥è¯¢æ“ä½œä¸­å»ï¼› æŸ¥è¯¢æ“ä½œåœ¨æŸ¥è¯¢æ“ä½œä¸­ï¼Œå¦‚æœæˆ‘ä»¬å·²çŸ¥ç´¢å¼•ï¼Œé‚£ä¹ˆå¤æ‚åº¦ä¸ºO(1)ï¼›å¦‚æœæœªçŸ¥ç´¢å¼•ï¼Œæˆ‘ä»¬éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå¤æ‚åº¦ä¸ºO(n)çº§åˆ«ï¼› æ€»ç»“ä»¥ä¸Šæˆ‘ä»¬ç®€å•åˆ†æäº†æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„æ•°ç»„ç±»çš„å¤æ‚åº¦ï¼š å¢åŠ ï¼šO(n)ï¼› åˆ é™¤ï¼šO(n)ï¼› ä¿®æ”¹ï¼šå·²çŸ¥ç´¢å¼• O(1)ï¼›æœªçŸ¥ç´¢å¼• O(n)ï¼› æŸ¥è¯¢ï¼šå·²çŸ¥ç´¢å¼• O(1)ï¼›æœªçŸ¥ç´¢å¼• O(n)ï¼› å‡æ‘Šå¤æ‚åº¦å¦‚æœç»†å¿ƒçš„åŒå­¦åº”è¯¥å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨å¢åŠ å’Œåˆ é™¤çš„å¤æ‚åº¦åˆ†æä¸­ï¼Œå¦‚æœæˆ‘ä»¬éƒ½åªæ˜¯å¯¹æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œç›¸åº”çš„æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆå¯¹åº”çš„O(n)çš„å¤æ‚åº¦æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥å°†ä»–ä»¬çš„å¤æ‚åº¦å®šä¹‰ä¸ºO(n)ï¼Œå°±æ˜¯å› ä¸ºåœ¨æˆ‘ä»¬é€šå¸¸çš„å¤æ‚åº¦åˆ†æä¸­æˆ‘ä»¬éœ€è¦è€ƒè™‘æœ€åçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„éœ€è¦ä½¿ç”¨resize()æ–¹æ³•æ‰©å®¹çš„æƒ…å†µï¼Œä½†æ˜¯è¿™æ ·çš„æƒ…å†µå¹¶ä¸æ˜¯æ¯ä¸€æ¬¡éƒ½å‡ºç°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´åŠ åˆç†çš„æ¥åˆ†ææˆ‘ä»¬çš„å¤æ‚åº¦ï¼Œè¿™é‡Œæå‡ºçš„æ¦‚å¿µå°±æ˜¯ï¼šå‡æ‘Šå¤æ‚åº¦ï¼› å‡è®¾æˆ‘ä»¬ç°åœ¨çš„capacityä¸º5ï¼Œå¹¶ä¸”æ¯ä¸€æ¬¡çš„æ·»åŠ æ“ä½œéƒ½ä½¿ç”¨addLast()æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨äº†äº”æ¬¡addLast()æ–¹æ³•ä¹‹åå°±ä¼šè§¦å‘ä¸€æ¬¡resize()æ–¹æ³•ï¼Œåœ¨å‰äº”æ¬¡çš„addLast()æ–¹æ³•ä¸­æˆ‘ä»¬æ€»å…±è¿›è¡Œäº†äº”æ¬¡åŸºæœ¬æ“ä½œï¼Œä¹Ÿå°±æ˜¯ç»™æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œåœ¨è¿›è¡Œç¬¬å…­æ¬¡addLast()æ–¹æ³•çš„æ—¶å€™ï¼Œè§¦å‘resize()æ–¹æ³•ï¼Œå°±éœ€è¦è¿›è¡Œä¸€æ¬¡å…ƒç´ çš„è½¬ç§»ï¼Œå…±5æ¬¡æ“ä½œï¼ˆè½¬ç§»äº”ä¸ªå…ƒç´ å˜›ï¼‰ï¼Œç„¶åå†åœ¨æœ«å°¾åŠ ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯æ€»å…±è¿›è¡Œäº†11æ¬¡æ“ä½œï¼› ä¹Ÿå°±æ˜¯è¯´ï¼š6æ¬¡addLast()æ“ä½œï¼Œè§¦å‘resize()æ–¹æ³•ï¼Œæ€»å…±è¿›è¡Œäº†11æ¬¡æ“ä½œï¼Œå¹³å‡ä¸‹æ¥ï¼Œæ¯æ¬¡addLast()æ“ä½œï¼Œè¿›è¡Œäº†2æ¬¡åŸºæœ¬æ“ä½œï¼ˆçº¦ç­‰äºï¼‰ï¼›é‚£ä¹ˆä¾ç…§ä¸Šé¢çš„å‡è®¾æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ¨å¹¿ä¸ºï¼šå‡è®¾capacityä¸ºnï¼Œn+1æ¬¡addLast()æ“ä½œï¼Œè§¦å‘resize()æ–¹æ³•ï¼Œæ€»å…±è¿›è¡Œäº†2n+1æ¬¡åŸºæœ¬æ“ä½œï¼Œå¹³å‡æ¥è®²ï¼Œæ¯æ¬¡addLast()æ“ä½œï¼Œè¿›è¡Œäº†2æ¬¡åŸºæœ¬æ“ä½œï¼Œè¿™æ ·ä¹Ÿå°±æ„å‘³ç€ï¼Œå‡æ‘Šä¸‹æ¥çš„addLast()æ–¹æ³•çš„å¤æ‚åº¦ä¸ºO(1)ï¼Œè€Œä¸æ˜¯ä¹‹å‰åˆ†æçš„O(n)ï¼Œè¿™æ ·çš„å‡æ‘Šå¤æ‚åº¦æ˜¾ç„¶æ¯”æœ€åå¤æ‚åº¦æ¥å¾—æ›´æœ‰æ„ä¹‰ï¼Œå› ä¸ºä¸æ˜¯æ¯ä¸€æ¬¡çš„æ“ä½œéƒ½æ˜¯æœ€åçš„æƒ…å†µï¼ åŒç†ï¼Œæˆ‘ä»¬çœ‹removeLast()å¯¹åº”çš„å‡æ‘Šå¤æ‚åº¦ä¹Ÿä¸ºO(1)ï¼› å¤æ‚åº¦éœ‡è¡åœ¨æˆ‘ä»¬çš„removeæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ¤æ–­ç¼©å°å®¹é‡çš„æ¡ä»¶ä¸ºsize == data.length / 4 &amp;&amp; data.length / 2 != 0ï¼Œè¿™æ ·æ˜¯ä¸ºäº†é˜²æ­¢å¤æ‚åº¦éœ‡è¡å’Œå®‰å…¨æ€§ï¼ˆå› ä¸ºç¼©å°åˆ°ä¸€å®šçš„æ—¶å€™å®¹é‡å¯èƒ½ä¸º1ï¼‰ï¼Œè¿™åˆæ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿæˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹å°†æ¡ä»¶æ”¹ä¸ºsize == data.length / 2çš„æ—¶å€™ï¼Œå‡ºç°çš„å¦‚ä¸‹å›¾è¿™æ ·çš„æƒ…å†µï¼š å½“æˆ‘ä»¬æ•°ç»„å·²ç»æ»¡å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä¸€æ¬¡addLastæ–¹æ³•ï¼Œå› ä¸ºè§¦å‘resizeï¼Œæ•°ç»„å®¹é‡æ‰©å®¹ä¸ºå½“å‰çš„ä¸¤å€ï¼Œæ‰€ä»¥æ­¤æ—¶å¤æ‚åº¦ä¸ºO(n)ï¼›è¿™æ—¶å€™æˆ‘ä»¬ç«‹å³ä½¿ç”¨removeLastï¼Œå› ä¸ºæ­¤æ—¶çš„å®¹é‡ç­‰äºn/2ï¼Œæ‰€ä»¥ä¼šé©¬ä¸Šäº§ç”Ÿç¼©å°å®¹é‡çš„æ“ä½œï¼Œæ­¤æ—¶å¤æ‚åº¦ä¸ºO(n)ï¼›æˆ‘ä»¬ä¹‹å‰æ˜æ˜é€šè¿‡å‡æ‘Šå¤æ‚åº¦åˆ†æå‡ºæˆ‘ä»¬çš„ä¸¤ä¸ªæ“ä½œéƒ½ä¸ºO(1)ï¼Œè€Œæ­¤æ—¶å´äº§ç”Ÿäº†éœ‡è¡ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æ‡’æ“ä½œä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯åœ¨removeçš„æ—¶å€™ä¸è¦ç«‹å³ç¼©å®¹ï¼Œè€Œæ˜¯ç­‰åˆ°size == capacity / 4çš„æ—¶å€™å†ç¼©å°ä¸€åŠï¼Œè¿™æ ·å°±æœ‰æ•ˆçš„è§£å†³äº†å¤æ‚åº¦éœ‡è¡çš„é—®é¢˜ï¼› Javaä¸­çš„ArrayListçš„æ‰©å®¹ä¸Šé¢æˆ‘ä»¬å·²ç»å®ç°äº†è‡ªå·±çš„æ•°ç»„ç±»ï¼Œæˆ‘ä»¬ä¹Ÿé¡ºä¾¿çœ‹çœ‹Javaä¸­çš„ArrayListæ˜¯æ€ä¹ˆå†™çš„ï¼Œå…¶ä»–çš„æ–¹æ³•å¯ä»¥è‡ªå·±å»çœ‹çœ‹ï¼Œè¿™é‡Œæå‡ºæ¥ä¸€ä¸ªgrow()çš„æ–¹æ³•ï¼Œæ¥çœ‹çœ‹ArrayListæ˜¯æ€ä¹ˆå®ç°åŠ¨æ€æ‰©å®¹çš„ï¼š ä»ä¸Šé¢çš„æºç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ArrayListé»˜è®¤å¢å®¹æ˜¯å¢åŠ å½“å‰å®¹é‡çš„0.5å€ï¼ˆ&gt;&gt; 1å³ä¹˜ä»¥0.5ï¼‰ é“¾è¡¨ä»€ä¹ˆæ˜¯é“¾è¡¨é“¾è¡¨æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨æ•°æ®é›†åˆçš„æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯æœ€ç®€å•çš„åŠ¨æ€æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢è™½ç„¶å®ç°äº†åŠ¨æ€æ•°ç»„ï¼Œä½†è¿™ä»…ä»…æ˜¯å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œå…¶å®åº•å±‚è¿˜æ˜¯ç»´æŠ¤çš„ä¸€ä¸ªé™æ€çš„æ•°ç»„ï¼Œå®ƒä¹‹æ‰€ä»¥æ˜¯åŠ¨æ€çš„æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨addå’Œremoveçš„æ—¶å€™è¿›è¡Œäº†ç›¸åº”åˆ¤æ–­åŠ¨æ€æ‰©å®¹æˆ–ç¼©å®¹è€Œå·²ï¼Œè€Œé“¾è¡¨åˆ™æ˜¯çœŸæ­£æ„ä¹‰ä¸ŠåŠ¨æ€çš„æ•°æ®ç»“æ„ï¼› é“¾è¡¨çš„ä¼˜ç‚¹ çœŸæ­£çš„åŠ¨æ€ï¼Œä¸éœ€è¦å¤„ç†å›ºå®šå®¹é‡çš„é—®é¢˜ï¼› èƒ½å¤Ÿåœ¨å¸¸æ•°æ—¶é—´å†…æ‰©å±•å®¹é‡ï¼› å¯¹æ¯”æˆ‘ä»¬çš„æ•°ç»„ï¼Œå½“åˆ›å»ºæ•°ç»„æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åˆ†é…èƒ½å­˜å‚¨ä¸€å®šæ•°é‡å…ƒç´ çš„å†…å­˜ï¼Œå¦‚æœå‘æ•°ç»„ä¸­æ·»åŠ æ›´å¤šçš„å…ƒç´ ï¼Œé‚£ä¹ˆå¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç„¶åæŠŠåŸæ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­å»ï¼Œè¿™å°†èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼›å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ç»™æ•°ç»„é¢„å…ˆè®¾å®šä¸€ä¸ªè¶³å¤Ÿå¤§çš„ç©ºé—´æ¥é˜²æ­¢ä¸Šè¿°æ—¶é—´çš„å‘ç”Ÿï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šå› ä¸ºåˆ†é…è¶…è¿‡ç”¨æˆ·éœ€è¦çš„ç©ºé—´è€Œé€ æˆå¾ˆå¤§çš„å†…å­˜æµªè´¹ï¼›è€Œå¯¹äºé“¾è¡¨ï¼Œåˆå§‹æ—¶ä»…éœ€è¦åˆ†é…ä¸€ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”æ·»åŠ æ–°çš„å…ƒç´ ä¹Ÿå¾ˆå®¹æ˜“ï¼Œä¸éœ€è¦åšä»»ä½•å†…å­˜å¤åˆ¶å’Œé‡æ–°åˆ†é…çš„æ“ä½œï¼› é“¾è¡¨çš„ç¼ºç‚¹ ä¸§å¤±äº†éšæœºè®¿é—®çš„èƒ½åŠ›ï¼› é“¾è¡¨ä¸­çš„é¢å¤–æŒ‡é’ˆå¼•ç”¨éœ€è¦æµªè´¹å†…å­˜ï¼› é“¾è¡¨æœ‰è®¸å¤šä¸è¶³ã€‚é“¾è¡¨çš„ä¸»è¦ç¼ºç‚¹åœ¨äºè®¿é—®å•ä¸ªå…ƒç´ çš„æ—¶é—´å¼€é”€é—®é¢˜ï¼›æ•°ç»„æ˜¯éšæ—¶å­˜å–çš„ï¼Œå³å­˜å–æ•°ç»„ä¸­ä»»ä¸€å…ƒç´ çš„æ—¶é—´å¼€é”€ä¸ºO(1)ï¼Œè€Œé“¾è¡¨åœ¨æœ€å·®æƒ…å†µä¸‹è®¿é—®ä¸€ä¸ªå…ƒç´ çš„å¼€é”€ä¸ºO(n)ï¼›æ•°ç»„åœ¨å­˜å–æ—¶é—´æ–¹é¢çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å†…å­˜çš„ç©ºé—´å±€éƒ¨æ€§ï¼Œç”±äºæ•°ç»„å®šä¹‰ä¸ºè¿ç»­çš„å†…å­˜å—ï¼Œæ‰€ä»¥ä»»ä½•æ•°ç»„å…ƒç´ ä¸å…¶é‚»å±…æ˜¯ç‰©ç†ç›¸é‚»çš„ï¼Œè¿™æå¤§å¾—ç›Šäºç°ä»£CPUçš„ç¼“å­˜æ¨¡å¼ï¼› é“¾è¡¨å’Œæ•°ç»„çš„ç®€å•å¯¹æ¯” æ•°ç»„æœ€å¥½ç”¨äºç´¢å¼•æœ‰è¯­æ„çš„æƒ…å†µï¼Œæœ€å¤§çš„ä¼˜ç‚¹ï¼šæ”¯æŒå¿«é€ŸæŸ¥è¯¢ï¼› é“¾è¡¨ä¸é€‚ç”¨äºç´¢å¼•æœ‰è¯­æ„çš„æƒ…å†µï¼Œæœ€å¤§çš„ä¼˜ç‚¹ï¼šåŠ¨æ€ï¼› å®ç°è‡ªå·±çš„é“¾è¡¨ç±»public class LinkedList&lt;E> { private class Node { public E e; public Node next; public Node(E e, Node next) { this.e = e; this.next = next; } public Node(E e) { this(e, null); } public Node() { this(null, null); } @Override public String toString() { return e.toString(); } } private Node dummyHead; private int size; public LinkedList() { dummyHead = new Node(); size = 0; } // è·å–é“¾è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° public int getSize() { return size; } // è¿”å›é“¾è¡¨æ˜¯å¦ä¸ºç©º public boolean isEmpty() { return size == 0; } // åœ¨é“¾è¡¨çš„index(0-based)ä½ç½®æ·»åŠ æ–°çš„å…ƒç´ e // åœ¨é“¾è¡¨ä¸­ä¸æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œç»ƒä¹ ç”¨ï¼šï¼‰ public void add(int index, E e) { if (index &lt; 0 || index > size) throw new IllegalArgumentException(\"Add failed. Illegal index.\"); Node prev = dummyHead; for (int i = 0; i &lt; index; i++) prev = prev.next; prev.next = new Node(e, prev.next); size++; } // åœ¨é“¾è¡¨å¤´æ·»åŠ æ–°çš„å…ƒç´ e public void addFirst(E e) { add(0, e); } // åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ æ–°çš„å…ƒç´ e public void addLast(E e) { add(size, e); } // è·å¾—é“¾è¡¨çš„ç¬¬index(0-based)ä¸ªä½ç½®çš„å…ƒç´  // åœ¨é“¾è¡¨ä¸­ä¸æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œç»ƒä¹ ç”¨ï¼šï¼‰ public E get(int index) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Get failed. Illegal index.\"); Node cur = dummyHead.next; for (int i = 0; i &lt; index; i++) cur = cur.next; return cur.e; } // è·å¾—é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  public E getFirst() { return get(0); } // è·å¾—é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´  public E getLast() { return get(size - 1); } // ä¿®æ”¹é“¾è¡¨çš„ç¬¬index(0-based)ä¸ªä½ç½®çš„å…ƒç´ ä¸ºe // åœ¨é“¾è¡¨ä¸­ä¸æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œç»ƒä¹ ç”¨ï¼šï¼‰ public void set(int index, E e) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Update failed. Illegal index.\"); Node cur = dummyHead.next; for (int i = 0; i &lt; index; i++) cur = cur.next; cur.e = e; } // æŸ¥æ‰¾é“¾è¡¨ä¸­æ˜¯å¦æœ‰å…ƒç´ e public boolean contains(E e) { Node cur = dummyHead.next; while (cur != null) { if (cur.e.equals(e)) return true; cur = cur.next; } return false; } // ä»é“¾è¡¨ä¸­åˆ é™¤index(0-based)ä½ç½®çš„å…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  // åœ¨é“¾è¡¨ä¸­ä¸æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œç»ƒä¹ ç”¨ï¼šï¼‰ public E remove(int index) { if (index &lt; 0 || index >= size) throw new IllegalArgumentException(\"Remove failed. Index is illegal.\"); // E ret = findNode(index).e; // ä¸¤æ¬¡éå† Node prev = dummyHead; for (int i = 0; i &lt; index; i++) prev = prev.next; Node retNode = prev.next; prev.next = retNode.next; retNode.next = null; size--; return retNode.e; } // ä»é“¾è¡¨ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  public E removeFirst() { return remove(0); } // ä»é“¾è¡¨ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ , è¿”å›åˆ é™¤çš„å…ƒç´  public E removeLast() { return remove(size - 1); } // ä»é“¾è¡¨ä¸­åˆ é™¤å…ƒç´ e public void removeElement(E e) { Node prev = dummyHead; while (prev.next != null) { if (prev.next.e.equals(e)) break; prev = prev.next; } if (prev.next != null) { Node delNode = prev.next; prev.next = delNode.next; delNode.next = null; } } @Override public String toString() { StringBuilder res = new StringBuilder(); Node cur = dummyHead.next; while (cur != null) { res.append(cur + \"->\"); cur = cur.next; } res.append(\"NULL\"); return res.toString(); } } é“¾è¡¨è™šæ‹Ÿå¤´ç»“ç‚¹çš„ä½œç”¨ ä¸ºäº†å±è”½æ‰é“¾è¡¨å¤´ç»“ç‚¹çš„ç‰¹æ®Šæ€§ï¼›å› ä¸ºå¤´ç»“ç‚¹æ˜¯æ²¡æœ‰å‰åºç»“ç‚¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç®¡æ˜¯åˆ é™¤è¿˜æ˜¯å¢åŠ æ“ä½œéƒ½è¦å¯¹å¤´ç»“ç‚¹è¿›è¡Œå•ç‹¬çš„åˆ¤æ–­ï¼Œä¸ºäº†æˆ‘ä»¬ç¼–å†™é€»è¾‘çš„æ–¹ä¾¿ï¼Œå¼•å…¥äº†ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹çš„æ¦‚å¿µï¼› ç®€å•å¤æ‚åº¦åˆ†ææˆ‘ä»¬ä»é“¾è¡¨çš„æ“ä½œä¸­å¯ä»¥å¾ˆå®¹æ˜“çš„çœ‹å‡ºï¼Œå¯¹äºå¢åˆ æ”¹æŸ¥è¿™å‡ ä¸ªæ“ä½œçš„å¤æ‚åº¦éƒ½æ˜¯O(n)çš„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯å¯¹é“¾è¡¨å¤´è¿›è¡Œå¢/åˆ /æŸ¥çš„æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆå®ƒçš„å¤æ‚åº¦å°±æ˜¯O(1)çš„ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºæ¥æˆ‘ä»¬çš„é“¾è¡¨é€‚åˆå¹²çš„äº‹æƒ…äº†.. LeetCodeç›¸å…³é¢˜ç›®å‚è€ƒ1.ä¸¤æ•°ä¹‹å’Œ å‚è€ƒç­”æ¡ˆï¼š class Solution { public int[] twoSum(int[] numbers, int target) { int [] res = new int[2]; if(numbers==null||numbers.length&lt;2) return res; HashMap&lt;Integer,Integer> map = new HashMap&lt;Integer,Integer>(); for(int i = 0; i &lt; numbers.length; i++){ if(!map.containsKey(target-numbers[i])){ map.put(numbers[i],i); }else{ res[0]= map.get(target-numbers[i]); res[1]= i; break; } } return res; } } 2.ä¸¤æ•°ç›¸åŠ  å‚è€ƒç­”æ¡ˆï¼š public ListNode addTwoNumbers(ListNode l1, ListNode l2) { ListNode dummyHead = new ListNode(0); ListNode p = l1, q = l2, curr = dummyHead; int carry = 0; while (p != null || q != null) { int x = (p != null) ? p.val : 0; int y = (q != null) ? q.val : 0; int sum = carry + x + y; carry = sum / 10; curr.next = new ListNode(sum % 10); curr = curr.next; if (p != null) p = p.next; if (q != null) q = q.next; } if (carry > 0) { curr.next = new ListNode(carry); } return dummyHead.next; } 19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜22ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ13msï¼‰ public ListNode removeNthFromEnd(ListNode head, int n) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return null; } int num = 0; // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå†é“¾è¡¨ ListNode dummyHead = new ListNode(-1); dummyHead.next = head; ListNode prev = dummyHead; // ä¸€æ¬¡éå†æ‰¾åˆ°é“¾è¡¨çš„æ€»æ•° while (null != prev.next) { num++; prev = prev.next; } // äºŒæ¬¡éå†åˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ prev = dummyHead; for (int i = 0; i &lt; num - n; i++) { prev = prev.next; }// end for:æ‰¾åˆ°äº†åˆ é™¤èŠ‚ç‚¹çš„å‰åºèŠ‚ç‚¹ ListNode delNode = prev.next; prev.next = prev.next.next; delNode.next = null; // è¿”å›å¤´ç»“ç‚¹ return dummyHead.next; } æˆ‘çš„ç­”æ¡ˆ2ï¼šï¼ˆ16msï¼‰ public ListNode removeNthFromEnd(ListNode head, int n) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return null; } HashMap&lt;Integer, ListNode> map = new HashMap&lt;>(); // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå†é“¾è¡¨ ListNode dummyHead = new ListNode(-1); dummyHead.next = head; ListNode prev = dummyHead; map.put(0, dummyHead); // ä¸€æ¬¡éå†ï¼Œå°†åºå·ä¸ListNodeå¯¹åº”å­˜å…¥mapä¸­ for (int i = 1; null != prev.next; i++, prev = prev.next) { map.put(i, prev.next); } // åˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ int delNodeNum = map.size() - n; ListNode delNode = map.get(delNodeNum); prev = map.get(delNodeNum - 1); prev.next = prev.next.next; delNode.next = null;// help GC // è¿”å›å¤´ç»“ç‚¹ return dummyHead.next; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ26msï¼‰ public ListNode removeNthFromEnd(ListNode head, int n) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return null; } // å®šä¹‰è™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå† ListNode dummyHead = new ListNode(-1); dummyHead.next = head; // å®šä¹‰å¿«æ…¢ä¸¤ä¸ªèŠ‚ç‚¹ ListNode fast = dummyHead; ListNode slow = dummyHead; // è®©fastå…ˆè·‘åˆ°ç¬¬nä¸ªä½ç½® for (int i = 0; i &lt;= n; i++) { fast = fast.next; } // å†è®©ä¸¤ä¸ªä¸€èµ·ç§»åŠ¨ï¼Œå½“fastä¸ºå°¾èŠ‚ç‚¹æ—¶slowçš„ä½ç½®å³åˆ é™¤å…ƒç´ çš„ä½ç½® while (null != fast) { fast = fast.next; slow = slow.next; } ListNode delNode = slow.next; slow.next = slow.next.next; delNode.next = null;// help GC. return dummyHead.next; } 21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜25ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ13msï¼‰ public ListNode mergeTwoLists(ListNode l1, ListNode l2) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == l1) { return l2; } if (null == l2) { return l1; } // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå† ListNode dummyHead = new ListNode(-1); dummyHead.next = l1; ListNode pre = dummyHead; // éå†l1é“¾è¡¨ int len1 = 0; while (null != pre.next) { len1++; pre = pre.next; } int[] nums1 = new int[len1]; // ä¿å­˜l1é“¾è¡¨çš„æ•°æ® pre = dummyHead; for (int i = 0; i &lt; len1; i++) { nums1[i] = pre.next.val; pre = pre.next; } // éå†l2é“¾è¡¨ int len2 = 0; dummyHead.next = l2; pre = dummyHead; while (null != pre.next) { len2++; pre = pre.next; } int[] nums2 = new int[len2]; // ä¿å­˜l2é“¾è¡¨çš„æ•°æ® pre = dummyHead; for (int i = 0; i &lt; len2; i++) { nums2[i] = pre.next.val; pre = pre.next; } int[] nums = new int[len1 + len2]; // å°†ä¸¤ä¸ªé“¾è¡¨çš„æ•°æ®æ•´åˆå¹¶æ’åº System.arraycopy(nums1, 0, nums, 0, len1); System.arraycopy(nums2, 0, nums, len1, len2); Arrays.sort(nums); // æ‹¼æ¥ä¸€ä¸ªé“¾è¡¨ ListNode dummy = new ListNode(-1); pre = dummy; for (int i = 0; i &lt; nums.length; i++) { ListNode node = new ListNode(nums[i]); pre.next = node; pre = pre.next; } return dummy.next; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ15msï¼‰ public ListNode mergeTwoLists(ListNode l1, ListNode l2) { if (l1 == null) { return l2; } if (l2 == null) { return l1; } ListNode head = null; if (l1.val &lt; l2.val) { head = l1; head.next = mergeTwoLists(l1.next, l2); } else { head = l2; head.next = mergeTwoLists(l1, l2.next); } return head; } 74.æœç´¢äºŒç»´çŸ©é˜µï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜4ï¼‰ å‚è€ƒç­”æ¡ˆï¼šï¼ˆ8msï¼‰ public boolean searchMatrix(int[][] matrix, int target) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == matrix || 0 == matrix.length) { return false; } if (null == matrix[0] || 0 == matrix[0].length) { return false; } int row = matrix.length; int col = matrix[0].length; int start = 0, end = row * col - 1; while (start &lt;= end) { int mid = start + (end - start) / 2; int number = matrix[mid / col][mid % col]; if (number == target) { return true; } else if (number > target) { end = mid - 1; } else { start = mid + 1; } } return false; } 141.ç¯å½¢é“¾è¡¨ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ14msï¼‰ public boolean hasCycle(ListNode head) { // æ­£ç¡®æ¡ä»¶åˆ¤æ–­ if (null == head || null == head.next) { return false; } // å¼•å…¥è™šæ‹Ÿå¤´ç»“ç‚¹ ListNode dummyHead = new ListNode(-1); dummyHead.next = head; HashMap&lt;ListNode, Integer> map = new HashMap&lt;>(); ListNode prev = dummyHead; // éå†é“¾è¡¨ while (null != prev.next) { if (map.containsKey(prev.next)) { return true; } else { map.put(prev.next, prev.next.val); prev = prev.next; } } // å¦‚æœéå†åˆ°äº†é“¾è¡¨å°¾å·´éƒ½æ²¡æ‰¾åˆ°åˆ™è¿”å›false return false; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ3msï¼‰ public boolean hasCycle(ListNode head) { ListNode fast = head; ListNode slow = head; while(fast != null &amp;&amp; fast.next != null){ // move 2 steps fast = fast.next.next; // move 1 step slow = slow.next; if(fast == slow) return true; } return false; } 147.å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº å‚è€ƒç­”æ¡ˆï¼šï¼ˆ38msï¼‰ public ListNode insertionSortList(ListNode head) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } // å®šä¹‰ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä¸€ä¸ªä¸€ä¸ªæŠŠheadå¼€å¤´çš„é“¾è¡¨æ’å…¥åˆ°dummyå¼€å¤´çš„é“¾è¡¨é‡Œ ListNode dummy = new ListNode(-1); // ç±»ä¼¼äºå†’æ³¡æ’åºæ³•çš„éå†æ•´ä¸ªé“¾è¡¨ while (null != head) { ListNode pre = dummy; while (null != pre.next &amp;&amp; pre.next.val &lt; head.val) { pre = pre.next; } ListNode temp = head.next; head.next = pre.next; pre.next = head; head = temp; } return dummy.next; } 148.æ’åºé“¾è¡¨ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ829msï¼‰ public ListNode sortList(ListNode head) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } // å¼•å…¥è™šæ‹Ÿå¤´ç»“ç‚¹æ–¹ä¾¿éå† ListNode dummyHead = new ListNode(-1); dummyHead.next = head; List&lt;Integer> vals = new ArrayList&lt;>(); ListNode prev = dummyHead; // éå†ä¸€éæ•°ç»„ï¼Œå°†æ•°æ®å­˜å…¥æ’å¥½åºå­˜å…¥valsé›†åˆä¸­ while (null != prev.next) { // æ¯ä¸€æ¬¡éƒ½å°†valå€¼æ’å…¥åˆ°æ­£ç¡®çš„åœ°æ–¹ int index = 0; for (int i = 0; i &lt; vals.size(); i++) { if (prev.next.val >= vals.get(i)) { index = i + 1; } } vals.add(index, prev.next.val); prev = prev.next; } // è¿æ¥é“¾è¡¨ prev = dummyHead; for (int i = 0; i &lt; vals.size(); i++) { ListNode node = new ListNode(vals.get(i)); prev.next = node; prev = prev.next; } return dummyHead.next; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ4msï¼‰ public ListNode sortList(ListNode head) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } // ç¬¬ä¸€æ¬¡éå†ï¼šæ‰¾åˆ°é“¾è¡¨é•¿åº¦ int len = 0; ListNode cur = head; while (null != cur) { len++; cur = cur.next; } // ç¬¬äºŒæ¬¡éå†ï¼šä¿å­˜é“¾è¡¨çš„å€¼ int[] nums = new int[len]; cur = head; for (int i = 0; i &lt; len; i++) { nums[i] = cur.val; cur = cur.next; } // ç¬¬ä¸‰æ¬¡éå†ï¼šæ”¹å˜é“¾è¡¨çš„å€¼ Arrays.sort(nums); cur = head; for (int i = 0; i &lt; len; i++) { cur.val = nums[i]; cur = cur.next; } return head; } è¿™é‡Œæƒ³åæ§½ä¸€ä¸‹ï¼šå› ä¸ºä¸Šé¢çš„ç®—æ³•éå†äº†ä¸‰æ¬¡é“¾è¡¨ï¼Œæˆ‘æƒ³ç€ä½¿ç”¨ArrayListæ¥å°‘ä¸€æ¬¡éå†ç»“æœå‘ç°è¿ç®—é€Ÿåº¦è¾¾åˆ°äº†20mså·¦å³..æ—¶é—´å¥½åƒéƒ½èŠ±åœ¨äº†ArrayListè½¬æ•°ç»„è¿™ä¸ªæ“ä½œä¸Šäº†â€¦è¿™æˆ–è®¸å°±æ˜¯ä¼ è¯´ä¸­çš„è´Ÿä¼˜åŒ–å§â€¦ 203.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜18ï¼‰ å‚è€ƒç­”æ¡ˆï¼š /** * Definition for singly-linked list. * public class ListNode { * int val; * ListNode next; * ListNode(int x) { val = x; } * } */ class Solution { public ListNode removeElements(ListNode head, int val) { // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹ ListNode dummyHead = new ListNode(-1); dummyHead.next = head; ListNode prev = dummyHead; while (prev.next != null) { if (prev.next.val == val) { prev.next = prev.next.next; } else { prev = prev.next; } } return dummyHead.next; } } 206.åè½¬é“¾è¡¨ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜6ã€é¢è¯•é¢˜24ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ7msï¼‰ public ListNode reverseList(ListNode head) { // æ­£ç¡®æ€§åˆ¤æ–­ if (null == head || null == head.next) { return head; } // å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹ ListNode dummyHead = new ListNode(-1); dummyHead.next = head; HashMap&lt;Integer, ListNode> map = new HashMap&lt;>(); ListNode prev = dummyHead; // å­˜å‚¨èŠ‚ç‚¹é¡ºåºä¿¡æ¯ for (int i = 0; null != prev.next; i++) { map.put(i, prev.next); prev = prev.next; } int listSize = map.size(); // åè½¬é“¾è¡¨ for (int i = listSize - 1; i > 0; i--) { map.get(i).next = map.get(i - 1); } map.get(0).next = null; // è¿”å›å¤´ç»“ç‚¹ return map.get(listSize - 1); } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ0msï¼‰ public ListNode reverseList(ListNode head) { ListNode pre = null; while (null != head) { ListNode temp = head; head = head.next; temp.next = pre; pre = temp; } return pre; } 442.æ•°ç»„ä¸­é‡å¤çš„æ•°æ®ï¼ˆå‰‘æŒ‡Offeré¢è¯•é¢˜3ï¼‰ æˆ‘çš„ç­”æ¡ˆï¼šï¼ˆ56msï¼‰ public List&lt;Integer> findDuplicates(int[] nums) { List&lt;Integer> result = new ArrayList&lt;>(); // æ­£ç¡®æ€§åˆ¤æ–­ if (null == nums || 0 == nums.length) { return result; } // åˆ›å»ºä¸€ä¸ªHashMapï¼ŒKå€¼å­˜ä½ç½®ï¼ŒVå€¼å­˜æ•°æ® HashMap&lt;Integer, Integer> map = new HashMap&lt;>(); for (int i = 0; i &lt; nums.length; i++) { // å¦‚æœå­˜åœ¨é‡å¤çš„Vå€¼é‚£ä¹ˆåˆ™æœ‰é‡å¤çš„å…ƒç´ å­˜åœ¨ if (map.containsKey(nums[i])) { result.add(nums[i]); } map.put(nums[i], i); } return result; } å‚è€ƒç­”æ¡ˆï¼šï¼ˆ14msï¼‰ public List&lt;Integer> findDuplicates(int[] nums) { List&lt;Integer> res = new ArrayList&lt;>(); if (nums == null || nums.length == 0) return res; for (int i = 0; i &lt; nums.length; i++) { int index = Math.abs(nums[i]) - 1; if (nums[index] > 0) nums[index] *= -1; else { res.add(index + 1); } } return res; } ä¸Šé¢è¿™ä¸ªæ–¹æ³•æˆ‘DEBUGäº†ä¸€ä¼šå„¿ç»ˆäºææ‡‚äº†ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªé‡å¤çš„æ•°å­—ï¼Œé‚£ä¹ˆnums[index]ä½ç½®çš„æ•°å­—ä¸€å®šæ˜¯ä¸€ä¸ªå¤æ•°ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªindexå€¼è¶…è¿‡äº†nums.lengthï¼Œå°±ä¼šæŠ¥é”™å•Š..è¿™ä¸ªåªèƒ½ç®—ä¸€ä¸ªå·§è§£å§â€¦ ç®€å•æ€»ç»“åˆ·é¢˜è¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„ï¼Œåƒè¿™æ ·å¤ä¹ ä¸€éä¸‹æ¥æ„Ÿè§‰è‡ªå·±è¿˜æ˜¯æŒºæœ‰æ”¶è·çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ç®—æ³•æ–¹é¢æœ‰äº†ä¸€äº›ç¥å¥‡çš„ä½“éªŒï¼Œç„¶åå‘¢æ•°æ®ç»“æ„è¿™æ–¹é¢ä¹Ÿé€šè¿‡åˆ·é¢˜æœ‰äº†ä¸ä¸€æ ·çš„ç†è§£å’Œè§è§£ï¼Œå°±å¸Œæœ›è‡ªå·±èƒ½æŠ“ç´§ç‚¹å„¿æ—¶é—´å§ï¼ŒåŠ æ²¹ï¼› æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"é¢è¯•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€å‰å°å¼€å‘/é¡¹ç›®æ€»ç»“ã€‘","slug":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€å‰å°å¼€å‘-é¡¹ç›®æ€»ç»“ã€‘","date":"2018-06-28T22:42:00.000Z","updated":"2020-08-03T09:03:18.349Z","comments":true,"path":"2018/06/29/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-qian-tai-kai-fa-xiang-mu-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/06/29/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-qian-tai-kai-fa-xiang-mu-zong-jie/","excerpt":"","text":"å‰è¨€ï¼šå†™å‰å°çœŸçš„æ˜¯æˆ‘ä¸æ“…é•¿çš„ä¸œè¥¿â€¦æ‰€ä»¥å­¦ä¹ å’Œå†™äº†å¾ˆä¹…å¾ˆä¹…â€¦å‰å°é¡µé¢å¤§æ¦‚å¼€å‘äº†ä¸¤å¤©åŠå°±å¼€å‘å¥½äº†ï¼Œé‡‡ç”¨çš„é™æ€çš„htmlå’Œbootstrapæ¥å†™ï¼Œå†™åå°çš„æ—¶å€™çº ç»“ä½äº†â€¦æ€ä¹ˆè¯´å‘¢ï¼Œå†™é¡µé¢çœŸçš„æ˜¯å¤´ç–¼â€¦ å‰åºæ–‡ç« é“¾æ¥ï¼šSpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€é¡¹ç›®å‡†å¤‡ã€‘ï¼šhttps://www.jianshu.com/p/0293368fe750 å‰åºæ–‡ç« é“¾æ¥ï¼šSpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€åå°å¼€å‘ã€‘ï¼šhttps://www.jianshu.com/p/91c6c9fc67c4 Bootstrap or Vueï¼Ÿå…ˆåæ§½ä¸€å¥..å†™é¡µé¢æ˜¯çœŸçš„ä¸æ“…é•¿ï¼Œç„¶åé™äºæ—¶é—´çš„é—®é¢˜ï¼Œæˆ‘å¼€å§‹è€ƒè™‘æ¢ç”¨Bootstrapæ¥å®Œæˆé¡µé¢çš„ç¼–å†™ï¼Œå› ä¸ºæ—¶é—´æœ‰é™ï¼ˆæˆ‘å¾—åœ¨å®ä¹ å®Œä¹‹å‰æŠŠæ‰€æœ‰é¡µé¢å¼€å‘å®Œï¼‰ï¼Œå­¦ä¹ Vueå¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯å­˜åœ¨ä¸€äº›å­¦ä¹ æˆæœ¬çš„ï¼Œè™½ç„¶ä¹‹å‰å·²ç»é€šè¿‡æ–‡æ¡£åšå®¢ä¹‹ç±»çš„å­¦å¾—ä¸ƒä¸ƒå…«å…«ï¼ˆemm..ä¸‰ä¸‰å››å››å§â€¦ï¼‰çš„æ ·å­ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³å°½å¯èƒ½çš„å†™å¥½â€¦è¿˜æ˜¯ç”¨è‡ªå·±ç†Ÿæ‚‰çš„Bootstrapæ¥å®Œæˆå§â€¦ å‰å°é¡µé¢åˆ†æ ä¸ªäººåšå®¢çš„å‰å°é¡µé¢ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œå¤§æ¦‚ä¹Ÿå°±è¿™ä¹ˆäº”ä¸ªé¡µé¢æå®šï¼Œå› ä¸ºæœ‰äº†åŸå‹å›¾ï¼Œæ‰€ä»¥å®ç°èµ·æ¥è¿˜æ˜¯æŒºå®¹æ˜“ï¼› é¡µé¢å±•ç¤ºé¦–é¡µ emmâ€¦è¿˜åŸåº¦è¿˜ç®—è›®é«˜çš„å•¦â€¦è€Œä¸”å‘ç°è¿™ä¸€å¥—æ¨¡æ¿å¯¹äºé¢˜å›¾çš„è¦æ±‚è›®é«˜çš„â€¦å¦‚æœä¸å¥½çœ‹æˆ–è€…å›¾ç‰‡æœ¬èº«å¤ªå°å°±ä¼šå˜å¾—å¥‡æ€ªä»¥åŠæ¨¡ç³Šâ€¦ç›®å‰è¿˜æ²¡æœ‰æ‰¾åˆ°å•¥å¥½çš„æ–¹æ³•è§£å†³è¿™ä¸ªå›¾ç‰‡çš„é—®é¢˜ï¼Œä¸è¿‡å€’æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ‰è¶£çš„csså±æ€§å«object-fit: cover;ï¼Œè¶…çº§æ–¹ä¾¿çš„å›¾ç‰‡å±…ä¸­æ–¹æ³•ï¼Œä¹‹å‰æ‰¾äº†å¾ˆå¤šJSéƒ½ä¸æ˜¯å¾ˆæ»¡æ„ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•â€¦ åšå®¢åˆ†ç±»é¡µ è¿™ä¸ªé¡µé¢è¿˜æœ‰å¾…å•†æ¦·â€¦å› ä¸ºåé¢å¯èƒ½ä¼šæ¢æˆæ²¡æœ‰é¢˜å›¾è€Œæ˜¯åªæ˜¯åšæ–‡ä¿¡æ¯çš„ç‰ˆæœ¬â€¦ åšæ–‡é¡µ Psï¼šçªç„¶å¾ˆæƒ³åæ§½ä¸€ä¸‹è‡ªå·±å†™çš„æ–‡ç« éƒ½æœ‰ç‚¹é•¿..ä¸“é—¨æ‰¾äº†ç¯‡å†…å®¹æ²¡é‚£ä¹ˆå¤šçš„ï¼Œä¸ç„¶æˆªå›¾å·¥å…·æˆªä¸å®Œé¡µé¢â€¦ ä¿å­˜åœ¨æ•°æ®åº“ä¸­çš„æ˜¯mdæºç ï¼Œåœ¨å‰å°è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ç›´æ¥è½¬æˆäº†htmlæºç å¼„å‡ºæ¥ï¼Œç„¶åCSSæ ·å¼æ˜¯è‡ªå·±æ‰¾çš„ï¼Œè·Ÿæˆ‘çš„å…¬ä¼—å¾®ä¿¡å·æ˜¯ä¸€ä¸ªï¼Œå¤§å®¶éœ€è¦çš„è¯å­˜ä¸€ä¸‹å§ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºå¥½çœ‹çš„ï¼š p{font-size:15px; line-height:28px; color:#595959;font-family:å¾®è½¯é›…é»‘} pre, code{font-size:14px; font-family: Roboto, 'Courier New', Consolas, Inconsolata, Courier, monospace;} code{margin:0 3px; padding:0 6px; white-space: pre-wrap; background-color:#F8F8F8; border-radius:2px; display: inline;} pre{font-size:15px; line-height:20px;} precode{white-space: pre; overflow:auto; border-radius:3px; padding:5px10px; display: block !important;} strong, b{color:#BF360C;} em, i{color:#009688;} big{font-size:22px; color:#009688; font-weight: bold; vertical-align: middle; border-bottom:1px solid #eee;} small{font-size:12px; line-height:22px;} hr{border-bottom:0.05em dotted #eee; margin:10px auto;} p{margin:15px 5px!important;} table, pre, dl, blockquote, q, ul, ol{margin:10px 5px;} ul, ol{padding-left:10px;} li{margin:5px;} lip{margin:5px 0!important;} ulul, ulol, olul, olol{margin:0; padding-left:10px;} olol, ulol{list-style-type: lower-roman;} ululol, ulolol, olulol, ololol{list-style-type: lower-alpha;} dl{padding:0;} dldt{font-size:1em; font-weight: bold; font-style: italic;} dldd{margin:0 0 10px; padding:0 10px;} blockquote, q{border-left:3px solid #009688; padding:0 10px; color:#777; quotes: none;} blockquote::before, blockquote::after, q::before, q::after{content: none;} h1, h2, h3, h4, h5, h6{margin:20px 0 10px; padding:0; font-weight: bold; color:#009688;} h1{font-size:24px;} h2{font-size:22px;} h3{font-size:18px;} h4{font-size:18px;} h5{font-size:16px;} h6{font-size:16px; color:#777;} table{padding:0; border-collapse: collapse; border-spacing:0; font-size:1em; font: inherit; border:0;} tbody{margin:0; padding:0; border:0;} tabletr{border:0; border-top:1px solid #CCC; background-color: white; margin:0; padding:0;} tabletr:nth-child(2n){background-color:#F8F8F8;} tabletrth, tabletrtd{font-size:16px; border:1px solid #CCC; margin:0; padding:5px10px;} tabletrth{font-weight: bold; background-color:#F0F0F0;} img{display:block;text-align:center;margin:0 auto;} å…³äº/ç•™è¨€é¡µ emmmâ€¦ä¸€å¤§å †æµ‹è¯•ç”¨çš„ç•™è¨€ä¿¡æ¯è¯·æ— è§†â€¦ ç®€å†é¡µ è¿™é‡Œç®€å†ä¹Ÿä»…ä»…æ˜¯åŒ…å«äº†ä¸€ä¸ªå¤´å’Œä¸€ä¸ªå°¾å·´ï¼Œå…¶å®å·²ç»åšå¥½äº†â€¦åšæˆçš„PDFæ–‡ä»¶å¯ä»¥ç½‘ä¸Šæœç´¢å·¥å…·ç›´æ¥è½¬æˆhtmlä»£ç ï¼Œä½†å¹¶ä¸æ˜¯å¾ˆæƒ³ç²˜å‡ºæ¥â€¦ åå°é¡µé¢åˆ†æ å½“æ—¶åˆ†æçš„æ—¶å€™æ˜¯å¤§è‡´åˆ†æˆäº†è¿™å‡ ä¸ªæ¨¡å—å’Œè¿™ä¹ˆå¤šä¸ªé¡µé¢ï¼Œä½†æ˜¯åæ¥å®ç°çš„æ—¶å€™ï¼Œä¸€ä¸ªæ¨¡å—éƒ½æ•´æˆäº†ä¸€ä¸ªé¡µé¢ï¼Œæ‡’å¾—å¤åˆ¶ç²˜è´´å†æ”¹æ”¹æ”¹ï¼Œç›´æ¥ä¸€ä¸ªé¡µé¢æå®šï¼› é¡µé¢å±•ç¤ºæ•°æ®ç»Ÿè®¡æ¨¡å— çœ‹è¿‡æˆ‘ä¹‹å‰åšæ–‡çš„ç«¥é‹åº”è¯¥éƒ½ä¼šè§‰å¾—çœ¼ç†Ÿï¼ˆä»€ä¹ˆï¼Ÿè¿™ä¸å°±æ˜¯ä¹‹å‰å†™å¤©çŒ«æ‰¾çš„æ¨¡æ¿å—ï¼Ÿï¼‰ï¼Œåæ­£èƒ½çœäº‹å„¿å°±çœï¼Œè€Œä¸”è¿™ä¸€å¥—æ¨¡æ¿æ—¢æœ‰æ»¡è¶³è‡ªé€‚åº”çš„è¦æ±‚ï¼Œåˆæœ‰å¢å¼ºè¡¨æ ¼çš„jsæ’ä»¶ï¼Œä¸ºå•¥ä¸ç”¨å‘¢ï¼Ÿå¥½äº†ï¼Œé“¾æ¥åœ¨è¿™é‡Œï¼šhttp://www.cssmoban.com/cssthemes/7381.shtml è¿™ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªæ•°æ®ç»Ÿè®¡ï¼ŒåŒ…æ‹¬æœ‰ï¼šè®¿é—®é‡ã€æ—¥å¿—é‡ã€ç•™è¨€æ•°è¿˜æœ‰ä¸€äº›è¯¦ç»†çš„åˆ—è¡¨ï¼› emmm..è‡ªé€‚åº”åå¤§æ¦‚åƒä¸‹é¢è¿™æ ·ï¼š åˆ†ç±»ç®¡ç†æ¨¡å— æˆ‘æŠŠåˆ†ç±»ç›¸å…³çš„åŠŸèƒ½éƒ½å†™åœ¨äº†ä¸€ä¸ªé¡µé¢ä¸Šï¼Œè¿™æ ·æ“ä½œä¹Ÿæ–¹ä¾¿ï¼› åšæ–‡ç®¡ç†æ¨¡å— ç‚¹å‡»ç¼–è¾‘ä¼šå¼¹å‡ºä¸€ä¸ªæ¨¡æ€æ¡†ï¼Œè·Ÿæ–°å¢åšæ–‡å·®ä¸å¤ªå¤šï¼š è¯„è®ºç®¡ç†æ¨¡å— è¿™ä¸ªæ¨¡å—æˆ‘åæ¥æ”¹äº†ä¸€ä¸‹ï¼Œåªæ˜¯ç”¨æ¥æ˜¾ç¤ºæ–‡ç« çš„è¯„è®ºä¿¡æ¯ï¼Œé€šè¿‡ç›‘å¬Selectæ¥åŠ¨æ€åŠ è½½æ•°æ®ï¼Œåˆ é™¤ä¹‹åè™½ç„¶æ˜¯ç½®æ•°æ®åº“isEffectiveå­—æ®µä¸º0ï¼Œä½†ä»ç„¶ä¸ä¼šåœ¨åå°æ˜¾ç¤ºâ€¦ï¼ˆå› ä¸ºæˆ‘æ„Ÿè§‰åˆ é™¤çš„éƒ½æ˜¯ä¸æƒ³çœ‹åˆ°çš„ï¼Œå°±ä¸æ˜¾ç¤ºäº†â€¦ï¼‰ é¡¹ç›®æ€»ç»“ä¸Šé¢å°±æ˜¯é¡¹ç›®çš„æ‰€æœ‰é¡µé¢äº†ï¼Œè™½ç„¶ç°åœ¨çœ‹èµ·æ¥è¿˜æ˜¯æŒºæ¸…æ™°ç®€å•çš„ï¼Œä½†å†™çš„æ—¶å€™è¿˜æ˜¯å¤´å¤§ï¼Œå¤´å¤§ï¼Œå¤´å¤§â€¦ä¸è¿‡é€šè¿‡è¿™ä¸€æ¬¡çš„å¼€å‘ï¼Œå¯¹å†™å‰å°è¿˜æ˜¯æœ‰äº†ä¸€å®šçš„ç†Ÿæ‚‰ï¼Œç‰¹åˆ«æ˜¯å¯¹JSçš„ç¼–å†™ä»¥åŠBootstrapå“åº”å¼å¸ƒå±€ï¼Œè€Œä¸”åœ¨å†™å‰ç«¯çš„æ—¶å€™æµ‹å‡ºæ¥è¿˜æ˜¯ä¸€å †BUGï¼Œä¹ŸçŠ¯äº†ä¸€äº›æ‹¼å†™é”™è¯¯è¿™æ ·çš„ä½çº§é”™è¯¯â€¦è€Œä¸”æ„Ÿè§‰å‰ç«¯æ›´å¤šçš„æ˜¯ç»†èŠ‚çš„ä¸œè¥¿ï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯ç›´æ¥ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„ï¼Œè¿˜æ˜¯å¸Œæœ›è‡ªå·±å¤šå†™å¤šç§¯ç´¯å§ï¼Œä¸‹é¢å¯¹é¡¹ç›®ä¸­å‡ºç°çš„ä¸€äº›é—®é¢˜è¿›è¡Œä¸€äº›æ€»ç»“ï¼š HTMLå…¬æœ‰èµ„æºçš„æå–å‰ç«¯ä¼šé¢ä¸´ç€å’Œå†™åç«¯ä¸€æ ·çš„é—®é¢˜ï¼Œå°±æ˜¯æ€æ ·æŠ½å–å‡ºä¸€äº›ä¸­é—´ä»¶ï¼Œæ¥è®©å¤§å®¶å…±åŒä½¿ç”¨ï¼Œä¾‹å¦‚å¤´éƒ¨ã€å°¾éƒ¨ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯ä¸‹é¢è¿™æ ·çš„æ–¹æ³•è§£å†³ï¼š &lt;script language=\"javascript\" type=\"text/javascript\" src=\"js/head.js\">&lt;/script> å…ˆç¼–å†™å¥½å•ç‹¬çš„htmlæ–‡ä»¶ï¼Œç„¶åè½¬æˆJSåŠ¨æ€åŠ è½½è¿›æ¥å°±å¥½äº†ï¼Œå‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/wabiaozia/article/details/75092623 è·¨åŸŸé—®é¢˜åœ¨å‰åç«¯ç»“åˆçš„æ—¶å€™ï¼Œå‡ºç°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯è·¨åŸŸï¼Œå‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/saytime/article/details/74937204 ï¼Œæˆ‘æ˜¯ä½¿ç”¨çš„Filteræ–¹æ³•ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š /** * å®ç°è·¨åŸŸ * * @author:wmyskxz * @create:2018-06-21-ä¸‹åˆ 22:48 */ @Component public class SimpleCORSFilter implements Filter { @Override public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException { HttpServletRequest request = (HttpServletRequest) req; HttpServletResponse response = (HttpServletResponse) res; response.setHeader(\"Access-Control-Allow-Origin\", request.getHeader(\"Origin\")); response.setHeader(\"Access-Control-Allow-Credentials\", \"true\"); response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS ,PUT, DELETE\"); response.setHeader(\"Access-Control-Max-Age\", \"3600\"); response.setHeader(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Connection, User-Agent, Cookie\"); chain.doFilter(req, res); } @Override public void init(FilterConfig filterConfig) {} @Override public void destroy() {} } ä½†å…¶å®è¿™æ ·é…ç½®äº†ä¹‹åï¼Œå‰ç«¯å‘çš„è¯·æ±‚ç¡®å®çš„èƒ½æäº¤åˆ°æœåŠ¡å™¨ä¸Šæ¥ï¼ŒæœåŠ¡å™¨ä¹Ÿèƒ½å¤Ÿåšç›¸åº”çš„å¤„ç†ï¼Œä½†AJAXä¸­ï¼ŒPUTå’ŒPOSTæ–¹æ³•è€æ˜¯è¿›åˆ°erroræ–¹æ³•ä¸­è€Œä¸è¿›å…¥successæ–¹æ³•ï¼Œæˆ‘ä¹Ÿæ˜¯æ²¡è¾™â€¦è€Œä¸”ä¹‹å‰æ²¡æœ‰ç»™Allow-Headersæ·»åŠ ä¸Šé™¤X-Requested-withä¹‹å¤–çš„ä¸œè¥¿ï¼ŒPOSTçš„æ—¶å€™å®ƒä¼šå…ˆæäº¤ä¸€ä¸ªå¤´é‡Œé¢ä¸å…‰æœ‰X-Requested-withè¿˜æœ‰Content-Typeçš„OPTIONSæ–¹æ³•â€¦ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œæœ€ååªèƒ½å¦¥åææˆç°åœ¨è¿™æ ·ï¼› æ—¶é—´æ˜¾ç¤ºçš„BUGä»æ•°æ®åº“å–å‡ºæ¥çš„æ•°æ®ç»™åˆ°å‰å°æ˜¾ç¤ºçš„æ—¶å€™å°±å˜æˆäº†ä¸€ä¸²æ—¶é—´æˆ³ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯åœ¨å®ä½“ç±»çš„getCreateBy()è¿™æ ·çš„å–æ—¶é—´çš„æ“ä½œå‰åŠ ä¸Šä¸€è¡Œæ³¨è§£ï¼š@JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;,timezone = &quot;GMT+8&quot;)ï¼Œå°±èƒ½æˆåŠŸè§£å†³äº†ï¼š font-awesomeåº“æ˜¾ç¤ºé—®é¢˜å•ç‹¬ç¼–å†™å‰å°çš„æ—¶å€™éƒ½èƒ½å¤Ÿæ­£å¸¸çš„æ˜¾ç¤ºå­—ä½“ï¼Œä½†æ˜¯ç»™å¼„åˆ°æœåŠ¡å™¨æ–‡ä»¶å¤¹ä¸‹çš„æ—¶å€™å°±åŠ è½½ä¸å‡ºæ¥äº†ï¼Œä¹Ÿä¸æ˜¯404æ‰¾ä¸åˆ°ä¸€ç±»çš„ï¼Œä½†å­—ä½“å°±æ˜¯è¯·æ±‚ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘ç‚¹å‡»æ§åˆ¶å°çš„ä¿¡æ¯åˆèƒ½æˆåŠŸä¸‹è½½åˆ°å­—ä½“ä¸çŸ¥é“æ˜¯ä¸ºå•¥ï¼Œæ‰€ä»¥åªèƒ½å¦¥åç»™æ¢æˆäº†CDNä¸Šçš„CSSï¼š &lt;link href=\"//cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css\" rel=\"stylesheet\"> é”™è¯¯é¡µé¢è·³è½¬çš„é—®é¢˜å› ä¸ºä¸æƒ³è®©é™¤äº†æˆ‘ä»¥å¤–çš„äººç™»å½•è¿›åå°é¡µé¢ï¼Œæˆ‘ä¹Ÿæ˜¯æƒ³äº†å„ç§åŠæ³•ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯æŠŠlogin.htmlé¡µé¢ç»™â€œéšè—â€èµ·æ¥äº†ï¼Œå…·ä½“çš„åšæ³•å°±æ˜¯æŠŠå®ƒæ”¾è¿›ä¸€ä¸ªå¥‡æ€ªçš„æ–‡ä»¶å¤¹ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå¥‡æ€ªçš„åœ°å€ï¼ˆä»¥åå†æ”¹ï¼‰æ¥ç»‘å®šå®ƒï¼š æ‰€ä»¥è¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæˆ‘å†™çš„æ‹¦æˆªå™¨çš„åŸå› ï¼Œæ‰€æœ‰ä¸æ˜¯ä»¥/adminå¼€å¤´çš„åœ°å€å¦‚æœè¯·æ±‚é”™è¯¯çš„è¯ï¼Œåœ°å€æ ä¸å˜ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°error.htmlæ–‡ä»¶ä¸­ï¼Œå› ä¸ºæˆ‘æŠŠè¿™ä¸ªé¡µé¢æ”¾åˆ°äº†staticæ ¹ç›®å½•ä¸‹ï¼Œè¿™æ˜¯SpringBooté»˜è®¤è¦†ç›–çš„ç»“æœï¼Œä½†æ˜¯å¦‚æœæˆ‘åœ¨åå°æ‹¦æˆªå™¨ä¸­ä½¿ç”¨é‡å®šå‘è®¿é—®error.htmlçš„è¯å°±ä¼šå‡ºç°404å›¾ç‰‡è¯·æ±‚ä¸åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒä¼šé»˜è®¤è®¿é—®/admin/img/404.pngè¿™ä¸ªåœ°å€ï¼ˆæ­¤æ—¶æˆ‘åå°çš„é¡µé¢æ”¾åœ¨/admin/ç›®å½•ä¸‹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸æŠŠerror.htmlä¸­imgæ ‡ç­¾ä¸­çš„srcæ”¹æˆä¸€ä¸ªç½‘ç»œåœ°å€ï¼› é¡¹ç›®åœ°å€ &amp; åæœŸè®¡åˆ’Githubåœ°å€ï¼šhttps://github.com/wmyskxz/MyBlog å› ä¸ºå‰ç«¯ï¼ˆä¸åŒ…æ‹¬åå°é¡µé¢ï¼‰æ²¡æœ‰åŠ ä»»ä½•çš„å“åº”å¼çš„ä¸œè¥¿ï¼Œå°±åªæ˜¯ç”¨äº†ç™¾åˆ†æ¯”æ¥æ˜¾ç¤ºï¼Œä½†æµ‹è¯•çš„æ—¶å€™ä¸çŸ¥é“ä¸ºå•¥æ‰‹æœºç«¯å•Šï¼Œå°å±å¹•å•Šéƒ½è¿˜å¯ä»¥ï¼Œç‰¹åˆ«æ˜¯æ‰‹æœºç«¯å®ƒä¸ä¼šç¼©æ”¾çœ‹åˆ°çš„è¿˜æ˜¯é¡µé¢æœ¬èº«çš„æ ·å­..è¿˜æ˜¯æŒºå¥½çš„ï¼Œåˆå¯ä»¥éª—è‡ªå·±èŠ‚çœäº†ä¸€å¤§éƒ¨åˆ†çš„å·¥ä½œï¼Œhhh é©¬ä¸Šé¢ä¸´ç€æš‘å‡ï¼ŒåŒæ—¶ä¹Ÿæ„å‘³ç€ç§‹æ‹›å¿«è¦å¼€å§‹äº†ï¼Œè¿˜æ˜¯å‡†å¤‡å¤ä¹ å¤ä¹ åŸºç¡€ï¼ˆæ•°æ®ç»“æ„å’Œç®—æ³•ï¼‰ï¼Œemmmâ€¦å†²åˆºå†²åˆºå¤§å‚ï¼Œè‡ªå·±åŠ æ²¹å§â€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/"},{"name":"é¡¹ç›®","slug":"JavaWebè¿›é˜¶/Spring-Boot/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€åå°å¼€å‘ã€‘","slug":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€åå°å¼€å‘ã€‘","date":"2018-06-20T22:40:00.000Z","updated":"2020-08-03T09:02:47.824Z","comments":true,"path":"2018/06/21/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-hou-tai-kai-fa/","link":"","permalink":"http://www.wmyskxz.com/2018/06/21/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-hou-tai-kai-fa/","excerpt":"","text":"å‰è¨€ï¼šåœ¨ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†é¡¹ç›®çš„åŸºæœ¬å‡†å¤‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¼€å§‹åå°å¼€å‘äº†ï¼Œçªç„¶åˆæƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å‡†å¤‡çš„æ—¶å€™åªæ˜¯è®¾è®¡äº†å‰å°çš„RESTful APIsï¼Œä½†æ˜¯åå°ç®¡ç†æˆ‘ä»¬åŒæ ·ä¹Ÿæ˜¯éœ€è¦APIçš„ï¼Œé‚£ä¹ˆå°±åœ¨è¿™ä¸€ç¯‡é‡Œé¢ä¸€èµ·å®ç°äº†å§â€¦ å‰åºæ–‡ç« é“¾æ¥ï¼šSpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€é¡¹ç›®å‡†å¤‡ã€‘ï¼šhttps://www.jianshu.com/p/0293368fe750 ä¸€äº›è®¾è®¡ä¸Šçš„è°ƒæ•´åœ¨æŸ¥äº†ä¸€äº›èµ„æ–™å’Œå¸æ”¶äº†ä¸€äº›è¯„è®ºç»™å‡ºè‰¯å¥½çš„å»ºè®®ä¹‹åï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å¯¹ä¸€äº›è®¾è®¡è¿›è¡Œä¸€äº›è°ƒæ•´ï¼š 1ï¼‰æ•°æ®åº“ï¼šå‘½ååº”è¯¥æ›´åŠ è§„èŒƒï¼Œæ¯”å¦‚è¡¨ç¤ºåˆ†ç±»æœ€å¥½ç”¨categoryè€Œä¸æ˜¯sortï¼Œè¡¨ç¤ºè¯„è®ºæœ€å¥½ç”¨commentè€Œä¸æ˜¯messageï¼› 2ï¼‰RESful APIsï¼šåœ¨å‡†å¤‡ç€æ‰‹å¼€å§‹å†™åå°çš„æ—¶å€™å°±å·²ç»å‘ç°ï¼Œæœ¬æ¥æƒ³çš„æ˜¯å‡¡æ˜¯ä»¥/apiå¼€å¤´çš„éƒ½æ˜¯æš´éœ²å‡ºæ¥ç»™å‰ç«¯ç”¨çš„ï¼Œå‡¡æ˜¯ä»¥/adminå¼€å¤´çš„éƒ½æ˜¯ç»™åå°ä½¿ç”¨çš„åœ°å€ï¼Œä½†æ˜¯æ„å¤–çš„æ²¡æœ‰è®¾è®¡åå¤©çš„APIä¹ŸæŠŠä¸€äº›åˆ é™¤å‘½ä»¤æš´éœ²ç»™äº†å‰ç«¯ï¼Œè¿™å°±ä¸å¥½äº†é‡æ–°è®¾è®¡è®¾è®¡ï¼› 3ï¼‰å‘½åè§„èŒƒçš„é—®é¢˜ï¼šå› ä¸ºä½¿ç”¨MyBatisé€†å‘å·¥ç¨‹è‡ªåŠ¨ç”Ÿæˆçš„æ—¶å€™ï¼Œé…ç½®äº†ä¸€ä¸ªuseActualColumnNamesä½¿ç”¨è¡¨çœŸæ­£åç§°çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ•´å¾—æ¥ç”ŸæˆPOJOç±»åŸºç¡€å­—æ®µæœ‰ä¸‹åˆ’çº¿ï¼Œçœ‹ç€ç€å®æœ‰ç‚¹ä¸çˆ½ï¼ŒæŠŠå®ƒç»™å¹²æ‰å¹²æ‰â€¦ï¼› æ•°æ®åº“è°ƒæ•´æŠŠå­—æ®µè§„èŒƒäº†ä¸€ä¸‹ï¼Œå¹¶ä¸”åˆ é™¤äº†åˆ†ç±»ä¸‹æ˜¯å¦æœ‰æ•ˆçš„å­—æ®µï¼ˆæ„Ÿè§‰è¿™ç§ä¸ç»å¸¸å˜æ¢çš„å­—æ®µç•™ç€ä¹Ÿæ²¡å•¥ç”¨å¹²è„†å¹²æ‰..ï¼‰ï¼Œæ‰€ä»¥è°ƒæ•´ä¸ºäº†ä¸‹é¢è¿™ä¸ªæ ·å­ï¼ˆè°ƒæ•´å­—æ®µå·²æ ‡çº¢ï¼‰ï¼š ç„¶åé‡æ–°ä½¿ç”¨ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ï¼Œæ³¨æ„è®°å¾—ä¿®æ”¹generatorConfig.xmlæ–‡ä»¶ä¸­å¯¹åº”çš„æ•°æ®åº“åç§°ï¼› åˆ›å»ºå’Œä¿®æ”¹æ—¶é—´çš„å­—æ®µè®¾ç½®é€šè¿‡æŸ¥èµ„æ–™å‘ç°å…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¾ç½®æ•°æ®åº“æ¥è‡ªåŠ¨æ›´æ–°æˆ‘ä»¬çš„modified_byå­—æ®µï¼Œå¹¶ä¸”å¯ä»¥åƒè®¾ç½®åˆå§‹å€¼é‚£æ ·ç»™create_byå’Œmodified_byä¸¤ä¸ªå­—æ®µä»¥å½“å‰æ—¶é—´æˆ³è®¾ç½®é»˜è®¤å€¼ï¼Œè¿™é‡Œå…·ä½“ä»¥tbl_article_infoè¿™å¼ è¡¨ä¸ºä¾‹ï¼š CREATE TABLE `tbl_article_info` ( `id` bigint(40) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `title` varchar(50) NOT NULL DEFAULT '' COMMENT 'æ–‡ç« æ ‡é¢˜', `summary` varchar(300) NOT NULL DEFAULT '' COMMENT 'æ–‡ç« ç®€ä»‹ï¼Œé»˜è®¤100ä¸ªæ±‰å­—ä»¥å†…', `is_top` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ–‡ç« æ˜¯å¦ç½®é¡¶ï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯', `traffic` int(10) NOT NULL DEFAULT '0' COMMENT 'æ–‡ç« è®¿é—®é‡', `create_by` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´', `modified_by` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿®æ”¹æ—¥æœŸ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; æˆ‘ä»¬é€šè¿‡è®¾ç½®DEFAULTä¸ºCURRENT_TIMESTAMPï¼Œç„¶åç»™modified_byå­—æ®µå¤šæ·»åŠ äº†ä¸€å¥ON UPDATE CURRENT_TIMESTAMPï¼Œè¿™æ ·å®ƒå°±ä¼šåœ¨æ›´æ–°çš„æ—¶å€™å°†è¯¥å­—æ®µçš„å€¼è®¾ç½®ä¸ºæ›´æ–°æ—¶é—´ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨åœ¨åå°å…³å¿ƒè¿™ä¸¤ä¸ªå€¼äº†ï¼Œä¹Ÿå°‘å†™äº†ä¸€äº›ä»£ç ï¼ˆå…¶å®æ˜¯å†™ä»£ç çš„æ—¶å€™å‘ç°å¯ä»¥è¿™æ ·å·æ‡’..hhhâ€¦ï¼‰ï¼› RESTful APIsé‡æ–°è®¾è®¡æˆ‘ä»¬éœ€è¦æŠŠä¸€äº›ä¸èƒ½å¤Ÿæš´éœ²ç»™å‰å°çš„APIæ”¶å›ï¼Œç„¶åå†è®¾è®¡ä¸€ä¸‹åå°çš„APIï¼Œæ£é¼“äº†ä¸€ä¸‹ï¼Œæœ€åå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­äº†ï¼š åå°Restful APIsï¼š å‰å°å¼€æ”¾RESful APIsï¼š è¿™äº›APIåªæ˜¯ç”¨æ¥å’Œå‰ç«¯äº¤äº’çš„æ¥å£ï¼Œå¦å¤–ä¸€äº›å…³äºæ—¥å¿—å•Šä¹‹ç±»çš„ä¸œè¥¿å°±ç›´æ¥åœ¨åå°å†™å°±è¡Œäº†ï¼ŒOKï¼Œè¿™æ ·å°±çˆ½å¤šäº†ï¼Œå¯ä»¥å¼€å§‹ç€æ‰‹å†™ä»£ç äº†ï¼› åŸºæœ¬é…ç½®éšç€é…ç½®å†…å®¹çš„å¢å¤šï¼Œæˆ‘é€æ¸çš„æƒ³è¦æ”¾å¼ƒ.ymlçš„é…ç½®æ–‡ä»¶ï¼Œä¸»è¦çš„ä¸€ç‚¹æ˜¯è¿™ä¸œè¥¿ä¸å¥½å¯¹å†…å®¹è¿›è¡Œåˆ†ç±»ï¼ˆä¸‹å›¾æ˜¯ç®€å•é…ç½®äº†ä¸€äº›åŸºæœ¬æ–‡ä»¶åçš„.ymlå’Œ.propertiesæ–‡ä»¶çš„å¯¹æ¯”ï¼‰.. æœ€åè¿˜æ˜¯ç”¨å›.propertiesæ–‡ä»¶å§ï¼Œä¸åˆ†ç±»è¿˜æ˜¯æœ‰ç‚¹éš¾å— ç¼–ç è®¾ç½®æˆ‘ä»¬é¦–å…ˆéœ€è¦è§£å†³çš„æ˜¯ä¸­æ–‡ä¹±ç çš„é—®é¢˜ï¼Œå¯¹åº”GETè¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹Tomcatçš„é…ç½®æ–‡ä»¶ã€server.xmlã€‘æ¥æŠŠå®ƒé»˜è®¤çš„ç¼–ç æ ¼å¼æ”¹ä¸ºUTF-8ï¼Œè€Œå¯¹äºPOSTè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ç»Ÿä¸€é…ç½®ä¸€ä¸ªæ‹¦æˆªå™¨ä¸€æ ·çš„ä¸œè¥¿æŠŠè¯·æ±‚çš„ç¼–ç ç»Ÿä¸€æ”¹æˆUTF-8ï¼š ## â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ç¼–ç è®¾ç½®â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” spring.http.encoding.charset=UTF-8 spring.http.encoding.force=true spring.http.encoding.enabled=true server.tomcat.uri-encoding=UTF-8 ä½†æ˜¯è¿™æ ·è®¾ç½®ä¹‹åï¼Œåœ¨åé¢çš„ä½¿ç”¨å½“ä¸­è¿˜æ˜¯ä¼šå‘ç”Ÿæäº¤è¡¨å•æ—¶ä¸­æ–‡ä¹±ç çš„é—®é¢˜ï¼Œåœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼Œæ–°å»ºä¸€ä¸ªã€configã€‘åŒ…åˆ›å»ºä¸‹é¢è¿™æ ·ä¸€ä¸ªé…ç½®ç±»ï¼š @Configuration public class MyWebMvcConfigurerAdapter extends WebMvcConfigurerAdapter { @Bean public HttpMessageConverter&lt;String> responseBodyConverter() { StringHttpMessageConverter converter = new StringHttpMessageConverter(Charset.forName(\"UTF-8\")); return converter; } @Override public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?>> converters) { super.configureMessageConverters(converters); converters.add(responseBodyConverter()); } @Override public void configureContentNegotiation(ContentNegotiationConfigurer configurer) { configurer.favorPathExtension(false); } } æ•°æ®åº“åŠè¿æ¥æ± é…ç½®å†³å®šè¿™ä¸€æ¬¡è¯•è¯•Druidçš„ç›‘æ§åŠŸèƒ½ï¼Œæ‰€ä»¥ç»™ä¸€ä¸‹æ•°æ®åº“çš„é…ç½®ï¼š ## â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”æ•°æ®åº“è®¿é—®é…ç½®â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” spring.datasource.type=com.alibaba.druid.pool.DruidDataSource spring.datasource.driver-class-name = com.mysql.jdbc.Driver spring.datasource.url = jdbc:mysql://127.0.0.1:3306/blog?characterEncoding=UTF-8 spring.datasource.username = root spring.datasource.password = 123456 # ä¸‹é¢ä¸ºè¿æ¥æ± çš„è¡¥å……è®¾ç½®ï¼Œåº”ç”¨åˆ°ä¸Šé¢æ‰€æœ‰æ•°æ®æºä¸­ # åˆå§‹åŒ–å¤§å°ï¼Œæœ€å°ï¼Œæœ€å¤§ spring.datasource.druid.initial-size=5 spring.datasource.druid.min-idle=5 spring.datasource.druid.max-active=20 # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ spring.datasource.druid.max-wait=60000 # é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ spring.datasource.druid.time-between-eviction-runs-millis=60000 # é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ spring.datasource.druid.min-evictable-idle-time-millis=300000 spring.datasource.druid.validation-query=SELECT 1 FROM DUAL spring.datasource.druid.test-while-idle=true spring.datasource.druid.test-on-borrow=false spring.datasource.druid.test-on-return=false # æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿æ¥ä¸ŠPSCacheçš„å¤§å° spring.datasource.druid.pool-prepared-statements=true spring.datasource.druid.max-pool-prepared-statement-per-connection-size=20 # é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œå»æ‰åç›‘æ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ï¼Œ'wall'ç”¨äºé˜²ç«å¢™ spring.datasource.druid.filters=stat,wall,log4j æ—¥å¿—é…ç½®åœ¨SpringBootä¸­å…¶å®å·²ç»ä½¿ç”¨äº†Logbackæ¥ä½œä¸ºé»˜è®¤çš„æ—¥å¿—æ¡†æ¶ï¼Œè¿™æ˜¯log4jä½œè€…æ¨å‡ºçš„æ–°ä¸€ä»£æ—¥å¿—æ¡†æ¶ï¼Œå®ƒæ•ˆç‡æ›´é«˜ã€èƒ½å¤Ÿé€‚åº”è¯¸å¤šçš„è¿è¡Œç¯å¢ƒï¼ŒåŒæ—¶å¤©ç„¶æ”¯æŒSLF4Jï¼Œåœ¨SpringBootä¸­æˆ‘ä»¬æ— éœ€å†æ·»åŠ é¢å¤–çš„ä¾èµ–å°±èƒ½ä½¿ç”¨ï¼Œè¿™æ˜¯å› ä¸ºåœ¨spring-boot-starter-webåŒ…ä¸­å·²ç»æœ‰äº†è¯¥ä¾èµ–äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¿›è¡Œé…ç½®ä½¿ç”¨å°±å¥½äº† ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºlogback-spring.xmlå½“é¡¹ç›®è·‘èµ·æ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¯èƒ½è¿˜å»çœ‹æ§åˆ¶å°çš„è¾“å‡ºä¿¡æ¯å§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠæ—¥å¿—å†™åˆ°æ–‡ä»¶é‡Œé¢ï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªä¾‹å­ï¼ˆé“¾æ¥ï¼šhttp://tengj.top/2017/04/05/springboot7/ï¼‰ &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\"> &lt;contextName>logback&lt;/contextName> &lt;!--è‡ªå·±å®šä¹‰ä¸€ä¸ªlog.pathç”¨äºè¯´æ˜æ—¥å¿—çš„è¾“å‡ºç›®å½•--> &lt;property name=\"log.path\" value=\"/log/wmyskxz/\"/> &lt;!--è¾“å‡ºåˆ°æ§åˆ¶å°--> &lt;appender name=\"console\" class=\"ch.qos.logback.core.ConsoleAppender\"> &lt;!-- &lt;filter class=\"ch.qos.logback.classic.filter.ThresholdFilter\"> &lt;level>ERROR&lt;/level> &lt;/filter>--> &lt;encoder> &lt;pattern>%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern> &lt;/encoder> &lt;/appender> &lt;!--è¾“å‡ºåˆ°æ–‡ä»¶--> &lt;appender name=\"file\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"> &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"> &lt;fileNamePattern>${log.path}/logback.%d{yyyy-MM-dd}.log&lt;/fileNamePattern> &lt;/rollingPolicy> &lt;encoder> &lt;pattern>%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern> &lt;/encoder> &lt;/appender> &lt;root level=\"info\"> &lt;appender-ref ref=\"console\"/> &lt;appender-ref ref=\"file\"/> &lt;/root> &lt;!-- logbackä¸ºjavaä¸­çš„åŒ… --> &lt;logger name=\"cn.wmyskxz.blog.controller\"/> &lt;/configuration> åœ¨Spring Bootä¸­ä½ åªè¦æŒ‰ç…§è§„åˆ™ç»„ç»‡æ–‡ä»¶åï¼Œå°±èƒ½å¤Ÿä½¿å¾—é…ç½®æ–‡ä»¶èƒ½å¤Ÿè¢«æ­£ç¡®åŠ è½½ï¼Œå¹¶ä¸”å®˜æ–¹æ¨èä¼˜å…ˆä½¿ç”¨å¸¦æœ‰-springçš„æ–‡ä»¶åä½œä¸ºæ—¥å¿—çš„é…ç½®ï¼ˆå¦‚ä¸Šé¢ä½¿ç”¨çš„logback-spring.xmlï¼Œè€Œä¸æ˜¯logback.xmlï¼‰ï¼Œæ»¡è¶³è¿™æ ·çš„å‘½åè§„èŒƒå¹¶ä¸”ä¿è¯æ–‡ä»¶åœ¨src/main/resourcesä¸‹å°±å¥½äº†ï¼› ç¬¬äºŒæ­¥ï¼šé‡å¯é¡¹ç›®æ£€æŸ¥æ˜¯å¦æˆåŠŸæˆ‘ä»¬å®šä¹‰çš„ç›®å½•ä½ç½®ä¸º/log/wmyskxz/ï¼Œä½†æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å¹¶æ²¡æœ‰å‘ç°è¿™æ ·çš„ç›®å½•ï¼Œåè€Œæ˜¯åœ¨å½“å‰ç›˜ç¬¦çš„æ ¹ç›®å½•..ä¸æ˜¯å¾ˆæ‡‚è¿™ä¸ªè§„åˆ™..æ€»ä¹‹æ˜¯æˆåŠŸäº†çš„.. æ‰“å¼€æ˜¯å¯†å¯†éº»éº»ä¸€å †è·Ÿæ§åˆ¶å°ä¸€æ ·çš„ã€infoã€‘çº§åˆ«çš„ä¿¡æ¯ï¼Œå› ä¸ºè¿™ä¸ªç³»ç»Ÿæœ¬èº«å°±æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å°±æ²¡æœ‰å¿…è¦å»æä»€ä¹ˆæ–‡æœ¬åˆ‡å‰²ä¹‹ç±»çš„ä¸œè¥¿äº†ï¼Œok..æ—¥å¿—ç®—æ˜¯é…ç½®å®Œæˆï¼› å®é™…æµ‹è¯•äº†ä¸€ä¸‹ï¼Œä¸Šçº¿ä¹‹åè‚¯å®šéœ€è¦è°ƒæ•´è¾“å‡ºçº§åˆ«çš„ï¼Œä¸ç„¶æ—¥å¿—æ–‡ä»¶å°±ä¼šç‰¹åˆ«å¤§â€¦ æ‹¦æˆªå™¨é…ç½®æˆ‘ä»¬éœ€è¦å¯¹åœ°å€è¿›è¡Œæ‹¦æˆªï¼Œå¯¹æ‰€æœ‰çš„/adminå¼€å¤´çš„åœ°å€è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œå› ä¸ºè¿™æ˜¯åå°ç®¡ç†çš„é»˜è®¤è®¿é—®åœ°å€å¼€å¤´ï¼Œè¿™æ˜¯å¿…é¡»è¿›è¡ŒéªŒè¯ä¹‹åæ‰èƒ½è®¿é—®çš„åœ°å€ï¼Œæ­£å¦‚ä¸Šé¢çš„RESTful APIsï¼Œè¿™é‡ŒåŒ…å«äº†ä¸€äº›å¢åŠ /åˆ é™¤/æ›´æ”¹/ç¼–è¾‘ä¸€ç±»çš„æ“ä½œï¼Œè€Œç»Ÿç»Ÿè¿™äº›æ“ä½œéƒ½æ˜¯ä¸èƒ½å¤Ÿå¼€æ”¾ç»™ç”¨æˆ·çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹è¿™äº›åœ°å€è¿›è¡Œæ‹¦æˆªï¼š ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºUserå®ä½“ç±»åšéªŒè¯è¿˜æ˜¯éœ€è¦æ·»åŠ sessionï¼Œä¸ç„¶ä¸å¥½å¼„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å¾—åˆ›å»ºä¸€ä¸ªå¸¸è§„çš„å®ä½“ï¼š public class User { private String username; private String password; /* getter and setter */ } ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ‹¦æˆªå™¨å¹¶ç»§æ‰¿HandlerInterceptoræ¥å£åœ¨ã€interceptorã€‘åŒ…ä¸‹æ–°å»ºä¸€ä¸ªã€BackInterceptorã€‘ç±»å¹¶ç»§æ‰¿HandlerInterceptoræ¥å£: public class BackInterceptor implements HandlerInterceptor { private static String username = \"wmyskxz\"; private static String password = \"123456\"; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { boolean flag = true; User user = (User) request.getSession().getAttribute(\"user\"); if (null == user) { flag = false; } else { // å¯¹ç”¨æˆ·è´¦å·è¿›è¡ŒéªŒè¯,æ˜¯å¦æ­£ç¡® if (user.getUsername().equals(username) &amp;&amp; user.getPassword().equals(password)) { flag = true; } else { flag = false; } } return flag; } } åœ¨æ‹¦æˆªå™¨ä¸­ï¼Œæˆ‘ä»¬ä»sessionä¸­å–å‡ºäº†userï¼Œå¹¶åˆ¤æ–­æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥å†™æ­»äº†ï¼ˆå¹¶æ²¡æœ‰æ›´æ”¹å¯†ç çš„éœ€æ±‚ï¼Œä½†éœ€è¦åŠ å¯†ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬å¹¶æ²¡æœ‰åšä»»ä½•çš„è·³è½¬æ“ä½œï¼ŒåŸå› å¾ˆç®€å•ï¼Œæ ¹æœ¬å°±ä¸éœ€è¦è·³è½¬ï¼Œå› ä¸ºè®¿é—®åå°çš„ç”¨æˆ·åªæœ‰æˆ‘ä¸€ä¸ªäººï¼Œæ‰€ä»¥åªéœ€è¦æˆ‘çŸ¥é“æ­£ç¡®çš„ç™»å½•åœ°å€å°±å¯ä»¥äº†â€¦ ç¬¬ä¸‰æ­¥ï¼šåœ¨é…ç½®ç±»ä¸­å¤å†™addInterceptorsæ–¹æ³•åˆšæ‰æˆ‘ä»¬åœ¨è®¾ç½®ç¼–ç çš„æ—¶å€™è‡ªå·±åˆ›å»ºäº†ä¸€ä¸ªç»§æ‰¿è‡ªWebMvcConfigurerAdapterçš„è®¾ç½®ç±»ï¼Œæˆ‘ä»¬éœ€è¦å¤å†™å…¶ä¸­çš„addInterceptorsæ–¹æ³•æ¥ä¸ºæˆ‘ä»¬çš„æ‹¦æˆªå™¨æ·»åŠ é…ç½®ï¼š @Override public void addInterceptors(InterceptorRegistry registry) { // addPathPatterns ç”¨äºæ·»åŠ æ‹¦æˆªè§„åˆ™ // excludePathPatterns ç”¨æˆ·æ’é™¤æ‹¦æˆª registry.addInterceptor(new BackInterceptor()).addPathPatterns(\"/admin/**\").excludePathPatterns(\"/toLogin\"); super.addInterceptors(registry); } è¯´æ˜ï¼šè¿™ä¸ªæ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œé€šè¿‡åœ¨addPathPatternsä¸­æ·»åŠ æ‹¦æˆªè§„åˆ™ï¼ˆè¿™é‡Œè®¾ç½®æ‹¦æˆª/adminå¼€å¤´çš„æ‰€æœ‰åœ°å€ï¼‰ï¼Œå¹¶é€šè¿‡excludePathPatternsæ¥æ’é™¤æ‹¦æˆªçš„åœ°å€ï¼ˆè¿™é‡Œä¸º/toLoginï¼Œå³ç™»å½•åœ°å€ï¼Œåˆ°æ—¶å€™æˆ‘å¯ä»¥å¼„å¾—å¤æ‚éšè”½ä¸€ç‚¹å„¿ï¼‰ ç¬¬å››æ­¥ï¼šé…ç½®ç™»å½•é¡µé¢ä»¥å‰æˆ‘ä»¬åœ¨å†™Spring MVCçš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦è®¿é—®ä¸€ä¸ªé¡µé¢ï¼Œå¿…é¡»è¦åœ¨Controllerä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•è·³è½¬åˆ°ç›¸åº”çš„é¡µé¢æ‰å¯ä»¥ï¼Œä½†æ˜¯åœ¨SpringBootä¸­å¢åŠ äº†æ›´åŠ æ–¹ä¾¿å¿«æ·çš„æ–¹æ³•ï¼š /** * ä»¥å‰è¦è®¿é—®ä¸€ä¸ªé¡µé¢éœ€è¦å…ˆåˆ›å»ºä¸ªControlleræ§åˆ¶ç±»ï¼Œåœ¨å†™æ–¹æ³•è·³è½¬åˆ°é¡µé¢ * åœ¨è¿™é‡Œé…ç½®åå°±ä¸éœ€è¦é‚£ä¹ˆéº»çƒ¦äº†ï¼Œç›´æ¥è®¿é—®http://localhost:8080/toLoginå°±è·³è½¬åˆ°login.htmlé¡µé¢äº† * * @param registry */ @Override public void addViewControllers(ViewControllerRegistry registry) { registry.addViewController(\"/admin/login\").setViewName(\"login.html\"); super.addViewControllers(registry); } æ³¨æ„ï¼šlogin.htmlè®°å¾—è¦æ”¾åœ¨ã€templatesã€‘ä¸‹æ‰ä¼šç”Ÿæ•ˆå“¦â€¦ï¼ˆæˆ‘è¯•è¿‡ä½¿ç”¨loginç»‘å®šè§†å›¾åä¸æˆåŠŸï¼Œåªèƒ½å†™å…¨äº†â€¦ï¼‰ è®¿é—®æ—¥å¿—è®°å½•ä¸Šé¢æˆ‘ä»¬è®¾ç½®äº†è®¿é—®é™åˆ¶çš„æ‹¦æˆªå™¨ï¼Œå¯¹åå°è®¿é—®è¿›è¡Œäº†é™åˆ¶ï¼Œè¿™æ˜¯æ‹¦æˆªå™¨çš„å¥½å¤„ï¼Œæˆ‘ä»¬åŒæ ·ä¹Ÿä½¿ç”¨æ‹¦æˆªå™¨å¯¹äºè®¿é—®æ•°é‡è¿›è¡Œä¸€ä¸ªç»Ÿè®¡ ç¬¬ä¸€æ­¥ï¼šç¼–å†™å‰å°è®¿é—®æ‹¦æˆªå™¨å¯¹ç…§ç€æ•°æ®åº“çš„è®¾è®¡ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜çš„ä¿¡æ¯éƒ½ä»requestå¯¹è±¡ä¸­å»è·å–ï¼Œç„¶åä¿å­˜åˆ°æ•°æ®åº“ä¸­å³å¯ï¼Œä»£ç ä¹Ÿå¾ˆç®€å•ï¼š public class ForeInterceptor implements HandlerInterceptor { @Autowired SysService sysService; private SysLog sysLog = new SysLog(); private SysView sysView = new SysView(); @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { // è®¿é—®è€…çš„IP String ip = request.getRemoteAddr(); // è®¿é—®åœ°å€ String url = request.getRequestURL().toString(); //å¾—åˆ°ç”¨æˆ·çš„æµè§ˆå™¨å String userbrowser = BrowserUtil.getOsAndBrowserInfo(request); // ç»™SysLogå¢åŠ å­—æ®µ sysLog.setIp(StringUtils.isEmpty(ip) ? \"0.0.0.0\" : ip); sysLog.setOperateBy(StringUtils.isEmpty(userbrowser) ? \"è·å–æµè§ˆå™¨åå¤±è´¥\" : userbrowser); sysLog.setOperateUrl(StringUtils.isEmpty(url) ? \"è·å–URLå¤±è´¥\" : url); // å¢åŠ è®¿é—®é‡ sysView.setIp(StringUtils.isEmpty(ip) ? \"0.0.0.0\" : ip); sysService.addView(sysView); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { HandlerMethod handlerMethod = (HandlerMethod) handler; Method method = handlerMethod.getMethod(); // ä¿å­˜æ—¥å¿—ä¿¡æ¯ sysLog.setRemark(method.getName()); sysService.addLog(sysLog); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { } } æ³¨æ„ï¼šä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯æµ‹è¯•çš„æ—¶å€™åˆ«æŠŠæ‹¦æˆªå™¨å¼€äº†ï¼ˆä¸»è¦æ˜¯postHandleæ–¹æ³•ä¸­ä¸­æ— æ³•å¼ºè½¬handlerï¼‰ï¼Œä¸ç„¶ä¸æ–¹ä¾¿æµ‹è¯•â€¦ BrowserUtilæ˜¯æ‰¾çš„ç½‘ä¸Šçš„ä¸€æ®µä»£ç ï¼Œç›´æ¥é»è´´å¤åˆ¶æ”¾ã€utilã€‘åŒ…ä¸‹å°±å¯ä»¥äº†ï¼š /** * ç”¨äºä»Requestè¯·æ±‚ä¸­è·å–åˆ°å®¢æˆ·ç«¯çš„è·å–æ“ä½œç³»ç»Ÿ,æµè§ˆå™¨åŠæµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ * * @author:wmyskxz * @create:2018-06-21-ä¸Šåˆ 8:40 */ public class BrowserUtil { /** * è·å–æ“ä½œç³»ç»Ÿ,æµè§ˆå™¨åŠæµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ * * @param request * @return */ public static String getOsAndBrowserInfo(HttpServletRequest request) { String browserDetails = request.getHeader(\"User-Agent\"); String userAgent = browserDetails; String user = userAgent.toLowerCase(); String os = \"\"; String browser = \"\"; //=================OS Info======================= if (userAgent.toLowerCase().indexOf(\"windows\") >= 0) { os = \"Windows\"; } else if (userAgent.toLowerCase().indexOf(\"mac\") >= 0) { os = \"Mac\"; } else if (userAgent.toLowerCase().indexOf(\"x11\") >= 0) { os = \"Unix\"; } else if (userAgent.toLowerCase().indexOf(\"android\") >= 0) { os = \"Android\"; } else if (userAgent.toLowerCase().indexOf(\"iphone\") >= 0) { os = \"IPhone\"; } else { os = \"UnKnown, More-Info: \" + userAgent; } //===============Browser=========================== if (user.contains(\"edge\")) { browser = (userAgent.substring(userAgent.indexOf(\"Edge\")).split(\" \")[0]).replace(\"/\", \"-\"); } else if (user.contains(\"msie\")) { String substring = userAgent.substring(userAgent.indexOf(\"MSIE\")).split(\";\")[0]; browser = substring.split(\" \")[0].replace(\"MSIE\", \"IE\") + \"-\" + substring.split(\" \")[1]; } else if (user.contains(\"safari\") &amp;&amp; user.contains(\"version\")) { browser = (userAgent.substring(userAgent.indexOf(\"Safari\")).split(\" \")[0]).split(\"/\")[0] + \"-\" + (userAgent.substring(userAgent.indexOf(\"Version\")).split(\" \")[0]).split(\"/\")[1]; } else if (user.contains(\"opr\") || user.contains(\"opera\")) { if (user.contains(\"opera\")) { browser = (userAgent.substring(userAgent.indexOf(\"Opera\")).split(\" \")[0]).split(\"/\")[0] + \"-\" + (userAgent.substring(userAgent.indexOf(\"Version\")).split(\" \")[0]).split(\"/\")[1]; } else if (user.contains(\"opr\")) { browser = ((userAgent.substring(userAgent.indexOf(\"OPR\")).split(\" \")[0]).replace(\"/\", \"-\")) .replace(\"OPR\", \"Opera\"); } } else if (user.contains(\"chrome\")) { browser = (userAgent.substring(userAgent.indexOf(\"Chrome\")).split(\" \")[0]).replace(\"/\", \"-\"); } else if ((user.indexOf(\"mozilla/7.0\") > -1) || (user.indexOf(\"netscape6\") != -1) || (user.indexOf(\"mozilla/4.7\") != -1) || (user.indexOf(\"mozilla/4.78\") != -1) || (user.indexOf(\"mozilla/4.08\") != -1) || (user.indexOf(\"mozilla/3\") != -1)) { browser = \"Netscape-?\"; } else if (user.contains(\"firefox\")) { browser = (userAgent.substring(userAgent.indexOf(\"Firefox\")).split(\" \")[0]).replace(\"/\", \"-\"); } else if (user.contains(\"rv\")) { String IEVersion = (userAgent.substring(userAgent.indexOf(\"rv\")).split(\" \")[0]).replace(\"rv:\", \"-\"); browser = \"IE\" + IEVersion.substring(0, IEVersion.length() - 1); } else { browser = \"UnKnown, More-Info: \" + userAgent; } return os + \"-\" + browser; } } ç¬¬äºŒæ­¥ï¼šè®¾ç½®æ‹¦æˆªåœ°å€è¿˜æ˜¯åœ¨åˆšæ‰çš„é…ç½®ç±»ä¸­ï¼Œæ–°å¢è¿™ä¹ˆä¸€æ¡ï¼š @Override public void addInterceptors(InterceptorRegistry registry) { // addPathPatterns ç”¨äºæ·»åŠ æ‹¦æˆªè§„åˆ™ // excludePathPatterns ç”¨æˆ·æ’é™¤æ‹¦æˆª registry.addInterceptor(new BackInterceptor()).addPathPatterns(\"/admin/**\").excludePathPatterns(\"/toLogin\"); registry.addInterceptor(getForeInterceptor()).addPathPatterns(\"/**\").excludePathPatterns(\"/toLogin\",\"/admin/**\"); super.addInterceptors(registry); } è®¾ç½®é»˜è®¤é”™è¯¯é¡µé¢åœ¨SpringBootä¸­ï¼Œé»˜è®¤çš„é”™è¯¯é¡µé¢æ¯”è¾ƒä¸‘ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è‡ªå·±æ”¹å¾—ç¨å¾®å¥½çœ‹ä¸€ç‚¹å„¿ï¼Œå…·ä½“çš„æ•™ç¨‹åœ¨è¿™é‡Œï¼šhttp://tengj.top/2018/05/16/springboot13/ ï¼Œæˆ‘å°±æå‰å°çš„æ—¶å€™å†å»å¼„äº†â€¦ Service å±‚å¼€å‘ è¿™æ˜¯çº ç»“æœ€ä¹…åº”è¯¥æ€ä¹ˆå†™çš„ï¼Œä¸€å¼€å§‹æˆ‘è¿˜å‡†å¤‡è€è€å®å®åœ°åˆ©ç”¨MyBatisé€†å‘å·¥ç¨‹ç”Ÿæˆçš„ä¸€å †ä¸œè¥¿å»ç»™æ¯ä¸€ä¸ªå®ä½“åˆ›å»ºä¸€ä¸ªServiceçš„ï¼Œè¿™æ ·å…¶å®å°±åªæ˜¯å¯¹Daoå±‚è¿›è¡Œäº†ä¸€å±‚ä¸å¿…è¦çš„å°è£…è€Œå·²ï¼Œç„¶åé€šè¿‡åˆ†æå…¶å®ä¸»è¦çš„ä¸šåŠ¡ä¹Ÿå°±åˆ†æˆå‡ ä¸ªï¼šæ–‡ç« /è¯„è®º/åˆ†ç±»/æ—¥å¿—æµè§ˆé‡è¿™å››ä¸ªéƒ¨åˆ†è€Œå·²ï¼Œæ‰€ä»¥åˆ›å»ºè¿™å››ä¸ªServiceå°±å¥½äº†ï¼› æ¯”è¾ƒç¥å¥‡çš„äº‹æƒ…æ˜¯åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€ç§é€šç”¨Mapperçš„æœ€ä½³å®è·µæ–¹æ³•ï¼Œæ•´ä¸ªäººéƒ½æƒŠäº†ï¼Œâ€œwtf?è¿˜å¯ä»¥è¿™æ ·å†™å“¦ï¼Ÿâ€ï¼Œèµ„æ–™å¦‚ä¸‹ï¼šhttp://tengj.top/2017/12/20/springboot11/ emmmm..æˆ‘ä»¬é€šè¿‡MyBatisçš„é€†å‘å·¥ç¨‹ï¼Œå·²ç»å¾ˆå¤§ç¨‹åº¦ä¸Šç®€åŒ–äº†æˆ‘ä»¬çš„å¼€å‘ï¼Œå› ä¸ºåœ¨Daoå±‚æˆ‘ä»¬å·²ç»å…å»äº†è‡ªå·±å†™SQLè¯­å¥ï¼Œè‡ªå·±å†™å®ä½“ï¼Œè‡ªå·±å†™XMLæ˜ å°„æ–‡ä»¶çš„éº»çƒ¦ï¼Œä½†åœ¨Serviceå±‚æˆ‘ä»¬ä»ç„¶æ— å¯é¿å…çš„è¦å†™ä¸€äº›ç±»ä¼¼åŠŸèƒ½çš„ä»£ç ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•èƒ½æŠŠè¿™äº›æ¯”è¾ƒé€šç”¨çš„æ–¹æ³•ç»™æå–å‡ºæ¥å‘¢ï¼Ÿ ç­”æ¡ˆå°±åœ¨ä¸Šé¢çš„é“¾æ¥ä¸­ï¼Œohï¼Œç®€ç›´å¤ªé…·äº†â€¦æˆ‘å†³å®šåœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹â€¦ é€šç”¨æ¥å£å¼€å‘åœ¨Spring4ä¸­ï¼Œç”±äºæ”¯æŒäº†æ³›å‹æ³¨è§£ï¼Œå†ç»“åˆé€šç”¨Mapperï¼Œæˆ‘ä»¬çš„æƒ³æ³•å¾—åˆ°äº†ä¸€ä¸ªæœ€ä½³çš„å®è·µæ–¹æ³•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è®²è§£ä¸€ä¸‹ï¼š ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé€šç”¨æ¥å£æˆ‘ä»¬æŠŠä¸€äº›å¸¸è§çš„ï¼Œé€šç”¨çš„æ–¹æ³•ç»Ÿä¸€ä½¿ç”¨æ³›å‹å°è£…åœ¨ä¸€ä¸ªé€šç”¨æ¥å£ä¹‹ä¸­ï¼š /** * é€šç”¨æ¥å£ * * @author: wmyskxz * @create: 2018å¹´6æœˆ15æ—¥10:27:04 */ public interface IService&lt;T> { T selectByKey(Object key); int save(T entity); int delete(Object key); int updateAll(T entity); int updateNotNull(T entity); List&lt;T> selectByExample(Object example); } ç¬¬äºŒæ­¥ï¼šå®ç°é€šç”¨æ¥å£ç±»/** * é€šç”¨Service * * @param &lt;T> */ public abstract class BaseService&lt;T> implements IService&lt;T> { @Autowired protected Mapper&lt;T> mapper; public Mapper&lt;T> getMapper() { return mapper; } /** * è¯´æ˜ï¼šæ ¹æ®ä¸»é”®å­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œæ–¹æ³•å‚æ•°å¿…é¡»åŒ…å«å®Œæ•´çš„ä¸»é”®å±æ€§ï¼ŒæŸ¥è¯¢æ¡ä»¶ä½¿ç”¨ç­‰å· * * @param key * @return */ @Override public T selectByKey(Object key) { return mapper.selectByPrimaryKey(key); } /** * è¯´æ˜ï¼šä¿å­˜ä¸€ä¸ªå®ä½“ï¼Œnullçš„å±æ€§ä¹Ÿä¼šä¿å­˜ï¼Œä¸ä¼šä½¿ç”¨æ•°æ®åº“é»˜è®¤å€¼ * * @param entity * @return */ @Override public int save(T entity) { return mapper.insert(entity); } /** * è¯´æ˜ï¼šæ ¹æ®ä¸»é”®å­—æ®µè¿›è¡Œåˆ é™¤ï¼Œæ–¹æ³•å‚æ•°å¿…é¡»åŒ…å«å®Œæ•´çš„ä¸»é”®å±æ€§ * * @param key * @return */ @Override public int delete(Object key) { return mapper.deleteByPrimaryKey(key); } /** * è¯´æ˜ï¼šæ ¹æ®ä¸»é”®æ›´æ–°å®ä½“å…¨éƒ¨å­—æ®µï¼Œnullå€¼ä¼šè¢«æ›´æ–° * * @param entity * @return */ @Override public int updateAll(T entity) { return mapper.updateByPrimaryKey(entity); } /** * æ ¹æ®ä¸»é”®æ›´æ–°å±æ€§ä¸ä¸ºnullçš„å€¼ * * @param entity * @return */ @Override public int updateNotNull(T entity) { return mapper.updateByPrimaryKeySelective(entity); } /** * è¯´æ˜ï¼šæ ¹æ®Exampleæ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ * é‡ç‚¹ï¼šè¿™ä¸ªæŸ¥è¯¢æ”¯æŒé€šè¿‡Exampleç±»æŒ‡å®šæŸ¥è¯¢åˆ—ï¼Œé€šè¿‡selectPropertiesæ–¹æ³•æŒ‡å®šæŸ¥è¯¢åˆ— * * @param example * @return */ @Override public List&lt;T> selectByExample(Object example) { return mapper.selectByExample(example); } } è‡³æ­¤å‘¢ï¼Œæˆ‘ä»¬çš„é€šç”¨æ¥å£å°±å¼€å‘å®Œæˆäº† ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨é€šç”¨æ¥å£ç¼–å†™å¥½æˆ‘ä»¬çš„é€šç”¨æ¥å£ä¹‹åï¼Œä½¿ç”¨å°±å˜å¾—å¾ˆæ–¹ä¾¿äº†ï¼Œåªéœ€è¦ç»§æ‰¿ç›¸åº”çš„é€šç”¨æ¥å£æˆ–è€…é€šç”¨æ¥å£å®ç°ç±»ï¼Œç„¶åè¿›è¡Œç®€å•çš„å°è£…å°±è¡Œäº†ï¼Œä¸‹é¢ä»¥SortInfoä¸ºä¾‹ï¼š public interface SortInfoService extends IService&lt;SortInfo> { } ========================åˆ†å‰²çº¿======================== /** * åˆ†ç±»ä¿¡æ¯Service * * @author:wmyskxz * @create:2018-06-15-ä¸Šåˆ 11:14 */ @Service public class SortInfoServiceImpl extends BaseService&lt;SortInfo> implements SortInfoService { } å¯¹åº”åˆ°SortInfoçš„RESTful APIè®¾è®¡ï¼Œè¿™æ ·ç®€å•çš„ç»§æ‰¿å°±èƒ½å¤Ÿå¾ˆå¥½çš„æ”¯æŒï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨æœ€åŸå§‹çš„æ–¹å¼æ¥åˆ›å»ºå§â€¦ Serviceæ¥å£ç”³æ˜æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œé—®äº†ä¸€ä¸‹å®ä¹ å…¬å¸çš„å‰è¾ˆè€å¸ˆï¼Œå¹¶ä¸”æ ¹æ®æˆ‘ä»¬ä¹‹å‰è®¾è®¡å¥½çš„RESTful APIsï¼Œæˆ‘ä»¬å¾ˆæœ‰å¿…è¦æä¸€ä¸ªdtoå±‚ç”¨äºå‰åç«¯ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œè¿™ä¸€å±‚ä¸»è¦æ˜¯å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œä¸€ä¸ªå°è£…æ•´åˆï¼Œä¹Ÿæ–¹ä¾¿å‰åç«¯çš„æ•°æ®äº¤äº’ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆå°±éœ€è¦åˆ†æåœ¨dtoå±‚ä¸­åº”è¯¥å­˜åœ¨å“ªäº›æ•°æ®ï¼š DTOå±‚å¼€å‘å¯¹åº”æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘å’ŒRESTful APIsï¼Œæˆ‘å¤§æ¦‚å¼„äº†ä¸‹é¢å‡ ä¸ªDtoï¼š â‘  ArticleDtoï¼š è¯¥Dtoå°è£…äº†æ–‡ç« çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯¹åº”RESTful APIä¸­çš„/api/article/{id}â€”â€”é€šè¿‡æ–‡ç« IDè·å–æ–‡ç« ä¿¡æ¯ /** * æ–‡ç« ä¿¡æ¯ç±» * è¯´æ˜ï¼šå…³è”äº†tbl_article_info/tbl_article_content/tbl_article_category/tbl_category_info/ * tbl_article_pictureäº”å¼ è¡¨çš„åŸºç¡€å­—æ®µ * * @author:wmyskxz * @create:2018-06-19-ä¸‹åˆ 14:13 */ public class ArticleDto { // tbl_article_infoåŸºç¡€å­—æ®µ private Long id; private String title; private String summary; private Boolean isTop; private Integer traffic; // tbl_article_contentåŸºç¡€å­—æ®µ private Long articleContentId; private String content; // tbl_category_infoåŸºç¡€å­—æ®µ private Long categoryId; private String categoryName; private Byte categoryNumber; // tbl_article_categoryåŸºç¡€å­—æ®µ private Long articleCategoryId; // tbl_article_pictureåŸºç¡€å­—æ®µ private Long articlePictureId; private String pictureUrl; /* getter and setter */ } â‘¡ArticleCommentDtoï¼š è¯¥Dtoå°è£…çš„äº‹æ–‡ç« çš„è¯„è®ºä¿¡æ¯ï¼Œå¯¹åº”/api/comment/article/{id}â€”â€”é€šè¿‡æ–‡ç« IDè·å–æŸä¸€ç¯‡æ–‡ç« çš„å…¨éƒ¨è¯„è®ºä¿¡æ¯ /** * æ–‡ç« è¯„è®ºä¿¡æ¯ * è¯´æ˜ï¼šå…³è”äº†tbl_commentå’Œtbl_article_commentä¸¤å¼ è¡¨çš„ä¿¡æ¯ * * @author:wmyskxz * @create:2018-06-19-ä¸‹åˆ 14:09 */ public class ArticleCommentDto { // tbl_commentåŸºç¡€å­—æ®µ private Long id; // è¯„è®ºid private String content; // è¯„è®ºå†…å®¹ private String name; // ç”¨æˆ·è‡ªå®šä¹‰çš„æ˜¾ç¤ºåç§° private String email; private String ip; // tbl_article_commentåŸºç¡€å­—æ®µ private Long articleCommentId; // tbl_article_commentä¸»é”® private Long articleId; // æ–‡ç« ID /* getter and setter */ } â‘¢ArticleCategoryDtoï¼š è¯¥Dtoæ˜¯å°è£…äº†æ–‡ç« çš„ä¸€äº›åˆ†ç±»ä¿¡æ¯ï¼Œå¯¹åº”/admin/category/{id}â€”â€”è·å–æŸä¸€ç¯‡æ–‡ç« çš„åˆ†ç±»ä¿¡æ¯ /** * æ–‡ç« åˆ†ç±»ä¼ è¾“å¯¹è±¡ * è¯´æ˜ï¼šå…³è”äº†tbl_article_categoryå’Œtbl_category_infoä¸¤å¼ è¡¨çš„æ•°æ® * * @author:wmyskxz * @create:2018-06-20-ä¸Šåˆ 8:45 */ public class ArticleCategoryDto { // tbl_article_categoryè¡¨åŸºç¡€å­—æ®µ private Long id; // tbl_article_categoryè¡¨ä¸»é”® private Long categoryId; // åˆ†ç±»ä¿¡æ¯ID private Long articleId; // æ–‡ç« ID // tbl_category_infoè¡¨åŸºç¡€å­—æ®µ private String name; // åˆ†ç±»ä¿¡æ¯æ˜¾ç¤ºåç§° private Byte number; // è¯¥åˆ†ç±»ä¸‹å¯¹åº”çš„æ–‡ç« æ•°é‡ /* getter and setter */ } â‘£ArticleWithPictureDtoï¼š è¯¥Dtoå°è£…äº†æ–‡ç« ç”¨äºæ˜¾ç¤ºçš„åŸºæœ¬ä¿¡æ¯ï¼Œå¯¹åº”æ‰€æœ‰çš„è·å–æ–‡ç« é›†åˆçš„RESful APIs /** * å¸¦é¢˜å›¾ä¿¡æ¯çš„æ–‡ç« åŸºç¡€ä¿¡æ¯åˆ†è£…ç±» * * @author:wmyskxz * @create:2018-06-19-ä¸‹åˆ 14:53 */ public class ArticleWithPictureDto { // tbl_article_infoåŸºç¡€å­—æ®µ private Long id; private String title; private String summary; private Boolean isTop; private Integer traffic; // tbl_article_pictureåŸºç¡€å­—æ®µ private Long articlePictureId; private String pictureUrl; /* getter and setter */ } Serviceæ¥å£å¼€å‘Serviceå±‚å…¶å®å°±æ˜¯å¯¹æˆ‘ä»¬ä¸šåŠ¡çš„ä¸€ä¸ªå°è£…ï¼Œæ‰€ä»¥æœ‰äº†RESTful APIsæ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“çš„å†™å‡ºå¯¹åº”çš„ä¸šåŠ¡æ¨¡å—ï¼š æ–‡ç« Service/** * æ–‡ç« Service * è¯´æ˜ï¼šArticleInfoé‡Œé¢å°è£…äº†picture/content/categoryç­‰ä¿¡æ¯ */ public interface ArticleService { void addArticle(ArticleDto articleDto); void deleteArticleById(Long id); void updateArticle(ArticleDto articleDto); void updateArticleCategory(Long articleId, Long categoryId); ArticleDto getOneById(Long id); ArticlePicture getPictureByArticleId(Long id); List&lt;ArticleWithPictureDto> listAll(); List&lt;ArticleWithPictureDto> listByCategoryId(Long id); List&lt;ArticleWithPictureDto> listLastest(); } åˆ†ç±»Service/** * åˆ†ç±»Service */ public interface CategoryService { void addCategory(CategoryInfo categoryInfo); void deleteCategoryById(Long id); void updateCategory(CategoryInfo categoryInfo); void updateArticleCategory(ArticleCategory articleCategory); CategoryInfo getOneById(Long id); List&lt;CategoryInfo> listAllCategory(); ArticleCategoryDto getCategoryByArticleId(Long id); } ç•™è¨€Service/** * ç•™è¨€çš„Service */ public interface CommentService { void addComment(Comment comment); void addArticleComment(ArticleCommentDto articleCommentDto); void deleteCommentById(Long id); void deleteArticleCommentById(Long id); List&lt;Comment> listAllComment(); List&lt;ArticleCommentDto> listAllArticleCommentById(Long id); } ç³»ç»ŸService/** * æ—¥å¿—/è®¿é—®ç»Ÿè®¡ç­‰ç³»ç»Ÿç›¸å…³Service */ public interface SysService { void addLog(SysLog sysLog); void addView(SysView sysView); int getLogCount(); int getViewCount(); List&lt;SysLog> listAllLog(); List&lt;SysView> listAllView(); } Controller å±‚å¼€å‘Controllerå±‚ç®€å•ç†è§£çš„è¯ï¼Œå°±æ˜¯ç”¨æ¥è·å–æ•°æ®çš„ï¼Œæ‰€ä»¥åªè¦Serviceå±‚å¼€å‘å¥½äº†Controllerå±‚å°±å¾ˆå®¹æ˜“ï¼Œå°±ä¸å¤šè¯´äº†ï¼Œåªæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å…¬ç”¨çš„ä¸œè¥¿æ”¾åˆ°ä¸€ä¸ªBaseControllerä¸­ï¼Œæ¯”å¦‚å¼•å…¥Serviceï¼š /** * åŸºç¡€æ§åˆ¶å™¨ * * @author:wmyskxz * @create:2018-06-19-ä¸Šåˆ 11:25 */ public class BaseController { @Autowired ArticleService articleService; @Autowired CommentService commentService; @Autowired CategoryService categoryService; } ç„¶åå‰åå°çš„æ§åˆ¶å™¨åªéœ€è¦ç»§æ‰¿è¯¥ç±»å°±è¡Œäº†ï¼Œè¿™æ ·çš„æ–¹å¼éå¸¸å€¼å¾—å€Ÿé‰´çš„ï¼Œåªæ˜¯å› ä¸ºè¿™ä¸ªç³»ç»Ÿæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥è¿™ä¸ªBaseControllerï¼Œæˆ‘çœ‹è¿‡ä¸€äº›æºç ï¼Œå¯ä»¥åœ¨é‡Œé¢å¼„ä¸€ä¸ªé€šç”¨çš„ç”¨äºè¿”å›æ•°æ®çš„æ–¹æ³•ï¼Œæ¯”å¦‚åˆ†é¡µæ•°æ®/é”™è¯¯ä¿¡æ¯ä¹‹ç±»çš„ï¼› è®°å½•å‘1ï¼‰MyBatisä¸­Textç±»å‹çš„å‘æŒ‰ç…§ã€Šé˜¿é‡Œæ‰‹å†Œã€‹ï¼ˆç®€ç§°ï¼‰ä¸Šæ‰€è§„èŒƒçš„é‚£æ ·ï¼Œæˆ‘æŠŠæ–‡ç« çš„contentå•ç‹¬å¼„æˆäº†ä¸€å¼ è¡¨å¹¶ä¸”å°†è¿™ä¸ªâ€œå¯èƒ½å¾ˆé•¿â€çš„å­—æ®µçš„ç±»å‹è®¾ç½®æˆäº†textç±»å‹ï¼Œä½†æ˜¯MyBatisé€†å‘å·¥ç¨‹è‡ªåŠ¨ç”Ÿæˆçš„æ—¶å€™ï¼Œå´æŠŠè¿™ä¸ªtextç±»å‹çš„å­—æ®µå•ç‹¬ç»™åˆ—äº†å‡ºå»ï¼Œå³åœ¨ç”Ÿæˆçš„xmlä¸­å¤šå‡ºäº†ä¸€ä¸ª&lt;resultMap&gt;ï¼Œæ ‡è¯†idä¸ºResultMapWithBLOBsï¼ŒMyBatisè¿™æ ·åšå¯èƒ½çš„åŸå› è¿˜æ˜¯æ€•è¿™ä¸ªå­—æ®µå¤ªé•¿å½±å“å‰é¢çš„å­—æ®µæŸ¥è¯¢å§ï¼Œä½†æ˜¯æ“ä½œè¿™æ ·çš„LONGVARCHARç±»å‹çš„å­—æ®µMyBatiså¥½åƒå¹¶æ²¡æœ‰é›†æˆå¾ˆå¥½ï¼Œæ‰€ä»¥æƒ³è¦å¾ˆå¥½çš„æ“ä½œè¿˜æ˜¯éœ€è¦ç»™å®ƒå¼„æˆVARCHARç±»å‹æ‰è¡Œï¼› åœ¨generatorConfig.xmlä¸­é…ç½®ç”Ÿæˆå­—æ®µçš„æ—¶å€™åŠ ä¸Šè¿™æ ·ä¸€å¥è¯å°±å¥½äº†ï¼š &lt;table domainObjectName=\"ArticleContent\" tableName=\"tbl_article_content\"> &lt;columnOverride column=\"content\" javaType=\"java.lang.String\" jdbcType=\"VARCHAR\" /> &lt;/table> 2ï¼‰æ‹¦æˆªå™¨ä¸­Serviceæ³¨å…¥ä¸ºnullçš„å‘åœ¨ç¼–å†™å‰å°æ‹¦æˆªå™¨çš„æ—¶å€™ï¼Œæˆ‘ä½¿ç”¨@Autowiredæ³¨è§£è‡ªåŠ¨æ³¨å…¥äº†SysServiceç³»ç»ŸæœåŠ¡Serviceï¼Œä½†æ˜¯å´æŠ¥nullpointerçš„é”™ï¼Œå‘ç°æ˜¯æ²¡æœ‰è‡ªåŠ¨æ³¨å…¥ä¸Šï¼ŒSysServiceä¸ºç©º..è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ’é™¤æ‰æ³¨è§£æ²¡æœ‰è¯†åˆ«æˆ–è€…æ²¡æœ‰ç»™Serviceæ·»åŠ ä¸Šæ³¨è§£çš„å¯èƒ½æ€§ä¹‹åï¼Œæˆ‘å‘ç°å¥½åƒæ˜¯æ‹¦æˆªå™¨æ‹¦æˆªçš„æ—¶å€™Serviceå¹¶æ²¡æœ‰åˆ›å»ºæˆåŠŸé€ æˆçš„ï¼Œå‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps://blog.csdn.net/slgxmh/article/details/51860278ï¼ŒæˆåŠŸè§£å†³é—®é¢˜ï¼š @Bean public HandlerInterceptor getForeInterceptor() { return new ForeInterceptor(); } @Override public void addInterceptors(InterceptorRegistry registry) { // addPathPatterns ç”¨äºæ·»åŠ æ‹¦æˆªè§„åˆ™ // excludePathPatterns ç”¨æˆ·æ’é™¤æ‹¦æˆª registry.addInterceptor(new BackInterceptor()).addPathPatterns(\"/admin/**\").excludePathPatterns(\"/toLogin\"); registry.addInterceptor(getForeInterceptor()).addPathPatterns(\"/**\").excludePathPatterns(\"/toLogin\", \"/admin/**\"); super.addInterceptors(registry); } å…¶å®å°±æ˜¯æ·»åŠ ä¸Š@Beanæ³¨è§£è®©ForeInterceptoræå‰åŠ è½½ï¼› 3ï¼‰æ•°æ®åº“sys_logè¡¨ä¸­operate_byå­—æ®µçš„å‘å½“æ—¶è®¾è®¡è¡¨çš„æ—¶å€™ï¼Œå°±åªæ˜¯å•çº¯çš„æƒ³è¦ä¿å­˜ä¸€ä¸‹ç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨æ˜¯ä»€ä¹ˆï¼Œå…¶å®å½“æ—¶å¹¶ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆè·å–è·å–åˆ°çš„ä¸œè¥¿åˆæ˜¯ä»€ä¹ˆï¼Œåªæ˜¯è§‰å¾—ä¿å­˜æµè§ˆå™¨20ä¸ªå­—æ®µå¤Ÿäº†ï¼Œä½†åæ¥å‘ç°è¿™æ˜¯å¾ˆè ¢èŒçš„â€¦æ‰€ä»¥ä¸å¾—ä¸è°ƒæ•´æ•°æ®åº“çš„å­—æ®µé•¿åº¦ï¼Œå¥½åœ¨åªéœ€è¦å•æ–¹é¢è°ƒæ•´æ•°æ®åº“çš„å­—æ®µé•¿åº¦å°±å¥½äº†ï¼š 4ï¼‰ä¿å­˜æ–‡ç« çš„æ–¹å¼çš„å‘å› ä¸ºæˆ‘æƒ³è¦åœ¨æ•°æ®åº“ä¸­ä¿å­˜çš„æ˜¯mdæºç ï¼Œè€Œè¿”å›å‰å°å‰ç«¯å¸Œæœ›çš„æ˜¯ç›´æ¥æ‹¿åˆ°htmlä»£ç ï¼Œè¿™æ ·å°±èƒ½å¾ˆæ–¹ä¾¿çš„è¾“å‡ºäº†ï¼Œæ‰€ä»¥è¿™è¦æ€ä¹ˆåšå‘¢ï¼Ÿæ‰¾åˆ°ä¸€ç¯‡å‚è€ƒæ–‡ç« ï¼šhttps://my.oschina.net/u/566591/blog/1535380 æˆ‘ä»¬ä¸è¦æé‚£ä¹ˆå¤æ‚çš„å°è£…ï¼Œåªè¦ç®€å•å¼„ä¸€ä¸ªå·¥å…·ç±»å°±å¯ä»¥äº†ï¼Œåœ¨ã€utilã€‘åŒ…ä¸‹æ–°å»ºä¸€ä¸ªã€Markdown2HtmlUtilã€‘ï¼š /** * Markdownè½¬Htmlå·¥å…·ç±» * * @author:wmyskxz * @create:2018-06-21-ä¸Šåˆ 10:09 */ public class Markdown2HtmlUtil { /** * å°†markdownæºç è½¬æ¢æˆhtmlè¿”å› * * @param markdown mdæºç  * @return htmlä»£ç  */ public static String markdown2html(String markdown) { MutableDataSet options = new MutableDataSet(); options.setFrom(ParserEmulationProfile.MARKDOWN); options.set(Parser.EXTENSIONS, Arrays.asList(new Extension[]{TablesExtension.create()})); Parser parser = Parser.builder(options).build(); HtmlRenderer renderer = HtmlRenderer.builder(options).build(); Node document = parser.parse(markdown); return renderer.render(document); } } ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨è·å–ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™æŠŠArticleDtoé‡Œé¢çš„mdæºç è½¬æˆhtmlä»£ç å†è¿”å›ç»™å‰å°å°±å¥½äº†ï¼š /** * é€šè¿‡æ–‡ç« çš„IDè·å–å¯¹åº”çš„æ–‡ç« ä¿¡æ¯ * * @param id * @return è‡ªå·±å°è£…å¥½çš„æ–‡ç« ä¿¡æ¯ç±» */ @ApiOperation(\"é€šè¿‡æ–‡ç« IDè·å–æ–‡ç« ä¿¡æ¯\") @GetMapping(\"article/{id}\") public ArticleDto getArticleById(@PathVariable Long id) { ArticleDto articleDto = articleService.getOneById(id); articleDto.setContent(Markdown2HtmlUtil.markdown2html(articleDto.getContent())); return articleDto; } æ ·å¼ä¹‹ç±»çš„äº¤ç»™å‰å°å°±å¥½äº†ï¼Œæå®šâ€¦ ç®€å•æ€»ç»“å…³äºç»Ÿè®¡å•Šæ—¥å¿—ç±»çš„Controllerè¿˜æ²¡æœ‰å¼€å‘ï¼ŒRESful APIä¹Ÿæ²¡æœ‰è®¾è®¡ï¼Œè¿™é‡Œå°±å…ˆå‘å¸ƒæ–‡ç« äº†ï¼Œå› ä¸ºå¥½åƒæ—¶é—´æœ‰ç‚¹ç´§ï¼Œåå°çš„é¡µé¢æš‚æ—¶å¯èƒ½å¼€å‘ä¸å®Œï¼Œå‡†å¤‡ç›´æ¥å¼€å§‹å‰å°é¡µé¢æ˜¾ç¤ºçš„å¼€å‘ï¼ˆä¸»è¦æ˜¯è‡ªå·±å¯¹å‰ç«¯ä¸ç†Ÿæ‚‰è¿˜è¦å­¦ä¹ ..ï¼‰ï¼Œè¿™é‡Œå¯¹åå°è¿›è¡Œä¸€ä¸ªç®€å•çš„æ€»ç»“ï¼š å…¶å®å‘ç°å½“æ•°æ®åº“è®¾è®¡å¥½äº†ï¼ŒRESful APIsè®¾è®¡å¥½äº†ä¹‹åï¼Œåå°çš„ä»»åŠ¡å˜å¾—éå¸¸æ˜ç¡®ï¼Œå¼€å‘èµ·æ¥ä¹Ÿå°±æ€è·¯å¾ˆæ¸…æ™°äº†ï¼Œåªæ˜¯è‡ªå·±è¿˜æ˜¯ç¼ºå°‘ä¸€äº›å¿…è¦çš„ç»éªŒï¼Œå¦‚å¯¹ä¸€äº›é€šç”¨æ–¹æ³•çš„æŠ½è±¡/å±‚ä¸å±‚ä¹‹é—´æ•°æ®äº¤äº’çš„å…¸å‹è®¾è®¡ä¹‹ç±»çš„ä¸œè¥¿ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å®‰å…¨æ–¹é¢çš„ä¸œè¥¿ï¼Œç½‘ä¸Šçš„èµ„æ–™ä¹Ÿæ¯”è¾ƒå°‘ä¸€äº›ï¼Œä¹Ÿæ˜¯è‡ªå·±éœ€è¦å­¦ä¹ çš„åœ°æ–¹ï¼› æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€é¡¹ç›®å‡†å¤‡ã€‘","slug":"SpringBootæŠ€æœ¯æ ˆæ­å»ºä¸ªäººåšå®¢ã€é¡¹ç›®å‡†å¤‡ã€‘","date":"2018-06-13T22:36:00.000Z","updated":"2020-08-03T09:02:21.728Z","comments":true,"path":"2018/06/14/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-xiang-mu-zhun-bei/","link":"","permalink":"http://www.wmyskxz.com/2018/06/14/springboot-ji-zhu-zhan-da-jian-ge-ren-bo-ke-xiang-mu-zhun-bei/","excerpt":"","text":"å‰è¨€ï¼šå¾ˆæ—©ä¹‹å‰å°±æƒ³è¦å†™ä¸€ä¸ªè‡ªå·±çš„åšå®¢äº†ï¼Œè¶ç€ç°åœ¨å­¦æ ¡å®‰æ’çš„å®ä¹ æœ‰å¾ˆå¤šçš„ç©ºæ¡£ï¼Œå†³å®šæŠŠå®ƒç»™åšå‡ºæ¥ï¼Œä¹Ÿé¡ºä¾¿å®Œæˆå®ä¹ çš„ä»»åŠ¡ï¼ˆæä¸€ä¸ªé¡¹ç›®å‡ºæ¥â€¦ï¼‰ éœ€æ±‚åˆ†ææ€»ä½“ç›®æ ‡ï¼šè®¾è®¡ä¸€å¥—è‡ªé€‚åº”/ç®€æ´/ç¾è§‚/æ˜“äºæ–‡ç« ç®¡ç†å‘å¸ƒçš„ä¸€ä¸ªå±äºæˆ‘ä¸ªäººçš„åšå®¢ï¼Œæœ€åä¸€é¡µèƒ½å±•ç¤ºæˆ‘ä¸ªäººçš„ç®€å†ï¼Œå› ä¸ºå¤§ä¸‰å¿«ç»“æŸäº†é©¬ä¸Šå°±è¯¥å»æ‰¾å·¥ä½œäº†â€¦å“¦å¿˜äº†ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯è¦æ”¯æŒMarkdownæ‰è¡Œï¼Œå› ä¸ºå·²ç»ä¹ æƒ¯äº†â€¦ å‰ç«¯éœ€æ±‚åˆ†æé¦–å…ˆï¼Œå‰ç«¯çš„é¡µé¢è¦æ±‚æ˜¯ï¼š â‘ ç®€æ´/ç¾è§‚â€”â€”ä¸ªäººå¾ˆå–œæ¬¢åƒMacé‚£æ ·çš„ç®€æ´é£ï¼Œè¶Šç®€å•è¶Šå¥½ï¼Œå½“ç„¶ä¹Ÿå¾—å¥½çœ‹ï¼› â‘¡æœ€å¥½æ˜¯å•é¡µé¢â€”â€”å•é¡µé¢çš„ç›®çš„ä¸€æ–¹é¢æ˜¯ä¸ºäº†ç®€æ´ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯ä¸ºäº†å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼› â‘¢è‡ªé€‚åº”â€”â€”è‡³å°‘èƒ½é€‚é…å¸¸è§çš„æ‰‹æœºåˆ†è¾¨ç‡å§ï¼Œæˆ‘å¯ä¸å¸Œæœ›è‡ªå·±çš„åšå®¢å­˜åœ¨æ˜¾ç¤ºå·®å¼‚æ€§çš„é—®é¢˜ï¼› ç„¶åï¼Œæ€è€ƒäº†ä¸€ä¸‹å¯èƒ½å‡ºç°çš„é¡µé¢ï¼š 1ï¼‰é¦–é¡µï¼š æœ€æ–°çš„æ–‡ç« â€”â€”æˆ‘å¯ä»¥æä¸€ä¸ªè½®æ’­ä¹‹ç±»çš„ä¸œè¥¿ç”¨æ¥æ˜¾ç¤ºæœ€æ–°çš„å‡ ç¯‡åšæ–‡ï¼› é¡¶éƒ¨å¯¼èˆªâ€”â€”å¯¼èˆªæ å¯ä»¥è¦æœ‰ï¼Œè€Œä¸”å¯ä»¥æå‡ºæ¥ææˆé€šç”¨çš„ï¼› è”ç³»æ–¹å¼â€”â€”é¦–é¡µæœ€å¥½å†æœ‰èƒ½ä¸€çœ¼æ‰¾åˆ°æˆ‘çš„è”ç³»æ–¹å¼ï¼Œæ¯”å¦‚ç®€ä¹¦/åšå®¢å›­/å¾®ä¿¡å…¬ä¼—å·ä¹‹ç±»çš„ï¼› æ—¶é—´â€”â€”æ‘ï¼Œæ—¶é—´ï¼› 2ï¼‰æ–‡ç« é¡µï¼š åˆ†ç±»æ â€”â€”å·¦ä¾§åº”è¯¥æœ‰æ–‡ç« çš„åˆ†ç±»ï¼Œè®°å¾—è¦æœ‰ä¸€ä¸ªå…¨éƒ¨æ–‡ç« ï¼› æ–‡ç« åˆ—è¡¨â€”â€”åˆ†ç±»æ çš„å³è¾¹å°±åº”è¯¥æ˜¯è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ï¼› åˆ†é¡µæ â€”â€”è€ƒè™‘åˆ°ç°åœ¨æˆ‘çš„Java Webåˆ†æ ä¸‹çš„æ–‡ç« å·²ç»æœ‰é‚£ä¹ˆå¤šäº†ï¼Œè¿˜æ˜¯æœ‰å¿…è¦æä¸ªåˆ†é¡µï¼› 3ï¼‰ç®€å†é¡µï¼š è¿™æ˜¯é¢„ç•™çš„é¡µé¢ï¼Œåˆ°æ—¶å€™ç”¨æ¥æ˜¾ç¤ºä¸ªäººçš„ç®€å†ï¼› 4ï¼‰å…³äºé¡µï¼š ç”¨æ¥ä»‹ç»é¡¹ç›®çš„æ­å»ºç¼–å†™è¿‡ç¨‹ï¼Œè¿˜æœ‰ä½¿ç”¨çš„æŠ€æœ¯æ ˆå•Šä¹‹ç±»çš„ï¼Œç„¶åç•™ä¸‹ä¸ªäººçš„è”ç³»æ–¹å¼ï¼ŒNiceï¼› 5ï¼‰ç•™è¨€é¡µï¼š å› ä¸ºæ˜¯ä¸ªäººçš„åšå®¢ï¼Œæ‰€ä»¥æˆ‘å¹¶ä¸æƒ³è¦é™åˆ¶çœ‹å®˜ä»¬ç•™è¨€çš„æƒåˆ©ï¼Œæˆ‘å¸Œæœ›ä»–ä»¬èƒ½è‡ªå·±èƒ½å®šä¹‰ç”¨äºæ˜¾ç¤ºçš„ç”¨æˆ·åï¼Œä½†æ˜¯éœ€è¦å¡«å†™ä¸€ä¸ªEmailï¼Œä¸ç„¶æå¾—æˆ‘ä¸èƒ½å›å¤ï¼Œé‚£æä¸ªå•¥â€¦å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç•™Emailï¼Œä¹Ÿå°±æ˜¯ä¸å¸Œæœ›å¾—åˆ°å›å¤å‘—ï¼ˆé‚£å¯èƒ½æœ‰äº›ç•™è¨€ä¼šè®©æˆ‘éš¾å—æ­»å§..æ€è€ƒâ€¦ï¼‰â€¦ åå°éœ€æ±‚åˆ†æï¼šæœ€åˆçš„æ€è€ƒæ˜¯è¿™æ ·çš„ï¼š åæ¥ä¸€æƒ³ï¼Œæ–‡ç« ç½®é¡¶è¿™ä¸ªéƒ½ç»™å¿˜äº†â€¦ç„¶åå‘ç°å…¶å®æœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„é—®é¢˜å°±æ˜¯Markdownçš„æ–‡ç« åº”è¯¥æ€æ ·ä¿å­˜ï¼Ÿä¸€å¼€å§‹è¿˜æ˜¯æƒ³è¦ä¿å­˜ä¸º.mdæ–‡ä»¶ä¿å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸Šçš„ï¼Œä½†æƒ³æƒ³ç›´æ¥ä¿å­˜åœ¨æ•°æ®åº“é‡Œä¹Ÿä¸é”™ï¼Œçœçš„éº»çƒ¦ï¼Œè€Œä¸”æˆ‘å¾ˆæ˜ç¡®ä¸€ç‚¹çš„æ˜¯ï¼šæˆ‘å¹¶ä¸ä¼šç›´æ¥åœ¨åšå®¢ä¸Šå†™Markdownï¼Œå› ä¸ºæœ‰è®¸è®¸å¤šå¤šæˆç†Ÿçš„äº§å“èƒ½è®©æˆ‘å†™çš„èˆ’å¿ƒçš„å¤šï¼Œæˆ‘æ²¡å¿…è¦å»æè¿™ä¹ˆéº»çƒ¦å¤æ‚ç¹çï¼Œè€Œä¸”ä¸ä¸€å®šå¥½ï¼Œæ‰€ä»¥æˆ‘åªéœ€è¦ç”¨åšå®¢æ¥å±•ç¤ºæˆ‘å†™çš„Markdownæ ¼å¼çš„åšæ–‡å°±å¥½äº†ï¼ŒNiceå•Šâ€¦åˆæˆåŠŸéª—è‡ªå·±å°‘å†™äº†å¥½å¤šä»£ç hhhhhï¼ˆæ²¡æœ‰å•¦..éœ€æ±‚å°±è¿™æ ·çš„å˜›â€¦ï¼‰ é¡ºç€è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘é€šå¸¸å†™æ–‡éƒ½æ˜¯å…ˆåœ¨ç®€ä¹¦ä¸Šå†™å¥½çš„ï¼Œå¹¶ä¸”ç®€ä¹¦æœ‰ä¸€ä¸ªç‰¹ç‚¹æ˜¯æ‰€æœ‰çš„å›¾ç‰‡ï¼Œä¸ç®¡æ˜¯å·²ç»å‘å¸ƒçš„æ–‡ç« è¿˜æ˜¯æ²¡æœ‰å‘å¸ƒçš„ç§äººæ–‡ç« ï¼Œéƒ½èƒ½é€šè¿‡åœ°å€å–å¾—ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹è®©ç®€ä¹¦å½“ä¸ªå›¾åºŠï¼Œè¯¶åˆå°‘å¼„äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œç„¶ååˆ†æåˆ†æç€å°±æŠŠéœ€æ±‚ææˆä¸‹é¢è¿™æ ·äº†ï¼š 1ï¼‰åšæ–‡ç®¡ç†ï¼š è¿™ä¸ªæ¯”è¾ƒå¸¸è§„ï¼Œå°±ä¸è¯´äº†ï¼› 2ï¼‰ç½‘ç«™æ•°æ®ç»Ÿè®¡ï¼š ä½œä¸ºç½‘ç«™çš„æ‹¥æœ‰è€…å’Œè®¾è®¡è€…ï¼Œæˆ‘å½“ç„¶å¸Œæœ›èƒ½å¸Œæœ›çŸ¥é“è¿™äº›æ•°æ®äº†ï¼Œç„¶åå•ç‹¬ä½œä¸ºæ‹¥æœ‰è€…æ¥è¯´ï¼Œæœ€å¥½å†åˆ†ä¸ºæ—¥è®¿é—®é‡/æœˆè®¿é—®é‡/æ€»è®¿é—®é‡è¿™æ ·å­æ˜¾ç¤ºå‡ºæ¥ï¼Œå†æææ ·å¼ï¼Œç®€ç›´ä¸è¦å¤ªçˆ½ï¼› 3ï¼‰ç¼“å­˜ç®¡ç†ï¼š å›¾ç‰‡å°±æ²¡ç¼“å­˜äº†ï¼Œå› ä¸ºä¿å­˜æ–‡ç« å†…å®¹æˆ‘éœ€è¦ä¿å­˜mdæºç ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦åœ¨Redisé‡Œç¼“å­˜æœ€è¿‘å¸¸è®¿é—®çš„æ–‡ç« çš„mdè½¬HTMLåæ¸²æŸ“å¥½çš„HTMLæºç ï¼› 4ï¼‰ç³»ç»Ÿè®¾ç½®ï¼š ç½‘ç«™æ ‡é¢˜å¯ä»¥æ”¹å‘€ï¼Œç„¶åå¯¼èˆªæ çš„åå­—ä¹Ÿå¯ä»¥å¼„å¼„å‘€ï¼Œå…¶å®è¿™ä¸ªä¹Ÿå¯ä»¥ä¸ç”¨å»æï¼Œåªæ˜¯ä»¥é˜²æœ‰æ—¶å€™å¿ƒæƒ…ä¸å¥½ç»™ä¸€æ•´æ£é¼“å¯èƒ½å¿ƒæƒ…å°±å¥½äº†ï¼Œhhhhhâ€¦.ï¼› 5ï¼‰ç•™è¨€ç®¡ç†ï¼š æœ‰ä¸€äº›æµæ°“ç•™è¨€å¯ä»¥åˆ æ‰ï¼Œæœ€è¿‘å­¦ä¹ åˆ°çš„æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯è®©è¯¥æ¡æ•°æ®çš„çŠ¶æ€ä¸ºç½®ä¸º0ï¼Œè€Œä¸æ˜¯ç›´æ¥åˆ é™¤è¯¥æ¡æ•°æ®ï¼Œè¿™ä¸ªè®¾è®¡æ•°æ®åº“çš„æ—¶å€™å°±éœ€è¦å¤šè®¾è®¡ä¸€ä¸ªå­—æ®µï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç”¨æˆ·ç•™ä¸‹çš„Emailåœ°å€è¿›è¡Œå›å¤ï¼Œæœ€å¥½æä¸€ä¸ªè‡ªåŠ¨é€šçŸ¥ï¼Œå®Œç¾ï¼› è¡¨ç»“æ„è®¾è®¡é€šè¿‡éœ€æ±‚åˆ†æï¼Œç„¶åä¸¥æ ¼æŒ‰ç…§ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹ï¼ˆä¸‹é¢æ‰€è¯´çš„è§„èŒƒå‡æ¥è‡ªäºæ­¤ï¼‰åå¤åˆ†æäº†å¾ˆå¤šéï¼Œæœ€ç»ˆç¡®å®šäº†å¦‚ä¸‹çš„å‡ å¼ è¡¨ï¼š ç„¶åæ¥å…·ä½“è¯´ä¸€ä¸‹å„ä¸ªè¡¨ï¼š 1ï¼‰æ—¥å¿—è¡¨ï¼ˆsys_logï¼‰ï¼š CREATE TABLE `sys_log` ( `id` bigint(40) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `ip` varchar(20) NOT NULL DEFAULT '' COMMENT 'æ“ä½œåœ°å€çš„IP', `create_by` datetime NOT NULL COMMENT 'æ“ä½œæ—¶é—´', `remark` varchar(255) NOT NULL DEFAULT '' COMMENT 'æ“ä½œå†…å®¹', `operate_url` varchar(50) NOT NULL DEFAULT '' COMMENT 'æ“ä½œçš„è®¿é—®åœ°å€', `operate_by` varchar(20) DEFAULT '' COMMENT 'æ“ä½œçš„æµè§ˆå™¨', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™å¼ è¡¨å°±æ˜¯æ‹¿æ¥ä¿å­˜æ—¥å¿—ï¼Œç”¨æ¥è®°å½•æ¯ä¸€ä¸ªç”¨æˆ·è®¿é—®äº†å“ªäº›åœ°å€ï¼Œä½¿ç”¨äº†ä»€ä¹ˆæ ·çš„æµè§ˆå™¨ï¼Œæ“ä½œå†…å®¹å¯ä»¥ä½œä¸ºä¸€ä¸ªä¿ç•™å­—æ®µï¼Œå¦‚æœä»¥åæƒ³è¦ç›‘æ§ç”¨æˆ·è¡Œä¸ºï¼Œé‚£ä¹Ÿæ˜¯å¯ä»¥çš„~ è¿™é‡Œé¦–å…ˆéµå®ˆçš„è§„èŒƒæ˜¯ï¼ˆä¸‹é¢é›·åŒåˆ™ä¸å†é‡å¤èµ˜è¿°ï¼‰ï¼š ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬2æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”è¡¨åã€å­—æ®µåå¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–æ•°å­—ï¼Œç¦æ­¢å‡ºç°æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä¸¤ä¸ªä¸‹åˆ’çº¿ä¸­é—´åªå‡ºç°æ•°å­—ã€‚æ•°æ®åº“å­—æ®µåçš„ä¿®æ”¹ä»£ä»·å¾ˆå¤§ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œé¢„å‘å¸ƒï¼Œæ‰€ä»¥å­—æ®µåç§°éœ€è¦æ…é‡è€ƒè™‘ï¼› ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬3æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”è¡¨åä¸ä½¿ç”¨å¤æ•°åè¯ï¼› ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬10æ¡ï¼ˆæ¨èï¼‰â€”â€”è¡¨çš„å‘½åæœ€å¥½åŠ ä¸Šâ€œä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€ æƒ³è¦æ‹¿å‡ºæ¥è·Ÿå¤§å®¶è®¨è®ºçš„ä¸€åˆ™è§„èŒƒæ˜¯ï¼š ç¬¬äº”ç« ç¬¬9æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”è¡¨å¿…å¤‡ä¸‰ä¸ªå­—æ®µï¼šidï¼ˆunsigned bigintè‡ªå¢ï¼‰ï¼Œgmt_createï¼ˆdate_timeï¼‰ï¼Œgmt_modifiedï¼ˆdate_timeï¼‰ åƒå¦‚ä¸Šè®¾è®¡çš„æ—¥å¿—è¡¨ï¼Œå®ƒæ’å…¥è¿›å»äº†å°±ä¸ä¼šå†æ›´æ–°äº†ï¼Œè€Œä¸”å¯¹äºæˆ‘è¿™ä¸ªç³»ç»Ÿä¹Ÿå¾ˆå¤§æ¦‚ç‡ä¸ä¼šæœ‰è¶£æ“ä½œè¿™ä¸ªè¡¨çš„å¯èƒ½ï¼Œé‚£ä¹ˆå¯¹äºè¿™æ ·ä¸ä¼šæ›´æ–°å’Œæ“ä½œçš„è¡¨ï¼Œgmt_modifiedè¿™ä¸ªå­—æ®µè¿˜æœ‰å¿…è¦å­˜åœ¨å—ï¼Ÿ emmm..äº‹å®ä¸Šæˆ‘é—®äº†å­¤å°½å¤§å¤§æœ¬äººï¼Œä»–å›ç­”çš„ç®€æ´æœ‰åŠ›ï¼šâ€œè¦çš„ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ï¼›â€ç„¶è€ŒåŸè°…æˆ‘è¿˜æ˜¯æ²¡æœ‰å¬è¯ï¼Œhhhhhï¼Œå¦å¤–ä¸€ç‚¹æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œæˆ‘å¿˜äº†æ˜¯åœ¨å“ªé‡Œçœ‹åˆ°çš„äº†ï¼Œä½†æ˜¯åƒgmt_createè¿™æ ·çš„å­—æ®µæœ€å¥½è®¾è®¡æˆcreate_byè¿™æ ·ï¼Œå­—æ®µæœ¬èº«å°±æ˜¯å¾ˆå¥½çš„æ³¨é‡Šï¼Œæ‘ï¼Œå°±å–œæ¬¢è¿™æ ·æ»¡æ»¡çš„ç»†èŠ‚â€¦ 2ï¼‰æµè§ˆé‡è¡¨ï¼ˆsys_viewï¼‰ï¼š CREATE TABLE `sys_view` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `ip` varchar(20) NOT NULL COMMENT 'è®¿é—®IP', `create_by` datetime NOT NULL COMMENT 'è®¿é—®æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™å¼ è¡¨ç”¨äºä¿å­˜æ¯ä¸€æ¬¡è®¿é—®ä¸»é¡µçš„è®°å½•ï¼Œæˆ‘æƒ³çš„æ˜¯æ¯è®¿é—®ä¸»é¡µå°±è®°å½•å¢åŠ ä¸€æ¡æ•°æ®ï¼Œç®€å•åŒæ—¶ä¹Ÿå¢åŠ è®¿é—®é‡å˜›ï¼Œhhhhhï¼Œä¹Ÿæ˜¯ä¸ä¼šæ›´æ–°çš„ä¸€å¼ è¡¨ï¼Œæ‰€ä»¥æ²¡modifield_byå­—æ®µï¼› 3ï¼‰ç•™è¨€/è¯„è®ºè¡¨ï¼ˆtbl_messageï¼‰ CREATE TABLE `tbl_message` ( `id` bigint(40) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `content` varchar(200) NOT NULL DEFAULT '' COMMENT 'ç•™è¨€/è¯„è®ºå†…å®¹', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¥æœŸ', `email` varchar(20) NOT NULL DEFAULT '' COMMENT 'é‚®ç®±ï¼Œç”¨äºå›å¤æ¶ˆæ¯', `name` varchar(20) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·è‡ªå·±å®šä¹‰çš„åç§°', `ip` varchar(20) NOT NULL DEFAULT '' COMMENT 'ç•™è¨€/è¯„è®ºIP', `is_effective` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤ä¸º1ä¸ºæœ‰æ•ˆï¼Œ0ä¸ºæ— æ•ˆ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='å› ä¸ºmessageåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ç•™è¨€ï¼Œä¸€ç§æ˜¯è¯„è®ºï¼Œè¿™é‡Œææˆä¸€å¼ è¡¨æ˜¯å› ä¸ºå®ƒä»¬å‡ ä¹æ˜¯æ‹¥æœ‰ç›¸åŒçš„å­—æ®µï¼Œæˆ‘è§‰å¾—æ²¡å¿…è¦åˆ†æˆä¸¤å¼ è¡¨æ¥è¿›è¡Œç»´æŠ¤'; è¿™æ˜¯è¯„è®º/ç•™è¨€è¡¨ï¼Œå› ä¸ºè€ƒè™‘åˆ°ç•™è¨€å’Œè¯„è®ºæœ‰å‡ ä¹ç›¸åŒçš„å­—æ®µï¼Œæ‰€ä»¥ç»™å¼„æˆäº†ä¸€å¼ è¡¨ï¼Œè¿™å¼ è¡¨åŒæ ·çš„ä¸éœ€è¦æ›´æ–°æ²¡æœ‰modifield_byå­—æ®µï¼Œè¿™é‡Œéµå®ˆçš„è§„èŒƒæ˜¯ï¼š ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬1æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”è¡¨è¾¾æ˜¯ä¸å¦æ¦‚å¿µçš„å­—æ®µï¼Œå¿…é¡»ä½¿ç”¨ is_xxx çš„æ–¹å¼å‘½åï¼Œæ•°æ®ç±»å‹æ˜¯ unsigned tinyintï¼ˆ1è¡¨ç¤ºæ˜¯ï¼Œ0è¡¨ç¤ºå¦ï¼‰ ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬15æ¡ï¼ˆå‚è€ƒï¼‰â€”â€”è®¾ç½®åˆé€‚çš„å­—æ®µå­˜å‚¨é•¿åº¦ï¼Œä¸ä½†å¯ä»¥èŠ‚çº¦æ•°æ®åº“è¡¨æ§ä»¶å’Œç´¢å¼•å­˜å‚¨ï¼Œæ›´é‡è¦çš„äº‹èƒ½å¤Ÿæå‡æ£€ç´¢é€Ÿåº¦ï¼› 4ï¼‰åˆ†ç±»ä¿¡æ¯è¡¨ï¼ˆtbl_sort_infoï¼‰ï¼š CREATE TABLE `tbl_sort_info` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `name` varchar(20) NOT NULL COMMENT 'åˆ†ç±»åç§°', `number` tinyint(10) NOT NULL DEFAULT '0' COMMENT 'è¯¥åˆ†ç±»ä¸‹çš„æ–‡ç« æ•°é‡', `create_by` datetime NOT NULL COMMENT 'åˆ†ç±»åˆ›å»ºæ—¶é—´', `modified_by` datetime NOT NULL COMMENT 'åˆ†ç±»ä¿®æ”¹æ—¶é—´', `is_effective` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤ä¸º1æœ‰æ•ˆï¼Œä¸º0æ— æ•ˆ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™å¼ è¡¨æ˜¯æ–‡ç« çš„åˆ†ç±»ï¼Œä¸€å¼€å§‹éƒ½å¿˜è®°è®¾è®¡äº†â€¦. 5ï¼‰æ–‡ç« ä¿¡æ¯è¡¨ï¼ˆtbl_article_infoï¼‰ï¼š CREATE TABLE `tbl_article_info` ( `id` bigint(40) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®', `title` varchar(50) NOT NULL DEFAULT '' COMMENT 'æ–‡ç« æ ‡é¢˜', `summary` varchar(300) NOT NULL DEFAULT '' COMMENT 'æ–‡ç« ç®€ä»‹ï¼Œé»˜è®¤100ä¸ªæ±‰å­—ä»¥å†…', `is_top` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'æ–‡ç« æ˜¯å¦ç½®é¡¶ï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯', `traffic` int(10) NOT NULL DEFAULT '0' COMMENT 'æ–‡ç« è®¿é—®é‡', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `modified_by` datetime NOT NULL COMMENT 'ä¿®æ”¹æ—¥æœŸ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™æ˜¯æ–‡ç« ä¿¡æ¯è¡¨ï¼Œéƒ½æ˜¯ä¸€äº›åŸºç¡€å¸¸ç”¨çš„å­—æ®µå°±ä¸å†å¤šåšè§£é‡Šäº† 6ï¼‰æ–‡ç« å†…å®¹è¡¨ï¼ˆtbl_article_contentï¼‰ï¼š CREATE TABLE `tbl_article_content` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `content` text NOT NULL, `article_id` bigint(40) NOT NULL COMMENT 'å¯¹åº”æ–‡ç« ID', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `modifield_by` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™æ˜¯æ–‡ç« å†…å®¹è¡¨ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç›´æ¥æŠŠå†…å®¹å­—æ®µè®¾è®¡åœ¨æ–‡ç« ä¿¡æ¯è¡¨é‡Œï¼Œè€Œæ˜¯å•ç‹¬å»ºäº†ä¸€ä¸ªè¡¨ç”¨æ¥ä¿å­˜æ–‡ç« çš„å†…å®¹ï¼Œç„¶åä½¿ç”¨ä¸»é”®æ¥å…³è”ï¼Œæˆ‘ä»¬è¿™é‡Œéµå®ˆçš„è§„èŒƒæ˜¯ï¼š ç¬¬äº”ç« ç¬¬ä¸€èŠ‚ç¬¬8æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”varcharæ˜¯å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œä¸é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡5000ä¸ªå­—ç¬¦ã€‚å¦‚æœå­˜å‚¨é•¿åº¦å¤§äºæ­¤å€¼ï¼Œåˆ™åº”å®šä¹‰å­—æ®µç±»å‹ä¸ºtextï¼Œç‹¬ç«‹å‡ºæ¥ä¸€å¼ è¡¨ï¼Œç”¨ä¸»é”®æ¥å¯¹åº”ï¼Œé¿å…å½±å“å…¶ä»–å­—æ®µçš„ç´¢å¼•æ•ˆç‡ï¼› ç¬¬äº”ç« ç¬¬ä¸‰èŠ‚ç¬¬6æ¡ï¼ˆå¼ºåˆ¶ï¼‰â€”â€”ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ï¼› æˆ‘è¯•è¿‡æˆ‘ç°åœ¨æœ€é•¿çš„ä¸€ç¯‡æ–‡ç« é•¿åº¦å¤§æ¦‚èƒ½å­˜å‚¨8Wé•¿åº¦çš„varcharï¼Œæ‰€ä»¥æˆ‘å°±ç»™å•ç‹¬å»ºä¸€ä¸ªè¡¨åˆ†ç¦»å‡ºæ¥äº†ï¼Œä½¿ç”¨textç±»å‹æ¥ä¿å­˜æ–‡ç« çš„mdæºç  7ï¼‰æ–‡ç« è¯„è®ºè¡¨ï¼ˆtbl_article_messageï¼‰ï¼š CREATE TABLE `tbl_article_message` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `article_id` bigint(40) NOT NULL COMMENT 'æ–‡ç« ID', `message_id` bigint(40) NOT NULL COMMENT 'å¯¹åº”çš„ç•™è¨€ID', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `is_effective` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤ä¸º1æœ‰æ•ˆï¼Œç½®0æ— æ•ˆ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; è¿™å…¶å®æ˜¯ä¸€ä¸ªå…³è”è¡¨ï¼Œå…³è”äº†æ–‡ç« å’Œtbl_messageè¡¨ï¼Œç”¨äºä¸“é—¨å­˜å‚¨æŸä¸ªæ–‡ç« ä¸‹çš„è¯„è®ºä¿¡æ¯ 8ï¼‰æ–‡ç« åˆ†ç±»è¡¨ï¼ˆtbl_article_sortï¼‰ï¼š CREATE TABLE `tbl_article_sort` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `sort_id` bigint(40) NOT NULL COMMENT 'åˆ†ç±»id', `article_id` bigint(40) NOT NULL COMMENT 'æ–‡ç« id', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `modified_by` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´', `is_effective` tinyint(1) DEFAULT '1' COMMENT 'è¡¨ç¤ºå½“å‰æ•°æ®æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤ä¸º1æœ‰æ•ˆï¼Œ0åˆ™æ— æ•ˆ', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; åŒæ ·æ˜¯ä¸€å¼ å…³è”è¡¨ï¼Œè¿æ¥äº†æ–‡ç« å’Œåˆ†ç±»ï¼Œå¹¶ä¸”åŒä¸€ç¯‡æ–‡ç« èƒ½å±äºå¤šä¸ªåˆ†ç±»ï¼› 9ï¼‰æ–‡ç« é¢˜å›¾è¡¨ï¼ˆtbl_article_pictureï¼‰ï¼š CREATE TABLE `tbl_article_picture` ( `id` bigint(40) NOT NULL AUTO_INCREMENT, `article_id` bigint(40) NOT NULL COMMENT 'å¯¹åº”æ–‡ç« id', `picture_url` varchar(100) NOT NULL DEFAULT '' COMMENT 'å›¾ç‰‡url', `create_by` datetime NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´', `modified_by` datetime NOT NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='è¿™å¼ è¡¨ç”¨æ¥ä¿å­˜é¢˜å›¾urlï¼Œæ¯ä¸€ç¯‡æ–‡ç« éƒ½åº”è¯¥æœ‰é¢˜å›¾'; è¿™ä¸ªæ˜¯ä¿å­˜æ¯ä¸€ç¯‡æ–‡ç« çš„é¢˜å›¾ï¼Œæ¯ä¸€ç¯‡æ–‡ç« éƒ½å› è¯¥æœ‰é¢˜å›¾ï¼› åŸå‹è®¾è®¡äº‹å®ä¸Šï¼Œæˆ‘æ˜¯ç›´æ¥å…ˆå»æ‰¾çš„åŸå‹ï¼Œå»å‚è€ƒäº†ä¸€ä¸‹å¤§æ¦‚æˆ‘éœ€è¦åšæˆä»€ä¹ˆæ ·å­â€¦ å‰ç«¯åŸå‹å‚è€ƒåœ¨è¿™é‡Œå…ˆç»™å¤§å®¶æ¨èä¸€ä¸ªè®¾è®¡ç½‘ç«™å§ï¼Œæ‰¾ç´ æå•Šä¹‹ç±»çš„è¿˜æŒºæ–¹ä¾¿çš„ï¼š ç«™é…·ï¼šhttp://www.zcool.com.cn/ æ‰€ä»¥æˆ‘åœ¨é‡Œé¢æ‰¾åˆ°äº†æˆ‘æƒ³è¦çš„å‰ç«¯åŸå‹ï¼Œå¤§æ¦‚å°±åƒè¿™ä¸ªæ ·å­ï¼š 1ï¼‰é¦–é¡µï¼š 2ï¼‰åšå®¢é¡µï¼š 3ï¼‰åšæ–‡è¯¦æƒ…é¡µï¼š 4ï¼‰åšæ–‡åˆ—è¡¨é¡µï¼š ä¸èƒ½å†é…·äº†.. åç«¯åŸå‹å‚è€ƒ emmmmâ€¦å¤§æ¦‚å°±åƒè¿™æ ·äº†å§ï¼Œå…·ä½“çš„æ ·å¼å¯ä»¥åˆ°æ—¶å€™å†è°ƒâ€¦ æ€»ä½“æ˜¯é…·çš„å°±è¡Œï¼ é¡¹ç›®æ­å»ºå…ˆæ¥ä»‹ç»ä¸€ä¸‹è¿™æ¬¡æƒ³è¦ä½¿ç”¨çš„ä¸€äº›æŠ€æœ¯ï¼š SpringBoot / Spring æ¥ç¼–å†™åå° Vue æ¥å†™é¡µé¢ï¼Œå‡†å¤‡æŠ›å¼ƒä¸€ä¸‹JSPï¼Œè™½ç„¶ç°åœ¨Vueè¿˜å•¥éƒ½ä¸æ‡‚ï¼Œå­¦å‘— MyBatis ç”¨äºORMï¼Œå–œæ¬¢è¿™ç©æ„å„¿çš„é€†å‘å·¥ç¨‹ RESTful API / JSON äº¤äº’ Redis å¯èƒ½è¿˜ä¼šä½¿ç”¨è¿™ä¸ªæ¥ç¼“å­˜ä¸€ä¸‹mdè½¬æ¢ä¹‹åçš„htmlæºç  SpringBoot å·¥ç¨‹æ­å»ºSpringBoot é¡¹ç›®æ­å»ºè¿‡ç¨‹å°±ä¸å†èµ˜è¿°äº†ï¼Œä¸ç†Ÿæ‚‰çš„ç«¥é‹æˆ³è¿™è¾¹ï¼šhttps://www.jianshu.com/p/70963ab49f8cï¼Œè¿™é‡Œå°±ç®€å•ç»™ä¸€ä¸‹é…ç½®ä¿¡æ¯ï¼š åå°è‚¯å®šæ˜¯éœ€è¦åŠ å®‰å…¨éªŒè¯çš„ï¼Œè¦ç®€å•ç‚¹æˆ‘å¯ä»¥æä¸€ä¸ªæ‹¦æˆªå™¨æ¥ç®€å•å¼„å¼„ï¼Œä¹Ÿå¯ä»¥ç”¨ç°æœ‰çš„å®‰å…¨æ¡†æ¶ï¼Œè¿™é‡Œæš‚æ—¶å°±ä¸åŠ å…¥è¿™æ–¹é¢çš„ä¸œè¥¿äº†ï¼ŒæŠŠåŸºæœ¬çš„å¼„è¿›æ¥å°±OKï¼Œç„¶åå®ƒé»˜è®¤åŠ å…¥çš„ä¸œè¥¿ä¸èƒ½å¤Ÿæ”¯æŒæˆ‘ä»¬çš„ä¸šåŠ¡ï¼Œæ‰€ä»¥è¿˜éœ€è¦æ‰‹åŠ¨æ·»åŠ è¿›ä¸€äº›åŒ…ï¼š 4.0.0 cn.wmyskxz blog 0.0.1-SNAPSHOT jar blog Demo project for Spring Boot org.springframework.boot spring-boot-starter-parent 2.0.2.RELEASE UTF-8 UTF-8 1.8 org.springframework.boot spring-boot-starter-web org.mybatis.spring.boot mybatis-spring-boot-starter 1.3.2 org.mybatis.generator mybatis-generator-core 1.3.6 org.springframework.boot spring-boot-starter-test test mysql mysql-connector-java runtime org.springframework.boot spring-boot-devtools true org.springframework.boot spring-boot-maven-plugin çƒ­éƒ¨ç½²è¿˜æ˜¯è¦çš„å‘€ï¼Œç„¶åå†åœ¨ã€resroucesã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€banner.txtã€‘æ–‡ä»¶ï¼Œä¿®æ”¹ä¸€ä¸‹SpringBootå¯åŠ¨çš„æç¤ºä¿¡æ¯ï¼š __ __ __ /\\ \\ __/\\ \\ /\\ \\ \\ \\ \\/\\ \\ \\ \\ ___ ___ __ __ ____\\ \\ \\/&#39;\\ __ _ ____ \\ \\ \\ \\ \\ \\ \\ /&#39; __` __`\\ /\\ \\/\\ \\ /&#39;,__\\\\ \\ , &lt; /\\ \\/&#39;\\/\\_ ,`\\ \\ \\ \\_/ \\_\\ \\/\\ \\/\\ \\/\\ \\\\ \\ \\_\\ \\ /\\__, `\\\\ \\ \\\\`\\ \\/&gt; &lt;/\\/_/ /_ \\ `\\___x___/\\ \\_\\ \\_\\ \\_\\\\/`____ \\\\/\\____/ \\ \\_\\ \\_\\/\\_/\\_\\ /\\____\\ &#39;\\/__//__/ \\/_/\\/_/\\/_/ `/___/&gt; \\\\/___/ \\/_/\\/_/\\//\\/_/ \\/____/ /\\___/ \\/__/ å¼„å¼„ç»“æ„ï¼Œæœ€åæ•´ä¸ªé¡¹ç›®çš„ç›®å½•çœ‹èµ·æ¥å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š ä¸‹é¢å¯¹è¿™äº›ç›®å½•è¿›è¡Œä¸€äº›ç®€è¦çš„è¯´æ˜ï¼š controllerï¼šæ§åˆ¶å™¨ daoï¼šå®é™…ä¸Šè¿™ä¸ªåŒ…å¯ä»¥æ”¹åå«mapperï¼Œå› ä¸ºé‡Œé¢æ”¾çš„åº”è¯¥æ˜¯MyBatisé€†å‘å·¥ç¨‹è‡ªåŠ¨ç”Ÿæˆä¹‹åçš„mapperç±»ï¼Œè¿˜æ˜¯å«daoå§ï¼Œä¼ ç»Ÿâ€¦ entityï¼šå®ä½“ç±»ï¼Œè¿˜ä¼šæœ‰ä¸€äº›MyBatisç”Ÿæˆçš„example generatorï¼šMyBatisé€†å‘å·¥ç¨‹ç”Ÿæˆç±» interceptorï¼šSpringBoot æ‹¦æˆªå™¨ serviceï¼šServiceå±‚ï¼Œé‡Œé¢è¿˜æœ‰ä¸€å±‚implç›®å½• utilï¼šä¸€äº›å·¥å…·ç±»å¯ä»¥æ”¾åœ¨é‡Œé¢ mapperï¼šç”¨äºå­˜æ”¾MyBatisé€†å‘å·¥ç¨‹ç”Ÿæˆçš„.xmlæ˜ å°„æ–‡ä»¶ staticï¼šè¿™ä¸ªç›®å½•å­˜æ”¾ä¸€äº›é™æ€æ–‡ä»¶ï¼Œç®€å•äº†è§£äº†ä¸€ä¸‹Vueçš„å‰åç«¯åˆ†ç¦»ï¼Œå‰å°æ–‡ä»¶ä»¥åä¹Ÿéœ€è¦æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹é¢ ç„¶åæˆ‘ä½¿ç”¨application.ymlæ–‡ä»¶ä»£æ›¿äº†application.propertiesï¼Œè¿™ä¸ªä¸œè¥¿ç»“æ„æ¸…æ™°ä¸€ç‚¹å„¿ï¼Œåæ­£ç”¨å“ªä¸ªéƒ½æ— æ‰€è°“ï¼Œé…ç½®å¥½å°±OKäº†ï¼š spring: datasource: url: jdbc:mysql://127.0.0.1:3306/blog?characterEncoding=UTF-8 username: root password: 123456 driver-class-name: com.mysql.jdbc.Driver #Druidè¿æ¥æ± é…ç½®ç›¸å…³ druid: # åˆå§‹å¤§å°ï¼Œæœ€å¤§ï¼Œæœ€å° initial-size: 5 min-idle: 5 max-active: 20 # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ max-wait: 60000 # é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ time-between-eviction-runs-millis: 60000 # é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ min-evictable-idle-time-millis: 300000 ä¸éœ€è¦æ£€æµ‹æ•°æ®åº“ï¼Œä¸è¦æ•´è¿™ä¹ˆå¤æ‚ï¼Œä¸è¿‡å€’æ˜¯éœ€è¦ç»™æ•°æ®åº“å¯†ç åŠ ä¸ªå¯†ï¼Œæ˜æ–‡çš„é…ç½®å®åœ¨ä¸å®‰å…¨ï¼Œä½†æ˜¯ç°åœ¨å…ˆä¸æäº†ï¼› MyBatis é€†å‘å·¥ç¨‹ä½¿ç”¨è¿‡MyBatisé€†å‘å·¥ç¨‹çš„æœ‹å‹éƒ½åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸œè¥¿æœ‰ä¸ªBUGï¼Œå°±æ˜¯é‡å¤ç”Ÿæˆçš„æ—¶å€™å®ƒå¹¶ä¸ä¼šè¦†ç›–æ‰åŸæ¥çš„å†…å®¹ï¼ˆç‰¹æŒ‡xmlæ˜ å°„æ–‡ä»¶ï¼‰ï¼Œè€Œæ˜¯ä¼šåœ¨åé¢é‡æ–°ç”Ÿæˆä¸€éï¼Œè¿™æœ‰ç‚¹å„¿å¤´ç–¼ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼š é¦–å…ˆåœ¨ã€utilã€‘åŒ…ä¸‹æ–°å»ºä¸€ä¸ªã€OverIsMergeablePluginã€‘å·¥å…·ç±»ï¼š package cn.wmyskxz.blog.util; import org.mybatis.generator.api.GeneratedXmlFile; import org.mybatis.generator.api.IntrospectedTable; import org.mybatis.generator.api.PluginAdapter; import java.lang.reflect.Field; import java.util.List; /** * é¿å…MyBatiisé‡å¤ç”Ÿæˆçš„å·¥å…·ç±» * * @author:wmyskxz * @create:2018-06-14-ä¸Šåˆ 9:50 */ public class OverIsMergeablePlugin extends PluginAdapter { @Override public boolean validate(List&lt;String> warnings) { return true; } @Override public boolean sqlMapGenerated(GeneratedXmlFile sqlMap, IntrospectedTable introspectedTable) { try { Field field = sqlMap.getClass().getDeclaredField(\"isMergeable\"); field.setAccessible(true); field.setBoolean(sqlMap, false); } catch (Exception e) { e.printStackTrace(); } return true; } } ç„¶ååœ¨ã€generatorConfig.xmlã€‘ä¸­é…ç½®ä¸Šè¯¥å·¥å…·ç±»ï¼š &lt;plugin type=\"cn.wmyskxz.blog.util.OverIsMergeablePlugin\"/> å¥½çš„è¿™æ ·å°±æå®šäº†ï¼Œæˆ‘ä»¬å°±æ­£å¼å¼€å§‹æˆ‘ä»¬çš„é€†å‘å·¥ç¨‹ï¼š 1ï¼‰ç¼–å†™generatorConfig.xmlé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;!DOCTYPE generatorConfiguration PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\" \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"> &lt;generatorConfiguration> &lt;context id=\"DB2Tables\" targetRuntime=\"MyBatis3\"> &lt;!--é¿å…ç”Ÿæˆé‡å¤ä»£ç çš„æ’ä»¶--> &lt;plugin type=\"cn.wmyskxz.blog.util.OverIsMergeablePlugin\"/> &lt;!--æ˜¯å¦åœ¨ä»£ç ä¸­æ˜¾ç¤ºæ³¨é‡Š--> &lt;commentGenerator> &lt;property name=\"suppressDate\" value=\"true\"/> &lt;property name=\"suppressAllComments\" value=\"true\"/> &lt;/commentGenerator> &lt;!--æ•°æ®åº“é“¾æ¥åœ°å€è´¦å·å¯†ç --> &lt;jdbcConnection driverClass=\"com.mysql.jdbc.Driver\" connectionURL=\"jdbc:mysql://127.0.0.1:3306/blog?characterEncoding=UTF-8\" userId=\"root\" password=\"123456\"> &lt;/jdbcConnection> &lt;!--ç”Ÿæˆpojoç±»å­˜æ”¾ä½ç½®--> &lt;javaModelGenerator targetPackage=\"cn.wmyskxz.blog.entity\" targetProject=\"src/main/java\"> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;property name=\"trimStrings\" value=\"true\"/> &lt;/javaModelGenerator> &lt;!--ç”Ÿæˆxmlæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®--> &lt;sqlMapGenerator targetPackage=\"mapper\" targetProject=\"src/main/resources\"> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;/sqlMapGenerator> &lt;!--ç”Ÿæˆmapperç±»å­˜æ”¾ä½ç½®--> &lt;javaClientGenerator type=\"XMLMAPPER\" targetPackage=\"cn.wmyskxz.blog.dao\" targetProject=\"src/main/java\"> &lt;property name=\"enableSubPackages\" value=\"true\"/> &lt;/javaClientGenerator> &lt;!--ç”Ÿæˆå¯¹åº”è¡¨åŠç±»å--> &lt;table tableName=\"sys_log\" domainObjectName=\"SysLog\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;!--ä½¿ç”¨è‡ªå¢é•¿é”®--> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;!--ä½¿ç”¨æ•°æ®åº“ä¸­å®é™…çš„å­—æ®µåä½œä¸ºç”Ÿæˆçš„å®ä½“ç±»çš„å±æ€§--> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"sys_view\" domainObjectName=\"SysView\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_article_content\" domainObjectName=\"ArticleContent\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_article_info\" domainObjectName=\"ArticleInfo\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_article_message\" domainObjectName=\"ArticleMessage\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_message\" domainObjectName=\"Message\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_sort_info\" domainObjectName=\"SortInfo\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;table tableName=\"tbl_article_sort\" domainObjectName=\"ArticleSort\" enableCountByExample=\"false\" enableUpdateByExample=\"false\" enableDeleteByExample=\"false\" enableSelectByExample=\"true\" selectByExampleQueryId=\"false\"> &lt;property name=\"my.isgen.usekeys\" value=\"true\"/> &lt;property name=\"useActualColumnNames\" value=\"true\"/> &lt;generatedKey column=\"id\" sqlStatement=\"JDBC\"/> &lt;/table> &lt;/context> &lt;/generatorConfiguration> æ³¨æ„è¡¨å/ç”Ÿæˆç›®æ ‡ç›®å½•ä¹‹ç±»çš„æœ‰æ²¡æœ‰å†™é”™ï¼Œè¡¨åæœ€å¥½å°±ç›´æ¥å»å¤åˆ¶æ•°æ®åº“ä¸­çš„åç§°ï¼› 2ï¼‰ç¼–å†™é€†å‘å·¥ç¨‹ç”Ÿæˆç±»ï¼š package cn.wmyskxz.blog.generator; import org.mybatis.generator.api.MyBatisGenerator; import org.mybatis.generator.config.Configuration; import org.mybatis.generator.config.xml.ConfigurationParser; import org.mybatis.generator.exception.XMLParserException; import org.mybatis.generator.internal.DefaultShellCallback; import java.io.IOException; import java.io.InputStream; import java.sql.SQLException; import java.text.ParseException; import java.text.SimpleDateFormat; import java.util.ArrayList; import java.util.Date; import java.util.List; /** * MyBatisé€†å‘å·¥ç¨‹ç”Ÿæˆç±» * * @author:wmyskxz * @create:2018-06-14-ä¸Šåˆ 10:10 */ public class MybatisGenerator { public static void main(String[] args) throws Exception { String today = \"2018-6-14\"; SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\"); Date now = sdf.parse(today); Date d = new Date(); if (d.getTime() > now.getTime() + 1000 * 60 * 60 * 24) { System.err.println(\"â€”â€”â€”â€”â€”â€”æœªæˆæˆåŠŸè¿è¡Œâ€”â€”â€”â€”â€”â€”\"); System.err.println(\"â€”â€”â€”â€”â€”â€”æœªæˆæˆåŠŸè¿è¡Œâ€”â€”â€”â€”â€”â€”\"); System.err.println(\"æœ¬ç¨‹åºå…·æœ‰ç ´åä½œç”¨ï¼Œåº”è¯¥åªè¿è¡Œä¸€æ¬¡ï¼Œå¦‚æœå¿…é¡»è¦å†è¿è¡Œï¼Œéœ€è¦ä¿®æ”¹todayå˜é‡ä¸ºä»Šå¤©ï¼Œå¦‚:\" + sdf.format(new Date())); return; } if (false) return; List&lt;String> warnings = new ArrayList&lt;String>(); boolean overwrite = true; InputStream is = MybatisGenerator.class.getClassLoader().getResource(\"generatorConfig.xml\").openStream(); ConfigurationParser cp = new ConfigurationParser(warnings); Configuration config = cp.parseConfiguration(is); is.close(); DefaultShellCallback callback = new DefaultShellCallback(overwrite); MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings); myBatisGenerator.generate(null); System.out.println(\"ç”Ÿæˆä»£ç æˆåŠŸï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥åæ‰§è¡Œä¼šè¦†ç›–æ‰mapper,pojo,xml ç­‰æ–‡ä»¶ä¸Šåšçš„ä¿®æ”¹\"); } } è¿™ä¸ªæ˜¯å‚è€ƒè‡ªhow2j.cnçš„é€†å‘å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥è¯´æ˜¯å¾ˆæˆç†Ÿçš„æ¨¡å—äº†ï¼Œå†™çš„å¾ˆæ£’ï¼Œè€ƒè™‘äº†å®‰å…¨æ–¹é¢çš„ä¸€äº›ä¸œè¥¿ï¼Œé“¾æ¥åœ¨è¿™é‡Œï¼šhttp://how2j.cn/k/tmall_ssm/tmall_ssm-1547/1547.html 3ï¼‰ç‚¹å‡»è¿è¡Œï¼š æ§åˆ¶å°çœ‹åˆ°æˆåŠŸçš„ä¿¡æ¯ä¹‹åï¼Œå°±èƒ½çœ‹åˆ°é¡¹ç›®ä¸­è‡ªåŠ¨å¤šäº†ä¸€å †æ–‡ä»¶äº†ï¼š RESTful API è®¾è®¡ä¸ºäº†å®ç°å‰åç«¯åˆ†ç¦»ï¼Œå¥½çš„RESTful APIæ˜¯ç¦»ä¸å¼€çš„ï¼Œæ­£å¥½å‰ä¸€æ®µæ—¶é—´å­¦ä¹ äº†è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œæ‰€ä»¥å†³å®šå…ˆæ¥è®¾è®¡ä¸€å¥—RESTful APIï¼Œä¹‹å‰å­¦ä¹ çš„æ–‡ç« é“¾æ¥åœ¨è¿™é‡Œï¼šhttps://www.jianshu.com/p/91600da4df95 1ï¼‰å¼•å…¥Swagger2æ¥æ„é€ RESTful APIï¼š æ—¢ç„¶æƒ³å¼„ä¸€ä¸‹å‰åç«¯åˆ†ç¦»ï¼Œé‚£å°±å½»åº•ä¸€ç‚¹å„¿ï¼Œå†™åå°å®Œå…¨ä¸ç®¡å‰å°ï¼Œå‰åå°çš„äº¤äº’é ä¸€å¥—RESTful APIå’ŒJSONæ•°æ®æ¥å¼„ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ–‡æ¡£æ¥ç…ç…ï¼Œé¦–å…ˆåœ¨pox.xmlæ·»åŠ ç›¸å…³ä¾èµ–ï¼š &lt;!--Swagger2æ”¯æŒ--> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger2&lt;/artifactId> &lt;version>2.2.2&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger-ui&lt;/artifactId> &lt;version>2.2.2&lt;/version> &lt;/dependency> 2ï¼‰åˆ›å»ºSwagger2é…ç½®ç±»ï¼š åœ¨SpringBootå¯åŠ¨ç±»çš„åŒçº§ç›®å½•ä¸‹åˆ›å»ºSwagger2çš„é…ç½®ç±»ã€Swagger2ã€‘ï¼š /** * Swagger2 é…ç½®ç±» * * @author:wmyskxz * @create:2018-06-14-ä¸Šåˆ 10:40 */ @Configuration @EnableSwagger2 public class Swagger2 { @Bean public Docket createRestApi() { return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage(\"cn.wmyskxz.blog\")) .paths(PathSelectors.any()) .build(); } private ApiInfo apiInfo() { return new ApiInfoBuilder() .title(\"Wmyskxzä¸ªäººåšå®¢RESTful APIs\") .description(\"åŸæ–‡åœ°å€é“¾æ¥ï¼šhttp://blog.didispace.com/springbootswagger2/\") .termsOfServiceUrl(\"http://blog.didispace.com/\") .contact(\"@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\") .version(\"1.0\") .build(); } } è¿™æ ·ï¼Œå°±å¯ä»¥åœ¨æˆ‘ä»¬å¯åŠ¨é¡¹ç›®ä¹‹åï¼Œè®¿é—®http://localhost:8080/swagger-ui.htmlåœ°å€æ¥æŸ¥çœ‹å½“å‰é¡¹ç›®ä¸­çš„RESTfulé£æ ¼çš„APIï¼š 3ï¼‰è®¾è®¡RESTful APIï¼š å¥½çš„ï¼Œæ£é¼“äº†åŠå¤©ï¼Œç»ˆäºæœ‰äº†ä¸€äº›é›å½¢ï¼š ä½†æ˜¯è¿™ä¹Ÿåªæ˜¯è®¾è®¡äº†APIï¼Œå…·ä½“éƒ½è¿˜æ²¡æœ‰å®ç°ï¼Œè¿™äº›å°±åœ¨å†™åå°çš„æ—¶å€™æ¥å®Œå–„äº†ï¼Œå…·ä½“çš„è¿™äº›å†…å®¹æ€ä¹ˆæ˜¾ç¤ºå‡ºæ¥çš„ï¼Œæˆ‘ç»™ä¸€ä¸ªã€SortControllerã€‘çš„å‚è€ƒç±»ï¼š /** * åˆ†ç±»ä¿¡æ¯æ§åˆ¶å™¨ * * @author:wmyskxz * @create:2018-06-14-ä¸‹åˆ 13:25 */ @RestController @RequestMapping(\"/api/sort\") public class SortController { /** * è·å–æ‰€æœ‰åˆ†ç±»ä¿¡æ¯ * * @return */ @ApiOperation(\"è·å–æ‰€æœ‰åˆ†ç±»ä¿¡æ¯\") @GetMapping(\"/list\") public List&lt;SortInfo> listAllSortInfo() { return null; } /** * é€šè¿‡idè·å–ä¸€æ¡åˆ†ç±»ä¿¡æ¯ * * @param id * @return */ @ApiOperation(\"è·å–æŸä¸€æ¡åˆ†ç±»ä¿¡æ¯\") @ApiImplicitParam(name = \"id\", value = \"åˆ†ç±»ID\", required = true, dataType = \"Long\") @GetMapping(\"/{id}\") public SortInfo getSortInfoById(@PathVariable Long id) { return null; } /** * å¢åŠ ä¸€æ¡åˆ†ç±»ä¿¡æ¯æ•°æ® * * @return */ @ApiOperation(\"å¢åŠ åˆ†ç±»ä¿¡æ¯\") @ApiImplicitParam(name = \"name\", value = \"åˆ†ç±»åç§°\", required = true, dataType = \"String\") @PostMapping(\"\") public String addSortInfo() { return null; } /** * æ›´æ–°/ç¼–è¾‘ä¸€æ¡æ•°æ® * * @param id * @return */ @ApiOperation(\"æ›´æ–°/ç¼–è¾‘åˆ†ç±»ä¿¡æ¯\") @ApiImplicitParam(name = \"id\", value = \"åˆ†ç±»ID\", required = true, dataType = \"Long\") @PutMapping(\"/{id}\") public String updateSortInfo(@PathVariable Long id) { return null; } /** * æ ¹æ®IDåˆ é™¤åˆ†ç±»ä¿¡æ¯ * * @param id * @return */ @ApiOperation(\"åˆ é™¤åˆ†ç±»ä¿¡æ¯\") @ApiImplicitParam(name = \"id\", value = \"åˆ†ç±»ID\", required = true, dataType = \"Long\") @DeleteMapping(\"/{id}\") public String deleteSortInfo(@PathVariable Long id) { return null; } } ç®€å•ä»‹ç»ä¸€ä¸‹è¿™äº›Swagger2çš„æ³¨è§£å§ï¼š @ApiOperationï¼šç”¨äºç»™APIè®¾ç½®æç¤ºä¿¡æ¯ï¼Œå°±ä¸Šå›¾ä¸­å³è¾¹æ˜¾ç¤ºçš„é‚£äº›ï¼Œé»˜è®¤ä¸å†™çš„æƒ…å†µä¸‹æ˜¯valueå±æ€§ï¼Œè¿˜å¯ä»¥å¤šå†™ä¸€ä¸ªnoteså±æ€§ï¼Œç”¨äºè¯¦ç»†çš„æè¿°APIï¼Œè¿™é‡Œå°±ä¸éœ€è¦äº†ï¼Œéƒ½è¿˜æ¯”è¾ƒç®€å•ï¼› @ApiImplicaitParamï¼šç”¨äºè¯´æ˜APIçš„å‚æ•°ä¿¡æ¯ï¼ŒåŠ äº†sçš„æ³¨è§£åŒç†ï¼Œå†™äº†è¿™ä¸ªä¹‹åå‘¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨Swagger2ç»™æˆ‘ä»¬çš„ä¿¡æ¯é¡µé¢è¿›è¡Œæµ‹è¯•äº†ï¼Œå½“ç„¶è¿™é‡Œæ²¡æœ‰å…·ä½“å®ç°ï¼Œä¹Ÿå¯ä»¥æ¥çœ‹ä¸€ä¸‹ï¼ˆä¸‹å›¾ï¼‰ï¼› è¿™é‡Œæ²¡æœ‰å…·ä½“å®ç°æ‰€ä»¥å°±ä¸è¶³ä»¥å®Œæˆæµ‹è¯•ï¼Œç­‰åˆ°åå°ç¼–å†™çš„æ—¶å€™å†è¿›è¡Œæµ‹è¯•å§â€¦ æ€»ç»“è‡³æ­¤å‘¢ï¼Œæˆ‘ä»¬é¡¹ç›®æ‰€éœ€è¦çš„å‡†å¤‡å°±å·®ä¸å¤šå®Œæˆäº†ï¼Œæƒ³è¦å»åšä¸€ä¸ªä¸œè¥¿å¿…é¡»è¦æ¸…æ¥šçš„çŸ¥é“è¦çš„æ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œè¿™æ ·æ‰èƒ½æ›´åŠ å¥½çš„å®Œæˆæˆ‘ä»¬çš„äº§å“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å–œæ¬¢å’Œåšä¿¡çš„äº‹æƒ…ï¼šæ–¹å‘æ°¸è¿œæ¯”åŠªåŠ›é‡è¦ï¼ï¼ˆå¼ºè¡Œæœ‰è”ç³»..hhhhï¼‰ å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼š æˆ‘åœ¨æƒ³æ–‡ç« ä¿¡æ¯å’Œå†…å®¹åˆ†æˆäº†ä¸¤ä¸ªè¡¨çš„é—®é¢˜ï¼Œè¿™æ ·çš„è®¾è®¡æˆ‘è§‰å¾—æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ä½œä¸ºå‰ç«¯å¹¶ä¸å…³å¿ƒè¿™äº›æ•°æ®åº“çš„è®¾è®¡ï¼Œä»–åªè¦èƒ½æ‹¿åˆ°å¯¹è±¡å°±å¯ä»¥äº†ï¼Œåœ¨è®¾è®¡ API çš„æ—¶å€™ï¼Œå°±å‘ç°è·å¾—ä¸€ç¯‡æ–‡ç« ï¼Œéœ€è¦ä»ä¸‰ä¸ªè¡¨ï¼ˆæ–‡ç« ä¿¡æ¯/æ–‡ç« å†…å®¹/è¯„è®ºï¼‰å»è·å–ä¿¡æ¯å¹¶å°è£…è¿”å›å‰ç«¯ï¼Œè¿™å°±éœ€è¦è‡ªå·±åœ¨åå°å¦å¤–å†™ä¸€ä¸ªå®ä½“ç±»å»å°è£…è¿™äº›ä¿¡æ¯ï¼Œè¿™æ— ç–‘å¢åŠ äº†æˆ‘ä»¬çš„ä»£ç å·¥ä½œé‡ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ³•è§£å†³å‘¢ï¼Ÿ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å¤§ä¸‰å°ç™½åˆæ¬¡æ¥è§¦å°é—­å¼å¼€å‘æ€»ç»“","slug":"å¤§ä¸‰å°ç™½åˆæ¬¡æ¥è§¦å°é—­å¼å¼€å‘æ€»ç»“","date":"2018-06-10T22:34:00.000Z","updated":"2020-08-03T09:01:08.136Z","comments":true,"path":"2018/06/11/da-san-xiao-bai-chu-ci-jie-hong-feng-bi-shi-kai-fa-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/06/11/da-san-xiao-bai-chu-ci-jie-hong-feng-bi-shi-kai-fa-zong-jie/","excerpt":"","text":"å‰è¨€ï¼šä¸€æ™ƒçœ¼éƒ½å·®ä¸å¤š11å¤©æ²¡æœ‰æ›´æ–°äº†ï¼Œå·®ä¸€ç‚¹éƒ½ä»¥ä¸ºè‡ªå·±æ¾æ‡ˆæ²¡æœ‰åŠªåŠ›äº†ï¼Œhhhâ€¦è¿™å‡ å¤©å»è·Ÿç€ä¸€ä¸ªé¡¹ç›®ç»„åœ¨é…’åº—å°é—­å¼å¼€å‘ï¼Œç»è¿‡äº†å››å¤©ï¼Œä»Šå¤©ç®—æ˜¯å›å½’å­¦æ ¡å®ä¹ çš„é˜Ÿä¼ä¸­ï¼ˆæ—¶é—´å†²çªæ‰¾äº†ä¸ªäººå…ˆæ›¿æˆ‘å»äº†å­¦æ ¡å®‰æ’çš„å®ä¹ å•ä½..ï¼‰ï¼Œæ—¶é—´è™½çŸ­ï¼Œä½†æ˜¯å­¦ä¹ åˆ°äº†å¾ˆå¤šä¸œè¥¿è¿™é‡Œåšä¸€ä¸‹ç®€çŸ­çš„æ€»ç»“ èƒŒæ™¯å­¦é™¢å¤§ä¸‰çš„æœŸæœ«ä¼¼ä¹æ€»æ˜¯è¿™æ ·ï¼Œä¼šåœ¨6æœˆåˆçš„æ—¶å€™ä¸æ˜¯è‡ªå·±å‡ºå»æ‰¾åˆ°å®ä¹ ï¼Œä¸ç„¶å°±ä¼šè¦æ±‚ä½ å»åˆ°å­¦æ ¡å®‰æ’çš„å®ä¹ ä¸­å»ï¼ˆè‡ªå·±é€‰æ‹©å®ä¹ çš„æ–¹å‘ï¼‰ï¼Œæ‰€ä»¥åœ¨æˆ‘é€‰æ‹©äº†Java Webæ–¹å‘ï¼Œç¬¬äºŒå¤©å°±å‡†å¤‡å»å®ä¹ çš„æ—¶å€™ï¼Œçªç„¶æ¥è§¦åˆ°äº†ä¸€ä¸ªæ€¥éœ€ä¸Šçº¿çš„é¡¹ç›®ï¼ˆå¾ˆæ€¥ï¼‰ï¼Œä»–ä»¬æ˜¯ä»åŒ—äº¬æ¥çš„å…¬å¸åœ¨è¿™å„¿çš„é…’åº—å°é—­å¼å¼€å‘ï¼Œéœ€è¦æˆ‘ä»¬å·¥ä½œå®¤çš„äººå»è·Ÿè¿›ï¼Œæˆ‘è§‰å¾—æœºä¼šéš¾å¾—ï¼› å®ä¹  &amp; å°é—­å¼å¼€å‘ä¸€æ–¹é¢æ˜¯å­¦æ ¡å®‰æ’çš„å®ä¹ ï¼Œä¸€æ–¹é¢æ˜¯ä»æœªæ¥è§¦è¿‡çš„å°é—­å¼å¼€å‘ï¼Œæˆ‘æ¯«ä¸çŠ¹è±«çš„é€‰æ‹©äº†åè€…ï¼Œå› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼Œå­¦æ ¡å®‰æ’çš„å®ä¹ æ— éæ˜¯å­¦æ ¡èŠ±é’±è¯·çš„åŸ¹è®­è€å¸ˆï¼Œå­¦ä¸€äº›åœ¨å­¦æ ¡çš„å­¦ä¹ ä¸­ä¸ä¼šæ¥è§¦ä½†æ˜¯è‡ªå·±å·²ç»å­¦ä¹ è¿‡çš„æ¡†æ¶æ–¹é¢çš„çŸ¥è¯†ï¼Œè€Œåè€…åˆ™ä¼šè®©æˆ‘å­¦ä¹ åˆ°ä¸€äº›æ›´åŠ å®é™…æ›´åŠ çœŸå®çš„ç»éªŒå’Œç»å†ï¼Œé¢å¯¹è¿™æ ·çš„é€‰æ‹©ï¼Œæˆ‘ä¼¼ä¹æ²¡æœ‰æ€ä¹ˆçŠ¹è±«ï¼› è·Ÿç€ä½è¿›é…’åº—å½“æˆ‘èƒŒç€æˆ‘çš„ç”µè„‘åŒ…ä½è¿›é…’åº—ï¼Œè¿ä¸Šå›¢é˜Ÿçš„SVNä¸‹è½½å¥½æºç çš„é‚£ä¸€åˆ»ï¼Œè¯´å®è¯è®©æˆ‘å…´å¥‹å¾—ä¸è¡Œï¼Œè™½ç„¶ç”¨çš„æ˜¯æˆ‘è‡ªå·±æ²¡æœ‰æ¥è§¦å’Œå­¦ä¹ è¿‡çš„ Hibernate æ¡†æ¶é‚£ä¸€å¥—ï¼Œå­˜å›¾ç‰‡ç”¨çš„åŒæ ·æ˜¯æˆ‘ä¸ç†Ÿæ‚‰çš„ Mango ï¼Œä½†æˆ‘çœ‹ç€æºç ï¼Œå¿ƒé‡Œæœ‰ä¸€ç§è¯´ä¸å‡ºæ¥çš„å¼€å¿ƒï¼› æŠ€æœ¯è‡ªä¿¡ä¸€å¼€å§‹è®©æˆ‘æ„Ÿå—æœ€æ·±çš„ä¸œè¥¿ï¼Œæˆ–è€…è¯´æ„Ÿå—æœ€æ·±çš„è¯ï¼Œå°±æ˜¯ â€œæŠ€æœ¯è‡ªä¿¡â€ï¼Œæˆ‘å‘ç°ä»æˆ‘å°ç™½çš„ç«‹åœºå»èå…¥ä¸€ä¸ªé™Œç”Ÿçš„å›¢é˜Ÿï¼Œå®åœ¨æ˜¯æœ‰äº›ä¸å®¹æ˜“ï¼Œè™½ç„¶ä¸€å¼€å§‹å¹¶æ²¡æœ‰è®©æˆ‘å»å†™ä¸€äº›ä»€ä¹ˆä¸œè¥¿ï¼Œåªæ˜¯è®©æˆ‘ä»æœ€ç®€å•çš„å¸®å¿™è°ƒä¸€ä¸‹å‰ç«¯æ ·å¼å¼€å§‹ï¼Œä½†æ˜¯è·Ÿé™Œç”Ÿäººæ‰“äº¤é“ï¼Œè·Ÿé™Œç”Ÿå›¢é˜Ÿäº¤æµè¿™äº›æ— ä¸€ä¸æ˜¯è‡ªå·±é™Œç”Ÿçš„ä¸œè¥¿ï¼Œæ„Ÿè§‰å°±æˆ‘ä¸€ä¸ªäººå°±è¢«æ‰”é‚£å„¿äº†â€¦ æœ€å¼€å§‹æˆ‘éƒ½ä¸æ•¢å»æ”¹ä¸æ•¢å»å†™ä¸€äº›ä¸œè¥¿ï¼Œå› ä¸ºæ€•é”™ï¼ï¼Œå’Œæˆ‘è‡ªå·±ç‹¬ç«‹å¼€å‘æ—¶çš„çŠ¶æ€å®Œå…¨ä¸åŒï¼Œæœ€å¼€å§‹æˆ‘æ²¡æœ‰ä¸€ä¸ç‚¹çš„è‡ªä¿¡ï¼Œä¸€æ–¹é¢æ˜¯é¢å¯¹é™Œç”Ÿçš„å›¢é˜Ÿï¼Œä¸€æ–¹é¢æ˜¯æ¡†æ¶çš„ä¸ç†Ÿæ‚‰ï¼Œæ‰€ä»¥æˆ‘æ‰¾é¡¹ç›®è´Ÿè´£äººå†³å®šè¦äº›ä»£ç å†™å†™ï¼Œå¯æ˜¯ä¸€å¼€å§‹å¾—åˆ°çš„å›ç­”å¤§æ¦‚éƒ½æ˜¯ï¼šâ€œè¿™ä¸ªä¸šåŠ¡é€»è¾‘å¤ªå¤æ‚äº†ä½ ä¸ä¼šâ€ã€â€œé‚£ä¸ªå¤ªç¹çäº†ä¸æ•¢ç»™ä½ å†™â€ï¼Œæˆ‘çš„ä»»åŠ¡ä¸€å¼€å§‹å°±æ˜¯æ‰“è¾…åŠ©ï¼Œæˆ‘å¾ˆæ˜ç¡®è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥æˆ‘å°±å¼€å§‹ä¸€è¾¹é»˜é»˜æ»‘æ°´ä¸€è¾¹å°½é‡ä¸ç»™ä»–ä»¬æ‰¾éº»çƒ¦çš„ç»™æ•´ä¸ªç³»ç»ŸçŒæ•°æ®æµ‹BUGï¼Œæˆ‘å˜æˆäº†æµ‹è¯•äººå‘˜â€¦æµ‹è¯•æˆ‘è¿˜ä¸æ€ä¹ˆä¼šâ€¦ å¸®å¿™æçš„ä¸œè¥¿ä»Šå¤©ç®—æ˜¯å›åˆ°å­¦æ ¡å®ä¹ å¤§é˜Ÿä¼ï¼Œä½†æ˜¯å›æ¥çš„ç¬¬ä¸€å¤©è€å¸ˆå°±è¯·å‡ï¼Œè´Ÿè´£è€å¸ˆå°±å¼€å§‹å«ç»„é•¿å‡ºå»å•†é‡æä»€ä¹ˆæ´»åŠ¨ç©å„¿ä»€ä¹ˆâ€¦æˆ‘ä¹Ÿæ˜¯ä¸€è„¸æ‡µï¼›è™½ç„¶ä¸€ç›´éƒ½æ˜¯æ‰“è¾…åŠ©ï¼Œæä¸€äº›ç®€å•çš„ä¸œè¥¿ï¼Œä½†è¿˜æ˜¯æè¿‡ä¸€äº›ä¸œè¥¿çš„ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼š å¸®å¿™è°ƒæ•´äº†ä¸€ä¸‹åå°é¡µé¢è¡¨ä¸­åˆ—çš„å®½åº¦ï¼Œä½¿å®ƒæ›´åŠ å‹å–„ï¼ˆä¹‹å‰ä¸€äº›è¯¸å¦‚åºå·å•Šç¼–ç å•Šä¹‹ç±»çš„å­—æ®µå å¾ˆé•¿ï¼Œå°±æŠŠåé¢çš„åˆ—ç»™æŒ¤äº†ï¼‰ ç»™æ•°æ®åº“æäº†17Wå·¦å³çš„æ•°æ®ï¼Œå¸®å¿™æµ‹è¯•äº†ä¸€ä¸‹å¯¼å…¥çš„é€Ÿåº¦ï¼Œæ£€ç´¢çš„é€Ÿåº¦ï¼Œç³»ç»Ÿæ˜¯ç›´æ¥ä½¿ç”¨ Hibernate æ“ä½œæ•°æ®åº“çš„ï¼Œæˆ‘æŸ¥åˆ°è¿™ç©æ„å„¿ç“¶é¢ˆæŒºå¤§ï¼Œæƒ³ç»™è‡ªå·±ä¼˜åŒ–ä¼˜åŒ–çš„ï¼Œåæ¥æ²¡æˆâ€¦. æœ‰ä¸€äº›ä»£ç æ³¨é‡Šæ²¡å¯¹é½ä¹‹ç±»çš„æˆ‘ç»™æå¥½çœ‹äº†ï¼Œæœ‰ä¸€äº› For å¾ªç¯é‡Œæ–°å»ºå†—ä½™ç±»çš„æˆ‘ç»™æå‡ºæ¥äº†â€¦ å‰ç«¯æ–¹é¢ä¿®å¤äº†ä¸€ä¸‹å…³é—­æŒ‰é’®æ²¡å…³è”ä¸Šä¸èµ·ä½œç”¨çš„é—®é¢˜ï¼Œä¿®å¤äº†åˆ†é¡µä¸­å¯é€‰æ¯é¡µæ˜¾ç¤ºæ•°æ®ä¸èµ·ä½œç”¨çš„é—®é¢˜ï¼Œç»™å¯¼å…¥æ•°æ®çš„æ¯ä¸€ä¸ªé¡µé¢å¢åŠ äº†ä¸€ä¸ª loading ç­‰å¾…æç¤ºï¼ˆä¹‹å‰å¯¼å…¥ç¨å¾®å¤šä¸€ç‚¹å„¿è¿˜ä»¥ä¸ºç³»ç»Ÿå¡äº†ï¼Œæ²¡ä»»ä½•æç¤ºï¼‰ ä» Excel å¯¼å…¥çš„æ—¶å€™å¢åŠ äº†å¯¹ç©ºæ ¼çš„å¤„ç†ï¼Œè®©å¯¼å…¥çš„æ•°æ®æ›´åŠ è§„èŒƒåŒ–ï¼ˆå› ä¸ºä¸èƒ½æ§åˆ¶ç”¨æˆ·çš„è¡Œä¸ºâ€¦ï¼‰ é‡æ„äº†ä¸€ä¸‹æ•°æ®åº“ï¼Œå› ä¸ºä¹‹å‰çš„æ•°æ®åº“æœ‰ä¸€ç±»åº“å…¨æ˜¯ç”¨çš„ç¼–ç åšä¸»é”®ï¼Œå­˜åœ¨ä¸åŒè´¦æˆ·æ·»åŠ ç›¸åŒç¼–ç è¦†ç›–çš„é—®é¢˜ï¼ˆåŸæ¥ä»–ä»¬ä¹Ÿä¼šçŠ¯è¿™æ ·çš„é”™â€¦è«åå–œé—»ä¹è§..hhhhï¼‰ï¼Œæˆ‘ç»™æŠŠè¿™ä¸€ç±»çš„ä»£ç å’Œé¡µé¢éƒ½å¾®è°ƒäº†ä¸€ä¸‹ï¼Œéšè—äº†ä¸€ä¸ªidå±æ€§åšä¸»é”®ï¼› æ€»ç»“emmm..å›å»ç„äº†ä¸€çœ¼å„¿è¿™äº›å¤©æå¾—ä¸œè¥¿ï¼Œç¡®å®å¥½lowï¼Œä½†è¿™ä¸ªé¡¹ç›®è¿‡å»çš„æ—¶å€™å…¶å®å°±åªå·®ä¸€ä¸ªæ¨¡å—æ²¡æœ‰å†™äº†ï¼Œæ‘æ‘ï¼Œæˆ‘æ˜¯è¿™æ ·å®‰æ…°è‡ªå·±çš„â€¦hhhhâ€¦.è™½ç„¶è¿™äº›å¤©å¾ˆçŸ­æš‚ï¼Œä½†è¿˜æ˜¯å­¦åˆ°äº†å¥½å¤šä¸œè¥¿ï¼Œå¾ˆæ„Ÿæ©é‚£ä¸ªé¡¹ç›®è´Ÿè´£äººæ™šä¸Šè¿˜æŠŠæˆ‘æ‹‰ä½è¯´äº†æˆ‘ä¸€é¡¿ï¼Œè™½ç„¶æ˜é¢ä¸Šæ˜¯ç»™æˆ‘å»ºè®®ï¼Œä½†å…¶å®å°±æ˜¯åœ¨è®²æˆ‘æ˜¯ä¸€ä¸ªè¾£é¸¡ï¼Œhhhâ€¦.è¿˜æ˜¯åšä¸€ä¸‹ç®€å•çš„æ€»ç»“å§ï¼š ä¸è¦æ€»æ˜¯â€œæˆ‘ä»¥ä¸ºâ€¦.â€ï¼Œå¾ˆå¤šä¸æ¸…æ¥šä¸æ˜ç¡®çš„åœ°æ–¹å°±è¯¥å»é—®ï¼Œæ¯”å¦‚æˆ‘åœ¨è°ƒæ•´è¡¨æ ¼å®½åº¦çš„æ—¶å€™ä»¥ä¸ºæŸä¸ªå­—æ®µä¸ä¼šå¾ˆé•¿æ‰€ä»¥è°ƒå¾—å·®ä¸å¤šä¸é•¿ä¸çŸ­ï¼Œåæ¥æäº¤ä»£ç ä¸Šå»å°±è¢«å«è¿‡å»ç»™è¯´ä¸€é¡¿ï¼› ç¬¨ç‚¹å°±ç¬¨ç‚¹ï¼Œä½†ä¸€å®šä¸è¦å‡ºé”™ï¼å°±æ¯”å¦‚ä»–ä»¬åˆ†é¡µæ å³è¾¹ç»™æäº†ä¸€ä¸ªå¯ä»¥è®¾ç½®æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ•°æ®çš„è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼Œæˆ‘æµ‹è¯•äº†å‡ ä¸‹æ²¡æœ‰ç”¨ï¼Œå‘ç°ä»£ç ä¸Šæ˜¯åœ¨åŸºç±»ä¸Šå†™æ­»äº†æ¯é¡µæ˜¾ç¤º20è¡Œæ•°æ®ï¼Œæˆ‘è¦å»æŠŠè¿™ä¸ªæ”¹æ‰ï¼Œç¬¬ä¸€ååº”å°±æ˜¯æ‰¾ä¸ªå¿«æ·é”®æŠŠæ‰€æœ‰çš„ç›¸åŒè¯­å¥ç»™æ”¹æ‰ï¼Œä½†æ˜¯å‰è¾ˆè¯´æœ€å¥½åˆ«è¿™æ ·ï¼Œä½ æœ€å¥½æŠŠè®¾ç½®åœ¨åŸºç±»çš„å€¼ç»™æ³¨é‡Šæ‰çœ‹å“ªå„¿æŠ¥é”™å†å»æ”¹ï¼Œç¬¨ç‚¹å°±ç¬¨ç‚¹ï¼Œä½†ä¸€å®šè¦ä¿è¯æ­£ç¡®æ€§ï¼› æ€è·¯å¾ˆé‡è¦ï¼Œæƒ³å¥½å†å¼€å§‹å†™ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´åšä¿¡çš„é“ç†ï¼Œä»»ä½•äº‹æ–¹å‘æ¯”åŠªåŠ›ä¸€å®šæ›´é‡è¦ï¼› æ€ç»´ä¸€å®šä¸èƒ½å±€é™ï¼Œaæ–¹æ³•å¯èƒ½è¡Œä¸é€šï¼Œä½†æ˜¯è¿˜æœ‰bcdeâ€¦zç­‰å…¶ä»–æ–¹æ³•å¯ä»¥é€‰æ‹©å˜›ï¼› ä¸è¦é—®ä¸€äº›ä½çº§çš„é—®é¢˜ï¼Œå…ˆå°è¯•è‡ªå·±è§£å†³ï¼ï¼› æœ€åå¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼šåŸæ¥ä¼ä¸šçº§çš„ä»£ç æ²¡æœ‰å’Œæˆ‘æƒ³è±¡ä¸­çš„å·®è·é‚£ä¹ˆå¤§å˜›ï¼ä¸è¿‡é€»è¾‘å’Œå·¥ç¨‹é‡ä¸Šç¡®å®å¤©å·®åœ°åˆ«ï¼Œå¥½çš„ä¸œè¥¿ä½“ç°å‡ºæ¥çš„ä¸ä»…ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´å¤šçš„æ˜¯ç»†èŠ‚ï¼ è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°èƒ½çœ‹åˆ°æºç å¹¶ä¸”å…±åŒç»´æŠ¤ä»£ç æ˜¯æˆ‘æœ€å¼€å¿ƒçš„äº‹ï¼Œå‘ç°åŸæ¥çº¿ä¸Šä»£ç å’Œè‡ªå·±å†™çš„ä»£ç ä¹Ÿæ²¡æœ‰æƒ³è±¡ä¹‹ä¸­é‚£æ ·çš„å¤©å·®åœ°åˆ«ï¼Œç”šè‡³è§‰å¾—è‡ªå·±å†™å¾—ä»£ç è¦è§„èŒƒä¸€äº›ï¼ˆæ‚„æ‚„è®²..ä»–ä»¬æ‰€æœ‰å­—æ®µå…¨æ˜¯ä¸­æ–‡æ‹¼éŸ³çš„ç¼©å†™â€¦è™½ç„¶çœ‹å¤šäº†æºç è¿˜æŒºå®¹æ˜“ç†è§£å’Œæ–¹ä¾¿çš„ï¼‰..ğŸ˜‚ğŸ˜‚ æ€»ä¹‹è¿˜æœ‰å¾ˆå¤šéœ€è¦å­¦ä¹ çš„åœ°æ–¹ï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œè¦ç§¯ç´¯è¶³å¤Ÿçš„ç»éªŒï¼Œè¦å½¢æˆè‡ªå·±ç‹¬æœ‰çš„æŠ€æœ¯è‡ªä¿¡æ‰èƒ½èµ°å¾—æ›´è¿œ..åŠ æ²¹å‘—ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡!","slug":"Redisã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡","date":"2018-05-30T23:22:00.000Z","updated":"2020-08-03T08:59:30.347Z","comments":true,"path":"2018/05/31/redis-ru-men-jiu-zhe-yi-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/31/redis-ru-men-jiu-zhe-yi-pian/","excerpt":"","text":"Redis æ¦‚è¿°åœ¨æˆ‘ä»¬æ—¥å¸¸çš„Java Webå¼€å‘ä¸­ï¼Œæ— ä¸éƒ½æ˜¯ä½¿ç”¨æ•°æ®åº“æ¥è¿›è¡Œæ•°æ®çš„å­˜å‚¨ï¼Œç”±äºä¸€èˆ¬çš„ç³»ç»Ÿä»»åŠ¡ä¸­é€šå¸¸ä¸ä¼šå­˜åœ¨é«˜å¹¶å‘çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™æ ·çœ‹èµ·æ¥å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯æ˜¯ä¸€æ—¦æ¶‰åŠå¤§æ•°æ®é‡çš„éœ€æ±‚ï¼Œæ¯”å¦‚ä¸€äº›å•†å“æŠ¢è´­çš„æƒ…æ™¯ï¼Œæˆ–è€…æ˜¯ä¸»é¡µè®¿é—®é‡ç¬é—´è¾ƒå¤§çš„æ—¶å€™ï¼Œå•ä¸€ä½¿ç”¨æ•°æ®åº“æ¥ä¿å­˜æ•°æ®çš„ç³»ç»Ÿä¼šå› ä¸ºé¢å‘ç£ç›˜ï¼Œç£ç›˜è¯»/å†™é€Ÿåº¦æ¯”è¾ƒæ…¢çš„é—®é¢˜è€Œå­˜åœ¨ä¸¥é‡çš„æ€§èƒ½å¼Šç«¯ï¼Œä¸€ç¬é—´æˆåƒä¸Šä¸‡çš„è¯·æ±‚åˆ°æ¥ï¼Œéœ€è¦ç³»ç»Ÿåœ¨æçŸ­çš„æ—¶é—´å†…å®Œæˆæˆåƒä¸Šä¸‡æ¬¡çš„è¯»/å†™æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™å¾€å¾€ä¸æ˜¯æ•°æ®åº“èƒ½å¤Ÿæ‰¿å—çš„ï¼Œæå…¶å®¹æ˜“é€ æˆæ•°æ®åº“ç³»ç»Ÿç˜«ç—ªï¼Œæœ€ç»ˆå¯¼è‡´æœåŠ¡å®•æœºçš„ä¸¥é‡ç”Ÿäº§é—®é¢˜ã€‚ NoSQL æŠ€æœ¯ä¸ºäº†å…‹æœä¸Šè¿°çš„é—®é¢˜ï¼ŒJava Webé¡¹ç›®é€šå¸¸ä¼šå¼•å…¥NoSQLæŠ€æœ¯ï¼Œè¿™æ˜¯ä¸€ç§åŸºäºå†…å­˜çš„æ•°æ®åº“ï¼Œå¹¶ä¸”æä¾›ä¸€å®šçš„æŒä¹…åŒ–åŠŸèƒ½ã€‚ Rediså’ŒMongoDBæ˜¯å½“å‰ä½¿ç”¨æœ€å¹¿æ³›çš„NoSQLï¼Œè€Œå°±RedisæŠ€æœ¯è€Œè¨€ï¼Œå®ƒçš„æ€§èƒ½ååˆ†ä¼˜è¶Šï¼Œå¯ä»¥æ”¯æŒæ¯ç§’åå‡ ä¸‡æ­¤çš„è¯»/å†™æ“ä½œï¼Œå…¶æ€§èƒ½è¿œè¶…æ•°æ®åº“ï¼Œå¹¶ä¸”è¿˜æ”¯æŒé›†ç¾¤ã€åˆ†å¸ƒå¼ã€ä¸»ä»åŒæ­¥ç­‰é…ç½®ï¼ŒåŸåˆ™ä¸Šå¯ä»¥æ— é™æ‰©å±•ï¼Œè®©æ›´å¤šçš„æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæ›´è®©äººæ¬£æ…°çš„æ˜¯å®ƒè¿˜æ”¯æŒä¸€å®šçš„äº‹åŠ¡èƒ½åŠ›ï¼Œè¿™ä¿è¯äº†é«˜å¹¶å‘çš„åœºæ™¯ä¸‹æ•°æ®çš„å®‰å…¨å’Œä¸€è‡´æ€§ã€‚ Redis åœ¨ Java Web ä¸­çš„åº”ç”¨Redis åœ¨ Java Web ä¸»è¦æœ‰ä¸¤ä¸ªåº”ç”¨åœºæ™¯ï¼š å­˜å‚¨ ç¼“å­˜ ç”¨çš„æ•°æ®ï¼› éœ€è¦é«˜é€Ÿè¯»/å†™çš„åœºåˆä½¿ç”¨å®ƒå¿«é€Ÿè¯»/å†™ï¼› ç¼“å­˜åœ¨æ—¥å¸¸å¯¹æ•°æ®åº“çš„è®¿é—®ä¸­ï¼Œè¯»æ“ä½œçš„æ¬¡æ•°è¿œè¶…å†™æ“ä½œï¼Œæ¯”ä¾‹å¤§æ¦‚åœ¨ 1:9 åˆ° 3:7ï¼Œæ‰€ä»¥éœ€è¦è¯»çš„å¯èƒ½æ€§æ˜¯æ¯”å†™çš„å¯èƒ½å¤§å¾—å¤šçš„ã€‚å½“æˆ‘ä»¬ä½¿ç”¨SQLè¯­å¥å»æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œæ•°æ®åº“å°±ä¼šå»ç£ç›˜æŠŠå¯¹åº”çš„æ•°æ®ç´¢å¼•å–å›æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ…¢çš„è¿‡ç¨‹ã€‚ å¦‚æœæˆ‘ä»¬æŠŠæ•°æ®æ”¾åœ¨ Redis ä¸­ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æ”¾åœ¨å†…å­˜ä¹‹ä¸­ï¼Œè®©æœåŠ¡ç«¯ç›´æ¥å»è¯»å–å†…å­˜ä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™æ ·é€Ÿåº¦æ˜æ˜¾å°±ä¼šå¿«ä¸Šä¸å°‘ï¼Œå¹¶ä¸”ä¼šæå¤§å‡å°æ•°æ®åº“çš„å‹åŠ›ï¼Œä½†æ˜¯ä½¿ç”¨å†…å­˜è¿›è¡Œæ•°æ®å­˜å‚¨å¼€é”€ä¹Ÿæ˜¯æ¯”è¾ƒå¤§çš„ï¼Œé™äºæˆæœ¬çš„åŸå› ï¼Œä¸€èˆ¬æˆ‘ä»¬åªæ˜¯ä½¿ç”¨ Redis å­˜å‚¨ä¸€äº›å¸¸ç”¨å’Œä¸»è¦çš„æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•çš„ä¿¡æ¯ç­‰ã€‚ ä¸€èˆ¬è€Œè¨€åœ¨ä½¿ç”¨ Redis è¿›è¡Œå­˜å‚¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥è€ƒè™‘ï¼š ä¸šåŠ¡æ•°æ®å¸¸ç”¨å—ï¼Ÿå‘½ä¸­ç‡å¦‚ä½•ï¼Ÿå¦‚æœå‘½ä¸­ç‡å¾ˆä½ï¼Œå°±æ²¡æœ‰å¿…è¦å†™å…¥ç¼“å­˜ï¼› è¯¥ä¸šåŠ¡æ•°æ®æ˜¯è¯»æ“ä½œå¤šï¼Œè¿˜æ˜¯å†™æ“ä½œå¤šï¼Ÿå¦‚æœå†™æ“ä½œå¤šï¼Œé¢‘ç¹éœ€è¦å†™å…¥æ•°æ®åº“ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ä½¿ç”¨ç¼“å­˜ï¼› ä¸šåŠ¡æ•°æ®å¤§å°å¦‚ä½•ï¼Ÿå¦‚æœè¦å­˜å‚¨å‡ ç™¾å…†å­—èŠ‚çš„æ–‡ä»¶ï¼Œä¼šç»™ç¼“å­˜å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™æ ·ä¹Ÿæ²¡æœ‰å¿…è¦ï¼› åœ¨è€ƒè™‘äº†è¿™äº›é—®é¢˜ä¹‹åï¼Œå¦‚æœè§‰å¾—æœ‰å¿…è¦ä½¿ç”¨ç¼“å­˜ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å®ƒï¼ä½¿ç”¨ Redis ä½œä¸ºç¼“å­˜çš„è¯»å–é€»è¾‘å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ä»¥ä¸‹ä¸¤ç‚¹ï¼š å½“ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œè¯»å– Redis çš„æ•°æ®å°±ä¼šå¤±è´¥ï¼Œæ­¤æ—¶å°±ä¼šè§¦å‘ç¨‹åºè¯»å–æ•°æ®åº“ï¼ŒæŠŠæ•°æ®è¯»å–å‡ºæ¥ï¼Œå¹¶ä¸”å†™å…¥ Redis ä¸­ï¼› å½“ç¬¬äºŒæ¬¡ä»¥åŠä»¥åéœ€è¦è¯»å–æ•°æ®æ—¶ï¼Œå°±ä¼šç›´æ¥è¯»å– Redisï¼Œè¯»åˆ°æ•°æ®åå°±ç»“æŸäº†æµç¨‹ï¼Œè¿™æ ·é€Ÿåº¦å°±å¤§å¤§æé«˜äº†ã€‚ ä»ä¸Šé¢çš„åˆ†æå¯ä»¥çŸ¥é“ï¼Œè¯»æ“ä½œçš„å¯èƒ½æ€§æ˜¯è¿œå¤§äºå†™æ“ä½œçš„ï¼Œæ‰€ä»¥ä½¿ç”¨ Redis æ¥å¤„ç†æ—¥å¸¸ä¸­éœ€è¦ç»å¸¸è¯»å–çš„æ•°æ®ï¼Œé€Ÿåº¦æå‡æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†å¯¹æ•°æ®åº“çš„ä¾èµ–ï¼Œä½¿å¾—æ•°æ®åº“çš„å‹åŠ›å¤§å¤§å‡å°‘ã€‚ åˆ†æäº†è¯»æ“ä½œçš„é€»è¾‘ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å†™æ“ä½œçš„æµç¨‹ï¼š ä»æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œæ›´æ–°æˆ–è€…å†™å…¥çš„æ“ä½œï¼Œéœ€è¦å¤šä¸ª Redis çš„æ“ä½œï¼Œå¦‚æœä¸šåŠ¡æ•°æ®å†™æ¬¡æ•°è¿œå¤§äºè¯»æ¬¡æ•°é‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦ä½¿ç”¨ Redisã€‚ å…³äºä½¿ç”¨å†…å­˜å­˜å‚¨æ•°æ®ï¼Œæˆ‘çŸ¥é“è°·æ­Œå¥½åƒå°±æ˜¯æŠŠæ‰€æœ‰äº’è”ç½‘çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å†…å­˜æ¡çš„ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰å¦‚æ­¤é«˜è´¨é‡ã€é«˜æ•ˆçš„æœç´¢ï¼Œä½†å®ƒæ¯•ç«Ÿæ˜¯è°·æ­Œâ€¦ é«˜é€Ÿè¯»/å†™çš„åœºåˆåœ¨å¦‚ä»Šçš„äº’è”ç½‘ä¸­ï¼Œè¶Šæ¥è¶Šå¤šçš„å­˜åœ¨é«˜å¹¶å‘çš„æƒ…å†µï¼Œæ¯”å¦‚å¤©çŒ«åŒ11ã€æŠ¢çº¢åŒ…ã€æŠ¢æ¼”å”±ä¼šé—¨ç¥¨ç­‰ï¼Œè¿™äº›åœºåˆéƒ½æ˜¯åœ¨æŸä¸€ä¸ªç¬é—´æˆ–è€…æ˜¯æŸä¸€ä¸ªçŸ­æš‚çš„æ—¶åˆ»æœ‰æˆåƒä¸Šä¸‡çš„è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œå¦‚æœå•çº¯çš„ä½¿ç”¨æ•°æ®åº“æ¥è¿›è¡Œå¤„ç†ï¼Œå°±ç®—ä¸å´©ï¼Œä¹Ÿä¼šå¾ˆæ…¢çš„ï¼Œè½»åˆ™é€ æˆç”¨æˆ·ä½“éªŒæå·®ç”¨æˆ·é‡æµå¤±ï¼Œé‡åˆ™æ•°æ®åº“ç˜«ç—ªï¼ŒæœåŠ¡å®•æœºï¼Œè€Œè¿™æ ·çš„åœºåˆéƒ½æ˜¯ä¸å…è®¸çš„ï¼ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ Redis æ¥åº”å¯¹è¿™æ ·çš„é«˜å¹¶å‘éœ€æ±‚çš„åœºåˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€æ¬¡è¯·æ±‚æ“ä½œçš„æµç¨‹å›¾ï¼š æˆ‘ä»¬æ¥è¿›ä¸€æ­¥é˜è¿°è¿™ä¸ªè¿‡ç¨‹ï¼š å½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼Œåªæ˜¯æŠŠä¸šåŠ¡æ•°æ®åœ¨ Redis ä¸Šè¿›è¡Œè¯»å†™ï¼Œè€Œæ²¡æœ‰å¯¹æ•°æ®åº“è¿›è¡Œä»»ä½•çš„æ“ä½œï¼Œè¿™æ ·å°±èƒ½å¤§å¤§æé«˜è¯»å†™çš„é€Ÿåº¦ï¼Œä»è€Œæ»¡è¶³é«˜é€Ÿå“åº”çš„éœ€æ±‚ï¼› ä½†æ˜¯è¿™äº›ç¼“å­˜çš„æ•°æ®ä»ç„¶éœ€è¦æŒä¹…åŒ–ï¼Œä¹Ÿå°±æ˜¯å­˜å…¥æ•°æ®åº“ä¹‹ä¸­ï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªè¯·æ±‚æ“ä½œå®Œ Redis çš„è¯»/å†™ä¹‹åï¼Œä¼šå»åˆ¤æ–­è¯¥é«˜é€Ÿè¯»/å†™çš„ä¸šåŠ¡æ˜¯å¦ç»“æŸï¼Œè¿™ä¸ªåˆ¤æ–­é€šå¸¸ä¼šåœ¨ç§’æ€å•†å“ä¸º0ï¼Œçº¢åŒ…é‡‘é¢ä¸º0æ—¶æˆç«‹ï¼Œå¦‚æœä¸æˆç«‹ï¼Œåˆ™ä¸ä¼šæ“ä½œæ•°æ®åº“ï¼›å¦‚æœæˆç«‹ï¼Œåˆ™è§¦å‘äº‹ä»¶å°† Redis çš„ç¼“å­˜çš„æ•°æ®ä»¥æ‰¹é‡çš„å½¢å¼ä¸€æ¬¡æ€§å†™å…¥æ•°æ®åº“ï¼Œä»è€Œå®ŒæˆæŒä¹…åŒ–çš„å·¥ä½œã€‚ Redis çš„å®‰è£…è®¿é—®åœ°å€ï¼šhttps://github.com/ServiceStack/redis-windows/tree/master/downloads æŠŠ Redis ä¸‹è½½ä¸‹æ¥åæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹è§£å‹ï¼Œå°±èƒ½å¾—åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç›®å½•ï¼ˆè¿™é‡Œç©ºæ ¼è¢«æ›¿æ¢æˆäº†%20â€¦ï¼‰ï¼š ä¸ºäº†æ–¹ä¾¿å¯åŠ¨ï¼Œæˆ‘ä»¬åœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª startup.cmd çš„æ–‡ä»¶ï¼Œç„¶åå°†ä»¥ä¸‹å†…å®¹å†™å…¥æ–‡ä»¶ï¼š redis-server redis.windows.confè¿™ä¸ªå‘½ä»¤å…¶å®å°±æ˜¯åœ¨è°ƒç”¨ redis-server.exe å‘½ä»¤æ¥è¯»å– redis.window.conf çš„å†…å®¹ï¼Œæˆ‘ä»¬åŒå‡»åˆšæ‰åˆ›å»ºå¥½çš„ startup.cmd æ–‡ä»¶ï¼Œå°±èƒ½æˆåŠŸçš„çœ‹åˆ° Redis å¯åŠ¨ï¼š ä¸Šå›¾çš„æç¤ºä¿¡æ¯å‘Šè¯‰äº†æˆ‘ä»¬ï¼šâ‘  Redis å½“å‰çš„ç‰ˆæœ¬ä¸º 3.0.503ï¼›â‘¡ Redis è¿è¡Œåœ¨ 6379 ç«¯å£ï¼›â‘¢ Redis è¿›ç¨‹çš„ PID ä¸º 14748ï¼›â‘£ 64 ä½ã€‚ æˆ‘ä»¬å¯ä»¥æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ redis-cli.exe æ–‡ä»¶ï¼Œè¿™æ˜¯ Redis è‡ªå¸¦çš„ä¸€ä¸ªå®¢æˆ·ç«¯å·¥å…·ï¼Œå®ƒå¯ä»¥ç”¨æ¥è¿æ¥åˆ°æˆ‘ä»¬å½“å‰çš„ Redis æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åšä»¥ä¸‹æµ‹è¯•ï¼š å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾¿åœ¨ Windows çš„ç¯å¢ƒä¸‹å®‰è£…å¥½äº† Redisã€‚ åœ¨ Java ä¸­ä½¿ç”¨ Redisç¬¬ä¸€æ­¥ï¼šæ·»åŠ  Jedis ä¾èµ–æƒ³è¦åœ¨ Java ä¸­ä½¿ç”¨ Redis ç¼“å­˜ï¼Œéœ€è¦æ·»åŠ ç›¸å…³çš„JaråŒ…ä¾èµ–ï¼Œæ‰“å¼€Mavenä»“åº“çš„ç½‘ç«™ï¼šhttps://mvnrepository.com/ ï¼Œæœç´¢Jedisï¼š æŠŠå®ƒå¯¼å…¥å·¥ç¨‹ä¸­å»å°±å¯ä»¥å•¦ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å¯¹Redisçš„å†™å…¥æ€§èƒ½åšä¸€ä¸‹æµ‹è¯•ï¼š @Test public void redisTester() { Jedis jedis = new Jedis(\"localhost\", 6379, 100000); int i = 0; try { long start = System.currentTimeMillis();// å¼€å§‹æ¯«ç§’æ•° while (true) { long end = System.currentTimeMillis(); if (end - start >= 1000) {// å½“å¤§äºç­‰äº1000æ¯«ç§’ï¼ˆç›¸å½“äº1ç§’ï¼‰æ—¶ï¼Œç»“æŸæ“ä½œ break; } i++; jedis.set(\"test\" + i, i + \"\"); } } finally {// å…³é—­è¿æ¥ jedis.close(); } // æ‰“å°1ç§’å†…å¯¹Redisçš„æ“ä½œæ¬¡æ•° System.out.println(\"redisæ¯ç§’æ“ä½œï¼š\" + i + \"æ¬¡\"); } -----------æµ‹è¯•ç»“æœ----------- redisæ¯ç§’æ“ä½œï¼š10734æ¬¡ æ®è¯´ Redis çš„æ€§èƒ½èƒ½è¾¾åˆ°åä¸‡çº§åˆ«ï¼Œæˆ‘ä¸æ•¢ç›¸ä¿¡æˆ‘çš„å°å¼æœºç”µè„‘åªæœ‰ååˆ†ä¹‹ä¸€ä¸åˆ°çš„æ€§èƒ½ï¼Œè™½ç„¶è¯´è¿™é‡Œä¸æ˜¯æµæ°´çº¿çš„æ“ä½œï¼Œä¼šé€ æˆä¸€å®šçš„å½±å“ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸ä¿¡é‚ªï¼Œæˆ‘æŸ¥åˆ°äº†å®˜æ–¹çš„æ€§èƒ½æµ‹è¯•æ–¹æ³•ï¼š é¦–å…ˆåœ¨Redisæ ¹ç›®å½•ä¸‹å¬å”¤Cmdï¼šå…·ä½“æ–¹æ³•æ˜¯æŒ‰ä½ã€Shiftã€‘ç‚¹å‡»å³é”® ç„¶åè¾“å…¥å‘½ä»¤ï¼šã€redis-benchmark -n 100000 -qã€‘ï¼šæ¥åŒæ—¶æ‰§è¡Œ10ä¸‡ä¸ªè¯·æ±‚æµ‹è¯•æ€§èƒ½ å¥½å§ï¼Œæˆ‘åŒæ—¶åœ¨æˆ‘çš„ç¬”è®°æœ¬ä¸Šæµ‹è¯•äº†ä¸€ä¸‹ï¼Œç»“æœæ›´åŠ æƒ¨æ·¡â€¦lowå•Šlowâ€¦ ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Redis è¿æ¥æ± è·Ÿæ•°æ®åº“è¿æ¥æ± ç›¸åŒï¼ŒJava Redisä¹ŸåŒæ ·æä¾›äº†ç±»redis.clients.jedis.JedisPoolæ¥ç®¡ç†æˆ‘ä»¬çš„Reidsè¿æ¥æ± å¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨redis.clients.jedis.JedisPoolConfigæ¥å¯¹è¿æ¥æ± è¿›è¡Œé…ç½®ï¼Œä»£ç å¦‚ä¸‹ï¼š JedisPoolConfig poolConfig = new JedisPoolConfig(); // æœ€å¤§ç©ºé—²æ•° poolConfig.setMaxIdle(50); // æœ€å¤§è¿æ¥æ•° poolConfig.setMaxTotal(100); // æœ€å¤§ç­‰å¾…æ¯«ç§’æ•° poolConfig.setMaxWaitMillis(20000); // ä½¿ç”¨é…ç½®åˆ›å»ºè¿æ¥æ±  JedisPool pool = new JedisPool(poolConfig, \"localhost\"); // ä»è¿æ¥æ± ä¸­è·å–å•ä¸ªè¿æ¥ Jedis jedis = pool.getResource(); // å¦‚æœéœ€è¦å¯†ç  //jedis.auth(\"password\"); Redis åªèƒ½æ”¯æŒå…­ç§æ•°æ®ç±»å‹ï¼ˆstring/hash/list/set/zset/hyperloglogï¼‰çš„æ“ä½œï¼Œä½†åœ¨ Java ä¸­æˆ‘ä»¬å´é€šå¸¸ä»¥ç±»å¯¹è±¡ä¸ºä¸»ï¼Œæ‰€ä»¥åœ¨éœ€è¦ Redis å­˜å‚¨çš„äº”ä¸­æ•°æ®ç±»å‹ä¸ Java å¯¹è±¡ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œå¦‚æœè‡ªå·±ç¼–å†™ä¸€äº›å·¥å…·ç±»ï¼Œæ¯”å¦‚ä¸€ä¸ªè§’è‰²å¯¹è±¡çš„è½¬æ¢ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œä½†æ˜¯æ¶‰åŠåˆ°è®¸å¤šå¯¹è±¡çš„æ—¶å€™ï¼Œè¿™å…¶ä¸­æ— è®ºå·¥ä½œé‡è¿˜æ˜¯å·¥ä½œéš¾åº¦éƒ½æ˜¯å¾ˆå¤§çš„ï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´ï¼Œå°±æ“ä½œå¯¹è±¡è€Œè¨€ï¼Œä½¿ç”¨ Redis è¿˜æ˜¯æŒºéš¾çš„ï¼Œå¥½åœ¨ Spring å¯¹è¿™äº›è¿›è¡Œäº†å°è£…å’Œæ”¯æŒã€‚ ç¬¬ä¸‰æ­¥ï¼šåœ¨ Spring ä¸­ä½¿ç”¨ Redisä¸Šé¢è¯´åˆ°äº† Redis æ— æ³•æ“ä½œå¯¹è±¡çš„é—®é¢˜ï¼Œæ— æ³•åœ¨é‚£äº›åŸºç¡€ç±»å‹å’Œ Java å¯¹è±¡ä¹‹é—´æ–¹ä¾¿çš„è½¬æ¢ï¼Œä½†æ˜¯åœ¨ Spring ä¸­ï¼Œè¿™äº›é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨RedisTemplateå¾—åˆ°è§£å†³ï¼ æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œé™¤äº† Jedis åŒ…ä»¥å¤–è¿˜éœ€è¦åœ¨ Spring å¼•å…¥ spring-data-redis åŒ…ï¼šhttps://mvnrepository.com/artifact/org.springframework.data/spring-data-redis è¿™é‡ŒæŠŠ2.0.7æœ€æ–°ç‰ˆæœ¬æ ‡çº¢çš„æ„æ€æ˜¯ï¼šåˆ«è€æƒ³ç€ä½¿ç”¨æœ€æ–°çš„JaråŒ…ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåˆ°æ¡†æ¶çš„ä¸€äº›ä¸œè¥¿ï¼Œç¬”è€…ç”¨å®é™…çš„æ“ä½œä½“éªŒå‘Šè¯‰ä½ ä»¬ï¼Œå¼•å…¥è¯¥ç‰ˆæœ¬çš„åŒ…æ˜¯ä¼šå¯¼è‡´JaråŒ…å†²çªçš„ï¼ˆä¹Ÿå°±æ˜¯è«åå…¶å¦™çš„é”™è¯¯ï¼‰ï¼Œæˆ‘ä¹–ä¹–æ¢å›äº†1.7.2çš„ç‰ˆæœ¬ï¼Œä»£ç å°±é€šäº†â€¦æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆåšå§ï¼š ï¼ˆ1ï¼‰ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨Springé…ç½®JedisPoolConfigå¯¹è±¡ å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¼šç”¨åˆ°è¿æ¥æ± çš„ï¼Œäºæ˜¯å…ˆç”¨ Spring é…ç½®ä¸€ä¸ª JedisPoolConfig å¯¹è±¡ï¼š &lt;bean id=\"poolConfig\" class=\"redis.clients.jedis.JedisPoolConfig\"> &lt;!--æœ€å¤§ç©ºé—²æ•°--> &lt;property name=\"maxIdle\" value=\"50\"/> &lt;!--æœ€å¤§è¿æ¥æ•°--> &lt;property name=\"maxTotal\" value=\"100\"/> &lt;!--æœ€å¤§ç­‰å¾…æ—¶é—´--> &lt;property name=\"maxWaitMillis\" value=\"20000\"/> &lt;/bean> ï¼ˆ2ï¼‰ç¬¬äºŒæ­¥ï¼šä¸ºè¿æ¥æ± é…ç½®å·¥å‚æ¨¡å‹ å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨é…ç½®å¥½äº†è¿æ¥æ± çš„ç›¸å…³å±æ€§ï¼Œé‚£ä¹ˆå…·ä½“ä½¿ç”¨å“ªç§å·¥å‚å®ç°å‘¢ï¼Ÿåœ¨Spring Data Redisä¸­æœ‰å››ç§å¯ä¾›æˆ‘ä»¬é€‰æ‹©çš„å·¥å‚æ¨¡å‹ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š JredisConnectionFactory JedisConnectionFactory LettuceConnectionFactory SrpConnectionFactory æˆ‘ä»¬è¿™é‡Œå°±ç®€å•é…ç½®æˆJedisConnectionFactoryï¼š &lt;bean id=\"connectionFactory\" class=\"org.springframework.data.redis.connection.jedis.JedisConnectionFactory\"> &lt;!--RedisæœåŠ¡åœ°å€--> &lt;property name=\"hostName\" value=\"localhost\"/> &lt;!--ç«¯å£å·--> &lt;property name=\"port\" value=\"6379\"/> &lt;!--å¦‚æœæœ‰å¯†ç åˆ™éœ€è¦é…ç½®å¯†ç --> &lt;!--&lt;property name=\"password\" value=\"password\"/>--> &lt;!--è¿æ¥æ± é…ç½®--> &lt;property name=\"poolConfig\" ref=\"poolConfig\"/> &lt;/bean> ï¼ˆ3ï¼‰ç¬¬ä¸‰æ­¥ï¼šé…ç½®RedisTemplate æ™®é€šçš„è¿æ¥æ ¹æœ¬æ²¡æœ‰åŠæ³•ç›´æ¥å°†å¯¹è±¡ç›´æ¥å­˜å…¥ Redis å†…å­˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ›¿ä»£çš„æ–¹æ¡ˆï¼šå°†å¯¹è±¡åºåˆ—åŒ–ï¼ˆå¯ä»¥ç®€å•çš„ç†è§£ä¸ºç»§æ‰¿Serializableæ¥å£ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå¯¹è±¡åºåˆ—åŒ–ä¹‹åå­˜å…¥Redisç¼“å­˜ä¸­ï¼Œç„¶ååœ¨å–å‡ºçš„æ—¶å€™åˆé€šè¿‡è½¬æ¢å™¨ï¼Œå°†åºåˆ—åŒ–ä¹‹åçš„å¯¹è±¡ååºåˆ—åŒ–å›å¯¹è±¡ï¼Œè¿™æ ·å°±å®Œæˆäº†æˆ‘ä»¬çš„è¦æ±‚ï¼š RedisTemplateå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆè¿™ä»½å·¥ä½œï¼Œå®ƒä¼šæ‰¾åˆ°å¯¹åº”çš„åºåˆ—åŒ–å™¨å»è½¬æ¢Redisçš„é”®å€¼ï¼š &lt;bean id=\"redisTemplate\" class=\"org.springframework.data.redis.core.RedisTemplate\" p:connection-factory-ref=\"connectionFactory\"/> ç¬”è€…ä»ã€ŠJavaEEäº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ä¸­äº†è§£åˆ°ï¼Œè¿™ä¸€æ­¥éœ€è¦é…ç½®å•ç‹¬çš„åºåˆ—åŒ–å™¨å»æ”¯æ’‘è¿™ä¸€æ­¥çš„å·¥ä½œï¼Œä½†æ˜¯è‡ªå·±åœ¨æµ‹è¯•å½“ä¸­ï¼Œå‘ç°åªè¦æˆ‘ä»¬çš„POJOç±»å®ç°äº†Serializableæ¥å£ï¼Œå°±ä¸ä¼šå‡ºç°é—®é¢˜â€¦æ‰€ä»¥æˆ‘ç›´æ¥çœç•¥æ‰äº†é…ç½®åºåˆ—åŒ–å™¨è¿™ä¸€æ­¥â€¦ ï¼ˆ4ï¼‰ç¬¬å››æ­¥ï¼šç¼–å†™æµ‹è¯• é¦–å…ˆç¼–å†™å¥½æ”¯æŒæˆ‘ä»¬æµ‹è¯•çš„POJOç±»ï¼š /** * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-05-30-ä¸‹åˆ 22:31 */ public class Student implements Serializable{ private String name; private int age; /** * ç»™è¯¥ç±»ä¸€ä¸ªæœåŠ¡ç±»ç”¨äºæµ‹è¯• */ public void service() { System.out.println(\"å­¦ç”Ÿåå­—ä¸ºï¼š\" + name); System.out.println(\"å­¦ç”Ÿå¹´é¾„ä¸ºï¼š\" + age); } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } } ç„¶åç¼–å†™æµ‹è¯•ç±»ï¼š @Test public void test() { ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); RedisTemplate redisTemplate = context.getBean(RedisTemplate.class); Student student = new Student(); student.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"); student.setAge(21); redisTemplate.opsForValue().set(\"student_1\", student); Student student1 = (Student) redisTemplate.opsForValue().get(\"student_1\"); student1.service(); } è¿è¡Œå¯ä»¥æˆåŠŸçœ‹åˆ°ç»“æœï¼š ç¬¬å››æ­¥ï¼šåœ¨ SpringBoot ä¸­ä½¿ç”¨ Redisï¼ˆ1ï¼‰åœ¨SpringBootä¸­æ·»åŠ Redisä¾èµ–ï¼š org.springframework.boot spring-boot-starter-data-redis ï¼ˆ2ï¼‰æ·»åŠ é…ç½®æ–‡ä»¶ï¼š åœ¨SpringBootä¸­ä½¿ç”¨.propertiesæˆ–è€….ymléƒ½å¯ä»¥ï¼Œè¿™é‡Œç»™å‡º.propertiesçš„ä¾‹å­ï¼Œå› ä¸ºè‡ªå·±çš„.ymlæ–‡ä»¶çœ‹ä¸Šå»æ„Ÿè§‰ä¹±ç³Ÿç³Ÿçš„ï¼š # REDIS (RedisProperties) # Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰ spring.redis.database=0 # RedisæœåŠ¡å™¨åœ°å€ spring.redis.host=localhost # RedisæœåŠ¡å™¨è¿æ¥ç«¯å£ spring.redis.port=6379 # RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰ spring.redis.password= # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ spring.redis.pool.max-active=8 # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ spring.redis.pool.max-wait=-1 # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥ spring.redis.pool.max-idle=8 # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥ spring.redis.pool.min-idle=0 # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ spring.redis.timeout=0 ï¼ˆ3ï¼‰æµ‹è¯•è®¿é—®ï¼š @RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest() public class ApplicationTests { @Autowired private StringRedisTemplate stringRedisTemplate; @Test public void test() throws Exception { // ä¿å­˜å­—ç¬¦ä¸² stringRedisTemplate.opsForValue().set(\"aaa\", \"111\"); Assert.assertEquals(\"111\", stringRedisTemplate.opsForValue().get(\"aaa\")); } } é€šè¿‡ä¸Šé¢è¿™æ®µæä¸ºç®€å•çš„æµ‹è¯•æ¡ˆä¾‹æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡è‡ªåŠ¨é…ç½®çš„StringRedisTemplateå¯¹è±¡è¿›è¡ŒRedisçš„è¯»å†™æ“ä½œï¼Œè¯¥å¯¹è±¡ä»å‘½åä¸­å°±å¯æ³¨æ„åˆ°æ”¯æŒçš„æ˜¯Stringç±»å‹ã€‚åŸæœ¬æ˜¯RedisTemplate&lt;K, V&gt;æ¥å£ï¼ŒStringRedisTemplateå°±ç›¸å½“äºRedisTemplate&lt;String, String&gt;çš„å®ç°ã€‚ è¿è¡Œæµ‹è¯•ï¼Œå¦‚æœä¸€åˆ‡æˆåŠŸåˆ™ä¸ä¼šæŠ¥é”™ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‹¿åˆ°æˆ–è€…æ‹¿åˆ°çš„æ•°ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ â€œ111â€ ï¼Œé‚£ä¹ˆåˆ™ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯ä½¿ç”¨Assertçš„å¥½å¤„ï¼ˆä¸‹é¢æ˜¯æˆ‘æ”¹æˆ112ä¹‹åè¿è¡ŒæŠ¥é”™çš„ç»“æœï¼‰ï¼š ï¼ˆ4ï¼‰å­˜å‚¨å¯¹è±¡ï¼š è¿™ä¸€æ­¥è·Ÿä¸Šé¢ä½¿ç”¨Springä¸€æ ·ï¼Œåªéœ€è¦å°†POJOç±»å®ç°Serializableæ¥å£å°±å¯ä»¥äº†ï¼Œæˆ‘è¿™é‡Œå°±è´´ä¸€ä¸‹æµ‹è¯•ä»£ç ï¼š @RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest() public class ApplicationTests { @Autowired private RedisTemplate redisTemplate; @Test public void test() throws Exception { User user = new User(); user.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"); user.setAge(21); redisTemplate.opsForValue().set(\"user_1\", user); User user1 = (User) redisTemplate.opsForValue().get(\"user_1\"); System.out.println(user1.getName()); } } ä»ç„¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼š å‚è€ƒæ–‡ç« ï¼š1.https://www.cnblogs.com/ityouknow/p/5748830.html2.http://blog.didispace.com/springbootredis/ åœ¨Redisä¸­æ“ä½œé›†åˆ å¼•ç”¨æ–‡ç« ï¼šhttps://www.jianshu.com/p/29aaac3172b5 ç›´æ¥é»ä¸Šä¸¤æ®µç®€å•çš„ç¤ºä¾‹ä»£ç ï¼š åœ¨Redisä¸­æ“ä½œList// listæ•°æ®ç±»å‹é€‚åˆäºæ¶ˆæ¯é˜Ÿåˆ—çš„åœºæ™¯:æ¯”å¦‚12306å¹¶å‘é‡å¤ªé«˜ï¼Œè€ŒåŒä¸€æ—¶é—´æ®µå†…åªèƒ½å¤„ç†æŒ‡å®šæ•°é‡çš„æ•°æ®ï¼å¿…é¡»æ»¡è¶³å…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œå…¶ä½™æ•°æ®å¤„äºç­‰å¾… @Test public void listPushResitTest() { // leftPushä¾æ¬¡ç”±å³è¾¹æ·»åŠ  stringRedisTemplate.opsForList().rightPush(\"myList\", \"1\"); stringRedisTemplate.opsForList().rightPush(\"myList\", \"2\"); stringRedisTemplate.opsForList().rightPush(\"myList\", \"A\"); stringRedisTemplate.opsForList().rightPush(\"myList\", \"B\"); // leftPushä¾æ¬¡ç”±å·¦è¾¹æ·»åŠ  stringRedisTemplate.opsForList().leftPush(\"myList\", \"0\"); } @Test public void listGetListResitTest() { // æŸ¥è¯¢ç±»åˆ«æ‰€æœ‰å…ƒç´  List&lt;String> listAll = stringRedisTemplate.opsForList().range(\"myList\", 0, -1); logger.info(\"list all {}\", listAll); // æŸ¥è¯¢å‰3ä¸ªå…ƒç´  List&lt;String> list = stringRedisTemplate.opsForList().range(\"myList\", 0, 3); logger.info(\"list limit {}\", list); } @Test public void listRemoveOneResitTest() { // åˆ é™¤å…ˆè¿›å…¥çš„Bå…ƒç´  stringRedisTemplate.opsForList().remove(\"myList\", 1, \"B\"); } @Test public void listRemoveAllResitTest() { // åˆ é™¤æ‰€æœ‰Aå…ƒç´  stringRedisTemplate.opsForList().remove(\"myList\", 0, \"A\"); } åœ¨Redisä¸­æ“ä½œHash@Test public void hashPutResitTest() { // mapçš„keyå€¼ç›¸åŒï¼Œåæ·»åŠ çš„è¦†ç›–åŸæœ‰çš„ stringRedisTemplate.opsForHash().put(\"banks:12600000\", \"a\", \"b\"); } @Test public void hashGetEntiresResitTest() { // è·å–mapå¯¹è±¡ Map&lt;Object, Object> map = stringRedisTemplate.opsForHash().entries(\"banks:12600000\"); logger.info(\"objects:{}\", map); } @Test public void hashGeDeleteResitTest() { // æ ¹æ®mapçš„keyåˆ é™¤è¿™ä¸ªå…ƒç´  stringRedisTemplate.opsForHash().delete(\"banks:12600000\", \"c\"); } @Test public void hashGetKeysResitTest() { // è·å¾—mapçš„keyé›†åˆ Set&lt;Object> objects = stringRedisTemplate.opsForHash().keys(\"banks:12600000\"); logger.info(\"objects:{}\", objects); } @Test public void hashGetValueListResitTest() { // è·å¾—mapçš„valueåˆ—è¡¨ List&lt;Object> objects = stringRedisTemplate.opsForHash().values(\"banks:12600000\"); logger.info(\"objects:{}\", objects); } @Test public void hashSize() { // è·å–mapå¯¹è±¡å¤§å° long size = stringRedisTemplate.opsForHash().size(\"banks:12600000\"); logger.info(\"size:{}\", size); } æ€»ç»“åœ¨ç½‘ä¸Šçœ‹åˆ°äº†å…³äºMySQLçš„æ€§èƒ½æµ‹è¯•ï¼Œè¯»å†™æ“ä½œå¤§æ¦‚å°±æ¯ç§’1000ä»¥ä¸‹çš„æ ·å­ï¼Œè€Œä¸”è¿™è¿˜å’Œå¼•æ“ç›¸å…³ï¼Œæ‰€ä»¥å¯ä»¥çœ‹å‡ºRedisç¡®å®èƒ½åœ¨æ€§èƒ½æ–¹é¢å¸®åŠ©è®¸å¤š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/categories/Redis/"},{"name":"ä¸­é—´ä»¶","slug":"Redis/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/Redis/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ä½¿ç”¨RESTfulé£æ ¼å¼€å‘Java Web","slug":"ä½¿ç”¨RESTfulé£æ ¼å¼€å‘Java-Web","date":"2018-05-28T23:19:00.000Z","updated":"2020-08-03T08:58:40.357Z","comments":true,"path":"2018/05/29/shi-yong-restful-feng-ge-kai-fa-java-web/","link":"","permalink":"http://www.wmyskxz.com/2018/05/29/shi-yong-restful-feng-ge-kai-fa-java-web/","excerpt":"","text":"ä»€ä¹ˆæ˜¯RESTfulé£æ ¼ï¼ŸRESTæ˜¯REpresentational State Transferçš„ç¼©å†™ï¼ˆä¸€èˆ¬ä¸­æ–‡ç¿»è¯‘ä¸ºè¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ï¼‰ï¼ŒREST æ˜¯ä¸€ç§ä½“ç³»ç»“æ„ï¼Œè€Œ HTTP æ˜¯ä¸€ç§åŒ…å«äº† REST æ¶æ„å±æ€§çš„åè®®ï¼Œä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬æŠŠå®ƒçš„é¦–å­—æ¯æ‹†åˆ†æˆä¸åŒçš„å‡ ä¸ªéƒ¨åˆ†ï¼š è¡¨è¿°æ€§ï¼ˆREpresentationalï¼‰ï¼š REST èµ„æºå®é™…ä¸Šå¯ä»¥ç”¨å„ç§å½¢å¼æ¥è¿›è¡Œè¡¨è¿°ï¼ŒåŒ…æ‹¬ XMLã€JSON ç”šè‡³ HTMLâ€”â€”æœ€é€‚åˆèµ„æºä½¿ç”¨è€…çš„ä»»æ„å½¢å¼ï¼› çŠ¶æ€ï¼ˆStateï¼‰ï¼š å½“ä½¿ç”¨ REST çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ›´å…³æ³¨èµ„æºçš„çŠ¶æ€è€Œä¸æ˜¯å¯¹èµ„æºé‡‡å–çš„è¡Œä¸ºï¼› è½¬ä¹‰ï¼ˆTransferï¼‰ï¼š REST æ¶‰åŠåˆ°è½¬ç§»èµ„æºæ•°æ®ï¼Œå®ƒä»¥æŸç§è¡¨è¿°æ€§å½¢å¼ä»ä¸€ä¸ªåº”ç”¨è½¬ç§»åˆ°å¦ä¸€ä¸ªåº”ç”¨ã€‚ ç®€å•åœ°è¯´ï¼ŒREST å°±æ˜¯å°†èµ„æºçš„çŠ¶æ€ä»¥é€‚åˆå®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„å½¢å¼ä»æœåŠ¡ç«¯è½¬ç§»åˆ°å®¢æˆ·ç«¯ï¼ˆæˆ–è€…åè¿‡æ¥ï¼‰ã€‚åœ¨ REST ä¸­ï¼Œèµ„æºé€šè¿‡ URL è¿›è¡Œè¯†åˆ«å’Œå®šä½ï¼Œç„¶åé€šè¿‡è¡Œä¸º(å³ HTTP æ–¹æ³•)æ¥å®šä¹‰ REST æ¥å®Œæˆæ€æ ·çš„åŠŸèƒ½ã€‚ å®ä¾‹è¯´æ˜:åœ¨å¹³æ—¶çš„ Web å¼€å‘ä¸­ï¼Œmethod å¸¸ç”¨çš„å€¼æ˜¯ GET å’Œ POSTï¼Œä½†æ˜¯å®é™…ä¸Šï¼ŒHTTP æ–¹æ³•è¿˜æœ‰ PATCHã€DELETEã€PUT ç­‰å…¶ä»–å€¼ï¼Œè¿™äº›æ–¹æ³•åˆé€šå¸¸ä¼šåŒ¹é…ä¸ºå¦‚ä¸‹çš„ CRUD åŠ¨ä½œ: CRUD åŠ¨ä½œ HTTP æ–¹æ³• Create POST Read GET Update PUT æˆ– PATCH Delete DELETE å°½ç®¡é€šå¸¸æ¥è®²ï¼ŒHTTP æ–¹æ³•ä¼šæ˜ å°„ä¸º CRUD åŠ¨ä½œï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸¥æ ¼çš„é™åˆ¶ï¼Œæœ‰æ—¶å€™ PUT ä¹Ÿå¯ä»¥ç”¨æ¥åˆ›å»ºæ–°çš„èµ„æºï¼ŒPOST ä¹Ÿå¯ä»¥ç”¨æ¥æ›´æ–°èµ„æºã€‚å®é™…ä¸Šï¼ŒPOST è¯·æ±‚éå¹‚ç­‰çš„ç‰¹æ€§(å³åŒä¸€ä¸ª URL å¯ä»¥å¾—åˆ°ä¸åŒçš„ç»“æœ)ä½¿å…¶æˆä¸€ä¸ªéå¸¸çµæ´»åœ°æ–¹æ³•ï¼Œå¯¹äºæ— æ³•é€‚åº”å…¶ä»– HTTP æ–¹æ³•è¯­ä¹‰çš„æ“ä½œï¼Œå®ƒéƒ½èƒ½å¤Ÿèƒœä»»ã€‚ åœ¨ä½¿ç”¨ RESTful é£æ ¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦å¢åŠ ä¸€æ¡å•†å“æ•°æ®é€šå¸¸æ˜¯è¿™æ ·çš„: /addCategory?name=xxx ä½†æ˜¯ä½¿ç”¨äº† RESTful é£æ ¼ä¹‹åå°±ä¼šå˜æˆ: /category è¿™å°±å˜æˆäº†ä½¿ç”¨åŒä¸€ä¸ª URL ï¼Œé€šè¿‡çº¦å®šä¸åŒçš„ HTTP æ–¹æ³•æ¥å®æ–½ä¸åŒçš„ä¸šåŠ¡ï¼Œè¿™å°±æ˜¯ RESTful é£æ ¼æ‰€åšçš„äº‹æƒ…äº†ï¼Œä¸ºäº†æœ‰ä¸€ä¸ªæ›´åŠ ç›´è§‚çš„ç†è§£ï¼Œå¼•ç”¨ä¸€ä¸‹æ¥è‡ªhow2j.cnçš„å›¾: SpringBoot ä¸­ä½¿ç”¨ RESTful ä¸‹é¢æˆ‘ä½¿ç”¨ SpringBoot ç»“åˆæ–‡ç« ï¼šhttp://blog.didispace.com/springbootrestfulapi/ æ¥å®ä¾‹æ¼”ç¤ºå¦‚ä½•åœ¨ SpringBoot ä¸­ä½¿ç”¨ RESTful é£æ ¼çš„ç¼–ç¨‹å¹¶å¦‚ä½•åšå•å…ƒæµ‹è¯• RESTful API å…·ä½“è®¾è®¡å¦‚ä¸‹ï¼š Userå®ä½“å®šä¹‰ï¼š public class User { private Long id; private String name; private Integer age; // çœç•¥setterå’Œgetter } å®ç°å¯¹Userå¯¹è±¡çš„æ“ä½œæ¥å£ @RestController @RequestMapping(value=\"/users\") // é€šè¿‡è¿™é‡Œé…ç½®ä½¿ä¸‹é¢çš„æ˜ å°„éƒ½åœ¨/usersä¸‹ public class UserController { // åˆ›å»ºçº¿ç¨‹å®‰å…¨çš„Map static Map&lt;Long, User> users = Collections.synchronizedMap(new HashMap&lt;Long, User>()); @RequestMapping(value=\"/\", method=RequestMethod.GET) public List&lt;User> getUserList() { // å¤„ç†\"/users/\"çš„GETè¯·æ±‚ï¼Œç”¨æ¥è·å–ç”¨æˆ·åˆ—è¡¨ // è¿˜å¯ä»¥é€šè¿‡@RequestParamä»é¡µé¢ä¸­ä¼ é€’å‚æ•°æ¥è¿›è¡ŒæŸ¥è¯¢æ¡ä»¶æˆ–è€…ç¿»é¡µä¿¡æ¯çš„ä¼ é€’ List&lt;User> r = new ArrayList&lt;User>(users.values()); return r; } @RequestMapping(value=\"/\", method=RequestMethod.POST) public String postUser(@ModelAttribute User user) { // å¤„ç†\"/users/\"çš„POSTè¯·æ±‚ï¼Œç”¨æ¥åˆ›å»ºUser // é™¤äº†@ModelAttributeç»‘å®šå‚æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡@RequestParamä»é¡µé¢ä¸­ä¼ é€’å‚æ•° users.put(user.getId(), user); return \"success\"; } @RequestMapping(value=\"/{id}\", method=RequestMethod.GET) public User getUser(@PathVariable Long id) { // å¤„ç†\"/users/{id}\"çš„GETè¯·æ±‚ï¼Œç”¨æ¥è·å–urlä¸­idå€¼çš„Userä¿¡æ¯ // urlä¸­çš„idå¯é€šè¿‡@PathVariableç»‘å®šåˆ°å‡½æ•°çš„å‚æ•°ä¸­ return users.get(id); } @RequestMapping(value=\"/{id}\", method=RequestMethod.PUT) public String putUser(@PathVariable Long id, @ModelAttribute User user) { // å¤„ç†\"/users/{id}\"çš„PUTè¯·æ±‚ï¼Œç”¨æ¥æ›´æ–°Userä¿¡æ¯ User u = users.get(id); u.setName(user.getName()); u.setAge(user.getAge()); users.put(id, u); return \"success\"; } @RequestMapping(value=\"/{id}\", method=RequestMethod.DELETE) public String deleteUser(@PathVariable Long id) { // å¤„ç†\"/users/{id}\"çš„DELETEè¯·æ±‚ï¼Œç”¨æ¥åˆ é™¤User users.remove(id); return \"success\"; } } ç¼–å†™æµ‹è¯•å•å…ƒ å‚è€ƒæ–‡ç« ï¼šhttp://tengj.top/2017/12/28/springboot12/#Controllerå•å…ƒæµ‹è¯•çœ‹è¿‡è¿™å‡ ç¯‡æ–‡ç« ä¹‹åè§‰å¾—å¥½æ£’ï¼Œè¿˜æœ‰è¿™ä¹ˆæ–¹ä¾¿çš„æµ‹è¯•æ–¹æ³•ï¼Œè¿™äº›ä»¥å‰éƒ½æ²¡æœ‰æ¥è§¦è¿‡â€¦ ä¸‹é¢é’ˆå¯¹è¯¥Controllerç¼–å†™æµ‹è¯•ç”¨ä¾‹éªŒè¯æ­£ç¡®æ€§ï¼Œå…·ä½“å¦‚ä¸‹ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æµè§ˆå™¨æ’ä»¶ç­‰è¿›è¡Œè¯·æ±‚æäº¤éªŒè¯ï¼Œå› ä¸ºæ¶‰åŠä¸€äº›åŒ…çš„å¯¼å…¥ï¼Œè¿™é‡Œç»™å‡ºå…¨éƒ¨ä»£ç ï¼š package cn.wmyskxz.springboot; import cn.wmyskxz.springboot.controller.UserController; import org.junit.Before; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.boot.test.context.SpringBootTest; import org.springframework.mock.web.MockServletContext; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; import org.springframework.test.context.web.WebAppConfiguration; import org.springframework.test.web.servlet.MockMvc; import org.springframework.test.web.servlet.RequestBuilder; import org.springframework.test.web.servlet.setup.MockMvcBuilders; import static org.hamcrest.Matchers.equalTo; import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*; import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content; import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status; /** * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-05-29-ä¸Šåˆ 8:39 */ @RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest(classes = MockServletContext.class) @WebAppConfiguration public class ApplicationTests { private MockMvc mvc; @Before public void setUp() throws Exception { mvc = MockMvcBuilders.standaloneSetup(new UserController()).build(); } @Test public void testUserController() throws Exception { // æµ‹è¯•UserController RequestBuilder request = null; // 1ã€getæŸ¥ä¸€ä¸‹useråˆ—è¡¨ï¼Œåº”è¯¥ä¸ºç©º request = get(\"/users/\"); mvc.perform(request) .andExpect(status().isOk()) .andExpect(content().string(equalTo(\"[]\"))); // 2ã€postæäº¤ä¸€ä¸ªuser request = post(\"/users/\") .param(\"id\", \"1\") .param(\"name\", \"æµ‹è¯•å¤§å¸ˆ\") .param(\"age\", \"20\"); mvc.perform(request) .andExpect(content().string(equalTo(\"success\"))); // 3ã€getè·å–useråˆ—è¡¨ï¼Œåº”è¯¥æœ‰åˆšæ‰æ’å…¥çš„æ•°æ® request = get(\"/users/\"); mvc.perform(request) .andExpect(status().isOk()) .andExpect(content().string(equalTo(\"[{\\\"id\\\":1,\\\"name\\\":\\\"æµ‹è¯•å¤§å¸ˆ\\\",\\\"age\\\":20}]\"))); // 4ã€putä¿®æ”¹idä¸º1çš„user request = put(\"/users/1\") .param(\"name\", \"æµ‹è¯•ç»ˆæå¤§å¸ˆ\") .param(\"age\", \"30\"); mvc.perform(request) .andExpect(content().string(equalTo(\"success\"))); // 5ã€getä¸€ä¸ªidä¸º1çš„user request = get(\"/users/1\"); mvc.perform(request) .andExpect(content().string(equalTo(\"{\\\"id\\\":1,\\\"name\\\":\\\"æµ‹è¯•ç»ˆæå¤§å¸ˆ\\\",\\\"age\\\":30}\"))); // 6ã€delåˆ é™¤idä¸º1çš„user request = delete(\"/users/1\"); mvc.perform(request) .andExpect(content().string(equalTo(\"success\"))); // 7ã€getæŸ¥ä¸€ä¸‹useråˆ—è¡¨ï¼Œåº”è¯¥ä¸ºç©º request = get(\"/users/\"); mvc.perform(request) .andExpect(status().isOk()) .andExpect(content().string(equalTo(\"[]\"))); } } MockMvcå®ç°äº†å¯¹HTTPè¯·æ±‚çš„æ¨¡æ‹Ÿï¼Œä»ç¤ºä¾‹çš„ä»£ç å°±èƒ½å¤Ÿçœ‹å‡ºMockMvcçš„ç®€å•ç”¨æ³•ï¼Œå®ƒèƒ½å¤Ÿç›´æ¥ä½¿ç”¨ç½‘ç»œçš„å½¢å¼ï¼Œè½¬æ¢åˆ°Controllerçš„è°ƒç”¨ï¼Œè¿™æ ·ä½¿å¾—æµ‹è¯•é€Ÿåº¦å¿«ã€ä¸ä¾èµ–ç½‘ç»œç¯å¢ƒï¼Œè€Œä¸”æä¾›äº†ä¸€å¥—éªŒè¯çš„å·¥å…·ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—è¯·æ±‚çš„éªŒè¯ç»Ÿä¸€è€Œä¸”å¾ˆæ–¹ä¾¿ã€‚ éœ€è¦æ³¨æ„çš„å°±æ˜¯åœ¨MockMvcä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆç”¨MockMvcBuildersæ„å»ºMockMvcå¯¹è±¡ï¼Œå¦‚æœå¯¹å•å…ƒæµ‹è¯•æ„Ÿå…´è¶£çš„ç«¥é‹è¯·æˆ³ä¸Šé¢çš„é“¾æ¥å“¦ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº† æµ‹è¯•ä¿¡æ¯è¿è¡Œæµ‹è¯•ç±»ï¼Œæ§åˆ¶å°è¿”å›çš„ä¿¡æ¯å¦‚ä¸‹ï¼š __ __ __ /\\ \\ __/\\ \\ /\\ \\ \\ \\ \\/\\ \\ \\ \\ ___ ___ __ __ ____\\ \\ \\/&#39;\\ __ _ ____ \\ \\ \\ \\ \\ \\ \\ /&#39; __` __`\\/\\ \\/\\ \\ /&#39;,__\\\\ \\ , &lt; /\\ \\/&#39;\\/\\_ ,`\\ \\ \\ \\_/ \\_\\ \\/\\ \\/\\ \\/\\ \\ \\ \\_\\ \\/\\__, `\\\\ \\ \\ \\`\\\\/&gt; &lt;/\\/_/ /_ \\ `\\___x___/\\ \\_\\ \\_\\ \\_\\/`____ \\/\\____/ \\ \\_\\ \\_\\/\\_/\\_\\ /\\____\\ &#39;\\/__//__/ \\/_/\\/_/\\/_/`/___/&gt; \\/___/ \\/_/\\/_/\\//\\/_/ \\/____/ /\\___/ \\/__/ 2018-05-29 09:28:18.730 INFO 5884 --- [ main] cn.wmyskxz.springboot.ApplicationTests : Starting ApplicationTests on SC-201803262103 with PID 5884 (started by Administrator in E:\\Java Projects\\springboot) 2018-05-29 09:28:18.735 INFO 5884 --- [ main] cn.wmyskxz.springboot.ApplicationTests : No active profile set, falling back to default profiles: default 2018-05-29 09:28:18.831 INFO 5884 --- [ main] o.s.w.c.s.GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7c37508a: startup date [Tue May 29 09:28:18 CST 2018]; root of context hierarchy 2018-05-29 09:28:19.200 INFO 5884 --- [ main] cn.wmyskxz.springboot.ApplicationTests : Started ApplicationTests in 1.184 seconds (JVM running for 2.413) 2018-05-29 09:28:19.798 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/users/{id}],methods=[PUT]}&quot; onto public java.lang.String cn.wmyskxz.springboot.controller.UserController.putUser(java.lang.Long,cn.wmyskxz.springboot.pojo.User) 2018-05-29 09:28:19.800 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/users/],methods=[GET]}&quot; onto public java.util.List&lt;cn.wmyskxz.springboot.pojo.User&gt; cn.wmyskxz.springboot.controller.UserController.getUserList() 2018-05-29 09:28:19.800 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/users/],methods=[POST]}&quot; onto public java.lang.String cn.wmyskxz.springboot.controller.UserController.postUser(cn.wmyskxz.springboot.pojo.User) 2018-05-29 09:28:19.801 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/users/{id}],methods=[DELETE]}&quot; onto public java.lang.String cn.wmyskxz.springboot.controller.UserController.deleteUser(java.lang.Long) 2018-05-29 09:28:19.801 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/users/{id}],methods=[GET]}&quot; onto public cn.wmyskxz.springboot.pojo.User cn.wmyskxz.springboot.controller.UserController.getUser(java.lang.Long) 2018-05-29 09:28:19.850 INFO 5884 --- [ main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@42f8285e 2018-05-29 09:28:19.924 INFO 5884 --- [ main] o.s.mock.web.MockServletContext : Initializing Spring FrameworkServlet &#39;&#39; 2018-05-29 09:28:19.925 INFO 5884 --- [ main] o.s.t.web.servlet.TestDispatcherServlet : FrameworkServlet &#39;&#39;: initialization started 2018-05-29 09:28:19.926 INFO 5884 --- [ main] o.s.t.web.servlet.TestDispatcherServlet : FrameworkServlet &#39;&#39;: initialization completed in 1 msé€šè¿‡æ§åˆ¶å°ä¿¡æ¯ï¼Œæˆ‘ä»¬å¾—çŸ¥é€šè¿‡ RESTful é£æ ¼èƒ½æˆåŠŸè°ƒç”¨åˆ°æ­£ç¡®çš„æ–¹æ³•å¹¶ä¸”èƒ½è·å–åˆ°æˆ–è€…è¿”å›æ­£ç¡®çš„å‚æ•°ï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯ï¼Œåˆ™è¯´æ˜æˆåŠŸï¼ å¦‚æœä½ æƒ³è¦çœ‹åˆ°æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯ï¼Œå¯ä»¥åœ¨æ¯æ¬¡è°ƒç”¨ perform() æ–¹æ³•åå†è·Ÿä¸Šä¸€å¥ .andDo(MockMvcResultHandlers.print()) ï¼Œä¾‹å¦‚ï¼š // 1ã€getæŸ¥ä¸€ä¸‹useråˆ—è¡¨ï¼Œåº”è¯¥ä¸ºç©º request = get(\"/users/\"); mvc.perform(request) .andExpect(status().isOk()) .andExpect(content().string(equalTo(\"[]\"))) .andDo(MockMvcResultHandlers.print()); å°±èƒ½çœ‹åˆ°è¯¦ç»†çš„ä¿¡æ¯ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š MockHttpServletRequest: HTTP Method = GET Request URI = /users/ Parameters = {} Headers = {} Body = &lt;no character encoding set&gt; Session Attrs = {} Handler: Type = cn.wmyskxz.springboot.controller.UserController Method = public java.util.List&lt;cn.wmyskxz.springboot.pojo.User&gt; cn.wmyskxz.springboot.controller.UserController.getUserList() Async: Async started = false Async result = null Resolved Exception: Type = null ModelAndView: View name = null View = null Model = null FlashMap: Attributes = null MockHttpServletResponse: Status = 200 Error message = null Headers = {Content-Type=[application/json;charset=UTF-8]} Content type = application/json;charset=UTF-8 Body = [] Forwarded URL = null Redirected URL = null Cookies = []æ€»ç»“æˆ‘ä»¬ä»ç„¶ä½¿ç”¨ @RequestMapping æ³¨è§£ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æŒ‡å®š method å±æ€§æ¥å¤„ç†ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œå¹¶ä¸”é€šè¿‡ @PathVariable æ³¨è§£æ¥å°† HTTP è¯·æ±‚ä¸­çš„å±æ€§ç»‘å®šåˆ°æˆ‘ä»¬æŒ‡å®šçš„å½¢å‚ä¸Šã€‚ äº‹å®ä¸Šï¼ŒSpring 4.3 ä¹‹åï¼Œä¸ºäº†æ›´å¥½çš„æ”¯æŒ RESTful é£æ ¼ï¼Œå¢åŠ äº†å‡ ä¸ªæ³¨è§£ï¼š@PutMappingã€@GetMappingã€@DeleteMappingã€@PostMappingï¼Œä»åå­—ä¹Ÿèƒ½å¤§æ¦‚çš„çœ‹å‡ºï¼Œå…¶å®ä¹Ÿå°±æ˜¯å°† method å±æ€§çš„å€¼ä¸ @RequestMapping è¿›è¡Œäº†ç»‘å®šè€Œå·²ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯¹UserControllerä¸­çš„deleteUseræ–¹æ³•è¿›è¡Œæ”¹é€ ï¼š -----------æ”¹é€ å‰----------- @RequestMapping(value=\"/{id}\", method=RequestMethod.DELETE) public String deleteUser(@PathVariable Long id) { // å¤„ç†\"/users/{id}\"çš„DELETEè¯·æ±‚ï¼Œç”¨æ¥åˆ é™¤User users.remove(id); return \"success\"; } -----------æ”¹é€ å----------- @DeleteMapping(\"/{id}\") public String deleteUser(@PathVariable Long id) { // å¤„ç†\"/users/{id}\"çš„DELETEè¯·æ±‚ï¼Œç”¨æ¥åˆ é™¤User users.remove(id); return \"success\"; } ä½¿ç”¨Swagger2æ„é€ RESTful APIæ–‡æ¡£ å‚è€ƒæ–‡ç« ï¼šhttp://blog.didispace.com/springbootswagger2/ RESTful é£æ ¼ä¸ºåå°ä¸å‰å°çš„äº¤äº’æä¾›äº†ç®€æ´çš„æ¥å£APIï¼Œå¹¶ä¸”æœ‰åˆ©äºå‡å°‘ä¸å…¶ä»–å›¢é˜Ÿçš„æ²Ÿé€šæˆæœ¬ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä»½RESTful APIæ–‡æ¡£æ¥è®°å½•æ‰€æœ‰çš„æ¥å£ç»†èŠ‚ï¼Œä½†æ˜¯è¿™æ ·åšæœ‰ä»¥ä¸‹çš„å‡ ä¸ªé—®é¢˜ï¼š ç”±äºæ¥å£ä¼—å¤šï¼Œå¹¶ä¸”ç»†èŠ‚å¤æ‚ï¼ˆéœ€è¦è€ƒè™‘ä¸åŒçš„HTTPè¯·æ±‚ç±»å‹ã€HTTPå¤´éƒ¨ä¿¡æ¯ã€HTTPè¯·æ±‚å†…å®¹ç­‰ï¼‰ï¼Œé«˜è´¨é‡åœ°åˆ›å»ºè¿™ä»½æ–‡æ¡£æœ¬èº«å°±æ˜¯ä»¶éå¸¸åƒåŠ›çš„äº‹ï¼Œä¸‹æ¸¸çš„æŠ±æ€¨å£°ä¸ç»äºè€³ã€‚ éšç€æ—¶é—´æ¨ç§»ï¼Œä¸æ–­ä¿®æ”¹æ¥å£å®ç°çš„æ—¶å€™éƒ½å¿…é¡»åŒæ­¥ä¿®æ”¹æ¥å£æ–‡æ¡£ï¼Œè€Œæ–‡æ¡£ä¸ä»£ç åˆå¤„äºä¸¤ä¸ªä¸åŒçš„åª’ä»‹ï¼Œé™¤éæœ‰ä¸¥æ ¼çš„ç®¡ç†æœºåˆ¶ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å¯¼è‡´ä¸ä¸€è‡´ç°è±¡ã€‚ Swagger2çš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°çš„è¿™äº›é—®é¢˜ï¼Œå¹¶ä¸”èƒ½å¤Ÿè½»æ¾çš„æ•´åˆåˆ°æˆ‘ä»¬çš„SpringBootä¸­å»ï¼Œå®ƒæ—¢å¯ä»¥å‡å°‘æˆ‘ä»¬åˆ›å»ºæ–‡æ¡£çš„å·¥ä½œé‡ï¼ŒåŒæ—¶è¯´æ˜å†…å®¹åˆå¯ä»¥æ•´åˆåˆ°ä»£ç ä¹‹ä¸­å»ï¼Œè®©ç»´æŠ¤æ–‡æ¡£å’Œä¿®æ”¹ä»£ç æ•´åˆä¸ºä¸€ä½“ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¿®æ”¹ä»£ç é€»è¾‘çš„åŒæ—¶æ–¹ä¾¿çš„ä¿®æ”¹æ–‡æ¡£è¯´æ˜ï¼Œè¿™å¤ªé…·äº†ï¼Œå¦å¤–Swagger2é¡µæä¾›äº†å¼ºå¤§çš„é¡µé¢æµ‹è¯•åŠŸèƒ½æ¥è°ƒè¯•æ¯ä¸ªRESTful APIï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š è®©æˆ‘ä»¬èµ¶ç´§æ¥çœ‹çœ‹å§ï¼š ç¬¬ä¸€æ­¥ï¼šæ·»åŠ Swagger2ä¾èµ–ï¼šåœ¨ pom.xml ä¸­åŠ å…¥Swagger2çš„ä¾èµ–ï¼š &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger2&lt;/artifactId> &lt;version>2.2.2&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger-ui&lt;/artifactId> &lt;version>2.2.2&lt;/version> &lt;/dependency> ç¬¬äºŒæ­¥ï¼šåˆ›å»ºSwagger2é…ç½®ç±»åœ¨SpringBootå¯åŠ¨ç±»çš„åŒçº§ç›®å½•ä¸‹åˆ›å»ºSwagger2çš„é…ç½®ç±» Swagger2ï¼š @Configuration @EnableSwagger2 public class Swagger2 { @Bean public Docket createRestApi() { return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage(\"cn.wmyskxz.springboot\")) .paths(PathSelectors.any()) .build(); } private ApiInfo apiInfo() { return new ApiInfoBuilder() .title(\"Spring Bootä¸­ä½¿ç”¨Swagger2æ„å»ºRESTful APIs\") .description(\"åŸæ–‡åœ°å€é“¾æ¥ï¼šhttp://blog.didispace.com/springbootswagger2/\") .termsOfServiceUrl(\"http://blog.didispace.com/\") .contact(\"@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\") .version(\"1.0\") .build(); } } å¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºï¼Œé€šè¿‡ @Configuration æ³¨è§£è®©Springæ¥åŠ è½½è¯¥é…ç½®ç±»ï¼Œå†é€šè¿‡ @EnableSwagger2 æ³¨è§£æ¥å¯åŠ¨Swagger2ï¼› å†é€šè¿‡ createRestApi å‡½æ•°åˆ›å»º Docket çš„Beanä¹‹åï¼ŒapiInfo() ç”¨æ¥åˆ›å»ºè¯¥APIçš„åŸºæœ¬ä¿¡æ¯ï¼ˆè¿™äº›åŸºæœ¬ä¿¡æ¯ä¼šå±•ç°åœ¨æ–‡æ¡£é¡µé¢ä¸­ï¼‰ï¼Œselect() å‡½æ•°è¿”å›ä¸€ä¸ª ApiSelectorBuilder å®ä¾‹ç”¨æ¥æ§åˆ¶å“ªäº›æ¥å£æš´éœ²ç»™Swaggeræ¥å±•ç°ï¼Œæœ¬ä¾‹é‡‡ç”¨æŒ‡å®šæ‰«æçš„åŒ…è·¯å¾„æ¥å®šä¹‰ï¼ŒSwaggerä¼šæ‰«æè¯¥åŒ…ä¸‹æ‰€æœ‰çš„Controllerå®šä¹‰çš„APIï¼Œå¹¶äº§ç”Ÿæ–‡æ¡£å†…å®¹ï¼ˆé™¤äº†è¢« @ApiIgnore æŒ‡å®šçš„è¯·æ±‚ï¼‰ ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ æ–‡æ¡£å†…å®¹åœ¨å®Œæˆäº†ä¸Šè¿°é…ç½®åï¼Œå…¶å®å·²ç»å¯ä»¥ç”Ÿäº§æ–‡æ¡£å†…å®¹ï¼Œä½†æ˜¯è¿™æ ·çš„æ–‡æ¡£ä¸»è¦é’ˆå¯¹è¯·æ±‚æœ¬èº«ï¼Œè€Œæè¿°ä¸»è¦æ¥æºäºå‡½æ•°ç­‰å‘½åäº§ç”Ÿï¼Œå¯¹ç”¨æˆ·å¹¶ä¸å‹å¥½ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è‡ªå·±å¢åŠ ä¸€äº›è¯´æ˜æ¥ä¸°å¯Œæ–‡æ¡£å†…å®¹ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬é€šè¿‡@ApiOperationæ³¨è§£æ¥ç»™APIå¢åŠ è¯´æ˜ã€é€šè¿‡@ApiImplicitParamsã€@ApiImplicitParamæ³¨è§£æ¥ç»™å‚æ•°å¢åŠ è¯´æ˜ã€‚ @RestController @RequestMapping(value=\"/users\") // é€šè¿‡è¿™é‡Œé…ç½®ä½¿ä¸‹é¢çš„æ˜ å°„éƒ½åœ¨/usersä¸‹ï¼Œå¯å»é™¤ public class UserController { static Map&lt;Long, User> users = Collections.synchronizedMap(new HashMap&lt;Long, User>()); @ApiOperation(value=\"è·å–ç”¨æˆ·åˆ—è¡¨\", notes=\"\") @RequestMapping(value={\"\"}, method=RequestMethod.GET) public List&lt;User> getUserList() { List&lt;User> r = new ArrayList&lt;User>(users.values()); return r; } @ApiOperation(value=\"åˆ›å»ºç”¨æˆ·\", notes=\"æ ¹æ®Userå¯¹è±¡åˆ›å»ºç”¨æˆ·\") @ApiImplicitParam(name = \"user\", value = \"ç”¨æˆ·è¯¦ç»†å®ä½“user\", required = true, dataType = \"User\") @RequestMapping(value=\"\", method=RequestMethod.POST) public String postUser(@RequestBody User user) { users.put(user.getId(), user); return \"success\"; } @ApiOperation(value=\"è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯\", notes=\"æ ¹æ®urlçš„idæ¥è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯\") @ApiImplicitParam(name = \"id\", value = \"ç”¨æˆ·ID\", required = true, dataType = \"Long\") @RequestMapping(value=\"/{id}\", method=RequestMethod.GET) public User getUser(@PathVariable Long id) { return users.get(id); } @ApiOperation(value=\"æ›´æ–°ç”¨æˆ·è¯¦ç»†ä¿¡æ¯\", notes=\"æ ¹æ®urlçš„idæ¥æŒ‡å®šæ›´æ–°å¯¹è±¡ï¼Œå¹¶æ ¹æ®ä¼ è¿‡æ¥çš„userä¿¡æ¯æ¥æ›´æ–°ç”¨æˆ·è¯¦ç»†ä¿¡æ¯\") @ApiImplicitParams({ @ApiImplicitParam(name = \"id\", value = \"ç”¨æˆ·ID\", required = true, dataType = \"Long\"), @ApiImplicitParam(name = \"user\", value = \"ç”¨æˆ·è¯¦ç»†å®ä½“user\", required = true, dataType = \"User\") }) @RequestMapping(value=\"/{id}\", method=RequestMethod.PUT) public String putUser(@PathVariable Long id, @RequestBody User user) { User u = users.get(id); u.setName(user.getName()); u.setAge(user.getAge()); users.put(id, u); return \"success\"; } @ApiOperation(value=\"åˆ é™¤ç”¨æˆ·\", notes=\"æ ¹æ®urlçš„idæ¥æŒ‡å®šåˆ é™¤å¯¹è±¡\") @ApiImplicitParam(name = \"id\", value = \"ç”¨æˆ·ID\", required = true, dataType = \"Long\") @RequestMapping(value=\"/{id}\", method=RequestMethod.DELETE) public String deleteUser(@PathVariable Long id) { users.remove(id); return \"success\"; } } å®Œæˆä¸Šè¿°ä»£ç æ·»åŠ ä¹‹åï¼Œå¯åŠ¨Spring Bootç¨‹åºï¼Œè®¿é—®ï¼šhttp://localhost:8080/swagger-ui.htmlï¼Œå°±èƒ½çœ‹åˆ°å‰æ–‡å±•ç¤ºçš„RESTful APIçš„é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å¼€å…·ä½“çš„APIè¯·æ±‚ï¼ŒPOSTç±»å‹çš„/usersè¯·æ±‚ä¸ºä¾‹ï¼Œå¯æ‰¾åˆ°ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬é…ç½®çš„Notesä¿¡æ¯ä»¥åŠå‚æ•°userçš„æè¿°ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š APIæ–‡æ¡£è®¿é—®ä¸è°ƒè¯•åœ¨ä¸Šå›¾è¯·æ±‚çš„é¡µé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªValueçš„è¾“å…¥æ¡†ï¼Œå¹¶ä¸”åœ¨å³è¾¹çš„Model Schemaä¸­æœ‰ç¤ºä¾‹çš„Userå¯¹è±¡æ¨¡æ¿ï¼Œæˆ‘ä»¬ç‚¹å‡»å³è¾¹é»„è‰²çš„åŒºåŸŸValueæ¡†ä¸­å°±ä¼šè‡ªåŠ¨å¡«å¥½ç¤ºä¾‹çš„æ¨¡æ¿æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç¨å¾®ä¿®æ”¹ä¿®æ”¹ï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹çš„ â€œTry it out!â€ æŒ‰é’®ï¼Œå³å¯å®Œæˆä¸€æ¬¡è¯·æ±‚è°ƒç”¨ï¼Œè¿™å¤ªé…·äº†ã€‚ æ€»ç»“å¯¹æ¯”ä¹‹å‰ç”¨æ–‡æ¡£æ¥è®°å½•RESTful APIçš„æ–¹å¼ï¼Œæˆ‘ä»¬é€šè¿‡å¢åŠ å°‘é‡çš„é…ç½®å†…å®¹ï¼Œåœ¨åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šä¾µå…¥äº†å¿å—èŒƒå›´å†…çš„ä»£ç ï¼Œå°±å¯ä»¥è¾¾åˆ°å¦‚æ­¤æ–¹ä¾¿ã€ç›´è§‚çš„æ•ˆæœï¼Œå¯ä»¥è¯´æ˜¯ä½¿ç”¨Swagger2æ¥å¯¹APIæ–‡æ¡£è¿›è¡Œç®¡ç†ï¼Œæ˜¯ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"JavaWebä¸­ä½¿ç”¨JSON","slug":"JavaWebä¸­ä½¿ç”¨JSON","date":"2018-05-27T23:16:00.000Z","updated":"2020-08-03T08:58:15.542Z","comments":true,"path":"2018/05/28/javaweb-zhong-shi-yong-json/","link":"","permalink":"http://www.wmyskxz.com/2018/05/28/javaweb-zhong-shi-yong-json/","excerpt":"","text":"å‰è¨€ï¼š æœ€è¿‘ä¹Ÿæ˜¯æœŸæœ«äº†ï¼Œæœ‰å¥½å¤šå¥½å¤šæ–‡æ¡£å’Œå®éªŒæŠ¥å‘Šè¦äº¤ï¼Œæ‰€ä»¥éƒ½æ²¡å•¥æ—¶é—´å†™æ–‡ï¼Œè¿™æ®µæ—¶é—´æ¸…é—²äº†ï¼Œæ¥è¡¥ä¸€ä¸‹ä¹‹å‰å­¦ä¹ æ—¶é—æ¼çš„ä¸€äº›çŸ¥è¯†æ ‘ï¼Œè¯è¯´å°±æ²¡äººåæ§½è¿™ä¸ªJSONå›¾æ ‡å¥½ä¸‘å—ï¼Ÿ ä»€ä¹ˆæ˜¯JSON JSON æŒ‡çš„æ˜¯ JavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼ˆJavaScript Object Notationï¼‰ JSON æ˜¯è½»é‡çº§çš„æ–‡æœ¬æ•°æ®äº¤æ¢æ ¼å¼ JSON ç‹¬ç«‹äºè¯­è¨€ * JSON å…·æœ‰è‡ªæˆ‘æè¿°æ€§ï¼Œæ›´æ˜“ç†è§£ JSON ä½¿ç”¨ JavaScript è¯­æ³•æ¥æè¿°æ•°æ®å¯¹è±¡ï¼Œä½†æ˜¯ JSON ä»ç„¶ç‹¬ç«‹äºè¯­è¨€å’Œå¹³å°ã€‚JSON è§£æå™¨å’Œ JSON åº“æ”¯æŒè®¸å¤šä¸åŒçš„ç¼–ç¨‹è¯­è¨€ã€‚ è¿™é‡Œæœ‰æ„æ€çš„æ˜¯ï¼ŒJSONæœ¬æ¥æ˜¯ç”¨æ¥è¡¨ç¤º JavaScript å¯¹è±¡çš„ä¸€ç§æ•°æ®æ–‡æœ¬æ ¼å¼ï¼Œä½†ç”±äºå®ƒè½»é‡çº§ã€æ˜“äºè§£æ/æ“ä½œï¼ˆJavaScriptåŸç”Ÿæ”¯æŒï¼‰çš„ä¸€äº›ç‰¹ç‚¹ï¼Œæ¸æ¸çš„è¢«å¾ˆå¤šè¯­è¨€æ”¯æŒä¹Ÿå°±æˆäº†ä¸€ç§æ ‡å‡† ä¸ºä»€ä¹ˆä½¿ç”¨JSONåœ¨JSONä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨ç½‘ç»œä¼ è¾“ä¸­ä½¿ç”¨çš„æ ¼å¼æ˜¯XMLï¼Œåœ¨æˆ‘ä»¬çš„å°è±¡ä¹‹ä¸­ï¼ŒXMLå…·æœ‰å¾ˆå¥½çš„å¯è¯»æ€§ï¼Œå¹¶ä¸”æ ¼å¼ç»Ÿä¸€ï¼Œè§£æèµ·æ¥ä¹Ÿç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä¸ºä»€ä¹ˆæ‘’å¼ƒæ‰XMLè€Œé€æ¸çš„ä½¿ç”¨èµ·JSONå‘¢ï¼Ÿ ä¸»è¦åŸå› åœ¨äºï¼šJSONæ¯”XMLæ›´å°ã€æ›´å¿«ã€æ›´æ˜“è§£æã€‚ JavaScriptåŸç”Ÿæ”¯æŒJSONï¼Œè§£æé€Ÿåº¦ç›¸è¾ƒXMLä¼šæ›´å¿«ï¼› XMLè§£ææˆDOMå¯¹è±¡çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¹‹é—´ä¼šäº§ç”Ÿå·®å¼‚ã€ä¾‹å¦‚IEå’ŒFireFoxã€‘ï¼› JSONæœ‰å¾ˆå¤šå¼ºå¤§çš„åº“èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´å¿«æ›´ç®€å•çš„å®Œæˆå·¥ä½œ XMLä¸JSONå®ä¾‹æ¯”è¾ƒæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹çš„æ¯”è¾ƒæ¥çœŸå®çš„è¯´æ˜ä¸€ä¸‹XMLä¸JSONçš„åŒºåˆ«ï¼š ä½¿ç”¨XMLè¡¨ç¤ºä¸­å›½éƒ¨åˆ†çœå¸‚çš„æ•°æ®å¦‚ä¸‹ï¼š &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?> &lt;country> &lt;name>ä¸­å›½&lt;/name> &lt;province> &lt;name>é»‘é¾™æ±Ÿ&lt;/name> &lt;citys> &lt;city>å“ˆå°”æ»¨&lt;/city> &lt;city>å¤§åº†&lt;/city> &lt;/citys> &lt;/province> &lt;province> &lt;name>å¹¿ä¸œ&lt;/name> &lt;citys> &lt;city>å¹¿å·&lt;/city> &lt;city>æ·±åœ³&lt;/city> &lt;city>ç æµ·&lt;/city> &lt;/citys> &lt;/province> &lt;province> &lt;name>å°æ¹¾&lt;/name> &lt;citys> &lt;city>å°åŒ—&lt;/city> &lt;city>é«˜é›„&lt;/city> &lt;/citys> &lt;/province> &lt;province> &lt;name>æ–°ç–†&lt;/name> &lt;citys> &lt;city>ä¹Œé²æœ¨é½&lt;/city> &lt;/citys> &lt;/province> &lt;/country> ä½¿ç”¨JSONä¸­å›½éƒ¨åˆ†çœå¸‚æ•°æ®å¦‚ä¸‹ï¼š var country = { name: \"ä¸­å›½\", provinces: [ { name: \"é»‘é¾™æ±Ÿ\", citys: { city: [\"å“ˆå°”æ»¨\", \"å¤§åº†\"]} }, { name: \"å¹¿ä¸œ\", citys: { city: [\"å¹¿å·\", \"æ·±åœ³\", \"ç æµ·\"]} }, { name: \"å°æ¹¾\", citys: { city: [\"å°åŒ—\", \"é«˜é›„\"]} }, { name: \"æ–°ç–†\", citys: { city: [\"ä¹Œé²æœ¨é½\"]} } ] } ä»ç¼–ç çš„å¯è¯»æ€§æ¥è¯´ï¼ŒXMLæœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œæ¯•ç«Ÿäººç±»çš„è¯­è¨€æ›´è´´è¿‘è¿™æ ·çš„è¯´æ˜ç»“æ„ã€‚è€ŒJSONè¯»èµ·æ¥æ›´åƒæ˜¯ä¸€ä¸ªæ•°æ®å—ï¼Œè¯»èµ·æ¥æ¯”è¾ƒè´¹è§£ï¼Œä¸è¿‡æˆ‘ä»¬è¯»èµ·æ¥è´¹è§£çš„è¯­è¨€ï¼Œæ°æ°æ˜¯é€‚åˆæœºå™¨äºéƒ½çš„ï¼Œæ‰€ä»¥é€šè¿‡JSONæ˜¯çš„ç´¢å¼•contry.provinces[0].nameå°±å¯ä»¥è¯»å–åˆ°â€œé»‘é¾™æ±Ÿâ€è¿™ä¸ªå€¼ ä»ç¼–ç çš„æ‰‹å†™éš¾åº¦æ¥è¯´ï¼ŒXMLè¿˜æ˜¯æ›´ç®€å•ä¸€äº›ï¼Œå¥½è¯»ä¹Ÿå°±æ„å‘³ç€å¥½å†™ï¼›ä¸è¿‡JSONå†™å‡ºæ¥çš„å­—ç¬¦æ˜æ˜¾å°±å°‘å¾ˆå¤šï¼›å»æ‰ç©ºç™½åˆ¶è¡¨ä»¥åŠæ¢è¡Œçš„è¯ï¼ŒJSONå°±æ˜¯å¯†å¯†éº»éº»çš„æœ‰ç”¨æ•°æ®ï¼Œè€ŒXMLå´åŒ…å«å¾ˆå¤šé‡å¤çš„æ ‡è®°å­—ç¬¦ã€‚ JSONç›¸æ¯”XMLçš„ä¸åŒä¹‹å¤„ æ²¡æœ‰ç»“æŸæ ‡ç­¾ æ›´çŸ­ è¯»å†™çš„é€Ÿåº¦æ›´å¿« èƒ½å¤Ÿä½¿ç”¨å†…å»ºçš„ JavaScript eval() æ–¹æ³•è¿›è¡Œè§£æ ä½¿ç”¨æ•°ç»„ ä¸ä½¿ç”¨ä¿ç•™å­— å¯¹äºAJAXåº”ç”¨ç¨‹åºå‘˜æ¥è¯´ï¼ŒJSONæ¯”XMLæ›´å¿«æ›´æ˜“ä½¿ç”¨ï¼šä½¿ç”¨XMLï¼š è¯»å–XMLæ–‡æ¡£ ä½¿ç”¨XML DOMæ¥å¾ªç¯éå†æ–‡æ¡£ è¯»å–å€¼å¹¶å­˜å‚¨åœ¨å˜é‡ä¸­ ä½¿ç”¨JSONï¼š è¯»å–JSONå­—ç¬¦ä¸² ç”¨ eval() å¤„ç†JSONå­—ç¬¦ä¸² JSONè¯­æ³•å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤æ¢çš„æ•°æ®æ— éå°±æ˜¯ä¸¤ç§ï¼š æ•°ç»„æˆ–è€…æ˜¯å¯¹è±¡ï¼ŒJSONæ‰€è¡¨ç¤ºçš„æ•°æ®ä¹Ÿå°±æ˜¯è¿™ä¸¤ç§äº† JSONè¯­æ³•æ˜¯JavaScriptè¯­æ³•çš„å­é›†ï¼Œåœ¨JavaScriptä¸­ç”¨[]ä¸­æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œç”¨{}å¤§æ‹¬å·æ¥è¡¨ç¤ºå¯¹è±¡ï¼ŒJSONä¹Ÿæ˜¯è¿™æ · JSONæ•°ç»„ï¼š[]ä¸­æ‹¬å·é‡Œé¢çš„å†…å®¹æœ‰äº›åƒArrayListï¼Œæ˜¯ä¸€ä¸ªåˆ—è¡¨ä¸€æ ·çš„ä¸œè¥¿ var employees = [ { \"firstName\":\"Bill\" , \"lastName\":\"Gates\" }, { \"firstName\":\"George\" , \"lastName\":\"Bush\" }, { \"firstName\":\"Thomas\" , \"lastName\": \"Carter\" } ]; JSONå¯¹è±¡ï¼š{}å¤§æ‹¬å·é‡Œé¢çš„ä¸œè¥¿æœ‰äº›åƒMapï¼Œæ˜¯ä¸€å¯¹ä¸€å¯¹çš„é”®å€¼å¯¹ var obj = { age:20, str:\"wmyskxz\", method:function() { alert(\"æˆ‘çˆ±å­¦ä¹ \"); } }; æ³¨æ„ï¼š[]ä¸­æ‹¬å·å’Œ{}å¤§æ‹¬å·ä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’åµŒå¥—çš„ è§£æJSONåœ¨è§£æJSONå¯¹è±¡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåœ°æ¥åˆ›é€ ä¸€ä¸ªJSONå¯¹è±¡ï¼š var JASONObject = {\"name\": \"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\", \"age\": 21}; ä½¿ç”¨HTMLè§£æåœ¨HTMLä¸­æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨.ç‚¹å·æ¥ç›´æ¥è®¿é—®JSONå¯¹è±¡çš„å±æ€§ï¼š &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>JSONå­¦ä¹ &lt;/title> &lt;/head> &lt;body> &lt;p> Name:&lt;span id=\"name\">&lt;/span>&lt;br> Age:&lt;span id=\"age\">&lt;/span>&lt;br> &lt;/p> &lt;script> var JASONObject = {\"name\": \"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\", \"age\": 21}; document.getElementById(\"name\").innerHTML = JASONObject.name; document.getElementById(\"age\").innerHTML = JASONObject.age; &lt;/script> &lt;/body> &lt;/html> æ‰“å¼€ç½‘é¡µæˆ‘ä»¬èƒ½æ­£ç¡®çœ‹åˆ°å¦‚ä¸‹æ•ˆæœï¼š ä½†é€šå¸¸æƒ…å†µä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°å’Œä¸Šä¼ çš„å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„JSONå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸²ç”±JSONè½¬æ¢å¾—æ¥çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬åŒæ ·åœ¨HTMLä¸­æ¨¡æ‹Ÿè§£æä¸€ä¸‹ï¼š &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>JSONå­¦ä¹ &lt;/title> &lt;/head> &lt;body> &lt;p> Name:&lt;span id=\"name\">&lt;/span>&lt;br> Age:&lt;span id=\"age\">&lt;/span>&lt;br> &lt;/p> &lt;script> var txt = '{\"students\":[' + '{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„0\",\"age\":21},' + '{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\",\"age\":21 }]}'; var obj = eval(\"(\" + txt + \")\"); document.getElementById(\"name\").innerHTML = obj.students[1].name; document.getElementById(\"age\").innerHTML = obj.students[1].age; &lt;/script> &lt;/body> &lt;/html> æ‰“å¼€ç½‘é¡µå³å¯çœ‹åˆ°å¦‚ä¸‹æ­£ç¡®æ•ˆæœï¼š ä»å‰ç«¯å‘é€JSONæ•°æ®åˆ°åå°æˆ‘ä»¬è¿™é‡Œæ¼”ç¤ºä½¿ç”¨AJAXè¯·æ±‚çš„æ–¹å¼æ¥æäº¤JSONæ•°æ®åˆ°åå°ï¼š &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>JSONå­¦ä¹ &lt;/title> &lt;!-- å› ä¸ºä¸æƒ³æ‰‹åŠ¨å¼•æ„Ÿè§‰æŒºéº»çƒ¦ï¼Œå¼•äº†ä¸ªèœé¸Ÿæ•™ç¨‹çš„ --> &lt;script src=\"http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js\">&lt;/script> &lt;/head> &lt;body> &lt;form> idï¼š&lt;input type=\"text\" id=\"id\" value=\"123\"/>&lt;br/> åç§°ï¼š&lt;input type=\"text\" id=\"name\" value=\"category xxx\"/>&lt;br/> &lt;input type=\"button\" value=\"æäº¤\" id=\"sender\"> &lt;/form> &lt;div id=\"messageDiv\">&lt;/div> &lt;script> $('#sender').click(function () { var id = document.getElementById('id').value; var name = document.getElementById('name').value; var category = {\"name\": name, \"id\": id}; var jsonData = JSON.stringify(category); var page = \"category\"; $.ajax({ type: \"put\", url: page, data: jsonData, dataType: \"json\", contentType: \"application/json;charset=UTF-8\", success: function (result) { } }); alert(\"æäº¤æˆåŠŸï¼Œè¯·åœ¨springbootæ§åˆ¶å°æŸ¥çœ‹æœåŠ¡ç«¯æ¥æ”¶åˆ°çš„æ•°æ®\"); }); &lt;/script> &lt;/body> &lt;/html> æ³¨æ„ï¼š åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† JSON.stringify() æ¥å°†ä¸€ä¸ªJSONå¯¹è±¡è½¬æ¢æˆäº†ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”åœ¨AJAXä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº† dataType å’Œ contentType æ¥å‘ŠçŸ¥åå°æˆ‘ä»¬ä¼ è¾“çš„æ˜¯ä¸€ä¸ªJSONæ•°æ® ç®€å•å†™ä¸€ä¸ªControlleræ¥éªŒè¯ä¸€ä¸‹å§ï¼š @PutMapping(\"/category\") public void addCategory(@RequestBody Category category) throws Exception { System.out.println(\"springbootæ¥å—åˆ°æµè§ˆå™¨ä»¥JSONæ ¼å¼æäº¤çš„æ•°æ®ï¼š\" + category.getId() + category.getName()); } -----------æ§åˆ¶å°æ‰“å°ä¿¡æ¯ï¼š---------- springbootæ¥å—åˆ°æµè§ˆå™¨ä»¥JSONæ ¼å¼æäº¤çš„æ•°æ®ï¼š123 category xxx @RequestBody æ³¨è§£åé¢è®²åˆ°ï¼Œè¿™é‡Œåªåšç®€å•æ¼”ç¤º JSONåº“ä»‹ç» å¼•ç”¨è‡ªï¼šå‡ ç§å¸¸ç”¨JSONåº“æ€§èƒ½æ¯”è¾ƒ åœ¨åå°æœ‰è®¸å¤šæ”¯æŒè§£æJSONçš„åº“ï¼Œç›®å‰å¯¹äºJavaå¼€æºçš„JSONç±»åº“æœ‰è®¸å¤šï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸‰ç§æ¯”è¾ƒå¸¸ç”¨çš„JSONåº“ï¼Œå¹¶è¿›è¡Œæ¯”å¯¹è¯´æ˜ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š Gsonï¼ˆé¡¹ç›®åœ°å€ï¼šhttps://github.com/google/gson) Gsonæ˜¯ç›®å‰åŠŸèƒ½æœ€å…¨çš„Jsonè§£æç¥å™¨ï¼ŒGsonå½“åˆæ˜¯ä¸ºå› åº”Googleå…¬å¸å†…éƒ¨éœ€æ±‚è€Œç”±Googleè‡ªè¡Œç ”å‘è€Œæ¥ï¼Œä½†è‡ªä»åœ¨2008å¹´äº”æœˆå…¬å¼€å‘å¸ƒç¬¬ä¸€ç‰ˆåå·²è¢«è®¸å¤šå…¬å¸æˆ–ç”¨æˆ·åº”ç”¨ã€‚Gsonçš„åº”ç”¨ä¸»è¦ä¸ºtoJsonä¸fromJsonä¸¤ä¸ªè½¬æ¢å‡½æ•°ï¼Œæ— ä¾èµ–ï¼Œä¸éœ€è¦ä¾‹å¤–é¢å¤–çš„jarï¼Œèƒ½å¤Ÿç›´æ¥è·‘åœ¨JDKä¸Šã€‚è€Œåœ¨ä½¿ç”¨è¿™ç§å¯¹è±¡è½¬æ¢ä¹‹å‰éœ€å…ˆåˆ›å»ºå¥½å¯¹è±¡çš„ç±»å‹ä»¥åŠå…¶æˆå‘˜æ‰èƒ½æˆåŠŸçš„å°†JSONå­—ç¬¦ä¸²æˆåŠŸè½¬æ¢æˆç›¸å¯¹åº”çš„å¯¹è±¡ã€‚ç±»é‡Œé¢åªè¦æœ‰getå’Œsetæ–¹æ³•ï¼ŒGsonå®Œå…¨å¯ä»¥å°†å¤æ‚ç±»å‹çš„jsonåˆ°beanæˆ–beanåˆ°jsonçš„è½¬æ¢ï¼Œæ˜¯JSONè§£æçš„ç¥å™¨ã€‚ FastJsonï¼ˆé¡¹ç›®åœ°å€ï¼šhttps://github.com/alibaba/fastjsonï¼‰ Fastjsonæ˜¯ä¸€ä¸ªJavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½çš„JSONå¤„ç†å™¨,ç”±é˜¿é‡Œå·´å·´å…¬å¸å¼€å‘ã€‚æ— ä¾èµ–ï¼Œä¸éœ€è¦ä¾‹å¤–é¢å¤–çš„jarï¼Œèƒ½å¤Ÿç›´æ¥è·‘åœ¨JDKä¸Šã€‚FastJsonåœ¨å¤æ‚ç±»å‹çš„Beanè½¬æ¢Jsonä¸Šä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç°å¼•ç”¨çš„ç±»å‹ï¼Œå¯¼è‡´Jsonè½¬æ¢å‡ºé”™ï¼Œéœ€è¦åˆ¶å®šå¼•ç”¨ã€‚FastJsoné‡‡ç”¨ç‹¬åˆ›çš„ç®—æ³•ï¼Œå°†parseçš„é€Ÿåº¦æå‡åˆ°æè‡´ï¼Œè¶…è¿‡æ‰€æœ‰jsonåº“ã€‚ Jacksonï¼ˆé¡¹ç›®åœ°å€ï¼šhttps://github.com/FasterXML/jacksonï¼‰ ç›¸æ¯”json-libæ¡†æ¶ï¼ŒJacksonæ‰€ä¾èµ–çš„jaråŒ…è¾ƒå°‘ï¼Œç®€å•æ˜“ç”¨å¹¶ä¸”æ€§èƒ½ä¹Ÿè¦ç›¸å¯¹é«˜äº›ã€‚è€Œä¸”Jacksonç¤¾åŒºç›¸å¯¹æ¯”è¾ƒæ´»è·ƒï¼Œæ›´æ–°é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ã€‚Jacksonå¯¹äºå¤æ‚ç±»å‹çš„jsonè½¬æ¢beanä¼šå‡ºç°é—®é¢˜ï¼Œä¸€äº›é›†åˆMapï¼ŒListçš„è½¬æ¢å‡ºç°é—®é¢˜ã€‚Jacksonå¯¹äºå¤æ‚ç±»å‹çš„beanè½¬æ¢Jsonï¼Œè½¬æ¢çš„jsonæ ¼å¼ä¸æ˜¯æ ‡å‡†çš„Jsonæ ¼å¼ã€‚ åˆ°åº•ä½¿ç”¨å“ªä¸€ä¸ªJSONåº“å‘¢ï¼Ÿæˆ‘çœ‹äº†ä¸€äº›èµ„æ–™ï¼Œæ¯”è¾ƒå°è±¡æ·±åˆ»çš„æ˜¯ï¼šFastJsonåœ¨å¤æ‚ç±»å‹çš„Beanè½¬æ¢Jsonä¸Šä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯åœ¨è§£æJSONæ—¶å´æ˜¯æœ€å¿«çš„ï¼ˆå…·ä½“å‚è€ƒï¼šçŸ¥ä¹ï¼šfastjsonè¿™ä¹ˆå¿«è€å¤–ä¸ºå•¥è¿˜æ˜¯çƒ­è¡· jackson?ï¼‰ æ€»ç»“å¦‚ä¸‹ï¼š FastJsonçš„APIè®¾è®¡çš„æœ€ç®€å•ï¼Œæœ€æ–¹ä¾¿ä½¿ç”¨ï¼Œç›´æ¥ä½¿ç”¨JSONçš„ä¸¤ä¸ªé™æ€æ–¹æ³•å³å¯å®Œæˆå››ç§æ“ä½œï¼›è€ŒGsonå’ŒJacksonéƒ½éœ€è¦newä¸€ä¸ªå¯¹è±¡ï¼› æ•°æ®é‡å¤§æ—¶ï¼Œä½¿ç”¨Jackson; å¦‚æœæœ‰æ€§èƒ½è¦æ±‚å¯ä»¥ä½¿ç”¨Gson/Jacksonå°†beanè½¬æ¢jsonç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ï¼Œä½¿ç”¨FastJsonå°†Jsonè½¬æ¢æˆBean ä¸‰ç§JSONåº“ç®€è¦ä½¿ç”¨è¯´æ˜ ä¸ºäº†å¯¼åº“ç®€å•ï¼Œæˆ‘åœ¨è¿™é‡Œéƒ½ä½¿ç”¨Mavenæ­å»ºçš„SpringBooté¡¹ç›®æ¥æ¼”ç¤ºï¼ŒMavenåº“çš„åœ°å€åœ¨è¿™é‡Œï¼šhttps://mvnrepository.com/ åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å»ºè®¾ä¸€äº›åŸºç¡€ç±»ï¼Œç”¨äºæ”¯æŒJSONåº“çš„ä½¿ç”¨ï¼š public class Person { private String name; private Integer age; /* getter and setter */ @Override public String toString() { return \"åå­—ä¸º\" + name + \",å¹´é¾„\" + age; } } Gsonåº“ä½¿ç”¨ç®€è¦è¯´æ˜ï¼ˆ1ï¼‰Mavenä¾èµ–ï¼š com.google.code.gson gson 2.8.5 ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹ï¼š @Test public void tester() { Gson gson = new Gson(); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å‡†å¤‡æµ‹è¯•æ•°æ® â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person person1 = new Person(); person1.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\"); person1.setAge(21); Person person2 = new Person(); person2.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\"); person2.setAge(21); Person person3 = new Person(); person3.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\"); person3.setAge(21); List&lt;Person> list = new ArrayList&lt;>(); list.add(person1); list.add(person2); list.add(person3); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç®€å•çš„Beanè½¬ä¸ºJSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonString = gson.toJson(person1); System.out.println(\"ç®€å•çš„Beanè½¬ä¸ºJSONï¼š\" + jsonString); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONè½¬ä¸ºç®€å•Bean â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person personFromJson = gson.fromJson(jsonString, Person.class); System.out.println(\"JSONè½¬ä¸ºç®€å•Beanï¼š\" + personFromJson.toString()); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å¸¦æ³›å‹çš„Listè½¬JSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonStringFromList = gson.toJson(list); System.out.println(\"å¸¦æ³›å‹çš„Listè½¬JSONï¼š\" + jsonStringFromList); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONzè½¬ä¸ºå¸¦æ³›å‹çš„List â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ List&lt;Person> retList = gson.fromJson(jsonStringFromList, new TypeToken&lt;List&lt;Person>>() { }.getType()); for (Person tempPerson : retList) { System.out.println(tempPerson.toString()); } } ------------------ç»“æœå¦‚ä¸‹------------------ ç®€å•çš„Beanè½¬ä¸ºJSONï¼š{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\",\"age\":21} JSONè½¬ä¸ºç®€å•Beanï¼šåå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 å¸¦æ³›å‹çš„Listè½¬JSONï¼š[{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\",\"age\":21},{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\",\"age\":21},{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\",\"age\":21}] åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3,å¹´é¾„21 å¥½æ–‡æ¨èåŠæ‰©å±•é˜…è¯»ï¼šä½ çœŸçš„ä¼šç”¨Gsonå—?Gsonä½¿ç”¨æŒ‡å—ï¼ˆä¸€ï¼‰ FastJsonåº“ç®€è¦ä½¿ç”¨è¯´æ˜ï¼ˆ1ï¼‰Mavenä¾èµ–ï¼š com.alibaba fastjson 1.2.47 ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹ï¼š @Test public void tester() { /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å‡†å¤‡æµ‹è¯•æ•°æ® â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person person1 = new Person(); person1.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\"); person1.setAge(21); Person person2 = new Person(); person2.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\"); person2.setAge(21); Person person3 = new Person(); person3.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\"); person3.setAge(21); List&lt;Person> list = new ArrayList&lt;>(); list.add(person1); list.add(person2); list.add(person3); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç®€å•çš„Beanè½¬ä¸ºJSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonString = JSON.toJSONString(person1); System.out.println(\"ç®€å•çš„Beanè½¬ä¸ºJSONï¼š\" + jsonString); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONè½¬ä¸ºç®€å•Bean â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person personFromJson = JSON.parseObject(jsonString, Person.class); System.out.println(\"JSONè½¬ä¸ºç®€å•Beanï¼š\" + personFromJson.toString()); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å¸¦æ³›å‹çš„Listè½¬JSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonStringFromList = JSON.toJSONString(list); System.out.println(\"å¸¦æ³›å‹çš„Listè½¬JSONï¼š\" + jsonStringFromList); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONzè½¬ä¸ºå¸¦æ³›å‹çš„List â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ List&lt;Person> retList = JSON.parseObject(jsonStringFromList, new TypeReference&lt;List&lt;Person>>() { }); for (Person tempPerson : retList) { System.out.println(tempPerson.toString()); } } ------------------ç»“æœå¦‚ä¸‹------------------ ç®€å•çš„Beanè½¬ä¸ºJSONï¼š{\"age\":21,\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\"} JSONè½¬ä¸ºç®€å•Beanï¼šåå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 å¸¦æ³›å‹çš„Listè½¬JSONï¼š[{\"age\":21,\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\"},{\"age\":21,\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\"},{\"age\":21,\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\"}] åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3,å¹´é¾„21 å®˜æ–¹æ–‡æ¡£ï¼šæˆ³è¿™é‡Œï¼Œæ®å®˜æ–¹è¯´æ³•ï¼ŒFastJsonæ¯”Gsonè¦å¿«ä¸Š6å€å“¦ï¼ Jacksonåº“ä½¿ç”¨ç®€è¦è¯´æ˜ï¼ˆ1ï¼‰Mavenä¾èµ–ï¼š ç¨å¾®éº»çƒ¦ä¸€ç‚¹çš„æ˜¯Jacksonéœ€è¦ä¾èµ–ä¸‰ä¸ªåŒ… com.fasterxml.jackson.core jackson-databind 2.9.5 com.fasterxml.jackson.core jackson-core 2.9.5 com.fasterxml.jackson.core jackson-annotations 2.9.5 ï¼ˆ2ï¼‰ä½¿ç”¨ç¤ºä¾‹ï¼š @Test public void tester() throws IOException { /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å‡†å¤‡æµ‹è¯•æ•°æ® â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person person1 = new Person(); person1.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\"); person1.setAge(21); Person person2 = new Person(); person2.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\"); person2.setAge(21); Person person3 = new Person(); person3.setName(\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\"); person3.setAge(21); List&lt;Person> list = new ArrayList&lt;>(); list.add(person1); list.add(person2); list.add(person3); /* ObjectMapperæ˜¯JSONæ“ä½œçš„æ ¸å¿ƒï¼ŒJacksonçš„æ‰€æœ‰JSONæ“ä½œéƒ½æ˜¯åœ¨ObjectMapperä¸­å®ç°çš„ */ ObjectMapper mapper = new ObjectMapper(); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç®€å•çš„Beanè½¬ä¸ºJSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonString = mapper.writeValueAsString(person1); System.out.println(\"ç®€å•çš„Beanè½¬ä¸ºJSONï¼š\" + jsonString); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONè½¬ä¸ºç®€å•Bean â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person personFromJson = mapper.readValue(jsonString, Person.class); System.out.println(\"JSONè½¬ä¸ºç®€å•Beanï¼š\" + personFromJson.toString()); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” å¸¦æ³›å‹çš„Listè½¬JSON â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ String jsonStringFromList = mapper.writeValueAsString(list); System.out.println(\"å¸¦æ³›å‹çš„Listè½¬JSONï¼š\" + jsonStringFromList); /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONzè½¬ä¸ºå¸¦æ³›å‹çš„List â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ // List&lt;LinkedHashMap&lt;String, Person>> retList = mapper.readValue(jsonStringFromList, List.class); // for (int i = 0; i &lt; retList.size(); i++) { // Map&lt;String, Person> map = retList.get(i); // Set&lt;String> set = map.keySet(); // for (Iterator&lt;String> it = set.iterator(); it.hasNext();) { // String key = it.next(); // System.out.println(key + \":\" + map.get(key)); // } // } /* â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” JSONzè½¬ä¸ºArrayæ•°ç»„ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” */ Person[] retList = mapper.readValue(jsonStringFromList, Person[].class); for (int i = 0; i &lt; retList.length; i++) { System.out.println(retList[i].toString()); } } ------------------ç»“æœå¦‚ä¸‹------------------ ç®€å•çš„Beanè½¬ä¸ºJSONï¼š{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\",\"age\":21} JSONè½¬ä¸ºç®€å•Beanï¼šåå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 å¸¦æ³›å‹çš„Listè½¬JSONï¼š[{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1\",\"age\":21},{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2\",\"age\":21},{\"name\":\"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3\",\"age\":21}] åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„1,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„2,å¹´é¾„21 åå­—ä¸ºæˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„3,å¹´é¾„21 å‡ ç‚¹æ³¨æ„ï¼š 1.ç”±äºJacksonåº•å±‚ä»£ç æŠ›å‡ºäº†IOEceptionï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™ä¹Ÿéœ€è¦æŠ›å‡ºï¼›2.Jacksonæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åŸºäºObjectMapper åœ¨æ¡†æ¶ä¸­ä½¿ç”¨JSONSpingMVCå’ŒSpringBootä¸€æ ·ï¼Œéƒ½èƒ½é€šè¿‡æ³¨è§£çš„æ–¹å¼è·å–å¹¶è¿”å›ä¸€ä¸²JSONæ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨SpringBootçš„ä¸€æ®µå®ä¾‹ç¨‹åºæ¥å®é™…è¯´æ˜ä¸€ä¸‹ï¼š @RequestMapping(\"/jsonCategory\") @ResponseBody // è¯¥æ³¨è§£è¡¨ç¤ºæˆ‘ä»¬çš„è¯·æ±‚ä¸å†äº¤ç»™springmvcå¤„ç†ï¼Œè€Œæ˜¯ç»“åˆJSONåŒ…ï¼Œå°†å¯¹è±¡è§£ææˆJSONå­—ç¬¦ä¸² public Category jsonCategory() { return new Category(123, \"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„\"); } æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è®¿é—®åœ°å€ï¼šlocalhost:8080/jsonCategoryï¼Œä¼šå¾—åˆ°ä»¥ä¸‹JSONæ•°æ®ï¼š æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ @RequestBody æ¥è·å–ä¸€ä¸²JSONæ•°æ®ï¼š @PutMapping(\"/category\") public void addCategory(@RequestBody Category category) { System.out.println(\"springbootæ¥å—åˆ°æµè§ˆå™¨ä»¥JSONæ ¼å¼æäº¤çš„æ•°æ®ï¼š\" + category.getId() + category.getName()); } æˆ‘ä»¬åœ¨å‰å°ä½¿ç”¨çš„æ˜¯ä¸Šé¢ç”¨è¿‡çš„ç”¨äºæäº¤JSONæ•°æ®çš„é¡µé¢ï¼Œè¿è¡Œèƒ½å¤ŸæˆåŠŸå¾—åˆ°ç»“æœï¼š æ³¨æ„ï¼š Spring4 ä¹‹åæ–°åŠ å…¥äº† @RestController æ³¨è§£ï¼Œæ˜¯@ResponseBodyå’Œ@Controllerçš„ç»„åˆæ³¨è§£ï¼Œç”¨äºè¿”å›JSONæ•°æ®ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸ƒ)â€”â€”Webç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-ä¸ƒ-â€”â€”Webç¯‡","date":"2018-05-21T23:13:00.000Z","updated":"2020-08-03T08:57:32.926Z","comments":true,"path":"2018/05/22/java-mian-shi-zhi-shi-dian-jie-xi-qi-web-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/22/java-mian-shi-zhi-shi-dian-jie-xi-qi-web-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(å››)â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äº”)â€”â€”ç½‘ç»œåè®®ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(å…­)â€”â€”æ•°æ®åº“ç¯‡ ï¼ˆä¸€ï¼‰J2EE ç›¸å…³çŸ¥è¯†ç‚¹ ä¸æ¶‰åŠä»»ä½•æ¡†æ¶ï¼Œå¯¹ J2EE ç›¸å…³çŸ¥è¯†ç‚¹çš„è§£æ 1ï¼‰Servlet çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿåœ¨ Web å®¹å™¨ä¸­ï¼ŒServlet ä¸»è¦ç»å† 4 ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹å›¾ï¼š 1. åŠ è½½ Servletï¼šå½“ Tomcat ç¬¬ä¸€æ¬¡è®¿é—® Servlet çš„æ—¶å€™ï¼ŒTomcat ä¼šè´Ÿè´£åˆ›å»º Servlet çš„å®ä¾‹ã€‚ 2. åˆå§‹åŒ– Servletï¼šå½“ Servlet è¢«å®ä¾‹åŒ–ä¹‹åï¼ŒTomcat ä¼šè°ƒç”¨ init() æ–¹æ³•æ¥åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡ã€‚ 3. å¤„ç†æœåŠ¡ï¼šå½“æµè§ˆå™¨è®¿é—® Servlet çš„æ—¶å€™ï¼ŒServlet ä¼šè°ƒç”¨ service() æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚ 4. é”€æ¯ï¼šå½“ Tomcat å…³é—­æˆ–è€…æ£€æµ‹åˆ° Servlet è¦ä» Tomcat åˆ é™¤çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ destroy() æ–¹æ³•ï¼Œè®©è¯¥å®ä¾‹æ‰€å ç”¨çš„èµ„æºé‡Šæ”¾æ‰ã€‚ä¸€ä¸ª Servlet å¦‚æœé•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„è¯ï¼Œä¹Ÿä¼šè¢« Tomcat è‡ªåŠ¨é”€æ¯ã€‚ ç®€å•æ€»ç»“ï¼šåªè¦è®¿é—® Servlet ï¼Œå°±ä¼šè°ƒç”¨å…¶å¯¹åº”çš„ service() æ–¹æ³•ï¼Œinit() æ–¹æ³•åªä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—® Serlvet çš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚ 2ï¼‰Servlet çš„è¯·æ±‚æµç¨‹ï¼Ÿ æµè§ˆå™¨å‘å‡ºè¯·æ±‚ï¼š http://localhost:80/xxx1/xxx2 ï¼ˆ80ç«¯å£å¯ä»¥é»˜è®¤ä¸å†™ï¼Œå› ä¸ºè¿™æ˜¯httpåè®®é»˜è®¤çš„ç«¯å£ï¼Œå¹³æ—¶æˆ‘ä»¬è®¿é—®https://www.baidu.com/ æ—¶å…¶å®è®¿é—®çš„æ˜¯https://www.baidu.com:80/ï¼‰ æœåŠ¡å™¨è§£æè¯·æ±‚ä¿¡æ¯ï¼š http:åè®®åç§° localhost:è®¿é—®çš„æ˜¯äº’è”ç½‘ä¸­çš„å“ªä¸€å°è®¡ç®—æœº 80:ä»ä¸»æœºå½“ä¸­æ‰¾åˆ°å¯¹åº” 80 ç«¯å£çš„ç¨‹åº **ï¼ˆè¿™é‡Œå³ä¸º Tomcat æœåŠ¡å™¨**ï¼‰ /xxx1:å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„ ï¼ˆå³åœ¨ server.xml ä¸­é…ç½®ä¸»æœºæ—¶é…ç½®çš„ pathå±æ€§ï¼‰ /xxx2:å½“å‰è¯·æ±‚çš„èµ„æºå è§£æ Tomcat æœåŠ¡å™¨æ ¹ç›®å½•ä¸‹çš„ /config/server.xml æ–‡ä»¶ï¼š&lt;Context docBase=&quot;D:\\javaPros\\test\\webapp&quot; path=&quot;xxx1&quot; /&gt;åˆ¤æ–­å“ªä¸€ä¸ª&lt;Context /&gt;å…ƒç´ çš„ pathå±æ€§ å±æ€§ä¸º xxx1 è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› 404é”™è¯¯ è‹¥æ‰¾åˆ°äº†ï¼Œåˆ™è§£æè¯¥&lt;Context /&gt;å…ƒç´ ï¼Œå¾—åˆ°docBaseå±æ€§ï¼Œè·å–å½“å‰è®¿é—® Web é¡¹ç›®çš„è·Ÿçš„ç»å¯¹è·¯å¾„ï¼šD:\\javaPros\\test\\webapp ä»D:\\javaPros\\test\\webappä¸‹çš„ WEB-INF ä¸‹æ‰¾åˆ° web.xml æ–‡ä»¶åˆ¤æ–­ web.xml æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ &lt;url-pattern&gt; çš„æ–‡æœ¬å†…å®¹ä¸º /xxx2 è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› 404é”™è¯¯ è‹¥æ‰¾åˆ°äº†ï¼Œåˆ™ç»§ç»­è·å–è¯¥èµ„æºå¯¹åº” Servlet ç±»çš„å…¨é™åç§°ï¼š xxx.xxx åˆ¤æ–­ Servlet å®ä¾‹ç¼“å­˜æ±  ä¸­æ˜¯å¦æœ‰ xxx.xxx çš„å¯¹è±¡ Map&lt;String,Servlet> cache = ......(Tomcatæä¾›çš„); key:å­˜Servletç±»çš„å…¨é™å®šåç§° value:è¯¥Servletç±»çš„å¯¹è±¡. Servlet obj = cache.get(\"xxx.xxx\"); if(obj==null){ //Servletå®ä¾‹ç¼“å­˜ä¸­æ²¡æœ‰è¯¥ç±»çš„å¯¹è±¡,ç¬¬ä¸€æ¬¡. GOTO 6: }else{ //æœ‰å¯¹è±¡,éç¬¬ä¸€æ¬¡. GOTO 8: } } ä½¿ç”¨åå°„è°ƒç”¨æ„é€ å™¨ï¼Œåˆ›å»ºå¯¹åº”çš„å¯¹è±¡obj = Class.forName(&quot;xxx.xxx&quot;).newInstance();æŠŠå½“å‰åˆ›å»ºçš„ Servlet å¯¹è±¡ï¼Œå­˜æ”¾åœ¨ç¼“å­˜ä¹‹ä¸­ï¼Œä¾›ç»™ä¸‹ä¸€æ¬¡çš„ä½¿ç”¨.cache.put(&quot;xxx.xxx&quot;,obj); åˆ›å»º ServletConfig å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ init() æ–¹æ³•obj.init(config); åˆ›å»º ServletRequest å¯¹è±¡å’Œ ServletResponse å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ service()æ–¹æ³•obj.service(req,resp); åœ¨ service() æ–¹æ³•ä¸­å¯¹æµè§ˆå™¨ä½œå‡ºå“åº”æ“ä½œã€‚ 3ï¼‰Servlet æ˜¯å•ä¾‹çš„å—ï¼Ÿä¸ºä»€ä¹ˆï¼ŸServlet æ˜¯å•ä¾‹çš„ï¼Œæµè§ˆå™¨å¤šæ¬¡å¯¹Servletçš„è¯·æ±‚ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åªåˆ›å»ºä¸€ä¸ªServletå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒServletå¯¹è±¡ä¸€æ—¦åˆ›å»ºäº†ï¼Œå°±ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„è¯·æ±‚åšæœåŠ¡ï¼Œç›´åˆ°æœåŠ¡å™¨å…³é—­ã€‚ 4ï¼‰GET å’Œ POST çš„åŒºåˆ«è¦çŸ¥é“ï¼ŒGET å’Œ POST éƒ½æ˜¯è¯·æ±‚æ–¹å¼ 1. GETï¼šæµè§ˆå™¨å™¨åœ°å€æ ï¼šhttp://localhost/test.html?name=wmyskxz&amp;sex=male è¿™é‡Œæäº¤äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯nameå±æ€§å€¼ä¸ºwmyskxzï¼Œå¦ä¸€ä¸ªæ˜¯sexå±æ€§å€¼ä¸ºmaleï¼Œè¿™æ˜¯ä¸€ç§ç›´æ¥çš„è¯·æ±‚æ–¹å¼ï¼Œåœ¨è¯·æ±‚èµ„æºåé¢è·Ÿä¸Š ? ç¬¦å·ä¸å‚æ•°è¿æ¥ï¼Œå…¶ä»–çš„å‚æ•°ä½¿ç”¨ &amp; ç¬¦å·è¿æ¥ã€‚ ç¼ºç‚¹ï¼š 1.æš´éœ²è¯·æ±‚ä¿¡æ¯ï¼Œä¸å®‰å…¨2.è¯·æ±‚ä¿¡æ¯ä¸èƒ½è¶…è¿‡1kbï¼Œå¯ä¼ è¾“çš„ä¿¡æ¯æœ‰é™ï¼Œä¸èƒ½ä¸Šä¼ å›¾ç‰‡ 2. POSTï¼šæµè§ˆå™¨åœ°å€æ ï¼šhttp://localhost/test.html# ä¼˜ç‚¹ï¼š 1.éšè—äº†è¯·æ±‚ä¿¡æ¯ï¼Œè¾ƒå®‰å…¨ï¼ˆä½†ä»å¯ä»¥é€šè¿‡ç›¸å…³å·¥å…·è®¿é—®åˆ°æ•°æ®ï¼‰2.POST æ–¹å¼æ²¡æœ‰é™åˆ¶è¯·æ±‚çš„æ•°æ®å¤§å°ï¼Œå¯ä»¥åšå›¾ç‰‡çš„ä¸Šä¼  5ï¼‰Tomcat ä¸­å¦‚ä½•è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Ÿåœ¨ Tomcat æœåŠ¡å™¨ä¸­ï¼Œæ¥å—è¯·æ±‚çš„æ—¶å€™ï¼Œé»˜è®¤çš„ç¼–ç æ–¹å¼ä¸º ISO-8859-1ï¼Œè€Œè¯¥ç¼–ç æ–¹å¼åªå ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ”¯æŒä¸­æ–‡ï¼ˆä¸¤ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åšè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ è§£å†³æ–¹æ¡ˆï¼š 1.å¯¹ä¹±ç ä½¿ç”¨ ISO-8859-1 è§£ç ï¼Œè½¬æ¢æˆbyteæ•°ç»„ï¼Œæ¢å¤ä¸ºäºŒè¿›åˆ¶byte[] data = name.getBytes(&quot;ISO-8859-1&quot;); 2.å¯¹byteæ•°ç»„é‡æ–°è¿›è¡Œ UTF-8 ç¼–ç ï¼šname = new String(data,&quot;UTF-8&quot;);ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å½“è¡¨å•æ•°æ®å¤ªå¤šçš„æ—¶å€™ï¼Œè¿™æ ·åå¤è§£ç -ç¼–ç ï¼Œä¼šå¾ˆç¹çã€‚ ç»ˆæè§£å†³æ–¹æ¡ˆï¼š 1.å¯¹äº POST è¯·æ±‚ï¼šè®¾ç½®è¯·æ±‚çš„ç¼–ç æ–¹å¼ï¼šrequest.setCharacterEncoding(&quot;UTF-8&quot;);æ³¨æ„ï¼šå¿…é¡»åœ¨è·å–ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹å‰è®¾ç½®ï¼Œå¹¶ä¸”è¯¥æ–¹å¼åªå¯¹ POST æ–¹å¼æœ‰æ•ˆã€‚ 2.å¯¹äº GET è¯·æ±‚ï¼šé‡æ–°è®¾ç½® Tomcat çš„ç¼–ç æ–¹å¼ï¼Œä¿®æ”¹ Tomcat çš„é…ç½®æ–‡ä»¶:Tomcatæ ¹ç›®å½•/conf/server.xml(ä¿®æ”¹ç«¯å£çš„é‚£ä¸€è¡Œ) 6ï¼‰forward ä¸ redirect çš„åŒºåˆ«1.è¯·æ±‚è½¬å‘ï¼ˆforwardï¼‰åˆå«åšç›´æ¥è½¬å‘æ–¹å¼ï¼Œå®¢æˆ·ç«¯å’Œæµè§ˆå™¨åªå‘å‡ºä¸€æ¬¡è¯·æ±‚ï¼ŒServletã€HTMLã€JSPæˆ–å…¶å®ƒä¿¡æ¯èµ„æºï¼Œç”±ç¬¬äºŒä¸ªä¿¡æ¯èµ„æºå“åº”è¯¥è¯·æ±‚ï¼Œåœ¨è¯·æ±‚å¯¹è±¡requestä¸­ï¼Œä¿å­˜çš„å¯¹è±¡å¯¹äºæ¯ä¸ªä¿¡æ¯èµ„æºæ˜¯å…±äº«çš„ã€‚ æ¯”å¦‚ï¼šä» AServlet è¯·æ±‚è½¬å‘åˆ° BServlet è¯­æ³•ï¼š request.getRequestDispatcher(path).forward(request, response); å‚æ•°ï¼š pathï¼Œè¦è·³è½¬åˆ°çš„èµ„æºè·¯å¾„ï¼šä¸Šä¸‹æ–‡è·¯å¾„ / èµ„æºè·¯å¾„ ç‰¹ç‚¹ï¼š 1.åœ°å€æ ä¸­çš„åœ°å€ã€ä¸ä¼šã€‘æ”¹å˜ï¼Œé€šå¸¸çœ‹ä½œæ˜¯æœåŠ¡ç«¯çš„è·³è½¬ 2.åªæœ‰ä¸€ä¸ªè¯·æ±‚ 3.èµ„æºæ˜¯å…±äº«çš„ ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸¤ä¸ª Servlet ä¸­å¯ä»¥å…±äº«è¯·æ±‚çš„èµ„æºï¼Œå¯ä»¥é€šè¿‡request.setAttribute(String var1,Object var2)è®¾ç½®è¦å…±äº«çš„æ•°æ®èµ„æºï¼Œå¹¶é€šè¿‡request.getAttribute(String var1);æ¥è·å–ä¼ é€’çš„èµ„æº 4.ã€å¯ä»¥ã€‘è®¿é—® WEB-INF ä¸­çš„èµ„æº WEB-INF æ–‡ä»¶å¤¹æ˜¯ Java Web åº”ç”¨çš„é»˜è®¤å®‰å…¨ç›®å½•ï¼Œå³å®¢æˆ·ç«¯æ— æ³•ç›´æ¥è®¿é—®ï¼Œåªæœ‰æœåŠ¡ç«¯å¯ä»¥è®¿é—®çš„ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚ æ³¨æ„ï¼šåœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¯ä»¥æŠŠä¸å¸Œæœ›ç”¨æˆ·ç›´æ¥è®¿é—®åˆ°ï¼ˆé€šè¿‡æµè§ˆå™¨è¾“å…¥åœ°å€æ ï¼‰çš„ç½‘é¡µæ”¾åœ¨æ–‡ä»¶å¤¹ä¸­é€šè¿‡æ­¤æ–¹å¼è®¿é—®ã€‚ 5.è¯·æ±‚è½¬å‘ã€ä¸èƒ½ã€‘è·¨åŸŸè®¿é—® æ‰€è°“çš„åŒåŸŸï¼Œæ˜¯æŒ‡åŸŸåï¼Œåè®®ï¼Œç«¯å£å‡ç›¸åŒ 2.URl é‡å®šå‘ï¼ˆredirectï¼‰åˆå«åšé—´æ¥è½¬å‘æ–¹å¼ï¼ˆRedirectï¼‰å®é™…æ˜¯ä¸¤æ¬¡HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯åœ¨å“åº”ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œè®©æµè§ˆå™¨å†å‘å¦å¤–ä¸€ä¸ªURLå‘å‡ºè¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°è½¬å‘çš„ç›®çš„ã€‚ æ¯”å¦‚:ä»AServleté‡å®šå‘åˆ°BServlet è¯­æ³•ï¼š response.sendRedirect(String location); å‚æ•°ï¼šlocationï¼Œè½¬å‘åˆ°çš„èµ„æºè·¯å¾„ ç‰¹ç‚¹ï¼š 1.åœ°å€æ ä¸­çš„åœ°å€ã€ä¼šã€‘å‘ç”Ÿæ”¹å˜ï¼Œé€šå¸¸çœ‹ä½œæ˜¯å®¢æˆ·ç«¯è·³è½¬ 2.æœ‰ä¸¤ä¸ªè¯·æ±‚ 3.åœ¨ä¸¤ä¸ª Servlet ä¸­ä¸å¯ä»¥å…±äº«è¯·æ±‚ä¸­çš„æ•°æ® 4.æœ€ç»ˆçš„å“åº”ç”± BServlet æ¥å†³å®šï¼Œå’Œ AServlet æ²¡æœ‰å…³ç³» 5.ã€ä¸å¯ä»¥ã€‘è®¿é—® WEB-INF ä¸­çš„èµ„æº 6.è¯·æ±‚è½¬å‘ã€èƒ½ã€‘è·¨åŸŸè®¿é—® å°±åƒæ˜¯åœ¨ç½‘é¡µä¸­ç‚¹å¼€äº†æ–°çš„é“¾æ¥ä¸€æ · æ€»ç»“ï¼šURL é‡å®šå‘ç›¸å½“äºæ˜¯å°†é‡å®šå‘çš„èµ„æºè·¯å¾„ï¼Œé‡æ–°å¤åˆ¶åˆ°æµè§ˆå™¨åœ°å€æ ä¸­æŒ‰ä¸‹å›è½¦ä¸€æ ·ï¼Œé‡æ–°å‘é€ä¸€æ¬¡æ–°çš„è¯·æ±‚ã€‚ 7ï¼‰JSP çš„æ‰§è¡ŒåŸç†ï¼Ÿå½“è®¿é—®ä¸€ä¸ª JSP é¡µé¢æ—¶ï¼Œè¯¥é¡µé¢è¯·æ±‚å°†ä¼šè®²ç»™æœåŠ¡å™¨ä¸­çš„ JSP å¼•æ“å»å¤„ç†ï¼Œå®ƒè´Ÿè´£è§£é‡Šå’Œæ‰§è¡Œ JSP é¡µé¢ï¼Œæ¯ä¸ª JSP é¡µé¢åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒJSP å¼•æ“å°±ä¼šå°†å®ƒç¿»è¯‘æˆä¸€ä¸ªç»§æ‰¿è‡ª org.apache.jasper.runtime.HttpJspBaseç±»çš„ Servlet æºç¨‹åºï¼Œæ¥ç€å†ç¼–è¯‘æˆ class ç±»æ–‡ä»¶ï¼Œå†ç”± Web å®¹å™¨åƒè°ƒç”¨æ™®é€š Servlet ç¨‹åºä¸€æ ·çš„æ–¹å¼æ¥è£…è½½å’Œè§£é‡Šæ‰§è¡Œè¿™ä¸ªç”± JSP é¡µé¢ç¿»è¯‘æˆçš„ Servlet ç¨‹åºã€‚ 8ï¼‰request.getAttribute() å’Œ request.getParameter() æœ‰ä½•åŒºåˆ«ï¼Ÿ request.getParameter() é€šå¸¸ç”¨æ¥æ¥æ”¶æ¥æ”¶è¡¨å•çš„getæˆ–è€…postæäº¤è¿‡æ¥çš„å‚æ•°ï¼›è€Œrequest.getAttribute()ä¸€èˆ¬å’ŒsetAttribute()æ­é…ä½¿ç”¨ï¼Œåªæœ‰å…ˆsetä¹‹åæ‰èƒ½é€šè¿‡getæ–¹æ³•è·å–åˆ°Objectç±»å‹çš„æ•°æ® getAttribute è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œè€ŒgetParameter è¿”å›çš„æ˜¯å­—ç¬¦ä¸² getAttribute å’Œ setAttribute åªæ˜¯åœ¨ web å®¹å™¨å†…æµè½¬ï¼Œä»…ä»…æ˜¯è¯·æ±‚å¤„ç†é˜¶æ®µï¼›è€Œ getParameter å–åˆ°çš„æ•°æ®æ˜¯é€šè¿‡å®¹å™¨æ¥è·å–çš„ã€‚ 9ï¼‰JSP ä¸ Servlet çš„åŒºåˆ«ï¼Ÿ JSP å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Servletã€‚å¯ä»¥ç†è§£ä¸ºï¼ŒJSP æ˜¯ç¼–è¯‘åçš„ â€œServlet ç±»â€ï¼› JSP ç”± HTML ä»£ç å’Œ JSP æ ‡ç­¾ç»„æˆï¼Œæ›´æ“…é•¿é¡µé¢æ˜¾ç¤ºï¼›è€Œ Servlet æ›´æ“…é•¿æµç¨‹æ§åˆ¶ï¼› JSP æ„Ÿè§‰åƒæ˜¯ HTML ä¸­åµŒå…¥ Java ä»£ç ï¼Œè€Œ Servlet æœ‰äº›åƒ Java ä¸­åµŒå…¥ HTML ä»£ç çš„æ„æ€ã€‚ 10ï¼‰JSP é™æ€åŒ…å«å’ŒåŠ¨æ€åŒ…å«çš„åŒºåˆ«ï¼Ÿï¼ˆ1ï¼‰é™æ€åŒ…å«ï¼šç¼–è¯‘æŒ‡ä»¤åŒ…å«&lt;%@include file=&quot;è¢«åŒ…å«çš„é¡µé¢çš„è·¯å¾„&quot;%&gt; åŒ…å«çš„æ—¶æœºï¼šåœ¨ JSP æ–‡ä»¶è¢«ç¿»è¯‘çš„æ—¶å€™åˆå¹¶åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆç¿»è¯‘å¾—åˆ°ä¸€ä¸ª classæ–‡ä»¶ ï¼ˆ2ï¼‰åŠ¨æ€åŒ…å«ï¼šåŠ¨ä½œæŒ‡ä»¤åŒ…å«&lt;jsp:include page=&quot;è¢«åŒ…å«é¡µé¢çš„è·¯å¾„&quot;&gt;&lt;/jsp:include&gt; åŒ…å«çš„æ—¶æœºï¼šåœ¨è¿è¡Œé˜¶æ®µåˆå¹¶ä»£ç ï¼Œæœ€ç»ˆå¾—åˆ°ä¸¤ä¸ª class æ–‡ä»¶ ï¼ˆ3ï¼‰åŠ¨æ€åŒ…å«å’Œé™æ€åŒ…å«çš„é€‰æ‹©: å¦‚æœè¢«åŒ…å«çš„é¡µé¢å¦‚æœæ˜¯é™æ€é¡µé¢,é‚£ä¹ˆä½¿ç”¨é™æ€åŒ…å«ï¼› å¦‚æœè¢«åŒ…å«çš„å¦‚æœæ˜¯åŠ¨æ€é¡µé¢,é‚£ä¹ˆä½¿ç”¨åŠ¨æ€åŒ…å«ã€‚ 11ï¼‰JSP æœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼ŸJSP å…±æœ‰ä»¥ä¸‹ 9 ä¸ªå†…ç½®çš„å¯¹è±¡ï¼š requestï¼šç”¨æˆ·ç«¯è¯·æ±‚ï¼Œæ­¤è¯·æ±‚ä¼šåŒ…å«æ¥è‡ª GET/POST è¯·æ±‚çš„å‚æ•°ï¼› responseï¼šè¡¨ç¤ºä¸€æ¬¡å“åº”å¯¹è±¡ï¼› pageContextï¼šè¡¨ç¤ºå½“å‰çš„ JSP å¯¹è±¡ï¼› sessionï¼šè¡¨ç¤ºä¸€æ¬¡ä¼šè¯å¯¹è±¡ï¼› applicationï¼šè¡¨ç¤ºå½“å‰åº”ç”¨å¯¹è±¡ï¼› outï¼šè¡¨ç¤ºä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡ï¼› configï¼šè¡¨ç¤ºå½“å‰ JSP çš„é…ç½®å¯¹è±¡ï¼› pageï¼šè¡¨ç¤ºå½“å‰é¡µé¢ï¼› exceptionï¼šè¡¨ç¤ºå¼‚å¸¸å¯¹è±¡ã€‚ 12ï¼‰JSTL æ˜¯ä»€ä¹ˆï¼Ÿä¼˜ç‚¹æœ‰å“ªäº›ï¼ŸJSTLï¼ˆJSP StandardTagLibraryï¼ŒJSPæ ‡å‡†æ ‡ç­¾åº“)æ˜¯ä¸€ä¸ªä¸æ–­å®Œå–„çš„å¼€æ”¾æºä»£ç çš„JSPæ ‡ç­¾åº“ï¼Œç”±å››ä¸ªå®šåˆ¶æ ‡è®°åº“ï¼ˆcoreã€formatã€xmlå’Œsqlï¼‰å’Œä¸€å¯¹é€šç”¨æ ‡è®°åº“éªŒè¯å™¨ï¼ˆScriptFreeTLVå’ŒPermittedTaglibsTLVï¼‰ç»„æˆã€‚ä¼˜ç‚¹æœ‰ï¼š åœ¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¹‹é—´æä¾›äº†ä¸€è‡´çš„æ¥å£ï¼Œæœ€å¤§ç¨‹åºåœ°æé«˜äº†WEBåº”ç”¨åœ¨å„åº”ç”¨æœåŠ¡å™¨ä¹‹é—´çš„ç§»æ¤ã€‚ ç®€åŒ–äº†JSPå’ŒWEBåº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚ ä»¥ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼å‡å°‘äº†JSPä¸­çš„scriptletä»£ç æ•°é‡ï¼Œå¯ä»¥è¾¾åˆ°æ²¡æœ‰ä»»ä½•scriptletä»£ç çš„ç¨‹åºã€‚åœ¨æˆ‘ä»¬å…¬å¸çš„é¡¹ç›®ä¸­æ˜¯ä¸å…è®¸æœ‰ä»»ä½•çš„scriptletä»£ç å‡ºç°åœ¨JSPä¸­ã€‚ å…è®¸JSPè®¾è®¡å·¥å…·ä¸WEBåº”ç”¨ç¨‹åºå¼€å‘çš„è¿›ä¸€æ­¥é›†æˆã€‚ç›¸ä¿¡ä¸ä¹…å°±ä¼šæœ‰æ”¯æŒJSTLçš„IDEå¼€å‘å·¥å…·å‡ºç°ã€‚ 13ï¼‰ä»€ä¹ˆæ˜¯ Cookieï¼ŸSession å’Œ Cookie æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸCookie æŠ€æœ¯Cookie æ˜¯ä¸€ç§ä¼šè¯æŠ€æœ¯ï¼Œç”¨äºå°†ç”¨æˆ·çš„ä¿¡æ¯ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸Šã€‚Cookie è‹±æ–‡ç›´æ¥ç¿»è¯‘è¿‡æ¥å°±æ˜¯å°ç”œå“ï¼ŒCookie çš„ä½œç”¨å‘¢ï¼Œé€šä¿—çš„è¯´å°±æ˜¯å½“ä¸€ä¸ªç”¨æˆ·é€šè¿‡ HTTP è®¿é—®ä¸€ä¸ªæœåŠ¡å™¨æ—¶ï¼Œè¿™ä¸ªæœåŠ¡å™¨ä¼šå°†ä¸€äº› Key/Value é”®å€¼å¯¹è¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œå¹¶ç»™è¿™äº›æ•°æ®åŠ ä¸Šä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œåœ¨æ¡ä»¶ç¬¦åˆæ—¶è¿™ä¸ªç”¨æˆ·ä¸‹æ¬¡è®¿é—®è¿™ä¸ªæœåŠ¡å™¨æ—¶ï¼Œæ•°æ®åˆè¢«å®Œæ•´åœ°å¸¦å›ç»™æœåŠ¡å™¨ã€‚ è¿™ä¸ªä½œç”¨å°±åƒæ˜¯ä½ å»è¶…å¸‚è´­ç‰©æ—¶ï¼Œç¬¬ä¸€æ¬¡ç»™ä½ åŠäº†ä¸€å¼ è´­ç‰©å¡ï¼Œåœ¨è¿™ä¸ªè´­ç‰©å¡é‡Œå­˜æ”¾äº†ä¸€äº›ä½ çš„ä¸ªäººä¿¡æ¯ï¼Œä¸‹æ¬¡ä½ å†æ¥è¿™ä¸ªè¶…å¸‚çš„æ—¶å€™ï¼Œä½ å°±åªéœ€è¦å¸¦ä¸Šä½ çš„è´­ç‰©å¡ï¼Œç›´æ¥è´­ç‰©å°±å¥½äº†ã€‚ Session æŠ€æœ¯Sessionï¼šä¼šè¯ï¼Œä»æµè§ˆå™¨æ‰“å¼€å¼€å§‹ï¼Œç›´åˆ°æµè§ˆå™¨å…³é—­ç»“æŸï¼Œæ— è®ºåœ¨è¿™ä¸ªç½‘ç«™ä¸­è®¿é—®äº†å¤šå°‘é¡µé¢ï¼Œç‚¹å‡»äº†å¤šå°‘é“¾æ¥ï¼Œéƒ½å±äºåŒä¸€ä¸ªä¼šè¯ã€‚Session ä¹Ÿå¯ä»¥ç§°ä¸ºä¼šè¯ Cookie ç‰¹ç‚¹ï¼šæœåŠ¡ç«¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ Cookie ä¸ Session çš„åŒºåˆ« Cookie çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼ŒSession æ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼› Cookie ä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„ Cookie å¹¶è¿›è¡Œ Cookie æ¬ºéª—ï¼Œå¦‚æœè€ƒè™‘å®‰å…¨é—®é¢˜åˆ™åº”å½“ä½¿ç”¨ Sessionï¼› Session ä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œå½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œæ‰€ä»¥å¦‚æœè€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œåˆ™åº”å½“ä½¿ç”¨ Cookieï¼› å•ä¸ª Cookie åœ¨å®¢æˆ·ç«¯çš„é™åˆ¶æ˜¯ 3k ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªç«™ç‚¹åœ¨å®¢æˆ·ç«¯å­˜æ”¾çš„ Cookie ä¸èƒ½è¶…è¿‡ 3kã€‚ æ€»ç»“ï¼š å°†ç™»å½•ä¿¡æ¯ç­‰é‡è¦ä¿¡æ¯å­˜æ”¾ä¸º Sessionï¼›å…¶ä»–ä¿¡æ¯å¦‚æœéœ€è¦ä¿ç•™ï¼Œå¯ä»¥å­˜æ”¾åœ¨ Cookie ä¸­ã€‚ 14ï¼‰ä»€ä¹ˆæ˜¯è¿‡æ»¤å™¨ï¼Ÿè¿‡æ»¤å™¨å°±æ˜¯ Servlet çš„é«˜çº§ç‰¹æ€§ä¹‹ä¸€ï¼Œå°±æ˜¯ä¸€ä¸ªå…·æœ‰æ‹¦æˆª/è¿‡æ»¤åŠŸèƒ½çš„ä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨ç”Ÿæ´»ä¸­è¿‡æ»¤å™¨å¯ä»¥æ˜¯é¦™çƒŸæ»¤å˜´ï¼Œæ»¤çº¸ï¼Œå‡€æ°´å™¨ï¼Œç©ºæ°”å‡€åŒ–å™¨ç­‰ï¼Œåœ¨ Web ä¸­ä»…ä»…æ˜¯ä¸€ä¸ªå®ç°äº† Filter æ¥å£çš„ Java ç±»è€Œå·²ã€‚ ç‰¹ç‚¹ï¼šåŒå‘ï¼Œæ‹¦æˆªè¯·æ±‚ï¼Œæ‹¦æˆªå“åº” ä½œç”¨ï¼šè¿‡æ»¤å™¨å¯ä»¥å¯¹æ‰€æœ‰çš„è¯·æ±‚æˆ–è€…å“åº”åšæ‹¦æˆªæ“ä½œ 15ï¼‰ä¸ºä»€ä¹ˆåœ¨ Web å¼€å‘ä¸­éœ€è¦ç”¨åˆ°è¿‡æ»¤å™¨ï¼Ÿ é—®é¢˜ï¼šä¸ºä»€ä¹ˆéå¾—ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œæˆ‘ç›´æ¥åœ¨ Servlet ä¸­ä½œåˆ¤æ–­ä¸è¡Œå—ï¼Ÿ å¼€å‘éµå¾ªçš„åŸåˆ™ï¼š1.DRYåŸåˆ™ï¼ˆDonâ€™t Reeat Yourselfï¼Œä¸è¦é‡å¤ä½ è‡ªå·±ï¼‰ï¼šé‡å¤ï¼Œæ„å‘³ç€ç»´æŠ¤çš„æˆæœ¬å¾ˆé«˜ã€‚2.è´£ä»»åˆ†ç¦»åŸåˆ™ï¼šè°æ“…é•¿ä»€ä¹ˆåŠŸèƒ½å°±åšä»€ä¹ˆåŠŸèƒ½ï¼ŒServlet æ“…é•¿çš„æ˜¯é€»è¾‘è€Œä¸æ˜¯å¤„ç†è¯·æ±‚ ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼šï¼ˆå¤„ç† POST è¯·æ±‚ä¸­æ–‡ç¼–ç çš„é—®é¢˜ï¼‰ Web ä¸­è¿‡æ»¤å™¨çš„ä½œç”¨ï¼š1.å¯ä»¥åœ¨è¯·æ±‚èµ„æºä¹‹å‰è®¾ç½®è¯·æ±‚çš„ç¼–ç 2.å¯ä»¥è¿›è¡Œç™»å½•æ ¡éªŒ3.å¯ä»¥è¿›è¡Œè¯·æ±‚å‚æ•°çš„å†…å®¹çš„è¿‡æ»¤4.æ•°æ®å‹ç¼© / æ•°æ®åŠ å¯† / æ•°æ®æ ¼å¼çš„è½¬æ¢5.å¯ä»¥è®¾ç½®æµè§ˆå™¨ç›¸å…³çš„æ•°æ® 16ï¼‰MVC æ¨¡å¼ï¼ŸMVCæ¨¡å¼ï¼ˆModel-View-Controllerï¼‰æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­çš„ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼ŒæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼š Controllerâ€”â€”è´Ÿè´£è½¬å‘è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç† Viewâ€”â€”è´Ÿè´£ç•Œé¢æ˜¾ç¤º Modelâ€”â€”ä¸šåŠ¡åŠŸèƒ½ç¼–å†™ï¼ˆä¾‹å¦‚ç®—æ³•å®ç°ï¼‰ã€æ•°æ®åº“è®¾è®¡ä»¥åŠæ•°æ®å­˜å–æ“ä½œå®ç° åœ¨JSP/Servletå¼€å‘çš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œè¿™ä¸‰ä¸ªéƒ¨åˆ†çš„æè¿°å¦‚ä¸‹æ‰€ç¤ºï¼š 1.Webæµè§ˆå™¨å‘é€HTTPè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œè¢«Controller(Servlet)è·å–å¹¶è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚å‚æ•°è§£æã€è¯·æ±‚è½¬å‘ï¼‰2.Controller(Servlet)è°ƒç”¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘â€”â€”Modeléƒ¨åˆ†ï¼Œè·å¾—ç»“æœ3.Controller(Servlet)å°†é€»è¾‘å¤„ç†ç»“æœäº¤ç»™Viewï¼ˆJSPï¼‰ï¼ŒåŠ¨æ€è¾“å‡ºHTMLå†…å®¹4.åŠ¨æ€ç”Ÿæˆçš„HTMLå†…å®¹è¿”å›åˆ°æµè§ˆå™¨æ˜¾ç¤º MVCæ¨¡å¼åœ¨Webå¼€å‘ä¸­çš„å¥½å¤„æ˜¯éå¸¸æ˜æ˜¾ï¼Œå®ƒè§„é¿äº†JSPä¸Servletå„è‡ªçš„çŸ­æ¿ï¼ŒServletåªè´Ÿè´£ä¸šåŠ¡é€»è¾‘è€Œä¸ä¼šé€šè¿‡out.append()åŠ¨æ€ç”ŸæˆHTMLä»£ç ï¼›JSPä¸­ä¹Ÿä¸ä¼šå……æ–¥ç€å¤§é‡çš„ä¸šåŠ¡ä»£ç ã€‚è¿™å¤§å¤§æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ å‚è€ƒï¼šçŸ¥ä¹@David ï¼ˆäºŒï¼‰æ¡†æ¶ç›¸å…³çŸ¥è¯† ç”±äºæˆ‘æ²¡æœ‰æ¥è§¦å’Œå­¦ä¹ è¿‡ Hibernate å’Œ Struts è¿™ä¸¤ä¸ªæ¡†æ¶ï¼Œæ‰€ä»¥ç»†èŠ‚æ–¹é¢çš„ä¸œè¥¿è¯·è¯»è€…è‡ªè¡Œæ”¶é›†â€¦ 1ï¼‰ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼Ÿæ¡†æ¶æ˜¯æŒ‡å®Œæˆä¸€å®šåŠŸèƒ½çš„åŠæˆå“ã€‚ æ¡†æ¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®Œæˆçš„æ˜¯ï¼šé¡¹ç›®çš„æ•´ä½“æ¡†æ¶ã€ä¸€äº›åŸºç¡€åŠŸèƒ½ã€è§„å®šäº†ç±»å’Œå¯¹è±¡å¦‚ä½•åˆ›å»ºï¼Œå¦‚ä½•åä½œç­‰ï¼Œå½“æˆ‘ä»¬å¼€å‘ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œæ¡†æ¶å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘ä»¬è‡ªå·±å†å®Œæˆä¸€éƒ¨åˆ†ï¼Œé‚£è¿™ä¸ªé¡¹ç›®å°±å®Œæˆäº†ã€‚ 2ï¼‰ä»€ä¹ˆæ˜¯ Spring ï¼Ÿ Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ DI / IoC å’Œ AOP å®¹å™¨çš„å¼€æºæ¡†æ¶ï¼Œæ¥æºäº Rod Johnson åœ¨å…¶è‘—ä½œã€ŠExpert one on one J2EE design and developmentã€‹ä¸­é˜è¿°çš„éƒ¨åˆ†ç†å¿µå’ŒåŸå‹è¡ç”Ÿè€Œæ¥ã€‚ Spring æå€¡ä»¥ â€œæœ€å°‘ä¾µå…¥â€ çš„æ–¹å¼æ¥ç®¡ç†åº”ç”¨ä¸­çš„ä»£ç ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥éšæ—¶å®‰è£…æˆ–è€…å¸è½½ Spring é€‚ç”¨èŒƒå›´ï¼šä»»ä½• Java åº”ç”¨ Spring çš„æ ¹æœ¬ä½¿å‘½ï¼šç®€åŒ– Java å¼€å‘ 3ï¼‰ä»€ä¹ˆæ˜¯éä¾µå…¥å¼è®¾è®¡ï¼Ÿä»æ¡†æ¶çš„è§’åº¦å¯ä»¥ç†è§£ä¸ºï¼šæ— éœ€ç»§æ‰¿æ¡†æ¶æä¾›çš„ä»»ä½•ç±»è¿™æ ·æˆ‘ä»¬åœ¨æ›´æ¢æ¡†æ¶æ—¶ï¼Œä¹‹å‰å†™è¿‡çš„ä»£ç å‡ ä¹å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚ 4ï¼‰Spring æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ ä½ä¾µå…¥ / ä½è€¦åˆ ï¼ˆé™ä½ç»„ä»¶ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå®ç°è½¯ä»¶å„å±‚ä¹‹é—´çš„è§£è€¦ï¼‰ å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼ˆåŸºäºåˆ‡é¢å’Œæƒ¯ä¾‹ï¼‰ æ–¹ä¾¿é›†æˆå…¶ä»–æ¡†æ¶ï¼ˆå¦‚MyBatisã€Hibernateï¼‰ é™ä½ Java å¼€å‘éš¾åº¦ Spring æ¡†æ¶ä¸­åŒ…æ‹¬äº† J2EE ä¸‰å±‚çš„æ¯ä¸€å±‚çš„è§£å†³æ–¹æ¡ˆï¼ˆä¸€ç«™å¼ï¼‰ Spring çš„æ¡†æ¶ç»“æ„ Data Access/Integrationå±‚åŒ…å«æœ‰JDBCã€ORMã€OXMã€JMSå’ŒTransactionæ¨¡å—ã€‚ Webå±‚åŒ…å«äº†Webã€Web-Servletã€WebSocketã€Web-Porletæ¨¡å—ã€‚ AOPæ¨¡å—æä¾›äº†ä¸€ä¸ªç¬¦åˆAOPè”ç›Ÿæ ‡å‡†çš„é¢å‘åˆ‡é¢ç¼–ç¨‹çš„å®ç°ã€‚ Core Container(æ ¸å¿ƒå®¹å™¨)ï¼šåŒ…å«æœ‰Beansã€Coreã€Contextå’ŒSpELæ¨¡å—ã€‚ Testæ¨¡å—æ”¯æŒä½¿ç”¨JUnitå’ŒTestNGå¯¹Springç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚ 5ï¼‰Spring IoC å’Œ DI åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼ŸSpring IoCIoCï¼šInverse of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰ï¼Œè¯»ä½œ â€œåè½¬æ§åˆ¶â€ï¼Œæ›´å¥½ç†è§£ï¼Œä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±Springæ¡†æ¶æ¥ç®¡ç†ã€‚ æ­£æ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»º åæ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä» Spring å®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†Springæ¡†æ¶ å¥½è±åæ³•åˆ™ï¼šDonâ€™t call me ,Iâ€™ll call you ä¸ºäº†ä¾¿äºç†è§£æˆ‘ä»¬è¿™é‡Œä¸¾ä¸€ä¸ªé²œæ˜çš„ä¾‹å­ï¼š åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œäººä»¬è¦ç”¨åˆ°ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯å»æ‰¾åˆ°è¿™ä»¶ä¸œè¥¿ï¼Œæ¯”å¦‚æƒ³å–æ–°é²œæ©™æ±ï¼Œåœ¨æ²¡æœ‰é¥®å“åº—çš„æ—¥å­é‡Œï¼Œæœ€ç›´è§‚çš„åšæ³•å°±æ˜¯ï¼šä¹°æœæ±æœºã€ä¹°æ©™å­ï¼Œç„¶åå‡†å¤‡å¼€æ°´ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™äº›éƒ½æ˜¯ä½ è‡ªå·±â€œä¸»åŠ¨â€åˆ›é€ çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¯æ©™æ±éœ€è¦ä½ è‡ªå·±åˆ›é€ ã€‚ ç„¶è€Œåˆ°äº†ä»Šæ—¶ä»Šæ—¥ï¼Œç”±äºé¥®å“åº—çš„ç››è¡Œï¼Œå½“æˆ‘ä»¬æƒ³å–æ©™æ±æ—¶ï¼Œç¬¬ä¸€æƒ³æ³•å°±è½¬æ¢æˆäº†æ‰¾åˆ°é¥®å“åº—çš„è”ç³»æ–¹å¼ï¼Œé€šè¿‡ç”µè¯ç­‰æ¸ é“æè¿°ä½ çš„éœ€è¦ã€åœ°å€ã€è”ç³»æ–¹å¼ç­‰ï¼Œä¸‹è®¢å•ç­‰å¾…ï¼Œè¿‡ä¸€ä¼šå„¿å°±ä¼šæœ‰äººé€æ¥æ©™æ±äº†ã€‚ è¯·æ³¨æ„ä½ å¹¶æ²¡æœ‰â€œä¸»åŠ¨â€å»åˆ›é€ æ©™æ±ï¼Œæ©™æ±æ˜¯ç”±é¥®å“åº—åˆ›é€ çš„ï¼Œè€Œä¸æ˜¯ä½ ï¼Œç„¶è€Œä¹Ÿå®Œå…¨è¾¾åˆ°äº†ä½ çš„è¦æ±‚ï¼Œç”šè‡³æ¯”ä½ åˆ›é€ çš„è¦å¥½ä¸Šé‚£ä¹ˆä¸€äº›ã€‚ æ€»ç»“ï¼š è¿™å°±æ˜¯ä¸€ç§æ§åˆ¶åè½¬çš„ç†å¿µï¼Œä¸Šè¿°çš„ä¾‹å­å·²ç»å¾ˆå¥½çš„è¯´æ˜äº†é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥æè¿°ä¸€ä¸‹æ§åˆ¶åè½¬çš„æ¦‚å¿µï¼šæ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆåœ¨ Java ä¸­å¯ä»¥æ˜¯ XML æˆ–è€…æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹ï¼ˆSpringï¼‰å»äº§ç”Ÿæˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚ å¥½å¤„ï¼š â‘  é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆï¼›â‘¡ æˆ‘ä»¬ä¸éœ€è¦ç†è§£ä¸€ä¸ªç±»çš„å…·ä½“å®ç°ï¼Œåªéœ€è¦çŸ¥é“å®ƒæœ‰ä»€ä¹ˆç”¨å°±å¥½äº†ï¼ˆç›´æ¥å‘ IoC å®¹å™¨æ‹¿ï¼‰ DIï¼šDependency Injectionï¼ˆä¾èµ–æ³¨å…¥ï¼‰æŒ‡ Spring åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼Œå°†å¯¹è±¡ä¾èµ–å±æ€§ï¼ˆç®€å•å€¼ï¼Œé›†åˆï¼Œå¯¹è±¡ï¼‰é€šè¿‡é…ç½®è®¾å€¼ç»™è¯¥å¯¹è±¡ ä¸¤è€…çš„åŒºåˆ«IoC å’Œ DI å…¶å®æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè§’åº¦æè¿°ï¼ŒDI ç›¸å¯¹ IoC è€Œè¨€ï¼Œæ˜ç¡®æè¿°äº† â€œè¢«æ³¨å…¥å¯¹è±¡ä¾èµ– IoC å®¹å™¨é…ç½®ä¾èµ–å¯¹è±¡â€ã€‚ ä½ ä¹Ÿå¯ä»¥ç®€å•çš„ç†è§£ä¸ºï¼šIoC æ˜¯ç›®çš„ï¼Œæ˜¯ä¸€ç§æ€æƒ³ï¼Œè€Œ DI æ˜¯æ‰‹æ®µï¼Œæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚ 6ï¼‰BeanFactory å’Œ ApplicationContext çš„åŒºåˆ«1.BeanFactoryï¼š æ˜¯Springä¸­æœ€åº•å±‚çš„æ¥å£ï¼Œåªæä¾›äº†æœ€ç®€å•çš„IoCåŠŸèƒ½,è´Ÿè´£é…ç½®ï¼Œåˆ›å»ºå’Œç®¡ç†beanã€‚åœ¨åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨ BeanFactoryï¼Œè€Œæ¨èä½¿ApplicationContextï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰ï¼ŒåŸå› å¦‚ä¸‹ã€‚ 2.ApplicationContextï¼š â‘´. ç»§æ‰¿äº† BeanFactoryï¼Œæ‹¥æœ‰äº†åŸºæœ¬çš„ IoC åŠŸèƒ½ï¼›â‘µ. é™¤æ­¤ä¹‹å¤–ï¼ŒApplicationContext è¿˜æä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼šâ‘  æ”¯æŒå›½é™…åŒ–ï¼›â‘¡ æ”¯æŒæ¶ˆæ¯æœºåˆ¶ï¼›â‘¢ æ”¯æŒç»Ÿä¸€çš„èµ„æºåŠ è½½ï¼›â‘£ æ”¯æŒAOPåŠŸèƒ½ï¼› æ³¨æ„ï¼š ApplicationContext å’Œ BeanFactory ç›¸æ¯”ï¼Œæœ€ä¸»è¦çš„åŒºåˆ«åœ¨äº BeanFactory æ˜¯å»¶è¿ŸåŠ è½½ï¼Œä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœ Bean æ²¡æœ‰å®Œå…¨æ³¨å…¥ï¼ŒBeanFactory åŠ è½½åï¼Œä¼šåœ¨ä½ ç¬¬ä¸€æ¬¡è°ƒç”¨ getBean æ–¹æ³•æ‰ä¼šæŠ›å‡ºå¼‚å¸¸ï¼›è€Œ ApplicationContext ä¼šåœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±åŠ è½½å¹¶ä¸”æ£€æŸ¥ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥åŠæ—¶æ£€æŸ¥ä¾èµ–æ˜¯å¦å®Œå…¨æ³¨å…¥ï¼›æ‰€ä»¥é€šå¸¸æˆ‘ä»¬ä¼šé€‰æ‹© ApplicationContextã€‚ 7ï¼‰IoC æ˜¯å¦‚ä½•å®ç°çš„æœ€åæˆ‘ä»¬ç®€å•è¯´è¯´IoCæ˜¯å¦‚ä½•å®ç°çš„ã€‚æƒ³è±¡ä¸€ä¸‹å¦‚æœæˆ‘ä»¬è‡ªå·±æ¥å®ç°è¿™ä¸ªä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ€ä¹ˆæ¥åšï¼Ÿ æ— å¤–ä¹ï¼š è¯»å–æ ‡æ³¨æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œçœ‹çœ‹JuiceMakerä¾èµ–çš„æ˜¯å“ªä¸ªSourceï¼Œæ‹¿åˆ°ç±»å ä½¿ç”¨åå°„çš„APIï¼ŒåŸºäºç±»åå®ä¾‹åŒ–å¯¹åº”çš„å¯¹è±¡å®ä¾‹ å°†å¯¹è±¡å®ä¾‹ï¼Œé€šè¿‡æ„é€ å‡½æ•°æˆ–è€… setterï¼Œä¼ é€’ç»™ JuiceMaker æˆ‘ä»¬å‘ç°å…¶å®è‡ªå·±æ¥å®ç°ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼ŒSpringå®é™…ä¹Ÿå°±æ˜¯è¿™ä¹ˆåšçš„ã€‚è¿™ä¹ˆçœ‹çš„è¯å…¶å®IoCå°±æ˜¯ä¸€ä¸ªå·¥å‚æ¨¡å¼çš„å‡çº§ç‰ˆï¼å½“ç„¶è¦åšä¸€ä¸ªæˆç†Ÿçš„IoCæ¡†æ¶ï¼Œè¿˜æ˜¯éå¸¸å¤šç»†è‡´çš„å·¥ä½œè¦åšï¼ŒSpringä¸ä»…æä¾›äº†ä¸€ä¸ªå·²ç»æˆä¸ºä¸šç•Œæ ‡å‡†çš„Java IoCæ¡†æ¶ï¼Œè¿˜æä¾›äº†æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¤§å®¶å°±åˆ«å»é€ è½®å­å•¦ï¼å¸Œæœ›äº†è§£IoCæ›´å¤šå®ç°ç»†èŠ‚ä¸å¦¨é€šè¿‡å­¦ä¹ Springçš„æºç æ¥åŠ æ·±ç†è§£ï¼ å¼•ç”¨åœ°å€ï¼šè¿™é‡Œ 8ï¼‰Spring é…ç½® Bean æœ‰å‡ ç§æ–¹å¼ï¼Ÿåœ¨ Spring ä¸­æä¾›äº† 3 ç§æ–¹æ³•è¿›è¡Œé…ç½®ï¼š åœ¨ XML æ–‡ä»¶ä¸­æ˜¾å¼é…ç½® åœ¨ Java çš„æ¥å£å’Œç±»ä¸­å®ç°é…ç½® éšå¼ Bean çš„å‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…åŸåˆ™ æ–¹å¼é€‰æ‹©çš„åŸåˆ™åœ¨ç°å®çš„å·¥ä½œä¸­ï¼Œè¿™ 3 ç§æ–¹å¼éƒ½ä¼šè¢«ç”¨åˆ°ï¼Œå¹¶ä¸”åœ¨å­¦ä¹ å’Œå·¥ä½œä¹‹ä¸­å¸¸å¸¸æ··åˆä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºä¸€äº›å…³äºè¿™ 3 ç§ä¼˜å…ˆçº§çš„å»ºè®®ï¼š 1.æœ€ä¼˜å…ˆï¼šé€šè¿‡éšå¼ Bean çš„å‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…çš„åŸåˆ™ã€‚åŸºäºçº¦å®šç”±äºé…ç½®çš„åŸåˆ™ï¼Œè¿™ç§æ–¹å¼åº”è¯¥æ˜¯æœ€ä¼˜å…ˆçš„ å¥½å¤„ï¼šå‡å°‘ç¨‹åºå¼€å‘è€…çš„å†³å®šæƒï¼Œç®€å•åˆä¸å¤±çµæ´»ã€‚ 2.å…¶æ¬¡ï¼šJava æ¥å£å’Œç±»ä¸­é…ç½®å®ç°é…ç½®åœ¨æ²¡æœ‰åŠæ³•ä½¿ç”¨è‡ªåŠ¨è£…é…åŸåˆ™çš„æƒ…å†µä¸‹åº”è¯¥ä¼˜å…ˆè€ƒè™‘æ­¤ç±»æ–¹æ³• å¥½å¤„ï¼šé¿å… XML é…ç½®çš„æ³›æ»¥ï¼Œä¹Ÿæ›´ä¸ºå®¹æ˜“ã€‚ å…¸å‹åœºæ™¯ï¼šä¸€ä¸ªçˆ¶ç±»æœ‰å¤šä¸ªå­ç±»ï¼Œæ¯”å¦‚å­¦ç”Ÿç±»æœ‰ä¸¤ä¸ªå­ç±»ï¼Œä¸€ä¸ªç”·å­¦ç”Ÿç±»å’Œå¥³å­¦ç”Ÿç±»ï¼Œé€šè¿‡ IoC å®¹å™¨åˆå§‹åŒ–ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œå®¹å™¨å°†æ— æ³•çŸ¥é“ä½¿ç”¨å“ªä¸ªå­ç±»å»åˆå§‹åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ Java çš„æ³¨è§£é…ç½®å»æŒ‡å®šã€‚ 3.æœ€åï¼šXML æ–¹å¼é…ç½®åœ¨ä¸Šè¿°æ–¹æ³•éƒ½æ— æ³•ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆä¹Ÿåªèƒ½é€‰æ‹© XML é…ç½®çš„æ–¹å¼ã€‚ å¥½å¤„ï¼šç®€å•æ˜“æ‡‚ï¼ˆå½“ç„¶ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåˆå­¦è€…ï¼‰ å…¸å‹åœºæ™¯ï¼šå½“ä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»çš„æ—¶å€™ï¼Œæœ‰äº›ç±»å¹¶ä¸æ˜¯æˆ‘ä»¬å¼€å‘çš„ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹é‡Œé¢çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™å°±é€šè¿‡ XML çš„æ–¹å¼é…ç½®ä½¿ç”¨äº†ã€‚ 9ï¼‰ä»‹ç»ä¸€ä¸‹ Spring AOPAOP å³ Aspect Oriented Program é¢å‘åˆ‡é¢ç¼–ç¨‹ é¦–å…ˆï¼Œåœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ€æƒ³é‡Œé¢ï¼ŒæŠŠåŠŸèƒ½åˆ†ä¸ºæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼Œå’Œå‘¨è¾¹åŠŸèƒ½ã€‚ æ‰€è°“çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œæ¯”å¦‚ç™»é™†ï¼Œå¢åŠ æ•°æ®ï¼Œåˆ é™¤æ•°æ®éƒ½å«æ ¸å¿ƒä¸šåŠ¡ æ‰€è°“çš„å‘¨è¾¹åŠŸèƒ½ï¼Œæ¯”å¦‚æ€§èƒ½ç»Ÿè®¡ï¼Œæ—¥å¿—ï¼Œäº‹åŠ¡ç®¡ç†ç­‰ç­‰ å‘¨è¾¹åŠŸèƒ½åœ¨ Spring çš„é¢å‘åˆ‡é¢ç¼–ç¨‹AOPæ€æƒ³é‡Œï¼Œå³è¢«å®šä¹‰ä¸ºåˆ‡é¢ åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹AOPçš„æ€æƒ³é‡Œé¢ï¼Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å’Œåˆ‡é¢åŠŸèƒ½åˆ†åˆ«ç‹¬ç«‹è¿›è¡Œå¼€å‘ï¼Œç„¶åæŠŠåˆ‡é¢åŠŸèƒ½å’Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ â€œç¼–ç»‡â€ åœ¨ä¸€èµ·ï¼Œè¿™å°±å« AOP è¿˜æ˜¯æ¥ä¸¾ä¸€ä¸ªé²œæ˜çš„ä¾‹å­ï¼š åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒåŒ…ç§Ÿå©†çš„æ ¸å¿ƒä¸šåŠ¡å°±æ˜¯ç­¾åˆåŒï¼Œæ”¶æˆ¿ç§Ÿï¼Œé‚£ä¹ˆè¿™å°±å¤Ÿäº†ï¼Œç°è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†éƒ½æ˜¯é‡å¤ä¸”è¾¹ç¼˜çš„äº‹ï¼Œäº¤ç»™ä¸­ä»‹å•†å°±å¥½äº†ï¼Œè¿™å°±æ˜¯ AOP çš„ä¸€ä¸ªæ€æƒ³ï¼šè®©å…³æ³¨ç‚¹ä»£ç ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼ 10ï¼‰Spring ä¸­ Bean çš„ä½œç”¨åŸŸåœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒSpring IoC å®¹å™¨åªä¼šå¯¹ä¸€ä¸ª Bean åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ Spring IoC å®¹å™¨è·å–å¤šä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ @Scope æ³¨è§£æˆ–è€… &lt;bean&gt; å…ƒç´ ä¸­çš„ scope å±æ€§æ¥è®¾ç½®ï¼Œä¾‹å¦‚ï¼š // XML ä¸­è®¾ç½®ä½œç”¨åŸŸ &lt;bean id=&quot;&quot; class=&quot;&quot; scope=&quot;prototype&quot; /&gt; // ä½¿ç”¨æ³¨è§£è®¾ç½®ä½œç”¨åŸŸ @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)Spring æä¾›äº† 5 ç§ä½œç”¨åŸŸï¼Œå®ƒä¼šæ ¹æ®æƒ…å†µæ¥å†³å®šæ˜¯å¦ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼š ä½œç”¨åŸŸç±»åˆ« æè¿° singleton(å•ä¾‹) åœ¨Spring IoCå®¹å™¨ä¸­ä»…å­˜åœ¨ä¸€ä¸ªBeanå®ä¾‹ ï¼ˆé»˜è®¤çš„scopeï¼‰ prototype(å¤šä¾‹) æ¯æ¬¡ä»å®¹å™¨ä¸­è°ƒç”¨Beanæ—¶ï¼Œéƒ½è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå³æ¯æ¬¡è°ƒç”¨getBean()æ—¶ ï¼Œç›¸å½“äºæ‰§è¡Œnew XxxBean()ï¼šä¸ä¼šåœ¨å®¹å™¨å¯åŠ¨æ—¶åˆ›å»ºå¯¹è±¡ request(è¯·æ±‚) ç”¨äºwebå¼€å‘ï¼Œå°†Beanæ”¾å…¥requestèŒƒå›´ ï¼Œrequest.setAttribute(â€œxxxâ€) ï¼Œ åœ¨åŒä¸€ä¸ªrequest è·å¾—åŒä¸€ä¸ªBean session(ä¼šè¯) ç”¨äºwebå¼€å‘ï¼Œå°†Bean æ”¾å…¥SessionèŒƒå›´ï¼Œåœ¨åŒä¸€ä¸ªSession è·å¾—åŒä¸€ä¸ªBean globalSession(å…¨å±€ä¼šè¯) ä¸€èˆ¬ç”¨äº Porlet åº”ç”¨ç¯å¢ƒ , åˆ†å¸ƒå¼ç³»ç»Ÿå­˜åœ¨å…¨å±€ session æ¦‚å¿µï¼ˆå•ç‚¹ç™»å½•ï¼‰ï¼Œå¦‚æœä¸æ˜¯ porlet ç¯å¢ƒï¼ŒglobalSession ç­‰åŒäº Session åœ¨å¼€å‘ä¸­ä¸»è¦ä½¿ç”¨ scope=&quot;singleton&quot;ã€scope=&quot;prototype&quot;ï¼Œå¯¹äºMVCä¸­çš„Actionä½¿ç”¨prototypeç±»å‹ï¼Œå…¶ä»–ä½¿ç”¨singletonï¼ŒSpringå®¹å™¨ä¼šç®¡ç† Action å¯¹è±¡çš„åˆ›å»º,æ­¤æ—¶æŠŠ Action çš„ä½œç”¨åŸŸè®¾ç½®ä¸º prototype. æ‰©å±•é˜…è¯»ï¼š@Profile æ³¨è§£ ã€ æ¡ä»¶åŒ–è£…é… Bean 11ï¼‰Spring é¢è¯•é—®ç­” Top 25 æ›´å¤šæˆ³è¿™é‡Œï¼šSpringé¢è¯•é—®ç­”Top 25 12ï¼‰Spring MVC çš„è¯·æ±‚æµç¨‹æ¯å½“ç”¨æˆ·åœ¨ Web æµè§ˆå™¨ä¸­ç‚¹å‡»é“¾æ¥æˆ–è€…æäº¤è¡¨å•çš„æ—¶å€™ï¼Œè¯·æ±‚å°±å¼€å§‹å·¥ä½œäº†ï¼Œåƒæ˜¯é‚®é€’å‘˜ä¸€æ ·ï¼Œä»ç¦»å¼€æµè§ˆå™¨å¼€å§‹åˆ°è·å–å“åº”è¿”å›ï¼Œå®ƒä¼šç»å†å¾ˆå¤šç«™ç‚¹ï¼Œåœ¨æ¯ä¸€ä¸ªç«™ç‚¹éƒ½ä¼šç•™ä¸‹ä¸€äº›ä¿¡æ¯åŒæ—¶ä¹Ÿä¼šå¸¦ä¸Šå…¶ä»–ä¿¡æ¯ï¼Œä¸‹å›¾ä¸º Spring MVC çš„è¯·æ±‚æµç¨‹ï¼š ç¬¬ä¸€ç«™ï¼šDispatcherServletä»è¯·æ±‚ç¦»å¼€æµè§ˆå™¨ä»¥åï¼Œç¬¬ä¸€ç«™åˆ°è¾¾çš„å°±æ˜¯ DispatcherServletï¼Œçœ‹åå­—è¿™æ˜¯ä¸€ä¸ª Servletï¼Œé€šè¿‡ J2EE çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ Servlet å¯ä»¥æ‹¦æˆªå¹¶å¤„ç† HTTP è¯·æ±‚ï¼ŒDispatcherServlet ä¼šæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ï¼Œå¹¶ä¸”å°†è¿™äº›è¯·æ±‚å‘é€ç»™ Spring MVC æ§åˆ¶å™¨ã€‚ &lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;!-- æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; DispatcherServlet çš„ä»»åŠ¡å°±æ˜¯æ‹¦æˆªè¯·æ±‚å‘é€ç»™ Spring MVC æ§åˆ¶å™¨ã€‚ ç¬¬äºŒç«™ï¼šå¤„ç†å™¨æ˜ å°„ï¼ˆHandlerMappingï¼‰ é—®é¢˜ï¼šå…¸å‹çš„åº”ç”¨ç¨‹åºä¸­å¯èƒ½ä¼šæœ‰å¤šä¸ªæ§åˆ¶å™¨ï¼Œè¿™äº›è¯·æ±‚åˆ°åº•åº”è¯¥å‘ç»™å“ªä¸€ä¸ªæ§åˆ¶å™¨å‘¢ï¼Ÿ æ‰€ä»¥ DispatcherServlet ä¼šæŸ¥è¯¢ä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†å™¨æ˜ å°„æ¥ç¡®å®šè¯·æ±‚çš„ä¸‹ä¸€ç«™åœ¨å“ªé‡Œï¼Œå¤„ç†å™¨æ˜ å°„ä¼šæ ¹æ®è¯·æ±‚æ‰€æºå¸¦çš„ URL ä¿¡æ¯æ¥è¿›è¡Œå†³ç­–ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é…ç½® simpleUrlHandlerMapping æ¥å°† /hello åœ°å€äº¤ç»™ helloController å¤„ç†ï¼š &lt;bean id=&quot;simpleUrlHandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt; &lt;property name=&quot;mappings&quot;&gt; &lt;props&gt; &lt;!-- /hello è·¯å¾„çš„è¯·æ±‚äº¤ç»™ id ä¸º helloController çš„æ§åˆ¶å™¨å¤„ç†--&gt; &lt;prop key=&quot;/hello&quot;&gt;helloController&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;helloController&quot; class=&quot;controller.HelloController&quot;&gt;&lt;/bean&gt;ç¬¬ä¸‰ç«™ï¼šæ§åˆ¶å™¨ä¸€æ—¦é€‰æ‹©äº†åˆé€‚çš„æ§åˆ¶å™¨ï¼Œ DispatcherServlet ä¼šå°†è¯·æ±‚å‘é€ç»™é€‰ä¸­çš„æ§åˆ¶å™¨ï¼Œåˆ°äº†æ§åˆ¶å™¨ï¼Œè¯·æ±‚ä¼šå¸ä¸‹å…¶è´Ÿè½½ï¼ˆç”¨æˆ·æäº¤çš„è¯·æ±‚ï¼‰ç­‰å¾…æ§åˆ¶å™¨å¤„ç†å®Œè¿™äº›ä¿¡æ¯ï¼š public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { // å¤„ç†é€»è¾‘ .... } ç¬¬å››ç«™ï¼šè¿”å› DispatcherServletå½“æ§åˆ¶å™¨åœ¨å®Œæˆé€»è¾‘å¤„ç†åï¼Œé€šå¸¸ä¼šäº§ç”Ÿä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å°±æ˜¯éœ€è¦è¿”å›ç»™ç”¨æˆ·å¹¶åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå®ƒä»¬è¢«ç§°ä¸ºæ¨¡å‹ï¼ˆModelï¼‰ã€‚ä»…ä»…è¿”å›åŸå§‹çš„ä¿¡æ¯æ—¶ä¸å¤Ÿçš„â€”â€”è¿™äº›ä¿¡æ¯éœ€è¦ä»¥ç”¨æˆ·å‹å¥½çš„æ–¹å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œä¸€èˆ¬ä¼šæ˜¯ HTMLï¼Œæ‰€ä»¥ï¼Œä¿¡æ¯éœ€è¦å‘é€ç»™ä¸€ä¸ªè§†å›¾ï¼ˆviewï¼‰ï¼Œé€šå¸¸ä¼šæ˜¯ JSPã€‚ æ§åˆ¶å™¨æ‰€åšçš„æœ€åä¸€ä»¶äº‹å°±æ˜¯å°†æ¨¡å‹æ•°æ®æ‰“åŒ…ï¼Œå¹¶ä¸”è¡¨ç¤ºå‡ºç”¨äºæ¸²æŸ“è¾“å‡ºçš„è§†å›¾åï¼ˆé€»è¾‘è§†å›¾åï¼‰ã€‚å®ƒæ¥ä¸‹æ¥ä¼šå°†è¯·æ±‚è¿åŒæ¨¡å‹å’Œè§†å›¾åå‘é€å› DispatcherServletã€‚ public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { // å¤„ç†é€»è¾‘ .... // è¿”å›ç»™ DispatcherServlet return mav; } ç¬¬äº”ç«™ï¼šè§†å›¾è§£æå™¨è¿™æ ·ä»¥æ¥ï¼Œæ§åˆ¶å™¨å°±ä¸ä¼šå’Œç‰¹å®šçš„è§†å›¾ç›¸è€¦åˆï¼Œä¼ é€’ç»™ DispatcherServlet çš„è§†å›¾åå¹¶ä¸ç›´æ¥è¡¨ç¤ºæŸä¸ªç‰¹å®šçš„ JSPã€‚ï¼ˆå®é™…ä¸Šï¼Œå®ƒç”šè‡³ä¸èƒ½ç¡®å®šè§†å›¾å°±æ˜¯ JSPï¼‰ç›¸åï¼Œå®ƒä¼ é€’çš„ä»…ä»…æ˜¯ä¸€ä¸ªé€»è¾‘åç§°ï¼Œè¿™ä¸ªåç§°å°†ä¼šç”¨æ¥æŸ¥æ‰¾äº§ç”Ÿç»“æœçš„çœŸæ­£è§†å›¾ã€‚ DispatcherServlet å°†ä¼šä½¿ç”¨è§†å›¾è§£æå™¨ï¼ˆview resolverï¼‰æ¥å°†é€»è¾‘è§†å›¾ååŒ¹é…ä¸ºä¸€ä¸ªç‰¹å®šçš„è§†å›¾å®ç°ï¼Œå®ƒå¯èƒ½æ˜¯ä¹Ÿå¯èƒ½ä¸æ˜¯ JSP ä¸Šé¢çš„ä¾‹å­æ˜¯ç›´æ¥ç»‘å®šåˆ°äº† index.jsp è§†å›¾ ç¬¬å…­ç«™ï¼šè§†å›¾æ—¢ç„¶ DispatcherServlet å·²ç»çŸ¥é“ç”±å“ªä¸ªè§†å›¾æ¸²æŸ“ç»“æœäº†ï¼Œé‚£è¯·æ±‚çš„ä»»åŠ¡åŸºæœ¬ä¸Šä¹Ÿå°±å®Œæˆäº†ã€‚ å®ƒçš„æœ€åä¸€ç«™æ˜¯è§†å›¾çš„å®ç°ï¼Œåœ¨è¿™é‡Œå®ƒäº¤ä»˜æ¨¡å‹æ•°æ®ï¼Œè¯·æ±‚çš„ä»»åŠ¡ä¹Ÿå°±å®Œæˆäº†ã€‚è§†å›¾ä½¿ç”¨æ¨¡å‹æ•°æ®æ¸²æŸ“å‡ºç»“æœï¼Œè¿™ä¸ªè¾“å‡ºç»“æœä¼šé€šè¿‡å“åº”å¯¹è±¡ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚ &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt; &lt;h1&gt;${message}&lt;/h1&gt; æ›´å¤š Spring-MVC å†…å®¹ï¼šSpring MVCã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ 13ï¼‰ä»€ä¹ˆæ˜¯ ORMï¼Ÿå¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject-Relational Mappingï¼Œç®€ç§°ORMï¼‰æ˜¯ä¸€ç§ä¸ºäº†è§£å†³ç¨‹åºçš„é¢å‘å¯¹è±¡æ¨¡å‹ä¸æ•°æ®åº“çš„å…³ç³»æ¨¡å‹äº’ä¸åŒ¹é…é—®é¢˜çš„æŠ€æœ¯ï¼› ç®€å•çš„è¯´ï¼ŒORMæ˜¯é€šè¿‡ä½¿ç”¨æè¿°å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´æ˜ å°„çš„å…ƒæ•°æ®ï¼ˆåœ¨Javaä¸­å¯ä»¥ç”¨XMLæˆ–è€…æ˜¯æ³¨è§£ï¼‰ï¼Œå°†ç¨‹åºä¸­çš„å¯¹è±¡è‡ªåŠ¨æŒä¹…åŒ–åˆ°å…³ç³»æ•°æ®åº“ä¸­æˆ–è€…å°†å…³ç³»æ•°æ®åº“è¡¨ä¸­çš„è¡Œè½¬æ¢æˆJavaå¯¹è±¡ï¼Œå…¶æœ¬è´¨ä¸Šå°±æ˜¯å°†æ•°æ®ä»ä¸€ç§å½¢å¼è½¬æ¢åˆ°å¦å¤–ä¸€ç§å½¢å¼ã€‚ 14ï¼‰ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ MyBatis ï¼Ÿåœ¨æˆ‘ä»¬ä¼ ç»Ÿçš„ JDBC ä¸­ï¼Œæˆ‘ä»¬é™¤äº†éœ€è¦è‡ªå·±æä¾› SQL å¤–ï¼Œè¿˜å¿…é¡»æ“ä½œ Connectionã€Statmentã€ResultSetï¼Œä¸ä»…å¦‚æ­¤ï¼Œä¸ºäº†è®¿é—®ä¸åŒçš„è¡¨ï¼Œä¸åŒå­—æ®µçš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦äº›å¾ˆå¤šé›·åŒæ¨¡æ¿åŒ–çš„ä»£ç ï¼Œé—²çš„ç¹çåˆæ¯ç‡¥ã€‚ è€Œæˆ‘ä»¬åœ¨ä½¿ç”¨äº† MyBatis ä¹‹åï¼Œåªéœ€è¦æä¾› SQL è¯­å¥å°±å¥½äº†ï¼Œå…¶ä½™çš„è¯¸å¦‚ï¼šå»ºç«‹è¿æ¥ã€æ“ä½œ Statmentã€ResultSetï¼Œå¤„ç† JDBC ç›¸å…³å¼‚å¸¸ç­‰ç­‰éƒ½å¯ä»¥äº¤ç»™ MyBatis å»å¤„ç†ï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹äºæ˜¯å¯ä»¥å°±æ­¤é›†ä¸­åœ¨ SQL è¯­å¥ä¸Šï¼Œå…³æ³¨åœ¨å¢åˆ æ”¹æŸ¥è¿™äº›æ“ä½œå±‚é¢ä¸Šã€‚ å¹¶ä¸” MyBatis æ”¯æŒä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ 15ï¼‰MyBatis ä¸­å ä½ç¬¦ # å’Œ $ çš„åŒºåˆ«åŒºåˆ«å¦‚ä¸‹ï¼š #ç¬¦å·å°†ä¼ å…¥çš„æ•°æ®éƒ½å½“åšä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šå¯¹è‡ªåŠ¨ä¼ å…¥çš„æ•°æ®åŠ ä¸€ä¸ªåŒå¼•å· $ç¬¦å·å°†ä¼ å…¥çš„æ•°æ®ç›´æ¥æ˜¾ç¤ºç”ŸæˆSQLä¸­ã€‚ #ç¬¦å·å­˜åœ¨é¢„ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œï¼Œå¯¹é—®å·èµ‹å€¼ï¼Œé˜²æ­¢SQLæ³¨å…¥ã€‚ $ç¬¦å·æ˜¯ç›´è¯‘çš„æ–¹å¼ï¼Œä¸€èˆ¬ç”¨åœ¨orderby {åˆ—å} è¯­å¥ä¸­ã€‚ èƒ½ç”¨#å·å°±ä¸è¦ç”¨$ç¬¦å· 16ï¼‰MyBatis ç¼“å­˜ç»“æ„ åœ¨ Web ç³»ç»Ÿä¸­ï¼Œæœ€é‡è¦çš„æ“ä½œå°±æ˜¯æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™æŸ¥è¯¢æ•°æ®çš„é¢‘ç‡éå¸¸é«˜ï¼Œè¿™æ˜¯å¾ˆè€—è´¹æ•°æ®åº“èµ„æºçš„ï¼Œå¾€å¾€ä¼šå¯¼è‡´æ•°æ®åº“æŸ¥è¯¢æ•ˆç‡æä½ï¼Œå½±å“å®¢æˆ·çš„æ“ä½œä½“éªŒã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›å˜åŠ¨ä¸å¤§ä¸”è®¿é—®é¢‘ç‡é«˜çš„æ•°æ®ï¼Œæ”¾ç½®åœ¨ä¸€ä¸ªç¼“å­˜å®¹å™¨ä¸­ï¼Œç”¨æˆ·ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ—¶å°±ä»ç¼“å­˜å®¹å™¨ä¸­è·å–ç»“æœã€‚ MyBatis æ‹¥æœ‰è‡ªå·±çš„ç¼“å­˜ç»“æ„ï¼Œå¯ä»¥ç”¨æ¥ç¼“è§£æ•°æ®åº“å‹åŠ›ï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚ MyBatis ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ª SqlSession çº§åˆ«ï¼ŒåŒä¸€ä¸ª SqlSession åªèƒ½è®¿é—®è‡ªå·±çš„ä¸€çº§ç¼“å­˜çš„æ•°æ® äºŒçº§ç¼“å­˜æ˜¯è·¨sqlSessionï¼Œæ˜¯ mapper çº§åˆ«çš„ç¼“å­˜ï¼Œå¯¹äº mapper çº§åˆ«çš„ç¼“å­˜ä¸åŒçš„sqlsessionæ˜¯å¯ä»¥å…±äº«çš„ã€‚ æ›´å¤šæ·±å…¥MyBatisçš„å†…å®¹æˆ³è¿™é‡Œï¼šMyBatis(2)â€”â€”MyBatis æ·±å…¥å­¦ä¹  17ï¼‰MyBatis ä¸ Spring æ•´åˆ æˆ³è¿™é‡Œï¼šMyBatis ä¸ Spring æ•´åˆ 18ï¼‰IDEA æ•´åˆ SSM æ¡†æ¶å­¦ä¹  æˆ³è¿™é‡ŒIDEA æ•´åˆ SSM æ¡†æ¶å­¦ä¹  19ï¼‰MVC ä¸‰ç§æ¨¡å¼åœ¨æ—©æœŸ Java Web çš„å¼€å‘ä¸­ï¼Œç»Ÿä¸€æŠŠæ˜¾ç¤ºå±‚ã€æ§åˆ¶å±‚ã€æ•°æ®å±‚çš„æ“ä½œå…¨éƒ¨äº¤ç»™ JSP æˆ–è€… JavaBean æ¥è¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Model1ï¼š å‡ºç°çš„å¼Šç«¯ï¼š JSP å’Œ Java Bean ä¹‹é—´ä¸¥é‡è€¦åˆï¼ŒJava ä»£ç å’Œ HTML ä»£ç ä¹Ÿè€¦åˆåœ¨äº†ä¸€èµ· è¦æ±‚å¼€å‘è€…ä¸ä»…è¦æŒæ¡ Java ï¼Œè¿˜è¦æœ‰é«˜è¶…çš„å‰ç«¯æ°´å¹³ å‰ç«¯å’Œåç«¯ç›¸äº’ä¾èµ–ï¼Œå‰ç«¯éœ€è¦ç­‰å¾…åç«¯å®Œæˆï¼Œåç«¯ä¹Ÿä¾èµ–å‰ç«¯å®Œæˆï¼Œæ‰èƒ½è¿›è¡Œæœ‰æ•ˆçš„æµ‹è¯• ä»£ç éš¾ä»¥å¤ç”¨ æ­£å› ä¸ºä¸Šé¢çš„ç§ç§å¼Šç«¯ï¼Œæ‰€ä»¥å¾ˆå¿«è¿™ç§æ–¹å¼å°±è¢« Servlet + JSP + Java Bean æ‰€æ›¿ä»£äº†ï¼Œæ—©æœŸçš„ MVC æ¨¡å‹ï¼ˆModel2ï¼‰å°±åƒä¸‹å›¾è¿™æ ·ï¼š é¦–å…ˆç”¨æˆ·çš„è¯·æ±‚ä¼šåˆ°è¾¾ Servletï¼Œç„¶åæ ¹æ®è¯·æ±‚è°ƒç”¨ç›¸åº”çš„ Java Beanï¼Œå¹¶æŠŠæ‰€æœ‰çš„æ˜¾ç¤ºç»“æœäº¤ç»™ JSP å»å®Œæˆï¼Œè¿™æ ·çš„æ¨¡å¼æˆ‘ä»¬å°±ç§°ä¸º MVC æ¨¡å¼ã€‚ M ä»£è¡¨ æ¨¡å‹ï¼ˆModelï¼‰æ¨¡å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¨¡å‹å°±æ˜¯æ•°æ®ï¼Œå°±æ˜¯ dao,bean V ä»£è¡¨ è§†å›¾ï¼ˆViewï¼‰è§†å›¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å°±æ˜¯ç½‘é¡µ, JSPï¼Œç”¨æ¥å±•ç¤ºæ¨¡å‹ä¸­çš„æ•°æ® C ä»£è¡¨ æ§åˆ¶å™¨ï¼ˆcontroller)æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ æ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯æŠŠä¸åŒçš„æ•°æ®(Model)ï¼Œæ˜¾ç¤ºåœ¨ä¸åŒçš„è§†å›¾(View)ä¸Šï¼ŒServlet æ‰®æ¼”çš„å°±æ˜¯è¿™æ ·çš„è§’è‰²ã€‚ æ‰©å±•é˜…è¯»ï¼šWebå¼€å‘æ¨¡å¼ Spring MVC çš„æ¶æ„ä¸ºè§£å†³æŒä¹…å±‚ä¸­ä¸€ç›´æœªå¤„ç†å¥½çš„æ•°æ®åº“äº‹åŠ¡çš„ç¼–ç¨‹ï¼Œåˆä¸ºäº†è¿åˆ NoSQL çš„å¼ºåŠ¿å´›èµ·ï¼ŒSpring MVC ç»™å‡ºäº†æ–¹æ¡ˆï¼š ä¼ ç»Ÿçš„æ¨¡å‹å±‚è¢«æ‹†åˆ†ä¸ºäº†ä¸šåŠ¡å±‚(Service)å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAO,Data Access Objectï¼‰ã€‚åœ¨ Service ä¸‹å¯ä»¥é€šè¿‡ Spring çš„å£°æ˜å¼äº‹åŠ¡æ“ä½œæ•°æ®è®¿é—®å±‚ï¼Œè€Œåœ¨ä¸šåŠ¡å±‚ä¸Šè¿˜å…è®¸æˆ‘ä»¬è®¿é—® NoSQL ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³å¼‚å†›çªèµ·çš„ NoSQL çš„ä½¿ç”¨äº†ï¼Œå®ƒå¯ä»¥å¤§å¤§æé«˜äº’è”ç½‘ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ç‰¹ç‚¹ï¼šç»“æ„æ¾æ•£ï¼Œå‡ ä¹å¯ä»¥åœ¨ Spring MVC ä¸­ä½¿ç”¨å„ç±»è§†å›¾æ¾è€¦åˆï¼Œå„ä¸ªæ¨¡å—åˆ†ç¦»ä¸ Spring æ— ç¼é›†æˆ 20ï¼‰åˆ†é¡µï¼Ÿ æˆ³è¿™é‡Œï¼šJava Web -ã€åˆ†é¡µåŠŸèƒ½ã€‘è¯¦è§£ 21ï¼‰ä»€ä¹ˆæ˜¯ Spring Boot ï¼Ÿ å®ƒä½¿ç”¨ â€œä¹ æƒ¯ä¼˜äºé…ç½®â€ ï¼ˆé¡¹ç›®ä¸­å­˜åœ¨å¤§é‡çš„é…ç½®ï¼Œæ­¤å¤–è¿˜å†…ç½®ä¸€ä¸ªä¹ æƒ¯æ€§çš„é…ç½®ï¼Œè®©ä½ æ— é¡»ï¼‰çš„ç†å¿µè®©ä½ çš„é¡¹ç›®å¿«é€Ÿè¿è¡Œèµ·æ¥ã€‚ å®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆæ–°çš„æ¡†æ¶ï¼Œè€Œæ˜¯é»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒ Maven æ•´åˆäº†æ‰€æœ‰çš„ jar åŒ…ä¸€æ ·ï¼ŒSpring Boot æ•´åˆäº†æ‰€æœ‰æ¡†æ¶ï¼ˆå¼•è‡ªï¼šspringboot(ä¸€)ï¼šå…¥é—¨ç¯‡â€”â€”çº¯æ´çš„å¾®ç¬‘ï¼‰ 22ï¼‰ä½¿ç”¨ Spring Boot æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå›é¡¾æˆ‘ä»¬ä¹‹å‰çš„ SSM é¡¹ç›®ï¼Œæ­å»ºè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œéœ€è¦ï¼š 1ï¼‰é…ç½® web.xmlï¼ŒåŠ è½½ spring å’Œ spring mvc 2ï¼‰é…ç½®æ•°æ®åº“è¿æ¥ã€é…ç½®æ—¥å¿—æ–‡ä»¶ 3ï¼‰é…ç½®å®¶åœ¨é…ç½®æ–‡ä»¶çš„è¯»å–ï¼Œå¼€å¯æ³¨è§£ 4ï¼‰é…ç½®mapperæ–‡ä»¶ â€¦.. è€Œä½¿ç”¨ Spring Boot æ¥å¼€å‘é¡¹ç›®åˆ™åªéœ€è¦éå¸¸å°‘çš„å‡ ä¸ªé…ç½®å°±å¯ä»¥æ­å»ºèµ·æ¥ä¸€ä¸ª Web é¡¹ç›®ï¼Œå¹¶ä¸”åˆ©ç”¨ IDEA å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç”Ÿæˆï¼Œè¿™ç®€ç›´æ˜¯å¤ªçˆ½äº†â€¦ åˆ’é‡ç‚¹ï¼šç®€å•ã€å¿«é€Ÿã€æ–¹ä¾¿åœ°æ­å»ºé¡¹ç›®ï¼›å¯¹ä¸»æµå¼€å‘æ¡†æ¶çš„æ— é…ç½®é›†æˆï¼›æå¤§æé«˜äº†å¼€å‘ã€éƒ¨ç½²æ•ˆç‡ã€‚ Spring Boot ç”±äºç¬”è€…è¿˜æ²¡æœ‰æ·±å…¥å­¦ä¹ ..æ‰€ä»¥ç»†èŠ‚éƒ¨åˆ†è¯·è¯»è€…è‡ªè¡Œæ”¶é›†â€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(å…­)â€”â€”æ•°æ®åº“ç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-å…­-â€”â€”æ•°æ®åº“ç¯‡","date":"2018-05-20T23:10:00.000Z","updated":"2020-08-03T08:57:12.261Z","comments":true,"path":"2018/05/21/java-mian-shi-zhi-shi-dian-jie-xi-liu-shu-ju-ku-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/21/java-mian-shi-zhi-shi-dian-jie-xi-liu-shu-ju-ku-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(å››)â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äº”)â€”â€”ç½‘ç»œåè®®ç¯‡ å‰æ’å¼•ç”¨è¯´æ˜åŠå¥½æ–‡æ¨èï¼šé¢è¯•/ç¬”è¯•ç¬¬ä¸‰å¼¹ â€”â€” æ•°æ®åº“é¢è¯•é—®é¢˜é›†é”¦ã€æ•°æ®åº“å¸¸è§é¢è¯•é¢˜(å¼€å‘è€…ç¯‡) 1ï¼‰ä»€ä¹ˆæ˜¯å­˜å‚¨è¿‡ç¨‹ï¼Ÿæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿå­˜å‚¨è¿‡ç¨‹å°±åƒæ˜¯ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°ä¸€æ ·ï¼Œå°è£…äº†æˆ‘ä»¬çš„ä»£ç ï¼ˆPLSQLï¼ŒT-SQLï¼‰ ä¾‹å¦‚ï¼š -------------åˆ›å»ºåä¸ºGetUserAccountçš„å­˜å‚¨è¿‡ç¨‹---------------- create Procedure GetUserAccount as select * from UserAccount go -------------æ‰§è¡Œä¸Šé¢çš„å­˜å‚¨è¿‡ç¨‹---------------- exec GetUserAccount å­˜å‚¨è¿‡ç¨‹çš„ä¼˜ç‚¹ï¼š èƒ½å¤Ÿå°†ä»£ç å°è£…èµ·æ¥ ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ è®©ç¼–ç¨‹è¯­è¨€è¿›è¡Œè°ƒç”¨ å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸€ä¸ªé¢„ç¼–è¯‘çš„ä»£ç å—ï¼Œæ‰§è¡Œæ•ˆç‡æ¯”è¾ƒé«˜ ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹æ›¿ä»£å¤§é‡T_SQLè¯­å¥ ï¼Œå¯ä»¥é™ä½ç½‘ç»œé€šä¿¡é‡ï¼Œæé«˜é€šä¿¡é€Ÿç‡ å­˜å‚¨è¿‡ç¨‹çš„ç¼ºç‚¹ï¼š æ¯ä¸ªæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹è¯­æ³•å‡ ä¹éƒ½ä¸ä¸€æ ·ï¼Œååˆ†éš¾ä»¥ç»´æŠ¤ï¼ˆä¸é€šç”¨ï¼‰ ä¸šåŠ¡é€»è¾‘æ”¾åœ¨æ•°æ®åº“ä¸Šï¼Œéš¾ä»¥è¿­ä»£ 2ï¼‰ä¸‰å¤§èŒƒå¼ æ€è€ƒè¿™æ ·çš„ä¸€ä¸ªä¾‹å­ï¼š æˆ‘ä»¬ç°åœ¨éœ€è¦å»ºç«‹ä¸€ä¸ªæè¿°å­¦æ ¡æ•™åŠ¡çš„æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“æ¶‰åŠçš„å¯¹è±¡åŒ…æ‹¬å­¦ç”Ÿçš„å­¦å·ï¼ˆSnoï¼‰ã€æ‰€åœ¨ç³»ï¼ˆSdeptï¼‰ã€ç³»ä¸»ä»»å§“åï¼ˆMnameï¼‰ã€è¯¾ç¨‹å·ï¼ˆCnoï¼‰å’Œæˆç»©ï¼ˆGradeï¼‰ï¼Œå‡è®¾æˆ‘ä»¬ä½¿ç”¨å•ä¸€çš„å…³ç³»æ¨¡å¼ Student æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆæ ¹æ®ç°å®ä¸–ç•Œå·²çŸ¥çš„ä¿¡æ¯ï¼Œä¼šæè¿°æˆä»¥ä¸‹è¿™ä¸ªæ ·å­ï¼š ä½†æ˜¯ï¼Œè¿™ä¸ªå…³ç³»æ¨¡å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š ï¼ˆ1ï¼‰ æ•°æ®å†—ä½™æ¯”å¦‚ï¼Œæ¯ä¸€ä¸ªç³»çš„ç³»ä¸»ä»»å§“åé‡å¤å‡ºç°ï¼Œé‡å¤æ¬¡æ•°ä¸è¯¥ç³»æ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰è¯¾ç¨‹æˆç»©å‡ºç°æ¬¡æ•°ç›¸åŒï¼Œè¿™å°†æµªè´¹å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚ï¼ˆ2ï¼‰æ›´æ–°å¼‚å¸¸ï¼ˆupdate anomaliesï¼‰ç”±äºæ•°æ®å†—ä½™ï¼Œå½“æ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®æ—¶ï¼Œç³»ç»Ÿè¦ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·æ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œå¦åˆ™ä¼šé¢ä¸´æ•°æ®ä¸ä¸€è‡´çš„å±é™©ã€‚æ¯”å¦‚ï¼ŒæŸç³»æ›´æ¢ç³»ä¸»ä»»åï¼Œå¿…é¡»ä¿®æ”¹ä¸è¯¥ç³»å­¦ç”Ÿæœ‰å…³çš„æ¯ä¸€ä¸ªå…ƒç»„ã€‚ï¼ˆ3ï¼‰æ’å…¥å¼‚å¸¸ï¼ˆinsertion anomaliesï¼‰å¦‚æœä¸€ä¸ªç³»åˆšæˆç«‹ï¼Œå°šæ— å­¦ç”Ÿï¼Œåˆ™æ— æ³•æŠŠè¿™ä¸ªç³»åŠå…¶ç³»ä¸»ä»»çš„ä¿¡æ¯å­˜å…¥æ•°æ®åº“ã€‚ï¼ˆ4ï¼‰åˆ é™¤å¼‚å¸¸ï¼ˆdeletion anomaliesï¼‰å¦‚æœæŸä¸ªç³»çš„å­¦ç”Ÿå…¨éƒ¨æ¯•ä¸šäº†ï¼Œåˆ™åœ¨åˆ é™¤è¯¥ç³»å­¦ç”Ÿä¿¡æ¯çš„åŒæ—¶ï¼Œè¿™ä¸ªç³»åŠå…¶ç³»ä¸»ä»»çš„ä¿¡æ¯ä¹Ÿä¸¢å¤±äº†ã€‚ æ€»ç»“ï¼š æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®åº“çš„æ—¶å€™ï¼Œå°±éœ€è¦æ»¡è¶³ä¸€å®šçš„è§„èŒƒè¦æ±‚ï¼Œè€Œæ»¡è¶³ä¸åŒç¨‹åº¦è¦æ±‚çš„å°±æ˜¯ä¸åŒçš„èŒƒå¼ã€‚ ç¬¬ä¸€èŒƒå¼ï¼š åˆ—ä¸å¯åˆ† 1NFï¼ˆç¬¬ä¸€èŒƒå¼ï¼‰æ˜¯å¯¹å±æ€§å…·æœ‰åŸå­æ€§çš„è¦æ±‚ï¼Œä¸å¯å†åˆ†ï¼Œä¾‹å¦‚ï¼š å¦‚æœè®¤ä¸ºæœ€åä¸€åˆ—è¿˜å¯ä»¥å†åˆ†æˆå‡ºç”Ÿå¹´ï¼Œå‡ºç”Ÿæœˆï¼Œå‡ºç”Ÿæ—¥ï¼Œåˆ™å®ƒå°±ä¸æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„è¦æ±‚ã€‚ ç¬¬äºŒèŒƒå¼ï¼š æ¶ˆé™¤éä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ– 2NFï¼ˆç¬¬äºŒèŒƒå¼ï¼‰æ˜¯å¯¹è®°å½•æœ‰å”¯ä¸€æ€§çš„è¦æ±‚ï¼Œå³å®ä½“çš„å”¯ä¸€æ€§ï¼Œä¸å­˜åœ¨éƒ¨åˆ†ä¾èµ–ï¼Œæ¯ä¸€åˆ—ä¸ä¸»é”®éƒ½ç›¸å…³ï¼Œä¾‹å¦‚ï¼š è¯¥è¡¨æ˜æ˜¾è¯´æ˜äº†ä¸¤ä¸ªäº‹ç‰©ï¼šå­¦ç”Ÿä¿¡æ¯å’Œè¯¾ç¨‹ä¿¡æ¯ï¼›æ­£å¸¸çš„ä¾èµ–åº”è¯¥æ˜¯ï¼šå­¦åˆ†ä¾èµ–è¯¾ç¨‹å·ï¼Œå§“åä¾èµ–å­¦å·ï¼Œä½†è¿™é‡Œå­˜åœ¨éä¸»é”®å­—æ®µå¯¹ç çš„éƒ¨åˆ†ä¾èµ–ï¼Œå³ä¸ä¸»é”®ä¸ç›¸å…³ï¼Œä¸æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„è¦æ±‚ã€‚ å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š æ•°æ®å†—ä½™ï¼šæ¯æ¡è®°å½•éƒ½å«æœ‰ç›¸åŒä¿¡æ¯ï¼› åˆ é™¤å¼‚å¸¸ï¼šåˆ é™¤æ‰€æœ‰å­¦ç”Ÿæˆç»©ï¼Œå°±æŠŠè¯¾ç¨‹ä¿¡æ¯å…¨åˆ é™¤äº†ï¼› æ’å…¥å¼‚å¸¸ï¼šå­¦ç”Ÿæœªé€‰è¯¾ï¼Œæ— æ³•è®°å½•è¿›æ•°æ®åº“ï¼› æ›´æ–°å¼‚å¸¸ï¼šè°ƒæ•´è¯¾ç¨‹å­¦åˆ†ï¼Œæ‰€æœ‰è¡Œéƒ½è°ƒæ•´ã€‚ æ­£ç¡®çš„åšæ³•ï¼š ç¬¬ä¸‰èŒƒå¼ï¼š æ¶ˆé™¤éä¸»å±æ€§å¯¹ç çš„ä¼ é€’å‡½æ•°ä¾èµ– 3NFï¼ˆç¬¬ä¸‰èŒƒå¼ï¼‰å¯¹å­—æ®µæœ‰å†—ä½™æ€§çš„è¦æ±‚ï¼Œä»»ä½•å­—æ®µä¸èƒ½ç”±å…¶ä»–å­—æ®µæ´¾ç”Ÿå‡ºæ¥ï¼Œå®ƒè¦æ±‚å­—æ®µæ²¡æœ‰å†—ä½™ï¼Œå³ä¸å­˜åœ¨ä¾èµ–ä¼ é€’ï¼Œä¾‹å¦‚ï¼š å¾ˆæ˜æ˜¾ï¼Œå­¦é™¢ç”µè¯æ˜¯ä¸€ä¸ªå†—ä½™å­—æ®µï¼Œå› ä¸ºå­˜åœ¨ä¾èµ–ä¼ é€’ï¼šï¼ˆå­¦å·ï¼‰â†’ï¼ˆå­¦ç”Ÿï¼‰â†’ï¼ˆå­¦é™¢ï¼‰â†’ï¼ˆå­¦é™¢ç”µè¯ï¼‰ å¯èƒ½ä¼šå­˜åœ¨çš„é—®é¢˜ï¼š æ•°æ®å†—ä½™ï¼šæœ‰é‡å¤å€¼ï¼› æ›´æ–°å¼‚å¸¸ï¼šæœ‰é‡å¤çš„å†—ä½™ä¿¡æ¯ï¼Œä¿®æ”¹æ—¶éœ€è¦åŒæ—¶ä¿®æ”¹å¤šæ¡è®°å½•ï¼Œå¦åˆ™ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ ã€‚ æ­£ç¡®çš„åšæ³•ï¼š 3ï¼‰æ•°æ®åº“ç´¢å¼• ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ ç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å€¼è¿›è¡Œæ’åºçš„æ•°æ®ç»“æ„ï¼Œä»¥ååŠ©å¿«é€ŸæŸ¥è¯¢ã€æ›´æ–°æ•°æ®åº“è¡¨ä¸­æ•°æ®ã€‚ ä½ ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼šç´¢å¼•å°±æ˜¯åŠ å¿«æ£€ç´¢è¡¨ä¸­æ•°æ®çš„æ–¹æ³•ã€‚æ•°æ®åº“çš„ç´¢å¼•ç±»ä¼¼äºä¹¦ç±çš„ç´¢å¼•ã€‚åœ¨ä¹¦ç±ä¸­ï¼Œç´¢å¼•å…è®¸ç”¨æˆ·ä¸å¿…ç¿»é˜…å®Œæ•´ä¸ªä¹¦å°±èƒ½è¿…é€Ÿåœ°æ‰¾åˆ°æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚åœ¨æ•°æ®åº“ä¸­ï¼Œç´¢å¼•ä¹Ÿå…è®¸æ•°æ®åº“ç¨‹åºè¿…é€Ÿåœ°æ‰¾åˆ°è¡¨ä¸­çš„æ•°æ®ï¼Œè€Œä¸å¿…æ‰«ææ•´ä¸ªæ•°æ®åº“ã€‚ åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆä½¿ç”¨è¿™ç§æ•°æ®ç»“æ„ï¼Ÿ ï¼ˆ1ï¼‰åº•å±‚æ•°æ®ç»“æ„æ˜¯B+æ ‘ï¼šåœ¨æ•°æ®ç»“æ„ä¸­ï¼Œæˆ‘ä»¬æœ€ä¸ºå¸¸è§çš„æœç´¢ç»“æ„å°±æ˜¯äºŒå‰æœç´¢æ ‘å’ŒAVLæ ‘(é«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œä¸ºäº†æé«˜äºŒå‰æœç´¢æ ‘çš„æ•ˆç‡ï¼Œå‡å°‘æ ‘çš„å¹³å‡æœç´¢é•¿åº¦)äº†ã€‚ç„¶è€Œï¼Œæ— è®ºäºŒå‰æœç´¢æ ‘è¿˜æ˜¯AVLæ ‘ï¼Œå½“æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œéƒ½ä¼šç”±äºæ ‘çš„æ·±åº¦è¿‡å¤§è€Œé€ æˆI/Oè¯»å†™è¿‡äºé¢‘ç¹ï¼Œè¿›è€Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡ä½ä¸‹ï¼Œå› æ­¤å¯¹äºç´¢å¼•è€Œè¨€ï¼Œå¤šå‰æ ‘ç»“æ„æˆä¸ºä¸äºŒé€‰æ‹©ã€‚ç‰¹åˆ«åœ°ï¼ŒB-Treeçš„å„ç§æ“ä½œèƒ½ä½¿Bæ ‘ä¿æŒè¾ƒä½çš„é«˜åº¦ï¼Œä»è€Œä¿è¯é«˜æ•ˆçš„æŸ¥æ‰¾æ•ˆç‡ã€‚ ï¼ˆ2ï¼‰ä½¿ç”¨B+æ ‘çš„åŸå› ï¼šæŸ¥æ‰¾é€Ÿåº¦å¿«ã€æ•ˆç‡é«˜ï¼Œåœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡éƒ½èƒ½æŠ›å¼ƒæ‰ä¸€éƒ¨åˆ†èŠ‚ç‚¹ï¼Œå‡å°‘éå†ä¸ªæ•°ã€‚ï¼ˆæ­¤æ—¶ï¼Œä½ åº”è¯¥åœ¨ç™½çº¸ä¸Šç”»å‡ºä»€ä¹ˆæ˜¯B+æ ‘ï¼‰ ç´¢å¼•çš„åˆ†ç±»ï¼Ÿ å”¯ä¸€ç´¢å¼•ï¼šå”¯ä¸€ç´¢å¼•ä¸å…è®¸ä¸¤è¡Œå…·æœ‰ç›¸åŒçš„ç´¢å¼•å€¼ ä¸»é”®ç´¢å¼•ï¼šä¸ºè¡¨å®šä¹‰ä¸€ä¸ªä¸»é”®å°†è‡ªåŠ¨åˆ›å»ºä¸»é”®ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•çš„ç‰¹æ®Šç±»å‹ã€‚ä¸»é”®ç´¢å¼•è¦æ±‚ä¸»é”®ä¸­çš„æ¯ä¸ªå€¼æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”ä¸èƒ½ä¸ºç©º èšé›†ç´¢å¼•(Clustered)ï¼šè¡¨ä¸­å„è¡Œçš„ç‰©ç†é¡ºåºä¸é”®å€¼çš„é€»è¾‘ï¼ˆç´¢å¼•ï¼‰é¡ºåºç›¸åŒï¼Œæ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ª éèšé›†ç´¢å¼•(Non-clustered)ï¼šéèšé›†ç´¢å¼•æŒ‡å®šè¡¨çš„é€»è¾‘é¡ºåºã€‚æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªä½ç½®ï¼Œç´¢å¼•å­˜å‚¨åœ¨å¦ä¸€ä¸ªä½ç½®ï¼Œç´¢å¼•ä¸­åŒ…å«æŒ‡å‘æ•°æ®å­˜å‚¨ä½ç½®çš„æŒ‡é’ˆã€‚å¯ä»¥æœ‰å¤šä¸ªï¼Œå°äº249ä¸ª ç´¢å¼•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ ï¼ˆ1ï¼‰ä¼˜ç‚¹ï¼š å¤§å¤§åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºç´¢å¼•çš„æœ€ä¸»è¦çš„åŸå› ï¼› åŠ é€Ÿè¡¨å’Œè¡¨ä¹‹é—´çš„è¿æ¥ï¼› åœ¨ä½¿ç”¨åˆ†ç»„å’Œæ’åºå­å¥è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼ŒåŒæ ·å¯ä»¥æ˜¾è‘—å‡å°‘æŸ¥è¯¢ä¸­åˆ†ç»„å’Œæ’åºçš„æ—¶é—´ï¼› é€šè¿‡åˆ›å»ºå”¯ä¸€æ€§ç´¢å¼•ï¼Œå¯ä»¥ä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§ï¼› ï¼ˆ2ï¼‰ç¼ºç‚¹ï¼š æ—¶é—´æ–¹é¢ï¼šåˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦è€—è´¹æ—¶é—´ï¼Œå…·ä½“åœ°ï¼Œå½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤ï¼Œè¿™æ ·å°±é™ä½äº†æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦ï¼› ç©ºé—´æ–¹é¢ï¼šç´¢å¼•éœ€è¦å ç‰©ç†ç©ºé—´ã€‚ ä»€ä¹ˆæ ·çš„å­—æ®µé€‚åˆåˆ›å»ºç´¢å¼•ï¼Ÿ ç»å¸¸ä½œæŸ¥è¯¢é€‰æ‹©çš„å­—æ®µ ç»å¸¸ä½œè¡¨è¿æ¥çš„å­—æ®µ ç»å¸¸å‡ºç°åœ¨order by, group by, distinct åé¢çš„å­—æ®µ åˆ›å»ºç´¢å¼•æ—¶éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ éç©ºå­—æ®µï¼šåº”è¯¥æŒ‡å®šåˆ—ä¸ºNOT NULLï¼Œé™¤éä½ æƒ³å­˜å‚¨NULLã€‚åœ¨mysqlä¸­ï¼Œå«æœ‰ç©ºå€¼çš„åˆ—å¾ˆéš¾è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒä»¬ä½¿å¾—ç´¢å¼•ã€ç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯ä»¥åŠæ¯”è¾ƒè¿ç®—æ›´åŠ å¤æ‚ã€‚ä½ åº”è¯¥ç”¨0ã€ä¸€ä¸ªç‰¹æ®Šçš„å€¼æˆ–è€…ä¸€ä¸ªç©ºä¸²ä»£æ›¿ç©ºå€¼ï¼› å–å€¼ç¦»æ•£å¤§çš„å­—æ®µï¼šï¼ˆå˜é‡å„ä¸ªå–å€¼ä¹‹é—´çš„å·®å¼‚ç¨‹åº¦ï¼‰çš„åˆ—æ”¾åˆ°è”åˆç´¢å¼•çš„å‰é¢ï¼Œå¯ä»¥é€šè¿‡count()å‡½æ•°æŸ¥çœ‹å­—æ®µçš„å·®å¼‚å€¼ï¼Œè¿”å›å€¼è¶Šå¤§è¯´æ˜å­—æ®µçš„å”¯ä¸€å€¼è¶Šå¤šå­—æ®µçš„ç¦»æ•£ç¨‹åº¦é«˜ï¼› ç´¢å¼•å­—æ®µè¶Šå°è¶Šå¥½ï¼šæ•°æ®åº“çš„æ•°æ®å­˜å‚¨ä»¥é¡µä¸ºå•ä½ä¸€é¡µå­˜å‚¨çš„æ•°æ®è¶Šå¤šä¸€æ¬¡IOæ“ä½œè·å–çš„æ•°æ®è¶Šå¤§æ•ˆç‡è¶Šé«˜ã€‚ 4ï¼‰å¬è¯´è¿‡äº‹åŠ¡å—ï¼Ÿï¼ˆå¿…è€ƒï¼‰äº‹åŠ¡ç®€å•æ¥è¯´ï¼šä¸€ä¸ª Session ä¸­æ‰€è¿›è¡Œæ‰€æœ‰çš„æ“ä½œï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼›ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œæ»¡è¶³å››å¤§ç‰¹æ€§ï¼š åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œ ï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¿è¯æ•°æ®åº“çŠ¶æ€ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå¯¹æ•°æ®åº“çš„ä¿®æ”¹åº”è¯¥æ°¸ä¹…ä¿å­˜ å®ä¾‹è¯´æ˜ï¼š /* * æˆ‘ä»¬æ¥æ¨¡æ‹ŸAå‘Bè´¦å·è½¬è´¦çš„åœºæ™¯ * Aå’ŒBè´¦æˆ·éƒ½æœ‰1000å—ï¼Œç°åœ¨æˆ‘è®©Aè´¦æˆ·å‘Bè´¦å·è½¬500å—é’± * **/ //JDBCé»˜è®¤çš„æƒ…å†µä¸‹æ˜¯å…³é—­äº‹åŠ¡çš„ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å…³é—­äº‹åŠ¡å»æ“ä½œè½¬è´¦æ“ä½œæœ‰ä»€ä¹ˆé—®é¢˜ //Aè´¦æˆ·å‡å»500å— String sql = \"UPDATE a SET money=money-500 \"; preparedStatement = connection.prepareStatement(sql); preparedStatement.executeUpdate(); //Bè´¦æˆ·å¤šäº†500å— String sql2 = \"UPDATE b SET money=money+500\"; preparedStatement = connection.prepareStatement(sql2); preparedStatement.executeUpdate(); ä»ä¸Šé¢çœ‹ï¼Œæˆ‘ä»¬çš„ç¡®å¯ä»¥å‘ç°Aå‘Bè½¬è´¦ï¼ŒæˆåŠŸäº†ã€‚å¯æ˜¯å¦‚æœAå‘Bè½¬è´¦çš„è¿‡ç¨‹ä¸­å‡ºç°äº†é—®é¢˜å‘¢ï¼Ÿä¸‹é¢æ¨¡æ‹Ÿä¸€ä¸‹ // Aè´¦æˆ·å‡å»500å— String sql = \"UPDATE a SET money=money-500 \"; preparedStatement = connection.prepareStatement(sql); preparedStatement.executeUpdate(); // è¿™é‡Œæ¨¡æ‹Ÿå‡ºç°é—®é¢˜ int a = 3 / 0; String sql2 = \"UPDATE b SET money=money+500\"; preparedStatement = connection.prepareStatement(sql2); preparedStatement.executeUpdate(); æ˜¾ç„¶ï¼Œä¸Šé¢ä»£ç æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸çš„ï¼Œæˆ‘ä»¬å†æ¥æŸ¥è¯¢ä¸€ä¸‹æ•°æ®ã€‚Aè´¦æˆ·å°‘äº†500å—é’±ï¼ŒBè´¦æˆ·çš„é’±æ²¡æœ‰å¢åŠ ã€‚è¿™æ˜æ˜¾æ˜¯ä¸åˆç†çš„ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡äº‹åŠ¡æ¥è§£å†³ä¸Šé¢å‡ºç°çš„é—®é¢˜ï¼š // å¼€å¯äº‹åŠ¡,å¯¹æ•°æ®çš„æ“ä½œå°±ä¸ä¼šç«‹å³ç”Ÿæ•ˆã€‚ connection.setAutoCommit(false); // Aè´¦æˆ·å‡å»500å— String sql = \"UPDATE a SET money=money-500 \"; preparedStatement = connection.prepareStatement(sql); preparedStatement.executeUpdate(); // åœ¨è½¬è´¦è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ int a = 3 / 0; // Bè´¦æˆ·å¤š500å— String sql2 = \"UPDATE b SET money=money+500\"; preparedStatement = connection.prepareStatement(sql2); preparedStatement.executeUpdate(); // å¦‚æœç¨‹åºèƒ½æ‰§è¡Œåˆ°è¿™é‡Œï¼Œæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œæˆ‘ä»¬å°±æäº¤æ•°æ® connection.commit(); // å…³é—­äº‹åŠ¡ã€è‡ªåŠ¨æäº¤ã€‘ connection.setAutoCommit(true); } catch(SQLException e) { try { // å¦‚æœå‡ºç°äº†å¼‚å¸¸ï¼Œå°±ä¼šè¿›åˆ°è¿™é‡Œæ¥ï¼Œæˆ‘ä»¬å°±æŠŠäº‹åŠ¡å›æ»šã€å°†æ•°æ®å˜æˆåŸæ¥é‚£æ ·ã€‘ connection.rollback(); // å…³é—­äº‹åŠ¡ã€è‡ªåŠ¨æäº¤ã€‘ connection.setAutoCommit(true); } catch (SQLException e1) { e1.printStackTrace(); } } ä¸Šé¢çš„ç¨‹åºä¹Ÿä¸€æ ·æŠ›å‡ºäº†å¼‚å¸¸ï¼ŒAè´¦æˆ·é’±æ²¡æœ‰å‡å°‘ï¼ŒBè´¦æˆ·çš„é’±ä¹Ÿæ²¡æœ‰å¢åŠ ã€‚ æ³¨æ„ï¼šå½“Connectioné‡åˆ°ä¸€ä¸ªæœªå¤„ç†çš„SQLExceptionæ—¶ï¼Œç³»ç»Ÿä¼šéæ­£å¸¸é€€å‡ºï¼Œäº‹åŠ¡ä¹Ÿä¼šè‡ªåŠ¨å›æ»šï¼Œä½†å¦‚æœç¨‹åºæ•è·åˆ°äº†å¼‚å¸¸ï¼Œæ˜¯éœ€è¦åœ¨catchä¸­æ˜¾å¼å›æ»šäº‹åŠ¡çš„ã€‚ 5ï¼‰äº‹åŠ¡çš„å¹¶å‘é—®é¢˜æœ‰å“ªå‡ ç§ï¼Ÿ ä¸¢å¤±æ›´æ–°ï¼šä¸€ä¸ªäº‹åŠ¡çš„æ›´æ–°è¦†ç›–äº†å¦ä¸€ä¸ªäº‹åŠ¡çš„æ›´æ–°ï¼› è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼› ä¸å¯é‡å¤è¯»ï¼šä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯ä¿®æ”¹ï¼ŒåŒæ ·æ¡ä»¶ä¸‹ä¸¤æ¬¡è¯»å–ç»“æœä¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¢«è¯»å–çš„æ•°æ®å¯ä»¥è¢«å…¶å®ƒäº‹åŠ¡ä¿®æ”¹ï¼› å¹»è¯»ï¼šå¹»è¯»çš„é‡ç‚¹åœ¨äºæ–°å¢æˆ–è€…åˆ é™¤ï¼ŒåŒæ ·æ¡ä»¶ä¸‹ä¸¤æ¬¡è¯»å‡ºæ¥çš„è®°å½•æ•°ä¸ä¸€æ ·ã€‚ 6ï¼‰äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªå‡ ç§ï¼Ÿéš”ç¦»çº§åˆ«å†³å®šäº†ä¸€ä¸ªsessionä¸­çš„äº‹åŠ¡å¯èƒ½å¯¹å¦ä¸€ä¸ªsessionä¸­çš„äº‹åŠ¡çš„å½±å“ã€‚ANSIæ ‡å‡†å®šä¹‰äº†4ä¸ªéš”ç¦»çº§åˆ«ï¼ŒMySQLçš„InnoDBéƒ½æ”¯æŒï¼Œåˆ†åˆ«æ˜¯ï¼š è¯»æœªæäº¤ï¼ˆREAD UNCOMMITTEDï¼‰ï¼šæœ€ä½çº§åˆ«çš„éš”ç¦»ï¼Œé€šå¸¸åˆç§°ä¸ºdirty readï¼Œå®ƒå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡ commit çš„æ•°æ®ï¼Œè¿™æ ·å¯èƒ½ä¼šæé«˜æ€§èƒ½ï¼Œä½†æ˜¯ä¼šå¯¼è‡´è„è¯»é—®é¢˜ï¼› è¯»å·²æäº¤ï¼ˆREAD COMMITTEDï¼‰ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­åªå…è®¸å¯¹å…¶å®ƒäº‹åŠ¡å·²ç» commit çš„è®°å½•å¯è§ï¼Œè¯¥éš”ç¦»çº§åˆ«ä¸èƒ½é¿å…ä¸å¯é‡å¤è¯»é—®é¢˜ï¼› å¯é‡å¤è¯»ï¼ˆREPEATABLE READï¼‰ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å¼€å§‹åï¼Œå…¶ä»–äº‹åŠ¡å¯¹æ•°æ®åº“çš„ä¿®æ”¹åœ¨æœ¬äº‹åŠ¡ä¸­ä¸å¯è§ï¼Œç›´åˆ°æœ¬äº‹åŠ¡ commit æˆ– rollbackã€‚ä½†æ˜¯ï¼Œå…¶ä»–äº‹åŠ¡çš„ insert/delete æ“ä½œå¯¹è¯¥äº‹åŠ¡æ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥éš”ç¦»çº§åˆ«å¹¶ä¸èƒ½é¿å…å¹»è¯»é—®é¢˜ã€‚åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­é‡å¤ select çš„ç»“æœä¸€æ ·ï¼Œé™¤éæœ¬äº‹åŠ¡ä¸­ update æ•°æ®åº“ã€‚ åºåˆ—åŒ–ï¼ˆSERIALIZABLEï¼‰ï¼šæœ€é«˜çº§åˆ«çš„éš”ç¦»ï¼Œåªå…è®¸äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œã€‚ MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼ˆREPEATABLE READï¼‰ MySql çš„äº‹åŠ¡æ”¯æŒ MySQLçš„äº‹åŠ¡æ”¯æŒä¸æ˜¯ç»‘å®šåœ¨MySQLæœåŠ¡å™¨æœ¬èº«ï¼Œè€Œæ˜¯ä¸å­˜å‚¨å¼•æ“ç›¸å…³ï¼š MyISAMï¼šä¸æ”¯æŒäº‹åŠ¡ï¼Œç”¨äºåªè¯»ç¨‹åºæé«˜æ€§èƒ½ï¼› InnoDBï¼šæ”¯æŒACIDäº‹åŠ¡ã€è¡Œçº§é”ã€å¹¶å‘ï¼› Berkeley DBï¼šæ”¯æŒäº‹åŠ¡ã€‚ 7ï¼‰ä»€ä¹ˆæ˜¯è§†å›¾ï¼Ÿä»¥åŠè§†å›¾çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿè§†å›¾æ˜¯ä¸€ç§è™šæ‹Ÿçš„è¡¨ï¼Œå…·æœ‰å’Œç‰©ç†è¡¨ç›¸åŒçš„åŠŸèƒ½ã€‚å¯ä»¥å¯¹è§†å›¾è¿›è¡Œå¢ï¼Œæ”¹ï¼ŒæŸ¥ï¼Œæ“ä½œï¼Œè¯•å›¾é€šå¸¸æ˜¯æœ‰ä¸€ä¸ªè¡¨æˆ–è€…å¤šä¸ªè¡¨çš„è¡Œæˆ–åˆ—çš„å­é›†ã€‚å¯¹è§†å›¾çš„ä¿®æ”¹ä¸å½±å“åŸºæœ¬è¡¨ã€‚å®ƒä½¿å¾—æˆ‘ä»¬è·å–æ•°æ®æ›´å®¹æ˜“ï¼Œç›¸æ¯”å¤šè¡¨æŸ¥è¯¢ã€‚ å¦‚ä¸‹ä¸¤ç§åœºæ™¯ä¸€èˆ¬ä¼šä½¿ç”¨åˆ°è§†å›¾ï¼š ä¸å¸Œæœ›è®¿é—®è€…è·å–æ•´ä¸ªè¡¨çš„ä¿¡æ¯ï¼Œåªæš´éœ²éƒ¨åˆ†å­—æ®µç»™è®¿é—®è€…ï¼Œæ‰€ä»¥å°±å»ºä¸€ä¸ªè™šè¡¨ï¼Œå°±æ˜¯è§†å›¾ã€‚ æŸ¥è¯¢çš„æ•°æ®æ¥æºäºä¸åŒçš„è¡¨ï¼Œè€ŒæŸ¥è¯¢è€…å¸Œæœ›ä»¥ç»Ÿä¸€çš„æ–¹å¼æŸ¥è¯¢ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»ºç«‹ä¸€ä¸ªè§†å›¾ï¼ŒæŠŠå¤šä¸ªè¡¨æŸ¥è¯¢ç»“æœè”åˆèµ·æ¥ï¼ŒæŸ¥è¯¢è€…åªéœ€è¦ç›´æ¥ä»è§†å›¾ä¸­è·å–æ•°æ®ï¼Œä¸å¿…è€ƒè™‘æ•°æ®æ¥æºäºä¸åŒè¡¨æ‰€å¸¦æ¥çš„å·®å¼‚ã€‚ æ³¨æ„ï¼šè¿™ä¸ªè§†å›¾æ˜¯åœ¨æ•°æ®åº“ä¸­åˆ›å»ºçš„ è€Œä¸æ˜¯ç”¨ä»£ç åˆ›å»ºçš„ã€‚ 8ï¼‰drop,deleteä¸truncateçš„åŒºåˆ«ï¼Ÿdrop ç›´æ¥åˆ é™¤è¡¨ï¼›truncate åˆ é™¤è¡¨ä¸­æ•°æ®ï¼Œå†æ’å…¥æ—¶è‡ªå¢é•¿idåˆä»1å¼€å§‹ ï¼›delete åˆ é™¤è¡¨ä¸­æ•°æ®ï¼Œå¯ä»¥åŠ whereå­—å¥ã€‚ drop tableï¼š å±äºDDLï¼ˆData Definition Languageï¼Œæ•°æ®åº“å®šä¹‰è¯­è¨€ï¼‰ ä¸å¯å›æ»š ä¸å¯å¸¦ where è¡¨å†…å®¹å’Œç»“æ„åˆ é™¤ åˆ é™¤é€Ÿåº¦å¿« truncate tableï¼š å±äºDDLï¼ˆData Definition Languageï¼Œæ•°æ®åº“å®šä¹‰è¯­è¨€ï¼‰ ä¸å¯å›æ»š ä¸å¯å¸¦ where è¡¨å†…å®¹åˆ é™¤ åˆ é™¤é€Ÿåº¦å¿« delete fromï¼š å±äºDML å¯å›æ»š å¯å¸¦where è¡¨ç»“æ„åœ¨ï¼Œè¡¨å†…å®¹è¦çœ‹whereæ‰§è¡Œçš„æƒ…å†µ åˆ é™¤é€Ÿåº¦æ…¢,éœ€è¦é€è¡Œåˆ é™¤ ä½¿ç”¨ç®€è¦è¯´æ˜ï¼š ä¸å†éœ€è¦ä¸€å¼ è¡¨çš„æ—¶å€™ï¼Œç”¨drop æƒ³åˆ é™¤éƒ¨åˆ†æ•°æ®è¡Œæ—¶å€™ï¼Œç”¨deleteï¼Œå¹¶ä¸”å¸¦ä¸Šwhereå­å¥ ä¿ç•™è¡¨è€Œåˆ é™¤æ‰€æœ‰æ•°æ®çš„æ—¶å€™ç”¨truncate 9ï¼‰è§¦å‘å™¨çš„ä½œç”¨ï¼Ÿè§¦å‘å™¨æ˜¯ä¸è¡¨ç›¸å…³çš„æ•°æ®åº“å¯¹è±¡ï¼Œåœ¨æ»¡è¶³å®šä¹‰æ¡ä»¶æ—¶è§¦å‘ï¼Œå¹¶æ‰§è¡Œè§¦å‘å™¨ä¸­å®šä¹‰çš„è¯­å¥é›†åˆã€‚è§¦å‘å™¨çš„è¿™ç§ç‰¹æ€§å¯ä»¥ååŠ©åº”ç”¨åœ¨æ•°æ®åº“ç«¯ç¡®ä¿æ•°æ®åº“çš„å®Œæ•´æ€§ã€‚ 10ï¼‰æ•°æ®åº“çš„ä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆï¼Ÿæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ä¸­çš„å¹¶å‘æ§åˆ¶çš„ä»»åŠ¡æ˜¯ç¡®ä¿åœ¨å¤šä¸ªäº‹åŠ¡åŒæ—¶å­˜å–æ•°æ®åº“ä¸­åŒä¸€æ•°æ®æ—¶ä¸ç ´åäº‹åŠ¡çš„éš”ç¦»æ€§å’Œç»Ÿä¸€æ€§ä»¥åŠæ•°æ®åº“çš„ç»Ÿä¸€æ€§ã€‚ ä¹è§‚å¹¶å‘æ§åˆ¶(ä¹è§‚é”)å’Œæ‚²è§‚å¹¶å‘æ§åˆ¶ï¼ˆæ‚²è§‚é”ï¼‰æ˜¯å¹¶å‘æ§åˆ¶ä¸»è¦é‡‡ç”¨çš„æŠ€æœ¯æ‰‹æ®µã€‚ æ‚²è§‚é”ï¼šå‡å®šä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œå±è”½ä¸€åˆ‡å¯èƒ½è¿åæ•°æ®å®Œæ•´æ€§çš„æ“ä½œ æ‚²è§‚é”æ˜¯ä¸€ç§åˆ©ç”¨æ•°æ®åº“å†…éƒ¨æœºåˆ¶æä¾›çš„é”çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯å¯¹æ›´æ–°çš„æ•°æ®åŠ é”ï¼Œè¿™æ ·åœ¨å¹¶å‘æœŸé—´ä¸€æ—¦æœ‰ä¸€ä¸ªäº‹åŠ¡æŒæœ‰äº†æ•°æ®åº“è®°å½•çš„é”ï¼Œå…¶ä»–çš„çº¿ç¨‹å°†ä¸èƒ½å†å¯¹æ•°æ®è¿›è¡Œæ›´æ–°äº†ï¼Œè¿™å°±æ˜¯æ‚²è§‚é”çš„å®ç°æ–¹å¼ã€‚ MySQL InnoDBä¸­ä½¿ç”¨æ‚²è§‚é”ï¼š è¦ä½¿ç”¨æ‚²è§‚é”ï¼Œæˆ‘ä»¬å¿…é¡»å…³é—­mysqlæ•°æ®åº“çš„è‡ªåŠ¨æäº¤å±æ€§ï¼Œå› ä¸ºMySQLé»˜è®¤ä½¿ç”¨autocommitæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ æ‰§è¡Œä¸€ä¸ªæ›´æ–°æ“ä½œåï¼ŒMySQLä¼šç«‹åˆ»å°†ç»“æœè¿›è¡Œæäº¤ã€‚ set autocommit=0; //0.å¼€å§‹äº‹åŠ¡ begin;/begin work;/start transaction; (ä¸‰è€…é€‰ä¸€å°±å¯ä»¥) //1.æŸ¥è¯¢å‡ºå•†å“ä¿¡æ¯ select status from t_goods where id=1 for update; //2.æ ¹æ®å•†å“ä¿¡æ¯ç”Ÿæˆè®¢å• insert into t_orders (id,goods_id) values (null,1); //3.ä¿®æ”¹å•†å“statusä¸º2 update t_goods set status=2; //4.æäº¤äº‹åŠ¡ commit;/commit work; ä¸Šé¢çš„æŸ¥è¯¢è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† selectâ€¦for update çš„æ–¹å¼ï¼Œè¿™æ ·å°±é€šè¿‡å¼€å¯æ’ä»–é”çš„æ–¹å¼å®ç°äº†æ‚²è§‚é”ã€‚æ­¤æ—¶åœ¨t_goodsè¡¨ä¸­ï¼Œidä¸º1çš„ é‚£æ¡æ•°æ®å°±è¢«æˆ‘ä»¬é”å®šäº†ï¼Œå…¶å®ƒçš„äº‹åŠ¡å¿…é¡»ç­‰æœ¬æ¬¡äº‹åŠ¡æäº¤ä¹‹åæ‰èƒ½æ‰§è¡Œã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥ä¿è¯å½“å‰çš„æ•°æ®ä¸ä¼šè¢«å…¶å®ƒäº‹åŠ¡ä¿®æ”¹ã€‚ ä¸Šé¢æˆ‘ä»¬æåˆ°ï¼Œä½¿ç”¨ selectâ€¦for update ä¼šæŠŠæ•°æ®ç»™é”ä½ï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€äº›é”çš„çº§åˆ«ï¼ŒMySQL InnoDBé»˜è®¤è¡Œçº§é”ã€‚è¡Œçº§é”éƒ½æ˜¯åŸºäºç´¢å¼•çš„ï¼Œå¦‚æœä¸€æ¡SQLè¯­å¥ç”¨ä¸åˆ°ç´¢å¼•æ˜¯ä¸ä¼šä½¿ç”¨è¡Œçº§é”çš„ï¼Œä¼šä½¿ç”¨è¡¨çº§é”æŠŠæ•´å¼ è¡¨é”ä½ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ã€‚ ä¼˜ç‚¹ä¸ä¸è¶³ï¼š æ‚²è§‚å¹¶å‘æ§åˆ¶å®é™…ä¸Šæ˜¯â€œå…ˆå–é”å†è®¿é—®â€çš„ä¿å®ˆç­–ç•¥ï¼Œä¸ºæ•°æ®å¤„ç†çš„å®‰å…¨æä¾›äº†ä¿è¯ã€‚ä½†æ˜¯åœ¨æ•ˆç‡æ–¹é¢ï¼Œå¤„ç†åŠ é”çš„æœºåˆ¶ä¼šè®©æ•°æ®åº“äº§ç”Ÿé¢å¤–çš„å¼€é”€ï¼Œè¿˜æœ‰å¢åŠ äº§ç”Ÿæ­»é”çš„æœºä¼šï¼›å¦å¤–ï¼Œåœ¨åªè¯»å‹äº‹åŠ¡å¤„ç†ä¸­ç”±äºä¸ä¼šäº§ç”Ÿå†²çªï¼Œä¹Ÿæ²¡å¿…è¦ä½¿ç”¨é”ï¼Œè¿™æ ·åšåªèƒ½å¢åŠ ç³»ç»Ÿè´Ÿè½½ï¼›è¿˜æœ‰ä¼šé™ä½äº†å¹¶è¡Œæ€§ï¼Œä¸€ä¸ªäº‹åŠ¡å¦‚æœé”å®šäº†æŸè¡Œæ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡å°±å¿…é¡»ç­‰å¾…è¯¥äº‹åŠ¡å¤„ç†å®Œæ‰å¯ä»¥å¤„ç†é‚£è¡Œæ•° ä¹è§‚é”ï¼šå‡è®¾ä¸ä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œåªåœ¨æäº¤æ“ä½œæ—¶æ£€æŸ¥æ˜¯å¦è¿åæ•°æ®å®Œæ•´æ€§ã€‚ ä¹è§‚é”æ˜¯ä¸€ç§ä¸ä¼šé˜»å¡å…¶ä»–çº¿ç¨‹å¹¶å‘çš„æ§åˆ¶ï¼Œå®ƒä¸ä¼šä½¿ç”¨æ•°æ®åº“çš„é”è¿›è¡Œå®ç°ï¼Œå®ƒçš„è®¾è®¡é‡Œé¢ç”±äºä¸é˜»å¡å…¶ä»–çº¿ç¨‹ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šå¼•èµ·çº¿ç¨‹é¢‘ç¹æŒ‚èµ·å’Œæ¢å¤ï¼Œè¿™æ ·ä¾¿èƒ½å¤Ÿæé«˜å¹¶å‘èƒ½åŠ›ï¼Œæ‰€ä»¥ä¹Ÿæœ‰äººæŠŠå®ƒç§°ä¸ºéé˜»å¡é”ã€‚ä¸€èˆ¬çš„å®ç°ä¹è§‚é”çš„æ–¹å¼å°±æ˜¯è®°å½•æ•°æ®ç‰ˆæœ¬ã€‚ æ•°æ®ç‰ˆæœ¬,ä¸ºæ•°æ®å¢åŠ çš„ä¸€ä¸ªç‰ˆæœ¬æ ‡è¯†ã€‚å½“è¯»å–æ•°æ®æ—¶ï¼Œå°†ç‰ˆæœ¬æ ‡è¯†çš„å€¼ä¸€åŒè¯»å‡ºï¼Œæ•°æ®æ¯æ›´æ–°ä¸€æ¬¡ï¼ŒåŒæ—¶å¯¹ç‰ˆæœ¬æ ‡è¯†è¿›è¡Œæ›´æ–°ã€‚å½“æˆ‘ä»¬æäº¤æ›´æ–°çš„æ—¶å€™ï¼Œåˆ¤æ–­æ•°æ®åº“è¡¨å¯¹åº”è®°å½•çš„å½“å‰ç‰ˆæœ¬ä¿¡æ¯ä¸ç¬¬ä¸€æ¬¡å–å‡ºæ¥çš„ç‰ˆæœ¬æ ‡è¯†è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœæ•°æ®åº“è¡¨å½“å‰ç‰ˆæœ¬å·ä¸ç¬¬ä¸€æ¬¡å–å‡ºæ¥çš„ç‰ˆæœ¬æ ‡è¯†å€¼ç›¸ç­‰ï¼Œåˆ™äºˆä»¥æ›´æ–°ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¿‡æœŸæ•°æ®ã€‚ å®ç°æ•°æ®ç‰ˆæœ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œç¬¬äºŒç§æ˜¯ä½¿ç”¨æ—¶é—´æˆ³ã€‚ ä½¿ç”¨ç‰ˆæœ¬å·å®ç°ä¹è§‚é”ï¼š ä½¿ç”¨ç‰ˆæœ¬å·æ—¶ï¼Œå¯ä»¥åœ¨æ•°æ®åˆå§‹åŒ–æ—¶æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å¯¹æ•°æ®çš„æ›´æ–°æ“ä½œéƒ½å¯¹ç‰ˆæœ¬å·æ‰§è¡Œ+1æ“ä½œã€‚å¹¶åˆ¤æ–­å½“å‰ç‰ˆæœ¬å·æ˜¯ä¸æ˜¯è¯¥æ•°æ®çš„æœ€æ–°çš„ç‰ˆæœ¬å·ã€‚ 1.æŸ¥è¯¢å‡ºå•†å“ä¿¡æ¯ select (status,status,version) from t_goods where id=#{id} 2.æ ¹æ®å•†å“ä¿¡æ¯ç”Ÿæˆè®¢å• 3.ä¿®æ”¹å•†å“statusä¸º2 update t_goods set status=2,version=version+1 where id=#{id} and version=#{version}; ä¼˜ç‚¹ä¸ä¸è¶³ï¼š ä¹è§‚å¹¶å‘æ§åˆ¶ç›¸ä¿¡äº‹åŠ¡ä¹‹é—´çš„æ•°æ®ç«äº‰(data race)çš„æ¦‚ç‡æ˜¯æ¯”è¾ƒå°çš„ï¼Œå› æ­¤å°½å¯èƒ½ç›´æ¥åšä¸‹å»ï¼Œç›´åˆ°æäº¤çš„æ—¶å€™æ‰å»é”å®šï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿä»»ä½•é”å’Œæ­»é”ã€‚ä½†å¦‚æœç›´æ¥ç®€å•è¿™ä¹ˆåšï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šé‡åˆ°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œä¾‹å¦‚ä¸¤ä¸ªäº‹åŠ¡éƒ½è¯»å–äº†æ•°æ®åº“çš„æŸä¸€è¡Œï¼Œç»è¿‡ä¿®æ”¹ä»¥åå†™å›æ•°æ®åº“ï¼Œè¿™æ—¶å°±é‡åˆ°äº†é—®é¢˜ã€‚ å‚è€ƒæ–‡ç« ï¼šæ·±å…¥ç†è§£ä¹è§‚é”ä¸æ‚²è§‚é” 11ï¼‰è¶…é”®ã€å€™é€‰é”®ã€ä¸»é”®ã€å¤–é”®åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è¶…é”®ï¼šåœ¨å…³ç³»ä¸­èƒ½å”¯ä¸€æ ‡è¯†å…ƒç»„çš„å±æ€§é›†ç§°ä¸ºå…³ç³»æ¨¡å¼çš„è¶…é”®ã€‚ä¸€ä¸ªå±æ€§å¯ä»¥ä¸ºä½œä¸ºä¸€ä¸ªè¶…é”®ï¼Œå¤šä¸ªå±æ€§ç»„åˆåœ¨ä¸€èµ·ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªè¶…é”®ã€‚è¶…é”®åŒ…å«å€™é€‰é”®å’Œä¸»é”®ã€‚ å€™é€‰é”®ï¼ˆå€™é€‰ç ï¼‰ï¼šæ˜¯æœ€å°è¶…é”®ï¼Œå³æ²¡æœ‰å†—ä½™å…ƒç´ çš„è¶…é”®ã€‚ ä¸»é”®ï¼ˆä¸»ç ï¼‰ï¼šæ•°æ®åº“è¡¨ä¸­å¯¹å‚¨å­˜æ•°æ®å¯¹è±¡äºˆä»¥å”¯ä¸€å’Œå®Œæ•´æ ‡è¯†çš„æ•°æ®åˆ—æˆ–å±æ€§çš„ç»„åˆã€‚ä¸€ä¸ªæ•°æ®åˆ—åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä¸”ä¸»é”®çš„å–å€¼ä¸èƒ½ç¼ºå¤±ï¼Œå³ä¸èƒ½ä¸ºç©ºå€¼ï¼ˆNullï¼‰ã€‚ å¤–é”®ï¼šåœ¨ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨çš„å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®ç§°æ­¤è¡¨çš„å¤–é”®ã€‚ å€™é€‰ç å’Œä¸»ç ï¼š ä¾‹å­ï¼šé‚®å¯„åœ°å€ï¼ˆåŸå¸‚åï¼Œè¡—é“åï¼Œé‚®æ”¿ç¼–ç ï¼Œå•ä½åï¼Œæ”¶ä»¶äººï¼‰ å®ƒæœ‰ä¸¤ä¸ªå€™é€‰é”®:{åŸå¸‚åï¼Œè¡—é“å} å’Œ {è¡—é“åï¼Œé‚®æ”¿ç¼–ç } å¦‚æœæˆ‘é€‰å–{åŸå¸‚åï¼Œè¡—é“å}ä½œä¸ºå”¯ä¸€æ ‡è¯†å®ä½“çš„å±æ€§ï¼Œé‚£ä¹ˆ{åŸå¸‚åï¼Œè¡—é“å} å°±æ˜¯ä¸»ç (ä¸»é”®) 12ï¼‰SQL çº¦æŸæœ‰å“ªå‡ ç§ï¼Ÿ NOT NULL: ç”¨äºæ§åˆ¶å­—æ®µçš„å†…å®¹ä¸€å®šä¸èƒ½ä¸ºç©ºï¼ˆNULLï¼‰ã€‚ UNIQUE: æ§ä»¶å­—æ®µå†…å®¹ä¸èƒ½é‡å¤ï¼Œä¸€ä¸ªè¡¨å…è®¸æœ‰å¤šä¸ª Unique çº¦æŸã€‚ PRIMARY KEY: ä¹Ÿæ˜¯ç”¨äºæ§ä»¶å­—æ®µå†…å®¹ä¸èƒ½é‡å¤ï¼Œä½†å®ƒåœ¨ä¸€ä¸ªè¡¨åªå…è®¸å‡ºç°ä¸€ä¸ªã€‚ FOREIGN KEY: ç”¨äºé¢„é˜²ç ´åè¡¨ä¹‹é—´è¿æ¥çš„åŠ¨ä½œï¼Œä¹Ÿèƒ½é˜²æ­¢éæ³•æ•°æ®æ’å…¥å¤–é”®åˆ—ï¼Œå› ä¸ºå®ƒå¿…é¡»æ˜¯å®ƒæŒ‡å‘çš„é‚£ä¸ªè¡¨ä¸­çš„å€¼ä¹‹ä¸€ã€‚ CHECK: ç”¨äºæ§åˆ¶å­—æ®µçš„å€¼èŒƒå›´ã€‚ 13ï¼‰MySQLå­˜å‚¨å¼•æ“ä¸­çš„MyISAMå’ŒInnoDBåŒºåˆ«è¯¦è§£åœ¨MySQL 5.5ä¹‹å‰ï¼ŒMyISAMæ˜¯mysqlçš„é»˜è®¤æ•°æ®åº“å¼•æ“ï¼Œå…¶ç”±æ—©æœŸçš„ISAMï¼ˆIndexed Sequential Access Methodï¼šæœ‰ç´¢å¼•çš„é¡ºåºè®¿é—®æ–¹æ³•ï¼‰æ‰€æ”¹è‰¯ã€‚è™½ç„¶MyISAMæ€§èƒ½æä½³ï¼Œä½†å´æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹ï¼š ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚ä¸è¿‡ï¼ŒMySQLä¹Ÿå¯¼å…¥äº†å¦ä¸€ç§æ•°æ®åº“å¼•æ“InnoDBï¼Œä»¥å¼ºåŒ–å‚è€ƒå®Œæ•´æ€§ä¸å¹¶å‘è¿è§„å¤„ç†æœºåˆ¶ï¼Œåæ¥å°±é€æ¸å–ä»£MyISAMã€‚ InnoDBæ˜¯MySQLçš„æ•°æ®åº“å¼•æ“ä¹‹ä¸€ï¼Œå…¶ç”±Innobase oyå…¬å¸æ‰€å¼€å‘ï¼Œ2006å¹´äº”æœˆç”±ç”²éª¨æ–‡å…¬å¸å¹¶è´­ã€‚ä¸ä¼ ç»Ÿçš„ISAMã€MyISAMç›¸æ¯”ï¼ŒInnoDBçš„æœ€å¤§ç‰¹è‰²å°±æ˜¯æ”¯æŒACIDå…¼å®¹çš„äº‹åŠ¡åŠŸèƒ½ï¼Œç±»ä¼¼äºPostgreSQLã€‚ç›®å‰InnoDBé‡‡ç”¨åŒè½¨åˆ¶æˆæƒï¼Œä¸€æ˜¯GPLæˆæƒï¼Œå¦ä¸€æ˜¯ä¸“æœ‰è½¯ä»¶æˆæƒã€‚å…·ä½“åœ°ï¼ŒMyISAMä¸InnoDBä½œä¸ºMySQLçš„ä¸¤å¤§å­˜å‚¨å¼•æ“çš„å·®å¼‚ä¸»è¦åŒ…æ‹¬ï¼š å­˜å‚¨ç»“æ„ï¼šæ¯ä¸ªMyISAMåœ¨ç£ç›˜ä¸Šå­˜å‚¨æˆä¸‰ä¸ªæ–‡ä»¶ï¼šç¬¬ä¸€ä¸ªæ–‡ä»¶çš„åå­—ä»¥è¡¨çš„åå­—å¼€å§‹ï¼Œæ‰©å±•åæŒ‡å‡ºæ–‡ä»¶ç±»å‹ã€‚.frmæ–‡ä»¶å­˜å‚¨è¡¨å®šä¹‰ï¼Œæ•°æ®æ–‡ä»¶çš„æ‰©å±•åä¸º.MYD (MYData)ï¼Œç´¢å¼•æ–‡ä»¶çš„æ‰©å±•åæ˜¯.MYI (MYIndex)ã€‚InnoDBæ‰€æœ‰çš„è¡¨éƒ½ä¿å­˜åœ¨åŒä¸€ä¸ªæ•°æ®æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ç‹¬ç«‹çš„è¡¨ç©ºé—´æ–‡ä»¶ï¼‰ï¼ŒInnoDBè¡¨çš„å¤§å°åªå—é™äºæ“ä½œç³»ç»Ÿæ–‡ä»¶çš„å¤§å°ï¼Œä¸€èˆ¬ä¸º2GBã€‚ å­˜å‚¨ç©ºé—´ï¼šMyISAMå¯è¢«å‹ç¼©ï¼Œå æ®çš„å­˜å‚¨ç©ºé—´è¾ƒå°ï¼Œæ”¯æŒé™æ€è¡¨ã€åŠ¨æ€è¡¨ã€å‹ç¼©è¡¨ä¸‰ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ã€‚InnoDBéœ€è¦æ›´å¤šçš„å†…å­˜å’Œå­˜å‚¨ï¼Œå®ƒä¼šåœ¨ä¸»å†…å­˜ä¸­å»ºç«‹å…¶ä¸“ç”¨çš„ç¼“å†²æ± ç”¨äºé«˜é€Ÿç¼“å†²æ•°æ®å’Œç´¢å¼•ã€‚ å¯ç§»æ¤æ€§ã€å¤‡ä»½åŠæ¢å¤ï¼šMyISAMçš„æ•°æ®æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨è·¨å¹³å°çš„æ•°æ®è½¬ç§»ä¸­ä¼šå¾ˆæ–¹ä¾¿ï¼ŒåŒæ—¶åœ¨å¤‡ä»½å’Œæ¢å¤æ—¶ä¹Ÿå¯å•ç‹¬é’ˆå¯¹æŸä¸ªè¡¨è¿›è¡Œæ“ä½œã€‚InnoDBå…è´¹çš„æ–¹æ¡ˆå¯ä»¥æ˜¯æ‹·è´æ•°æ®æ–‡ä»¶ã€å¤‡ä»½ binlogï¼Œæˆ–è€…ç”¨ mysqldumpï¼Œåœ¨æ•°æ®é‡è¾¾åˆ°å‡ åGçš„æ—¶å€™å°±ç›¸å¯¹ç—›è‹¦äº†ã€‚ äº‹åŠ¡æ”¯æŒï¼šMyISAMå¼ºè°ƒçš„æ˜¯æ€§èƒ½ï¼Œæ¯æ¬¡æŸ¥è¯¢å…·æœ‰åŸå­æ€§ï¼Œå…¶æ‰§è¡Œæ•°åº¦æ¯”InnoDBç±»å‹æ›´å¿«ï¼Œä½†æ˜¯ä¸æä¾›äº‹åŠ¡æ”¯æŒã€‚InnoDBæä¾›äº‹åŠ¡ã€å¤–é”®ç­‰é«˜çº§æ•°æ®åº“åŠŸèƒ½ï¼Œå…·æœ‰äº‹åŠ¡æäº¤ã€å›æ»šå’Œå´©æºƒä¿®å¤èƒ½åŠ›ã€‚ AUTO_INCREMENTï¼šåœ¨MyISAMä¸­ï¼Œå¯ä»¥å’Œå…¶ä»–å­—æ®µä¸€èµ·å»ºç«‹è”åˆç´¢å¼•ã€‚å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œè‡ªåŠ¨å¢é•¿å¯ä»¥ä¸æ˜¯ç¬¬ä¸€åˆ—ï¼Œå®ƒå¯ä»¥æ ¹æ®å‰é¢å‡ åˆ—è¿›è¡Œæ’åºåé€’å¢ã€‚InnoDBä¸­å¿…é¡»åŒ…å«åªæœ‰è¯¥å­—æ®µçš„ç´¢å¼•ï¼Œå¹¶ä¸”å¼•æ“çš„è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ä¹Ÿå¿…é¡»æ˜¯ç»„åˆç´¢å¼•çš„ç¬¬ä¸€åˆ—ã€‚ è¡¨é”å·®å¼‚ï¼šMyISAMåªæ”¯æŒè¡¨çº§é”ï¼Œç”¨æˆ·åœ¨æ“ä½œMyISAMè¡¨æ—¶ï¼Œselectã€updateã€deleteå’Œinsertè¯­å¥éƒ½ä¼šç»™è¡¨è‡ªåŠ¨åŠ é”ï¼Œå¦‚æœåŠ é”ä»¥åçš„è¡¨æ»¡è¶³insertå¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨è¡¨çš„å°¾éƒ¨æ’å…¥æ–°çš„æ•°æ®ã€‚InnoDBæ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ã€‚è¡Œé”å¤§å¹…åº¦æé«˜äº†å¤šç”¨æˆ·å¹¶å‘æ“ä½œçš„æ–°èƒ½ï¼Œä½†æ˜¯InnoDBçš„è¡Œé”ï¼Œåªæ˜¯åœ¨WHEREçš„ä¸»é”®æ˜¯æœ‰æ•ˆçš„ï¼Œéä¸»é”®çš„WHEREéƒ½ä¼šé”å…¨è¡¨çš„ã€‚ å…¨æ–‡ç´¢å¼•ï¼šMyISAMæ”¯æŒ FULLTEXTç±»å‹çš„å…¨æ–‡ç´¢å¼•ï¼›InnoDBä¸æ”¯æŒFULLTEXTç±»å‹çš„å…¨æ–‡ç´¢å¼•ï¼Œä½†æ˜¯innodbå¯ä»¥ä½¿ç”¨sphinxæ’ä»¶æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä¸”æ•ˆæœæ›´å¥½ã€‚ è¡¨ä¸»é”®ï¼šMyISAMå…è®¸æ²¡æœ‰ä»»ä½•ç´¢å¼•å’Œä¸»é”®çš„è¡¨å­˜åœ¨ï¼Œç´¢å¼•éƒ½æ˜¯ä¿å­˜è¡Œçš„åœ°å€ã€‚å¯¹äºInnoDBï¼Œå¦‚æœæ²¡æœ‰è®¾å®šä¸»é”®æˆ–è€…éç©ºå”¯ä¸€ç´¢å¼•ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª6å­—èŠ‚çš„ä¸»é”®(ç”¨æˆ·ä¸å¯è§)ï¼Œæ•°æ®æ˜¯ä¸»ç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œé™„åŠ ç´¢å¼•ä¿å­˜çš„æ˜¯ä¸»ç´¢å¼•çš„å€¼ã€‚ è¡¨çš„å…·ä½“è¡Œæ•°ï¼šMyISAMä¿å­˜è¡¨çš„æ€»è¡Œæ•°ï¼Œselect count() from table;ä¼šç›´æ¥å–å‡ºå‡ºè¯¥å€¼ï¼›è€ŒInnoDBæ²¡æœ‰ä¿å­˜è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœä½¿ç”¨select count() from tableï¼›å°±ä¼šéå†æ•´ä¸ªè¡¨ï¼Œæ¶ˆè€—ç›¸å½“å¤§ï¼Œä½†æ˜¯åœ¨åŠ äº†wehreæ¡ä»¶åï¼Œmyisamå’Œinnodbå¤„ç†çš„æ–¹å¼éƒ½ä¸€æ ·ã€‚ CURDæ“ä½œï¼šåœ¨MyISAMä¸­ï¼Œå¦‚æœæ‰§è¡Œå¤§é‡çš„SELECTï¼ŒMyISAMæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å¯¹äºInnoDBï¼Œå¦‚æœä½ çš„æ•°æ®æ‰§è¡Œå¤§é‡çš„INSERTæˆ–UPDATEï¼Œå‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼Œåº”è¯¥ä½¿ç”¨InnoDBè¡¨ã€‚DELETEä»æ€§èƒ½ä¸ŠInnoDBæ›´ä¼˜ï¼Œä½†DELETE FROM tableæ—¶ï¼ŒInnoDBä¸ä¼šé‡æ–°å»ºç«‹è¡¨ï¼Œè€Œæ˜¯ä¸€è¡Œä¸€è¡Œçš„åˆ é™¤ï¼Œåœ¨innodbä¸Šå¦‚æœè¦æ¸…ç©ºä¿å­˜æœ‰å¤§é‡æ•°æ®çš„è¡¨ï¼Œæœ€å¥½ä½¿ç”¨truncate tableè¿™ä¸ªå‘½ä»¤ã€‚ å¤–é”®ï¼šMyISAMä¸æ”¯æŒå¤–é”®ï¼Œè€ŒInnoDBæ”¯æŒå¤–é”®ã€‚ é€šè¿‡ä¸Šè¿°çš„åˆ†æï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è€ƒè™‘ä½¿ç”¨InnoDBæ¥æ›¿ä»£MyISAMå¼•æ“äº†ï¼ŒåŸå› æ˜¯InnoDBè‡ªèº«å¾ˆå¤šè‰¯å¥½çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚äº‹åŠ¡æ”¯æŒã€å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€è¡Œçº§é”ã€å¤–é”®ç­‰ç­‰ã€‚å°¤å…¶åœ¨å¹¶å‘å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œç›¸ä¿¡InnoDBçš„è¡¨ç°è‚¯å®šè¦æ¯”MyISAMå¼ºå¾ˆå¤šã€‚å¦å¤–ï¼Œå¿…é¡»éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»»ä½•ä¸€ç§è¡¨éƒ½ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œåˆé€‚çš„æ‰æ˜¯æœ€å¥½çš„ï¼Œæ‰èƒ½æœ€å¤§çš„å‘æŒ¥MySQLçš„æ€§èƒ½ä¼˜åŠ¿ã€‚å¦‚æœæ˜¯ä¸å¤æ‚çš„ã€éå…³é”®çš„Webåº”ç”¨ï¼Œè¿˜æ˜¯å¯ä»¥ç»§ç»­è€ƒè™‘MyISAMçš„ï¼Œè¿™ä¸ªå…·ä½“æƒ…å†µå…·ä½“è€ƒè™‘ã€‚ 14ï¼‰MyIASMå’ŒInnodbä¸¤ç§å¼•æ“æ‰€ä½¿ç”¨çš„ç´¢å¼•çš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿç­”æ¡ˆ:éƒ½æ˜¯B+æ ‘! MyIASMå¼•æ“ï¼ŒB+æ ‘çš„æ•°æ®ç»“æ„ä¸­å­˜å‚¨çš„å†…å®¹å®é™…ä¸Šæ˜¯å®é™…æ•°æ®çš„åœ°å€å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒçš„ç´¢å¼•å’Œå®é™…æ•°æ®æ˜¯åˆ†å¼€çš„ï¼Œåªä¸è¿‡ä½¿ç”¨ç´¢å¼•æŒ‡å‘äº†å®é™…æ•°æ®ã€‚è¿™ç§ç´¢å¼•çš„æ¨¡å¼è¢«ç§°ä¸ºéèšé›†ç´¢å¼•ã€‚ Innodbå¼•æ“çš„ç´¢å¼•çš„æ•°æ®ç»“æ„ä¹Ÿæ˜¯B+æ ‘ï¼Œåªä¸è¿‡æ•°æ®ç»“æ„ä¸­å­˜å‚¨çš„éƒ½æ˜¯å®é™…çš„æ•°æ®ï¼Œè¿™ç§ç´¢å¼•æœ‰è¢«ç§°ä¸ºèšé›†ç´¢å¼•ã€‚ 15ï¼‰varcharå’Œcharçš„åŒºåˆ«charæ˜¯ä¸€ç§å›ºå®šé•¿åº¦çš„ç±»å‹ï¼Œvarcharæ˜¯ä¸€ç§å¯å˜é•¿åº¦çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š å®šä¹‰ä¸€ä¸ªchar[10]å’Œvarchar[10]ï¼Œå¦‚æœå­˜è¿›å»çš„æ˜¯ â€˜testâ€™ï¼Œé‚£ä¹ˆcharæ‰€å çš„é•¿åº¦ä¾ç„¶ä¸º10ï¼Œé™¤äº†å­—ç¬¦ â€˜testâ€™ å¤–ï¼Œåé¢è·Ÿå…­ä¸ªç©ºæ ¼ï¼Œvarcharå°±ç«‹é©¬æŠŠé•¿åº¦å˜ä¸º4äº†ï¼Œå–æ•°æ®çš„æ—¶å€™ï¼Œcharç±»å‹çš„è¦ç”¨trim()å»æ‰å¤šä½™çš„ç©ºæ ¼ï¼Œè€Œvarcharæ˜¯ä¸éœ€è¦çš„ charçš„å­˜å–é€Ÿåº¦è¿˜æ˜¯è¦æ¯”varcharè¦å¿«å¾—å¤šï¼Œå› ä¸ºå…¶é•¿åº¦å›ºå®šï¼Œæ–¹ä¾¿ç¨‹åºçš„å­˜å‚¨äºæŸ¥æ‰¾ charä¹Ÿä¸ºæ­¤ä»˜å‡ºçš„æ˜¯ç©ºé—´çš„ä»£ä»·ï¼Œå› ä¸ºå…¶é•¿åº¦å›ºå®šï¼Œæ‰€ä»¥éš¾å…ä¼šæœ‰å¤šä½™çš„ç©ºæ ¼å ä½ç¬¦å æ®ç©ºé—´ï¼Œå¯è°“æ˜¯ä»¥ç©ºé—´æ¢å–æ—¶é—´æ•ˆç‡ã€‚ varcharæ˜¯ä»¥ç©ºé—´æ•ˆç‡ä¸ºé¦–ä½ã€‚ charçš„å­˜å‚¨æ–¹å¼æ˜¯ï¼šå¯¹è‹±æ–‡å­—ç¬¦ï¼ˆASCIIï¼‰å ç”¨1ä¸ªå­—èŠ‚ï¼Œå¯¹ä¸€ä¸ªæ±‰å­—å ç”¨ä¸¤ä¸ªå­—èŠ‚ã€‚ varcharçš„å­˜å‚¨æ–¹å¼æ˜¯ï¼šå¯¹æ¯ä¸ªè‹±æ–‡å­—ç¬¦å ç”¨2ä¸ªå­—èŠ‚ï¼Œæ±‰å­—ä¹Ÿå ç”¨2ä¸ªå­—èŠ‚ã€‚ä¸¤è€…çš„å­˜å‚¨æ•°æ®éƒ½éunicodeçš„å­—ç¬¦æ•°æ®ã€‚ 16ï¼‰ä¸»é”®ã€è‡ªå¢ä¸»é”®ã€ä¸»é”®ç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•æ¦‚å¿µåŒºåˆ« ä¸»é”®ï¼šæŒ‡å­—æ®µ å”¯ä¸€ã€ä¸ä¸ºç©ºå€¼ çš„åˆ—ï¼› ä¸»é”®ç´¢å¼•ï¼šæŒ‡çš„å°±æ˜¯ä¸»é”®ï¼Œä¸»é”®æ˜¯ç´¢å¼•çš„ä¸€ç§ï¼Œæ˜¯å”¯ä¸€ç´¢å¼•çš„ç‰¹æ®Šç±»å‹ã€‚åˆ›å»ºä¸»é”®çš„æ—¶å€™ï¼Œæ•°æ®åº“é»˜è®¤ä¼šä¸ºä¸»é”®åˆ›å»ºä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼› è‡ªå¢ä¸»é”®ï¼šå­—æ®µç±»å‹ä¸ºæ•°å­—ã€è‡ªå¢ã€å¹¶ä¸”æ˜¯ä¸»é”®ï¼› å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚ä¸»é”®æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œè¿™æ ·è¯´æ²¡é”™ï¼›ä½†åè¿‡æ¥è¯´ï¼Œå”¯ä¸€ç´¢å¼•ä¹Ÿæ˜¯ä¸»é”®å°±é”™è¯¯äº†ï¼Œå› ä¸ºå”¯ä¸€ç´¢å¼•å…è®¸ç©ºå€¼ï¼Œä¸»é”®ä¸å…è®¸æœ‰ç©ºå€¼ï¼Œæ‰€ä»¥ä¸èƒ½è¯´å”¯ä¸€ç´¢å¼•ä¹Ÿæ˜¯ä¸»é”®ã€‚ 17ï¼‰ä¸»é”®å°±æ˜¯èšé›†ç´¢å¼•å—ï¼Ÿä¸»é”®å’Œç´¢å¼•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸»é”®æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€æ€§ç´¢å¼•ï¼Œå…¶å¯ä»¥æ˜¯èšé›†ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥æ˜¯éèšé›†ç´¢å¼•ã€‚åœ¨SQLServerä¸­ï¼Œä¸»é”®çš„åˆ›å»ºå¿…é¡»ä¾èµ–äºç´¢å¼•ï¼Œé»˜è®¤åˆ›å»ºçš„æ˜¯èšé›†ç´¢å¼•ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¾å¼æŒ‡å®šä¸ºéèšé›†ç´¢å¼•ã€‚InnoDBä½œä¸ºMySQLå­˜å‚¨å¼•æ“æ—¶ï¼Œé»˜è®¤æŒ‰ç…§ä¸»é”®è¿›è¡Œèšé›†ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnoDBä¼šè¯•ç€ä½¿ç”¨å”¯ä¸€çš„éç©ºç´¢å¼•æ¥ä»£æ›¿ã€‚å¦‚æœæ²¡æœ‰è¿™ç§ç´¢å¼•ï¼ŒInnoDBå°±ä¼šå®šä¹‰éšè—çš„ä¸»é”®ç„¶ååœ¨ä¸Šé¢è¿›è¡Œèšé›†ã€‚æ‰€ä»¥ï¼Œå¯¹äºèšé›†ç´¢å¼•æ¥è¯´ï¼Œä½ åˆ›å»ºä¸»é”®çš„æ—¶å€™ï¼Œè‡ªåŠ¨å°±åˆ›å»ºäº†ä¸»é”®çš„èšé›†ç´¢å¼•ã€‚ 18ï¼‰å®è·µä¸­å¦‚ä½•ä¼˜åŒ–MySQLå®è·µä¸­ï¼ŒMySQLçš„ä¼˜åŒ–ä¸»è¦æ¶‰åŠSQLè¯­å¥åŠç´¢å¼•çš„ä¼˜åŒ–ã€æ•°æ®è¡¨ç»“æ„çš„ä¼˜åŒ–ã€ç³»ç»Ÿé…ç½®çš„ä¼˜åŒ–å’Œç¡¬ä»¶çš„ä¼˜åŒ–å››ä¸ªæ–¹é¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â‘´ SQLè¯­å¥ä¼˜åŒ–ï¼šSQLè¯­å¥çš„ä¼˜åŒ–ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªé—®é¢˜ï¼Œå³å¦‚ä½•å‘ç°æœ‰é—®é¢˜çš„SQLã€å¦‚ä½•åˆ†æSQLçš„æ‰§è¡Œè®¡åˆ’ä»¥åŠå¦‚ä½•ä¼˜åŒ–SQLï¼Œä¸‹é¢å°†é€ä¸€è§£é‡Šã€‚ â‘  æ€ä¹ˆå‘ç°æœ‰é—®é¢˜çš„SQL?ï¼ˆé€šè¿‡MySQLæ…¢æŸ¥è¯¢æ—¥å¿—å¯¹æœ‰æ•ˆç‡é—®é¢˜çš„SQLè¿›è¡Œç›‘æ§ï¼‰ MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯MySQLæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨æ¥è®°å½•åœ¨MySQLä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡long_query_timeå€¼çš„SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long_query_timeçš„é»˜è®¤å€¼ä¸º10ï¼Œæ„æ€æ˜¯è¿è¡Œ10sä»¥ä¸Šçš„è¯­å¥ã€‚æ…¢æŸ¥è¯¢æ—¥å¿—çš„ç›¸å…³å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š é€šè¿‡MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢å‡ºæ‰§è¡Œçš„æ¬¡æ•°å¤šå ç”¨çš„æ—¶é—´é•¿çš„SQLã€å¯ä»¥é€šè¿‡pt_query_disgest(ä¸€ç§mysqlæ…¢æ—¥å¿—åˆ†æå·¥å…·)åˆ†æRows examine(MySQLæ‰§è¡Œå™¨éœ€è¦æ£€æŸ¥çš„è¡Œæ•°)é¡¹å»æ‰¾å‡ºIOå¤§çš„SQLä»¥åŠå‘ç°æœªå‘½ä¸­ç´¢å¼•çš„SQLï¼Œå¯¹äºè¿™äº›SQLï¼Œéƒ½æ˜¯æˆ‘ä»¬ä¼˜åŒ–çš„å¯¹è±¡ã€‚ â‘¡ é€šè¿‡explainæŸ¥è¯¢å’Œåˆ†æSQLçš„æ‰§è¡Œè®¡åˆ’ï¼š ä½¿ç”¨ EXPLAIN å…³é”®å­—å¯ä»¥çŸ¥é“MySQLæ˜¯å¦‚ä½•å¤„ç†ä½ çš„SQLè¯­å¥çš„ï¼Œä»¥ä¾¿åˆ†ææŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚é€šè¿‡explainå‘½ä»¤å¯ä»¥å¾—åˆ°è¡¨çš„è¯»å–é¡ºåºã€æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹ã€å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨ã€å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨ã€è¡¨ä¹‹é—´çš„å¼•ç”¨ä»¥åŠæ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢ç­‰é—®é¢˜ã€‚å½“æ‰©å±•åˆ—extraå‡ºç°Using filesortå’ŒUsing temporayï¼Œåˆ™å¾€å¾€è¡¨ç¤ºSQLéœ€è¦ä¼˜åŒ–äº†ã€‚ â‘¢ SQLè¯­å¥çš„ä¼˜åŒ–ï¼š â’ˆä¼˜åŒ–insertè¯­å¥ï¼šä¸€æ¬¡æ’å…¥å¤šå€¼ï¼› â’‰åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼› â’Šåº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œnullå€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼› â’‹ä¼˜åŒ–åµŒå¥—æŸ¥è¯¢ï¼šå­æŸ¥è¯¢å¯ä»¥è¢«æ›´æœ‰æ•ˆç‡çš„è¿æ¥(Join)æ›¿ä»£ï¼› â’Œå¾ˆå¤šæ—¶å€™ç”¨ exists ä»£æ›¿ in æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚ â’é€‰æ‹©æœ€æœ‰æ•ˆç‡çš„è¡¨åé¡ºåºï¼šæ•°æ®åº“çš„è§£æå™¨æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºå¤„ç†FROMå­å¥ä¸­çš„è¡¨åï¼ŒFROMå­å¥ä¸­å†™åœ¨æœ€åçš„è¡¨å°†è¢«æœ€å…ˆå¤„ç† åœ¨FROMå­å¥ä¸­åŒ…å«å¤šä¸ªè¡¨çš„æƒ…å†µä¸‹ï¼š å¦‚æœä¸‰ä¸ªè¡¨æ˜¯å®Œå…¨æ— å…³ç³»çš„è¯ï¼Œå°†è®°å½•å’Œåˆ—åæœ€å°‘çš„è¡¨ï¼Œå†™åœ¨æœ€åï¼Œç„¶åä¾æ¬¡ç±»æ¨ ä¹Ÿå°±æ˜¯è¯´ï¼šé€‰æ‹©è®°å½•æ¡æ•°æœ€å°‘çš„è¡¨æ”¾åœ¨æœ€å å¦‚æœæœ‰3ä¸ªä»¥ä¸Šçš„è¡¨è¿æ¥æŸ¥è¯¢ï¼š å¦‚æœä¸‰ä¸ªè¡¨æ˜¯æœ‰å…³ç³»çš„è¯ï¼Œå°†å¼•ç”¨æœ€å¤šçš„è¡¨ï¼Œæ”¾åœ¨æœ€åï¼Œç„¶åä¾æ¬¡ç±»æ¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼šè¢«å…¶ä»–è¡¨æ‰€å¼•ç”¨çš„è¡¨æ”¾åœ¨æœ€å â’ç”¨INä»£æ›¿ORï¼š select * from emp where sal = 1500 or sal = 3000 or sal = 800; select * from emp where sal in (1500,3000,800); â’SELECTå­å¥ä¸­é¿å…ä½¿ç”¨*å·ï¼š æˆ‘ä»¬æœ€å¼€å§‹æ¥è§¦ SQL çš„æ—¶å€™ï¼Œâ€œ*â€ å·æ˜¯å¯ä»¥è·å–è¡¨ä¸­å…¨éƒ¨çš„å­—æ®µæ•°æ®çš„ï¼Œä½†æ˜¯å®ƒè¦é€šè¿‡æŸ¥è¯¢æ•°æ®å­—å…¸å®Œæˆï¼Œè¿™æ„å‘³ç€å°†æ¶ˆè€—æ›´å¤šçš„æ—¶é—´ï¼Œè€Œä¸”ä½¿ç”¨ â€œ*â€ å·å†™å‡ºæ¥çš„ SQL è¯­å¥ä¹Ÿä¸å¤Ÿç›´è§‚ã€‚ â‘µ ç´¢å¼•ä¼˜åŒ–ï¼šå»ºè®®åœ¨ç»å¸¸ä½œæŸ¥è¯¢é€‰æ‹©çš„å­—æ®µã€ç»å¸¸ä½œè¡¨è¿æ¥çš„å­—æ®µä»¥åŠç»å¸¸å‡ºç°åœ¨ order byã€group byã€distinct åé¢çš„å­—æ®µä¸­å»ºç«‹ç´¢å¼•ã€‚ä½†å¿…é¡»æ³¨æ„ä»¥ä¸‹å‡ ç§å¯èƒ½ä¼šå¼•èµ·ç´¢å¼•å¤±æ•ˆçš„æƒ…å½¢ï¼š ä»¥ â€œ%(è¡¨ç¤ºä»»æ„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦)â€ å¼€å¤´çš„ LIKE è¯­å¥ï¼Œæ¨¡ç³ŠåŒ¹é…ï¼› ORè¯­å¥å‰åæ²¡æœ‰åŒæ—¶ä½¿ç”¨ç´¢å¼•ï¼› æ•°æ®ç±»å‹å‡ºç°éšå¼è½¬åŒ–ï¼ˆå¦‚varcharä¸åŠ å•å¼•å·çš„è¯å¯èƒ½ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºintå‹ï¼‰ï¼› å¯¹äºå¤šåˆ—ç´¢å¼•ï¼Œå¿…é¡»æ»¡è¶³æœ€å·¦åŒ¹é…åŸåˆ™(eg,å¤šåˆ—ç´¢å¼•col1ã€col2å’Œcol3ï¼Œåˆ™ ç´¢å¼•ç”Ÿæ•ˆçš„æƒ…å½¢åŒ…æ‹¬col1æˆ–col1ï¼Œcol2æˆ–col1ï¼Œcol2ï¼Œcol3)ã€‚ â‘¶ æ•°æ®åº“è¡¨ç»“æ„çš„ä¼˜åŒ–ï¼šâ‘  é€‰æ‹©åˆé€‚æ•°æ®ç±»å‹ï¼š ä½¿ç”¨è¾ƒå°çš„æ•°æ®ç±»å‹è§£å†³é—®é¢˜ï¼› ä½¿ç”¨ç®€å•çš„æ•°æ®ç±»å‹(mysqlå¤„ç†intè¦æ¯”varcharå®¹æ˜“)ï¼› å°½å¯èƒ½çš„ä½¿ç”¨not null å®šä¹‰å­—æ®µï¼› å°½é‡é¿å…ä½¿ç”¨textç±»å‹ï¼Œéç”¨ä¸å¯æ—¶æœ€å¥½è€ƒè™‘åˆ†è¡¨ï¼› â‘¡ è¡¨çš„èŒƒå¼çš„ä¼˜åŒ–ï¼š ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¡¨çš„è®¾è®¡åº”è¯¥éµå¾ªä¸‰å¤§èŒƒå¼ã€‚ â‘¢ è¡¨çš„å‚ç›´æ‹†åˆ†ï¼š æŠŠå«æœ‰å¤šä¸ªåˆ—çš„è¡¨æ‹†åˆ†æˆå¤šä¸ªè¡¨ï¼Œè§£å†³è¡¨å®½åº¦é—®é¢˜ï¼Œå…·ä½“åŒ…æ‹¬ä»¥ä¸‹å‡ ç§æ‹†åˆ†æ‰‹æ®µï¼š æŠŠä¸å¸¸ç”¨çš„å­—æ®µå•ç‹¬æ”¾åœ¨åŒä¸€ä¸ªè¡¨ä¸­ï¼› æŠŠå¤§å­—æ®µç‹¬ç«‹æ”¾å…¥ä¸€ä¸ªè¡¨ä¸­ï¼› æŠŠç»å¸¸ä½¿ç”¨çš„å­—æ®µæ”¾åœ¨ä¸€èµ·ï¼› è¿™æ ·åšçš„å¥½å¤„æ˜¯éå¸¸æ˜æ˜¾çš„ï¼Œå…·ä½“åŒ…æ‹¬ï¼šæ‹†åˆ†åä¸šåŠ¡æ¸…æ™°ï¼Œæ‹†åˆ†è§„åˆ™æ˜ç¡®ã€ç³»ç»Ÿä¹‹é—´æ•´åˆæˆ–æ‰©å±•å®¹æ˜“ã€æ•°æ®ç»´æŠ¤ç®€å• â‘£ è¡¨çš„æ°´å¹³æ‹†åˆ†ï¼š è¡¨çš„æ°´å¹³æ‹†åˆ†ç”¨äºè§£å†³æ•°æ®è¡¨ä¸­æ•°æ®è¿‡å¤§çš„é—®é¢˜ï¼Œæ°´å¹³æ‹†åˆ†æ¯ä¸€ä¸ªè¡¨çš„ç»“æ„éƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ä¸€èˆ¬åœ°ï¼Œå°†æ•°æ®å¹³åˆ†åˆ°Nå¼ è¡¨ä¸­çš„å¸¸ç”¨æ–¹æ³•åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§ï¼š å¯¹IDè¿›è¡Œhashè¿ç®—ï¼Œå¦‚æœè¦æ‹†åˆ†æˆ5ä¸ªè¡¨ï¼Œmod(id,5)å–å‡º0~4ä¸ªå€¼ï¼› é’ˆå¯¹ä¸åŒçš„hashIDå°†æ•°æ®å­˜å…¥ä¸åŒçš„è¡¨ä¸­ï¼› è¡¨çš„æ°´å¹³æ‹†åˆ†ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜å’ŒæŒ‘æˆ˜ï¼ŒåŒ…æ‹¬è·¨åˆ†åŒºè¡¨çš„æ•°æ®æŸ¥è¯¢ã€ç»Ÿè®¡åŠåå°æŠ¥è¡¨çš„æ“ä½œç­‰é—®é¢˜ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€äº›åˆ‡å®çš„å¥½å¤„ï¼š è¡¨åˆ†å‰²åå¯ä»¥é™ä½åœ¨æŸ¥è¯¢æ—¶éœ€è¦è¯»çš„æ•°æ®å’Œç´¢å¼•çš„é¡µæ•°ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†ç´¢å¼•çš„å±‚æ•°ï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦ï¼› è¡¨ä¸­çš„æ•°æ®æœ¬æ¥å°±æœ‰ç‹¬ç«‹æ€§ï¼Œä¾‹å¦‚è¡¨ä¸­åˆ†åˆ«è®°å½•å„ä¸ªåœ°åŒºçš„æ•°æ®æˆ–ä¸åŒæ—¶æœŸçš„æ•°æ®ï¼Œç‰¹åˆ«æ˜¯æœ‰äº›æ•°æ®å¸¸ç”¨ï¼Œè€Œå¦å¤–ä¸€äº›æ•°æ®ä¸å¸¸ç”¨ã€‚ éœ€è¦æŠŠæ•°æ®å­˜æ”¾åˆ°å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œæé«˜ç³»ç»Ÿçš„æ€»ä½“å¯ç”¨æ€§(åˆ†åº“ï¼Œé¸¡è›‹ä¸èƒ½æ”¾åœ¨åŒä¸€ä¸ªç¯®å­é‡Œ)ã€‚ â‘· ç³»ç»Ÿé…ç½®çš„ä¼˜åŒ–ï¼š æ“ä½œç³»ç»Ÿé…ç½®çš„ä¼˜åŒ–ï¼šå¢åŠ TCPæ”¯æŒçš„é˜Ÿåˆ—æ•° mysqlé…ç½®æ–‡ä»¶ä¼˜åŒ–ï¼šInnodbç¼“å­˜æ± è®¾ç½®(innodb_buffer_pool_sizeï¼Œæ¨èæ€»å†…å­˜çš„75%)å’Œç¼“å­˜æ± çš„ä¸ªæ•°ï¼ˆinnodb_buffer_pool_instancesï¼‰ â‘¸ ç¡¬ä»¶çš„ä¼˜åŒ–ï¼š CPUï¼šæ ¸å¿ƒæ•°å¤šå¹¶ä¸”ä¸»é¢‘é«˜çš„ å†…å­˜ï¼šå¢å¤§å†…å­˜ ç£ç›˜é…ç½®å’Œé€‰æ‹©ï¼šç£ç›˜æ€§èƒ½ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(äº”)â€”â€”ç½‘ç»œåè®®ç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-äº”-â€”â€”ç½‘ç»œå†™ä¸€ç¯‡","date":"2018-05-17T23:05:00.000Z","updated":"2020-08-03T08:56:53.077Z","comments":true,"path":"2018/05/18/java-mian-shi-zhi-shi-dian-jie-xi-wu-wang-luo-xie-yi-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/18/java-mian-shi-zhi-shi-dian-jie-xi-wu-wang-luo-xie-yi-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(å››)â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡ å‰æ’å¼•ç”¨è¯´æ˜åŠå¥½æ–‡æ¨èï¼šé¢è¯•/ç¬”è¯•ç¬¬ä¸€å¼¹ â€”â€” è®¡ç®—æœºç½‘ç»œé¢è¯•é—®é¢˜é›†é”¦â€”â€”ä¹¦å‘†å­Rico ï¼ˆä¸€ï¼‰ç½‘ç»œåŸºç¡€çŸ¥è¯†1ï¼‰Httpå’ŒHttpsçš„åŒºåˆ«ï¼Ÿç­”ï¼šHttpåè®®è¿è¡Œåœ¨TCPä¹‹ä¸Šï¼Œæ˜æ–‡ä¼ è¾“ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯éƒ½æ— æ³•éªŒè¯å¯¹æ–¹çš„èº«ä»½ï¼›Httpsæ˜¯èº«æŠ«SSL(Secure Socket Layer)å¤–å£³çš„Httpï¼Œè¿è¡ŒäºSSLä¸Šï¼ŒSSLè¿è¡ŒäºTCPä¹‹ä¸Šï¼Œæ˜¯æ·»åŠ äº†åŠ å¯†å’Œè®¤è¯æœºåˆ¶çš„HTTPã€‚äºŒè€…ä¹‹é—´å­˜åœ¨å¦‚ä¸‹ä¸åŒï¼š ç«¯å£ä¸åŒï¼šHttpä¸Httpä½¿ç”¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ï¼› èµ„æºæ¶ˆè€—ï¼šå’ŒHTTPé€šä¿¡ç›¸æ¯”ï¼ŒHttpsé€šä¿¡ä¼šç”±äºåŠ å‡å¯†å¤„ç†æ¶ˆè€—æ›´å¤šçš„CPUå’Œå†…å­˜èµ„æºï¼› å¼€é”€ï¼šHttpsé€šä¿¡éœ€è¦è¯ä¹¦ï¼Œè€Œè¯ä¹¦ä¸€èˆ¬éœ€è¦å‘è®¤è¯æœºæ„è´­ä¹°ï¼› Httpsçš„åŠ å¯†æœºåˆ¶æ˜¯ä¸€ç§å…±äº«å¯†é’¥åŠ å¯†å’Œå…¬å¼€å¯†é’¥åŠ å¯†å¹¶ç”¨çš„æ··åˆåŠ å¯†æœºåˆ¶ã€‚ 2ï¼‰å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†ç­”ï¼š å¯¹ç§°å¯†é’¥åŠ å¯†æ˜¯æŒ‡åŠ å¯†å’Œè§£å¯†ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å­˜åœ¨çš„æœ€å¤§é—®é¢˜å°±æ˜¯å¯†é’¥å‘é€é—®é¢˜ï¼Œå³å¦‚ä½•å®‰å…¨åœ°å°†å¯†é’¥å‘ç»™å¯¹æ–¹ï¼›è€Œéå¯¹ç§°åŠ å¯†æ˜¯æŒ‡ä½¿ç”¨ä¸€å¯¹éå¯¹ç§°å¯†é’¥ï¼Œå³å…¬é’¥å’Œç§é’¥ï¼Œå…¬é’¥å¯ä»¥éšæ„å‘å¸ƒï¼Œä½†ç§é’¥åªæœ‰è‡ªå·±çŸ¥é“ã€‚å‘é€å¯†æ–‡çš„ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬é’¥è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œå¯¹æ–¹æ¥æ”¶åˆ°åŠ å¯†ä¿¡æ¯åï¼Œä½¿ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚ ç”±äºéå¯¹ç§°åŠ å¯†çš„æ–¹å¼ä¸éœ€è¦å‘é€ç”¨æ¥è§£å¯†çš„ç§é’¥ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯å®‰å…¨æ€§ï¼›ä½†æ˜¯å’Œå¯¹ç§°åŠ å¯†æ¯”èµ·æ¥ï¼Œå®ƒéå¸¸çš„æ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯è¦ç”¨å¯¹ç§°åŠ å¯†æ¥ä¼ é€æ¶ˆæ¯ï¼Œä½†å¯¹ç§°åŠ å¯†æ‰€ä½¿ç”¨çš„å¯†é’¥æˆ‘ä»¬å¯ä»¥é€šè¿‡éå¯¹ç§°åŠ å¯†çš„æ–¹å¼å‘é€å‡ºå»ã€‚ 3ï¼‰ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹ç­”ï¼š (1). ä¸‰æ¬¡æ¡æ‰‹ï¼ˆæˆ‘è¦å’Œä½ å»ºç«‹é“¾æ¥ï¼Œä½ çœŸçš„è¦å’Œæˆ‘å»ºç«‹é“¾æ¥ä¹ˆï¼Œæˆ‘çœŸçš„è¦å’Œä½ å»ºç«‹é“¾æ¥ï¼ŒæˆåŠŸï¼‰ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šClientå°†æ ‡å¿—ä½SYNç½®ä¸º1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªå€¼seq=Jï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™Serverï¼ŒClientè¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…Serverç¡®è®¤ã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šServeræ”¶åˆ°æ•°æ®åŒ…åç”±æ ‡å¿—ä½SYN=1çŸ¥é“Clientè¯·æ±‚å»ºç«‹è¿æ¥ï¼ŒServerå°†æ ‡å¿—ä½SYNå’ŒACKéƒ½ç½®ä¸º1ï¼Œack=J+1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªå€¼seq=Kï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™Clientä»¥ç¡®è®¤è¿æ¥è¯·æ±‚ï¼ŒServerè¿›å…¥SYN_RCVDçŠ¶æ€ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šClientæ”¶åˆ°ç¡®è®¤åï¼Œæ£€æŸ¥ackæ˜¯å¦ä¸ºJ+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™å°†æ ‡å¿—ä½ACKç½®ä¸º1ï¼Œack=K+1ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™Serverï¼ŒServeræ£€æŸ¥ackæ˜¯å¦ä¸ºK+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™è¿æ¥å»ºç«‹æˆåŠŸï¼ŒClientå’ŒServerè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼ŒéšåClientä¸Serverä¹‹é—´å¯ä»¥å¼€å§‹ä¼ è¾“æ•°æ®äº†ã€‚ (2). å››æ¬¡æŒ¥æ‰‹ï¼ˆæˆ‘è¦å’Œä½ æ–­å¼€é“¾æ¥ï¼›å¥½çš„ï¼Œæ–­å§ã€‚æˆ‘ä¹Ÿè¦å’Œä½ æ–­å¼€é“¾æ¥ï¼›å¥½çš„ï¼Œæ–­å§ï¼‰ï¼š ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šClientå‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­Clientåˆ°Serverçš„æ•°æ®ä¼ é€ï¼ŒClientè¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šServeræ”¶åˆ°FINåï¼Œå‘é€ä¸€ä¸ªACKç»™Clientï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ˆä¸SYNç›¸åŒï¼Œä¸€ä¸ªFINå ç”¨ä¸€ä¸ªåºå·ï¼‰ï¼ŒServerè¿›å…¥CLOSE_WAITçŠ¶æ€ã€‚æ­¤æ—¶TCPé“¾æ¥å¤„äºåŠå…³é—­çŠ¶æ€ï¼Œå³å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰è¦å‘é€çš„æ•°æ®äº†ï¼Œä½†æœåŠ¡ç«¯è‹¥å‘é€æ•°æ®ï¼Œåˆ™å®¢æˆ·ç«¯ä»è¦æ¥æ”¶ã€‚ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šServerå‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­Serveråˆ°Clientçš„æ•°æ®ä¼ é€ï¼ŒServerè¿›å…¥LAST_ACKçŠ¶æ€ã€‚ ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šClientæ”¶åˆ°FINåï¼ŒClientè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œæ¥ç€å‘é€ä¸€ä¸ªACKç»™Serverï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ŒServerè¿›å…¥CLOSEDçŠ¶æ€ï¼Œå®Œæˆå››æ¬¡æŒ¥æ‰‹ã€‚ (3). é€šä¿—ä¸€ç‚¹çš„ç†è§£å°±æ˜¯ï¼š 4ï¼‰ä¸ºä»€ä¹ˆ TCP é“¾æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡ä¸å¯ä»¥ä¹ˆï¼Ÿç­”ï¼šâ€œä¸‰æ¬¡æ¡æ‰‹â€ çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„é“¾æ¥è¯·æ±‚æŠ¥æ–‡çªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚ æ­£å¸¸çš„æƒ…å†µï¼šA å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œä½†å› è¿æ¥è¯·æ±‚æŠ¥æ–‡ä¸¢å¤±è€Œæœªæ”¶åˆ°ç¡®è®¤ï¼Œäºæ˜¯ A å†é‡ä¼ ä¸€æ¬¡è¿æ¥è¯·æ±‚ã€‚åæ¥æ”¶åˆ°äº†ç¡®è®¤ï¼Œå»ºç«‹äº†è¿æ¥ã€‚æ•°æ®ä¼ è¾“å®Œæ¯•åï¼Œå°±é‡Šæ”¾äº†è¿æ¥ã€‚A å…±å‘é€äº†ä¸¤ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªä¸¢å¤±ï¼Œç¬¬äºŒä¸ªåˆ°è¾¾äº† Bã€‚æ²¡æœ‰ â€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€ã€‚ ç°å‡å®šå‡ºç°äº†ä¸€ç§å¼‚å¸¸æƒ…å†µï¼šå³ A å‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾ Bã€‚æœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µã€‚ä½† B æ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯ A å†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚äºæ˜¯å°±å‘ A å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ã€‚ å‡è®¾ä¸é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œé‚£ä¹ˆåªè¦ B å‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ã€‚ç”±äºç°åœ¨ A å¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬ B çš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘ B å‘é€æ•°æ®ã€‚ä½† B å´ä»¥ä¸ºæ–°çš„è¿è¾“è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾… A å‘æ¥æ•°æ®ã€‚è¿™æ ·ï¼ŒB çš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿã€‚ 5ï¼‰ä¸ºä»€ä¹ˆè¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿç­”ï¼šTCP åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„è¿è¾“å±‚é€šä¿¡åè®®ã€‚TCP æ˜¯å…¨åŒå·¥æ¨¡å¼ï¼Œè¿™å°±æ„å‘³ç€ï¼Œå½“ A å‘ B å‘å‡º FIN æŠ¥æ–‡æ®µæ—¶ï¼Œåªæ˜¯è¡¨ç¤º A å·²ç»æ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œè€Œæ­¤æ—¶ A è¿˜æ˜¯èƒ½å¤Ÿæ¥å—åˆ°æ¥è‡ª B å‘å‡ºçš„æ•°æ®ï¼›B å‘ A å‘å‡º ACK æŠ¥æ–‡æ®µä¹Ÿåªæ˜¯å‘Šè¯‰ A ï¼Œå®ƒè‡ªå·±çŸ¥é“ A æ²¡æœ‰æ•°æ®è¦å‘äº†ï¼Œä½† B è¿˜æ˜¯èƒ½å¤Ÿå‘ A å‘é€æ•°æ®ã€‚ æ‰€ä»¥æƒ³è¦æ„‰å¿«çš„ç»“æŸè¿™æ¬¡å¯¹è¯å°±éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚ 6ï¼‰TCP åè®®å¦‚ä½•æ¥ä¿è¯ä¼ è¾“çš„å¯é æ€§ç­”ï¼šTCP æä¾›ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„å­—èŠ‚æµæœåŠ¡ã€‚å…¶ä¸­ï¼Œé¢å‘è¿æ¥æ„å‘³ç€ä¸¤ä¸ªä½¿ç”¨ TCP çš„åº”ç”¨ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå®¢æˆ·å’Œä¸€ä¸ªæœåŠ¡å™¨ï¼‰åœ¨å½¼æ­¤äº¤æ¢æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹ä¸€ä¸ª TCP è¿æ¥ã€‚åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­ï¼Œä»…æœ‰ä¸¤æ–¹è¿›è¡Œå½¼æ­¤é€šä¿¡ï¼›è€Œå­—èŠ‚æµæœåŠ¡æ„å‘³ç€ä¸¤ä¸ªåº”ç”¨ç¨‹åºé€šè¿‡ TCP é“¾æ¥äº¤æ¢ 8 bit å­—èŠ‚æ„æˆçš„å­—èŠ‚æµï¼ŒTCP ä¸åœ¨å­—èŠ‚æµä¸­æ’å…¥è®°å½•æ ‡è¯†ç¬¦ã€‚ å¯¹äºå¯é æ€§ï¼ŒTCPé€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œä¿è¯ï¼š æ•°æ®åŒ…æ ¡éªŒï¼šç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ï¼Œè‹¥æ ¡éªŒå‡ºåŒ…æœ‰é”™ï¼Œåˆ™ä¸¢å¼ƒæŠ¥æ–‡æ®µå¹¶ä¸”ä¸ç»™å‡ºå“åº”ï¼Œè¿™æ—¶TCPå‘é€æ•°æ®ç«¯è¶…æ—¶åä¼šé‡å‘æ•°æ®ï¼› å¯¹å¤±åºæ•°æ®åŒ…é‡æ’åºï¼šæ—¢ç„¶TCPæŠ¥æ–‡æ®µä½œä¸ºIPæ•°æ®æŠ¥æ¥ä¼ è¾“ï¼Œè€ŒIPæ•°æ®æŠ¥çš„åˆ°è¾¾å¯èƒ½ä¼šå¤±åºï¼Œå› æ­¤TCPæŠ¥æ–‡æ®µçš„åˆ°è¾¾ä¹Ÿå¯èƒ½ä¼šå¤±åºã€‚TCPå°†å¯¹å¤±åºæ•°æ®è¿›è¡Œé‡æ–°æ’åºï¼Œç„¶åæ‰äº¤ç»™åº”ç”¨å±‚ï¼› ä¸¢å¼ƒé‡å¤æ•°æ®ï¼šå¯¹äºé‡å¤æ•°æ®ï¼Œèƒ½å¤Ÿä¸¢å¼ƒé‡å¤æ•°æ®ï¼› åº”ç­”æœºåˆ¶ï¼šå½“TCPæ”¶åˆ°å‘è‡ªTCPè¿æ¥å¦ä¸€ç«¯çš„æ•°æ®ï¼Œå®ƒå°†å‘é€ä¸€ä¸ªç¡®è®¤ã€‚è¿™ä¸ªç¡®è®¤ä¸æ˜¯ç«‹å³å‘é€ï¼Œé€šå¸¸å°†æ¨è¿Ÿå‡ åˆ†ä¹‹ä¸€ç§’ï¼› è¶…æ—¶é‡å‘ï¼šå½“TCPå‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µï¼› æµé‡æ§åˆ¶ï¼šTCPè¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ã€‚TCPçš„æ¥æ”¶ç«¯åªå…è®¸å¦ä¸€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºæ‰€èƒ½æ¥çº³çš„æ•°æ®ï¼Œè¿™å¯ä»¥é˜²æ­¢è¾ƒå¿«ä¸»æœºè‡´ä½¿è¾ƒæ…¢ä¸»æœºçš„ç¼“å†²åŒºæº¢å‡ºï¼Œè¿™å°±æ˜¯æµé‡æ§åˆ¶ã€‚TCPä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ 7ï¼‰å®¢æˆ·ç«¯ä¸æ–­è¿›è¡Œè¯·æ±‚é“¾æ¥ä¼šæ€æ ·ï¼ŸDDos(Distributed Denial of Service)æ”»å‡»ï¼Ÿç­”ï¼šæœåŠ¡å™¨ç«¯ä¼šä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªé“¾æ¥ï¼Œå¹¶å‘å…¶å‘é€ç¡®è®¤æŠ¥æ–‡ï¼Œç„¶åç­‰å¾…å®¢æˆ·ç«¯è¿›è¡Œç¡®è®¤ (1). DDos æ”»å‡»ï¼š å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚é“¾æ¥æ•°æ®åŒ… æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€ç¡®è®¤æ•°æ®åŒ… å®¢æˆ·ç«¯ä¸å‘æœåŠ¡ç«¯å‘é€ç¡®è®¤æ•°æ®åŒ…ï¼ŒæœåŠ¡å™¨ä¸€ç›´ç­‰å¾…æ¥è‡ªå®¢æˆ·ç«¯çš„ç¡®è®¤ (2). DDos é¢„é˜²ï¼šï¼ˆæ²¡æœ‰å½»åº•æ ¹æ²»çš„åŠæ³•ï¼Œé™¤éä¸ä½¿ç”¨TCPï¼‰ é™åˆ¶åŒæ—¶æ‰“å¼€SYNåŠé“¾æ¥çš„æ•°ç›® ç¼©çŸ­SYNåŠé“¾æ¥çš„Time out æ—¶é—´ å…³é—­ä¸å¿…è¦çš„æœåŠ¡ 8ï¼‰GET ä¸ POST çš„åŒºåˆ«ï¼Ÿç­”ï¼šGETä¸POSTæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä¸¤ç§HTTP Methodï¼ŒäºŒè€…ä¹‹é—´çš„åŒºåˆ«ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹äº”ä¸ªæ–¹é¢ï¼š (1). ä»åŠŸèƒ½ä¸Šè®²ï¼ŒGETä¸€èˆ¬ç”¨æ¥ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºï¼ŒPOSTä¸€èˆ¬ç”¨æ¥æ›´æ–°æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼› (2). ä»RESTæœåŠ¡è§’åº¦ä¸Šè¯´ï¼ŒGETæ˜¯å¹‚ç­‰çš„ï¼Œå³è¯»å–åŒä¸€ä¸ªèµ„æºï¼Œæ€»æ˜¯å¾—åˆ°ç›¸åŒçš„æ•°æ®ï¼Œè€ŒPOSTä¸æ˜¯å¹‚ç­‰çš„ï¼Œå› ä¸ºæ¯æ¬¡è¯·æ±‚å¯¹èµ„æºçš„æ”¹å˜å¹¶ä¸æ˜¯ç›¸åŒçš„ï¼›è¿›ä¸€æ­¥åœ°ï¼ŒGETä¸ä¼šæ”¹å˜æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œè€ŒPOSTä¼šå¯¹æœåŠ¡å™¨èµ„æºè¿›è¡Œæ”¹å˜ï¼› (3). ä»è¯·æ±‚å‚æ•°å½¢å¼ä¸Šçœ‹ï¼ŒGETè¯·æ±‚çš„æ•°æ®ä¼šé™„åœ¨URLä¹‹åï¼Œå³å°†è¯·æ±‚æ•°æ®æ”¾ç½®åœ¨HTTPæŠ¥æ–‡çš„ è¯·æ±‚å¤´ ä¸­ï¼Œä»¥?åˆ†å‰²URLå’Œä¼ è¾“æ•°æ®ï¼Œå‚æ•°ä¹‹é—´ä»¥&amp;ç›¸è¿ã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœæ•°æ®æ˜¯è‹±æ–‡å­—æ¯/æ•°å­—ï¼ŒåŸæ ·å‘é€ï¼›å¦åˆ™ï¼Œä¼šå°†å…¶ç¼–ç ä¸º application/x-www-form-urlencoded MIME å­—ç¬¦ä¸²(å¦‚æœæ˜¯ç©ºæ ¼ï¼Œè½¬æ¢ä¸º+ï¼Œå¦‚æœæ˜¯ä¸­æ–‡/å…¶ä»–å­—ç¬¦ï¼Œåˆ™ç›´æ¥æŠŠå­—ç¬¦ä¸²ç”¨BASE64åŠ å¯†ï¼Œå¾—å‡ºå¦‚ï¼š%E4%BD%A0%E5%A5%BDï¼Œå…¶ä¸­ï¼…XXä¸­çš„XXä¸ºè¯¥ç¬¦å·ä»¥16è¿›åˆ¶è¡¨ç¤ºçš„ASCII)ï¼›è€ŒPOSTè¯·æ±‚ä¼šæŠŠæäº¤çš„æ•°æ®åˆ™æ”¾ç½®åœ¨æ˜¯HTTPè¯·æ±‚æŠ¥æ–‡çš„ è¯·æ±‚ä½“ ä¸­ã€‚ (4). å°±å®‰å…¨æ€§è€Œè¨€ï¼ŒPOSTçš„å®‰å…¨æ€§è¦æ¯”GETçš„å®‰å…¨æ€§é«˜ï¼Œå› ä¸ºGETè¯·æ±‚æäº¤çš„æ•°æ®å°†æ˜æ–‡å‡ºç°åœ¨URLä¸Šï¼Œè€Œä¸”POSTè¯·æ±‚å‚æ•°åˆ™è¢«åŒ…è£…åˆ°è¯·æ±‚ä½“ä¸­ï¼Œç›¸å¯¹æ›´å®‰å…¨ã€‚ (5). ä»è¯·æ±‚çš„å¤§å°çœ‹ï¼ŒGETè¯·æ±‚çš„é•¿åº¦å—é™äºæµè§ˆå™¨æˆ–æœåŠ¡å™¨å¯¹URLé•¿åº¦çš„é™åˆ¶ï¼Œå…è®¸å‘é€çš„æ•°æ®é‡æ¯”è¾ƒå°ï¼Œè€ŒPOSTè¯·æ±‚åˆ™æ˜¯æ²¡æœ‰å¤§å°é™åˆ¶çš„ã€‚ ä¸ºä»€ä¹ˆåœ¨GETè¯·æ±‚ä¸­ä¼šå¯¹URLè¿›è¡Œç¼–ç ï¼Ÿ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨GETè¯·æ±‚ä¸­ä¼šå¯¹URLä¸­éè¥¿æ–‡å­—ç¬¦è¿›è¡Œç¼–ç ï¼Œè¿™æ ·åšçš„ç›®çš„å°±æ˜¯ä¸ºäº† é¿å…æ­§ä¹‰ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œ é’ˆå¯¹ â€œname1=value1&amp;name2=value2â€ çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥è°ˆä¸€ä¸‹æ•°æ®ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„è§£æè¿‡ç¨‹ã€‚é¦–å…ˆï¼Œä¸Šè¿°å­—ç¬¦ä¸²åœ¨è®¡ç®—æœºä¸­ç”¨ASCIIå—è¡¨ç¤ºä¸ºï¼š 6E616D6531 3D 76616C756531 26 6E616D6532 3D 76616C756532 6E616D6531ï¼šname1 3Dï¼š= 76616C756531ï¼švalue1 26ï¼š&amp; 6E616D6532ï¼šname2 3Dï¼š= 76616C756532ï¼švalue2 æœåŠ¡ç«¯åœ¨æ¥æ”¶åˆ°è¯¥æ•°æ®åå°±å¯ä»¥éå†è¯¥å­—èŠ‚æµï¼Œä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„åƒï¼Œå½“åƒåˆ°3Dè¿™å­—èŠ‚åï¼ŒæœåŠ¡ç«¯å°±çŸ¥é“å‰é¢åƒå¾—å­—èŠ‚è¡¨ç¤ºä¸€ä¸ªkeyï¼Œå†å¾€ååƒï¼Œå¦‚æœé‡åˆ°26ï¼Œè¯´æ˜ä»åˆšæ‰åƒçš„3Dåˆ°26å­èŠ‚ä¹‹é—´çš„æ˜¯ä¸Šä¸€ä¸ªkeyçš„valueï¼Œä»¥æ­¤ç±»æ¨å°±å¯ä»¥è§£æå‡ºå®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„å‚æ•°ã€‚ ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬çš„å‚æ•°å€¼ä¸­å°±åŒ…å«=æˆ–&amp;è¿™ç§ç‰¹æ®Šå­—ç¬¦çš„æ—¶å€™è¯¥æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚ï¼Œâ€œname1=value1â€ï¼Œå…¶ä¸­value1çš„å€¼æ˜¯â€œva&amp;lu=e1â€å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®é™…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å°±ä¼šå˜æˆè¿™æ ·â€œname1=va&amp;lu=e1â€ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„æœ¬æ„æ˜¯åªæœ‰ä¸€ä¸ªé”®å€¼å¯¹ï¼Œä½†æ˜¯æœåŠ¡ç«¯å´ä¼šè§£ææˆä¸¤ä¸ªé”®å€¼å¯¹ï¼Œè¿™æ ·å°±äº§ç”Ÿäº†æ­§ä¹‰ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜å¸¦æ¥çš„æ­§ä¹‰å‘¢ï¼Ÿè§£å†³çš„åŠæ³•å°±æ˜¯å¯¹å‚æ•°è¿›è¡ŒURLç¼–ç ï¼šä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯¹ä¸Šè¿°ä¼šäº§ç”Ÿæ­§ä¹‰çš„å­—ç¬¦è¿›è¡ŒURLç¼–ç åç»“æœï¼šâ€œname1=va%26lu%3Dâ€ï¼Œè¿™æ ·æœåŠ¡ç«¯ä¼šæŠŠç´§è·Ÿåœ¨â€œ%â€åçš„å­—èŠ‚å½“æˆæ™®é€šçš„å­—èŠ‚ï¼Œå°±æ˜¯ä¸ä¼šæŠŠå®ƒå½“æˆå„ä¸ªå‚æ•°æˆ–é”®å€¼å¯¹çš„åˆ†éš”ç¬¦ã€‚ 9ï¼‰TCPä¸UDPçš„åŒºåˆ«ç­”ï¼šTCP (Transmission Control Protocol)å’ŒUDP(User Datagram Protocol)åè®®å±äºä¼ è¾“å±‚åè®®ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åŒ…æ‹¬ï¼š TCPæ˜¯é¢å‘è¿æ¥çš„ï¼ŒUDPæ˜¯æ— è¿æ¥çš„ï¼› TCPæ˜¯å¯é çš„ï¼ŒUDPæ˜¯ä¸å¯é çš„ï¼› TCPåªæ”¯æŒç‚¹å¯¹ç‚¹é€šä¿¡ï¼ŒUDPæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤šçš„é€šä¿¡æ¨¡å¼ï¼› TCPæ˜¯é¢å‘å­—èŠ‚æµçš„ï¼ŒUDPæ˜¯é¢å‘æŠ¥æ–‡çš„ï¼› TCPæœ‰æ‹¥å¡æ§åˆ¶æœºåˆ¶;UDPæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œé€‚åˆåª’ä½“é€šä¿¡ï¼› TCPé¦–éƒ¨å¼€é”€(20ä¸ªå­—èŠ‚)æ¯”UDPçš„é¦–éƒ¨å¼€é”€(8ä¸ªå­—èŠ‚)è¦å¤§ï¼› 10ï¼‰TCPå’ŒUDPåˆ†åˆ«å¯¹åº”çš„å¸¸è§åº”ç”¨å±‚åè®®ç­”ï¼š (1). TCP å¯¹åº”çš„åº”ç”¨å±‚åè®®ï¼š FTPï¼šå®šä¹‰äº†æ–‡ä»¶ä¼ è¾“åè®®ï¼Œä½¿ç”¨21ç«¯å£ã€‚å¸¸è¯´æŸæŸè®¡ç®—æœºå¼€äº†FTPæœåŠ¡ä¾¿æ˜¯å¯åŠ¨äº†æ–‡ä»¶ä¼ è¾“æœåŠ¡ã€‚ä¸‹è½½æ–‡ä»¶ï¼Œä¸Šä¼ ä¸»é¡µï¼Œéƒ½è¦ç”¨åˆ°FTPæœåŠ¡ã€‚ Telnetï¼šå®ƒæ˜¯ä¸€ç§ç”¨äºè¿œç¨‹ç™»é™†çš„ç«¯å£ï¼Œç”¨æˆ·å¯ä»¥ä»¥è‡ªå·±çš„èº«ä»½è¿œç¨‹è¿æ¥åˆ°è®¡ç®—æœºä¸Šï¼Œé€šè¿‡è¿™ç§ç«¯å£å¯ä»¥æä¾›ä¸€ç§åŸºäºDOSæ¨¡å¼ä¸‹çš„é€šä¿¡æœåŠ¡ã€‚å¦‚ä»¥å‰çš„BBSæ˜¯-çº¯å­—ç¬¦ç•Œé¢çš„ï¼Œæ”¯æŒBBSçš„æœåŠ¡å™¨å°†23ç«¯å£æ‰“å¼€ï¼Œå¯¹å¤–æä¾›æœåŠ¡ã€‚ SMTPï¼šå®šä¹‰äº†ç®€å•é‚®ä»¶ä¼ é€åè®®ï¼Œç°åœ¨å¾ˆå¤šé‚®ä»¶æœåŠ¡å™¨éƒ½ç”¨çš„æ˜¯è¿™ä¸ªåè®®ï¼Œç”¨äºå‘é€é‚®ä»¶ã€‚å¦‚å¸¸è§çš„å…è´¹é‚®ä»¶æœåŠ¡ä¸­ç”¨çš„å°±æ˜¯è¿™ä¸ªé‚®ä»¶æœåŠ¡ç«¯å£ï¼Œæ‰€ä»¥åœ¨ç”µå­é‚®ä»¶è®¾ç½®-ä¸­å¸¸çœ‹åˆ°æœ‰è¿™ä¹ˆSMTPç«¯å£è®¾ç½®è¿™ä¸ªæ ï¼ŒæœåŠ¡å™¨å¼€æ”¾çš„æ˜¯25å·ç«¯å£ã€‚ POP3ï¼šå®ƒæ˜¯å’ŒSMTPå¯¹åº”ï¼ŒPOP3ç”¨äºæ¥æ”¶é‚®ä»¶ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒPOP3åè®®æ‰€ç”¨çš„æ˜¯110ç«¯å£ã€‚ä¹Ÿæ˜¯è¯´ï¼Œåªè¦ä½ æœ‰ç›¸åº”çš„ä½¿ç”¨POP3åè®®çš„ç¨‹åºï¼ˆä¾‹å¦‚Fo-xmailæˆ–Outlookï¼‰ï¼Œå°±å¯ä»¥ä¸ä»¥Webæ–¹å¼ç™»é™†è¿›é‚®ç®±ç•Œé¢ï¼Œç›´æ¥ç”¨é‚®ä»¶ç¨‹åºå°±å¯ä»¥æ”¶åˆ°é‚®ä»¶ï¼ˆå¦‚æ˜¯163é‚®ç®±å°±æ²¡æœ‰å¿…è¦å…ˆè¿›å…¥ç½‘æ˜“ç½‘ç«™ï¼Œå†è¿›å…¥è‡ªå·±çš„é‚®-ç®±æ¥æ”¶ä¿¡ï¼‰ã€‚ HTTPï¼šä»WebæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚ (2). UDP å¯¹åº”çš„åº”ç”¨å±‚åè®®ï¼š DNSï¼šç”¨äºåŸŸåè§£ææœåŠ¡ï¼Œå°†åŸŸååœ°å€è½¬æ¢ä¸ºIPåœ°å€ã€‚DNSç”¨çš„æ˜¯53å·ç«¯å£ã€‚ SNMPï¼šç®€å•ç½‘ç»œç®¡ç†åè®®ï¼Œä½¿ç”¨161å·ç«¯å£ï¼Œæ˜¯ç”¨æ¥ç®¡ç†ç½‘ç»œè®¾å¤‡çš„ã€‚ç”±äºç½‘ç»œè®¾å¤‡å¾ˆå¤šï¼Œæ— è¿æ¥çš„æœåŠ¡å°±ä½“ç°å‡ºå…¶ä¼˜åŠ¿ã€‚ TFTP(Trival File Transfer Protocal)ï¼šç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼Œè¯¥åè®®åœ¨ç†ŸçŸ¥ç«¯å£69ä¸Šä½¿ç”¨UDPæœåŠ¡ (3). å›¾ç¤ºï¼š 11ï¼‰TCP çš„æ‹¥å¡é¿å…æœºåˆ¶ç­”ï¼š æ‹¥å¡ï¼šå¯¹èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†å¯ç”¨çš„èµ„æºã€‚è‹¥ç½‘ç»œä¸­è®¸å¤šèµ„æºåŒæ—¶ä¾›åº”ä¸è¶³ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦æ˜æ˜¾å˜åï¼Œæ•´ä¸ªç½‘ç»œçš„ååé‡éšä¹‹è´Ÿè·çš„å¢å¤§è€Œä¸‹é™ã€‚ æ‹¥å¡æ§åˆ¶ï¼šé˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œä½¿å¾—ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚ æ‹¥å¡æ§åˆ¶çš„æ–¹æ³•ï¼š (1). æ…¢å¯åŠ¨ + æ‹¥å¡é¿å…ï¼š æ…¢å¯åŠ¨ï¼šä¸è¦ä¸€å¼€å§‹å°±å‘é€å¤§é‡çš„æ•°æ®ï¼Œå…ˆæ¢æµ‹ä¸€ä¸‹ç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±å°åˆ°å¤§é€æ¸å¢åŠ æ‹¥å¡çª—å£çš„å¤§å°; æ‹¥å¡é¿å…ï¼šæ‹¥å¡é¿å…ç®—æ³•è®©æ‹¥å¡çª—å£ç¼“æ…¢å¢é•¿ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ–¹çš„æ‹¥å¡çª—å£cwndåŠ 1ï¼Œè€Œä¸æ˜¯åŠ å€ï¼Œè¿™æ ·æ‹¥å¡çª—å£æŒ‰çº¿æ€§è§„å¾‹ç¼“æ…¢å¢é•¿ã€‚ (2). å¿«é‡ä¼  + å¿«æ¢å¤ï¼š å¿«é‡ä¼ ï¼šå¿«é‡ä¼ è¦æ±‚æ¥æ”¶æ–¹åœ¨æ”¶åˆ°ä¸€ä¸ª å¤±åºçš„æŠ¥æ–‡æ®µ åå°±ç«‹å³å‘å‡º é‡å¤ç¡®è®¤ï¼ˆä¸ºçš„æ˜¯ä½¿å‘é€æ–¹åŠæ—©çŸ¥é“æœ‰æŠ¥æ–‡æ®µæ²¡æœ‰åˆ°è¾¾å¯¹æ–¹ï¼‰è€Œä¸è¦ç­‰åˆ°è‡ªå·±å‘é€æ•°æ®æ—¶æå¸¦ç¡®è®¤ã€‚å¿«é‡ä¼ ç®—æ³•è§„å®šï¼Œå‘é€æ–¹åªè¦ä¸€è¿æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤å°±åº”å½“ç«‹å³é‡ä¼ å¯¹æ–¹å°šæœªæ”¶åˆ°çš„æŠ¥æ–‡æ®µï¼Œè€Œä¸å¿…ç»§ç»­ç­‰å¾…è®¾ç½®çš„é‡ä¼ è®¡æ—¶å™¨æ—¶é—´åˆ°æœŸã€‚ å¿«æ¢å¤ï¼šå¿«é‡ä¼ é…åˆä½¿ç”¨çš„è¿˜æœ‰å¿«æ¢å¤ç®—æ³•ï¼Œå½“å‘é€æ–¹è¿ç»­æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤æ—¶ï¼Œå°±æ‰§è¡Œâ€œä¹˜æ³•å‡å°â€ç®—æ³•ï¼ŒæŠŠssthreshé—¨é™å‡åŠï¼Œä½†æ˜¯æ¥ä¸‹å»å¹¶ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼šå› ä¸ºå¦‚æœç½‘ç»œå‡ºç°æ‹¥å¡çš„è¯å°±ä¸ä¼šæ”¶åˆ°å¥½å‡ ä¸ªé‡å¤çš„ç¡®è®¤ï¼Œæ‰€ä»¥å‘é€æ–¹ç°åœ¨è®¤ä¸ºç½‘ç»œå¯èƒ½æ²¡æœ‰å‡ºç°æ‹¥å¡ã€‚æ‰€ä»¥æ­¤æ—¶ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯å°†cwndè®¾ç½®ä¸ºssthreshçš„å¤§å°ï¼Œç„¶åæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•ã€‚ 12ï¼‰æµè§ˆå™¨ä¸­è¾“å…¥ï¼šâ€œwww.xxx.comâ€ ä¹‹åéƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿè¯·è¯¦ç»†é˜è¿°ã€‚è§£æï¼šç»å…¸çš„ç½‘ç»œåè®®é—®é¢˜ã€‚ ç­”ï¼š ç”±åŸŸåâ†’IPåœ°å€ å¯»æ‰¾IPåœ°å€çš„è¿‡ç¨‹ä¾æ¬¡ç»è¿‡äº†æµè§ˆå™¨ç¼“å­˜ã€ç³»ç»Ÿç¼“å­˜ã€hostsæ–‡ä»¶ã€è·¯ç”±å™¨ç¼“å­˜ã€ é€’å½’æœç´¢æ ¹åŸŸåæœåŠ¡å™¨ã€‚ å»ºç«‹TCP/IPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹å…·ä½“è¿‡ç¨‹ï¼‰ ç”±æµè§ˆå™¨å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ ç»è¿‡è·¯ç”±å™¨çš„è½¬å‘ï¼Œé€šè¿‡æœåŠ¡å™¨çš„é˜²ç«å¢™ï¼Œè¯¥HTTPè¯·æ±‚åˆ°è¾¾äº†æœåŠ¡å™¨ æœåŠ¡å™¨å¤„ç†è¯¥HTTPè¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªHTMLæ–‡ä»¶ æµè§ˆå™¨è§£æè¯¥HTMLæ–‡ä»¶ï¼Œå¹¶ä¸”æ˜¾ç¤ºåœ¨æµè§ˆå™¨ç«¯ è¿™é‡Œéœ€è¦æ³¨æ„ï¼š HTTPåè®®æ˜¯ä¸€ç§åŸºäºTCP/IPçš„åº”ç”¨å±‚åè®®ï¼Œè¿›è¡ŒHTTPæ•°æ®è¯·æ±‚å¿…é¡»å…ˆå»ºç«‹TCP/IPè¿æ¥ å¯ä»¥è¿™æ ·ç†è§£ï¼šHTTPæ˜¯è½¿è½¦ï¼Œæä¾›äº†å°è£…æˆ–è€…æ˜¾ç¤ºæ•°æ®çš„å…·ä½“å½¢å¼ï¼›Socketæ˜¯å‘åŠ¨æœºï¼Œæä¾›äº†ç½‘ç»œé€šä¿¡çš„èƒ½åŠ›ã€‚ ä¸¤ä¸ªè®¡ç®—æœºä¹‹é—´çš„äº¤æµæ— éæ˜¯ä¸¤ä¸ªç«¯å£ä¹‹é—´çš„æ•°æ®é€šä¿¡,å…·ä½“çš„æ•°æ®ä¼šä»¥ä»€ä¹ˆæ ·çš„å½¢å¼å±•ç°æ˜¯ä»¥ä¸åŒçš„åº”ç”¨å±‚åè®®æ¥å®šä¹‰çš„ã€‚ 13ï¼‰ä»€ä¹ˆæ˜¯ HTTP åè®®æ— çŠ¶æ€åè®®ï¼Ÿæ€ä¹ˆè§£å†³Httpåè®®æ— çŠ¶æ€åè®®?ç­”ï¼šHTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è®°å¿†åŠ›ï¼Œè¿™æ„å‘³ç€æ¯ä¸€æ¬¡çš„è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»è¦é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±å¾ˆå¿«ã€‚ HTTP çš„è¿™ç§ç‰¹æ€§æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šè§£æ”¾äº†æœåŠ¡å™¨ï¼Œæ¯ä¸€æ¬¡çš„è¯·æ±‚â€œç‚¹åˆ°ä¸ºæ­¢â€ï¼Œä¸ä¼šé€ æˆä¸å¿…è¦çš„è¿æ¥å ç”¨ ç¼ºç‚¹ï¼šæ¯æ¬¡è¯·æ±‚ä¼šä¼ è¾“å¤§é‡é‡å¤çš„å†…å®¹ä¿¡æ¯ï¼Œå¹¶ä¸”ï¼Œåœ¨è¯·æ±‚ä¹‹é—´æ— æ³•å®ç°æ•°æ®çš„å…±äº« è§£å†³æ–¹æ¡ˆï¼š ä½¿ç”¨å‚æ•°ä¼ é€’æœºåˆ¶ï¼šå°†å‚æ•°æ‹¼æ¥åœ¨è¯·æ±‚çš„ URL åé¢ï¼Œå®ç°æ•°æ®çš„ä¼ é€’ï¼ˆGETæ–¹å¼ï¼‰ï¼Œä¾‹å¦‚ï¼š/param/list?username=wmyskxz é—®é¢˜ï¼šå¯ä»¥è§£å†³æ•°æ®å…±äº«çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸€ä¸å®‰å…¨ï¼ŒäºŒæ•°æ®å…è®¸ä¼ è¾“é‡åªæœ‰1kb2. ä½¿ç”¨ Cookie æŠ€æœ¯3. ä½¿ç”¨ Session æŠ€æœ¯ 14ï¼‰Sessionã€Cookie ä¸ Applicationç­”ï¼šCookieå’ŒSessionéƒ½æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¿æŒçŠ¶æ€çš„è§£å†³æ–¹æ¡ˆï¼Œå…·ä½“æ¥è¯´ï¼Œcookieæœºåˆ¶é‡‡ç”¨çš„æ˜¯åœ¨å®¢æˆ·ç«¯ä¿æŒçŠ¶æ€çš„æ–¹æ¡ˆï¼Œè€Œsessionæœºåˆ¶é‡‡ç”¨çš„æ˜¯åœ¨æœåŠ¡å™¨ç«¯ä¿æŒçŠ¶æ€çš„æ–¹æ¡ˆã€‚ (1). Cookie åŠå…¶ç›¸å…³ API ï¼š Cookieå®é™…ä¸Šæ˜¯ä¸€å°æ®µçš„æ–‡æœ¬ä¿¡æ¯ã€‚å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨éœ€è¦è®°å½•è¯¥ç”¨æˆ·çŠ¶æ€ï¼Œå°±ä½¿ç”¨responseå‘å®¢æˆ·ç«¯æµè§ˆå™¨é¢å‘ä¸€ä¸ªCookieï¼Œè€Œå®¢æˆ·ç«¯æµè§ˆå™¨ä¼šæŠŠCookieä¿å­˜èµ·æ¥ã€‚å½“æµè§ˆå™¨å†è¯·æ±‚è¯¥ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨æŠŠè¯·æ±‚çš„ç½‘å€è¿åŒè¯¥Cookieä¸€åŒæäº¤ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ£€æŸ¥è¯¥Cookieï¼Œä»¥æ­¤æ¥è¾¨è®¤ç”¨æˆ·çŠ¶æ€ã€‚æœåŠ¡å™¨è¿˜å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹Cookieçš„å†…å®¹ã€‚ (2). Session åŠå…¶ç›¸å…³ APIï¼š åŒæ ·åœ°ï¼Œä¼šè¯çŠ¶æ€ä¹Ÿå¯ä»¥ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨è®°å½•è¯¥ç”¨æˆ·çŠ¶æ€ï¼Œå°±è·å–Sessionæ¥ä¿å­˜çŠ¶æ€ï¼Œè¿™æ—¶ï¼Œå¦‚æœæœåŠ¡å™¨å·²ç»ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºè¿‡sessionï¼ŒæœåŠ¡å™¨å°±æŒ‰ç…§sessionidæŠŠè¿™ä¸ªsessionæ£€ç´¢å‡ºæ¥ä½¿ç”¨ï¼›å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚ä¸åŒ…å«sessionidï¼Œåˆ™ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªsessionå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªä¸æ­¤sessionç›¸å…³è”çš„sessionidï¼Œå¹¶å°†è¿™ä¸ªsessionidåœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ä¿å­˜ã€‚ä¿å­˜è¿™ä¸ªsessionidçš„æ–¹å¼å¯ä»¥é‡‡ç”¨ cookieæœºåˆ¶ ï¼Œè¿™æ ·åœ¨äº¤äº’è¿‡ç¨‹ä¸­æµè§ˆå™¨å¯ä»¥è‡ªåŠ¨çš„æŒ‰ç…§è§„åˆ™æŠŠè¿™ä¸ªæ ‡è¯†å‘æŒ¥ç»™æœåŠ¡å™¨ï¼›è‹¥æµè§ˆå™¨ç¦ç”¨Cookieçš„è¯ï¼Œå¯ä»¥é€šè¿‡ URLé‡å†™æœºåˆ¶ å°†sessionidä¼ å›æœåŠ¡å™¨ã€‚ (3). Session ä¸ Cookie çš„å¯¹æ¯”ï¼š å®ç°æœºåˆ¶ï¼šSessionçš„å®ç°å¸¸å¸¸ä¾èµ–äºCookieæœºåˆ¶ï¼Œé€šè¿‡Cookieæœºåˆ¶å›ä¼ SessionIDï¼› å¤§å°é™åˆ¶ï¼šCookieæœ‰å¤§å°é™åˆ¶å¹¶ä¸”æµè§ˆå™¨å¯¹æ¯ä¸ªç«™ç‚¹ä¹Ÿæœ‰cookieçš„ä¸ªæ•°é™åˆ¶ï¼ŒSessionæ²¡æœ‰å¤§å°é™åˆ¶ï¼Œç†è®ºä¸Šåªä¸æœåŠ¡å™¨çš„å†…å­˜å¤§å°æœ‰å…³ï¼› å®‰å…¨æ€§ï¼šCookieå­˜åœ¨å®‰å…¨éšæ‚£ï¼Œé€šè¿‡æ‹¦æˆªæˆ–æœ¬åœ°æ–‡ä»¶æ‰¾å¾—åˆ°cookieåå¯ä»¥è¿›è¡Œæ”»å‡»ï¼Œè€ŒSessionç”±äºä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œç›¸å¯¹æ›´åŠ å®‰å…¨ï¼› æœåŠ¡å™¨èµ„æºæ¶ˆè€—ï¼šSessionæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ä¸Šä¼šå­˜åœ¨ä¸€æ®µæ—¶é—´æ‰ä¼šæ¶ˆå¤±ï¼Œå¦‚æœsessionè¿‡å¤šä¼šå¢åŠ æœåŠ¡å™¨çš„å‹åŠ›ã€‚ (4). Applicationï¼š Applicationï¼ˆServletContextï¼‰ï¼šä¸ä¸€ä¸ªWebåº”ç”¨ç¨‹åºç›¸å¯¹åº”ï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå…¨å±€çš„çŠ¶æ€ï¼Œæ‰€æœ‰å®¢æˆ·éƒ½å¯ä»¥ä½¿ç”¨è¯¥çŠ¶æ€ã€‚ 15ï¼‰æ»‘åŠ¨çª—å£æœºåˆ¶ç­”ï¼šç”±å‘é€æ–¹å’Œæ¥æ”¶æ–¹åœ¨ä¸‰æ¬¡æ¡æ‰‹é˜¶æ®µï¼Œäº’ç›¸å°†è‡ªå·±çš„æœ€å¤§å¯æ¥æ”¶çš„æ•°æ®é‡å‘Šè¯‰å¯¹æ–¹ã€‚ä¹Ÿå°±æ˜¯è‡ªå·±çš„æ•°æ®æ¥æ”¶ç¼“å†²æ± çš„å¤§å°ã€‚è¿™æ ·å¯¹æ–¹å¯ä»¥æ ¹æ®å·²å‘é€çš„æ•°æ®é‡æ¥è®¡ç®—æ˜¯å¦å¯ä»¥æ¥ç€å‘é€ã€‚åœ¨å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå½“æ¥æ”¶ç¼“å†²æ± çš„å¤§å°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¦ç»™å¯¹æ–¹å‘é€æ›´æ–°çª—å£å¤§å°çš„é€šçŸ¥ã€‚è¿™å°±å®ç°äº†æµé‡çš„æ§åˆ¶ã€‚ 16ï¼‰å¸¸ç”¨çš„HTTPæ–¹æ³•æœ‰å“ªäº›ï¼Ÿç­”ï¼š GETï¼š ç”¨äºè¯·æ±‚è®¿é—®å·²ç»è¢«URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰è¯†åˆ«çš„èµ„æºï¼Œå¯ä»¥é€šè¿‡URLä¼ å‚ç»™æœåŠ¡å™¨ POSTï¼šç”¨äºä¼ è¾“ä¿¡æ¯ç»™æœåŠ¡å™¨ï¼Œä¸»è¦åŠŸèƒ½ä¸GETæ–¹æ³•ç±»ä¼¼ï¼Œä½†ä¸€èˆ¬æ¨èä½¿ç”¨POSTæ–¹å¼ã€‚ PUTï¼š ä¼ è¾“æ–‡ä»¶ï¼ŒæŠ¥æ–‡ä¸»ä½“ä¸­åŒ…å«æ–‡ä»¶å†…å®¹ï¼Œä¿å­˜åˆ°å¯¹åº”URIä½ç½®ã€‚ HEADï¼š è·å¾—æŠ¥æ–‡é¦–éƒ¨ï¼Œä¸GETæ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯ä¸è¿”å›æŠ¥æ–‡ä¸»ä½“ï¼Œä¸€èˆ¬ç”¨äºéªŒè¯URIæ˜¯å¦æœ‰æ•ˆã€‚ DELETEï¼šåˆ é™¤æ–‡ä»¶ï¼Œä¸PUTæ–¹æ³•ç›¸åï¼Œåˆ é™¤å¯¹åº”URIä½ç½®çš„æ–‡ä»¶ã€‚ OPTIONSï¼šæŸ¥è¯¢ç›¸åº”URIæ”¯æŒçš„HTTPæ–¹æ³•ã€‚ 17ï¼‰å¸¸è§HTTPçŠ¶æ€ç ç­”ï¼š 1xxï¼ˆä¸´æ—¶å“åº”ï¼‰ 2xxï¼ˆæˆåŠŸï¼‰ 3xxï¼ˆé‡å®šå‘ï¼‰ï¼šè¡¨ç¤ºè¦å®Œæˆè¯·æ±‚éœ€è¦è¿›ä¸€æ­¥æ“ä½œ 4xxï¼ˆé”™è¯¯ï¼‰ï¼šè¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç† 5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ï¼šè¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ å¸¸è§çŠ¶æ€ç ï¼š 200ï¼ˆæˆåŠŸï¼‰ 304ï¼ˆæœªä¿®æ”¹ï¼‰ï¼šè‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ 401ï¼ˆæœªæˆæƒï¼‰ï¼šè¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ 403ï¼ˆç¦æ­¢ï¼‰ï¼šæœåŠ¡å™¨æ‹’ç»è¯·æ±‚ 404ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µ 18ï¼‰SQL æ³¨å…¥ç­”ï¼šSQLæ³¨å…¥å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•æäº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚ (1).SQLæ³¨å…¥æ”»å‡»çš„æ€»ä½“æ€è·¯ï¼š å¯»æ‰¾åˆ°SQLæ³¨å…¥çš„ä½ç½® åˆ¤æ–­æœåŠ¡å™¨ç±»å‹å’Œåå°æ•°æ®åº“ç±»å‹ é’ˆå¯¹ä¸é€šçš„æœåŠ¡å™¨å’Œæ•°æ®åº“ç‰¹ç‚¹è¿›è¡ŒSQLæ³¨å…¥æ”»å‡» (2). SQLæ³¨å…¥æ”»å‡»å®ä¾‹ï¼š æ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯ä»¥è¿™æ ·è¾“å…¥å®ç°å…å¸å·ç™»å½•ï¼š ç”¨æˆ·åï¼š â€˜or 1 = 1 -- å¯† ç ï¼šç”¨æˆ·ä¸€æ—¦ç‚¹å‡»ç™»å½•ï¼Œå¦‚è‹¥æ²¡æœ‰åšç‰¹æ®Šå¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªéæ³•ç”¨æˆ·å°±å¾ˆå¾—æ„çš„ç™»é™†è¿›å»äº†ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?ä¸‹é¢æˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼šä»ç†è®ºä¸Šè¯´ï¼Œåå°è®¤è¯ç¨‹åºä¸­ä¼šæœ‰å¦‚ä¸‹çš„SQLè¯­å¥ï¼š String sql = â€œselect * from user_table where username=â€™ â€œ+userName+â€ â€™ and password=â€™ â€œ+password+â€ â€˜â€; å› æ­¤ï¼Œå½“è¾“å…¥äº†ä¸Šé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸Šé¢çš„SQLè¯­å¥å˜æˆï¼š SELECT * FROM user_table WHERE username=â€™â€™or 1 = 1 â€“ and password=â€™â€™ åˆ†æä¸Šè¿°SQLè¯­å¥æˆ‘ä»¬çŸ¥é“ï¼Œusername=â€˜ or 1=1 è¿™ä¸ªè¯­å¥ä¸€å®šä¼šæˆåŠŸï¼›ç„¶ååé¢åŠ ä¸¤ä¸ª-ï¼Œè¿™æ„å‘³ç€æ³¨é‡Šï¼Œå®ƒå°†åé¢çš„è¯­å¥æ³¨é‡Šï¼Œè®©ä»–ä»¬ä¸èµ·ä½œç”¨ã€‚è¿™æ ·ï¼Œä¸Šè¿°è¯­å¥æ°¸è¿œéƒ½èƒ½æ­£ç¡®æ‰§è¡Œï¼Œç”¨æˆ·è½»æ˜“éª—è¿‡ç³»ç»Ÿï¼Œè·å–åˆæ³•èº«ä»½ã€‚ (3). åº”å¯¹æ–¹æ³•ï¼š 1.å‚æ•°ç»‘å®šï¼š ä½¿ç”¨é¢„ç¼–è¯‘æ‰‹æ®µï¼Œç»‘å®šå‚æ•°æ˜¯æœ€å¥½çš„é˜²SQLæ³¨å…¥çš„æ–¹æ³•ã€‚ç›®å‰è®¸å¤šçš„ORMæ¡†æ¶åŠJDBCç­‰éƒ½å®ç°äº†SQLé¢„ç¼–è¯‘å’Œå‚æ•°ç»‘å®šåŠŸèƒ½ï¼Œæ”»å‡»è€…çš„æ¶æ„SQLä¼šè¢«å½“åšSQLçš„å‚æ•°è€Œä¸æ˜¯SQLå‘½ä»¤è¢«æ‰§è¡Œã€‚åœ¨mybatisçš„mapperæ–‡ä»¶ä¸­ï¼Œå¯¹äºä¼ é€’çš„å‚æ•°æˆ‘ä»¬ä¸€èˆ¬æ˜¯ä½¿ç”¨#å’Œ$æ¥è·å–å‚æ•°å€¼ã€‚å½“ä½¿ç”¨#æ—¶ï¼Œå˜é‡æ˜¯å ä½ç¬¦ï¼Œå°±æ˜¯ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨javajdbcçš„PrepareStatementæ—¶çš„å ä½ç¬¦ï¼Œæ‰€æœ‰å¯ä»¥é˜²æ­¢sqlæ³¨å…¥ï¼›å½“ä½¿ç”¨$æ—¶ï¼Œå˜é‡å°±æ˜¯ç›´æ¥è¿½åŠ åœ¨sqlä¸­ï¼Œä¸€èˆ¬ä¼šæœ‰sqlæ³¨å…¥é—®é¢˜ã€‚ 2.ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ä¼ å…¥çš„å‚æ•° 19ï¼‰XSS æ”»å‡»ç­”ï¼šXSSæ˜¯ä¸€ç§ç»å¸¸å‡ºç°åœ¨webåº”ç”¨ä¸­çš„è®¡ç®—æœºå®‰å…¨æ¼æ´ï¼Œä¸SQLæ³¨å…¥ä¸€èµ·æˆä¸ºwebä¸­æœ€ä¸»æµçš„æ”»å‡»æ–¹å¼ã€‚XSSæ˜¯æŒ‡æ¶æ„æ”»å‡»è€…åˆ©ç”¨ç½‘ç«™æ²¡æœ‰å¯¹ç”¨æˆ·æäº¤æ•°æ®è¿›è¡Œè½¬ä¹‰å¤„ç†æˆ–è€…è¿‡æ»¤ä¸è¶³çš„ç¼ºç‚¹ï¼Œè¿›è€Œæ·»åŠ ä¸€äº›è„šæœ¬ä»£ç åµŒå…¥åˆ°webé¡µé¢ä¸­å»ï¼Œä½¿åˆ«çš„ç”¨æˆ·è®¿é—®éƒ½ä¼šæ‰§è¡Œç›¸åº”çš„åµŒå…¥ä»£ç ï¼Œä»è€Œç›—å–ç”¨æˆ·èµ„æ–™ã€åˆ©ç”¨ç”¨æˆ·èº«ä»½è¿›è¡ŒæŸç§åŠ¨ä½œæˆ–è€…å¯¹è®¿é—®è€…è¿›è¡Œç—…æ¯’ä¾µå®³çš„ä¸€ç§æ”»å‡»æ–¹å¼ã€‚ (1). XSSæ”»å‡»çš„å±å®³ï¼š ç›—å–å„ç±»ç”¨æˆ·å¸å·ï¼Œå¦‚æœºå™¨ç™»å½•å¸å·ã€ç”¨æˆ·ç½‘é“¶å¸å·ã€å„ç±»ç®¡ç†å‘˜å¸å· æ§åˆ¶ä¼ä¸šæ•°æ®ï¼ŒåŒ…æ‹¬è¯»å–ã€ç¯¡æ”¹ã€æ·»åŠ ã€åˆ é™¤ä¼ä¸šæ•æ„Ÿæ•°æ®çš„èƒ½åŠ› ç›—çªƒä¼ä¸šé‡è¦çš„å…·æœ‰å•†ä¸šä»·å€¼çš„èµ„æ–™ éæ³•è½¬è´¦ å¼ºåˆ¶å‘é€ç”µå­é‚®ä»¶ ç½‘ç«™æŒ‚é©¬ æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶å®ƒç½‘ç«™å‘èµ·æ”»å‡» (2). åŸå› è§£æï¼š ä¸»è¦åŸå› ï¼šè¿‡äºä¿¡ä»»å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼ è§£å†³åŠæ³•ï¼šä¸ä¿¡ä»»ä»»ä½•å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼Œåªè¦æ˜¯å®¢æˆ·ç«¯æäº¤çš„æ•°æ®å°±åº”è¯¥å…ˆè¿›è¡Œç›¸åº”çš„è¿‡æ»¤å¤„ç†ç„¶åæ–¹å¯è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚ è¿›ä¸€æ­¥åˆ†æç»†èŠ‚ï¼šå®¢æˆ·ç«¯æäº¤çš„æ•°æ®æœ¬æ¥å°±æ˜¯åº”ç”¨æ‰€éœ€è¦çš„ï¼Œä½†æ˜¯æ¶æ„æ”»å‡»è€…åˆ©ç”¨ç½‘ç«™å¯¹å®¢æˆ·ç«¯æäº¤æ•°æ®çš„ä¿¡ä»»ï¼Œåœ¨æ•°æ®ä¸­æ’å…¥ä¸€äº›ç¬¦å·ä»¥åŠjavascriptä»£ç ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®å°†ä¼šæˆä¸ºåº”ç”¨ä»£ç ä¸­çš„ä¸€éƒ¨åˆ†äº†ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥è‚†æ— å¿Œæƒ®åœ°å±•å¼€æ”»å‡»å•¦ï¼Œå› æ­¤æˆ‘ä»¬ç»ä¸å¯ä»¥ä¿¡ä»»ä»»ä½•å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼ï¼ï¼ (3). XSS æ”»å‡»åˆ†ç±»ï¼š åå°„æ€§ XSS æ”»å‡»ï¼ˆéæŒä¹…æ€§ XSS æ”»å‡»ï¼‰ï¼š æ¼æ´äº§ç”Ÿçš„åŸå› æ˜¯æ”»å‡»è€…æ³¨å…¥çš„æ•°æ®åæ˜ åœ¨å“åº”ä¸­ã€‚ä¸€ä¸ªå…¸å‹çš„éæŒä¹…æ€§XSSæ”»å‡»åŒ…å«ä¸€ä¸ªå¸¦XSSæ”»å‡»å‘é‡çš„é“¾æ¥(å³æ¯æ¬¡æ”»å‡»éœ€è¦ç”¨æˆ·çš„ç‚¹å‡»)ï¼Œä¾‹å¦‚ï¼Œæ­£å¸¸å‘é€æ¶ˆæ¯ï¼š http://www.test.com/message.php?send=Hello,Worldï¼æ¥æ”¶è€…å°†ä¼šæ¥æ”¶ä¿¡æ¯å¹¶æ˜¾ç¤ºHello,Worldï¼›ä½†æ˜¯ï¼Œéæ­£å¸¸å‘é€æ¶ˆæ¯ï¼š http://www.test.com/message.php?send=&lt;script&gt;alert(â€˜foolish!â€™)&lt;/script&gt;ï¼æ¥æ”¶è€…æ¥æ”¶æ¶ˆæ¯æ˜¾ç¤ºçš„æ—¶å€™å°†ä¼šå¼¹å‡ºè­¦å‘Šçª—å£ï¼ æŒä¹…æ€§XSSæ”»å‡» (ç•™è¨€æ¿åœºæ™¯)ï¼š XSSæ”»å‡»å‘é‡(ä¸€èˆ¬æŒ‡XSSæ”»å‡»ä»£ç )å­˜å‚¨åœ¨ç½‘ç«™æ•°æ®åº“ï¼Œå½“ä¸€ä¸ªé¡µé¢è¢«ç”¨æˆ·æ‰“å¼€çš„æ—¶å€™æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯å½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æŒ‡å®šé¡µé¢æ—¶ï¼Œè„šæœ¬ä¾¿æ‰§è¡Œã€‚ä¸éæŒä¹…æ€§XSSæ”»å‡»ç›¸æ¯”ï¼ŒæŒä¹…æ€§XSSæ”»å‡»å±å®³æ€§æ›´å¤§ã€‚ä»åå­—å°±å¯ä»¥äº†è§£åˆ°ï¼ŒæŒä¹…æ€§XSSæ”»å‡»å°±æ˜¯å°†æ”»å‡»ä»£ç å­˜å…¥æ•°æ®åº“ä¸­ï¼Œç„¶åå®¢æˆ·ç«¯æ‰“å¼€æ—¶å°±æ‰§è¡Œè¿™äº›æ”»å‡»ä»£ç ã€‚ ä¾‹å¦‚ï¼Œç•™è¨€æ¿è¡¨å•ä¸­çš„è¡¨å•åŸŸï¼š &lt;input type=â€œtextâ€ name=â€œcontentâ€ value=â€œè¿™é‡Œæ˜¯ç”¨æˆ·å¡«å†™çš„æ•°æ®â€&gt;æ­£å¸¸æ“ä½œæµç¨‹æ˜¯ï¼šç”¨æˆ·æ˜¯æäº¤ç›¸åº”ç•™è¨€ä¿¡æ¯ â€”â€” å°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ â€”â€” å…¶ä»–ç”¨æˆ·è®¿é—®ç•™è¨€æ¿ï¼Œåº”ç”¨å»æ•°æ®å¹¶æ˜¾ç¤ºï¼›è€Œéæ­£å¸¸æ“ä½œæµç¨‹æ˜¯æ”»å‡»è€…åœ¨valueå¡«å†™: &lt;script&gt;alert(â€˜foolish!â€™)ï¼›&lt;/script&gt; &lt;!--æˆ–è€…htmlå…¶ä»–æ ‡ç­¾ï¼ˆç ´åæ ·å¼ï¼‰ã€ä¸€æ®µæ”»å‡»å‹ä»£ç --&gt;å¹¶å°†æ•°æ®æäº¤ã€å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼›å½“å…¶ä»–ç”¨æˆ·å–å‡ºæ•°æ®æ˜¾ç¤ºçš„æ—¶å€™ï¼Œå°†ä¼šæ‰§è¡Œè¿™äº›æ”»å‡»æ€§ä»£ç ã€‚ (4). ä¿®å¤æ¼æ´æ–¹é’ˆï¼š æ¼æ´äº§ç”Ÿçš„æ ¹æœ¬åŸå› æ˜¯ å¤ªç›¸ä¿¡ç”¨æˆ·æäº¤çš„æ•°æ®ï¼Œå¯¹ç”¨æˆ·æ‰€æäº¤çš„æ•°æ®è¿‡æ»¤ä¸è¶³æ‰€å¯¼è‡´çš„ï¼Œå› æ­¤è§£å†³æ–¹æ¡ˆä¹Ÿåº”è¯¥ä»è¿™ä¸ªæ–¹é¢å…¥æ‰‹ï¼Œå…·ä½“æ–¹æ¡ˆåŒ…æ‹¬ï¼š å°†é‡è¦çš„cookieæ ‡è®°ä¸ºhttp only, è¿™æ ·çš„è¯Javascript ä¸­çš„document.cookieè¯­å¥å°±ä¸èƒ½è·å–åˆ°cookieäº†ï¼ˆå¦‚æœåœ¨cookieä¸­è®¾ç½®äº†HttpOnlyå±æ€§ï¼Œé‚£ä¹ˆé€šè¿‡jsè„šæœ¬å°†æ— æ³•è¯»å–åˆ°cookieä¿¡æ¯ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢XSSæ”»å‡»ï¼‰ï¼› è¡¨å•æ•°æ®è§„å®šå€¼çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼šå¹´é¾„åº”ä¸ºåªèƒ½ä¸ºintã€nameåªèƒ½ä¸ºå­—æ¯æ•°å­—ç»„åˆã€‚ã€‚ã€‚ã€‚ å¯¹æ•°æ®è¿›è¡ŒHtml Encode å¤„ç† è¿‡æ»¤æˆ–ç§»é™¤ç‰¹æ®Šçš„Htmlæ ‡ç­¾ï¼Œä¾‹å¦‚: , , < for for>, &quot for è¿‡æ»¤JavaScript äº‹ä»¶çš„æ ‡ç­¾ï¼Œä¾‹å¦‚ â€œonclick=â€, â€œonfocusâ€ ç­‰ç­‰ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æœ‰äº›åº”ç”¨ä¸­æ˜¯å…è®¸htmlæ ‡ç­¾å‡ºç°çš„ï¼Œç”šè‡³æ˜¯javascriptä»£ç å‡ºç°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿‡æ»¤æ•°æ®çš„æ—¶å€™éœ€è¦ä»”ç»†åˆ†æå“ªäº›æ•°æ®æ˜¯æœ‰ç‰¹æ®Šè¦æ±‚ï¼ˆä¾‹å¦‚è¾“å‡ºéœ€è¦htmlä»£ç ã€javascriptä»£ç æ‹¼æ¥ã€æˆ–è€…æ­¤è¡¨å•ç›´æ¥å…è®¸ä½¿ç”¨ç­‰ç­‰ï¼‰ï¼Œç„¶ååŒºåˆ«å¤„ç†ï¼ 20ï¼‰OSI ç½‘ç»œä½“ç³»ç»“æ„ä¸ TCP/IP åè®®æ¨¡å‹ç­”ï¼šOSI æ˜¯ä¸€ä¸ªç†è®ºä¸Šçš„ç½‘ç»œé€šä¿¡æ¨¡å‹ï¼Œè€Œ TCP/IP åˆ™æ˜¯å®é™…ä¸Šçš„ç½‘ç»œé€šä¿¡æ ‡å‡†ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬çš„åˆè¡·æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä¸ºäº†ä½¿å¾—ä¸¤å°è®¡ç®—æœºèƒ½å¤Ÿåƒä¸¤ä¸ªçŸ¥å¿ƒæœ‹å‹é‚£æ ·èƒ½å¤Ÿäº’ç›¸å‡†ç¡®ç†è§£å¯¹æ–¹çš„æ„æ€å¹¶åšå‡ºä¼˜é›…çš„å›åº”ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹ OSI ä¸ƒå±‚æ¨¡å‹çš„å„å±‚è¿›è¡Œç®€è¦çš„ä»‹ç»ï¼š 1). ç‰©ç†å±‚ å‚è€ƒæ¨¡å‹çš„æœ€ä½å±‚ï¼Œä¹Ÿæ˜¯OSIæ¨¡å‹çš„ç¬¬ä¸€å±‚ï¼Œå®ç°äº†ç›¸é‚»è®¡ç®—æœºèŠ‚ç‚¹ä¹‹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ é€ï¼Œå¹¶å°½å¯èƒ½åœ°å±è”½æ‰å…·ä½“ä¼ è¾“ä»‹è´¨å’Œç‰©ç†è®¾å¤‡çš„å·®å¼‚ï¼Œä½¿å…¶ä¸Šå±‚(æ•°æ®é“¾è·¯å±‚)ä¸å¿…å…³å¿ƒç½‘ç»œçš„å…·ä½“ä¼ è¾“ä»‹è´¨ã€‚ 2). æ•°æ®é“¾è·¯å±‚ï¼ˆdata link layerï¼‰ æ¥æ”¶æ¥è‡ªç‰©ç†å±‚çš„ä½æµå½¢å¼çš„æ•°æ®ï¼Œå¹¶å°è£…æˆå¸§ï¼Œä¼ é€åˆ°ä¸Šä¸€å±‚ï¼›åŒæ ·ï¼Œä¹Ÿå°†æ¥è‡ªä¸Šå±‚çš„æ•°æ®å¸§ï¼Œæ‹†è£…ä¸ºä½æµå½¢å¼çš„æ•°æ®è½¬å‘åˆ°ç‰©ç†å±‚ã€‚è¿™ä¸€å±‚åœ¨ç‰©ç†å±‚æä¾›çš„æ¯”ç‰¹æµçš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å·®é”™æ§åˆ¶ã€æµé‡æ§åˆ¶æ–¹æ³•ï¼Œä½¿æœ‰å·®é”™çš„ç‰©ç†çº¿è·¯å˜ä¸ºæ— å·®é”™çš„æ•°æ®é“¾è·¯ï¼Œå³æä¾›å¯é çš„é€šè¿‡ç‰©ç†ä»‹è´¨ä¼ è¾“æ•°æ®çš„æ–¹æ³•ã€‚ 3). ç½‘ç»œå±‚ å°†ç½‘ç»œåœ°å€ç¿»è¯‘æˆå¯¹åº”çš„ç‰©ç†åœ°å€ï¼Œå¹¶é€šè¿‡è·¯ç”±é€‰æ‹©ç®—æ³•ä¸ºåˆ†ç»„é€šè¿‡é€šä¿¡å­ç½‘é€‰æ‹©æœ€é€‚å½“çš„è·¯å¾„ã€‚ 4). ä¼ è¾“å±‚ï¼ˆtransport layerï¼‰ åœ¨æºç«¯ä¸ç›®çš„ç«¯ä¹‹é—´æä¾›å¯é çš„é€æ˜æ•°æ®ä¼ è¾“ï¼Œä½¿ä¸Šå±‚æœåŠ¡ç”¨æˆ·ä¸å¿…å…³ç³»é€šä¿¡å­ç½‘çš„å®ç°ç»†èŠ‚ã€‚åœ¨åè®®æ ˆä¸­ï¼Œä¼ è¾“å±‚ä½äºç½‘ç»œå±‚ä¹‹ä¸Šï¼Œä¼ è¾“å±‚åè®®ä¸ºä¸åŒä¸»æœºä¸Šè¿è¡Œçš„è¿›ç¨‹æä¾›é€»è¾‘é€šä¿¡ï¼Œè€Œç½‘ç»œå±‚åè®®ä¸ºä¸åŒä¸»æœºæä¾›é€»è¾‘é€šä¿¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å®é™…ä¸Šï¼Œç½‘ç»œå±‚å¯ä»¥çœ‹ä½œæ˜¯ä¼ è¾“å±‚çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸ºä¼ è¾“å±‚æä¾›æœåŠ¡ã€‚ä½†å¯¹äºç»ˆç«¯ç³»ç»Ÿè€Œè¨€ï¼Œç½‘ç»œå±‚å¯¹å®ƒä»¬è€Œè¨€æ˜¯é€æ˜çš„ï¼Œå®ƒä»¬çŸ¥é“ä¼ è¾“å±‚çš„å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨é€»è¾‘ä¸Šå®ƒä»¬è®¤ä¸ºæ˜¯ä¼ è¾“å±‚ä¸ºå®ƒä»¬æä¾›äº†ç«¯å¯¹ç«¯çš„é€šä¿¡ï¼Œè¿™ä¹Ÿæ˜¯åˆ†å±‚æ€æƒ³çš„å¦™å¤„ã€‚ 5). ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ ä¼šè¯å±‚æ˜¯OSIæ¨¡å‹çš„ç¬¬äº”å±‚ï¼Œæ˜¯ç”¨æˆ·åº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„æ¥å£ï¼Œè´Ÿè´£åœ¨ç½‘ç»œä¸­çš„ä¸¤èŠ‚ç‚¹ä¹‹é—´å»ºç«‹ã€ç»´æŒå’Œç»ˆæ­¢é€šä¿¡ã€‚ 6). è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ï¼šæ•°æ®çš„ç¼–ç ï¼Œå‹ç¼©å’Œè§£å‹ç¼©ï¼Œæ•°æ®çš„åŠ å¯†å’Œè§£å¯† è¡¨ç¤ºå±‚æ˜¯OSIæ¨¡å‹çš„ç¬¬å…­å±‚ï¼Œå®ƒå¯¹æ¥è‡ªåº”ç”¨å±‚çš„å‘½ä»¤å’Œæ•°æ®è¿›è¡Œè§£é‡Šï¼Œä»¥ç¡®ä¿ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨å±‚æ‰€å‘é€çš„ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªç³»ç»Ÿçš„åº”ç”¨å±‚è¯»å–ã€‚ 7). åº”ç”¨å±‚ï¼ˆApplication layerï¼‰ï¼šä¸ºç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹æä¾›ç½‘ç»œé€šä¿¡æœåŠ¡ 21ï¼‰ç½‘ç»œå±‚çš„ ARP åè®®å·¥ä½œåŸç†ï¼Ÿç­”ï¼šåœ°å€è§£æåè®®(ARP) æ˜¯é€šè¿‡è§£æç½‘è·¯å±‚åœ°å€æ¥æ‰¾å¯»æ•°æ®é“¾è·¯å±‚åœ°å€çš„ä¸€ä¸ªåœ¨ç½‘ç»œåè®®åŒ…ä¸­æå…¶é‡è¦çš„ç½‘ç»œä¼ è¾“åè®®ã€‚ ç½‘ç»œå±‚çš„ARPåè®®å®Œæˆäº†IPåœ°å€ä¸ç‰©ç†åœ°å€çš„æ˜ å°„ã€‚é¦–å…ˆï¼Œæ¯å°ä¸»æœºéƒ½ä¼šåœ¨è‡ªå·±çš„ARPç¼“å†²åŒºä¸­å»ºç«‹ä¸€ä¸ªARPåˆ—è¡¨ï¼Œä»¥è¡¨ç¤ºIPåœ°å€å’ŒMACåœ°å€çš„å¯¹åº”å…³ç³»ã€‚å½“æºä¸»æœºéœ€è¦å°†ä¸€ä¸ªæ•°æ®åŒ…è¦å‘é€åˆ°ç›®çš„ä¸»æœºæ—¶ï¼Œä¼šé¦–å…ˆæ£€æŸ¥è‡ªå·±ARPåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥IPåœ°å€å¯¹åº”çš„MACåœ°å€ï¼šå¦‚æœæœ‰ï¼Œå°±ç›´æ¥å°†æ•°æ®åŒ…å‘é€åˆ°è¿™ä¸ªMACåœ°å€ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±å‘æœ¬åœ°ç½‘æ®µå‘èµ·ä¸€ä¸ªARPè¯·æ±‚çš„å¹¿æ’­åŒ…ï¼ŒæŸ¥è¯¢æ­¤ç›®çš„ä¸»æœºå¯¹åº”çš„MACåœ°å€ã€‚æ­¤ARPè¯·æ±‚æ•°æ®åŒ…é‡ŒåŒ…æ‹¬æºä¸»æœºçš„IPåœ°å€ã€ç¡¬ä»¶åœ°å€ã€ä»¥åŠç›®çš„ä¸»æœºçš„IPåœ°å€ã€‚ç½‘ç»œä¸­æ‰€æœ‰çš„ä¸»æœºæ”¶åˆ°è¿™ä¸ªARPè¯·æ±‚åï¼Œä¼šæ£€æŸ¥æ•°æ®åŒ…ä¸­çš„ç›®çš„IPæ˜¯å¦å’Œè‡ªå·±çš„IPåœ°å€ä¸€è‡´ã€‚å¦‚æœä¸ç›¸åŒå°±å¿½ç•¥æ­¤æ•°æ®åŒ…ï¼›å¦‚æœç›¸åŒï¼Œè¯¥ä¸»æœºé¦–å…ˆå°†å‘é€ç«¯çš„MACåœ°å€å’ŒIPåœ°å€æ·»åŠ åˆ°è‡ªå·±çš„ARPåˆ—è¡¨ä¸­ï¼Œå¦‚æœARPè¡¨ä¸­å·²ç»å­˜åœ¨è¯¥IPçš„ä¿¡æ¯ï¼Œåˆ™å°†å…¶è¦†ç›–ï¼Œç„¶åç»™æºä¸»æœºå‘é€ä¸€ä¸ªARPå“åº”æ•°æ®åŒ…ï¼Œå‘Šè¯‰å¯¹æ–¹è‡ªå·±æ˜¯å®ƒéœ€è¦æŸ¥æ‰¾çš„MACåœ°å€ï¼›æºä¸»æœºæ”¶åˆ°è¿™ä¸ªARPå“åº”æ•°æ®åŒ…åï¼Œå°†å¾—åˆ°çš„ç›®çš„ä¸»æœºçš„IPåœ°å€å’ŒMACåœ°å€æ·»åŠ åˆ°è‡ªå·±çš„ARPåˆ—è¡¨ä¸­ï¼Œå¹¶åˆ©ç”¨æ­¤ä¿¡æ¯å¼€å§‹æ•°æ®çš„ä¼ è¾“ã€‚å¦‚æœæºä¸»æœºä¸€ç›´æ²¡æœ‰æ”¶åˆ°ARPå“åº”æ•°æ®åŒ…ï¼Œè¡¨ç¤ºARPæŸ¥è¯¢å¤±è´¥ã€‚ 22ï¼‰IPåœ°å€çš„åˆ†ç±»ç­”ï¼šæ•´ä¸ªçš„å› ç‰¹ç½‘å°±æ˜¯ä¸€ä¸ªå•ä¸€çš„ã€æŠ½è±¡çš„ç½‘ç»œã€‚IP åœ°å€å°±æ˜¯ç»™å› ç‰¹ç½‘ä¸Šçš„æ¯ä¸€ä¸ªä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰çš„æ¯ä¸€ä¸ªæ¥å£åˆ†é…ä¸€ä¸ªåœ¨å…¨ä¸–ç•ŒèŒƒå›´æ˜¯å”¯ä¸€çš„ 32 ä½æ ‡è¯†ç¬¦ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€»è¾‘åœ°å€ï¼Œç”¨ä»¥å±è”½æ‰ç‰©ç†åœ°å€çš„å·®å¼‚ã€‚IPåœ°å€ç¼–å€æ–¹æ¡ˆå°†IPåœ°å€ç©ºé—´åˆ’åˆ†ä¸ºAã€Bã€Cã€Dã€Eäº”ç±»ï¼Œå…¶ä¸­Aã€Bã€Cæ˜¯åŸºæœ¬ç±»ï¼ŒDã€Eç±»ä½œä¸ºå¤šæ’­å’Œä¿ç•™ä½¿ç”¨ï¼Œä¸ºç‰¹æ®Šåœ°å€ã€‚ æ¯ä¸ªIPåœ°å€åŒ…æ‹¬ä¸¤ä¸ªæ ‡è¯†ç ï¼ˆIDï¼‰ï¼Œå³ç½‘ç»œIDå’Œä¸»æœºIDã€‚åŒä¸€ä¸ªç‰©ç†ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºéƒ½ä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œIDï¼Œç½‘ç»œä¸Šçš„ä¸€ä¸ªä¸»æœºï¼ˆåŒ…æ‹¬ç½‘ç»œä¸Šå·¥ä½œç«™ï¼ŒæœåŠ¡å™¨å’Œè·¯ç”±å™¨ç­‰ï¼‰æœ‰ä¸€ä¸ªä¸»æœºIDä¸å…¶å¯¹åº”ã€‚A~Eç±»åœ°å€çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š Aç±»åœ°å€ï¼šä»¥0å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚èŒƒå›´ï¼š0~127ï¼› Bç±»åœ°å€ï¼šä»¥10å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚èŒƒå›´ï¼š128~191ï¼› Cç±»åœ°å€ï¼šä»¥110å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚èŒƒå›´ï¼š192~223ï¼› Dç±»åœ°å€ï¼šä»¥1110å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚èŒƒå›´ä¸º224~239ï¼› Eç±»åœ°å€ï¼šä»¥1111å¼€å¤´ï¼Œä¿ç•™åœ°å€ 1). Aç±»åœ°å€ï¼š1å­—èŠ‚çš„ç½‘ç»œåœ°å€ + 3å­—èŠ‚ä¸»æœºåœ°å€ï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ0â€ ä¸€ä¸ªAç±»IPåœ°å€æ˜¯æŒ‡ï¼Œ åœ¨IPåœ°å€çš„å››æ®µå·ç ä¸­ï¼Œç¬¬ä¸€æ®µå·ç ä¸ºç½‘ç»œå·ç ï¼Œå‰©ä¸‹çš„ä¸‰æ®µå·ç ä¸ºæœ¬åœ°è®¡ç®—æœºçš„å·ç ã€‚å¦‚æœç”¨äºŒè¿›åˆ¶è¡¨ç¤ºIPåœ°å€çš„è¯ï¼ŒAç±»IPåœ°å€å°±ç”±1å­—èŠ‚çš„ç½‘ç»œåœ°å€å’Œ3å­—èŠ‚ä¸»æœºåœ°å€ç»„æˆï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ0â€ã€‚Aç±»IPåœ°å€ä¸­ç½‘ç»œçš„æ ‡è¯†é•¿åº¦ä¸º8ä½ï¼Œä¸»æœºæ ‡è¯†çš„é•¿åº¦ä¸º24ä½ï¼ŒAç±»ç½‘ç»œåœ°å€æ•°é‡è¾ƒå°‘ï¼Œæœ‰126ä¸ªç½‘ç»œï¼Œæ¯ä¸ªç½‘ç»œå¯ä»¥å®¹çº³ä¸»æœºæ•°è¾¾1600å¤šä¸‡å°ã€‚ Aç±»IPåœ°å€çš„åœ°å€èŒƒå›´1.0.0.0åˆ°127.255.255.255ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š00000001 00000000 00000000 00000000 - 01111110 11111111 11111111 11111111ï¼‰ï¼Œæœ€åä¸€ä¸ªæ˜¯å¹¿æ’­åœ°å€ã€‚Aç±»IPåœ°å€çš„å­ç½‘æ©ç ä¸º255.0.0.0ï¼Œæ¯ä¸ªç½‘ç»œæ”¯æŒçš„æœ€å¤§ä¸»æœºæ•°ä¸º256çš„3æ¬¡æ–¹-2=16777214å°ã€‚ 2). Bç±»åœ°å€: 2å­—èŠ‚çš„ç½‘ç»œåœ°å€ + 2å­—èŠ‚ä¸»æœºåœ°å€ï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ10â€ ä¸€ä¸ªBç±»IPåœ°å€æ˜¯æŒ‡ï¼Œåœ¨IPåœ°å€çš„å››æ®µå·ç ä¸­ï¼Œå‰ä¸¤æ®µå·ç ä¸ºç½‘ç»œå·ç ã€‚å¦‚æœç”¨äºŒè¿›åˆ¶è¡¨ç¤ºIPåœ°å€çš„è¯ï¼ŒBç±»IPåœ°å€å°±ç”±2å­—èŠ‚çš„ç½‘ç»œåœ°å€å’Œ2å­—èŠ‚ä¸»æœºåœ°å€ç»„æˆï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ10â€ã€‚Bç±»IPåœ°å€ä¸­ç½‘ç»œçš„æ ‡è¯†é•¿åº¦ä¸º16ä½ï¼Œä¸»æœºæ ‡è¯†çš„é•¿åº¦ä¸º16ä½ï¼ŒBç±»ç½‘ç»œåœ°å€é€‚ç”¨äºä¸­ç­‰è§„æ¨¡çš„ç½‘ç»œï¼Œæœ‰16384ä¸ªç½‘ç»œï¼Œæ¯ä¸ªç½‘ç»œæ‰€èƒ½å®¹çº³çš„è®¡ç®—æœºæ•°ä¸º6ä¸‡å¤šå°ã€‚ Bç±»IPåœ°å€åœ°å€èŒƒå›´128.0.0.0-191.255.255.255ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š10000000 00000000 00000000 00000000â€”-10111111 11111111 11111111 11111111ï¼‰ï¼Œæœ€åä¸€ä¸ªæ˜¯å¹¿æ’­åœ°å€ã€‚Bç±»IPåœ°å€çš„å­ç½‘æ©ç ä¸º255.255.0.0ï¼Œæ¯ä¸ªç½‘ç»œæ”¯æŒçš„æœ€å¤§ä¸»æœºæ•°ä¸º256çš„2æ¬¡æ–¹-2=65534å°ã€‚ 3). Cç±»åœ°å€: 3å­—èŠ‚çš„ç½‘ç»œåœ°å€ + 1å­—èŠ‚ä¸»æœºåœ°å€ï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ110â€ ä¸€ä¸ªCç±»IPåœ°å€æ˜¯æŒ‡ï¼Œåœ¨IPåœ°å€çš„å››æ®µå·ç ä¸­ï¼Œå‰ä¸‰æ®µå·ç ä¸ºç½‘ç»œå·ç ï¼Œå‰©ä¸‹çš„ä¸€æ®µå·ç ä¸ºæœ¬åœ°è®¡ç®—æœºçš„å·ç ã€‚å¦‚æœç”¨äºŒè¿›åˆ¶è¡¨ç¤ºIPåœ°å€çš„è¯ï¼ŒCç±»IPåœ°å€å°±ç”±3å­—èŠ‚çš„ç½‘ç»œåœ°å€å’Œ1å­—èŠ‚ä¸»æœºåœ°å€ç»„æˆï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ110â€ã€‚Cç±»IPåœ°å€ä¸­ç½‘ç»œçš„æ ‡è¯†é•¿åº¦ä¸º24ä½ï¼Œä¸»æœºæ ‡è¯†çš„é•¿åº¦ä¸º8ä½ï¼ŒCç±»ç½‘ç»œåœ°å€æ•°é‡è¾ƒå¤šï¼Œæœ‰209ä¸‡ä½™ä¸ªç½‘ç»œã€‚é€‚ç”¨äºå°è§„æ¨¡çš„å±€åŸŸç½‘ç»œï¼Œæ¯ä¸ªç½‘ç»œæœ€å¤šåªèƒ½åŒ…å«254å°è®¡ç®—æœºã€‚ Cç±»IPåœ°å€èŒƒå›´192.0.0.0-223.255.255.255ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º: 11000000 00000000 00000000 00000000 - 11011111 11111111 11111111 11111111ï¼‰ã€‚Cç±»IPåœ°å€çš„å­ç½‘æ©ç ä¸º255.255.255.0ï¼Œæ¯ä¸ªç½‘ç»œæ”¯æŒçš„æœ€å¤§ä¸»æœºæ•°ä¸º256-2=254å°ã€‚ 4). Dç±»åœ°å€:å¤šæ’­åœ°å€ï¼Œç”¨äº1å¯¹å¤šé€šä¿¡ï¼Œæœ€é«˜ä½å¿…é¡»æ˜¯â€œ1110â€ Dç±»IPåœ°å€åœ¨å†å²ä¸Šè¢«å«åšå¤šæ’­åœ°å€(multicast address)ï¼Œå³ç»„æ’­åœ°å€ã€‚åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œå¤šæ’­åœ°å€å‘½åäº†ä¸€ç»„åº”è¯¥åœ¨è¿™ä¸ªç½‘ç»œä¸­åº”ç”¨æ¥æ”¶åˆ°ä¸€ä¸ªåˆ†ç»„çš„ç«™ç‚¹ã€‚å¤šæ’­åœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ1110â€ï¼ŒèŒƒå›´ä»224.0.0.0åˆ°239.255.255.255ã€‚ 5). Eç±»åœ°å€:ä¸ºä¿ç•™åœ°å€ï¼Œæœ€é«˜ä½å¿…é¡»æ˜¯â€œ1111â€ 23ï¼‰IPåœ°å€ä¸ç‰©ç†åœ°å€ç­”ï¼šç‰©ç†åœ°å€æ˜¯æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ä½¿ç”¨çš„åœ°å€ï¼ŒIPåœ°å€æ˜¯ç½‘ç»œå±‚å’Œä»¥ä¸Šå„å±‚ä½¿ç”¨çš„åœ°å€ï¼Œæ˜¯ä¸€ç§é€»è¾‘åœ°å€ï¼Œå…¶ä¸­ARPåè®®ç”¨äºIPåœ°å€ä¸ç‰©ç†åœ°å€çš„å¯¹åº”ã€‚ 24ï¼‰å½±å“ç½‘ç»œä¼ è¾“çš„å› ç´ æœ‰å“ªäº›ï¼Ÿç­”ï¼šå°†ä¸€ä»½æ•°æ®ä»ä¸€ä¸ªåœ°æ–¹æ­£ç¡®åœ°ä¼ è¾“åˆ°å¦ä¸€ä¸ªåœ°æ–¹æ‰€éœ€è¦çš„æ—¶é—´æˆ‘ä»¬ç§°ä¹‹ä¸ºå“åº”æ—¶é—´ã€‚å½±å“è¿™ä¸ªå“åº”æ—¶é—´çš„å› ç´ æœ‰å¾ˆå¤šã€‚ ç½‘ç»œå¸¦å®½ï¼šæ‰€è°“å¸¦å®½å°±æ˜¯ä¸€æ¡ç‰©ç†é“¾è·¯åœ¨ 1s å†…èƒ½å¤Ÿä¼ è¾“çš„æœ€å¤§æ¯”ç‰¹æ•°ï¼Œæ³¨æ„è¿™é‡Œæ˜¯æ¯”ç‰¹ï¼ˆbitï¼‰è€Œä¸æ˜¯å­—èŠ‚æ•°ï¼Œä¹Ÿå°±æ˜¯ b/s ã€‚ç½‘ç»œå¸¦å®½è‚¯å®šæ˜¯å½±å“æ•°æ®ä¼ è¾“çš„ä¸€ä¸ªå…³é”®ç¯èŠ‚ï¼Œå› ä¸ºåœ¨å½“å‰çš„ç½‘ç»œç¯å¢ƒä¸­ï¼Œå¹³å‡ç½‘ç»œå¸¦å®½åªæœ‰ 1.7 MB/s å·¦å³ã€‚ ä¼ è¾“è·ç¦»ï¼šä¹Ÿå°±æ˜¯æ•°æ®åœ¨å…‰çº¤ä¸­è¦èµ°çš„è·ç¦»ï¼Œè™½ç„¶å…‰çš„ä¼ æ’­é€Ÿåº¦å¾ˆå¿«ï¼Œä½†ä¹Ÿæ˜¯æœ‰æ—¶é—´çš„ï¼Œç”±äºæ•°æ®åœ¨å…‰çº¤ä¸­çš„ç§»åŠ¨å¹¶ä¸æ˜¯èµ°ç›´çº¿çš„ï¼Œä¼šæœ‰ä¸€ä¸ªæŠ˜å°„ç‡ï¼Œæ‰€ä»¥å¤§æ¦‚æ˜¯å…‰çš„ 2/3ï¼Œè¿™ä¸ªæ—¶é—´ä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ä¼ è¾“å»¶æ—¶ã€‚ä¼ è¾“å»¶æ—¶æ˜¯ä¸€ä¸ªæ— æ³•é¿å…çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œä½ è¦ç»™åœ¨æ­å·å’Œé’å²›çš„ä¸¤ä¸ªæœºæˆ¿çš„ä¸€ä¸ªæ•°æ®åº“è¿›è¡ŒåŒæ­¥æ•°æ®æ“ä½œï¼Œé‚£ä¹ˆå¿…å®šä¼šå­˜åœ¨çº¦ 30ms çš„ä¸€ä¸ªå»¶æ—¶ã€‚ TCP æ‹¥å¡æ§åˆ¶ï¼šæˆ‘ä»¬çŸ¥é“ TCP ä¼ è¾“æ˜¯ä¸€ä¸ª â€œåœ-ç­‰-åœ-ç­‰â€ çš„åè®®ï¼Œä¼ è¾“æ–¹å’Œæ¥å—æ–¹çš„æ­¥è°ƒè¦ä¸€è‡´ï¼Œè¦è¾¾åˆ°æ­¥è°ƒä¸€è‡´å°±è¦é€šè¿‡æ‹¥å¡æ§åˆ¶æ¥è°ƒèŠ‚ã€‚TCP åœ¨ä¼ è¾“æ—¶ä¼šè®¾å®šä¸€ä¸ª â€œçª—å£â€ï¼Œè¿™ä¸ªçª—å£çš„å¤§å°æ˜¯ç”±å¸¦å®½å’Œ RTTï¼ˆRound-Trip Timeï¼Œæ•°æ®åœ¨ä¸¤ç«¯çš„æ¥å›æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯å“åº”æ—¶é—´ï¼‰å†³å®šçš„ã€‚è®¡ç®—çš„å…¬å¼æ˜¯å¸¦å®½ï¼ˆb/sï¼‰xRTTï¼ˆsï¼‰ã€‚é€šè¿‡è¿™ä¸ªå€¼å°±å¯ä»¥å¾—å‡ºç†è®ºä¸Šæœ€ä¼˜çš„ TCP ç¼“å†²åŒºçš„å¤§å°ã€‚Linux 2.4 å·²ç»å¯ä»¥è‡ªåŠ¨åœ°è°ƒæ•´å‘é€ç«¯çš„ç¼“å†²åŒºçš„å¤§å°ï¼Œè€Œåˆ° Linux 2.6.7 æ—¶æ¥æ”¶ç«¯ä¹Ÿå¯ä»¥è‡ªåŠ¨è°ƒæ•´äº†ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(å››)â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-å››-â€”â€”ç‰ˆæœ¬ç‰¹æ€§ç¯‡","date":"2018-05-16T23:02:00.000Z","updated":"2020-08-03T08:56:37.993Z","comments":true,"path":"2018/05/17/java-mian-shi-zhi-shi-dian-jie-xi-si-ban-ben-te-xing-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/17/java-mian-shi-zhi-shi-dian-jie-xi-si-ban-ben-te-xing-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡ å¯¹äº Java å„ä¸ªç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œç‰¹åˆ«æ˜¯ Java 8 çš„æ–°çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥æœ‰æ‰€äº†è§£ã€‚å‰æ’ç”³æ˜å’Œå¥½æ–‡æ¨èï¼šé—ªçƒä¹‹ç‹ Â» Java5æ–°ç‰¹æ€§åŠä½¿ç”¨ Â» Java6æ–°ç‰¹æ€§åŠä½¿ç”¨ Â» Java7æ–°ç‰¹æ€§åŠä½¿ç”¨ Â» Java8æ–°ç‰¹æ€§åŠä½¿ç”¨(ä¸€) Â» Java8æ–°ç‰¹æ€§åŠä½¿ç”¨(äºŒ) ï¼ˆä¸€ï¼‰Java 5 ç›¸å…³çŸ¥è¯†ç‚¹ å‚è€ƒæ–‡ç« ï¼šjdk 1.5æ–°ç‰¹æ€§ 1ï¼‰å¢å¼ºå‹ for å¾ªç¯ï¼šç­”ï¼šå¢å¼º for å¾ªç¯ï¼šforeach è¯­å¥ï¼Œforeach ç®€åŒ–äº†è¿­ä»£å™¨ã€‚ æ ¼å¼ï¼š// å¢å¼ºforå¾ªç¯æ‹¬å·é‡Œå†™ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œç¬¬äºŒä¸ªå°±æ˜¯éœ€è¦è¿­ä»£çš„å®¹å™¨ for( å…ƒç´ ç±»å‹ å˜é‡å : Collectioné›†åˆ &amp; æ•°ç»„ ) { â€¦ } è¯­æ³•ï¼šfor ( type å˜é‡åï¼šé›†åˆå˜é‡å ) { â€¦ } æ³¨æ„äº‹é¡¹ï¼š è¿­ä»£å˜é‡å¿…é¡»åœ¨( )ä¸­å®šä¹‰ï¼ é›†åˆå˜é‡å¯ä»¥æ˜¯æ•°ç»„æˆ–å®ç°äº†Iterableæ¥å£çš„é›†åˆç±»ã€‚ é«˜çº§forå¾ªç¯å’Œä¼ ç»Ÿforå¾ªç¯çš„åŒºåˆ«ï¼š é«˜çº§forå¾ªç¯åœ¨ä½¿ç”¨æ—¶ï¼Œå¿…é¡»è¦æ˜ç¡®è¢«éå†çš„ç›®æ ‡ã€‚è¿™ä¸ªç›®æ ‡ï¼Œå¯ä»¥æ˜¯Collectioné›†åˆæˆ–è€…æ•°ç»„ï¼Œå¦‚æœéå†Collectioné›†åˆï¼Œåœ¨éå†è¿‡ç¨‹ä¸­è¿˜éœ€è¦å¯¹å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚åˆ é™¤ï¼Œéœ€è¦ä½¿ç”¨è¿­ä»£å™¨ã€‚ å¦‚æœéå†æ•°ç»„ï¼Œè¿˜éœ€è¦å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œå»ºè®®ç”¨ä¼ ç»Ÿforå¾ªç¯å› ä¸ºå¯ä»¥å®šä¹‰è§’æ ‡é€šè¿‡è§’æ ‡æ“ä½œå…ƒç´ ã€‚å¦‚æœåªä¸ºéå†è·å–ï¼Œå¯ä»¥ç®€åŒ–æˆé«˜çº§forå¾ªç¯ï¼Œå®ƒçš„å‡ºç°ä¸ºäº†ç®€åŒ–ä¹¦å†™ã€‚æ¯”èµ·æ™®é€šçš„forå¾ªç¯ï¼Œé«˜çº§forå¾ªç¯è¿˜æœ‰æ€§èƒ½ä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒå¯¹æ•°ç»„ç´¢å¼•çš„è¾¹ç•Œå€¼åªè®¡ç®—ä¸€æ¬¡ï¼ˆæ‘˜è‡ªã€ŠEffective Javaã€‹ç¬¬46æ¡ï¼‰ã€‚ é«˜çº§forå¾ªç¯å¯ä»¥éå†mapé›†åˆå—ï¼Ÿ ç­”ï¼šåŸåˆ™ä¸Šmapé›†åˆæ˜¯æ— æ³•ä½¿ç”¨å¢å¼ºforå¾ªç¯æ¥è¿­ä»£çš„ï¼Œå› ä¸ºå¢å¼ºforå¾ªç¯åªèƒ½é’ˆå¯¹å®ç°äº†Iterableæ¥å£çš„é›†åˆè¿›è¡Œè¿­ä»£ï¼›Iterableæ˜¯jdk5ä¸­æ–°å®šä¹‰çš„æ¥å£ï¼Œå°±ä¸€ä¸ªæ–¹æ³•iteratoræ–¹æ³•ï¼Œåªæœ‰å®ç°äº†Iterableæ¥å£çš„ç±»ï¼Œæ‰èƒ½ä¿è¯ä¸€å®šæœ‰iteratoræ–¹æ³•ï¼Œjavaæœ‰è¿™æ ·çš„é™å®šæ˜¯å› ä¸ºå¢å¼ºforå¾ªç¯å†…éƒ¨è¿˜æ˜¯ç”¨è¿­ä»£å™¨å®ç°çš„ï¼Œè€Œå®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ–¹å¼æ¥ä½¿ç”¨å¢å¼ºforå¾ªç¯ã€‚ for(Object obj : map.entrySet()) { Map.Entry entry = (Entry) obj; // obj ä¾æ¬¡è¡¨ç¤ºEntry System.out.println(entry.getKey() + \"=\" + entry.getValue()); } æ€»ä¹‹ï¼Œfor-each å¾ªç¯åœ¨ç®€æ´æ€§å’Œé¢„é˜² Bug æ–¹é¢æœ‰ç€ä¼ ç»Ÿ for å¾ªç¯æ— æ³•æ¯”æ‹Ÿçš„ä¼˜åŠ¿ï¼Œå¹¶ä¸”æ²¡æœ‰æ€§èƒ½æŸå¤±ã€‚åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ for-each å¾ªç¯ã€‚é—æ†¾çš„æ˜¯ï¼Œæœ‰ä¸‰ç§å¸¸è§çš„æƒ…å†µæ˜¯æ— æ³•ä½¿ç”¨ for-each å¾ªç¯çš„ï¼š è¿‡æ»¤â€”â€”å¦‚æœéœ€è¦éå†é›†åˆï¼Œå¹¶åˆ é™¤é€‰å®šçš„å…ƒç´ ï¼Œå°±éœ€è¦ä½¿ç”¨æ˜¾å¼åœ°è¿­ä»£å™¨ï¼Œä»¥ä¾¿å¯ä»¥è°ƒç”¨å®ƒçš„ remove æ–¹æ³•ã€‚ è½¬æ¢â€”â€”å¦‚æœéœ€è¦éå†åˆ—è¡¨æˆ–è€…æ•°ç»„ï¼Œå¹¶å–ä»£å®ƒéƒ¨åˆ†æˆ–è€…å…¨éƒ¨çš„å…ƒç´ å€¼ï¼ˆå¢åˆ ã€æˆ–å¯¹å…ƒç´ è¿›è¡Œèµ‹å€¼ï¼‰ï¼Œå°±éœ€è¦åˆ—è¡¨è¿­ä»£å™¨æˆ–è€…æ•°ç»„ç´¢å¼•ï¼Œä»¥ä¾¿è®¾å®šå…ƒç´ çš„å€¼ å¹³è¡Œè¿­ä»£â€”â€”å¦‚æœéœ€è¦å¹¶è¡Œåœ°éå†å¤šä¸ªé›†åˆï¼Œå°±éœ€è¦æ˜¾å¼åœ°æ§åˆ¶è¿­ä»£å™¨æˆ–è€…æ‰€å› å˜é‡ä»¥ä¾¿æ‰€æœ‰è¿­ä»£å™¨æˆ–è€…ç´¢å¼•å˜é‡éƒ½å¯ä»¥å¾—åˆ°åŒæ­¥å‰ç§» 2ï¼‰å¯å˜å‚æ•°ï¼šè§£æï¼šä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼šåœ¨ JDK 1.5 ä¹‹å‰ï¼Œå½“æˆ‘ä»¬è¦ä¸ºä¸€ä¸ªä¼ é€’å¤šä¸ªç±»å‹ç›¸åŒçš„å‚æ•°æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•è§£å†³ï¼Œ1.ç›´æ¥ä¼ é€’ä¸€ä¸ªæ•°ç»„è¿‡å»ï¼Œ2.æœ‰å¤šå°‘ä¸ªå‚æ•°å°±ä¼ é€’å¤šå°‘ä¸ªå‚æ•°ã€‚ ä¾‹å¦‚ï¼š public void printColor(String red,String green,String yellow){ } // æˆ–è€… public void printColor(String[] colors){ } è¿™æ ·ç¼–å†™æ–¹æ³•å‚æ•°è™½ç„¶èƒ½å¤Ÿå®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æœ‰ç‚¹éº»çƒ¦å‘¢ï¼Ÿå†è€…ï¼Œå¦‚æœå‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œæˆ‘ä»¬æ€ä¹ˆåŠå‘¢ï¼ŸJava JDK1.5ä¸ºæˆ‘ä»¬æä¾›çš„å¯å˜å‚æ•°å°±èƒ½å¤Ÿå®Œç¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ ç­”ï¼š å¯å˜å‚æ•°ï¼ˆâ€¦ï¼‰ï¼šç”¨åˆ°å‡½æ•°çš„å‚æ•°ä¸Šï¼Œå½“è¦æ“ä½œçš„åŒä¸€ä¸ªç±»å‹å…ƒç´ ä¸ªæ•°ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¯æ˜¯ç”¨è¿™ä¸ªæ–¹å¼ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æ¥å—ä»»æ„ä¸ªæ•°çš„åŒä¸€ç±»å‹çš„æ•°æ®ã€‚ å’Œä»¥å‰æ¥æ”¶æ•°ç»„ä¸ä¸€æ ·çš„æ˜¯ï¼š ä»¥å‰å®šä¹‰æ•°ç»„ç±»å‹ï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œå†å°†è¿™ä¸ªæ•°ç»„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚ç°åœ¨ï¼Œç›´æ¥å°†æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’å³å¯ã€‚åº•å±‚å…¶å®æ˜¯å°†è¿™äº›å…ƒç´ è¿›è¡Œæ•°ç»„çš„å°è£…ï¼Œè€Œè¿™ä¸ªå°è£…åŠ¨ä½œï¼Œæ˜¯åœ¨åº•å±‚å®Œæˆçš„ï¼Œè¢«éšè—äº†ã€‚æ‰€ä»¥ç®€åŒ–äº†ç”¨æˆ·çš„ä¹¦å†™ï¼Œå°‘äº†è°ƒç”¨è€…å®šä¹‰æ•°ç»„çš„åŠ¨ä½œã€‚ å¦‚æœåœ¨å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨äº†å¯å˜å‚æ•°ï¼Œå¯å˜å‚æ•°å¿…é¡»å®šä¹‰åœ¨å‚æ•°åˆ—è¡¨ç»“å°¾(ä¹Ÿå°±æ˜¯å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå¤±è´¥ã€‚)ã€‚ å¦‚æœè¦è·å–å¤šä¸ªintæ•°çš„å’Œå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨å°†å¤šä¸ªintæ•°å°è£…åˆ°æ•°ç»„ä¸­ï¼Œç›´æ¥å¯¹æ•°ç»„æ±‚å’Œå³å¯ã€‚ å¯å˜å‚æ•°çš„ç‰¹ç‚¹ï¼š â‘  åªèƒ½å‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€åï¼› â‘¡ â€œâ€¦â€ ä½äºå˜é‡ç±»å‹å’Œå˜é‡åä¹‹é—´ï¼Œå‰åæœ‰æ— ç©ºæ ¼éƒ½å¯ä»¥; â‘¢ è°ƒç”¨å¯å˜å‚æ•°çš„æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¸ºè¯¥å¯å˜å‚æ•°éšå«åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æ–¹æ³•ä½“ä¸­ä»¥æ•°ç»„çš„å½¢å¼è®¿é—®å¯å˜å‚æ•°ã€‚ Public int add(int x, int... args){//ä¹Ÿå¯ä»¥ç›´æ¥ï¼ˆint..argsï¼‰å°±æ˜¯è¯´ä¼ ä¸ä¼ éƒ½å¯ä»¥ Int sum = x; For(int i = 0; i&lt;=args.lengrth;i++){ Sum+=args[i]; } return sum; } å®ä¾‹ï¼š public class VariableParameter { public static void main(String[] args) { System. out.println(add(1, 2)); System. out.println(add(1, 2, 3)); } public static int add(int x, int... args){ int sum = x; for(int i = 0; i &lt; args.length; i++){ sum += args[i]; } return sum; } } 3ï¼‰æšä¸¾è§£æï¼šå…³é”®å­— enum ç­”ï¼š é—®é¢˜ï¼šå¯¹è±¡çš„æŸä¸ªå±æ€§çš„å€¼ä¸èƒ½æ˜¯ä»»æ„çš„ï¼Œå¿…é¡»ä¸ºå›ºå®šçš„ä¸€ç»„å–å€¼å…¶ä¸­çš„æŸä¸€ä¸ªï¼› è§£å†³åŠæ³•ï¼š 1ï¼‰åœ¨ setGrade æ–¹æ³•ä¸­åšåˆ¤æ–­ï¼Œä¸ç¬¦åˆæ ¼å¼è¦æ±‚å°±æŠ›å‡ºå¼‚å¸¸ï¼›2ï¼‰ç›´æ¥é™å®šç”¨æˆ·çš„é€‰æ‹©ï¼Œé€šè¿‡è‡ªå®šä¹‰ç±»æ¨¡æ‹Ÿæšä¸¾çš„æ–¹å¼æ¥é™å®šç”¨æˆ·çš„è¾“å…¥ï¼Œå†™ä¸€ä¸ª Grade ç±»ï¼Œç§æœ‰æ„é€ å‡½æ•°ï¼Œå¯¹å¤–æä¾› 5 ä¸ªé™æ€çš„å¸¸é‡è¡¨ç¤ºç±»çš„å®ä¾‹ï¼›3ï¼‰jdk5 ä¸­æ–°å®šä¹‰äº†æšä¸¾ç±»å‹ï¼Œä¸“é—¨ç”¨äºè§£å†³æ­¤ç±»é—®é¢˜ï¼›4ï¼‰æšä¸¾å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„javaç±»ï¼Œå¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å‡½æ•°ã€å®ç°æ¥å£ã€ç»§æ‰¿ç±»ï¼› ä¸ºä»€ä¹ˆè¦æœ‰æšä¸¾ï¼Ÿ é—®é¢˜ï¼šè¦å®šä¹‰æ˜ŸæœŸå‡ æˆ–æ€§åˆ«çš„å˜é‡ï¼Œè¯¥æ€ä¹ˆå®šä¹‰ï¼Ÿå‡è®¾ç”¨1-7åˆ†åˆ«è¡¨ç¤ºæ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸæ—¥ï¼Œä½†æœ‰äººå¯èƒ½ä¼šå†™æˆint weekday = 0;æˆ–å³ä½¿ä½¿ç”¨å¸¸é‡æ–¹å¼ä¹Ÿæ— æ³•é˜»æ­¢æ„å¤–ã€‚ æšä¸¾å°±æ˜¯è¦è®©æŸä¸ªç±»å‹çš„å˜é‡çš„å–å€¼åªèƒ½ä¸ºè‹¥å¹²ä¸ªå›ºå®šå€¼ä¸­çš„ä¸€ä¸ªï¼Œå¦åˆ™ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚æšä¸¾å¯ä»¥è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥æ§åˆ¶æºç¨‹åºä¸­å¡«å†™çš„éæ³•å€¼ï¼Œæ™®é€šå˜é‡çš„æ–¹å¼åœ¨å¼€å‘é˜¶æ®µæ— æ³•å®ç°è¿™ä¸€ç›®æ ‡ã€‚ ç”¨æ™®é€šç±»å¦‚ä½•å®ç°æšä¸¾åŠŸèƒ½ï¼Œå®šä¹‰ä¸€ä¸ªWeekdayçš„ç±»æ¥æ¨¡æ‹Ÿæšä¸¾åŠŸèƒ½ã€‚ 1ã€ç§æœ‰çš„æ„é€ æ–¹æ³•ã€‚2ã€æ¯ä¸ªå…ƒç´ åˆ†åˆ«ç”¨ä¸€ä¸ªå…¬æœ‰çš„é™æ€æˆå‘˜å˜é‡è¡¨ç¤ºã€‚ å¯ä»¥æœ‰è‹¥å¹²å…¬æœ‰æ–¹æ³•æˆ–æŠ½è±¡æ–¹æ³•ã€‚é‡‡ç”¨æŠ½è±¡æ–¹æ³•å®šä¹‰nextDayå°±å°†å¤§é‡çš„if.elseè¯­å¥è½¬ç§»æˆäº†ä¸€ä¸ªä¸ªç‹¬ç«‹çš„ç±» ç¤ºä¾‹ï¼šå®šä¹‰ä¸€ä¸ªWeekdayçš„ç±»æ¥æ¨¡æ‹Ÿæšä¸¾åŠŸèƒ½ã€‚ public class WeekDay { private WeekDay(){} public static final WeekDay SUN = new WeekDay(); public static final WeekDay MON = new WeekDay(); public WeekDay nextDay(){ if(this == SUN){ return MON ; } else{ return SUN ; } } public String toString(){ return this == SUN? \"SUN\":\"MON\" ; } } public class EnumTest { public static void main(String[] args) { WeekDay day = WeekDay.MON; System. out.println(day.nextDay()); //ç»“æœï¼šSUN } } ä½¿ç”¨æšä¸¾ç±»å®ç° public class EnumTest { public static void main(String[] args) { WeekDay day = WeekDay.FRI; System.out.println(day); //ç»“æœï¼šFRI System.out.println(day.name()); //ç»“æœï¼šFRI System.out.println(day.ordinal()); //ç»“æœï¼š5 System.out.println(WeekDay. valueOf(\"SUN\")); //ç»“æœï¼šSUN System.out.println(WeekDay. values().length); //ç»“æœï¼š7 } public enum WeekDay{ SUN,MON ,TUE,WED, THI,FRI ,SAT; } } æ€»ç»“ï¼š æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œä¾‹å¦‚å¯ä»¥è°ƒç”¨WeekDay.SUN.getClass().getName å’Œ WeekDay.class.getName()ã€‚ æ³¨æ„ï¼š æœ€åä¸€ä¸ªæšä¸¾å…ƒç´ åé¢å¯ä»¥åŠ åˆ†å·ï¼Œä¹Ÿå¯ä»¥ä¸åŠ åˆ†å·ã€‚ å®ç°å¸¦æœ‰æ„é€ æ–¹æ³•çš„æšä¸¾ æšä¸¾å°±ç›¸å½“äºä¸€ä¸ªç±»ï¼Œå…¶ä¸­ä¹Ÿå¯ä»¥å®šä¹‰æ„é€ æ–¹æ³•ã€æˆå‘˜å˜é‡ã€æ™®é€šæ–¹æ³•å’ŒæŠ½è±¡æ–¹æ³•ã€‚ æšä¸¾å…ƒç´ å¿…é¡»ä½äºæšä¸¾ä½“ä¸­çš„æœ€å¼€å§‹éƒ¨åˆ†ï¼Œæšä¸¾å…ƒç´ åˆ—è¡¨çš„æœ€åè¦æœ‰åˆ†å·ä¸å…¶ä»–æˆå‘˜åˆ†éš”ã€‚æŠŠæšä¸¾ä¸­çš„æˆå‘˜æ–¹æ³•æˆ–å˜é‡ç­‰æ”¾åœ¨æšä¸¾å…ƒç´ çš„å‰é¢ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥å‘Šé”™è¯¯ã€‚ å¸¦æ„é€ æ–¹æ³•çš„æšä¸¾ï¼šæ„é€ æ–¹æ³•å¿…é¡»å®šä¹‰æˆç§æœ‰çš„å¦‚æœæœ‰å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œå°†æ ¹æ®æšä¸¾å…ƒç´ åˆ›å»ºæ—¶æ‰€å¸¦çš„å‚æ•°å†³å®šé€‰æ‹©å“ªä¸ªæ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚æšä¸¾å…ƒç´  MON å’Œ MON() çš„æ•ˆæœä¸€æ ·ï¼Œéƒ½æ˜¯è°ƒç”¨é»˜è®¤çš„æ„é€ æ–¹æ³•ã€‚ ç¤ºä¾‹ï¼š public class EnumTest { public static void main(String[] args) { WeekDay day = WeekDay.FRI; } public enum WeekDay{ SUN(1),MON (),TUE, WED,THI ,FRI,SAT; private WeekDay(){ System. out.println(\"first\" ); } private WeekDay(int value){ System. out.println(\"second\" ); } //ç»“æœï¼š //second //first //first //first //first //first //first } } å®ç°å¸¦æœ‰æŠ½è±¡æ–¹æ³•çš„æšä¸¾ å®šä¹‰æšä¸¾TrafficLampï¼Œå®ç°æŠ½è±¡çš„nextTrafficLampæ–¹æ³•ï¼šæ¯ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ç”±æšä¸¾ç±»çš„å­ç±»æ¥ç”Ÿæˆçš„å®ä¾‹å¯¹è±¡ï¼Œè¿™äº›å­ç±»é‡‡ç”¨ç±»ä¼¼å†…éƒ¨ç±»çš„æ–¹å¼è¿›è¡Œå®šä¹‰ã€‚å¢åŠ ä¸Šè¡¨ç¤ºæ—¶é—´çš„æ„é€ æ–¹æ³•ã€‚ public class EnumTest { public static void main(String[] args) { TrafficLamp lamp = TrafficLamp.RED; System.out.println(lamp.nextLamp()); //ç»“æœï¼šGREEN } public enum TrafficLamp { RED(30) { public TrafficLamp nextLamp() { return GREEN; } }, GREEN(45) { public TrafficLamp nextLamp() { return YELLOW; } }, YELLOW(5) { public TrafficLamp nextLamp() { return RED; } }; private int time; private TrafficLamp(int time) { this.time = time; } public abstract TrafficLamp nextLamp(); } } æ³¨æ„ï¼š1ã€æšä¸¾åªæœ‰ä¸€ä¸ªæˆå‘˜æ—¶ï¼Œå°±å¯ä»¥ä½œä¸ºä¸€ç§å•ä¾‹çš„å®ç°æ–¹å¼ã€‚2ã€æŸ¥çœ‹ç”Ÿæˆçš„classæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å†…éƒ¨ç±»å¯¹åº”çš„classæ–‡ä»¶ã€‚ 4ï¼‰è‡ªåŠ¨æ‹†è£…ç®±ç­”ï¼šåœ¨ Java ä¸­æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤ç§ï¼šåŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨æ•°æ®ç±»å‹(å¯¹è±¡) è‡ªåŠ¨è£…ç®±ï¼šæŠŠåŸºæœ¬ç±»å‹å˜æˆåŒ…è£…å™¨ç±»å‹ï¼Œæœ¬è´¨æ˜¯è°ƒç”¨åŒ…è£…å™¨ç±»å‹çš„valueOfï¼ˆï¼‰æ–¹æ³• æ³¨æ„ï¼šåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ä¸åŒ…è£…å™¨ç±»å‹æ•°ç»„ä¸èƒ½äº’æ¢ åœ¨ javaç¨‹åºä¸­æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦å½“åšå¯¹è±¡æ¥å¤„ç†ï¼Œé’ˆå¯¹8ç§åŸºæœ¬æ•°æ®ç±»å‹æä¾›äº†åŒ…è£…ç±»ï¼Œå¦‚ä¸‹ï¼š int â†’ Integerbyte â†’ Byteshort â†’ Shortlong â†’ Longchar â†’ Characterdouble â†’ Doublefloat â†’ Floatboolean â†’ Boolean åœ¨ jdk 1.5 ä»¥å‰åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»ä¹‹é—´éœ€è¦ç›¸äº’è½¬æ¢ï¼š åŸºæœ¬â€”å¼•ç”¨ Integer x = new Integer(x);å¼•ç”¨â€”åŸºæœ¬ int num = x.intValue(); 1ï¼‰Integer x = 1; x = x + 1; ç»å†äº†ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿè£…ç®±â†’æ‹†ç®±â†’è£…ç®±2ï¼‰ä¸ºäº†ä¼˜åŒ–ï¼Œè™šæ‹Ÿæœºä¸ºåŒ…è£…ç±»æä¾›äº†ç¼“å†²æ± ï¼ŒIntegeræ± çš„å¤§å°ä¸º -128~127 ä¸€ä¸ªå­—èŠ‚çš„å¤§å°ã€‚Stringæ± ï¼šJava ä¸ºäº†ä¼˜åŒ–å­—ç¬¦ä¸²æ“ä½œä¹Ÿæä¾›äº†ä¸€ä¸ªç¼“å†²æ± ï¼› â†’ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ï¼šäº«å…ƒæ¨¡å¼çš„ç‰¹ç‚¹æ˜¯ï¼Œå¤ç”¨æˆ‘ä»¬å†…å­˜ä¸­å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œé™ä½ç³»ç»Ÿåˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚ è‡ªåŠ¨è£…ç®±ï¼š Integer num1 = 12; è‡ªåŠ¨æ‹†ç®±ï¼š System.out.println(num1 + 12); åŸºæœ¬æ•°æ®ç±»å‹çš„å¯¹è±¡ç¼“å­˜ï¼š Integer num1 = 12; Integer num2 = 12; System.out.println(num1 == num2);//ture Integer num3 = 129; Integer num4 = 129; System.out.println(num3 == num4);//false Integer num5 = Integer.valueOf(12); Integer num6 = Integer.valueOf(12); System.out.println(num5 == num6);//true ç¤ºä¾‹ï¼š public class AutoBox { public static void main(String[] args) { //è£…ç®± Integer iObj = 3; //æ‹†ç®± System. out.println(iObj + 12); //ç»“æœï¼š15 Integer i1 = 13; Integer i2 = 13; System. out.println(i1 == i2); //ç»“æœï¼štrue i1 = 137; i2 = 137; System. out.println(i1 == i2); //ç»“æœï¼šfalse } } æ³¨æ„ï¼šå¦‚æœæœ‰å¾ˆå¤šå¾ˆå°çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä»–ä»¬æœ‰ç›¸åŒçš„ä¸œè¥¿ï¼Œé‚£å°±å¯ä»¥æŠŠä»–ä»¬ä½œä¸ºä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœè¿˜æœ‰å¾ˆå¤šä¸åŒçš„ä¸œè¥¿ï¼Œé‚£å°±å¯ä»¥ä½œä¸ºå¤–éƒ¨çš„ä¸œè¥¿ï¼Œä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¿™å°±æ˜¯äº«å…ƒè®¾è®¡æ¨¡å¼ï¼ˆflyweightï¼‰ã€‚ ä¾‹å¦‚ç¤ºä¾‹ä¸­çš„Integerå¯¹è±¡ï¼Œåœ¨-128~127èŒƒå›´å†…çš„Integerå¯¹è±¡ï¼Œç”¨çš„é¢‘ç‡æ¯”è¾ƒé«˜ï¼Œå°±ä¼šä½œä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ç»“æœä¸ºtrueã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å°±ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ç»“æœä¸ºfalseã€‚ 5ï¼‰æ³›å‹ Genericsç­”ï¼šå¼•ç”¨æ³›å‹ä¹‹åï¼Œå…è®¸æŒ‡å®šé›†åˆé‡Œå…ƒç´ çš„ç±»å‹ï¼Œå…å»äº†å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸”èƒ½åœ¨ç¼–è¯‘æ—¶åˆ»è¿›è¡Œç±»å‹æ£€æŸ¥çš„å¥½å¤„ã€‚Parameterized Typeä½œä¸ºå‚æ•°å’Œè¿”å›å€¼ï¼ŒGenericæ˜¯varargã€annotationã€enumerationã€collectionçš„åŸºçŸ³ã€‚ æ³›å‹å¯ä»¥å¸¦æ¥å¦‚ä¸‹çš„å¥½å¤„æ€»ç»“å¦‚ä¸‹ï¼š ç±»å‹å®‰å…¨ï¼šæŠ›å¼ƒListã€Mapï¼Œä½¿ç”¨Listã€Mapç»™å®ƒä»¬æ·»åŠ å…ƒç´ æˆ–è€…ä½¿ç”¨Iteratoréå†æ—¶ï¼Œç¼–è¯‘æœŸå°±å¯ä»¥ç»™ä½ æ£€æŸ¥å‡ºç±»å‹é”™è¯¯ æ–¹æ³•å‚æ•°å’Œè¿”å›å€¼åŠ ä¸Šäº†Type: æŠ›å¼ƒListã€Mapï¼Œä½¿ç”¨Listã€Map ä¸éœ€è¦ç±»å‹è½¬æ¢ï¼šList list = new ArrayList(); ç±»å‹é€šé…ç¬¦â€œ?â€ï¼š å‡è®¾ä¸€ä¸ªæ‰“å°Listä¸­å…ƒç´ çš„æ–¹æ³•printList,æˆ‘ä»¬å¸Œæœ›ä»»ä½•ç±»å‹Tçš„Listéƒ½å¯ä»¥è¢«æ‰“å° 6ï¼‰é™æ€å¯¼å…¥ç­”ï¼šé™æ€å¯¼å…¥ï¼šå¯¼å…¥äº†ç±»ä¸­çš„æ‰€æœ‰é™æ€æˆå‘˜ï¼Œç®€åŒ–é™æ€æˆå‘˜çš„ä¹¦å†™ã€‚importè¯­å¥å¯ä»¥å¯¼å…¥ä¸€ä¸ªç±»æˆ–æŸä¸ªåŒ…ä¸­çš„æ‰€æœ‰ç±»import staticè¯­å¥å¯¼å…¥ä¸€ä¸ªç±»ä¸­çš„æŸä¸ªé™æ€æ–¹æ³•æˆ–æ‰€æœ‰é™æ€æ–¹æ³• import static java.util.Collections.*; //å¯¼å…¥äº†Collectionsç±»ä¸­çš„æ‰€æœ‰é™æ€æˆå‘˜ é™æ€å¯¼å…¥å¯ä»¥å¯¼å…¥é™æ€æ–¹æ³•ï¼Œè¿™æ ·å°±ä¸å¿…å†™ç±»åè€Œå¯ä»¥ç›´æ¥è°ƒç”¨é™æ€æ–¹æ³•äº†ã€‚ ä¾‹å­ï¼š åŸæ¥çš„ï¼š public class Demo12 { public static void main(String[] args) { System.out.println(Math.max(12, 15)); System. out.println(Math.abs(3-6)); } } ä½¿ç”¨é™æ€å¯¼å…¥çš„ï¼š import static java.lang.Math.max ; import static java.lang.Math.abs ; public class Demo12 { public static void main(String[] args) { System.out.println(max(12, 15)); System. out.println(abs(3-6)); } } æ³¨æ„ï¼š 1ã€ä¹Ÿå¯ä»¥é€šè¿‡import static java.lang.Math.*;å¯¼å…¥Mathç±»ä¸‹æ‰€æœ‰çš„é™æ€æ–¹æ³•ã€‚2ã€å¦‚æœå°†javacè®¾ç½®ä¸ºäº†Java5ä»¥ä¸‹ï¼Œé‚£ä¹ˆé™æ€å¯¼å…¥ç­‰jdk1.5çš„ç‰¹æ€§éƒ½ä¼šæŠ¥å‘Šé”™è¯¯ã€‚ 7ï¼‰æ–°çš„çº¿ç¨‹æ¨¡å‹å’Œå¹¶å‘åº“Thread Framework(é‡è¦)ç­”ï¼š æœ€ä¸»è¦çš„å°±æ˜¯å¼•å…¥äº† java.util.concurrent åŒ…ï¼Œè¿™ä¸ªéƒ½æ˜¯éœ€è¦é‡ç‚¹æŒæ¡çš„ã€‚ HashMap çš„æ›¿ä»£è€… ConcurrentHashMap å’Œ ArrayList çš„æ›¿ä»£è€… CopyOnWriteArrayList åœ¨å¤§å¹¶å‘é‡è¯»å–æ—¶é‡‡ç”¨ java.util.concurrent åŒ…é‡Œçš„ä¸€äº›ç±»ä¼šè®©å¤§å®¶æ»¡æ„ BlockingQueueã€Callableã€Executorã€Semaphore 8ï¼‰å†…çœï¼ˆIntrospectorï¼‰ç­”ï¼šæ˜¯ Java è¯­è¨€å¯¹ Bean ç±»å±æ€§ã€äº‹ä»¶çš„ä¸€ç§ç¼ºçœå¤„ç†æ–¹æ³•ã€‚ä¾‹å¦‚ç±» A ä¸­æœ‰å±æ€§ name , é‚£æˆ‘ä»¬é€šè¿‡ getName,setName æ¥å¾—åˆ°å…¶å€¼æˆ–è€…è®¾ç½®æ–°çš„å€¼ã€‚é€šè¿‡ getName/setName æ¥è®¿é—®nameå±æ€§ï¼Œè¿™å°±æ˜¯é»˜è®¤çš„è§„åˆ™ã€‚Java ä¸­æä¾›äº†ä¸€å¥— API ç”¨æ¥è®¿é—®æŸä¸ªå±æ€§çš„ getter /setter æ–¹æ³•ï¼Œé€šè¿‡è¿™äº› API å¯ä»¥ä½¿ä½ ä¸éœ€è¦äº†è§£è¿™ä¸ªè§„åˆ™ï¼ˆä½†ä½ æœ€å¥½è¿˜æ˜¯è¦ææ¸…æ¥šï¼‰ï¼Œè¿™äº› API å­˜æ”¾äºåŒ… java.beans ä¸­ã€‚ ä¸€èˆ¬çš„åšæ³•æ˜¯é€šè¿‡ç±» Introspector æ¥è·å–æŸä¸ªå¯¹è±¡çš„ BeanInfo ä¿¡æ¯ï¼Œç„¶åé€šè¿‡ BeanInfo æ¥è·å–å±æ€§çš„æè¿°å™¨ ï¼ˆPropertyDescriptorï¼‰ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§æè¿°å™¨å°±å¯ä»¥è·å–æŸä¸ªå±æ€§å¯¹åº”çš„ getter/setter æ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åå°„æœºåˆ¶æ¥ è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚ æ‰©å±•é˜…è¯»ï¼šjava Introspector(å†…çœ) çš„ä»‹ç» 9ï¼‰æ³¨è§£ï¼ˆAnnotationsï¼‰ç­”ï¼š æ³¨è§£(Annotation)æ˜¯ä¸€ç§åº”ç”¨äºç±»ã€æ–¹æ³•ã€å‚æ•°ã€å˜é‡ã€æ„é€ å™¨åŠåŒ…å£°æ˜ä¸­çš„ç‰¹æ®Šä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯ä¸€ç§ç”±JSR-175æ ‡å‡†é€‰æ‹©ç”¨æ¥æè¿°å…ƒæ•°æ®çš„ä¸€ç§å·¥å…·ã€‚Javaä»Java5å¼€å§‹å¼•å…¥äº†æ³¨è§£ã€‚åœ¨æ³¨è§£å‡ºç°ä¹‹å‰ï¼Œç¨‹åºçš„å…ƒæ•°æ®åªæ˜¯é€šè¿‡javaæ³¨é‡Šå’Œjavadocï¼Œä½†æ˜¯æ³¨è§£æä¾›çš„åŠŸèƒ½è¦è¿œè¿œè¶…è¿‡è¿™äº›ã€‚æ³¨è§£ä¸ä»…åŒ…å«äº†å…ƒæ•°æ®ï¼Œå®ƒè¿˜å¯ä»¥ä½œç”¨äºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ã€æ³¨è§£è§£é‡Šå™¨å¯ä»¥é€šè¿‡æ³¨è§£å†³å®šç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚ æ¯”å¦‚ï¼Œä¸‹é¢è¿™æ®µä»£ç ï¼š @Override public String toString() { return \"This is String.\"; } ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘é‡å†™äº†toString()æ–¹æ³•å¹¶ä½¿ç”¨äº†@Overrideæ³¨è§£ã€‚ä½†æ˜¯ï¼Œå³ä½¿æˆ‘ä»¬ä¸ä½¿ç”¨@Overrideæ³¨è§£æ ‡è®°ä»£ç ï¼Œç¨‹åºä¹Ÿèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚é‚£ä¹ˆï¼Œè¯¥æ³¨è§£è¡¨ç¤ºä»€ä¹ˆï¼Ÿè¿™ä¹ˆå†™æœ‰ä»€ä¹ˆå¥½å¤„å—ï¼Ÿäº‹å®ä¸Šï¼Œ@Overrideå‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªé‡å†™æ–¹æ³•(æè¿°æ–¹æ³•çš„å…ƒæ•°æ®)ï¼Œå¦‚æœçˆ¶ç±»ä¸­ä¸å­˜åœ¨è¯¥æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¾¿ä¼šæŠ¥é”™ï¼Œæç¤ºè¯¥æ–¹æ³•æ²¡æœ‰é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚å¦‚æœæˆ‘ä¸å°å¿ƒæ‹¼å†™é”™è¯¯ï¼Œä¾‹å¦‚å°†toString()å†™æˆäº†toStrring(){double r}ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡æœ‰ä½¿ç”¨@Overrideæ³¨è§£ï¼Œé‚£ç¨‹åºä¾ç„¶èƒ½ç¼–è¯‘è¿è¡Œã€‚ä½†è¿è¡Œç»“æœä¼šå’Œæˆ‘æœŸæœ›çš„å¤§ä¸ç›¸åŒã€‚ç°åœ¨æˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Œå¹¶ä¸”ä½¿ç”¨æ³¨è§£æœ‰åŠ©äºé˜…è¯»ç¨‹åºã€‚ ä¸ºä»€ä¹ˆè¦å¼•å…¥æ³¨è§£ï¼Ÿ ä½¿ç”¨æ³¨è§£ä¹‹å‰(ç”šè‡³åœ¨ä½¿ç”¨ä¹‹å)ï¼ŒXMLè¢«å¹¿æ³›çš„åº”ç”¨äºæè¿°å…ƒæ•°æ®ã€‚ä¸çŸ¥ä½•æ—¶å¼€å§‹ä¸€äº›åº”ç”¨å¼€å‘äººå‘˜å’Œæ¶æ„å¸ˆå‘ç°XMLçš„ç»´æŠ¤è¶Šæ¥è¶Šç³Ÿç³•äº†ã€‚ä»–ä»¬å¸Œæœ›ä½¿ç”¨ä¸€äº›å’Œä»£ç ç´§è€¦åˆçš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯åƒXMLé‚£æ ·å’Œä»£ç æ˜¯æ¾è€¦åˆçš„(åœ¨æŸäº›æƒ…å†µä¸‹ç”šè‡³æ˜¯å®Œå…¨åˆ†ç¦»çš„)ä»£ç æè¿°ã€‚å¦‚æœä½ åœ¨Googleä¸­æœç´¢â€œXML vs. annotationsâ€ï¼Œä¼šçœ‹åˆ°è®¸å¤šå…³äºè¿™ä¸ªé—®é¢˜çš„è¾©è®ºã€‚æœ€æœ‰è¶£çš„æ˜¯XMLé…ç½®å…¶å®å°±æ˜¯ä¸ºäº†åˆ†ç¦»ä»£ç å’Œé…ç½®è€Œå¼•å…¥çš„ã€‚ä¸Šè¿°ä¸¤ç§è§‚ç‚¹å¯èƒ½ä¼šè®©ä½ å¾ˆç–‘æƒ‘ï¼Œä¸¤è€…è§‚ç‚¹ä¼¼ä¹æ„æˆäº†ä¸€ç§å¾ªç¯ï¼Œä½†å„æœ‰åˆ©å¼Šã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚ å‡å¦‚ä½ æƒ³ä¸ºåº”ç”¨è®¾ç½®å¾ˆå¤šçš„å¸¸é‡æˆ–å‚æ•°ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒXMLæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒä¸ä¼šåŒç‰¹å®šçš„ä»£ç ç›¸è¿ã€‚å¦‚æœä½ æƒ³æŠŠæŸä¸ªæ–¹æ³•å£°æ˜ä¸ºæœåŠ¡ï¼Œé‚£ä¹ˆä½¿ç”¨æ³¨è§£ä¼šæ›´å¥½ä¸€äº›ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹éœ€è¦æ³¨è§£å’Œæ–¹æ³•ç´§å¯†è€¦åˆèµ·æ¥ï¼Œå¼€å‘äººå‘˜ä¹Ÿå¿…é¡»è®¤è¯†åˆ°è¿™ç‚¹ã€‚ å¦ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ æ˜¯æ³¨è§£å®šä¹‰äº†ä¸€ç§æ ‡å‡†çš„æè¿°å…ƒæ•°æ®çš„æ–¹å¼ã€‚åœ¨è¿™ä¹‹å‰ï¼Œå¼€å‘äººå‘˜é€šå¸¸ä½¿ç”¨ä»–ä»¬è‡ªå·±çš„æ–¹å¼å®šä¹‰å…ƒæ•°æ®ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨æ ‡è®°æ¥å£ï¼Œæ³¨é‡Šï¼Œtransientå…³é”®å­—ç­‰ç­‰ã€‚æ¯ä¸ªç¨‹åºå‘˜æŒ‰ç…§è‡ªå·±çš„æ–¹å¼å®šä¹‰å…ƒæ•°æ®ï¼Œè€Œä¸åƒæ³¨è§£è¿™ç§æ ‡å‡†çš„æ–¹å¼ã€‚ ç›®å‰ï¼Œè®¸å¤šæ¡†æ¶å°†XMLå’ŒAnnotationä¸¤ç§æ–¹å¼ç»“åˆä½¿ç”¨ï¼Œå¹³è¡¡ä¸¤è€…ä¹‹é—´çš„åˆ©å¼Šã€‚ å‚è€ƒæ–‡ç« ï¼ˆæ›´å¤šæ³¨è§£æˆ³è¿™é‡Œï¼‰:Javaæ³¨è§£çš„ç†è§£å’Œåº”ç”¨ 10ï¼‰æ–°å¢ ProcessBuilder ç±»ç­”ï¼š ProcessBuilder ç±»æ˜¯ Java5 åœ¨ java.lang åŒ…ä¸­æ–°æ·»åŠ çš„ä¸€ä¸ªæ–°ç±»ï¼Œæ­¤ç±»ç”¨äºåˆ›å»ºæ“ä½œç³»ç»Ÿè¿›ç¨‹ï¼Œå®ƒæä¾›ä¸€ç§å¯åŠ¨å’Œç®¡ç†è¿›ç¨‹ï¼ˆä¹Ÿå°±æ˜¯åº”ç”¨ç¨‹åºï¼‰çš„æ–¹æ³•ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œéƒ½æ˜¯ç”± Process ç±»å¤„æ¥å®ç°è¿›ç¨‹çš„æ§åˆ¶ç®¡ç†ã€‚æ¯ä¸ª ProcessBuilder å®ä¾‹ç®¡ç†ä¸€ä¸ªè¿›ç¨‹å±æ€§é›†ã€‚å®ƒçš„ start() æ–¹æ³•åˆ©ç”¨è¿™äº›å±æ€§åˆ›å»ºä¸€ä¸ªæ–°çš„ Process å®ä¾‹ã€‚start() æ–¹æ³•å¯ä»¥ä»åŒä¸€å®ä¾‹é‡å¤è°ƒç”¨ï¼Œä»¥åˆ©ç”¨ç›¸åŒçš„æˆ–ç›¸å…³çš„å±æ€§åˆ›å»ºæ–°çš„å­è¿›ç¨‹ã€‚ ProcessBuilder æ˜¯ä¸€ä¸ª final ç±»ï¼Œæœ‰ä¸¤ä¸ªå¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œä½ å¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•æ¥ç›´æ¥åˆ›å»º ProcessBuilder çš„å¯¹è±¡ã€‚è€Œ Process æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸€èˆ¬éƒ½é€šè¿‡ Runtime.exec() å’Œ ProcessBuilder.start() æ¥é—´æ¥åˆ›å»ºå…¶å®ä¾‹ã€‚ProcessBuilder ä¸ºè¿›ç¨‹æä¾›äº†æ›´å¤šçš„æ§åˆ¶ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥è®¾ç½®å½“å‰å·¥ä½œç›®å½•ï¼Œè¿˜å¯ä»¥æ”¹å˜ç¯å¢ƒå‚æ•°ã€‚è€Œ Process ç±»çš„åŠŸèƒ½ç›¸å¯¹æ¥è¯´ç®€å•çš„å¤šã€‚ProcessBuilder ç±»ä¸æ˜¯åŒæ­¥çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ª ProcessBuilderï¼Œè€Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ä»ç»“æ„ä¸Šä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªå±æ€§ï¼Œå®ƒå¿…é¡»ä¿æŒå¤–éƒ¨åŒæ­¥ã€‚ è‹¥è¦ä½¿ç”¨ ProcessBuilder åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œåªéœ€è¦åˆ›å»º ProcessBuilder çš„ä¸€ä¸ªå®ä¾‹ï¼ŒæŒ‡å®šè¯¥è¿›ç¨‹çš„åç§°å’Œæ‰€éœ€å‚æ•°ã€‚è¦æ‰§è¡Œæ­¤ç¨‹åºï¼Œè°ƒç”¨è¯¥å®ä¾‹ä¸Šçš„ start() å³å¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ‰§è¡Œæ‰“å¼€ Windows è®°äº‹æœ¬çš„ä¾‹å­ã€‚æ³¨æ„å®ƒå°†è¦ç¼–è¾‘çš„æ–‡ä»¶åæŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚ class PBDemo { public static void main(String args[]) { try { ProcessBuilder proc = new ProcessBuilder(\"notepad.exe\", \"testfile\"); proc.start(); } catch (Exception e) { System.out.println(\"Error executing notepad.\"); } } } å‚è€ƒæ–‡ç« ï¼šJava5æ–°ç‰¹æ€§åŠä½¿ç”¨ 11ï¼‰æ–°å¢Formatteræ ¼å¼åŒ–å™¨(Formatter)Formatter ç±»æ˜¯Java5ä¸­æ–°å¢çš„ printf-style æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„è§£é‡Šå™¨ï¼Œå®ƒæä¾›å¯¹å¸ƒå±€å’Œå¯¹é½çš„æ”¯æŒï¼Œæä¾›äº†å¯¹æ•°å­—ï¼Œå­—ç¬¦ä¸²å’Œæ—¥æœŸ/æ—¶é—´æ•°æ®çš„å¸¸ç”¨æ ¼å¼ä»¥åŠç‰¹å®šäºè¯­è¨€ç¯å¢ƒçš„è¾“å‡ºã€‚å¸¸è§çš„ Java ç±»å‹ï¼Œå¦‚ byteï¼Œjava.math.BigDecimal å’Œ java.util.Calendar éƒ½æ”¯æŒã€‚ é€šè¿‡ java.util.Formattable æ¥å£æä¾›äº†é’ˆå¯¹ä»»æ„ç”¨æˆ·ç±»å‹çš„æœ‰é™æ ¼å¼å®šåˆ¶ã€‚ æ›´è¯¦ç»†çš„ä»‹ç»è§è¿™é‡Œã€‚ä¸»è¦ä½¿ç”¨æ–¹æ³•çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š import java.io.BufferedReader; import java.io.FileReader; import java.text.MessageFormat; import java.text.SimpleDateFormat; import java.util.*; import org.slf4j.Logger; import org.slf4j.LoggerFactory; /** * æ ¼å¼åŒ–æµ‹è¯•ä½¿ç”¨çš„ç¤ºä¾‹ç±». * * @author blinkfox on 2017-11-28. */ public class FormatTester { private static final Logger log = LoggerFactory.getLogger(FormatTester.class); /** * æ ¼å¼åŒ–. */ private static void formatter() { StringBuilder sb = new StringBuilder(); Formatter formatter = new Formatter(sb, Locale.US); // å¯é‡æ–°æ’åºè¾“å‡º. formatter.format(\"%n%4$2s %3$2s %2$2s %1$2s %n\", \"a\", \"b\", \"c\", \"d\"); // -> \" d c b a\" formatter.format(Locale.FRANCE, \"e = %+10.4f\", Math.E); // -> \"e = +2,7183\" formatter.format(\"%nAmount gained or lost since last statement: $ %(,.2f\", 6217.58); // -> \"Amount gained or lost since last statement: $ 6,217.58\" log.info(\"æ‰“å°å‡ºæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²:{}\", formatter); formatter.close(); } /** * printfæ‰“å°. */ private static void printf() { String filename = \"testfile\"; try (FileReader fileReader = new FileReader(filename)) { BufferedReader reader = new BufferedReader(fileReader); String line; int i = 1; while ((line = reader.readLine()) != null) { System.out.printf(\"Line %d: %s%n\", i++, line); } } catch (Exception e) { System.err.printf(\"Unable to open file named '%s': %s\", filename, e.getMessage()); } } /** * stringFormatä½¿ç”¨. */ private static void stringFormat() { // æ ¼å¼åŒ–æ—¥æœŸ. Calendar c = new GregorianCalendar(1995, Calendar.MAY, 23); String s = String.format(\"Duke's Birthday: %1$tm %1$te,%1$tY\", c); // -> s == \"Duke's Birthday: May 23, 1995\" log.info(s); } /** * æ ¼å¼åŒ–æ¶ˆæ¯. */ private static void messageFormat() { String msg = \"æ¬¢è¿å…‰ä¸´ï¼Œå½“å‰ï¼ˆ{0}ï¼‰ç­‰å¾…çš„ä¸šåŠ¡å—ç†çš„é¡¾å®¢æœ‰{1}ä½ï¼Œè¯·æ’å·åŠç†ä¸šåŠ¡ï¼\"; MessageFormat mf = new MessageFormat(msg); String fmsg = mf.format(new Object[]{new Date(), 35}); log.info(fmsg); } /** * æ ¼å¼åŒ–æ—¥æœŸ. */ private static void dateFormat() { String str = \"2010-1-10 17:39:21\"; SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMddHHmmss\"); try { log.info(\"æ ¼å¼åŒ–åçš„æ—¥æœŸ:{}\", format.format(format.parse(str))); } catch (Exception e) { log.error(\"æ—¥æœŸæ ¼å¼åŒ–å‡ºé”™ï¼\", e); } } public static void main(String[] args) { formatter(); stringFormat(); messageFormat(); dateFormat(); printf(); } } å‚è€ƒæ–‡ç« ï¼šJava5æ–°ç‰¹æ€§åŠä½¿ç”¨ 12ï¼‰æ–°å¢ Scanner ç±»ï¼ˆScannerï¼‰java.util.Scanner æ˜¯ Java5 çš„æ–°ç‰¹å¾ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç®€åŒ–æ–‡æœ¬æ‰«æï¼Œä½†è¿™ä¸ªç±»æœ€å®ç”¨çš„åœ°æ–¹è¿˜æ˜¯åœ¨è·å–æ§åˆ¶å°è¾“å…¥ã€‚ (1).Scanneræ¦‚è¿° å¯ä»¥ä»å­—ç¬¦ä¸²(Readable)ã€è¾“å…¥æµã€æ–‡ä»¶ã€Channelç­‰æ¥ç›´æ¥æ„é€ Scannerå¯¹è±¡ï¼Œæœ‰äº†Scanneräº†ï¼Œå°±å¯ä»¥é€æ®µï¼ˆæ ¹æ®æ­£åˆ™åˆ†éš”å¼ï¼‰æ¥æ‰«ææ•´ä¸ªæ–‡æœ¬ï¼Œå¹¶å¯¹æ‰«æåçš„ç»“æœåšæƒ³è¦çš„å¤„ç†ã€‚ Scanner é»˜è®¤ä½¿ç”¨ç©ºæ ¼ä½œä¸ºåˆ†å‰²ç¬¦æ¥åˆ†éš”æ–‡æœ¬ï¼Œä½†å…è®¸ä½ ä½¿ç”¨ useDelimiter(Pattern pattern) æˆ– useDelimiter(String pattern) æ–¹æ³•æ¥æŒ‡å®šæ–°çš„åˆ†éš”ç¬¦ã€‚ ä¸»è¦APIå¦‚ä¸‹ï¼š delimiter(): è¿”å›æ­¤ Scanner å½“å‰æ­£åœ¨ç”¨äºåŒ¹é…åˆ†éš”ç¬¦çš„ Patternã€‚ hasNext(): åˆ¤æ–­æ‰«æå™¨ä¸­å½“å‰æ‰«æä½ç½®åæ˜¯å¦è¿˜å­˜åœ¨ä¸‹ä¸€æ®µã€‚ hasNextLine(): å¦‚æœåœ¨æ­¤æ‰«æå™¨çš„è¾“å…¥ä¸­å­˜åœ¨å¦ä¸€è¡Œï¼Œåˆ™è¿”å›trueã€‚ next(): æŸ¥æ‰¾å¹¶è¿”å›æ¥è‡ªæ­¤æ‰«æå™¨çš„ä¸‹ä¸€ä¸ªå®Œæ•´æ ‡è®°ã€‚ nextLine(): æ­¤æ‰«æå™¨æ‰§è¡Œå½“å‰è¡Œï¼Œå¹¶è¿”å›è·³è¿‡çš„è¾“å…¥ä¿¡æ¯ã€‚ (2).æ‰«ææ§åˆ¶å°è¾“å…¥ å½“é€šè¿‡ new Scanner(System.in) åˆ›å»ºäº†ä¸€ä¸ª Scanner å®ä¾‹æ—¶ï¼Œæ§åˆ¶å°ä¼šä¸€ç›´ç­‰å¾…è¾“å…¥ï¼Œç›´åˆ°æ•²å›è½¦é”®ç»“æŸï¼ŒæŠŠæ‰€è¾“å…¥çš„å†…å®¹ä¼ ç»™ Scannerï¼Œä½œä¸ºæ‰«æå¯¹è±¡ã€‚å¦‚æœè¦è·å–è¾“å…¥çš„å†…å®¹ï¼Œåˆ™åªéœ€è¦è°ƒç”¨ Scanner çš„ nextLine() æ–¹æ³•å³å¯ã€‚ /** * æ‰«ææ§åˆ¶å°è¾“å…¥. * * @author blinkfox 2017-11-28 */ public class ScannerTest { public static void main(String[] args) { Scanner s = new Scanner(System.in); System.out.println(\"è¯·è¾“å…¥å­—ç¬¦ä¸²ï¼š\"); while (true) { String line = s.nextLine(); if (line.equals(\"exit\")) break; System.out.println(\">>>\" + line); } } } (3).å…¶å®ƒç¤ºä¾‹ è¯¥ç¤ºä¾‹ä¸­ä¼šä» myNumbers æ–‡ä»¶ä¸­è¯»å–é•¿æ•´å‹ long çš„æ•°æ®ã€‚ Scanner sc = new Scanner(new File(\"myNumbers\")); while (sc.hasNextLong()) { long aLong = sc.nextLong(); } ä»¥ä¸‹ç¤ºä¾‹å¯ä»¥ä½¿ç”¨é™¤ç©ºæ ¼ä¹‹å¤–çš„åˆ†éš”ç¬¦æ¥ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¯»å–å‡ ä¸ªæ¡ç›®ï¼š String input = \"1 fish 2 fish red fish blue fish\"; Scanner s = new Scanner(input).useDelimiter(\"\\\\s*fish\\\\s*\"); System.out.println(s.nextInt()); System.out.println(s.nextInt()); System.out.println(s.next()); System.out.println(s.next()); s.close(); å°†è¾“å‡ºï¼š 1 2 red blue å‚è€ƒæ–‡ç« ï¼šJava5æ–°ç‰¹æ€§åŠä½¿ç”¨ 13ï¼‰StringBuilderStringBuilder ä¹Ÿæ˜¯ Java5 ä¸­æ–°å¢çš„ç±»ï¼Œä¸»è¦ç”¨æ¥ä»£æ›¿ + å·å’Œ StringBuffer æ¥æ›´åŠ é«˜æ•ˆçš„æ‹¼æ¥å­—ç¬¦ä¸²ã€‚StringBuffer ä¸ StringBuilder éƒ½æ˜¯ç»§æ‰¿äº AbstractStringBuilderï¼Œä¸»è¦çš„åŒºåˆ«å°±æ˜¯ StringBuffer çš„å‡½æ•°ä¸Šéƒ½æœ‰ synchronized å…³é”®å­—ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ å…³äº StringBuilder çš„ä½¿ç”¨è¿™é‡Œå°±ä¸å†è¯¦ç»†ä»‹ç»äº†ï¼Œç½‘ä¸Šæ–‡ç« ä¹Ÿæœ‰å¾ˆå¤šã€‚æ€»ä¹‹ï¼Œå¯¹äºåŠ¨æ€å­—ç¬¦ä¸²çš„æ‹¼æ¥æ¨èä½¿ç”¨ StringBuilderã€‚é™æ€å­—ç¬¦ä¸²çš„æ‹¼æ¥ç›´æ¥ä½¿ç”¨ + å·æˆ–è€…å­—ç¬¦ä¸²çš„ concat(String str) æ–¹æ³•ï¼Œç”šè‡³ä¹Ÿä½¿ç”¨ StringBuilder äº¦å¯ã€‚ å‚è€ƒæ–‡ç« ï¼šJava5æ–°ç‰¹æ€§åŠä½¿ç”¨ ï¼ˆäºŒï¼‰Java 6 ç›¸å…³çŸ¥è¯†ç‚¹ å…³äº JDK 1.6 çš„æ–°ç‰¹æ€§ï¼Œäº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†â€¦å¦‚æœæœ‰å…´è¶£æ·±å…¥ç ”ç©¶çš„ç«¥é‹ï¼Œå³è½¬è¿™é‡Œï¼šJava6æ–°ç‰¹æ€§åŠä½¿ç”¨ 1ï¼‰Desktop ç±»å’Œ SystemTray ç±»ï¼šç­”ï¼š åœ¨JDK6ä¸­ ,AWTæ–°å¢åŠ äº†ä¸¤ä¸ªç±»:Desktop å’Œ SystemTray ã€‚ å‰è€…å¯ä»¥ç”¨æ¥æ‰“å¼€ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨æµè§ˆæŒ‡å®šçš„ URL,æ‰“å¼€ç³»ç»Ÿé»˜è®¤é‚®ä»¶å®¢æˆ·ç«¯ç»™æŒ‡å®šçš„é‚®ç®±å‘é‚®ä»¶,ç”¨é»˜è®¤åº”ç”¨ç¨‹åºæ‰“å¼€æˆ–ç¼–è¾‘æ–‡ä»¶(æ¯”å¦‚,ç”¨è®°äº‹æœ¬æ‰“å¼€ä»¥txtä¸ºåç¼€åçš„æ–‡ä»¶),ç”¨ç³»ç»Ÿé»˜è®¤çš„æ‰“å°æœºæ‰“å°æ–‡æ¡£; åè€…å¯ä»¥ç”¨æ¥åœ¨ç³»ç»Ÿæ‰˜ç›˜åŒºåˆ›å»ºä¸€ä¸ªæ‰˜ç›˜ç¨‹åº. 2ï¼‰ä½¿ç”¨ JAXB2 æ¥å®ç°å¯¹è±¡ä¸ XML ä¹‹é—´çš„æ˜ å°„ç­”ï¼š JAXBæ˜¯Java Architecture for XML Bindingçš„ç¼©å†™ï¼Œå¯ä»¥å°†ä¸€ä¸ªJavaå¯¹è±¡è½¬å˜æˆä¸ºXMLæ ¼å¼ï¼Œåä¹‹äº¦ç„¶ã€‚ æˆ‘ä»¬æŠŠå¯¹è±¡ä¸å…³ç³»æ•°æ®åº“ä¹‹é—´çš„æ˜ å°„ç§°ä¸ºORM, å…¶å®ä¹Ÿå¯ä»¥æŠŠå¯¹è±¡ä¸XMLä¹‹é—´çš„æ˜ å°„ç§°ä¸ºOXM(Object XML Mapping). åŸæ¥JAXBæ˜¯Java EEçš„ä¸€éƒ¨åˆ†ï¼Œåœ¨JDK6ä¸­ï¼ŒSUNå°†å…¶æ”¾åˆ°äº†Java SEä¸­ï¼Œè¿™ä¹Ÿæ˜¯SUNçš„ä¸€è´¯åšæ³•ã€‚ JDK6ä¸­è‡ªå¸¦çš„è¿™ä¸ªJAXBç‰ˆæœ¬æ˜¯2.0, æ¯”èµ·1.0(JSR 31)æ¥ï¼ŒJAXB2(JSR 222)ç”¨JDK5çš„æ–°ç‰¹æ€§Annotationæ¥æ ‡è¯†è¦ä½œç»‘å®šçš„ç±»å’Œå±æ€§ç­‰ï¼Œè¿™å°±æå¤§ç®€åŒ–äº†å¼€å‘çš„å·¥ä½œé‡ã€‚ å®é™…ä¸Šï¼Œåœ¨Java EE 5.0ä¸­ï¼ŒEJBå’ŒWeb Servicesä¹Ÿé€šè¿‡Annotationæ¥ç®€åŒ–å¼€å‘å·¥ä½œã€‚å¦å¤–,JAXB2åœ¨åº•å±‚æ˜¯ç”¨StAX(JSR 173)æ¥å¤„ç†XMLæ–‡æ¡£ã€‚é™¤äº†JAXBä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡XMLBeanså’ŒCastorç­‰æ¥å®ç°åŒæ ·çš„åŠŸèƒ½ã€‚ 3ï¼‰ç†è§£StAXç­”ï¼š StAX(JSR 173)æ˜¯JDK6.0ä¸­é™¤äº†DOMå’ŒSAXä¹‹å¤–çš„åˆä¸€ç§å¤„ç†XMLæ–‡æ¡£çš„APIã€‚ StAX çš„æ¥å† ï¼šåœ¨JAXP1.3(JSR 206)æœ‰ä¸¤ç§å¤„ç†XMLæ–‡æ¡£çš„æ–¹æ³•:DOM(Document Object Model)å’ŒSAX(Simple API for XML). ç”± äºJDK6.0ä¸­çš„JAXB2(JSR 222)å’ŒJAX-WS 2.0(JSR 224)éƒ½ä¼šç”¨åˆ°StAXï¼Œæ‰€ä»¥Sunå†³å®šæŠŠStAXåŠ å…¥åˆ°JAXPå®¶æ—å½“ä¸­æ¥ï¼Œå¹¶å°†JAXPçš„ç‰ˆæœ¬å‡çº§åˆ°1.4(JAXP1.4æ˜¯JAXP1.3çš„ç»´æŠ¤ç‰ˆæœ¬). JDK6é‡Œé¢JAXPçš„ç‰ˆæœ¬å°±æ˜¯1.4. ã€‚ StAXæ˜¯The Streaming API for XMLçš„ç¼©å†™ï¼Œä¸€ç§åˆ©ç”¨æ‹‰æ¨¡å¼è§£æ(pull-parsing)XMLæ–‡æ¡£çš„API.StAXé€šè¿‡æä¾›ä¸€ç§åŸºäºäº‹ä»¶è¿­ä»£å™¨(Iterator)çš„APIè®© ç¨‹åºå‘˜å»æ§åˆ¶xmlæ–‡æ¡£è§£æè¿‡ç¨‹,ç¨‹åºéå†è¿™ä¸ªäº‹ä»¶è¿­ä»£å™¨å»å¤„ç†æ¯ä¸€ä¸ªè§£æäº‹ä»¶ï¼Œè§£æäº‹ä»¶å¯ä»¥çœ‹åšæ˜¯ç¨‹åºæ‹‰å‡ºæ¥çš„ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºä¿ƒä½¿è§£æå™¨äº§ç”Ÿä¸€ä¸ªè§£æäº‹ä»¶ï¼Œç„¶åå¤„ç†è¯¥äº‹ä»¶ï¼Œä¹‹ååˆä¿ƒä½¿è§£æå™¨äº§ç”Ÿä¸‹ä¸€ä¸ªè§£æäº‹ä»¶ï¼Œå¦‚æ­¤å¾ªç¯ç›´åˆ°ç¢°åˆ°æ–‡æ¡£ç»“æŸç¬¦ï¼› SAXä¹Ÿæ˜¯åŸºäºäº‹ä»¶å¤„ç†xmlæ–‡æ¡£ï¼Œä½†å´æ˜¯ç”¨æ¨æ¨¡å¼è§£æï¼Œè§£æå™¨è§£æå®Œæ•´ä¸ªxmlæ–‡æ¡£åï¼Œæ‰äº§ç”Ÿè§£æäº‹ä»¶ï¼Œç„¶åæ¨ç»™ç¨‹åºå»å¤„ç†è¿™äº›äº‹ä»¶ï¼›DOM é‡‡ç”¨çš„æ–¹å¼æ˜¯å°†æ•´ä¸ªxmlæ–‡æ¡£æ˜ å°„åˆ°ä¸€é¢—å†…å­˜æ ‘ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°å¾—åˆ°çˆ¶èŠ‚ç‚¹å’Œå­ç»“ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹çš„æ•°æ®ï¼Œä½†å¦‚æœæ–‡æ¡£å¾ˆå¤§ï¼Œå°†ä¼šä¸¥é‡å½±å“æ€§èƒ½ã€‚ 4ï¼‰ä½¿ç”¨Compiler APIç­”ï¼š ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨JDK6 çš„Compiler API(JSR 199)å»åŠ¨æ€ç¼–è¯‘Javaæºæ–‡ä»¶ï¼ŒCompiler APIç»“åˆåå°„åŠŸèƒ½å°±å¯ä»¥å®ç°åŠ¨æ€çš„äº§ç”ŸJavaä»£ç å¹¶ç¼–è¯‘æ‰§è¡Œè¿™äº›ä»£ç ï¼Œæœ‰ç‚¹åŠ¨æ€è¯­è¨€çš„ç‰¹å¾ã€‚ è¿™ä¸ªç‰¹æ€§å¯¹äºæŸäº›éœ€è¦ç”¨åˆ°åŠ¨æ€ç¼–è¯‘çš„åº”ç”¨ç¨‹åºç›¸å½“æœ‰ç”¨ï¼Œæ¯”å¦‚JSP Web Serverï¼Œå½“æˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹JSPåï¼Œæ˜¯ä¸å¸Œæœ›éœ€è¦é‡å¯Web Serveræ‰å¯ä»¥çœ‹åˆ°æ•ˆæœçš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨Compiler APIæ¥å®ç°åŠ¨æ€ç¼–è¯‘JSPæ–‡ä»¶ï¼Œå½“ç„¶ï¼Œç°åœ¨çš„JSP Web Serverä¹Ÿæ˜¯æ”¯æŒJSPçƒ­éƒ¨ç½²çš„ï¼Œç°åœ¨çš„JSP Web Serveré€šè¿‡åœ¨è¿è¡ŒæœŸé—´é€šè¿‡Runtime.execæˆ–ProcessBuilderæ¥è°ƒç”¨javacæ¥ç¼–è¯‘ä»£ç ï¼Œè¿™ç§æ–¹å¼éœ€è¦æˆ‘ä»¬äº§ç”Ÿå¦ä¸€ä¸ªè¿›ç¨‹å» åšç¼–è¯‘å·¥ä½œï¼Œä¸å¤Ÿä¼˜é›…è€Œä¸”å®¹æ˜“ä½¿ä»£ç ä¾èµ–ä¸ç‰¹å®šçš„æ“ä½œç³»ç»Ÿï¼›Compiler APIé€šè¿‡ä¸€å¥—æ˜“ç”¨çš„æ ‡å‡†çš„APIæä¾›äº†æ›´åŠ ä¸°å¯Œçš„æ–¹å¼å»åšåŠ¨æ€ç¼–è¯‘,è€Œä¸”æ˜¯è·¨å¹³å°çš„ã€‚ 5ï¼‰è½»é‡çº§Http Server APIç­”ï¼š JDK6 æä¾›äº†ä¸€ä¸ªç®€å•çš„Http Server API,æ®æ­¤æˆ‘ä»¬å¯ä»¥æ„å»ºè‡ªå·±çš„åµŒå…¥å¼Http Server,å®ƒæ”¯æŒHttpå’ŒHttpsåè®®,æä¾›äº†HTTP1.1çš„éƒ¨åˆ†å®ç°ï¼Œæ²¡æœ‰è¢«å®ç°çš„é‚£éƒ¨åˆ†å¯ä»¥é€šè¿‡æ‰©å±•å·²æœ‰çš„Http Server APIæ¥å®ç°,ç¨‹åºå‘˜å¿…é¡»è‡ªå·±å®ç°HttpHandleræ¥å£,HttpServerä¼šè°ƒç”¨HttpHandlerå®ç°ç±»çš„å›è°ƒæ–¹æ³•æ¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚,åœ¨ è¿™é‡Œ,æˆ‘ä»¬æŠŠä¸€ä¸ªHttpè¯·æ±‚å’Œå®ƒçš„å“åº”ç§°ä¸ºä¸€ä¸ªäº¤æ¢,åŒ…è£…æˆHttpExchangeç±»,HttpServerè´Ÿè´£å°†HttpExchangeä¼ ç»™ HttpHandlerå®ç°ç±»çš„å›è°ƒæ–¹æ³•. 6ï¼‰æ’å…¥å¼æ³¨è§£å¤„ç†API(Pluggable Annotation Processing API)ç­”ï¼š æ’å…¥å¼æ³¨è§£å¤„ç†API(JSR 269)æä¾›ä¸€å¥—æ ‡å‡†APIæ¥å¤„ç†Annotations(JSR 175) å® é™…ä¸ŠJSR 269ä¸ä»…ä»…ç”¨æ¥å¤„ç†Annotation,æˆ‘è§‰å¾—æ›´å¼ºå¤§çš„åŠŸèƒ½æ˜¯å®ƒå»ºç«‹äº†Java è¯­è¨€æœ¬èº«çš„ä¸€ä¸ªæ¨¡å‹,å®ƒæŠŠmethod, package, constructor, type, variable, enum, annotationç­‰Javaè¯­è¨€å…ƒç´ æ˜ å°„ä¸ºTypeså’ŒElements(ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«?), ä»è€Œå°†Javaè¯­è¨€çš„è¯­ä¹‰æ˜ å°„æˆä¸ºå¯¹è±¡, æˆ‘ä»¬å¯ä»¥åœ¨javax.lang.modelåŒ…ä¸‹é¢å¯ä»¥çœ‹åˆ°è¿™äº›ç±». æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨JSR 269æä¾›çš„APIæ¥æ„å»ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å…ƒç¼–ç¨‹(metaprogramming)ç¯å¢ƒ. JSR 269ç”¨Annotation Processoråœ¨ç¼–è¯‘æœŸé—´è€Œä¸æ˜¯è¿è¡ŒæœŸé—´å¤„ç†Annotation, Annotation Processorç›¸å½“äºç¼–è¯‘å™¨çš„ä¸€ä¸ªæ’ä»¶,æ‰€ä»¥ç§°ä¸ºæ’å…¥å¼æ³¨è§£å¤„ç†.å¦‚æœAnnotation Processorå¤„ç†Annotationæ—¶(æ‰§è¡Œprocessæ–¹æ³•)äº§ç”Ÿäº†æ–°çš„Javaä»£ç ,ç¼–è¯‘å™¨ä¼šå†è°ƒç”¨ä¸€æ¬¡Annotation Processor,å¦‚æœç¬¬äºŒæ¬¡å¤„ç†è¿˜æœ‰æ–°ä»£ç äº§ç”Ÿ,å°±ä¼šæ¥ç€è°ƒç”¨Annotation Processor,ç›´åˆ°æ²¡æœ‰æ–°ä»£ç äº§ç”Ÿä¸ºæ­¢.æ¯æ‰§è¡Œä¸€æ¬¡process()æ–¹æ³•è¢«ç§°ä¸ºä¸€ä¸ªâ€roundâ€,è¿™æ ·æ•´ä¸ªAnnotation processingè¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªroundçš„åºåˆ—. JSR 269ä¸»è¦è¢«è®¾è®¡æˆä¸ºé’ˆå¯¹Toolsæˆ–è€…å®¹å™¨çš„API. ä¸¾ä¸ªä¾‹å­,æˆ‘ä»¬æƒ³å»ºç«‹ä¸€å¥—åŸºäºAnnotationçš„å•å…ƒæµ‹è¯•æ¡†æ¶(å¦‚TestNG),åœ¨æµ‹è¯•ç±»é‡Œé¢ç”¨Annotationæ¥æ ‡è¯†æµ‹è¯•æœŸé—´éœ€è¦æ‰§è¡Œçš„æµ‹è¯•æ–¹æ³•ã€‚ 7ï¼‰ç”¨Consoleå¼€å‘æ§åˆ¶å°ç¨‹åºJDK6 ä¸­æä¾›äº†java.io.Console ç±»ä¸“ç”¨æ¥è®¿é—®åŸºäºå­—ç¬¦çš„æ§åˆ¶å°è®¾å¤‡. ä½ çš„ç¨‹åºå¦‚æœè¦ä¸Windowsä¸‹çš„cmdæˆ–è€…Linuxä¸‹çš„Terminaläº¤äº’,å°±å¯ä»¥ç”¨Consoleç±»ä»£åŠ³. ä½†æˆ‘ä»¬ä¸æ€»æ˜¯èƒ½å¾—åˆ°å¯ç”¨çš„Console, ä¸€ä¸ªJVMæ˜¯å¦æœ‰å¯ç”¨çš„Consoleä¾èµ–äºåº•å±‚å¹³å°å’ŒJVMå¦‚ä½•è¢«è°ƒç”¨. å¦‚æœJVMæ˜¯åœ¨äº¤äº’å¼å‘½ä»¤è¡Œ(æ¯”å¦‚Windowsçš„cmd)ä¸­å¯åŠ¨çš„,å¹¶ä¸”è¾“å…¥è¾“å‡ºæ²¡æœ‰é‡å®šå‘åˆ°å¦å¤–çš„åœ°æ–¹,é‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯ç”¨çš„Consoleå®ä¾‹. 8ï¼‰å¯¹è„šæœ¬è¯­è¨€çš„æ”¯æŒå¦‚: ruby, groovy, javascript. 9ï¼‰Common annotationsCommon annotations åŸæœ¬æ˜¯Java EE 5.0(JSR 244)è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œç°åœ¨SUNæŠŠå®ƒçš„ä¸€éƒ¨åˆ†æ”¾åˆ°äº†Java SE 6.0ä¸­.éšç€Annotationå…ƒæ•°æ®åŠŸèƒ½(JSR 175)åŠ å…¥åˆ°Java SE 5.0é‡Œé¢ï¼Œå¾ˆå¤šJava æŠ€æœ¯(æ¯”å¦‚EJB,Web Services)éƒ½ä¼šç”¨Annotationéƒ¨åˆ†ä»£æ›¿XMLæ–‡ä»¶æ¥é…ç½®è¿è¡Œå‚æ•°ï¼ˆæˆ–è€…è¯´æ˜¯æ”¯æŒå£°æ˜å¼ç¼–ç¨‹,å¦‚EJBçš„å£°æ˜å¼äº‹åŠ¡ï¼‰, å¦‚æœè¿™äº›æŠ€æœ¯ä¸ºé€šç”¨ç›®çš„éƒ½å•ç‹¬å®šä¹‰äº†è‡ªå·±çš„Annotations,æ˜¾ç„¶æœ‰ç‚¹é‡å¤å»ºè®¾, æ‰€ä»¥,ä¸ºå…¶ä»–ç›¸å…³çš„JavaæŠ€æœ¯å®šä¹‰ä¸€å¥—å…¬å…±çš„Annotationæ˜¯æœ‰ä»·å€¼çš„ï¼Œå¯ä»¥é¿å…é‡å¤å»ºè®¾çš„åŒæ—¶ï¼Œä¹Ÿä¿è¯Java SEå’ŒJava EE å„ç§æŠ€æœ¯çš„ä¸€è‡´æ€§ã€‚ 10ï¼‰Java DB(Derby)ä» JDK6 å¼€å§‹ï¼ŒJDK ç›®å½•ä¸­æ–°å¢äº†ä¸€ä¸ªåä¸º db çš„ç›®å½•ã€‚è¿™ä¾¿æ˜¯ Java 6 çš„æ–°æˆå‘˜ï¼šJava DBã€‚è¿™æ˜¯ä¸€ä¸ªçº¯ Java å®ç°ã€å¼€æºçš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ï¼Œæºäº Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆASFï¼‰åä¸‹çš„é¡¹ç›® Derbyã€‚å®ƒåªæœ‰ 2MB å¤§å°ï¼Œå¯¹æ¯”åŠ¨è¾„ä¸Š G çš„æ•°æ®åº“æ¥è¯´å¯è°“è¢–çã€‚ä½†è¿™å¹¶ä¸å¦¨ç¢ Derby åŠŸèƒ½é½å¤‡ï¼Œæ”¯æŒå‡ ä¹å¤§éƒ¨åˆ†çš„æ•°æ®åº“åº”ç”¨æ‰€éœ€è¦çš„ç‰¹æ€§ã€‚JDK6.0é‡Œé¢å¸¦çš„è¿™ä¸ªDerbyçš„ç‰ˆæœ¬æ˜¯10.2.1.7,æ”¯æŒå­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨ï¼›æœ‰ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼Œä¸€ç§æ˜¯ä½œä¸ºåµŒå…¥å¼æ•°æ®åº“ï¼Œå¦ä¸€ç§æ˜¯ä½œä¸ºç½‘ç»œæ•°æ®åº“ã€‚å‰è€…çš„æ•°æ®åº“æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½åœ¨åŒä¸€ä¸ªJVMé‡Œé¢è¿è¡Œï¼Œåè€…å…è®¸æ•°æ®åº“æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¸åœ¨åŒä¸€ä¸ªJVMé‡Œé¢ï¼Œè€Œä¸”å…è®¸è¿™ä¸¤è€…åœ¨ä¸åŒçš„ç‰©ç†æœºå™¨ä¸Šã€‚å€¼å¾—æ³¨æ„çš„æ˜¯JDK6é‡Œé¢çš„è¿™ä¸ªDerbyæ”¯æŒJDK6çš„æ–°ç‰¹æ€§ JDBC 4.0 è§„èŒƒ(JSR 221)ã€‚ 11ï¼‰JDBC 4.0åœ¨ Java SE 6 æ‰€æä¾›çš„è¯¸å¤šæ–°ç‰¹æ€§å’Œæ”¹è¿›ä¸­ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ä¸º Java ç¨‹åºæä¾›æ•°æ®åº“è®¿é—®æœºåˆ¶çš„ JDBC ç‰ˆæœ¬å‡çº§åˆ°äº† 4.0, è¿™ä¸ªä»¥ JSR-221 ä¸ºä»£å·çš„ç‰ˆæœ¬ï¼Œæä¾›äº†æ›´åŠ ä¾¿åˆ©çš„ä»£ç ç¼–å†™æœºåˆ¶åŠæŸ”æ€§ï¼Œå¹¶ä¸”æ”¯æŒæ›´å¤šçš„æ•°æ®ç±»å‹ã€‚JDBC4.0 ä¸»è¦æœ‰ä»¥ä¸‹æ”¹è¿›å’Œæ–°ç‰¹æ€§ã€‚ è‡ªåŠ¨åŠ è½½ java.sql.Driverï¼Œè€Œä¸éœ€è¦å†è°ƒç”¨ class.forNameï¼› æ·»åŠ äº† java.sql.RowId æ•°æ®ç±»å‹ç”¨æ¥å¯ä»¥è®¿é—® sql rowid ï¼› æ·»åŠ äº† National Character Set çš„æ”¯æŒï¼› å¢å¼ºäº† BLOB å’Œ CLOB çš„æ”¯æŒåŠŸèƒ½ï¼› SQL/XML å’Œ XML æ”¯æŒï¼› Wrapper Patternï¼› SQLException å¢å¼ºï¼› Connection å’Œ Statement æ¥å£å¢å¼ºï¼› New Scalar Funtionsï¼› JDBC API changesã€‚ ï¼ˆä¸‰ï¼‰JAVA 7 ç›¸å…³çŸ¥è¯†ç‚¹ ä¹‹å‰å·²ç»å†™è¿‡ä¸€ç¯‡è¯¦ç»†ä»‹ç» Java 7 ç‰¹æ€§çš„æ–‡ç« äº†ï¼Œè¿™é‡Œå°±ç›´æ¥é»äº†ï¼šJava 7æ–°ç‰¹æ€§ 1ï¼‰Diamond Operatorç±»å‹åˆ¤æ–­æ˜¯ä¸€ä¸ªäººç‰¹æ®Šçš„çƒ¦æ¼ï¼Œå…¥ä¸‹é¢çš„ä»£ç ï¼š Map&lt;String,List&lt;String>> anagrams = new HashMap&lt;String,List&lt;String>>(); é€šè¿‡ç±»å‹æ¨æ–­åå˜æˆï¼š Map&lt;String,List&lt;String>> anagrams = new HashMap&lt;>(); æ³¨ï¼šè¿™ä¸ª&lt;&gt;è¢«å«åšdiamond(é’»çŸ³)è¿ç®—ç¬¦ï¼ŒJava 7åè¿™ä¸ªè¿ç®—ç¬¦ä»å¼•ç”¨çš„å£°æ˜ä¸­æ¨æ–­ç±»å‹ã€‚ 2ï¼‰åœ¨switchè¯­å¥ä¸­ä½¿ç”¨å­—ç¬¦ä¸²switchè¯­å¥å¯ä»¥ä½¿ç”¨åŸå§‹ç±»å‹æˆ–æšä¸¾ç±»å‹ã€‚Javaå¼•å…¥äº†å¦ä¸€ç§ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨switchè¯­å¥ä¸­ä½¿ç”¨ï¼šå­—ç¬¦ä¸²ç±»å‹ã€‚ è¯´æˆ‘ä»¬æœ‰ä¸€ä¸ªæ ¹æ®å…¶åœ°ä½æ¥å¤„ç†è´¸æ˜“çš„è¦æ±‚ã€‚ç›´åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨if-å…¶ä»–è¯­å¥æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ private voidprocessTrade(Trade t){ String status = t.getStatus(); if(status.equalsIgnoreCase(NEW)) { newTrade(t); } else if(status.equalsIgnoreCase(EXECUTE)) { executeTrade(t); } else if(status.equalsIgnoreCase(PENDING)) { pendingTrade(t); } } è¿™ç§å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•æ˜¯ç²—ç³™çš„ã€‚åœ¨Javaä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¢å¼ºçš„switchè¯­å¥æ¥æ”¹è¿›ç¨‹åºï¼Œè¯¥è¯­å¥ä»¥Stringç±»å‹ä½œä¸ºå‚æ•°ã€‚ public voidprocessTrade(Trade t) { String status = t.getStatus(); switch(status) { caseNEW: newTrade(t); break; caseEXECUTE: executeTrade(t); break; casePENDING: pendingTrade(t); break; default: break; } } åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼ŒçŠ¶æ€å­—æ®µæ€»æ˜¯é€šè¿‡ä½¿ç”¨ String.equals() ä¸æ¡ˆä¾‹æ ‡ç­¾æ¥è¿›è¡Œæ¯”è¾ƒã€‚ 3ï¼‰è‡ªåŠ¨èµ„æºç®¡ç†Javaä¸­æœ‰ä¸€äº›èµ„æºéœ€è¦æ‰‹åŠ¨å…³é—­ï¼Œä¾‹å¦‚Connectionsï¼ŒFilesï¼ŒInput/OutStreamsç­‰ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ try-finally æ¥å…³é—­èµ„æºï¼š public voidoldTry() { try{ fos= newFileOutputStream(\"movies.txt\"); dos= newDataOutputStream(fos); dos.writeUTF(\"Java 7 Block Buster\"); } catch(IOException e) { e.printStackTrace(); } finally{ try{ fos.close(); dos.close(); } catch(IOException e) { // log the exception } } } ç„¶è€Œï¼Œåœ¨Java 7ä¸­å¼•å…¥äº†å¦ä¸€ä¸ªå¾ˆé…·çš„ç‰¹æ€§ï¼Œå¯ä»¥è‡ªåŠ¨ç®¡ç†èµ„æºã€‚å®ƒçš„æ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯åœ¨ try å—ä¸­ç”³æ˜èµ„æºå¦‚ä¸‹ï¼š try(resources_to_be_cleant){ // your code } ä»¥ä¸Šæ–¹æ³•ä¸æ—§çš„ try-finally èƒ½æœ€ç»ˆå†™æˆä¸‹é¢çš„ä»£ç ï¼š public voidnewTry() { try(FileOutputStream fos = newFileOutputStream(\"movies.txt\"); DataOutputStream dos = newDataOutputStream(fos)) { dos.writeUTF(\"Java 7 Block Buster\"); } catch(IOException e) { // log the exception } } ä¸Šé¢çš„ä»£ç ä¹Ÿä»£è¡¨äº†è¿™ä¸ªç‰¹æ€§çš„å¦ä¸€ä¸ªæ–¹é¢ï¼šå¤„ç†å¤šä¸ªèµ„æºã€‚FileOutputStream å’Œ DataOutputStream åœ¨tryè¯­å¥ä¸­ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å«åœ¨è¯­å¥ä¸­ï¼Œæ¯ä¸€ä¸ªéƒ½ç”¨åˆ†å·(;)åˆ†éš”ç¬¦åˆ†éš”å¼€ã€‚æˆ‘ä»¬ä¸å¿…æ‰‹åŠ¨å–æ¶ˆæˆ–å…³é—­æµï¼Œå› ä¸ºå½“ç©ºé—´å­˜åœ¨tryå—æ—¶ï¼Œå®ƒä»¬å°†è‡ªåŠ¨å…³é—­ã€‚ åœ¨åå°ï¼Œåº”è¯¥è‡ªåŠ¨å…³é—­çš„èµ„æºå¿…é¡»è¯•éªŒ java.lang.AutoCloseable æ¥å£ã€‚ ä»»ä½•å®ç° AutoCloseable æ¥å£çš„èµ„æºéƒ½å¯ä»¥ä½œä¸ºè‡ªåŠ¨èµ„æºç®¡ç†çš„å€™é€‰ã€‚AutoCloseable æ˜¯ java.io.Closeable æ¥å£çš„çˆ¶ç±»ï¼ŒJVMä¼šåœ¨ç¨‹åºé€€å‡ºtryå—åè°ƒç”¨ä¸€ä¸ªæ–¹æ³• close()ã€‚ 4ï¼‰å¸¦ä¸‹åˆ’çº¿çš„æ•°å­—æ–‡æœ¬æ•°å­—æ–‡å­—ç»å¯¹æ˜¯å¯¹çœ¼ç›çš„ä¸€ç§è€ƒéªŒã€‚æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœä½ ç»™äº†ä¸€ä¸ªæ•°å­—ï¼Œæ¯”å¦‚è¯´ï¼Œåä¸ªé›¶ï¼Œä½ å°±ä¼šåƒæˆ‘ä¸€æ ·æ•°é›¶ã€‚å¦‚æœä¸è®¡ç®—ä»å³åˆ°å·¦çš„ä½ç½®ï¼Œè¯†åˆ«ä¸€ä¸ªæ–‡å­—çš„è¯ï¼Œå°±å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”å¾ˆéº»çƒ¦ã€‚Not anymoreã€‚Javaåœ¨è¯†åˆ«ä½ç½®æ—¶å¼•å…¥äº†ä¸‹åˆ’çº¿ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å£°æ˜1000ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š int thousand = 1_000; æˆ–1000000(ä¸€ç™¾ä¸‡)å¦‚ä¸‹: int million = 1_000_000 è¯·æ³¨æ„ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸­ä¹Ÿå¼•å…¥äº†äºŒè¿›åˆ¶æ–‡å­—-ä¾‹å¦‚â€œ0b1â€-å› æ­¤å¼€å‘äººå‘˜ä¸å¿…å†å°†å®ƒä»¬è½¬æ¢ä¸ºåå…­è¿›åˆ¶ã€‚ 5ï¼‰æ”¹è¿›çš„å¼‚å¸¸å¤„ç†åœ¨å¼‚å¸¸å¤„ç†åŒºåŸŸæœ‰å‡ å¤„æ”¹è¿›ã€‚Javaå¼•å…¥äº†å¤šä¸ªcatchåŠŸèƒ½ï¼Œä»¥ä½¿ç”¨å•ä¸ªæŠ“åˆ°å—æ•è·å¤šä¸ªå¼‚å¸¸ç±»å‹ã€‚ å‡è®¾æ‚¨æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæŠ›å‡ºä¸‰ä¸ªå¼‚å¸¸ã€‚åœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œæ‚¨å°†åˆ†åˆ«å¤„ç†å®ƒä»¬ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š public voidoldMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne e) { // log and deal with ExceptionOne } catch(ExceptionTwo e) { // log and deal with ExceptionTwo } catch(ExceptionThree e) { // log and deal with ExceptionThree } } åœ¨ä¸€ä¸ªcatchå—ä¸­é€ä¸ªæ•è·ä¸€ä¸ªè¿ç»­çš„å¼‚å¸¸ï¼Œçœ‹èµ·æ¥å¾ˆæ··ä¹±ã€‚æˆ‘è¿˜çœ‹åˆ°äº†æ•è·åå‡ ä¸ªå¼‚å¸¸çš„ä»£ç ã€‚è¿™æ˜¯éå¸¸ä½æ•ˆå’Œå®¹æ˜“å‡ºé”™çš„ã€‚Javaä¸ºè§£å†³è¿™åªä¸‘å°é¸­å¸¦æ¥äº†æ–°çš„è¯­è¨€å˜åŒ–ã€‚è¯·å‚é˜…ä¸‹é¢çš„æ–¹æ³•oldMultiCatchæ–¹æ³•çš„æ”¹è¿›ç‰ˆæœ¬ï¼š public voidnewMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne | ExceptionTwo | ExceptionThree e) { // log and deal with all Exceptions } } å¤šä¸ªå¼‚å¸¸é€šè¿‡ä½¿ç”¨ â€œ|â€ æ“ä½œç¬¦åœ¨ä¸€ä¸ªcatchå—ä¸­æ•è·ã€‚è¿™æ ·ï¼Œæ‚¨ä¸å¿…ç¼–å†™æ•°åä¸ªå¼‚å¸¸æ•è·ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æœ‰è®¸å¤šå±äºä¸åŒç±»å‹çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨â€œå¤šä¸ªcatchå—â€å—ã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µè¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š public voidnewMultiMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne e) { // log and deal with ExceptionOne } catch(ExceptionTwo | ExceptionThree e) { // log and deal with ExceptionTwo and ExceptionThree } } åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨å’ŒExceptionThreeå±äºä¸åŒçš„å±‚æ¬¡ç»“æ„ï¼Œå› æ­¤æ‚¨å¸Œæœ›ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†å®ƒä»¬ï¼Œä½†ä½¿ç”¨ä¸€ä¸ªæŠ“åˆ°å—ã€‚ 6ï¼‰New file system API(NIO 2.0)é‚£äº›ä½¿ç”¨Javaçš„äººå¯èƒ½è¿˜è®°å¾—æ¡†æ¶å¼•èµ·çš„å¤´ç—›ã€‚åœ¨æ“ä½œç³»ç»Ÿæˆ–å¤šæ–‡ä»¶ç³»ç»Ÿä¹‹é—´æ— ç¼åœ°å·¥ä½œä»æ¥éƒ½ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ….ã€‚æœ‰äº›æ–¹æ³•ï¼Œä¾‹å¦‚åˆ é™¤æˆ–é‡å‘½åï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å‡ºä¹æ„æ–™çš„ã€‚ä½¿ç”¨ç¬¦å·é“¾æ¥æ˜¯å¦ä¸€ä¸ªé—®é¢˜ã€‚å®è´¨ä¸ŠAPIéœ€è¦å¤§ä¿®ã€‚ ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒJavaå¼•å…¥äº†ä¸€ä¸ªæ–°çš„APIï¼Œå¹¶åœ¨è®¸å¤šæƒ…å†µä¸‹å¼•å…¥äº†æ–°çš„apiã€‚ åœ¨NIO2.0æå‡ºäº†è®¸å¤šå¢å¼ºåŠŸèƒ½ã€‚åœ¨å¤„ç†å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œå®ƒè¿˜å¼•å…¥äº†æ–°çš„ç±»æ¥ç®€åŒ–å¼€å‘äººå‘˜çš„ç”Ÿæ´»ã€‚ Working With Pathï¼ˆä½¿ç”¨è·¯å¾„ï¼‰ï¼š æ–°çš„ java.nio.file ç”±åŒ…å’Œæ¥å£ç»„æˆä¾‹å¦‚ï¼šPath,Paths,FileSystem,FileSystemsç­‰ç­‰ã€‚ è·¯å¾„åªæ˜¯å¯¹æ–‡ä»¶è·¯å¾„çš„ç®€å•å¼•ç”¨ã€‚å®ƒä¸java.io.Fileç­‰ä»·(å¹¶å…·æœ‰æ›´å¤šçš„ç‰¹æ€§)ã€‚ä¸‹é¢çš„ä»£ç æ®µæ˜¾ç¤ºäº†å¦‚ä½•è·å–å¯¹â€œä¸´æ—¶â€æ–‡ä»¶å¤¹çš„è·¯å¾„å¼•ç”¨ï¼š public voidpathInfo() { Path path= Paths.get(\"c:\\Temp\\temp\"); System.out.println(\"Number of Nodes:\"+ path.getNameCount()); System.out.println(\"File Name:\"+ path.getFileName()); System.out.println(\"File Root:\"+ path.getRoot()); System.out.println(\"File Parent:\"+ path.getParent()); } æœ€ç»ˆæ§åˆ¶å°çš„è¾“å‡ºå°†æ˜¯: Number of Nodes:2 File Name:temp.txt File Root:c: File Parent:c:Temp åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•å°±åƒåœ¨æ–‡ä»¶ä¸­è°ƒç”¨deleteæ–¹æ³•(æ³¨æ„å¤æ•°)ä¸€æ ·ç®€å•ã€‚åœ¨ç±»å…¬å¼€ä¸¤ä¸ªåˆ é™¤æ–¹æ³•ï¼Œä¸€ä¸ªæŠ›å‡ºNoSuchFileExceptionï¼Œå¦ä¸€ä¸ªä¸æŠ›ã€‚ ä¸‹é¢çš„deleteæ–¹æ³•è°ƒç”¨æŠ›å‡ºNoSuchFileExceptionï¼Œå› æ­¤æ‚¨å¿…é¡»å¤„ç†å®ƒï¼š Files.delete(path); Where as Files.deleteIfExists(path) does not throw exception (as expected) if the file/directory does not exist. ä½¿ç”¨ Files.deteleIfExists(path) åˆ™ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–å®ç”¨ç¨‹åºæ–¹æ³•ï¼Œä¾‹å¦‚Files.copy(.)å’ŒFiles.move(.)æ¥æœ‰æ•ˆåœ°å¯¹æ–‡ä»¶ç³»ç»Ÿæ‰§è¡Œæ“ä½œã€‚ç±»ä¼¼åœ°ï¼Œä½¿ç”¨ createSymbolicLink(..) æ–¹æ³•ä½¿ç”¨ä»£ç åˆ›å»ºç¬¦å·é“¾æ¥ã€‚ æ–‡ä»¶æ›´æ”¹é€šçŸ¥ï¼š JDK 7ä¸­æœ€å¥½çš„æ”¹å–„ç®—æ˜¯File change notificationsï¼ˆæ–‡ä»¶æ›´æ”¹é€šçŸ¥ï¼‰äº†ã€‚è¿™æ˜¯ä¸€ä¸ªé•¿æœŸç­‰å¾…çš„ç‰¹æ€§ï¼Œå®ƒæœ€ç»ˆè¢«åˆ»åœ¨NIO 2.0ä¸­ã€‚WatchService API å…è®¸æ‚¨åœ¨å¯¹ä¸»é¢˜(ç›®å½•æˆ–æ–‡ä»¶)è¿›è¡Œæ›´æ”¹æ—¶æ¥æ”¶é€šçŸ¥äº‹ä»¶ã€‚ å…·ä½“çš„åˆ›å»ºæ­¥éª¤å°±ä¸ç»™äº†ï¼Œæ€»ä¹‹å®ƒçš„åŠŸèƒ½å°±è·Ÿå®ƒçš„åå­—ä¸€èˆ¬ï¼Œå½“æ–‡ä»¶å‘ç”Ÿæ›´æ”¹çš„æ—¶å€™ï¼Œèƒ½åŠæ—¶ä½œå‡ºåé¦ˆã€‚ 7ï¼‰Fork and Joinï¼ˆFork/Joinæ¡†æ¶ï¼‰åœ¨ä¸€ä¸ª Java ç¨‹åºä¸­æœ‰æ•ˆåœ°ä½¿ç”¨å¹¶è¡Œå†…æ ¸ä¸€ç›´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å¾ˆå°‘æœ‰å›½å†…å¼€å‘çš„æ¡†æ¶å°†å·¥ä½œåˆ†é…åˆ°å¤šä¸ªæ ¸å¿ƒï¼Œç„¶ååŠ å…¥å®ƒä»¬æ¥è¿”å›ç»“æœé›†ã€‚Javaå·²ç»å°†è¿™ä¸ªç‰¹æ€§ä½œä¸ºFork/Joinæ¡†æ¶ç»“åˆäº†èµ·æ¥ã€‚ åŸºæœ¬ä¸Šï¼Œåœ¨æŠŠæ‰‹å¤´çš„ä»»åŠ¡å˜æˆäº†å°ä»»åŠ¡ï¼Œç›´åˆ°å°ä»»åŠ¡ç®€å•åˆ°å¯ä»¥ä¸è¿›ä¸€æ­¥åˆ†æ‰‹çš„æƒ…å†µä¸‹è§£å†³ã€‚è¿™å°±åƒä¸€ä¸ªåˆ†è€Œæ²»ä¹‹çš„ç®—æ³•.ã€‚åœ¨è¿™ä¸ªæ¡†æ¶ä¸­éœ€è¦æ³¨æ„çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µæ˜¯ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å·¥ä½œçº¿ç¨‹æ˜¯ç©ºé—²çš„ã€‚ä»–ä»¬å®ç°äº†ä¸€ä¸ª work-stealing ç®—æ³•ï¼Œåœ¨ç©ºé—²çš„å·¥äººâ€œå·â€å·¥ä½œä»é‚£äº›å·¥äººè°æ˜¯å¿™ã€‚ æ”¯æŒFork-Joinæœºåˆ¶çš„æ ¸å¿ƒç±»æ˜¯ ForkJoinPoolå’ŒForkJoinTaskã€‚ ä»€ä¹ˆæ˜¯Fork/Joinæ¡†æ¶ï¼š Java7æä¾›çš„ä¸€ä¸ªç”¨äºå¹¶è¡Œæ‰§è¡Œä»»åŠ¡çš„æ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªæŠŠå¤§ä»»åŠ¡åˆ†å‰²æˆè‹¥å¹²ä¸ªå°ä»»åŠ¡ï¼Œæœ€ç»ˆæ±‡æ€»æ¯ä¸ªå°ä»»åŠ¡ç»“æœåå¾—åˆ°å¤§ä»»åŠ¡ç»“æœçš„æ¡†æ¶ã€‚ Fork/Joinçš„è¿è¡Œæµç¨‹å›¾å¦‚ä¸‹ï¼š å·¥ä½œçªƒå–ç®—æ³•ï¼š å·¥ä½œçªƒå–ï¼ˆwork-stealingï¼‰ç®—æ³•æ˜¯æŒ‡æŸä¸ªçº¿ç¨‹ä»å…¶ä»–é˜Ÿåˆ—é‡Œçªƒå–ä»»åŠ¡æ¥æ‰§è¡Œã€‚å·¥ä½œçªƒå–çš„è¿è¡Œæµç¨‹å›¾å¦‚ä¸‹ï¼š å·¥ä½œçªƒå–ç®—æ³•çš„ä¼˜ç‚¹æ˜¯å……åˆ†åˆ©ç”¨çº¿ç¨‹è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå¹¶å‡å°‘äº†çº¿ç¨‹é—´çš„ç«äº‰ï¼Œå…¶ç¼ºç‚¹æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹è¿˜æ˜¯å­˜åœ¨ç«äº‰ï¼Œæ¯”å¦‚åŒç«¯é˜Ÿåˆ—é‡Œåªæœ‰ä¸€ä¸ªä»»åŠ¡æ—¶ã€‚å¹¶ä¸”æ¶ˆè€—äº†æ›´å¤šçš„ç³»ç»Ÿèµ„æºï¼Œæ¯”å¦‚åˆ›å»ºå¤šä¸ªçº¿ç¨‹å’Œå¤šä¸ªåŒç«¯é˜Ÿåˆ—ã€‚ Fork/Joinæ¡†æ¶ä½¿ç”¨ç¤ºä¾‹ï¼š è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„éœ€æ±‚æ¥ä½¿ç”¨ä¸‹ Forkï¼Join æ¡†æ¶ï¼Œéœ€æ±‚æ˜¯ï¼šè®¡ç®—1 + 2 + 3 + 4çš„ç»“æœã€‚ ä½¿ç”¨ Fork/Join æ¡†æ¶é¦–å…ˆè¦è€ƒè™‘åˆ°çš„æ˜¯å¦‚ä½•åˆ†å‰²ä»»åŠ¡ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªå­ä»»åŠ¡æœ€å¤šæ‰§è¡Œä¸¤ä¸ªæ•°çš„ç›¸åŠ ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¾ç½®åˆ†å‰²çš„é˜ˆå€¼æ˜¯2ï¼Œç”±äºæ˜¯4ä¸ªæ•°å­—ç›¸åŠ ï¼Œæ‰€ä»¥ Fork/Join æ¡†æ¶ä¼šæŠŠè¿™ä¸ªä»»åŠ¡ fork æˆä¸¤ä¸ªå­ä»»åŠ¡ï¼Œå­ä»»åŠ¡ä¸€è´Ÿè´£è®¡ç®—1 + 2ï¼Œå­ä»»åŠ¡äºŒè´Ÿè´£è®¡ç®—3 + 4ï¼Œç„¶åå† join ä¸¤ä¸ªå­ä»»åŠ¡çš„ç»“æœã€‚ å› ä¸ºæ˜¯æœ‰ç»“æœçš„ä»»åŠ¡ï¼Œæ‰€ä»¥å¿…é¡»ç»§æ‰¿ RecursiveTask ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š import java.util.concurrent.ExecutionException; import java.util.concurrent.ForkJoinPool; import java.util.concurrent.Future; import java.util.concurrent.RecursiveTask; /** * CountTask. * * @author blinkfox on 2018-01-03. */ public class CountTask extends RecursiveTask&lt;Integer> { /** é˜ˆå€¼. */ public static final int THRESHOLD = 2; /** è®¡ç®—çš„å¼€å§‹å€¼. */ private int start; /** è®¡ç®—çš„ç»“æŸå€¼. */ private int end; /** * æ„é€ æ–¹æ³•. * * @param start è®¡ç®—çš„å¼€å§‹å€¼ * @param end è®¡ç®—çš„ç»“æŸå€¼ */ public CountTask(int start, int end) { this.start = start; this.end = end; } /** * æ‰§è¡Œè®¡ç®—çš„æ–¹æ³•. * * @return intå‹ç»“æœ */ @Override protected Integer compute() { int sum = 0; // å¦‚æœä»»åŠ¡è¶³å¤Ÿå°å°±è®¡ç®—ä»»åŠ¡. if ((end - start) &lt;= THRESHOLD) { for (int i = start; i &lt;= end; i++) { sum += i; } } else { // å¦‚æœä»»åŠ¡å¤§äºé˜ˆå€¼ï¼Œå°±åˆ†è£‚æˆä¸¤ä¸ªå­ä»»åŠ¡æ¥è®¡ç®—. int middle = (start + end) / 2; CountTask leftTask = new CountTask(start, middle); CountTask rightTask = new CountTask(middle + 1, end); // ç­‰å¾…å­ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå¹¶å¾—åˆ°ç»“æœï¼Œå†åˆå¹¶æ‰§è¡Œç»“æœ. leftTask.fork(); rightTask.fork(); sum = leftTask.join() + rightTask.join(); } return sum; } /** * mainæ–¹æ³•. * * @param args æ•°ç»„å‚æ•° */ public static void main(String[] args) throws ExecutionException, InterruptedException { ForkJoinPool fkPool = new ForkJoinPool(); CountTask task = new CountTask(1, 4); Future&lt;Integer> result = fkPool.submit(task); System.out.println(\"result:\" + result.get()); } } å‚è€ƒæ–‡ç« ï¼šJava7æ–°ç‰¹æ€§åŠä½¿ç”¨è¿™é‡Œæ˜¯Java 7çš„æ–°ç‰¹æ€§ä¸€è§ˆè¡¨ï¼šhttp://www.oschina.net/news/20119/new-features-of-java-7 ï¼ˆå››ï¼‰Java 8 ç›¸å…³çŸ¥è¯†ç‚¹ å…³äº Java 8 ä¸­æ–°çŸ¥è¯†ç‚¹ï¼Œé¢è¯•å®˜ä¼šè®©ä½ è¯´è¯´ Java 8 ä½ äº†è§£å¤šå°‘ï¼Œä¸‹é¢åˆ†äº«ä¸€ä¸‹æˆ‘æ”¶é›†çš„ Java 8 æ–°å¢çš„çŸ¥è¯†ç‚¹çš„å†…å®¹ï¼Œå‰æ’ç”³æ˜å¼•ç”¨è‡ªï¼šJava8æ–°ç‰¹æ€§åŠä½¿ç”¨ 1ï¼‰æ¥å£é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•Java 8ç”¨é»˜è®¤æ–¹æ³•ä¸é™æ€æ–¹æ³•è¿™ä¸¤ä¸ªæ–°æ¦‚å¿µæ¥æ‰©å±•æ¥å£çš„å£°æ˜ã€‚ä¸ä¼ ç»Ÿçš„æ¥å£åˆæœ‰äº›ä¸ä¸€æ ·ï¼Œå®ƒå…è®¸åœ¨å·²æœ‰çš„æ¥å£ä¸­æ·»åŠ æ–°æ–¹æ³•ï¼Œè€ŒåŒæ—¶åˆä¿æŒäº†ä¸æ—§ç‰ˆæœ¬ä»£ç çš„å…¼å®¹æ€§ã€‚ 1.æ¥å£é»˜è®¤æ–¹æ³• é»˜è®¤æ–¹æ³•ä¸æŠ½è±¡æ–¹æ³•ä¸åŒä¹‹å¤„åœ¨äºæŠ½è±¡æ–¹æ³•å¿…é¡»è¦æ±‚å®ç°ï¼Œä½†æ˜¯é»˜è®¤æ–¹æ³•åˆ™æ²¡æœ‰è¿™ä¸ªè¦æ±‚ã€‚ç›¸åï¼Œæ¯ä¸ªæ¥å£éƒ½å¿…é¡»æä¾›ä¸€ä¸ªæ‰€è°“çš„é»˜è®¤å®ç°ï¼Œè¿™æ ·æ‰€æœ‰çš„æ¥å£å®ç°è€…å°†ä¼šé»˜è®¤ç»§æ‰¿å®ƒï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥è¦†ç›–è¿™ä¸ªé»˜è®¤å®ç°ï¼‰ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š private interface Defaulable { // Interfaces now allow default methods, the implementer may or // may not implement (override) them. default String notRequired() { return \"Default implementation\"; } } private static class DefaultableImpl implements Defaulable { } private static class OverridableImpl implements Defaulable { @Override public String notRequired() { return \"Overridden implementation\"; } } Defaulable æ¥å£ç”¨å…³é”®å­— default å£°æ˜äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³• notRequired()ï¼ŒDefaulable æ¥å£çš„å®ç°è€…ä¹‹ä¸€ DefaultableImpl å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå¹¶ä¸”è®©é»˜è®¤æ–¹æ³•ä¿æŒåŸæ ·ã€‚Defaulable æ¥å£çš„å¦ä¸€ä¸ªå®ç°è€… OverridableImpl ç”¨è‡ªå·±çš„æ–¹æ³•è¦†ç›–äº†é»˜è®¤æ–¹æ³•ã€‚ 1.1 å¤šé‡ç»§æ‰¿çš„å†²çªè¯´æ˜ï¼š ç”±äºåŒä¸€ä¸ªæ–¹æ³•å¯ä»¥ä»ä¸åŒçš„æ¥å£å¼•å…¥ï¼Œè‡ªç„¶è€Œç„¶çš„ä¼šæœ‰å†²çªçš„ç°è±¡ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š ä¸€ä¸ªå£°æ˜åœ¨ç±»é‡Œé¢çš„æ–¹æ³•ä¼˜å…ˆäºä»»ä½•é»˜è®¤æ–¹æ³• ä¼˜å…ˆé€‰å–æœ€å…·ä½“çš„å®ç° public interface A { default void hello() { System.out.println(\"Hello A\"); } } public interface B extends A { default void hello() { System.out.println(\"Hello B\"); } } public class C implements A, B { public static void main(String[] args) { new C().hello(); // è¾“å‡º Hello B } } 1.2 ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹: å¯ä»¥åœ¨ä¸ç ´åä»£ç çš„å‰æä¸‹æ‰©å±•åŸæœ‰åº“çš„åŠŸèƒ½ã€‚å®ƒé€šè¿‡ä¸€ä¸ªå¾ˆä¼˜é›…çš„æ–¹å¼ä½¿å¾—æ¥å£å˜å¾—æ›´æ™ºèƒ½ï¼ŒåŒæ—¶è¿˜é¿å…äº†ä»£ç å†—ä½™ï¼Œå¹¶ä¸”æ‰©å±•ç±»åº“ã€‚ ç¼ºç‚¹: ä½¿å¾—æ¥å£ä½œä¸ºåè®®ï¼Œç±»ä½œä¸ºå…·ä½“å®ç°çš„ç•Œé™å¼€å§‹å˜å¾—æœ‰ç‚¹æ¨¡ç³Šã€‚ 1.3 æ¥å£é»˜è®¤æ–¹æ³•ä¸èƒ½é‡è½½Objectç±»çš„ä»»ä½•æ–¹æ³•ï¼š æ¥å£ä¸èƒ½æä¾›å¯¹Objectç±»çš„ä»»ä½•æ–¹æ³•çš„é»˜è®¤å®ç°ã€‚ç®€å•åœ°è®²ï¼Œæ¯ä¸€ä¸ªjavaç±»éƒ½æ˜¯Objectçš„å­ç±»ï¼Œä¹Ÿéƒ½ç»§æ‰¿äº†å®ƒç±»ä¸­çš„ equals()/hashCode()/toString() æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨ç±»çš„æ¥å£ä¸ŠåŒ…å«è¿™äº›é»˜è®¤æ–¹æ³•æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå®ƒä»¬ä¹Ÿä»æ¥ä¸ä¼šè¢«ç¼–è¯‘ã€‚ åœ¨ JVM ä¸­ï¼Œé»˜è®¤æ–¹æ³•çš„å®ç°æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå¹¶ä¸”é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤ä¸ºæ–¹æ³•è°ƒç”¨æä¾›äº†æ”¯æŒã€‚é»˜è®¤æ–¹æ³•å…è®¸ç»§ç»­ä½¿ç”¨ç°æœ‰çš„Javaæ¥å£ï¼Œè€ŒåŒæ—¶èƒ½å¤Ÿä¿éšœæ­£å¸¸çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æ–¹é¢å¥½çš„ä¾‹å­æ˜¯å¤§é‡çš„æ–¹æ³•è¢«æ·»åŠ åˆ° java.util.Collection æ¥å£ä¸­å»ï¼šstream()ï¼ŒparallelStream()ï¼ŒforEach()ï¼ŒremoveIf() ç­‰ã€‚å°½ç®¡é»˜è®¤æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨é»˜è®¤æ–¹æ³•æ—¶æˆ‘ä»¬éœ€è¦å°å¿ƒæ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼šåœ¨å£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å‰ï¼Œè¯·ä»”ç»†æ€è€ƒæ˜¯ä¸æ˜¯çœŸçš„æœ‰å¿…è¦ä½¿ç”¨é»˜è®¤æ–¹æ³•ã€‚ 2.æ¥å£é™æ€æ–¹æ³• Java 8 å¸¦æ¥çš„å¦ä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§æ˜¯æ¥å£å¯ä»¥å£°æ˜ï¼ˆå¹¶ä¸”å¯ä»¥æä¾›å®ç°ï¼‰é™æ€æ–¹æ³•ã€‚åœ¨æ¥å£ä¸­å®šä¹‰é™æ€æ–¹æ³•ï¼Œä½¿ç”¨ static å…³é”®å­—ï¼Œä¾‹å¦‚ï¼š public interface StaticInterface { static void method() { System.out.println(\"è¿™æ˜¯Java8æ¥å£ä¸­çš„é™æ€æ–¹æ³•!\"); } } ä¸‹é¢çš„ä¸€å°æ®µä»£ç æ˜¯ä¸Šé¢é™æ€æ–¹æ³•çš„ä½¿ç”¨ã€‚ public class Main { public static void main(String[] args) { StaticInterface.method(); // è¾“å‡º è¿™æ˜¯Java8æ¥å£ä¸­çš„é™æ€æ–¹æ³•! } } Java æ”¯æŒä¸€ä¸ªå®ç°ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå¦‚æœå¤šä¸ªæ¥å£ä¸­å­˜åœ¨åŒæ ·çš„ static æ–¹æ³•ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿå¦‚æœæœ‰ä¸¤ä¸ªæ¥å£ä¸­çš„é™æ€æ–¹æ³•ä¸€æ¨¡ä¸€æ ·ï¼Œå¹¶ä¸”ä¸€ä¸ªå®ç°ç±»åŒæ—¶å®ç°äº†è¿™ä¸¤ä¸ªæ¥å£ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› ä¸ºJava8ä¸­åªèƒ½é€šè¿‡æ¥å£ç±»è°ƒç”¨æ¥å£ä¸­çš„é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥å¯¹ç¼–è¯‘å™¨æ¥è¯´æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚ 2ï¼‰Lambda è¡¨è¾¾å¼Lambda è¡¨è¾¾å¼ï¼ˆä¹Ÿç§°ä¸ºé—­åŒ…ï¼‰æ˜¯æ•´ä¸ªJava 8å‘è¡Œç‰ˆä¸­æœ€å—æœŸå¾…çš„åœ¨Javaè¯­è¨€å±‚é¢ä¸Šçš„æ”¹å˜ï¼ŒLambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå³ï¼šè¡Œä¸ºå‚æ•°åŒ–ï¼Œå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰ã€‚ ä¸€ä¸ª Lambda å¯ä»¥ç”±ç”¨é€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ã€â€“&gt; ç¬¦å·ä¸å‡½æ•°ä½“ä¸‰éƒ¨åˆ†è¡¨ç¤ºã€‚ é¦–å…ˆçœ‹çœ‹åœ¨è€ç‰ˆæœ¬çš„Javaä¸­æ˜¯å¦‚ä½•æ’åˆ—å­—ç¬¦ä¸²çš„ï¼š List&lt;String> names = Arrays.asList(\"peter\", \"anna\", \"mike\", \"xenia\"); Collections.sort(names, new Comparator&lt;String>() { @Override public int compare(String a, String b) { return b.compareTo(a); } }); åªéœ€è¦ç»™é™æ€æ–¹æ³• Collections.sort ä¼ å…¥ä¸€ä¸ªListå¯¹è±¡ä»¥åŠä¸€ä¸ªæ¯”è¾ƒå™¨æ¥æŒ‰æŒ‡å®šé¡ºåºæ’åˆ—ã€‚é€šå¸¸åšæ³•éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªåŒ¿åçš„æ¯”è¾ƒå™¨å¯¹è±¡ç„¶åå°†å…¶ä¼ é€’ç»™sortæ–¹æ³•ã€‚ åœ¨Java 8 ä¸­ä½ å°±æ²¡å¿…è¦ä½¿ç”¨è¿™ç§ä¼ ç»Ÿçš„åŒ¿åå¯¹è±¡çš„æ–¹å¼äº†ï¼ŒJava 8æä¾›äº†æ›´ç®€æ´çš„è¯­æ³•ï¼Œlambdaè¡¨è¾¾å¼ï¼š Collections.sort(names, (String a, String b) -> { return b.compareTo(a); }); çœ‹åˆ°äº†å§ï¼Œä»£ç å˜å¾—æ›´çŸ­ä¸”æ›´å…·æœ‰å¯è¯»æ€§ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜å¯ä»¥å†™å¾—æ›´çŸ­ï¼š Collections.sort(names, (String a, String b) -> b.compareTo(a)); å¯¹äºå‡½æ•°ä½“åªæœ‰ä¸€è¡Œä»£ç çš„ï¼Œä½ å¯ä»¥å»æ‰å¤§æ‹¬å·{}ä»¥åŠreturnå…³é”®å­—ï¼Œä½†æ˜¯ä½ è¿˜å¯ä»¥å†™å¾—æ›´çŸ­ç‚¹ï¼š Collections.sort(names, (a, b) -> b.compareTo(a)); Javaç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨å¯¼å‡ºå‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸ç”¨å†å†™ä¸€æ¬¡ç±»å‹ã€‚ æ›´å¤š Lambda è¡¨è¾¾å¼çš„ç¤ºä¾‹åœ¨è¿™é‡Œï¼šJava8 lambdaè¡¨è¾¾å¼10ä¸ªç¤ºä¾‹ 3ï¼‰å‡½æ•°å¼æ¥å£Lambda è¡¨è¾¾å¼æ˜¯å¦‚ä½•åœ¨ Java çš„ç±»å‹ç³»ç»Ÿä¸­è¡¨ç¤ºçš„å‘¢ï¼Ÿæ¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼éƒ½å¯¹åº”ä¸€ä¸ªç±»å‹ï¼Œé€šå¸¸æ˜¯æ¥å£ç±»å‹ã€‚è€Œå‡½æ•°å¼æ¥å£æ˜¯æŒ‡ä»…ä»…åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œæ¯ä¸€ä¸ªè¯¥ç±»å‹çš„Lambdaè¡¨è¾¾å¼éƒ½ä¼šè¢«åŒ¹é…åˆ°è¿™ä¸ªæŠ½è±¡æ–¹æ³•ã€‚å› ä¸ºé»˜è®¤æ–¹æ³•ä¸ç®—æŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç»™ä½ çš„å‡½æ•°å¼æ¥å£æ·»åŠ é»˜è®¤æ–¹æ³•ã€‚ æˆ‘ä»¬å¯ä»¥å°†Lambdaè¡¨è¾¾å¼å½“ä½œä»»æ„åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ç±»å‹ï¼Œç¡®ä¿ä½ çš„æ¥å£ä¸€å®šè¾¾åˆ°è¿™ä¸ªè¦æ±‚ï¼Œä½ åªéœ€è¦ç»™ä½ çš„æ¥å£æ·»åŠ  @FunctionalInterface æ³¨è§£ï¼Œç¼–è¯‘å™¨å¦‚æœå‘ç°ä½ æ ‡æ³¨äº†è¿™ä¸ªæ³¨è§£çš„æ¥å£æœ‰å¤šäºä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ—¶å€™ä¼šæŠ¥é”™çš„ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š @FunctionalInterface interface Converter&lt;F, T> { T convert(F from); } Converter&lt;String, Integer> converter = (from) -> Integer.valueOf(from); Integer converted = converter.convert(\"123\"); System.out.println(converted); // 123 æ³¨æ„ï¼š å¦‚æœ @FunctionalInterface å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿæ˜¯å¯¹çš„ã€‚æ›´å¤šå‚è€ƒï¼š Java 8â€”â€”Lambdaè¡¨è¾¾å¼ã€Java8æ–°ç‰¹æ€§åŠä½¿ç”¨ 4ï¼‰æ–¹æ³•å¼•ç”¨1.æ¦‚è¿°ï¼š åœ¨å­¦ä¹ äº†Lambdaè¡¨è¾¾å¼ä¹‹åï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºåŒ¿åæ–¹æ³•ã€‚ç„¶è€Œï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä»…ä»…æ˜¯è°ƒç”¨äº†ä¸€ä¸ªå·²å­˜åœ¨çš„æ–¹æ³•ã€‚å¦‚ä¸‹ï¼š Arrays.sort(strArray, (s1, s2) -> s1.compareToIgnoreCase(s2)); åœ¨Java8ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡æ–¹æ³•å¼•ç”¨æ¥ç®€å†™Lambdaè¡¨è¾¾å¼ä¸­å·²ç»å­˜åœ¨çš„æ–¹æ³•ã€‚ Arrays.sort(strArray, String::compareToIgnoreCase); è¿™ç§ç‰¹æ€§å°±å«åšæ–¹æ³•å¼•ç”¨(Method Reference)ã€‚ æ–¹æ³•å¼•ç”¨æ˜¯ç”¨æ¥ç›´æ¥è®¿é—®ç±»æˆ–è€…å®ä¾‹çš„å·²ç»å­˜åœ¨çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ã€‚æ–¹æ³•å¼•ç”¨æä¾›äº†ä¸€ç§å¼•ç”¨è€Œä¸æ‰§è¡Œæ–¹æ³•çš„æ–¹å¼ï¼Œå®ƒéœ€è¦ç”±å…¼å®¹çš„å‡½æ•°å¼æ¥å£æ„æˆçš„ç›®æ ‡ç±»å‹ä¸Šä¸‹æ–‡ã€‚è®¡ç®—æ—¶ï¼Œæ–¹æ³•å¼•ç”¨ä¼šåˆ›å»ºå‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹ã€‚å½“Lambdaè¡¨è¾¾å¼ä¸­åªæ˜¯æ‰§è¡Œä¸€ä¸ªæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¸ç”¨Lambdaè¡¨è¾¾å¼ï¼Œç›´æ¥é€šè¿‡æ–¹æ³•å¼•ç”¨çš„å½¢å¼å¯è¯»æ€§æ›´é«˜ä¸€äº›ã€‚æ–¹æ³•å¼•ç”¨æ˜¯ä¸€ç§æ›´ç®€æ´æ˜“æ‡‚çš„Lambdaè¡¨è¾¾å¼ã€‚ æ³¨æ„: æ–¹æ³•å¼•ç”¨æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼ï¼Œå…¶ä¸­æ–¹æ³•å¼•ç”¨çš„æ“ä½œç¬¦æ˜¯åŒå†’å·::ã€‚ 2.åˆ†ç±»ï¼š æ–¹æ³•å¼•ç”¨çš„æ ‡å‡†å½¢å¼æ˜¯ï¼šç±»å::æ–¹æ³•åã€‚ï¼ˆæ³¨æ„ï¼šåªéœ€è¦å†™æ–¹æ³•åï¼Œä¸éœ€è¦å†™æ‹¬å·ï¼‰ æœ‰ä»¥ä¸‹å››ç§å½¢å¼çš„æ–¹æ³•å¼•ç”¨ï¼š å¼•ç”¨é™æ€æ–¹æ³•: ContainingClass::staticMethodName å¼•ç”¨æŸä¸ªå¯¹è±¡çš„å®ä¾‹æ–¹æ³•: containingObject::instanceMethodName å¼•ç”¨æŸä¸ªç±»å‹çš„ä»»æ„å¯¹è±¡çš„å®ä¾‹æ–¹æ³•:ContainingType::methodName å¼•ç”¨æ„é€ æ–¹æ³•: ClassName::new 3.ç¤ºä¾‹ï¼š ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š public class Person { String name; LocalDate birthday; public Person(String name, LocalDate birthday) { this.name = name; this.birthday = birthday; } public LocalDate getBirthday() { return birthday; } public static int compareByAge(Person a, Person b) { return a.birthday.compareTo(b.birthday); } @Override public String toString() { return this.name; } } public class MethodReferenceTest { @Test public static void main() { Person[] pArr = new Person[] { new Person(\"003\", LocalDate.of(2016,9,1)), new Person(\"001\", LocalDate.of(2016,2,1)), new Person(\"002\", LocalDate.of(2016,3,1)), new Person(\"004\", LocalDate.of(2016,12,1)) }; // ä½¿ç”¨åŒ¿åç±» Arrays.sort(pArr, new Comparator&lt;Person>() { @Override public int compare(Person a, Person b) { return a.getBirthday().compareTo(b.getBirthday()); } }); //ä½¿ç”¨lambdaè¡¨è¾¾å¼ Arrays.sort(pArr, (Person a, Person b) -> { return a.getBirthday().compareTo(b.getBirthday()); }); //ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼Œå¼•ç”¨çš„æ˜¯ç±»çš„é™æ€æ–¹æ³• Arrays.sort(pArr, Person::compareByAge); } } 5ï¼‰Steam Java8æ·»åŠ çš„ Stream API(java.util.stream) æŠŠçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼å¼•å…¥åˆ°Javaä¸­ã€‚è¿™æ˜¯ç›®å‰ä¸ºæ­¢å¯¹Javaç±»åº“æœ€å¥½çš„è¡¥å……ï¼Œå› ä¸º Stream API å¯ä»¥æå¤§æä¾›Javaç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©ç¨‹åºå‘˜å†™å‡ºé«˜æ•ˆç‡ã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚ä½¿ç”¨ Steam å†™å‡ºæ¥çš„ä»£ç çœŸçš„èƒ½è®©äººå…´å¥‹ï¼Œè¿™é‡Œé“¾å‡ºä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ï¼šJava 8â€”â€”å‡½æ•°å¼æ•°æ®å¤„ç†ï¼ˆæµï¼‰ æµå¯ä»¥æ˜¯æ— é™çš„ã€æœ‰çŠ¶æ€çš„ï¼Œå¯ä»¥æ˜¯é¡ºåºçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚åœ¨ä½¿ç”¨æµçš„æ—¶å€™ï¼Œä½ é¦–å…ˆéœ€è¦ä»ä¸€äº›æ¥æºä¸­è·å–ä¸€ä¸ªæµï¼Œæ‰§è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªä¸­é—´æ“ä½œï¼Œç„¶åæ‰§è¡Œä¸€ä¸ªæœ€ç»ˆæ“ä½œã€‚ä¸­é—´æ“ä½œåŒ…æ‹¬filterã€mapã€flatMapã€peelã€distinctã€sortedã€limit å’Œ substreamã€‚ç»ˆæ­¢æ“ä½œåŒ…æ‹¬ forEachã€toArrayã€reduceã€collectã€minã€maxã€countã€anyMatchã€allMatchã€noneMatchã€findFirst å’Œ findAnyã€‚ java.util.stream.Collectors æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å®ç”¨ç±»ã€‚è¯¥ç±»å®ç°äº†å¾ˆå¤šå½’çº¦æ“ä½œï¼Œä¾‹å¦‚å°†æµè½¬æ¢æˆé›†åˆå’Œèšåˆå…ƒç´ ã€‚ 1.ä¸€äº›é‡è¦æ–¹æ³•è¯´æ˜ï¼š stream: è¿”å›æ•°æ®æµï¼Œé›†åˆä½œä¸ºå…¶æº parallelStream: è¿”å›å¹¶è¡Œæ•°æ®æµï¼Œ é›†åˆä½œä¸ºå…¶æº filter: æ–¹æ³•ç”¨äºè¿‡æ»¤å‡ºæ»¡è¶³æ¡ä»¶çš„å…ƒç´  map: æ–¹æ³•ç”¨äºæ˜ å°„æ¯ä¸ªå…ƒç´ å¯¹åº”çš„ç»“æœ forEach: æ–¹æ³•éå†è¯¥æµä¸­çš„æ¯ä¸ªå…ƒç´  limit: æ–¹æ³•ç”¨äºå‡å°‘æµçš„å¤§å° sorted: æ–¹æ³•ç”¨æ¥å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ’åº anyMatch: æ˜¯å¦å­˜åœ¨ä»»æ„ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼ˆè¿”å›å¸ƒå°”å€¼ï¼‰ allMatch: æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼ˆè¿”å›å¸ƒå°”å€¼ï¼‰ noneMatch: æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼ˆè¿”å›å¸ƒå°”å€¼ï¼‰ collect: æ–¹æ³•æ˜¯ç»ˆç«¯æ“ä½œï¼Œè¿™æ˜¯é€šå¸¸å‡ºç°åœ¨ç®¡é“ä¼ è¾“æ“ä½œç»“æŸæ ‡è®°æµçš„ç»“æŸ 2.ä¸€äº›ä½¿ç”¨ç¤ºä¾‹ï¼š 2.1 Filter è¿‡æ»¤ï¼š stringCollection .stream() .filter((s) -&gt; s.startsWith(&quot;a&quot;)) .forEach(System.out::println);2.2 Sort æ’åºï¼š stringCollection .stream() .sorted() .filter((s) -&gt; s.startsWith(&quot;a&quot;)) .forEach(System.out::println);2.3 Map æ˜ å°„ï¼š stringCollection .stream() .map(String::toUpperCase) .sorted((a, b) -&gt; b.compareTo(a)) .forEach(System.out::println);2.4 Match åŒ¹é…ï¼š boolean anyStartsWithA = stringCollection .stream() .anyMatch((s) -&gt; s.startsWith(&quot;a&quot;)); System.out.println(anyStartsWithA); // true boolean allStartsWithA = stringCollection .stream() .allMatch((s) -&gt; s.startsWith(&quot;a&quot;)); System.out.println(allStartsWithA); // false boolean noneStartsWithZ = stringCollection .stream() .noneMatch((s) -&gt; s.startsWith(&quot;z&quot;)); System.out.println(noneStartsWithZ); // true 2.5 Count è®¡æ•°ï¼š long startsWithB = stringCollection .stream() .filter((s) -&gt; s.startsWith(&quot;b&quot;)) .count(); System.out.println(startsWithB); // 3 2.6 Reduce è§„çº¦ï¼š Optional&lt;String> reduced = stringCollection .stream() .sorted() .reduce((s1, s2) -> s1 + \"#\" + s2); reduced.ifPresent(System.out::println); 6ï¼‰Optionalåˆ°ç›®å‰ä¸ºæ­¢ï¼Œè‡­åæ˜­è‘—çš„ç©ºæŒ‡é’ˆå¼‚å¸¸æ˜¯å¯¼è‡´Javaåº”ç”¨ç¨‹åºå¤±è´¥çš„æœ€å¸¸è§åŸå› ã€‚ä»¥å‰ï¼Œä¸ºäº†è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ŒGoogleå…¬å¸è‘—åçš„Guavaé¡¹ç›®å¼•å…¥äº†Optionalç±»ï¼ŒGuavaé€šè¿‡ä½¿ç”¨æ£€æŸ¥ç©ºå€¼çš„æ–¹å¼æ¥é˜²æ­¢ä»£ç æ±¡æŸ“ï¼Œå®ƒé¼“åŠ±ç¨‹åºå‘˜å†™æ›´å¹²å‡€çš„ä»£ç ã€‚å—åˆ°Google Guavaçš„å¯å‘ï¼ŒOptionalç±»å·²ç»æˆä¸ºJava 8ç±»åº“çš„ä¸€éƒ¨åˆ†ã€‚ Optionalå®é™…ä¸Šæ˜¯ä¸ªå®¹å™¨ï¼šå®ƒå¯ä»¥ä¿å­˜ç±»å‹Tçš„å€¼ï¼Œæˆ–è€…ä»…ä»…ä¿å­˜nullã€‚Optionalæä¾›å¾ˆå¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨æ˜¾å¼è¿›è¡Œç©ºå€¼æ£€æµ‹ã€‚ æˆ‘ä»¬ä¸‹é¢ç”¨ä¸¤ä¸ªå°ä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Optionalç±»ï¼šä¸€ä¸ªå…è®¸ä¸ºç©ºå€¼ï¼Œä¸€ä¸ªä¸å…è®¸ä¸ºç©ºå€¼ã€‚ Optional&lt;String> fullName = Optional.ofNullable(null); System.out.println(\"Full Name is set? \" + fullName.isPresent()); System.out.println(\"Full Name: \" + fullName.orElseGet(() -> \"[none]\")); System.out.println(fullName.map(s -> \"Hey \" + s + \"!\").orElse(\"Hey Stranger!\")); å¦‚æœOptionalç±»çš„å®ä¾‹ä¸ºéç©ºå€¼çš„è¯ï¼ŒisPresent()è¿”å›trueï¼Œå¦ä»è¿”å›falseã€‚ä¸ºäº†é˜²æ­¢Optionalä¸ºç©ºå€¼ï¼ŒorElseGet()æ–¹æ³•é€šè¿‡å›è°ƒå‡½æ•°æ¥äº§ç”Ÿä¸€ä¸ªé»˜è®¤å€¼ã€‚map()å‡½æ•°å¯¹å½“å‰Optionalçš„å€¼è¿›è¡Œè½¬åŒ–ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„Optionalå®ä¾‹ã€‚orElse()æ–¹æ³•å’ŒorElseGet()æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯orElseæ¥å—ä¸€ä¸ªé»˜è®¤å€¼è€Œä¸æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªç¨‹åºçš„è¾“å‡ºï¼š Full Name is set? false Full Name: [none] Hey Stranger! è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼š Optional&lt;String> firstName = Optional.of(\"Tom\"); System.out.println(\"First Name is set? \" + firstName.isPresent()); System.out.println(\"First Name: \" + firstName.orElseGet(() -> \"[none]\")); System.out.println(firstName.map(s -> \"Hey \" + s + \"!\").orElse(\"Hey Stranger!\")); System.out.println(); ä¸‹é¢æ˜¯ç¨‹åºçš„è¾“å‡ºï¼š First Name is set? true First Name: Tom Hey Tom! 7ï¼‰Date/Time APIJava 8 åœ¨åŒ…java.timeä¸‹åŒ…å«äº†ä¸€ç»„å…¨æ–°çš„æ—¶é—´æ—¥æœŸAPIã€‚æ–°çš„æ—¥æœŸAPIå’Œå¼€æºçš„Joda-Timeåº“å·®ä¸å¤šï¼Œä½†åˆä¸å®Œå…¨ä¸€æ ·ï¼Œä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†è¿™ç»„æ–°APIé‡Œæœ€é‡è¦çš„ä¸€äº›éƒ¨åˆ†ï¼š 1.Clock æ—¶é’Ÿï¼š Clockç±»æä¾›äº†è®¿é—®å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„æ–¹æ³•ï¼ŒClockæ˜¯æ—¶åŒºæ•æ„Ÿçš„ï¼Œå¯ä»¥ç”¨æ¥å–ä»£System.currentTimeMillis()æ¥è·å–å½“å‰çš„å¾®ç§’æ•°ã€‚æŸä¸€ä¸ªç‰¹å®šçš„æ—¶é—´ç‚¹ä¹Ÿå¯ä»¥ä½¿ç”¨Instantç±»æ¥è¡¨ç¤ºï¼ŒInstantç±»ä¹Ÿå¯ä»¥ç”¨æ¥åˆ›å»ºè€çš„java.util.Dateå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹: Clock clock = Clock.systemDefaultZone(); long millis = clock.millis(); Instant instant = clock.instant(); Date legacyDate = Date.from(instant); // legacy java.util.Date 2.Timezones æ—¶åŒºï¼š åœ¨æ–°APIä¸­æ—¶åŒºä½¿ç”¨ZoneIdæ¥è¡¨ç¤ºã€‚æ—¶åŒºå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨é™æ€æ–¹æ³•ofæ¥è·å–åˆ°ã€‚æ—¶åŒºå®šä¹‰äº†åˆ°UTSæ—¶é—´çš„æ—¶é—´å·®ï¼Œåœ¨Instantæ—¶é—´ç‚¹å¯¹è±¡åˆ°æœ¬åœ°æ—¥æœŸå¯¹è±¡ä¹‹é—´è½¬æ¢çš„æ—¶å€™æ˜¯æå…¶é‡è¦çš„ã€‚ä»£ç å¦‚ä¸‹: System.out.println(ZoneId.getAvailableZoneIds()); // prints all available timezone ids ZoneId zone1 = ZoneId.of(\"Europe/Berlin\"); ZoneId zone2 = ZoneId.of(\"Brazil/East\"); System.out.println(zone1.getRules()); System.out.println(zone2.getRules()); // ZoneRules[currentStandardOffset=+01:00] // ZoneRules[currentStandardOffset=-03:00] 3.LocalTime æœ¬åœ°æ—¶é—´ï¼š LocalTimeå®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰æ—¶åŒºä¿¡æ¯çš„æ—¶é—´ï¼Œä¾‹å¦‚ æ™šä¸Š10ç‚¹ï¼Œæˆ–è€… 17:30:15ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨å‰é¢ä»£ç åˆ›å»ºçš„æ—¶åŒºåˆ›å»ºäº†ä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ä¹‹åæ¯”è¾ƒæ—¶é—´å¹¶ä»¥å°æ—¶å’Œåˆ†é’Ÿä¸ºå•ä½è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„æ—¶é—´å·®ã€‚ä»£ç å¦‚ä¸‹: LocalTime now1 = LocalTime.now(zone1); LocalTime now2 = LocalTime.now(zone2); System.out.println(now1.isBefore(now2)); // false long hoursBetween = ChronoUnit.HOURS.between(now1, now2); long minutesBetween = ChronoUnit.MINUTES.between(now1, now2); System.out.println(hoursBetween); // -3 System.out.println(minutesBetween); // -239 LocalTimeæä¾›äº†å¤šç§å·¥å‚æ–¹æ³•æ¥ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºï¼ŒåŒ…æ‹¬è§£ææ—¶é—´å­—ç¬¦ä¸²ã€‚ä»£ç å¦‚ä¸‹: LocalTime late = LocalTime.of(23, 59, 59); System.out.println(late); // 23:59:59 DateTimeFormatter germanFormatter = DateTimeFormatter .ofLocalizedTime(FormatStyle.SHORT) .withLocale(Locale.GERMAN); LocalTime leetTime = LocalTime.parse(\"13:37\", germanFormatter); System.out.println(leetTime); // 13:37 4.LocalDate æœ¬åœ°æ—¥æœŸï¼š LocalDateè¡¨ç¤ºäº†ä¸€ä¸ªç¡®åˆ‡çš„æ—¥æœŸï¼Œæ¯”å¦‚2014-03-11ã€‚è¯¥å¯¹è±¡å€¼æ˜¯ä¸å¯å˜çš„ï¼Œç”¨èµ·æ¥å’ŒLocalTimeåŸºæœ¬ä¸€è‡´ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ç»™Dateå¯¹è±¡åŠ å‡å¤©/æœˆ/å¹´ã€‚å¦å¤–è¦æ³¨æ„çš„æ˜¯è¿™äº›å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œæ“ä½œè¿”å›çš„æ€»æ˜¯ä¸€ä¸ªæ–°å®ä¾‹ã€‚ä»£ç å¦‚ä¸‹: LocalDate today = LocalDate.now(); LocalDate tomorrow = today.plus(1, ChronoUnit.DAYS); LocalDate yesterday = tomorrow.minusDays(2); LocalDate independenceDay = LocalDate.of(2014, Month.JULY, 4); DayOfWeek dayOfWeek = independenceDay.getDayOfWeek(); System.out.println(dayOfWeek); // FRIDAY ä»å­—ç¬¦ä¸²è§£æä¸€ä¸ªLocalDateç±»å‹å’Œè§£æLocalTimeä¸€æ ·ç®€å•ã€‚ä»£ç å¦‚ä¸‹: DateTimeFormatter germanFormatter = DateTimeFormatter .ofLocalizedDate(FormatStyle.MEDIUM) .withLocale(Locale.GERMAN); LocalDate xmas = LocalDate.parse(\"24.12.2014\", germanFormatter); System.out.println(xmas); // 2014-12-24 5.LocalDateTime æœ¬åœ°æ—¥æœŸæ—¶é—´ï¼š LocalDateTimeåŒæ—¶è¡¨ç¤ºäº†æ—¶é—´å’Œæ—¥æœŸï¼Œç›¸å½“äºå‰ä¸¤èŠ‚å†…å®¹åˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šäº†ã€‚LocalDateTimeå’ŒLocalTimeè¿˜æœ‰LocalDateä¸€æ ·ï¼Œéƒ½æ˜¯ä¸å¯å˜çš„ã€‚LocalDateTimeæä¾›äº†ä¸€äº›èƒ½è®¿é—®å…·ä½“å­—æ®µçš„æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹: LocalDateTime sylvester = LocalDateTime.of(2014, Month.DECEMBER, 31, 23, 59, 59); DayOfWeek dayOfWeek = sylvester.getDayOfWeek(); System.out.println(dayOfWeek); // WEDNESDAY Month month = sylvester.getMonth(); System.out.println(month); // DECEMBER long minuteOfDay = sylvester.getLong(ChronoField.MINUTE_OF_DAY); System.out.println(minuteOfDay); // 1439 åªè¦é™„åŠ ä¸Šæ—¶åŒºä¿¡æ¯ï¼Œå°±å¯ä»¥å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ—¶é—´ç‚¹Instantå¯¹è±¡ï¼ŒInstantæ—¶é—´ç‚¹å¯¹è±¡å¯ä»¥å¾ˆå®¹æ˜“çš„è½¬æ¢ä¸ºè€å¼çš„java.util.Dateã€‚ä»£ç å¦‚ä¸‹: Instant instant = sylvester .atZone(ZoneId.systemDefault()) .toInstant(); Date legacyDate = Date.from(instant); System.out.println(legacyDate); // Wed Dec 31 23:59:59 CET 2014 æ ¼å¼åŒ–LocalDateTimeå’Œæ ¼å¼åŒ–æ—¶é—´å’Œæ—¥æœŸä¸€æ ·çš„ï¼Œé™¤äº†ä½¿ç”¨é¢„å®šä¹‰å¥½çš„æ ¼å¼å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰æ ¼å¼ã€‚ä»£ç å¦‚ä¸‹: DateTimeFormatter formatter = DateTimeFormatter .ofPattern(\"MMM dd, yyyy - HH:mm\"); LocalDateTime parsed = LocalDateTime.parse(\"Nov 03, 2014 - 07:13\", formatter); String string = formatter.format(parsed); System.out.println(string); // Nov 03, 2014 - 07:13 å’Œjava.text.NumberFormatä¸ä¸€æ ·çš„æ˜¯æ–°ç‰ˆçš„DateTimeFormatteræ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ å…³äºJava8ä¸­æ—¥æœŸAPIæ›´å¤šçš„ä½¿ç”¨ç¤ºä¾‹å¯ä»¥å‚è€ƒJava 8ä¸­å…³äºæ—¥æœŸå’Œæ—¶é—´APIçš„20ä¸ªä½¿ç”¨ç¤ºä¾‹ã€‚ 8ï¼‰é‡å¤æ³¨è§£è‡ªä»Java 5å¼•å…¥äº†æ³¨è§£æœºåˆ¶ï¼Œè¿™ä¸€ç‰¹æ€§å°±å˜å¾—éå¸¸æµè¡Œå¹¶ä¸”å¹¿ä¸ºä½¿ç”¨ã€‚ç„¶è€Œï¼Œä½¿ç”¨æ³¨è§£çš„ä¸€ä¸ªé™åˆ¶æ˜¯ç›¸åŒçš„æ³¨è§£åœ¨åŒä¸€ä½ç½®åªèƒ½å£°æ˜ä¸€æ¬¡ï¼Œä¸èƒ½å£°æ˜å¤šæ¬¡ã€‚Java 8æ‰“ç ´äº†è¿™æ¡è§„åˆ™ï¼Œå¼•å…¥äº†é‡å¤æ³¨è§£æœºåˆ¶ï¼Œè¿™æ ·ç›¸åŒçš„æ³¨è§£å¯ä»¥åœ¨åŒä¸€åœ°æ–¹å£°æ˜å¤šæ¬¡ã€‚ é‡å¤æ³¨è§£æœºåˆ¶æœ¬èº«å¿…é¡»ç”¨@Repeatableæ³¨è§£ã€‚äº‹å®ä¸Šï¼Œè¿™å¹¶ä¸æ˜¯è¯­è¨€å±‚é¢ä¸Šçš„æ”¹å˜ï¼Œæ›´å¤šçš„æ˜¯ç¼–è¯‘å™¨çš„æŠ€å·§ï¼Œåº•å±‚çš„åŸç†ä¿æŒä¸å˜ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå¿«é€Ÿå…¥é—¨çš„ä¾‹å­ï¼š import java.lang.annotation.ElementType; import java.lang.annotation.Repeatable; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; public class RepeatingAnnotations { @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) public @interface Filters { Filter[] value(); } @Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Repeatable(Filters.class) public @interface Filter { String value(); }; @Filter(\"filter1\") @Filter(\"filter2\") public interface Filterable { } public static void main(String[] args) { for(Filter filter: Filterable.class.getAnnotationsByType(Filter.class)) { System.out.println(filter.value()); } } } æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„ï¼Œè¿™é‡Œæœ‰ä¸ªä½¿ç”¨@Repeatable(Filters.class)æ³¨è§£çš„æ³¨è§£ç±»Filterï¼ŒFiltersä»…ä»…æ˜¯Filteræ³¨è§£çš„æ•°ç»„ï¼Œä½†Javaç¼–è¯‘å™¨å¹¶ä¸æƒ³è®©ç¨‹åºå‘˜æ„è¯†åˆ°Filtersçš„å­˜åœ¨ã€‚è¿™æ ·ï¼Œæ¥å£Filterableå°±æ‹¥æœ‰äº†ä¸¤æ¬¡Filterï¼ˆå¹¶æ²¡æœ‰æåˆ°Filterï¼‰æ³¨è§£ã€‚ åŒæ—¶ï¼Œåå°„ç›¸å…³çš„APIæä¾›äº†æ–°çš„å‡½æ•°getAnnotationsByType()æ¥è¿”å›é‡å¤æ³¨è§£çš„ç±»å‹ï¼ˆè¯·æ³¨æ„Filterable.class.getAnnotation(Filters.class)ç»ç¼–è¯‘å™¨å¤„ç†åå°†ä¼šè¿”å›Filtersçš„å®ä¾‹ï¼‰ã€‚ 9ï¼‰æ‰©å±•æ³¨è§£çš„æ”¯æŒJava 8æ‰©å±•äº†æ³¨è§£çš„ä¸Šä¸‹æ–‡ã€‚ç°åœ¨å‡ ä¹å¯ä»¥ä¸ºä»»ä½•ä¸œè¥¿æ·»åŠ æ³¨è§£ï¼šå±€éƒ¨å˜é‡ã€æ³›å‹ç±»ã€çˆ¶ç±»ä¸æ¥å£çš„å®ç°ï¼Œå°±è¿æ–¹æ³•çš„å¼‚å¸¸ä¹Ÿèƒ½æ·»åŠ æ³¨è§£ã€‚ä¸‹é¢æ¼”ç¤ºå‡ ä¸ªä¾‹å­ï¼š import java.lang.annotation.ElementType; import java.lang.annotation.Retention; import java.lang.annotation.RetentionPolicy; import java.lang.annotation.Target; import java.util.ArrayList; import java.util.Collection; public class Annotations { @Retention(RetentionPolicy.RUNTIME) @Target({ ElementType.TYPE_USE, ElementType.TYPE_PARAMETER }) public @interface NonEmpty { } public static class Holder&lt;@NonEmpty T> extends @NonEmpty Object { public void method() throws @NonEmpty Exception { } } @SuppressWarnings(\"unused\") public static void main(String[] args) { final Holder&lt;String> holder = new @NonEmpty Holder&lt;String>(); @NonEmpty Collection&lt;@NonEmpty String> strings = new ArrayList&lt;>(); } } 10ï¼‰Base 64åœ¨Java 8ä¸­ï¼ŒBase64ç¼–ç å·²ç»æˆä¸ºJavaç±»åº“çš„æ ‡å‡†ã€‚å®ƒçš„ä½¿ç”¨ååˆ†ç®€å•ï¼Œä¸‹é¢è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š import java.nio.charset.StandardCharsets; import java.util.Base64; public class Base64s { public static void main(String[] args) { final String text = \"Base64 finally in Java 8!\"; final String encoded = Base64.getEncoder().encodeToString(text.getBytes(StandardCharsets.UTF_8)); System.out.println(encoded); final String decoded = new String(Base64.getDecoder().decode(encoded), StandardCharsets.UTF_8); System.out.println(decoded); } } ç¨‹åºåœ¨æ§åˆ¶å°ä¸Šè¾“å‡ºäº†ç¼–ç åçš„å­—ç¬¦ä¸è§£ç åçš„å­—ç¬¦ï¼š QmFzZTY0IGZpbmFsbHkgaW4gSmF2YSA4IQ== Base64 finally in Java 8! Base64ç±»åŒæ—¶è¿˜æä¾›äº†å¯¹URLã€MIMEå‹å¥½çš„ç¼–ç å™¨ä¸è§£ç å™¨ï¼ˆBase64.getUrlEncoder() / Base64.getUrlDecoder(), Base64.getMimeEncoder() / Base64.getMimeDecoder()ï¼‰ã€‚ 11ï¼‰JavaFXJavaFXæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾å½¢å’Œå¤šåª’ä½“å¤„ç†å·¥å…·åŒ…é›†åˆï¼Œå®ƒå…è®¸å¼€å‘è€…æ¥è®¾è®¡ã€åˆ›å»ºã€æµ‹è¯•ã€è°ƒè¯•å’Œéƒ¨ç½²å¯Œå®¢æˆ·ç«¯ç¨‹åºï¼Œå¹¶ä¸”å’ŒJavaä¸€æ ·è·¨å¹³å°ã€‚ä»Java8å¼€å§‹ï¼ŒJavaFxå·²ç»å†…ç½®åˆ°äº†JDKä¸­ã€‚å…³äºJavaFxæ›´è¯¦ç»†çš„æ–‡æ¡£å¯å‚è€ƒJavaFXä¸­æ–‡æ–‡æ¡£ã€‚ 12ï¼‰HashMapçš„åº•å±‚å®ç°æœ‰å˜åŒ–Java8ä¸­ï¼ŒHashMapå†…éƒ¨å®ç°åˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰ï¼Œä½¿å¾—HashMapçš„æ€»ä½“æ€§èƒ½ç›¸è¾ƒäºJava7æœ‰æ¯”è¾ƒæ˜æ˜¾çš„æå‡ã€‚ 13ï¼‰JVMå†…å­˜ç®¡ç†æ–¹é¢ï¼Œç”±å…ƒç©ºé—´ä»£æ›¿äº†æ°¸ä¹…ä»£ã€‚åŒºåˆ«ï¼š å…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ é»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ ä¹Ÿå¯ä»¥é€šè¿‡-XXï¼šMetaspaceSizeæŒ‡å®šå…ƒç©ºé—´å¤§å° ï¼ˆäº”ï¼‰Java 9 ç›¸å…³çŸ¥è¯†ç‚¹ å¼•ç”¨è‡ªæ–‡ç« ï¼šJava 9 ä¸­çš„ 9 ä¸ªæ–°ç‰¹æ€§ã€Java 9 æ–°ç‰¹æ€§æ¦‚è¿°â€”â€”IBMã€ã€è¯‘ã€‘ä½¿ç”¨ç¤ºä¾‹å¸¦ä½ æå‰äº†è§£ Java 9 ä¸­çš„æ–°ç‰¹æ€§ 1ï¼‰Java 9 PEPKï¼ˆJShellï¼‰Oracle å…¬å¸ï¼ˆJava Library å¼€å‘è€…ï¼‰æ–°å¼•è¿›ä¸€ä¸ªä»£è¡¨ Java Shell çš„ç§°ä¹‹ä¸º â€œjshellâ€ æˆ–è€… REPLï¼ˆRead Evaluate Print Loopï¼‰çš„æ–°å·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥è¢«ç”¨æ¥æ‰§è¡Œå’Œæµ‹è¯•ä»»ä½• Java ä¸­çš„ç»“æ„ï¼Œå¦‚ classï¼Œinterfaceï¼Œenumï¼Œobjectï¼Œstatements ç­‰ã€‚ä½¿ç”¨éå¸¸ç®€å•ã€‚ JDK 9 EAï¼ˆEarly Accessï¼‰ä¸‹è½½åœ°å€ï¼šhttps://jdk9.java.net/download/ G:\\&gt;jshell | Welcome to JShell -- Version 9-ea | For an introduction type: /help intro jshell&gt; int a = 10 a ==&gt; 10 jshell&gt; System.out.println(&quot;a value = &quot; + a ) a value = 102ï¼‰é›†åˆå·¥å‚æ–¹æ³•é€šå¸¸ï¼Œæ‚¨å¸Œæœ›åœ¨ä»£ç ä¸­åˆ›å»ºä¸€ä¸ªé›†åˆï¼ˆä¾‹å¦‚ï¼ŒList æˆ– Set ï¼‰ï¼Œå¹¶ç›´æ¥ç”¨ä¸€äº›å…ƒç´ å¡«å……å®ƒã€‚ å®ä¾‹åŒ–é›†åˆï¼Œå‡ ä¸ª â€œaddâ€ è°ƒç”¨ï¼Œä½¿å¾—ä»£ç é‡å¤ã€‚ Java 9ï¼Œæ·»åŠ äº†å‡ ç§é›†åˆå·¥å‚æ–¹æ³•ï¼š Set&lt;Integer> ints = Set.of(1, 2, 3); List&lt;String> strings = List.of(\"first\", \"second\"); é™¤äº†æ›´çŸ­å’Œæ›´å¥½é˜…è¯»ä¹‹å¤–ï¼Œè¿™äº›æ–¹æ³•ä¹Ÿå¯ä»¥é¿å…æ‚¨é€‰æ‹©ç‰¹å®šçš„é›†åˆå®ç°ã€‚ äº‹å®ä¸Šï¼Œä»å·¥å‚æ–¹æ³•è¿”å›å·²æ”¾å…¥æ•°ä¸ªå…ƒç´ çš„é›†åˆå®ç°æ˜¯é«˜åº¦ä¼˜åŒ–çš„ã€‚è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸å¯å˜çš„ï¼šåœ¨åˆ›å»ºåï¼Œç»§ç»­æ·»åŠ å…ƒç´ åˆ°è¿™äº›é›†åˆä¼šå¯¼è‡´ â€œUnsupportedOperationExceptionâ€ ã€‚ 3ï¼‰æ¥å£ä¸­çš„ç§æœ‰æ–¹æ³•åœ¨ Java 8 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¥å£ä¸­ä½¿ç”¨é»˜è®¤æˆ–è€…é™æ€æ–¹æ³•æä¾›ä¸€äº›å®ç°æ–¹å¼ï¼Œä½†æ˜¯ä¸èƒ½åˆ›å»ºç§æœ‰æ–¹æ³•ã€‚ ä¸ºäº†é¿å…å†—ä½™ä»£ç å’Œæé«˜é‡ç”¨æ€§ï¼ŒOracle å…¬å¸å‡†å¤‡åœ¨ Java SE 9 æ¥å£ä¸­å¼•å…¥ç§æœ‰æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ä» Java SE 9 å¼€å§‹ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿåœ¨æ¥å£ç±»ä¸­ä½¿ç”¨ â€˜privateâ€™ å…³é”®å­—å†™ç§æœ‰åŒ–æ–¹æ³•å’Œç§æœ‰åŒ–é™æ€æ–¹æ³•ã€‚ æ¥å£ä¸­çš„ç§æœ‰æ–¹æ³•ä¸ class ç±»ä¸­çš„ç§æœ‰æ–¹æ³•åœ¨å†™æ³•ä¸Šå¹¶æ— å·®å¼‚ï¼Œå¦‚ï¼š public interface Card{ private Long createCardID(){ // Method implementation goes here. } private static void displayCardDetails(){ // Method implementation goes here. } } 4ï¼‰Java å¹³å°çº§æ¨¡å—ç³»ç»Ÿ è¿™é‡Œåªç»™å‡ºè§£å†³çš„é—®é¢˜ï¼Œä»…é™äº†è§£â€¦. Java 9 çš„å®šä¹‰åŠŸèƒ½æ˜¯ä¸€å¥—å…¨æ–°çš„æ¨¡å—ç³»ç»Ÿã€‚å½“ä»£ç åº“è¶Šæ¥è¶Šå¤§ï¼Œåˆ›å»ºå¤æ‚ï¼Œç›˜æ ¹é”™èŠ‚çš„â€œæ„å¤§åˆ©é¢æ¡å¼ä»£ç â€çš„å‡ ç‡å‘ˆæŒ‡æ•°çº§çš„å¢é•¿ã€‚è¿™æ—¶å€™å°±å¾—é¢å¯¹ä¸¤ä¸ªåŸºç¡€çš„é—®é¢˜: å¾ˆéš¾çœŸæ­£åœ°å¯¹ä»£ç è¿›è¡Œå°è£…, è€Œç³»ç»Ÿå¹¶æ²¡æœ‰å¯¹ä¸åŒéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯ JAR æ–‡ä»¶ï¼‰ä¹‹é—´çš„ä¾èµ–å…³ç³»æœ‰ä¸ªæ˜ç¡®çš„æ¦‚å¿µã€‚æ¯ä¸€ä¸ªå…¬å…±ç±»éƒ½å¯ä»¥è¢«ç±»è·¯å¾„ä¹‹ä¸‹ä»»ä½•å…¶å®ƒçš„å…¬å…±ç±»æ‰€è®¿é—®åˆ°, è¿™æ ·å°±ä¼šå¯¼è‡´æ— æ„ä¸­ä½¿ç”¨äº†å¹¶ä¸æƒ³è¢«å…¬å¼€è®¿é—®çš„ APIã€‚æ­¤å¤–ï¼Œç±»è·¯å¾„æœ¬èº«ä¹Ÿå­˜åœ¨é—®é¢˜: ä½ æ€ä¹ˆçŸ¥æ™“æ‰€æœ‰éœ€è¦çš„ JAR éƒ½å·²ç»æœ‰äº†, æˆ–è€…æ˜¯ä¸æ˜¯ä¼šæœ‰é‡å¤çš„é¡¹å‘¢? æ¨¡å—ç³»ç»ŸæŠŠè¿™ä¿©ä¸ªé—®é¢˜éƒ½ç»™è§£å†³äº†ã€‚ 5ï¼‰è¿›ç¨‹ APIJava SE 9 è¿æ¥ä¸€äº› Process API çš„æ”¹è¿›ï¼Œé€šè¿‡æ·»åŠ ä¸€äº›æ–°çš„ç±»å’Œæ–¹æ³•æ¥ä¼˜åŒ–ç³»ç»Ÿçº§è¿›ç¨‹çš„ç®¡æ§ã€‚ Process API ä¸­çš„ä¸¤ä¸ªæ–°æ¥å£ï¼š java.lang.ProcessHandle java.lang.ProcessHandle.Info Process API ç¤ºä¾‹ ProcessHandle currentProcess = ProcessHandle.current(); System.out.println(\"Current Process Id: = \" + currentProcess.getPid()); 6ï¼‰Try With Resources Improvementæˆ‘ä»¬çŸ¥é“ï¼ŒJava SE 7 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å¼‚å¸¸å¤„ç†ç»“æ„ï¼šTry-With-Resourcesï¼Œæ¥è‡ªåŠ¨ç®¡ç†èµ„æºã€‚è¿™ä¸ªæ–°çš„å£°æ˜ç»“æ„ä¸»è¦ç›®çš„æ˜¯å®ç°â€œAutomatic Better Resource Managementâ€ï¼ˆâ€œè‡ªåŠ¨èµ„æºç®¡ç†â€ï¼‰ã€‚ Java SE 9 å°†å¯¹è¿™ä¸ªå£°æ˜ä½œå‡ºä¸€äº›æ”¹è¿›æ¥é¿å…ä¸€äº›å†—é•¿å†™æ³•ï¼ŒåŒæ—¶æé«˜å¯è¯»æ€§ã€‚ Java SE 7 ç¤ºä¾‹ void testARM_Before_Java9() throws IOException { BufferedReader reader1 = new BufferedReader(new FileReader(\"journaldev.txt\")); try (BufferedReader reader2 = reader1) { System.out.println(reader2.readLine()); } } Java SE 9 ç¤ºä¾‹ void testARM_Java9() throws IOException { BufferedReader reader1 = new BufferedReader(new FileReader(\"journaldev.txt\")); try (reader1) { System.out.println(reader1.readLine()); } } 7ï¼‰CompletableFuture API Improvementsåœ¨ Java SE 9 ä¸­ï¼ŒOracle å…¬å¸å°†æ”¹è¿› CompletableFuture API æ¥è§£å†³ä¸€äº› Java SE 8 ä¸­å‡ºç°çš„é—®é¢˜ã€‚è¿™äº›è¢«æ·»åŠ çš„ API å°†ç”¨æ¥æ”¯æŒä¸€äº›å»¶æ—¶å’Œè¶…æ—¶æ“ä½œï¼Œå®ç”¨æ–¹æ³•å’Œæ›´å¥½çš„å­ç±»åŒ–ã€‚ Executor exe = CompletableFuture.delayedExecutor(50L, TimeUnit.SECONDS); è¿™é‡Œçš„ delayedExecutor() æ˜¯é™æ€å®ç”¨æ–¹æ³•ï¼Œç”¨æ¥è¿”å›ä¸€ä¸ªåœ¨æŒ‡å®šå»¶æ—¶æ—¶é—´æäº¤ä»»åŠ¡åˆ°é»˜è®¤æ‰§è¡Œå™¨çš„æ–° Executor å¯¹è±¡ã€‚ 8ï¼‰ååº”å¼æµ ï¼ˆ Reactive Streams ï¼‰ ååº”å¼ç¼–ç¨‹çš„æ€æƒ³æœ€è¿‘å¾—åˆ°äº†å¹¿æ³›çš„æµè¡Œã€‚ åœ¨ Java å¹³å°ä¸Šæœ‰æµè¡Œçš„ååº”å¼ åº“ RxJava å’Œ R eactorã€‚ååº”å¼æµè§„èŒƒçš„å‡ºå‘ç‚¹æ˜¯æä¾›ä¸€ä¸ªå¸¦éé˜»å¡è´Ÿå‹ï¼ˆ non-blocking backpressure ï¼‰ çš„å¼‚æ­¥æµå¤„ç†è§„èŒƒã€‚ååº”å¼æµè§„èŒƒçš„æ ¸å¿ƒæ¥å£å·²ç»æ·»åŠ åˆ°äº† Java9 ä¸­çš„ java.util.concurrent.Flow ç±»ä¸­ã€‚ Flow ä¸­åŒ…å«äº† Flow.Publisherã€Flow.Subscriberã€Flow.Subscription å’Œ F low.Processor ç­‰ 4 ä¸ªæ ¸å¿ƒæ¥å£ã€‚Java 9 è¿˜æä¾›äº† SubmissionPublisher ä½œä¸º Flow.Publisher çš„ä¸€ä¸ªå®ç°ã€‚RxJava 2 å’Œ Reactor éƒ½å¯ä»¥å¾ˆæ–¹ä¾¿çš„ ä¸ Flow ç±»çš„æ ¸å¿ƒæ¥å£è¿›è¡Œäº’æ“ä½œã€‚ 9ï¼‰æ”¹è¿›çš„ Stream APIé•¿æœŸä»¥æ¥ï¼ŒStream API éƒ½æ˜¯ Java æ ‡å‡†åº“æœ€å¥½çš„æ”¹è¿›ä¹‹ä¸€ã€‚é€šè¿‡è¿™å¥— API å¯ä»¥åœ¨é›†åˆä¸Šå»ºç«‹ç”¨äºè½¬æ¢çš„ç”³æ˜ç®¡é“ã€‚åœ¨ Java 9 ä¸­å®ƒä¼šå˜å¾—æ›´å¥½ã€‚Stream æ¥å£ä¸­æ·»åŠ äº† 4 ä¸ªæ–°çš„æ–¹æ³•ï¼šdropWhile, takeWhile, ofNullableã€‚è¿˜æœ‰ä¸ª iterate æ–¹æ³•çš„æ–°é‡è½½æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ æä¾›ä¸€ä¸ª Predicate (åˆ¤æ–­æ¡ä»¶)æ¥æŒ‡å®šä»€ä¹ˆæ—¶å€™ç»“æŸè¿­ä»£ï¼š IntStream.iterate(1, i -> i &lt; 100, i -> i + 1).forEach(System.out::println); ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª Lambdaï¼Œå®ƒä¼šåœ¨å½“å‰ IntStream ä¸­çš„å…ƒç´ åˆ°è¾¾ 100 çš„æ—¶å€™è¿”å› trueã€‚å› æ­¤è¿™ä¸ªç®€å•çš„ç¤ºä¾‹æ˜¯å‘æ§åˆ¶å°æ‰“å° 1 åˆ° 99ã€‚ é™¤äº†å¯¹ Stream æœ¬èº«çš„æ‰©å±•ï¼ŒOptional å’Œ Stream ä¹‹é—´çš„ç»“åˆä¹Ÿå¾—åˆ°äº†æ”¹è¿›ã€‚ç°åœ¨å¯ä»¥é€šè¿‡ Optional çš„æ–°æ–¹æ³• stram å°†ä¸€ä¸ª Optional å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ª(å¯èƒ½æ˜¯ç©ºçš„) Stream å¯¹è±¡ï¼š Stream&lt;Integer> s = Optional.of(1).stream(); åœ¨ç»„åˆå¤æ‚çš„ Stream ç®¡é“æ—¶ï¼Œå°† Optional è½¬æ¢ä¸º Stream éå¸¸æœ‰ç”¨ã€‚ 10ï¼‰HTTP/2Java 9 ä¸­æœ‰æ–°çš„æ–¹å¼æ¥å¤„ç† HTTP è°ƒç”¨ã€‚è¿™ä¸ªè¿Ÿåˆ°çš„ç‰¹æ€§ç”¨äºä»£æ›¿è€æ—§çš„ HttpURLConnection APIï¼Œå¹¶æä¾›å¯¹ WebSocket å’Œ HTTP/2 çš„æ”¯æŒã€‚æ³¨æ„ï¼šæ–°çš„ HttpClient API åœ¨ Java 9 ä¸­ä»¥æ‰€è°“çš„å­µåŒ–å™¨æ¨¡å—äº¤ä»˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™å¥— API ä¸èƒ½ä¿è¯ 100% å®Œæˆã€‚ä¸è¿‡ä½ å¯ä»¥åœ¨ Java 9 ä¸­å¼€å§‹ä½¿ç”¨è¿™å¥— APIï¼š HttpClient client = HttpClient.newHttpClient(); HttpRequest req = HttpRequest.newBuilder(URI.create(\"http://www.google.com\")) .header(\"User-Agent\",\"Java\") .GET() .build(); HttpResponse&lt;String> resp = client.send(req, HttpResponse.BodyHandler.asString()); HttpResponse&lt;String&gt; resp = client.send(req, HttpResponse.BodyHandler.asString()); é™¤äº†è¿™ä¸ªç®€å•çš„è¯·æ±‚/å“åº”æ¨¡å‹ä¹‹å¤–ï¼ŒHttpClient è¿˜æä¾›äº†æ–°çš„ API æ¥å¤„ç† HTTP/2 çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æµå’ŒæœåŠ¡ç«¯æ¨é€ã€‚ 11ï¼‰Optional Class Improvementsåœ¨ Java SE 9 ä¸­ï¼ŒOracle å…¬å¸æ·»åŠ äº†ä¸€äº›æ–°çš„å®ç”¨æ–¹æ³•åˆ° java.util.Optional ç±»é‡Œé¢ã€‚è¿™é‡Œæˆ‘å°†ä½¿ç”¨ä¸€äº›ç®€å•çš„ç¤ºä¾‹æ¥æè¿°å…¶ä¸­çš„ä¸€ä¸ªï¼šstream æ–¹æ³•ã€‚ å¦‚æœä¸€ä¸ªå€¼å‡ºç°åœ¨ç»™å®š Optional å¯¹è±¡ä¸­ï¼Œstream() æ–¹æ³•å¯ä»¥è¿”å›åŒ…å«è¯¥å€¼çš„ä¸€ä¸ªé¡ºåº Stream å¯¹è±¡ã€‚å¦åˆ™ï¼Œå°†è¿”å›ä¸€ä¸ªç©º Streamã€‚ stream() æ–¹æ³•å·²ç»è¢«æ·»åŠ ï¼Œå¹¶ç”¨æ¥åœ¨ Optional å¯¹è±¡ä¸­ä½¿ç”¨ï¼Œå¦‚ï¼š Stream&lt;Optional> emp = getEmployee(id) Stream empStream = emp.flatMap(Optional::stream) è¿™é‡Œçš„ Optional.stream() æ–¹æ³•è¢«ç”¨æ¥è½¬åŒ– Employee å¯é€‰æµå¯¹è±¡ åˆ° Employee æµä¸­ï¼Œå¦‚æ­¤æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨åç»­ä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªç»“æœã€‚ 12ï¼‰å¤šç‰ˆæœ¬å…¼å®¹ JARæˆ‘ä»¬æœ€åè¦æ¥ç€é‡ä»‹ç»çš„è¿™ä¸ªç‰¹æ€§å¯¹äºåº“çš„ç»´æŠ¤è€…è€Œè¨€æ˜¯ä¸ªç‰¹åˆ«å¥½çš„æ¶ˆæ¯ã€‚å½“ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„ Java å‡ºç°çš„æ—¶å€™ï¼Œä½ çš„åº“ç”¨æˆ·è¦èŠ±è´¹æ•°å¹´æ—¶é—´æ‰ä¼šåˆ‡æ¢åˆ°è¿™ä¸ªæ–°çš„ç‰ˆæœ¬ã€‚è¿™å°±æ„å‘³ç€åº“å¾—å»å‘åå…¼å®¹ä½ æƒ³è¦æ”¯æŒçš„æœ€è€çš„ Java ç‰ˆæœ¬ (è®¸å¤šæƒ…å†µä¸‹å°±æ˜¯ Java 6 æˆ–è€… 7)ã€‚è¿™å®é™…ä¸Šæ„å‘³ç€æœªæ¥çš„å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œä½ éƒ½ä¸èƒ½åœ¨åº“ä¸­è¿ç”¨ Java 9 æ‰€æä¾›çš„æ–°ç‰¹æ€§ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¤šç‰ˆæœ¬å…¼å®¹ JAR åŠŸèƒ½èƒ½è®©ä½ åˆ›å»ºä»…åœ¨ç‰¹å®šç‰ˆæœ¬çš„ Java ç¯å¢ƒä¸­è¿è¡Œåº“ç¨‹åºæ—¶é€‰æ‹©ä½¿ç”¨çš„ class ç‰ˆæœ¬ï¼š multirelease.jar â”œâ”€â”€ META-INF â”‚ â””â”€â”€ versions â”‚ â””â”€â”€ 9 â”‚ â””â”€â”€ multirelease â”‚ â””â”€â”€ Helper.class â”œâ”€â”€ multirelease â”œâ”€â”€ Helper.class â””â”€â”€ Main.class åœ¨ä¸Šè¿°åœºæ™¯ä¸­ï¼Œ multirelease.jar å¯ä»¥åœ¨ Java 9 ä¸­ä½¿ç”¨, ä¸è¿‡ Helper è¿™ä¸ªç±»ä½¿ç”¨çš„ä¸æ˜¯é¡¶å±‚çš„ multirelease.Helper è¿™ä¸ª class, è€Œæ˜¯å¤„åœ¨â€œMETA-INF/versions/9â€ä¸‹é¢çš„è¿™ä¸ªã€‚è¿™æ˜¯ç‰¹åˆ«ä¸º Java 9 å‡†å¤‡çš„ class ç‰ˆæœ¬ï¼Œå¯ä»¥è¿ç”¨ Java 9 æ‰€æä¾›çš„ç‰¹æ€§å’Œåº“ã€‚åŒæ—¶ï¼Œåœ¨æ—©æœŸçš„ Java è¯¸ç‰ˆæœ¬ä¸­ä½¿ç”¨è¿™ä¸ª JAR ä¹Ÿæ˜¯èƒ½è¿è¡Œçš„ï¼Œå› ä¸ºè¾ƒè€ç‰ˆæœ¬çš„ Java åªä¼šçœ‹åˆ°é¡¶å±‚çš„è¿™ä¸ª Helper ç±»ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸‰)â€”â€”JVMç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-ä¸‰-â€”â€”JVMç¯‡","date":"2018-05-15T23:01:00.000Z","updated":"2020-08-03T08:56:21.578Z","comments":true,"path":"2018/05/16/java-mian-shi-zhi-shi-dian-jie-xi-san-jvm-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/16/java-mian-shi-zhi-shi-dian-jie-xi-san-jvm-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡ ï¼ˆä¸€ï¼‰JVM åŸºç¡€çŸ¥è¯† é—®é¢˜å’Œç­”æ¡ˆéƒ½æ˜¯è‡ªè¡Œæ•´ç†çš„ï¼Œæ‰€ä»¥ä»…ä¾›å‚è€ƒï¼æ¬¢è¿æŒ‡æ­£ï¼ 1ï¼‰Java æ˜¯å¦‚ä½•å®ç°è·¨å¹³å°çš„ï¼Ÿæ³¨æ„ï¼šè·¨å¹³å°çš„æ˜¯ Java ç¨‹åºï¼Œè€Œä¸æ˜¯ JVMã€‚JVM æ˜¯ç”¨ C/C++ å¼€å‘çš„ï¼Œæ˜¯ç¼–è¯‘åçš„æœºå™¨ç ï¼Œä¸èƒ½è·¨å¹³å°ï¼Œä¸åŒå¹³å°ä¸‹éœ€è¦å®‰è£…ä¸åŒç‰ˆæœ¬çš„ JVM ç­”ï¼šæˆ‘ä»¬ç¼–å†™çš„ Java æºç ï¼Œç¼–è¯‘åä¼šç”Ÿæˆä¸€ç§ .class æ–‡ä»¶ï¼Œç§°ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰å°±æ˜¯è´Ÿè´£å°†å­—èŠ‚ç æ–‡ä»¶ç¿»è¯‘æˆç‰¹å®šå¹³å°ä¸‹çš„æœºå™¨ç ç„¶åè¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦åœ¨ä¸åŒå¹³å°ä¸Šå®‰è£…å¯¹åº”çš„ JVMï¼Œå°±å¯ä»¥è¿è¡Œå­—èŠ‚ç æ–‡ä»¶ï¼Œè¿è¡Œæˆ‘ä»¬ç¼–å†™çš„ Java ç¨‹åºã€‚ è€Œè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬ç¼–å†™çš„ Java ç¨‹åºæ²¡æœ‰åšä»»ä½•æ”¹å˜ï¼Œä»…ä»…æ˜¯é€šè¿‡ JVM è¿™ä¸€ â€œä¸­é—´å±‚â€ ï¼Œå°±èƒ½åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œï¼ŒçœŸæ­£å®ç°äº† â€œä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œâ€ çš„ç›®çš„ã€‚ 2ï¼‰ä»€ä¹ˆæ˜¯ JVM ï¼Ÿè§£æï¼šä¸ä»…ä»…æ˜¯åŸºæœ¬æ¦‚å¿µï¼Œè¿˜æœ‰ JVM çš„ä½œç”¨ã€‚ ç­”ï¼šJVMï¼Œå³ Java Virtual Machineï¼ŒJava è™šæ‹Ÿæœºã€‚å®ƒé€šè¿‡æ¨¡æ‹Ÿä¸€ä¸ªè®¡ç®—æœºæ¥è¾¾åˆ°ä¸€ä¸ªè®¡ç®—æœºæ‰€å…·æœ‰çš„çš„è®¡ç®—åŠŸèƒ½ã€‚JVM èƒ½å¤Ÿè·¨è®¡ç®—æœºä½“ç³»ç»“æ„æ¥æ‰§è¡Œ Java å­—èŠ‚ç ï¼Œä¸»è¦æ˜¯ç”±äº JVM å±è”½äº†ä¸å„ä¸ªè®¡ç®—æœºå¹³å°ç›¸å…³çš„è½¯ä»¶æˆ–è€…ç¡¬ä»¶ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—ä¸å¹³å°ç›¸å…³çš„è€¦åˆç»Ÿä¸€ç”± JVM æä¾›è€…æ¥å®ç°ã€‚ 3ï¼‰JVM ç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿè§£æï¼šè¿™æ˜¯å¯¹ JVM ä½“ç³»ç»“æ„çš„è€ƒå¯Ÿ ç­”ï¼šJVM çš„ç»“æ„åŸºæœ¬ä¸Šç”± 4 éƒ¨åˆ†ç»„æˆï¼š ç±»åŠ è½½å™¨ï¼Œåœ¨ JVM å¯åŠ¨æ—¶æˆ–è€…ç±»è¿è¡Œæ—¶å°†éœ€è¦çš„ class åŠ è½½åˆ° JVM ä¸­ æ‰§è¡Œå¼•æ“ï¼Œæ‰§è¡Œå¼•æ“çš„ä»»åŠ¡æ˜¯è´Ÿè´£æ‰§è¡Œ class æ–‡ä»¶ä¸­åŒ…å«çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œç›¸å½“äºå®é™…æœºå™¨ä¸Šçš„ CPU å†…å­˜åŒºï¼Œå°†å†…å­˜åˆ’åˆ†æˆè‹¥å¹²ä¸ªåŒºä»¥æ¨¡æ‹Ÿå®é™…æœºå™¨ä¸Šçš„å­˜å‚¨ã€è®°å½•å’Œè°ƒåº¦åŠŸèƒ½æ¨¡å—ï¼Œå¦‚å®é™…æœºå™¨ä¸Šçš„å„ç§åŠŸèƒ½çš„å¯„å­˜å™¨æˆ–è€… PC æŒ‡é’ˆçš„è®°å½•å™¨ç­‰ æœ¬åœ°æ–¹æ³•è°ƒç”¨ï¼Œè°ƒç”¨ C æˆ– C++ å®ç°çš„æœ¬åœ°æ–¹æ³•çš„ä»£ç è¿”å›ç»“æœ 4ï¼‰ç±»åŠ è½½å™¨æ˜¯æœ‰äº†è§£å—ï¼Ÿè§£æï¼šåº•å±‚åŸç†çš„è€ƒå¯Ÿï¼Œå…¶ä¸­æ¶‰åŠåˆ°ç±»åŠ è½½å™¨çš„æ¦‚å¿µï¼ŒåŠŸèƒ½ä»¥åŠä¸€äº›åº•å±‚çš„å®ç°ã€‚ ç­”ï¼šé¡¾åæ€ä¹‰ï¼Œç±»åŠ è½½å™¨ï¼ˆclass loaderï¼‰ç”¨æ¥åŠ è½½ Java ç±»åˆ° Java è™šæ‹Ÿæœºä¸­ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒJava è™šæ‹Ÿæœºä½¿ç”¨ Java ç±»çš„æ–¹å¼å¦‚ä¸‹ï¼šJava æºç¨‹åºï¼ˆ.java æ–‡ä»¶ï¼‰åœ¨ç»è¿‡ Java ç¼–è¯‘å™¨ç¼–è¯‘ä¹‹åå°±è¢«è½¬æ¢æˆ Java å­—èŠ‚ä»£ç ï¼ˆ.class æ–‡ä»¶ï¼‰ã€‚ ç±»åŠ è½½å™¨è´Ÿè´£è¯»å– Java å­—èŠ‚ä»£ç ï¼Œå¹¶è½¬æ¢æˆ java.lang.Classç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚æ¯ä¸ªè¿™æ ·çš„å®ä¾‹ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª Java ç±»ã€‚é€šè¿‡æ­¤å®ä¾‹çš„ newInstance()æ–¹æ³•å°±å¯ä»¥åˆ›å»ºå‡ºè¯¥ç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚å®é™…çš„æƒ…å†µå¯èƒ½æ›´åŠ å¤æ‚ï¼Œæ¯”å¦‚ Java å­—èŠ‚ä»£ç å¯èƒ½æ˜¯é€šè¿‡å·¥å…·åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯é€šè¿‡ç½‘ç»œä¸‹è½½çš„ã€‚ é¢è¯•å®˜ï¼šJava è™šæ‹Ÿæœºæ˜¯å¦‚ä½•åˆ¤å®šä¸¤ä¸ª Java ç±»æ˜¯ç›¸åŒçš„ï¼Ÿ ç­”ï¼šJava è™šæ‹Ÿæœºä¸ä»…è¦çœ‹ç±»çš„å…¨åæ˜¯å¦ç›¸åŒï¼Œè¿˜è¦çœ‹åŠ è½½æ­¤ç±»çš„ç±»åŠ è½½å™¨æ˜¯å¦ä¸€æ ·ã€‚åªæœ‰ä¸¤è€…éƒ½ç›¸åŒçš„æƒ…å†µï¼Œæ‰è®¤ä¸ºä¸¤ä¸ªç±»æ˜¯ç›¸åŒçš„ã€‚å³ä¾¿æ˜¯åŒæ ·çš„å­—èŠ‚ä»£ç ï¼Œè¢«ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½ä¹‹åæ‰€å¾—åˆ°çš„ç±»ï¼Œä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¯”å¦‚ä¸€ä¸ª Java ç±» com.example.Sampleï¼Œç¼–è¯‘ä¹‹åç”Ÿæˆäº†å­—èŠ‚ä»£ç æ–‡ä»¶ Sample.classã€‚ä¸¤ä¸ªä¸åŒçš„ç±»åŠ è½½å™¨ ClassLoaderAå’Œ ClassLoaderBåˆ†åˆ«è¯»å–äº†è¿™ä¸ª Sample.classæ–‡ä»¶ï¼Œå¹¶å®šä¹‰å‡ºä¸¤ä¸ª java.lang.Classç±»çš„å®ä¾‹æ¥è¡¨ç¤ºè¿™ä¸ªç±»ã€‚è¿™ä¸¤ä¸ªå®ä¾‹æ˜¯ä¸ç›¸åŒçš„ã€‚å¯¹äº Java è™šæ‹Ÿæœºæ¥è¯´ï¼Œå®ƒä»¬æ˜¯ä¸åŒçš„ç±»ã€‚è¯•å›¾å¯¹è¿™ä¸¤ä¸ªç±»çš„å¯¹è±¡è¿›è¡Œç›¸äº’èµ‹å€¼ï¼Œä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ ClassCastExceptionã€‚ 5ï¼‰ç±»åŠ è½½å™¨æ˜¯å¦‚ä½•åŠ è½½ class æ–‡ä»¶çš„ï¼Ÿç­”ï¼šä¸‹å›¾æ‰€ç¤ºæ˜¯ ClassLoader åŠ è½½ä¸€ä¸ª class æ–‡ä»¶åˆ° JVM æ—¶éœ€è¦ç»è¿‡çš„æ­¥éª¤ï¼š ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯æ‰¾åˆ° .class æ–‡ä»¶å¹¶æŠŠè¿™ä¸ªæ–‡ä»¶åŒ…å«çš„å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ ç¬¬äºŒé˜¶æ®µåˆå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼Œåˆ†åˆ«æ˜¯å­—èŠ‚ç éªŒè¯ã€Class ç±»æ•°æ®ç»“æ„åˆ†æåŠç›¸åº”çš„å†…å­˜åˆ†é…å’Œæœ€åçš„ç¬¦å·è¡¨çš„é“¾æ¥ ç¬¬ä¸‰ä¸ªé˜¶æ®µæ˜¯ç±»ä¸­é™æ€å±æ€§å’Œåˆå§‹åŒ–èµ‹å€¼ï¼Œä»¥åŠé™æ€å—çš„æ‰§è¡Œç­‰ é¢è¯•å®˜ï¼šèƒ½è¯¦ç»†è®²è®²å—ï¼Ÿ ç­”ï¼š 1.åŠ è½½ æŸ¥æ‰¾å¹¶åŠ è½½ç±»çš„äºŒè¿›åˆ¶æ•°æ®åŠ è½½æ—¶ç±»åŠ è½½è¿‡ç¨‹çš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œåœ¨åŠ è½½é˜¶æ®µï¼Œè™šæ‹Ÿæœºéœ€è¦å®Œæˆä»¥ä¸‹ä¸‰ä»¶äº‹æƒ…ï¼š é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å…¶å®šä¹‰çš„äºŒè¿›åˆ¶å­—èŠ‚æµã€‚ å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ã€‚ åœ¨Javaå †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºå¯¹æ–¹æ³•åŒºä¸­è¿™äº›æ•°æ®çš„è®¿é—®å…¥å£ã€‚ ç›¸å¯¹äºç±»åŠ è½½çš„å…¶ä»–é˜¶æ®µè€Œè¨€ï¼ŒåŠ è½½é˜¶æ®µï¼ˆå‡†ç¡®åœ°è¯´ï¼Œæ˜¯åŠ è½½é˜¶æ®µè·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµçš„åŠ¨ä½œï¼‰æ˜¯å¯æ§æ€§æœ€å¼ºçš„é˜¶æ®µï¼Œå› ä¸ºå¼€å‘äººå‘˜æ—¢å¯ä»¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½ã€‚ åŠ è½½é˜¶æ®µå®Œæˆåï¼Œè™šæ‹Ÿæœºå¤–éƒ¨çš„äºŒè¿›åˆ¶å­—èŠ‚æµå°±æŒ‰ç…§è™šæ‹Ÿæœºæ‰€éœ€çš„æ ¼å¼å­˜å‚¨åœ¨æ–¹æ³•åŒºä¹‹ä¸­ï¼Œè€Œä¸”åœ¨Javaå †ä¸­ä¹Ÿåˆ›å»ºä¸€ä¸ª java.lang.Classç±»çš„å¯¹è±¡ï¼Œè¿™æ ·ä¾¿å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡è®¿é—®æ–¹æ³•åŒºä¸­çš„è¿™äº›æ•°æ®ã€‚ 2.è¿æ¥ éªŒè¯ï¼šç¡®ä¿è¢«åŠ è½½çš„ç±»çš„æ­£ç¡®æ€§ éªŒè¯æ˜¯è¿æ¥é˜¶æ®µçš„ç¬¬ä¸€æ­¥ï¼Œè¿™ä¸€é˜¶æ®µçš„ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿Classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶ä¸”ä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨ã€‚éªŒè¯é˜¶æ®µå¤§è‡´ä¼šå®Œæˆ4ä¸ªé˜¶æ®µçš„æ£€éªŒåŠ¨ä½œï¼š æ–‡ä»¶æ ¼å¼éªŒè¯ï¼šéªŒè¯å­—èŠ‚æµæ˜¯å¦ç¬¦åˆClassæ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼›ä¾‹å¦‚ï¼šæ˜¯å¦ä»¥ 0xCAFEBABEå¼€å¤´ã€ä¸»æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨å½“å‰è™šæ‹Ÿæœºçš„å¤„ç†èŒƒå›´ä¹‹å†…ã€å¸¸é‡æ± ä¸­çš„å¸¸é‡æ˜¯å¦æœ‰ä¸è¢«æ”¯æŒçš„ç±»å‹ã€‚ å…ƒæ•°æ®éªŒè¯ï¼šå¯¹å­—èŠ‚ç æè¿°çš„ä¿¡æ¯è¿›è¡Œè¯­ä¹‰åˆ†æï¼ˆæ³¨æ„ï¼šå¯¹æ¯”javacç¼–è¯‘é˜¶æ®µçš„è¯­ä¹‰åˆ†æï¼‰ï¼Œä»¥ä¿è¯å…¶æè¿°çš„ä¿¡æ¯ç¬¦åˆJavaè¯­è¨€è§„èŒƒçš„è¦æ±‚ï¼›ä¾‹å¦‚ï¼šè¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼Œé™¤äº† java.lang.Objectä¹‹å¤–ã€‚ å­—èŠ‚ç éªŒè¯ï¼šé€šè¿‡æ•°æ®æµå’Œæ§åˆ¶æµåˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„ã€ç¬¦åˆé€»è¾‘çš„ã€‚ ç¬¦å·å¼•ç”¨éªŒè¯ï¼šç¡®ä¿è§£æåŠ¨ä½œèƒ½æ­£ç¡®æ‰§è¡Œã€‚ éªŒè¯é˜¶æ®µæ˜¯éå¸¸é‡è¦çš„ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ï¼Œå®ƒå¯¹ç¨‹åºè¿è¡ŒæœŸæ²¡æœ‰å½±å“ï¼Œå¦‚æœæ‰€å¼•ç”¨çš„ç±»ç»è¿‡åå¤éªŒè¯ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘é‡‡ç”¨ -Xverifynone å‚æ•°æ¥å…³é—­å¤§éƒ¨åˆ†çš„ç±»éªŒè¯æªæ–½ï¼Œä»¥ç¼©çŸ­è™šæ‹Ÿæœºç±»åŠ è½½çš„æ—¶é—´ã€‚ å‡†å¤‡ï¼šä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ å‡†å¤‡é˜¶æ®µæ˜¯æ­£å¼ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­åˆ†é…ã€‚å¯¹äºè¯¥é˜¶æ®µæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š â‘  è¿™æ—¶å€™è¿›è¡Œå†…å­˜åˆ†é…çš„ä»…åŒ…æ‹¬ç±»å˜é‡ï¼ˆstaticï¼‰ï¼Œè€Œä¸åŒ…æ‹¬å®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡ä¼šåœ¨å¯¹è±¡å®ä¾‹åŒ–æ—¶éšç€å¯¹è±¡ä¸€å—åˆ†é…åœ¨Javaå †ä¸­ã€‚ â‘¡ è¿™é‡Œæ‰€è®¾ç½®çš„åˆå§‹å€¼é€šå¸¸æƒ…å†µä¸‹æ˜¯æ•°æ®ç±»å‹é»˜è®¤çš„é›¶å€¼ï¼ˆå¦‚0ã€0Lã€nullã€falseç­‰ï¼‰ï¼Œè€Œä¸æ˜¯è¢«åœ¨Javaä»£ç ä¸­è¢«æ˜¾å¼åœ°èµ‹äºˆçš„å€¼ã€‚ å‡è®¾ä¸€ä¸ªç±»å˜é‡çš„å®šä¹‰ä¸ºï¼š public static int value = 3; é‚£ä¹ˆå˜é‡valueåœ¨å‡†å¤‡é˜¶æ®µè¿‡åçš„åˆå§‹å€¼ä¸º 0ï¼Œè€Œä¸æ˜¯ 3ï¼Œå› ä¸ºè¿™æ—¶å€™å°šæœªå¼€å§‹æ‰§è¡Œä»»ä½• Java æ–¹æ³•ï¼Œè€ŒæŠŠ value èµ‹å€¼ä¸º 3 çš„public staticæŒ‡ä»¤æ˜¯åœ¨ç¨‹åºç¼–è¯‘åï¼Œå­˜æ”¾äºç±»æ„é€ å™¨ &lt;clinit&gt;ï¼ˆï¼‰æ–¹æ³•ä¹‹ä¸­çš„ï¼Œæ‰€ä»¥æŠŠvalueèµ‹å€¼ä¸º3çš„åŠ¨ä½œå°†åœ¨åˆå§‹åŒ–é˜¶æ®µæ‰ä¼šæ‰§è¡Œã€‚ è¿™é‡Œè¿˜éœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š å¯¹åŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œå¯¹äºç±»å˜é‡ï¼ˆstaticï¼‰å’Œå…¨å±€å˜é‡ï¼Œå¦‚æœä¸æ˜¾å¼åœ°å¯¹å…¶èµ‹å€¼è€Œç›´æ¥ä½¿ç”¨ï¼Œåˆ™ç³»ç»Ÿä¼šä¸ºå…¶èµ‹äºˆé»˜è®¤çš„é›¶å€¼ï¼Œè€Œå¯¹äºå±€éƒ¨å˜é‡æ¥è¯´ï¼Œåœ¨ä½¿ç”¨å‰å¿…é¡»æ˜¾å¼åœ°ä¸ºå…¶èµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘æ—¶ä¸é€šè¿‡ã€‚ å¯¹äºåŒæ—¶è¢«staticå’Œfinalä¿®é¥°çš„å¸¸é‡ï¼Œå¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™å°±ä¸ºå…¶æ˜¾å¼åœ°èµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘æ—¶ä¸é€šè¿‡ï¼›è€Œåªè¢«finalä¿®é¥°çš„å¸¸é‡åˆ™æ—¢å¯ä»¥åœ¨å£°æ˜æ—¶æ˜¾å¼åœ°ä¸ºå…¶èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»åˆå§‹åŒ–æ—¶æ˜¾å¼åœ°ä¸ºå…¶èµ‹å€¼ï¼Œæ€»ä¹‹ï¼Œåœ¨ä½¿ç”¨å‰å¿…é¡»ä¸ºå…¶æ˜¾å¼åœ°èµ‹å€¼ï¼Œç³»ç»Ÿä¸ä¼šä¸ºå…¶èµ‹äºˆé»˜è®¤é›¶å€¼ã€‚ å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹referenceæ¥è¯´ï¼Œå¦‚æ•°ç»„å¼•ç”¨ã€å¯¹è±¡å¼•ç”¨ç­‰ï¼Œå¦‚æœæ²¡æœ‰å¯¹å…¶è¿›è¡Œæ˜¾å¼åœ°èµ‹å€¼è€Œç›´æ¥ä½¿ç”¨ï¼Œç³»ç»Ÿéƒ½ä¼šä¸ºå…¶èµ‹äºˆé»˜è®¤çš„é›¶å€¼ï¼Œå³nullã€‚ å¦‚æœåœ¨æ•°ç»„åˆå§‹åŒ–æ—¶æ²¡æœ‰å¯¹æ•°ç»„ä¸­çš„å„å…ƒç´ èµ‹å€¼ï¼Œé‚£ä¹ˆå…¶ä¸­çš„å…ƒç´ å°†æ ¹æ®å¯¹åº”çš„æ•°æ®ç±»å‹è€Œè¢«èµ‹äºˆé»˜è®¤çš„é›¶å€¼ã€‚ â‘¢ å¦‚æœç±»å­—æ®µçš„å­—æ®µå±æ€§è¡¨ä¸­å­˜åœ¨ ConstantValue å±æ€§ï¼Œå³åŒæ—¶è¢« final å’Œ static ä¿®é¥°ï¼Œé‚£ä¹ˆåœ¨å‡†å¤‡é˜¶æ®µå˜é‡ value å°±ä¼šè¢«åˆå§‹åŒ–ä¸º ConstValue å±æ€§æ‰€æŒ‡å®šçš„å€¼ã€‚ å‡è®¾ä¸Šé¢çš„ç±»å˜é‡ value è¢«å®šä¹‰ä¸ºï¼š public static final int value = 3; ç¼–è¯‘æ—¶ Javac å°†ä¼šä¸º value ç”Ÿæˆ ConstantValue å±æ€§ï¼Œåœ¨å‡†å¤‡é˜¶æ®µè™šæ‹Ÿæœºå°±ä¼šæ ¹æ® ConstantValue çš„è®¾ç½®å°† value èµ‹å€¼ä¸º 3ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º static final å¸¸é‡åœ¨ç¼–è¯‘æœŸå°±å°†å…¶ç»“æœæ”¾å…¥äº†è°ƒç”¨å®ƒçš„ç±»çš„å¸¸é‡æ± ä¸­ è§£æï¼šæŠŠç±»ä¸­çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ è§£æé˜¶æ®µæ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œè§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£ã€å­—æ®µã€ç±»æ–¹æ³•ã€æ¥å£æ–¹æ³•ã€æ–¹æ³•ç±»å‹ã€æ–¹æ³•å¥æŸ„å’Œè°ƒç”¨ç‚¹é™å®šç¬¦7ç±»ç¬¦å·å¼•ç”¨è¿›è¡Œã€‚ç¬¦å·å¼•ç”¨å°±æ˜¯ä¸€ç»„ç¬¦å·æ¥æè¿°ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ä»»ä½•å­—é¢é‡ã€‚ ç›´æ¥å¼•ç”¨å°±æ˜¯ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–ä¸€ä¸ªé—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚ 3.åˆå§‹åŒ– åˆå§‹åŒ–ï¼Œä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹å€¼ï¼ŒJVMè´Ÿè´£å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸»è¦å¯¹ç±»å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚åœ¨Javaä¸­å¯¹ç±»å˜é‡è¿›è¡Œåˆå§‹å€¼è®¾å®šæœ‰ä¸¤ç§æ–¹å¼ï¼š â‘  å£°æ˜ç±»å˜é‡æ˜¯æŒ‡å®šåˆå§‹å€¼ â‘¡ ä½¿ç”¨é™æ€ä»£ç å—ä¸ºç±»å˜é‡æŒ‡å®šåˆå§‹å€¼ JVMåˆå§‹åŒ–æ­¥éª¤ 1ã€å‡å¦‚è¿™ä¸ªç±»è¿˜æ²¡æœ‰è¢«åŠ è½½å’Œè¿æ¥ï¼Œåˆ™ç¨‹åºå…ˆåŠ è½½å¹¶è¿æ¥è¯¥ç±» 2ã€å‡å¦‚è¯¥ç±»çš„ç›´æ¥çˆ¶ç±»è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶ç›´æ¥çˆ¶ç±» 3ã€å‡å¦‚ç±»ä¸­æœ‰åˆå§‹åŒ–è¯­å¥ï¼Œåˆ™ç³»ç»Ÿä¾æ¬¡æ‰§è¡Œè¿™äº›åˆå§‹åŒ–è¯­å¥ ç±»åˆå§‹åŒ–æ—¶æœºï¼šåªæœ‰å½“å¯¹ç±»çš„ä¸»åŠ¨ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–ï¼Œç±»çš„ä¸»åŠ¨ä½¿ç”¨åŒ…æ‹¬ä»¥ä¸‹å…­ç§ï¼š åˆ›å»ºç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯newçš„æ–¹å¼ è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹è¯¥é™æ€å˜é‡èµ‹å€¼ è°ƒç”¨ç±»çš„é™æ€æ–¹æ³• åå°„ï¼ˆå¦‚ Class.forName(â€œcom.shengsiyuan.Testâ€)ï¼‰ åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»ï¼Œåˆ™å…¶çˆ¶ç±»ä¹Ÿä¼šè¢«åˆå§‹åŒ– Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶è¢«æ ‡æ˜ä¸ºå¯åŠ¨ç±»çš„ç±»ï¼ˆ JavaTestï¼‰ï¼Œç›´æ¥ä½¿ç”¨ java.exeå‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±» ç»“æŸç”Ÿå‘½å‘¨æœŸ åœ¨å¦‚ä¸‹å‡ ç§æƒ…å†µä¸‹ï¼ŒJavaè™šæ‹Ÿæœºå°†ç»“æŸç”Ÿå‘½å‘¨æœŸ æ‰§è¡Œäº† System.exit()æ–¹æ³• ç¨‹åºæ­£å¸¸æ‰§è¡Œç»“æŸ ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸æˆ–é”™è¯¯è€Œå¼‚å¸¸ç»ˆæ­¢ ç”±äºæ“ä½œç³»ç»Ÿå‡ºç°é”™è¯¯è€Œå¯¼è‡´Javaè™šæ‹Ÿæœºè¿›ç¨‹ç»ˆæ­¢ å‚è€ƒæ–‡ç« ï¼šjvmç³»åˆ—(ä¸€):javaç±»çš„åŠ è½½æœºåˆ¶ - çº¯æ´çš„å¾®ç¬‘ 7ï¼‰åŒäº²å§”æ´¾æ¨¡å‹ï¼ˆParent Delegation Modelï¼‰ï¼Ÿè§£æï¼šç±»çš„åŠ è½½è¿‡ç¨‹é‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶ï¼Œè¿™ç§æœºåˆ¶èƒ½æ›´å¥½çš„ä¿è¯ Java å¹³å°çš„å®‰å…¨æ€§ ç­”ï¼šç±»åŠ è½½å™¨ ClassLoader æ˜¯å…·æœ‰å±‚æ¬¡ç»“æ„çš„ï¼Œä¹Ÿå°±æ˜¯çˆ¶å­å…³ç³»ï¼Œå…¶ä¸­ï¼ŒBootstrap æ˜¯æ‰€æœ‰ç±»åŠ è½½å™¨çš„çˆ¶äº²ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¯¥æ¨¡å‹è¦æ±‚é™¤äº†é¡¶å±‚çš„ Bootstrap class loader å¯åŠ¨ç±»åŠ è½½å™¨å¤–ï¼Œå…¶ä½™çš„ç±»åŠ è½½å™¨éƒ½åº”å½“æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨ã€‚å­ç±»åŠ è½½å™¨å’Œçˆ¶ç±»åŠ è½½å™¨ä¸æ˜¯ä»¥ç»§æ‰¿ï¼ˆInheritanceï¼‰çš„å…³ç³»æ¥å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ç»„åˆï¼ˆCompositionï¼‰å…³ç³»æ¥å¤ç”¨çˆ¶åŠ è½½å™¨çš„ä»£ç ã€‚æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼ˆç”±è¯¥åŠ è½½å™¨åŠæ‰€æœ‰çˆ¶ç±»åŠ è½½å™¨æ‰€åŠ è½½çš„ç±»ç»„æˆï¼Œåœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸­ï¼Œä¸ä¼šå‡ºç°ç±»çš„å®Œæ•´åå­—ï¼ˆåŒ…æ‹¬ç±»çš„åŒ…åï¼‰ç›¸åŒçš„ä¸¤ä¸ªç±»ï¼›åœ¨ä¸åŒçš„å‘½åç©ºé—´ä¸­ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ç±»çš„å®Œæ•´åå­—ï¼ˆåŒ…æ‹¬ç±»çš„åŒ…åï¼‰ç›¸åŒçš„ä¸¤ä¸ªç±»ï¼‰ é¢è¯•å®˜ï¼šåŒäº²å§”æ´¾æ¨¡å‹çš„å·¥ä½œè¿‡ç¨‹ï¼Ÿ ç­”ï¼š 1.å½“å‰ ClassLoader é¦–å…ˆä»è‡ªå·±å·²ç»åŠ è½½çš„ç±»ä¸­æŸ¥è¯¢æ˜¯å¦æ­¤ç±»å·²ç»åŠ è½½ï¼Œå¦‚æœå·²ç»åŠ è½½åˆ™ç›´æ¥è¿”å›åŸæ¥å·²ç»åŠ è½½çš„ç±»ã€‚ æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„åŠ è½½ç¼“å­˜ï¼Œå½“ä¸€ä¸ªç±»è¢«åŠ è½½äº†ä»¥åå°±ä¼šæ”¾å…¥ç¼“å­˜ï¼Œç­‰ä¸‹æ¬¡åŠ è½½çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥è¿”å›äº†ã€‚ 2.å½“å‰ ClassLoader çš„ç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°è¢«åŠ è½½çš„ç±»çš„æ—¶å€™ï¼Œå§”æ‰˜çˆ¶ç±»åŠ è½½å™¨å»åŠ è½½ï¼Œçˆ¶ç±»åŠ è½½å™¨é‡‡ç”¨åŒæ ·çš„ç­–ç•¥ï¼Œé¦–å…ˆæŸ¥çœ‹è‡ªå·±çš„ç¼“å­˜ï¼Œç„¶åå§”æ‰˜çˆ¶ç±»çš„çˆ¶ç±»å»åŠ è½½ï¼Œä¸€ç›´åˆ° bootstrap ClassLoader. å½“æ‰€æœ‰çš„çˆ¶ç±»åŠ è½½å™¨éƒ½æ²¡æœ‰åŠ è½½çš„æ—¶å€™ï¼Œå†ç”±å½“å‰çš„ç±»åŠ è½½å™¨åŠ è½½ï¼Œå¹¶å°†å…¶æ”¾å…¥å®ƒè‡ªå·±çš„ç¼“å­˜ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡æœ‰åŠ è½½è¯·æ±‚çš„æ—¶å€™ç›´æ¥è¿”å›ã€‚ é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡å‘¢ï¼Ÿ è§£æï¼šè¿™æ˜¯å¯¹äºä½¿ç”¨è¿™ç§æ¨¡å‹æ¥ç»„ç»‡ç´¯åŠ å™¨çš„å¥½å¤„ ç­”ï¼šä¸»è¦æ˜¯ä¸ºäº†å®‰å…¨æ€§ï¼Œé¿å…ç”¨æˆ·è‡ªå·±ç¼–å†™çš„ç±»åŠ¨æ€æ›¿æ¢ Java çš„ä¸€äº›æ ¸å¿ƒç±»ï¼Œæ¯”å¦‚ Stringï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†é‡å¤åŠ è½½ï¼Œå› ä¸º JVM ä¸­åŒºåˆ†ä¸åŒç±»ï¼Œä¸ä»…ä»…æ˜¯æ ¹æ®ç±»åï¼Œç›¸åŒçš„ class æ–‡ä»¶è¢«ä¸åŒçš„ ClassLoader åŠ è½½å°±æ˜¯ä¸åŒçš„ä¸¤ä¸ªç±»ï¼Œå¦‚æœç›¸äº’è½¬å‹çš„è¯ä¼šæŠ›java.lang.ClassCaseException. å‚è€ƒæ–‡ç« ï¼š JVM çš„ å·¥ä½œåŸç†ï¼Œå±‚æ¬¡ç»“æ„ ä»¥åŠ GCå·¥ä½œåŸç† ï¼ˆäºŒï¼‰JVM å†…å­˜ç®¡ç†1ï¼‰JVM å†…å­˜åˆ’åˆ†ï¼š ç­”ï¼š æ–¹æ³•åŒºï¼ˆçº¿ç¨‹å…±äº«ï¼‰ï¼šå„ä¸ªçº¿ç¨‹å…±äº«çš„ä¸€ä¸ªåŒºåŸŸï¼Œç”¨äºå­˜å‚¨è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚è™½ç„¶ Java è™šæ‹Ÿæœºè§„èŒƒæŠŠæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´åˆä¸€ä¸ªåˆ«åå«åš Non-Heapï¼ˆéå †ï¼‰ï¼Œç›®çš„åº”è¯¥æ˜¯ä¸ Java å †åŒºåˆ†å¼€æ¥ã€‚ è¿è¡Œæ—¶å¸¸é‡æ± ï¼šæ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘å™¨ç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚ å †å†…å­˜ï¼ˆçº¿ç¨‹å…±äº«ï¼‰ï¼šæ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—åŒºåŸŸï¼Œåƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸã€‚ç›®å‰ä¸»è¦çš„åƒåœ¾å›æ”¶ç®—æ³•éƒ½æ˜¯åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œæ‰€ä»¥ Java å †ä¸­è¿˜å¯ä»¥ç»†åˆ†ä¸ºï¼šæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼›å†ç»†è‡´ä¸€ç‚¹çš„æœ‰ Eden ç©ºé—´ã€From Survivor ç©ºé—´ã€To Survivor ç©ºé—´ç­‰ï¼Œé»˜è®¤æƒ…å†µä¸‹æ–°ç”Ÿä»£æŒ‰ç…§8:1:1çš„æ¯”ä¾‹æ¥åˆ†é…ã€‚æ ¹æ® Java è™šæ‹Ÿæœºè§„èŒƒçš„è§„å®šï¼ŒJava å †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œåªè¦é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„å³å¯ï¼Œå°±åƒæˆ‘ä»¬çš„ç£ç›˜ä¸€æ ·ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼š Java çº¿ç¨‹ç§æœ‰ï¼Œç±»ä¼¼äºæ“ä½œç³»ç»Ÿé‡Œçš„ PC è®¡æ•°å™¨ï¼Œå®ƒå¯ä»¥çœ‹åšæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ª Java æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯ Native æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨å€¼åˆ™ä¸ºç©ºï¼ˆUndefinedï¼‰ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸã€‚ è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå†…å­˜ï¼‰ï¼šJavaçº¿ç¨‹ç§æœ‰ï¼Œè™šæ‹Ÿæœºå±•æè¿°çš„æ˜¯Javaæ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡ã€æ“ä½œæ•°ã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ï¼›æ¯ä¸ªæ–¹æ³•è°ƒç”¨éƒ½æ„å‘³ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ï¼› æœ¬åœ°æ–¹æ³•æ ˆ ï¼šå’ŒJavaè™šæ‹Ÿæœºæ ˆçš„ä½œç”¨ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯è¯¥åŒºåŸŸä¸º JVM æä¾›ä½¿ç”¨ native æ–¹æ³•çš„æœåŠ¡ 2ï¼‰å¯¹è±¡åˆ†é…è§„åˆ™ï¼Ÿç­”ï¼š å¯¹è±¡ä¼˜å…ˆåˆ†é…åœ¨EdenåŒºï¼Œå¦‚æœEdenåŒºæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ—¶ï¼Œè™šæ‹Ÿæœºæ‰§è¡Œä¸€æ¬¡Minor GCã€‚ å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼ˆå¤§å¯¹è±¡æ˜¯æŒ‡éœ€è¦å¤§é‡è¿ç»­å†…å­˜ç©ºé—´çš„å¯¹è±¡ï¼‰ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é¿å…åœ¨EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºä¹‹é—´å‘ç”Ÿå¤§é‡çš„å†…å­˜æ‹·è´ï¼ˆæ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ç®—æ³•æ”¶é›†å†…å­˜ï¼‰ã€‚ é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ã€‚è™šæ‹Ÿæœºä¸ºæ¯ä¸ªå¯¹è±¡å®šä¹‰äº†ä¸€ä¸ªå¹´é¾„è®¡æ•°å™¨ï¼Œå¦‚æœå¯¹è±¡ç»è¿‡äº†1æ¬¡Minor GCé‚£ä¹ˆå¯¹è±¡ä¼šè¿›å…¥SurvivoråŒºï¼Œä¹‹åæ¯ç»è¿‡ä¸€æ¬¡Minor GCé‚£ä¹ˆå¯¹è±¡çš„å¹´é¾„åŠ 1ï¼ŒçŸ¥é“è¾¾åˆ°é˜€å€¼å¯¹è±¡è¿›å…¥è€å¹´åŒºã€‚ åŠ¨æ€åˆ¤æ–­å¯¹è±¡çš„å¹´é¾„ã€‚å¦‚æœSurvivoråŒºä¸­ç›¸åŒå¹´é¾„çš„æ‰€æœ‰å¯¹è±¡å¤§å°çš„æ€»å’Œå¤§äºSurvivorç©ºé—´çš„ä¸€åŠï¼Œå¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å¹´é¾„çš„å¯¹è±¡å¯ä»¥ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚ ç©ºé—´åˆ†é…æ‹…ä¿ã€‚æ¯æ¬¡è¿›è¡ŒMinor GCæ—¶ï¼ŒJVMä¼šè®¡ç®—SurvivoråŒºç§»è‡³è€å¹´åŒºçš„å¯¹è±¡çš„å¹³å‡å¤§å°ï¼Œå¦‚æœè¿™ä¸ªå€¼å¤§äºè€å¹´åŒºçš„å‰©ä½™å€¼å¤§å°åˆ™è¿›è¡Œä¸€æ¬¡Full GCï¼Œå¦‚æœå°äºæ£€æŸ¥HandlePromotionFailureè®¾ç½®ï¼Œå¦‚æœtrueåˆ™åªè¿›è¡ŒMonitor GC,å¦‚æœfalseåˆ™è¿›è¡ŒFull GCã€‚ 3ï¼‰Java çš„å†…å­˜æ¨¡å‹ï¼šç­”ï¼š Java è™šæ‹Ÿæœºè§„èŒƒä¸­è¯•å›¾å®šä¹‰ä¸€ç§ Java å†…å­˜æ¨¡å‹ï¼ˆJava Memory Model, JMMï¼‰æ¥å±è”½æ‰å„å±‚ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœã€‚ Java å†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ã€‚æ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆWorking Memoryï¼‰ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¢«è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œçº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼ˆè¯»å–ã€èµ‹å€¼ç­‰ï¼‰éƒ½å¿…é¡»åœ¨ä¸»å†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ä¸­çš„å˜é‡ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œçº¿ç¨‹é—´çš„å˜é‡å€¼çš„ä¼ é€’å‡éœ€è¦é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆï¼Œçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…çš„å…³ç³»å¦‚ä¸Šå›¾ã€‚ é¢è¯•å®˜ï¼šä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„å‘¢ï¼Ÿ ç­”ï¼šåœ¨å…±äº«å†…å­˜çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´é€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€æ¥éšå¼è¿›è¡Œé€šä¿¡ï¼Œå…¸å‹çš„å…±äº«å†…å­˜é€šä¿¡æ–¹å¼å°±æ˜¯é€šè¿‡å…±äº«å¯¹è±¡è¿›è¡Œé€šä¿¡ã€‚ ä¾‹å¦‚ä¸Šå›¾çº¿ç¨‹ A ä¸ çº¿ç¨‹ B ä¹‹é—´å¦‚æœè¦é€šä¿¡çš„è¯ï¼Œé‚£ä¹ˆå°±å¿…é¡»ç»å†ä¸‹é¢ä¸¤ä¸ªæ­¥éª¤ï¼š 1.é¦–å…ˆï¼Œçº¿ç¨‹ A æŠŠæœ¬åœ°å†…å­˜ A æ›´æ–°è¿‡å¾—å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­å» 2.ç„¶åï¼Œçº¿ç¨‹ B åˆ°ä¸»å†…å­˜ä¸­å»è¯»å–çº¿ç¨‹ A ä¹‹å‰æ›´æ–°è¿‡çš„å…±äº«å˜é‡ åœ¨æ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´æ²¡æœ‰å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡æ˜ç¡®çš„å‘é€æ¶ˆæ¯æ¥æ˜¾å¼è¿›è¡Œé€šä¿¡ï¼Œåœ¨ Java ä¸­å…¸å‹çš„æ¶ˆæ¯ä¼ é€’æ–¹å¼å°±æ˜¯ wait() å’Œ notify()ã€‚ 5ï¼‰å†…å­˜å±éšœï¼Ÿè§£æï¼šåœ¨è¿™ä¹‹å‰åº”è¯¥å¯¹é‡æ’åºçš„é—®é¢˜æœ‰æ‰€äº†è§£ï¼Œè¿™é‡Œæˆ‘æ‰¾åˆ°ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« åˆ†äº«ä¸€ä¸‹ï¼šJavaå†…å­˜è®¿é—®é‡æ’åºçš„ç ”ç©¶ ç­”ï¼šå†…å­˜å±éšœï¼Œåˆç§°å†…å­˜æ …æ ï¼Œæ˜¯ä¸€ç»„å¤„ç†å™¨æŒ‡ä»¤ï¼Œç”¨äºå®ç°å¯¹å†…å­˜æ“ä½œçš„é¡ºåºé™åˆ¶ã€‚ é¢è¯•å®˜ï¼šå†…å­˜å±éšœä¸ºä½•é‡è¦ï¼Ÿ ç­”ï¼šå¯¹ä¸»å­˜çš„ä¸€æ¬¡è®¿é—®ä¸€èˆ¬èŠ±è´¹ç¡¬ä»¶çš„æ•°ç™¾æ¬¡æ—¶é’Ÿå‘¨æœŸã€‚å¤„ç†å™¨é€šè¿‡ç¼“å­˜ï¼ˆcachingï¼‰èƒ½å¤Ÿä»æ•°é‡çº§ä¸Šé™ä½å†…å­˜å»¶è¿Ÿçš„æˆæœ¬è¿™äº›ç¼“å­˜ä¸ºäº†æ€§èƒ½é‡æ–°æ’åˆ—å¾…å®šå†…å­˜æ“ ä½œçš„é¡ºåºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¨‹åºçš„è¯»å†™æ“ä½œä¸ä¸€å®šä¼šæŒ‰ç…§å®ƒè¦æ±‚å¤„ç†å™¨çš„é¡ºåºæ‰§è¡Œã€‚å½“æ•°æ®æ˜¯ä¸å¯å˜çš„ï¼ŒåŒæ—¶/æˆ–è€…æ•°æ®é™åˆ¶åœ¨çº¿ç¨‹èŒƒå›´å†…ï¼Œè¿™äº›ä¼˜åŒ–æ˜¯æ— å®³çš„ã€‚å¦‚æœæŠŠ è¿™äº›ä¼˜åŒ–ä¸å¯¹ç§°å¤šå¤„ç†ï¼ˆsymmetric multi-processingï¼‰å’Œå…±äº«å¯å˜çŠ¶æ€ï¼ˆshared mutable stateï¼‰ç»“åˆï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€åœºå™©æ¢¦ã€‚å½“åŸºäºå…±äº«å¯å˜çŠ¶æ€çš„å†…å­˜æ“ä½œè¢«é‡æ–°æ’åºæ—¶ï¼Œç¨‹åºå¯èƒ½è¡Œä¸ºä¸å®šã€‚ä¸€ä¸ªçº¿ç¨‹å†™å…¥çš„æ•°æ®å¯èƒ½è¢«å…¶ä»–çº¿ç¨‹å¯è§ï¼ŒåŸå› æ˜¯æ•°æ® å†™å…¥çš„é¡ºåºä¸ä¸€è‡´ã€‚é€‚å½“çš„æ”¾ç½®å†…å­˜å±éšœé€šè¿‡å¼ºåˆ¶å¤„ç†å™¨é¡ºåºæ‰§è¡Œå¾…å®šçš„å†…å­˜æ“ä½œæ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚ 5ï¼‰ç±»ä¼¼-Xmsã€-Xmnè¿™äº›å‚æ•°çš„å«ä¹‰ï¼šç­”ï¼š å †å†…å­˜åˆ†é…ï¼š JVMåˆå§‹åˆ†é…çš„å†…å­˜ç”±-XmsæŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/64 JVMæœ€å¤§åˆ†é…çš„å†…å­˜ç”±-XmxæŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/4 é»˜è®¤ç©ºä½™å †å†…å­˜å°äº40%æ—¶ï¼ŒJVMå°±ä¼šå¢å¤§å †ç›´åˆ°-Xmxçš„æœ€å¤§é™åˆ¶ï¼›ç©ºä½™å †å†…å­˜å¤§äº70%æ—¶ï¼ŒJVMä¼šå‡å°‘å †ç›´åˆ° -Xmsçš„æœ€å°é™åˆ¶ã€‚ å› æ­¤æœåŠ¡å™¨ä¸€èˆ¬è®¾ç½®-Xmsã€-Xmxç›¸ç­‰ä»¥é¿å…åœ¨æ¯æ¬¡GC åè°ƒæ•´å †çš„å¤§å°ã€‚å¯¹è±¡çš„å †å†…å­˜ç”±ç§°ä¸ºåƒåœ¾å›æ”¶å™¨çš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿå›æ”¶ã€‚ éå †å†…å­˜åˆ†é…ï¼š JVMä½¿ç”¨-XX:PermSizeè®¾ç½®éå †å†…å­˜åˆå§‹å€¼ï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/64ï¼› ç”±XX:MaxPermSizeè®¾ç½®æœ€å¤§éå †å†…å­˜çš„å¤§å°ï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/4ã€‚ -Xmn2Gï¼šè®¾ç½®å¹´è½»ä»£å¤§å°ä¸º2Gã€‚ -XX:SurvivorRatioï¼Œè®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºä¸SurvivoråŒºçš„æ¯”å€¼ã€‚ 6ï¼‰å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºç­”ï¼š æ¦‚å¿µï¼š å†…å­˜æº¢å‡ºæŒ‡çš„æ˜¯å†…å­˜ä¸å¤Ÿç”¨äº†ã€‚ å†…å­˜æ³„æ¼æ˜¯æŒ‡å¯¹è±¡å¯è¾¾ï¼Œä½†æ˜¯æ²¡ç”¨äº†ã€‚å³æœ¬è¯¥è¢«GCå›æ”¶çš„å¯¹è±¡å¹¶æ²¡æœ‰è¢«å›æ”¶ å†…å­˜æ³„éœ²æ˜¯å¯¼è‡´å†…å­˜æº¢å‡ºçš„åŸå› ä¹‹ä¸€ï¼›å†…å­˜æ³„éœ²ç§¯ç´¯èµ·æ¥å°†å¯¼è‡´å†…å­˜æº¢å‡ºã€‚ å†…å­˜æ³„æ¼çš„åŸå› åˆ†æï¼š é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¼•ç”¨çŸ­ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ æ²¡æœ‰å°†æ— ç”¨å¯¹è±¡ç½®ä¸ºnull å°ç»“ï¼šæœ¬å°èŠ‚æ¶‰åŠåˆ° JVM è™šæ‹Ÿæœºï¼ŒåŒ…æ‹¬å¯¹å†…å­˜çš„ç®¡ç†ç­‰çŸ¥è¯†ï¼Œç›¸å¯¹è¾ƒæ·±ã€‚é™¤äº†ä»¥ä¸Šé—®é¢˜ï¼Œé¢è¯•å®˜ä¼šç»§ç»­é—®ä½ ä¸€äº›æ¯”è¾ƒæ·±çš„é—®é¢˜ï¼Œå¯èƒ½ä¹Ÿæ˜¯ä¸ºäº†çœ‹çœ‹ä½ çš„æé™åœ¨å“ªé‡Œå§ã€‚æ¯”å¦‚ï¼šå†…å­˜è°ƒä¼˜ã€å†…å­˜ç®¡ç†ï¼Œæ˜¯å¦é‡åˆ°è¿‡å†…å­˜æ³„éœ²çš„å®é™…æ¡ˆä¾‹ã€æ˜¯å¦çœŸæ­£å…³å¿ƒè¿‡å†…å­˜ç­‰ã€‚ 7ï¼‰ç®€è¿°ä¸€ä¸‹ Java ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹ï¼Ÿè§£æï¼šå›ç­”è¿™ä¸ªé—®é¢˜é¦–å…ˆå°±è¦æ¸…æ¥šç±»çš„ç”Ÿå‘½å‘¨æœŸ ç­”ï¼šä¸‹å›¾å±•ç¤ºçš„æ˜¯ç±»çš„ç”Ÿå‘½å‘¨æœŸæµå‘ï¼š Javaä¸­å¯¹è±¡çš„åˆ›å»ºå°±æ˜¯åœ¨å †ä¸Šåˆ†é…å†…å­˜ç©ºé—´çš„è¿‡ç¨‹ï¼Œæ­¤å¤„è¯´çš„å¯¹è±¡åˆ›å»ºä»…é™äºnewå…³é”®å­—åˆ›å»ºçš„æ™®é€šJavaå¯¹è±¡ï¼Œä¸åŒ…æ‹¬æ•°ç»„å¯¹è±¡çš„åˆ›å»ºã€‚ å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š 1.æ£€æµ‹ç±»æ˜¯å¦è¢«åŠ è½½ï¼š å½“è™šæ‹Ÿæœºæ‰§è¡Œåˆ°newæ—¶ï¼Œä¼šå…ˆå»å¸¸é‡æ± ä¸­æŸ¥æ‰¾è¿™ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ã€‚å¦‚æœèƒ½æ‰¾åˆ°ç¬¦å·å¼•ç”¨ï¼Œè¯´æ˜æ­¤ç±»å·²ç»è¢«åŠ è½½åˆ°æ–¹æ³•åŒºï¼ˆæ–¹æ³•åŒºå­˜å‚¨è™šæ‹Ÿæœºå·²ç»åŠ è½½çš„ç±»çš„ä¿¡æ¯ï¼‰ï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œï¼›å¦‚æœæ‰¾ä¸åˆ°ç¬¦å·å¼•ç”¨ï¼Œå°±ä¼šä½¿ç”¨ç±»åŠ è½½å™¨æ‰§è¡Œç±»çš„åŠ è½½è¿‡ç¨‹ï¼Œç±»åŠ è½½å®Œæˆåç»§ç»­æ‰§è¡Œã€‚ 2.ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ï¼š ç±»åŠ è½½å®Œæˆä»¥åï¼Œè™šæ‹Ÿæœºå°±å¼€å§‹ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ï¼Œæ­¤æ—¶æ‰€éœ€å†…å­˜çš„å¤§å°å°±å·²ç»ç¡®å®šäº†ã€‚åªéœ€è¦åœ¨å †ä¸Šåˆ†é…æ‰€éœ€è¦çš„å†…å­˜å³å¯ã€‚ å…·ä½“çš„åˆ†é…å†…å­˜æœ‰ä¸¤ç§æƒ…å†µï¼šç¬¬ä¸€ç§æƒ…å†µæ˜¯å†…å­˜ç©ºé—´ç»å¯¹è§„æ•´ï¼Œç¬¬äºŒç§æƒ…å†µæ˜¯å†…å­˜ç©ºé—´æ˜¯ä¸è¿ç»­çš„ã€‚ å¯¹äºå†…å­˜ç»å¯¹è§„æ•´çš„æƒ…å†µç›¸å¯¹ç®€å•ä¸€äº›ï¼Œè™šæ‹Ÿæœºåªéœ€è¦åœ¨è¢«å ç”¨çš„å†…å­˜å’Œå¯ç”¨ç©ºé—´ä¹‹é—´ç§»åŠ¨æŒ‡é’ˆå³å¯ï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸ºæŒ‡é’ˆç¢°æ’ã€‚ å¯¹äºå†…å­˜ä¸è§„æ•´çš„æƒ…å†µç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œè¿™æ—¶å€™è™šæ‹Ÿæœºéœ€è¦ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¥è®°å½•å“ªäº›å†…å­˜æ˜¯å¯ç”¨çš„ã€‚åˆ†é…å†…å­˜çš„æ—¶å€™éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå¯ç”¨çš„å†…å­˜ç©ºé—´ï¼Œç„¶ååœ¨åˆ—è¡¨ä¸Šè®°å½•ä¸‹å·²è¢«åˆ†é…ï¼Œè¿™ç§æ–¹å¼æˆä¸ºç©ºé—²åˆ—è¡¨ã€‚ åˆ†é…å†…å­˜çš„æ—¶å€™ä¹Ÿéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š ç¬¬ä¸€ç§æ˜¯é‡‡ç”¨åŒæ­¥çš„åŠæ³•ï¼Œä½¿ç”¨CASæ¥ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚ å¦ä¸€ç§æ˜¯æ¯ä¸ªçº¿ç¨‹åˆ†é…å†…å­˜éƒ½åœ¨è‡ªå·±çš„ç©ºé—´å†…è¿›è¡Œï¼Œå³æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨å †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜ï¼Œç§°ä¸ºæœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²ï¼ˆTLABï¼‰ï¼Œåˆ†é…å†…å­˜çš„æ—¶å€™å†TLABä¸Šåˆ†é…ï¼Œäº’ä¸å¹²æ‰°ã€‚ 3.ä¸ºåˆ†é…çš„å†…å­˜ç©ºé—´åˆå§‹åŒ–é›¶å€¼ï¼š å¯¹è±¡çš„å†…å­˜åˆ†é…å®Œæˆåï¼Œè¿˜éœ€è¦å°†å¯¹è±¡çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼Œè¿™æ ·èƒ½ä¿è¯å¯¹è±¡å³ä½¿æ²¡æœ‰èµ‹åˆå€¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ 4.å¯¹å¯¹è±¡è¿›è¡Œå…¶ä»–è®¾ç½®ï¼š åˆ†é…å®Œå†…å­˜ç©ºé—´ï¼Œåˆå§‹åŒ–é›¶å€¼ä¹‹åï¼Œè™šæ‹Ÿæœºè¿˜éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œå…¶ä»–å¿…è¦çš„è®¾ç½®ï¼Œè®¾ç½®çš„åœ°æ–¹éƒ½åœ¨å¯¹è±¡å¤´ä¸­ï¼ŒåŒ…æ‹¬è¿™ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼Œç±»çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œå¯¹è±¡çš„hashcodeï¼ŒGCåˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯ã€‚ 5.æ‰§è¡Œ init æ–¹æ³•ï¼š æ‰§è¡Œå®Œä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œåœ¨è™šæ‹Ÿæœºé‡Œè¿™ä¸ªå¯¹è±¡å°±ç®—åˆ›å»ºæˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹äºJavaç¨‹åºæ¥è¯´è¿˜éœ€è¦æ‰§è¡Œinitæ–¹æ³•æ‰ç®—çœŸæ­£çš„åˆ›å»ºå®Œæˆï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™å¯¹è±¡åªæ˜¯è¢«åˆå§‹åŒ–é›¶å€¼äº†ï¼Œè¿˜æ²¡æœ‰çœŸæ­£çš„å»æ ¹æ®ç¨‹åºä¸­çš„ä»£ç åˆ†é…åˆå§‹å€¼ï¼Œè°ƒç”¨äº†initæ–¹æ³•ä¹‹åï¼Œè¿™ä¸ªå¯¹è±¡æ‰çœŸæ­£èƒ½ä½¿ç”¨ã€‚ åˆ°æ­¤ä¸ºæ­¢ä¸€ä¸ªå¯¹è±¡å°±äº§ç”Ÿäº†ï¼Œè¿™å°±æ˜¯newå…³é”®å­—åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š å‚è€ƒæ–‡ç« ï¼šJavaåˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ç®€ä»‹ é¢è¯•å®˜ï¼šå¯¹è±¡çš„å†…å­˜å¸ƒå±€æ˜¯æ€æ ·çš„ï¼Ÿ ç­”ï¼šå¯¹è±¡çš„å†…å­˜å¸ƒå±€åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šå¯¹è±¡å¤´ï¼Œå®ä¾‹æ•°æ®å’Œå¯¹é½å¡«å……ã€‚ å¯¹è±¡å¤´ï¼šå¯¹è±¡å¤´åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯å­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ï¼ŒGCåˆ†ä»£å¹´é¾„ï¼Œé”çŠ¶æ€æ ‡å¿—ï¼Œçº¿ç¨‹æŒæœ‰çš„é”ç­‰ç­‰ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆã€‚ å®ä¾‹æ•°æ®ï¼šå°±æ˜¯æ•°æ®å•¦ å¯¹é½å¡«å……ï¼šä¸æ˜¯å¿…ç„¶çš„å­˜åœ¨ï¼Œå°±æ˜¯ä¸ºäº†å¯¹é½çš„å˜› é¢è¯•å®˜ï¼šå¯¹è±¡æ˜¯å¦‚ä½•å®šä½è®¿é—®çš„ï¼Ÿ ç­”ï¼šå¯¹è±¡çš„è®¿é—®å®šä½æœ‰ä¸¤ç§ï¼šå¥æŸ„å®šä½å’Œç›´æ¥æŒ‡é’ˆ å¥æŸ„å®šä½ï¼šJava å †ä¼šç”»å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreferenceä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®ä¾‹æ•°æ®ä¸ç±»å‹æ•°æ®å„è‡ªçš„å…·ä½“åœ°å€ä¿¡æ¯ ç›´æ¥æŒ‡é’ˆè®¿é—®ï¼šjavaå †å¯¹è±¡çš„ä¸å±…ä¸­å°±å¿…é¡»è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»å‹æ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œè€Œreferenceä¸­å­˜å‚¨çš„ç›´æ¥å°±æ˜¯å¯¹è±¡åœ°å€ æ¯”è¾ƒï¼šä½¿ç”¨ç›´æ¥æŒ‡é’ˆå°±æ˜¯é€Ÿåº¦å¿«ï¼Œä½¿ç”¨å¥æŸ„referenceæŒ‡å‘ç¨³å®šçš„å¥æŸ„ï¼Œå¯¹è±¡è¢«ç§»åŠ¨æ”¹å˜çš„ä¹Ÿåªæ˜¯å¥æŸ„ä¸­å®ä¾‹æ•°æ®çš„æŒ‡é’ˆï¼Œè€Œreferenceæœ¬èº«å¹¶ä¸éœ€è¦ä¿®æ”¹ã€‚ å‚è€ƒæ–‡ç« ï¼šJAVAå¯¹è±¡åˆ›å»ºçš„è¿‡ç¨‹ ï¼ˆä¸‰ï¼‰GC ç›¸å…³1ï¼‰å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å·²ç»æ­»å»ï¼Ÿç­”ï¼š å¼•ç”¨è®¡æ•°ï¼šæ¯ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å±æ€§ï¼Œæ–°å¢ä¸€ä¸ªå¼•ç”¨æ—¶è®¡æ•°åŠ 1ï¼Œå¼•ç”¨é‡Šæ”¾æ—¶è®¡æ•°å‡1ï¼Œè®¡æ•°ä¸º0æ—¶å¯ä»¥å›æ”¶ã€‚æ­¤æ–¹æ³•ç®€å•ï¼Œæ— æ³•è§£å†³å¯¹è±¡ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ å¯è¾¾æ€§åˆ†æï¼ˆReachability Analysisï¼‰ï¼šä»GC Rootså¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿æ—¶ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ã€‚ä¸å¯è¾¾å¯¹è±¡ã€‚ 2ï¼‰åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿç­”ï¼š å¼•ç”¨è®¡æ•°ï¼šåŸç†æ˜¯æ­¤å¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œå³å¢åŠ ä¸€ä¸ªè®¡æ•°ï¼Œåˆ é™¤ä¸€ä¸ªå¼•ç”¨åˆ™å‡å°‘ä¸€ä¸ªè®¡æ•°ã€‚åƒåœ¾å›æ”¶æ—¶ï¼Œåªç”¨æ”¶é›†è®¡æ•°ä¸º0çš„å¯¹è±¡ã€‚æ­¤ç®—æ³•æœ€è‡´å‘½çš„æ˜¯æ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ æ ‡è®°-æ¸…é™¤ï¼šæ­¤ç®—æ³•æ‰§è¡Œåˆ†ä¸¤é˜¶æ®µã€‚ç¬¬ä¸€é˜¶æ®µä»å¼•ç”¨æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œç¬¬äºŒé˜¶æ®µéå†æ•´ä¸ªå †ï¼ŒæŠŠæœªæ ‡è®°çš„å¯¹è±¡æ¸…é™¤ã€‚æ­¤ç®—æ³•éœ€è¦æš‚åœæ•´ä¸ªåº”ç”¨ï¼ŒåŒæ—¶ï¼Œä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚ å¤åˆ¶ç®—æ³•ï¼šæ­¤ç®—æ³•æŠŠå†…å­˜ç©ºé—´åˆ’ä¸ºä¸¤ä¸ªç›¸ç­‰çš„åŒºåŸŸï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€ä¸ªåŒºåŸŸã€‚åƒåœ¾å›æ”¶æ—¶ï¼Œéå†å½“å‰ä½¿ç”¨åŒºåŸŸï¼ŒæŠŠæ­£åœ¨ä½¿ç”¨ä¸­çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ã€‚æ­¤ç®—æ³•æ¯æ¬¡åªå¤„ç†æ­£åœ¨ä½¿ç”¨ä¸­çš„å¯¹è±¡ï¼Œå› æ­¤å¤åˆ¶æˆæœ¬æ¯”è¾ƒå°ï¼ŒåŒæ—¶å¤åˆ¶è¿‡å»ä»¥åè¿˜èƒ½è¿›è¡Œç›¸åº”çš„å†…å­˜æ•´ç†ï¼Œä¸ä¼šå‡ºç°â€œç¢ç‰‡â€é—®é¢˜ã€‚å½“ç„¶ï¼Œæ­¤ç®—æ³•çš„ç¼ºç‚¹ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå°±æ˜¯éœ€è¦ä¸¤å€å†…å­˜ç©ºé—´ã€‚ æ ‡è®°-æ•´ç†ï¼šæ­¤ç®—æ³•ç»“åˆäº† â€œæ ‡è®°-æ¸…é™¤â€ å’Œ â€œå¤åˆ¶â€ ä¸¤ä¸ªç®—æ³•çš„ä¼˜ç‚¹ã€‚ä¹Ÿæ˜¯åˆ†ä¸¤é˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µä»æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨å¯¹è±¡ï¼Œç¬¬äºŒé˜¶æ®µéå†æ•´ä¸ªå †ï¼ŒæŠŠæ¸…é™¤æœªæ ‡è®°å¯¹è±¡å¹¶ä¸”æŠŠå­˜æ´»å¯¹è±¡â€œå‹ç¼©â€åˆ°å †çš„å…¶ä¸­ä¸€å—ï¼ŒæŒ‰é¡ºåºæ’æ”¾ã€‚æ­¤ç®—æ³•é¿å…äº† â€œæ ‡è®°-æ¸…é™¤â€ çš„ç¢ç‰‡é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº† â€œå¤åˆ¶â€ ç®—æ³•çš„ç©ºé—´é—®é¢˜ã€‚ åˆ†ä»£æ”¶é›†ç®—æ³•ï¼š åˆ†ä»£æ”¶é›†ç®—æ³•å¹¶æ²¡æœ‰æå‡ºæ–°çš„æ€æƒ³ï¼Œåªæ˜¯æ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ’ä¸ºå‡ å—ã€‚ä¸€èˆ¬Javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨é€‚å½“çš„æ”¶é›†ç®—æ³•ã€‚ åœ¨æ–°ç”Ÿè¢‹ä¸­æ¯æ¬¡åƒåœ¾æ‰‹æœºæ—¶éƒ½ä¼šç”±å¤§æ‰¹å¯¹è±¡æ­»å»ï¼Œåªæœ‰å°‘é‡å­˜æ´»ï¼Œé‚£å°±ç”¨å¤åˆ¶ç®—æ³•ï¼Œåªéœ€è¦ä»˜å‡ºå°‘é‡å­˜æ´»å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥ã€‚è€å¹´ä»£ä¸­å¯¹è±¡å­˜æ´»ç‡é«˜ã€æ²¡æœ‰é¢å¤–æ‹…ä¿ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨â€œæ ‡è®°-æ¸…ç†â€æˆ–è€…â€œæ ‡è®°æ•´ç†ç®—æ³•ã€‚ å‚è€ƒæ–‡ç« ï¼šjvmç³»åˆ—(ä¸‰):GCç®—æ³• åƒåœ¾æ”¶é›†å™¨â€”â€”çº¯æ´çš„å¾®ç¬‘ 3ï¼‰GCä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿç­”ï¼šGCç»å¸¸å‘ç”Ÿçš„åŒºåŸŸæ˜¯å †åŒºï¼Œå †åŒºè¿˜å¯ä»¥ç»†åˆ†ä¸ºæ–°ç”Ÿä»£ã€è€å¹´ä»£ï¼Œæ–°ç”Ÿä»£è¿˜åˆ†ä¸ºä¸€ä¸ªEdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºã€‚ å¯¹è±¡ä¼˜å…ˆåœ¨Edenä¸­åˆ†é…ï¼Œå½“Edenä¸­æ²¡æœ‰è¶³å¤Ÿç©ºé—´æ—¶ï¼Œè™šæ‹Ÿæœºå°†å‘ç”Ÿä¸€æ¬¡Minor GCï¼Œå› ä¸ºJavaå¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯æœç”Ÿå¤•ç­ï¼Œæ‰€ä»¥Minor GCéå¸¸é¢‘ç¹ï¼Œè€Œä¸”é€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼› Full GCï¼Œå‘ç”Ÿåœ¨è€å¹´ä»£çš„GCï¼Œå½“è€å¹´ä»£æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ—¶å³å‘ç”ŸFull GCï¼Œå‘ç”ŸFull GCä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€æ¬¡Minor GCã€‚å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œå¦‚å¾ˆé•¿çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œè™šæ‹Ÿæœºæä¾›ä¸€ä¸ª-XX:PretenureSizeThreadholdå‚æ•°ï¼Œä»¤å¤§äºè¿™ä¸ªå‚æ•°å€¼çš„å¯¹è±¡ç›´æ¥åœ¨è€å¹´ä»£ä¸­åˆ†é…ï¼Œé¿å…åœ¨EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºå‘ç”Ÿå¤§é‡çš„å†…å­˜æ‹·è´ï¼› å‘ç”ŸMinor GCæ—¶ï¼Œè™šæ‹Ÿæœºä¼šæ£€æµ‹ä¹‹å‰æ¯æ¬¡æ™‹å‡åˆ°è€å¹´ä»£çš„å¹³å‡å¤§å°æ˜¯å¦å¤§äºè€å¹´ä»£çš„å‰©ä½™ç©ºé—´å¤§å°ï¼Œå¦‚æœå¤§äºï¼Œåˆ™è¿›è¡Œä¸€æ¬¡Full GCï¼Œå¦‚æœå°äºï¼Œåˆ™æŸ¥çœ‹HandlePromotionFailureè®¾ç½®æ˜¯å¦å…è®¸æ‹…ä¿å¤±è´¥ï¼Œå¦‚æœå…è®¸ï¼Œé‚£åªä¼šè¿›è¡Œä¸€æ¬¡Minor GCï¼Œå¦‚æœä¸å…è®¸ï¼Œåˆ™æ”¹ä¸ºè¿›è¡Œä¸€æ¬¡Full GCã€‚ 4ï¼‰å¼•ç”¨çš„åˆ†ç±»ï¼Ÿç­”ï¼š å¼ºå¼•ç”¨ï¼šé€šè¿‡newå‡ºæ¥çš„å¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œåˆ™ä¸ä¼šå›æ”¶ã€‚ è½¯å¼•ç”¨ï¼šé€šè¿‡SoftReferenceç±»æ¥å®ç°ï¼Œç”¨æ¥æè¿°ä¸€äº›æœ‰ç”¨ä½†éå¿…é¡»çš„å¯¹è±¡ã€‚åœ¨ç³»ç»Ÿå°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œä¼šæŠŠè¿™äº›å¯¹è±¡å›æ”¶äº†ï¼Œå¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯å†…å­˜ä¸å¤Ÿçš„è¯ï¼Œæ‰æŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚ å¼±å¼•ç”¨ï¼šéå¿…é¡»å¯¹è±¡ï¼Œé€šè¿‡WeakReferenceç±»æ¥å®ç°ï¼Œè¢«å¼±å¼•ç”¨å¼•ç”¨çš„å¯¹è±¡ï¼Œåªè¦å·²å‘ç”ŸGCå°±ä¼šæŠŠå®ƒå¹²æ‰ã€‚ è™šå¼•ç”¨ï¼šé€šè¿‡PhantomReferenceç±»æ¥å®ç°ï¼Œæ— æ³•é€šè¿‡å¾å¼•ç”¨è·å¾—å¯¹è±¡çš„å®ä¾‹ï¼Œå”¯ä¸€ä½œç”¨å°±æ˜¯åœ¨è¿™ä¸ªå¯¹è±¡è¢«GCæ—¶ä¼šæ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚ æ‰©å±•é˜…è¯»ï¼šé‡æ–°è®¤è¯†javaï¼ˆä¸€ï¼‰ â€”- ä¸‡ç‰©çš†å¯¹è±¡ ï¼Œæ–‡ç« ä¸­æœ‰å¯¹è¿™å››ä¸ªå¼•ç”¨æœ‰è¯¦ç»†çš„æè¿°ï¼Œè¿˜æœ‰ä¸€äº›å…¸å‹çš„åº”ç”¨ï¼Œè¿™é‡Œå°±ä¸æ‘˜è¿‡æ¥å•¦â€¦ 5ï¼‰åƒåœ¾æ”¶é›†å™¨ï¼Ÿè§£æï¼šå¦‚æœè¯´æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶çš„æ–¹æ³•è®ºï¼Œåƒåœ¾æ”¶é›†å™¨å°±æ˜¯å†…å­˜å›æ”¶çš„å…·ä½“å®ç° ç­”ï¼š 1. Serial æ”¶é›†å™¨ ä¸²è¡Œæ”¶é›†å™¨æ˜¯æœ€å¤è€ï¼Œæœ€ç¨³å®šä»¥åŠæ•ˆç‡é«˜çš„æ”¶é›†å™¨ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè¾ƒé•¿çš„åœé¡¿ï¼Œåªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å»å›æ”¶ã€‚æ–°ç”Ÿä»£ã€è€å¹´ä»£ä½¿ç”¨ä¸²è¡Œå›æ”¶ï¼›æ–°ç”Ÿä»£å¤åˆ¶ç®—æ³•ã€è€å¹´ä»£æ ‡è®°-å‹ç¼©ï¼›åƒåœ¾æ”¶é›†çš„è¿‡ç¨‹ä¸­ä¼š Stop The Worldï¼ˆæœåŠ¡æš‚åœï¼‰ å‚æ•°æ§åˆ¶ï¼š -XX:+UseSerialGC ä¸²è¡Œæ”¶é›†å™¨ 2.ParNew æ”¶é›†å™¨ ParNewæ”¶é›†å™¨ ParNewæ”¶é›†å™¨å…¶å®å°±æ˜¯Serialæ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ã€‚æ–°ç”Ÿä»£å¹¶è¡Œï¼Œè€å¹´ä»£ä¸²è¡Œï¼›æ–°ç”Ÿä»£å¤åˆ¶ç®—æ³•ã€è€å¹´ä»£æ ‡è®°-å‹ç¼© å‚æ•°æ§åˆ¶ï¼š -XX:+UseParNewGC ParNewæ”¶é›†å™¨-XX:ParallelGCThreads é™åˆ¶çº¿ç¨‹æ•°é‡ 3.Parallel Scavengeæ”¶é›†å™¨ Parallel Scavengeæ”¶é›†å™¨ç±»ä¼¼ParNewæ”¶é›†å™¨ï¼ŒParallelæ”¶é›†å™¨æ›´å…³æ³¨ç³»ç»Ÿçš„ååé‡ã€‚å¯ä»¥é€šè¿‡å‚æ•°æ¥æ‰“å¼€è‡ªé€‚åº”è°ƒèŠ‚ç­–ç•¥ï¼Œè™šæ‹Ÿæœºä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æ§ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒæ•´è¿™äº›å‚æ•°ä»¥æä¾›æœ€åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–æœ€å¤§çš„ååé‡ï¼›ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°æ§åˆ¶GCçš„æ—¶é—´ä¸å¤§äºå¤šå°‘æ¯«ç§’æˆ–è€…æ¯”ä¾‹ï¼›æ–°ç”Ÿä»£å¤åˆ¶ç®—æ³•ã€è€å¹´ä»£æ ‡è®°-å‹ç¼© å‚æ•°æ§åˆ¶ï¼š -XX:+UseParallelGC ä½¿ç”¨Parallelæ”¶é›†å™¨+ è€å¹´ä»£ä¸²è¡Œ 4.Parallel Old æ”¶é›†å™¨ Parallel Oldæ˜¯Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å’Œâ€œæ ‡è®°ï¼æ•´ç†â€ç®—æ³•ã€‚è¿™ä¸ªæ”¶é›†å™¨æ˜¯åœ¨ JDK 1.6 ä¸­æ‰å¼€å§‹æä¾› å‚æ•°æ§åˆ¶ï¼š -XX:+UseParallelOldGC ä½¿ç”¨Parallelæ”¶é›†å™¨+ è€å¹´ä»£å¹¶è¡Œ 5.CMSæ”¶é›†å™¨ CMSï¼ˆConcurrent Mark Sweepï¼‰æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ã€‚ç›®å‰å¾ˆå¤§ä¸€éƒ¨åˆ†çš„Javaåº”ç”¨éƒ½é›†ä¸­åœ¨äº’è”ç½‘ç«™æˆ–B/Sç³»ç»Ÿçš„æœåŠ¡ç«¯ä¸Šï¼Œè¿™ç±»åº”ç”¨å°¤å…¶é‡è§†æœåŠ¡çš„å“åº”é€Ÿåº¦ï¼Œå¸Œæœ›ç³»ç»Ÿåœé¡¿æ—¶é—´æœ€çŸ­ï¼Œä»¥ç»™ç”¨æˆ·å¸¦æ¥è¾ƒå¥½çš„ä½“éªŒã€‚ ä»åå­—ï¼ˆåŒ…å«â€œMark Sweepâ€ï¼‰ä¸Šå°±å¯ä»¥çœ‹å‡ºCMSæ”¶é›†å™¨æ˜¯åŸºäºâ€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•å®ç°çš„ï¼Œå®ƒçš„è¿ä½œè¿‡ç¨‹ç›¸å¯¹äºå‰é¢å‡ ç§æ”¶é›†å™¨æ¥è¯´è¦æ›´å¤æ‚ä¸€äº›ï¼Œæ•´ä¸ªè¿‡ç¨‹åˆ†ä¸º4ä¸ªæ­¥éª¤ï¼ŒåŒ…æ‹¬ï¼š åˆå§‹æ ‡è®°ï¼ˆCMS initial markï¼‰ å¹¶å‘æ ‡è®°ï¼ˆCMS concurrent markï¼‰ é‡æ–°æ ‡è®°ï¼ˆCMS remarkï¼‰ å¹¶å‘æ¸…é™¤ï¼ˆCMS concurrent sweepï¼‰ å…¶ä¸­åˆå§‹æ ‡è®°ã€é‡æ–°æ ‡è®°è¿™ä¸¤ä¸ªæ­¥éª¤ä»ç„¶éœ€è¦â€œStop The Worldâ€ã€‚åˆå§‹æ ‡è®°ä»…ä»…åªæ˜¯æ ‡è®°ä¸€ä¸‹GC Rootsèƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œå¹¶å‘æ ‡è®°é˜¶æ®µå°±æ˜¯è¿›è¡ŒGC Roots Tracingçš„è¿‡ç¨‹ï¼Œè€Œé‡æ–°æ ‡è®°é˜¶æ®µåˆ™æ˜¯ä¸ºäº†ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼Œè¿™ä¸ªé˜¶æ®µçš„åœé¡¿æ—¶é—´ä¸€èˆ¬ä¼šæ¯”åˆå§‹æ ‡è®°é˜¶æ®µç¨é•¿ä¸€äº›ï¼Œä½†è¿œæ¯”å¹¶å‘æ ‡è®°çš„æ—¶é—´çŸ­ã€‚ ç”±äºæ•´ä¸ªè¿‡ç¨‹ä¸­è€—æ—¶æœ€é•¿çš„å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤è¿‡ç¨‹ä¸­ï¼Œæ”¶é›†å™¨çº¿ç¨‹éƒ½å¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œæ‰€ä»¥æ€»ä½“ä¸Šæ¥è¯´ï¼ŒCMSæ”¶é›†å™¨çš„å†…å­˜å›æ”¶è¿‡ç¨‹æ˜¯ä¸ç”¨æˆ·çº¿ç¨‹ä¸€èµ·å¹¶å‘åœ°æ‰§è¡Œã€‚è€å¹´ä»£æ”¶é›†å™¨ï¼ˆæ–°ç”Ÿä»£ä½¿ç”¨ParNewï¼‰ ä¼˜ç‚¹: å¹¶å‘æ”¶é›†ã€ä½åœé¡¿ç¼ºç‚¹: äº§ç”Ÿå¤§é‡ç©ºé—´ç¢ç‰‡ã€å¹¶å‘é˜¶æ®µä¼šé™ä½ååé‡ å‚æ•°æ§åˆ¶ï¼š -XX:+UseConcMarkSweepGC ä½¿ç”¨CMSæ”¶é›†å™¨-XX:+ UseCMSCompactAtFullCollection Full GCåï¼Œè¿›è¡Œä¸€æ¬¡ç¢ç‰‡æ•´ç†ï¼›æ•´ç†è¿‡ç¨‹æ˜¯ç‹¬å çš„ï¼Œä¼šå¼•èµ·åœé¡¿æ—¶é—´å˜é•¿-XX:+CMSFullGCsBeforeCompaction è®¾ç½®è¿›è¡Œå‡ æ¬¡Full GCåï¼Œè¿›è¡Œä¸€æ¬¡ç¢ç‰‡æ•´ç†-XX:ParallelCMSThreads è®¾å®šCMSçš„çº¿ç¨‹æ•°é‡ï¼ˆä¸€èˆ¬æƒ…å†µçº¦ç­‰äºå¯ç”¨CPUæ•°é‡ï¼‰ 6.G1æ”¶é›†å™¨ G1æ˜¯ç›®å‰æŠ€æœ¯å‘å±•çš„æœ€å‰æ²¿æˆæœä¹‹ä¸€ï¼ŒHotSpotå¼€å‘å›¢é˜Ÿèµ‹äºˆå®ƒçš„ä½¿å‘½æ˜¯æœªæ¥å¯ä»¥æ›¿æ¢æ‰JDK1.5ä¸­å‘å¸ƒçš„CMSæ”¶é›†å™¨ã€‚ä¸CMSæ”¶é›†å™¨ç›¸æ¯”G1æ”¶é›†å™¨æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š ç©ºé—´æ•´åˆï¼ŒG1æ”¶é›†å™¨é‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Œä¸ä¼šäº§ç”Ÿå†…å­˜ç©ºé—´ç¢ç‰‡ã€‚åˆ†é…å¤§å¯¹è±¡æ—¶ä¸ä¼šå› ä¸ºæ— æ³•æ‰¾åˆ°è¿ç»­ç©ºé—´è€Œæå‰è§¦å‘ä¸‹ä¸€æ¬¡GCã€‚ å¯é¢„æµ‹åœé¡¿ï¼Œè¿™æ˜¯G1çš„å¦ä¸€å¤§ä¼˜åŠ¿ï¼Œé™ä½åœé¡¿æ—¶é—´æ˜¯G1å’ŒCMSçš„å…±åŒå…³æ³¨ç‚¹ï¼Œä½†G1é™¤äº†è¿½æ±‚ä½åœé¡¿å¤–ï¼Œè¿˜èƒ½å»ºç«‹å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹ï¼Œèƒ½è®©ä½¿ç”¨è€…æ˜ç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºNæ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ï¼Œæ¶ˆè€—åœ¨åƒåœ¾æ”¶é›†ä¸Šçš„æ—¶é—´ä¸å¾—è¶…è¿‡Næ¯«ç§’ï¼Œè¿™å‡ ä¹å·²ç»æ˜¯å®æ—¶Javaï¼ˆRTSJï¼‰çš„åƒåœ¾æ”¶é›†å™¨çš„ç‰¹å¾äº†ã€‚ ä¸Šé¢æåˆ°çš„åƒåœ¾æ”¶é›†å™¨ï¼Œæ”¶é›†çš„èŒƒå›´éƒ½æ˜¯æ•´ä¸ªæ–°ç”Ÿä»£æˆ–è€…è€å¹´ä»£ï¼Œè€ŒG1ä¸å†æ˜¯è¿™æ ·ã€‚ä½¿ç”¨G1æ”¶é›†å™¨æ—¶ï¼ŒJavaå †çš„å†…å­˜å¸ƒå±€ä¸å…¶ä»–æ”¶é›†å™¨æœ‰å¾ˆå¤§å·®åˆ«ï¼Œå®ƒå°†æ•´ä¸ªJavaå †åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„ç‹¬ç«‹åŒºåŸŸï¼ˆRegionï¼‰ï¼Œè™½ç„¶è¿˜ä¿ç•™æœ‰æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ¦‚å¿µï¼Œä½†æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸å†æ˜¯ç‰©ç†éš”é˜‚äº†ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€éƒ¨åˆ†ï¼ˆå¯ä»¥ä¸è¿ç»­ï¼‰Regionçš„é›†åˆã€‚ G1çš„æ–°ç”Ÿä»£æ”¶é›†è·ŸParNewç±»ä¼¼ï¼Œå½“æ–°ç”Ÿä»£å ç”¨è¾¾åˆ°ä¸€å®šæ¯”ä¾‹çš„æ—¶å€™ï¼Œå¼€å§‹å‡ºå‘æ”¶é›†ã€‚å’ŒCMSç±»ä¼¼ï¼ŒG1æ”¶é›†å™¨æ”¶é›†è€å¹´ä»£å¯¹è±¡ä¼šæœ‰çŸ­æš‚åœé¡¿ã€‚ æ”¶é›†æ­¥éª¤ï¼š 1ã€æ ‡è®°é˜¶æ®µï¼Œé¦–å…ˆåˆå§‹æ ‡è®°(Initial-Mark),è¿™ä¸ªé˜¶æ®µæ˜¯åœé¡¿çš„(Stop the World Event)ï¼Œå¹¶ä¸”ä¼šè§¦å‘ä¸€æ¬¡æ™®é€šMintor GCã€‚å¯¹åº”GC log:GC pause (young) (inital-mark) 2ã€Root Region Scanningï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¼šå›æ”¶survivoråŒº(å­˜æ´»åˆ°è€å¹´ä»£)ï¼Œè¿™ä¸€è¿‡ç¨‹å¿…é¡»åœ¨young GCä¹‹å‰å®Œæˆã€‚ 3ã€Concurrent Markingï¼Œåœ¨æ•´ä¸ªå †ä¸­è¿›è¡Œå¹¶å‘æ ‡è®°(å’Œåº”ç”¨ç¨‹åºå¹¶å‘æ‰§è¡Œ)ï¼Œæ­¤è¿‡ç¨‹å¯èƒ½è¢«young GCä¸­æ–­ã€‚åœ¨å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œè‹¥å‘ç°åŒºåŸŸå¯¹è±¡ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åƒåœ¾ï¼Œé‚£ä¸ªè¿™ä¸ªåŒºåŸŸä¼šè¢«ç«‹å³å›æ”¶(å›¾ä¸­æ‰“X)ã€‚åŒæ—¶ï¼Œå¹¶å‘æ ‡è®°è¿‡ç¨‹ä¸­ï¼Œä¼šè®¡ç®—æ¯ä¸ªåŒºåŸŸçš„å¯¹è±¡æ´»æ€§(åŒºåŸŸä¸­å­˜æ´»å¯¹è±¡çš„æ¯”ä¾‹)ã€‚ 4ã€Remark, å†æ ‡è®°ï¼Œä¼šæœ‰çŸ­æš‚åœé¡¿(STW)ã€‚å†æ ‡è®°é˜¶æ®µæ˜¯ç”¨æ¥æ”¶é›† å¹¶å‘æ ‡è®°é˜¶æ®µ äº§ç”Ÿæ–°çš„åƒåœ¾(å¹¶å‘é˜¶æ®µå’Œåº”ç”¨ç¨‹åºä¸€åŒè¿è¡Œ)ï¼›G1ä¸­é‡‡ç”¨äº†æ¯”CMSæ›´å¿«çš„åˆå§‹å¿«ç…§ç®—æ³•:snapshot-at-the-beginning (SATB)ã€‚ 5ã€Copy/Clean upï¼Œå¤šçº¿ç¨‹æ¸…é™¤å¤±æ´»å¯¹è±¡ï¼Œä¼šæœ‰STWã€‚G1å°†å›æ”¶åŒºåŸŸçš„å­˜æ´»å¯¹è±¡æ‹·è´åˆ°æ–°åŒºåŸŸï¼Œæ¸…é™¤Remember Setsï¼Œå¹¶å‘æ¸…ç©ºå›æ”¶åŒºåŸŸå¹¶æŠŠå®ƒè¿”å›åˆ°ç©ºé—²åŒºåŸŸé“¾è¡¨ä¸­ã€‚ 6ã€å¤åˆ¶/æ¸…é™¤è¿‡ç¨‹åã€‚å›æ”¶åŒºåŸŸçš„æ´»æ€§å¯¹è±¡å·²ç»è¢«é›†ä¸­å›æ”¶åˆ°æ·±è“è‰²å’Œæ·±ç»¿è‰²åŒºåŸŸã€‚ å‚è€ƒæ–‡ç« ï¼šjvmç³»åˆ—(ä¸‰):GCç®—æ³• åƒåœ¾æ”¶é›†å™¨â€”â€”çº¯æ´çš„å¾®ç¬‘ ï¼ˆå››ï¼‰å…¶ä»– JVM ç›¸å…³é¢è¯•é¢˜æ•´ç†1ï¼‰64 ä½ JVM ä¸­ï¼Œint çš„é•¿åº¦æ˜¯å¤šæ•°ï¼Ÿç­”ï¼šJava ä¸­ï¼Œint ç±»å‹å˜é‡çš„é•¿åº¦æ˜¯ä¸€ä¸ªå›ºå®šå€¼ï¼Œä¸å¹³å°æ— å…³ï¼Œéƒ½æ˜¯ 32 ä½æˆ–è€… 4 ä¸ªå­—èŠ‚ã€‚æ„æ€å°±æ˜¯è¯´ï¼Œåœ¨ 32 ä½ å’Œ 64 ä½ çš„Java è™šæ‹Ÿæœºä¸­ï¼Œint ç±»å‹çš„é•¿åº¦æ˜¯ç›¸åŒçš„ã€‚ 2ï¼‰æ€æ ·é€šè¿‡ Java ç¨‹åºæ¥åˆ¤æ–­ JVM æ˜¯ 32 ä½ è¿˜æ˜¯ 64 ä½ï¼Ÿç­”ï¼šSunæœ‰ä¸€ä¸ªJava Systemå±æ€§æ¥ç¡®å®šJVMçš„ä½æ•°ï¼š32æˆ–64ï¼š sun.arch.data.model=32 // 32 bit JVM sun.arch.data.model=64 // 64 bit JVM æˆ‘å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­å¥æ¥ç¡®å®š JVM æ˜¯ 32 ä½è¿˜æ˜¯ 64 ä½ï¼š System.getProperty(\"sun.arch.data.model\") 3ï¼‰32 ä½ JVM å’Œ 64 ä½ JVM çš„æœ€å¤§å †å†…å­˜åˆ†åˆ«æ˜¯å¤šæ•°ï¼Ÿç­”ï¼šç†è®ºä¸Šè¯´ä¸Š 32 ä½çš„ JVM å †å†…å­˜å¯ä»¥åˆ°è¾¾ 2^32ï¼Œå³ 4GBï¼Œä½†å®é™…ä¸Šä¼šæ¯”è¿™ä¸ªå°å¾ˆå¤šã€‚ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´ä¸åŒï¼Œå¦‚ Windows ç³»ç»Ÿå¤§çº¦ 1.5 GBï¼ŒSolaris å¤§çº¦ 3GBã€‚64 ä½ JVMå…è®¸æŒ‡å®šæœ€å¤§çš„å †å†…å­˜ï¼Œç†è®ºä¸Šå¯ä»¥è¾¾åˆ° 2^64ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ•°å­—ï¼Œå®é™…ä¸Šä½ å¯ä»¥æŒ‡å®šå †å†…å­˜å¤§å°åˆ° 100GBã€‚ç”šè‡³æœ‰çš„ JVMï¼Œå¦‚ Azulï¼Œå †å†…å­˜åˆ° 1000G éƒ½æ˜¯å¯èƒ½çš„ã€‚ 4ï¼‰ä½ èƒ½ä¿è¯ GC æ‰§è¡Œå—ï¼Ÿç­”ï¼šä¸èƒ½ï¼Œè™½ç„¶ä½ å¯ä»¥è°ƒç”¨ System.gc() æˆ–è€… Runtime.gc()ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•ä¿è¯ GC çš„æ‰§è¡Œã€‚ 5ï¼‰æ€ä¹ˆè·å– Java ç¨‹åºä½¿ç”¨çš„å†…å­˜ï¼Ÿå †ä½¿ç”¨çš„ç™¾åˆ†æ¯”ï¼Ÿç­”ï¼šå¯ä»¥é€šè¿‡ java.lang.Runtime ç±»ä¸­ä¸å†…å­˜ç›¸å…³æ–¹æ³•æ¥è·å–å‰©ä½™çš„å†…å­˜ï¼Œæ€»å†…å­˜åŠæœ€å¤§å †å†…å­˜ã€‚é€šè¿‡è¿™äº›æ–¹æ³•ä½ ä¹Ÿå¯ä»¥è·å–åˆ°å †ä½¿ç”¨çš„ç™¾åˆ†æ¯”åŠå †å†…å­˜çš„å‰©ä½™ç©ºé—´ã€‚Runtime.freeMemory() æ–¹æ³•è¿”å›å‰©ä½™ç©ºé—´çš„å­—èŠ‚æ•°ï¼ŒRuntime.totalMemory() æ–¹æ³•æ€»å†…å­˜çš„å­—èŠ‚æ•°ï¼ŒRuntime.maxMemory() è¿”å›æœ€å¤§å†…å­˜çš„å­—èŠ‚æ•°ã€‚ 6ï¼‰Java ä¸­å †å’Œæ ˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šJVM ä¸­å †å’Œæ ˆå±äºä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œä½¿ç”¨ç›®çš„ä¹Ÿä¸åŒã€‚æ ˆå¸¸ç”¨äºä¿å­˜æ–¹æ³•å¸§å’Œå±€éƒ¨å˜é‡ï¼Œè€Œå¯¹è±¡æ€»æ˜¯åœ¨å †ä¸Šåˆ†é…ã€‚æ ˆé€šå¸¸éƒ½æ¯”å †å°ï¼Œä¹Ÿä¸ä¼šåœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œè€Œå †è¢«æ•´ä¸ª JVM çš„æ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚ å°ç»“ï¼šJVM æ˜¯è‡ªå·±ä¹‹å‰æ²¡æœ‰å»äº†è§£è¿‡å¾—çŸ¥è¯†ï¼Œæ‰€ä»¥è¿™æ¬¡å†™è¿™ç¯‡æ–‡ç« å†™äº†å¾ˆä¹…ï¼Œä¹Ÿå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼›åœ¨è€ƒè™‘è¦ä¸è¦å¼€å¾®ä¿¡å…¬ä¼—å·æ¥ç€â€¦ å‚è€ƒèµ„æ–™ï¼š ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ ã€Šæ·±å…¥åˆ†æ Java WebæŠ€æœ¯å†…å¹•ã€‹ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(äºŒ)â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-äºŒ-â€”â€”é«˜å¹¶å‘ç¼–ç¨‹ç¯‡","date":"2018-05-09T22:58:00.000Z","updated":"2020-08-03T08:56:04.178Z","comments":true,"path":"2018/05/10/java-mian-shi-zhi-shi-dian-jie-xi-er-gao-bing-fa-bian-cheng-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/10/java-mian-shi-zhi-shi-dian-jie-xi-er-gao-bing-fa-bian-cheng-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ å‰åºæ–‡ç« é“¾æ¥ï¼š Java é¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡ ï¼ˆä¸€ï¼‰é«˜å¹¶å‘ç¼–ç¨‹åŸºç¡€çŸ¥è¯† è¿™é‡Œæ¶‰åŠåˆ°ä¸€äº›åŸºç¡€çš„æ¦‚å¿µï¼Œæˆ‘é‡æ–°æ§èµ·äº†ä¸€ä¸‹ã€Šå®æˆ˜ Java é«˜å¹¶å‘ç¨‹åºè®¾è®¡ã€‹è¿™ä¸€æœ¬ä¹¦ï¼Œæ„Ÿè§‰åˆ°å¿ƒæ½®æ¾æ¹ƒï¼Œè¿™æˆ–è®¸å°±æ˜¯ç¬”è€…å™è¿°åŠŸåº•æ‰å®çš„é­…åŠ›å§ï¼Œå–œæ¬¢ã€‚å¯¹äºå¹¶å‘çš„åŸºç¡€å¯ä»¥å‚ç…§ä¸€ä¸‹æˆ‘ä¹‹å‰å†™è¿‡çš„ä¸€ç¯‡åšæ–‡ï¼šJavaå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰â€”â€”å¹¶å‘åŸºç¡€ 1ï¼‰å¤šçº¿ç¨‹å’Œå•çº¿ç¨‹çš„åŒºåˆ«å’Œè”ç³»ï¼Ÿç­”ï¼š åœ¨å•æ ¸ CPU ä¸­ï¼Œå°† CPU åˆ†ä¸ºå¾ˆå°çš„æ—¶é—´ç‰‡ï¼Œåœ¨æ¯ä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œï¼Œæ˜¯ä¸€ç§å¾®è§‚ä¸Šè½®æµå ç”¨ CPU çš„æœºåˆ¶ã€‚ å¤šçº¿ç¨‹ä¼šå­˜åœ¨çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¼šå¯¼è‡´ç¨‹åºæ‰§è¡Œé€Ÿåº¦å˜æ…¢ï¼Œå³é‡‡ç”¨ä¸€ä¸ªæ‹¥æœ‰ä¸¤ä¸ªçº¿ç¨‹çš„è¿›ç¨‹æ‰§è¡Œæ‰€éœ€è¦çš„æ—¶é—´æ¯”ä¸€ä¸ªçº¿ç¨‹çš„è¿›ç¨‹æ‰§è¡Œä¸¤æ¬¡æ‰€éœ€è¦çš„æ—¶é—´è¦å¤šä¸€äº›ã€‚ ç»“è®ºï¼šå³é‡‡ç”¨å¤šçº¿ç¨‹ä¸ä¼šæé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ï¼Œåè€Œä¼šé™ä½é€Ÿåº¦ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå¯ä»¥å‡å°‘ç”¨æˆ·çš„å“åº”æ—¶é—´ã€‚ é¢è¯•å®˜ï¼šé‚£ä½¿ç”¨å¤šçº¿ç¨‹æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ è§£æï¼šå°½ç®¡é¢ä¸´å¾ˆå¤šæŒ‘æˆ˜ï¼Œå¤šçº¿ç¨‹æœ‰ä¸€äº›ä¼˜ç‚¹ä»ç„¶ä½¿å¾—å®ƒä¸€ç›´è¢«ä½¿ç”¨ï¼Œè€Œè¿™äº›ä¼˜ç‚¹æˆ‘ä»¬åº”è¯¥äº†è§£ã€‚ ç­”ï¼š ï¼ˆ1ï¼‰èµ„æºåˆ©ç”¨ç‡æ›´å¥½ æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–å’Œå¤„ç†æ–‡ä»¶çš„æƒ…æ™¯ã€‚æ¯”æ–¹è¯´ï¼Œä»ç£ç›˜è¯»å–ä¸€ä¸ªæ–‡ä»¶éœ€è¦5ç§’ï¼Œå¤„ç†ä¸€ä¸ªæ–‡ä»¶éœ€è¦2ç§’ã€‚å¤„ç†ä¸¤ä¸ªæ–‡ä»¶åˆ™éœ€è¦ï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 2ç§’å¤„ç†æ–‡ä»¶A 3| 5ç§’è¯»å–æ–‡ä»¶B 4| 2ç§’å¤„ç†æ–‡ä»¶B 5| --------------------- 6| æ€»å…±éœ€è¦14ç§’ä»ç£ç›˜ä¸­è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„CPUæ—¶é—´ç”¨äºç­‰å¾…ç£ç›˜å»è¯»å–æ•°æ®ã€‚åœ¨è¿™æ®µæ—¶é—´é‡Œï¼ŒCPUéå¸¸çš„ç©ºé—²ã€‚å®ƒå¯ä»¥åšä¸€äº›åˆ«çš„äº‹æƒ…ã€‚é€šè¿‡æ”¹å˜æ“ä½œçš„é¡ºåºï¼Œå°±èƒ½å¤Ÿæ›´å¥½çš„ä½¿ç”¨CPUèµ„æºã€‚çœ‹ä¸‹é¢çš„é¡ºåºï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 5ç§’è¯»å–æ–‡ä»¶B + 2ç§’å¤„ç†æ–‡ä»¶A 3| 2ç§’å¤„ç†æ–‡ä»¶B 4| --------------------- 5| æ€»å…±éœ€è¦12ç§’CPUç­‰å¾…ç¬¬ä¸€ä¸ªæ–‡ä»¶è¢«è¯»å–å®Œã€‚ç„¶åå¼€å§‹è¯»å–ç¬¬äºŒä¸ªæ–‡ä»¶ã€‚å½“ç¬¬äºŒæ–‡ä»¶åœ¨è¢«è¯»å–çš„æ—¶å€™ï¼ŒCPUä¼šå»å¤„ç†ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚è®°ä½ï¼Œåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼ŒCPUå¤§éƒ¨åˆ†æ—¶é—´æ˜¯ç©ºé—²çš„ã€‚ æ€»çš„è¯´æ¥ï¼ŒCPUèƒ½å¤Ÿåœ¨ç­‰å¾…IOçš„æ—¶å€™åšä¸€äº›å…¶ä»–çš„äº‹æƒ…ã€‚è¿™ä¸ªä¸ä¸€å®šå°±æ˜¯ç£ç›˜IOã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œçš„IOï¼Œæˆ–è€…ç”¨æˆ·è¾“å…¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œå’Œç£ç›˜çš„IOæ¯”CPUå’Œå†…å­˜çš„IOæ…¢çš„å¤šã€‚ ï¼ˆ2ï¼‰ç¨‹åºè®¾è®¡åœ¨æŸäº›æƒ…å†µä¸‹æ›´ç®€å• åœ¨å•çº¿ç¨‹åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœä½ æƒ³ç¼–å†™ç¨‹åºæ‰‹åŠ¨å¤„ç†ä¸Šé¢æ‰€æåˆ°çš„è¯»å–å’Œå¤„ç†çš„é¡ºåºï¼Œä½ å¿…é¡»è®°å½•æ¯ä¸ªæ–‡ä»¶è¯»å–å’Œå¤„ç†çš„çŠ¶æ€ã€‚ç›¸åï¼Œä½ å¯ä»¥å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªæ–‡ä»¶çš„è¯»å–å’Œæ“ä½œã€‚çº¿ç¨‹ä¼šåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„è¿‡ç¨‹ä¸­è¢«é˜»å¡ã€‚åœ¨ç­‰å¾…çš„æ—¶å€™ï¼Œå…¶ä»–çš„çº¿ç¨‹èƒ½å¤Ÿä½¿ç”¨CPUå»å¤„ç†å·²ç»è¯»å–å®Œçš„æ–‡ä»¶ã€‚å…¶ç»“æœå°±æ˜¯ï¼Œç£ç›˜æ€»æ˜¯åœ¨ç¹å¿™åœ°è¯»å–ä¸åŒçš„æ–‡ä»¶åˆ°å†…å­˜ä¸­ã€‚è¿™ä¼šå¸¦æ¥ç£ç›˜å’ŒCPUåˆ©ç”¨ç‡çš„æå‡ã€‚è€Œä¸”æ¯ä¸ªçº¿ç¨‹åªéœ€è¦è®°å½•ä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤è¿™ç§æ–¹å¼ä¹Ÿå¾ˆå®¹æ˜“ç¼–ç¨‹å®ç°ã€‚ ï¼ˆ3ï¼‰ç¨‹åºå“åº”æ›´å¿« æœ‰æ—¶æˆ‘ä»¬ä¼šç¼–å†™ä¸€äº›è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼ˆè¿™é‡Œçš„å¤æ‚ä¸æ˜¯è¯´å¤æ‚çš„ç®—æ³•ï¼Œè€Œæ˜¯å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œä¾‹å¦‚ï¼Œä¸€ç¬”è®¢å•çš„åˆ›å»ºï¼Œå®ƒåŒ…æ‹¬æ’å…¥è®¢å•æ•°æ®ã€ç”Ÿæˆè®¢å•èµ¶å¿«æ‰¾ã€å‘é€é‚®ä»¶é€šçŸ¥å–å®¶å’Œè®°å½•è´§å“é”€å”®æ•°é‡ç­‰ã€‚ç”¨æˆ·ä»å•å‡»â€œè®¢è´­â€æŒ‰é’®å¼€å§‹ï¼Œå°±è¦ç­‰å¾…è¿™äº›æ“ä½œå…¨éƒ¨å®Œæˆæ‰èƒ½çœ‹åˆ°è®¢è´­æˆåŠŸçš„ç»“æœã€‚ä½†æ˜¯è¿™ä¹ˆå¤šä¸šåŠ¡æ“ä½œï¼Œå¦‚ä½•èƒ½å¤Ÿè®©å…¶æ›´å¿«åœ°å®Œæˆå‘¢ï¼Ÿ åœ¨ä¸Šé¢çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå³å°†æ•°æ®ä¸€è‡´æ€§ä¸å¼ºçš„æ“ä½œæ´¾å‘ç»™å…¶ä»–çº¿ç¨‹å¤„ç†ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå¦‚ç”Ÿæˆè®¢å•å¿«ç…§ã€å‘é€é‚®ä»¶ç­‰ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å“åº”ç”¨æˆ·è¯·æ±‚çš„çº¿ç¨‹èƒ½å¤Ÿå°½å¯èƒ½å¿«åœ°å¤„ç†å®Œæˆï¼Œç¼©çŸ­äº†å“åº”æ—¶é—´ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚ å¤šçº¿ç¨‹è¿˜æœ‰ä¸€äº›ä¼˜åŠ¿ä¹Ÿæ˜¾è€Œæ˜“è§ï¼šâ‘  è¿›ç¨‹ä¹‹å‰ä¸èƒ½å…±äº«å†…å­˜ï¼Œè€Œçº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜(å †å†…å­˜)åˆ™å¾ˆç®€å•ã€‚â‘¡ ç³»ç»Ÿåˆ›å»ºè¿›ç¨‹æ—¶éœ€è¦ä¸ºè¯¥è¿›ç¨‹é‡æ–°åˆ†é…ç³»ç»Ÿèµ„æº,åˆ›å»ºçº¿ç¨‹åˆ™ä»£ä»·å°å¾ˆå¤š,å› æ­¤å®ç°å¤šä»»åŠ¡å¹¶å‘æ—¶,å¤šçº¿ç¨‹æ•ˆç‡æ›´é«˜.â‘¢ Javaè¯­è¨€æœ¬èº«å†…ç½®å¤šçº¿ç¨‹åŠŸèƒ½çš„æ”¯æŒ,è€Œä¸æ˜¯å•çº¯ç¬¬ä½œä¸ºåº•å±‚ç³»ç»Ÿçš„è°ƒåº¦æ–¹å¼,ä»è€Œç®€åŒ–äº†å¤šçº¿ç¨‹ç¼–ç¨‹. 2ï¼‰å¤šçº¿ç¨‹ä¸€å®šå¿«å—ï¼Ÿç­”ï¼šä¸ä¸€å®šã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å°è¯•ä½¿ç”¨å¹¶è¡Œå’Œä¸²è¡Œæ¥åˆ†åˆ«æ‰§è¡Œç´¯åŠ çš„æ“ä½œè§‚å¯Ÿæ˜¯å¦å¹¶è¡Œæ‰§è¡Œä¸€å®šæ¯”ä¸²è¡Œæ‰§è¡Œæ›´å¿«ï¼š ä»¥ä¸‹æ˜¯æˆ‘æµ‹è¯•çš„ç»“æœï¼Œå¯ä»¥çœ‹å‡ºï¼Œå½“ä¸è¶…è¿‡1ç™¾ä¸‡çš„æ—¶å€™ï¼Œå¹¶è¡Œæ˜¯æ˜æ˜¾æ¯”ä¸²è¡Œè¦æ…¢çš„ï¼Œä¸ºä»€ä¹ˆå¹¶å‘æ‰§è¡Œçš„é€Ÿåº¦ä¼šæ¯”ä¸²è¡Œæ…¢å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºçº¿ç¨‹æœ‰åˆ›å»ºå’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚ 3ï¼‰ä»€ä¹ˆæ˜¯åŒæ­¥ï¼Ÿä»€ä¹ˆåˆæ˜¯å¼‚æ­¥ï¼Ÿè§£æï¼šè¿™æ˜¯å¯¹å¤šçº¿ç¨‹åŸºç¡€çŸ¥è¯†çš„è€ƒå¯Ÿ ç­”ï¼šåŒæ­¥å’Œå¼‚æ­¥é€šå¸¸ç”¨æ¥å½¢å®¹ä¸€æ¬¡æ–¹æ³•è°ƒç”¨ã€‚ åŒæ­¥æ–¹æ³•è°ƒç”¨ä¸€æ—¦å¼€å§‹ï¼Œè°ƒç”¨è€…å¿…é¡»ç­‰åˆ°æ–¹æ³•è¿”å›åï¼Œæ‰èƒ½ç»§ç»­åç»­çš„è¡Œä¸ºã€‚è¿™å°±å¥½åƒæ˜¯æˆ‘ä»¬å»å•†åŸä¹°ä¸€å°ç©ºè°ƒï¼Œä½ çœ‹ä¸­äº†ä¸€å°ç©ºè°ƒï¼Œäºæ˜¯å°±è·Ÿå”®è´§å‘˜ä¸‹äº†å•ï¼Œç„¶åå”®è´§å‘˜å°±å»ä»“åº“å¸®ä½ è°ƒé…ç‰©å“ï¼Œè¿™å¤©ä½ çƒ­çš„å®åœ¨ä¸è¡Œï¼Œå°±å‚¬ç€å•†å®¶èµ¶ç´§å‘è´§ï¼Œäºæ˜¯ä½ å°±åœ¨å•†åº—é‡Œç­‰ç€ï¼ŒçŸ¥é“å•†å®¶æŠŠä½ å’Œç©ºè°ƒéƒ½é€å›å®¶ï¼Œä¸€æ¬¡æ„‰å¿«çš„è´­ç‰©æ‰ç»“æŸï¼Œè¿™å°±æ˜¯åŒæ­¥è°ƒç”¨ã€‚ è€Œå¼‚æ­¥æ–¹æ³•æ›´åƒæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’ï¼Œä¸€æ—¦å¼€å§‹ï¼Œæ–¹æ³•è°ƒç”¨å°±ä¼šç«‹å³è¿”å›ï¼Œè°ƒç”¨è€…å°±å¯ä»¥ç»§ç»­åç»­çš„æ“ä½œã€‚å›åˆ°åˆšæ‰ä¹°ç©ºè°ƒçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ååœ¨é‡Œæ‰“å¼€ç”µè„‘ï¼Œåœ¨ç½‘ä¸Šè®¢è´­ä¸€å°ç©ºè°ƒã€‚å½“ä½ å®Œæˆç½‘ä¸Šæ”¯ä»˜çš„æ—¶å€™ï¼Œå¯¹ä½ æ¥è¯´è´­ç‰©è¿‡ç¨‹å·²ç»ç»“æŸäº†ã€‚è™½ç„¶ç©ºè°ƒè¿˜æ²¡æœ‰é€åˆ°å®¶ï¼Œä½†æ˜¯ä½ çš„ä»»åŠ¡éƒ½å·²ç»å®Œæˆäº†ã€‚å•†å®¶æ¥åˆ°ä½ çš„è®¢å•åï¼Œå°±ä¼šåŠ ç´§å®‰æ’é€è´§ï¼Œå½“ç„¶è¿™ä¸€åˆ‡å·²ç»è·Ÿä½ æ— å…³äº†ï¼Œä½ å·²ç»æ”¯ä»˜å®Œæˆï¼Œæƒ³ä»€ä¹ˆå°±èƒ½å»å¹²ä»€ä¹ˆäº†ï¼Œå‡ºå»æºœè¾¾å‡ åœˆéƒ½ä¸æˆé—®é¢˜ã€‚ç­‰é€è´§ä¸Šé—¨çš„æ—¶å€™ï¼Œæ¥åˆ°å•†å®¶ç”µè¯ï¼Œå›å®¶ä¸€è¶Ÿç­¾æ”¶å³å¯ã€‚è¿™å°±æ˜¯å¼‚æ­¥è°ƒç”¨ã€‚ é¢è¯•å®˜ï¼šé‚£å¹¶å‘ï¼ˆConcurrencyï¼‰å’Œå¹¶è¡Œï¼ˆParallelismï¼‰çš„åŒºåˆ«å‘¢ï¼Ÿ è§£æï¼šå¹¶è¡Œæ€§å’Œå¹¶å‘æ€§æ˜¯æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«çš„ä¸¤ä¸ªæ¦‚å¿µã€‚ ç­”ï¼šå¹¶è¡Œæ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿã€‚è€Œå¹¶å‘æ€§æ˜¯æŒ‡è¿ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚ åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œå¹¶å‘æ€§æ˜¯æŒ‡åœ¨ä¸€æ®µæ—¶é—´å†…å®è§‚ä¸Šæœ‰å¤šä¸ªç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†åœ¨å•å¤„ç†æœºç¯å¢ƒä¸‹ï¼ˆä¸€ä¸ªå¤„ç†å™¨ï¼‰ï¼Œæ¯ä¸€æ—¶åˆ»å´ä»…èƒ½æœ‰ä¸€é“ç¨‹åºæ‰§è¡Œï¼Œæ•…å¾®è§‚ä¸Šè¿™äº›ç¨‹åºåªèƒ½æ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨1ç§’é’Ÿæ—¶é—´å†…ï¼Œ0-15msç¨‹åºAè¿è¡Œï¼›15-30msç¨‹åºBè¿è¡Œï¼›30-45msç¨‹åºCè¿è¡Œï¼›45-60msç¨‹åºDè¿è¡Œï¼Œå› æ­¤å¯ä»¥è¯´ï¼Œåœ¨1ç§’é’Ÿæ—¶é—´é—´éš”å†…ï¼Œå®è§‚ä¸Šæœ‰å››é“ç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†å¾®è§‚ä¸Šï¼Œç¨‹åºAã€Bã€Cã€Dæ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œçš„ã€‚ å¦‚æœåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­æœ‰å¤šä¸ªå¤„ç†æœºï¼Œè¿™äº›å¯ä»¥å¹¶å‘æ‰§è¡Œçš„ç¨‹åºå°±å¯ä»¥è¢«åˆ†é…åˆ°å¤šä¸ªå¤„ç†æœºä¸Šï¼Œå®ç°å¹¶å‘æ‰§è¡Œï¼Œå³åˆ©ç”¨æ¯ä¸ªå¤„ç†æœºå¤„ç†ä¸€ä¸ªå¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºã€‚è¿™æ ·ï¼Œå¤šä¸ªç¨‹åºä¾¿å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä»¥æ­¤å°±èƒ½æé«˜ç³»ç»Ÿä¸­çš„èµ„æºåˆ©ç”¨ç‡ï¼Œå¢åŠ ç³»ç»Ÿçš„ååé‡ã€‚ 4ï¼‰çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼šï¼ˆå¿…è€ƒï¼‰ç­”ï¼š è¿›ç¨‹æ˜¯ä¸€ä¸ª â€œæ‰§è¡Œä¸­çš„ç¨‹åºâ€ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼› çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«åœ°å€ç©ºé—´å’Œå…¶å®ƒèµ„æºï¼ˆæ‰€ä»¥é€šä¿¡å’ŒåŒæ­¥ç­‰æ“ä½œçº¿ç¨‹æ¯”è¿›ç¨‹æ›´åŠ å®¹æ˜“ï¼‰ï¼› çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢æ¯”è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢è¦å¿«å¾ˆå¤šã€‚ ï¼ˆ1ï¼‰è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠåˆ°å½“å‰è¿›ç¨‹çš„ CPU ç¯å¢ƒçš„ä¿å­˜å’Œæ–°è¢«è°ƒåº¦è¿è¡Œè¿›ç¨‹çš„ CPU ç¯å¢ƒçš„è®¾ç½®ã€‚ ï¼ˆ2ï¼‰çº¿ç¨‹åˆ‡æ¢ä»…éœ€è¦ä¿å­˜å’Œè®¾ç½®å°‘é‡çš„å¯„å­˜å™¨å†…å®¹ï¼Œä¸æ¶‰åŠå­˜å‚¨ç®¡ç†æ–¹é¢çš„æ“ä½œã€‚ é¢è¯•å®˜ï¼šè¿›ç¨‹é—´å¦‚ä½•é€šè®¯ï¼Ÿçº¿ç¨‹é—´å¦‚ä½•é€šè®¯ï¼Ÿ ç­”ï¼šè¿›ç¨‹é—´é€šè®¯ä¾é  IPC èµ„æºï¼Œä¾‹å¦‚ç®¡é“ï¼ˆpipesï¼‰ã€å¥—æ¥å­—ï¼ˆsocketsï¼‰ç­‰ï¼› çº¿ç¨‹é—´é€šè®¯ä¾é  JVM æä¾›çš„ APIï¼Œä¾‹å¦‚ wait()ã€notify()ã€notifyAll() ç­‰æ–¹æ³•ï¼Œçº¿ç¨‹é—´è¿˜å¯ä»¥é€šè¿‡å…±äº«çš„ä¸»å†…å­˜æ¥è¿›è¡Œå€¼çš„ä¼ é€’ã€‚ å…³äºçº¿ç¨‹å’Œè¿›ç¨‹æœ‰ä¸€ç¯‡å†™å¾—éå¸¸ä¸é”™çš„æ–‡ç« ï¼Œä¸è¿‡æ˜¯è‹±æ–‡çš„ï¼Œæˆ‘è¿›è¡Œäº†ç¿»è¯‘ï¼Œç›¸ä¿¡é˜…è¯»ä¹‹åä¼šå¯¹è¿›ç¨‹å’Œçº¿ç¨‹æœ‰ä¸ä¸€æ ·çš„ç†è§£ï¼šçº¿ç¨‹å’Œè¿›ç¨‹åŸºç¡€â€”â€”ç¿»è¯‘æ–‡ 5ï¼‰ä»€ä¹ˆæ˜¯é˜»å¡ï¼ˆBlockingï¼‰å’Œéé˜»å¡ï¼ˆNon-Blockingï¼‰ï¼Ÿç­”ï¼šé˜»å¡å’Œéé˜»å¡é€šå¸¸ç”¨æ¥å½¢å®¹å¤šçº¿ç¨‹é—´çš„ç›¸äº’å½±å“ã€‚æ¯”å¦‚ä¸€ä¸ªçº¿ç¨‹å ç”¨äº†ä¸´ç•ŒåŒºèµ„æºï¼Œé‚£ä¹ˆå…¶ä»–æ‰€æœ‰éœ€è¦è¿™ä¸ªè€Œèµ„æºçš„çº¿ç¨‹å°±å¿…é¡»åœ¨è¿™ä¸ªä¸´ç•ŒåŒºä¸­è¿›è¡Œç­‰å¾…ã€‚ç­‰å¾…ä¼šå¯¼è‡´çº¿ç¨‹æŒ‚èµ·ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯é˜»å¡ã€‚æ­¤æ—¶ï¼Œå¦‚æœå ç”¨èµ„æºçš„çº¿ç¨‹ä¸€ç›´ä¸æ„¿æ„é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆå…¶ä»–æ‰€æœ‰é˜»å¡åœ¨è¿™ä¸ªä¸´ç•ŒåŒºä¸Šçš„çº¿ç¨‹éƒ½ä¸èƒ½å·¥ä½œã€‚ éé˜»å¡çš„æ„æ€ä¸ä¹‹ç›¸åï¼Œå®ƒå¼ºè°ƒæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å¦¨ç¢å…¶ä»–çº¿ç¨‹æ‰§è¡Œã€‚æ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šå°è¯•ä¸æ–­å‰å‘æ‰§è¡Œã€‚ é¢è¯•å®˜ï¼šä¸´ç•ŒåŒºæ˜¯ä»€ä¹ˆï¼Ÿ ç­”ï¼šä¸´ç•ŒåŒºç”¨æ¥è¡¨ç¤ºä¸€ç§å…¬å…±èµ„æºæˆ–è€…è¯´æ˜¯å…±äº«èµ„æºï¼Œå¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨ã€‚ä½†æ˜¯æ¯ä¸€æ¬¡ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨å®ƒï¼Œä¸€æ—¦ä¸´ç•ŒåŒºèµ„æºè¢«å ç”¨ï¼Œå…¶ä»–çº¿ç¨‹è¦æƒ³ä½¿ç”¨è¿™ä¸ªèµ„æºï¼Œå°±å¿…é¡»ç­‰å¾…ã€‚ æ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªåŠå…¬å®¤é‡Œæœ‰ä¸€å°æ‰“å°æœºï¼Œæ‰“å°æœºä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå°ç‹å’Œå°æ˜åŒæ—¶éœ€è¦æ‰“å°æ–‡ä»¶ï¼Œå¾ˆæ˜¾ç„¶ï¼Œå¦‚æœå°ç‹å…ˆä¸‹å‘äº†æ‰“å°ä»»åŠ¡ï¼Œæ‰“å°æœºå°±å¼€å§‹æ‰“å°å°ç‹çš„æ–‡ä»¶äº†ï¼Œå°æ˜çš„ä»»åŠ¡å°±åªèƒ½ç­‰å¾…å°ç‹æ‰“å°ç»“æŸåæ‰èƒ½æ‰“å°ï¼Œè¿™é‡Œçš„æ‰“å°æœºå°±æ˜¯ä¸€ä¸ªä¸´ç•ŒåŒºçš„ä¾‹å­ã€‚ åœ¨å¹¶è¡Œç¨‹åºä¸­ï¼Œä¸´ç•ŒåŒºèµ„æºæ˜¯ä¿æŠ¤çš„å¯¹è±¡ï¼Œå¦‚æœæ„å¤–å‡ºç°æ‰“å°æœºåŒæ—¶æ‰§è¡Œä¸¤ä¸ªæ‰“å°ä»»åŠ¡ï¼Œé‚£ä¹ˆæœ€å¯èƒ½çš„ç»“æœå°±æ˜¯æ‰“å°å‡ºæ¥çš„æ–‡ä»¶å°±ä¼šæ˜¯æŸåçš„æ–‡ä»¶ï¼Œå®ƒæ—¢ä¸æ˜¯å°ç‹æƒ³è¦çš„ï¼Œä¹Ÿä¸æ˜¯å°æ˜æƒ³è¦çš„ã€‚ 6ï¼‰ä»€ä¹ˆæ˜¯æ­»é”ï¼ˆDeadlockï¼‰ã€é¥¥é¥¿ï¼ˆStarvationï¼‰å’Œæ´»é”ï¼ˆLivelockï¼‰ï¼Ÿç­”ï¼šæ­»é”ã€é¥¥é¥¿å’Œæ´»é”éƒ½å±äºå¤šçº¿ç¨‹çš„æ´»è·ƒæ€§é—®é¢˜ï¼Œå¦‚æœå‘ç°ä¸Šè¿°å‡ ç§æƒ…å†µï¼Œé‚£ä¹ˆç›¸å…³çº¿ç¨‹å¯èƒ½å°±ä¸å†æ´»è·ƒï¼Œä¹Ÿå°±è¯´å®ƒå¯èƒ½å¾ˆéš¾å†ç»§ç»­å¾€ä¸‹æ‰§è¡Œäº†ã€‚ æ­»é”åº”è¯¥æ˜¯æœ€ç³Ÿç³•çš„ä¸€ç§æƒ…å†µäº†ï¼Œå®ƒè¡¨ç¤ºä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç«äº‰èµ„æºæˆ–è€…ç”±äºå½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚æ­¤æ—¶ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ï¼Œè¿™äº›æ°¸è¿œåœ¨äº’ç›¸ç­‰å¾…çš„è¿›ç¨‹ç§°ä¸ºæ­»é”è¿›ç¨‹ã€‚ é¥¥é¥¿æ˜¯æŒ‡æŸä¸€ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹å› ä¸ºç§ç§åŸå› æ— æ³•è·å¾—æ‰€éœ€è¦çš„èµ„æºï¼Œå¯¼è‡´ä¸€ç›´æ— æ³•æ‰§è¡Œã€‚æ¯”å¦‚ï¼š1ï¼‰å®ƒçš„çº¿ç¨‹ä¼˜å…ˆçº§å¯èƒ½å¤ªä½ï¼Œè€Œé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¸æ–­æŠ¢å å®ƒéœ€è¦çš„èµ„æºï¼Œå¯¼è‡´ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹æ— æ³•å·¥ä½œã€‚åœ¨è‡ªç„¶ç•Œä¸­ï¼Œæ¯é¸¡å–‚é£Ÿé›é¸Ÿæ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°è¿™ç§æƒ…å†µï¼Œç”±äºé›é¸Ÿå¾ˆå¤šï¼Œé£Ÿç‰©æœ‰é™ï¼Œé›é¸Ÿä¹‹é—´çš„é£Ÿç‰©ç«äº‰å¯èƒ½éå¸¸å‰å®³ï¼Œå°é›é¸Ÿå› ä¸ºç»å¸¸æŠ¢ä¸åˆ°é£Ÿç‰©ï¼Œæœ‰å¯èƒ½ä¼šè¢«é¥¿æ­»ã€‚çº¿ç¨‹çš„é¥¥é¥¿ä¹Ÿéå¸¸ç±»ä¼¼è¿™ç§æƒ…å†µã€‚2ï¼‰å¦å¤–ä¸€ç§å¯èƒ½æ˜¯ï¼ŒæŸä¸€ä¸ªçº¿ç¨‹ä¸€ç›´å ç€å…³é”®èµ„æºä¸æ”¾ï¼Œå¯¼è‡´å…¶ä»–éœ€è¦è¿™ä¸ªèµ„æºçš„çº¿ç¨‹æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¿™ç§æƒ…å†µä¹Ÿæ˜¯é¥¥é¥¿çš„ä¸€ç§ã€‚ä¸æ­»é”ç›¸æ¯”ï¼Œé¥¥é¥¿è¿˜æ˜¯æœ‰å¯èƒ½åœ¨æœªæ¥ä¸€æ®µæ—¶é—´å†…è§£å†³çš„ï¼ˆæ¯”å¦‚é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å·²ç»å®Œæˆä»»åŠ¡ï¼Œä¸å†ç–¯ç‹‚çš„æ‰§è¡Œï¼‰ æ´»é”æ˜¯ä¸€ç§éå¸¸æœ‰è¶£çš„æƒ…å†µã€‚ä¸çŸ¥é“å¤§å®¶æ˜¯ä¸æ˜¯æœ‰é‡åˆ°è¿‡è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå½“ä½ è¦åç”µæ¢¯ä¸‹æ¥¼ï¼Œç”µæ¢¯åˆ°äº†ï¼Œé—¨å¼€äº†ï¼Œè¿™æ—¶ä½ æ­£å‡†å¤‡å‡ºå»ï¼Œä½†ä¸å·§çš„æ˜¯ï¼Œé—¨å¤–ä¸€ä¸ªäººæŒ¡ç€ä½ çš„å»è·¯ï¼Œä»–æƒ³è¿›æ¥ã€‚äºæ˜¯ä½ å¾ˆç»…å£«çš„é å·¦èµ°ï¼Œé¿è®©å¯¹æ–¹ï¼Œä½†åŒæ—¶å¯¹æ–¹ä¹Ÿå¾ˆç»…å£«ï¼Œä½†ä»–é å³èµ°å¸Œæœ›é¿è®©ä½ ã€‚ç»“æœï¼Œä½ ä»¬åˆæ’ä¸Šäº†ã€‚äºæ˜¯ä¹ï¼Œä½ ä»¬éƒ½æ„è¯†åˆ°äº†é—®é¢˜ï¼Œå¸Œæœ›å°½å¿«é¿è®©å¯¹æ–¹ï¼Œä½ ç«‹å³å‘å³èµ°ï¼Œä»–ä¹Ÿç«‹å³å‘å·¦èµ°ï¼Œç»“æœåˆæ’ä¸Šäº†ï¼ä¸è¿‡ä»‹äºäººç±»çš„åªèƒ½ï¼Œæˆ‘ç›¸ä¿¡è¿™ä¸ªåŠ¨ä½œé‡å¤ 2ã€ 3 æ¬¡åï¼Œä½ åº”è¯¥å¯ä»¥é¡ºåˆ©è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™ï¼Œå¤§å®¶éƒ½ä¼šæœ¬èƒ½çš„å¯¹è§†ï¼Œè¿›è¡Œäº¤æµï¼Œä¿è¯è¿™ç§æƒ…å†µä¸å†å‘ç”Ÿã€‚ä½†å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿåœ¨ä¸¤ä¸ªçº¿ç¨‹é—´å¯èƒ½å°±ä¸ä¼šé‚£ä¹ˆå¹¸è¿äº†ï¼Œå¦‚æœçº¿ç¨‹çš„æ™ºåŠ›ä¸å¤Ÿï¼Œä¸”éƒ½ç§‰æ‰¿ç€ â€œè°¦è®©â€ çš„åŸåˆ™ï¼Œä¸»åŠ¨å°†èµ„æºé‡Šæ”¾ç»™ä»–äººä½¿ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°èµ„æºä¸æ–­åœ¨ä¸¤ä¸ªçº¿ç¨‹ä¸­è·³åŠ¨ï¼Œè€Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶æ‹¿åˆ°æ‰€æœ‰çš„èµ„æºè€Œæ­£å¸¸æ‰§è¡Œã€‚è¿™ç§æƒ…å†µå°±æ˜¯æ´»é”ã€‚ 7ï¼‰å¤šçº¿ç¨‹äº§ç”Ÿæ­»é”çš„ 4 ä¸ªå¿…è¦æ¡ä»¶ï¼Ÿç­”ï¼š äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼› è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªçº¿ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ï¼› ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²ç»è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºï¼› å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²çº¿ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¢è¯•å®˜ï¼šå¦‚ä½•é¿å…æ­»é”ï¼Ÿï¼ˆç»å¸¸æ¥ç€é—®è¿™ä¸ªé—®é¢˜å“¦~ï¼‰ ç­”ï¼šæŒ‡å®šè·å–é”çš„é¡ºåºï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š æ¯”å¦‚æŸä¸ªçº¿ç¨‹åªæœ‰è·å¾— A é”å’Œ B é”æ‰èƒ½å¯¹æŸèµ„æºè¿›è¡Œæ“ä½œï¼Œåœ¨å¤šçº¿ç¨‹æ¡ä»¶ä¸‹ï¼Œå¦‚ä½•é¿å…æ­»é”ï¼Ÿ è·å¾—é”çš„é¡ºåºæ˜¯ä¸€å®šçš„ï¼Œæ¯”å¦‚è§„å®šï¼Œåªæœ‰è·å¾— A é”çš„çº¿ç¨‹æ‰æœ‰èµ„æ ¼è·å– B é”ï¼ŒæŒ‰é¡ºåºè·å–é”å°±å¯ä»¥é¿å…æ­»é”ï¼ï¼ï¼ 8ï¼‰å¦‚ä½•æŒ‡å®šå¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºï¼Ÿè§£æï¼šé¢è¯•å®˜ä¼šç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä½•è®© 10 ä¸ªçº¿ç¨‹æŒ‰ç…§é¡ºåºæ‰“å° 0123456789ï¼Ÿï¼ˆå†™ä»£ç å®ç°ï¼‰ ç­”ï¼š è®¾å®šä¸€ä¸ª orderNumï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸä¹‹åï¼Œæ›´æ–° orderNumï¼ŒæŒ‡æ˜ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„çº¿ç¨‹ã€‚å¹¶ä¸”å”¤é†’æ‰€æœ‰çš„ç­‰å¾…çº¿ç¨‹ã€‚ åœ¨æ¯ä¸€ä¸ªçº¿ç¨‹çš„å¼€å§‹ï¼Œè¦ while åˆ¤æ–­ orderNum æ˜¯å¦ç­‰äºè‡ªå·±çš„è¦æ±‚å€¼ï¼ï¼ä¸æ˜¯ï¼Œåˆ™ waitï¼Œæ˜¯åˆ™æ‰§è¡Œæœ¬çº¿ç¨‹ã€‚ 9ï¼‰Java ä¸­çº¿ç¨‹æœ‰å‡ ç§çŠ¶æ€ï¼Ÿç­”ï¼šå…­ç§ï¼ˆæŸ¥çœ‹ Java æºç ä¹Ÿå¯ä»¥çœ‹åˆ°æ˜¯ 6 ç§ï¼‰ï¼Œå¹¶ä¸”æŸä¸ªæ—¶åˆ» Java çº¿ç¨‹åªèƒ½å¤„äºå…¶ä¸­çš„ä¸€ä¸ªçŠ¶æ€ã€‚ æ–°å»ºï¼ˆNEWï¼‰çŠ¶æ€ï¼šè¡¨ç¤ºæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œè€Œæ­¤æ—¶çº¿ç¨‹å¹¶æ²¡æœ‰å¼€å§‹æ‰§è¡Œã€‚ å¯è¿è¡Œï¼ˆRUNNABLEï¼‰çŠ¶æ€ï¼šçº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶å®ƒçº¿ç¨‹ï¼ˆæ¯”å¦‚ main çº¿ç¨‹ï¼‰è°ƒç”¨äº†è¯¥å¯¹è±¡çš„ start() æ–¹æ³•ï¼Œæ‰è¡¨ç¤ºçº¿ç¨‹å¼€å§‹æ‰§è¡Œã€‚å½“çº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œå¤„äº RUNNBALE çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹æ‰€éœ€çš„ä¸€åˆ‡èµ„æºéƒ½å·²ç»å‡†å¤‡å¥½äº†ã€‚è¯¥çŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œçº¿ç¨‹æ± ä¸­ï¼Œç­‰å¾…è¢«çº¿ç¨‹è°ƒåº¦é€‰ä¸­ï¼Œè·å– cpu çš„ä½¿ç”¨æƒã€‚ é˜»å¡ï¼ˆBLOCKEDï¼‰çŠ¶æ€ï¼šå¦‚æœçº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ç»ˆäºåˆ°äº† synchronized åŒæ­¥å—ï¼Œå°±ä¼šè¿›å…¥ BLOCKED é˜»å¡çŠ¶æ€ï¼Œè¿™æ—¶çº¿ç¨‹å°±ä¼šæš‚åœæ‰§è¡Œï¼Œç›´åˆ°è·å¾—è¯·æ±‚çš„é”ã€‚ ç­‰å¾…ï¼ˆWAITINGï¼‰çŠ¶æ€ï¼šå½“çº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹é€šçŸ¥è°ƒåº¦å™¨ä¸€ä¸ªæ¡ä»¶æ—¶ï¼Œå®ƒè‡ªå·±è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚åœ¨è°ƒç”¨Object.waitæ–¹æ³•æˆ–Thread.joinæ–¹æ³•ï¼Œæˆ–è€…æ˜¯ç­‰å¾…java.util.concurrentåº“ä¸­çš„Lockæˆ–Conditionæ—¶ï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼› è®¡æ—¶ç­‰å¾…ï¼ˆTIMED_WAITINGï¼‰çŠ¶æ€ï¼šObject.waitã€Thread.joinã€Lock.tryLockå’ŒCondition.await ç­‰æ–¹æ³•æœ‰è¶…æ—¶å‚æ•°ï¼Œè¿˜æœ‰ Thread.sleep æ–¹æ³•ã€LockSupport.parkNanos æ–¹æ³•å’Œ LockSupport.parkUntil æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¼šå¯¼è‡´çº¿ç¨‹è¿›å…¥è®¡æ—¶ç­‰å¾…çŠ¶æ€ï¼Œå¦‚æœè¶…æ—¶æˆ–è€…å‡ºç°é€šçŸ¥ï¼Œéƒ½ä¼šåˆ‡æ¢ä¼šå¯è¿è¡ŒçŠ¶æ€ï¼› ç»ˆæ­¢ï¼ˆTERMINATEDï¼‰çŠ¶æ€ï¼šå½“çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œåˆ™è¿›å…¥è¯¥çŠ¶æ€ï¼Œè¡¨ç¤ºç»“æŸã€‚ æ³¨æ„ï¼šä» NEW çŠ¶æ€å‡ºå‘åï¼Œçº¿ç¨‹ä¸èƒ½å†å›åˆ° NEW çŠ¶æ€ï¼ŒåŒç†ï¼Œå¤„äº TERMINATED çŠ¶æ€çš„çº¿ç¨‹ä¹Ÿä¸èƒ½å†å›åˆ° RUNNABLE çŠ¶æ€ã€‚ ï¼ˆäºŒï¼‰é«˜å¹¶å‘ç¼–ç¨‹-JUC åŒ… åœ¨ Java 5.0 æä¾›äº† java.util.concurrentï¼ˆç®€ç§° JUC ï¼‰åŒ…ï¼Œåœ¨æ­¤åŒ…ä¸­å¢åŠ äº†åœ¨å¹¶å‘ç¼–ç¨‹ä¸­å¾ˆå¸¸ç”¨çš„å®ç”¨å·¥å…·ç±»ï¼Œç”¨äºå®šä¹‰ç±»ä¼¼äºçº¿ç¨‹çš„è‡ªå®šä¹‰å­ç³»ç»Ÿï¼ŒåŒ…æ‹¬çº¿ç¨‹æ± ã€å¼‚æ­¥ IO å’Œè½»é‡çº§ä»»åŠ¡æ¡†æ¶ã€‚ 1ï¼‰sleep( ) å’Œ wait( n)ã€wait( ) çš„åŒºåˆ«ï¼šç­”ï¼š sleep æ–¹æ³•ï¼šæ˜¯ Thread ç±»çš„é™æ€æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹å°†ç¡çœ  n æ¯«ç§’ï¼Œçº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ã€‚å½“ç¡çœ æ—¶é—´åˆ°äº†ï¼Œä¼šè§£é™¤é˜»å¡ï¼Œè¿›è¡Œå¯è¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾… CPU çš„åˆ°æ¥ã€‚ç¡çœ ä¸é‡Šæ”¾é”ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼› wait æ–¹æ³•ï¼šæ˜¯ Object çš„æ–¹æ³•ï¼Œå¿…é¡»ä¸ synchronized å…³é”®å­—ä¸€èµ·ä½¿ç”¨ï¼Œçº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå½“ notify æˆ–è€… notifyall è¢«è°ƒç”¨åï¼Œä¼šè§£é™¤é˜»å¡ã€‚ä½†æ˜¯ï¼Œåªæœ‰é‡æ–°å ç”¨äº’æ–¥é”ä¹‹åæ‰ä¼šè¿›å…¥å¯è¿è¡ŒçŠ¶æ€ã€‚ç¡çœ æ—¶ï¼Œé‡Šæ”¾äº’æ–¥é”ã€‚ 2ï¼‰synchronized å…³é”®å­—ï¼šç­”ï¼šåº•å±‚å®ç°ï¼š è¿›å…¥æ—¶ï¼Œæ‰§è¡Œ monitorenterï¼Œå°†è®¡æ•°å™¨ +1ï¼Œé‡Šæ”¾é” monitorexit æ—¶ï¼Œè®¡æ•°å™¨-1ï¼› å½“ä¸€ä¸ªçº¿ç¨‹åˆ¤æ–­åˆ°è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œåˆ™å½“å‰é”ç©ºé—²ï¼Œå¯ä»¥å ç”¨ï¼›åä¹‹ï¼Œå½“å‰çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚ å«ä¹‰ï¼šï¼ˆmonitor æœºåˆ¶ï¼‰ Synchronized æ˜¯åœ¨åŠ é”ï¼ŒåŠ å¯¹è±¡é”ã€‚å¯¹è±¡é”æ˜¯ä¸€ç§é‡é‡é”ï¼ˆmonitorï¼‰ï¼Œsynchronized çš„é”æœºåˆ¶ä¼šæ ¹æ®çº¿ç¨‹ç«äº‰æƒ…å†µåœ¨è¿è¡Œæ—¶ä¼šæœ‰åå‘é”ï¼ˆå•ä¸€çº¿ç¨‹ï¼‰ã€è½»é‡é”ï¼ˆå¤šä¸ªçº¿ç¨‹è®¿é—® synchronized åŒºåŸŸï¼‰ã€å¯¹è±¡é”ï¼ˆé‡é‡é”ï¼Œå¤šä¸ªçº¿ç¨‹å­˜åœ¨ç«äº‰çš„æƒ…å†µï¼‰ã€è‡ªæ—‹é”ç­‰ã€‚ è¯¥å…³é”®å­—æ˜¯ä¸€ä¸ªå‡ ç§é”çš„å°è£…ã€‚ 3ï¼‰volatile å…³é”®å­—ï¼šç­”ï¼šè¯¥å…³é”®å­—å¯ä»¥ä¿è¯å¯è§æ€§ä¸ä¿è¯åŸå­æ€§ã€‚ åŠŸèƒ½ï¼š ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜ï¼Œç›´æ¥ä¸ä¸»å†…å­˜äº§ç”Ÿäº¤äº’ï¼Œè¿›è¡Œè¯»å†™æ“ä½œï¼Œä¿è¯å¯è§æ€§ï¼› ç¦æ­¢ JVM è¿›è¡Œçš„æŒ‡ä»¤é‡æ’åºã€‚ è§£æï¼šå…³äºæŒ‡ä»¤é‡æ’åºçš„é—®é¢˜ï¼Œå¯ä»¥æŸ¥é˜… DCL åŒæ£€é”å¤±æ•ˆç›¸å…³èµ„æ–™ã€‚ 4ï¼‰volatile èƒ½ä½¿å¾—ä¸€ä¸ªéåŸå­æ“ä½œå˜æˆåŸå­æ“ä½œå—ï¼Ÿç­”ï¼šèƒ½ã€‚ ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯åœ¨ç±»ä¸­æœ‰ä¸€ä¸ª long ç±»å‹çš„æˆå‘˜å˜é‡ã€‚å¦‚æœä½ çŸ¥é“è¯¥æˆå‘˜å˜é‡ä¼šè¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œå¦‚è®¡æ•°å™¨ã€ä»·æ ¼ç­‰ï¼Œä½ æœ€å¥½æ˜¯å°†å…¶è®¾ç½®ä¸º volatileã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º Java ä¸­è¯»å– long ç±»å‹å˜é‡ä¸æ˜¯åŸå­çš„ï¼Œéœ€è¦åˆ†æˆä¸¤æ­¥ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ä¿®æ”¹è¯¥ long å˜é‡çš„å€¼ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½åªèƒ½çœ‹åˆ°è¯¥å€¼çš„ä¸€åŠï¼ˆå‰ 32 ä½ï¼‰ã€‚ä½†æ˜¯å¯¹ä¸€ä¸ª volatile å‹çš„ long æˆ– double å˜é‡çš„è¯»å†™æ˜¯åŸå­ã€‚ é¢è¯•å®˜ï¼švolatile ä¿®é¥°ç¬¦çš„æœ‰è¿‡ä»€ä¹ˆå®è·µï¼Ÿ ç­”ï¼š ä¸€ç§å®è·µæ˜¯ç”¨ volatile ä¿®é¥° long å’Œ double å˜é‡ï¼Œä½¿å…¶èƒ½æŒ‰åŸå­ç±»å‹æ¥è¯»å†™ã€‚double å’Œ long éƒ½æ˜¯64ä½å®½ï¼Œå› æ­¤å¯¹è¿™ä¸¤ç§ç±»å‹çš„è¯»æ˜¯åˆ†ä¸ºä¸¤éƒ¨åˆ†çš„ï¼Œç¬¬ä¸€æ¬¡è¯»å–ç¬¬ä¸€ä¸ª 32 ä½ï¼Œç„¶åå†è¯»å‰©ä¸‹çš„ 32 ä½ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯åŸå­çš„ï¼Œä½† Java ä¸­ volatile å‹çš„ long æˆ– double å˜é‡çš„è¯»å†™æ˜¯åŸå­çš„ã€‚ volatile ä¿®å¤ç¬¦çš„å¦ä¸€ä¸ªä½œç”¨æ˜¯æä¾›å†…å­˜å±éšœï¼ˆmemory barrierï¼‰ï¼Œä¾‹å¦‚åœ¨åˆ†å¸ƒå¼æ¡†æ¶ä¸­çš„åº”ç”¨ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯å½“ä½ å†™ä¸€ä¸ª volatile å˜é‡ä¹‹å‰ï¼ŒJava å†…å­˜æ¨¡å‹ä¼šæ’å…¥ä¸€ä¸ªå†™å±éšœï¼ˆwrite barrierï¼‰ï¼Œè¯»ä¸€ä¸ª volatile å˜é‡ä¹‹å‰ï¼Œä¼šæ’å…¥ä¸€ä¸ªè¯»å±éšœï¼ˆread barrierï¼‰ã€‚æ„æ€å°±æ˜¯è¯´ï¼Œåœ¨ä½ å†™ä¸€ä¸ª volatile åŸŸæ—¶ï¼Œèƒ½ä¿è¯ä»»ä½•çº¿ç¨‹éƒ½èƒ½çœ‹åˆ°ä½ å†™çš„å€¼ï¼ŒåŒæ—¶ï¼Œåœ¨å†™ä¹‹å‰ï¼Œä¹Ÿèƒ½ä¿è¯ä»»ä½•æ•°å€¼çš„æ›´æ–°å¯¹æ‰€æœ‰çº¿ç¨‹æ˜¯å¯è§çš„ï¼Œå› ä¸ºå†…å­˜å±éšœä¼šå°†å…¶ä»–æ‰€æœ‰å†™çš„å€¼æ›´æ–°åˆ°ç¼“å­˜ã€‚ 5ï¼‰ThreadLocalï¼ˆçº¿ç¨‹å±€éƒ¨å˜é‡ï¼‰å…³é”®å­—ï¼šç­”ï¼šå½“ä½¿ç”¨ ThreadLocal ç»´æŠ¤å˜é‡æ—¶ï¼Œå…¶ä¸ºæ¯ä¸ªä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹æä¾›ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹å¯¹åº”çš„å‰¯æœ¬ã€‚ ThreadLocal å†…éƒ¨å®ç°æœºåˆ¶ï¼š æ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šç»´æŠ¤ä¸€ä¸ªç±»ä¼¼ HashMap çš„å¯¹è±¡ï¼Œç§°ä¸º ThreadLocalMapï¼Œé‡Œè¾¹ä¼šåŒ…å«è‹¥å¹²äº† Entryï¼ˆK-V é”®å€¼å¯¹ï¼‰ï¼Œç›¸åº”çš„çº¿ç¨‹è¢«ç§°ä¸ºè¿™äº› Entry çš„å±ä¸»çº¿ç¨‹ï¼› Entry çš„ Key æ˜¯ä¸€ä¸ª ThreadLocal å®ä¾‹ï¼ŒValue æ˜¯ä¸€ä¸ªçº¿ç¨‹ç‰¹æœ‰å¯¹è±¡ã€‚Entry çš„ä½œç”¨å³æ˜¯ï¼šä¸ºå…¶å±ä¸»çº¿ç¨‹å»ºç«‹èµ·ä¸€ä¸ª ThreadLocal å®ä¾‹ä¸ä¸€ä¸ªçº¿ç¨‹ç‰¹æœ‰å¯¹è±¡ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼› Entry å¯¹ Key çš„å¼•ç”¨æ˜¯å¼±å¼•ç”¨ï¼›Entry å¯¹ Value çš„å¼•ç”¨æ˜¯å¼ºå¼•ç”¨ã€‚ 6ï¼‰çº¿ç¨‹æ± æœ‰äº†è§£å—ï¼Ÿï¼ˆå¿…è€ƒï¼‰ç­”ï¼šjava.util.concurrent.ThreadPoolExecutor ç±»å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ã€‚å®¢æˆ·ç«¯è°ƒç”¨ ThreadPoolExecutor.submit(Runnable task) æäº¤ä»»åŠ¡ï¼Œçº¿ç¨‹æ± å†…éƒ¨ç»´æŠ¤çš„å·¥ä½œè€…çº¿ç¨‹çš„æ•°é‡å°±æ˜¯è¯¥çº¿ç¨‹æ± çš„çº¿ç¨‹æ± å¤§å°ï¼Œæœ‰ 3 ç§å½¢æ€ï¼š å½“å‰çº¿ç¨‹æ± å¤§å° ï¼šè¡¨ç¤ºçº¿ç¨‹æ± ä¸­å®é™…å·¥ä½œè€…çº¿ç¨‹çš„æ•°é‡ï¼› æœ€å¤§çº¿ç¨‹æ± å¤§å° ï¼ˆmaxinumPoolSizeï¼‰ï¼šè¡¨ç¤ºçº¿ç¨‹æ± ä¸­å…è®¸å­˜åœ¨çš„å·¥ä½œè€…çº¿ç¨‹çš„æ•°é‡ä¸Šé™ï¼› æ ¸å¿ƒçº¿ç¨‹å¤§å° ï¼ˆcorePoolSize ï¼‰ï¼šè¡¨ç¤ºä¸€ä¸ªä¸å¤§äºæœ€å¤§çº¿ç¨‹æ± å¤§å°çš„å·¥ä½œè€…çº¿ç¨‹æ•°é‡ä¸Šé™ã€‚ å¦‚æœè¿è¡Œçš„çº¿ç¨‹å°‘äº corePoolSizeï¼Œåˆ™ Executor å§‹ç»ˆé¦–é€‰æ·»åŠ æ–°çš„çº¿ç¨‹ï¼Œè€Œä¸è¿›è¡Œæ’é˜Ÿï¼› å¦‚æœè¿è¡Œçš„çº¿ç¨‹ç­‰äºæˆ–è€…å¤šäº corePoolSizeï¼Œåˆ™ Executor å§‹ç»ˆé¦–é€‰å°†è¯·æ±‚åŠ å…¥é˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯æ·»åŠ æ–°çº¿ç¨‹ï¼› å¦‚æœæ— æ³•å°†è¯·æ±‚åŠ å…¥é˜Ÿåˆ—ï¼Œå³é˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œåˆ™åˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œé™¤éåˆ›å»ºæ­¤çº¿ç¨‹è¶…å‡º maxinumPoolSizeï¼Œ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»åŠ¡å°†è¢«æ‹’ç»ã€‚ é¢è¯•å®˜ï¼šæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹æ± ï¼Ÿ ç­”ï¼š å‡å°‘åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„æ¬¡æ•°ï¼Œæ¯ä¸ªå·¥ä½œçº¿ç¨‹éƒ½å¯ä»¥è¢«é‡å¤åˆ©ç”¨ï¼Œå¯æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ å¯ä»¥æ ¹æ®ç³»ç»Ÿçš„æ‰¿å—èƒ½åŠ›ï¼Œè°ƒæ•´çº¿ç¨‹æ± ä¸­å·¥ä½œçº¿ç¨‹çš„æ•°ç›®ï¼Œæ”¾ç½®å› ä¸ºæ¶ˆè€—è¿‡å¤šçš„å†…å­˜ï¼Œè€ŒæŠŠæœåŠ¡å™¨ç´¯è¶´ä¸‹ï¼ˆæ¯ä¸ªçº¿ç¨‹å¤§çº¦éœ€è¦ 1 MB å†…å­˜ï¼Œçº¿ç¨‹å¼€çš„è¶Šå¤šï¼Œæ¶ˆè€—çš„å†…å­˜ä¹Ÿå°±è¶Šå¤§ï¼Œæœ€åæ­»æœºï¼‰ é¢è¯•å®˜ï¼šæ ¸å¿ƒçº¿ç¨‹æ± å†…éƒ¨å®ç°äº†è§£å—ï¼Ÿ ç­”ï¼šå¯¹äºæ ¸å¿ƒçš„å‡ ä¸ªçº¿ç¨‹æ± ï¼Œæ— è®ºæ˜¯ newFixedThreadPool() æ–¹æ³•ï¼ŒnewSingleThreadExecutor() è¿˜æ˜¯ newCachedThreadPool() æ–¹æ³•ï¼Œè™½ç„¶çœ‹èµ·æ¥åˆ›å»ºçš„çº¿ç¨‹æœ‰ç€å®Œå…¨ä¸åŒçš„åŠŸèƒ½ç‰¹ç‚¹ï¼Œä½†å…¶å®å†…éƒ¨å®ç°å‡ä½¿ç”¨äº† ThreadPoolExecutor å®ç°ï¼Œå…¶å®éƒ½åªæ˜¯ ThreadPoolExecutor ç±»çš„å°è£…ã€‚ ä¸ºä½• ThreadPoolExecutor æœ‰å¦‚æ­¤å¼ºå¤§çš„åŠŸèƒ½å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€ä¸‹ ThreadPoolExecutor æœ€é‡è¦çš„æ„é€ å‡½æ•°ï¼š public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)å‡½æ•°çš„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š corePoolSizeï¼šæŒ‡å®šäº†çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ maximumPoolSizeï¼šæŒ‡å®šäº†çº¿ç¨‹æ± ä¸­çš„æœ€å¤§çº¿ç¨‹æ•°é‡ keepAliveTimeï¼šå½“çº¿ç¨‹æ± çº¿ç¨‹æ•°é‡è¶…è¿‡ corePoolSize æ—¶ï¼Œå¤šä½™çš„ç©ºé—²çº¿ç¨‹çš„å­˜æ´»æ—¶é—´ã€‚å³ï¼Œè¶…è¿‡äº† corePoolSize çš„ç©ºé—²çº¿ç¨‹ï¼Œåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œä¼šè¢«é”€æ¯ã€‚ unit: keepAliveTime çš„å•ä½ã€‚ workQueueï¼šä»»åŠ¡é˜Ÿåˆ—ï¼Œè¢«æäº¤ä½†å°šæœªè¢«æ‰§è¡Œçš„ä»»åŠ¡ã€‚ threadFactoryï¼šçº¿ç¨‹å·¥å‚ï¼Œç”¨äºåˆ›å»ºçº¿ç¨‹ï¼Œä¸€èˆ¬ç”¨é»˜è®¤çš„å³å¯ã€‚ handlerï¼šæ‹’ç»ç­–ç•¥ã€‚å½“ä»»åŠ¡å¤ªå¤šæ¥ä¸åŠå¤„ç†ï¼Œå¦‚ä½•æ‹’ç»ä»»åŠ¡ã€‚ 7ï¼‰Atomicå…³é”®å­—ï¼šç­”ï¼šå¯ä»¥ä½¿åŸºæœ¬æ•°æ®ç±»å‹ä»¥åŸå­çš„æ–¹å¼å®ç°è‡ªå¢è‡ªå‡ç­‰æ“ä½œã€‚å‚è€ƒåšå®¢ï¼šconcurrent.atomicåŒ…ä¸‹çš„ç±»AtomicIntegerçš„ä½¿ç”¨ 8ï¼‰åˆ›å»ºçº¿ç¨‹æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿç­”ï¼šæœ‰ä¸¤ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•ï¼šä¸€æ˜¯å®ç°Runnableæ¥å£ï¼Œç„¶åå°†å®ƒä¼ é€’ç»™Threadçš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªThreadå¯¹è±¡;äºŒæ˜¯ç›´æ¥ç»§æ‰¿Threadç±»ã€‚ é¢è¯•å®˜ï¼šä¸¤ç§æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ ç»§æ‰¿æ–¹å¼: ï¼ˆ1ï¼‰Javaä¸­ç±»æ˜¯å•ç»§æ‰¿çš„,å¦‚æœç»§æ‰¿äº†Threadäº†,è¯¥ç±»å°±ä¸èƒ½å†æœ‰å…¶ä»–çš„ç›´æ¥çˆ¶ç±»äº†. ï¼ˆ2ï¼‰ä»æ“ä½œä¸Šåˆ†æ,ç»§æ‰¿æ–¹å¼æ›´ç®€å•,è·å–çº¿ç¨‹åå­—ä¹Ÿç®€å•.(æ“ä½œä¸Š,æ›´ç®€å•) ï¼ˆ3ï¼‰ä»å¤šçº¿ç¨‹å…±äº«åŒä¸€ä¸ªèµ„æºä¸Šåˆ†æ,ç»§æ‰¿æ–¹å¼ä¸èƒ½åšåˆ°. å®ç°æ–¹å¼: ï¼ˆ1ï¼‰Javaä¸­ç±»å¯ä»¥å¤šå®ç°æ¥å£,æ­¤æ—¶è¯¥ç±»è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»,å¹¶ä¸”è¿˜å¯ä»¥å®ç°å…¶ä»–æ¥å£(è®¾è®¡ä¸Š,æ›´ä¼˜é›…). ï¼ˆ2ï¼‰ä»æ“ä½œä¸Šåˆ†æ,å®ç°æ–¹å¼ç¨å¾®å¤æ‚ç‚¹,è·å–çº¿ç¨‹åå­—ä¹Ÿæ¯”è¾ƒå¤æ‚,å¾—ä½¿ç”¨Thread.currentThread()æ¥è·å–å½“å‰çº¿ç¨‹çš„å¼•ç”¨. ï¼ˆ3ï¼‰ä»å¤šçº¿ç¨‹å…±äº«åŒä¸€ä¸ªèµ„æºä¸Šåˆ†æ,å®ç°æ–¹å¼å¯ä»¥åšåˆ°(æ˜¯å¦å…±äº«åŒä¸€ä¸ªèµ„æº). 9ï¼‰run() æ–¹æ³•å’Œ start() æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šstart() æ–¹æ³•ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹å¹¶è®©è¿™ä¸ªçº¿ç¨‹æ‰§è¡Œ run() æ–¹æ³•ï¼›è€Œç›´æ¥è°ƒç”¨ run() æ–¹æ³•çŸ¥è¯†ä½œä¸ºä¸€ä¸ªæ™®é€šçš„æ–¹æ³•è°ƒç”¨è€Œå·²ï¼Œå®ƒåªä¼šåœ¨å½“å‰çº¿ç¨‹ä¸­ï¼Œä¸²è¡Œæ‰§è¡Œ run() ä¸­çš„ä»£ç ã€‚ 10ï¼‰ä½ æ€ä¹ˆç†è§£çº¿ç¨‹ä¼˜å…ˆçº§ï¼Ÿç­”ï¼šJava ä¸­çš„çº¿ç¨‹å¯ä»¥æœ‰è‡ªå·±çš„ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆæé«˜çš„çº¿ç¨‹åœ¨ç«äº‰èµ„æºæ—¶ä¼šæ›´æœ‰ä¼˜åŠ¿ï¼Œæ›´å¯èƒ½æŠ¢å èµ„æºï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªæ¦‚ç‡é—®é¢˜ã€‚å¦‚æœè¿è¡Œä¸å¥½ï¼Œé«˜ä¼˜å…ˆçº§çº¿ç¨‹å¯èƒ½ä¹Ÿä¼šæŠ¢å å¤±è´¥ã€‚ ç”±äºçº¿ç¨‹çš„ä¼˜å…ˆçº§è°ƒåº¦å’Œåº•å±‚æ“ä½œç³»ç»Ÿæœ‰å¯†åˆ‡çš„å…³ç³»ï¼Œåœ¨å„ä¸ªå¹³å°ä¸Šè¡¨ç°ä¸ä¸€ï¼Œå¹¶ä¸”è¿™ç§ä¼˜å…ˆçº§äº§ç”Ÿçš„åæœä¹Ÿå¯èƒ½ä¸å®¹æ˜“é¢„æµ‹ï¼Œæ— æ³•ç²¾å‡†æ§åˆ¶ï¼Œæ¯”å¦‚ä¸€ä¸ªä½ä¼˜å…ˆçº§çš„çº¿ç¨‹å¯èƒ½ä¸€ç›´æŠ¢å ä¸åˆ°èµ„æºï¼Œä»è€Œå§‹ç»ˆæ— æ³•è¿è¡Œï¼Œè€Œäº§ç”Ÿé¥¥é¥¿ï¼ˆè™½ç„¶ä¼˜å…ˆçº§ä½ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½é¥¿æ­»å®ƒå•Šï¼‰ã€‚å› æ­¤ï¼Œåœ¨è¦æ±‚ä¸¥æ ¼çš„åœºåˆï¼Œè¿˜æ˜¯éœ€è¦è‡ªå·±åœ¨åº”ç”¨å±‚è§£å†³çº¿ç¨‹è°ƒåº¦çš„é—®é¢˜ã€‚ åœ¨ Java ä¸­ï¼Œä½¿ç”¨ 1 åˆ° 10 è¡¨ç¤ºçº¿ç¨‹ä¼˜å…ˆçº§ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„ä¸‰ä¸ªé™æ€æ ‡é‡è¡¨ç¤ºï¼š public final static int MIN_PRIORITY = 1; public final static int NORM_PRIORITY = 5; public final static int MAX_PRIORITY = 10;æ•°å­—è¶Šå¤§åˆ™ä¼˜å…ˆçº§è¶Šé«˜ï¼Œä½†æœ‰æ•ˆèŒƒå›´åœ¨ 1 åˆ° 10 ä¹‹é—´ï¼Œé»˜è®¤çš„ä¼˜å…ˆçº§ä¸º 5 ã€‚ 11ï¼‰åœ¨ Java ä¸­å¦‚ä½•åœæ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Ÿç­”ï¼šJava æä¾›äº†å¾ˆä¸°å¯Œçš„ API ä½†æ²¡æœ‰ä¸ºåœæ­¢çº¿ç¨‹æä¾› API ã€‚ JDK 1.0 æœ¬æ¥æœ‰ä¸€äº›åƒ stop()ï¼Œsuspend() å’Œ resume() çš„æ§åˆ¶æ–¹æ³•ä½†æ˜¯ç”±äºæ½œåœ¨çš„æ­»é”å¨èƒå› æ­¤åœ¨åç»­çš„ JDK ç‰ˆæœ¬ä¸­ä»–ä»¬è¢«å¼ƒç”¨äº†ï¼Œä¹‹å Java API çš„è®¾è®¡è€…å°±æ²¡æœ‰æä¾›ä¸€ä¸ªå…¼å®¹ä¸”çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•æ¥åœæ­¢ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ã€‚ å½“ run() æˆ–è€… call() æ–¹æ³•æ‰§è¡Œå®Œçš„æ—¶å€™çº¿ç¨‹ä¼šè‡ªåŠ¨ç»“æŸï¼Œå¦‚æœè¦æ‰‹åŠ¨ç»“æŸä¸€ä¸ªçº¿ç¨‹ï¼Œä½ å¯ä»¥ç”¨ volatile å¸ƒå°”å˜é‡æ¥é€€å‡º run() æ–¹æ³•çš„å¾ªç¯æˆ–è€…æ˜¯å–æ¶ˆä»»åŠ¡æ¥ä¸­æ–­çº¿ç¨‹ã€‚ 12ï¼‰å¤šçº¿ç¨‹ä¸­çš„å¿™å¾ªç¯æ˜¯ä»€ä¹ˆï¼Ÿç­”ï¼šå¿™å¾ªç¯å°±æ˜¯ç¨‹åºå‘˜ç”¨å¾ªç¯è®©ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œä¸åƒä¼ ç»Ÿæ–¹æ³• wait(),sleep() æˆ–yield() å®ƒä»¬éƒ½æ”¾å¼ƒäº† CPU æ§åˆ¶æƒï¼Œè€Œå¿™å¾ªç¯ä¸ä¼šæ”¾å¼ƒ CPUï¼Œå®ƒå°±æ˜¯åœ¨è¿è¡Œä¸€ä¸ªç©ºå¾ªç¯ã€‚è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†ä¿ç•™ CPU ç¼“å­˜ã€‚ åœ¨å¤šæ ¸ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç­‰å¾…çº¿ç¨‹é†’æ¥çš„æ—¶å€™å¯èƒ½ä¼šåœ¨å¦ä¸€ä¸ªå†…æ ¸è¿è¡Œï¼Œè¿™æ ·ä¼šé‡å»ºç¼“å­˜ï¼Œä¸ºäº†é¿å…é‡å»ºç¼“å­˜å’Œå‡å°‘ç­‰å¾…é‡å»ºçš„æ—¶é—´å°±å¯ä»¥ä½¿ç”¨å®ƒäº†ã€‚ 13ï¼‰10 ä¸ªçº¿ç¨‹å’Œ 2 ä¸ªçº¿ç¨‹çš„åŒæ­¥ä»£ç ï¼Œå“ªä¸ªæ›´å®¹æ˜“å†™ï¼Ÿç­”ï¼šä»å†™ä»£ç çš„è§’åº¦æ¥è¯´ï¼Œä¸¤è€…çš„å¤æ‚åº¦æ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºåŒæ­¥ä»£ç ä¸çº¿ç¨‹æ•°é‡æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ä½†æ˜¯åŒæ­¥ç­–ç•¥çš„é€‰æ‹©ä¾èµ–äºçº¿ç¨‹çš„æ•°é‡ï¼Œå› ä¸ºè¶Šå¤šçš„çº¿ç¨‹æ„å‘³ç€æ›´å¤§çš„ç«äº‰ï¼Œæ‰€ä»¥ä½ éœ€è¦åˆ©ç”¨åŒæ­¥æŠ€æœ¯ï¼Œå¦‚é”åˆ†ç¦»ï¼Œè¿™è¦æ±‚æ›´å¤æ‚çš„ä»£ç å’Œä¸“ä¸šçŸ¥è¯†ã€‚ 14ï¼‰ä½ æ˜¯å¦‚ä½•è°ƒç”¨ waitï¼ˆï¼‰æ–¹æ³•çš„ï¼Ÿä½¿ç”¨ if å—è¿˜æ˜¯å¾ªç¯ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿç­”ï¼šwait() æ–¹æ³•åº”è¯¥åœ¨å¾ªç¯è°ƒç”¨ï¼Œå› ä¸ºå½“çº¿ç¨‹è·å–åˆ° CPU å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œå…¶ä»–æ¡ä»¶å¯èƒ½è¿˜æ²¡æœ‰æ»¡è¶³ï¼Œæ‰€ä»¥åœ¨å¤„ç†å‰ï¼Œå¾ªç¯æ£€æµ‹æ¡ä»¶æ˜¯å¦æ»¡è¶³ä¼šæ›´å¥½ã€‚ä¸‹é¢æ˜¯ä¸€æ®µæ ‡å‡†çš„ä½¿ç”¨ wait å’Œ notify æ–¹æ³•çš„ä»£ç ï¼š // The standard idiom for using the wait method synchronized (obj) { while (condition does not hold) obj.wait(); // (Releases lock, and reacquires on wakeup) ... // Perform action appropriate to condition }å‚è§ Effective Java ç¬¬ 69 æ¡ï¼Œè·å–æ›´å¤šå…³äºä¸ºä»€ä¹ˆåº”è¯¥åœ¨å¾ªç¯ä¸­æ¥è°ƒç”¨ wait æ–¹æ³•çš„å†…å®¹ã€‚ 15ï¼‰ä»€ä¹ˆæ˜¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„ä¼ªå…±äº«ï¼ˆfalse sharingï¼‰ï¼Ÿç­”ï¼šä¼ªå…±äº«æ˜¯å¤šçº¿ç¨‹ç³»ç»Ÿï¼ˆæ¯ä¸ªå¤„ç†å™¨æœ‰è‡ªå·±çš„å±€éƒ¨ç¼“å­˜ï¼‰ä¸­ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„æ€§èƒ½é—®é¢˜ã€‚ä¼ªå…±äº«å‘ç”Ÿåœ¨ä¸åŒå¤„ç†å™¨çš„ä¸Šçš„çº¿ç¨‹å¯¹å˜é‡çš„ä¿®æ”¹ä¾èµ–äºç›¸åŒçš„ç¼“å­˜è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¼ªå…±äº«é—®é¢˜å¾ˆéš¾è¢«å‘ç°ï¼Œå› ä¸ºçº¿ç¨‹å¯èƒ½è®¿é—®å®Œå…¨ä¸åŒçš„å…¨å±€å˜é‡ï¼Œå†…å­˜ä¸­å´ç¢°å·§åœ¨å¾ˆç›¸è¿‘çš„ä½ç½®ä¸Šã€‚å¦‚å…¶ä»–è¯¸å¤šçš„å¹¶å‘é—®é¢˜ï¼Œé¿å…ä¼ªå…±äº«çš„æœ€åŸºæœ¬æ–¹å¼æ˜¯ä»”ç»†å®¡æŸ¥ä»£ç ï¼Œæ ¹æ®ç¼“å­˜è¡Œæ¥è°ƒæ•´ä½ çš„æ•°æ®ç»“æ„ã€‚ 16ï¼‰ç”¨ wait-notify å†™ä¸€æ®µä»£ç æ¥è§£å†³ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ï¼Ÿè§£æï¼šè¿™æ˜¯å¸¸è€ƒçš„åŸºç¡€ç±»å‹çš„é¢˜ï¼Œåªè¦è®°ä½åœ¨åŒæ­¥å—ä¸­è°ƒç”¨ wait() å’Œ notify()æ–¹æ³•ï¼Œå¦‚æœé˜»å¡ï¼Œé€šè¿‡å¾ªç¯æ¥æµ‹è¯•ç­‰å¾…æ¡ä»¶ã€‚ ç­”ï¼š import java.util.Vector; import java.util.logging.Level; import java.util.logging.Logger; /** * Java program to solve Producer Consumer problem using wait and notify * method in Java. Producer Consumer is also a popular concurrency design pattern. * * @author Javin Paul */ public class ProducerConsumerSolution { public static void main(String args[]) { Vector sharedQueue = new Vector(); int size = 4; Thread prodThread = new Thread(new Producer(sharedQueue, size), &quot;Producer&quot;); Thread consThread = new Thread(new Consumer(sharedQueue, size), &quot;Consumer&quot;); prodThread.start(); consThread.start(); } } class Producer implements Runnable { private final Vector sharedQueue; private final int SIZE; public Producer(Vector sharedQueue, int size) { this.sharedQueue = sharedQueue; this.SIZE = size; } @Override public void run() { for (int i = 0; i &lt; 7; i++) { System.out.println(&quot;Produced: &quot; + i); try { produce(i); } catch (InterruptedException ex) { Logger.getLogger(Producer.class.getName()).log(Level.SEVERE, null, ex); } } } private void produce(int i) throws InterruptedException { // wait if queue is full while (sharedQueue.size() == SIZE) { synchronized (sharedQueue) { System.out.println(&quot;Queue is full &quot; + Thread.currentThread().getName() + &quot; is waiting , size: &quot; + sharedQueue.size()); sharedQueue.wait(); } } // producing element and notify consumers synchronized (sharedQueue) { sharedQueue.add(i); sharedQueue.notifyAll(); } } } class Consumer implements Runnable { private final Vector sharedQueue; private final int SIZE; public Consumer(Vector sharedQueue, int size) { this.sharedQueue = sharedQueue; this.SIZE = size; } @Override public void run() { while (true) { try { System.out.println(&quot;Consumed: &quot; + consume()); Thread.sleep(50); } catch (InterruptedException ex) { Logger.getLogger(Consumer.class.getName()).log(Level.SEVERE, null, ex); } } } private int consume() throws InterruptedException { // wait if queue is empty while (sharedQueue.isEmpty()) { synchronized (sharedQueue) { System.out.println(&quot;Queue is empty &quot; + Thread.currentThread().getName() + &quot; is waiting , size: &quot; + sharedQueue.size()); sharedQueue.wait(); } } // Otherwise consume element and notify waiting producer synchronized (sharedQueue) { sharedQueue.notifyAll(); return (Integer) sharedQueue.remove(0); } } } Output: Produced: 0 Queue is empty Consumer is waiting , size: 0 Produced: 1 Consumed: 0 Produced: 2 Produced: 3 Produced: 4 Produced: 5 Queue is full Producer is waiting , size: 4 Consumed: 1 Produced: 6 Queue is full Producer is waiting , size: 4 Consumed: 2 Consumed: 3 Consumed: 4 Consumed: 5 Consumed: 6 Queue is empty Consumer is waiting , size: 017ï¼‰ç”¨ Java å†™ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ï¼Ÿè§£æï¼šæœ‰å¤šç§æ–¹æ³•ï¼Œä½†é‡ç‚¹æŒæ¡çš„æ˜¯åŒé‡æ ¡éªŒé”ã€‚ ç­”ï¼š 1.é¥¿æ±‰å¼å•ä¾‹ é¥¿æ±‰å¼å•ä¾‹æ˜¯æŒ‡åœ¨æ–¹æ³•è°ƒç”¨å‰ï¼Œå®ä¾‹å°±å·²ç»åˆ›å»ºå¥½äº†ã€‚ä¸‹é¢æ˜¯å®ç°ä»£ç ï¼š public class Singleton { private static Singleton instance = new Singleton(); private Singleton (){} public static Singleton getInstance() { return instance; } }2.åŠ å…¥ synchronized çš„æ‡’æ±‰å¼å•ä¾‹ æ‰€è°“æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼å°±æ˜¯åœ¨è°ƒç”¨çš„æ—¶å€™æ‰å»åˆ›å»ºè¿™ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬åœ¨å¯¹å¤–çš„åˆ›å»ºå®ä¾‹æ–¹æ³•ä¸ŠåŠ å¦‚ synchronized å…³é”®å­—ä¿è¯å…¶åœ¨å¤šçº¿ç¨‹ä¸­å¾ˆå¥½çš„å·¥ä½œï¼š public class Singleton { private static Singleton instance; private Singleton (){} public static synchronized Singleton getInstance() { if (instance == null) { instance = new Singleton(); } return instance; } } 3.ä½¿ç”¨é™æ€å†…éƒ¨ç±»çš„æ–¹å¼åˆ›å»ºå•ä¾‹ è¿™ç§æ–¹å¼åˆ©ç”¨äº† classloder çš„æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ– instance æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒè·Ÿé¥¿æ±‰å¼çš„åŒºåˆ«æ˜¯ï¼šé¥¿æ±‰å¼åªè¦ Singleton ç±»è¢«åŠ è½½äº†ï¼Œé‚£ä¹ˆ instance å°±ä¼šè¢«å®ä¾‹åŒ–ï¼ˆæ²¡æœ‰è¾¾åˆ° lazy loading çš„æ•ˆæœï¼‰ï¼Œè€Œè¿™ç§æ–¹å¼æ˜¯ Singleton ç±»è¢«åŠ è½½äº†ï¼Œinstance ä¸ä¸€å®šè¢«åˆå§‹åŒ–ã€‚åªæœ‰æ˜¾å¼é€šè¿‡è°ƒç”¨ getInstance() æ–¹æ³•æ—¶æ‰ä¼šæ˜¾å¼è£…è½½ SingletonHoder ç±»ï¼Œä»è€Œå®ä¾‹åŒ– singleton public class Singleton { private Singleton() { } private static class SingletonHolder {// é™æ€å†…éƒ¨ç±» private static Singleton singleton = new Singleton(); } public static Singleton getInstance() { return SingletonHolder.singleton; } }4.åŒé‡æ ¡éªŒé” ä¸ºäº†è¾¾åˆ°çº¿ç¨‹å®‰å…¨ï¼Œåˆèƒ½æé«˜ä»£ç æ‰§è¡Œæ•ˆç‡ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥é‡‡ç”¨DCLçš„åŒæ£€æŸ¥é”æœºåˆ¶æ¥å®Œæˆï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼š public class Singleton { private static Singleton singleton; private Singleton() { } public static Singleton getInstance(){ if (singleton == null) { synchronized (Singleton.class) { if (singleton == null) { singleton = new Singleton(); } } } return singleton; } } è¿™ç§æ˜¯ç”¨åŒé‡åˆ¤æ–­æ¥åˆ›å»ºä¸€ä¸ªå•ä¾‹çš„æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä¸¤ä¸ªifåˆ¤æ–­è¿™ä¸ªå¯¹è±¡å½“å‰æ˜¯ä¸æ˜¯ç©ºçš„å‘¢ ï¼Ÿå› ä¸ºå½“æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è¦åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œå¤šä¸ªçº¿ç¨‹æœ‰å¯èƒ½éƒ½åœæ­¢åœ¨ç¬¬ä¸€ä¸ªifåˆ¤æ–­çš„åœ°æ–¹ï¼Œç­‰å¾…é”çš„é‡Šæ”¾ï¼Œç„¶åå¤šä¸ªçº¿ç¨‹å°±éƒ½åˆ›å»ºäº†å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸æ˜¯å•ä¾‹æ¨¡å¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨ä¸¤ä¸ªifæ¥è¿›è¡Œè¿™ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ã€‚ 5.ä½¿ç”¨ static ä»£ç å—å®ç°å•ä¾‹ é™æ€ä»£ç å—ä¸­çš„ä»£ç åœ¨ä½¿ç”¨ç±»çš„æ—¶å€™å°±å·²ç»æ‰§è¡Œäº†ï¼Œæ‰€ä»¥å¯ä»¥åº”ç”¨é™æ€ä»£ç å—çš„è¿™ä¸ªç‰¹æ€§çš„å®ç°å•ä¾‹è®¾è®¡æ¨¡å¼ã€‚ public class Singleton{ private static Singleton instance = null; private Singleton(){} static{ instance = new Singleton(); } public static Singleton getInstance() { return instance; } } 6.ä½¿ç”¨æšä¸¾æ•°æ®ç±»å‹å®ç°å•ä¾‹æ¨¡å¼ æšä¸¾enumå’Œé™æ€ä»£ç å—çš„ç‰¹æ€§ç›¸ä¼¼ï¼Œåœ¨ä½¿ç”¨æšä¸¾æ—¶ï¼Œæ„é€ æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œåˆ©ç”¨è¿™ä¸€ç‰¹æ€§ä¹Ÿå¯ä»¥å®ç°å•ä¾‹ï¼š public class ClassFactory{ private enum MyEnumSingleton{ singletonFactory; private MySingleton instance; private MyEnumSingleton(){//æšä¸¾ç±»çš„æ„é€ æ–¹æ³•åœ¨ç±»åŠ è½½æ˜¯è¢«å®ä¾‹åŒ– instance = new MySingleton(); } public MySingleton getInstance(){ return instance; } } public static MySingleton getInstance(){ return MyEnumSingleton.singletonFactory.getInstance(); } } å°ç»“ï¼šå…³äº Java ä¸­å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œçº¿ç¨‹å®‰å…¨ç­‰çŸ¥è¯†ä¸€ç›´éƒ½æ˜¯é¢è¯•ä¸­çš„é‡ç‚¹å’Œéš¾ç‚¹ï¼Œè¿˜éœ€è¦ç†Ÿç»ƒæŒæ¡ã€‚ å‚è€ƒèµ„æ–™ï¼šâ‘  çŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æâ‘¡ æœ€è¿‘5å¹´133ä¸ªJavaé¢è¯•é—®é¢˜åˆ—è¡¨â‘¢ ã€Šå®æˆ˜ Java é«˜å¹¶å‘ç¨‹åºè®¾è®¡ â€”â€” è‘›ä¸€é¸£ éƒ­è¶… ç¼–è‘—ã€‹ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ(ä¸€)â€”â€”åŸºç¡€çŸ¥è¯†ç¯‡","slug":"Javaé¢è¯•çŸ¥è¯†ç‚¹è§£æ-ä¸€-åŸºç¡€çŸ¥è¯†ç¯‡","date":"2018-05-08T22:57:00.000Z","updated":"2020-08-03T08:55:28.768Z","comments":true,"path":"2018/05/09/java-mian-shi-zhi-shi-dian-jie-xi-yi-ji-chu-zhi-shi-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/05/09/java-mian-shi-zhi-shi-dian-jie-xi-yi-ji-chu-zhi-shi-pian/","excerpt":"","text":"å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ ï¼ˆä¸€ï¼‰Java åŸºç¡€çŸ¥è¯†ç‚¹1ï¼‰é¢å‘å¯¹è±¡çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿç­”ï¼šå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ï¼ˆåº”è¦å¤šç®—ä¸€ä¸ªé‚£å°±æ˜¯æŠ½è±¡ï¼‰ å°è£…æ˜¯æŒ‡å°†å¯¹è±¡çš„å®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œç„¶åé€šè¿‡å…¬å…±çš„æ–¹æ³•æ¥å‘å¤–æš´éœ²å‡ºè¯¥å¯¹è±¡çš„åŠŸèƒ½ã€‚ä½†å°è£…ä¸ä»…ä»…æ˜¯ private + getter/setter ï¼Œä½¿ç”¨å°è£…å¯ä»¥å¯¹ setter è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„å®šåˆ¶ï¼Œä¾‹å¦‚ä½ å¯ä»¥å¯¹æ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡åšè§„å®šï¼Œä¹Ÿå¯ä»¥å¯¹æ•°æ®åšä¸€å®šçš„è¦æ±‚ï¼Œè¿˜å¯ä»¥åšç±»å‹è½¬æ¢ç­‰ç­‰ã€‚ä½¿ç”¨å°è£…ä¸ä»…ä»…å®‰å…¨ï¼Œæ›´å¯ä»¥ç®€åŒ–æ“ä½œã€‚ï¼ˆå°è£…æ‰©å±•é˜…è¯»ï¼šocé¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ &lt;å°è£…&gt;ï¼‰ ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡å®ç°è½¯ä»¶å¤ç”¨çš„é‡è¦æ‰‹æ®µï¼Œå½“å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå­ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œèƒ½ç›´æ¥æˆ–é—´æ¥è·å¾—çˆ¶ç±»é‡Œçš„æˆå‘˜ã€‚ç»§æ‰¿çš„ç¼ºç‚¹ï¼š1ï¼‰ç»§æ‰¿æ˜¯ä¸€ç§å¼ºè€¦åˆå…³ç³»ï¼Œçˆ¶ç±»å˜å­ç±»ä¹Ÿå¿…é¡»å˜ï¼›2ï¼‰ç»§æ‰¿ç ´åäº†å°è£…ï¼Œå¯¹äºçˆ¶ç±»è€Œè¨€ï¼Œå®ƒçš„å®ç°ç»†èŠ‚å¯¹å­ç±»æ¥è¯´éƒ½æ˜¯é€æ˜çš„ã€‚ å¤šæ€ç®€è€Œè¨€ä¹‹å°±æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚æ¯”å¦‚è¯´ï¼Œæœ‰ä¸€æ¯æ°´ï¼Œæˆ‘ä¸çŸ¥é“å®ƒæ˜¯æ¸©çš„ã€å†°çš„è¿˜æ˜¯çƒ«çš„ï¼Œä½†æ˜¯æˆ‘ä¸€æ‘¸æˆ‘å°±çŸ¥é“äº†ï¼Œæˆ‘æ‘¸æ°´æ¯çš„è¿™ä¸ªåŠ¨ä½œï¼Œå¯¹äºä¸åŒæ¸©åº¦çš„æ°´ï¼Œå°±ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œè¿™å°±æ˜¯å¤šæ€ã€‚ å¤šæ€çš„æ¡ä»¶ï¼š1ï¼‰ç»§æ‰¿ï¼›2ï¼‰é‡å†™ï¼›3ï¼‰å‘ä¸Šè½¬å‹ã€‚å¤šæ€çš„å¥½å¤„ï¼šå½“æŠŠä¸åŒçš„å­ç±»å¯¹è±¡éƒ½å½“ä½œçˆ¶ç±»ç±»å‹æ¥çœ‹ï¼Œå¯ä»¥å±è”½ä¸åŒå­ç±»å¯¹è±¡ä¹‹é—´çš„å®ç°å·®å¼‚ï¼Œä»è€Œå†™å‡ºé€šç”¨çš„ä»£ç è¾¾åˆ°é€šç”¨ç¼–ç¨‹ï¼Œä»¥é€‚åº”éœ€æ±‚çš„ä¸æ–­å˜åŒ–ã€‚ï¼ˆå¤šæ€æ‰©å±•é˜…è¯»ï¼šé‡æ–°è®¤è¯†javaï¼ˆäº”ï¼‰ â€”- é¢å‘å¯¹è±¡ä¹‹å¤šæ€ï¼ˆå‘ä¸Šè½¬å‹ä¸å‘ä¸‹è½¬å‹ï¼‰ï¼‰ æŠ½è±¡æ˜¯æŒ‡ä»ç‰¹å®šçš„è§’åº¦å‡ºå‘ï¼Œä»å·²ç»å­˜åœ¨çš„ä¸€äº›äº‹ç‰©ä¸­æŠ½å–æˆ‘ä»¬æ‰€å…³æ³¨çš„ç‰¹æ€§ã€è¡Œä¸ºï¼Œä»è€Œå½¢æˆä¸€ä¸ªæ–°çš„äº‹ç‰©çš„æ€ç»´è¿‡ç¨‹ï¼Œæ˜¯ä¸€ç§ä»å¤æ‚åˆ°ç®€æ´çš„æ€ç»´æ–¹å¼ã€‚ 2ï¼‰é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿç­”ï¼šé¢å‘è¿‡ç¨‹æ˜¯ä¸€ç§ç«™åœ¨è¿‡ç¨‹çš„è§’åº¦æ€è€ƒé—®é¢˜çš„æ€æƒ³ï¼Œå¼ºè°ƒçš„æ˜¯åŠŸèƒ½è¡Œä¸ºï¼ŒåŠŸèƒ½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå³å…ˆå¹²å•¥ï¼Œåå¹²å•¥ã€‚ é¢å‘è¿‡ç¨‹çš„è®¾è®¡ï¼šæœ€å°çš„ç¨‹åºå•å…ƒæ˜¯å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°è´Ÿè´£å®ŒæˆæŸä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨ä»¥æ¥å—è¾“å…¥æ•°æ®ï¼Œå‡½æ•°å¯¹è¾“å…¥æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç„¶åè¾“å‡ºç»“æœæ•°æ®ã€‚æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿç”±ä¸€ä¸ªä¸ªçš„å‡½æ•°ç»„æˆï¼Œå…¶ä¸­ä½œä¸ºç¨‹åºå…¥å£çš„å‡½æ•°ç§°ä¹‹ä¸ºä¸»å‡½æ•°ï¼Œä¸»å‡½æ•°ä¾æ¬¡è°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œæ™®é€šå‡½æ•°ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä»è€Œå®ç°æ•´ä¸ªç³»ç»ŸåŠŸèƒ½ã€‚ é¢å‘è¿‡ç¨‹çš„ç¼ºé™·ï¼šå‘è¿‡ç¨‹çš„è®¾è®¡,æ˜¯é‡‡ç”¨ç½®é¡¶è€Œä¸‹çš„è®¾è®¡æ–¹å¼ï¼Œåœ¨è®¾è®¡é˜¶æ®µå°±éœ€è¦è€ƒè™‘æ¯ä¸€ä¸ªæ¨¡å—åº”è¯¥åˆ†è§£æˆå“ªäº›å­æ¨¡å—ï¼Œæ¯ä¸€ä¸ªå­æ¨¡å—æœ‰ç»†åˆ†ä¸ºæ›´å°çš„å­æ¨¡å—ï¼Œå¦‚æ­¤ç±»æ¨ï¼Œç›´åˆ°å°†æ¨¡å—ç»†åŒ–ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ã€‚ é—®é¢˜ï¼š1ï¼‰è®¾è®¡ä¸å¤Ÿç›´è§‚ï¼Œä¸äººç±»çš„ä¹ æƒ¯æ€ç»´ä¸ä¸€è‡´ï¼›2ï¼‰ç³»ç»Ÿè½¯ä»¶é€‚åº”æ€§å·®ï¼Œå¯æ‰©å±•æ€§å·®ï¼Œç»´æŠ¤æ€§ä½ã€‚ é¢å‘è¿‡ç¨‹æœ€å¤§çš„é—®é¢˜åœ¨äºéšç€ç³»ç»Ÿçš„è†¨èƒ€ï¼Œé¢å‘è¿‡ç¨‹å°†æ— æ³•åº”ä»˜ï¼Œæœ€ç»ˆå¯¼è‡´ç³»ç»Ÿçš„å´©æºƒã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç§è½¯ä»¶å±æœºï¼Œæˆ‘ä»¬æå‡ºé¢å‘å¯¹è±¡æ€æƒ³ã€‚ é¢å‘å¯¹è±¡æ˜¯ä¸€ç§åŸºäºé¢å‘è¿‡ç¨‹çš„æ–°çš„ç¼–ç¨‹æ€æƒ³ï¼Œæ˜¯ä¸€ç§ç«™åœ¨å¯¹è±¡çš„è§’åº¦æ€è€ƒé—®é¢˜çš„æ€æƒ³ï¼Œæˆ‘ä»¬æŠŠå¤šä¸ªåŠŸèƒ½åˆç†çš„æ”¾åˆ°ä¸åŒå¯¹è±¡é‡Œï¼Œå¼ºè°ƒçš„æ˜¯å…·å¤‡æŸäº›åŠŸèƒ½çš„å¯¹è±¡ã€‚ é¢å‘å¯¹è±¡æ›´åŠ ç¬¦åˆæˆ‘ä»¬å¸¸è§„çš„æ€ç»´æ–¹å¼ï¼Œç¨³å®šæ€§å¥½ï¼Œå¯é‡ç”¨æ€§å¼ºï¼Œæ˜“äºå¼€å‘å¤§å‹è½¯ä»¶äº§å“ï¼Œæœ‰è‰¯å¥½çš„å¯ç»´æŠ¤æ€§ã€‚åœ¨è½¯ä»¶å·¥ç¨‹ä¸Šï¼Œé¢å‘å¯¹è±¡å¯ä»¥ä½¿å·¥ç¨‹æ›´åŠ æ¨¡å—åŒ–ï¼Œå®ç°æ›´ä½çš„è€¦åˆå’Œæ›´é«˜çš„å†…èšã€‚ æ³¨æ„ï¼š ä¸è¦ç²—æµ…çš„è®¤ä¸ºé¢å‘å¯¹è±¡ä¸€å®šå°±ä¼˜äºé¢å‘è¿‡ç¨‹çš„è®¾è®¡ çœ‹åˆ°çŸ¥ä¹ä¸Šæœ‰ä¸€å¥æœ‰æ„æ€çš„è¯ï¼š ä½ çš„ç¨‹åºè¦å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œç›¸å½“äºè®²ä¸€ä¸ªæ•…äº‹ã€‚ é¢å‘è¿‡ç¨‹ï¼šç¼–å¹´ä½“ï¼›é¢å‘å¯¹è±¡ï¼šçºªä¼ ä½“ã€‚ è€Œå¯¹äºå¤æ‚çš„ç¨‹åº/å®å¤§çš„æ•…äº‹ï¼Œäº‹å®éƒ½è¯æ˜äº†ï¼Œé¢å‘å¯¹è±¡/çºªä¼ æ˜¯æ›´åˆç†çš„è¡¨è¿°æ–¹æ³•ã€‚ æ‰©å±•é˜…è¯»ï¼šé¢å‘è¿‡ç¨‹ VS é¢å‘å¯¹è±¡ 3ï¼‰JDK å’Œ JRE çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿè§£æï¼šè¿™æ˜¯è€ƒå¯Ÿä¸€äº›åŸºæœ¬çš„æ¦‚å¿µ ç­”ï¼šJava è¿è¡Œæ—¶ç¯å¢ƒï¼ˆJRE-Java Runtime Environmentï¼‰ï¼Œå®ƒåŒ…æ‹¬ Java è™šæ‹Ÿæœºã€Java æ ¸å¿ƒç±»åº“å’Œæ”¯æŒæ–‡ä»¶ï¼Œä½†å¹¶ä¸åŒ…å«å¼€å‘å·¥å…·ï¼ˆJDK-Java Development Kitï¼‰â€”â€”ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨å’Œå…¶ä»–å·¥å…·ã€‚ Java å¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰æ˜¯å®Œæ•´çš„ Java è½¯ä»¶å¼€å‘åŒ…ï¼ŒåŒ…å«äº† JREï¼Œç¼–è¯‘å™¨å’Œå…¶ä»–çš„å·¥å…·ï¼ˆæ¯”å¦‚ JavaDocï¼Œ Java è°ƒè¯•å™¨ï¼‰ï¼Œå¯ä»¥è®©å¼€å‘è€…å¼€å‘ã€ç¼–è¯‘ã€æ‰§è¡Œ Java åº”ç”¨ç¨‹åºã€‚ è¿˜æœ‰å…¶ä»–çš„ä¸€äº›åè¯ä¹Ÿå¯ä»¥å†çœ‹ä¸€ä¸‹ï¼š 4ï¼‰Java ä¸­è¦†ç›–å’Œé‡è½½æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè§£æï¼šè¦†ç›–å’Œé‡è½½æ˜¯æ¯”è¾ƒé‡è¦çš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“æ··æ·†ï¼Œæ‰€ä»¥é¢è¯•ä¸­å¸¸è§ã€‚ ç­”ï¼šè¦†ç›–ï¼ˆOverrideï¼‰æ˜¯æŒ‡å­ç±»å¯¹çˆ¶ç±»æ–¹æ³•çš„ä¸€ç§é‡å†™ï¼Œåªèƒ½æ¯”çˆ¶ç±»æŠ›å‡ºæ›´å°‘çš„å¼‚å¸¸ï¼Œè®¿é—®æƒé™ä¸èƒ½æ¯”çˆ¶ç±»çš„å°ï¼Œè¢«è¦†ç›–çš„æ–¹æ³•ä¸èƒ½æ˜¯ private çš„ï¼Œå¦åˆ™åªæ˜¯åœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰äº†ä¸€ä¸ªæ–°æ–¹æ³•ã€‚ é‡è½½ï¼ˆOverloadï¼‰è¡¨ç¤ºåŒä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªåç§°ç›¸åŒçš„æ–¹æ³•ï¼Œä½†è¿™äº›æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å„ä¸ç›¸åŒã€‚ é¢è¯•å®˜ï¼š é‚£ä¹ˆæ„æˆé‡è½½çš„æ¡ä»¶æœ‰å“ªäº›ï¼Ÿ ç­”ï¼šå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒã€å‚æ•°é¡ºåºä¸åŒã€‚ é¢è¯•å®˜ï¼š å‡½æ•°çš„è¿”å›å€¼ä¸åŒå¯ä»¥æ„æˆé‡è½½å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ç­”ï¼šä¸å¯ä»¥ï¼Œå› ä¸º Java ä¸­è°ƒç”¨å‡½æ•°å¹¶ä¸éœ€è¦å¼ºåˆ¶èµ‹å€¼ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š void f(){} int f(){ return 1; } åªè¦ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®è¯­å¢ƒæ˜ç¡®åˆ¤æ–­å‡ºè¯­ä¹‰ï¼Œæ¯”å¦‚åœ¨ int x = f(); ä¸­ï¼Œé‚£ä¹ˆçš„ç¡®å¯ä»¥æ®æ­¤åŒºåˆ†é‡è½½æ–¹æ³•ã€‚ä¸è¿‡ï¼Œ æœ‰æ—¶ä½ å¹¶ä¸å…³å¿ƒæ–¹æ³•çš„è¿”å›å€¼ï¼Œä½ æƒ³è¦çš„æ˜¯æ–¹æ³•è°ƒç”¨çš„å…¶ä»–æ•ˆæœ ï¼ˆè¿™å¸¸è¢«ç§°ä¸º â€œä¸ºäº†å‰¯ä½œç”¨è€Œè°ƒç”¨â€ ï¼‰ï¼Œè¿™æ—¶ä½ å¯èƒ½ä¼šè°ƒç”¨æ–¹æ³•è€Œå¿½ç•¥å…¶è¿”å›å€¼ï¼Œæ‰€ä»¥å¦‚æœåƒä¸‹é¢çš„è°ƒç”¨ï¼š f(); æ­¤æ—¶ Java å¦‚ä½•æ‰èƒ½åˆ¤æ–­è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ª f() å‘¢ï¼Ÿåˆ«äººå¦‚ä½•ç†è§£è¿™ç§ä»£ç å‘¢ï¼Ÿæ‰€ä»¥ï¼Œæ ¹æ®æ–¹æ³•è¿”å›å€¼æ¥åŒºåˆ†é‡è½½æ–¹æ³•æ˜¯è¡Œä¸é€šçš„ã€‚ 5ï¼‰æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿç­”ï¼š æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼›æ¥å£ä¸­çš„æ–¹æ³•å¿…é¡»æ˜¯æŠ½è±¡æ–¹æ³•ï¼› æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰æ™®é€šçš„æˆå‘˜å˜é‡ï¼›æ¥å£ä¸­çš„å˜é‡å¿…é¡»æ˜¯ static final ç±»å‹çš„ï¼Œå¿…é¡»è¢«åˆå§‹åŒ–,æ¥å£ä¸­åªæœ‰å¸¸é‡ï¼Œæ²¡æœ‰å˜é‡ã€‚ æŠ½è±¡ç±»åªèƒ½å•ç»§æ‰¿ï¼Œæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶æ¥å£ï¼› Java 8 ä¸­æ¥å£ä¸­ä¼šæœ‰ default æ–¹æ³•ï¼Œå³æ–¹æ³•å¯ä»¥è¢«å®ç°ã€‚ é¢è¯•å®˜ï¼šæŠ½è±¡ç±»å’Œæ¥å£å¦‚ä½•é€‰æ‹©ï¼Ÿ ç­”ï¼š å¦‚æœè¦åˆ›å»ºä¸å¸¦ä»»ä½•æ–¹æ³•å®šä¹‰å’Œæˆå‘˜å˜é‡çš„åŸºç±»ï¼Œé‚£ä¹ˆå°±åº”è¯¥é€‰æ‹©æ¥å£è€Œä¸æ˜¯æŠ½è±¡ç±»ã€‚ å¦‚æœçŸ¥é“æŸä¸ªç±»åº”è¯¥æ˜¯åŸºç±»ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé€‰æ‹©çš„åº”è¯¥æ˜¯è®©å®ƒæˆä¸ºä¸€ä¸ªæ¥å£ï¼Œåªæœ‰åœ¨å¿…é¡»è¦æœ‰æ–¹æ³•å®šä¹‰å’Œæˆå‘˜å˜é‡çš„æ—¶å€™ï¼Œæ‰åº”è¯¥é€‰æ‹©æŠ½è±¡ç±»ã€‚å› ä¸ºæŠ½è±¡ç±»ä¸­å…è®¸å­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¢«å…·ä½“å®ç°çš„æ–¹æ³•ï¼Œåªè¦æ–¹æ³•æ²¡æœ‰è¢«å…¨éƒ¨å®ç°è¯¥ç±»å°±ä»æ˜¯æŠ½è±¡ç±»ã€‚ 6ï¼‰Java å’Œ C++ çš„åŒºåˆ«ï¼šè§£æï¼šè™½ç„¶æˆ‘ä»¬ä¸å¤ªæ‡‚C++ï¼Œä½†æ˜¯å°±æ˜¯ä¼šè¿™ä¹ˆé—®ï¼Œå°¤å…¶æ˜¯ä¸‰é¢ï¼ˆæ€»ç›‘çº§åˆ«ï¼‰é¢è¯•ä¸­ã€‚ ç­”ï¼š éƒ½æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œéƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ æŒ‡é’ˆï¼šJavaä¸æä¾›æŒ‡é’ˆæ¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œç¨‹åºæ›´åŠ å®‰å…¨ ç»§æ‰¿ï¼š Javaçš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼ŒC++æ”¯æŒå¤šé‡ç»§æ‰¿ï¼›Javaé€šè¿‡ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£æ¥å®ç°C++ä¸­çš„å¤šé‡ç»§æ‰¿ï¼› Javaä¸­ç±»ä¸å¯ä»¥å¤šç»§æ‰¿ï¼Œä½†æ˜¯ï¼ï¼ï¼æ¥å£å¯ä»¥å¤šç»§æ‰¿ å†…å­˜ï¼š Javaæœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾æ— ç”¨å†…å­˜ 7ï¼‰â€œstaticâ€ å…³é”®å­—æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿç­”ï¼šâ€œstaticâ€ å…³é”®å­—è¡¨æ˜ä¸€ä¸ªæˆå‘˜å˜é‡æˆ–è€…æ˜¯æˆå‘˜æ–¹æ³•å¯ä»¥åœ¨æ²¡æœ‰æ‰€å±çš„ç±»çš„å®ä¾‹å˜é‡çš„æƒ…å†µä¸‹è¢«è®¿é—®ã€‚ é¢è¯•å®˜ï¼šJavaä¸­æ˜¯å¦å¯ä»¥è¦†ç›–(override)ä¸€ä¸ª private æˆ–è€…æ˜¯ static çš„æ–¹æ³•ï¼Ÿ ç­”ï¼šJava ä¸­ static æ–¹æ³•ä¸èƒ½è¢«è¦†ç›–ï¼Œå› ä¸ºæ–¹æ³•è¦†ç›–æ˜¯åŸºäºè¿è¡Œæ—¶åŠ¨æ€ç»‘å®šçš„ï¼Œè€Œ static æ–¹æ³•æ˜¯ç¼–è¯‘æ—¶é™æ€ç»‘å®šçš„ã€‚static æ–¹æ³•è·Ÿç±»çš„ä»»ä½•å®ä¾‹éƒ½ä¸ç›¸å…³ï¼Œæ‰€ä»¥æ¦‚å¿µä¸Šä¸é€‚ç”¨ã€‚ Java ä¸­ä¹Ÿä¸å¯ä»¥è¦†ç›– private çš„æ–¹æ³•ï¼Œå› ä¸º private ä¿®é¥°çš„å˜é‡å’Œæ–¹æ³•åªèƒ½åœ¨å½“å‰ç±»ä¸­ä½¿ç”¨ï¼Œå¦‚æœæ˜¯å…¶ä»–çš„ç±»ç»§æ‰¿å½“å‰ç±»æ˜¯ä¸èƒ½è®¿é—®åˆ° private å˜é‡æˆ–æ–¹æ³•çš„ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½è¦†ç›–ã€‚ æ‰©å±•é˜…è¯»ï¼šé‡æ–°è®¤è¯†javaï¼ˆå…­ï¼‰ â€”- javaä¸­çš„å¦ç±»ï¼šstaticå…³é”®å­—ï¼ˆé™„ä»£ç å—çŸ¥è¯†ï¼‰ 8ï¼‰Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿè§£æï¼šè¿™ç±»é¢˜ç›®ï¼Œé¢è¯•å®˜ä¼šæ‰‹å†™ä¸€ä¸ªä¾‹å­ï¼Œè®©ä½ è¯´å‡ºå‡½æ•°æ‰§è¡Œç»“æœã€‚ ç­”ï¼šå€¼ä¼ é€’æ˜¯å¯¹åŸºæœ¬å‹å˜é‡è€Œè¨€çš„,ä¼ é€’çš„æ˜¯è¯¥å˜é‡çš„ä¸€ä¸ªå‰¯æœ¬,æ”¹å˜å‰¯æœ¬ä¸å½±å“åŸå˜é‡ã€‚å¼•ç”¨ä¼ é€’ä¸€èˆ¬æ˜¯å¯¹äºå¯¹è±¡å‹å˜é‡è€Œè¨€çš„,ä¼ é€’çš„æ˜¯è¯¥å¯¹è±¡åœ°å€çš„ä¸€ä¸ªå‰¯æœ¬, å¹¶ä¸æ˜¯åŸå¯¹è±¡æœ¬èº« ã€‚ ä¸€èˆ¬è®¤ä¸ºï¼ŒJava å†…çš„ä¼ é€’éƒ½æ˜¯å€¼ä¼ é€’.ï¼ŒJava ä¸­å®ä¾‹å¯¹è±¡çš„ä¼ é€’æ˜¯å¼•ç”¨ä¼ é€’ï¼ŒJava æ˜¯å€¼ä¼ é€’çš„ï¼ æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š è¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è°ƒç”¨äº† swap() æ–¹æ³•ä¹‹åäº¤æ¢ arg1 å’Œ arg2 çš„å€¼ï¼Œä½†äº‹å®ä¸Šå¹¶æ²¡æœ‰ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ è¿™å°±æ˜¯å› ä¸º Java æ˜¯å€¼ä¼ é€’çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨ä¸€ä¸ªéœ€è¦ä¼ é€’å‚æ•°çš„å‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¹¶ä¸æ˜¯æˆ‘ä»¬ä¼ é€’è¿›å»çš„å‚æ•°æœ¬èº«ï¼Œè€Œæ˜¯å®ƒçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œæˆ‘ä»¬æ”¹å˜äº†æ•°æ®å…¶å®åªæ˜¯æ”¹å˜äº†å‰¯æœ¬çš„æ•°æ®è€Œå·²ï¼Œå¹¶ä¸ä¼šå¯¹åŸæ¥çš„å‚æ•°æœ‰ä»»ä½•çš„æ”¹å˜ã€‚ å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š æˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ç±» Person ï¼Œè¯¥ç±»åªæœ‰ä¸€ä¸ª int ç±»å‹çš„ age å±æ€§ï¼Œç„¶åæœ‰ getter/setter ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ changeAge() å‡½æ•°æ¥æ”¹å˜ Person å¯¹è±¡çš„ age å±æ€§ï¼Œä¸ºä»€ä¹ˆè¿™æ¬¡æˆåŠŸäº†å‘¢ï¼Ÿ ä½ ä¾ç„¶å¯ä»¥ç†è§£ä¸ºï¼Œä¸»å‡½æ•°å°† person å¤åˆ¶äº†ä¸€ä»½åˆ° changeAge å‡½æ•°ä¸­å»ï¼Œæœ€ç»ˆè¿˜æ˜¯åªæ”¹å˜äº† changeAge ä¸­å¤åˆ¶çš„é‚£ä¸€ä»½å‚æ•°çš„å€¼ï¼Œè€ŒåŸæœ¬çš„å‚æ•°å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½† changeAge ä¸­çš„é‚£ä¸€ä»½å’ŒåŸæœ¬çš„å‚æ•°æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åŒºåŸŸï¼ 9ï¼‰JDK ä¸­å¸¸ç”¨çš„åŒ…æœ‰å“ªäº›ï¼Ÿç­”ï¼šjava.langã€java.utilã€java.ioã€java.netã€java.sqlã€‚ 10ï¼‰JDKï¼ŒJRE å’Œ JVM çš„è”ç³»å’ŒåŒºåˆ«ï¼Ÿç­”ï¼šJDK æ˜¯ Java å¼€å‘å·¥å…·åŒ…ï¼Œæ˜¯ Java å¼€å‘ç¯å¢ƒçš„æ ¸å¿ƒç»„ä»¶ï¼Œå¹¶æä¾›ç¼–è¯‘ã€è°ƒè¯•å’Œè¿è¡Œä¸€ä¸ª Java ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰å·¥å…·ï¼Œå¯æ‰§è¡Œæ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¹³å°ç‰¹å®šçš„è½¯ä»¶ã€‚ JRE æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ˜¯ JVM çš„å®æ–½å®ç°ï¼Œæä¾›äº†è¿è¡Œ Java ç¨‹åºçš„å¹³å°ã€‚JRE åŒ…å«äº† JVMï¼Œä½†æ˜¯ä¸åŒ…å« Java ç¼–è¯‘å™¨ / è°ƒè¯•å™¨ä¹‹ç±»çš„å¼€å‘å·¥å…·ã€‚ JVM æ˜¯ Java è™šæ‹Ÿæœºï¼Œå½“æˆ‘ä»¬è¿è¡Œä¸€ä¸ªç¨‹åºæ—¶ï¼ŒJVM è´Ÿè´£å°†å­—èŠ‚ç è½¬æ¢ä¸ºç‰¹å®šæœºå™¨ä»£ç ï¼ŒJVM æä¾›äº†å†…å­˜ç®¡ç† / åƒåœ¾å›æ”¶å’Œå®‰å…¨æœºåˆ¶ç­‰ã€‚ è¿™ç§ç‹¬ç«‹äºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿï¼Œæ­£æ˜¯ Java ç¨‹åºå¯ä»¥ä¸€æ¬¡ç¼–å†™å¤šå¤„æ‰§è¡Œçš„åŸå› ã€‚ åŒºåˆ«ï¼š &emsp;&emsp;1. JDK ç”¨äºå¼€å‘ï¼ŒJRE ç”¨äºè¿è¡Œ Java ç¨‹åºï¼›&emsp;&emsp;2. JDK å’Œ JRE ä¸­éƒ½åŒ…å« JVMï¼›&emsp;&emsp;3. JVM æ˜¯ Java ç¼–ç¨‹è¯­è¨€çš„æ ¸å¿ƒå¹¶ä¸”å…·æœ‰å¹³å°ç‹¬ç«‹æ€§ã€‚ 11ï¼‰Integer çš„ç¼“å­˜æœºåˆ¶è§£æï¼šè€ƒå¯Ÿçš„æ˜¯å¯¹æºç çš„ç†Ÿæ‚‰ç¨‹åº¦ çœ‹ä¸€ä¸ªä¾‹å­ï¼š ç¬¬ä¸€ä¸ªè¿”å›trueå¾ˆå¥½ç†è§£ï¼Œå°±åƒä¸Šé¢è®²çš„ï¼Œaå’ŒbæŒ‡å‘ç›¸åŒçš„åœ°å€ã€‚ ç¬¬äºŒä¸ªè¿”å›falseæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸º Integer æœ‰ç¼“å­˜æœºåˆ¶ï¼Œåœ¨ JVM å¯åŠ¨åˆæœŸå°±ç¼“å­˜äº† -128 åˆ° 127 è¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰æ•°å­—ã€‚ ç¬¬ä¸‰ä¸ªè¿”å›falseæ˜¯å› ä¸ºç”¨äº†newå…³é”®å­—æ¥å¼€è¾Ÿäº†æ–°çš„ç©ºé—´ï¼Œiå’Œjä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«æŒ‡å‘å †åŒºä¸­çš„ä¸¤å—å†…å­˜ç©ºé—´ã€‚ æˆ‘ä»¬å¯ä»¥è·Ÿè¸ªä¸€ä¸‹Integerçš„æºç ï¼Œçœ‹çœ‹åˆ°åº•æ€ä¹ˆå›äº‹ã€‚åœ¨IDEAä¸­ï¼Œä½ åªéœ€è¦æŒ‰ä½Ctrlç„¶åç‚¹å‡»Integerï¼Œå°±ä¼šè‡ªåŠ¨è¿›å…¥jaråŒ…ä¸­å¯¹åº”çš„ç±»æ–‡ä»¶ã€‚ è·Ÿè¸ªåˆ°æ–‡ä»¶çš„700å¤šè¡Œï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¹ˆä¸€æ®µï¼Œæ„Ÿå…´è¶£å¯ä»¥ä»”ç»†è¯»ä¸€ä¸‹ï¼Œä¸ç”¨å»è¯»ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºä½ åªéœ€è¦çŸ¥é“è¿™æ˜¯ Java çš„ä¸€ä¸ªç¼“å­˜æœºåˆ¶ã€‚Integer ç±»çš„å†…éƒ¨ç±»ç¼“å­˜äº† -128 åˆ° 127 çš„æ‰€æœ‰æ•°å­—ã€‚ï¼ˆäº‹å®ä¸Šï¼ŒIntegerç±»çš„ç¼“å­˜ä¸Šé™æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ¥æ›´æ”¹çš„ï¼Œäº†è§£å°±è¡Œäº†ï¼Œä¸å¿…å»æ·±ç©¶ã€‚ï¼‰ 12ï¼‰ä¸‹è¿°ä¸¤ç§æ–¹æ³•åˆ†åˆ«åˆ›å»ºäº†å‡ ä¸ª Sring å¯¹è±¡ï¼Ÿ// ç¬¬ä¸€ç§ï¼šç›´æ¥èµ‹ä¸€ä¸ªå­—é¢é‡ String str1 = \"ABCD\"; // ç¬¬äºŒç§ï¼šé€šè¿‡æ„é€ å™¨åˆ›å»º String str2 = new String(\"ABCD\"); è§£æï¼šè€ƒå¯Ÿçš„æ˜¯å¯¹ String å¯¹è±¡å’Œ JVM å†…å­˜åˆ’åˆ†çš„çŸ¥è¯†ã€‚ ç­”ï¼šString str1 = &quot;ABCD&quot;;æœ€å¤šåˆ›å»ºä¸€ä¸ªStringå¯¹è±¡,æœ€å°‘ä¸åˆ›å»ºStringå¯¹è±¡.å¦‚æœå¸¸é‡æ± ä¸­,å­˜åœ¨â€ABCDâ€,é‚£ä¹ˆstr1ç›´æ¥å¼•ç”¨,æ­¤æ—¶ä¸åˆ›å»ºStringå¯¹è±¡.å¦åˆ™,å…ˆåœ¨å¸¸é‡æ± å…ˆåˆ›å»ºâ€ABCDâ€å†…å­˜ç©ºé—´,å†å¼•ç”¨. String str2 = new String(&quot;ABCD&quot;);æœ€å¤šåˆ›å»ºä¸¤ä¸ªStringå¯¹è±¡ï¼Œè‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚newå…³é”®å­—ç»å¯¹ä¼šåœ¨å †ç©ºé—´åˆ›å»ºä¸€å—æ–°çš„å†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥è‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚ æˆ‘ä»¬æ¥çœ‹å›¾ç†è§£ä¸€ä¸‹ï¼š å½“æ‰§è¡Œç¬¬ä¸€å¥è¯çš„æ—¶å€™ï¼Œä¼šåœ¨å¸¸é‡æ± ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ABCDå­—ç¬¦ï¼Œstr1æŒ‡å‘å¸¸é‡æ± çš„ABCD å½“æ‰§è¡Œç¬¬äºŒå¥è¯çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰newæ“ä½œç¬¦ï¼Œæ‰€ä»¥ä¼šåœ¨å †ç©ºé—´æ–°å¼€è¾Ÿä¸€å—ç©ºé—´ç”¨æ¥å­˜å‚¨æ–°çš„Stringå¯¹è±¡ï¼Œå› ä¸ºæ­¤æ—¶å¸¸é‡æ± ä¸­å·²ç»æœ‰äº†ABCDå­—ç¬¦ï¼Œæ‰€ä»¥å †ä¸­çš„Stringå¯¹è±¡æŒ‡å‘å¸¸é‡æ± ä¸­çš„ABCDï¼Œè€Œstr2åˆ™æŒ‡å‘å †ç©ºé—´ä¸­çš„Stringå¯¹è±¡ã€‚ String å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­˜åœ¨ï¼Œéœ€è¦æ³¨æ„çš„çŸ¥è¯†ç‚¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œè¿™é‡Œç»™ä¸€ä¸ªä¹‹å‰å†™çš„ String è¯¦è§£çš„æ–‡ç« é“¾æ¥ï¼šä¼ é€é—¨ å…¶ä¸­åŒ…å«çš„é—®é¢˜å¤§æ¦‚æœ‰ï¼š1ï¼‰â€œ+â€ æ€ä¹ˆè¿æ¥å­—ç¬¦ä¸²ï¼›2ï¼‰å­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼›3ï¼‰StringBuilder/StringBuffer/String çš„åŒºåˆ«ï¼› 13ï¼‰i++ ä¸ ++i åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿè§£æï¼šå¯¹äºè¿™ä¸¤ä¸ªçš„åŒºåˆ«ï¼Œç†Ÿæ‚‰çš„è¡¨è¿°æ˜¯ï¼šå‰ç½®++æ˜¯å…ˆå°†å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åä½¿ç”¨åŠ  1 åçš„å€¼å‚ä¸è¿ç®—ï¼Œè€Œåç½®++åˆ™æ˜¯å…ˆä½¿ç”¨è¯¥å€¼å‚ä¸è¿ç®—ï¼Œç„¶åå†å°†è¯¥å€¼åŠ  1 .ä½†äº‹å®ä¸Šï¼Œå‰ç½®++å’Œåç½®++ä¸€æ ·ï¼Œåœ¨å‚ä¸è¿ç®—ä¹‹å‰éƒ½ä¼šå°†å˜é‡çš„å€¼åŠ  1 ç­”ï¼šå®é™…ä¸Šï¼Œä¸ç®¡æ˜¯å‰ç½® ++ï¼Œè¿˜æ˜¯åç½® ++ï¼Œéƒ½æ˜¯å…ˆå°†å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åæ‰ç»§ç»­è®¡ç®—çš„ã€‚äºŒè€…ä¹‹é—´çœŸæ­£çš„åŒºåˆ«æ˜¯ï¼šå‰ç½® ++ æ˜¯å°†å˜é‡çš„å€¼åŠ  1 åï¼Œä½¿ç”¨å¢å€¼åçš„å˜é‡è¿›è¡Œè¿ç®—çš„ï¼Œè€Œåç½® ++ æ˜¯é¦–å…ˆå°†å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥ä¸‹æ¥å¯¹å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åä½¿ç”¨é‚£ä¸ªä¸´æ—¶å˜é‡è¿›è¡Œè¿ç®—ã€‚ 14ï¼‰äº¤æ¢å˜é‡çš„ä¸‰ç§æ–¹å¼ç­”ï¼š ç¬¬ä¸€ç§ï¼šé€šè¿‡ç¬¬ä¸‰ä¸ªå˜é‡ public class Test{ public static void main(String[] args) { int x = 5; int y = 10; swap(x,y); System.out.println(x); System.out.println(y); Value v = new Value(5,10); swap(v); System.out.println(v.x); System.out.println(v.y); } // æ— æ•ˆçš„äº¤æ¢ï¼šå½¢å‚çš„æ”¹å˜æ— æ³•åä½œç”¨äºå®å‚ public static void swap(int x,int y) { int temp = x; x = y; y = temp; } // æœ‰æ•ˆçš„äº¤æ¢ï¼šé€šè¿‡å¼•ç”¨ï¼ˆå˜é‡æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼‰æ¥ä¿®æ”¹æˆå‘˜å˜é‡ public static void swap(Value value) { int temp = value.x; value.x = value.y; value.y = temp; } } class Value{ int x; int y; public Value(int x,int y) { this.x = x; this.y = y; } } è¾“å‡ºçš„ç»“æœï¼š510105 è¿™æœ‰ç‚¹ç±»ä¼¼äºC/C++è¯­è¨€ä¸­çš„æŒ‡é’ˆï¼Œä¸è¿‡ç›¸å¯¹æ¥è¯´æ›´åŠ å®‰å…¨ã€‚ äº‹å®ä¸Šï¼Œå…¶å®å¦‚æœæŠŠåŸºç¡€ç±»å‹intæ”¹æˆå¯¹åº”çš„åŒ…è£…ç±»çš„è¯å…¶å®å¯ä»¥æ›´åŠ ç®€å•çš„å®Œæˆè¿™ä¸ªæ“ä½œï¼Œä¸è¿‡éœ€è¦ä»˜å‡ºæ›´å¤šçš„å†…å­˜ä»£ä»·ã€‚ ç¬¬äºŒç§ï¼šé€šè¿‡é€šè¿‡ç›¸åŠ çš„æ–¹å¼ï¼ˆç›¸åŒçš„ Value ç±»ä¸å†é‡å¤å±•ç¤ºï¼‰ public class Test{ public static void main(String[] args) { Value v1 = new Value(5,10); swap(v1); System.out.println(\"v1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š\"); System.out.println(v1.x); System.out.println(v1.y); } public static void swap(Value v) { v.x = v.x + v.y; v.y = v.x - v.y; v.x = v.x - v.y; } } è¾“å‡ºçš„ç»“æœï¼šv1çš„äº¤æ¢ç»“æœï¼š105 æ ¸å¿ƒçš„ç®—æ³•å°±æ˜¯swapæ–¹æ³•: v.x = v.x + v.y; // æŠŠv.xä¸v.yçš„å’Œå­˜å‚¨åœ¨v.xä¸­ v.y = v.x - v.y; // v.xå‡æ‰v.yæœ¬æ¥çš„å€¼å³ä¸ºv.x v.x = v.x - v.y; // v.xå‡æ‰v.yçš„å€¼ä¹Ÿå°±æ˜¯ä»¥å‰x.yçš„å€¼ è¿™æ ·å°±å¯ä»¥ä¸é€šè¿‡ä¸´æ—¶å˜é‡ï¼Œæ¥è¾¾åˆ°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„ç›®çš„ï¼Œå¦‚æœè§‰å¾—ä¸Šé¢çš„æ–¹æ³•ä¸å¤ªå®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ä¸ªå‚æ•°zæ¥è¡¨ç¤ºä¸Šè¿°è¿‡ç¨‹ï¼š int z = v.x + v.y; // æŠŠv.xä¸v.yçš„å’Œå­˜å‚¨åœ¨zä¸­ v.y = z - v.y; // zå‡æ‰ä»¥å‰çš„v.yå°±ç­‰äºv.x v.x = z - v.y; // zå‡æ‰ç°åœ¨çš„v.yå³ä»¥å‰çš„v.xï¼Œå³ä¸ºv.y ä½†å¹¶ä¸æ¨èè¿™ç§åšæ³•ï¼ŒåŸå› åœ¨äºå½“æ•°å€¼å¾ˆå¤§çš„æ—¶å€™ï¼Œ16è¿›åˆ¶çš„æ±‚å’Œè¿ç®—å¯èƒ½é€ æˆæ•°æ®çš„æº¢å‡ºï¼Œè™½ç„¶æœ€åçš„ç»“æœä¾ç„¶ä¼šæ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œä½†ä»ç„¶ä¸æ˜¯ååˆ†å¯å–ã€‚ ç¬¬ä¸‰ç§ï¼šé€šè¿‡å¼‚æˆ–çš„æ–¹å¼ï¼š ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰æœ‰è¿™æ ·çš„ä¸€ä¸ªæ€§è´¨ï¼Œå°±æ˜¯ä¸¤ä¸ªæ•´å‹çš„æ•°æ®xä¸yï¼Œæœ‰ï¼šï¼ˆx ^ y ^ yï¼‰ == xè¿™è¯´æ˜ï¼Œå¦‚æœä¸€ä¸ªå˜é‡xå¼‚æˆ–å¦å¤–ä¸€ä¸ªå˜é‡yä¸¤æ¬¡ï¼Œç»“æœä¸ºxã€‚é€šè¿‡è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å®ç°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š public class Test{ public static void main(String[] args) { Value v1 = new Value(5,10); swap(v1); System.out.println(\"v1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š\"); System.out.println(v1.x); System.out.println(v1.y); } public static void swap(Value v) { v.x = v.x ^ v.y; v.y = v.x ^ v.y; v.x = v.x ^ v.y; } } è¾“å‡ºçš„ç»“æœï¼šv1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š105 è·Ÿä¸Šé¢ç›¸åŠ çš„æ–¹å¼è¿‡ç¨‹å‡ ä¹ç±»ä¼¼ï¼Œåªä¸è¿‡è¿ç®—çš„æ–¹å¼ä¸åŒè€Œå·²ã€‚å¼‚æˆ–çš„æ–¹æ³•æ¯”ç›¸åŠ æ›´åŠ å¯å–çš„åœ°æ–¹åœ¨äºï¼Œå¼‚æˆ–ä¸å­˜åœ¨æ•°æ®æº¢å‡ºã€‚ 15ï¼‰Java å¯¹è±¡åˆå§‹åŒ–é¡ºåºï¼Ÿç­”ï¼šä¸è€ƒè™‘é™æ€æˆå‘˜çš„åˆå§‹åŒ–ï¼Œè°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°æ—¶ï¼Œç¨‹åºå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼ˆå¯ä»¥é€šè¿‡superå…³é”®å­—æŒ‡å®šçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™é»˜è®¤è°ƒç”¨æ— å‚çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”éœ€è¦åœ¨å­ç±»çš„æ„é€ å‡½æ•°çš„ç¬¬ä¸€è¡Œè°ƒç”¨ï¼‰ï¼Œä¹‹åé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å‡½æ•°å’Œé™æ€åˆå§‹åŒ–å—åˆ™æŒ‰ç…§åœ¨ä»£ç å½“ä¸­çš„é¡ºåºæ‰§è¡Œï¼Œæˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰æŒ‡å®šå€¼çš„è¯åˆ™èµ‹äºˆé»˜è®¤å€¼ï¼Œå³åŸºæœ¬æ•°æ®ç±»å‹ä¸º0æˆ–falseç­‰ï¼Œå¯¹è±¡åˆ™ä¸ºnullï¼›æœ€åè°ƒç”¨è‡ªèº«æ„é€ å‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µç¨‹åºæ¥å¯¹åˆå§‹åŒ–é¡ºåºè¿›è¡Œä¸€ä¸ªç®€å•çš„éªŒè¯ï¼š public class Derive extends Base { private Member m1 = new Member(\"Member 1\"); { System.out.println(\"Initial Block()\"); } public Derive() { System.out.println(\"Derive()\"); } private Member m2 = new Member(\"Member 2\"); private int i = getInt(); private int getInt() { System.out.println(\"getInt()\"); return 2; } public static void main(String[] args) { new Derive(); } } class Base { public Base() { System.out.println(\"Base()\"); } } class Member { public Member(String m) { System.out.println(\"Member() \"+m); } } ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼šBase()Member() Member 1Initial Block()Member() Member 2getInt()Derive() 16ï¼‰trueã€false ä¸ null æ˜¯å…³é”®å­—å—ï¼Ÿç­”ï¼šä¸æ˜¯ã€‚trueã€false æ˜¯å¸ƒå°”ç±»å‹çš„å­—é¢å¸¸é‡ï¼Œnull æ˜¯å¼•ç”¨ç±»å‹çš„å­—é¢å¸¸é‡ã€‚ é¢è¯•å®˜ï¼šé‚£ goto ä¸ const å‘¢ï¼Ÿ ç­”ï¼šæ˜¯ã€‚goto ä¸ const å‡æ˜¯ Java è¯­è¨€ä¿ç•™çš„å…³é”®å­—ï¼Œå³æ²¡æœ‰ä»»ä½•è¯­æ³•åº”ç”¨ã€‚ 17ï¼‰exception å’Œ error æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šexception å’Œ erroréƒ½æ˜¯ Throwable çš„å­ç±»ã€‚exception ç”¨äºç”¨æˆ·ç¨‹åºå¯ä»¥æ•è·çš„å¼‚å¸¸æƒ…å†µï¼›error å®šä¹‰äº†ä¸æœŸæœ›è¢«ç”¨æˆ·ç¨‹åºæ•è·çš„å¼‚å¸¸ã€‚ exception è¡¨ç¤ºä¸€ç§è®¾è®¡æˆ–è®¾è®¡çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œä»ä¸ä¼šå‘ç”Ÿçš„æƒ…å†µï¼›è€Œ error è¡¨ç¤ºå›å¤ä¸æ˜¯ä¸å¯èƒ½ä½†æ˜¯å¾ˆå›°éš¾çš„æƒ…å†µä¸‹çš„ä¸€ç§ä¸¥é‡é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜æº¢å‡ºï¼Œä¸å¯èƒ½æŒ‡æœ›ç¨‹åºå¤„ç†è¿™æ ·çš„æƒ…å†µã€‚ 18ï¼‰throw å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šthrow å…³é”®å­—ç”¨æ¥åœ¨ç¨‹åºä¸­æ˜ç¡®çš„æŠ›å‡ºå¼‚å¸¸ï¼Œç›¸åï¼Œthrows è¯­å¥ç”¨æ¥è¡¨æ˜æ–¹æ³•ä¸èƒ½å¤„ç†çš„å¼‚å¸¸ã€‚æ¯ä¸€ä¸ªæ–¹æ³•éƒ½å¿…é¡»è¦æŒ‡å®šå“ªäº›å¼‚å¸¸ä¸èƒ½å¤„ç†ï¼Œæ‰€ä»¥æ–¹æ³•çš„è°ƒç”¨è€…æ‰èƒ½å¤Ÿç¡®ä¿å¤„ç†å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¤šä¸ªå¼‚å¸¸æ˜¯ç”¨é€—å·åˆ†éš”çš„ã€‚ å°ç»“ï¼šæœ¬èŠ‚ä¸»è¦é˜è¿°äº† Java åŸºç¡€çŸ¥è¯†ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠåˆ°ä¸€äº›é«˜çº§çš„ç‰¹æ€§ï¼Œè¿™äº›é—®é¢˜ä¸€èˆ¬éš¾åº¦ä¸å¤§ï¼Œé€‚å½“å¤ä¹ ä¸‹ï¼Œåº”è¯¥æ²¡é—®é¢˜ã€‚ ï¼ˆäºŒï¼‰Java ä¸­å¸¸è§é›†åˆé›†åˆè¿™æ–¹é¢çš„è€ƒå¯Ÿç›¸å½“å¤šï¼Œè¿™éƒ¨åˆ†æ˜¯é¢è¯•ä¸­å¿…è€ƒçš„çŸ¥è¯†ç‚¹ã€‚ 1ï¼‰è¯´è¯´å¸¸è§çš„é›†åˆæœ‰å“ªäº›å§ï¼Ÿç­”ï¼šMapæ¥å£å’ŒCollectionæ¥å£æ˜¯æ‰€æœ‰é›†åˆæ¡†æ¶çš„çˆ¶æ¥å£ï¼š Collectionæ¥å£çš„å­æ¥å£åŒ…æ‹¬ï¼šSetæ¥å£å’ŒListæ¥å£ Mapæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashMapã€TreeMapã€Hashtableã€ConcurrentHashMapä»¥åŠPropertiesç­‰ Setæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashSetã€TreeSetã€LinkedHashSetç­‰ Listæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Stackä»¥åŠVectorç­‰ 2ï¼‰HashMapå’ŒHashtableçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿï¼ˆå¿…é—®ï¼‰ç­”ï¼š HashMapæ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼›Hashtableä½¿ç”¨äº†synchronizedå…³é”®å­—ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼› å‰è€…å…è®¸nullä½œä¸ºKeyï¼›åè€…ä¸å…è®¸nullä½œä¸ºKey 3ï¼‰HashMapçš„åº•å±‚å®ç°ä½ çŸ¥é“å—ï¼Ÿç­”ï¼šåœ¨Java8ä¹‹å‰ï¼Œå…¶åº•å±‚å®ç°æ˜¯æ•°ç»„+é“¾è¡¨å®ç°ï¼ŒJava8ä½¿ç”¨äº†æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°ã€‚æ­¤æ—¶ä½ å¯ä»¥ç®€å•çš„åœ¨çº¸ä¸Šç”»å›¾åˆ†æï¼š 4ï¼‰ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«ï¼Ÿï¼ˆå¿…é—®ï¼‰ ç­”ï¼šConcurrentHashMap ç»“åˆäº† HashMap å’Œ HashTable äºŒè€…çš„ä¼˜åŠ¿ã€‚HashMap æ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼ŒHashTable è€ƒè™‘äº†åŒæ­¥çš„é—®é¢˜ã€‚ä½†æ˜¯ HashTable åœ¨æ¯æ¬¡åŒæ­¥æ‰§è¡Œæ—¶éƒ½è¦é”ä½æ•´ä¸ªç»“æ„ã€‚ ConcurrentHashMap é”çš„æ–¹å¼æ˜¯ç¨å¾®ç»†ç²’åº¦çš„ã€‚ ConcurrentHashMap å°† hash è¡¨åˆ†ä¸º 16 ä¸ªæ¡¶ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œè¯¸å¦‚get,put,remove ç­‰å¸¸ç”¨æ“ä½œåªé”å½“å‰éœ€è¦ç”¨åˆ°çš„æ¡¶ã€‚ é¢è¯•å®˜ï¼šConcurrentHashMapçš„å…·ä½“å®ç°çŸ¥é“å—ï¼Ÿ ç­”ï¼š 1. è¯¥ç±»åŒ…å«ä¸¤ä¸ªé™æ€å†…éƒ¨ç±» HashEntry å’Œ Segment ï¼›å‰è€…ç”¨æ¥å°è£…æ˜ å°„è¡¨çš„é”®å€¼å¯¹ï¼Œåè€…ç”¨æ¥å……å½“é”çš„è§’è‰²ï¼› 2. Segment æ˜¯ä¸€ç§å¯é‡å…¥çš„é” ReentrantLockï¼Œæ¯ä¸ª Segment å®ˆæŠ¤ä¸€ä¸ªHashEntry æ•°ç»„é‡Œå¾—å…ƒç´ ï¼Œå½“å¯¹ HashEntry æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„ Segment é”ã€‚ 5ï¼‰HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Ÿç­”ï¼š 1. é€šè¿‡å°† Key çš„ hash å€¼ä¸ length - 1 è¿›è¡Œ &amp; è¿ç®—ï¼Œå®ç°äº†å½“å‰ Key çš„å®šä½ï¼Œ2 çš„å¹‚æ¬¡æ–¹å¯ä»¥å‡å°‘å†²çªï¼ˆç¢°æ’ï¼‰çš„æ¬¡æ•°ï¼Œæé«˜ HashMap æŸ¥è¯¢æ•ˆç‡ 2. å¦‚æœ length ä¸º 2 çš„æ¬¡å¹‚ åˆ™ length-1 è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å¿…å®šæ˜¯ 11111â€¦â€¦çš„å½¢å¼ï¼Œåœ¨äº h çš„äºŒè¿›åˆ¶ä¸æ“ä½œæ•ˆç‡ä¼šéå¸¸çš„å¿«ï¼Œè€Œä¸”ç©ºé—´ä¸æµªè´¹ï¼›å¦‚æœ length ä¸æ˜¯ 2 çš„æ¬¡å¹‚ï¼Œæ¯”å¦‚ length ä¸º 15ï¼Œåˆ™ length - 1 ä¸º 14ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º 1110ï¼Œåœ¨äº h ä¸æ“ä½œï¼Œæœ€åä¸€ä½éƒ½ä¸º 0 ï¼Œè€Œ 0001ï¼Œ0011ï¼Œ0101ï¼Œ1001ï¼Œ1011ï¼Œ0111ï¼Œ1101 è¿™å‡ ä¸ªä½ç½®æ°¸è¿œéƒ½ä¸èƒ½å­˜æ”¾å…ƒç´ äº†ï¼Œç©ºé—´æµªè´¹ç›¸å½“å¤§ï¼Œæ›´ç³Ÿçš„æ˜¯è¿™ç§æƒ…å†µä¸­ï¼Œæ•°ç»„å¯ä»¥ä½¿ç”¨çš„ä½ç½®æ¯”æ•°ç»„é•¿åº¦å°äº†å¾ˆå¤šï¼Œè¿™æ„å‘³ç€è¿›ä¸€æ­¥å¢åŠ äº†ç¢°æ’çš„å‡ ç‡ï¼Œå‡æ…¢äº†æŸ¥è¯¢çš„æ•ˆç‡ï¼è¿™æ ·å°±ä¼šé€ æˆç©ºé—´çš„æµªè´¹ã€‚ 6ï¼‰Listå’ŒSetçš„åŒºåˆ«æ˜¯å•¥ï¼Ÿç­”ï¼šListå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥é‡å¤ï¼›Setå…ƒç´ æ˜¯æ— åºçš„ï¼Œä¸å¯ä»¥é‡å¤ã€‚ 7ï¼‰Listã€Setå’ŒMapçš„åˆå§‹å®¹é‡å’ŒåŠ è½½å› å­ï¼šç­”ï¼š 1. List ArrayListçš„åˆå§‹å®¹é‡æ˜¯10ï¼›åŠ è½½å› å­ä¸º0.5ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 0.5å€+1ï¼›ä¸€æ¬¡æ‰©å®¹åé•¿åº¦ä¸º15ã€‚ Vectoråˆå§‹å®¹é‡ä¸º10ï¼ŒåŠ è½½å› å­æ˜¯1ã€‚æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1å€ï¼Œå¦‚ Vectorçš„å®¹é‡ä¸º10ï¼Œä¸€æ¬¡æ‰©å®¹åæ˜¯å®¹é‡ä¸º20ã€‚ 2. Set HashSetï¼Œåˆå§‹å®¹é‡ä¸º16ï¼ŒåŠ è½½å› å­ä¸º0.75ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼› å¦‚ HashSetçš„å®¹é‡ä¸º16ï¼Œä¸€æ¬¡æ‰©å®¹åå®¹é‡ä¸º32 3. Map HashMapï¼Œåˆå§‹å®¹é‡16ï¼ŒåŠ è½½å› å­ä¸º0.75ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼› å¦‚ HashMapçš„å®¹é‡ä¸º16ï¼Œä¸€æ¬¡æ‰©å®¹åå®¹é‡ä¸º32 8ï¼‰Comparableæ¥å£å’ŒComparatoræ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼š 1. å‰è€…ç®€å•ï¼Œä½†æ˜¯å¦‚æœéœ€è¦é‡æ–°å®šä¹‰æ¯”è¾ƒç±»å‹æ—¶ï¼Œéœ€è¦ä¿®æ”¹æºä»£ç ã€‚ 2. åè€…ä¸éœ€è¦ä¿®æ”¹æºä»£ç ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œå®ç°è‡ªå®šä¹‰çš„æ¯”è¾ƒæ–¹æ³•ã€‚ å…·ä½“è§£æå‚è€ƒåšå®¢ï¼šJavaé›†åˆæ¡†æ¶â€”Set 9ï¼‰Javaé›†åˆçš„å¿«é€Ÿå¤±è´¥æœºåˆ¶ â€œfail-fastâ€ç­”ï¼š æ˜¯javaé›†åˆçš„ä¸€ç§é”™è¯¯æ£€æµ‹æœºåˆ¶ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¯¹é›†åˆè¿›è¡Œç»“æ„ä¸Šçš„æ”¹å˜çš„æ“ä½œæ—¶ï¼Œæœ‰å¯èƒ½ä¼šäº§ç”Ÿ fail-fast æœºåˆ¶ã€‚ ä¾‹å¦‚ï¼šå‡è®¾å­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹1ã€çº¿ç¨‹2ï¼‰ï¼Œçº¿ç¨‹1é€šè¿‡Iteratoråœ¨éå†é›†åˆAä¸­çš„å…ƒç´ ï¼Œåœ¨æŸä¸ªæ—¶å€™çº¿ç¨‹2ä¿®æ”¹äº†é›†åˆAçš„ç»“æ„ï¼ˆæ˜¯ç»“æ„ä¸Šé¢çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ç®€å•çš„ä¿®æ”¹é›†åˆå…ƒç´ çš„å†…å®¹ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ç¨‹åºå°±ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ï¼Œä»è€Œäº§ç”Ÿfail-fastæœºåˆ¶ã€‚ åŸå› ï¼šè¿­ä»£å™¨åœ¨éå†æ—¶ç›´æ¥è®¿é—®é›†åˆä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨éå†è¿‡ç¨‹ä¸­ä½¿ç”¨ä¸€ä¸ª modCount å˜é‡ã€‚é›†åˆåœ¨è¢«éå†æœŸé—´å¦‚æœå†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ”¹å˜modCountçš„å€¼ã€‚æ¯å½“è¿­ä»£å™¨ä½¿ç”¨hashNext()/next()éå†ä¸‹ä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œéƒ½ä¼šæ£€æµ‹modCountå˜é‡æ˜¯å¦ä¸ºexpectedmodCountå€¼ï¼Œæ˜¯çš„è¯å°±è¿”å›éå†ï¼›å¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œç»ˆæ­¢éå†ã€‚ è§£å†³åŠæ³•ï¼š 1. åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°æ”¹å˜modCountå€¼å¾—åœ°æ–¹å…¨éƒ¨åŠ ä¸Šsynchronizedã€‚ 2. ä½¿ç”¨CopyOnWriteArrayListæ¥æ›¿æ¢ArrayList 10ï¼‰ArrayList å’Œ Vector çš„åŒºåˆ«ç­”ï¼š è¿™ä¸¤ä¸ªç±»éƒ½å®ç°äº† List æ¥å£ï¼ˆList æ¥å£ç»§æ‰¿äº† Collection æ¥å£ï¼‰ï¼Œä»–ä»¬éƒ½æ˜¯æœ‰åºé›†åˆï¼Œå³å­˜å‚¨åœ¨è¿™ä¸¤ä¸ªé›†åˆä¸­çš„å…ƒç´ ä½ç½®éƒ½æ˜¯æœ‰é¡ºåºçš„ï¼Œç›¸å½“äºä¸€ç§åŠ¨æ€çš„æ•°ç»„ï¼Œæˆ‘ä»¬ä»¥åå¯ä»¥æŒ‰ä½ç½®ç´¢å¼•æ¥å–å‡ºæŸä¸ªå…ƒç´ ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ•°æ®æ˜¯å…è®¸é‡å¤çš„ï¼Œè¿™æ˜¯ä¸ HashSet ä¹‹ç±»çš„é›†åˆçš„æœ€å¤§ä¸åŒå¤„ï¼ŒHashSet ä¹‹ç±»çš„é›†åˆä¸å¯ä»¥æŒ‰ç´¢å¼•å·å»æ£€ç´¢å…¶ä¸­çš„å…ƒç´ ï¼Œä¹Ÿä¸å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚ ArrayList ä¸ Vector çš„åŒºåˆ«ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼š åŒæ­¥æ€§ï¼šVector æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹åŒæ­¥ï¼ˆåŠ äº†synchronized å…³é”®å­—ï¼‰çš„ï¼Œè€Œ ArrayList æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ ArrayListï¼Œå› ä¸ºå®ƒä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šé«˜ä¸€äº›ï¼›å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ Vectorï¼Œå› ä¸ºä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†å»è€ƒè™‘å’Œç¼–å†™çº¿ç¨‹å®‰å…¨çš„ä»£ç ã€‚ æ•°æ®å¢é•¿ï¼šArrayList ä¸ Vector éƒ½æœ‰ä¸€ä¸ªåˆå§‹çš„å®¹é‡å¤§å°ï¼Œå½“å­˜å‚¨è¿›å®ƒä»¬é‡Œé¢çš„å…ƒç´ çš„ä¸ªäººè¶…è¿‡äº†å®¹é‡æ—¶ï¼Œå°±éœ€è¦å¢åŠ  ArrayList å’Œ Vector çš„å­˜å‚¨ç©ºé—´ï¼Œæ¯æ¬¡è¦å¢åŠ å­˜å‚¨ç©ºé—´æ—¶ï¼Œä¸æ˜¯åªå¢åŠ ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œè€Œæ˜¯å¢åŠ å¤šä¸ªå­˜å‚¨å•å…ƒï¼Œæ¯æ¬¡å¢åŠ çš„å­˜å‚¨å•å…ƒçš„ä¸ªæ•°åœ¨å†…å­˜ç©ºé—´åˆ©ç”¨ä¸ç¨‹åºæ•ˆç‡ä¹‹é—´è¦å»çš„ä¸€å®šçš„å¹³è¡¡ã€‚Vector åœ¨æ•°æ®æ»¡æ—¶ï¼ˆåŠ è½½å› å­1ï¼‰å¢é•¿ä¸ºåŸæ¥çš„ä¸¤å€ï¼ˆæ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼‰ï¼Œè€Œ ArrayList åœ¨æ•°æ®é‡è¾¾åˆ°å®¹é‡çš„ä¸€åŠæ—¶ï¼ˆåŠ è½½å› å­ 0.5ï¼‰å¢é•¿ä¸ºåŸå®¹é‡çš„ 0.5 å€ + 1 ä¸ªç©ºé—´ã€‚ é¢è¯•å®˜ï¼šé‚£ ArrayList å’Œ LinkedList çš„åŒºåˆ«å‘¢ï¼Ÿ ç­”ï¼š LinkedList å®ç°äº† List å’Œ Deque æ¥å£ï¼Œä¸€èˆ¬ç§°ä¸ºåŒå‘é“¾è¡¨ï¼› LinkedList åœ¨æ’å…¥å’Œåˆ é™¤æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼ŒArrayList åœ¨æŸ¥æ‰¾æŸä¸ª index çš„æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼› LinkedList æ¯” ArrayList éœ€è¦æ›´å¤šçš„å†…å­˜ï¼› é¢è¯•å®˜ï¼šArray å’Œ ArrayList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åº” Array è€Œä¸æ˜¯ ArrayList å‘¢ï¼Ÿ ç­”ï¼šå®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š Array å¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒArrayList åªèƒ½åŒ…å«å¯¹è±¡ç±»å‹ã€‚ Array å¤§å°æ˜¯å›ºå®šçš„ï¼ŒArrayList çš„å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚ ArrayList æä¾›äº†æ›´å¤šçš„æ–¹æ³•å’Œç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šaddAll()ï¼ŒremoveAll()ï¼Œiterator() ç­‰ç­‰ã€‚ å¯¹äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œé›†åˆä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥å‡å°‘ç¼–ç å·¥ä½œé‡ã€‚ä½†æ˜¯ï¼Œå½“å¤„ç†å›ºå®šå¤§å°çš„åŸºæœ¬æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œè¿™ç§æ–¹å¼ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚ 11ï¼‰å¦‚ä½•å»æ‰ä¸€ä¸ª Vector é›†åˆä¸­é‡å¤çš„å…ƒç´ ï¼Ÿç­”ï¼š Vector newVector = new Vector(); for (int i = 0; i &lt; vector.size(); i++) { Object obj = vector.get(i); if (!newVector.contains(obj)) { newVector.add(obj); } } è¿˜æœ‰ä¸€ç§ç®€å•çš„æ–¹å¼ï¼Œåˆ©ç”¨äº† Set ä¸å…è®¸é‡å¤å…ƒç´ çš„ç‰¹æ€§ï¼š HashSet set = new HashSet(vector); å°ç»“ï¼šæœ¬å°èŠ‚æ˜¯ Java ä¸­å…³äºé›†åˆçš„è€ƒå¯Ÿï¼Œæ˜¯ Java å²—ä½é¢è¯•ä¸­å¿…è€ƒçš„çŸ¥è¯†ç‚¹ï¼Œé™¤äº†åº”è¯¥æŒæ¡ä»¥ä¸Šçš„é—®é¢˜ï¼ŒåŒ…æ‹¬å„ä¸ªé›†åˆçš„åº•å±‚å®ç°ä¹Ÿå»ºè®®å„ä½åŒå­¦é˜…è¯»ï¼ŒåŠ æ·±ç†è§£ã€‚ 12ï¼‰å¦‚ä½•æƒè¡¡æ˜¯ä½¿ç”¨æ— åºçš„æ•°ç»„è¿˜æ˜¯æœ‰åºçš„æ•°ç»„ï¼Ÿç­”ï¼šæœ‰åºæ•°ç»„æœ€å¤§çš„å¥½å¤„åœ¨äºæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log n)ï¼Œè€Œæ— åºæ•°ç»„æ˜¯O(n)ã€‚æœ‰åºæ•°ç»„çš„ç¼ºç‚¹æ˜¯æ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå› ä¸ºå€¼å¤§çš„å…ƒç´ éœ€è¦å¾€åç§»åŠ¨æ¥ç»™æ–°å…ƒç´ è…¾ä½ç½®ã€‚ç›¸åï¼Œæ— åºæ•°ç»„çš„æ’å…¥æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸é‡O(1)ã€‚ æ€»ç»“ohâ€¦..å¤ä¹ ä¸‹æ¥è¿˜çœŸæ˜¯é…¸çˆ½â€¦.å‰è·¯æ¼«æ¼«å•Šâ€¦. æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™ å‰è¨€ï¼š åœ¨é¨æ¸¸äº†ä¸€ç•ª Java Web çš„ä¸–ç•Œä¹‹åï¼Œå‘ç°äº†è‡ªå·±çš„ä¸€äº›ç¼ºå¤±ï¼Œæ‰€ä»¥å°±ç€ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼šçŸ¥åäº’è”ç½‘å…¬å¸æ ¡æ‹› Java å¼€å‘å²—é¢è¯•çŸ¥è¯†ç‚¹è§£æ ï¼Œæ¥å¥½å¥½çš„å¯¹ Java çŸ¥è¯†ç‚¹è¿›è¡Œå¤ä¹ å’Œå­¦ä¹ ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†å†…å®¹å‚ç…§è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæœ‰ä¸€äº›è‡ªå·±è¡¥å……çš„ï¼Œä¹Ÿç®—æ˜¯é‡æ–°å­¦ä¹ ä¸€ä¸‹ Java å§ã€‚ ï¼ˆä¸€ï¼‰Java åŸºç¡€çŸ¥è¯†ç‚¹1ï¼‰é¢å‘å¯¹è±¡çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿç­”ï¼šå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ï¼ˆåº”è¦å¤šç®—ä¸€ä¸ªé‚£å°±æ˜¯æŠ½è±¡ï¼‰ å°è£…æ˜¯æŒ‡å°†å¯¹è±¡çš„å®ç°ç»†èŠ‚éšè—èµ·æ¥ï¼Œç„¶åé€šè¿‡å…¬å…±çš„æ–¹æ³•æ¥å‘å¤–æš´éœ²å‡ºè¯¥å¯¹è±¡çš„åŠŸèƒ½ã€‚ä½†å°è£…ä¸ä»…ä»…æ˜¯ private + getter/setter ï¼Œä½¿ç”¨å°è£…å¯ä»¥å¯¹ setter è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„å®šåˆ¶ï¼Œä¾‹å¦‚ä½ å¯ä»¥å¯¹æ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡åšè§„å®šï¼Œä¹Ÿå¯ä»¥å¯¹æ•°æ®åšä¸€å®šçš„è¦æ±‚ï¼Œè¿˜å¯ä»¥åšç±»å‹è½¬æ¢ç­‰ç­‰ã€‚ä½¿ç”¨å°è£…ä¸ä»…ä»…å®‰å…¨ï¼Œæ›´å¯ä»¥ç®€åŒ–æ“ä½œã€‚ï¼ˆå°è£…æ‰©å±•é˜…è¯»ï¼šocé¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ &lt;å°è£…&gt;ï¼‰ ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡å®ç°è½¯ä»¶å¤ç”¨çš„é‡è¦æ‰‹æ®µï¼Œå½“å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå­ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œèƒ½ç›´æ¥æˆ–é—´æ¥è·å¾—çˆ¶ç±»é‡Œçš„æˆå‘˜ã€‚ç»§æ‰¿çš„ç¼ºç‚¹ï¼š1ï¼‰ç»§æ‰¿æ˜¯ä¸€ç§å¼ºè€¦åˆå…³ç³»ï¼Œçˆ¶ç±»å˜å­ç±»ä¹Ÿå¿…é¡»å˜ï¼›2ï¼‰ç»§æ‰¿ç ´åäº†å°è£…ï¼Œå¯¹äºçˆ¶ç±»è€Œè¨€ï¼Œå®ƒçš„å®ç°ç»†èŠ‚å¯¹å­ç±»æ¥è¯´éƒ½æ˜¯é€æ˜çš„ã€‚ å¤šæ€ç®€è€Œè¨€ä¹‹å°±æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚æ¯”å¦‚è¯´ï¼Œæœ‰ä¸€æ¯æ°´ï¼Œæˆ‘ä¸çŸ¥é“å®ƒæ˜¯æ¸©çš„ã€å†°çš„è¿˜æ˜¯çƒ«çš„ï¼Œä½†æ˜¯æˆ‘ä¸€æ‘¸æˆ‘å°±çŸ¥é“äº†ï¼Œæˆ‘æ‘¸æ°´æ¯çš„è¿™ä¸ªåŠ¨ä½œï¼Œå¯¹äºä¸åŒæ¸©åº¦çš„æ°´ï¼Œå°±ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œè¿™å°±æ˜¯å¤šæ€ã€‚ å¤šæ€çš„æ¡ä»¶ï¼š1ï¼‰ç»§æ‰¿ï¼›2ï¼‰é‡å†™ï¼›3ï¼‰å‘ä¸Šè½¬å‹ã€‚å¤šæ€çš„å¥½å¤„ï¼šå½“æŠŠä¸åŒçš„å­ç±»å¯¹è±¡éƒ½å½“ä½œçˆ¶ç±»ç±»å‹æ¥çœ‹ï¼Œå¯ä»¥å±è”½ä¸åŒå­ç±»å¯¹è±¡ä¹‹é—´çš„å®ç°å·®å¼‚ï¼Œä»è€Œå†™å‡ºé€šç”¨çš„ä»£ç è¾¾åˆ°é€šç”¨ç¼–ç¨‹ï¼Œä»¥é€‚åº”éœ€æ±‚çš„ä¸æ–­å˜åŒ–ã€‚ï¼ˆå¤šæ€æ‰©å±•é˜…è¯»ï¼šé‡æ–°è®¤è¯†javaï¼ˆäº”ï¼‰ â€”- é¢å‘å¯¹è±¡ä¹‹å¤šæ€ï¼ˆå‘ä¸Šè½¬å‹ä¸å‘ä¸‹è½¬å‹ï¼‰ï¼‰ æŠ½è±¡æ˜¯æŒ‡ä»ç‰¹å®šçš„è§’åº¦å‡ºå‘ï¼Œä»å·²ç»å­˜åœ¨çš„ä¸€äº›äº‹ç‰©ä¸­æŠ½å–æˆ‘ä»¬æ‰€å…³æ³¨çš„ç‰¹æ€§ã€è¡Œä¸ºï¼Œä»è€Œå½¢æˆä¸€ä¸ªæ–°çš„äº‹ç‰©çš„æ€ç»´è¿‡ç¨‹ï¼Œæ˜¯ä¸€ç§ä»å¤æ‚åˆ°ç®€æ´çš„æ€ç»´æ–¹å¼ã€‚ 2ï¼‰é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿç­”ï¼šé¢å‘è¿‡ç¨‹æ˜¯ä¸€ç§ç«™åœ¨è¿‡ç¨‹çš„è§’åº¦æ€è€ƒé—®é¢˜çš„æ€æƒ³ï¼Œå¼ºè°ƒçš„æ˜¯åŠŸèƒ½è¡Œä¸ºï¼ŒåŠŸèƒ½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå³å…ˆå¹²å•¥ï¼Œåå¹²å•¥ã€‚ é¢å‘è¿‡ç¨‹çš„è®¾è®¡ï¼šæœ€å°çš„ç¨‹åºå•å…ƒæ˜¯å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°è´Ÿè´£å®ŒæˆæŸä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨ä»¥æ¥å—è¾“å…¥æ•°æ®ï¼Œå‡½æ•°å¯¹è¾“å…¥æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç„¶åè¾“å‡ºç»“æœæ•°æ®ã€‚æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿç”±ä¸€ä¸ªä¸ªçš„å‡½æ•°ç»„æˆï¼Œå…¶ä¸­ä½œä¸ºç¨‹åºå…¥å£çš„å‡½æ•°ç§°ä¹‹ä¸ºä¸»å‡½æ•°ï¼Œä¸»å‡½æ•°ä¾æ¬¡è°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œæ™®é€šå‡½æ•°ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä»è€Œå®ç°æ•´ä¸ªç³»ç»ŸåŠŸèƒ½ã€‚ é¢å‘è¿‡ç¨‹çš„ç¼ºé™·ï¼šå‘è¿‡ç¨‹çš„è®¾è®¡,æ˜¯é‡‡ç”¨ç½®é¡¶è€Œä¸‹çš„è®¾è®¡æ–¹å¼ï¼Œåœ¨è®¾è®¡é˜¶æ®µå°±éœ€è¦è€ƒè™‘æ¯ä¸€ä¸ªæ¨¡å—åº”è¯¥åˆ†è§£æˆå“ªäº›å­æ¨¡å—ï¼Œæ¯ä¸€ä¸ªå­æ¨¡å—æœ‰ç»†åˆ†ä¸ºæ›´å°çš„å­æ¨¡å—ï¼Œå¦‚æ­¤ç±»æ¨ï¼Œç›´åˆ°å°†æ¨¡å—ç»†åŒ–ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ã€‚ é—®é¢˜ï¼š1ï¼‰è®¾è®¡ä¸å¤Ÿç›´è§‚ï¼Œä¸äººç±»çš„ä¹ æƒ¯æ€ç»´ä¸ä¸€è‡´ï¼›2ï¼‰ç³»ç»Ÿè½¯ä»¶é€‚åº”æ€§å·®ï¼Œå¯æ‰©å±•æ€§å·®ï¼Œç»´æŠ¤æ€§ä½ã€‚ é¢å‘è¿‡ç¨‹æœ€å¤§çš„é—®é¢˜åœ¨äºéšç€ç³»ç»Ÿçš„è†¨èƒ€ï¼Œé¢å‘è¿‡ç¨‹å°†æ— æ³•åº”ä»˜ï¼Œæœ€ç»ˆå¯¼è‡´ç³»ç»Ÿçš„å´©æºƒã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç§è½¯ä»¶å±æœºï¼Œæˆ‘ä»¬æå‡ºé¢å‘å¯¹è±¡æ€æƒ³ã€‚ é¢å‘å¯¹è±¡æ˜¯ä¸€ç§åŸºäºé¢å‘è¿‡ç¨‹çš„æ–°çš„ç¼–ç¨‹æ€æƒ³ï¼Œæ˜¯ä¸€ç§ç«™åœ¨å¯¹è±¡çš„è§’åº¦æ€è€ƒé—®é¢˜çš„æ€æƒ³ï¼Œæˆ‘ä»¬æŠŠå¤šä¸ªåŠŸèƒ½åˆç†çš„æ”¾åˆ°ä¸åŒå¯¹è±¡é‡Œï¼Œå¼ºè°ƒçš„æ˜¯å…·å¤‡æŸäº›åŠŸèƒ½çš„å¯¹è±¡ã€‚ é¢å‘å¯¹è±¡æ›´åŠ ç¬¦åˆæˆ‘ä»¬å¸¸è§„çš„æ€ç»´æ–¹å¼ï¼Œç¨³å®šæ€§å¥½ï¼Œå¯é‡ç”¨æ€§å¼ºï¼Œæ˜“äºå¼€å‘å¤§å‹è½¯ä»¶äº§å“ï¼Œæœ‰è‰¯å¥½çš„å¯ç»´æŠ¤æ€§ã€‚åœ¨è½¯ä»¶å·¥ç¨‹ä¸Šï¼Œé¢å‘å¯¹è±¡å¯ä»¥ä½¿å·¥ç¨‹æ›´åŠ æ¨¡å—åŒ–ï¼Œå®ç°æ›´ä½çš„è€¦åˆå’Œæ›´é«˜çš„å†…èšã€‚ æ³¨æ„ï¼š ä¸è¦ç²—æµ…çš„è®¤ä¸ºé¢å‘å¯¹è±¡ä¸€å®šå°±ä¼˜äºé¢å‘è¿‡ç¨‹çš„è®¾è®¡ çœ‹åˆ°çŸ¥ä¹ä¸Šæœ‰ä¸€å¥æœ‰æ„æ€çš„è¯ï¼š ä½ çš„ç¨‹åºè¦å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œç›¸å½“äºè®²ä¸€ä¸ªæ•…äº‹ã€‚ é¢å‘è¿‡ç¨‹ï¼šç¼–å¹´ä½“ï¼›é¢å‘å¯¹è±¡ï¼šçºªä¼ ä½“ã€‚ è€Œå¯¹äºå¤æ‚çš„ç¨‹åº/å®å¤§çš„æ•…äº‹ï¼Œäº‹å®éƒ½è¯æ˜äº†ï¼Œé¢å‘å¯¹è±¡/çºªä¼ æ˜¯æ›´åˆç†çš„è¡¨è¿°æ–¹æ³•ã€‚ æ‰©å±•é˜…è¯»ï¼šé¢å‘è¿‡ç¨‹ VS é¢å‘å¯¹è±¡ 3ï¼‰JDK å’Œ JRE çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿè§£æï¼šè¿™æ˜¯è€ƒå¯Ÿä¸€äº›åŸºæœ¬çš„æ¦‚å¿µ ç­”ï¼šJava è¿è¡Œæ—¶ç¯å¢ƒï¼ˆJRE-Java Runtime Environmentï¼‰ï¼Œå®ƒåŒ…æ‹¬ Java è™šæ‹Ÿæœºã€Java æ ¸å¿ƒç±»åº“å’Œæ”¯æŒæ–‡ä»¶ï¼Œä½†å¹¶ä¸åŒ…å«å¼€å‘å·¥å…·ï¼ˆJDK-Java Development Kitï¼‰â€”â€”ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨å’Œå…¶ä»–å·¥å…·ã€‚ Java å¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰æ˜¯å®Œæ•´çš„ Java è½¯ä»¶å¼€å‘åŒ…ï¼ŒåŒ…å«äº† JREï¼Œç¼–è¯‘å™¨å’Œå…¶ä»–çš„å·¥å…·ï¼ˆæ¯”å¦‚ JavaDocï¼Œ Java è°ƒè¯•å™¨ï¼‰ï¼Œå¯ä»¥è®©å¼€å‘è€…å¼€å‘ã€ç¼–è¯‘ã€æ‰§è¡Œ Java åº”ç”¨ç¨‹åºã€‚ è¿˜æœ‰å…¶ä»–çš„ä¸€äº›åè¯ä¹Ÿå¯ä»¥å†çœ‹ä¸€ä¸‹ï¼š 4ï¼‰Java ä¸­è¦†ç›–å’Œé‡è½½æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè§£æï¼šè¦†ç›–å’Œé‡è½½æ˜¯æ¯”è¾ƒé‡è¦çš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“æ··æ·†ï¼Œæ‰€ä»¥é¢è¯•ä¸­å¸¸è§ã€‚ ç­”ï¼šè¦†ç›–ï¼ˆOverrideï¼‰æ˜¯æŒ‡å­ç±»å¯¹çˆ¶ç±»æ–¹æ³•çš„ä¸€ç§é‡å†™ï¼Œåªèƒ½æ¯”çˆ¶ç±»æŠ›å‡ºæ›´å°‘çš„å¼‚å¸¸ï¼Œè®¿é—®æƒé™ä¸èƒ½æ¯”çˆ¶ç±»çš„å°ï¼Œè¢«è¦†ç›–çš„æ–¹æ³•ä¸èƒ½æ˜¯ private çš„ï¼Œå¦åˆ™åªæ˜¯åœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰äº†ä¸€ä¸ªæ–°æ–¹æ³•ã€‚ é‡è½½ï¼ˆOverloadï¼‰è¡¨ç¤ºåŒä¸€ä¸ªç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªåç§°ç›¸åŒçš„æ–¹æ³•ï¼Œä½†è¿™äº›æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å„ä¸ç›¸åŒã€‚ é¢è¯•å®˜ï¼š é‚£ä¹ˆæ„æˆé‡è½½çš„æ¡ä»¶æœ‰å“ªäº›ï¼Ÿ ç­”ï¼šå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒã€å‚æ•°é¡ºåºä¸åŒã€‚ é¢è¯•å®˜ï¼š å‡½æ•°çš„è¿”å›å€¼ä¸åŒå¯ä»¥æ„æˆé‡è½½å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ ç­”ï¼šä¸å¯ä»¥ï¼Œå› ä¸º Java ä¸­è°ƒç”¨å‡½æ•°å¹¶ä¸éœ€è¦å¼ºåˆ¶èµ‹å€¼ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š void f(){} int f(){ return 1; } åªè¦ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®è¯­å¢ƒæ˜ç¡®åˆ¤æ–­å‡ºè¯­ä¹‰ï¼Œæ¯”å¦‚åœ¨ int x = f(); ä¸­ï¼Œé‚£ä¹ˆçš„ç¡®å¯ä»¥æ®æ­¤åŒºåˆ†é‡è½½æ–¹æ³•ã€‚ä¸è¿‡ï¼Œ æœ‰æ—¶ä½ å¹¶ä¸å…³å¿ƒæ–¹æ³•çš„è¿”å›å€¼ï¼Œä½ æƒ³è¦çš„æ˜¯æ–¹æ³•è°ƒç”¨çš„å…¶ä»–æ•ˆæœ ï¼ˆè¿™å¸¸è¢«ç§°ä¸º â€œä¸ºäº†å‰¯ä½œç”¨è€Œè°ƒç”¨â€ ï¼‰ï¼Œè¿™æ—¶ä½ å¯èƒ½ä¼šè°ƒç”¨æ–¹æ³•è€Œå¿½ç•¥å…¶è¿”å›å€¼ï¼Œæ‰€ä»¥å¦‚æœåƒä¸‹é¢çš„è°ƒç”¨ï¼š f(); æ­¤æ—¶ Java å¦‚ä½•æ‰èƒ½åˆ¤æ–­è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ª f() å‘¢ï¼Ÿåˆ«äººå¦‚ä½•ç†è§£è¿™ç§ä»£ç å‘¢ï¼Ÿæ‰€ä»¥ï¼Œæ ¹æ®æ–¹æ³•è¿”å›å€¼æ¥åŒºåˆ†é‡è½½æ–¹æ³•æ˜¯è¡Œä¸é€šçš„ã€‚ 5ï¼‰æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿç­”ï¼š æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼›æ¥å£ä¸­çš„æ–¹æ³•å¿…é¡»æ˜¯æŠ½è±¡æ–¹æ³•ï¼› æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰æ™®é€šçš„æˆå‘˜å˜é‡ï¼›æ¥å£ä¸­çš„å˜é‡å¿…é¡»æ˜¯ static final ç±»å‹çš„ï¼Œå¿…é¡»è¢«åˆå§‹åŒ–,æ¥å£ä¸­åªæœ‰å¸¸é‡ï¼Œæ²¡æœ‰å˜é‡ã€‚ æŠ½è±¡ç±»åªèƒ½å•ç»§æ‰¿ï¼Œæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªçˆ¶æ¥å£ï¼› Java 8 ä¸­æ¥å£ä¸­ä¼šæœ‰ default æ–¹æ³•ï¼Œå³æ–¹æ³•å¯ä»¥è¢«å®ç°ã€‚ é¢è¯•å®˜ï¼šæŠ½è±¡ç±»å’Œæ¥å£å¦‚ä½•é€‰æ‹©ï¼Ÿ ç­”ï¼š å¦‚æœè¦åˆ›å»ºä¸å¸¦ä»»ä½•æ–¹æ³•å®šä¹‰å’Œæˆå‘˜å˜é‡çš„åŸºç±»ï¼Œé‚£ä¹ˆå°±åº”è¯¥é€‰æ‹©æ¥å£è€Œä¸æ˜¯æŠ½è±¡ç±»ã€‚ å¦‚æœçŸ¥é“æŸä¸ªç±»åº”è¯¥æ˜¯åŸºç±»ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé€‰æ‹©çš„åº”è¯¥æ˜¯è®©å®ƒæˆä¸ºä¸€ä¸ªæ¥å£ï¼Œåªæœ‰åœ¨å¿…é¡»è¦æœ‰æ–¹æ³•å®šä¹‰å’Œæˆå‘˜å˜é‡çš„æ—¶å€™ï¼Œæ‰åº”è¯¥é€‰æ‹©æŠ½è±¡ç±»ã€‚å› ä¸ºæŠ½è±¡ç±»ä¸­å…è®¸å­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¢«å…·ä½“å®ç°çš„æ–¹æ³•ï¼Œåªè¦æ–¹æ³•æ²¡æœ‰è¢«å…¨éƒ¨å®ç°è¯¥ç±»å°±ä»æ˜¯æŠ½è±¡ç±»ã€‚ 6ï¼‰Java å’Œ C++ çš„åŒºåˆ«ï¼šè§£æï¼šè™½ç„¶æˆ‘ä»¬ä¸å¤ªæ‡‚C++ï¼Œä½†æ˜¯å°±æ˜¯ä¼šè¿™ä¹ˆé—®ï¼Œå°¤å…¶æ˜¯ä¸‰é¢ï¼ˆæ€»ç›‘çº§åˆ«ï¼‰é¢è¯•ä¸­ã€‚ ç­”ï¼š éƒ½æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œéƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ æŒ‡é’ˆï¼šJavaä¸æä¾›æŒ‡é’ˆæ¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œç¨‹åºæ›´åŠ å®‰å…¨ ç»§æ‰¿ï¼š Javaçš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼ŒC++æ”¯æŒå¤šé‡ç»§æ‰¿ï¼›Javaé€šè¿‡ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£æ¥å®ç°C++ä¸­çš„å¤šé‡ç»§æ‰¿ï¼› Javaä¸­ç±»ä¸å¯ä»¥å¤šç»§æ‰¿ï¼Œä½†æ˜¯ï¼ï¼ï¼æ¥å£å¯ä»¥å¤šç»§æ‰¿ å†…å­˜ï¼š Javaæœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾æ— ç”¨å†…å­˜ 7ï¼‰â€œstaticâ€ å…³é”®å­—æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿç­”ï¼šâ€œstaticâ€ å…³é”®å­—è¡¨æ˜ä¸€ä¸ªæˆå‘˜å˜é‡æˆ–è€…æ˜¯æˆå‘˜æ–¹æ³•å¯ä»¥åœ¨æ²¡æœ‰æ‰€å±çš„ç±»çš„å®ä¾‹å˜é‡çš„æƒ…å†µä¸‹è¢«è®¿é—®ã€‚ é¢è¯•å®˜ï¼šJavaä¸­æ˜¯å¦å¯ä»¥è¦†ç›–(override)ä¸€ä¸ª private æˆ–è€…æ˜¯ static çš„æ–¹æ³•ï¼Ÿ ç­”ï¼šJava ä¸­ static æ–¹æ³•ä¸èƒ½è¢«è¦†ç›–ï¼Œå› ä¸ºæ–¹æ³•è¦†ç›–æ˜¯åŸºäºè¿è¡Œæ—¶åŠ¨æ€ç»‘å®šçš„ï¼Œè€Œ static æ–¹æ³•æ˜¯ç¼–è¯‘æ—¶é™æ€ç»‘å®šçš„ã€‚static æ–¹æ³•è·Ÿç±»çš„ä»»ä½•å®ä¾‹éƒ½ä¸ç›¸å…³ï¼Œæ‰€ä»¥æ¦‚å¿µä¸Šä¸é€‚ç”¨ã€‚ Java ä¸­ä¹Ÿä¸å¯ä»¥è¦†ç›– private çš„æ–¹æ³•ï¼Œå› ä¸º private ä¿®é¥°çš„å˜é‡å’Œæ–¹æ³•åªèƒ½åœ¨å½“å‰ç±»ä¸­ä½¿ç”¨ï¼Œå¦‚æœæ˜¯å…¶ä»–çš„ç±»ç»§æ‰¿å½“å‰ç±»æ˜¯ä¸èƒ½è®¿é—®åˆ° private å˜é‡æˆ–æ–¹æ³•çš„ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½è¦†ç›–ã€‚ æ‰©å±•é˜…è¯»ï¼šé‡æ–°è®¤è¯†javaï¼ˆå…­ï¼‰ â€”- javaä¸­çš„å¦ç±»ï¼šstaticå…³é”®å­—ï¼ˆé™„ä»£ç å—çŸ¥è¯†ï¼‰ 8ï¼‰Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿè§£æï¼šè¿™ç±»é¢˜ç›®ï¼Œé¢è¯•å®˜ä¼šæ‰‹å†™ä¸€ä¸ªä¾‹å­ï¼Œè®©ä½ è¯´å‡ºå‡½æ•°æ‰§è¡Œç»“æœã€‚ ç­”ï¼šå€¼ä¼ é€’æ˜¯å¯¹åŸºæœ¬å‹å˜é‡è€Œè¨€çš„,ä¼ é€’çš„æ˜¯è¯¥å˜é‡çš„ä¸€ä¸ªå‰¯æœ¬,æ”¹å˜å‰¯æœ¬ä¸å½±å“åŸå˜é‡ã€‚å¼•ç”¨ä¼ é€’ä¸€èˆ¬æ˜¯å¯¹äºå¯¹è±¡å‹å˜é‡è€Œè¨€çš„,ä¼ é€’çš„æ˜¯è¯¥å¯¹è±¡åœ°å€çš„ä¸€ä¸ªå‰¯æœ¬, å¹¶ä¸æ˜¯åŸå¯¹è±¡æœ¬èº« ã€‚ ä¸€èˆ¬è®¤ä¸ºï¼ŒJava å†…çš„ä¼ é€’éƒ½æ˜¯å€¼ä¼ é€’.ï¼ŒJava ä¸­å®ä¾‹å¯¹è±¡çš„ä¼ é€’æ˜¯å¼•ç”¨ä¼ é€’ï¼ŒJava æ˜¯å€¼ä¼ é€’çš„ï¼ æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š è¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è°ƒç”¨äº† swap() æ–¹æ³•ä¹‹åäº¤æ¢ arg1 å’Œ arg2 çš„å€¼ï¼Œä½†äº‹å®ä¸Šå¹¶æ²¡æœ‰ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ è¿™å°±æ˜¯å› ä¸º Java æ˜¯å€¼ä¼ é€’çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨ä¸€ä¸ªéœ€è¦ä¼ é€’å‚æ•°çš„å‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¹¶ä¸æ˜¯æˆ‘ä»¬ä¼ é€’è¿›å»çš„å‚æ•°æœ¬èº«ï¼Œè€Œæ˜¯å®ƒçš„ä¸€ä¸ªå‰¯æœ¬ï¼Œæˆ‘ä»¬æ”¹å˜äº†æ•°æ®å…¶å®åªæ˜¯æ”¹å˜äº†å‰¯æœ¬çš„æ•°æ®è€Œå·²ï¼Œå¹¶ä¸ä¼šå¯¹åŸæ¥çš„å‚æ•°æœ‰ä»»ä½•çš„æ”¹å˜ã€‚ å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š æˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ç±» Person ï¼Œè¯¥ç±»åªæœ‰ä¸€ä¸ª int ç±»å‹çš„ age å±æ€§ï¼Œç„¶åæœ‰ getter/setter ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ changeAge() å‡½æ•°æ¥æ”¹å˜ Person å¯¹è±¡çš„ age å±æ€§ï¼Œä¸ºä»€ä¹ˆè¿™æ¬¡æˆåŠŸäº†å‘¢ï¼Ÿ ä½ ä¾ç„¶å¯ä»¥ç†è§£ä¸ºï¼Œä¸»å‡½æ•°å°† person å¤åˆ¶äº†ä¸€ä»½åˆ° changeAge å‡½æ•°ä¸­å»ï¼Œæœ€ç»ˆè¿˜æ˜¯åªæ”¹å˜äº† changeAge ä¸­å¤åˆ¶çš„é‚£ä¸€ä»½å‚æ•°çš„å€¼ï¼Œè€ŒåŸæœ¬çš„å‚æ•°å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½† changeAge ä¸­çš„é‚£ä¸€ä»½å’ŒåŸæœ¬çš„å‚æ•°æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åŒºåŸŸï¼ 9ï¼‰JDK ä¸­å¸¸ç”¨çš„åŒ…æœ‰å“ªäº›ï¼Ÿç­”ï¼šjava.langã€java.utilã€java.ioã€java.netã€java.sqlã€‚ 10ï¼‰JDKï¼ŒJRE å’Œ JVM çš„è”ç³»å’ŒåŒºåˆ«ï¼Ÿç­”ï¼šJDK æ˜¯ Java å¼€å‘å·¥å…·åŒ…ï¼Œæ˜¯ Java å¼€å‘ç¯å¢ƒçš„æ ¸å¿ƒç»„ä»¶ï¼Œå¹¶æä¾›ç¼–è¯‘ã€è°ƒè¯•å’Œè¿è¡Œä¸€ä¸ª Java ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰å·¥å…·ï¼Œå¯æ‰§è¡Œæ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¹³å°ç‰¹å®šçš„è½¯ä»¶ã€‚ JRE æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ˜¯ JVM çš„å®æ–½å®ç°ï¼Œæä¾›äº†è¿è¡Œ Java ç¨‹åºçš„å¹³å°ã€‚JRE åŒ…å«äº† JVMï¼Œä½†æ˜¯ä¸åŒ…å« Java ç¼–è¯‘å™¨ / è°ƒè¯•å™¨ä¹‹ç±»çš„å¼€å‘å·¥å…·ã€‚ JVM æ˜¯ Java è™šæ‹Ÿæœºï¼Œå½“æˆ‘ä»¬è¿è¡Œä¸€ä¸ªç¨‹åºæ—¶ï¼ŒJVM è´Ÿè´£å°†å­—èŠ‚ç è½¬æ¢ä¸ºç‰¹å®šæœºå™¨ä»£ç ï¼ŒJVM æä¾›äº†å†…å­˜ç®¡ç† / åƒåœ¾å›æ”¶å’Œå®‰å…¨æœºåˆ¶ç­‰ã€‚ è¿™ç§ç‹¬ç«‹äºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿï¼Œæ­£æ˜¯ Java ç¨‹åºå¯ä»¥ä¸€æ¬¡ç¼–å†™å¤šå¤„æ‰§è¡Œçš„åŸå› ã€‚ åŒºåˆ«ï¼š &emsp;&emsp;1. JDK ç”¨äºå¼€å‘ï¼ŒJRE ç”¨äºè¿è¡Œ Java ç¨‹åºï¼›&emsp;&emsp;2. JDK å’Œ JRE ä¸­éƒ½åŒ…å« JVMï¼›&emsp;&emsp;3. JVM æ˜¯ Java ç¼–ç¨‹è¯­è¨€çš„æ ¸å¿ƒå¹¶ä¸”å…·æœ‰å¹³å°ç‹¬ç«‹æ€§ã€‚ 11ï¼‰Integer çš„ç¼“å­˜æœºåˆ¶è§£æï¼šè€ƒå¯Ÿçš„æ˜¯å¯¹æºç çš„ç†Ÿæ‚‰ç¨‹åº¦ çœ‹ä¸€ä¸ªä¾‹å­ï¼š ç¬¬ä¸€ä¸ªè¿”å›trueå¾ˆå¥½ç†è§£ï¼Œå°±åƒä¸Šé¢è®²çš„ï¼Œaå’ŒbæŒ‡å‘ç›¸åŒçš„åœ°å€ã€‚ ç¬¬äºŒä¸ªè¿”å›falseæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸º Integer æœ‰ç¼“å­˜æœºåˆ¶ï¼Œåœ¨ JVM å¯åŠ¨åˆæœŸå°±ç¼“å­˜äº† -128 åˆ° 127 è¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰æ•°å­—ã€‚ ç¬¬ä¸‰ä¸ªè¿”å›falseæ˜¯å› ä¸ºç”¨äº†newå…³é”®å­—æ¥å¼€è¾Ÿäº†æ–°çš„ç©ºé—´ï¼Œiå’Œjä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«æŒ‡å‘å †åŒºä¸­çš„ä¸¤å—å†…å­˜ç©ºé—´ã€‚ æˆ‘ä»¬å¯ä»¥è·Ÿè¸ªä¸€ä¸‹Integerçš„æºç ï¼Œçœ‹çœ‹åˆ°åº•æ€ä¹ˆå›äº‹ã€‚åœ¨IDEAä¸­ï¼Œä½ åªéœ€è¦æŒ‰ä½Ctrlç„¶åç‚¹å‡»Integerï¼Œå°±ä¼šè‡ªåŠ¨è¿›å…¥jaråŒ…ä¸­å¯¹åº”çš„ç±»æ–‡ä»¶ã€‚ è·Ÿè¸ªåˆ°æ–‡ä»¶çš„700å¤šè¡Œï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¹ˆä¸€æ®µï¼Œæ„Ÿå…´è¶£å¯ä»¥ä»”ç»†è¯»ä¸€ä¸‹ï¼Œä¸ç”¨å»è¯»ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºä½ åªéœ€è¦çŸ¥é“è¿™æ˜¯ Java çš„ä¸€ä¸ªç¼“å­˜æœºåˆ¶ã€‚Integer ç±»çš„å†…éƒ¨ç±»ç¼“å­˜äº† -128 åˆ° 127 çš„æ‰€æœ‰æ•°å­—ã€‚ï¼ˆäº‹å®ä¸Šï¼ŒIntegerç±»çš„ç¼“å­˜ä¸Šé™æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ¥æ›´æ”¹çš„ï¼Œäº†è§£å°±è¡Œäº†ï¼Œä¸å¿…å»æ·±ç©¶ã€‚ï¼‰ 12ï¼‰ä¸‹è¿°ä¸¤ç§æ–¹æ³•åˆ†åˆ«åˆ›å»ºäº†å‡ ä¸ª Sring å¯¹è±¡ï¼Ÿ// ç¬¬ä¸€ç§ï¼šç›´æ¥èµ‹ä¸€ä¸ªå­—é¢é‡ String str1 = \"ABCD\"; // ç¬¬äºŒç§ï¼šé€šè¿‡æ„é€ å™¨åˆ›å»º String str2 = new String(\"ABCD\"); è§£æï¼šè€ƒå¯Ÿçš„æ˜¯å¯¹ String å¯¹è±¡å’Œ JVM å†…å­˜åˆ’åˆ†çš„çŸ¥è¯†ã€‚ ç­”ï¼šString str1 = &quot;ABCD&quot;;æœ€å¤šåˆ›å»ºä¸€ä¸ªStringå¯¹è±¡,æœ€å°‘ä¸åˆ›å»ºStringå¯¹è±¡.å¦‚æœå¸¸é‡æ± ä¸­,å­˜åœ¨â€ABCDâ€,é‚£ä¹ˆstr1ç›´æ¥å¼•ç”¨,æ­¤æ—¶ä¸åˆ›å»ºStringå¯¹è±¡.å¦åˆ™,å…ˆåœ¨å¸¸é‡æ± å…ˆåˆ›å»ºâ€ABCDâ€å†…å­˜ç©ºé—´,å†å¼•ç”¨. String str2 = new String(&quot;ABCD&quot;);æœ€å¤šåˆ›å»ºä¸¤ä¸ªStringå¯¹è±¡ï¼Œè‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚newå…³é”®å­—ç»å¯¹ä¼šåœ¨å †ç©ºé—´åˆ›å»ºä¸€å—æ–°çš„å†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥è‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚ æˆ‘ä»¬æ¥çœ‹å›¾ç†è§£ä¸€ä¸‹ï¼š å½“æ‰§è¡Œç¬¬ä¸€å¥è¯çš„æ—¶å€™ï¼Œä¼šåœ¨å¸¸é‡æ± ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ABCDå­—ç¬¦ï¼Œstr1æŒ‡å‘å¸¸é‡æ± çš„ABCD å½“æ‰§è¡Œç¬¬äºŒå¥è¯çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰newæ“ä½œç¬¦ï¼Œæ‰€ä»¥ä¼šåœ¨å †ç©ºé—´æ–°å¼€è¾Ÿä¸€å—ç©ºé—´ç”¨æ¥å­˜å‚¨æ–°çš„Stringå¯¹è±¡ï¼Œå› ä¸ºæ­¤æ—¶å¸¸é‡æ± ä¸­å·²ç»æœ‰äº†ABCDå­—ç¬¦ï¼Œæ‰€ä»¥å †ä¸­çš„Stringå¯¹è±¡æŒ‡å‘å¸¸é‡æ± ä¸­çš„ABCDï¼Œè€Œstr2åˆ™æŒ‡å‘å †ç©ºé—´ä¸­çš„Stringå¯¹è±¡ã€‚ String å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­˜åœ¨ï¼Œéœ€è¦æ³¨æ„çš„çŸ¥è¯†ç‚¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œè¿™é‡Œç»™ä¸€ä¸ªä¹‹å‰å†™çš„ String è¯¦è§£çš„æ–‡ç« é“¾æ¥ï¼šä¼ é€é—¨ å…¶ä¸­åŒ…å«çš„é—®é¢˜å¤§æ¦‚æœ‰ï¼š1ï¼‰â€œ+â€ æ€ä¹ˆè¿æ¥å­—ç¬¦ä¸²ï¼›2ï¼‰å­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼›3ï¼‰StringBuilder/StringBuffer/String çš„åŒºåˆ«ï¼› 13ï¼‰i++ ä¸ ++i åˆ°åº•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿè§£æï¼šå¯¹äºè¿™ä¸¤ä¸ªçš„åŒºåˆ«ï¼Œç†Ÿæ‚‰çš„è¡¨è¿°æ˜¯ï¼šå‰ç½®++æ˜¯å…ˆå°†å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åä½¿ç”¨åŠ  1 åçš„å€¼å‚ä¸è¿ç®—ï¼Œè€Œåç½®++åˆ™æ˜¯å…ˆä½¿ç”¨è¯¥å€¼å‚ä¸è¿ç®—ï¼Œç„¶åå†å°†è¯¥å€¼åŠ  1 .ä½†äº‹å®ä¸Šï¼Œå‰ç½®++å’Œåç½®++ä¸€æ ·ï¼Œåœ¨å‚ä¸è¿ç®—ä¹‹å‰éƒ½ä¼šå°†å˜é‡çš„å€¼åŠ  1 ç­”ï¼šå®é™…ä¸Šï¼Œä¸ç®¡æ˜¯å‰ç½® ++ï¼Œè¿˜æ˜¯åç½® ++ï¼Œéƒ½æ˜¯å…ˆå°†å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åæ‰ç»§ç»­è®¡ç®—çš„ã€‚äºŒè€…ä¹‹é—´çœŸæ­£çš„åŒºåˆ«æ˜¯ï¼šå‰ç½® ++ æ˜¯å°†å˜é‡çš„å€¼åŠ  1 åï¼Œä½¿ç”¨å¢å€¼åçš„å˜é‡è¿›è¡Œè¿ç®—çš„ï¼Œè€Œåç½® ++ æ˜¯é¦–å…ˆå°†å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¥ä¸‹æ¥å¯¹å˜é‡çš„å€¼åŠ  1ï¼Œç„¶åä½¿ç”¨é‚£ä¸ªä¸´æ—¶å˜é‡è¿›è¡Œè¿ç®—ã€‚ 14ï¼‰äº¤æ¢å˜é‡çš„ä¸‰ç§æ–¹å¼ç­”ï¼š ç¬¬ä¸€ç§ï¼šé€šè¿‡ç¬¬ä¸‰ä¸ªå˜é‡ public class Test{ public static void main(String[] args) { int x = 5; int y = 10; swap(x,y); System.out.println(x); System.out.println(y); Value v = new Value(5,10); swap(v); System.out.println(v.x); System.out.println(v.y); } // æ— æ•ˆçš„äº¤æ¢ï¼šå½¢å‚çš„æ”¹å˜æ— æ³•åä½œç”¨äºå®å‚ public static void swap(int x,int y) { int temp = x; x = y; y = temp; } // æœ‰æ•ˆçš„äº¤æ¢ï¼šé€šè¿‡å¼•ç”¨ï¼ˆå˜é‡æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼‰æ¥ä¿®æ”¹æˆå‘˜å˜é‡ public static void swap(Value value) { int temp = value.x; value.x = value.y; value.y = temp; } } class Value{ int x; int y; public Value(int x,int y) { this.x = x; this.y = y; } } è¾“å‡ºçš„ç»“æœï¼š510105 è¿™æœ‰ç‚¹ç±»ä¼¼äºC/C++è¯­è¨€ä¸­çš„æŒ‡é’ˆï¼Œä¸è¿‡ç›¸å¯¹æ¥è¯´æ›´åŠ å®‰å…¨ã€‚ äº‹å®ä¸Šï¼Œå…¶å®å¦‚æœæŠŠåŸºç¡€ç±»å‹intæ”¹æˆå¯¹åº”çš„åŒ…è£…ç±»çš„è¯å…¶å®å¯ä»¥æ›´åŠ ç®€å•çš„å®Œæˆè¿™ä¸ªæ“ä½œï¼Œä¸è¿‡éœ€è¦ä»˜å‡ºæ›´å¤šçš„å†…å­˜ä»£ä»·ã€‚ ç¬¬äºŒç§ï¼šé€šè¿‡é€šè¿‡ç›¸åŠ çš„æ–¹å¼ï¼ˆç›¸åŒçš„ Value ç±»ä¸å†é‡å¤å±•ç¤ºï¼‰ public class Test{ public static void main(String[] args) { Value v1 = new Value(5,10); swap(v1); System.out.println(\"v1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š\"); System.out.println(v1.x); System.out.println(v1.y); } public static void swap(Value v) { v.x = v.x + v.y; v.y = v.x - v.y; v.x = v.x - v.y; } } è¾“å‡ºçš„ç»“æœï¼šv1çš„äº¤æ¢ç»“æœï¼š105 æ ¸å¿ƒçš„ç®—æ³•å°±æ˜¯swapæ–¹æ³•: v.x = v.x + v.y; // æŠŠv.xä¸v.yçš„å’Œå­˜å‚¨åœ¨v.xä¸­ v.y = v.x - v.y; // v.xå‡æ‰v.yæœ¬æ¥çš„å€¼å³ä¸ºv.x v.x = v.x - v.y; // v.xå‡æ‰v.yçš„å€¼ä¹Ÿå°±æ˜¯ä»¥å‰x.yçš„å€¼ è¿™æ ·å°±å¯ä»¥ä¸é€šè¿‡ä¸´æ—¶å˜é‡ï¼Œæ¥è¾¾åˆ°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„ç›®çš„ï¼Œå¦‚æœè§‰å¾—ä¸Šé¢çš„æ–¹æ³•ä¸å¤ªå®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ä¸ªå‚æ•°zæ¥è¡¨ç¤ºä¸Šè¿°è¿‡ç¨‹ï¼š int z = v.x + v.y; // æŠŠv.xä¸v.yçš„å’Œå­˜å‚¨åœ¨zä¸­ v.y = z - v.y; // zå‡æ‰ä»¥å‰çš„v.yå°±ç­‰äºv.x v.x = z - v.y; // zå‡æ‰ç°åœ¨çš„v.yå³ä»¥å‰çš„v.xï¼Œå³ä¸ºv.y ä½†å¹¶ä¸æ¨èè¿™ç§åšæ³•ï¼ŒåŸå› åœ¨äºå½“æ•°å€¼å¾ˆå¤§çš„æ—¶å€™ï¼Œ16è¿›åˆ¶çš„æ±‚å’Œè¿ç®—å¯èƒ½é€ æˆæ•°æ®çš„æº¢å‡ºï¼Œè™½ç„¶æœ€åçš„ç»“æœä¾ç„¶ä¼šæ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œä½†ä»ç„¶ä¸æ˜¯ååˆ†å¯å–ã€‚ ç¬¬ä¸‰ç§ï¼šé€šè¿‡å¼‚æˆ–çš„æ–¹å¼ï¼š ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼ˆ^ï¼‰æœ‰è¿™æ ·çš„ä¸€ä¸ªæ€§è´¨ï¼Œå°±æ˜¯ä¸¤ä¸ªæ•´å‹çš„æ•°æ®xä¸yï¼Œæœ‰ï¼šï¼ˆx ^ y ^ yï¼‰ == xè¿™è¯´æ˜ï¼Œå¦‚æœä¸€ä¸ªå˜é‡xå¼‚æˆ–å¦å¤–ä¸€ä¸ªå˜é‡yä¸¤æ¬¡ï¼Œç»“æœä¸ºxã€‚é€šè¿‡è¿™ä¸€ç‚¹ï¼Œå¯ä»¥å®ç°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š public class Test{ public static void main(String[] args) { Value v1 = new Value(5,10); swap(v1); System.out.println(\"v1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š\"); System.out.println(v1.x); System.out.println(v1.y); } public static void swap(Value v) { v.x = v.x ^ v.y; v.y = v.x ^ v.y; v.x = v.x ^ v.y; } } è¾“å‡ºçš„ç»“æœï¼šv1äº¤æ¢ä¹‹åçš„ç»“æœä¸ºï¼š105 è·Ÿä¸Šé¢ç›¸åŠ çš„æ–¹å¼è¿‡ç¨‹å‡ ä¹ç±»ä¼¼ï¼Œåªä¸è¿‡è¿ç®—çš„æ–¹å¼ä¸åŒè€Œå·²ã€‚å¼‚æˆ–çš„æ–¹æ³•æ¯”ç›¸åŠ æ›´åŠ å¯å–çš„åœ°æ–¹åœ¨äºï¼Œå¼‚æˆ–ä¸å­˜åœ¨æ•°æ®æº¢å‡ºã€‚ 15ï¼‰Java å¯¹è±¡åˆå§‹åŒ–é¡ºåºï¼Ÿç­”ï¼šä¸è€ƒè™‘é™æ€æˆå‘˜çš„åˆå§‹åŒ–ï¼Œè°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°æ—¶ï¼Œç¨‹åºå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼ˆå¯ä»¥é€šè¿‡superå…³é”®å­—æŒ‡å®šçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™é»˜è®¤è°ƒç”¨æ— å‚çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”éœ€è¦åœ¨å­ç±»çš„æ„é€ å‡½æ•°çš„ç¬¬ä¸€è¡Œè°ƒç”¨ï¼‰ï¼Œä¹‹åé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å‡½æ•°å’Œé™æ€åˆå§‹åŒ–å—åˆ™æŒ‰ç…§åœ¨ä»£ç å½“ä¸­çš„é¡ºåºæ‰§è¡Œï¼Œæˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰æŒ‡å®šå€¼çš„è¯åˆ™èµ‹äºˆé»˜è®¤å€¼ï¼Œå³åŸºæœ¬æ•°æ®ç±»å‹ä¸º0æˆ–falseç­‰ï¼Œå¯¹è±¡åˆ™ä¸ºnullï¼›æœ€åè°ƒç”¨è‡ªèº«æ„é€ å‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µç¨‹åºæ¥å¯¹åˆå§‹åŒ–é¡ºåºè¿›è¡Œä¸€ä¸ªç®€å•çš„éªŒè¯ï¼š public class Derive extends Base { private Member m1 = new Member(\"Member 1\"); { System.out.println(\"Initial Block()\"); } public Derive() { System.out.println(\"Derive()\"); } private Member m2 = new Member(\"Member 2\"); private int i = getInt(); private int getInt() { System.out.println(\"getInt()\"); return 2; } public static void main(String[] args) { new Derive(); } } class Base { public Base() { System.out.println(\"Base()\"); } } class Member { public Member(String m) { System.out.println(\"Member() \"+m); } } ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼šBase()Member() Member 1Initial Block()Member() Member 2getInt()Derive() 16ï¼‰trueã€false ä¸ null æ˜¯å…³é”®å­—å—ï¼Ÿç­”ï¼šä¸æ˜¯ã€‚trueã€false æ˜¯å¸ƒå°”ç±»å‹çš„å­—é¢å¸¸é‡ï¼Œnull æ˜¯å¼•ç”¨ç±»å‹çš„å­—é¢å¸¸é‡ã€‚ é¢è¯•å®˜ï¼šé‚£ goto ä¸ const å‘¢ï¼Ÿ ç­”ï¼šæ˜¯ã€‚goto ä¸ const å‡æ˜¯ Java è¯­è¨€ä¿ç•™çš„å…³é”®å­—ï¼Œå³æ²¡æœ‰ä»»ä½•è¯­æ³•åº”ç”¨ã€‚ 17ï¼‰exception å’Œ error æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šexception å’Œ erroréƒ½æ˜¯ Throwable çš„å­ç±»ã€‚exception ç”¨äºç”¨æˆ·ç¨‹åºå¯ä»¥æ•è·çš„å¼‚å¸¸æƒ…å†µï¼›error å®šä¹‰äº†ä¸æœŸæœ›è¢«ç”¨æˆ·ç¨‹åºæ•è·çš„å¼‚å¸¸ã€‚ exception è¡¨ç¤ºä¸€ç§è®¾è®¡æˆ–è®¾è®¡çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œä»ä¸ä¼šå‘ç”Ÿçš„æƒ…å†µï¼›è€Œ error è¡¨ç¤ºå›å¤ä¸æ˜¯ä¸å¯èƒ½ä½†æ˜¯å¾ˆå›°éš¾çš„æƒ…å†µä¸‹çš„ä¸€ç§ä¸¥é‡é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜æº¢å‡ºï¼Œä¸å¯èƒ½æŒ‡æœ›ç¨‹åºå¤„ç†è¿™æ ·çš„æƒ…å†µã€‚ 18ï¼‰throw å’Œ throws æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼šthrow å…³é”®å­—ç”¨æ¥åœ¨ç¨‹åºä¸­æ˜ç¡®çš„æŠ›å‡ºå¼‚å¸¸ï¼Œç›¸åï¼Œthrows è¯­å¥ç”¨æ¥è¡¨æ˜æ–¹æ³•ä¸èƒ½å¤„ç†çš„å¼‚å¸¸ã€‚æ¯ä¸€ä¸ªæ–¹æ³•éƒ½å¿…é¡»è¦æŒ‡å®šå“ªäº›å¼‚å¸¸ä¸èƒ½å¤„ç†ï¼Œæ‰€ä»¥æ–¹æ³•çš„è°ƒç”¨è€…æ‰èƒ½å¤Ÿç¡®ä¿å¤„ç†å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¤šä¸ªå¼‚å¸¸æ˜¯ç”¨é€—å·åˆ†éš”çš„ã€‚ å°ç»“ï¼šæœ¬èŠ‚ä¸»è¦é˜è¿°äº† Java åŸºç¡€çŸ¥è¯†ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠåˆ°ä¸€äº›é«˜çº§çš„ç‰¹æ€§ï¼Œè¿™äº›é—®é¢˜ä¸€èˆ¬éš¾åº¦ä¸å¤§ï¼Œé€‚å½“å¤ä¹ ä¸‹ï¼Œåº”è¯¥æ²¡é—®é¢˜ã€‚ ï¼ˆäºŒï¼‰Java ä¸­å¸¸è§é›†åˆé›†åˆè¿™æ–¹é¢çš„è€ƒå¯Ÿç›¸å½“å¤šï¼Œè¿™éƒ¨åˆ†æ˜¯é¢è¯•ä¸­å¿…è€ƒçš„çŸ¥è¯†ç‚¹ã€‚ 1ï¼‰è¯´è¯´å¸¸è§çš„é›†åˆæœ‰å“ªäº›å§ï¼Ÿç­”ï¼šMapæ¥å£å’ŒCollectionæ¥å£æ˜¯æ‰€æœ‰é›†åˆæ¡†æ¶çš„çˆ¶æ¥å£ï¼š Collectionæ¥å£çš„å­æ¥å£åŒ…æ‹¬ï¼šSetæ¥å£å’ŒListæ¥å£ Mapæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashMapã€TreeMapã€Hashtableã€ConcurrentHashMapä»¥åŠPropertiesç­‰ Setæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šHashSetã€TreeSetã€LinkedHashSetç­‰ Listæ¥å£çš„å®ç°ç±»ä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Stackä»¥åŠVectorç­‰ 2ï¼‰HashMapå’ŒHashtableçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿï¼ˆå¿…é—®ï¼‰ç­”ï¼š HashMapæ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼›Hashtableä½¿ç”¨äº†synchronizedå…³é”®å­—ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼› å‰è€…å…è®¸nullä½œä¸ºKeyï¼›åè€…ä¸å…è®¸nullä½œä¸ºKey 3ï¼‰HashMapçš„åº•å±‚å®ç°ä½ çŸ¥é“å—ï¼Ÿç­”ï¼šåœ¨Java8ä¹‹å‰ï¼Œå…¶åº•å±‚å®ç°æ˜¯æ•°ç»„+é“¾è¡¨å®ç°ï¼ŒJava8ä½¿ç”¨äº†æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°ã€‚æ­¤æ—¶ä½ å¯ä»¥ç®€å•çš„åœ¨çº¸ä¸Šç”»å›¾åˆ†æï¼š 4ï¼‰ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«ï¼Ÿï¼ˆå¿…é—®ï¼‰ ç­”ï¼šConcurrentHashMap ç»“åˆäº† HashMap å’Œ HashTable äºŒè€…çš„ä¼˜åŠ¿ã€‚HashMap æ²¡æœ‰è€ƒè™‘åŒæ­¥ï¼ŒHashTable è€ƒè™‘äº†åŒæ­¥çš„é—®é¢˜ã€‚ä½†æ˜¯ HashTable åœ¨æ¯æ¬¡åŒæ­¥æ‰§è¡Œæ—¶éƒ½è¦é”ä½æ•´ä¸ªç»“æ„ã€‚ ConcurrentHashMap é”çš„æ–¹å¼æ˜¯ç¨å¾®ç»†ç²’åº¦çš„ã€‚ ConcurrentHashMap å°† hash è¡¨åˆ†ä¸º 16 ä¸ªæ¡¶ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œè¯¸å¦‚get,put,remove ç­‰å¸¸ç”¨æ“ä½œåªé”å½“å‰éœ€è¦ç”¨åˆ°çš„æ¡¶ã€‚ é¢è¯•å®˜ï¼šConcurrentHashMapçš„å…·ä½“å®ç°çŸ¥é“å—ï¼Ÿ ç­”ï¼š 1. è¯¥ç±»åŒ…å«ä¸¤ä¸ªé™æ€å†…éƒ¨ç±» HashEntry å’Œ Segment ï¼›å‰è€…ç”¨æ¥å°è£…æ˜ å°„è¡¨çš„é”®å€¼å¯¹ï¼Œåè€…ç”¨æ¥å……å½“é”çš„è§’è‰²ï¼› 2. Segment æ˜¯ä¸€ç§å¯é‡å…¥çš„é” ReentrantLockï¼Œæ¯ä¸ª Segment å®ˆæŠ¤ä¸€ä¸ªHashEntry æ•°ç»„é‡Œå¾—å…ƒç´ ï¼Œå½“å¯¹ HashEntry æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„ Segment é”ã€‚ 5ï¼‰HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Ÿç­”ï¼š 1. é€šè¿‡å°† Key çš„ hash å€¼ä¸ length - 1 è¿›è¡Œ &amp; è¿ç®—ï¼Œå®ç°äº†å½“å‰ Key çš„å®šä½ï¼Œ2 çš„å¹‚æ¬¡æ–¹å¯ä»¥å‡å°‘å†²çªï¼ˆç¢°æ’ï¼‰çš„æ¬¡æ•°ï¼Œæé«˜ HashMap æŸ¥è¯¢æ•ˆç‡ 2. å¦‚æœ length ä¸º 2 çš„æ¬¡å¹‚ åˆ™ length-1 è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å¿…å®šæ˜¯ 11111â€¦â€¦çš„å½¢å¼ï¼Œåœ¨äº h çš„äºŒè¿›åˆ¶ä¸æ“ä½œæ•ˆç‡ä¼šéå¸¸çš„å¿«ï¼Œè€Œä¸”ç©ºé—´ä¸æµªè´¹ï¼›å¦‚æœ length ä¸æ˜¯ 2 çš„æ¬¡å¹‚ï¼Œæ¯”å¦‚ length ä¸º 15ï¼Œåˆ™ length - 1 ä¸º 14ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º 1110ï¼Œåœ¨äº h ä¸æ“ä½œï¼Œæœ€åä¸€ä½éƒ½ä¸º 0 ï¼Œè€Œ 0001ï¼Œ0011ï¼Œ0101ï¼Œ1001ï¼Œ1011ï¼Œ0111ï¼Œ1101 è¿™å‡ ä¸ªä½ç½®æ°¸è¿œéƒ½ä¸èƒ½å­˜æ”¾å…ƒç´ äº†ï¼Œç©ºé—´æµªè´¹ç›¸å½“å¤§ï¼Œæ›´ç³Ÿçš„æ˜¯è¿™ç§æƒ…å†µä¸­ï¼Œæ•°ç»„å¯ä»¥ä½¿ç”¨çš„ä½ç½®æ¯”æ•°ç»„é•¿åº¦å°äº†å¾ˆå¤šï¼Œè¿™æ„å‘³ç€è¿›ä¸€æ­¥å¢åŠ äº†ç¢°æ’çš„å‡ ç‡ï¼Œå‡æ…¢äº†æŸ¥è¯¢çš„æ•ˆç‡ï¼è¿™æ ·å°±ä¼šé€ æˆç©ºé—´çš„æµªè´¹ã€‚ 6ï¼‰Listå’ŒSetçš„åŒºåˆ«æ˜¯å•¥ï¼Ÿç­”ï¼šListå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥é‡å¤ï¼›Setå…ƒç´ æ˜¯æ— åºçš„ï¼Œä¸å¯ä»¥é‡å¤ã€‚ 7ï¼‰Listã€Setå’ŒMapçš„åˆå§‹å®¹é‡å’ŒåŠ è½½å› å­ï¼šç­”ï¼š 1. List ArrayListçš„åˆå§‹å®¹é‡æ˜¯10ï¼›åŠ è½½å› å­ä¸º0.5ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 0.5å€+1ï¼›ä¸€æ¬¡æ‰©å®¹åé•¿åº¦ä¸º15ã€‚ Vectoråˆå§‹å®¹é‡ä¸º10ï¼ŒåŠ è½½å› å­æ˜¯1ã€‚æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1å€ï¼Œå¦‚ Vectorçš„å®¹é‡ä¸º10ï¼Œä¸€æ¬¡æ‰©å®¹åæ˜¯å®¹é‡ä¸º20ã€‚ 2. Set HashSetï¼Œåˆå§‹å®¹é‡ä¸º16ï¼ŒåŠ è½½å› å­ä¸º0.75ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼› å¦‚ HashSetçš„å®¹é‡ä¸º16ï¼Œä¸€æ¬¡æ‰©å®¹åå®¹é‡ä¸º32 3. Map HashMapï¼Œåˆå§‹å®¹é‡16ï¼ŒåŠ è½½å› å­ä¸º0.75ï¼› æ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼› å¦‚ HashMapçš„å®¹é‡ä¸º16ï¼Œä¸€æ¬¡æ‰©å®¹åå®¹é‡ä¸º32 8ï¼‰Comparableæ¥å£å’ŒComparatoræ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç­”ï¼š 1. å‰è€…ç®€å•ï¼Œä½†æ˜¯å¦‚æœéœ€è¦é‡æ–°å®šä¹‰æ¯”è¾ƒç±»å‹æ—¶ï¼Œéœ€è¦ä¿®æ”¹æºä»£ç ã€‚ 2. åè€…ä¸éœ€è¦ä¿®æ”¹æºä»£ç ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œå®ç°è‡ªå®šä¹‰çš„æ¯”è¾ƒæ–¹æ³•ã€‚ å…·ä½“è§£æå‚è€ƒåšå®¢ï¼šJavaé›†åˆæ¡†æ¶â€”Set 9ï¼‰Javaé›†åˆçš„å¿«é€Ÿå¤±è´¥æœºåˆ¶ â€œfail-fastâ€ç­”ï¼š æ˜¯javaé›†åˆçš„ä¸€ç§é”™è¯¯æ£€æµ‹æœºåˆ¶ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¯¹é›†åˆè¿›è¡Œç»“æ„ä¸Šçš„æ”¹å˜çš„æ“ä½œæ—¶ï¼Œæœ‰å¯èƒ½ä¼šäº§ç”Ÿ fail-fast æœºåˆ¶ã€‚ ä¾‹å¦‚ï¼šå‡è®¾å­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼ˆçº¿ç¨‹1ã€çº¿ç¨‹2ï¼‰ï¼Œçº¿ç¨‹1é€šè¿‡Iteratoråœ¨éå†é›†åˆAä¸­çš„å…ƒç´ ï¼Œåœ¨æŸä¸ªæ—¶å€™çº¿ç¨‹2ä¿®æ”¹äº†é›†åˆAçš„ç»“æ„ï¼ˆæ˜¯ç»“æ„ä¸Šé¢çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ç®€å•çš„ä¿®æ”¹é›†åˆå…ƒç´ çš„å†…å®¹ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ç¨‹åºå°±ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ï¼Œä»è€Œäº§ç”Ÿfail-fastæœºåˆ¶ã€‚ åŸå› ï¼šè¿­ä»£å™¨åœ¨éå†æ—¶ç›´æ¥è®¿é—®é›†åˆä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨éå†è¿‡ç¨‹ä¸­ä½¿ç”¨ä¸€ä¸ª modCount å˜é‡ã€‚é›†åˆåœ¨è¢«éå†æœŸé—´å¦‚æœå†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ”¹å˜modCountçš„å€¼ã€‚æ¯å½“è¿­ä»£å™¨ä½¿ç”¨hashNext()/next()éå†ä¸‹ä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œéƒ½ä¼šæ£€æµ‹modCountå˜é‡æ˜¯å¦ä¸ºexpectedmodCountå€¼ï¼Œæ˜¯çš„è¯å°±è¿”å›éå†ï¼›å¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œç»ˆæ­¢éå†ã€‚ è§£å†³åŠæ³•ï¼š 1. åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ¶‰åŠåˆ°æ”¹å˜modCountå€¼å¾—åœ°æ–¹å…¨éƒ¨åŠ ä¸Šsynchronizedã€‚ 2. ä½¿ç”¨CopyOnWriteArrayListæ¥æ›¿æ¢ArrayList 10ï¼‰ArrayList å’Œ Vector çš„åŒºåˆ«ç­”ï¼š è¿™ä¸¤ä¸ªç±»éƒ½å®ç°äº† List æ¥å£ï¼ˆList æ¥å£ç»§æ‰¿äº† Collection æ¥å£ï¼‰ï¼Œä»–ä»¬éƒ½æ˜¯æœ‰åºé›†åˆï¼Œå³å­˜å‚¨åœ¨è¿™ä¸¤ä¸ªé›†åˆä¸­çš„å…ƒç´ ä½ç½®éƒ½æ˜¯æœ‰é¡ºåºçš„ï¼Œç›¸å½“äºä¸€ç§åŠ¨æ€çš„æ•°ç»„ï¼Œæˆ‘ä»¬ä»¥åå¯ä»¥æŒ‰ä½ç½®ç´¢å¼•æ¥å–å‡ºæŸä¸ªå…ƒç´ ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ•°æ®æ˜¯å…è®¸é‡å¤çš„ï¼Œè¿™æ˜¯ä¸ HashSet ä¹‹ç±»çš„é›†åˆçš„æœ€å¤§ä¸åŒå¤„ï¼ŒHashSet ä¹‹ç±»çš„é›†åˆä¸å¯ä»¥æŒ‰ç´¢å¼•å·å»æ£€ç´¢å…¶ä¸­çš„å…ƒç´ ï¼Œä¹Ÿä¸å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚ ArrayList ä¸ Vector çš„åŒºåˆ«ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼š åŒæ­¥æ€§ï¼šVector æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹åŒæ­¥ï¼ˆåŠ äº†synchronized å…³é”®å­—ï¼‰çš„ï¼Œè€Œ ArrayList æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå®ƒçš„æ–¹æ³•ä¹‹é—´æ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ ArrayListï¼Œå› ä¸ºå®ƒä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šé«˜ä¸€äº›ï¼›å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ä¼šè®¿é—®åˆ°é›†åˆï¼Œé‚£æœ€å¥½æ˜¯ä½¿ç”¨ Vectorï¼Œå› ä¸ºä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†å»è€ƒè™‘å’Œç¼–å†™çº¿ç¨‹å®‰å…¨çš„ä»£ç ã€‚ æ•°æ®å¢é•¿ï¼šArrayList ä¸ Vector éƒ½æœ‰ä¸€ä¸ªåˆå§‹çš„å®¹é‡å¤§å°ï¼Œå½“å­˜å‚¨è¿›å®ƒä»¬é‡Œé¢çš„å…ƒç´ çš„ä¸ªäººè¶…è¿‡äº†å®¹é‡æ—¶ï¼Œå°±éœ€è¦å¢åŠ  ArrayList å’Œ Vector çš„å­˜å‚¨ç©ºé—´ï¼Œæ¯æ¬¡è¦å¢åŠ å­˜å‚¨ç©ºé—´æ—¶ï¼Œä¸æ˜¯åªå¢åŠ ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œè€Œæ˜¯å¢åŠ å¤šä¸ªå­˜å‚¨å•å…ƒï¼Œæ¯æ¬¡å¢åŠ çš„å­˜å‚¨å•å…ƒçš„ä¸ªæ•°åœ¨å†…å­˜ç©ºé—´åˆ©ç”¨ä¸ç¨‹åºæ•ˆç‡ä¹‹é—´è¦å»çš„ä¸€å®šçš„å¹³è¡¡ã€‚Vector åœ¨æ•°æ®æ»¡æ—¶ï¼ˆåŠ è½½å› å­1ï¼‰å¢é•¿ä¸ºåŸæ¥çš„ä¸¤å€ï¼ˆæ‰©å®¹å¢é‡ï¼šåŸå®¹é‡çš„ 1 å€ï¼‰ï¼Œè€Œ ArrayList åœ¨æ•°æ®é‡è¾¾åˆ°å®¹é‡çš„ä¸€åŠæ—¶ï¼ˆåŠ è½½å› å­ 0.5ï¼‰å¢é•¿ä¸ºåŸå®¹é‡çš„ 0.5 å€ + 1 ä¸ªç©ºé—´ã€‚ é¢è¯•å®˜ï¼šé‚£ ArrayList å’Œ LinkedList çš„åŒºåˆ«å‘¢ï¼Ÿ ç­”ï¼š LinkedList å®ç°äº† List å’Œ Deque æ¥å£ï¼Œä¸€èˆ¬ç§°ä¸ºåŒå‘é“¾è¡¨ï¼› LinkedList åœ¨æ’å…¥å’Œåˆ é™¤æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼ŒArrayList åœ¨æŸ¥æ‰¾æŸä¸ª index çš„æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ï¼› LinkedList æ¯” ArrayList éœ€è¦æ›´å¤šçš„å†…å­˜ï¼› é¢è¯•å®˜ï¼šArray å’Œ ArrayList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™è¯¥åº” Array è€Œä¸æ˜¯ ArrayList å‘¢ï¼Ÿ ç­”ï¼šå®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š Array å¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒArrayList åªèƒ½åŒ…å«å¯¹è±¡ç±»å‹ã€‚ Array å¤§å°æ˜¯å›ºå®šçš„ï¼ŒArrayList çš„å¤§å°æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚ ArrayList æä¾›äº†æ›´å¤šçš„æ–¹æ³•å’Œç‰¹æ€§ï¼Œæ¯”å¦‚ï¼šaddAll()ï¼ŒremoveAll()ï¼Œiterator() ç­‰ç­‰ã€‚ å¯¹äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œé›†åˆä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥å‡å°‘ç¼–ç å·¥ä½œé‡ã€‚ä½†æ˜¯ï¼Œå½“å¤„ç†å›ºå®šå¤§å°çš„åŸºæœ¬æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œè¿™ç§æ–¹å¼ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚ 11ï¼‰å¦‚ä½•å»æ‰ä¸€ä¸ª Vector é›†åˆä¸­é‡å¤çš„å…ƒç´ ï¼Ÿç­”ï¼š Vector newVector = new Vector(); for (int i = 0; i &lt; vector.size(); i++) { Object obj = vector.get(i); if (!newVector.contains(obj)) { newVector.add(obj); } } è¿˜æœ‰ä¸€ç§ç®€å•çš„æ–¹å¼ï¼Œåˆ©ç”¨äº† Set ä¸å…è®¸é‡å¤å…ƒç´ çš„ç‰¹æ€§ï¼š HashSet set = new HashSet(vector); å°ç»“ï¼šæœ¬å°èŠ‚æ˜¯ Java ä¸­å…³äºé›†åˆçš„è€ƒå¯Ÿï¼Œæ˜¯ Java å²—ä½é¢è¯•ä¸­å¿…è€ƒçš„çŸ¥è¯†ç‚¹ï¼Œé™¤äº†åº”è¯¥æŒæ¡ä»¥ä¸Šçš„é—®é¢˜ï¼ŒåŒ…æ‹¬å„ä¸ªé›†åˆçš„åº•å±‚å®ç°ä¹Ÿå»ºè®®å„ä½åŒå­¦é˜…è¯»ï¼ŒåŠ æ·±ç†è§£ã€‚ 12ï¼‰å¦‚ä½•æƒè¡¡æ˜¯ä½¿ç”¨æ— åºçš„æ•°ç»„è¿˜æ˜¯æœ‰åºçš„æ•°ç»„ï¼Ÿç­”ï¼šæœ‰åºæ•°ç»„æœ€å¤§çš„å¥½å¤„åœ¨äºæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log n)ï¼Œè€Œæ— åºæ•°ç»„æ˜¯O(n)ã€‚æœ‰åºæ•°ç»„çš„ç¼ºç‚¹æ˜¯æ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå› ä¸ºå€¼å¤§çš„å…ƒç´ éœ€è¦å¾€åç§»åŠ¨æ¥ç»™æ–°å…ƒç´ è…¾ä½ç½®ã€‚ç›¸åï¼Œæ— åºæ•°ç»„çš„æ’å…¥æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸é‡O(1)ã€‚ æ€»ç»“ohâ€¦..å¤ä¹ ä¸‹æ¥è¿˜çœŸæ˜¯é…¸çˆ½â€¦.å‰è·¯æ¼«æ¼«å•Šâ€¦. æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Spring Bootã€å¿«é€Ÿå…¥é—¨ã€‘","slug":"Spring-Bootã€å¿«é€Ÿå…¥é—¨ã€‘","date":"2018-05-07T22:54:00.000Z","updated":"2020-08-03T08:54:52.605Z","comments":true,"path":"2018/05/08/spring-boot-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2018/05/08/spring-boot-kuai-su-ru-men/","excerpt":"","text":"Spring Boot æ¦‚è¿° Build Anything with Spring Bootï¼š Spring Boot is the starting point for building all Spring-based applications. Spring Boot is designed to get you up and running as quickly as possible, with minimal upfront configuration of Spring. ä¸Šé¢æ˜¯å¼•è‡ªå®˜ç½‘çš„ä¸€æ®µè¯ï¼Œå¤§æ¦‚æ˜¯è¯´ï¼š Spring Boot æ˜¯æ‰€æœ‰åŸºäº Spring å¼€å‘çš„é¡¹ç›®çš„èµ·ç‚¹ã€‚Spring Boot çš„è®¾è®¡æ˜¯ä¸ºäº†è®©ä½ å°½å¯èƒ½å¿«çš„è·‘èµ·æ¥ Spring åº”ç”¨ç¨‹åºå¹¶ä¸”å°½å¯èƒ½å‡å°‘ä½ çš„é…ç½®æ–‡ä»¶ã€‚ ä»€ä¹ˆæ˜¯ Spring Boot å®ƒä½¿ç”¨ â€œä¹ æƒ¯ä¼˜äºé…ç½®â€ ï¼ˆé¡¹ç›®ä¸­å­˜åœ¨å¤§é‡çš„é…ç½®ï¼Œæ­¤å¤–è¿˜å†…ç½®ä¸€ä¸ªä¹ æƒ¯æ€§çš„é…ç½®ï¼Œè®©ä½ æ— é¡»ï¼‰çš„ç†å¿µè®©ä½ çš„é¡¹ç›®å¿«é€Ÿè¿è¡Œèµ·æ¥ã€‚ å®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆæ–°çš„æ¡†æ¶ï¼Œè€Œæ˜¯é»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒ Maven æ•´åˆäº†æ‰€æœ‰çš„ jar åŒ…ä¸€æ ·ï¼ŒSpring Boot æ•´åˆäº†æ‰€æœ‰æ¡†æ¶ï¼ˆå¼•è‡ªï¼šspringboot(ä¸€)ï¼šå…¥é—¨ç¯‡â€”â€”çº¯æ´çš„å¾®ç¬‘ï¼‰ ä½¿ç”¨ Spring Boot æœ‰ä»€ä¹ˆå¥½å¤„å›é¡¾æˆ‘ä»¬ä¹‹å‰çš„ SSM é¡¹ç›®ï¼Œæ­å»ºè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œéœ€è¦ï¼š 1ï¼‰é…ç½® web.xmlï¼ŒåŠ è½½ spring å’Œ spring mvc 2ï¼‰é…ç½®æ•°æ®åº“è¿æ¥ã€é…ç½®æ—¥å¿—æ–‡ä»¶ 3ï¼‰é…ç½®å®¶åœ¨é…ç½®æ–‡ä»¶çš„è¯»å–ï¼Œå¼€å¯æ³¨è§£ 4ï¼‰é…ç½®mapperæ–‡ä»¶ â€¦.. è€Œä½¿ç”¨ Spring Boot æ¥å¼€å‘é¡¹ç›®åˆ™åªéœ€è¦éå¸¸å°‘çš„å‡ ä¸ªé…ç½®å°±å¯ä»¥æ­å»ºèµ·æ¥ä¸€ä¸ª Web é¡¹ç›®ï¼Œå¹¶ä¸”åˆ©ç”¨ IDEA å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç”Ÿæˆï¼Œè¿™ç®€ç›´æ˜¯å¤ªçˆ½äº†â€¦ åˆ’é‡ç‚¹ï¼šç®€å•ã€å¿«é€Ÿã€æ–¹ä¾¿åœ°æ­å»ºé¡¹ç›®ï¼›å¯¹ä¸»æµå¼€å‘æ¡†æ¶çš„æ— é…ç½®é›†æˆï¼›æå¤§æé«˜äº†å¼€å‘ã€éƒ¨ç½²æ•ˆç‡ã€‚ Spring Boot å¿«é€Ÿæ­å»ºç¬¬ä¸€æ­¥ï¼šæ–°å»ºé¡¹ç›®é€‰æ‹© Spring Initializr ï¼Œç„¶åé€‰æ‹©é»˜è®¤çš„ url ç‚¹å‡»ã€Nextã€‘ï¼š ç„¶åä¿®æ”¹ä¸€ä¸‹é¡¹ç›®çš„ä¿¡æ¯ï¼š å‹¾é€‰ä¸Š Web æ¨¡æ¿ï¼š é€‰æ‹©å¥½é¡¹ç›®çš„ä½ç½®ï¼Œç‚¹å‡»ã€Finishã€‘ï¼š å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡é…ç½® Spring Boot çš„è¯å¯èƒ½éœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ IDEA ä¸‹è½½ç›¸åº”çš„ ä¾èµ–åŒ…ï¼Œé»˜è®¤åˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š é¡¹ç›®ç»“æ„è¿˜æ˜¯çœ‹ä¸Šå»æŒºæ¸…çˆ½çš„ï¼Œå°‘äº†å¾ˆå¤šé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹é»˜è®¤ç”Ÿæˆçš„æœ‰ä»€ä¹ˆï¼š SpringbootApplicationï¼š ä¸€ä¸ªå¸¦æœ‰ main() æ–¹æ³•çš„ç±»ï¼Œç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åº SpringbootApplicationTestsï¼šä¸€ä¸ªç©ºçš„ Junit æµ‹è¯•äº†ï¼Œå®ƒåŠ è½½äº†ä¸€ä¸ªä½¿ç”¨ Spring Boot å­—å…¸é…ç½®åŠŸèƒ½çš„ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ application.propertiesï¼šä¸€ä¸ªç©ºçš„ properties æ–‡ä»¶ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ é…ç½®å±æ€§ pom.xmlï¼š Maven æ„å»ºè¯´æ˜æ–‡ä»¶ ç¬¬äºŒæ­¥ï¼šHelloControlleråœ¨ã€cn.wmyskxz.springbootã€‘åŒ…ä¸‹æ–°å»ºä¸€ä¸ªã€HelloControllerã€‘ï¼š package cn.wmyskxz.springboot; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; /** * æµ‹è¯•æ§åˆ¶å™¨ * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-05-08-ä¸‹åˆ 16:46 */ @RestController public class HelloController { @RequestMapping(&quot;/hello&quot;) public String hello() { return &quot;Hello Spring Boot!&quot;; } } @RestController æ³¨è§£ï¼š è¯¥æ³¨è§£æ˜¯ @Controller å’Œ @ResponseBody æ³¨è§£çš„åˆä½“ç‰ˆ ç¬¬ä¸‰æ­¥ï¼šåˆ©ç”¨ IDEA å¯åŠ¨ Spring Bootæˆ‘ä»¬å›åˆ° SpringbootApplication è¿™ä¸ªç±»ä¸­ï¼Œç„¶åå³é”®ç‚¹å‡»è¿è¡Œï¼š æ³¨æ„ï¼šæˆ‘ä»¬ä¹‹æ‰€ä»¥åœ¨ä¸Šé¢çš„é¡¹ç›®ä¸­æ²¡æœ‰æ‰‹åŠ¨çš„å»é…ç½® Tomcat æœåŠ¡å™¨ï¼Œæ˜¯å› ä¸º Spring Boot å†…ç½®äº† Tomcat ç­‰å¾…ä¸€ä¼šå„¿å°±ä¼šçœ‹åˆ°ä¸‹æ–¹çš„æˆåŠŸè¿è¡Œçš„æç¤ºä¿¡æ¯ï¼š å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ Tomcat è¿è¡Œåœ¨ 8080 ç«¯å£ï¼Œæˆ‘ä»¬æ¥è®¿é—® â€œ/helloâ€ åœ°å€è¯•ä¸€ä¸‹ï¼š å¯ä»¥çœ‹åˆ°é¡µé¢æˆåŠŸæ˜¾ç¤ºå‡ºæˆ‘ä»¬è¿”å›çš„ä¿¡æ¯ã€‚ è§£æ Spring Boot é¡¹ç›® è¿™ä¸€éƒ¨åˆ†å‚è€ƒè‡ªï¼šSpring Bootå¹²è´§ç³»åˆ—ï¼ˆä¸€ï¼‰ä¼˜é›…çš„å…¥é—¨ç¯‡ â€”â€”å˜Ÿå˜Ÿç‹¬ç«‹åšå®¢ è§£æ pom.xml æ–‡ä»¶è®©æˆ‘ä»¬æ¥çœ‹çœ‹é»˜è®¤ç”Ÿæˆçš„ pom.xml æ–‡ä»¶ä¸­åˆ°åº•æœ‰ä¸€äº›ä»€ä¹ˆç‰¹åˆ«ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cn.wmyskxz&lt;/groupId&gt; &lt;artifactId&gt;springboot&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;springboot&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¯”è¾ƒé™Œç”Ÿä¸€äº›çš„æ ‡ç­¾ &lt;parent&gt; ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯åœ¨é…ç½® Spring Boot çš„çˆ¶çº§ä¾èµ–ï¼š &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt;æœ‰äº†è¿™ä¸ªï¼Œå½“å‰çš„é¡¹ç›®æ‰æ˜¯ Spring Boot é¡¹ç›®ï¼Œspring-boot-starter-parent æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ starter ï¼Œå®ƒç”¨æ¥æä¾›ç›¸å…³çš„ Maven é»˜è®¤ä¾èµ–ï¼Œä½¿ç”¨å®ƒä¹‹åï¼Œå¸¸ç”¨çš„åŒ…ä¾èµ–å°±å¯ä»¥çœå» version æ ‡ç­¾ã€‚ å…³äºå…·ä½“ Spring Boot æä¾›äº†å“ªäº› jar åŒ…çš„ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æœ¬åœ° Maven ä»“åº“ä¸‹ï¼š\\repository\\org\\springframework\\boot\\spring-boot-dependencies\\2.0.1.RELEASE\\spring-boot-dependencies-2.0.1.RELEASE.pom æ–‡ä»¶æ¥æŸ¥çœ‹ï¼ŒæŒºé•¿çš„â€¦ åº”ç”¨å…¥å£ç±»Spring Boot é¡¹ç›®é€šå¸¸æœ‰ä¸€ä¸ªåä¸º Application çš„å…¥å£ç±»ï¼Œå…¥å£ç±»é‡Œæœ‰ä¸€ä¸ª main æ–¹æ³•ï¼Œ *è¿™ä¸ª main æ–¹æ³•å…¶å®å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Javay åº”ç”¨çš„å…¥å£æ–¹æ³•ã€‚** @SpringBootApplication æ˜¯ Spring Boot çš„æ ¸å¿ƒæ³¨è§£ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œè¯¥æ³¨è§£ç»„åˆäº†ï¼š@Configurationã€@EnableAutoConfigurationã€@ComponentScanï¼› è‹¥ä¸æ˜¯ç”¨ @SpringBootApplication æ³¨è§£ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸‰ä¸ªæ³¨è§£ä»£æ›¿ã€‚ å…¶ä¸­ï¼Œ@EnableAutoConfiguration è®© Spring Boot æ ¹æ®ç±»è·¯å¾„ä¸­çš„ jar åŒ…ä¾èµ–ä¸ºå½“å‰é¡¹ç›®è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œä¾‹å¦‚ï¼Œæ·»åŠ äº† spring-boot-starter-web ä¾èµ–ï¼Œä¼šè‡ªåŠ¨æ·»åŠ  Tomcat å’Œ Spring MVC çš„ä¾èµ–ï¼Œé‚£ä¹ˆ Spring Boot ä¼šå¯¹ Tomcat å’Œ Spring MVC è¿›è¡Œè‡ªåŠ¨é…ç½®ã€‚ Spring Boot è¿˜ä¼šè‡ªåŠ¨æ‰«æ @SpringBootApplication æ‰€åœ¨ç±»çš„åŒçº§åŒ…ä»¥åŠä¸‹çº§åŒ…é‡Œçš„ Bean ï¼Œæ‰€ä»¥å…¥å£ç±»å»ºè®®å°±é…ç½®åœ¨ grounpID + arctifactID ç»„åˆçš„åŒ…åä¸‹ï¼ˆè¿™é‡Œä¸º cn.wmyskxz.springboot åŒ…ï¼‰ Spring Boot çš„é…ç½®æ–‡ä»¶Spring Boot ä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ application.properties æˆ– application.ymlï¼Œæ”¾ç½®åœ¨ã€src/main/resourcesã€‘ç›®å½•æˆ–è€…ç±»è·¯å¾„çš„ /config ä¸‹ã€‚ Spring Boot ä¸ä»…æ”¯æŒå¸¸è§„çš„ properties é…ç½®æ–‡ä»¶ï¼Œè¿˜æ”¯æŒ yaml è¯­è¨€çš„é…ç½®æ–‡ä»¶ã€‚yaml æ˜¯ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„è¯­è¨€ï¼Œåœ¨é…ç½®æ•°æ®çš„æ—¶å€™å…·æœ‰é¢å‘å¯¹è±¡çš„ç‰¹å¾ã€‚ Spring Boot çš„å…¨å±€é…ç½®æ–‡ä»¶çš„ä½œç”¨æ˜¯å¯¹ä¸€äº›é»˜è®¤é…ç½®çš„é…ç½®å€¼è¿›è¡Œä¿®æ”¹ã€‚ ç®€å•å®ä¾‹ä¸€ä¸‹ æˆ‘ä»¬åŒæ ·çš„å°† Tomcat é»˜è®¤ç«¯å£è®¾ç½®ä¸º 8080 ï¼Œå¹¶å°†é»˜è®¤çš„è®¿é—®è·¯å¾„ä» â€œ/â€ ä¿®æ”¹ä¸º â€œ/helloâ€ æ—¶ï¼Œä½¿ç”¨ properties æ–‡ä»¶å’Œ yml æ–‡ä»¶çš„åŒºåˆ«å¦‚ä¸Šå›¾ã€‚ æ³¨æ„ï¼š yml éœ€è¦åœ¨ â€œ:â€ ååŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¹¸å¥½ IDEA å¾ˆå¥½åœ°æ”¯æŒäº† yml æ–‡ä»¶çš„æ ¼å¼æœ‰è‰¯å¥½çš„ä»£ç æç¤ºï¼› æˆ‘ä»¬å¯ä»¥è‡ªå·±é…ç½®å¤šä¸ªå±æ€§ æˆ‘ä»¬ç›´æ¥æŠŠ .properties åç¼€çš„æ–‡ä»¶åˆ æ‰ï¼Œä½¿ç”¨ .yml æ–‡ä»¶æ¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œç„¶åä½¿ç”¨ @Value æ¥è·å–é…ç½®å±æ€§ï¼š é‡å¯ Spring Boot ï¼Œè¾“å…¥åœ°å€ï¼šlocalhost:8080/hello èƒ½çœ‹åˆ°æ­£ç¡®çš„ç»“æœï¼š æ³¨æ„ï¼š æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨ yml æ–‡ä»¶ä¸­æ³¨æ˜å±æ€§çš„ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å®šä¹‰çš„ã€‚ ä½ ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨å½“å‰é…ç½®ï¼š ä»ç„¶å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼š é—®é¢˜ï¼š è¿™æ ·å†™é…ç½®æ–‡ä»¶ç¹çè€Œä¸”å¯èƒ½ä¼šé€ æˆç±»çš„è‡ƒè‚¿ï¼Œå› ä¸ºæœ‰è®¸è®¸å¤šå¤šçš„ @Value æ³¨è§£ã€‚ å°è£…é…ç½®ä¿¡æ¯ æˆ‘ä»¬å¯ä»¥æŠŠé…ç½®ä¿¡æ¯å°è£…æˆä¸€ä¸ªç±»ï¼Œé¦–å…ˆåœ¨æˆ‘ä»¬çš„ name å’Œ age å‰åŠ ä¸€ä¸ª student å‰ç¼€ï¼Œç„¶åæ–°å»ºä¸€ä¸ª StudentProperties çš„ç±»ç”¨æ¥å°è£…è¿™äº›ä¿¡æ¯ï¼Œå¹¶ç”¨ä¸Šä¸¤ä¸ªæ³¨è§£ï¼š @Componentï¼šè¡¨æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ª Java Bean @ConfigurationProperties(prefix = â€œstudentâ€)ï¼šè¡¨ç¤ºè·å–å‰ç¼€ä¸º sutdent çš„é…ç½®ä¿¡æ¯ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨ï¼Œé‡å¯å¾—åˆ°æ­£ç¡®ä¿¡æ¯ï¼š Spring Boot çƒ­éƒ¨ç½²åœ¨ç›®å‰çš„ Spring Boot é¡¹ç›®ä¸­ï¼Œå½“å‘ç”Ÿäº†ä»»ä½•ä¿®æ”¹ä¹‹åæˆ‘ä»¬éƒ½éœ€è¦é‡æ–°å¯åŠ¨æ‰èƒ½å¤Ÿæ­£ç¡®çš„å¾—åˆ°æ•ˆæœï¼Œè¿™æ ·ä¼šç•¥æ˜¾éº»çƒ¦ï¼ŒSpring Boot æä¾›äº†çƒ­éƒ¨ç½²çš„æ–¹å¼ï¼Œå½“å‘ç°ä»»ä½•ç±»å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¼šé€šè¿‡ JVM ç±»åŠ è½½çš„æ–¹å¼ï¼ŒåŠ è½½æœ€æ–°çš„ç±»åˆ°è™šæ‹Ÿæœºä¸­ï¼Œè¿™æ ·å°±ä¸éœ€è¦é‡æ–°å¯åŠ¨ä¹Ÿèƒ½çœ‹åˆ°ä¿®æ”¹åçš„æ•ˆæœäº†ã€‚ åšæ³•ä¹Ÿå¾ˆç®€å•ï¼Œä¿®æ”¹ pom.xml å³å¯ï¼ æˆ‘ä»¬å¾€ pom.xml ä¸­æ·»åŠ ä¸€ä¸ªä¾èµ–å°±å¯ä»¥äº†ï¼š &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;!-- è¿™ä¸ªéœ€è¦ä¸º true çƒ­éƒ¨ç½²æ‰æœ‰æ•ˆ --&gt; &lt;/dependency&gt;é‡æ–°å¯åŠ¨ Spring Boot ï¼Œç„¶åä¿®æ”¹ä»»æ„ä»£ç ï¼Œå°±èƒ½è§‚å¯Ÿåˆ°æ§åˆ¶å°çš„è‡ªåŠ¨é‡å¯ç°è±¡ï¼š å…³äºå¦‚ä½•åœ¨ IDEA ä¸­é…ç½®çƒ­éƒ¨ç½²ï¼šä¼ é€é—¨ Spring Boot ä½¿ç”¨ä¸Šé¢å·²ç»å®Œæˆäº† Spring Boot é¡¹ç›®çš„ç®€å•æ­å»ºï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦è¿›è¡Œä¸€äº›ç®€å•çš„è®¾ç½®ï¼Œå†™ä¸€ä¸ª HelloController å°±èƒ½å¤Ÿç›´æ¥è¿è¡Œäº†ï¼Œä¸è¦å¤ªç®€å•â€¦æ¥ä¸‹æ¥æˆ‘ä»¬å†æ·±å…¥äº†è§£ä¸€ä¸‹ Spring Boot çš„ä½¿ç”¨ã€‚ Spring Boot æ”¯æŒ JSPSpring Boot çš„é»˜è®¤è§†å›¾æ”¯æŒæ˜¯ Thymeleaf æ¨¡æ¿å¼•æ“ï¼Œä½†æ˜¯è¿™ä¸ªæˆ‘ä»¬ä¸ç†Ÿæ‚‰å•Šï¼Œæˆ‘ä»¬è¿˜æ˜¯æƒ³è¦ä½¿ç”¨ JSP æ€ä¹ˆåŠå‘¢ï¼Ÿ ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹ pom.xml å¢åŠ å¯¹ JSP æ–‡ä»¶çš„æ”¯æŒ &lt;!-- servletä¾èµ–. --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- tomcatçš„æ”¯æŒ.--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; ç¬¬äºŒæ­¥ï¼šé…ç½®è¯•å›¾é‡å®šå‘ JSP æ–‡ä»¶çš„ä½ç½® ä¿®æ”¹ application.yml æ–‡ä»¶ï¼Œå°†æˆ‘ä»¬çš„ JSP æ–‡ä»¶é‡å®šå‘åˆ° /WEB-INF/views/ ç›®å½•ä¸‹ï¼š ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ HelloController ä¿®æ”¹ @RestController æ³¨è§£ä¸º @Controller ï¼Œç„¶åå°† hello æ–¹æ³•ä¿®æ”¹ä¸ºï¼š ç¬¬å››æ­¥ï¼šæ–°å»º hello.jsp æ–‡ä»¶ åœ¨ã€src/mainã€‘ç›®å½•ä¸‹ä¾æ¬¡åˆ›å»º webappã€WEB-INFã€views ç›®å½•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª hello.jsp æ–‡ä»¶ï¼š ç¬¬äº”æ­¥ï¼šåˆ·æ–°ç½‘é¡µ å› ä¸ºæˆ‘ä»¬éƒ¨ç½²äº†çƒ­éƒ¨ç½²åŠŸèƒ½ï¼Œæ‰€ä»¥åªéœ€è¦ç­‰å¾…æ§åˆ¶å°é‡å¯ä¿¡æ¯å®Œæˆä¹‹åå†åˆ·æ–°ç½‘é¡µå°±å¯ä»¥çœ‹åˆ°æ­£ç¡®æ•ˆæœäº†ï¼š å…³äº 404ï¼Œä½¿ç”¨ spring-boot:run è¿è¡Œé¡¹ç›®å¯ä»¥è§£å†³ï¼š é›†æˆ MyBatis ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹ pom.xml å¢åŠ å¯¹ MySqlå’Œ MyBatis çš„æ”¯æŒ &lt;!-- mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.21&lt;/version&gt; &lt;/dependency&gt; ç¬¬äºŒæ­¥ï¼šæ–°å¢æ•°æ®åº“é“¾æ¥å‚æ•° è¿™é‡Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨ä¹‹å‰åˆ›å»ºå¥½çš„ student è¡¨äº†å§ï¼š ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º Student å®ä½“ç±»å’Œ StudentMapper æ˜ å°„ç±» åœ¨ã€cn.wmyskxz.springbootã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€pojoã€‘åŒ…ï¼Œç„¶ååœ¨å…¶ä¸‹åˆ›å»ºä¸€ä¸ª Student ç±»ï¼š public class Student { private Integer id; private Integer student_id; private String name; private Integer age; private String sex; private Date birthday; /* getter and setter */ }åœ¨ã€cn.wmyskxz.springbootã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€mapperã€‘åŒ…ï¼Œç„¶ååœ¨å…¶ä¸‹åˆ›å»ºä¸€ä¸ª StudentMapper æ˜ å°„ç±»ï¼š package cn.wmyskxz.springboot.mapper; import cn.wmyskxz.springboot.pojo.Student; import org.apache.ibatis.annotations.Mapper; import org.apache.ibatis.annotations.Select; import java.util.List; @Mapper public interface StudentMapper { @Select(&quot;SELECT * FROM student&quot;) List&lt;Student&gt; findAll(); } ç¬¬å››æ­¥ï¼šç¼–å†™ StudentController åœ¨ã€cn.wmyskxz.springbootã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€controllerã€‘åŒ…ï¼Œç„¶ååœ¨å…¶ä¸‹åˆ›å»ºä¸€ä¸ª StudentController ï¼š package cn.wmyskxz.springboot.controller; import cn.wmyskxz.springboot.mapper.StudentMapper; import cn.wmyskxz.springboot.pojo.Student; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; import java.util.List; /** * Student æ§åˆ¶å™¨ * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-05-08-ä¸‹åˆ 20:25 */ @Controller public class StudentController { @Autowired StudentMapper studentMapper; @RequestMapping(&quot;/listStudent&quot;) public String listStudent(Model model) { List&lt;Student&gt; students = studentMapper.findAll(); model.addAttribute(&quot;students&quot;, students); return &quot;listStudent&quot;; } } ç¬¬äº”æ­¥ï¼šç¼–å†™ listStudent.jsp æ–‡ä»¶ æˆ‘ä»¬ç®€åŒ–ä¸€ä¸‹ JSP çš„æ–‡ä»¶ï¼Œä»…æ˜¾ç¤ºä¸¤ä¸ªå­—æ®µçš„æ•°æ®ï¼š &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt; &lt;table align=&#39;center&#39; border=&#39;1&#39; cellspacing=&#39;0&#39;&gt; &lt;tr&gt; &lt;td&gt;id&lt;/td&gt; &lt;td&gt;name&lt;/td&gt; &lt;/tr&gt; &lt;c:forEach items=&quot;${students}&quot; var=&quot;s&quot; varStatus=&quot;st&quot;&gt; &lt;tr&gt; &lt;td&gt;${s.id}&lt;/td&gt; &lt;td&gt;${s.name}&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/table&gt; ç¬¬å…­æ­¥ï¼šé‡å¯æœåŠ¡å™¨è¿è¡Œ å› ä¸ºå¾€ pom.xml ä¸­æ–°å¢åŠ äº†ä¾èµ–çš„åŒ…ï¼Œæ‰€ä»¥è‡ªåŠ¨é‡å¯æœåŠ¡å™¨æ²¡æœ‰ä½œç”¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é‡å¯ä¸€æ¬¡ï¼Œç„¶ååœ¨åœ°å€è¾“å…¥ï¼šlocalhost:8080/listStudent æŸ¥çœ‹æ•ˆæœï¼š ä»¥ä¸Šã€‚ å‚è€ƒèµ„æ–™ï¼šhow2j.cn-Spring Boot ç³»åˆ—æ•™ç¨‹ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SpringBoot","slug":"JavaWebåŸºç¡€/SpringBoot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SpringBoot/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMã€‘â€”â€”æ€»ç»“","slug":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMã€‘â€”â€”æ€»ç»“","date":"2018-05-07T01:04:00.000Z","updated":"2020-08-03T08:54:26.722Z","comments":true,"path":"2018/05/07/mo-fang-tian-mao-shi-zhan-ssm-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/05/07/mo-fang-tian-mao-shi-zhan-ssm-zong-jie/","excerpt":"","text":"ç¬¬ä¸€ç¯‡æ–‡ç« é“¾æ¥ï¼šæ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”é¡¹ç›®èµ·æ­¥ç¬¬äºŒç¯‡æ–‡ç« é“¾æ¥ï¼šæ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”åå°å¼€å‘ æ€»ç»“ï¼šé¡¹ç›®ä»4-27å·å¼€å§‹å†™ï¼Œåˆ°ä»Šå¤©5-7å·æ‰ç®—çœŸæ­£çš„å®Œå·¥ï¼Œæœ‰è®¸å¤šç²—ç³™çš„åœ°æ–¹ï¼Œä½†æ€»ç®—å®Œæˆäº†ï¼Œæ¯”æƒ³è±¡ä¸­çš„å¼€å‘å‘¨æœŸè¦ä¹…çš„å¤šï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½èŠ±åœ¨äº†å‰ç«¯é¡µé¢çš„ç¼–å†™ä¸Šâ€¦ä»…ä»¥æ­¤æ–‡æ¥æ€»ç»“ä¸€ä¸‹ é¡¹ç›®æ€»ç»“åŠŸèƒ½ä¸€è§ˆè¡¨ å¤§è‡´ç†äº†ä¸€ä¸‹åŠŸèƒ½åˆ—è¡¨ï¼Œåº”è¯¥æ˜¯é½å…¨çš„ï¼Œå…¶ä¸­æ¨èé“¾æ¥æš‚æ—¶ä¸æ”¯æŒä¿®æ”¹ã€‚ é¡¹ç›®é¡µé¢ä¸€è§ˆè¡¨ åç«¯é¡µé¢ï¼š åå°æ‰€éœ€è¦ç”¨åˆ°çš„é¡µé¢ï¼Œä»åå­—å¾ˆå¥½åŒºåˆ†åŠŸèƒ½ï¼Œå…¶ä¸­ index.jsp åªæœ‰ä¸€è¡Œä»£ç ç”¨äºè·³è½¬ å…¬å…±é¡µé¢ï¼š éƒ½æ˜¯å‰ç«¯é¡µé¢ï¼Œä»å¯¹å¤©çŒ«é¡µé¢çš„åˆ†ææå–å‡ºä¸€äº›å¤ç”¨æ¯”è¾ƒé«˜çš„é¡µé¢ç”¨äºåŠ¨æ€çš„åŒ…å«åœ¨å…¶ä»–å‰ç«¯é¡µé¢ä¸­ã€‚ å‰å°é¡µé¢ï¼šå‰å°ç›¸è¾ƒäºåå°é¡µé¢ CSS æ›´åŠ å¤æ‚ï¼Œäº¤äº’ä¹Ÿæ›´å¤šï¼Œæˆ‘æŠŠæ¯ä¸€ä¸ªé¡µé¢çš„éœ€è¦ç”¨åˆ°çš„ css å’Œ js ä»£ç å‡ä¿ç•™åœ¨äº†å½“å‰ JSP é¡µé¢ä¸­ï¼Œæ–¹ä¾¿æµè§ˆå­¦ä¹ ã€‚ é¡¹ç›®ä¸»è¦é€»è¾‘ç±» æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼š ç”¨äºæ§åˆ¶é¡µé¢çš„é€»è¾‘ï¼Œ æå–å‡ºä¸€ä¸ª PageController æ¥ä¸“é—¨æ§åˆ¶é¡µé¢çš„è·³è½¬ï¼ŒForeController ç”¨äºå‰å°æ‰€æœ‰çš„é€»è¾‘æ“ä½œ æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰ï¼š LoginInteceptor ç”¨äºå¯¹ç™»å½•è¿›è¡Œåˆ¤æ–­ï¼Œå› ä¸ºæœ‰ä¸€äº›é¡µé¢éœ€è¦ç™»å½•ä¹‹åæ‰èƒ½è®¿é—®çš„ï¼Œä¾‹å¦‚ï¼šè´­ç‰©è½¦ï¼›OtherInterceptor ç”¨äºå‘é¡µé¢ä¸­æ·»åŠ ä¸€äº›å…¶ä»–çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼šè´­ç‰©è½¦æ•°é‡ã€‚ ä¸šåŠ¡å±‚ï¼ˆServiceå±‚ï¼‰ï¼š ä¸šåŠ¡å¤„ç†å±‚ï¼Œå…¶ä¸­å°è£…äº† Dao å±‚ï¼Œç”¨äºå®Œæˆä¸»è¦çš„é€»è¾‘å¤„ç†ã€‚ ä¸éœ€è¦ç™»å½•å°±èƒ½è®¿é—®çš„é¡µé¢ï¼ˆä»¥ä¸‹ä¸ºæ‹¦æˆªå™¨ä¸­çš„ä»£ç ç‰‡æ®µï¼‰ï¼š å…¶ä¸­åŒ…æ‹¬ï¼šä¸»é¡µã€æœç´¢ç»“æœé¡µã€äº§å“å±•ç¤ºé¡µã€ç™»å½•é¡µã€æ³¨å†Œé¡µã€‚ è¿˜åŒ…æ‹¬ä¸€äº›å…¶ä»–çš„è·¯å¾„ç”¨äºå¤„ç†é€»è¾‘ï¼Œtest ä¸ºå¼€å‘è¿‡ç¨‹ä¸­ç”¨äºæµ‹è¯•çš„é¡µé¢ å‰å°æ€»ç»“å‰å°èŠ±è´¹äº†å¤§éƒ¨åˆ†çš„æ—¶é—´ï¼Œä¸ä»…ä»…æ˜¯ç¹æ‚çš„æ ·å¼å’Œé¡µé¢éœ€è¦è‡ªå·±å»ç¼–å†™ï¼Œä¸šåŠ¡é€»è¾‘ä¹Ÿæ¯”åå°è¦å¤æ‚ä¸€äº›ï¼Œå› ä¸ºæ˜¯æ¨¡ä»¿ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„ CSS æˆ‘éƒ½æ˜¯å‚ç…§ç€å¤©çŒ«å®˜ç½‘å†™çš„ï¼ˆåˆ©ç”¨FireFoxæ¥æŸ¥çœ‹å…ƒç´ å’Œå…ƒç´ æ ·å¼ï¼‰ï¼š å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å‚ç…§äº†how2j.cnä¸Šæ¨¡ä»¿çš„å‰ç«¯æ•™ç¨‹ï¼šæˆ³è¿™é‡Œ é¦–é¡µ ç®€è¦çš„é¦–é¡µå¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œè¯·åˆ«åœ¨æ„è½®æ’­ä¸‹é¢çš„ã€å¥³è£…/å†…è¡£ã€‘ä¸­çš„äº§å“ï¼Œå› ä¸ºåœ¨4æœˆä»½çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªåˆ†ç±»çš„åå­—è¿˜å«ã€å¥³è£… /ç”·è£… /å†…è¡£ã€‘ï¼ˆå¥½åƒæ˜¯è¿™ä¸ªï¼‰ï¼Œåæ¥é¡¹ç›®å†™ç€å†™ç€çªç„¶æ”¹äº†â€¦ è§‚å¯Ÿå¤§éƒ¨åˆ†çš„é¡µé¢ï¼Œå…¶å®éƒ½æ˜¯åŒ…å«äº†å…¶ä¸­çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼š å³é¡¶éƒ¨å¯¼èˆªæ ã€ä¸€ä¸ªæœç´¢æ¡†ã€è¿˜æœ‰åº•éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æŠŠä»–ä»¬å†™æˆä¸€ä¸ª jsp ï¼Œå¹¶åŠ¨æ€çš„åŒ…å«åœ¨æˆ‘ä»¬çš„é¡µé¢ä¸­ é¦–é¡µåˆ†ç±»æ  å› ä¸ºä¸€å¼€å§‹ï¼Œæˆ‘ä»¥ä¸ºåˆ†ç±»æ ä¸­ä¿å­˜çš„æ˜¯ä¸€äº›ç›´æ¥çš„äº§å“ï¼Œä½†æ˜¯åˆ†æå‰ç«¯çš„æ—¶å€™å‘ç°å®ƒä»¬åªæ˜¯ä¸€äº› hot-word çƒ­è¯ï¼Œæ‰€ä»¥ä¸ºäº†å’Œå¤©çŒ«çš„é¦–é¡µä¿æŒä¸€è‡´ï¼Œæˆ‘ç›´æ¥æŠŠåˆ†ç±»æ å†™æ­»äº†å†™æˆäº†ä¸€ä¸ªå•ç‹¬çš„ JSP æ–‡ä»¶å¹¶åŒ…å«è¿›äº†ä¸»é¡µï¼š æˆ‘è¿˜è‡ªå·±å†™äº†ä¸€ä¸ªå°ç¨‹åºï¼Œç”¨æ¥å°†è¿™äº› hor-word è½¬æ¢æˆå¯¹åº”çš„ html ä»£ç ï¼Œä¸ç„¶è¿™æ‰‹å†™ 2000 è¡Œå¯èƒ½çœŸçš„å¤Ÿå‘›â€¦ äº§å“æœç´¢é¡µ å¹¶ä¸”æ”¯æŒæŒ‰ç…§ã€ç»¼åˆï¼ˆé”€é‡*è¯„ä»·ï¼‰ã€‘ã€ã€äººæ°”ï¼ˆè¯„è®ºé‡ï¼‰ã€‘ã€ã€é”€é‡ã€‘ã€ã€ä»·æ ¼ã€‘æ¥æ’åºäº§å“ï¼Œä½¿ç”¨ Java 8 çš„æ–°ç‰¹æ€§æ¥å®Œæˆè¯¥åŠŸèƒ½ï¼š äº§å“å±•ç¤ºé¡µ æ‰€æœ‰çš„äº§å“å±•ç¤ºå›¾ç‰‡å‡æ˜¯æ¥è‡ªhow2j.comä¸Šçš„ä¸€å¼ å›¾ï¼Œå‰é¢æœ‰é“¾æ¥ï¼Œè¡¨ç¤ºæœ‰å‚ç…§è¿™ä¸ªæ•™ç¨‹æ¥åšã€‚ è´­ä¹°é¡µ åœ¨äº§å“é¡µä¸­ç‚¹å‡»ç«‹å³è´­ä¹°ï¼Œæˆ–è€…åœ¨è´­ç‰©è½¦ç‚¹å‡»ç»“ç®—éƒ½ä¼šè·³è½¬åˆ°è¯¥é¡µé¢ï¼Œåˆ›å»ºè®¢å•ã€‚ ä»˜æ¬¾é¡µé¢ æ— è€»çš„é»äº†ä¸€å¼ è‡ªå·±çš„æ”¶æ¬¾äºŒç»´ç â€¦ ä»˜æ¬¾æˆåŠŸé¡µ å½“ç‚¹å‡»ç¡®è®¤æ”¯ä»˜æŒ‰é’®ä¹‹åï¼Œå°±ä¼šè·³è½¬åˆ°è¯¥é¡µé¢æ¥ã€‚ è´­ç‰©è½¦é¡µ è¯¥é¡µé¢æ”¯æŒåˆ é™¤è®¢å•å’Œå¯¹è®¢å•é¡¹è¿›è¡Œç›¸å…³çš„æ“ä½œï¼Œç‚¹å‡»ç»“ç®—é¡µé¢è·³è½¬åˆ°è´­ä¹°é¡µã€‚ æˆ‘çš„è®¢å•é¡µ è¯¥é¡µé¢ç”¨äºå¯¹è®¢å•çš„ç®¡ç†ï¼Œå¯ä»¥æŸ¥çœ‹å’Œæ“ä½œè®¢å•ã€‚ è¯„ä»·é¡µ å½“å®Œæˆè´­ä¹°ï¼Œå³ç»è¿‡è´­ä¹°â†’æ”¯ä»˜â†’å‘è´§â†’ç¡®è®¤æ”¶è´§çš„æµç¨‹ä¹‹åï¼Œå³å¯å¯¹äº§å“è¿›è¡Œè¯„è®ºï¼Œè¯„è®ºå®Œæˆåèƒ½çœ‹åˆ°å…¶ä»–ç”¨æˆ·çš„è¯„ä»·ä¿¡æ¯ï¼š æ³¨å†Œé¡µ ç”¨æˆ·æ³¨å†Œé¡µï¼Œåœ¨å‰ç«¯åˆ¤æ–­ä¸¤æ¬¡å¯†ç æ˜¯å¦ç›¸åŒï¼Œå¹¶æäº¤ç»™åå°åˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å”¯ä¸€ã€‚ ç™»å½•é¡µ å› ä¸ºåˆ†è¾¨ç‡çš„é—®é¢˜æœ‰ä¸€ç‚¹ BUGï¼Œä¸è¿‡ä¸å½±å“ä½“éªŒï¼Œç™»å½•ä¹‹åé¡¶éƒ¨å¯¼èˆªæ å‡ºç°ç”¨æˆ·ä¿¡æ¯ï¼š åå°æ€»ç»“å‰å°å› ä¸ºæœ‰ç°æˆçš„åŸå‹å¯ä»¥å‚ç…§å’Œæ¨¡ä»¿ï¼Œåå°éœ€è¦è‡ªå·±å»è®¾è®¡å’Œå®ç°ç•Œé¢ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥æ‰¾äº†ä¸€ä¸ªæ¨¡æ¿ä»£ç ï¼Œå¾ˆæ–¹ä¾¿ä¹Ÿå¾ˆå¿«çš„å®Œæˆäº†å¼€å‘ï¼Œåœ¨æˆ‘çš„ç¬¬äºŒç¯‡æ–‡ç« ï¼šæ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”åå°å¼€å‘ æœ‰ä»‹ç»ã€‚ åˆ†ç±»ç®¡ç† å…¶ä¸­çš„åˆ†é¡µå’Œæœç´¢åŠŸèƒ½æ˜¯æˆ‘æ‰¾æ¥çš„æ¨¡æ¿ä¸­ç”¨ js ä»£ç æ¥å®ç°çš„ï¼Œåˆ†ç±»ç®¡ç†ä¸­ä¸ä»…æä¾›äº†æ›´æ”¹åˆ†ç±»åç§°çš„åŠŸèƒ½ï¼Œè¿˜èƒ½ç®¡ç†åˆ†ç±»ä¸‹çš„äº§å“å’Œå±æ€§ã€‚ äº§å“ç®¡ç†é¡µ äº§å“å›¾ç‰‡ç®¡ç†é¡µ äº§å“çš„å›¾ç‰‡æ˜¯é»˜è®¤æ”¾ç½®åœ¨ img/product/äº§å“çš„idå·/ ç›®å½•ä¸‹çš„ï¼Œå¹¶ä¸”é»˜è®¤çš„äº”å¼ å›¾ç‰‡åˆ†åˆ«ä¸ºï¼š1.jpgã€2.jpgâ€¦..5.jpgï¼Œç”¨äºé»˜è®¤æ˜¾ç¤ºçš„å›¾ç‰‡å‡ä¸º 1.jpg å±æ€§å€¼ç®¡ç†é¡µ äº§å“å±æ€§å€¼ç®¡ç†é¡µï¼Œèƒ½å¢åŠ çš„å±æ€§å€¼åªèƒ½ä¸ºå½“å‰åˆ†ç±»ä¸‹æ‹¥æœ‰çš„å±æ€§ã€‚ ç”¨æˆ·ç®¡ç† æä¾›ä¸€ä¸ªä¿®æ”¹å¯†ç çš„åŠŸèƒ½ï¼Œç»™ç”³è¯‰ä¿®æ”¹å¯†ç çš„ç”¨æˆ·ç•™ä¸€æ¡åè·¯ã€‚ è®¢å•ç®¡ç†é¡µ ç­‰å¾…å‘è´§çš„è®¢å•æœ‰ä¸€ä¸ªå‘è´§æŒ‰é’®ï¼Œç”¨äºå‘è´§ã€‚ ä¸Šé¢æœ‰ä¸€äº›äº§å“ç®¡ç†çš„æŒ‰é’®ä¹±å…¥äº†..ç›´æ¥æ‹·è´çš„ä¹‹å‰çš„å›¾ç‰‡ï¼Œå·¦ä¾§æ ä¸­çš„äº§å“ç®¡ç†æŒ‰é’®æ˜¯åˆ é™¤äº†çš„â€¦ æ¨èé“¾æ¥ç®¡ç† æš‚æ—¶ä¸æä¾›ä¿®æ”¹åŠŸèƒ½ã€‚ é¡¹ç›®ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜è½®æ’­å¤±æ•ˆ Bootstrap çš„å¼•å…¥è¦åœ¨ JQuery ä¹‹åï¼Œä¸ç„¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨â€¦ ä¸ºä»€ä¹ˆä¸åœ¨ PropertyValue è¡¨ä¸­å¢åŠ  property_name å­—æ®µï¼Ÿåœ¨äº§å“è¯¦æƒ…é¡µæ˜æ˜¾æ„Ÿè§‰åˆ°æ˜¾ç¤ºäº§å“çš„å±æ€§çš„æ—¶å€™ï¼Œç‰¹åˆ«ä¸æ–¹ä¾¿ã€‚ PropertyValueæ–°å¢ä¸€ä¸ª Property å±æ€§ï¼Œæ¥å®Œæˆäº§å“é¡µçš„ä¼ é€’ åå°å±æ€§å€¼ç®¡ç†é€»è¾‘æœ‰ç‚¹é—®é¢˜ä¹‹å‰çš„ä»£ç ï¼š &lt;c:forEach items=&quot;${propertyValues}&quot; var=&quot;pv&quot;&gt; &lt;tr&gt; &lt;td&gt; &lt;c:forEach items=&quot;${properties}&quot; var=&quot;p&quot;&gt; &lt;c:if test=&quot;${p.id==pv.property_id}&quot;&gt;${p.name}&lt;/c:if&gt; &lt;/c:forEach&gt; &lt;/td&gt; &lt;td&gt;${pv.value}&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;editPropertyValue?id=${pv.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;td&gt; &lt;a href=&quot;deletePropertyValue?id=${pv.id}&amp;category_id=${product.category_id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-trash&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt;éå¸¸ç³Ÿç³•ï¼Œé€»è¾‘å°±æ˜¯é”™çš„ã€‚ åˆ©ç”¨ä¸Šé¢ä¸º PropertyValue æ·»åŠ çš„ Property æ¥å®ŒæˆåŠŸèƒ½ï¼š ä¸‹é¢çš„ select æ ‡ç­¾ä¹Ÿæ˜¯é”™çš„ ç”Ÿæˆå‡ºæ¥çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š æˆ‘æƒ³è¦ç»‘å®šä¸€ä¸ªéšè—çš„ input ï¼Œçœ‹æ¥è¿™æ ·å†™æ˜¯ä¸è¡Œçš„ï¼Œæœç´¢äº†ä¸€ä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸º &lt;select&gt; æ ‡ç­¾å†™ onchange å±æ€§æ¥å®Œæˆï¼š ä½¿ç”¨ Java 8 çš„æ–°ç‰¹æ€§æ¥æ’åºä½¿ç”¨äº† Java 8 çš„ Lambda è¡¨è¾¾å¼æ¥å®Œæˆå‰ç«¯çš„æ’åºå·¥ä½œï¼š æ³¨å†Œé¡µå¤©çŒ«çš„æ³¨å†Œæå¾—å¾ˆé«˜å¤§ä¸Šçš„æ ·å­ï¼Œæ·˜å®ä¹Ÿå¼„æˆäº†ä¸€æ ·çš„ï¼Œä¸æ˜¯å¾ˆå¥½æ¨¡ä»¿å‡ºæ•ˆæœï¼š æ‰€ä»¥ç…§ç€æ”¹äº†ä¸€æ”¹ï¼Œå¼„æˆäº†è¿™ä¸ªæ ·å­ï¼š åœ¨å‰ç«¯é€šè¿‡ JS æ¥åˆ¤æ–­å®Œæˆç¡®è®¤å¯†ç çš„åŠŸèƒ½ï¼Œç„¶åè¿™æ˜¯æ³¨å†ŒæˆåŠŸçš„é¡µé¢ï¼š å‘ç° OrderItem å°‘è®¾è®¡äº†ä¸€ä¸ªå­—æ®µè¿™æ˜¯æœ€åˆè®¾è®¡çš„æ•°æ®åº“è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»ï¼š å½“æˆ‘æŒ‰ç…§æµç¨‹ä¸€æ­¥ä¸€æ­¥å®Œæˆç€é¡¹ç›®ï¼Œåœ¨å®Œæˆç«‹å³è´­ä¹°è¿™ä¸ªåŠŸèƒ½æ—¶ï¼Œæˆ‘éœ€è¦æŒ‰ç…§user_idæ¥è¿”å›è®¢å•é¡¹æ—¶ï¼Œä¸å®¹æ˜“å®ç°ï¼Œæˆ‘ä»¬éœ€è¦ä¸º OrderItem å¢åŠ ä¸€ä¸ªå­—æ®µï¼ˆuser_idï¼‰ï¼š CREATE TABLE `order_item` ( `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, `product_id` INT(11) NOT NULL COMMENT &#39;å¯¹åº”äº§å“id&#39;, `order_id` INT(11) NOT NULL COMMENT &#39;å¯¹åº”è®¢å•id&#39;, `user_id` INT(11) NOT NULL COMMENT &#39;å¯¹åº”ç”¨æˆ·id&#39;, `number` INT(11) NULL DEFAULT NULL COMMENT &#39;å¯¹åº”äº§å“è´­ä¹°çš„æ•°é‡&#39;, INDEX `fk_order_item_product` (`product_id`), INDEX `fk_order_item_order` (`order_id`), INDEX `fk_order_item_user` (`user_id`), PRIMARY KEY (`id`), CONSTRAINT `fk_order_item_order` FOREIGN KEY (`order_id`) REFERENCES `order_` (`id`), CONSTRAINT `fk_order_item_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`), CONSTRAINT `fk_order_item_product` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`) )COLLATE=&#39;utf8_general_ci&#39; ENGINE=InnoDB;ç„¶åè¿è¡Œ TestMybatisGenerator æ¥é‡æ–°ç”Ÿæˆç›¸å…³çš„æ–‡ä»¶. æ›´æ”¹ OrderItem è¡¨ä¸­çš„ order_id å­—æ®µé»˜è®¤ä¸ºç©ºorder_id æ˜¯ç”¨äºåˆ¤æ–­å½“å‰çš„ OrderItem æ˜¯å¦å­˜åœ¨äºè´­ç‰©è½¦ä¸­çš„ä¾æ®ï¼Œæœ€å¼€å§‹æˆ‘ä»¬å°†è¿™ä¸ªå­—æ®µè®¾è®¡ä¸ºä¸èƒ½ä¸ºç©ºï¼Œé‚£ä¹ˆå°±åªèƒ½åœ¨è´­ç‰©è½¦ä¸­å­˜åœ¨ï¼Œå½“æˆ‘ä»¬ä¸éœ€è¦ç»è¿‡è´­ç‰©è½¦è€Œè¦ç›´æ¥è´­ä¹°çš„æ—¶å€™ï¼Œå°±ä¸èƒ½å¾—åˆ°æ»¡è¶³â€¦ ä¿®å¤è´­ç‰©è½¦é€»è¾‘é—®é¢˜ä¹‹å‰ç»™ cart.jsp é¡µé¢çš„ List ä»…ä»…æ˜¯é€šè¿‡ listByUserId æ–¹æ³•æ¥è·å–ï¼Œä½†å…¶å®çœŸæ­£çš„è´­ç‰©è½¦æ˜¯é‚£äº› order_id ä¸ºç©ºçš„ï¼Œæ‰€ä»¥æˆ‘åœ¨ OrderItemService ä¸­æ–°å¢äº†ä¸€ä¸ªæ–¹æ³•ï¼šlistForCart æ¥è¿”å›é‚£äº›çœŸæ­£å±äºè´­ç‰©è½¦çš„è®¢å•é¡¹ï¼š @Override public List&lt;OrderItem&gt; listForCart(Integer user_id) { OrderItemExample example = new OrderItemExample(); example.or().andUser_idEqualTo(user_id).andOrder_idIsNull(); List&lt;OrderItem&gt; result = orderItemMapper.selectByExample(example); setProduct(result); return result; } Githubå®Œæˆä¹‹åçš„é¡¹ç›®ç›´æ¥ä¸Šä¼  Githubï¼Œä»£ç å¯èƒ½æœ‰äº›ä¹±ï¼Œå¯è¯»æ€§ä¸æ˜¯å¾ˆé«˜ï¼Œä½†ç»“æ„è¿˜æ˜¯æ¸…æ™°çš„ï¼Œè¿˜æ˜¯å€¼å¾—å‚è€ƒï¼šä¼ é€é—¨ åæœŸå†å¯¹ä»£ç è¿›è¡Œç»´æŠ¤å§â€¦èœé¸Ÿå­¦ä¹ ä»£ç ï¼Œå‹¿å–·â€¦. å…³äº sql è¯­å¥è¿™é‡Œç»™ä¸€ä¸ªè¿æ¥æä¾›å»ºè¡¨è¯­å¥ä»¥åŠä¸€äº›æ•°æ®ï¼šä¼ é€é—¨ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/SSM/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”åå°å¼€å‘","slug":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”åå°å¼€å‘","date":"2018-04-28T01:01:00.000Z","updated":"2020-08-03T08:53:56.618Z","comments":true,"path":"2018/04/28/mo-fang-tian-mao-shi-zhan-ssm-ban-hou-tai-kai-fa/","link":"","permalink":"http://www.wmyskxz.com/2018/04/28/mo-fang-tian-mao-shi-zhan-ssm-ban-hou-tai-kai-fa/","excerpt":"","text":"ä¸Šä¸€ç¯‡æ–‡ç« é“¾æ¥ï¼šæ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”é¡¹ç›®èµ·æ­¥ åå°éœ€æ±‚åˆ†æåœ¨å¼€å§‹ç ä»£ç ä¹‹å‰ï¼Œè¿˜æ˜¯éœ€è¦å…ˆæ¸…æ¥šè‡ªå·±è¦åšä»€ä¹ˆäº‹æƒ…ï¼Œåå°å…·ä½“éœ€è¦å®ç°å“ªäº›åŠŸèƒ½ï¼š æ³¨æ„ï¼š è®¢å•ã€ç”¨æˆ·ã€è®¢å•ã€æ¨èé“¾æ¥å‡ä¸æä¾›å¢åˆ çš„åŠŸèƒ½ã€‚ åå°ç•Œé¢è®¾è®¡ä¸åƒå‰ç«¯é‚£æ ·æœ‰åŸå‹ç›´æ¥ç…§æ¬å°±å¯ä»¥äº†ï¼Œåå°çš„è®¾è®¡è¿˜çœŸçš„æœ‰éš¾åˆ°æˆ‘â€¦æ¯•ç«Ÿæˆ‘æ˜¯ä¸€ä¸ªå¯¹ç¾æœ‰ä¸€å®šè¦æ±‚çš„äººï¼Œä¸€æ–¹é¢æƒ³å°½é‡çš„ç®€æ´ã€ç®€å•ï¼Œå¦ä¸€æ–¹é¢åˆä¸æƒ³è¦å¤ªéš¾çœ‹ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ é‚£å½“ç„¶æ˜¯æ‰¾æ¨¡æ¿äº†ï¼Œæ‰¾åˆ°ä¸€ä¸ªé¡ºçœ¼çš„ä¸‹è½½ä¸‹æ¥å°±å¼€å§‹æ”¹ï¼Œ è¿™ä¸ªæ¨¡æ¿çš„åŸåœ°å€åœ¨è¿™é‡Œï¼šæˆ³è¿™é‡Œ é¡ºä¾¿å®‰åˆ©ä¸€ä¸‹ FireFox ï¼ŒçœŸæ˜¯å¼€å‘ç¥å™¨ï¼Œé…åˆç€ä¿®æ”¹ï¼Œæ£’æ£’å“’ï¼š ç»è¿‡ä¸€ç•ªæŠ˜è…¾â€¦ æ‘ï¼Œå°±è¿™é£æ ¼äº†ï¼Œè€Œä¸”æˆ‘è¿˜å‘ç°å³ä¸Šè§’çš„ã€Searchã€‘æ¡†æ˜¯ä¸‹è½½çš„æ¨¡æ¿ç”¨ js å®ç°çš„â€¦å¯¹äºç®¡ç†æ¥è¯´æ›´åŠ æ–¹ä¾¿äº†â€¦.è€Œä¸”å±…ç„¶è¿˜å®ç°äº†åˆ†é¡µâ€¦. ä¸€ä¸ªé‚ªæ¶çš„æƒ³æ³•åˆè¯ç”Ÿäº†â€¦ ä¸€äº›è§„å®š ä¸ºäº†é™ä½é¡¹ç›®çš„éš¾åº¦ï¼Œæˆ‘ä»¬åšäº†å¾ˆå¤šçš„ç²¾ç®€ï¼Œç°åœ¨æˆ‘ä»¬ä½œå‡ºå¦‚ä¸‹çš„è§„å®šï¼š å…¨ç«™æ²¡æœ‰å•†å®¶ï¼Œåªæœ‰ä¸€å®¶ Tmall ï¼Œåå°æ²¡æœ‰éªŒè¯ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥ å‰å°çš„è·¯å¾„å°±æ˜¯é»˜è®¤è·¯å¾„ï¼Œåå°çš„è·¯å¾„éœ€è¦åŠ ä¸Š â€œ/adminâ€ åç¼€ï¼Œå¦‚è®¿é—®åå°åˆ™ä¸ºï¼šlocalhost/admin ï¼ˆé»˜è®¤ä¸ºåˆ†ç±»ç®¡ç†é¡µï¼‰ ç®¡ç†è·¯å¾„ç»Ÿä¸€ä¸ºï¼šadmin/listXxxxxï¼Œå¦‚åˆ†ç±»ç®¡ç†è·¯å¾„ä¸ºï¼šadmin/listCategoryï¼Œç”¨æˆ·ç®¡ç†è·¯å¾„ä¸ºï¼šadmin/listUserï¼Œè¯¸å¦‚æ­¤ç±» ç¼–è¾‘è·¯å¾„ç»Ÿä¸€ä¸ºï¼šadmin/editXxxxxï¼Œå¦‚ç¼–è¾‘åˆ†ç±»è·¯å¾„ä¸ºï¼šadmin/editCategoryï¼Œäº§å“ç¼–è¾‘é¡µä¸ºï¼šadmin/editProductï¼Œè¯¸å¦‚æ­¤ç±» åˆ é™¤è·¯å¾„ç»Ÿä¸€ä¸ºï¼šadmin/deleteXxxxx æ›´æ–°è·¯å¾„ç»Ÿä¸€ä¸ºï¼šadmin/updateXxxxx å…³äºé¡µé¢è·¯å¾„çš„ä¸€äº›è§„å®šï¼š å‰ç«¯é¡µé¢ç»Ÿä¸€åœ¨ã€WEB-INF/viewsã€‘ä¸‹ï¼Œåç«¯é¡µé¢ç»Ÿä¸€åœ¨ã€WEB-INF/views/adminã€‘ä¸‹ åˆ†ç±»ç®¡ç†æ­£å¼å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„ä»£ç ï¼Œä»¥ Category ä¸ºä¾‹ã€‚ ç¼–å†™ Service å±‚æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸€å±‚ä¸Šè€ƒè™‘éœ€è¦å®Œæˆçš„åŠŸèƒ½ï¼Œå¯¹åº”æˆ‘ä»¬ä¸Šé¢ç”»çš„åå°åŠŸèƒ½å›¾ï¼Œåˆ†ç±»ç®¡ç†ä¹Ÿå°±æ˜¯å®Œæˆåˆ†ç±»çš„æŸ¥è¯¢è¿˜æœ‰ä¿®æ”¹çš„å·¥ä½œï¼š package cn.wmyskxz.service; import cn.wmyskxz.pojo.Category; import java.util.List; public interface CategoryService { /** * è¿”å›åˆ†ç±»åˆ—è¡¨ * @return */ List&lt;Category&gt; list(); /** * é€šè¿‡idè·å–å¯¹åº”çš„æ•°æ® * @param id * @return */ Category get(Integer id); /** * æ›´æ–°åˆ†ç±» * @param category * @return */ void update(Category category); } ç¼–å†™ CategoryServiceImpl ï¼šåœ¨åŒä¸€åŒ…ä¸‹ç¼–å†™å®ç°ç±» package cn.wmyskxz.service; import cn.wmyskxz.mapper.CategoryMapper; import cn.wmyskxz.pojo.Category; import cn.wmyskxz.pojo.CategoryExample; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import java.util.List; /** * CategoryService çš„å®ç°ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-27-ä¸‹åˆ 16:35 */ @Service public class CategoryServiceImpl implements CategoryService { @Autowired CategoryMapper categoryMapper; public List&lt;Category&gt; list() { CategoryExample example = new CategoryExample(); List&lt;Category&gt; categories = categoryMapper.selectByExample(example); return categories; } public Category get(Integer id) { return categoryMapper.selectByPrimaryKey(id); } public void update(Category category) { categoryMapper.updateByPrimaryKey(category); } }ç¼–å†™ CategoryControlleræ ¹æ®ä¸šåŠ¡éœ€æ±‚å¯ä»¥å¾ˆå®¹æ˜“çš„ç¼–å†™å‡ºæ¥ï¼š package cn.wmyskxz.controller; import cn.wmyskxz.pojo.Category; import cn.wmyskxz.service.CategoryService; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; import java.util.List; /** * Category çš„æ§åˆ¶ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-27-ä¸‹åˆ 16:37 */ @Controller @RequestMapping(&quot;/admin&quot;) public class CategoryController { @Autowired CategoryService categoryService; @RequestMapping(&quot;/listCategory&quot;) public String list(Model model) { List&lt;Category&gt; categories = categoryService.list(); model.addAttribute(&quot;categories&quot;, categories); return &quot;admin/listCategory&quot;; } @RequestMapping(&quot;/editCategory&quot;) public String edit(Category category,Model model) { model.addAttribute(&quot;category&quot;, category); return &quot;admin/editCategory&quot;; } @RequestMapping(&quot;/updateCategory&quot;) public String update(Category category) { categoryService.update(category); return &quot;redirect:listCategory&quot;; } }JSP ç›¸å…³æ–‡ä»¶ç¼–å†™è‡ªå·±ç ”ç©¶äº†ä¸€ä¼šå„¿è¿™ä¸ªæ¨¡æ¿ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºå¥½æ”¹çš„ï¼Œç„¶åå°±ç»™æ”¹æˆäº†å¤§æ¦‚ä»¥ä¸‹è¿™ä¸ªæ ·å­ï¼ˆè‡ªå·±åœ¨æ•°æ®åº“ä¸­åŠ å…¥äº† 16 æ¡æ•°æ®ï¼‰ï¼š åˆ†ç±»ç®¡ç†é¡µ åˆ†ç±»ç¼–è¾‘é¡µ æ¨¡æ¿ä¸‹è½½ä¸‹æ¥ä¹‹åæ–‡ä»¶ç›®å½•æ˜¯è¿™æ ·çš„ï¼š æˆ‘ä»¬ç›´æ¥æ•´ä¸ªæ‹·è´ã€assetsã€‘æ–‡ä»¶å¤¹æ”¾åœ¨ã€webappã€‘ç›®å½•ä¸‹ï¼Œç„¶åæ ¹æ®æ¨¡æ¿é‡Œé¢çš„ä»£ç å°±å¯ä»¥å¼€å§‹ä¿®æ”¹äº†ï¼Œä¿®æ”¹ä¸‹æ¥çš„ä¸¤ä¸ªæ–‡ä»¶æºç å¦‚ä¸‹ï¼š listCategory.jsp &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot; %&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;æ¨¡ä»¿å¤©çŒ«-åå°&lt;/title&gt; &lt;!-- Bootstrap Styles--&gt; &lt;link href=&quot;../assets/css/bootstrap.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;!-- FontAwesome Styles--&gt; &lt;link href=&quot;../assets/css/font-awesome.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;!-- Morris Chart Styles--&gt; &lt;!-- Custom Styles--&gt; &lt;link href=&quot;../assets/css/custom-styles.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;!-- Google Fonts--&gt; &lt;link href=&#39;https://fonts.googleapis.com/css?family=Open+Sans&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39; /&gt; &lt;!-- TABLE STYLES--&gt; &lt;link href=&quot;../assets/js/dataTables/dataTables.bootstrap.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;wrapper&quot;&gt; &lt;nav class=&quot;navbar navbar-default top-navbar&quot; role=&quot;navigation&quot;&gt; &lt;div class=&quot;navbar-header&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.sidebar-collapse&quot;&gt; &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;/button&gt; &lt;a class=&quot;navbar-brand&quot; href=&quot;listCategory&quot;&gt;Tmall&lt;/a&gt; &lt;/div&gt; &lt;/nav&gt; &lt;!--/. NAV TOP --&gt; &lt;nav class=&quot;navbar-default navbar-side&quot; role=&quot;navigation&quot;&gt; &lt;div class=&quot;sidebar-collapse&quot;&gt; &lt;ul class=&quot;nav&quot; id=&quot;main-menu&quot;&gt; &lt;li&gt; &lt;a class=&quot;active-menu&quot; href=&quot;listCategory&quot;&gt;&lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt; åˆ†ç±»ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listUser&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; ç”¨æˆ·ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listOrder&quot;&gt;&lt;i class=&quot;fa fa-list-alt&quot;&gt;&lt;/i&gt; è®¢å•ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listProduct&quot;&gt;&lt;i class=&quot;fa fa-th-list&quot;&gt;&lt;/i&gt; äº§å“ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listLink&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt; æ¨èé“¾æ¥ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/nav&gt; &lt;!-- /. NAV SIDE --&gt; &lt;div id=&quot;page-wrapper&quot;&gt; &lt;div id=&quot;page-inner&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;h1 class=&quot;page-header&quot;&gt; åˆ†ç±»ç®¡ç† &lt;small&gt;&lt;/small&gt; &lt;/h1&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;!-- Advanced Tables --&gt; &lt;div class=&quot;panel panel-default&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; åˆ†ç±»ç®¡ç†è¡¨ &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;div class=&quot;table-responsive&quot;&gt; &lt;table class=&quot;table table-striped table-bordered table-hover&quot; id=&quot;dataTables-example&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;åˆ†ç±»id&lt;/th&gt; &lt;th&gt;åˆ†ç±»åç§°&lt;/th&gt; &lt;th&gt;ç¼–è¾‘åˆ†ç±»&lt;/th&gt; &lt;th&gt;äº§å“ç®¡ç†&lt;/th&gt; &lt;th&gt;å±æ€§ç®¡ç†&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;c:forEach items=&quot;${categories}&quot; var=&quot;c&quot;&gt; &lt;tr&gt; &lt;td&gt;${c.id}&lt;/td&gt; &lt;td&gt;${c.name}&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;editCategory?id=${c.id}&amp;name=${c.name}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-th-list&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;listProduct?category_id=${c.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-shopping-cart&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;listProperty?category_id=${c.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--End Advanced Tables --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- /. PAGE WRAPPER --&gt; &lt;/div&gt; &lt;!-- /. WRAPPER --&gt; &lt;!-- JS Scripts--&gt; &lt;!-- jQuery Js --&gt; &lt;script src=&quot;../assets/js/jquery-1.10.2.js&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap Js --&gt; &lt;script src=&quot;../assets/js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;!-- Metis Menu Js --&gt; &lt;script src=&quot;../assets/js/jquery.metisMenu.js&quot;&gt;&lt;/script&gt; &lt;!-- DATA TABLE SCRIPTS --&gt; &lt;script src=&quot;../assets/js/dataTables/jquery.dataTables.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;../assets/js/dataTables/dataTables.bootstrap.js&quot;&gt;&lt;/script&gt; &lt;script&gt; $(document).ready(function () { $(&#39;#dataTables-example&#39;).dataTable(); }); &lt;/script&gt; &lt;!-- Custom Js --&gt; &lt;script src=&quot;../assets/js/custom-scripts.js&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; editCategory.jsp &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot; %&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;/&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;/&gt; &lt;title&gt;æ¨¡ä»¿å¤©çŒ«-åå°&lt;/title&gt; &lt;!-- Bootstrap Styles--&gt; &lt;link href=&quot;../assets/css/bootstrap.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;!-- FontAwesome Styles--&gt; &lt;link href=&quot;../assets/css/font-awesome.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;!-- Morris Chart Styles--&gt; &lt;!-- Custom Styles--&gt; &lt;link href=&quot;../assets/css/custom-styles.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;!-- Google Fonts--&gt; &lt;link href=&#39;https://fonts.googleapis.com/css?family=Open+Sans&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39;/&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;wrapper&quot;&gt; &lt;nav class=&quot;navbar navbar-default top-navbar&quot; role=&quot;navigation&quot;&gt; &lt;div class=&quot;navbar-header&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.sidebar-collapse&quot;&gt; &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt; &lt;/button&gt; &lt;a class=&quot;navbar-brand&quot; href=&quot;listCategory&quot;&gt;Tmall&lt;/a&gt; &lt;/div&gt; &lt;/nav&gt; &lt;!--/. NAV TOP --&gt; &lt;nav class=&quot;navbar-default navbar-side&quot; role=&quot;navigation&quot;&gt; &lt;div class=&quot;sidebar-collapse&quot;&gt; &lt;ul class=&quot;nav&quot; id=&quot;main-menu&quot;&gt; &lt;li&gt; &lt;a class=&quot;active-menu&quot; href=&quot;listCategory&quot;&gt;&lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt; åˆ†ç±»ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listUser&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; ç”¨æˆ·ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listOrder&quot;&gt;&lt;i class=&quot;fa fa-list-alt&quot;&gt;&lt;/i&gt; è®¢å•ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listProduct&quot;&gt;&lt;i class=&quot;fa fa-th-list&quot;&gt;&lt;/i&gt; äº§å“ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;listLink&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt; æ¨èé“¾æ¥ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/nav&gt; &lt;!-- /. NAV SIDE --&gt; &lt;div id=&quot;page-wrapper&quot;&gt; &lt;div id=&quot;page-inner&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12&quot;&gt; &lt;h1 class=&quot;page-header&quot;&gt; åˆ†ç±»ç®¡ç† &lt;small&gt; - id:${category.id} &lt;/small&gt; &lt;/h1&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;!-- Advanced Tables --&gt; &lt;div class=&quot;panel panel-default&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; ç¼–è¾‘åˆ†ç±» &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;div class=&quot;row col-lg-12&quot;&gt; &lt;form action=&quot;updateCategory&quot; role=&quot;form&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;%-- éšè—idå±æ€§ï¼Œä¸€å¹¶æäº¤ --%&gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${category.id}&quot;&gt; &lt;label&gt;åˆ†ç±»åç§°ï¼š&lt;/label&gt; &lt;input name=&quot;name&quot; class=&quot;form-control&quot; value=&quot;${category.name}&quot;&gt; &lt;br/&gt; &lt;div class=&quot;pull-right&quot;&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--End Advanced Tables --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- /. PAGE WRAPPER --&gt; &lt;/div&gt; &lt;!-- /. WRAPPER --&gt; &lt;!-- JS Scripts--&gt; &lt;!-- jQuery Js --&gt; &lt;script src=&quot;../assets/js/jquery-1.10.2.js&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap Js --&gt; &lt;script src=&quot;../assets/js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;è¿™æ ·å°±å®Œæˆäº† Category çš„åå°ç®¡ç†æ¨¡å—å…¶ä»–æ¨¡å—çš„æ€è·¯è·Ÿ Category å¦‚å‡ºä¸€è¾™ï¼Œå°±æ¯”è¾ƒåå‘äºä½“åŠ›åŠ³åŠ¨äº†â€¦ æ³¨æ„ï¼š æ‰€æœ‰æœ¬ç±»çš„ id å±æ€§å‡ä¸º id ï¼Œæ‰€æœ‰å¤–é”®çš„ id éƒ½æ˜¯ å±æ€§å_id è¿™æ ·çš„æ ¼å¼ï¼Œä¿æŒç»Ÿä¸€ï¼ Example æ¡ä»¶æŸ¥è¯¢MyBatis é€†å‘å·¥ç¨‹è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶çš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆäº† Example æ¡ä»¶æŸ¥è¯¢ç±»ï¼Œæˆ‘ä»¬åˆ°åº•åº”è¯¥æ€ä¹ˆä½¿ç”¨å®ƒå‘¢ï¼Œè¿™é‡Œç®€è¦çš„è¯´æ˜ä¸€ä¸‹ã€‚ ä¸å¾—ä¸è¯´è¿™ä¸ªä¸œè¥¿è¿˜æŒºç¥å¥‡ï¼Œä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ category_id å¯¹åº”ä¸‹çš„å±æ€§è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š public List&lt;Property&gt; list(Integer category_id) { PropertyExample example = new PropertyExample(); example.or().andCategory_idEqualTo(category_id); List&lt;Property&gt; properties = propertyMapper.selectByExample(example); return properties; }é€šè¿‡æ–¹æ³•åå…¶å®ä¹Ÿå¾ˆå®¹æ˜“çœ‹æ‡‚è¿™äº›æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª PropertyExample å®ä¾‹å¯¹è±¡ï¼Œç„¶åé€šè¿‡ .or() æ–¹æ³•å¼€å¯æ¡ä»¶æŸ¥è¯¢ï¼Œ.andCategory_idEqualTo() åŒ¹é…å¯¹åº”çš„ category_id ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ sql è¯­å¥å°±åƒè¿™æ ·ï¼š æ›´å¤šè¯¦æƒ…æˆ³è¿™é‡Œ - å¼•ç”¨å…¶ä»–åšå®¢çš„è¯¦ç»†è¯´æ˜ IDEA å¿«é€Ÿé‡æ„å½“æˆ‘ç¼–å†™å¥½äº† PropertyService ã€PropertyServiceImplã€ PropertyController ä¹‹åå†æƒ³è¦å»ç¼–å†™ Product çš„è¿™ä¸€ç³»åˆ—æ–‡ä»¶çš„æ—¶å€™ï¼Œå‘ç°å…¶å®å¾ˆå¤šä»£ç éƒ½æ˜¯é‡å¤çš„ï¼Œåªæ˜¯å¾ˆå°‘ä¸€éƒ¨åˆ†çš„ä»£ç éœ€è¦æ”¹åŠ¨ï¼Œæš‚æ—¶ä¸è€ƒè™‘è®¾è®¡æ¨¡å¼çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ IDEA æ¥å®Œæˆå¿«é€Ÿé‡æ„ï¼š ç›´æ¥å¤åˆ¶ PropertyController çš„ä»£ç åˆ° ProductController ä¸­ï¼Œç„¶åã€Ctrl + Fã€‘æœç´¢ Property ï¼š æˆ‘ä»¬å¯ä»¥å‘ç°æ‰€æœ‰çš„ Property éƒ½é«˜äº®äº†ï¼Œç„¶åæˆ‘ä»¬æ€ä¹ˆæ‰¹é‡ä¿®æ”¹å‘¢ï¼Ÿ ç„¶åç»§ç»­ç–¯ç‹‚ç ä»£ç â€¦ å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜PropertyValue é‡åˆ°çš„éº»çƒ¦ PropertyValue å±æ€§å€¼è¡¨ï¼Œè¿™ä¸ªè¡¨å…³è”äº†ä¸¤ä¸ªå¤–é”®ï¼Œä¸€ä¸ªæŒ‡å‘ Product ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ Property ï¼Œå½“æˆ‘æŒ‰ç…§ä¹‹å‰çš„è®¾è®¡æŠŠ listProduct.jsp è®¾è®¡æˆä¸‹é¢è¿™ä¸ªæ ·å­çš„æ—¶å€™ï¼Œç‚¹å‡»ã€ç¼–è¾‘å±æ€§ã€‘ï¼ŒProperty çš„ä¿¡æ¯åº”è¯¥æ€ä¹ˆä¼ é€’ï¼Ÿ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚ä½•å¤„ç†ä» listProduct è·³è½¬åˆ° listPropertyValue é¡µé¢æ—¶å‡­ç©ºè·³å‡ºæ¥çš„ Property çš„ç›¸å…³ä¿¡æ¯ï¼Ÿ è§£å†³æ–¹æ¡ˆï¼š åœ¨ PropertyValueServiceImpl ä¸­å¢åŠ ï¼š @Autowired PropertyService propertyService;æˆ‘ä»¬ç°åœ¨æœ‰ category_id å’Œ product_id ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Property å’Œ Category ä¹‹é—´çš„è”ç³»ï¼Œé€šè¿‡ category_id æŸ¥è¯¢å‡ºæ‰€æœ‰å¯¹åº”çš„ Property ï¼Œç„¶åå†ç­›é€‰å‡ºåŒæ—¶åŒ¹é… property_id å’Œ product_id çš„ PropertyValueï¼š public List&lt;PropertyValue&gt; list(Integer product_id, Integer category_id) { PropertyValueExample example = new PropertyValueExample(); List&lt;PropertyValue&gt; propertyValues = new ArrayList&lt;PropertyValue&gt;(); List&lt;Property&gt; properties = propertyService.list(category_id); for (Property property : properties) { // ç­›é€‰å‡ºåŒæ—¶åŒ¹é… property_id å’Œ product_id çš„å€¼ example.or().andProperti_idEqualTo(property.getId()).andProduct_idEqualTo(product_id); propertyValues.addAll(propertyValueMapper.selectByExample(example)); } return propertyValues; }emmmâ€¦è¿™æ ·çš„æ€è·¯å‡ºæ¥ä¹‹åï¼Œå¯¹åº”çš„ Controller å°±æ¸…æ™°äº†ï¼š @RequestMapping(\"/listPropertyValue\") public String list(Model model, Integer product_id, Integer category_id) { List&lt;PropertyValue> propertyValues = propertyValueService.list(product_id, category_id); model.addAttribute(\"propertyValues\", propertyValues); Product product = productService.get(product_id); model.addAttribute(\"product\", product); return \"admin/listPropertyValue\"; } åŠ å…¥ä¸€æ¡æ•°æ®æµ‹è¯•ï¼š bingoï¼ å¦ä¸€ä¸ªé—®é¢˜æ˜¯æ·»åŠ å±æ€§å€¼ï¼š æ·»åŠ çš„å±æ€§å€¼å¿…é¡»æ˜¯å½“å‰ Category ä¸‹æœ‰çš„å±æ€§å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ Controller ä¸Šè‡ªåŠ¨æ³¨å…¥ä¸€ä¸ª PropertyService é€šè¿‡ category_id æŸ¥è¯¢åˆ°å½“å‰åˆ†ç±»ä¸‹æ‰€æœ‰çš„ Property ç„¶åä¼ é€’ç»™ listPropertyValue ï¼š @Autowired PropertyService propertyService; @RequestMapping(\"/listPropertyValue\") public String list(Model model, Integer product_id, Integer category_id) { List&lt;PropertyValue> propertyValues = propertyValueService.list(product_id, category_id); model.addAttribute(\"propertyValues\", propertyValues); Product product = productService.get(product_id); model.addAttribute(\"product\", product); List&lt;Property> properties = propertyService.list(category_id); model.addAttribute(\"properties\", properties); return \"admin/listPropertyValue\"; } æœŸé—´å‘ç°ä¸€ä¸ª BUGï¼ŒPropertyValue è¡¨é‡Œçš„ property_id å±…ç„¶å†™æˆäº† properti_idï¼Œå“å¾—æˆ‘èµ¶ç´§æ£€æŸ¥äº†ä¸€ä¸‹æ‰€æœ‰è¡¨çš„å­—æ®µï¼Œå…¶ä»–çš„æ²¡é—®é¢˜ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸‹é€†å‘å·¥ç¨‹ ç„¶åè·å–å±æ€§åç§°ï¼š å®Œå–„ä¹‹åå¤§æ¦‚æ˜¯è¿™æ ·ï¼š äº§å“å›¾ç‰‡ç®¡ç†äº§å“å›¾ç‰‡çš„ç®¡ç†éœ€è¦æ¶‰åŠåˆ°æ–‡ä»¶çš„ä¸Šä¼ æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å…ˆæä¾›å¿…è¦çš„ jar åŒ…ä¾èµ–ï¼š commons-fileupload commons-io åŒæ ·çš„æœç´¢ maven åº“æ·»åŠ ä¾èµ–åˆ° pom.xmlä¸­ï¼š &lt;!-- ä¸Šä¼ æ–‡ä»¶fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;/dependency&gt;äº§å“å›¾ç‰‡å¦‚ä½•ç®¡ç†ï¼Ÿ è§„å®šä¸€ï¼šæ‰€æœ‰çš„äº§å“å›¾ç‰‡å‡ä¿å­˜åœ¨ã€img/product/ã€‘å¯¹åº”çš„ product_id ç›®å½•ä¸‹ï¼Œå¹¶ä¸”é»˜è®¤çš„æ–‡ä»¶åä¸º 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5 ï¼Œä¾‹å¦‚ product_id ä¸º 1 çš„äº§å“çš„äº§å“å›¾ç‰‡ 1 ä¿å­˜äºï¼šã€img/product/1/1.jpgã€‘ è§„å®šäºŒï¼šæ¯ä¸€ä¸ªäº§å“å¯¹åº”äº”å¼ å›¾ç‰‡ï¼Œæ–‡ä»¶ååˆ†åˆ«ä¸º 1.jpg ï¼Œ2.jpg ä»¥æ­¤ç±»æ¨ï¼Œä¸èƒ½å°‘ä¹Ÿä¸èƒ½å¤šï¼Œåˆ é™¤ä¹Ÿåªæ˜¯å°†å¯¹åº”ç›®å½•ä¸‹çš„å›¾ç‰‡åˆ é™¤ï¼Œid å¹¶ä¸æ”¹å˜ è§„å®šä¸‰ï¼šé»˜è®¤äº§å“æ‰“å¼€çš„å¤§å›¾å³ä¸ºè¯¥äº§å“å›¾ç‰‡ç›®å½•ä¸­çš„ 1.jpg ç•Œé¢å¤§æ¦‚è®¾è®¡æˆäº†è¿™æ ·ï¼š è«åå…¶å¦™ä¸€ä¸ª BUGï¼š æˆ‘æŠŠè¡¨å•è®¾è®¡æˆäº†è¿™æ ·ï¼Œéšè—äº†ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ª product_idï¼Œä¸€ä¸ª idï¼š ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œæˆ‘æƒ³è¦ç›´æ¥ç”³æ˜ä¸¤ä¸ªå‚æ•°ç”¨æ¥æ¥æ”¶ä¸Šé¢çš„ä¸¤ä¸ªå±æ€§ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼š ä½†æ˜¯ä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½ä¸è¡Œï¼Œæˆ‘è¿˜æŸ¥äº†ä¸€äº›èµ„æ–™åœ¨ @RequestParam æ³¨è§£é‡Œè®¾ç½®äº† required å±æ€§ï¼Œä»ç„¶è·å–ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘æ”¹æˆç”¨ ProductImage æ¥æ¥æ”¶å°±å¥½äº†..Why? åæ¥å†™ç€å†™ç€ï¼Œåˆå¿…é¡»è¦ä½¿ç”¨ä¸Šé¢ä¸¤ç§æ–¹æ³•äº†â€¦. æ ¹æ®æˆ‘ä»¬çš„è§„å®šæ¥å®Œæˆä»£ç  ProductImageService å±‚è¿˜æ˜¯è·Ÿä¹‹å‰çš„æ²¡æœ‰å¤šå¤§çš„åŒºåˆ«ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®æˆ‘ä»¬çš„è§„å®šï¼Œæˆ‘ä»¬çš„åˆ é™¤éœ€è¦åšä¸€äº›æ”¹åŠ¨ï¼ˆæ ¹æ® product_id æ‰¹é‡åˆ é™¤ï¼‰ï¼š package cn.wmyskxz.service; import cn.wmyskxz.mapper.PropertyValueMapper; import cn.wmyskxz.pojo.*; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import java.util.ArrayList; import java.util.List; /** * cn.wmyskxz.pojo.PropertyValueValueService å®ç°ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-28-ä¸Šåˆ 7:47 */ @Service public class PropertyValueServiceImpl implements PropertyValueService { @Autowired PropertyValueMapper propertyValueMapper; @Autowired PropertyService propertyService; @Autowired ProductService productService; public void add(PropertyValue propertyValue) { propertyValueMapper.insert(propertyValue); } public void delete(Integer id) { propertyValueMapper.deleteByPrimaryKey(id); } public void deleteByProductId(Integer product_id) { // æŒ‰æ¡ä»¶æŸ¥è¯¢å‡ºéœ€è¦åˆ é™¤çš„åˆ—è¡¨ PropertyValueExample example = new PropertyValueExample(); example.or().andProduct_idEqualTo(product_id); Integer category_id = productService.get(product_id).getCategory_id(); List&lt;PropertyValue> propertyValues = list(product_id, category_id); // å¾ªç¯åˆ é™¤ for (int i = 0; i &lt; propertyValues.size(); i++) { propertyValueMapper.deleteByPrimaryKey(propertyValues.get(i).getId()); } } public void update(PropertyValue propertyValue) { propertyValueMapper.updateByPrimaryKey(propertyValue); } public List&lt;PropertyValue> list(Integer product_id, Integer category_id) { PropertyValueExample example = new PropertyValueExample(); List&lt;PropertyValue> propertyValues = new ArrayList&lt;PropertyValue>(); List&lt;Property> properties = propertyService.list(category_id); for (Property property : properties) { // ç­›é€‰å‡ºåŒæ—¶åŒ¹é… property_id å’Œ product_id çš„å€¼ example.or().andProperty_idEqualTo(property.getId()).andProduct_idEqualTo(product_id); propertyValues.addAll(propertyValueMapper.selectByExample(example)); } return propertyValues; } public PropertyValue get(Integer id) { return propertyValueMapper.selectByPrimaryKey(id); } } é¦–å…ˆåœ¨ ProductController ä¸­ add å’Œ delete æ–¹æ³•ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š @Autowired ProductImageService productImageService; @RequestMapping(\"/addProduct\") public String add(Product product) { productService.add(product); // åˆ›å»ºæ–°çš„ Product æ—¶é»˜è®¤åˆ›å»º 5 ä¸ªå¯¹åº”çš„ ProductImage æ•°æ® ProductImage productImage = new ProductImage(); productImage.setProduct_id(product.getId()); for (int i = 1; i &lt;= 5; i++) { productImage.setId(i); productImageService.add(productImage); } return \"redirect:listProduct?category_id=\" + product.getCategory_id(); } @RequestMapping(\"/deleteProduct\") public String delete(Integer id, HttpServletRequest request) { // åœ¨åˆ é™¤äº§å“çš„æ—¶å€™å°†å¯¹åº”çš„ 5 ä¸ª ProductImage æ•°æ®ä¹Ÿåˆ é™¤äº† productImageService.deleteByProductId(id); // åŒæ—¶åˆ é™¤ç›®å½•ä¸‹çš„ç›¸å…³æ–‡ä»¶ String path = request.getSession().getServletContext().getRealPath(\"\" + id); deleteDir(new File(path)); // åˆ é™¤å¤–é”®å¯¹åº”çš„æ•°æ® propertyValueService.deleteByProductId(id); int category_id = productService.get(id).getCategory_id(); productService.delete(id); return \"redirect:listProduct?category_id=\" + category_id; } /** * é€’å½’åˆ é™¤ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ * * @param dir å°†è¦åˆ é™¤çš„æ–‡ä»¶ç›®å½• * @return boolean Returns \"true\" if all deletions were successful. * If a deletion fails, the method stops attempting to * delete and returns \"false\". */ private static boolean deleteDir(File dir) { if (dir.isDirectory()) { String[] children = dir.list(); //é€’å½’åˆ é™¤ç›®å½•ä¸­çš„å­ç›®å½•ä¸‹ for (int i = 0; i &lt; children.length; i++) { boolean success = deleteDir(new File(dir, children[i])); if (!success) { return false; } } } // ç›®å½•æ­¤æ—¶ä¸ºç©ºï¼Œå¯ä»¥åˆ é™¤ return dir.delete(); } ç„¶åç¼–å†™æˆ‘ä»¬çš„ ProductImageController ï¼š package cn.wmyskxz.controller; import cn.wmyskxz.pojo.Product; import cn.wmyskxz.pojo.ProductImage; import cn.wmyskxz.service.ProductImageService; import cn.wmyskxz.service.ProductService; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestMethod; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.multipart.MultipartFile; import javax.servlet.http.HttpServletRequest; import java.io.File; import java.util.List; /** * ProductImage çš„æ§åˆ¶å™¨ * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-28-ä¸‹åˆ 14:10 */ @Controller @RequestMapping(&quot;/admin&quot;) public class ProductImageController { @Autowired ProductImageService productImageService; @Autowired ProductService productService; @RequestMapping(&quot;/editProductImage&quot;) public String edit(Model model, Integer product_id) { List&lt;ProductImage&gt; productImages = productImageService.list(product_id); model.addAttribute(&quot;productImages&quot;, productImages); Product product = productService.get(product_id); model.addAttribute(&quot;product&quot;, product); return &quot;admin/editProductImage&quot;; } @RequestMapping(value = &quot;/updateProductImage&quot;, method = RequestMethod.POST) public String update(HttpServletRequest request, // @RequestParam(&quot;productImage&quot;) ProductImage productImage, Integer product_id, Integer id, @RequestParam(&quot;picture&quot;) MultipartFile picture) { // ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šä½ç½® String filePath = request.getSession().getServletContext() .getRealPath(&quot;img/product/&quot; + product_id); // å› ä¸º id æ˜¯è‡ªå¢é•¿é”®ï¼Œæ‰€ä»¥éœ€è¦ % 5 æ¥ä½œä¸ºæ–‡ä»¶å String fileName = (id % 5 == 0 ? 5 : id % 5) + &quot;.jpg&quot;; File uploadPicture = new File(filePath, fileName); if (!uploadPicture.exists()) { uploadPicture.mkdirs(); } // ä¿å­˜ try { picture.transferTo(uploadPicture); } catch (Exception e) { e.printStackTrace(); } return &quot;redirect:editProductImage?product_id=&quot; + product_id; } @RequestMapping(&quot;/deleteProductImage&quot;) public String delete(Integer id, Integer product_id, HttpServletRequest request) { // ä¸åˆ é™¤è¡¨ä¸­çš„æ•°æ®ï¼ˆåœ¨ ProductController ä¸­ç»Ÿä¸€åˆ é™¤ï¼‰ï¼Œåˆ é™¤å¯¹åº”æ–‡ä»¶ String filePath = request.getSession().getServletContext() .getRealPath(&quot;img/product/&quot; + product_id); String fileName = id + &quot;.jpg&quot;; new File(filePath, fileName).delete(); return &quot;redirect:editProductImage?product_id=&quot; + product_id; } } å†ä¼˜åŒ–ä¸€ä¸‹ç•Œé¢çš„ä¸œè¥¿ï¼Œå¢åŠ æ²¡æœ‰å›¾ç‰‡æ˜¾ç¤ºçš„ error å›¾ç‰‡ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š è¿™é‡Œå°±åªè´´ä¸€ä¸‹ table çš„ä»£ç å§ï¼š &lt;c:forEach items=&quot;${productImages}&quot; var=&quot;pi&quot;&gt; &lt;tr&gt; &lt;td&gt;${pi.product_id}&lt;/td&gt; &lt;td&gt;${pi.id}&lt;/td&gt; &lt;td&gt;&lt;img class=&quot;col-md-8&quot; src=&quot;../img/product/${pi.product_id}/${pi.id%5==0?5:pi.id%5}.jpg&quot; onerror=&quot;this.src=&#39;../img/product/error.png&#39;&quot;&gt;&lt;/td&gt; &lt;td class=&quot;col-md-5&quot;&gt; &lt;form action=&quot;updateProductImage&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${pi.id}&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;product_id&quot; value=&quot;${pi.product_id}&quot;&gt; &lt;input type=&quot;file&quot; name=&quot;picture&quot; class=&quot;pull-left&quot;&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary pull-right&quot; value=&quot;ä¸Šä¼ &quot;&gt; &lt;/form&gt; &lt;/td&gt; &lt;td&gt; &lt;a href=&quot;deleteProductImage?product_id=${pi.product_id}&amp;id=${pi.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-trash&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt;åœ¨å†™å›¾ç‰‡ç®¡ç†çš„æ—¶å€™åˆé‡åˆ°ä¸€ä¸ªå‘åœ¨åˆ é™¤é¡¶å±‚æ•°æ®åº“æ•°æ®çš„æ—¶å€™ï¼Œè¦æ³¨æ„åˆ é™¤å…¶ä¸‹çš„æœ‰å¤–é”®å…³è”çš„æ•°æ®ï¼Œç‰¹åˆ«æ˜¯ product_id è¿™ä¸ªä¸œè¥¿ï¼Œæ˜¯å¾ˆå¤šè¡¨çš„å¤–é”®ï¼Œåˆ é™¤ product ä¹‹å‰éœ€è¦å…ˆæ¸…ç©ºæœ‰å…³è”çš„å…¶ä»–è¡¨çš„æ•°æ®â€¦. æ€»ä¹‹å‘æ˜¯å¾ˆå¤šå•¦..ä¸è¿‡é¡¹ç›®åœ¨è¿›å±•æ€»å½’æ˜¯å¥½äº‹â€¦è€å¿ƒè€å¿ƒâ€¦ æ¥ç€ç ä»£ç â€¦.è¿˜å‰©ä¸‹ä¸€äº›ä½“åŠ›æ´»çš„ä¸œè¥¿ï¼Œå°±å…ˆç»“åšæ–‡å•¦â€¦ï¼ˆå¿ƒç´¯.jpgï¼‰ æœ‰ä¸€äº›å‚¬æ›´çš„æœ‹å‹ï¼Œå¸Œæœ›èƒ½åˆ«å‚¬å•¦â€¦æ¯å¤©éƒ½åœ¨ç å•¦ï¼Œè€Œä¸”æœ¬èº«ä¹Ÿæ˜¯å¾ˆlowçš„ä¸œè¥¿ï¼Œå†™å®Œä¹‹åæˆ‘ä¼šä¸Šä¼  github çš„ã€‚ æ€»ç»“ å½“æˆ‘ç»™è‡ªå·±åŸ‹äº†ä¸€ä¸ªå¤§å‘è¯´è¦æ¨¡ä»¿å¤©çŒ«ï¼Œå¹¶ä¸”é™·è¿›å»çš„æ—¶å€™ï¼Œä¸€æ–¹é¢ç—›è‹¦ç€ä¸€æ–¹é¢ä¹Ÿå¯Ÿè§‰äº†è‡ªå·±å¾ˆå¤šä¸è¶³çš„åœ°æ–¹ï¼Œå°±è§‰å¾—è¿˜æ˜¯å¾ˆå€¼å¾—ï¼Œç°åœ¨æ¥åšä¸€ä¸‹ç®€çŸ­çš„æ€»ç»“ã€‚ è¿›åº¦æ¯”æƒ³è±¡ä¸­æ…¢äº†å¾ˆå¤šï¼Œè™½ç„¶ä¸€æ­¥ä¸€æ­¥æŒ‰ç…§ä¹‹å‰çš„åˆ†æå›¾æ¥ç¼–å†™ä»£ç æ€»ä½“æ˜¯é¡ºç•…çš„ï¼Œä½†æ˜¯æœ‰é‚£ç§å†™ç€å†™ç€çªç„¶å‘ç°ä¹‹å‰çš„è®¾è®¡æœ‰é—®é¢˜çš„æ„Ÿè§‰ï¼Œä¸­é€”ä¹Ÿæ”¹äº†å‡ æ¬¡ï¼Œå‘ç°è‡ªå·±åˆ†æé—®é¢˜ä¸å¤Ÿå…¨é¢ã€‚ é¡¹ç›®ä¸­æœ‰è®¸å¤šç±»ä¼¼çš„ä»£ç ï¼Œå¹¶ä¸”åœ¨ Controller å’Œ Impl ä¸­ä¸æ–­æœ‰å…¶ä»–çš„ä¸œè¥¿åŠ å…¥ï¼Œæ€»è§‰å¾—æ˜¯ç³Ÿç³•çš„ä»£ç ï¼Œä½†æ˜¯åˆä¸çŸ¥é“åº”è¯¥è¿›ä¸€æ­¥å¦‚ä½•æ”¹è¿›ã€‚ æ–¹å‘æ°¸è¿œæ¯”åŠªåŠ›é‡è¦ï¼Œåœ¨è¡ŒåŠ¨ä¹‹å‰æ€è€ƒæ¸…æ¥šï¼Œæˆ‘ä¸€ç›´è§‰å¾—æ˜¯å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œæˆ‘è§‰å¾—é€šè¿‡å¯¹é¡¹ç›®çš„åˆ†æï¼Œå¯¹æˆ‘é¡¹ç›®çš„è¿›å±•æœ‰ä¸€ä¸ªæ•´ä½“çš„æ„æ€ï¼Œå„ä¸ªæ¨¡å—è¯¥æœ‰ä»€ä¹ˆåŠŸèƒ½éƒ½æ¯”è¾ƒæ¸…æ™°ï¼Œç‰¹åˆ«åœ¨ç¼–å†™ JSP æ–‡ä»¶çš„æ—¶å€™èƒ½æ˜æ˜¾æ„Ÿè§‰ä¸ä¼šå¾ˆè¿·èŒ«ï¼Œè¿™æ˜¯æ¯”è¾ƒå¥½çš„ä¸€ç‚¹ å‘ç°è‡ªå·±é˜…è¯»ä»£ç é‡å¾ˆå°‘ï¼Œè¿™ç§æ„Ÿè§‰ä½“ç°åœ¨å¾ˆå¤šåœ°æ–¹ï¼Œä¸€æ˜¯å†™ä»£ç æ—¶æ„Ÿè§‰åˆ°è‡ªå·±æ€æƒ³çš„å±€é™æ€§ï¼ŒäºŒæ˜¯è§‰å¾—è‡ªå·±å†™çš„ä»£ç æœ‰å¾ˆå¤šçš„ç›¸ä¼¼æ€§ï¼Œè™½ç„¶è¿™ä¸ªé¡¹ç›®æ˜¯è‡ªå·±çªå‘å¥‡æƒ³çš„æƒ³è¦å»åšçš„ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šç»†èŠ‚çš„åœ°æ–¹ï¼Œæ˜¯è‡ªå·±æ²¡æœ‰å»æ³¨æ„åˆ°çš„ï¼Œæ¯”å¦‚ç±»å‹è¦æ±‚ã€è¾¹ç•Œåˆ¤æ–­ã€äº‹åŠ¡å¤„ç†ç­‰ç­‰ç­‰â€¦ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/SSM/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”é¡¹ç›®èµ·æ­¥","slug":"æ¨¡ä»¿å¤©çŒ«å®æˆ˜ã€SSMç‰ˆã€‘â€”â€”é¡¹ç›®èµ·æ­¥","date":"2018-04-27T00:57:00.000Z","updated":"2020-08-03T08:53:34.007Z","comments":true,"path":"2018/04/27/mo-fang-tian-mao-shi-zhan-ssm-ban-xiang-mu-qi-bu/","link":"","permalink":"http://www.wmyskxz.com/2018/04/27/mo-fang-tian-mao-shi-zhan-ssm-ban-xiang-mu-qi-bu/","excerpt":"","text":"å‰è¨€ï¼šç°åœ¨è‡ªå·±çš„å­¦ä¹ ä¼¼ä¹é‡åˆ°äº†ç“¶é¢ˆï¼Œæ„Ÿè§‰å­¦ä¹ äº† SSM ä¹‹åæœ‰ä¸€äº›è¿·èŒ«ï¼Œä¸çŸ¥é“æ¥ä¸‹æ¥è¯¥å¾€å“ªé‡Œå»åŠªåŠ›äº†ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸ªå¾ˆä¸å¥½çš„çŠ¶æ€ï¼Œä¸ºäº†åº¦è¿‡è¿™æ®µæ—¶æœŸï¼Œæˆ‘å‡†å¤‡æŠŠå¤©çŒ«æ¨¡ä»¿ä¸‹æ¥ï¼ˆç»™è‡ªå·±æ‰¾ç‚¹äº‹åšï¼‰ä¹‹åå¼€å§‹å»å·©å›º Java çš„åŸºç¡€çŸ¥è¯†ï¼Œä¹Ÿå‡†å¤‡å¥½æš‘å‡å»æ‰¾å®ä¹ ã€‚ ç¬¬ä¸€æ­¥ï¼šéœ€æ±‚åˆ†æé¦–å…ˆè¦ç¡®å®šè¦å®ç°å“ªäº›åŠŸèƒ½ï¼Œéœ€è¦å¯¹éœ€æ±‚è¿›è¡Œå®Œæ•´çš„åˆ†æï¼Œæ‰èƒ½åœ¨ç¼–å†™é¡¹ç›®çš„æ—¶å€™æœ‰æ¡ä¸ç´Šï¼Œæˆ‘ä»¬çš„ç›®çš„å¾ˆæ˜ç¡®ï¼šå°±æ˜¯æ¨¡ä»¿å¤©çŒ«å‰ç«¯ + è‡ªå·±å®ç°åç«¯ã€‚å¹¶ä¸”å°½æœ€å¤§åŠªåŠ›å»é™ä½è¿™ä¸ªé¡¹ç›®çš„å¤æ‚åº¦ï¼ˆæ¯•ç«Ÿé«˜æ·±çš„ä¸œè¥¿ä¸æ‡‚ï¼‰ã€‚ å‰ç«¯éœ€æ±‚åˆ†æè§„å®šï¼šå…¨å¤©çŒ«æ²¡æœ‰åº—é“ºï¼Œå°±åªæœ‰å”¯ä¸€ä¸€å®¶å«åš Tmall çš„å•†å®¶ï¼Œå–æ‰€æœ‰çš„ä¸œè¥¿ã€‚ 1.æ•°æ®çš„æ˜¾ç¤ºï¼š é¦–é¡µæ•°æ®æ˜¾ç¤ºåˆ†æï¼š é¦–å…ˆæ˜¯æœç´¢æ ä¸‹æ–¹çš„ä¹ä¸ªå•†å“ï¼Œéœ€è¦ä»æ•°æ®åº“ä¸­å–å‡ºé”€é‡æœ€é«˜çš„å‡ ä¸ªäº§å“ï¼Œå…³äºæ ‡çº¢çš„å…³é”®å­—ï¼Œæ˜¯è¦æ»¡è¶³ä¸€å®šæ¡ä»¶çš„ï¼Œæ¯”å¦‚ï¼šè¿™ä¸€ä¸ªæ˜ŸæœŸå†…é”€é‡è¶…è¿‡å¤šå°‘â€¦ æ¥ç€æ˜¯åˆ†ç±»å¯¼èˆªæ ï¼Œé¦–å…ˆæ˜¯å•†å“åˆ†ç±»å³è¾¹å›ºå®šçš„ä¸¤ä¸ªé“¾æ¥ã€å¤©çŒ«è¶…å¸‚ã€‘å’Œã€å¤©çŒ«å›½é™…ã€‘ï¼Œè¿˜æœ‰ç´§è·Ÿç€çš„å…«ä¸ªè¶…é“¾ï¼Œè¿™ä¸ªå¯ä»¥è®¾è®¡ä¸ºä¸€ä¸ªå•è¡¨ï¼Œå­˜å‚¨å®ƒæ˜¾ç¤ºçš„æ–‡å­—å’Œé“¾æ¥è¿‡å»çš„åœ°å€ï¼Œç„¶åæ˜¯å…·ä½“çš„ 16 ä¸ªåˆ†ç±»ä»¥åŠè½®æ’­ï¼š ä¸‹é¢çš„å…·ä½“äº§å“å±•ç¤ºæ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åšä¸€ä¸‹ç®€åŒ–ï¼Œæ¯”å¦‚å°±å±•ç¤ºå‡ ä¸ªäº§å“æ¯”è¾ƒå¤šçš„å›ºå®šçš„å‡ ä¸ªåˆ†ç±»å°±å¥½äº†ï¼Œå…¶ä»–çš„å°±ç›´æ¥èˆå¼ƒï¼š æ€»ç»“ï¼š æ€»ä¹‹å°±æ˜¯éœ€è¦æ˜¾ç¤ºå„ç§æ•°æ®åº“ä¸­çš„æ•°æ® 2.ç™»å½•/æ³¨å†Œé¡µ éœ€è¦æœ‰ä¸€ä¸ªç™»å½•/æ³¨å†Œé¡µï¼Œèƒ½å¤Ÿå®Œæˆç”¨æˆ·çš„ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½ï¼Œå¹¶èƒ½æä¾›åŸºç¡€çš„ä¾‹å¦‚åˆ¤æ–­ç©ºå€¼ç­‰åŠŸèƒ½ã€‚ 3.äº§å“æœç´¢é¡µ å·¦ä¸Šè§’çš„å›¾æ ‡æˆ‘ä»¬å¯ä»¥ç»Ÿä¸€ç®€åŒ–æˆ Tmall çš„å›¾ç‰‡ï¼Œå•†å“å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥æ•´ä¸ªå¤§åˆ†ç±»ä½¿ç”¨ä¸€å¼ å›¾ï¼Œä¸»è¦å°±æ˜¯å®ç°æ’åºåŠŸèƒ½è¿˜æœ‰æœç´¢åŠŸèƒ½ 4.äº§å“å±•ç¤ºé¡µ å¤©çŒ«åŸç”Ÿçš„äº§å“å±•ç¤ºé¡µæœ‰äº›å¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±ç®€åŒ–ä¸€ä¸‹ï¼Œå°±ä¸è¦é€‰è¿™ä¹ˆå¤šä¸œè¥¿ï¼Œéƒ½æ˜¯ä¸€å£ä»·ï¼Œ å¦å¤–ä¸‹æ–¹è§„æ ¼å‚æ•°å’Œè¯„ä»·éƒ½ä¸èƒ½çœç•¥ï¼š 5.è´­ç‰©è½¦/è´­ä¹°é¡µé¢ ç¬¬äºŒæ­¥ï¼šè¡¨ç»“æ„è®¾è®¡æ ¹æ®å¯¹äºå‰ç«¯çš„åˆ†æï¼Œæ•°æ®åº“æœ‰äº†ä¸€äº›çœ‰ç›®ï¼Œä¸ºäº†ç®€åŒ–é¡¹ç›®çš„éš¾åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±æƒ³ç‚¹åŠæ³•ï¼Œå…ˆæ¥æ„æ€ä¸€ä¸‹å¤§æ¦‚éœ€è¦ä¸€äº›ä»€ä¹ˆæ ·çš„è¡¨ï¼š æˆ‘å¤§æ¦‚å°±æƒ³å‡ºæ¥éœ€è¦ç”¨åˆ°è¿™äº›è¡¨ï¼Œæˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥åˆ›å»ºå®ƒä»¬ï¼š è¡¨ä¸€ï¼šåˆ†ç±»è¡¨é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¡¨æ¥å­˜å‚¨æˆ‘ä»¬çš„åˆ†ç±»ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ã€å¥³è£…/å†…è¡£ã€‘ã€ã€ç”·è£…/è¿åŠ¨æˆ·å¤–ã€‘åœ¨å†…çš„ 16 ä¸ªåˆ†ç±»ï¼Œä¸ºäº†é«˜åº¦ä¸€è‡´ï¼Œè¿™ 16 ä¸ªåˆ†ç±»ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘ã€‚ ä¸ºäº†ç®€åŒ–ä»»åŠ¡ï¼Œå¯ä»¥è§‚å¯Ÿå‡ºï¼Œã€çƒ­é—¨æ‰‹æœºã€‘ã€ã€ç‰¹è‰²æ‰‹æœºã€‘åˆ†æ ä¸‹çš„ä¸œè¥¿éƒ½æ˜¯ã€æ‰‹æœº/æ•°ç /ç”µè„‘åŠå…¬ã€‘ç±»åˆ«é‡Œçš„ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ç æ‰ï¼Œå³è¾¹çš„ä¸€äº›å›¾ç‰‡è¶…é“¾ä¹Ÿç»™ç›´æ¥ç æ‰ï¼Œæˆ‘ä»¬è§„å®šæ¯ä¸€è¡Œæ˜¾ç¤ºçš„äº§å“æ•°ç›®å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±ç®€å•å¤šäº†ã€‚ CREATE TABLE category ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;åˆ†ç±»çš„åå­—&#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨äºŒï¼šå•†å“åˆ†ç±»å³è¾¹çš„è¶…é“¾è¡¨å³åœ¨ã€å¤©çŒ«å›½é™…ã€‘å³è¾¹çš„ 8 ä¸ªè¶…é“¾ï¼Œæˆ‘ä»¬å•ç‹¬æ–°å»ºä¸€ä¸ªè¡¨æ¥å­˜å‚¨è¶…é“¾æ˜¾ç¤ºçš„æ–‡å­—å’Œé“¾æ¥çš„åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥ä»»æ„çš„ä¿®æ”¹å…¶å†…å®¹ï¼š ç™¾åº¦ç¿»è¯‘ã€æ¨èé“¾æ¥ã€‘ç¿»è¯‘ä¸ºã€Referral linksã€‘ï¼Œé‚£æˆ‘ä»¬ä¹Ÿè¿™ä¹ˆç»™æˆ‘ä»¬çš„è¡¨å‘½åå¥½äº†ï¼š CREATE TABLE referal_link ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, text varchar(255) NOT NULL COMMENT &#39;è¶…é“¾æ˜¾ç¤ºçš„æ–‡å­—&#39;, link varchar(255) NOT NULL COMMENT &#39;è¶…é“¾çš„åœ°å€&#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨ä¸‰ï¼šäº§å“è¡¨æ¯ä¸ªåˆ†ç±»ä¸‹éƒ½è¦ä¸€å®šçš„äº§å“ï¼Œè¿™äº›äº§å“è¿˜æœ‰è‡ªå·±çš„ä¸€äº›å±æ€§ï¼Œæ‰€ä»¥å¦å¤–éœ€è¦å±æ€§è¡¨ï¼Œè¿™ä¸ªè¡¨å¦å¤–åˆ›å»ºï¼Œæˆ‘ä»¬å…ˆæ¥è§‚å¯Ÿä¸€ä¸‹ä¸€ä¸ªäº§å“è¡¨éœ€è¦ä¸€äº›ä»€ä¹ˆä¸œè¥¿ï¼š ç”¨äºå±•ç¤ºçš„ 5 å¼ å›¾ç‰‡ äº§å“åç§° å°æ ‡é¢˜ï¼ˆå³åç§°ä¸‹é¢ä¸€æ’æ ‡çº¢çš„å°å­—ï¼‰ ä»·æ ¼ï¼ˆå°±ä¸€å£ä»·ï¼Œæ²¡åˆ«çš„ï¼‰ é”€é‡ï¼ˆåˆ«æœˆé”€é‡äº†ï¼Œèƒ½ç®€åŒ–å°±ç®€åŒ–ä¸€ä¸‹ï¼‰ ç´¯è®¡è¯„ä»·ï¼ˆè¿˜éœ€è¦è®¾è®¡ä¸€ä¸ªè¯„ä»·è¡¨ï¼‰ åº“å­˜ å±æ€§ï¼ˆéœ€è¦å…³è”å¦å¤–çš„å±æ€§è¡¨ï¼‰ CREATE TABLE product ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;äº§å“çš„åç§°&#39;, sub_title varchar(255) DEFAULT NULL COMMENT &#39;å°æ ‡é¢˜&#39;, price float DEFAULT NULL COMMENT &#39;ä»·æ ¼&#39;, sale int(11) DEFAULT NULL COMMENT &#39;é”€é‡&#39;, stock int(11) DEFAULT NULL COMMENT &#39;åº“å­˜&#39;, category_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„åˆ†ç±»id&#39;, PRIMARY KEY (id), CONSTRAINT fk_product_category FOREIGN KEY (category_id) REFERENCES category (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; æ³¨æ„ï¼š å…¶ä¸­äº§å“å›¾ç‰‡ï¼Œç´¯è®¡è¯„ä»·ï¼Œå±æ€§éƒ½ä½œä¸ºå•ç‹¬çš„è¡¨å­˜åœ¨å¹¶è®©å½“å‰è¡¨çš„ id ä½œä¸ºå¤–é”® è¡¨å››ï¼šå±æ€§è¡¨ å»æ‰è¯¦ç»†çš„è§„æ ¼å‚æ•°åˆ’åˆ†ï¼Œå…¶å®å±æ€§ä¹Ÿå°±æ˜¯ä¸€ä¸ªåå­—è€Œå·²ï¼ˆç®€åŒ–ç®€åŒ–ç®€åŒ–ï¼‰ã€‚ CREATE TABLE property ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) DEFAULT NULL COMMENT &#39;å±æ€§åç§°&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„äº§å“id&#39;, PRIMARY KEY (id), CONSTRAINT fk_property_product FOREIGN KEY (product_id) REFERENCES product(id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; çªç„¶æƒ³åˆ°çš„é—®é¢˜ï¼šæ¯ä¸€ä¸ªäº§å“çš„å±æ€§å…¶å®æ˜¯å¾ˆå¤šçš„ï¼Œå¦‚æœæ¯ä¸€ä¸ªäº§å“éƒ½å¯¹åº”å¾ˆå¤šå±æ€§çš„è¯ï¼Œå¯¹äºå¤©çŒ«è¿™æ ·çš„æ•°æ®é‡æ¥è¯´ï¼Œåº”è¯¥ä¼šè®©æ•°æ®åº“çˆ†ç‚¸çš„å§â€¦ æ”¹è¿›æ–¹æ³•ï¼šå°†å±æ€§è¡¨å…³è”åˆ° category è¡¨ä¸Šï¼Œå› ä¸ºå…¶å®æ¯ä¸€ä¸ªåˆ†ç±»ä¸‹çš„äº§å“çš„å±æ€§å·®ä¸å¤šï¼ ä¿®æ”¹æ•°æ®åº“æ ¹æ®ä»¥ä¸Šé—®é¢˜ï¼Œä¿®æ”¹ä¸€ä¸‹æ•°æ®åº“è¡¨ä¹‹é—´çš„å…³ç³» å¹¶å°†å±æ€§è¡¨çš„å¤–é”®ä¿®æ”¹ä¸º category çš„ä¸»é”®ï¼š CREATE TABLE property ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) DEFAULT NULL COMMENT &#39;å±æ€§åç§°&#39;, category_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„åˆ†ç±»id&#39;, PRIMARY KEY (id), CONSTRAINT fk_property_category FOREIGN KEY (category_id) REFERENCES category(id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨äº”ï¼šå±æ€§å€¼è¡¨å…¶ä¸­å°±æ˜¯ä¿å­˜äº†å¯¹åº”å±æ€§çš„å€¼ï¼Œå¹¶ä¸”åº”è¯¥æœ‰ä¸¤ä¸ªå¤–é”®ï¼Œä¸€ä¸ªæŒ‡å‘ Property è¡¨ï¼Œè€Œå¦ä¸€ä¸ªåˆ™æŒ‡å‘ Product è¡¨ CREATE TABLE property_value ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”äº§å“id&#39;, properti_id int(11) NOT NULL COMMENT &#39;å¯¹åº”å±æ€§id&#39;, value varchar(255) DEFAULT NULL COMMENT &#39;å…·ä½“çš„å±æ€§å€¼&#39;, PRIMARY KEY (id), CONSTRAINT fk_property_value_property FOREIGN KEY (properti_id) REFERENCES property (id), CONSTRAINT fk_property_value_product FOREIGN KEY (product_id) REFERENCES product (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨å…­ï¼šäº§å“å›¾ç‰‡è¡¨è¿™ä¸ªè¡¨åä¹‰ä¸Šæ˜¯ä¿å­˜äº†äº§å“çš„å›¾ç‰‡ï¼Œå…¶å®åªæ˜¯ä¿å­˜äº†äº§å“å›¾ç‰‡çš„ä½ç½®å³å›¾ç‰‡åç§°ï¼Œæˆ‘ä»¬å¯ä»¥è§„å®šæ‰€æœ‰çš„äº§å“å›¾ç‰‡éƒ½æ”¾åœ¨ä¸€ä¸ªç»Ÿä¸€çš„æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œç„¶åé€šè¿‡ id æ¥è·å–å¯¹åº”åç§°çš„å›¾ç‰‡ï¼š CREATE TABLE product_image ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„äº§å“id&#39;, PRIMARY KEY (id), CONSTRAINT fk_product_image_product FOREIGN KEY (product_id) REFERENCES product (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; æ³¨æ„ï¼š æˆ‘ä»¬é€šè¿‡æŠŠäº§å“å›¾ç‰‡çš„æ–‡ä»¶å‘½åä¸º id.jpg ï¼Œç„¶åé€šè¿‡ç›¸å¯¹è·¯å¾„æ¥è·å–åˆ°äº§å“å›¾ç‰‡ è¡¨ä¸ƒï¼šç”¨æˆ·è¡¨ç”¨æˆ·è¡¨å¾ˆç®€å•ï¼Œä¹Ÿæ²¡æœ‰æƒé™ä¹‹ç±»çš„ä¸œè¥¿ï¼š CREATE TABLE user ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·åç§°&#39;, password varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·å¯†ç &#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; æˆ‘ä»¬æˆ–è®¸ä¼šåœ¨ä¹‹åæŠŠå¯†ç å¼„æˆ â€œ*****â€ è¿™ç§å½¢å¼çš„ï¼Œä½†æ˜¯ç°åœ¨ä¸€åˆ‡ä¸ºäº†ç®€å•ï¼ è¡¨å…«ï¼šè¯„ä»·è¡¨ è¯„ä»·è¡¨å¯¹åº”äº†ç”¨æˆ·å’Œäº§å“ä¸¤ä¸ªè¡¨ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ä¸ºäº†ç®€å•ï¼ŒæŠŠä¸Šé¢çº¢è‰²çš„éƒ¨åˆ†å…¨éƒ¨ç æ‰ï¼Œå› ä¸ºæ²¡æœ‰å•†å®¶ï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦å›å¤ç”¨æˆ·çš„è¯„ä»·ï¼Œéƒ½ç æ‰ç æ‰ï¼ CREATE TABLE review ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, content varchar(4000) DEFAULT NULL COMMENT &#39;è¯„ä»·å†…å®¹&#39;, user_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„ç”¨æˆ·id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„äº§å“id&#39;, createDate datetime DEFAULT NULL COMMENT &#39;è¯„ä»·æ—¶é—´&#39;, PRIMARY KEY (id), CONSTRAINT fk_review_product FOREIGN KEY (product_id) REFERENCES product (id), CONSTRAINT fk_review_user FOREIGN KEY (user_id) REFERENCES user (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨ä¹ï¼šè®¢å•è¡¨ç”±äº Order æ˜¯ MySql çš„ä¸€ä¸ªå…³é”®å­—ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¢å•è¡¨çš„æœ€åæ·»åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ï¼š CREATE TABLE order_ ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, order_code varchar(255) NOT NULL COMMENT &#39;è®¢å•å·&#39;, address varchar(255) NOT NULL COMMENT &#39;æ”¶è´§åœ°å€&#39;, post varchar(255) NOT NULL COMMENT &#39;é‚®ç¼–&#39;, receiver varchar(255) NOT NULL COMMENT &#39;æ”¶è´§äººå§“å&#39;, mobile varchar(255) NOT NULL COMMENT &#39;æ‰‹æœºå·ç &#39;, user_message varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·å¤‡æ³¨çš„ä¿¡æ¯&#39;, create_date datetime NOT NULL COMMENT &#39;è®¢å•åˆ›å»ºæ—¶é—´&#39;, pay_date datetime DEFAULT NULL COMMENT &#39;è®¢å•æ”¯ä»˜æ—¶é—´&#39;, delivery_date datetime DEFAULT NULL COMMENT &#39;å‘è´§æ—¥æœŸ&#39;, confirm_date datetime DEFAULT NULL COMMENT &#39;ç¡®è®¤æ”¶è´§æ—¥æœŸ&#39;, user_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„ç”¨æˆ·id&#39;, status varchar(255) NOT NULL COMMENT &#39;è®¢å•çŠ¶æ€&#39;, PRIMARY KEY (id), CONSTRAINT fk_order_user FOREIGN KEY (user_id) REFERENCES user (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;è¡¨åï¼šè®¢å•é¡¹è¡¨ä¸€ä¸ªè®¢å•é‡Œé¢å¯èƒ½æœ‰å¤šä¸ªè®¢å•é¡¹ï¼Œä¸€ä¸ªäº§å“ä¹Ÿå¯èƒ½å¯¹åº”å¤šä¸ªè®¢å•é¡¹ï¼Œæ‰€ä»¥è¿™ä¸ªè¡¨åº”è¯¥æœ‰ä¸¤ä¸ªå¤–é”®ï¼š CREATE TABLE order_item ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”äº§å“id&#39;, order_id int(11) NOT NULL COMMENT &#39;å¯¹åº”è®¢å•id&#39;, number int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”äº§å“è´­ä¹°çš„æ•°é‡&#39;, PRIMARY KEY (id) COMMENT &#39;é‚®ç¼–&#39;, CONSTRAINT fk_order_item_product FOREIGN KEY (product_id) REFERENCES product (id), CONSTRAINT fk_order_item_order FOREIGN KEY (order_id) REFERENCES order_ (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;æ±‡æ€»ï¼šæˆ‘ä»¬åœ¨åˆ›å»ºè¡¨ä¹‹å‰ï¼Œåº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼Œå¹¶å‘½åä¸ºã€tmall_ssmã€‘ DROP DATABASE IF EXISTS tmall_ssm; CREATE DATABASE tmall_ssm DEFAULT CHARACTER SET utf8;å°†è¿™åä¸ªè¡¨æ±‡ä¸ªæ€»å°±æ˜¯ï¼š DROP DATABASE IF EXISTS tmall_ssm; CREATE DATABASE tmall_ssm DEFAULT CHARACTER SET utf8; use tmall_ssm; CREATE TABLE category ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;åˆ†ç±»çš„åå­—&#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE referal_link ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, text varchar(255) NOT NULL COMMENT &#39;è¶…é“¾æ˜¾ç¤ºçš„æ–‡å­—&#39;, link varchar(255) NOT NULL COMMENT &#39;è¶…é“¾çš„åœ°å€&#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE product ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;äº§å“çš„åç§°&#39;, sub_title varchar(255) DEFAULT NULL COMMENT &#39;å°æ ‡é¢˜&#39;, price float DEFAULT NULL COMMENT &#39;ä»·æ ¼&#39;, sale int(11) DEFAULT NULL COMMENT &#39;é”€é‡&#39;, stock int(11) DEFAULT NULL COMMENT &#39;åº“å­˜&#39;, category_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„åˆ†ç±»id&#39;, PRIMARY KEY (id), CONSTRAINT fk_product_category FOREIGN KEY (category_id) REFERENCES category (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE property ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) DEFAULT NULL COMMENT &#39;å±æ€§åç§°&#39;, category_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„åˆ†ç±»id&#39;, PRIMARY KEY (id), CONSTRAINT fk_property_category FOREIGN KEY (category_id) REFERENCES category(id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE property_value ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”äº§å“id&#39;, properti_id int(11) NOT NULL COMMENT &#39;å¯¹åº”å±æ€§id&#39;, value varchar(255) DEFAULT NULL COMMENT &#39;å…·ä½“çš„å±æ€§å€¼&#39;, PRIMARY KEY (id), CONSTRAINT fk_property_value_property FOREIGN KEY (properti_id) REFERENCES property (id), CONSTRAINT fk_property_value_product FOREIGN KEY (product_id) REFERENCES product (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE product_image ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„äº§å“id&#39;, PRIMARY KEY (id), CONSTRAINT fk_product_image_product FOREIGN KEY (product_id) REFERENCES product (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE user ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, name varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·åç§°&#39;, password varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·å¯†ç &#39;, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE review ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, content varchar(4000) DEFAULT NULL COMMENT &#39;è¯„ä»·å†…å®¹&#39;, user_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„ç”¨æˆ·id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”çš„äº§å“id&#39;, createDate datetime DEFAULT NULL COMMENT &#39;è¯„ä»·æ—¶é—´&#39;, PRIMARY KEY (id), CONSTRAINT fk_review_product FOREIGN KEY (product_id) REFERENCES product (id), CONSTRAINT fk_review_user FOREIGN KEY (user_id) REFERENCES user (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE order_ ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, order_code varchar(255) NOT NULL COMMENT &#39;è®¢å•å·&#39;, address varchar(255) NOT NULL COMMENT &#39;æ”¶è´§åœ°å€&#39;, post varchar(255) NOT NULL COMMENT &#39;é‚®ç¼–&#39;, receiver varchar(255) NOT NULL COMMENT &#39;æ”¶è´§äººå§“å&#39;, mobile varchar(255) NOT NULL COMMENT &#39;æ‰‹æœºå·ç &#39;, user_message varchar(255) NOT NULL COMMENT &#39;ç”¨æˆ·å¤‡æ³¨çš„ä¿¡æ¯&#39;, create_date datetime NOT NULL COMMENT &#39;è®¢å•åˆ›å»ºæ—¶é—´&#39;, pay_date datetime DEFAULT NULL COMMENT &#39;è®¢å•æ”¯ä»˜æ—¶é—´&#39;, delivery_date datetime DEFAULT NULL COMMENT &#39;å‘è´§æ—¥æœŸ&#39;, confirm_date datetime DEFAULT NULL COMMENT &#39;ç¡®è®¤æ”¶è´§æ—¥æœŸ&#39;, user_id int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”çš„ç”¨æˆ·id&#39;, status varchar(255) NOT NULL COMMENT &#39;è®¢å•çŠ¶æ€&#39;, PRIMARY KEY (id), CONSTRAINT fk_order_user FOREIGN KEY (user_id) REFERENCES user (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; CREATE TABLE order_item ( id int(11) NOT NULL AUTO_INCREMENT COMMENT &#39;å”¯ä¸€ç´¢å¼•id&#39;, product_id int(11) NOT NULL COMMENT &#39;å¯¹åº”äº§å“id&#39;, order_id int(11) NOT NULL COMMENT &#39;å¯¹åº”è®¢å•id&#39;, number int(11) DEFAULT NULL COMMENT &#39;å¯¹åº”äº§å“è´­ä¹°çš„æ•°é‡&#39;, PRIMARY KEY (id) COMMENT &#39;é‚®ç¼–&#39;, CONSTRAINT fk_order_item_product FOREIGN KEY (product_id) REFERENCES product (id), CONSTRAINT fk_order_item_order FOREIGN KEY (order_id) REFERENCES order_ (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;ç›´æ¥å¤åˆ¶è¿› MySql ä¸­æ‰§è¡Œï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºå¥½çš„åä¸ªæ•°æ®åº“ï¼š ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º SSM å¼€å‘ç¯å¢ƒæ ¹æ®ä¹‹å‰æˆ‘å†™è¿‡çš„åšæ–‡ï¼šIDEA æ•´åˆ SSM æ­å»ºå¥½ SSM å¼€å‘ç¯å¢ƒï¼Œè¿™é‡Œç»™å‡ºå®Œæ•´çš„é¡¹ç›®ç»“æ„å’Œ pom.xml æ–‡ä»¶ï¼š å®Œæ•´çš„é¡¹ç›®ç»“æ„ï¼š pom.xml æ–‡ä»¶ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;wmyskxz&lt;/name&gt; &lt;groupId&gt;cn.wmyskxz&lt;/groupId&gt; &lt;artifactId&gt;wmyskxz&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt; &lt;version&gt;6.1.7&lt;/version&gt; &lt;configuration&gt; &lt;connectors&gt; &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt; &lt;port&gt;8888&lt;/port&gt; &lt;maxIdleTime&gt;30000&lt;/maxIdleTime&gt; &lt;/connector&gt; &lt;/connectors&gt; &lt;webAppSourceDirectory&gt;${project.build.directory}/${pom.artifactId}-${pom.version} &lt;/webAppSourceDirectory&gt; &lt;contextPath&gt;/&lt;/contextPath&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;!-- è®¾ç½®é¡¹ç›®ç¼–ç ç¼–ç  --&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;!-- springç‰ˆæœ¬å· --&gt; &lt;spring.version&gt;4.3.5.RELEASE&lt;/spring.version&gt; &lt;!-- mybatisç‰ˆæœ¬å· --&gt; &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- pageHelper --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;5.1.2-beta&lt;/version&gt; &lt;/dependency&gt; &lt;!--jsqlparser--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jstlæ ‡ç­¾ --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt; &lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt; &lt;version&gt;1.2.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- java ee --&gt; &lt;dependency&gt; &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å®ç°slf4jæ¥å£å¹¶æ•´åˆ --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- JSON --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.41&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;${mybatis.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis/springæ•´åˆåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; MyBatis é€†å‘å·¥ç¨‹æŒ‰ç…§æ­£å¸¸çš„æµç¨‹ï¼Œæˆ‘ä»¬åº”è¯¥å»åˆ›å»ºæ•°æ®åº“å¯¹åº”çš„ POJO å’Œ DAO ç±»è¿˜æœ‰å¯¹åº”çš„ mapper æ˜ å°„æ–‡ä»¶ï¼ŒæŒ‰ç…§ä¸Šé¢çš„åˆ†ææˆ‘ä»¬ä¸€å…±æœ‰åå¼ è¡¨ï¼Œæƒ³è±¡ä¸€ä¸‹ä¸ºè¿™åå¼ è¡¨åšè¿™äº›æ— æŠ€æœ¯å«é‡çš„æœºæ¢°åŒ–çš„ç¹æ‚çš„å·¥ä½œæ˜¯å¤šä¹ˆå¤´ç–¼çš„ä¸€ä»¶äº‹ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼šæœ‰äººå¸®æˆ‘è‡ªåŠ¨åˆ›å»ºå¥½è¿™äº›ï¼ MyBatis å®˜æ–¹æä¾›äº†ä¸€ç§åä¸º â€œé€†å‘å·¥ç¨‹â€ çš„æœºåˆ¶ï¼Œå…¶å¯ä»¥é’ˆå¯¹æ•°æ®åº“ä¸­çš„å•è¡¨è‡ªåŠ¨ç”Ÿæˆ MyBatis æ‰§è¡Œæ‰€éœ€è¦çš„ä»£ç  åŒ…æ‹¬ï¼š Java å®ä½“ç±»ã€Mapperæ˜ å°„é…ç½®ã€Mapperä»£ç†æ¥å£ ç¬¬ä¸€æ­¥ï¼šæ·»åŠ å¿…è¦çš„ jar åŒ…æˆ‘ä»¬ä½¿ç”¨é€†å‘å·¥ç¨‹ï¼Œéœ€è¦å…ˆå¯¼å…¥ Mybatis Generator çš„å®˜æ–¹åŒ…ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Maven æ­å»ºçš„ SSM é¡¹ç›®ï¼Œæ‰€æœ‰æˆ‘ä»¬å¯ä»¥å» Maven çš„å®˜ç½‘å»æŸ¥è¯¢éœ€è¦çš„ç›¸å…³åŒ…ï¼šhttp://mvnrepository.com/ æˆ³è¿›å»ç‚¹å‡»æœ€æ–°çš„åŒ…ï¼š å°±å¯ä»¥åœ¨ä¸‹æ–¹æ‰¾åˆ° Maven ä¾èµ–æ·»åŠ çš„è¯­å¥ï¼š ç›´æ¥ç²˜è¿› pom.xml å°±å¯ä»¥äº†ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚ ç¬¬äºŒæ­¥ï¼šgeneratorConfig.xmlåœ¨ã€resourcesã€‘ä¸‹åˆ›å»º generatorConfig.xml é…ç½®æ–‡ä»¶ï¼Œè¯¥é…ç½®æ–‡ä»¶è¯´æ˜äº†ä¸€äº›é€†å‘å·¥ç¨‹çš„ç»†èŠ‚ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt; &lt;generatorConfiguration&gt; &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ä¸­çš„æ³¨é‡Š trueï¼šæ˜¯ falseï¼šå¦--&gt; &lt;commentGenerator&gt; &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt; &lt;/commentGenerator&gt; &lt;!-- æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt; &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost/tmall_ssm&quot; userId=&quot;root&quot; password=&quot;root&quot;&gt; &lt;/jdbcConnection&gt; &lt;!-- é»˜è®¤ falseï¼ŒæŠŠ JDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integer ä¸º true æ—¶è§£æä¸º java.math.BigDecimal --&gt; &lt;javaTypeResolver&gt; &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt; &lt;/javaTypeResolver&gt; &lt;!-- targetProjectï¼šç”Ÿæˆ POJO ç±»çš„ä½ç½® --&gt; &lt;javaModelGenerator targetPackage=&quot;cn.wmyskxz.pojo&quot; targetProject=&quot;src/main/java&quot;&gt; &lt;!-- enableSubPackagesï¼šæ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€--&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt; &lt;!-- trimStringsï¼šä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --&gt; &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt; &lt;/javaModelGenerator&gt; &lt;!-- targetProjectï¼šç”Ÿæˆxmlæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½® --&gt; &lt;sqlMapGenerator targetPackage=&quot;mapper&quot; targetProject=&quot;src/main/resources&quot;&gt; &lt;!-- enableSubPackagesï¼šæ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€--&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;/sqlMapGenerator&gt; &lt;!-- targetProjectï¼šç”Ÿæˆmapperç±»å­˜æ”¾ä½ç½® --&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;cn.wmyskxz.mapper&quot; targetProject=&quot;src/main/java&quot;&gt; &lt;!-- enableSubPackagesï¼šæ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€--&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;/javaClientGenerator&gt; &lt;!--ç”Ÿæˆå¯¹åº”è¡¨åŠç±»å tableName:è¦ç”Ÿæˆçš„è¡¨å domainObjectName:ç”Ÿæˆåçš„å®ä¾‹å enableCountByExample:Countè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableUpdateByExample:Updateè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableDeleteByExample:Deleteè¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ enableSelectByExample:Selectå¤šæ¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ selectByExampleQueryId:Selectå•ä¸ªå¯¹è±¡è¯­å¥ä¸­åŠ å…¥whereæ¡ä»¶æŸ¥è¯¢ï¼Œé»˜è®¤ä¸ºtrueå¼€å¯ --&gt; &lt;table tableName=&quot;category&quot; domainObjectName=&quot;Category&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;!-- ä½¿ç”¨æ•°æ®åº“ä¸­å®é™…çš„å­—æ®µåä½œä¸ºç”Ÿæˆçš„å®ä½“ç±»çš„å±æ€§ --&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;!-- ä½¿ç”¨è‡ªå¢é•¿é”® --&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;property&quot; domainObjectName=&quot;Property&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;product&quot; domainObjectName=&quot;Product&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;product_image&quot; domainObjectName=&quot;ProductImage&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;order_&quot; domainObjectName=&quot;Order&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;property_value&quot; domainObjectName=&quot;PropertyValue&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;review&quot; domainObjectName=&quot;Review&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;user&quot; domainObjectName=&quot;User&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;order_item&quot; domainObjectName=&quot;OrderItem&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;table tableName=&quot;referal_link&quot; domainObjectName=&quot;ReferalLink&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;true&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;property name=&quot;my.isgen.usekeys&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt; &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;JDBC&quot;/&gt; &lt;/table&gt; &lt;/context&gt; &lt;/generatorConfiguration&gt;è¿™æ ·é…ç½®æ–‡ä»¶ä¹Ÿå°±ç¼–å†™å¥½äº† ç¬¬ä¸‰æ­¥ï¼šé€†å‘æ•°æ®æ–‡ä»¶ç”Ÿæˆç±»åœ¨ç¼–å†™å®Œé…ç½®æ–‡ä»¶åªæœ‰ï¼Œå°±éœ€è¦åŠ è½½è¯¥é…ç½®æ–‡ä»¶ï¼Œåˆ©ç”¨é€†å‘å·¥ç¨‹çš„æœºåˆ¶æ¥å¯¹æ•°æ®åº“çš„å„ä¸ªè¡¨è¿›è¡Œä¸€ç³»åˆ—æ–‡ä»¶çš„ç”Ÿæˆï¼Œæˆ‘ä»¬åœ¨ã€test/javaã€‘åŒ…ä¸‹åˆ›å»ºã€TestMyBatisGeneratorã€‘ç±»ï¼š import org.mybatis.generator.api.MyBatisGenerator; import org.mybatis.generator.api.ShellCallback; import org.mybatis.generator.config.Configuration; import org.mybatis.generator.config.xml.ConfigurationParser; import org.mybatis.generator.internal.DefaultShellCallback; import java.io.File; import java.util.ArrayList; import java.util.List; /** * é€†å‘å·¥ç¨‹æµ‹è¯•ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-27-ä¸Šåˆ 8:26 */ public class TestMybatisGenerator { public static void main(String[] args) throws Exception { // warnings ä¸ºç”¨äºæ”¾ç½®ç”Ÿæˆè¿‡ç¨‹ä¸­è­¦å‘Šä¿¡æ¯çš„é›†åˆå¯¹è±¡ List&lt;String&gt; warnings = new ArrayList&lt;String&gt;(); // æŒ‡å®šæ˜¯å¦è¦†ç›–é‡åæ–‡ä»¶ boolean overwrite = true; // åŠ è½½é…ç½®æ–‡ä»¶ File configFile = new File(MyBatisGenerator.class.getClassLoader().getResource(&quot;generatorConfig.xml&quot;).toURI()); // é…ç½®è§£æç±» ConfigurationParser cp = new ConfigurationParser(warnings); // é…ç½®è§£æç±»è§£æé…ç½®æ–‡ä»¶å¹¶ç”Ÿæˆ Configuration é…ç½®å¯¹è±¡ Configuration config = cp.parseConfiguration(configFile); // ShellCallback è´Ÿè´£å¦‚ä½•å¤„ç†é‡å¤æ–‡ä»¶ ShellCallback callback = new DefaultShellCallback(overwrite); // é€†å‘å·¥ç¨‹å¯¹è±¡ MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings); // æ‰§è¡Œé€†å‘æ–‡ä»¶ç”Ÿæˆæ“ä½œ myBatisGenerator.generate(null); // æ‰“å°æç¤ºä¿¡æ¯ System.out.println(&quot;MyBatis é€†å‘å·¥ç¨‹æ‰§è¡ŒæˆåŠŸï¼Œåˆ·æ–°é¡¹ç›®æŸ¥çœ‹æ–‡ä»¶ï¼&quot;); } }æ‰§è¡Œè¯¥æµ‹è¯•ç±»ï¼Œå°±èƒ½çœ‹è§è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼š Ohï¼è¿™çœŸçš„æ˜¯å¤ªçˆ½äº†ï¼çªç„¶å¼€å¿ƒ(*^â–½^*) çœ‹ä¸€ä¸‹è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ä»¥ Category ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼š Category å®ä½“ç±»ï¼š package cn.wmyskxz.pojo; public class Category { private Integer id; private String name; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name == null ? null : name.trim(); } } CategoryMapper æ˜ å°„ç±»ï¼š package cn.wmyskxz.mapper; import cn.wmyskxz.pojo.Category; import cn.wmyskxz.pojo.CategoryExample; import java.util.List; public interface CategoryMapper { int deleteByPrimaryKey(Integer id); int insert(Category record); int insertSelective(Category record); List&lt;Category> selectByExample(CategoryExample example); Category selectByPrimaryKey(Integer id); int updateByPrimaryKeySelective(Category record); int updateByPrimaryKey(Category record); } CategoryMapper.xml æ˜ å°„æ–‡ä»¶ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;cn.wmyskxz.mapper.CategoryMapper&quot;&gt; &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;cn.wmyskxz.pojo.Category&quot;&gt; &lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot;/&gt; &lt;/resultMap&gt; &lt;sql id=&quot;Example_Where_Clause&quot;&gt; &lt;where&gt; &lt;foreach collection=&quot;oredCriteria&quot; item=&quot;criteria&quot; separator=&quot;or&quot;&gt; &lt;if test=&quot;criteria.valid&quot;&gt; &lt;trim prefix=&quot;(&quot; prefixOverrides=&quot;and&quot; suffix=&quot;)&quot;&gt; &lt;foreach collection=&quot;criteria.criteria&quot; item=&quot;criterion&quot;&gt; &lt;choose&gt; &lt;when test=&quot;criterion.noValue&quot;&gt; and ${criterion.condition} &lt;/when&gt; &lt;when test=&quot;criterion.singleValue&quot;&gt; and ${criterion.condition} #{criterion.value} &lt;/when&gt; &lt;when test=&quot;criterion.betweenValue&quot;&gt; and ${criterion.condition} #{criterion.value} and #{criterion.secondValue} &lt;/when&gt; &lt;when test=&quot;criterion.listValue&quot;&gt; and ${criterion.condition} &lt;foreach close=&quot;)&quot; collection=&quot;criterion.value&quot; item=&quot;listItem&quot; open=&quot;(&quot; separator=&quot;,&quot;&gt; #{listItem} &lt;/foreach&gt; &lt;/when&gt; &lt;/choose&gt; &lt;/foreach&gt; &lt;/trim&gt; &lt;/if&gt; &lt;/foreach&gt; &lt;/where&gt; &lt;/sql&gt; &lt;sql id=&quot;Base_Column_List&quot;&gt; id, name &lt;/sql&gt; &lt;select id=&quot;selectByExample&quot; parameterType=&quot;cn.wmyskxz.pojo.CategoryExample&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;if test=&quot;distinct&quot;&gt; distinct &lt;/if&gt; &#39;false&#39; as QUERYID, &lt;include refid=&quot;Base_Column_List&quot;/&gt; from category &lt;if test=&quot;_parameter != null&quot;&gt; &lt;include refid=&quot;Example_Where_Clause&quot;/&gt; &lt;/if&gt; &lt;if test=&quot;orderByClause != null&quot;&gt; order by ${orderByClause} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from category where id = #{id,jdbcType=INTEGER} &lt;/select&gt; &lt;delete id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot;&gt; delete from category where id = #{id,jdbcType=INTEGER} &lt;/delete&gt; &lt;insert id=&quot;insert&quot; keyColumn=&quot;id&quot; keyProperty=&quot;id&quot; parameterType=&quot;cn.wmyskxz.pojo.Category&quot; useGeneratedKeys=&quot;true&quot;&gt; insert into category (name) values (#{name,jdbcType=VARCHAR}) &lt;/insert&gt; &lt;insert id=&quot;insertSelective&quot; keyColumn=&quot;id&quot; keyProperty=&quot;id&quot; parameterType=&quot;cn.wmyskxz.pojo.Category&quot; useGeneratedKeys=&quot;true&quot;&gt; insert into category &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt; &lt;if test=&quot;name != null&quot;&gt; name, &lt;/if&gt; &lt;/trim&gt; &lt;trim prefix=&quot;values (&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt; &lt;if test=&quot;name != null&quot;&gt; #{name,jdbcType=VARCHAR}, &lt;/if&gt; &lt;/trim&gt; &lt;/insert&gt; &lt;update id=&quot;updateByPrimaryKeySelective&quot; parameterType=&quot;cn.wmyskxz.pojo.Category&quot;&gt; update category &lt;set&gt; &lt;if test=&quot;name != null&quot;&gt; name = #{name,jdbcType=VARCHAR}, &lt;/if&gt; &lt;/set&gt; where id = #{id,jdbcType=INTEGER} &lt;/update&gt; &lt;update id=&quot;updateByPrimaryKey&quot; parameterType=&quot;cn.wmyskxz.pojo.Category&quot;&gt; update category set name = #{name,jdbcType=VARCHAR} where id = #{id,jdbcType=INTEGER} &lt;/update&gt; &lt;/mapper&gt;å…¶ä¸­å°±åªæœ‰æ˜ å°„æ–‡ä»¶ç¨å¾®æœ‰äº›å¤æ‚ï¼Œä½†ç»†çœ‹ä¸‹æ¥å…¶å®è·Ÿæˆ‘ä»¬è‡ªå·±å†™çš„å·®ä¸å¤šï¼Œç”šè‡³è‡ªåŠ¨ç”Ÿæˆçš„å®Œæˆå¾—æ›´å¥½ã€‚ xxxExample MybatisGeneratorä¼šç”Ÿæˆä¸€ä¸ªç±»å«åšXXXXExampleçš„ã€‚ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œæ’åºï¼Œæ¡ä»¶æŸ¥è¯¢çš„æ—¶å€™ä½¿ç”¨ã€‚ è¿™é‡Œæœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œäº†è§£ä¸€ä¸‹å°±å¥½äº†ï¼šæˆ³è¿™é‡Œ ç¬¬å››æ­¥ï¼šæµ‹è¯•æˆ‘ä»¬è¿™é‡Œä»…ä»…å°±ç”¨ CategoryMapper æ˜ å°„ç±»æ¥è¿›è¡Œç®€å•æµ‹è¯•äº†ï¼š @Autowired CategoryMapper categoryMapper; @Test public void test() { Category category = new Category(); category.setName(&quot;åˆ†ç±»1&quot;); categoryMapper.insert(category); }ç”±äºæˆ‘ä»¬ä½¿ç”¨äº†è‡ªå¢é•¿é”® id ï¼Œæ‰€ä»¥ä»…ä»…åªéœ€è¦æä¾› name å±æ€§å°±å¯ä»¥äº†ï¼Œæ‰§è¡Œï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­æœ‰æ­£ç¡®çš„æ•°æ®ï¼š æ€»ç»“æ ¹æ®ä»¥ä¸Šçš„ â€œæŠ˜è…¾â€ ç®—æ˜¯å®Œæˆäº†é¡¹ç›®çš„èµ·æ­¥å·¥ä½œäº†å§ï¼Œæˆ‘æ˜¯ä¸€è¾¹å†™é¡¹ç›®ä¸€è¾¹å†™åšå®¢çš„ï¼Œæ‰€ä»¥å¯èƒ½æœ‰æ—¶å€™æƒ³ç€æƒ³ç€å†™ç€å†™ç€æ€ç»ªä¼šæœ‰ç‚¹é£˜ï¼Œå†™å¾—å‡Œä¹±ï¼Œè¿™ä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•çš„äº‹ï¼Œä¸ç®¡å†™å¾—å¥½è¿˜æ˜¯å·®æˆ‘éƒ½å¸Œæœ›èƒ½è®°å½•ä¸‹æ¥ï¼Œè¿™äº›éƒ½æ˜¯å±äºæˆ‘è‡ªå·±çš„æ€è·¯å’Œå­¦ä¹ è·¯ç¨‹ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/SSM/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java Webâ€”ã€åˆ†é¡µåŠŸèƒ½ã€‘è¯¦è§£","slug":"Java-Webâ€”ã€åˆ†é¡µåŠŸèƒ½ã€‘è¯¦è§£","date":"2018-04-25T00:53:00.000Z","updated":"2020-08-03T08:52:54.517Z","comments":true,"path":"2018/04/25/java-web-fen-ye-gong-neng-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/25/java-web-fen-ye-gong-neng-xiang-jie/","excerpt":"","text":"åˆ†é¡µç®€ä»‹åˆ†é¡µåŠŸèƒ½åœ¨ç½‘é¡µä¸­æ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå…¶ä½œç”¨ä¹Ÿå°±æ˜¯å°†æ•°æ®åˆ†å‰²æˆå¤šä¸ªé¡µé¢æ¥è¿›è¡Œæ˜¾ç¤ºã€‚ ä½¿ç”¨åœºæ™¯ï¼š å½“å–åˆ°çš„æ•°æ®é‡è¾¾åˆ°ä¸€å®šçš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ†é¡µæ¥è¿›è¡Œæ•°æ®åˆ†å‰²ã€‚ å½“æˆ‘ä»¬ä¸ä½¿ç”¨åˆ†é¡µåŠŸèƒ½çš„æ—¶å€™ï¼Œä¼šé¢ä¸´è®¸å¤šçš„é—®é¢˜ï¼š å®¢æˆ·ç«¯çš„é—®é¢˜ï¼š å¦‚æœæ•°æ®é‡å¤ªå¤šï¼Œéƒ½æ˜¾ç¤ºåœ¨åŒä¸€ä¸ªé¡µé¢çš„è¯ï¼Œä¼šå› ä¸ºé¡µé¢å¤ªé•¿ä¸¥é‡å½±å“åˆ°ç”¨æˆ·çš„ä½“éªŒï¼Œä¹Ÿä¸ä¾¿äºæ“ä½œï¼Œä¹Ÿä¼šå‡ºç°åŠ è½½å¤ªæ…¢çš„é—®é¢˜ã€‚ æœåŠ¡ç«¯çš„é—®é¢˜ï¼š å¦‚æœæ•°æ®é‡å¤ªå¤šï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜æº¢å‡ºï¼Œè€Œä¸”ä¸€æ¬¡è¯·æ±‚æºå¸¦çš„æ•°æ®å¤ªå¤šï¼Œå¯¹æœåŠ¡å™¨çš„æ€§èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªè€ƒéªŒã€‚ åˆ†é¡µçš„åˆ†ç±»åˆ†é¡µçš„å®ç°åˆ†ä¸ºçœŸåˆ†é¡µå’Œå‡åˆ†é¡µä¸¤ç§ï¼Œä¹Ÿå°±æ˜¯ç‰©ç†åˆ†é¡µå’Œé€»è¾‘åˆ†é¡µã€‚ 1.çœŸåˆ†é¡µï¼ˆç‰©ç†åˆ†é¡µï¼‰ï¼š å®ç°åŸç†ï¼š SELECT * FROM xxx [WHERE...] LIMIT #{param1}, #{param2}ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¼€å§‹æ•°æ®çš„ç´¢å¼•ä½ç½®ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æŸ¥è¯¢å¤šå°‘æ¡æ•°æ® ä¼˜ç‚¹ï¼š ä¸ä¼šé€ æˆå†…å­˜æº¢å‡º ç¼ºç‚¹ï¼š ç¿»é¡µçš„é€Ÿåº¦æ¯”è¾ƒæ…¢ 2.å‡åˆ†é¡µï¼ˆé€»è¾‘åˆ†é¡µï¼‰ï¼š å®ç°åŸç†ï¼š ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ•°æ®æŸ¥è¯¢å‡ºæ¥æ”¾åœ¨å†…å­˜ä¹‹ä¸­ï¼Œæ¯æ¬¡éœ€è¦æŸ¥è¯¢çš„æ—¶å€™å°±ç›´æ¥ä»å†…å­˜ä¹‹ä¸­å»å–å‡ºç›¸åº”ç´¢å¼•åŒºé—´çš„æ•°æ® ä¼˜ç‚¹ï¼š åˆ†é¡µçš„é€Ÿåº¦æ¯”è¾ƒå¿« ç¼ºç‚¹ï¼š å¯èƒ½é€ æˆå†…å­˜æº¢å‡º ä¼ ç»Ÿçš„åˆ†é¡µæ–¹å¼å¯¹äºå‡åˆ†é¡µçš„å®ç°æ–¹å¼å¾ˆç®€å•ï¼Œåªéœ€è¦å‡†å¤‡ä¸€ä¸ªé›†åˆä¿å­˜ä»æ•°æ®åº“ä¸­å–å‡ºçš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åæ ¹æ®å½“å‰é¡µé¢çš„ç æ•°ï¼Œå–å‡ºå¯¹åº”èŒƒå›´çš„æ•°æ®æ˜¾ç¤ºå°±å¥½äº†ï¼Œæˆ‘ä»¬è¿™é‡ŒåŸºäºç‰©ç†åˆ†é¡µæ¥å®ç°ã€‚ åˆ†é¡µçš„åŸç† é¡µé¢ä¸­çš„æ•°æ®æœ‰ï¼šç»“æœé›†ï¼šé€šè¿‡ SQL è¯­å¥æŸ¥è¯¢å¾—æ¥çš„â€”â€”List åˆ†é¡µæ¡ä¸­çš„æ•°æ®æœ‰ï¼šå½“å‰é¡µï¼šç”¨æˆ·ä¼ é€’åˆ°åå°â€”â€”currentPageæ€»é¡µæ•°ï¼šè®¡ç®—çš„æ¥â€”â€”totalPageä¸Šä¸€é¡µï¼šè®¡ç®—çš„æ¥â€”â€”prePageä¸‹ä¸€é¡µï¼šè®¡ç®—çš„æ¥â€”â€”nextPageå°¾é¡µï¼šè®¡ç®—çš„æ¥ï¼ˆæ€»é¡µæ•°ï¼‰â€”â€”lastPageé¡µé¢å¤§å°ï¼ˆå³æ¯ä¸€é¡µæ˜¾ç¤ºçš„æ¡æ•°ï¼‰ï¼šç”¨æˆ·ä¼ é€’åˆ°åå°â€”â€”countæ€»æ¡æ•°ï¼šé€šè¿‡ SQL è¯­å¥æŸ¥è¯¢å¾—æ¥çš„â€”â€”totalCount å¯ä»¥å‘ç°é¡µé¢åŠŸèƒ½ä¸­éœ€è¦ç”¨åˆ°çš„æ•°æ®æœ‰ä¸¤ä¸ªæ˜¯éœ€è¦é€šè¿‡ SQL è¯­å¥æŸ¥è¯¢å¾—æ¥çš„ï¼šä¸€ä¸ªæ˜¯é¡µé¢ä¸­æ˜¾ç¤ºçš„æ•°æ® List ï¼Œå¦ä¸€ä¸ªæ˜¯æ•°æ®çš„æ€»æ¡æ•° totalCountï¼Œåˆ†åˆ«å¯¹åº”ä»¥ä¸‹ä¸¤æ¡ SQL è¯­å¥ï¼š SELECT * FROM student LIMIT #{param1}, #{param2} SELECT COUNT(*) FROM student é€šè¿‡è®¡ç®—å¾—åˆ°çš„æ•°æ®æœ‰ï¼š æ€»é¡µæ•°ï¼štotalPageæ€»é¡µæ•° = æ€»æ¡æ•° % é¡µé¢å¤§å° == 0 ? æ€»æ¡æ•° / é¡µé¢å¤§å° : æ€»æ¡æ•° / é¡µé¢å¤§å° + 1 ä¸Šä¸€é¡µï¼šprePageä¸Šä¸€é¡µ = å½“å‰é¡µ - 1 &gt; = 1 ? å½“å‰é¡µ - 1 : 1 ä¸‹ä¸€é¡µï¼šnextPageä¸‹ä¸€é¡µ = å½“å‰é¡µ + 1 &lt;= totalPage ? å½“å‰é¡µ + 1 : totalPage å°¾é¡µï¼šlastPageå°¾é¡µ = æ€»æ¡æ•° % é¡µé¢å¤§å° == 0 ï¼Ÿ æ€»æ¡æ•° - é¡µé¢å¤§å° : æ€»æ¡æ•° - æ€»æ¡æ•° % é¡µé¢å¤§å° ç”¨æˆ·ä¼ é€’çš„æ•°æ®ï¼š å½“å‰é¡µï¼šcurrentPage é¡µé¢å¤§å°ï¼šcount æ‰€æœ‰æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª Page å·¥å…·ç±»å¤‡ç”¨ï¼š public class Page { int start; // å¼€å§‹æ•°æ®çš„ç´¢å¼• int count; // æ¯ä¸€é¡µçš„æ•°é‡ int total; // æ€»å…±çš„æ•°æ®é‡ /** * æä¾›ä¸€ä¸ªæ„é€ æ–¹æ³• * @param start * @param count */ public Page(int start, int count) { super(); this.start = start; this.count = count; } /** * åˆ¤æ–­æ˜¯å¦æœ‰ä¸Šä¸€é¡µ * @return */ public boolean isHasPreviouse(){ if(start==0) return false; return true; } /** * åˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ * @return */ public boolean isHasNext(){ if(start==getLast()) return false; return true; } /** * è®¡ç®—å¾—åˆ°æ€»é¡µæ•° * @return */ public int getTotalPage(){ int totalPage; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰10é¡µ if (0 == total % count) totalPage = total /count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰11é¡µ else totalPage = total / count + 1; if(0==totalPage) totalPage = 1; return totalPage; } /** * è®¡ç®—å¾—åˆ°å°¾é¡µ * @return */ public int getLast(){ int last; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯45 if (0 == total % count) last = total - count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯50 else last = total - total % count; last = last&lt;0?0:last; return last; } /* getter and setter */ } å‰å°å®ç°åˆ†é¡µè®¾è®¡é¦–å…ˆæˆ‘ä»¬åœ¨å‰å°éœ€è¦å®Œæˆæˆ‘ä»¬åˆ†é¡µæ¡çš„è®¾è®¡ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥å¼•å…¥ Bootstrap æ¥å®Œæˆï¼š ä¸Šé¢æ˜¯ä½¿ç”¨ Bootstrap å®ç°ä¸€ä¸ªåˆ†é¡µæ¡çš„ç®€å•ä¾‹å­ï¼Œå¦‚æœä¸ç†Ÿæ‚‰çš„ç«¥é‹å¯ä»¥å»èœé¸Ÿæ•™ç¨‹ä¸­æŸ¥çœ‹ï¼šç‚¹è¿™é‡Œ ç®€å•ç‰ˆæœ¬çš„åˆ†é¡µæ¡ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬å…ˆæ¥å®ç°ä¸€ä¸ªç®€å•ç‰ˆæœ¬çš„åˆ†é¡µæ¡å§ï¼š é¦–é¡µè¶…é“¾ï¼šæŒ‡å‘äº† start ä¸º 0 çš„é¦–é¡µ &lt;li&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; ä¸Šä¸€é¡µè¶…é“¾ï¼š &lt;li &gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; ä¸‹ä¸€é¡µè¶…é“¾ï¼š &lt;li &gt; &lt;a href=&quot;?page.start=${page.start+page.count}&quot;&gt; &lt;span&gt;â€º&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; æœ€åä¸€é¡µè¶…é“¾ï¼šæŒ‡å‘äº†æœ€åä¸€é¡µ &lt;li &gt; &lt;a href=&quot;?page.start=${page.last}&quot;&gt; &lt;span&gt;Â»&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; ä¸­é—´é¡µï¼š &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;li&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; class=&quot;current&quot;&gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:forEach&gt; æ‰€ä»¥å†™å®Œçœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·å­çš„ï¼š &lt;nav&gt; &lt;ul class=&quot;pagination&quot;&gt; &lt;li&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;li&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; class=&quot;current&quot;&gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:forEach&gt; &lt;li &gt; &lt;a href=&quot;?page.start=${page.start+page.count}&quot;&gt; &lt;span&gt;â€º&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &gt; &lt;a href=&quot;?page.start=${page.last}&quot;&gt; &lt;span&gt;Â»&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; å­˜åœ¨çš„é—®é¢˜ï¼šâ‘  æ²¡æœ‰è¾¹ç•Œåˆ¤æ–­ï¼Œå³åœ¨é¦–é¡µä»ç„¶å¯ä»¥ç‚¹å‡»å‰ä¸€é¡µï¼Œä¸ç¬¦åˆé€»è¾‘ä¹Ÿå½±å“ç”¨æˆ·ä½“éªŒâ‘¡ ä¼šæ˜¾ç¤ºå®Œæ‰€æœ‰çš„åˆ†é¡µï¼Œå³å¦‚æœ totalPage æœ‰50é¡µï¼Œé‚£ä¹ˆåˆ†é¡µæ å°†ä¼šæ˜¾å¾—ç‰¹åˆ«é•¿ï¼Œå½±å“ä½“éªŒ æ”¹è‰¯ç‰ˆæœ¬çš„åˆ†é¡µæ¡1.å†™å¥½å¤´å’Œå°¾ &lt;nav class=&quot;pageDIV&quot;&gt; &lt;ul class=&quot;pagination&quot;&gt; ..... &lt;/ul&gt; &lt;/nav&gt;2.å†™å¥½Â« â€¹è¿™ä¸¤ä¸ªåŠŸèƒ½æŒ‰é’®ä½¿ç”¨ &lt;c:if&gt;æ ‡ç­¾æ¥å¢åŠ è¾¹ç•Œåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰å‰é¢çš„é¡µç äº†åˆ™è®¾ç½®ä¸ºdisableçŠ¶æ€ &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;å†é€šè¿‡ JavaScrip ä»£ç æ¥å®Œæˆç¦ç”¨åŠŸèƒ½ï¼š &lt;script&gt; $(function () { $(&quot;ul.pagination li.disabled a&quot;).click(function () { return false; }); }); &lt;/script&gt;3.å®Œæˆä¸­é—´é¡µç çš„ç¼–å†™ &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;c:if test=&quot;${status.count*page.count-page.start&lt;=30 &amp;&amp; status.count*page.count-page.start&gt;=-10}&quot;&gt; &lt;li &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;current&quot;&lt;/c:if&gt; &gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:if&gt; &lt;/c:forEach&gt;ä» 0 å¾ªç¯åˆ° page.totalPage - 1 ï¼ŒvarStatus ç›¸å½“äºæ˜¯å¾ªç¯å˜é‡ status.count æ˜¯ä»1å¼€å§‹éå† status.index æ˜¯ä»0å¼€å§‹éå† è¦æ±‚ï¼šæ˜¾ç¤ºå½“å‰é¡µç çš„å‰ä¸¤ä¸ªå’Œåä¸¤ä¸ªå°±å¯ï¼Œä¾‹å¦‚å½“å‰é¡µç ä¸º3çš„æ—¶å€™ï¼Œå°±æ˜¾ç¤º 1 2 3(å½“å‰é¡µ) 4 5 çš„é¡µç  ç†è§£æµ‹è¯•æ¡ä»¶ï¼š 10 &lt;= å½“å‰é¡µ*æ¯ä¸€é¡µæ˜¾ç¤ºçš„æ•°ç›® - å½“å‰é¡µå¼€å§‹çš„æ•°æ®ç¼–å· &lt;= 30 åªè¦ç†è§£äº†è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå…¶ä»–çš„å°±éƒ½å¥½ç†è§£äº† æ³¨æ„ï¼š æµ‹è¯•æ¡ä»¶æ˜¯éœ€è¦æ ¹æ®é¡¹ç›®çš„éœ€æ±‚åŠ¨æ€æ”¹å˜çš„ï¼Œä¸æ˜¯ä¸‡èƒ½çš„ï¼ åå°ä¸­çš„åˆ†é¡µé¦–é¡µåœ¨é¡¹ç›®ä¸­å¼•å…¥ä¸Šé¢æåˆ°çš„ Page å·¥å…·ç±»ï¼Œç„¶åæˆ‘ä»¬åœ¨ DAO ç±»ä¸­ä½¿ç”¨ LIMIT å…³é”®å­—æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­çš„ä¿¡æ¯ï¼š public List&lt;Student&gt; list() { return list(0, Short.MAX_VALUE); } public List&lt;Student&gt; list(int start, int count) { List&lt;Student&gt; students = new ArrayList&lt;&gt;(); String sql = &quot;SELECT * FROM student ORDER BY student_id desc limit ?,?&quot;; try (Connection c = DBUtil.getConnection(); PreparedStatement ps = c.prepareStatement(sql)) { ps.setInt(1, start); ps.setInt(2, count); // è·å–ç»“æœé›†... } catch (SQLException e) { e.printStackTrace(); } return students; }åœ¨ Servlet ä¸­è·å–åˆ†é¡µå‚æ•°å¹¶ä½¿é¦–é¡µæ˜¾ç¤ºçš„ StudentList ç”¨ page çš„å‚æ•°æ¥è·å–ï¼š // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(req.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(req.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } Page page = new Page(start, count); List&lt;Student&gt; students = studentDAO.list(page.getStart(), page.getCount()); .... // å…±äº«æ•°æ® req.setAttribute(&quot;page&quot;, page); req.setAttribute(&quot;students&quot;, students);ä»¥ä¸Šå³å¯å®Œæˆåˆ†é¡µåŠŸèƒ½ï¼Œä½†è¿™æ˜¯åŸºäº Servlet çš„ç‰ˆæœ¬ï¼Œåœ¨ä¹‹å‰å†™è¿‡çš„é¡¹ç›®ï¼ˆå­¦ç”Ÿç®¡ç†ç³»ç»Ÿ(ç®€æ˜“ç‰ˆ)ï¼‰ä¸­å®é™…çš„ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚ SSM ä¸­çš„åˆ†é¡µåœ¨ SSM é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ MyBatis çš„ä¸€æ¬¾åˆ†é¡µæ’ä»¶ï¼š PageHelper æ¥å¸®åŠ©æˆ‘ä»¬æ›´åŠ ç®€å•çš„å®Œæˆåˆ†é¡µçš„éœ€æ±‚ï¼Œå®˜ç½‘åœ¨è¿™é‡Œï¼š PageHelper åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ä¸Šé¢çš„å·¥å…·é‡æ„æˆ‘ä»¬ä¹‹å‰å†™è¿‡çš„ SSM é¡¹ç›® â€”â€” å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ-SSM ç‰ˆ ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ç›¸å…³ jar ä¾èµ–åŒ…PageHelper éœ€è¦ä¾èµ–ä¸¤ä¸ª jar åŒ…ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ pom.xml ä¸­å¢åŠ ä¸¤ä¸ª jar åŒ…ä¾èµ–ï¼š &lt;!-- pageHelper --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;5.1.2-beta&lt;/version&gt; &lt;/dependency&gt; &lt;!--jsqlparser--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/dependency&gt;ç¬¬äºŒæ­¥ï¼šé…ç½®ç›¸å…³ç¯å¢ƒåœ¨ MyBatis çš„ SessionFactory é…ç½®ä¸­æ–°å¢åŠ ä¸€ä¸ªå±æ€§å plugins çš„é…ç½®ï¼š &lt;!-- é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;!-- æ‰«æentityåŒ… ä½¿ç”¨åˆ«å --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;cn.wmyskxz.entity&quot;/&gt; &lt;!-- æ‰«æsqlé…ç½®æ–‡ä»¶:mapperéœ€è¦çš„xmlæ–‡ä»¶ --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt; &lt;!-- è®©MyBatisæ”¯æŒPageHelperæ’ä»¶ --&gt; &lt;property name=&quot;plugins&quot;&gt; &lt;array&gt; &lt;bean class=&quot;com.github.pagehelper.PageInterceptor&quot;&gt; &lt;property name=&quot;properties&quot;&gt; &lt;!--ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œä¸€è¡Œé…ç½®ä¸€ä¸ª --&gt; &lt;value&gt; &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt;ç¬¬ä¸‰æ­¥ï¼šé‡æ„é¡¹ç›®é¦–å…ˆæˆ‘ä»¬æŠŠ LIMIT å…³é”®å­—ä»æ˜ å°„æ–‡ä»¶ä¸­å¹²æ‰ï¼š &lt;!-- æŸ¥è¯¢ä»startä½ç½®å¼€å§‹çš„countæ¡æ•°æ®--&gt; &lt;select id=&quot;list&quot; resultMap=&quot;student&quot;&gt; SELECT * FROM student ORDER BY student_id desc &lt;/select&gt;ç„¶åæ³¨é‡Šæ‰æŸ¥è¯¢æ•°æ®æ€»æ¡æ•°çš„ SQL è¯­å¥ï¼š &lt;!--&amp;lt;!&amp;ndash; æŸ¥è¯¢æ•°æ®æ¡ç›® &amp;ndash;&amp;gt;--&gt; &lt;!--&lt;select id=&quot;getTotal&quot; resultType=&quot;int&quot;&gt;--&gt; &lt;!--SELECT COUNT(*) FROM student--&gt; &lt;!--&lt;/select&gt;--&gt;åœ¨ Dao ç±»å’Œ Service ç±»ä¸­ä¿®æ”¹ç›¸åº”çš„åœ°æ–¹ï¼š ç„¶åä¿®æ”¹æ‰ StudentController ä¸­çš„æ–¹æ³•ï¼š @RequestMapping(&quot;/listStudent&quot;) public String listStudent(HttpServletRequest request, HttpServletResponse response) { // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(request.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(request.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } Page page = new Page(start, count); // ä½¿ç”¨ PageHelper æ¥è®¾ç½®åˆ†é¡µ PageHelper.offsetPage(page.getStart(),page.getCount()); List&lt;Student&gt; students = studentService.list(); // ä½¿ç”¨ PageHelper æ¥è·å–æ€»æ•° int total = (int) new PageInfo&lt;&gt;(students).getTotal(); page.setTotal(total); request.setAttribute(&quot;students&quot;, students); request.setAttribute(&quot;page&quot;, page); return &quot;listStudent&quot;; }é‡å¯æœåŠ¡å™¨ï¼Œèƒ½çœ‹åˆ°ä¹Ÿèƒ½å¤Ÿæ­£ç¡®çš„ä½¿ç”¨åˆ†é¡µåŠŸèƒ½ã€‚ æ€»ç»“å…¶å®æˆ‘è‡ªå·±å¯¹äºè¿™ä¸ªå·¥å…·æ¯”è¾ƒæ— æ„Ÿ..å› ä¸ºåªæ˜¯å¼±åŒ–äº†å°‘ä¸€éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œå¹¶æ²¡æœ‰æˆ‘æƒ³è±¡ä¸­çš„é‚£æ · â€œæ™ºèƒ½â€ ï¼Œä¹Ÿæ²¡æœ‰çœ‹åˆ°ä»€ä¹ˆå¥½çš„åšæ–‡èƒ½å¤Ÿç‚¹é€šæˆ‘çš„è®¤çŸ¥ï¼Œå¸Œæœ›äº†è§£çš„å¤§å¤§ä»¬èƒ½æ— ç§åˆ†äº«ä¸€ä¸‹ï¼Œè°¢è°¢ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼ˆSSMç®€æ˜“ç‰ˆï¼‰æ€»ç»“","slug":"å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼ˆSSMç®€æ˜“ç‰ˆï¼‰æ€»ç»“","date":"2018-04-24T00:50:00.000Z","updated":"2020-08-03T08:51:38.434Z","comments":true,"path":"2018/04/24/xue-sheng-guan-li-xi-tong-ssm-jian-yi-ban-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/24/xue-sheng-guan-li-xi-tong-ssm-jian-yi-ban-zong-jie/","excerpt":"","text":"ä¹‹å‰ç”¨ Servlet + JSP å®ç°äº†ä¸€ä¸ªç®€æ˜“ç‰ˆçš„å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼Œåœ¨å­¦ä¹ äº† SSM æ¡†æ¶ä¹‹åï¼Œæˆ‘ä»¬æ¥å¯¹ä¹‹å‰å†™è¿‡çš„é¡¹ç›®é‡æ„ä¸€ä¸‹ï¼ æŠ€æœ¯å‡†å¤‡ä¸ºäº†å®Œæˆè¿™ä¸ªé¡¹ç›®ï¼Œéœ€è¦æŒæ¡å¦‚ä¸‹æŠ€æœ¯ï¼š JavaåŸºç¡€çŸ¥è¯† å‰ç«¯ï¼šHTML, CSS, JAVASCRIPT, JQUERY J2EEï¼šTomcat, Servlet, JSP, Filter æ¡†æ¶ï¼šSpring, Spring MVC, MyBatis, Spring ä¸ MyBatis æ•´åˆ, SSM æ•´åˆ æ•°æ®åº“ï¼šMySQL å¼€å‘å·¥å…·ï¼šIDEA, Maven å¼€å‘æµç¨‹ä¹‹å‰è™½ç„¶å·²ç»ä½¿ç”¨ Servlet + JSP å®Œæˆäº†ç®€å•çš„å¼€å‘ï¼Œè¿™æ¬¡ä½¿ç”¨ SSM ä»…ä»…æ˜¯é‡æ„å·¥ä½œï¼Œä½†æˆ‘ä»¬ä»ç„¶æŒ‰ç…§å•†ä¸šé¡¹ç›®çš„å¼€å‘æ­¥éª¤æ¥ä¸€æ­¥ä¸€æ­¥å®Œæˆï¼Œè¿›ä¸€æ­¥ç†Ÿæ‚‰è¿™ä¸ªè¿‡ç¨‹ï¼Œé‡å¤çš„éƒ¨åˆ†æˆ‘å°±ç›´æ¥å¤åˆ¶äº†ã€‚ â‘  éœ€æ±‚åˆ†æé¦–å…ˆè¦ç¡®å®šè¦åšå“ªäº›åŠŸèƒ½ ä½¿ç”¨æ•°æ®åº“æ¥ä¿å­˜æ•°æ® èƒ½å¢åˆ æ”¹æŸ¥å­¦ç”Ÿçš„ä¿¡æ¯ï¼ˆå­¦å·ï¼Œåç§°ï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼Œå‡ºç”Ÿæ—¥æœŸï¼‰ â‘¡ è¡¨ç»“æ„è®¾è®¡æ ¹æ®éœ€æ±‚ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸€ä¸ª student è¡¨å°±èƒ½å¤Ÿå®ŒæˆåŠŸèƒ½äº†ã€‚ åˆ›å»ºæ•°æ®åº“ï¼šstudentå°†æ•°æ®åº“ç¼–ç æ ¼å¼è®¾ç½®ä¸º UTF-8 ï¼Œä¾¿äºå­˜å–ä¸­æ–‡æ•°æ® DROP DATABASE IF EXISTS student; CREATE DATABASE student DEFAULT CHARACTER SET utf8; åˆ›å»ºå­¦ç”Ÿè¡¨ï¼šstudentä¸ç”¨å­¦ç”Ÿå­¦å·(studentID)ä½œä¸ºä¸»é”®çš„åŸå› æ˜¯ï¼šä¸æ–¹ä¾¿æ“ä½œï¼Œä¾‹å¦‚åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿè¦æ›´æ”¹å­¦å·ï¼Œé‚£è¿™æ ·çš„æ“ä½œæ€ä¹ˆåŠå‘¢ï¼Ÿæ‰€ä»¥æˆ‘ä»¬åŠ äº†ä¸€ä¸ª id ç”¨æ¥å”¯ä¸€è¡¨ç¤ºå½“å‰æ•°æ®ã€‚ CREATE TABLE student( id int(11) NOT NULL AUTO_INCREMENT, student_id int(11) NOT NULL UNIQUE, name varchar(255) NOT NULL, age int(11) NOT NULL, sex varchar(255) NOT NULL, birthday date DEFAULT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; MySQL åœ¨ Windows ä¸‹ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†åœ¨ Linux ä¸‹é»˜è®¤åŒºåˆ†å¤§å°å†™ï¼Œå› æ­¤ï¼Œæ•°æ®åº“åã€è¡¨æ˜ã€å­—æ®µåéƒ½ä¸å…è®¸å‡ºç°ä»»ä½•å¤§å†™å­—æ¯ï¼Œé¿å…èŠ‚å¤–ç”Ÿæã€‚ â‘¢ åŸå‹è®¾è®¡å°±æ˜¯è®¾è®¡ç•Œé¢ï¼Œåœ¨å•†ä¸šé¡¹ç›®ä¸­ï¼Œè¿™æ˜¯å¾ˆé‡è¦çš„ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥è§£é™¤ç•Œé¢åŸå‹ï¼Œä½æˆæœ¬ã€é«˜æ•ˆç‡çš„ä¸å®¢æˆ·è¾¾æˆéœ€æ±‚çš„ä¸€è‡´æ€§ã€‚ è¿™ä¸ªé¡¹ç›®ä¸€å…±å°±åˆ†ä¸ºä¸¤ä¸ªé¡µé¢ï¼š ä¸»é¡µé¢ï¼š å­¦ç”Ÿç¼–è¾‘é¡µé¢ï¼š â‘£ SSM ç¯å¢ƒæ­å»ºåœ¨çœŸæ­£å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å…ˆæ¥æ­å»ºå¥½æˆ‘ä»¬çš„ SSM ç¯å¢ƒã€‚ ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Maven webapp é¡¹ç›®é¦–å…ˆæ–°å»ºå·¥ç¨‹ï¼Œé€‰æ‹© Maven æ ‡ç­¾ï¼Œç„¶åå‹¾é€‰ä¸Šã€Create from archetypeã€‘é€‰æ‹© webappï¼š ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå¡«å†™ä¸Šã€GroupIdã€‘å’Œã€ArtifactIdã€‘ï¼š GroupIdï¼šé¡¹ç›®ç»„ç»‡å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå®é™…å¯¹åº” JAVA çš„åŒ…çš„ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ main ç›®å½•ä¸‹ java çš„ç›®å½•ç»“æ„ï¼ˆåŒ…ï¼‰ AritifactIdï¼šé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå®é™…å¯¹åº”é¡¹ç›®çš„åç§°ï¼Œå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•çš„åç§° å®é™…ä¸Šä½ å¯ä»¥ä¹±å¡«ä¸Šè¯•è¯•ï¼Œæˆ‘å°±ä¸ä¹±å¡«äº† ç„¶åæ˜¯ç¡®è®¤é¡¹ç›®è·¯å¾„ï¼Œè¿™ä¸€æ­¥ä½ å¯ä»¥çœ‹åˆ° Maven é…ç½®ä¸­çš„å‚æ•°ï¼Œä¸éœ€è¦åšæ”¹åŠ¨ï¼Œç›´æ¥ä¸‹ä¸€æ­¥å°±å¯ä»¥ï¼ˆå›¾ä¸­çš„è·¯å¾„æ˜¯æˆ‘é…ç½®çš„æœ¬åœ° Maven ä»“åº“çš„åœ°å€ï¼‰ï¼š ç¡®è®¤é¡¹ç›®åç§°å’Œè·¯å¾„ï¼Œç‚¹å‡»ã€Finishã€‘å³å¯ï¼š ç­‰å¾…ä¸€ä¼šå„¿ï¼Œæ§åˆ¶å°å°±ä¼šæœ‰åˆ›å»ºæˆåŠŸçš„æç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬æŠŠã€Enable Auto-Importã€‘ç‚¹ä¸Šï¼Œè¿™ä¸ªæç¤ºä¼šåœ¨æ¯æ¬¡ pom.xml æœ‰æ”¹åŠ¨æ—¶å‡ºç°ï¼Œè‡ªåŠ¨å¯¼å…¥ï¼Œçœæ‰éº»çƒ¦ï¼š ç¬¬äºŒæ­¥ï¼šæ­å»ºé¡¹ç›®ç›®å½•ç»“æ„ä¸‹é¢å°±æ˜¯ Maven é£æ ¼çš„ webapp çš„é»˜è®¤ç›®å½•ç»“æ„ï¼š æ³¨æ„ï¼š webapp æ˜¯é»˜è®¤æ²¡æœ‰ java æºæ–‡ä»¶ä¹Ÿæ²¡æœ‰ test ç›®å½•çš„ã€‚ éµå¾ª Maven çš„ç»Ÿä¸€é¡¹ç›®ç»“æ„ï¼Œæˆ‘ä»¬æ­å»ºå‡ºé¡¹ç›®çš„å®Œæ•´ç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨ Log4j æ¥è¾“å‡ºæ—¥å¿—ï¼Œè€Œæ˜¯ä½¿ç”¨ logback æç¤ºï¼šæˆ‘ä»¬å¯ä»¥åœ¨ IDEA ä¸­å³é”®ç›®å½•ç„¶åé€‰æ‹©ã€Make Directory asã€‘ï¼Œè®© IDEA è¯†åˆ«ä¸åŒçš„ç›®å½•ä½œç”¨ è¿™é‡Œçš„ç›®å½•å»ºå¥½ä¹‹åè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹ï¼Œè®© IDEA è¯†åˆ«ç›®å½•ä½œç”¨ï¼Œé€‰æ‹©ã€Fileã€‘&gt;ã€Project Structureã€‘ï¼š è®¾ç½®å¥½ä¹‹åç‚¹å‡» OKï¼Œå³å®Œæˆäº†é¡¹ç›®ç›®å½•çš„æ­å»ºã€‚ ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ–‡ä»¶å†…å®¹åœ¨ã€pom.xmlã€‘æ–‡ä»¶ä¸­å£°æ˜ä¾èµ–çš„ jar åŒ… ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;StudentManagerSSM&lt;/name&gt; &lt;groupId&gt;cn.wmyskxz&lt;/groupId&gt; &lt;artifactId&gt;StudentManagerSSM&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt; &lt;version&gt;6.1.7&lt;/version&gt; &lt;configuration&gt; &lt;connectors&gt; &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt; &lt;port&gt;8888&lt;/port&gt; &lt;maxIdleTime&gt;30000&lt;/maxIdleTime&gt; &lt;/connector&gt; &lt;/connectors&gt; &lt;webAppSourceDirectory&gt;${project.build.directory}/${pom.artifactId}-${pom.version} &lt;/webAppSourceDirectory&gt; &lt;contextPath&gt;/&lt;/contextPath&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;!-- è®¾ç½®é¡¹ç›®ç¼–ç ç¼–ç  --&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;!-- springç‰ˆæœ¬å· --&gt; &lt;spring.version&gt;4.3.5.RELEASE&lt;/spring.version&gt; &lt;!-- mybatisç‰ˆæœ¬å· --&gt; &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- jstlæ ‡ç­¾ --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt; &lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt; &lt;version&gt;1.2.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- java ee --&gt; &lt;dependency&gt; &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å®ç°slf4jæ¥å£å¹¶æ•´åˆ --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- JSON --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.41&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;${mybatis.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis/springæ•´åˆåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; &lt;build&gt; æ ‡ç­¾æ˜¯é»˜è®¤ç”Ÿæˆçš„ æˆ‘ä»¬åœ¨ &lt;properties&gt; ä¸­å£°æ˜äº†ç¼–ç æ ¼å¼ä»¥åŠä½¿ç”¨çš„ spring å’Œ mybatis çš„ç‰ˆæœ¬å·ï¼Œç„¶ååœ¨ &lt;dependencies&gt; ä¸­å£°æ˜äº†å…·ä½“çš„ jar åŒ… åœ¨ã€web.xmlã€‘ä¸­å£°æ˜ç¼–ç è¿‡æ»¤å™¨å¹¶é…ç½® DispatcherServlet ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt; &lt;!-- ç¼–ç è¿‡æ»¤å™¨ --&gt; &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;!-- é…ç½®DispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- é…ç½®springMVCéœ€è¦åŠ è½½çš„é…ç½®æ–‡ä»¶--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;async-supported&gt;true&lt;/async-supported&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;!-- åŒ¹é…æ‰€æœ‰è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt;åœ¨ã€spring-mybatis.xmlã€‘ä¸­å®Œæˆ spring å’Œ mybatis çš„é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt; &lt;!-- æ‰«æserviceåŒ…ä¸‹æ‰€æœ‰ä½¿ç”¨æ³¨è§£çš„ç±»å‹ --&gt; &lt;context:component-scan base-package=&quot;cn.wmyskxz.service&quot;/&gt; &lt;!-- é…ç½®æ•°æ®åº“ç›¸å…³å‚æ•°propertiesçš„å±æ€§ï¼š${url} --&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt; &lt;property name=&quot;maxPoolSize&quot; value=&quot;${c3p0.maxPoolSize}&quot;/&gt; &lt;property name=&quot;minPoolSize&quot; value=&quot;${c3p0.minPoolSize}&quot;/&gt; &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;${c3p0.autoCommitOnClose}&quot;/&gt; &lt;property name=&quot;checkoutTimeout&quot; value=&quot;${c3p0.checkoutTimeout}&quot;/&gt; &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;${c3p0.acquireRetryAttempts}&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;!-- æ‰«æentityåŒ… ä½¿ç”¨åˆ«å --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;cn.wmyskxz.entity&quot;/&gt; &lt;!-- æ‰«æsqlé…ç½®æ–‡ä»¶:mapperéœ€è¦çš„xmlæ–‡ä»¶ --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;!-- æ³¨å…¥sqlSessionFactory --&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; &lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt; &lt;property name=&quot;basePackage&quot; value=&quot;cn.wmyskxz.dao&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡ --&gt; &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt; &lt;/beans&gt;åœ¨ã€spring-mvc.xmlã€‘ä¸­å®Œæˆ Spring MVC çš„ç›¸å…³é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt; &lt;!-- æ‰«æwebç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package=&quot;cn.wmyskxz.controller&quot;/&gt; &lt;!-- å¼€å¯SpringMVCæ³¨è§£æ¨¡å¼ --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- é™æ€èµ„æºé»˜è®¤servleté…ç½® --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®jsp æ˜¾ç¤ºViewResolver --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt;åœ¨ã€jdbc.propertiesã€‘ä¸­é…ç½® c3p0 æ•°æ®åº“è¿æ¥æ± ï¼š jdbc.driver=com.mysql.jdbc.Driver #æ•°æ®åº“åœ°å€ jdbc.url=jdbc:mysql://localhost:3306/student?useUnicode=true&amp;characterEncoding=utf8 #ç”¨æˆ·å jdbc.username=root #å¯†ç  jdbc.password=root #æœ€å¤§è¿æ¥æ•° c3p0.maxPoolSize=30 #æœ€å°è¿æ¥æ•° c3p0.minPoolSize=10 #å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit c3p0.autoCommitOnClose=false #è·å–è¿æ¥è¶…æ—¶æ—¶é—´ c3p0.checkoutTimeout=10000 #å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° c3p0.acquireRetryAttempts=2åœ¨ã€logback.xmlã€‘ä¸­å®Œæˆæ—¥å¿—è¾“å‡ºçš„ç›¸å…³é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;configuration debug=&quot;true&quot;&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;root level=&quot;debug&quot;&gt; &lt;appender-ref ref=&quot;STDOUT&quot;/&gt; &lt;/root&gt; &lt;/configuration&gt;ä»¥ä¸Šå°±å®Œæˆäº† SSM æ¡†æ¶çš„åŸºæœ¬é…ç½®ï¼š æ·»åŠ è¿›äº† SSM é¡¹ç›®æ‰€éœ€è¦çš„ jar åŒ… é…ç½®å¥½äº† spring/mybatis/spring MVC çš„ç›¸å…³é…ç½®ä¿¡æ¯ï¼ˆè‡ªåŠ¨æ‰«æ cn.wmyskxz åŒ…ä¸‹çš„å¸¦æœ‰æ³¨è§£çš„ç±»ï¼‰ é€šè¿‡ xml é…ç½®çš„æ–¹å¼é…ç½®å¥½äº†æ—¥å¿—å’Œæ•°æ®åº“ â‘¤ å®ä½“ç±»è®¾è®¡å®ä½“ç±»ä»…ä»…æ˜¯å¯¹æ•°æ®åº“ä¸­è¡¨çš„ä¸€ä¸€æ˜ å°„ï¼ˆè¡¨ä¸­å­—æ®µååº”è¯¥å’Œå®ä½“ç±»ä¸­çš„åç§°ä¸€ä¸€å¯¹åº”ï¼‰ï¼ŒåŒæ—¶å¯èƒ½è¿˜éœ€è¦å…¼é¡¾å¯¹ä¸šåŠ¡èƒ½åŠ›çš„æ”¯æŒã€‚ åœ¨ Packgeã€cn.wmyskxz.entityã€‘ä¸‹åˆ›å»º Student ç±»ï¼špackage cn.wmyskxz.entity; import java.util.Date; /** Student å®ä½“ç±» @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ @create: 2018-04-23-ä¸‹åˆ 13:34 /public class Student { private int id; private int student_id; private String name; private int age; private String sex; private Date birthday; /* getter and setter */} â‘¤ DAO ç±»çš„è®¾è®¡DAOï¼Œå³ Date Access Objectï¼Œæ•°æ®åº“è®¿é—®å¯¹è±¡ï¼Œå°±æ˜¯å¯¹æ•°æ®åº“ç›¸å…³æ“ä½œçš„å°è£…ï¼Œè®©å…¶ä»–åœ°æ–¹çœ‹ä¸åˆ° JDBC çš„ä»£ç ã€‚ åœ¨ã€cn.wmyskxz.daoã€‘åŒ…ä¸‹åˆ›å»ºã€StudentDaoã€‘æ¥å£ï¼š package cn.wmyskxz.dao; import cn.wmyskxz.entity.Student; import java.util.List; public interface StudentDao { int getTotal(); void addStudent(Student student); void deleteStudent(int id); void updateStudent(Student student); Student getStudent(int id); List&lt;Student&gt; list(int start, int count); }ç„¶ååœ¨ã€resources/mapperã€‘ä¸‹åˆ›å»ºå¥½å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ã€StudengDao.xmlã€‘ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;!-- å°†namespaceçš„å€¼è®¾ç½®ä¸ºDAOç±»å¯¹åº”çš„è·¯å¾„ --&gt; &lt;mapper namespace=&quot;cn.wmyskxz.dao.StudentDao&quot;&gt; &lt;!-- æŸ¥è¯¢æ•°æ®æ¡ç›® --&gt; &lt;select id=&quot;getTotal&quot; resultType=&quot;int&quot;&gt; SELECT COUNT(*) FROM student &lt;/select&gt; &lt;!-- å¢åŠ ä¸€æ¡æ•°æ® --&gt; &lt;insert id=&quot;addStudent&quot; parameterType=&quot;Student&quot;&gt; INSERT INTO student VALUES(NULL, #{student_id}, #{name}, #{age}, #{sex}, #{birthday}) &lt;/insert&gt; &lt;!-- åˆ é™¤ä¸€æ¡æ•°æ® --&gt; &lt;delete id=&quot;deleteStudent&quot; parameterType=&quot;int&quot;&gt; DELETE FROM student WHERE id = #{id} &lt;/delete&gt; &lt;!-- æ›´æ–°ä¸€æ¡æ•°æ® --&gt; &lt;update id=&quot;updateStudent&quot; parameterType=&quot;Student&quot;&gt; UPDATE student SET student_id = #{student_id}, name = #{name}, age = #{age}, sex = #{sex}, birthday = #{birthday} WHERE id = #{id} &lt;/update&gt; &lt;!-- æŸ¥è¯¢ä¸€æ¡æ•°æ® --&gt; &lt;select id=&quot;getStudent&quot; resultMap=&quot;student&quot; parameterType=&quot;int&quot;&gt; SELECT * FROM student WHERE id = #{id} &lt;/select&gt; &lt;resultMap id=&quot;student&quot; type=&quot;student&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;student_id&quot; property=&quot;student_id&quot;/&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt; &lt;result column=&quot;age&quot; property=&quot;age&quot;/&gt; &lt;result column=&quot;sex&quot; property=&quot;sex&quot;/&gt; &lt;result column=&quot;birthday&quot; property=&quot;birthday&quot;/&gt; &lt;/resultMap&gt; &lt;!-- æŸ¥è¯¢ä»startä½ç½®å¼€å§‹çš„countæ¡æ•°æ®--&gt; &lt;select id=&quot;list&quot; resultMap=&quot;student&quot;&gt; SELECT * FROM student ORDER BY student_id desc limit #{param1}, #{param2} &lt;/select&gt; &lt;/mapper&gt;ç¼–å†™å¥½äº† Dao ç±»æ˜¯éœ€è¦æµ‹è¯•çš„ï¼Œè¿™é‡Œæµ‹è¯•ç±»å°±ä¸ç»™å‡ºäº†ã€‚ â‘¦ ä¸šåŠ¡ç±»è®¾è®¡ é—®é¢˜ï¼š ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ Dao ç±»è€Œæ˜¯è¿˜è¦åœ¨ä¸Šé¢å°è£…ä¸€å±‚ Service å±‚å‘¢ï¼Ÿ å›ç­”ï¼šåŸºäºè´£ä»»åˆ†ç¦»çš„åŸåˆ™ï¼ŒDao å±‚å°±åº”è¯¥ä¸“æ³¨äºå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œè€Œåœ¨ Service å±‚æˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€äº›é CRUD çš„æ–¹æ³•å»æ›´å¥½çš„å®Œæˆæœ¬èº«æŠ½ç¦»å‡ºæ¥çš„ service æœåŠ¡ï¼ˆä¸šåŠ¡å¤„ç†ï¼‰ã€‚ åœ¨ã€cn.wmyskxz.serviceã€‘åŒ…ä¸‹åˆ›å»ºã€StudentServiceã€‘æ¥å£ï¼š package cn.wmyskxz.service; import cn.wmyskxz.entity.Student; import java.util.List; public interface StudentService { /** * è·å–åˆ° Student çš„æ€»æ•° * @return */ int getTotal(); /** * å¢åŠ ä¸€æ¡æ•°æ® * @param student */ void addStudent(Student student); /** * åˆ é™¤ä¸€æ¡æ•°æ® * @param id */ void deleteStudent(int id); /** * æ›´æ–°ä¸€æ¡æ•°æ® * @param student */ void updateStudent(Student student); /** * æ‰¾åˆ°ä¸€æ¡æ•°æ® * @param id * @return */ Student getStudent(int id); /** * åˆ—ä¸¾å‡ºä» start ä½ç½®å¼€å§‹çš„ count æ¡æ•°æ® * @param start * @param count * @return */ List&lt;Student&gt; list(int start, int count); }å¹¶åœ¨ç›¸åŒåŒ…åä¸‹åˆ›å»ºå®ç°ç±»ã€StudentServiceImplã€‘ï¼š package cn.wmyskxz.service; import cn.wmyskxz.dao.StudentDao; import cn.wmyskxz.entity.Student; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import java.util.List; /** * StudentService çš„å®ç°ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸‹åˆ 13:51 */ @Service public class StudentServiceImpl implements StudentService { @Autowired StudentDao studentDao; public int getTotal() { return studentDao.getTotal(); } public void addStudent(Student student) { studentDao.addStudent(student); } public void deleteStudent(int id) { studentDao.deleteStudent(id); } public void updateStudent(Student student) { studentDao.updateStudent(student); } public Student getStudent(int id) { return studentDao.getStudent(id); } public List&lt;Student&gt; list(int start, int count) { return studentDao.list(start, count); } }â‘§ åŠŸèƒ½å¼€å‘åœ¨ã€cn.wmyskxz.controllerã€‘åŒ…ä¸‹åˆ›å»ºã€StudentControllerã€‘æ§åˆ¶å™¨ï¼Œä»£ç åŸºæœ¬ä¸Šéƒ½æ˜¯å¤åˆ¶é»è´´ä¹‹å‰åœ¨ Servlet ä¸­çš„ä»£ç ï¼š package cn.wmyskxz.controller; import cn.wmyskxz.entity.Student; import cn.wmyskxz.service.StudentService; import cn.wmyskxz.util.Page; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.servlet.ModelAndView; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.text.ParseException; import java.text.SimpleDateFormat; import java.util.Date; import java.util.List; /** * Student æ§åˆ¶å™¨ * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸‹åˆ 13:27 */ @Controller @RequestMapping(&quot;&quot;) public class StudentController { @Autowired private StudentService studentService; @RequestMapping(&quot;/addStudent&quot;) public String addStudent(HttpServletRequest request, HttpServletResponse response) { Student student = new Student(); int studentID = Integer.parseInt(request.getParameter(&quot;student_id&quot;)); String name = request.getParameter(&quot;name&quot;); int age = Integer.parseInt(request.getParameter(&quot;age&quot;)); String sex = request.getParameter(&quot;sex&quot;); Date birthday = null; // String ç±»å‹æŒ‰ç…§ yyyy-MM-dd çš„æ ¼å¼è½¬æ¢ä¸º java.util.Date ç±» SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); try { birthday = simpleDateFormat.parse(request.getParameter(&quot;birthday&quot;)); } catch (ParseException e) { e.printStackTrace(); } student.setStudent_id(studentID); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); studentService.addStudent(student); return &quot;redirect:listStudent&quot;; } @RequestMapping(&quot;/listStudent&quot;) public String listStudent(HttpServletRequest request, HttpServletResponse response) { // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(request.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(request.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } Page page = new Page(start, count); List&lt;Student&gt; students = studentService.list(page.getStart(), page.getCount()); int total = studentService.getTotal(); page.setTotal(total); request.setAttribute(&quot;students&quot;, students); request.setAttribute(&quot;page&quot;, page); return &quot;listStudent&quot;; } @RequestMapping(&quot;/deleteStudent&quot;) public String deleteStudent(int id) { studentService.deleteStudent(id); return &quot;redirect:listStudent&quot;; } @RequestMapping(&quot;/editStudent&quot;) public ModelAndView editStudent(int id) { ModelAndView mav = new ModelAndView(&quot;editStudent&quot;); Student student = studentService.getStudent(id); mav.addObject(&quot;student&quot;, student); return mav; } @RequestMapping(&quot;/updateStudent&quot;) public String updateStudent(HttpServletRequest request, HttpServletResponse response) { Student student = new Student(); int id = Integer.parseInt(request.getParameter(&quot;id&quot;)); int student_id = Integer.parseInt(request.getParameter(&quot;student_id&quot;)); String name = request.getParameter(&quot;name&quot;); int age = Integer.parseInt(request.getParameter(&quot;age&quot;)); String sex = request.getParameter(&quot;sex&quot;); SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); Date birthday = null; try { birthday = simpleDateFormat.parse(request.getParameter(&quot;birthday&quot;)); } catch (ParseException e) { e.printStackTrace(); } student.setId(id); student.setStudent_id(student_id); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); studentService.updateStudent(student); return &quot;redirect:listStudent&quot;; } } æ³¨æ„ï¼š æ‰€æœ‰çš„å­¦å·éƒ½ç”¨ student_id è¡¨ç¤ºï¼Œä¸ºäº†å¥‘åˆåœ¨æ•°æ®åº“ä¸­çš„å­—æ®µåï¼ˆåŒ…æ‹¬ä¸‹é¢çš„ JSP æ–‡ä»¶ï¼‰ JSP æ–‡ä»¶ä¹Ÿç›´æ¥é»ä¹‹å‰çš„å°±å¥½äº†ï¼Œä¸è¿‡éœ€è¦æ³¨æ„æ‰€æœ‰çš„ name å±æ€§ï¼š ã€listStudent.jspã€‘ï¼š &lt;!DOCTYPE html&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; %&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;%-- å¼•å…¥JQå’ŒBootstrap --%&gt; &lt;script src=&quot;js/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/bootstrap/3.3.6/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;script src=&quot;js/bootstrap/3.3.6/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/style.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;title&gt;å­¦ç”Ÿç®¡ç†é¡µé¢ - é¦–é¡µ&lt;/title&gt; &lt;script&gt; $(function () { $(&quot;ul.pagination li.disabled a&quot;).click(function () { return false; }); }); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;listDIV&quot;&gt; &lt;table class=&quot;table table-striped table-bordered table-hover table-condensed&quot;&gt; &lt;caption&gt;å­¦ç”Ÿåˆ—è¡¨ - å…±${page.total}äºº&lt;/caption&gt; &lt;thead&gt; &lt;tr class=&quot;success&quot;&gt; &lt;th&gt;å­¦å·&lt;/th&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th&gt;å¹´é¾„&lt;/th&gt; &lt;th&gt;æ€§åˆ«&lt;/th&gt; &lt;th&gt;å‡ºç”Ÿæ—¥æœŸ&lt;/th&gt; &lt;th&gt;ç¼–è¾‘&lt;/th&gt; &lt;th&gt;åˆ é™¤&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;c:forEach items=&quot;${students}&quot; var=&quot;s&quot; varStatus=&quot;status&quot;&gt; &lt;tr&gt; &lt;td&gt;${s.student_id}&lt;/td&gt; &lt;td&gt;${s.name}&lt;/td&gt; &lt;td&gt;${s.age}&lt;/td&gt; &lt;td&gt;${s.sex}&lt;/td&gt; &lt;td&gt;${s.birthday}&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;/editStudent?id=${s.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/span&gt; &lt;/a&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;/deleteStudent?id=${s.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-trash&quot;&gt;&lt;/span&gt; &lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;nav class=&quot;pageDIV&quot;&gt; &lt;ul class=&quot;pagination&quot;&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;c:if test=&quot;${status.count*page.count-page.start&lt;=30 &amp;&amp; status.count*page.count-page.start&gt;=-10}&quot;&gt; &lt;li &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;current&quot;&lt;/c:if&gt; &gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:if&gt; &lt;/c:forEach&gt; &lt;li &lt;c:if test=&quot;${!page.hasNext}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start+page.count}&quot;&gt; &lt;span&gt;â€º&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasNext}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.last}&quot;&gt; &lt;span&gt;Â»&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;div class=&quot;addDIV&quot;&gt; &lt;div class=&quot;panel panel-success&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt;å¢åŠ å­¦ç”Ÿ&lt;/h3&gt; &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;/addStudent&quot; role=&quot;form&quot;&gt; &lt;table class=&quot;addTable&quot;&gt; &lt;tr&gt; &lt;td&gt;å­¦å·ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;student_id&quot; id=&quot;student_id&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å­¦å·&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å§“åï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥åå­—&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å¹´é¾„ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot; id=&quot;age&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å¹´é¾„&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æ€§åˆ«ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;sex&quot; value=&quot;ç”·&quot;&gt; ç”· &lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt; å¥³ &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å‡ºç”Ÿæ—¥æœŸï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;date&quot; name=&quot;birthday&quot; id=&quot;birthday&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å‡ºç”Ÿæ—¥æœŸ&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr class=&quot;submitTR&quot;&gt; &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;æ äº¤&lt;/button&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; ã€editStudent.jspã€‘ï¼š &lt;!DOCTYPE html&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; %&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;%-- å¼•å…¥JQå’ŒBootstrap --%&gt; &lt;script src=&quot;js/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/bootstrap/3.3.6/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;script src=&quot;js/bootstrap/3.3.6/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/style.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;title&gt;å­¦ç”Ÿç®¡ç†é¡µé¢ - ç¼–è¾‘é¡µé¢&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;editDIV&quot;&gt; &lt;div class=&quot;panel panel-success&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt;ç¼–è¾‘å­¦ç”Ÿ&lt;/h3&gt; &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;/updateStudent&quot; role=&quot;form&quot;&gt; &lt;table class=&quot;editTable&quot;&gt; &lt;tr&gt; &lt;td&gt;å­¦å·ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;student_id&quot; id=&quot;student_id&quot; value=&quot;${student.student_id}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å­¦å·&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å§“åï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; value=&quot;${student.name}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥åå­—&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å¹´é¾„ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot; id=&quot;age&quot; value=&quot;${student.age}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å¹´é¾„&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æ€§åˆ«ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;sex&quot; value=&quot;ç”·&quot;&gt; ç”· &lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt; å¥³ &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å‡ºç”Ÿæ—¥æœŸï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;date&quot; name=&quot;birthday&quot; id=&quot;birthday&quot; value=&quot;${student.birthday}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å‡ºç”Ÿæ—¥æœŸ&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr class=&quot;submitTR&quot;&gt; &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${student.id}&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;æ äº¤&lt;/button&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; style.css æ–‡ä»¶ï¼š body { padding-top: 60px; } div.listDIV { width: 600px; margin: 0 auto; } div.editDIV { width: 400px; margin: 0 auto; } nav.pageDIV { text-align: center; } div.addDIV { width: 300px; margin: 0 auto; } table.addTable { width: 100%; padding: 5px; } table.addTable td { padding: 5px; } table.editTable { width: 100%; padding: 5px; } table.editTable td { padding: 5px; }é¡¹ç›®çš„æ•´ä½“ç»“æ„ åˆ†é¡µåŠŸèƒ½ é¦–å…ˆåœ¨ Packgeã€utilã€‘åŒ…ä¸‹åˆ›å»ºä¸€ä¸ª Page å·¥å…·ç±»ï¼š package cn.wmyskxz.util; public class Page { int start; // å¼€å§‹æ•°æ® int count; // æ¯ä¸€é¡µçš„æ•°é‡ int total; // æ€»å…±çš„æ•°æ®é‡ public Page(int start, int count) { super(); this.start = start; this.count = count; } public boolean isHasPreviouse(){ if(start==0) return false; return true; } public boolean isHasNext(){ if(start==getLast()) return false; return true; } public int getTotalPage(){ int totalPage; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰10é¡µ if (0 == total % count) totalPage = total /count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰11é¡µ else totalPage = total / count + 1; if(0==totalPage) totalPage = 1; return totalPage; } public int getLast(){ int last; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯40 if (0 == total % count) last = total - count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯50 else last = total - total % count; last = last&lt;0?0:last; return last; } // å„ç§ setter å’Œ getter } totalPage æ˜¯è®¡ç®—å¾—æ¥çš„æ•°ï¼Œç”¨æ¥è¡¨ç¤ºé¡µç ä¸€å…±çš„æ•°é‡ åœ¨é¦–é¡µæ˜¾ç¤ºçš„ StudentList ç”¨ page çš„å‚æ•°æ¥è·å–ï¼š List&lt;Student&gt; students = studentService.list(page.getStart(), page.getCount());å¹¶ä¸”åœ¨æ˜ å°„æ–‡ä»¶ä¸­ç”¨ LIMIT å…³é”®å­—ï¼š &lt;!-- æŸ¥è¯¢ä»startä½ç½®å¼€å§‹çš„countæ¡æ•°æ®--&gt; &lt;select id=&quot;list&quot; resultMap=&quot;student&quot;&gt; SELECT * FROM student ORDER BY student_id desc limit #{param1}, #{param2} &lt;/select&gt; ç¬¬ä¸€ä¸ªå‚æ•°ä¸º startï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º countè¿™æ ·å°±èƒ½æ ¹æ®åˆ†é¡µçš„ä¿¡æ¯æ¥è·å–åˆ°å“åº”çš„æ•°æ® ç¼–å†™åˆ†é¡µæ ï¼š 1.å†™å¥½å¤´å’Œå°¾ &lt;nav class=&quot;pageDIV&quot;&gt; &lt;ul class=&quot;pagination&quot;&gt; ..... &lt;/ul&gt; &lt;/nav&gt;2.å†™å¥½Â« â€¹è¿™ä¸¤ä¸ªåŠŸèƒ½æŒ‰é’®ä½¿ç”¨ &lt;c:if&gt;æ ‡ç­¾æ¥å¢åŠ è¾¹ç•Œåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰å‰é¢çš„é¡µç äº†åˆ™è®¾ç½®ä¸ºdisableçŠ¶æ€ &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;å†é€šè¿‡ JavaScrip ä»£ç æ¥å®Œæˆç¦ç”¨åŠŸèƒ½ï¼š &lt;script&gt; $(function () { $(&quot;ul.pagination li.disabled a&quot;).click(function () { return false; }); }); &lt;/script&gt;3.å®Œæˆä¸­é—´é¡µç çš„ç¼–å†™ä» 0 å¾ªç¯åˆ° page.totalPage - 1 ï¼ŒvarStatus ç›¸å½“äºæ˜¯å¾ªç¯å˜é‡ status.count æ˜¯ä»1å¼€å§‹éå† status.index æ˜¯ä»0å¼€å§‹éå† è¦æ±‚ï¼šæ˜¾ç¤ºå½“å‰é¡µç çš„å‰ä¸¤ä¸ªå’Œåä¸¤ä¸ªå°±å¯ï¼Œä¾‹å¦‚å½“å‰é¡µç ä¸º3çš„æ—¶å€™ï¼Œå°±æ˜¾ç¤º 1 2 3(å½“å‰é¡µ) 4 5 çš„é¡µç  ç†è§£æµ‹è¯•æ¡ä»¶ï¼š 10 &lt;= å½“å‰é¡µ*æ¯ä¸€é¡µæ˜¾ç¤ºçš„æ•°ç›® - å½“å‰é¡µå¼€å§‹çš„æ•°æ®ç¼–å· &lt;= 30 åªè¦ç†è§£äº†è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå…¶ä»–çš„å°±éƒ½å¥½ç†è§£äº† &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;c:if test=&quot;${status.count*page.count-page.start&lt;=30 &amp;&amp; status.count*page.count-page.start&gt;=-10}&quot;&gt; &lt;li &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;current&quot;&lt;/c:if&gt; &gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:if&gt; &lt;/c:forEach&gt;4.åœ¨æ§åˆ¶å™¨ä¸­è·å–å‚æ•° // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(request.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(request.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } .... // å…±äº« page æ•°æ® request.setAttribute(&quot;page&quot;, page);Date è½¬æ¢çš„é—®é¢˜æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬çœ‹åˆ°é¡µé¢ä¸Šæ˜¾ç¤ºçš„æ—¥æœŸæ˜¯è¿™æ ·çš„æ ¼å¼ï¼š è¿™æ˜¾ç„¶æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ è§£å†³æ–¹æ¡ˆï¼šåœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ—¥æœŸæ˜¾ç¤ºçš„ç±»å‹ã€‚ é‡æ–°éƒ¨ç½²æ–‡ä»¶ï¼Œç„¶ååˆ·æ–°é¡µé¢ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬å¸Œæœ›çš„æ•ˆæœå•¦ï¼š é¡¹ç›®æ€»ç»“ ç”±äºä¹‹å‰çš„é¡¹ç›®ä»£ç éƒ½æœ‰ï¼Œæ‰€ä»¥åœ¨é‡æ„çš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰èŠ±ä»€ä¹ˆæ—¶é—´å°±å®Œæˆäº†é¡¹ç›®çš„æ­å»ºï¼Œèƒ½å¤Ÿä½“ä¼šåˆ°ä»£ç åˆ†ç¦»çš„é‡è¦æ€§ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿è¯äº†æˆ‘ä»¬çš„ä»£ç å¤ç”¨ã€‚ ç›¸è¾ƒäºä¹‹å‰ç”¨ Servlet + JSP æ¥å®Œæˆï¼Œå¾ˆæ˜æ˜¾çš„æ„Ÿè§‰æ˜¯DAOå±‚çš„ç¼–å†™æ–¹ä¾¿äº†å¾ˆå¤šï¼Œä»…ä»…éœ€è¦ç¼–å†™ä¸€ä¸ª xml æ˜ å°„æ–‡ä»¶å’Œä¸€ä¸ª Dao å±‚æ¥å£å°±å¯ä»¥å®ŒæˆåŠŸèƒ½ï¼Œè€Œä¸ç”¨è‡ªå·±å†å»é‡å¤çš„å»åœ¨æ¯ä¸€ä¸ª CRUD æ–¹æ³•ä¸­å»å¤„ç†ç»“æœé›†ï¼Œé‡å¤è€Œä¸”ç¹çã€‚ æ³¨è§£çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œè¿™ä¸ä»…ä»…æå‡äº†æˆ‘ä»¬è‡ªèº«å¼€å‘çš„æ•ˆç‡ï¼Œå†™èµ·æ¥ä¹Ÿå¾ˆå¸¦åŠ²å„¿ã€‚ å¼€å‘æ•ˆç‡å¿«ï¼Œè€Œä¸”ä½è€¦åˆï¼Œæˆ‘ä»¬åŸºäº xml é…ç½®äº†å¤§éƒ¨åˆ†çš„å·¥ä½œï¼Œåœ¨åŸºäº SSM æ¡†æ¶å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸“æ³¨ç‚¹é›†ä¸­åœ¨é€»è¾‘å¤„ç†ä¸Šã€‚ åœ¨ SSM æ¡†æ¶ä¸­èƒ½æ–¹ä¾¿çš„å¯¹é¡¹ç›®è¿›è¡Œä¿®æ”¹ï¼Œè¿™ä¸ä»…ä»…å¾—ç›Šäºæ¡†æ¶çš„çº¦å®šï¼Œä½¿å¾—ä»£ç åˆ†ç¦»å¹¶ä¸”å¯å¤ç”¨ï¼Œä¹Ÿå¾—ç›Šäº Maven å·¥å…·å¯¹äºé¡¹ç›®çš„ç®¡ç†ã€‚ æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ª Controller æ¥å®Œæˆäº”ä¸ª Servlet çš„åŠŸèƒ½ï¼Œå¹¶ä¸”é€šè¿‡æ³¨è§£æ¥å®Œæˆé…ç½®ã€‚ é¡¹ç›®æ”¹è¿›é¡¹ç›®å¾ˆç®€å•ï¼Œä»…ä»…ä¹Ÿåªæ˜¯åœ¨æ•°æ®åº“å¢åˆ æ”¹æŸ¥çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªç•Œé¢ï¼Œæˆ‘ä»¬æ¥åŠ¨æ‰‹æ”¹ä¸€æ”¹ã€‚ æ”¹è¿›ä¸€ï¼šå¢åŠ åˆ é™¤æç¤ºç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯åˆ é™¤æç¤ºï¼Œæ²¡æœ‰åˆ é™¤æç¤ºæ˜¯å¾ˆè¦å‘½çš„ä¸€ä»¶äº‹æƒ…ï¼Œå¦‚æœæ‰‹æ»‘äº†ä¸€ä¸‹é‚£å¯èƒ½å°±æ‚²å‰§äº†â€¦. é¦–å…ˆæˆ‘ä»¬åœ¨é¡¶éƒ¨çš„ &lt;head&gt; æ ‡ç­¾ä¸­çš„ &lt;script&gt; ä¸­å¢åŠ ä¸€æ®µä»£ç ï¼š function del() { var msg = &quot;æ‚¨çœŸçš„ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ\\n\\nè¯·ç¡®è®¤ï¼&quot;; if (confirm(msg) == true) { return true; } else { return false; } }ç„¶ååœ¨åˆ é™¤ a æ ‡ç­¾é¡µä¸­å¢åŠ  onclick å±æ€§ï¼š onclick=&quot;javascript:return del();&quot; ....å°±åƒä¸‹é¢è¿™æ ·.... td&gt;&lt;a href=&quot;/deleteStudent?id=${s.id}&quot; onclick=&quot;javascript:return del();&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-trash&quot;&gt;&lt;/span&gt; &lt;/a&gt;&lt;/td&gt;å½“æˆ‘ä»¬åˆ·æ–°é¡µé¢åï¼Œç‚¹å‡»åˆ é™¤å°±ä¼šå¼¹å‡ºæç¤ºä¿¡æ¯ï¼š æ”¹è¿›äºŒï¼šç¼–è¾‘é¡µé¢è‡ªåŠ¨å‹¾é€‰ä¸Šæ€§åˆ«åœ¨å½“å‰çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœç‚¹å‡»ç¼–è¾‘æŒ‰é’®è¿›å…¥åˆ°ç¼–è¾‘é¡µé¢åï¼Œæ€§åˆ«è¿™ä¸ªé€‰é¡¹æ˜¯ç©ºé€‰çš„çŠ¶æ€ï¼Œè¿™å°±å¾ˆlowï¼š è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œåœ¨ editStudent é¡µé¢å¢åŠ ä¸€äº›åˆ¤æ–­å°±å¥½äº†ï¼š ç”¨ &lt;c:if&gt; æ ‡ç­¾æ¥åˆ¤æ–­ sex çš„å€¼ï¼Œç„¶åæ ¹æ®å¯¹åº”çš„å±æ€§å¢åŠ  checked å±æ€§ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨å‹¾é€‰ä¸Šæ‰€å¯¹åº”çš„å±æ€§ï¼š æ”¹è¿›ä¸‰ï¼šç©ºå€¼åˆ¤æ–­æˆ‘ä»¬å…è®¸è®¾ç½®ä¸º null çš„å€¼ä»…ä»…ä¸ºå‡ºç”Ÿæ—¥æœŸï¼Œå…¶ä»–çš„å€¼å‡ä¸å…è®¸å‡ºç°ç©ºå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ å…¥ç©ºå€¼åˆ¤æ–­ï¼š function checkEmpty(id, name) { var value = $(&quot;#&quot; + id).val(); if (value.length == 0) { alert(name + &quot;ä¸èƒ½ä¸ºç©º&quot;); $(&quot;#&quot; + id).focus(); return false; } return true; }ç„¶åå†ä¸º form åˆ›å»ºä¸€ä¸ª id å±æ€§å€¼ä¸º â€œaddFormâ€ å¹¶æ·»åŠ è¿›åˆ¤æ–­ç©ºå€¼çš„æ–¹æ³•ï¼š æ³¨æ„ï¼š è¿™é‡Œéœ€è¦å†™åœ¨ $(function(){}) é‡Œé¢ï¼Œç­‰å¾…æ–‡æ¡£åŠ è½½å®Œæ¯•æ‰èƒ½ç”Ÿæ•ˆã€‚ è¿™é‡Œå¹¶æ²¡æœ‰ä¸º sex å±æ€§åˆ¤æ–­ç©ºå€¼ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ä¸ªç®€å•çš„ä¸º sex æ·»åŠ ä¸€ä¸ªé»˜è®¤å‹¾é€‰é¡¹æ¥çœç•¥ç©ºå€¼çš„åˆ¤æ–­ã€‚ åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨ç¼–è¾‘é¡µé¢ï¼Œé‡‡ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œç©ºå€¼åˆ¤æ–­ï¼š å½“è¿›å…¥ç¼–è¾‘é¡µé¢çš„æ—¶å€™å·²ç»æœ‰é»˜è®¤çš„å‹¾é€‰é¡¹äº†ï¼Œæ‰€ä»¥ sex å€¼ä»ç„¶ä¸éœ€è¦åˆ¤ç©º æœ€åç»™å‡ºé¡¹ç›®åœ°å€ï¼šhttps://github.com/wmyskxz/StudentManager-SSM æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/SSM/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"IDEAæ•´åˆSSMæ¡†æ¶å­¦ä¹ ","slug":"IDEAæ•´åˆSSMæ¡†æ¶å­¦ä¹ ","date":"2018-04-23T00:47:00.000Z","updated":"2020-08-03T08:50:43.448Z","comments":true,"path":"2018/04/23/idea-zheng-he-ssm-kuang-jia-xue-xi/","link":"","permalink":"http://www.wmyskxz.com/2018/04/23/idea-zheng-he-ssm-kuang-jia-xue-xi/","excerpt":"","text":"è®¤è¯† Spring æ¡†æ¶ æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œï¼šè¿™é‡Œ Spring æ¡†æ¶æ˜¯ Java åº”ç”¨æœ€å¹¿çš„æ¡†æ¶ï¼Œå®ƒçš„æˆåŠŸæ¥æºäºç†å¿µï¼Œè€Œä¸æ˜¯æŠ€æœ¯æœ¬èº«ï¼Œå®ƒçš„ç†å¿µåŒ…æ‹¬ IoC (Inversion of Controlï¼Œæ§åˆ¶åè½¬) å’Œ AOP(Aspect Oriented Programmingï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹)ã€‚ ä»€ä¹ˆæ˜¯ Springï¼š Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ DI / IoC å’Œ AOP å®¹å™¨çš„å¼€æºæ¡†æ¶ï¼Œæ¥æºäº Rod Johnson åœ¨å…¶è‘—ä½œã€ŠExpert one on one J2EE design and developmentã€‹ä¸­é˜è¿°çš„éƒ¨åˆ†ç†å¿µå’ŒåŸå‹è¡ç”Ÿè€Œæ¥ã€‚ Spring æå€¡ä»¥â€œæœ€å°‘ä¾µå…¥â€çš„æ–¹å¼æ¥ç®¡ç†åº”ç”¨ä¸­çš„ä»£ç ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥éšæ—¶å®‰è£…æˆ–è€…å¸è½½ Spring é€‚ç”¨èŒƒå›´ï¼šä»»ä½• Java åº”ç”¨ Spring çš„æ ¹æœ¬ä½¿å‘½ï¼šç®€åŒ– Java å¼€å‘ å°½ç®¡ J2EE èƒ½å¤Ÿèµ¶ä¸Š Spring çš„æ­¥ä¼ï¼Œä½† Spring å¹¶æ²¡æœ‰åœæ­¢å‰è¿›ï¼Œ Spring ç»§ç»­åœ¨å…¶ä»–é¢†åŸŸå‘å±•ï¼Œè€Œ J2EE åˆ™åˆšåˆšå¼€å§‹æ¶‰åŠè¿™äº›é¢†åŸŸï¼Œæˆ–è€…è¿˜æ²¡æœ‰å®Œå…¨å¼€å§‹åœ¨è¿™äº›é¢†åŸŸçš„åˆ›æ–°ã€‚ç§»åŠ¨å¼€å‘ã€ç¤¾äº¤ API é›†æˆã€NoSQL æ•°æ®åº“ã€äº‘è®¡ç®—ä»¥åŠå¤§æ•°æ®éƒ½æ˜¯ Spring æ­£åœ¨æ¶‰è¶³å’Œåˆ›æ–°çš„é¢†åŸŸã€‚Spring çš„å‰æ™¯ä¾ç„¶ä¼šå¾ˆç¾å¥½ã€‚ Spring çš„ä¼˜åŠ¿ ä½ä¾µå…¥ / ä½è€¦åˆ ï¼ˆé™ä½ç»„ä»¶ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå®ç°è½¯ä»¶å„å±‚ä¹‹é—´çš„è§£è€¦ï¼‰ å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼ˆåŸºäºåˆ‡é¢å’Œæƒ¯ä¾‹ï¼‰ æ–¹ä¾¿é›†æˆå…¶ä»–æ¡†æ¶ï¼ˆå¦‚MyBatisã€Hibernateï¼‰ é™ä½ Java å¼€å‘éš¾åº¦ Spring æ¡†æ¶ä¸­åŒ…æ‹¬äº† J2EE ä¸‰å±‚çš„æ¯ä¸€å±‚çš„è§£å†³æ–¹æ¡ˆï¼ˆä¸€ç«™å¼ï¼‰ Spring èƒ½å¸®æˆ‘ä»¬åšä»€ä¹ˆâ‘ .Spring èƒ½å¸®æˆ‘ä»¬æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºåŠç»„è£…å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚â‘¡.Spring é¢å‘åˆ‡é¢ç¼–ç¨‹èƒ½å¸®åŠ©æˆ‘ä»¬æ— è€¦åˆçš„å®ç°æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ã€‚â‘¢.Spring èƒ½éå¸¸ç®€å•çš„å¸®æˆ‘ä»¬ç®¡ç†æ•°æ®åº“äº‹åŠ¡ã€‚â‘£.Spring è¿˜æä¾›äº†ä¸ç¬¬ä¸‰æ–¹æ•°æ®è®¿é—®æ¡†æ¶ï¼ˆå¦‚Hibernateã€JPAï¼‰æ— ç¼é›†æˆï¼Œè€Œä¸”è‡ªå·±ä¹Ÿæä¾›äº†ä¸€å¥—JDBCè®¿é—®æ¨¡æ¿æ¥æ–¹ä¾¿æ•°æ®åº“è®¿é—®ã€‚â‘¤.Spring è¿˜æä¾›ä¸ç¬¬ä¸‰æ–¹Webï¼ˆå¦‚Struts1/2ã€JSFï¼‰æ¡†æ¶æ— ç¼é›†æˆï¼Œè€Œä¸”è‡ªå·±ä¹Ÿæä¾›äº†ä¸€å¥—Spring MVCæ¡†æ¶ï¼Œæ¥æ–¹ä¾¿webå±‚æ­å»ºã€‚â‘¥.Spring èƒ½æ–¹ä¾¿çš„ä¸Java EEï¼ˆå¦‚Java Mailã€ä»»åŠ¡è°ƒåº¦ï¼‰æ•´åˆï¼Œä¸æ›´å¤šæŠ€æœ¯æ•´åˆï¼ˆæ¯”å¦‚ç¼“å­˜æ¡†æ¶ï¼‰ã€‚ Spring çš„æ¡†æ¶ç»“æ„ Data Access/Integrationå±‚åŒ…å«æœ‰JDBCã€ORMã€OXMã€JMSå’ŒTransactionæ¨¡å—ã€‚ Webå±‚åŒ…å«äº†Webã€Web-Servletã€WebSocketã€Web-Porletæ¨¡å—ã€‚ AOPæ¨¡å—æä¾›äº†ä¸€ä¸ªç¬¦åˆAOPè”ç›Ÿæ ‡å‡†çš„é¢å‘åˆ‡é¢ç¼–ç¨‹çš„å®ç°ã€‚ Core Container(æ ¸å¿ƒå®¹å™¨)ï¼šåŒ…å«æœ‰Beansã€Coreã€Contextå’ŒSpELæ¨¡å—ã€‚ Testæ¨¡å—æ”¯æŒä½¿ç”¨JUnitå’ŒTestNGå¯¹Springç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚ Spring IoC æ¦‚è¿° æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œï¼šè¿™é‡Œ IoCï¼šInverse of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰ è¯»ä½œâ€œåè½¬æ§åˆ¶â€ï¼Œæ›´å¥½ç†è§£ï¼Œä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±Springæ¡†æ¶æ¥ç®¡ç†ã€‚ æ­£æ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»º åæ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä» Spring å®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†Springæ¡†æ¶ å¥½è±åæ³•åˆ™ï¼šDonâ€™t call me ,Iâ€™ll call you ä¸€ä¸ªä¾‹å­æ§åˆ¶åè½¬æ˜¾ç„¶æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªé²œæ˜çš„ä¾‹å­æ¥è¯´æ˜ã€‚ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œäººä»¬è¦ç”¨åˆ°ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯å»æ‰¾åˆ°è¿™ä»¶ä¸œè¥¿ï¼Œæ¯”å¦‚æƒ³å–æ–°é²œæ©™æ±ï¼Œåœ¨æ²¡æœ‰é¥®å“åº—çš„æ—¥å­é‡Œï¼Œæœ€ç›´è§‚çš„åšæ³•å°±æ˜¯ï¼šä¹°æœæ±æœºã€ä¹°æ©™å­ï¼Œç„¶åå‡†å¤‡å¼€æ°´ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™äº›éƒ½æ˜¯ä½ è‡ªå·±â€œä¸»åŠ¨â€åˆ›é€ çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¯æ©™æ±éœ€è¦ä½ è‡ªå·±åˆ›é€ ã€‚ ç„¶è€Œåˆ°äº†ä»Šæ—¶ä»Šæ—¥ï¼Œç”±äºé¥®å“åº—çš„ç››è¡Œï¼Œå½“æˆ‘ä»¬æƒ³å–æ©™æ±æ—¶ï¼Œç¬¬ä¸€æƒ³æ³•å°±è½¬æ¢æˆäº†æ‰¾åˆ°é¥®å“åº—çš„è”ç³»æ–¹å¼ï¼Œé€šè¿‡ç”µè¯ç­‰æ¸ é“æè¿°ä½ çš„éœ€è¦ã€åœ°å€ã€è”ç³»æ–¹å¼ç­‰ï¼Œä¸‹è®¢å•ç­‰å¾…ï¼Œè¿‡ä¸€ä¼šå„¿å°±ä¼šæœ‰äººé€æ¥æ©™æ±äº†ã€‚ è¯·æ³¨æ„ä½ å¹¶æ²¡æœ‰â€œä¸»åŠ¨â€å»åˆ›é€ æ©™æ±ï¼Œæ©™æ±æ˜¯ç”±é¥®å“åº—åˆ›é€ çš„ï¼Œè€Œä¸æ˜¯ä½ ï¼Œç„¶è€Œä¹Ÿå®Œå…¨è¾¾åˆ°äº†ä½ çš„è¦æ±‚ï¼Œç”šè‡³æ¯”ä½ åˆ›é€ çš„è¦å¥½ä¸Šé‚£ä¹ˆä¸€äº›ã€‚ Spring IoC é˜è¿°è¿™å°±æ˜¯ä¸€ç§æ§åˆ¶åè½¬çš„ç†å¿µï¼Œä¸Šè¿°çš„ä¾‹å­å·²ç»å¾ˆå¥½çš„è¯´æ˜äº†é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥æè¿°ä¸€ä¸‹æ§åˆ¶åè½¬çš„æ¦‚å¿µï¼šæ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆåœ¨ Java ä¸­å¯ä»¥æ˜¯ XML æˆ–è€…æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹ï¼ˆSpringï¼‰å»äº§ç”Ÿæˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚ å¥½å¤„ï¼šé™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆæˆ‘ä»¬ä¸éœ€è¦ç†è§£ä¸€ä¸ªç±»çš„å…·ä½“å®ç°ï¼Œåªéœ€è¦çŸ¥é“å®ƒæœ‰ä»€ä¹ˆç”¨å°±å¥½äº†ï¼ˆç›´æ¥å‘ IoC å®¹å™¨æ‹¿ï¼‰ ä¸»åŠ¨åˆ›å»ºçš„æ¨¡å¼ä¸­ï¼Œè´£ä»»å½’äºå¼€å‘è€…ï¼Œè€Œåœ¨è¢«åŠ¨çš„æ¨¡å¼ä¸‹ï¼Œè´£ä»»å½’äº IoC å®¹å™¨ï¼ŒåŸºäºè¿™æ ·çš„è¢«åŠ¨å½¢å¼ï¼Œæˆ‘ä»¬å°±è¯´å¯¹è±¡è¢«æ§åˆ¶åè½¬äº†ã€‚ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯åè½¬äº†æ§åˆ¶ï¼‰ Spring AOP ç®€ä»‹ æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œï¼šè¿™é‡Œ å¦‚æœè¯´ IoC æ˜¯ Spring çš„æ ¸å¿ƒï¼Œé‚£ä¹ˆé¢å‘åˆ‡é¢ç¼–ç¨‹å°±æ˜¯ Spring æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ä¹‹ä¸€äº†ï¼Œåœ¨æ•°æ®åº“äº‹åŠ¡ä¸­åˆ‡é¢ç¼–ç¨‹è¢«å¹¿æ³›ä½¿ç”¨ã€‚ AOP å³ Aspect Oriented Program é¢å‘åˆ‡é¢ç¼–ç¨‹é¦–å…ˆï¼Œåœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ€æƒ³é‡Œé¢ï¼ŒæŠŠåŠŸèƒ½åˆ†ä¸ºæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼Œå’Œå‘¨è¾¹åŠŸèƒ½ã€‚ æ‰€è°“çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œæ¯”å¦‚ç™»é™†ï¼Œå¢åŠ æ•°æ®ï¼Œåˆ é™¤æ•°æ®éƒ½å«æ ¸å¿ƒä¸šåŠ¡ æ‰€è°“çš„å‘¨è¾¹åŠŸèƒ½ï¼Œæ¯”å¦‚æ€§èƒ½ç»Ÿè®¡ï¼Œæ—¥å¿—ï¼Œäº‹åŠ¡ç®¡ç†ç­‰ç­‰ å‘¨è¾¹åŠŸèƒ½åœ¨ Spring çš„é¢å‘åˆ‡é¢ç¼–ç¨‹AOPæ€æƒ³é‡Œï¼Œå³è¢«å®šä¹‰ä¸ºåˆ‡é¢ åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹AOPçš„æ€æƒ³é‡Œé¢ï¼Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å’Œåˆ‡é¢åŠŸèƒ½åˆ†åˆ«ç‹¬ç«‹è¿›è¡Œå¼€å‘ï¼Œç„¶åæŠŠåˆ‡é¢åŠŸèƒ½å’Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ â€œç¼–ç»‡â€ åœ¨ä¸€èµ·ï¼Œè¿™å°±å«AOP AOP çš„ç›®çš„AOPèƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»ï¼ˆä¾‹å¦‚äº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ä¸€ä¸ªä¾‹å­ä¸ºäº†æ›´å¥½çš„è¯´æ˜ AOP çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªå®é™…ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼š åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒåŒ…ç§Ÿå©†çš„æ ¸å¿ƒä¸šåŠ¡å°±æ˜¯ç­¾åˆåŒï¼Œæ”¶æˆ¿ç§Ÿï¼Œé‚£ä¹ˆè¿™å°±å¤Ÿäº†ï¼Œç°è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†éƒ½æ˜¯é‡å¤ä¸”è¾¹ç¼˜çš„äº‹ï¼Œäº¤ç»™ä¸­ä»‹å•†å°±å¥½äº†ï¼Œè¿™å°±æ˜¯ AOP çš„ä¸€ä¸ªæ€æƒ³ï¼šè®©å…³æ³¨ç‚¹ä»£ç ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼ è®¤è¯† MyBatis æ¡†æ¶ æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œï¼šè¿™é‡Œ MyBatis ç®€ä»‹MyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚ æŒä¹…å±‚ï¼š å¯ä»¥å°†ä¸šåŠ¡æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ï¼Œå…·å¤‡é•¿æœŸå­˜å‚¨èƒ½åŠ›ï¼Œåªè¦ç£ç›˜ä¸æŸåï¼Œåœ¨æ–­ç”µæˆ–è€…å…¶ä»–æƒ…å†µä¸‹ï¼Œé‡æ–°å¼€å¯ç³»ç»Ÿä»ç„¶å¯ä»¥è¯»å–åˆ°è¿™äº›æ•°æ®ã€‚ ä¼˜ç‚¹ï¼šå¯ä»¥ä½¿ç”¨å·¨å¤§çš„ç£ç›˜ç©ºé—´å­˜å‚¨ç›¸å½“é‡çš„æ•°æ®ï¼Œå¹¶ä¸”å¾ˆå»‰ä»· çµæ´»ï¼Œå‡ ä¹å¯ä»¥ä»£æ›¿ JDBCï¼ŒåŒæ—¶æä¾›äº†æ¥å£ç¼–ç¨‹ã€‚ ç¼ºç‚¹ï¼šæ…¢ï¼ˆç›¸å¯¹äºå†…å­˜è€Œè¨€ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨ MyBatisåœ¨æˆ‘ä»¬ä¼ ç»Ÿçš„ JDBC ä¸­ï¼Œæˆ‘ä»¬é™¤äº†éœ€è¦è‡ªå·±æä¾› SQL å¤–ï¼Œè¿˜å¿…é¡»æ“ä½œ Connectionã€Statmentã€ResultSetï¼Œä¸ä»…å¦‚æ­¤ï¼Œä¸ºäº†è®¿é—®ä¸åŒçš„è¡¨ï¼Œä¸åŒå­—æ®µçš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦äº›å¾ˆå¤šé›·åŒæ¨¡æ¿åŒ–çš„ä»£ç ï¼Œé—²çš„ç¹çåˆæ¯ç‡¥ã€‚ è€Œæˆ‘ä»¬åœ¨ä½¿ç”¨äº† MyBatis ä¹‹åï¼Œåªéœ€è¦æä¾› SQL è¯­å¥å°±å¥½äº†ï¼Œå…¶ä½™çš„è¯¸å¦‚ï¼šå»ºç«‹è¿æ¥ã€æ“ä½œ Statmentã€ResultSetï¼Œå¤„ç† JDBC ç›¸å…³å¼‚å¸¸ç­‰ç­‰éƒ½å¯ä»¥äº¤ç»™ MyBatis å»å¤„ç†ï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹äºæ˜¯å¯ä»¥å°±æ­¤é›†ä¸­åœ¨ SQL è¯­å¥ä¸Šï¼Œå…³æ³¨åœ¨å¢åˆ æ”¹æŸ¥è¿™äº›æ“ä½œå±‚é¢ä¸Šã€‚ å¹¶ä¸” MyBatis æ”¯æŒä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ è®¤è¯† Spring MVC æ¡†æ¶ æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è¿™é‡Œï¼šè¿™é‡Œ MVC è®¾è®¡æ¦‚è¿°åœ¨æ—©æœŸ Java Web çš„å¼€å‘ä¸­ï¼Œç»Ÿä¸€æŠŠæ˜¾ç¤ºå±‚ã€æ§åˆ¶å±‚ã€æ•°æ®å±‚çš„æ“ä½œå…¨éƒ¨äº¤ç»™ JSP æˆ–è€… JavaBean æ¥è¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Model1ï¼š å‡ºç°çš„å¼Šç«¯ï¼š JSP å’Œ Java Bean ä¹‹é—´ä¸¥é‡è€¦åˆï¼ŒJava ä»£ç å’Œ HTML ä»£ç ä¹Ÿè€¦åˆåœ¨äº†ä¸€èµ· è¦æ±‚å¼€å‘è€…ä¸ä»…è¦æŒæ¡ Java ï¼Œè¿˜è¦æœ‰é«˜è¶…çš„å‰ç«¯æ°´å¹³ å‰ç«¯å’Œåç«¯ç›¸äº’ä¾èµ–ï¼Œå‰ç«¯éœ€è¦ç­‰å¾…åç«¯å®Œæˆï¼Œåç«¯ä¹Ÿä¾èµ–å‰ç«¯å®Œæˆï¼Œæ‰èƒ½è¿›è¡Œæœ‰æ•ˆçš„æµ‹è¯• ä»£ç éš¾ä»¥å¤ç”¨ æ­£å› ä¸ºä¸Šé¢çš„ç§ç§å¼Šç«¯ï¼Œæ‰€ä»¥å¾ˆå¿«è¿™ç§æ–¹å¼å°±è¢« Servlet + JSP + Java Bean æ‰€æ›¿ä»£äº†ï¼Œæ—©æœŸçš„ MVC æ¨¡å‹ï¼ˆModel2ï¼‰å°±åƒä¸‹å›¾è¿™æ ·ï¼š é¦–å…ˆç”¨æˆ·çš„è¯·æ±‚ä¼šåˆ°è¾¾ Servletï¼Œç„¶åæ ¹æ®è¯·æ±‚è°ƒç”¨ç›¸åº”çš„ Java Beanï¼Œå¹¶æŠŠæ‰€æœ‰çš„æ˜¾ç¤ºç»“æœäº¤ç»™ JSP å»å®Œæˆï¼Œè¿™æ ·çš„æ¨¡å¼æˆ‘ä»¬å°±ç§°ä¸º MVC æ¨¡å¼ã€‚ M ä»£è¡¨ æ¨¡å‹ï¼ˆModelï¼‰æ¨¡å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¨¡å‹å°±æ˜¯æ•°æ®ï¼Œå°±æ˜¯ dao,bean V ä»£è¡¨ è§†å›¾ï¼ˆViewï¼‰è§†å›¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å°±æ˜¯ç½‘é¡µ, JSPï¼Œç”¨æ¥å±•ç¤ºæ¨¡å‹ä¸­çš„æ•°æ® C ä»£è¡¨ æ§åˆ¶å™¨ï¼ˆcontroller)æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ æ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯æŠŠä¸åŒçš„æ•°æ®(Model)ï¼Œæ˜¾ç¤ºåœ¨ä¸åŒçš„è§†å›¾(View)ä¸Šï¼ŒServlet æ‰®æ¼”çš„å°±æ˜¯è¿™æ ·çš„è§’è‰²ã€‚ æ‰©å±•é˜…è¯»ï¼šWebå¼€å‘æ¨¡å¼ Spring MVC çš„æ¶æ„ä¸ºè§£å†³æŒä¹…å±‚ä¸­ä¸€ç›´æœªå¤„ç†å¥½çš„æ•°æ®åº“äº‹åŠ¡çš„ç¼–ç¨‹ï¼Œåˆä¸ºäº†è¿åˆ NoSQL çš„å¼ºåŠ¿å´›èµ·ï¼ŒSpring MVC ç»™å‡ºäº†æ–¹æ¡ˆï¼š ä¼ ç»Ÿçš„æ¨¡å‹å±‚è¢«æ‹†åˆ†ä¸ºäº†ä¸šåŠ¡å±‚(Service)å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAO,Data Access Objectï¼‰ã€‚åœ¨ Service ä¸‹å¯ä»¥é€šè¿‡ Spring çš„å£°æ˜å¼äº‹åŠ¡æ“ä½œæ•°æ®è®¿é—®å±‚ï¼Œè€Œåœ¨ä¸šåŠ¡å±‚ä¸Šè¿˜å…è®¸æˆ‘ä»¬è®¿é—® NoSQL ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³å¼‚å†›çªèµ·çš„ NoSQL çš„ä½¿ç”¨äº†ï¼Œå®ƒå¯ä»¥å¤§å¤§æé«˜äº’è”ç½‘ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ç‰¹ç‚¹ï¼šç»“æ„æ¾æ•£ï¼Œå‡ ä¹å¯ä»¥åœ¨ Spring MVC ä¸­ä½¿ç”¨å„ç±»è§†å›¾æ¾è€¦åˆï¼Œå„ä¸ªæ¨¡å—åˆ†ç¦»ä¸ Spring æ— ç¼é›†æˆ Spring + Spring MVC + MyBatis æ•´åˆå¼€å‘è®¤è¯† MavenMaven çš„ç¿»è¯‘ä¸º â€œä¸“å®¶â€ã€â€œè¡Œå®¶â€ ï¼Œæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„é¡¹ç›®ç®¡ç†å·¥å…·ã€‚ ä¸»è¦ç”¨äºï¼šåŸºäº Java å¹³å°çš„é¡¹ç›®ï¼ˆMaven æœ¬èº«ä¹Ÿæ˜¯ Java ç¼–å†™çš„ï¼‰çš„æ„å»ºã€ä¾èµ–åŒ…ç®¡ç†å’Œé¡¹ç›®ä¿¡æ¯ç®¡ç†ã€‚ Maven ä¸»è¦ç”¨å¤„ä¸€ï¼šç›¸åŒçš„é¡¹ç›®ç»“æ„Maven æä¾›äº†ä¸€ç§æ ‡å‡†çš„é¡¹ç›®ç›®å½•ç»“æ„ï¼Œæµ‹è¯•å‘½åè§„åˆ™ç­‰é¡¹ç›®çš„æœ€ä½³å®è·µæ–¹æ¡ˆï¼Œç»Ÿä¸€äº†ä¸åŒé¡¹ç›®çš„å­¦ä¹ æˆæœ¬ï¼ˆçº¦å®šå¤§äºé…ç½®ï¼‰ï¼š åœ¨ IDEA ä¸‹åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ Maven é¡¹ç›®ï¼Œæœ‰ç€ä¸Šé¢è¿™æ ·ç›¸åŒçš„ç»“æ„ï¼š æœ‰ä¸€ä¸ª pom.xml ç”¨äºç»´æŠ¤å½“å‰é¡¹ç›®æ‰€ä¾èµ–çš„ jar åŒ… æ‰€æœ‰çš„ Java ä»£ç éƒ½æ”¾åœ¨ src/main/java ç›®å½•ä¸‹ æ‰€æœ‰çš„æµ‹è¯•ä»£ç éƒ½æ”¾åœ¨ src/test/java ç›®å½•ä¸‹ Maven ä¸»è¦ç”¨å¤„äºŒï¼šç»Ÿä¸€ç»´æŠ¤ jar åŒ…Mavenèƒ½æä¾›ä¸€ç§é¡¹ç›®çš„ä¾èµ–é…ç½®ï¼Œé…ç½®å¥½çš„é¡¹ç›®ï¼ŒMaven èƒ½è‡ªåŠ¨çš„ä» Maven çš„ä¸­å¤®ä»“åº“ä¸­å¸®æˆ‘ä»¬ä¸‹è½½å¹¶ç®¡ç†é¡¹ç›®ä¾èµ–çš„ jar åŒ…ï¼Œå¹¶ä¸”è¿˜èƒ½è‡ªåŠ¨çš„ç®¡ç†è¿™äº› jar åŒ…ä¾èµ–çš„å…¶ä»– jar åŒ… æ¯”å¦‚è¯´æœ‰ 3 ä¸ª Java é¡¹ç›®ï¼Œè¿™äº›é¡¹ç›®éƒ½ä¸æ˜¯ maven é£æ ¼ã€‚é‚£ä¹ˆè¿™3ä¸ªé¡¹ç›®ï¼Œå°±ä¼šå„è‡ªç»´æŠ¤ä¸€å¥—jaråŒ…ã€‚ è€Œå…¶ä¸­æœ‰äº›jaråŒ…æ˜¯ç›¸åŒçš„ã€‚ è€Œ maven é£æ ¼çš„é¡¹ç›®ï¼Œé¦–å…ˆæŠŠæ‰€æœ‰çš„ jar åŒ…éƒ½æ”¾åœ¨â€ä»“åº“â€œ é‡Œï¼Œç„¶åå“ªä¸ªé¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª jar åŒ…ï¼Œåªéœ€è¦ç»™å‡º jar åŒ…çš„åç§°å’Œç‰ˆæœ¬å·å°±è¡Œäº†ã€‚ è¿™æ · jar åŒ…å°±å®ç°äº†å…±äº« å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨ pom.xml é‡Œï¼Œè¡¨ç¤ºç”¨åˆ°äº† mysql çš„jaråŒ…ï¼Œç‰ˆæœ¬å·æ˜¯ 5.1.30ã€‚ å¼•è‡ªï¼šhow2j.cn-Mavenæ•™ç¨‹ ä½¿ç”¨ Maven æ„å»º SSM é¡¹ç›®å¦‚æœå¯¹äº Maven ä¸ç†Ÿæ‚‰çš„ç«¥é‹å¯ä»¥å»ä¸Šé¢çš„é“¾æ¥å­¦ä¹ ä¸€ä¸‹ Maven çš„ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯æˆ‘é…ç½®å¥½äº† Maven çš„ IDEA ç¯å¢ƒä¸‹çš„æ„å»ºè¿‡ç¨‹ã€‚ ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Maven webapp é¡¹ç›®é¦–å…ˆæ–°å»ºå·¥ç¨‹ï¼Œé€‰æ‹© Maven æ ‡ç­¾ï¼Œç„¶åå‹¾é€‰ä¸Šã€Create from archetypeã€‘é€‰æ‹© webappï¼š ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå¡«å†™ä¸Šã€GroupIdã€‘å’Œã€ArtifactIdã€‘ï¼š GroupIdï¼šé¡¹ç›®ç»„ç»‡å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå®é™…å¯¹åº” JAVA çš„åŒ…çš„ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ main ç›®å½•ä¸‹ java çš„ç›®å½•ç»“æ„ï¼ˆåŒ…ï¼‰ AritifactIdï¼šé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå®é™…å¯¹åº”é¡¹ç›®çš„åç§°ï¼Œå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•çš„åç§° å®é™…ä¸Šä½ å¯ä»¥ä¹±å¡«ä¸Šè¯•è¯•ï¼Œæˆ‘å°±ä¸ä¹±å¡«äº† ç¡®è®¤é¡¹ç›®è·¯å¾„ï¼Œè¿™ä¸€æ­¥ä½ å¯ä»¥çœ‹åˆ° Maven é…ç½®ä¸­çš„å‚æ•°ï¼Œä¸éœ€è¦åšæ”¹åŠ¨ï¼Œç›´æ¥ä¸‹ä¸€æ­¥å°±å¯ä»¥ï¼ˆå›¾ä¸­çš„è·¯å¾„æ˜¯æˆ‘é…ç½®çš„æœ¬åœ° Maven ä»“åº“çš„åœ°å€ï¼‰ï¼š ç¡®è®¤é¡¹ç›®åç§°ï¼Œç‚¹å‡»ã€Finishã€‘å³å¯ï¼š ç­‰å¾…ä¸€ä¼šå„¿ï¼Œæ§åˆ¶å°å°±ä¼šæœ‰åˆ›å»ºæˆåŠŸçš„æç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬æŠŠã€Enable Auto-Importã€‘ç‚¹ä¸Šï¼Œè¿™ä¸ªæç¤ºä¼šåœ¨æ¯æ¬¡ pom.xml æœ‰æ”¹åŠ¨æ—¶å‡ºç°ï¼Œè‡ªåŠ¨å¯¼å…¥ï¼Œçœæ‰éº»çƒ¦ï¼š ç¬¬äºŒæ­¥ï¼šæ­å»ºé¡¹ç›®ç›®å½•ç»“æ„ä¸‹é¢å°±æ˜¯ Maven é£æ ¼çš„ webapp çš„é»˜è®¤ç›®å½•ç»“æ„ï¼š æ³¨æ„ï¼š webapp æ˜¯é»˜è®¤æ²¡æœ‰ java æºæ–‡ä»¶ä¹Ÿæ²¡æœ‰ test ç›®å½•çš„ã€‚ éµå¾ª Maven çš„ç»Ÿä¸€é¡¹ç›®ç»“æ„ï¼Œæˆ‘ä»¬æ­å»ºå‡ºé¡¹ç›®çš„å®Œæ•´ç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨ Log4j æ¥è¾“å‡ºæ—¥å¿—ï¼Œè€Œæ˜¯ä½¿ç”¨ logback æç¤ºï¼šæˆ‘ä»¬å¯ä»¥åœ¨ IDEA ä¸­å³é”®ç›®å½•ç„¶åé€‰æ‹©ã€Make Directory asã€‘ï¼Œè®© IDEA è¯†åˆ«ä¸åŒçš„ç›®å½•ä½œç”¨ è¿™é‡Œçš„ç›®å½•å»ºå¥½ä¹‹åè¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹ï¼Œè®© IDEA è¯†åˆ«ç›®å½•ä½œç”¨ï¼Œé€‰æ‹©ã€Fileã€‘&gt;ã€Project Structureã€‘ï¼š è®¾ç½®å¥½ä¹‹åç‚¹å‡» OKï¼Œå³å®Œæˆäº†é¡¹ç›®ç›®å½•çš„æ­å»ºã€‚ ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ–‡ä»¶å†…å®¹åœ¨ã€pom.xmlã€‘æ–‡ä»¶ä¸­å£°æ˜ä¾èµ–çš„ jar åŒ… ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;SSM&lt;/name&gt; &lt;groupId&gt;cn.wmyskxz&lt;/groupId&gt; &lt;artifactId&gt;SSM&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt; &lt;version&gt;6.1.7&lt;/version&gt; &lt;configuration&gt; &lt;connectors&gt; &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt; &lt;port&gt;8888&lt;/port&gt; &lt;maxIdleTime&gt;30000&lt;/maxIdleTime&gt; &lt;/connector&gt; &lt;/connectors&gt; &lt;webAppSourceDirectory&gt;${project.build.directory}/${pom.artifactId}-${pom.version} &lt;/webAppSourceDirectory&gt; &lt;contextPath&gt;/&lt;/contextPath&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;!-- è®¾ç½®é¡¹ç›®ç¼–ç ç¼–ç  --&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;!-- springç‰ˆæœ¬å· --&gt; &lt;spring.version&gt;4.3.5.RELEASE&lt;/spring.version&gt; &lt;!-- mybatisç‰ˆæœ¬å· --&gt; &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- java ee --&gt; &lt;dependency&gt; &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;7.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å®ç°slf4jæ¥å£å¹¶æ•´åˆ --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- JSON --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.41&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;${mybatis.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis/springæ•´åˆåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt;åœ¨ã€web.xmlã€‘ä¸­å£°æ˜ç¼–ç è¿‡æ»¤å™¨å¹¶é…ç½® DispatcherServlet ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt; &lt;!-- ç¼–ç è¿‡æ»¤å™¨ --&gt; &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;!-- é…ç½®DispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- é…ç½®springMVCéœ€è¦åŠ è½½çš„é…ç½®æ–‡ä»¶--&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;async-supported&gt;true&lt;/async-supported&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt; &lt;!-- åŒ¹é…æ‰€æœ‰è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt;åœ¨ã€spring-mybatis.xmlã€‘ä¸­å®Œæˆ spring å’Œ mybatis çš„é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt; &lt;!-- æ‰«æserviceåŒ…ä¸‹æ‰€æœ‰ä½¿ç”¨æ³¨è§£çš„ç±»å‹ --&gt; &lt;context:component-scan base-package=&quot;cn.wmyskxz.service&quot;/&gt; &lt;!-- é…ç½®æ•°æ®åº“ç›¸å…³å‚æ•°propertiesçš„å±æ€§ï¼š${url} --&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt; &lt;property name=&quot;maxPoolSize&quot; value=&quot;${c3p0.maxPoolSize}&quot;/&gt; &lt;property name=&quot;minPoolSize&quot; value=&quot;${c3p0.minPoolSize}&quot;/&gt; &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;${c3p0.autoCommitOnClose}&quot;/&gt; &lt;property name=&quot;checkoutTimeout&quot; value=&quot;${c3p0.checkoutTimeout}&quot;/&gt; &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;${c3p0.acquireRetryAttempts}&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;!-- æ‰«æentityåŒ… ä½¿ç”¨åˆ«å --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;cn.wmyskxz.entity&quot;/&gt; &lt;!-- æ‰«æsqlé…ç½®æ–‡ä»¶:mapperéœ€è¦çš„xmlæ–‡ä»¶ --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;!-- æ³¨å…¥sqlSessionFactory --&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; &lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt; &lt;property name=&quot;basePackage&quot; value=&quot;cn.wmyskxz.dao&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;!-- é…ç½®åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡ --&gt; &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt; &lt;/beans&gt;åœ¨ã€spring-mvc.xmlã€‘ä¸­å®Œæˆ Spring MVC çš„ç›¸å…³é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt; &lt;!-- æ‰«æwebç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package=&quot;cn.wmyskxz.controller&quot;/&gt; &lt;!-- å¼€å¯SpringMVCæ³¨è§£æ¨¡å¼ --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- é™æ€èµ„æºé»˜è®¤servleté…ç½® --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®jsp æ˜¾ç¤ºViewResolver --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt;åœ¨ã€jdbc.propertiesã€‘ä¸­é…ç½® c3p0 æ•°æ®åº“è¿æ¥æ± ï¼š jdbc.driver=com.mysql.jdbc.Driver #æ•°æ®åº“åœ°å€ jdbc.url=jdbc:mysql://localhost:3306/ssm?useUnicode=true&amp;characterEncoding=utf8 #ç”¨æˆ·å jdbc.username=root #å¯†ç  jdbc.password=root #æœ€å¤§è¿æ¥æ•° c3p0.maxPoolSize=30 #æœ€å°è¿æ¥æ•° c3p0.minPoolSize=10 #å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit c3p0.autoCommitOnClose=false #è·å–è¿æ¥è¶…æ—¶æ—¶é—´ c3p0.checkoutTimeout=10000 #å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° c3p0.acquireRetryAttempts=2åœ¨ã€logback.xmlã€‘ä¸­å®Œæˆæ—¥å¿—è¾“å‡ºçš„ç›¸å…³é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;configuration debug=&quot;true&quot;&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;root level=&quot;debug&quot;&gt; &lt;appender-ref ref=&quot;STDOUT&quot;/&gt; &lt;/root&gt; &lt;/configuration&gt;ä»¥ä¸Šå°±å®Œæˆäº†åŸºæœ¬çš„ç›¸å…³é…ç½®ï¼š æ·»åŠ è¿›äº† SSM é¡¹ç›®æ‰€éœ€è¦çš„ jar åŒ… é…ç½®å¥½äº† spring/mybatis/spring MVC çš„ç›¸å…³é…ç½®ä¿¡æ¯ï¼ˆè‡ªåŠ¨æ‰«æ cn.wmyskxz åŒ…ä¸‹çš„å¸¦æœ‰æ³¨è§£çš„ç±»ï¼‰ é€šè¿‡ xml é…ç½®çš„æ–¹å¼é…ç½®å¥½äº†æ—¥å¿—å’Œæ•°æ®åº“ ç¬¬å››æ­¥ï¼šæµ‹è¯• SSM æ¡†æ¶å‡†å¤‡å¥½ç”¨æ¥æµ‹è¯•çš„æ•°æ®åº“ï¼š DROP DATABASE IF EXISTS ssm; CREATE DATABASE ssmDEFAULT CHARACTER SET utf8; use ssm; CREATE TABLE user( id int(11) NOT NULL AUTO_INCREMENT, username varchar(50) NOT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; INSERT INTO user VALUES(1,&#39;æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„&#39;);æ¥ä¸‹æ¥åœ¨ã€cn.wmyskxz.entityã€‘åŒ…ä¸‹åˆ›å»ºå¥½å¯¹åº”çš„å®ä½“ç±» User ï¼š package cn.wmyskxz.entity; /** * User å®ä½“ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸Šåˆ 9:23 */ public class User { private int id; private String username; /* getter and setter */ } åœ¨ã€cn.wmyskxz.daoã€‘åŒ…ä¸‹åˆ›å»ºå¥½ Dao æ¥å£ï¼š package cn.wmyskxz.dao; import cn.wmyskxz.entity.User; public interface UserDao { // æ ¹æ® id å¯»æ‰¾å¯¹åº”çš„ User User findUserById(int id); }åœ¨ã€resources/mapperã€‘ä¸‹ç¼–å†™ UserDao.xml æ˜ å°„æ–‡ä»¶ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;!-- è®¾ç½®ä¸ºIUserDaoæ¥å£æ–¹æ³•æä¾›sqlè¯­å¥é…ç½® --&gt; &lt;mapper namespace=&quot;cn.wmyskxz.dao.UserDao&quot;&gt; &lt;select id=&quot;findUserById&quot; resultType=&quot;cn.wmyskxz.entity.User&quot; parameterType=&quot;int&quot;&gt; SELECT * FROM user WHERE id = #{id} &lt;/select&gt; &lt;/mapper&gt;åœ¨ç¼–å†™å¥½æ¯ä¸€ä¸ª Dao çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹å®ƒè¿›è¡Œæµ‹è¯•ï¼Œåœ¨ã€test/javaã€‘ä¸‹åˆ›å»ºä¸€ä¸ªã€UserDaoTestã€‘çš„æµ‹è¯•ç±»ï¼š import cn.wmyskxz.dao.UserDao; import cn.wmyskxz.entity.User; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; /** * UserDao çš„æµ‹è¯•ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸Šåˆ 9:54 */ @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration({\"classpath:spring-mybatis.xml\"}) public class UserDaoTest { @Autowired private UserDao userDao; @Test public void testFindUserById() { int id = 1; User user = userDao.findUserById(id); System.out.println(user.getId() + \":\" + user.getUsername()); } } è¿è¡Œæµ‹è¯•ä»£ç ï¼Œèƒ½å¤Ÿè·å–åˆ°æ­£ç¡®çš„ä¿¡æ¯ï¼š æ¥ç€åœ¨ã€cn.wmyskxz.serviceã€‘åŒ…ä¸‹ç¼–å†™å¥½å¯¹åº”çš„ UserService æ¥å£ï¼š package cn.wmyskxz.service; import cn.wmyskxz.entity.User; public interface UserService { // æ ¹æ® id å¯»æ‰¾å¯¹åº”çš„ User public User findUserById(int id); }å’Œå¯¹åº”çš„å®ç°ç±»ï¼š package cn.wmyskxz.service; import cn.wmyskxz.dao.UserDao; import cn.wmyskxz.entity.User; import org.springframework.stereotype.Service; import javax.annotation.Resource; /** * UserService å¯¹åº”çš„å®ç°ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸Šåˆ 9:31 */ @Service(&quot;userService&quot;) public class UserServiceImpl implements UserService { @Resource private UserDao userDao; public User findUserById(int id) { return userDao.findUserById(id); } }åœ¨ã€cn.wmyskxz.controllerã€‘ä¸‹åˆ›å»ºã€UserControllerã€‘æ§åˆ¶ç±»ï¼š package cn.wmyskxz.controller; import cn.wmyskxz.entity.User; import cn.wmyskxz.service.UserService; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.RequestMapping; import javax.annotation.Resource; /** * User çš„æ§åˆ¶ç±» * * @author: @æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ * @create: 2018-04-23-ä¸Šåˆ 9:58 */ @Controller @RequestMapping(&quot;&quot;) public class UserController { @Resource private UserService userService; @RequestMapping(&quot;/findUser&quot;) public String findUser(Model model) { int id = 1; User user = this.userService.findUserById(id); model.addAttribute(&quot;user&quot;, user); return &quot;index&quot;; } }æœ€ååœ¨ã€WEB-INF/viewsã€‘ä¸‹åˆ›å»º index.jsp ç”¨äºæ¥æ”¶å¹¶æ˜¾ç¤ºæ•°æ®ï¼š &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;SSM æ¡†æ¶æ•´åˆ&lt;/title&gt; &lt;/head&gt; &lt;body&gt; ${user.id}ï¼š${user.username} &lt;/body&gt; &lt;/html&gt;é…ç½®å¥½ Tomcat æœåŠ¡å™¨ï¼Œè¿è¡Œå¹¶åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼šlocalhost/findUser å³å®Œæˆäº† SSM çš„æ•´åˆï¼ å‚è€ƒèµ„æ–™ï¼šä½¿ç”¨idea2017æ­å»ºSSMæ¡†æ¶æœ€å¼€å§‹æƒ³è¦æ‰‹åŠ¨æ·»åŠ  jar åŒ…ä¾èµ–åˆ›å»ºï¼Œä½†æ˜¯è°ƒäº† 1 å¤©çš„ bug ä¹Ÿä¸é€šï¼Œæ¢äº†å¾ˆå¤š jar åŒ…â€¦æœ‰ç‚¹å´©æºƒï¼Œåæ¥ç›´æ¥ä½¿ç”¨ Maven åˆ›å»ºå°±æˆåŠŸäº†â€¦å‚è€ƒäº†ä¸Šé¢é“¾æ¥çš„æ–‡ç« ã€‚ SSM æ¡†æ¶æ¶æ„å›¾ä¸ºäº†æ›´åŠ èƒ½ç†è§£ SSM å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œä¸‹é¢ç»™å‡ºä¸€å¼  SSM ç³»ç»Ÿæ¶æ„å›¾ï¼š é€šå¸¸æˆ‘ä»¬è¿˜ä¼šåœ¨ Controller å’Œ Service å±‚ä¸­å¼•å…¥å·¥å‚æ¨¡å¼ï¼Œè¿™é‡Œä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ SSM é¡¹ç›®ï¼Œç”¨ä»¥æµ‹è¯•è€Œå·²ï¼Œå¹¶ä¸”æ²¡æœ‰é…ç½® MyBatis çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦é…ç½®åœ¨ resource ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª SqlMapConfig.xml æ–‡ä»¶å¹¶ä¸”å®Œæˆ &lt;settings&gt; çš„ç›¸å…³é…ç½®å³å¯ã€‚ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring MVC + MyBatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜ã€‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"MyBatisä¸Springæ•´åˆ","slug":"MyBatisä¸Springæ•´åˆ","date":"2018-04-18T00:44:00.000Z","updated":"2020-08-03T08:50:14.288Z","comments":true,"path":"2018/04/18/mybatis-yu-spring-zheng-he/","link":"","permalink":"http://www.wmyskxz.com/2018/04/18/mybatis-yu-spring-zheng-he/","excerpt":"","text":"MyBatisâ€”Spring é¡¹ç›®ç›®å‰å¤§éƒ¨åˆ†çš„ Java äº’è”ç½‘é¡¹ç›®ï¼Œéƒ½æ˜¯ç”¨ Spring MVC + Spring + MyBatis æ­å»ºå¹³å°çš„ã€‚ ä½¿ç”¨ Spring IoC å¯ä»¥æœ‰æ•ˆçš„ç®¡ç†å„ç±»çš„ Java èµ„æºï¼Œè¾¾åˆ°å³æ’å³æ‹”çš„åŠŸèƒ½ï¼›é€šè¿‡ Spring AOP æ¡†æ¶ï¼Œæ•°æ®åº“äº‹åŠ¡å¯ä»¥å§”æ‰˜ç»™ Spring ç®¡ç†ï¼Œæ¶ˆé™¤å¾ˆå¤§ä¸€éƒ¨åˆ†çš„äº‹åŠ¡ä»£ç ï¼Œé…åˆ MyBatis çš„é«˜çµæ´»ã€å¯é…ç½®ã€å¯ä¼˜åŒ– SQL ç­‰ç‰¹æ€§ï¼Œå®Œå…¨å¯ä»¥æ„å»ºé«˜æ€§èƒ½çš„å¤§å‹ç½‘ç«™ã€‚ æ¯«æ— ç–‘é—®ï¼ŒMyBatis å’Œ Spring ä¸¤å¤§æ¡†æ¶å·²ç»æˆäº† Java äº’è”ç½‘æŠ€æœ¯ä¸»æµæ¡†æ¶ç»„åˆï¼Œå®ƒä»¬ç»å—ä½äº†å¤§æ•°æ®é‡å’Œå¤§æ‰¹é‡è¯·æ±‚çš„è€ƒéªŒï¼Œåœ¨äº’è”ç½‘ç³»ç»Ÿä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚ä½¿ç”¨ MyBatis-Spring ä½¿å¾—ä¸šåŠ¡å±‚å’Œæ¨¡å‹å±‚å¾—åˆ°äº†æ›´å¥½çš„åˆ†ç¦»ï¼Œä¸æ­¤åŒæ—¶ï¼Œåœ¨ Spring ç¯å¢ƒä¸­ä½¿ç”¨ MyBatis ä¹Ÿæ›´åŠ ç®€å•ï¼ŒèŠ‚çœäº†ä¸å°‘ä»£ç ï¼Œç”šè‡³å¯ä»¥ä¸ç”¨ SqlSessionFactoryã€ SqlSession ç­‰å¯¹è±¡ï¼Œå› ä¸º MyBatis-Spring ä¸ºæˆ‘ä»¬å°è£…äº†å®ƒä»¬ã€‚ æ‘˜è‡ªï¼šã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæµ‹è¯•å·¥ç¨‹ç¬¬ä¸€æ­¥ï¼Œé¦–å…ˆåœ¨ IDEA ä¸­æ–°å»ºä¸€ä¸ªåä¸ºã€MybatisAndSpringã€‘çš„ WebProject å·¥ç¨‹ï¼š ç„¶ååœ¨ã€srcã€‘ä¸­åˆ›å»º 4 ä¸ªç©ºåŒ…ï¼š cn.wmyskxz.daoï¼ˆæ”¾ç½® DAO æ•°æ®äº¤äº’å±‚å¤„ç†ç±»ï¼‰ cn.wmyskxz.mapperï¼ˆæ”¾ç½® Mapper ä»£ç†æ¥å£ï¼‰ cn.wmyskxz.pojoï¼ˆæ”¾ç½® Java å®ä½“ç±»ï¼‰ cn.wmyskxz.testï¼ˆæ”¾ç½®æµ‹è¯•ç±»ï¼‰ æ¥ç€æ–°å»ºæºæ–‡ä»¶å¤¹ã€configã€‘ï¼Œç”¨äºæ”¾ç½®å„ç§èµ„æºé…ç½®æ–‡ä»¶ï¼š åœ¨ã€config / mybatisã€‘ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„åä¸º â€œSqlMapConfig.xmlâ€ çš„ MyBatis å…¨å±€é…ç½®æ–‡ä»¶ åœ¨ã€config / springã€‘ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„åä¸º â€œapplicationContext.xmlâ€ çš„ Spring èµ„æºé…ç½®æ–‡ä»¶ åœ¨ã€config / sqlmapã€‘ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„åä¸º â€œUserMapper.xmlâ€ çš„ Mapper æ˜ å°„æ–‡ä»¶ã€‚ åœ¨ã€configã€‘ä¸‹åˆ›å»ºä¸¤ä¸ª properties å±æ€§æ–‡ä»¶ï¼Œåˆ†åˆ«ä¸º â€œdb.propertiesâ€ å’Œ â€œlog4j.propertiesâ€ï¼Œç”¨äºæ•°æ®åº“è¿æ¥å’Œæ—¥å¿—ç³»ç»Ÿå‚æ•°è®¾ç½®ã€‚ å†åœ¨ã€webã€‘æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªã€WEB-INFã€‘é»˜è®¤å®‰å…¨æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸‹åˆ›å»ºä¸€ä¸ªã€classesã€‘å’Œã€libã€‘ï¼Œå¹¶å°†é¡¹ç›®çš„è¾“å‡ºä½ç½®ï¼Œæ”¹åœ¨ã€classesã€‘ä¸‹ï¼š å·¥ç¨‹çš„å®Œæ•´åˆå§‹ç»“æ„å¦‚ä¸‹ï¼š ç¬¬äºŒæ­¥ï¼šå¼•å…¥ä¾èµ– jar åŒ…ç¬¬äºŒæ­¥ï¼Œå°±æ˜¯è¦å‡†å¤‡é¡¹ç›®çš„ä¾èµ– jar åŒ…ï¼š MyBatis çš„åŒ…ï¼ˆMyBatis 3.4.6ï¼‰ Spring çš„ jar åŒ…ï¼ˆSpring 4.3.15ï¼‰ MyBatis ä¸ Spring çš„æ•´åˆ jar åŒ…ï¼ˆmybatis-spring 1.3.2ï¼‰ mysql-connector-java-5.1.21.jar junit-4.12.jar åœ¨ã€WEB-INFã€‘æ–‡ä»¶å¤¹ä¸‹çš„ã€libã€‘æ–‡ä»¶å¤¹ä¸­æ”¾ç½®ä¸Šé¢åˆ—ä¸¾çš„ jar åŒ…ï¼Œç„¶åæ·»åŠ ä¾èµ–ã€‚ ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ Spring é…ç½®æ–‡ä»¶ç¬¬ä¸‰æ­¥ï¼Œç¼–å†™ Spring çš„é…ç½®æ–‡ä»¶ï¼š åŠ è½½æ•°æ®åº“è¿æ¥æ–‡ä»¶ â€œdb.propertiesâ€ ä¸­çš„æ•°æ®ï¼Œå»ºç«‹æ•°æ®æº é…ç½® sqlSessionFactory ä¼šè¯å·¥å‚å¯¹è±¡ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- åŠ è½½é…ç½®æ–‡ä»¶ --&gt; &lt;context:property-placeholder location=&quot;classpath:db.properties&quot;/&gt; &lt;!-- é…ç½®æ•°æ®æº --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driver}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt; &lt;/bean&gt; &lt;!-- sqlSessionFactory --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!-- åŠ è½½ MyBatis çš„é…ç½®æ–‡ä»¶ --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;mybatis/SqlMapConfig.xml&quot;/&gt; &lt;!-- æ•°æ®æº --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt; å¤´éƒ¨çš„ä¿¡æ¯å°±æ˜¯å£°æ˜ xml æ–‡æ¡£é…ç½®æ ‡ç­¾çš„è§„åˆ™çš„é™åˆ¶ä¸è§„èŒƒã€‚ â€œcontext:property-placeholderâ€ é…ç½®æ˜¯ç”¨äºè¯»å–å·¥ç¨‹ä¸­çš„é™æ€å±æ€§æ–‡ä»¶ï¼Œç„¶ååœ¨å…¶ä»–é…ç½®ä¸­ä½¿ç”¨æ—¶ï¼Œå°±å¯ä»¥é‡‡ç”¨ â€œ${å±æ€§å}â€ çš„æ–¹å¼è·å–è¯¥å±æ€§æ–‡ä»¶ä¸­çš„é…ç½®å‚æ•°å€¼ã€‚ é…ç½®äº†ä¸€ä¸ªåä¸º â€œdataSrouceâ€ çš„ bean çš„ä¿¡æ¯ï¼Œå®é™…ä¸Šæ˜¯è¿æ¥æ•°æ®åº“çš„æ•°æ®æºã€‚ è®¾ç½® sqlSessionFactory çš„ bean å®ç°ç±»ä¸º MyBatis ä¸ Spring æ•´åˆ jar åŒ…ä¸­çš„ SqlSessionFactoryBean ç±»ï¼Œåœ¨å…¶ä¸­åªéœ€è¦æ³¨å…¥ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ä¸Šé¢é…ç½®çš„æ•°æ®æº bean ç¬¬å››æ­¥ï¼šç¼–å†™ MyBatis é…ç½®æ–‡ä»¶ç¬¬å››æ­¥ï¼Œåœ¨ã€mybatisã€‘åŒ…ä¸‹ç¼–å†™ MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ SqlMapConfig.xml ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt; &lt;configuration&gt; &lt;!-- settings --&gt; &lt;settings&gt; &lt;!-- æ‰“å¼€å»¶è¿ŸåŠ è½½çš„å¼€å…³ --&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt; &lt;!-- å°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæåŠ è½½ï¼ˆå³æŒ‰éœ€åŠ è½½ï¼‰ --&gt; &lt;setting name=&quot;aggressiveLazyLoading&quot; value=&quot;false&quot;/&gt; &lt;!-- æ‰“å¼€å…¨å±€ç¼“å­˜å¼€å…³ï¼ˆäºŒçº§ç¼“å­˜ï¼‰é»˜è®¤å€¼å°±æ˜¯ true --&gt; &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt; &lt;/settings&gt; &lt;!-- åˆ«åå®šä¹‰ --&gt; &lt;typeAliases&gt; &lt;package name=&quot;cn.wmyskxz.pojo&quot;/&gt; &lt;/typeAliases&gt; &lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt; &lt;mappers&gt; &lt;!-- é€šè¿‡ resource æ–¹æ³•ä¸€æ¬¡åŠ è½½ä¸€ä¸ªæ˜ å°„æ–‡ä»¶ --&gt; &lt;mapper resource=&quot;sqlmap/UserMapper.xml&quot;/&gt; &lt;!-- æ‰¹é‡åŠ è½½mapper --&gt; &lt;package name=&quot;cn.wmyskxz.mapper&quot;/&gt; &lt;/mappers&gt; &lt;/configuration&gt;åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­ï¼š é€šè¿‡ settings é…ç½®äº†ä¸€äº›å»¶è¿ŸåŠ è½½å’Œç¼“å­˜çš„å¼€å…³ä¿¡æ¯ åœ¨ typeAliases ä¸­è®¾ç½®äº†ä¸€ä¸ª package çš„åˆ«åæ‰«æè·¯å¾„ï¼Œåœ¨è¯¥è·¯å¾„ä¸‹çš„ Java å®ä½“ç±»éƒ½å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªåˆ«åï¼ˆå³é¦–å­—æ¯å°å†™çš„ç±»åï¼‰ åœ¨ mappers é…ç½®ä¸­ï¼Œä½¿ç”¨ mapper æ ‡ç­¾é…ç½®äº†å³å°†è¦åŠ è½½çš„ Mapper æ˜ å°„æ–‡ä»¶çš„èµ„æºè·¯å¾„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ package æ ‡ç­¾ï¼Œé…ç½® mapper ä»£ç†æ¥å£æ‰€åœ¨çš„åŒ…åï¼Œä»¥æ‰¹é‡åŠ è½½ mapper ä»£ç†å¯¹è±¡ã€‚ æ³¨æ„ï¼š æœ‰äº† Spring æ‰˜ç®¡æ•°æ®æºï¼Œåœ¨ MyBatis é…ç½®æ–‡ä»¶ä¸­ä»…ä»…éœ€è¦å…³æ³¨æ€§èƒ½åŒ–é…ç½®ã€‚ ç¬¬äº”æ­¥ï¼šç¼–å†™ Mapper ä»¥åŠå…¶ä»–é…ç½®æ–‡ä»¶ç¬¬äº”æ­¥ï¼Œç¼–å†™ Mapper æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œä¾ç„¶å®šä¹‰ Mapper æ˜ å°„æ–‡ä»¶çš„åå­—ä¸º â€œUserMapper.xmlâ€ ï¼ˆä¸ SqlMapConfig.xml ä¸­é…ç½®ä¸€è‡´ï¼‰ï¼Œä¸ºäº†æµ‹è¯•æ•ˆæœï¼Œåªé…ç½®äº†ä¸€ä¸ªæŸ¥è¯¢ç±» SQL æ˜ å°„ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;test&quot;&gt; &lt;select id=&quot;findUserById&quot; parameterType=&quot;_int&quot; resultType=&quot;user&quot;&gt; SELECT * FROM USER WHERE id = #{id} &lt;/select&gt; &lt;/mapper&gt;åœ¨è¯¥é…ç½®ä¸­ï¼Œè¾“å‡ºå‚æ•°çš„æ˜ å°„ä¸º â€œuserâ€ ï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰åœ¨ SqlMapConfig.xml ä¸­é…ç½®äº† â€œcn.wmyskxz.pojoâ€ åŒ…ä¸‹çš„å®ä½“ç±»ä½¿ç”¨åˆ«åï¼ˆå³é¦–å­—æ¯å°å†™çš„ç±»åï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œåªéœ€åœ¨ â€œcn.wmyskxz.pojoâ€ åŒ…ä¸‹ï¼Œåˆ›å»º â€œfinduserByIdâ€ å¯¹åº”çš„ Java å®ä½“ç±» Userï¼š package cn.wmyskxz.pojo; import java.io.Serializable; public class User implements Serializable { private int id; private String username; /* getter and setter */ } å®ç° Serializable æ¥å£æ˜¯ä¸ºä¹‹åä½¿ç”¨ Mapper åŠ¨æ€ä»£ç†åšå‡†å¤‡ï¼Œè¿™é‡Œæ²¡æœ‰ä½¿ç”¨åŠ¨æ€ä»£ç†ã€‚ åœ¨æ•°æ®åº“èµ„æº â€œdb.propertiesâ€ ä¸­é…ç½®äº†æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ï¼Œä»¥ â€œkey=valueâ€ çš„å½¢å¼é…ç½®ï¼ŒString æ­£æ˜¯ä½¿ç”¨ â€œ${}â€ è·å–å…¶ä¸­ key å¯¹åº”çš„ value é…ç½®çš„ï¼š jdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/mybatis?characterEncoding=UTF-8 jdbc.username=root jdbc.password=rootå¦å¤–æ—¥å¿—é…ç½®å’Œä¹‹å‰çš„é…ç½®ä¸€æ ·ï¼Œæˆ‘å°±ç›´æ¥é»è´´äº†ï¼š # Global logging configuration # åœ¨å¼€å‘ç¯å¢ƒä¸‹æ—¥å¿—çº§åˆ«è¦è®¾ç½®æˆ DEBUG ï¼Œç”Ÿäº§ç¯å¢ƒè®¾ä¸º INFO æˆ– ERROR log4j.rootLogger=DEBUG, stdout # Console output... log4j.appender.stdout=org.apache.log4j.ConsoleAppender log4j.appender.stdout.layout=org.apache.log4j.PatternLayout log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%nç¬¬å…­æ­¥ï¼šç¼–å†™ DAO å±‚ç¬¬å…­æ­¥ï¼Œè¿›è¡Œæ•°æ®åº“äº¤äº’ï¼ˆData Access Objectï¼‰å±‚çš„ç¼–å†™ã€‚ ç”±äºè¯¥é¡¹ç›®åªå¯¹ User ç”¨æˆ·æŸ¥è¯¢ï¼Œæ‰€ä»¥ DAO å±‚å°±åªæœ‰ä¸€ä¸ªç±»ï¼Œåœ¨ â€œcn.wmyskxzâ€ åŒ…ä¸‹åˆ›å»º DAO å±‚çš„ interface æ¥å£ï¼Œå…¶ä¸­å®šä¹‰äº† findUserById æ–¹æ³•ï¼Œå‚æ•°ä¸ºç”¨æˆ·çš„ id å€¼ï¼ˆint ç±»å‹ï¼‰ï¼š package cn.wmyskxz.dao; import cn.wmyskxz.pojo.User; public interface UserDAO { // æ ¹æ® id æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ public User findUserById(int id) throws Exception; }ç„¶ååœ¨åŒä¸€ä¸ªåŒ…ä¸‹åˆ›å»º UserDAO æ¥å£çš„å®ç°ç±» UserDAOImpl: package cn.wmyskxz.dao; import cn.wmyskxz.pojo.User; import org.apache.ibatis.session.SqlSession; import org.mybatis.spring.support.SqlSessionDaoSupport; public class UserDAOImpl extends SqlSessionDaoSupport implements UserDAO { @Override public User findUserById(int id) throws Exception { // ç»§æ‰¿ SqlSessionDaoSupport ç±»ï¼Œé€šè¿‡ this.getSqlSession() å¾—åˆ° sqlSession SqlSession sqlSession = this.getSqlSession(); User user = sqlSession.selectOne(&quot;test.findUserById&quot;, id); return user; } } æœ‰å‡ ç‚¹è§£é‡Šï¼š UserDAOImpl ä¸ä»…å®ç°äº† UserDAO æ¥å£ï¼Œè€Œä¸”ç»§æ‰¿äº† SqlSessionDaoSupport ç±»ã€‚ SqlSessionDaoSupport ç±»æ˜¯ MyBatis ä¸ Spring æ•´åˆçš„ jar åŒ…ä¸­æä¾›çš„ï¼Œåœ¨è¯¥ç±»ä¸­å·²ç»åŒ…å«äº† sqlSessionFactory å¯¹è±¡ä½œä¸ºå…¶æˆå‘˜å˜é‡ï¼Œè€Œä¸”å¯¹å¤–æä¾› get å’Œ set æ–¹æ³•ï¼Œæ–¹ä¾¿ Spring ä»å¤–éƒ¨æ³¨å…¥ sqlSessionFactory å¯¹è±¡ã€‚ UserDAOImpl ç±»è¦æˆåŠŸè·å– sqlSessionFactory å¯¹è±¡ï¼Œè¿˜éœ€è¦åœ¨ Spring é…ç½®æ–‡ä»¶ applicationContext.xml ä¸­æ·»åŠ  userDAO çš„ bean é…ç½®ï¼Œå°†å…¶ä¸­å®šä¹‰çš„ sqlSessionFactory å¯¹è±¡å½“åšå‚æ•°æ³¨å…¥è¿›å»ï¼Œè¿™æ · UserDAOImpl ç»§æ‰¿ SqlSessionDaoSupport ç±»æ‰ä¼šèµ·åˆ°ä½œç”¨ï¼š &lt;!-- åŸå§‹ DAO æ¥å£ --&gt; &lt;bean id=&quot;userDAO&quot; class=&quot;cn.wmyskxz.dao.UserDAOImpl&quot;&gt; &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;/&gt; &lt;/bean&gt; æ³¨æ„ï¼š DAO å®ç°ç±»ç»§æ‰¿äº† SqlSessionDaoSupport çˆ¶ç±»åï¼Œå°±æ— é¡»è‡ªå·±å®šä¹‰è·å– SqlSession ä¼šè¯å®ä¾‹ç±»æ–¹æ³•äº†ï¼Œè¯¥çˆ¶ç±»ä¼šé»˜è®¤åŠ è½½æ•°æ®æºä¿¡æ¯å¹¶æä¾›è·å– SqlSession ç±»çš„æ–¹æ³•ã€‚ ç¬¬ä¸ƒæ­¥ï¼šç¼–å†™ Service æµ‹è¯•ç±»åœ¨ â€œcn.wmyskxz.testâ€ åŒ…ä¸‹åˆ›å»ºã€UserServiceTestã€‘æµ‹è¯•ç±»ï¼š package cn.wmyskxz.test; import cn.wmyskxz.dao.UserDAO; import cn.wmyskxz.pojo.User; import org.junit.Before; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class UserServiceTest { private ApplicationContext applicationContext; // åœ¨æ‰§è¡Œæµ‹è¯•æ–¹æ³•ä¹‹å‰é¦–å…ˆè·å– Spring é…ç½®æ–‡ä»¶å¯¹è±¡ // æ³¨è§£@Beforeåœ¨æ‰§è¡Œæœ¬ç±»æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹å‰å…ˆè°ƒç”¨è¿™ä¸ªæ–¹æ³• @Before public void setup() throws Exception { applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:spring/applicationContext.xml&quot;); } @Test public void testFindUserById() throws Exception { // é€šè¿‡é…ç½®èµ„æºå¯¹è±¡è·å– userDAO å¯¹è±¡ UserDAO userDAO = (UserDAO) applicationContext.getBean(&quot;userDAO&quot;); // è°ƒç”¨ UserDAO çš„æ–¹æ³• User user = userDAO.findUserById(1); // è¾“å‡ºç”¨æˆ·ä¿¡æ¯ System.out.println(user.getId() + &quot;:&quot; + user.getUsername()); } }è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š åŠ¨æ€ä»£ç† + æ³¨è§£å®ç°ä¸Šé¢çš„å®ä¾‹ç¨‹åºå¹¶æ²¡æœ‰ä½¿ç”¨ Mapper åŠ¨æ€ä»£ç†å’Œæ³¨è§£æ¥å®Œæˆï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è¯•è¯•å¦‚ä½•ç”¨åŠ¨æ€ä»£ç†å’Œæ³¨è§£ï¼š ç¬¬ä¸€æ­¥ï¼šç¼–å†™ UserQueryMapperåœ¨ã€mapperã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€UserQueryMapperã€‘ä»£ç†æ¥å£ï¼Œå¹¶ä½¿ç”¨æ³¨è§£ï¼š package cn.wmyskxz.mapper; import cn.wmyskxz.pojo.User; import org.apache.ibatis.annotations.Select; public interface UserQueryMapper { @Select(&quot;SELECT * FROM USER WHERE id = #{id}&quot;) public User findUserById(int id) throws Exception; } æ³¨æ„ï¼š åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥ bean çš„åå­—ä¸º userQueryMapperï¼ˆå³é¦–å­—æ¯å°å†™ï¼‰ ç°åœ¨æœ‰äº†ä»£ç†ç±»ï¼Œæˆ‘ä»¬éœ€è¦é€šçŸ¥ Spring åœ¨è¿™é‡Œæ¥æ‰«æåˆ°è¯¥ç±»ï¼ŒMapper æ‰«æé…ç½®å¯¹è±¡éœ€è¦ç”¨ä¸“é—¨çš„æ‰«æå™¨ï¼š &lt;!-- Mapper æ‰«æå™¨ --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;!-- æ‰«æ cn.wmyskxz.mapper åŒ…ä¸‹çš„ç»„ä»¶ --&gt; &lt;property name=&quot;basePackage&quot; value=&quot;cn.wmyskxz.mapper&quot;/&gt; &lt;/bean&gt;ç¬¬äºŒæ­¥ï¼šç¼–å†™æµ‹è¯•ç±»è¿™ä¸€æ¬¡æˆ‘ä»¬è·å–çš„ä¸å†æ˜¯ userDAO å¯¹è±¡ï¼Œè€Œæ˜¯å®šä¹‰çš„ Mapper ä»£ç†å¯¹è±¡ userQueryMapperï¼š package cn.wmyskxz.test; import cn.wmyskxz.mapper.UserQueryMapper; import cn.wmyskxz.pojo.User; import org.junit.Before; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class UserServiceTest { private ApplicationContext applicationContext; // åœ¨æ‰§è¡Œæµ‹è¯•æ–¹æ³•ä¹‹å‰é¦–å…ˆè·å– Spring é…ç½®æ–‡ä»¶å¯¹è±¡ // æ³¨è§£@Beforeåœ¨æ‰§è¡Œæœ¬ç±»æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹å‰å…ˆè°ƒç”¨è¿™ä¸ªæ–¹æ³• @Before public void setup() throws Exception { applicationContext = new ClassPathXmlApplicationContext(&quot;classpath:spring/applicationContext.xml&quot;); } @Test public void testFindUserById() throws Exception { // é€šè¿‡é…ç½®èµ„æºå¯¹è±¡è·å– userDAO å¯¹è±¡ UserQueryMapper userQueryMapper = (UserQueryMapper) applicationContext.getBean(&quot;userQueryMapper&quot;); // è°ƒç”¨ UserDAO çš„æ–¹æ³• User user = userQueryMapper.findUserById(1); // è¾“å‡ºç”¨æˆ·ä¿¡æ¯ System.out.println(user.getId() + &quot;:&quot; + user.getUsername()); } }è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼Œå¾—åˆ°æ­£ç¡®ç»“æœï¼š å¯ä»¥çœ‹åˆ°ï¼ŒæŸ¥è¯¢ç»“æœå’Œä¹‹å‰é Mapper ä»£ç†çš„æŸ¥è¯¢ç»“æœä¸€æ ·ã€‚ åŸç†ï¼š åœ¨ applicationContext.xml é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ mapper æ‰¹é‡æ‰«æå™¨ç±»ï¼Œä¼šä» mapper åŒ…ä¸­æ‰«æå‡º Mapper æ¥å£ï¼Œè‡ªåŠ¨åˆ›å»ºä»£ç†å¯¹è±¡å¹¶ä¸”åœ¨ Spring å®¹å™¨ä¸­æ³¨å…¥ã€‚è‡ªåŠ¨æ‰«æå‡ºæ¥çš„ Mapper çš„ bean çš„ id ä¸º mapper ç±»åï¼ˆé¦–å­—æ¯å°å†™ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œè·å–çš„å°±æ˜¯åä¸º â€œuserQueryMapperâ€ çš„ mapper ä»£ç†å¯¹è±¡ã€‚ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring MVC + MyBatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜ã€‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring","slug":"JavaWebåŸºç¡€/Spring","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://www.wmyskxz.com/tags/MyBatis/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹è¯»ä¹¦ç¬”è®°","slug":"ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹è¯»ä¹¦ç¬”è®°","date":"2018-04-18T00:39:00.000Z","updated":"2020-08-03T08:49:38.056Z","comments":true,"path":"2018/04/18/a-li-ba-ba-java-kai-fa-shou-ce-du-shu-bi-ji/","link":"","permalink":"http://www.wmyskxz.com/2018/04/18/a-li-ba-ba-java-kai-fa-shou-ce-du-shu-bi-ji/","excerpt":"","text":"å¶ç„¶çœ‹åˆ°é˜¿é‡Œå·´å·´å±…ç„¶å‡ºä¹¦äº†ï¼Ÿï¼Ÿï¼Ÿè¶ç€æ»¡å‡æ´»åŠ¨ï¼ˆèŠ‚çº¦èŠ‚çº¦â€¦.ï¼‰æˆ‘èµ¶ç´§ä¹°æ¥å‡†å¤‡çœ‹çœ‹ï¼Œåˆšæ‹¿åˆ°çš„æ—¶å€™æ‚é‡äº†å¥½å¤šä¸‹ï¼Œæ€»è§‰å¾—å•†å®¶ç»™æˆ‘å°‘å‘äº†ä¸€æœ¬ä¹¦ï¼Œç»“æœæ‰“å¼€æ‰çŸ¥é“..åŸæ¥è¿™æœ¬ä¹¦è¿™ä¹ˆå°â€¦. ç¼–ç è§„èŒƒçš„é‡è¦æ€§åˆ«äººéƒ½è¯´æˆ‘ä»¬æ˜¯æ¬ç –çš„ç å†œï¼Œä½†æˆ‘ä»¬çŸ¥é“è‡ªå·±æ˜¯è¿½æ±‚ä¸ªæ€§çš„è‰ºæœ¯å®¶ã€‚ä¹Ÿè®¸æˆ‘ä»¬ä¸ä¼šè¿‡å¤šåœ¨æ„è‡ªå·±çš„å¤–è¡¨å’Œç©¿ç€ï¼Œä½†åœ¨æˆ‘ä»¬ä¸ç¾çš„å¤–è¡¨ä¸‹ï¼Œéª¨å­é‡Œè¿½æ±‚ç€ä»£ç çš„ç¾ã€ç³»ç»Ÿçš„ç¾ã€è®¾è®¡çš„ç¾ï¼Œä»£ç è§„èŒƒå…¶å®å°±æ˜¯ä¸€ä¸ªå¯¹ç¨‹åºç¾çš„å®šä¹‰ã€‚â€”â€” å¼•è‡ª åº å¦‚æœæœ‰ä¸€å¤©åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­çœ‹åˆ°äº†è¿™æ ·çš„ä»£ç ï¼š æˆ–è€…æ˜¯è¿™æ ·çš„ä»£ç ï¼š è¿™æ ·ç¾ä¸ç¾å‘¢ï¼Ÿæˆ–è®¸çœ‹ç€æ˜¯è¿˜æŒºç¾çš„ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œæ˜¯ä¸æ˜¯äººå‚»å•¦ï¼Ÿ é‚£è¿™æ ·çš„ä»£ç å‘¢ï¼Ÿ ä½œä¸ºä¸€ä¸ªå¯¹è‡ªå·±æœ‰ä¸€å®šè¦æ±‚çš„ç¨‹åºçŒ¿ï¼Œæ˜¯ä¸æ˜¯ç¬¬ä¸€ååº”å°±æ˜¯ï¼š é‡å†™ï¼ åŸä½œè€…æ˜¯è°ï¼Ÿé”¤ä»–ï¼ è§„èŒƒä¸ä¸€ï¼Œå°±ä¼šåƒä¸‹å›¾ä¸­çš„å°é¸­å’Œå°é¸¡å¯¹è¯ä¸€æ ·ï¼Œè¯­è¨€ä¸é€šï¼Œä¸€è„¸å›§ç›¸ã€‚é¸¡åŒé¸­è®²ä¹Ÿæ°æ°å½¢å®¹äº†äººä¸äººä¹‹é—´æ²Ÿé€šçš„ç—›ç‚¹ï¼Œè‡ªè¯´è‡ªè¯ï¼Œæ— æ³•è¾¾æˆä¸€è‡´æ„è§ã€‚å†ä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œäº¤é€šè§„åˆ™é å·¦è¡Œé©¶è¿˜æ˜¯é å³è¡Œé©¶ï¼Œä¸¤è€…å­°å¥½å­°åå¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å¿…é¡»è¦åœ¨ç»Ÿä¸€çš„æ–¹å‘ä¸Šé€šè¡Œï¼Œè¡¨é¢ä¸Šé™åˆ¶äº†è‡ªç”±ï¼Œä½†å®é™…ä¸Šæ˜¯ä¿éšœäº†å…¬ä¼—çš„äººèº«å®‰å…¨ã€‚è¯•æƒ³ï¼Œå¦‚æœæ²¡æœ‰è§„å®šé å³è¡Œé©¶ï¼Œé‚£æ ·çš„è·¯å†µè‚¯å®šæ‹¥å µä¸å ªï¼Œé™©è±¡ç¯ç”Ÿã€‚åŒæ ·ï¼Œè¿‡åˆ†è‡ªç”±éšæ„ã€å¤©é©¬è¡Œç©ºçš„ä»£ç ä¼šä¸¥é‡çš„ä¼¤å®³ç³»ç»Ÿçš„å¥åº·ï¼Œå½±å“åˆ°å¯æ‰©å±•æ€§ä»¥åŠå¯ç»´æŠ¤æ€§ã€‚ æ€»ç»“ï¼šä»£ç è§„èŒƒå¾ˆé‡è¦ï¼ å…³äºç¼–ç è§„èŒƒçš„ä¸‰å¤§åœ£æˆ˜ä¼—æ‰€å‘¨çŸ¥ï¼Œäº’è”ç½‘å…¬å¸çš„ä¼˜åŠ¿åœ¨äºæ•ˆç‡ï¼Œå®ƒæ˜¯ä¼ä¸šæ ¸å¿ƒç«äº‰åŠ›ã€‚ä½“ç°åœ¨äº§å“å¼€å‘é¢†åŸŸï¼Œå°±æ˜¯å¤Ÿæ²Ÿé€šæ•ˆç‡å’Œç ”å‘æ•ˆç‡ã€‚å¯¹äºæ²Ÿé€šæ•ˆç‡çš„é‡è¦æ€§ï¼Œå¯ä»¥ä»ç¨‹åºçŒ¿ä¸‰å¤§ â€œç¼–ç ç†å¿µä¹‹äº‰â€ è¯´èµ·ï¼š ç¼©è¿›é‡‡ç”¨ç©ºæ ¼é”®ï¼Œè¿˜æ˜¯ Tab é”® if å•è¡Œè¯­å¥éœ€è¦å¤§æ‹¬å·è¿˜æ˜¯ä¸éœ€è¦å¤§æ‹¬å· å·¦å¤§æ‹¬å·ä¸æ¢è¡Œï¼Œè¿˜æ˜¯å•ç‹¬å¦èµ·ä¸€è¡Œ åœ¨ç¾å‰§ã€Šç¡…è°·ã€‹ä¸­ï¼Œæœ‰è¿™æ ·çš„ä¸€ä¸ªç»å…¸é•œå¤´ï¼š ç¨‹åºåª›ï¼šKid? æˆ‘ä»¬ä¼¼ä¹å¾ˆä¹…æ²¡æœ‰ä¸€èµ·ç¡äº†ã€‚ ç¨‹åºçŒ¿ï¼šç°åœ¨ï¼Ÿä¸å¯èƒ½ï¼æˆ‘æ°¸è¿œä¸ä¼šå’Œä½¿ç”¨ç©ºæ ¼æ¥ç¼©è¿›çš„äººç¡åœ¨ä¸€èµ·ï¼ ç¨‹åºåª›ï¼šï¼ˆç–¯ç‹‚æ•² space æ°”èµ°äº†ç¨‹åºçŒ¿ï¼‰ ç¨‹åºçŒ¿ï¼šï¼ˆç”©äº†ä¸€å¥ï¼‰ä¸€ä¸ª Tab å¯ä»¥ä»£æ›¿ 8ä¸ª ç©ºæ ¼ï¼ä¹‹åç¨‹åºçŒ¿å°±å› ä¸ºè§†å›¾ä¸€æ­¥è·¨ä¸‹å…«ä¸ªé˜¶æ¢¯è€Œæ‘”äº†â€¦. Tab é”®å’Œç©ºæ ¼é”®çš„äº‰è®®ç¡®å®å­˜åœ¨ï¼Œå¹¶ä¸”åœ¨çŸ¥ä¹ä¸Šè®¨è®ºå¾—ç«çƒ­ï¼šå†™ä»£ç æ—¶ï¼Œç¼©è¿›ä½¿ç”¨ tab è¿˜æ˜¯ç©ºæ ¼ï¼Ÿ æ€»ç»“ï¼šä½¿ç”¨ 4 ä¸ªç©ºæ ¼å¥½ï¼Œåœ¨ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹ä¸­ä¹Ÿæ˜ç¡®æ”¯æŒäº†è¿™æ ·çš„åšæ³•ã€‚ä¸‹é¢ä¹Ÿå¼•ç”¨ä¸€å¼ å›¾æ¥è°ƒä¾ƒä¸€ä¸‹ã€‚ if å•è¯­å¥æ˜¯å¦éœ€è¦æ¢è¡Œï¼Œä¹Ÿæ˜¯äº‰è®ºä¸ä¼‘çš„è¯é¢˜ã€‚ç›¸å¯¹æ¥è¯´ï¼Œå†™è¿‡æ ¼å¼ç¼©è¿›ç±»ç¼–ç¨‹è¯­è¨€çš„å¼€å‘è€…ï¼Œ æ›´åŠ ä¹ æƒ¯äºä¸åŠ å¤§æ‹¬å·ã€‚ã€Šæ‰‹å†Œã€‹ä¸­æ˜ç¡® if/for å•è¡Œè¯­å¥å¿…é¡»åŠ å¤§æ‹¬å·ï¼Œå› ä¸ºå•è¡Œè¯­å¥çš„å†™æ³•ï¼Œå®¹æ˜“åœ¨æ·»åŠ é€»è¾‘æ—¶å¼•èµ·è§†è§‰ä¸Šçš„é”™è¯¯åˆ¤æ–­ã€‚æ­¤å¤–ï¼Œif ä¸åŠ å¤§æ‹¬å·è¿˜ä¼šæœ‰å±€éƒ¨å˜é‡ä½œç”¨åŸŸçš„é—®é¢˜ã€‚ å·¦å¤§æ‹¬å·æ˜¯å¦å•ç‹¬å¦èµ·ä¸€è¡Œï¼Ÿå› ä¸º Go è¯­è¨€çš„å¼ºåˆ¶ä¸æ¢è¡Œï¼Œåœ¨è¿™ç‚¹ä¸Šï¼Œâ€œç¼–ç¨‹ç†å¿µä¹‹äº‰â€ çš„ç¡çƒŸå‘³ä¼¼ä¹æ²¡æœ‰é‚£ä¹ˆæµ“ã€‚å¦‚æœä¸€å®šè¦ç»™ä¸€ä¸ªç†ç”±ï¼Œé‚£ä¹ˆæ¢è¡Œçš„ä»£ç å¯ä»¥å¢åŠ ä¸€è¡Œï¼Œå¯¹äºæŒ‰ä»£ç è¡Œæ•°è€ƒæ ¸å·¥ä½œé‡çš„å…¬å¸å‘˜å·¥ï¼Œè‚¯å®šå€¾å‘äºå·¦å¤§æ‹¬å·å‰æ¢è¡Œã€‚ã€Šæ‰‹å†Œã€‹æ˜ç¡®å·¦å¤§æ‹¬å·ä¸æ¢è¡Œï¼ æ€»ç»“ï¼š å…¶å®ï¼Œå¾ˆå¤šç¼–ç¨‹æ–¹å¼å®¢è§‚ä¸Šæ²¡æœ‰å¯¹é”™ä¹‹åˆ†ï¼Œä¸€è‡´æ€§å¾ˆé‡è¦ï¼Œå¯è¯»æ€§å¾ˆé‡è¦ï¼Œå›¢é˜Ÿæ²Ÿé€šæ•ˆç‡å¾ˆé‡è¦ã€‚ ç¬¬1ç« ï¼šç¼–ç¨‹è§„çº¦è¿™ä¸€ç« æ˜¯å¯¹ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ä»£ç è§„èŒƒï¼ŒåŒ…æ‹¬å˜é‡å‘½åã€ä»£ç é£æ ¼ã€æ§åˆ¶è¯­å¥ã€ä»£ç æ³¨é‡Šç­‰åŸºæœ¬çš„å˜æˆä¹ æƒ¯ï¼Œä»¥åŠä»é«˜å¹¶å‘åœºæ™¯ä¸­æç‚¼å‡ºæ¥çš„é›†åˆå¤„ç†æŠ€å·§ä¸å¹¶å‘å¤šçº¿ç¨‹çš„æ³¨æ„äº‹é¡¹ã€‚ 1.1 å‘½åé£æ ¼ç¬¬ä¸€æ¡ï¼šã€å¼ºåˆ¶ã€‘ä»£ç ä¸­çš„å‘½åå‡ä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·å¼€å§‹ï¼Œä¹Ÿä¸èƒ½ä»¥ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ç»“æŸã€‚ åä¾‹ï¼š_name / $name / name_ / name$ å°½ç®¡ $ å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ä½¿ç”¨ï¼Œç„¶è€Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…å¯¹å…¶ä½¿ç”¨ã€‚ åŸå› ï¼š $ é€šå¸¸åœ¨ç¼–è¯‘å™¨ç”Ÿæˆçš„æ ‡è¯†ç¬¦åç§°ä¸­ä½¿ç”¨ï¼Œå¦‚æœæˆ‘ä»¬ä¹Ÿä½¿ç”¨è¿™ä¸ªç¬¦å·ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›æ„æƒ³ä¸åˆ°çš„é”™è¯¯å‘ç”Ÿâ€¦. æ„æƒ³ä¸åˆ°çš„é”™è¯¯ç¤ºä¾‹ï¼š package test; public class User$VIP { public static void main(String[] args) { User user = new User(); User.VIP vip = user.new VIP(); vip.print(); } } class User{ class VIP{ void print(){ System.out.println(\"æˆå‘˜ç±»\"); } } } ä»”ç»†é˜…è¯»ä»¥ä¸‹ï¼Œä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä»£ç ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½†æ­£åœ¨æˆ‘ä»¬ç¼–è¯‘çš„æ—¶å€™ï¼ŒIDEAæç¤ºæˆ‘ä»¬ï¼š å®šä¹‰äº†é‡å¤çš„ä»£ç ï¼Ÿå½’æ ¹åˆ°åº•ï¼Œéƒ½æ˜¯ $ æƒ¹çš„ç¥¸ï¼å› ä¸º $ è¢«ç¼–è¯‘å™¨æ‰€ä½¿ç”¨ï¼Œåœ¨æºæ–‡ä»¶ï¼ˆ.java æ–‡ä»¶ï¼‰ç¼–è¯‘æˆå­—èŠ‚ç ï¼ˆ.class æ–‡ä»¶ï¼‰åï¼Œä¼šç§°ä¸ºé¡¶å±‚ç±»å‹ä¸åµŒå¥—ç±»å‹ä¹‹é—´çš„è¿æ¥ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªé¡¶å±‚ç±» Aï¼Œåœ¨å…¶å†…å£°æ˜äº†ä¸€ä¸ªæˆå‘˜ç±» Bï¼Œé‚£ä¹ˆç¼–è¯‘ä¹‹åå°±ä¼šäº§ç”Ÿä¸¤ä¸ª class æ–‡ä»¶ï¼Œåˆ†åˆ«ä¸º A.class ä¸ A$B.classã€‚ å°±æœ¬ç¨‹åºæ¥è¯´ï¼Œä¼šç”Ÿæˆ 3 ä¸ª class æ–‡ä»¶ï¼ˆå¦‚æœå¯ä»¥ç¼–è¯‘çš„è¯ï¼‰ï¼Œåˆ†åˆ«æ˜¯ User$VIP.classï¼ˆé¡¶å±‚ç±»ï¼‰ã€User.class ä¸ User$VIP.classï¼ˆUser ç±»çš„æˆå‘˜ç±»ï¼Œä¹Ÿå°±æ˜¯ç±» VIPï¼‰ã€‚ç”±äºè¯•å›¾å­˜åœ¨ä¸¤ä¸ª User$VIP.class æ‰€ä»¥æ‰ä¼šæŠ¥é”™ï¼ ç¬¬ä¸‰è‡³ç¬¬å…­æ¡ï¼šã€å¼ºåˆ¶ã€‘ ç±»åä½¿ç”¨ UpperCamelCase é£æ ¼ï¼Œæ–¹æ³•åã€å‚æ•°åã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡éƒ½åŒæ„ä½¿ç”¨ lowerCamelCase é£æ ¼ï¼Œå¿…é¡»éµä»é©¼å³°å½¢å¼ã€‚ å˜é‡å‘½åå…¨éƒ¨å¤§å†™ï¼Œå•è¯å…¼ç”¨ä¸‹åˆ’çº¿éš”å¼€ï¼ŒåŠ›æ±‚äºˆä»¥è¡¨è¾¾å®Œæ•´æ¸…æ¥šï¼Œä¸è¦å«Œåå­—å¤ªé•¿ã€‚ æ­£ä¾‹ï¼šMAX_STOCK_COUNT / PRIZE_NUMBER_EVERYDAYåä¾‹ï¼šMAX_COUNT / PRIZE_NUMBER æŠ½è±¡ç±»å‘½åä½¿ç”¨ Abstract æˆ– Base å¼€å¤´ï¼›å¼‚å¸¸ç±»å‘½åä½¿ç”¨ Exception ç»“å°¾ï¼›æµ‹è¯•ç±»å‘½åä»¥å®ƒè¦æµ‹è¯•çš„ç±»åå¼€å§‹ï¼Œä»¥ Test ç»“å°¾ã€‚ ç¬¬å…«æ¡ï¼šã€å¼ºåˆ¶ã€‘ POJO ç±»ä¸­å¸ƒå°”ç±»å‹çš„å˜é‡éƒ½ä¸è¦åŠ  is å‰ç¼€ï¼Œå¦åˆ™éƒ¨åˆ†æ¡†æ¶è§£æä¼šå¼•èµ·åºåˆ—åŒ–é”™è¯¯ã€‚ åä¾‹ï¼šå®šä¹‰ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ Boolen isDeleted; çš„å±æ€§ï¼Œå®ƒçš„æ–¹æ³•åç§°ä¹Ÿæ˜¯ isDeleted() ï¼ŒRPC æ¡†æ¶åœ¨åå‘è§£æçš„æ—¶å€™ï¼Œâ€œè¯¯ä»¥ä¸ºâ€ å¯¹åº”çš„å±æ€§åç§°æ˜¯ deleted ï¼Œå¯¼è‡´å±æ€§è·å–ä¸åˆ°æŠ›å‡ºå¼‚å¸¸ã€‚ ç¬¬åäºŒæ¡ï¼šã€æ¨èã€‘ å¦‚æœæ¨¡å—ã€ç±»ã€æ–¹æ³•ä½¿ç”¨äº†è®¾è®¡æ¨¡å¼ï¼Œåº”åœ¨å‘½åæ—¶ä½“ç°å‡ºå…·ä½“æ¨¡å¼ è¯´æ˜ï¼š å°†è®¾è®¡æ¨¡å¼ä½“ç°åœ¨åå­—ä¸­ï¼Œæœ‰åˆ©äºé˜…è¯»è€…å¿«é€Ÿç†è§£æ¶æ„è®¾è®¡ç†å¿µã€‚ æ­£ä¾‹ï¼špublic class OrderFactory;public class LoginProxy;public class ResourceObserver; ç¬¬åä¸‰æ¡ï¼šã€æ¨èã€‘ æ¥å£ç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§ä¸è¦åŠ ä»»ä½•ä¿®é¥°ç¬¦å·ï¼ˆpublic ä¹Ÿä¸è¦åŠ ï¼‰ï¼Œä¿æŒä»£ç çš„é—´æ¥æ€§ï¼Œå¹¶åŠ ä¸Šæœ‰æ•ˆçš„ Javadoc æ³¨é‡Šã€‚å°½é‡ä¸è¦åœ¨æ¥å£é‡Œå®šä¹‰å˜é‡ï¼Œå¦‚æœä¸€å®šè¦å®šä¹‰å˜é‡ï¼Œå¿…é¡»æ˜¯ä¸æ¥å£æ–¹æ³•ç›¸å…³çš„ï¼Œå¹¶ä¸”æ˜¯æ•´ä¸ªåº”ç”¨çš„åŸºç¡€å˜é‡ã€‚ æ­£ä¾‹ï¼šæ¥å£æ–¹æ³•ç­¾åï¼š void commit();æ¥å£åŸºç¡€å˜é‡ï¼š String COMPANY = &quot;alibaba&quot;;åä¾‹ï¼šæ¥å£å®šä¹‰æ–¹æ³•ï¼š public abstract void commit(); è¯´æ˜ï¼š å¦‚æœ JDK8 ä¸­æ¥å£å…è®¸æœ‰é»˜è®¤å®ç°ï¼Œé‚£ä¹ˆè¿™ä¸ª default æ–¹æ³•ï¼Œæ˜¯å¯¹æ‰€æœ‰å®ç°ç±»éƒ½æœ‰ä»·å€¼çš„é»˜è®¤å®ç°ã€‚ ç¬¬åå››æ¡ï¼šæ¥å£å’Œå®ç°ç±»çš„å‘½åè§„åˆ™ 1ï¼‰ï¼šã€å¼ºåˆ¶ã€‘ å¯¹äº Service å’Œ DAO ç±»ï¼ŒåŸºäº SOA çš„ç†å¿µï¼Œæš´éœ²å‡ºæ¥çš„æœåŠ¡ä¸€å®šæ˜¯æ¥å£ï¼Œå†…éƒ¨çš„å®ç°ç±»ç”¨ Impl åç¼€ä¸æ¥å£åŒºåˆ«ã€‚ æ­£ä¾‹ï¼š CacheServiceImpl å®ç° CacheServcie æ¥å£ 2ï¼‰ï¼šã€æ¨èã€‘ å¦‚æœæ˜¯å½¢å®¹èƒ½åŠ›çš„æ¥å£åç§°ï¼Œå–å¯¹åº”çš„å½¢å®¹è¯ä¸ºæ¥å£åï¼ˆé€šå¸¸æ˜¯ -able çš„å½¢å¼ï¼‰ã€‚ æ­£ä¾‹ï¼š AbstractTranslator å®ç° Translatableã€‚ 1.2 å¸¸é‡å®šä¹‰ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ long æˆ–è€… Long åˆå§‹èµ‹å€¼æ—¶ï¼Œä½¿ç”¨å¤§å†™çš„ Lï¼Œä¸èƒ½æ˜¯å°å†™çš„ lã€‚å°å†™çš„ l å®¹æ˜“è·Ÿæ•°å­— 1 æ··æ·†ï¼Œé€ æˆè¯¯è§£ã€‚ è¯´æ˜ï¼š Long a = 2l; å†™å¾—æ˜¯æ•°å­—çš„ 21 è¿˜æ˜¯ Long å‹çš„ 2ï¼Ÿ ç¬¬ä¸‰æ¡ï¼šã€æ¨èã€‘ ä¸è¦ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ç±»ç»´æŠ¤æ‰€æœ‰å˜é‡ï¼Œè¦æŒ‰å¸¸é‡åŠŸèƒ½è¿›è¡Œå½’ç±»ï¼Œåˆ†å¼€ç»´æŠ¤ã€‚ è¯´æ˜ï¼š å¤§è€Œå…¨çš„å˜é‡ç±»ï¼Œéå¾—ä½¿ç”¨æŸ¥æ‰¾åŠŸèƒ½æ‰èƒ½å®šä½åˆ°ä¿®æ”¹çš„å¸¸é‡ï¼Œä¸åˆ©äºç†è§£å’Œç»´æŠ¤ã€‚ æ­£ä¾‹ï¼šç¼“å­˜ç›¸å…³å¸¸é‡æ”¾åœ¨ç±» CacheConsts ä¸‹ï¼›ç³»ç»Ÿé…ç½®ç›¸å…³å¸¸é‡æ”¾åœ¨ ConfigConsts ä¸‹ã€‚ 1.3 ä»£ç æ ¼å¼public static void main(String[] args){ // æ³¨é‡Šçš„åŒæ–œçº¿ä¸æ³¨é‡Šå†…å®¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç©ºæ ¼ // ç¼©è¿› 4 ä¸ªç©ºæ ¼ String say = \"hello\"; // è¿ç®—ç¬¦çš„å·¦å³å¿…é¡»æœ‰ 1 ä¸ªç©ºæ ¼ int flag = 0; // å…³é”®å­— if ä¸æ‹¬å·ä¹‹é—´å¿…é¡»æœ‰ 1 ä¸ªç©ºæ ¼ï¼Œæ‹¬å·å†…çš„ fä¸å·¦æ‹¬å·ã€ // 0 ä¸å³æ‹¬å·ä¹‹é—´ä¸éœ€è¦ç©ºæ ¼ if (flag == 0) { System.out.println(say); } // å·¦å¤§æ‹¬å·å‰åŠ ç©ºæ ¼ä¸”ä¸æ¢è¡Œï¼›å·¦å¤§æ‹¬å·åæ¢è¡Œ if (flag == 1) { System.out.println(\"world\"); // å³å¤§æ‹¬å·å‰æ¢è¡Œï¼Œå³å¤§æ‹¬å·åæœ‰ elseï¼Œä¸ç”¨æ¢è¡Œ } else { System.out.println(\"ok\"); // åœ¨å³å¤§æ‹¬å·åç›´æ¥ç»“æŸï¼Œåˆ™å¿…é¡»æ¢è¡Œ } } ç¬¬å…«æ¡ï¼šã€å¼ºåˆ¶ã€‘ æ–¹æ³•å‚æ•°åœ¨å®šä¹‰å’Œä¼ å…¥æ—¶ï¼Œå¤šä¸ªå‚æ•°é€—å·åè¾¹å¿…é¡»åŠ ç©ºæ ¼ã€‚ æ­£ä¾‹ï¼šä¸‹ä¾‹ä¸­å®å‚çš„â€œoneâ€ï¼Œåè¾¹å¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚method(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;); 1.4 OOP è§„çº¦ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ æ‰€æœ‰çš„å¤å†™æ–¹æ³•ï¼Œå¿…é¡»åŠ  @Override æ³¨è§£ã€‚ è¯´æ˜ï¼š getObject() ä¸ get0bject() çš„é—®é¢˜ã€‚ä¸€ä¸ªæ˜¯å­—æ¯ O,ä¸€ä¸ªæ˜¯æ•°å­— 0ï¼ŒåŠ  @Override æ³¨è§£å¯ä»¥å‡†ç¡®åˆ¤æ–­æ˜¯å¦è¦†ç›–æˆåŠŸã€‚å¦å¤–ï¼Œå¦‚æœåœ¨æŠ½è±¡ç±»ä¸­å¯¹æ–¹æ³•ç­¾åè¿›è¡Œä¿®æ”¹ï¼Œå…¶å®ç°ç±»ä¼šé©¬ä¸Šç¼–è¯‘æŠ¥é”™ã€‚ ç¬¬ä¸ƒæ¡ï¼šã€å¼ºåˆ¶ã€‘ æ‰€æœ‰ç›¸åŒç±»å‹çš„åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼å¾—æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ equals æ–¹æ³• è¯´æ˜ï¼š å¯¹äº Intergre var = ? åœ¨ -128~127 èŒƒå›´å†…çš„èµ‹å€¼ï¼Œ Integer å¯¹è±¡æ˜¯åœ¨ IntegerCache.cache ä¸­äº§ç”Ÿçš„ï¼Œä¼šå¤ç”¨å·²æœ‰çš„å¯¹è±¡ï¼Œè¿™ä¸ªåŒºé—´å†…çš„ Integer å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨ == è¿›è¡Œåˆ¤æ–­ï¼Œä½†æ˜¯è¿™ä¸ªåŒºé—´ä¹‹å¤–çš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½ä¼šåœ¨å †ä¸Šäº§ç”Ÿï¼Œå¹¶ä¸ä¼šå¤ç”¨å·²æœ‰å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªå¤§å‘ï¼Œæ¨èä½¿ç”¨ equals æ–¹æ³•è¿›è¡Œåˆ¤æ–­ã€‚ ç¬¬åäºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ POJO ç±»å¿…é¡»å†™ toString æ–¹æ³•ã€‚åœ¨ä½¿ç”¨ IDE ä¸­çš„å·¥å…· source&gt;generate toString æ—¶ï¼Œå¦‚æœç»§æ‰¿äº†å¦ä¸€ä¸ª POJO ç±»ï¼Œæ³¨æ„åœ¨å‰é¢åŠ ä¸€ä¸‹ super.toStringã€‚ è¯´æ˜ï¼š åœ¨æ–¹æ³•æ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ POJO çš„ toString() æ–¹æ³•æ‰“å°å…¶å±æ€§å€¼ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜ã€‚ 1.5 é›†åˆå¤„ç†ç¬¬ä¸ƒæ¡ï¼šã€å¼ºåˆ¶ã€‘ ä¸è¦åœ¨ foreach å¾ªç¯é‡Œè¿›è¡Œå…ƒç´ çš„ remove / add æ“ä½œã€‚remove å…ƒç´ è¯·ä½¿ç”¨ Iterator æ–¹å¼ï¼Œå¦‚æœå¹¶å‘æ“ä½œï¼Œéœ€è¦å¯¹ Iterator å¯¹è±¡åŠ é”ã€‚// æ­£ä¾‹ Iterator&lt;String> iterator = list.iterator(); while (iterator.hasNext()) { String item = iterator.next(); if (åˆ é™¤å…ƒç´ çš„æ¡ä»¶) { iterator.remove(); } } // åä¾‹ List&lt;String> list = new ArrayList&lt;>(); list.add(\"1\"); list.add(\"2\"); for (String item : list) { // å¦‚æœæŠŠ 1 æ”¹ä¸º 2 å†è¯•ä¸€ä¸‹çœ‹çœ‹æ˜¯å¦ç›¸åŒ if (\"1\".equals(item)) { list.remove(item); } } ç¬¬åä¸€æ¡ï¼šã€æ¨èã€‘ é«˜åº¦æ³¨æ„ Map ç±»é›†åˆ K/V èƒ½ä¸èƒ½å­˜å‚¨ null å€¼å¾—æƒ…å†µ 1.6 å¹¶å‘å¤„ç†ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ çº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ã€‚ è¯´æ˜ï¼š ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¸Šæ‰€æ¶ˆè€—çš„æ—¶é—´ä»¥åŠç³»ç»Ÿèµ„æºï¼Œè§£å†³èµ„æºä¸è¶³çš„é—®é¢˜ã€‚å¦‚æœä¸é€‚ç”¨çº¿ç¨‹æ± ï¼Œæœ‰å¯èƒ½é€ æˆç³»ç»Ÿåˆ›å»ºå¤§é‡åŒç±»çº¿ç¨‹è€Œå¯¼è‡´æ¶ˆè€—å®Œå†…å­˜æˆ–è€… â€œè¿‡æ¸¡åˆ‡æ¢â€ çš„é—®é¢˜ã€‚ 1.7 æ§åˆ¶è¯­å¥ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ åœ¨ if / else / for / while / do è¯­å¥ä¸­ï¼Œå¿…é¡»ä½¿ç”¨å¤§æ‹¬å·ã€‚å³ä½¿åªæœ‰ä¸€è¡Œä»£ç ï¼Œä¹Ÿåº”è¯¥é¿å…é‡‡ç”¨å•è¡Œçš„ç¼–ç æ–¹å¼ï¼šif (condition) statements;ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ åœ¨é«˜å¹¶å‘åœºæ™¯ä¸­ï¼Œé¿å…ä½¿ç”¨ â€œç­‰äºâ€ åˆ¤æ–­ä½œä¸ºç»ˆç«¯æˆ–é€€å‡ºçš„æ¡ä»¶ è¯´æ˜ï¼š å¦‚æœå¹¶å‘æ§åˆ¶æ²¡æœ‰å¤„ç†å¥½ï¼Œå®¹æ˜“äº§ç”Ÿç­‰å€¼åˆ¤æ–­è¢« â€œå‡»ç©¿â€ çš„æƒ…å†µï¼Œåº”ä½¿ç”¨å¤§äºæˆ–å°äºçš„åŒºé—´åˆ¤æ–­æ¡ä»¶æ¥ä»£æ›¿ã€‚ åä¾‹ï¼šåˆ¤æ–­å‰©ä½™å¥–å“æ•°é‡ç­‰äº 0 æ—¶ï¼Œç»ˆæ­¢å‘æ”¾å¥–å“ï¼Œä½†å› ä¸ºå¹¶å‘å¤„ç†é”™è¯¯å¯¼è‡´å¥–å“æ•°é‡ç¬é—´å˜æˆäº†è´Ÿæ•°ï¼Œè¿™æ ·çš„è¯ï¼Œæ´»åŠ¨æ— æ³•ç»ˆæ­¢ã€‚ ç¬¬å››æ¡ï¼šã€æ¨èã€‘ åœ¨è¡¨è¾¾å¼‚å¸¸çš„åˆ†æ”¯æ—¶ï¼Œå°½é‡å°‘ç”¨ if-else æ–¹å¼ è¯´æ˜ï¼š å¦‚æœä¸å¾—ä¸ä½¿ç”¨ if()â€¦else if()â€¦elseâ€¦ æ–¹å¼è¡¨è¾¾é€»è¾‘ï¼Œã€å¼ºåˆ¶ã€‘ é¿å…åç»­ä»£ç ç»´æŠ¤å›°éš¾ï¼Œè¯·å‹¿è¶…è¿‡ 3 å±‚ã€‚ // æ­£ä¾‹ï¼šè¶…è¿‡ 3 å±‚çš„ if-else é€»è¾‘åˆ¤æ–­ä»£ç å¯ä»¥ä½¿ç”¨å«è¯­å¥ã€ç­–ç•¥æ¨¡å¼ // çŠ¶æ€æ¨¡å¼ç­‰æ¥å®ç°ï¼Œå…¶ä¸­å«è¯­å¥å®ä¾‹å¦‚ä¸‹ï¼š public void today() { if (isBusy()) { System.out.println(\"change time,\"); return; } if (isFree()) { System.out.println(\"go to travel.\"); return; } System.out.println(\"stay at home to learn Java\"); return; } 1.8 æ³¨é‡Šè§„çº¦ç¬¬ä¸€æ¡ï¼šã€å¼ºåˆ¶ã€‘ ç±»ã€ç±»å±æ€§ã€ç±»æ–¹æ³•çš„æ³¨é‡Šå¿…é¡»ä½¿ç”¨ Javadoc è§„èŒƒï¼Œä½¿ç”¨ /**å†…å®¹*/ æ ¼å¼ï¼Œä¸å¾—ä½¿ç”¨ //xxx æ–¹å¼ ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼ˆåŒ…æ‹¬æ¥å£ä¸­çš„æ–¹æ³•ï¼‰å¿…é¡»è¦ç”¨ Javadoc æ³¨é‡Šï¼Œé™¤äº†è¿”å›å€¼ã€å‚æ•°ã€å¼‚å¸¸è¯´æ˜å¤–ï¼Œè¿˜å¿…é¡»æŒ‡å‡ºè¯¥æ–¹æ³•åšä»€ä¹ˆäº‹æƒ…ï¼Œå®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚ è¯´æ˜ï¼š å¯¹å­ç±»çš„å®ç°è¦æ±‚ï¼Œæˆ–è€…è°ƒç”¨æ³¨æ„äº‹é¡¹ï¼Œè¯·ä¸€å¹¶è¯´æ˜ã€‚ ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ æ‰€æœ‰çš„ç±»éƒ½å¿…é¡»æ·»åŠ åˆ›å»ºè€…å’Œåˆ›å»ºæ—¥æœŸã€‚ 1.9 å…¶ä»–ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ åå°è¾“é€ç»™ç½‘é¡µçš„å˜é‡å¿…é¡»åŠ $!{var}â€”â€”ä¸­é—´æ˜¯æ„Ÿå¹å· è¯´æ˜ï¼š å¦‚æœ var=null æˆ–è€…ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ ${var} ä¼šç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚ ç¬¬å››æ¡ï¼šã€å¼ºåˆ¶ã€‘ æ³¨æ„ Math.random() è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯ double ç±»å‹ï¼Œå–å€¼çš„èŒƒå›´ 0â‰¤xï¼œ1ï¼ˆèƒ½å¤Ÿå–åˆ°é›¶å€¼ï¼Œæ³¨æ„é™¤é›¶å¼‚å¸¸ï¼‰ï¼Œå¦‚æœå‘è·å–æ•´æ•°ç±»å‹çš„éšæœºæ•°ï¼Œä¸è¦å°† x æ”¾å¤§ 10 çš„è‹¥å¹²å€ç„¶åå–æ•´ï¼Œç›´æ¥ä½¿ç”¨ Random å¯¹è±¡çš„ nextInt æˆ–è€… nextLong æ–¹æ³•ã€‚ç¬¬å…­æ¡ï¼šã€æ¨èã€‘ ä¸è¦åœ¨è§†å›¾æ¨¡æ¿ä¸­åŠ å…¥ä»»ä½•å¤æ‚çš„é€»è¾‘ã€‚ è¯´æ˜ï¼š æ ¹æ® MVC ç†è®ºï¼Œè§†å›¾çš„èŒè´£æ˜¯å±•ç¤ºï¼Œä¸è¦æŠ¢æ¨¡å‹å’Œæ§åˆ¶å™¨çš„å·¥ä½œã€‚ ç¬¬4ç« ï¼šå®‰å…¨è§„çº¦â€œå®‰å…¨ç”Ÿäº§ï¼Œè´£ä»»é‡äºæ³°å±±ã€‚â€ è¿™å¥è¯åŒæ ·é€‚ç”¨äºè½¯ä»¶ç”Ÿäº§ï¼Œæœ¬ç« ä¸»è¦è¯´æ˜ç¼–ç¨‹ä¸­éœ€è¦æ³¨æ„çš„æ¯”è¾ƒåŸºç¡€çš„å®‰å…¨å‡†åˆ™ã€‚ ç¬¬ä¸€æ¡ï¼šã€å¼ºåˆ¶ã€‘ éš¶å±äºç”¨æˆ·ä¸ªäººçš„é¡µé¢æˆ–è€…åŠŸèƒ½å¿…é¡»è¿›è¡Œæƒé™æ§åˆ¶æ ¡éªŒ è¯´æ˜ï¼š æ”¾ç½®çš†æœ‰åšæ°´å¹³æƒé™æ ¡éªŒå°±å¯ä»¥éšæ„è®¿é—®ã€ä¿®æ”¹ã€åˆ é™¤åˆ«äººçš„æ•°æ®ï¼Œæ¯”å¦‚æŸ¥çœ‹ä»–äººçš„ç§ä¿¡å†…å®¹ã€ä¿®æ”¹ä»–äººçš„è®¢å•ã€‚ ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ ç”¨æˆ·æ•æ„Ÿæ•°æ®ç¦æ­¢ç›´æ¥å±•ç¤ºï¼Œå¿…é¡»å¯¹å±•ç¤ºæ•°æ®è¿›è¡Œè„±æ•ã€‚ è¯´æ˜ï¼š ä¸ªäººæ‰‹æœºå·ç ä¼šæ˜¾ç¤ºä¸º 158****9119ï¼Œéšè—ä¸­é—´ 4 ä½ï¼Œé˜²æ­¢ä¸ªäººéšç§æ³„éœ²ã€‚ ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ ç”¨æˆ·è¾“å…¥çš„ SQL å‚æ•°ä¸¥æ ¼ä½¿ç”¨å‚æ•°ç»‘å®šæˆ–è€… METADATA å­—æ®µå€¼é™å®šï¼Œé˜²æ­¢ SQL æ³¨å…¥ï¼Œç¦æ­¢å­—ç¬¦ä¸²æ‹¼æ¥ SQL è®¿é—®æ•°æ®åº“ã€‚ ç¬¬å››æ¡ï¼šã€å¼ºåˆ¶ã€‘ ç”¨æˆ·è¯·æ±‚ä¼ å…¥çš„ä»»ä½•å‚æ•°å¿…é¡»åšæœ‰æ•ˆæ€§éªŒè¯ è¯´æ˜ï¼š å¿½ç•¥å‚æ•°æ ¡éªŒå¯èƒ½å¯¼è‡´å¦‚ä¸‹æƒ…å†µã€‚1ï¼‰page size è¿‡å¤§å¯¼è‡´å†…å­˜æº¢å‡º2ï¼‰æ¶æ„ order by å¯¼è‡´æ•°æ®åº“æ…¢æŸ¥è¯¢3ï¼‰ä»»æ„é‡å®šå‘4ï¼‰SQL æ³¨å…¥5ï¼‰ååºåˆ—åŒ–æ³¨å…¥6ï¼‰æ­£åˆ™è¾“å…¥æºä¸²æ‹’ç»æœåŠ¡ ReDoSJava ä»£ç ç”¨æ­£åˆ™æ¥éªŒè¯å®¢æˆ·ç«¯çš„è¾“å…¥ï¼Œæœ‰äº›æ­£åˆ™å†™æ³•éªŒè¯æ™®é€šç”¨æˆ·è¾“å…¥æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ”»å‡»äººå‘˜ä½¿ç”¨çš„æ˜¯ç‰¹æ®Šæ„é€ çš„å­—ç¬¦ä¸²æ¥éªŒè¯ï¼Œåˆ™æœ‰å¯èƒ½å¯¼è‡´æ­»å¾ªç¯ã€‚ ç¬¬äº”æ¡ï¼šã€å¼ºåˆ¶ã€‘ ç¦æ­¢å‘ HTML é¡µé¢è¾“å‡ºæœªç»å®‰å…¨è¿‡æ»¤æˆ–æœªæ­£ç¡®è½¬ä¹‰çš„ç”¨æˆ·æ•°æ®ã€‚ç¬¬å…­æ¡ï¼šã€å¼ºåˆ¶ã€‘ è¡¨å•ã€AJAX æäº¤å¿…é¡»æ‰§è¡Œ CSRF å®‰å…¨è¿‡æ»¤ ç¬¬ä¸ƒæ¡ï¼šã€å¼ºåˆ¶ã€‘ åœ¨ä½¿ç”¨å¹³å°èµ„æºï¼Œè­¬å¦‚çŸ­ä¿¡ã€é‚®ä»¶ã€ç”µè¯ã€ä¸‹å•ã€æ”¯ä»˜ï¼Œå¿…é¡»å®ç°æ­£ç¡®çš„é˜²é‡æ”¾é™åˆ¶ï¼Œå¦‚æ•°é‡é™åˆ¶ã€ç–²åŠ³åº¦æ§åˆ¶ã€éªŒè¯ç æ ¡éªŒï¼Œé¿å…è¢«æ»¥åˆ·ã€èµ„æŸã€‚ è¯´æ˜ï¼šå¦‚æ³¨å†Œæ—¶å‘é€éªŒè¯ç åˆ°æ‰‹æœºï¼Œå¦‚æœæ²¡æœ‰é™åˆ¶æ¬¡æ•°å’Œé¢‘ç‡ï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨æ­¤åŠŸèƒ½éªšæ‰°åˆ°å…¶å®ƒç”¨æˆ·ï¼Œå¹¶é€ æˆçŸ­ä¿¡å¹³å°èµ„æºæµªè´¹ã€‚ ç¬¬5ç« ï¼šMySQL æ•°æ®åº“5.1 å»ºè¡¨è§„çº¦ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ è¡¨åã€å­—æ®µåå¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–æ•°å­— ï¼Œ ç¦æ­¢å‡ºç°æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä¸¤ä¸ªä¸‹åˆ’çº¿ä¸­é—´åªå‡ºç°æ•°å­—ã€‚æ•°æ®åº“å­—æ®µåçš„ä¿®æ”¹ä»£ä»·å¾ˆå¤§ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œé¢„å‘å¸ƒï¼Œæ‰€ä»¥å­—æ®µåç§°éœ€è¦æ…é‡è€ƒè™‘ã€‚ è¯´æ˜ï¼š MySQL åœ¨ Windows ä¸‹ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†åœ¨ Linux ä¸‹é»˜è®¤åŒºåˆ†å¤§å°å†™ã€‚å› æ­¤ï¼Œæ•°æ®åº“åã€è¡¨æ˜ã€å­—æ®µåéƒ½ä¸å…è®¸å‡ºç°ä»»ä½•å¤§å†™å­—æ¯ï¼Œé¿å…èŠ‚å¤–ç”Ÿæã€‚ æ­£ä¾‹ï¼š getter _ admin ï¼Œ task _ config ï¼Œ level 3_ nameåä¾‹ï¼š GetterAdmin ï¼Œ taskConfig ï¼Œ level 3 name ç¬¬å››æ¡ï¼šã€å¼ºåˆ¶ã€‘ç¦ç”¨ä¿ç•™å­—ï¼Œå¦‚ desc ã€ range ã€ match ã€ delayed ç­‰ï¼Œè¯·å‚è€ƒ MySQL å®˜æ–¹ä¿ç•™å­—ã€‚ç¬¬äº”æ¡ï¼š ã€å¼ºåˆ¶ã€‘ä¸»é”®ç´¢å¼•åä¸º pk_ å­—æ®µåï¼›å”¯ä¸€ç´¢å¼•åä¸º uk _å­—æ®µå ï¼› æ™®é€šç´¢å¼•ååˆ™ä¸º idx _å­—æ®µåã€‚ è¯´æ˜ï¼š pk_ å³ primary keyï¼›uk _ å³ unique keyï¼›idx _ å³ index çš„ç®€ç§°ã€‚ ç¬¬å…­æ¡ï¼šã€å¼ºåˆ¶ã€‘å°æ•°ç±»å‹ä¸º decimal ï¼Œç¦æ­¢ä½¿ç”¨ float å’Œ double ã€‚ è¯´æ˜ï¼šfloat å’Œ double åœ¨å­˜å‚¨çš„æ—¶å€™ï¼Œå­˜åœ¨ç²¾åº¦æŸå¤±çš„é—®é¢˜ï¼Œå¾ˆå¯èƒ½åœ¨å€¼çš„æ¯”è¾ƒæ—¶ï¼Œå¾—åˆ°ä¸æ­£ç¡®çš„ç»“æœã€‚å¦‚æœå­˜å‚¨çš„æ•°æ®èŒƒå›´è¶…è¿‡ decimal çš„èŒƒå›´ï¼Œå»ºè®®å°†æ•°æ®æ‹†æˆæ•´æ•°å’Œå°æ•°åˆ†å¼€å­˜å‚¨ã€‚ ç¬¬å…«æ¡ï¼šã€å¼ºåˆ¶ã€‘ varchar æ˜¯å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œä¸é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé•¿åº¦ä¸è¦è¶…è¿‡ 5000ï¼Œå¦‚æœå­˜å‚¨é•¿åº¦å¤§äºæ­¤å€¼ï¼Œå®šä¹‰å­—æ®µç±»å‹ä¸º text ï¼Œç‹¬ç«‹å‡ºæ¥ä¸€å¼ è¡¨ï¼Œç”¨ä¸»é”®æ¥å¯¹åº”ï¼Œé¿å…å½±å“å…¶å®ƒå­—æ®µç´¢å¼•æ•ˆç‡ã€‚ç¬¬ä¹æ¡ï¼šã€å¼ºåˆ¶ã€‘è¡¨å¿…å¤‡ä¸‰å­—æ®µï¼š id , gmt _ create , gmt _ modified è¯´æ˜ï¼šå…¶ä¸­ id å¿…ä¸ºä¸»é”®ï¼Œç±»å‹ä¸º unsigned bigint ã€å•è¡¨æ—¶è‡ªå¢ã€æ­¥é•¿ä¸º 1ã€‚ gmt _ create ,gmt _ modified çš„ç±»å‹å‡ä¸º date _ time ç±»å‹ã€‚ ç¬¬åæ¡ï¼š ã€æ¨èã€‘è¡¨çš„å‘½åæœ€å¥½æ˜¯åŠ ä¸Šâ€œä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€ã€‚ æ­£ä¾‹ï¼š tiger _ task / tiger _ reader / mpp _ config ç¬¬åäº”æ¡ï¼šã€å‚è€ƒã€‘åˆé€‚çš„å­—ç¬¦å­˜å‚¨é•¿åº¦ï¼Œä¸ä½†èŠ‚çº¦æ•°æ®åº“è¡¨ç©ºé—´ã€èŠ‚çº¦ç´¢å¼•å­˜å‚¨ï¼Œæ›´é‡è¦çš„æ˜¯æå‡æ£€ç´¢é€Ÿåº¦ã€‚ æ­£ä¾‹ï¼šå¦‚ä¸‹è¡¨ï¼Œå…¶ä¸­æ— ç¬¦å·å€¼å¯ä»¥é¿å…è¯¯å­˜è´Ÿæ•°ï¼Œä¸”æ‰©å¤§äº†è¡¨ç¤ºèŒƒå›´ã€‚ å¯¹è±¡ å¹´é¾„åŒºé—´ ç±»å‹ è¡¨ç¤ºèŒƒå›´ äºº 150 å²ä¹‹å†… unsigned tinyint æ— ç¬¦å·å€¼ï¼š0 åˆ° 255 é¾Ÿ æ•°ç™¾å² unsigned smallint æ— ç¬¦å·å€¼ï¼š0 åˆ° 65535 æé¾™åŒ–çŸ³ æ•°åƒä¸‡å¹´ unsigned int æ— ç¬¦å·å€¼ï¼š0 åˆ°çº¦ 42.9 äº¿ å¤ªé˜³ çº¦ 50 äº¿å¹´ unsigned bigint æ— ç¬¦å·å€¼ï¼š0 åˆ°çº¦ 10 çš„ 19 æ¬¡æ–¹ 5.2 ç´¢å¼•è§„çº¦ç¬¬äº”æ¡ï¼š ã€æ¨èã€‘å¦‚æœæœ‰ order by çš„åœºæ™¯ï¼Œè¯·æ³¨æ„åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ã€‚ order by æœ€åçš„å­—æ®µæ˜¯ç»„åˆç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”æ”¾åœ¨ç´¢å¼•ç»„åˆé¡ºåºçš„æœ€åï¼Œé¿å…å‡ºç° file _ sort çš„æƒ…å†µï¼Œå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚ æ­£ä¾‹ï¼š where a =? and b =? order by c; ç´¢å¼•ï¼š a _ b _ cåä¾‹ï¼šç´¢å¼•ä¸­æœ‰èŒƒå›´æŸ¥æ‰¾ï¼Œé‚£ä¹ˆç´¢å¼•æœ‰åºæ€§æ— æ³•åˆ©ç”¨ï¼Œå¦‚ï¼š WHERE a &gt;10 ORDER BY b; ç´¢å¼• a _ b æ— æ³•æ’åºã€‚ ç¬¬ä¹æ¡ï¼š ã€æ¨èã€‘å»ºç»„åˆç´¢å¼•çš„æ—¶å€™ï¼ŒåŒºåˆ†åº¦æœ€é«˜çš„åœ¨æœ€å·¦è¾¹ã€‚æ­£ä¾‹ï¼šå¦‚æœ where a =? and b =? ï¼Œ a åˆ—çš„å‡ ä¹æ¥è¿‘äºå”¯ä¸€å€¼ï¼Œé‚£ä¹ˆåªéœ€è¦å•å»º idx _ a ç´¢å¼•å³å¯ã€‚ è¯´æ˜ï¼š å­˜åœ¨éç­‰å·å’Œç­‰å·æ··åˆåˆ¤æ–­æ¡ä»¶æ—¶ï¼Œåœ¨å»ºç´¢å¼•æ—¶ï¼Œè¯·æŠŠç­‰å·æ¡ä»¶çš„åˆ—å‰ç½®ã€‚å¦‚ï¼š where a &gt;? and b = ? é‚£ä¹ˆå³ä½¿ a çš„åŒºåˆ†åº¦æ›´é«˜ï¼Œä¹Ÿå¿…é¡»æŠŠ b æ”¾åœ¨ç´¢å¼•çš„æœ€å‰åˆ—ã€‚ 5.3 SQL è¯­å¥ç¬¬ä¸€æ¡ï¼šã€å¼ºåˆ¶ã€‘ä¸è¦ä½¿ç”¨ count( åˆ—å ) æˆ– count( å¸¸é‡ ) æ¥æ›¿ä»£ count( * ) ï¼Œ count( * ) æ˜¯ SQL 92 å®šä¹‰çš„æ ‡å‡†ç»Ÿè®¡è¡Œæ•°çš„è¯­æ³•ï¼Œè·Ÿæ•°æ®åº“æ— å…³ï¼Œè·Ÿ NULL å’Œé NULL æ— å…³ã€‚ è¯´æ˜ï¼š count( * ) ä¼šç»Ÿè®¡å€¼ä¸º NULL çš„è¡Œï¼Œè€Œ count( åˆ—å ) ä¸ä¼šç»Ÿè®¡æ­¤åˆ—ä¸º NULL å€¼çš„è¡Œã€‚ ç¬¬å…­æ¡ï¼š ã€å¼ºåˆ¶ã€‘ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ã€‚ è¯´æ˜ï¼š ï¼ˆ æ¦‚å¿µè§£é‡Š ï¼‰ å­¦ç”Ÿè¡¨ä¸­çš„ student _ id æ˜¯ä¸»é”®ï¼Œé‚£ä¹ˆæˆç»©è¡¨ä¸­çš„ student _ id åˆ™ä¸ºå¤–é”®ã€‚å¦‚æœæ›´æ–°å­¦ç”Ÿè¡¨ä¸­çš„ student _ id ï¼ŒåŒæ—¶è§¦å‘æˆç»©è¡¨ä¸­çš„ student _ id æ›´æ–°ï¼Œåˆ™ä¸ºçº§è”æ›´æ–°ã€‚å¤–é”®ä¸çº§è”æ›´æ–°é€‚ç”¨äºå•æœºä½å¹¶å‘ï¼Œä¸é€‚åˆåˆ†å¸ƒå¼ã€é«˜å¹¶å‘é›†ç¾¤ ï¼› çº§è”æ›´æ–°æ˜¯å¼ºé˜»å¡ï¼Œå­˜åœ¨æ•°æ®åº“æ›´æ–°é£æš´çš„é£é™© ï¼› å¤–é”®å½±å“æ•°æ®åº“çš„æ’å…¥é€Ÿåº¦ã€‚ ç¬¬å…«æ¡ï¼š ã€å¼ºåˆ¶ã€‘æ•°æ®è®¢æ­£æ—¶ï¼Œåˆ é™¤å’Œä¿®æ”¹è®°å½•æ—¶ï¼Œè¦å…ˆ select ï¼Œé¿å…å‡ºç°è¯¯åˆ é™¤ï¼Œç¡®è®¤æ— è¯¯æ‰èƒ½æ‰§è¡Œæ›´æ–°è¯­å¥ã€‚ 5.4 ORM æ˜ å°„ æ•´ä¸ªè§„çº¦å¯¹è‡ªå·±æ¥è¯´éƒ½æŒºæœ‰ç”¨çš„ï¼Œå› ä¸ºæ­£å¥½æ¶‰åŠåˆ°è¿™æ–¹é¢ï¼Œå¹¸å¥½æ„Ÿè§‰è„¸ä¸æ€ä¹ˆç–¼ã€‚ ç¬¬ä¸€æ¡ï¼šã€å¼ºåˆ¶ã€‘åœ¨è¡¨æŸ¥è¯¢ä¸­ï¼Œä¸€å¾‹ä¸è¦ä½¿ç”¨ * ä½œä¸ºæŸ¥è¯¢çš„å­—æ®µåˆ—è¡¨ï¼Œéœ€è¦å“ªäº›å­—æ®µå¿…é¡»æ˜ç¡®å†™æ˜ã€‚ è¯´æ˜ï¼š 1 ï¼‰ å¢åŠ æŸ¥è¯¢åˆ†æå™¨è§£ææˆæœ¬ã€‚2 ï¼‰ å¢å‡å­—æ®µå®¹æ˜“ä¸ resultMap é…ç½®ä¸ä¸€è‡´ã€‚ ç¬¬äºŒæ¡ï¼šã€å¼ºåˆ¶ã€‘ POJO ç±»çš„ å¸ƒå°” å±æ€§ä¸èƒ½åŠ  is ï¼Œè€Œæ•°æ®åº“å­—æ®µå¿…é¡»åŠ  is _ï¼Œè¦æ±‚åœ¨ resultMap ä¸­è¿›è¡Œå­—æ®µä¸å±æ€§ä¹‹é—´çš„æ˜ å°„ã€‚ è¯´æ˜ï¼š å‚è§å®šä¹‰ POJO ç±»ä»¥åŠæ•°æ®åº“å­—æ®µå®šä¹‰è§„å®šï¼Œåœ¨ ä¸­ å¢åŠ æ˜ å°„ï¼Œæ˜¯å¿…é¡»çš„ã€‚åœ¨ MyBatis Generator ç”Ÿæˆçš„ä»£ç ä¸­ï¼Œéœ€è¦è¿›è¡Œå¯¹åº”çš„ä¿®æ”¹ã€‚ ç¬¬ä¸‰æ¡ï¼šã€å¼ºåˆ¶ã€‘ä¸è¦ç”¨ resultClass å½“è¿”å›å‚æ•°ï¼Œå³ä½¿æ‰€æœ‰ç±»å±æ€§åä¸æ•°æ®åº“å­—æ®µä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿéœ€è¦å®šä¹‰ ï¼› åè¿‡æ¥ï¼Œæ¯ä¸€ä¸ªè¡¨ä¹Ÿå¿…ç„¶æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”ã€‚ è¯´æ˜ï¼š é…ç½®æ˜ å°„å…³ç³»ï¼Œä½¿å­—æ®µä¸ DO ç±»è§£è€¦ï¼Œæ–¹ä¾¿ç»´æŠ¤ã€‚ ç¬¬ä¸ƒæ¡ï¼šã€å¼ºåˆ¶ã€‘æ›´æ–°æ•°æ®è¡¨è®°å½•æ—¶ï¼Œå¿…é¡»åŒæ—¶æ›´æ–°è®°å½•å¯¹åº”çš„ gmt _ modified å­—æ®µå€¼ä¸ºå½“å‰æ—¶é—´ã€‚ç¬¬ä¹æ¡ï¼šã€å‚è€ƒã€‘@ Transactional äº‹åŠ¡ä¸è¦æ»¥ç”¨ã€‚äº‹åŠ¡ä¼šå½±å“æ•°æ®åº“çš„ QPS ï¼Œå¦å¤–ä½¿ç”¨äº‹åŠ¡çš„åœ°æ–¹éœ€è¦è€ƒè™‘å„æ–¹é¢çš„å›æ»šæ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç¼“å­˜å›æ»šã€æœç´¢å¼•æ“å›æ»šã€æ¶ˆæ¯è¡¥å¿ã€ç»Ÿè®¡ä¿®æ­£ç­‰ã€‚ æ€»ç»“æµè§ˆäº†ä¸€éï¼Œè¿˜æ˜¯å­¦ä¹ åˆ°äº†å¾ˆå¤šä¸œè¥¿å§ï¼Œä¸Šé¢ä¹Ÿä»…ä»…åªæ˜¯æ€»ç»“äº†å¯¹æˆ‘è‡ªå·±æ¯”è¾ƒæ”¶ç›Šï¼Œç°é˜¶æ®µæˆ‘èƒ½å¸æ”¶èƒ½å®é™…æ„Ÿå—å¾—åˆ°çš„è§„çº¦ï¼Œå¦‚æœæƒ³è¦ PDF ç‰ˆçš„å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼šæˆ³è¿™é‡Œ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Java-Web/å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/Java-Web/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"ä»£ç è§„èŒƒ","slug":"ä»£ç è§„èŒƒ","permalink":"http://www.wmyskxz.com/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"MyBatis(2)â€”â€”æ·±å…¥å­¦ä¹ ","slug":"MyBatis-2-â€”â€”æ·±å…¥å­¦ä¹ ","date":"2018-04-16T00:34:00.000Z","updated":"2020-08-03T08:49:04.869Z","comments":true,"path":"2018/04/16/mybatis-2-shen-ru-xue-xi/","link":"","permalink":"http://www.wmyskxz.com/2018/04/16/mybatis-2-shen-ru-xue-xi/","excerpt":"","text":"ç¼–å†™æ—¥å¿—è¾“å‡ºç¯å¢ƒé…ç½®æ–‡ä»¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„å°±æ˜¯åœ¨æ§åˆ¶å°æŸ¥çœ‹ç¨‹åºè¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ log4j å·¥å…·æ¥è¾“å‡ºï¼š å‡†å¤‡å·¥ä½œï¼š å°†ã€MyBatisã€‘æ–‡ä»¶å¤¹ä¸‹ã€libã€‘ä¸­çš„ log4j å¼€å¤´çš„ jar åŒ…éƒ½å¯¼å…¥å·¥ç¨‹å¹¶æ·»åŠ ä¾èµ–ã€‚åœ¨ã€srcã€‘ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ log4j.properties èµ„æº: # Global logging configuration # åœ¨å¼€å‘ç¯å¢ƒä¸‹æ—¥å¿—çº§åˆ«è¦è®¾ç½®æˆ DEBUG ï¼Œç”Ÿäº§ç¯å¢ƒè®¾ä¸º INFO æˆ– ERROR log4j.rootLogger=DEBUG, stdout # Console output... log4j.appender.stdout=org.apache.log4j.ConsoleAppender log4j.appender.stdout.layout=org.apache.log4j.PatternLayout log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%nå…¶ä¸­ï¼Œç¬¬ä¸€æ¡é…ç½®è¯­å¥ â€œlog4j.rootLogger=DEBUG, stdoutâ€ æŒ‡çš„æ˜¯æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œä¸€å…±æœ‰ 7 ä¸ªçº§åˆ«ï¼ˆOFFã€ FATALã€ ERRORã€ WARNã€ INFOã€ DEBUGã€ ALLï¼‰ã€‚ ä¸€èˆ¬å¸¸ç”¨çš„æ—¥å¿—è¾“å‡ºçº§åˆ«åˆ†åˆ«ä¸º DEBUGã€ INFOã€ ERROR ä»¥åŠ WARNï¼Œåˆ†åˆ«è¡¨ç¤º â€œè°ƒè¯•çº§åˆ«â€ã€ â€œæ ‡å‡†ä¿¡æ¯çº§åˆ«â€ã€ â€œé”™è¯¯çº§åˆ«â€ã€ â€œå¼‚å¸¸çº§åˆ«â€ã€‚å¦‚æœéœ€è¦æŸ¥çœ‹ç¨‹åºè¿è¡Œçš„è¯¦ç»†æ­¥éª¤ä¿¡æ¯ï¼Œä¸€èˆ¬é€‰æ‹© â€œDEBUGâ€ çº§åˆ«ï¼Œå› ä¸ºè¯¥çº§åˆ«åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œä¼šåœ¨æ§åˆ¶å°æ‰æ‰“å°å‡ºåº•å±‚çš„è¿è¡Œä¿¡æ¯ï¼Œä»¥åŠåœ¨ç¨‹åºä¸­ä½¿ç”¨ Log å¯¹è±¡æ‰“å°å‡ºè°ƒè¯•ä¿¡æ¯ã€‚ å¦‚æœæ˜¯æ—¥å¸¸çš„è¿è¡Œï¼Œé€‰æ‹© â€œINFOâ€ çº§åˆ«ï¼Œè¯¥çº§åˆ«ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡ºç¨‹åºè¿è¡Œçš„ä¸»è¦æ­¥éª¤ä¿¡æ¯ã€‚â€œERRORâ€ å’Œ â€œWARNâ€ çº§åˆ«åˆ†åˆ«ä»£è¡¨ â€œä¸å½±å“ç¨‹åºè¿è¡Œçš„é”™è¯¯äº‹ä»¶â€ å’Œ â€œæ½œåœ¨çš„é”™è¯¯æƒ…å½¢â€ã€‚ æ–‡ä»¶ä¸­ â€œstdoutâ€ è¿™æ®µé…ç½®çš„æ„æ€å°±æ˜¯å°† DEBUG çš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ° stdout å‚æ•°æ‰€æŒ‡å®šçš„è¾“å‡ºè½½ä½“ä¸­ã€‚ ç¬¬äºŒæ¡é…ç½®è¯­å¥ â€œlog4j.appender.stdout=org.apache.log4j.ConsoleAppenderâ€ çš„å«ä¹‰æ˜¯ï¼Œè®¾ç½®åä¸º stdout çš„è¾“å‡ºç«¯è½½ä½“æ˜¯å“ªç§ç±»å‹ã€‚ ç›®å‰è¾“å‡ºè½½ä½“æœ‰ConsoleAppenderï¼ˆæ§åˆ¶å°ï¼‰FileAppenderï¼ˆæ–‡ä»¶ï¼‰DailyRollingFileAppenderï¼ˆæ¯å¤©äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼‰RollingFileAppenderï¼ˆæ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå¤§å°æ—¶äº§ç”Ÿä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼‰WriterAppenderï¼ˆå°†æ—¥å¿—ä¿¡æ¯ä»¥æµæ ¼å¼å‘é€åˆ°ä»»æ„æŒ‡å®šçš„åœ°æ–¹ï¼‰ è¿™é‡Œè¦å°†æ—¥å¿—æ‰“å°åˆ° IDEA çš„æ§åˆ¶å°ï¼Œæ‰€ä»¥é€‰æ‹© ConsoleAppender ç¬¬ä¸‰æ¡é…ç½®è¯­å¥ â€œlog4j.appender.stdout.layout=org.apache.log4j.PatternLayoutâ€ çš„å«ä¹‰æ˜¯ï¼Œåä¸º stdout çš„è¾“å‡ºè½½ä½“çš„ layoutï¼ˆå³ç•Œé¢å¸ƒå±€ï¼‰æ˜¯å“ªç§ç±»å‹ã€‚ ç›®å‰è¾“å‡ºç«¯çš„ç•Œé¢ç±»å‹åˆ†ä¸ºHTMLLayoutï¼ˆä»¥ HTML è¡¨æ ¼å½¢å¼å¸ƒå±€ï¼‰PatternLayoutï¼ˆå¯ä»¥çµæ´»åœ°æŒ‡å®šå¸ƒå±€æ¨¡å¼ï¼‰SimpleLayoutï¼ˆåŒ…å«æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«å’Œä¿¡æ¯å­—ç¬¦ä¸²ï¼‰TTCCLayoutï¼ˆåŒ…å«æ—¥å¿—äº§ç”Ÿçš„æ—¶é—´ã€çº¿ç¨‹ã€ç±»åˆ«ç­‰ä¿¡æ¯ï¼‰ è¿™é‡Œé€‰æ‹©çµæ´»æŒ‡å®šå…¶å¸ƒå±€ç±»å‹ï¼Œå³è‡ªå·±å»é…ç½®å¸ƒå±€ã€‚ ç¬¬å››æ¡é…ç½®è¯­å¥ â€œlog4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%nâ€ çš„å«ä¹‰æ˜¯ï¼Œå¦‚æœ layout ç•Œé¢å¸ƒå±€é€‰æ‹©äº† PatternLayout çµæ´»å¸ƒå±€ç±»å‹ï¼Œè¦æŒ‡å®šçš„æ‰“å°ä¿¡æ¯çš„å…·ä½“æ ¼å¼ã€‚ æ ¼å¼ä¿¡æ¯é…ç½®å…ƒç´ å¤§è‡´å¦‚ä¸‹ï¼š%m è¾“å‡ºä»£ç ä¸­çš„æŒ‡å®šçš„ä¿¡æ¯%p è¾“å‡ºä¼˜å…ˆçº§ï¼Œå³ DEBUGã€ INFOã€ WARNã€ ERROR å’Œ FATAL%r è¾“å‡ºè‡ªåº”ç”¨å¯åŠ¨åˆ°è¾“å‡ºè¯¥ log ä¿¡æ¯è€—è´¹çš„æ¯«ç§’æ•°%c è¾“å‡ºæ‰€å±çš„ç±»ç›®ï¼Œé€šå¸¸å°±æ˜¯æ‰€åœ¨ç±»çš„å…¨å%t è¾“å‡ºäº§ç”Ÿè¯¥æ—¥å¿—äº‹ä»¶çš„çº¿ç¨‹å%n è¾“å‡ºä¸€ä¸ªå›è½¦æ¢è¡Œç¬¦ï¼ŒWindows å¹³å°ä¸º â€œrnâ€ï¼ŒUNIX å¹³å°ä¸º â€œnâ€%d è¾“å‡ºæ—¥å¿—æ—¶çš„æ—¶é—´æˆ–æ—¥æœŸï¼Œé»˜è®¤ä¸ªäº‹ä¸º ISO8601ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶åæŒ‡å®šæ ¼å¼ï¼Œæ¯”å¦‚ %d{yyy MMM dd HH:mm:ss}ï¼Œè¾“å‡ºç±»ä¼¼ï¼š2018 å¹´ 4 æœˆ18 æ—¥ 10:32:00%l è¾“å‡ºæ—¥å¿—äº‹ä»¶çš„å‘ç”Ÿä½ç½®ï¼ŒåŒ…æ‹¬ç±»ç›®åã€å‘ç”Ÿçš„çº¿ç¨‹ï¼Œä»¥åŠåœ¨ä»£ç ä¸­çš„è¡Œæ•° MyBatis é«˜çº§æ˜ å°„åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ä¸€ä¸ª MyBatis çš„å…¥é—¨ç¨‹åºçš„å¼€å‘ï¼Œäº†è§£äº† MyBatis å¼€å‘çš„åŸºæœ¬å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ MyBatis æ˜¯å¦‚ä½•å¤„ç†å¤šå¼ æ•°æ®åº“è¡¨ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š ä¸€å¯¹ä¸€çš„æŸ¥è¯¢ ä¸€å¯¹å¤šæŸ¥è¯¢ å¤šå¯¹å¤šæŸ¥è¯¢ å»¶è¿ŸåŠ è½½ ä¸€å¯¹ä¸€æŸ¥è¯¢ é¦–å…ˆæˆ‘ä»¬å…ˆæ¥å»ºç«‹ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼ˆåˆ æ‰ä¹‹å‰åˆ›å»ºçš„ student è¡¨ï¼‰ï¼š use mybatis; CREATE TABLE student ( id int(11) NOT NULL AUTO_INCREMENT, name varchar(255) DEFAULT NULL, card_id int(11) NOT NULL, PRIMARY KEY (id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; CREATE TABLE card ( id int(11) NOT NULL AUTO_INCREMENT, number int(11) NOT NULL, PRIMARY KEY (id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; INSERT INTO student VALUES (1,&#39;student1&#39;,1); INSERT INTO student VALUES (2,&#39;student2&#39;,2); INSERT INTO card VALUES (1,1111); INSERT INTO card VALUES (2,2222); æ³¨æ„ï¼š è¿™é‡Œå¹¶æ²¡æœ‰åœ¨æ•°æ®åº“ä¸­è®¾ç½®å¤–é”®ï¼Œè€Œæ˜¯è®© MyBatis å»å¤„ç†å¤šè¡¨ä¹‹é—´çš„å…³ç³»ã€‚äº‹å®ä¸Šï¼Œå¤–é”®åªæ˜¯ç”¨æ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚é«˜å¹¶å‘ç§’æ€ç³»ç»Ÿä¸­ï¼‰ï¼Œä¼šä¸“é—¨è®¾ç½®ä¸é€‚ç”¨å¤–é”®ï¼Œå› ä¸ºå­˜åœ¨ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚ ç„¶åæˆ‘ä»¬è¦æ¥ç¡®è®¤æˆ‘ä»¬æŸ¥è¯¢çš„ SQL è¯­å¥ï¼Œæˆ‘ä»¬æˆ–è®¸å¯ä»¥ç®€å•çš„å†™æˆä¸‹é¢è¿™æ ·ï¼š SELECT student.*, card.* FROM student,card WHERE student.card_id = card.id AND card.number = #{value} æç¤ºï¼š åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ€»æ˜¯å…ˆç¡®å®šä¸šåŠ¡çš„å…·ä½“ SQL ï¼Œå†å°†æ­¤ SQL é…ç½®åœ¨ Mapper æ–‡ä»¶ä¸­ ç¡®å®šäº†ä¸»è¦çš„æŸ¥è¯¢ SQL åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨ resultType å’Œ resultMap æ¥å®ç°è¿™ä¸ªä¸€å¯¹ä¸€æŸ¥è¯¢çš„å®ä¾‹ã€‚ 1. ä½¿ç”¨ resultType å®ç°é¦–å…ˆåˆ›å»ºå­¦ç”Ÿ student è¡¨æ‰€å¯¹åº”çš„ Java å®ä½“ç±» Studentï¼Œå…¶ä¸­å°è£…çš„å±æ€§ä¿¡æ¯ä¸ºå“åº”æ•°æ®åº“ä¸­çš„å­—æ®µï¼š package pojo; public class Student { int id; String name; int card_id; /* getter and setter */ } æœ€ç»ˆæˆ‘ä»¬æ‰§è¡ŒæŸ¥è¯¢ï¼ˆä¸Šè¿°çš„ SQL è¯­å¥ï¼‰çš„ç»“æœå¦‚ä¸‹ï¼š ç”±äºæœ€ç»ˆçš„æŸ¥è¯¢çš„ç»“æœæ˜¯ç”± resultType æŒ‡å®šçš„ï¼Œä¹Ÿå°±æ˜¯åªèƒ½æ˜ å°„ä¸€ä¸ªç¡®å®šçš„ Java åŒ…è£…ç±»ï¼Œä¸Šé¢çš„ Stuent ç±»åªåŒ…å«äº†å­¦ç”Ÿçš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰åŒ…å« Card çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæœ€ç»ˆæ˜ å°„ç±»ï¼Œä»¥ Student ç±»ä¸ºçˆ¶ç±»ï¼Œç„¶åè¿½åŠ  Card çš„ä¿¡æ¯ï¼š package pojo; public class StudentAndCard extends Student { private int number; /* getter and setter /* } ç„¶ååœ¨ Student.xml æ˜ å°„æ–‡ä»¶ä¸­å®šä¹‰ &lt;select&gt; ç±»å‹çš„æŸ¥è¯¢è¯­å¥ SQL é…ç½®ï¼Œå°†ä¹‹å‰è®¾è®¡å¥½çš„ SQL è¯­å¥é…ç½®è¿›å»ï¼Œç„¶åæŒ‡å®šè¾“å‡ºå‚æ•°å±æ€§ä¸º resultTypeï¼Œç±»å‹ä¸º StudentAndCard è¿™ä¸ª Java åŒ…è£…ç±»ï¼š &lt;select id=&quot;findStudentByCard&quot; parameterType=&quot;_int&quot; resultType=&quot;Student&quot;&gt; SELECT student.*, card.* FROM student,card WHERE student.card_id = card.id AND card.number = #{value} &lt;/select&gt;ç„¶ååœ¨æµ‹è¯•ç±»ä¸­ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š @Test public void test() throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = \"mybatis-config.xml\"; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // æ‰¾åˆ°èº«ä»½è¯èº«ä»½è¯å·ç ä¸º 1111 çš„å­¦ç”Ÿ StudentAndCard student = session.selectOne(\"findStudentByCard\",1111); // è·å¾—å…¶å§“åå¹¶è¾“å‡º System.out.println(student.getName()); } è·å¾—æ­£ç¡®ç»“æœï¼š 2. ä½¿ç”¨ resultMap å®ç°ä½¿ç”¨ resultMap å¯ä»¥å°†æ•°æ®å­—æ®µæ˜ å°„åˆ°åç§°ä¸ä¸€æ ·çš„å“åº”å®ä½“ç±»å±æ€§ä¸Šï¼Œé‡è¦çš„æ˜¯ï¼Œå¯ä»¥æ˜ å°„å®ä½“ç±»ä¸­åŒ…è£¹çš„å…¶ä»–å®ä½“ç±»ã€‚ é¦–å…ˆæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªå°è£…äº† Card å·ç å’Œ Student å®ä½“ç±»çš„ StudentWithCard ç±»ï¼š package pojo; public class StudentWithCard { Student student; int number; int id; /* getter and setter */ } SQL è¯­å¥ä¾ç„¶æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯ä½¿ç”¨çš„è¾“å‡ºæ˜ å°„å±æ€§æ”¹ä¸ºäº† resultMap ï¼Œå…¶ä¸­çš„æ˜ å°„ç±»å‹æ˜¯ id ä¸º StudentInfoMap çš„ resultMap é…ç½®ï¼š &lt;select id=&quot;findStudentByCard&quot; parameterType=&quot;_int&quot; resultMap=&quot;StudentInfoMap&quot;&gt; SELECT student.*, card.* FROM student,card WHERE student.card_id = card.id AND card.number = #{value} &lt;/select&gt; &lt;resultMap id=&quot;StudentInfoMap&quot; type=&quot;pojo.StudentWithCard&quot;&gt; &lt;!-- id æ ‡ç­¾è¡¨ç¤ºå¯¹åº”çš„ä¸»é”® column å¯¹åº”æŸ¥è¯¢ç»“æœçš„åˆ—å€¼ property å¯¹åº”å°è£…ç±»ä¸­çš„å±æ€§åç§° --&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt; &lt;!-- association è¡¨ç¤ºå…³è”çš„åµŒå¥—ç»“æœï¼Œ å¯ä»¥ç®€å•ç†è§£å°±æ˜¯ä¸ºå°è£…ç±»æŒ‡å®šçš„æ ‡ç­¾ --&gt; &lt;association property=&quot;student&quot; javaType=&quot;pojo.Student&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt; &lt;result column=&quot;card_id&quot; property=&quot;card_id&quot;/&gt; &lt;/association&gt; &lt;/resultMap&gt;ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æµ‹è¯•ç±»ï¼Œæµ‹è¯•ä½¿ç”¨ resultMap å®ç°çš„ä¸€å¯¹ä¸€æŸ¥è¯¢æ˜ å°„ï¼š @Test public void test() throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = &quot;mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // æ‰¾åˆ°èº«ä»½è¯èº«ä»½è¯å·ç ä¸º 1111 çš„å­¦ç”Ÿ StudentWithCard student = session.selectOne(&quot;findStudentByCard&quot;, 1111); // è·å¾—å…¶å§“åå¹¶è¾“å‡º System.out.println(student.getStudent().getName()); }æµ‹è¯•ä»ç„¶èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼š ä¸€å¯¹å¤šæŸ¥è¯¢ è¿˜æ˜¯å…ˆæ¥å»ºç«‹æ•°æ®æ¨¡å‹ï¼Œåˆ æ‰ä¹‹å‰çš„ï¼š use mybatis; CREATE TABLE student ( student_id int(11) NOT NULL AUTO_INCREMENT, name varchar(255) DEFAULT NULL, PRIMARY KEY (student_id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; CREATE TABLE class ( class_id int(11) NOT NULL AUTO_INCREMENT, name varchar(255) NOT NULL, student_id int(11) NOT NULL, PRIMARY KEY (class_id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; INSERT INTO student VALUES (1,&#39;student1&#39;); INSERT INTO student VALUES (2,&#39;student2&#39;); INSERT INTO class VALUES (1,&#39;Javaè¯¾&#39;,1); INSERT INTO class VALUES (2,&#39;Javaè¯¾&#39;,2); å…¶ä¸­ class çš„ name å­—æ®µè¡¨ç¤ºè¯¾ç¨‹çš„åç§°ã€‚ ç„¶åæˆ‘ä»¬æ¥ç¼–å†™æˆ‘ä»¬çš„ SQL è¯­å¥ï¼š SELECT student.* FROM student, class WHERE student.student_id = class.student_id AND class.class_id = #{value} æˆ‘ä»¬æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š æˆ‘ä»¬å†æ¥åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»ï¼š public class Student { private int id; private String name; /* getter and setter */ } public class Class { private int id; private String name; private List&lt;Student> students; /* getter and setter */ } åœ¨ Packageã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€class.xmlã€‘æ–‡ä»¶å®Œæˆé…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;class&quot;&gt; &lt;resultMap id=&quot;Students&quot; type=&quot;pojo.Student&quot;&gt; &lt;id column=&quot;student_id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt; &lt;/resultMap&gt; &lt;select id=&quot;listStudentByClassName&quot; parameterType=&quot;String&quot; resultMap=&quot;Students&quot;&gt; SELECT student.* FROM student, class WHERE student.student_id = class.student_id AND class.name= #{value} &lt;/select&gt; &lt;/mapper&gt;ç¼–å†™æµ‹è¯•ç±»ï¼š @Test public void test() throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = \"mybatis-config.xml\"; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // æŸ¥è¯¢ä¸ŠJavaè¯¾çš„å…¨éƒ¨å­¦ç”Ÿ List&lt;Student> students = session.selectList(\"listStudentByClassName\", \"Javaè¯¾\"); for (Student student : students) { System.out.println(\"ID:\" + student.getId() + \",NAME:\" + student.getName()); } } è¿è¡Œæµ‹è¯•ç»“æœï¼ŒæˆåŠŸï¼š å¤šå¯¹å¤šæŸ¥è¯¢ å»ºç«‹æ•°æ®æ¨¡å‹ï¼š use mybatis; CREATE TABLE students ( student_id int(11) NOT NULL AUTO_INCREMENT, student_name varchar(255) DEFAULT NULL, PRIMARY KEY (student_id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; CREATE TABLE courses ( course_id int(11) NOT NULL AUTO_INCREMENT, course_name varchar(255) NOT NULL, PRIMARY KEY (course_id) )AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; CREATE TABLE student_select_course( s_id int(11) NOT NULL, c_id int(11) NOT NULL, PRIMARY KEY(s_id,c_id) ) DEFAULT CHARSET=utf8; INSERT INTO students VALUES (1,&#39;student1&#39;); INSERT INTO students VALUES (2,&#39;student2&#39;); INSERT INTO courses VALUES (1,&#39;Javaè¯¾&#39;); INSERT INTO courses VALUES (2,&#39;Java Webè¯¾&#39;); INSERT INTO student_select_course VALUES(1,1); INSERT INTO student_select_course VALUES(1,2); INSERT INTO student_select_course VALUES(2,1); INSERT INTO student_select_course VALUES(2,2);æ ¹æ®è¦æ±‚æˆ‘ä»¬æ¥è®¾è®¡ä¸€ä¸‹ SQL è¯­è¨€ï¼š SELECT s.student_id,s.student_name FROM students s,student_select_course ssc,courses c WHERE s.student_id = ssc.s_id AND ssc.c_id = c.course_id AND c.course_name = #{value} æ‰§è¡Œ SQL ç»“æœå¦‚ä¸‹ï¼š å®ä½“ç±»é›·åŒï¼Œå°±ä¸å†èµ˜è¿°ï¼Œæˆ‘ä»¬ç›´æ¥æ¥é…ç½®æ˜ å°„æ–‡ä»¶ã€Student.xmlã€‘ï¼š &lt;resultMap id=&quot;Students&quot; type=&quot;pojo.Student&quot;&gt; &lt;id property=&quot;id&quot; column=&quot;student_id&quot;/&gt; &lt;result column=&quot;student_name&quot; property=&quot;name&quot;/&gt; &lt;/resultMap&gt; &lt;select id=&quot;findStudentsByCourseName&quot; parameterType=&quot;String&quot; resultMap=&quot;Students&quot;&gt; SELECT s.student_id,s.student_name FROM students s,student_select_course ssc,courses c WHERE s.student_id = ssc.s_id AND ssc.c_id = c.course_id AND c.course_name = #{value} &lt;/select&gt;æµ‹è¯•ç±»ä¹Ÿé›·åŒï¼Œåªéœ€è¦ä¿®æ”¹ä¸€ä¸‹è°ƒç”¨çš„ id ï¼ˆæ”¹ä¸ºfindStudentsByCourseNameï¼‰å°±å¥½äº†ï¼Œç›´æ¥ä¸Šæµ‹è¯•ç»“æœï¼š ç›¸åä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œé‡è¦çš„æ˜¯ SQL è¯­å¥å’Œæ˜ å°„ã€‚ æ€»ç»“ï¼š è‡ªå·±å†™çš„ SQL è¯­å¥çœ‹ç€è™½ç„¶æ²¡æœ‰å¾ˆæ¶å¿ƒï¼ˆè‡³å°‘æ€è·¯æ¸…æ™°ï¼‰ï¼Œä½†æ„Ÿè§‰å¾ˆçƒ‚ï¼ ç»“åˆ SQL è¯­è¨€å’Œæ˜ å°„æ–‡ä»¶ï¼Œèƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„æ“ä½œæ•°æ®åº“ æ•°æ®åº“è¿˜æ˜¯å»ºç«‹å¤–é”®å¾—å¥½â€¦.ï¼ˆå•ªå•ªæ‰“è„¸ï¼Œæ ¹æ®ã€Šé˜¿é‡ŒJavaå¼€å‘æ‰‹å†Œã€‹é‡Œæåˆ°ï¼Œæœ€å¥½ä¸è¦å»ºå¤–é”®ï¼Œè€Œè®©ç¨‹åºçš„Serviceå±‚å»åšåˆ¤æ–­ï¼‰ å»¶è¿ŸåŠ è½½ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿä»å­—é¢ä¸Šç†è§£ï¼Œå°±æ˜¯å¯¹æŸä¸€ç±»ä¿¡æ¯çš„åŠ è½½ä¹‹å‰éœ€è¦å»¶è¿Ÿä¸€ä¼šå„¿ã€‚åœ¨ MyBatis ä¸­ï¼Œé€šå¸¸ä¼šè¿›è¡Œå¤šè¡¨è”åˆæŸ¥è¯¢ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™ä¸ä¼šç«‹å³ç”¨åˆ°æ‰€æœ‰çš„è”åˆæŸ¥è¯¢ç»“æœï¼Œè¿™æ—¶å€™å°±å¯ä»¥é‡‡ç”¨å»¶è¿ŸåŠ è½½çš„åŠŸèƒ½ã€‚ åŠŸèƒ½ï¼š å»¶è¿ŸåŠ è½½å¯ä»¥åšåˆ°ï¼Œå…ˆä»å•è¡¨æŸ¥è¯¢ï¼Œéœ€è¦æ—¶å†ä»å…³è”è¡¨å…³è”æŸ¥è¯¢ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†æ•°æ®åº“çš„æ€§èƒ½ï¼Œå› ä¸ºæŸ¥è¯¢å•è¡¨è¦æ¯”å…³è”æŸ¥è¯¢å¤šå¼ è¡¨é€Ÿåº¦å¿«ã€‚ å®ä¾‹ï¼š å¦‚æœæŸ¥è¯¢è®¢å•å¹¶ä¸”å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚å¦‚æœå…ˆæŸ¥è¯¢è®¢å•ä¿¡æ¯å³å¯æ»¡è¶³è¦æ±‚ï¼Œå½“æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æ—¶å†æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚æŠŠå¯¹ç”¨æˆ·ä¿¡æ¯çš„æŒ‰éœ€å»æŸ¥è¯¢å°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚ å…³è”æŸ¥è¯¢ï¼š SELECT orders.*, user.username FROM orders, user WHERE orders.user_id = user.id å»¶è¿ŸåŠ è½½ç›¸å½“äºï¼š SELECT orders.*, (SELECT username FROM USER WHERE orders.user_id = user.id) username FROM ordersæ‰€ä»¥è¿™å°±æ¯”è¾ƒç›´è§‚äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘æŠŠå…³è”æŸ¥è¯¢åˆ†ä¸¤æ¬¡æ¥åšï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§æŸ¥å‡ºæ‰€æœ‰çš„ã€‚ç¬¬ä¸€æ­¥åªæŸ¥è¯¢å•è¡¨ordersï¼Œå¿…ç„¶ä¼šæŸ¥å‡ºordersä¸­çš„ä¸€ä¸ªuser_idå­—æ®µï¼Œç„¶åæˆ‘å†æ ¹æ®è¿™ä¸ªuser_idæŸ¥userè¡¨ï¼Œä¹Ÿæ˜¯å•è¡¨æŸ¥è¯¢ã€‚ å‚è€ƒæ–‡ç« ï¼š ã€MyBatiså­¦ä¹ 11ã€‘MyBatisä¸­çš„å»¶è¿ŸåŠ è½½ Mapper æ˜ å°„é…ç½®ç¼–å†™é¦–å…ˆåœ¨ Mapper æ˜ å°„æ–‡ä»¶ä¸­å®šä¹‰åªæŸ¥è¯¢æ‰€æœ‰è®¢å•ä¿¡æ¯çš„ SQL : &lt;select id=&quot;findOrdersUserLazyLoading&quot; resultMap=&quot;OrdersUserLazyLoadingResultMap&quot;&gt; SELECT * FROM orders &lt;/select&gt;ä¸Šé¢çš„ SQL è¯­å¥æŸ¥è¯¢æ‰€æœ‰çš„è®¢å•ä¿¡æ¯ï¼Œè€Œæ¯ä¸ªè®¢å•ä¿¡æ¯ä¸­ä¼šå…³è”æŸ¥è¯¢ç”¨æˆ·ï¼Œä½†ç”±äºå¸Œæœ›å»¶è¿ŸåŠ è½½ç”¨æˆ·ä¿¡æ¯ï¼Œæ‰€ä»¥ä¼šåœ¨ id ä¸º â€œOrdersUserLazyLoadingResultMapâ€œ çš„ resultMap å¯¹åº”çš„ç»“æœé›†é…ç½®ä¸­è¿›è¡Œé…ç½®ï¼š æœ€åé…ç½®å»¶è¿ŸåŠ è½½è¦æ‰§è¡Œçš„è·å–ç”¨æˆ·ä¿¡æ¯çš„ SQLï¼š &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt; select * from user where id = #{id} &lt;/select&gt;ä¸Šé¢çš„é…ç½®ä¼šè¢«ç”¨æ¥å»¶è¿ŸåŠ è½½çš„ resultMap ä¸­çš„ association è°ƒç”¨ï¼Œè¾“å…¥å‚æ•°å°±æ˜¯ association ä¸­ column ä¸­å®šä¹‰çš„å­—æ®µä¿¡æ¯ã€‚ åœ¨ç¼–å†™æµ‹è¯•æ–¹æ³•ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å¼€å¯å»¶è¿ŸåŠ è½½åŠŸèƒ½ï¼ˆè¿™åœ¨ MyBatis ä¸­é»˜è®¤æ˜¯ç¦ç”¨æ‰çš„ï¼‰ã€‚è¿™éœ€è¦åœ¨ MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ mybatis-config.xml ä¸­é…ç½® setting å±æ€§ï¼Œå°†å»¶è¿ŸåŠ è½½ï¼ˆlazyLoadingEnableï¼‰çš„å¼€å…³è®¾ç½®æˆ â€œtureâ€ ï¼Œå¹¶ä¸”ç”±äºæ˜¯æŒ‰éœ€åŠ è½½ï¼Œæ‰€ä»¥è¿˜éœ€è¦å°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæåŠ è½½ï¼š &lt;settings&gt; &lt;!-- æ‰“å¼€å»¶è¿ŸåŠ è½½çš„å¼€å…³ --&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt; &lt;!-- å°†ç§¯æåŠ è½½æ”¹ä¸ºæ¶ˆæåŠ è½½ï¼Œå³å»¶è¿ŸåŠ è½½ --&gt; &lt;setting name=&quot;aggressiveLazyLoading&quot; value=&quot;false&quot;/&gt; &lt;/settings&gt; æ³¨æ„ï¼š åœ¨ configuration ä¸­é…ç½®æ˜¯æœ‰ä¸€å®šé¡ºåºçš„ï¼Œå…·ä½“å¯ä»¥æŒ‰ä½ã€Ctrlã€‘ä¸æ”¾ç‚¹å‡» configuration å±æ€§ï¼Œèƒ½çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼ˆå³å®šä¹‰çš„é¡ºåºï¼‰ï¼š &lt;!ELEMENT configuration (properties?, settings?, typeAliases?, typeHandlers?, objectFactory?, objectWrapperFactory?, reflectorFactory?, plugins?, environments?, databaseIdProvider?, mappers?)&gt; Mapper åŠ¨æ€ä»£ç†ä»€ä¹ˆæ˜¯ Mapper åŠ¨æ€ä»£ç†ï¼Ÿä¸€èˆ¬åˆ›å»º Web å·¥ç¨‹æ—¶ï¼Œä»æ•°æ®åº“å–æ•°æ®çš„é€»è¾‘ä¼šæ”¾ç½®åœ¨ DAO å±‚ï¼ˆDate Access Objectï¼Œæ•°æ®è®¿é—®å¯¹è±¡ï¼‰ã€‚ä½¿ç”¨ MyBatis å¼€å‘ Web å·¥ç¨‹æ—¶ï¼Œé€šè¿‡ Mapper åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œå¯ä»¥åªç¼–å†™æ•°æ®äº¤äº’çš„æ¥å£åŠæ–¹æ³•å®šä¹‰ï¼Œå’Œå¯¹åº”çš„ Mapper æ˜ å°„æ–‡ä»¶ï¼Œå…·ä½“çš„äº¤äº’æ–¹æ³•å®ç°ç”± MyBatis æ¥å®Œæˆã€‚è¿™æ ·å¤§å¤§èŠ‚çœäº†å¼€å‘ DAO å±‚çš„æ—¶é—´ã€‚ å®ç° Mapper ä»£ç†çš„æ–¹æ³•å¹¶ä¸éš¾ï¼Œåªéœ€è¦éµå¾ªä¸€å®šçš„å¼€å‘è§„èŒƒå³å¯ã€‚ Mapper ä»£ç†å®ä¾‹ç¼–å†™æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªä½¿ç”¨ Mapper ä»£ç†æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯çš„ç¤ºä¾‹ï¼Œé¦–å…ˆè¿˜æ˜¯åœ¨ã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªåä¸º StudentMapper.xml çš„ Mapper é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å¯¹ Student çš„å¢åˆ æ”¹æŸ¥çš„ SQL é…ç½®ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;mapper.StudentMapper&quot;&gt; &lt;!-- æŸ¥è¯¢å­¦ç”Ÿ --&gt; &lt;select id=&quot;findStudentById&quot; parameterType=&quot;_int&quot; resultType=&quot;pojo.Student&quot;&gt; SELECT * FROM student WHERE student_id = #{id} &lt;/select&gt; &lt;!-- å¢åŠ ç”¨æˆ· --&gt; &lt;insert id=&quot;insertStudent&quot; parameterType=&quot;pojo.Student&quot;&gt; INSERT INTO student(student_id, name) VALUES(#{id}, #{name}) &lt;/insert&gt; &lt;!-- åˆ é™¤ç”¨æˆ· --&gt; &lt;delete id=&quot;deleteStudent&quot; parameterType=&quot;_int&quot;&gt; DELETE FROM student WHERE student_id = #{id} &lt;/delete&gt; &lt;!-- ä¿®æ”¹ç”¨æˆ· --&gt; &lt;update id=&quot;updateStudent&quot; parameterType=&quot;pojo.Student&quot;&gt; UPDATE student SET name = #{name} WHERE student_id = #{id} &lt;/update&gt; &lt;/mapper&gt;å¦‚æœéœ€è¦ä½¿ç”¨ StudentMapper.xml çš„ Mapper ä»£ç†ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåä¸º StudentMapperã€‚ç„¶ååœ¨é‡Œé¢æ–°å»ºå››ä¸ªæ–¹æ³•å®šä¹‰ï¼Œåˆ†åˆ«å¯¹åº” StudentMapper.xml ä¸­çš„ Student çš„å¢åˆ æ”¹æŸ¥çš„ SQL é…ç½®ï¼Œç„¶åå°† StudentMapper ä¸­çš„ namespace æ”¹ä¸º StudentMapper æ¥å£å®šä¹‰çš„åœ°æ–¹ï¼ˆä¹Ÿå°±æ˜¯ mapper åŒ…ä¸‹çš„ StudentMapperï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸šåŠ¡ç±»ä¸­ä½¿ç”¨ Mapper ä»£ç†äº†ï¼Œæ¥å£ä»£ç å¦‚ä¸‹ï¼š package mapper; import pojo.Student; public interface StudentMapper { // æ ¹æ® id æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ public Student findStudentById(int id) throws Exception; // æ·»åŠ å­¦ç”Ÿä¿¡æ¯ public void insertStudent(Student student) throws Exception; // åˆ é™¤å­¦ç”Ÿä¿¡æ¯ public void deleteStudent(int id) throws Exception; // ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯ public void updateStudent(Student student) throws Exception; } æ³¨æ„ï¼š åˆ«å¿˜äº†åœ¨ mybatis-config.xml ä¸­é…ç½®ä¸€ä¸‹ Mapper æ˜ å°„æ–‡ä»¶ æµ‹è¯•åŠ¨æ€ä»£ç†åœ¨æµ‹è¯•æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ SqlSession ç±»çš„ getMapper æ–¹æ³•ï¼Œå¹¶å°†è¦åŠ è½½çš„ Mapper ä»£ç†çš„æ¥å£ç±»ä¼ é€’è¿›å»ï¼Œå°±å¯ä»¥è·å¾—ç›¸å…³çš„ Mapper ä»£ç†å¯¹è±¡ï¼Œä½¿ç”¨ Mapper ä»£ç†å¯¹è±¡å»å¯¹å­¦ç”Ÿä¿¡æ¯è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼š @Test public void test() throws Exception { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = &quot;mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // è·å– Mapper ä»£ç† StudentMapper studentMapper = session.getMapper(StudentMapper.class); // æ‰§è¡Œ Mapper ä»£ç†ç‹¬äº«çš„æŸ¥è¯¢æ–¹æ³• Student student = studentMapper.findStudentById(1); System.out.println(&quot;å­¦ç”Ÿçš„å§“åä¸ºï¼š&quot; + student.getName()); session.close(); }è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼Œçœ‹åˆ°æ­£ç¡®çš„ç»“æœï¼š ä½¿ç”¨ Mapper ä»£ç†å¯ä»¥è®©å¼€å‘æ›´åŠ ç®€æ´ï¼Œä½¿æŸ¥è¯¢ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œå·¥ç¨‹ç»“æ„æ›´åŠ è§„èŒƒã€‚ ä½¿ç”¨æ³¨è§£å¼€å‘ MyBatisåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†æ–¹ä¾¿çš„ Mapper ä»£ç†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥çœæ‰ XML çš„é…ç½®ä¿¡æ¯ï¼Œè¿›è€Œä½¿ç”¨æ–¹ä¾¿çš„æ³¨è§£æ¥å¼€å‘ MyBatis ï¼Œè®©æˆ‘ä»¬å®é™…æ¥æ“ç»ƒä¸€ä¸‹ï¼š ç¬¬ä¸€æ­¥ï¼šä¸º Mapper å¢åŠ æ³¨è§£æˆ‘ä»¬æŠŠ StudentMapper.xml ä¸‹é…ç½®çš„ SQL è¯­å¥é€šè¿‡æ³¨è§£çš„æ–¹å¼åŸå°ä¸åŠ¨çš„é…ç½®åœ¨ StudentMapper æ¥å£ä¸­ï¼š public interface StudentMapper { // æ ¹æ® id æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ @Select(&quot;SELECT * FROM student WHERE student_id = #{id}&quot;) public Student findStudentById(int id) throws Exception; // æ·»åŠ å­¦ç”Ÿä¿¡æ¯ @Insert(&quot;INSERT INTO student(student_id, name) VALUES(#{id}, #{name})&quot;) public void insertStudent(Student student) throws Exception; // åˆ é™¤å­¦ç”Ÿä¿¡æ¯ @Delete(&quot;DELETE FROM student WHERE student_id = #{id}&quot;) public void deleteStudent(int id) throws Exception; // ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯ @Update(&quot;UPDATE student SET name = #{name} WHERE student_id = #{id}&quot;) public void updateStudent(Student student) throws Exception; }ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ mybatis-config.xmlå°†ä¹‹å‰é…ç½®çš„æ˜ å°„æ³¨é‡Šæ‰ï¼Œæ–°å»ºä¸€æ¡ï¼š &lt;!-- æ˜ å°„æ–‡ä»¶ --&gt; &lt;mappers&gt; &lt;!--&lt;mapper resource=&quot;pojo/StudentMapper.xml&quot;/&gt;--&gt; &lt;mapper class=&quot;mapper.StudentMapper&quot;/&gt; &lt;/mappers&gt; æ³¨æ„ï¼š è¿™æ¬¡æ˜ å°„çš„å¹¶ä¸æ˜¯æ–‡ä»¶ï¼ˆä½¿ç”¨ resource å±æ€§ï¼‰ï¼Œè€Œæ˜¯ç±»ï¼ˆä½¿ç”¨ class å±æ€§ï¼‰ ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œæµ‹è¯•ä»£ç ä¸Šé¢çš„æµ‹è¯•ä»£ç ä¸ç”¨ä¿®æ”¹ï¼Œç›´æ¥è¿è¡Œï¼Œä¹Ÿèƒ½å¾—åˆ°æ­£ç¡®ç»“æœï¼š æ›´å¤šçš„æ³¨è§£ï¼šæˆ³è¿™é‡Œ MyBatis ç¼“å­˜ç»“æ„ åœ¨ Web ç³»ç»Ÿä¸­ï¼Œæœ€é‡è¦çš„æ“ä½œå°±æ˜¯æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™æŸ¥è¯¢æ•°æ®çš„é¢‘ç‡éå¸¸é«˜ï¼Œè¿™æ˜¯å¾ˆè€—è´¹æ•°æ®åº“èµ„æºçš„ï¼Œå¾€å¾€ä¼šå¯¼è‡´æ•°æ®åº“æŸ¥è¯¢æ•ˆç‡æä½ï¼Œå½±å“å®¢æˆ·çš„æ“ä½œä½“éªŒã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›å˜åŠ¨ä¸å¤§ä¸”è®¿é—®é¢‘ç‡é«˜çš„æ•°æ®ï¼Œæ”¾ç½®åœ¨ä¸€ä¸ªç¼“å­˜å®¹å™¨ä¸­ï¼Œç”¨æˆ·ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ—¶å°±ä»ç¼“å­˜å®¹å™¨ä¸­è·å–ç»“æœã€‚ MyBatis æ‹¥æœ‰è‡ªå·±çš„ç¼“å­˜ç»“æ„ï¼Œå¯ä»¥ç”¨æ¥ç¼“è§£æ•°æ®åº“å‹åŠ›ï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚ mybatisä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªSqlSessionçº§åˆ«ï¼Œsqlsessionåªèƒ½è®¿é—®è‡ªå·±çš„ä¸€çº§ç¼“å­˜çš„æ•°æ® äºŒçº§ç¼“å­˜æ˜¯è·¨sqlSessionï¼Œæ˜¯mapperçº§åˆ«çš„ç¼“å­˜ï¼Œå¯¹äºmapperçº§åˆ«çš„ç¼“å­˜ä¸åŒçš„sqlsessionæ˜¯å¯ä»¥å…±äº«çš„ã€‚ ä¸€çº§æŸ¥è¯¢ç¼“å­˜ä¸€çº§æŸ¥è¯¢å­˜åœ¨äºæ¯ä¸€ä¸ª SqlSession ç±»çš„å®ä¾‹å¯¹è±¡ä¸­ï¼Œå½“ç¬¬ä¸€æ¬¡æŸ¥è¯¢æŸä¸€ä¸ªæ•°æ®æ—¶ï¼ŒSqlSession ç±»çš„å®ä¾‹å¯¹è±¡ä¼šå°†è¯¥æ•°æ®å­˜å…¥ä¸€çº§ç¼“å­˜åŒºåŸŸï¼Œåœ¨æ²¡æœ‰æ”¶åˆ°æ”¹å˜è¯¥æ•°æ®çš„è¯·æ±‚ä¹‹å‰ï¼Œç”¨æˆ·å†æ¬¡æŸ¥è¯¢è¯¥æ•°æ®ï¼Œéƒ½ä¼šä»ç¼“å­˜ä¸­è·å–è¯¥æ•°æ®ï¼Œè€Œä¸æ˜¯å†æ¬¡è¿æ¥æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ã€‚ MyBatis çš„ä¸€çº§ç¼“å­˜åŸç†ï¼š ç¬¬ä¸€æ¬¡å‘å‡ºä¸€ä¸ªæŸ¥è¯¢ sqlï¼Œsql æŸ¥è¯¢ç»“æœå†™å…¥ sqlsession çš„ä¸€çº§ç¼“å­˜ä¸­ï¼Œç¼“å­˜ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ª map keyï¼šhashcode+sql+sqlè¾“å…¥å‚æ•°+è¾“å‡ºå‚æ•°ï¼ˆsqlçš„å”¯ä¸€æ ‡è¯†ï¼‰ valueï¼šç”¨æˆ·ä¿¡æ¯ åŒä¸€ä¸ª sqlsession å†æ¬¡å‘å‡ºç›¸åŒçš„ sqlï¼Œå°±ä»ç¼“å­˜ä¸­å–ä¸èµ°æ•°æ®åº“ã€‚å¦‚æœä¸¤æ¬¡ä¸­é—´å‡ºç° commit æ“ä½œï¼ˆä¿®æ”¹ã€æ·»åŠ ã€åˆ é™¤ï¼‰ï¼Œæœ¬ sqlsession ä¸­çš„ä¸€çº§ç¼“å­˜åŒºåŸŸå…¨éƒ¨æ¸…ç©ºï¼Œä¸‹æ¬¡å†å»ç¼“å­˜ä¸­æŸ¥è¯¢ä¸åˆ°æ‰€ä»¥è¦ä»æ•°æ®åº“æŸ¥è¯¢ï¼Œä»æ•°æ®åº“æŸ¥è¯¢åˆ°å†å†™å…¥ç¼“å­˜ã€‚ ä¸€çº§ç¼“å­˜ç¤ºä¾‹ æˆ‘ä»¬åœ¨åŒä¸€ä¸ª session ä¸­æŸ¥è¯¢ä¸¤æ¬¡ id = 1 çš„ Category å¯¹è±¡è¯•ä¸€è¯•ï¼š public static void main(String[] args) throws IOException { String resource = &quot;mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); SqlSession session1 = sqlSessionFactory.openSession(); Category c1 = session1.selectOne(&quot;getCategory&quot;, 1); System.out.println(c1); Category c2 = session1.selectOne(&quot;getCategory&quot;, 1); System.out.println(c2); session1.commit(); session1.close(); }è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡ä¼šå»æ•°æ®åº“ä¸­å–æ•°æ®ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡å°±ä¸ä¼šè®¿é—®æ•°æ®åº“äº†ï¼Œè€Œæ˜¯ç›´æ¥ä»sessionä¸­å–å‡ºæ¥ï¼š æˆ‘ä»¬å†æ¥æµ‹è¯•ä¸€ä¸‹åœ¨ä¸åŒ session é‡ŒæŸ¥è¯¢ç›¸åŒçš„ id æ•°æ® public static void main(String[] args) throws IOException { String resource = &quot;mybatis-config.xml&quot;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); SqlSession session1 = sqlSessionFactory.openSession(); Category c1 = session1.selectOne(&quot;getCategory&quot;, 1); System.out.println(c1); Category c2 = session1.selectOne(&quot;getCategory&quot;, 1); System.out.println(c2); session1.commit(); session1.close(); SqlSession session2 = sqlSessionFactory.openSession(); Category c3 = session2.selectOne(&quot;getCategory&quot;, 1); System.out.println(c3); session2.commit(); session2.close(); }è¿™ä¸€æ¬¡ï¼Œå¦å¤–æ‰“å¼€ä¸€ä¸ª session , å–åŒæ · id çš„æ•°æ®ï¼Œå°±ä¼šå‘ç°éœ€è¦æ‰§è¡Œ sql è¯­å¥ï¼Œè¯å®äº†ä¸€çº§ç¼“å­˜æ˜¯åœ¨ session é‡Œçš„ï¼š MyBatis ä¸€çº§ç¼“å­˜å€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼š MyBatis é»˜è®¤å°±æ˜¯æ”¯æŒä¸€çº§ç¼“å­˜çš„ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬é…ç½®. MyBatis å’Œ spring æ•´åˆåè¿›è¡Œ mapper ä»£ç†å¼€å‘ï¼Œä¸æ”¯æŒä¸€çº§ç¼“å­˜ï¼Œmybatiså’Œ spring æ•´åˆï¼Œspring æŒ‰ç…§ mapper çš„æ¨¡æ¿å»ç”Ÿæˆ mapper ä»£ç†å¯¹è±¡ï¼Œæ¨¡æ¿ä¸­åœ¨æœ€åç»Ÿä¸€å…³é—­ sqlsessionã€‚ äºŒçº§æŸ¥è¯¢ç¼“å­˜ é—®é¢˜ï¼š æœ‰äº›æ—¶å€™ï¼Œåœ¨ Web å·¥ç¨‹ä¸­ä¼šå°†æ‰§è¡ŒæŸ¥è¯¢æ“ä½œçš„æ–¹æ³•å°è£…åœ¨æŸä¸ª Service æ–¹æ³•ä¸­ï¼Œå½“æŸ¥è¯¢å®Œä¸€æ¬¡åï¼ŒService æ–¹æ³•ç»“æŸï¼Œæ­¤æ—¶ SqlSession ç±»çš„å®ä¾‹å¯¹è±¡å°±ä¼šå…³é—­ï¼Œä¸€çº§ç¼“å­˜å°±ä¼šè¢«æ¸…ç©ºã€‚ äºŒçº§ç¼“å­˜åŸç†ï¼š äºŒçº§ç¼“å­˜çš„èŒƒå›´æ˜¯ mapper çº§åˆ«ï¼ˆmapperå³åŒä¸€ä¸ªå‘½åç©ºé—´ï¼‰ï¼Œmapper ä»¥å‘½åç©ºé—´ä¸ºå•ä½åˆ›å»ºç¼“å­˜æ•°æ®ç»“æ„ï¼Œç»“æ„æ˜¯ mapã€‚ è¦å¼€å¯äºŒçº§ç¼“å­˜ï¼Œéœ€è¦è¿›è¡Œä¸¤æ­¥æ“ä½œã€‚ ç¬¬ä¸€æ­¥ï¼šåœ¨ MyBatis çš„å…¨å±€é…ç½®æ–‡ä»¶ mybatis-config.xml ä¸­é…ç½® setting å±æ€§ï¼Œè®¾ç½®åä¸º â€œcacheEnableâ€ çš„å±æ€§å€¼ä¸º â€œtrueâ€ å³å¯ï¼š &lt;settings&gt; &lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt; &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt; &lt;/settings&gt; æ³¨æ„ï¼š settings é…ç½®çš„ä½ç½®ä¸€å®šæ˜¯åœ¨ properties åé¢ï¼ŒtypeAliaseså‰é¢ï¼ ç¬¬äºŒæ­¥ï¼šç„¶åç”±äºäºŒçº§ç¼“å­˜æ˜¯ Mapper çº§åˆ«çš„ï¼Œè¿˜è¦åœ¨éœ€è¦å¼€å¯äºŒçº§ç¼“å­˜çš„å…·ä½“ mapper.xml æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜ï¼Œåªéœ€è¦åœ¨ç›¸åº”çš„ mapper.xml ä¸­æ·»åŠ ä¸€ä¸ª cache æ ‡ç­¾å³å¯ï¼š &lt;!-- å¼€å¯æœ¬ Mapper çš„ namespace ä¸‹çš„äºŒçº§ç¼“å­˜ --&gt; &lt;cache /&gt;å¼€å¯äºŒçº§ç¼“å­˜ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæŸ¥è¯¢ç»“æœæ˜ å°„çš„ POJO ç±»å®ç° java.io.serializable æ¥å£ï¼ŒäºŒçº§ç¼“å­˜å¯ä»¥å°†å†…å­˜çš„æ•°æ®å†™åˆ°ç£ç›˜ï¼Œå­˜åœ¨å¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œæ‰€ä»¥è¦å®ç°java.io.serializableæ¥å£ã€‚ äºŒçº§ç¼“å­˜ç¤ºä¾‹æˆ‘ä»¬åœ¨åŒä¸€ä¸ª SessionFactory ä¸‹æŸ¥è¯¢ id = 1 çš„æ•°æ®ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡éœ€è¦æ‰§è¡Œ SQL è¯­å¥ï¼Œä»åéƒ½æ˜¯ä»ç¼“å­˜ä¸­å–å‡ºæ¥çš„ï¼š å‚è€ƒèµ„æ–™ï¼šhow2j.cn-MyBatisæ•™ç¨‹ã€Java3y-Mybatisã€ç¼“å­˜ã€ä»£ç†ã€é€†å‘å·¥ç¨‹ã€‘ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring MVC + MyBatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜ã€‹ How2j-MyBatis ç³»åˆ—æ•™ç¨‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://www.wmyskxz.com/tags/MyBatis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"MyBatis(1)â€”â€”å¿«é€Ÿå…¥é—¨","slug":"MyBatis-1-â€”â€”å¿«é€Ÿå…¥é—¨","date":"2018-04-15T00:31:00.000Z","updated":"2020-08-03T08:48:34.521Z","comments":true,"path":"2018/04/15/mybatis-1-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2018/04/15/mybatis-1-kuai-su-ru-men/","excerpt":"","text":"MyBatis ç®€ä»‹MyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚ æŒä¹…å±‚ï¼š å¯ä»¥å°†ä¸šåŠ¡æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ï¼Œå…·å¤‡é•¿æœŸå­˜å‚¨èƒ½åŠ›ï¼Œåªè¦ç£ç›˜ä¸æŸåï¼Œåœ¨æ–­ç”µæˆ–è€…å…¶ä»–æƒ…å†µä¸‹ï¼Œé‡æ–°å¼€å¯ç³»ç»Ÿä»ç„¶å¯ä»¥è¯»å–åˆ°è¿™äº›æ•°æ®ã€‚ ä¼˜ç‚¹ï¼š å¯ä»¥ä½¿ç”¨å·¨å¤§çš„ç£ç›˜ç©ºé—´å­˜å‚¨ç›¸å½“é‡çš„æ•°æ®ï¼Œå¹¶ä¸”å¾ˆå»‰ä»· ç¼ºç‚¹ï¼šæ…¢ï¼ˆç›¸å¯¹äºå†…å­˜è€Œè¨€ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨ MyBatisåœ¨æˆ‘ä»¬ä¼ ç»Ÿçš„ JDBC ä¸­ï¼Œæˆ‘ä»¬é™¤äº†éœ€è¦è‡ªå·±æä¾› SQL å¤–ï¼Œè¿˜å¿…é¡»æ“ä½œ Connectionã€Statmentã€ResultSetï¼Œä¸ä»…å¦‚æ­¤ï¼Œä¸ºäº†è®¿é—®ä¸åŒçš„è¡¨ï¼Œä¸åŒå­—æ®µçš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦äº›å¾ˆå¤šé›·åŒæ¨¡æ¿åŒ–çš„ä»£ç ï¼Œé—²çš„ç¹çåˆæ¯ç‡¥ã€‚ è€Œæˆ‘ä»¬åœ¨ä½¿ç”¨äº† MyBatis ä¹‹åï¼Œåªéœ€è¦æä¾› SQL è¯­å¥å°±å¥½äº†ï¼Œå…¶ä½™çš„è¯¸å¦‚ï¼šå»ºç«‹è¿æ¥ã€æ“ä½œ Statmentã€ResultSetï¼Œå¤„ç† JDBC ç›¸å…³å¼‚å¸¸ç­‰ç­‰éƒ½å¯ä»¥äº¤ç»™ MyBatis å»å¤„ç†ï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹äºæ˜¯å¯ä»¥å°±æ­¤é›†ä¸­åœ¨ SQL è¯­å¥ä¸Šï¼Œå…³æ³¨åœ¨å¢åˆ æ”¹æŸ¥è¿™äº›æ“ä½œå±‚é¢ä¸Šã€‚ å¹¶ä¸” MyBatis æ”¯æŒä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ æ­å»º MyBatis ç¯å¢ƒé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¸‹è½½å’Œæ­å»º MyBatis çš„å¼€å‘ç¯å¢ƒã€‚ ä¸‹è½½ MyBatis å·¥ç¨‹åŒ…æ‰“å¼€é“¾æ¥ http://github.com/mybatis/mybatis-3/releases ä¸‹è½½ MyBatis æ‰€éœ€è¦çš„åŒ…å’Œæºç ï¼Œå½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º 3.4.6ï¼Œå®˜æ–¹è¿˜æä¾›äº†æ–‡æ¡£ï¼š æˆ³è¿™é‡Œï¼Œè™½ç„¶æ„Ÿè§‰å†™å¾—ä¸€èˆ¬ï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›å‚è€ƒä»·å€¼â€¦å”‰ï¼Œåˆ«å½“æ•™ç¨‹çœ‹ï¼Œå½“å­—å…¸çœ‹ï¼ ä¸‹è½½å¥½ MyBatis çš„åŒ…è§£å‹åï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹çš„æ–‡ä»¶ç›®å½•ï¼š å…¶ä¸­ mybatis-3.4.6.jar åŒ…å°±æ˜¯ MyBatis çš„é¡¹ç›®å·¥ç¨‹åŒ…ï¼Œã€libã€‘æ–‡ä»¶å¤¹ä¸‹å°±æ˜¯ MyBatis é¡¹ç›®éœ€è¦ä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œpdf æ–‡ä»¶æ˜¯å®ƒè‹±æ–‡ç‰ˆçš„è¯´æ˜ï¼Œä¸è¦è‹±æ–‡ä¹Ÿå¯ä»¥æˆ³ä¸Šé¢çš„é“¾æ¥ã€‚ ä¸º IDEA é…ç½® MyBatis ç¯å¢ƒIDEA é»˜è®¤æ˜¯ä¸æ”¯æŒ MyBatis å¼€å‘çš„ï¼Œéœ€è¦è‡ªå·±ä¸‹è½½ç¬¬ä¸‰æ–¹æ’ä»¶æ¥æ”¯æŒï¼Œå¯æƒœçš„æ˜¯åŠŸèƒ½å¼ºå¤§çš„ã€MyBatis Pluginã€‘æ˜¯æ”¶è´¹çš„ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç ´è§£ï¼ ç¬¬ä¸€æ­¥ï¼šåœ¨ IDEA ä¸­ä¸‹è½½ MyBatis Pluginåœ¨ã€Fileã€‘èœå•ä¸‹æ‰¾åˆ°ã€Settingsã€‘ï¼Œç„¶åå†ã€Pluginsã€‘ä¸‹ç‚¹å‡»ã€Browse repositories..ã€‘ï¼š åœ¨æœç´¢æ ä¸­è¾“å…¥ã€MyBatis Pluginã€‘ï¼Œç„¶åç‚¹å‡»ã€Installã€‘ï¼ˆæˆ‘è¿™é‡Œæ˜¯å®‰è£…å¥½äº†æ‰€ä»¥æ²¡æœ‰è¿™ä¸ªæŒ‰é’®ï¼‰ï¼š ç¬¬äºŒæ­¥ï¼šç ´è§£æœ‰å¹¸æ‰¾åˆ°æœ€æ–°çš„ç ´è§£æ–¹æ³•ï¼Œæœ€æ–°æ”¯æŒç ´è§£çš„ç‰ˆæœ¬å·ä¸ºï¼šv3.58 crackï¼Œä¸‹è½½é“¾æ¥ï¼šæˆ³è¿™é‡Œ æŠŠå®ƒä¸‹è½½åˆ° ã€D:\\Download\\ã€‘ç›®å½•ä¸‹ï¼Œæ‰“å¼€ idea.vmoptions ï¼ˆã€Helpã€‘-&gt; ã€Eidt Custom VM Optionsâ€¦ã€‘ï¼‰ï¼šåœ¨ä¸‹æ–¹æ’å…¥ -javaagent:D:/Download/ideaagent-1.2.jar é‡å¯ IDEAï¼Œé¦–æ¬¡å¯åŠ¨éœ€è¦ä¿¡ä»»æœ¬åœ°æœåŠ¡å™¨ ssl è¯ä¹¦ï¼Œç‚¹å‡»æ¥å—åå¦‚æœªæ¿€æ´»ï¼Œå†æ¬¡é‡å¯å³å¯ï¼š è‡³æ­¤ï¼Œæˆ‘ä»¬å°±ä¸º IDEA é…ç½®å¥½äº† MyBatis çš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥æ£€éªŒä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š ç¬¬ä¸€ä¸ª MyBatis ç¨‹åºæˆ‘ä»¬æ¥å®é™…å¼€å‘ä¸€ä¸ª MyBatis ç¨‹åºï¼Œæ„Ÿå—ä¸€ä¸‹ã€‚ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®åº“é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€mybatisã€‘ï¼Œç¼–ç æ–¹å¼è®¾ç½®ä¸º UTF-8ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªåä¸ºã€studentã€‘çš„è¡¨ï¼Œæ’å…¥å‡ è¡Œæ•°æ®ï¼š DROP DATABASE IF EXISTS mybatis; CREATE DATABASE mybatis DEFAULT CHARACTER SET utf8; use mybatis; CREATE TABLE student( id int(11) NOT NULL AUTO_INCREMENT, studentID int(11) NOT NULL UNIQUE, name varchar(255) NOT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; INSERT INTO student VALUES(1,1,&#39;æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„&#39;); INSERT INTO student VALUES(2,2,&#39;æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„&#39;); INSERT INTO student VALUES(3,3,&#39;æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„&#39;);ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå·¥ç¨‹åœ¨ IDEA ä¸­æ–°å»ºä¸€ä¸ª Java å·¥ç¨‹ï¼Œå¹¶å‘½åä¸ºã€HelloMybatisã€‘ï¼Œç„¶åå¯¼å…¥å¿…è¦çš„ jar åŒ…ï¼š mybatis-3.4.6.jar mysql-connector-java-5.1.21-bin.jar ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»åœ¨ Packageã€pojoã€‘ä¸‹æ–°å»ºå®ä½“ç±»ã€Studentã€‘ï¼Œç”¨äºæ˜ å°„è¡¨ studentï¼š package pojo; public class Student { int id; int studentID; String name; /* getter and setter */ } ç¬¬å››æ­¥ï¼šé…ç½®æ–‡ä»¶ mybatis-config.xmlåœ¨ã€srcã€‘ç›®å½•ä¸‹åˆ›å»º MyBaits çš„ä¸»é…ç½®æ–‡ä»¶ mybatis-config.xml ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯æä¾›è¿æ¥æ•°æ®åº“ç”¨çš„é©±åŠ¨ï¼Œæ•°æ®åç§°ï¼Œç¼–ç æ–¹å¼ï¼Œè´¦å·å¯†ç ç­‰ï¼Œæˆ‘ä»¬åœ¨åé¢è¯´æ˜ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt; &lt;configuration&gt; &lt;!-- åˆ«å --&gt; &lt;typeAliases&gt; &lt;package name=&quot;pojo&quot;/&gt; &lt;/typeAliases&gt; &lt;!-- æ•°æ®åº“ç¯å¢ƒ --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis?characterEncoding=UTF-8&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- æ˜ å°„æ–‡ä»¶ --&gt; &lt;mappers&gt; &lt;mapper resource=&quot;pojo/Student.xml&quot;/&gt; &lt;/mappers&gt; &lt;/configuration&gt;ç¬¬äº”æ­¥ï¼šé…ç½®æ–‡ä»¶ Student.xmlåœ¨ Packageã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€Student.xmlã€‘æ–‡ä»¶ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;pojo&quot;&gt; &lt;select id=&quot;listStudent&quot; resultType=&quot;Student&quot;&gt; select * from student &lt;/select&gt; &lt;/mapper&gt; ç”±äºä¸Šé¢é…ç½®äº† &lt;typeAliases&gt; åˆ«åï¼Œæ‰€ä»¥åœ¨è¿™é‡Œçš„ resultType å¯ä»¥ç›´æ¥å†™ Studentï¼Œè€Œä¸ç”¨å†™ç±»çš„å…¨é™å®šå pojo.Student namespace å±æ€§å…¶å®å°±æ˜¯å¯¹ SQL è¿›è¡Œåˆ†ç±»ç®¡ç†ï¼Œå®ç°ä¸åŒä¸šåŠ¡çš„ SQL éš”ç¦» SQL è¯­å¥çš„å¢åˆ æ”¹æŸ¥å¯¹åº”çš„æ ‡ç­¾æœ‰ï¼š ç¬¬å…­æ­¥ï¼šç¼–å†™æµ‹è¯•ç±»åœ¨ Packageã€testã€‘å°åˆ›å»ºæµ‹è¯•ç±»ã€TestMyBatisã€‘ï¼š package test; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import pojo.Student; import java.io.IOException; import java.io.InputStream; import java.util.List; public class TestMyBatis { public static void main(String[] args) throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = \"mybatis-config.xml\"; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // æœ€åé€šè¿‡ session çš„ selectList() æ–¹æ³•è°ƒç”¨ sql è¯­å¥ listStudent List&lt;Student> listStudent = session.selectList(\"listStudent\"); for (Student student : listStudent) { System.out.println(\"ID:\" + student.getId() + \",NAME:\" + student.getName()); } } } è¿è¡Œæµ‹è¯•ç±»ï¼š åŸºæœ¬åŸç† åº”ç”¨ç¨‹åºæ‰¾ MyBatis è¦æ•°æ® MyBatis ä»æ•°æ®åº“ä¸­æ‰¾æ¥æ•°æ® 1.é€šè¿‡ mybatis-config.xml å®šä½å“ªä¸ªæ•°æ®åº“2.é€šè¿‡ Student.xml æ‰§è¡Œå¯¹åº”çš„ sql è¯­å¥3.åŸºäº Student.xml æŠŠè¿”å›çš„æ•°æ®åº“å°è£…åœ¨ Student å¯¹è±¡ä¸­4.æŠŠå¤šä¸ª Student å¯¹è±¡è£…è½½ä¸€ä¸ª Student é›†åˆä¸­ è¿”å›ä¸€ä¸ª Student é›†åˆ å‚è€ƒèµ„æ–™ï¼šHow2j.cn-MyBatis ç›¸å…³æ•™ç¨‹ CRUD æ“ä½œæˆ‘ä»¬æ¥çœ‹çœ‹å¸¸è§„çš„ä¸€å¥—å¢åˆ æ”¹æŸ¥åº”è¯¥æ€ä¹ˆå®ç°ï¼š ç¬¬ä¸€æ­¥ï¼šé…ç½® Student.xmlé¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ SQL æ˜ å°„æ–‡ä»¶ä¸­æ–°å¢è¯­å¥ï¼Œç”¨æ¥æ”¯æ’‘ CRUD çš„ç³»åˆ—æ“ä½œ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;pojo&quot;&gt; &lt;select id=&quot;listStudent&quot; resultType=&quot;Student&quot;&gt; select * from student &lt;/select&gt; &lt;insert id=&quot;addStudent&quot; parameterType=&quot;Student&quot;&gt; insert into student (id, studentID, name) values (#{id},#{studentID},#{name}) &lt;/insert&gt; &lt;delete id=&quot;deleteStudent&quot; parameterType=&quot;Student&quot;&gt; delete from student where id = #{id} &lt;/delete&gt; &lt;select id=&quot;getStudent&quot; parameterType=&quot;_int&quot; resultType=&quot;Student&quot;&gt; select * from student where id= #{id} &lt;/select&gt; &lt;update id=&quot;updateStudent&quot; parameterType=&quot;Student&quot;&gt; update student set name=#{name} where id=#{id} &lt;/update&gt; &lt;/mapper&gt; parameterTypeï¼šè¦æ±‚è¾“å…¥å‚æ•°çš„ç±»å‹ resultTypeï¼šè¾“å‡ºçš„ç±»å‹ ç¬¬äºŒæ­¥ï¼šå®ç°å¢åˆ æ”¹æŸ¥package test; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import pojo.Student; import java.io.IOException; import java.io.InputStream; import java.util.List; public class TestMyBatis { public static void main(String[] args) throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = \"mybatis-config.xml\"; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // å¢åŠ å­¦ç”Ÿ Student student1 = new Student(); student1.setId(4); student1.setStudentID(4); student1.setName(\"æ–°å¢åŠ çš„å­¦ç”Ÿ\"); session.insert(\"addStudent\", student1); // åˆ é™¤å­¦ç”Ÿ Student student2 = new Student(); student2.setId(1); session.delete(\"deleteStudent\", student2); // è·å–å­¦ç”Ÿ Student student3 = session.selectOne(\"getStudent\", 2); // ä¿®æ”¹å­¦ç”Ÿ student3.setName(\"ä¿®æ”¹çš„å­¦ç”Ÿ\"); session.update(\"updateStudent\", student3); // æœ€åé€šè¿‡ session çš„ selectList() æ–¹æ³•è°ƒç”¨ sql è¯­å¥ listStudent List&lt;Student> listStudent = session.selectList(\"listStudent\"); for (Student student : listStudent) { System.out.println(\"ID:\" + student.getId() + \",NAME:\" + student.getName()); } // æäº¤ä¿®æ”¹ session.commit(); // å…³é—­ session session.close(); } } ä¸Šè¿°çš„ç¨‹åºä¸­ï¼š é€šè¿‡ session.insert(&quot;addStudent&quot;, student1); å¢åŠ äº†ä¸€ä¸ª ID å’Œ studentID éƒ½ä¸º 4ï¼Œåå­—ä¸ºâ€œæ–°å¢åŠ çš„å­¦ç”Ÿâ€ çš„å­¦ç”Ÿ é€šè¿‡ session.delete(&quot;deleteStudent&quot;, student2); åˆ é™¤äº† ID = 1 çš„å­¦ç”Ÿ é€šè¿‡ Student student3 = session.selectOne(&quot;getStudent&quot;, 2); è·å–äº† ID = 2çš„å­¦ç”Ÿ é€šè¿‡ session.update(&quot;updateStudent&quot;, student3); å°† ID = 2 çš„å­¦ç”Ÿçš„åå­—ä¿®æ”¹ä¸º â€œä¿®æ”¹çš„å­¦ç”Ÿâ€ é€šè¿‡ session.commit() æ¥æäº¤äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºæ›´æ–°åˆ°æ•°æ®åº“ è¿è¡Œè·å¾—æ­£ç¡®ç»“æœï¼š æ¨¡ç³ŠæŸ¥è¯¢å¦‚æœè¦å¯¹æ•°æ®åº“ä¸­çš„ student è¡¨è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œéœ€è¦é€šè¿‡åŒ¹é…åå­—ä¸­çš„æŸä¸ªå­—æ¥æŸ¥è¯¢è¯¥ç”¨æˆ·ã€‚ æˆ‘ä»¬é¦–å…ˆåœ¨ Student.xml é…ç½®æ–‡ä»¶ä¸­é…ç½® SQL æ˜ å°„ï¼š &lt;select id=&quot;findStudentByName&quot; parameterMap=&quot;java.lang.String&quot; resultType=&quot;Student&quot;&gt; SELECT * FROM student WHERE name LIKE &#39;%${value}%&#39; &lt;/select&gt; æ³¨æ„ï¼š &lt;select&gt; æ ‡ç­¾å¯¹ä¸­ SQL è¯­å¥çš„ â€œ${}â€ ç¬¦å·ï¼Œè¡¨ç¤ºæ‹¼æ¥ SQL ä¸²ï¼Œå°†æ¥å—çš„å‚æ•°å†…å®¹ä¸åŠ ä»»ä½•ä¿®é¥°åœ°æ‹¼æ¥åœ¨ SQL ä¸­ï¼Œåœ¨ â€œ${}â€ ä¸­åªèƒ½ä½¿ç”¨ value æ¥ä»£è¡¨å…¶ä¸­çš„å‚æ•°ã€‚ å› ä¸ºæ˜¯æ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ‰€ä»¥å¾—åˆ°çš„æŸ¥è¯¢ç»“æœå¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ SqlSession çš„ selectList() æ–¹æ³•ï¼Œå†™ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼š @Test public void test() throws IOException { // æ ¹æ® mybatis-config.xml é…ç½®çš„ä¿¡æ¯å¾—åˆ° sqlSessionFactory String resource = \"mybatis-config.xml\"; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // ç„¶åæ ¹æ® sqlSessionFactory å¾—åˆ° session SqlSession session = sqlSessionFactory.openSession(); // æ¨¡ç³ŠæŸ¥è¯¢ List&lt;Student> students = session.selectList(\"findStudentByName\", \"ä¸‰é¢—å¿ƒè„\"); for (Student student : students) { System.out.println(\"ID:\" + student.getId() + \",NAME:\" + student.getName()); } } æµ‹è¯•ç»“æœï¼š æ€»ç»“ä¸€ä¸‹ å…³äº parameterTypeï¼š å°±æ˜¯ç”¨æ¥åœ¨ SQL æ˜ å°„æ–‡ä»¶ä¸­æŒ‡å®šè¾“å…¥å‚æ•°ç±»å‹çš„ï¼Œå¯ä»¥æŒ‡å®šä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ intã€float ç­‰ï¼‰ã€åŒ…è£…æ•°æ®ç±»å‹ï¼ˆå¦‚ Stringã€Interger ç­‰ï¼‰ä»¥åŠç”¨æˆ·è‡ªå·±ç¼–å†™çš„ JavaBean å°è£…ç±» å…³äº resultTypeï¼š åœ¨åŠ è½½ SQL é…ç½®ï¼Œå¹¶ç»‘å®šæŒ‡å®šè¾“å…¥å‚æ•°å’Œè¿è¡Œ SQL ä¹‹åï¼Œä¼šå¾—åˆ°æ•°æ®åº“è¿”å›çš„å“åº”ç»“æœï¼Œæ­¤æ—¶ä½¿ç”¨ resultType å°±æ˜¯ç”¨æ¥æŒ‡å®šæ•°æ®åº“è¿”å›çš„ä¿¡æ¯å¯¹åº”çš„ Java çš„æ•°æ®ç±»å‹ã€‚ å…³äº â€œ#{}â€ ï¼š åœ¨ä¼ ç»Ÿçš„ JDBC çš„ç¼–ç¨‹ä¸­ï¼Œå ä½ç¬¦ç”¨ â€œ?â€ æ¥è¡¨ç¤ºï¼Œç„¶åå†åŠ è½½ SQL ä¹‹å‰æŒ‰ç…§ â€œ?â€ çš„ä½ç½®è®¾ç½®å‚æ•°ã€‚è€Œ â€œ#{}â€ åœ¨ MyBatis ä¸­ä¹Ÿä»£è¡¨ä¸€ç§å ä½ç¬¦ï¼Œè¯¥ç¬¦å·æ¥å—è¾“å…¥å‚æ•°ï¼Œåœ¨å¤§æ‹¬å·ä¸­ç¼–å†™å‚æ•°åç§°æ¥æ¥å—å¯¹åº”å‚æ•°ã€‚å½“ â€œ#{}â€ æ¥å—ç®€å•ç±»å‹æ—¶å¯ä»¥ç”¨ value æˆ–è€…å…¶ä»–ä»»æ„åç§°æ¥è·å–ã€‚ å…³äº â€œ${}â€ ï¼š åœ¨ SQL é…ç½®ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦æ‹¼æ¥ SQL è¯­å¥ï¼ˆä¾‹å¦‚æ¨¡ç³ŠæŸ¥è¯¢æ—¶ï¼‰ï¼Œç”¨ â€œ#{}â€ æ˜¯æ— æ³•è¾¾åˆ°ç›®çš„çš„ã€‚åœ¨ MyBatis ä¸­ï¼Œâ€œ${}â€ ä»£è¡¨ä¸€ä¸ª â€œæ‹¼æ¥ç¬¦å·â€ ï¼Œå¯ä»¥åœ¨åŸæœ‰ SQL è¯­å¥ä¸Šæ‹¼æ¥æ–°çš„ç¬¦åˆ SQL è¯­æ³•çš„è¯­å¥ã€‚ä½¿ç”¨ â€œ${}â€ æ‹¼æ¥ç¬¦å·æ‹¼æ¥ SQL ï¼Œä¼šå¼•èµ· SQL æ³¨å…¥ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ â€œ${}â€ã€‚ MyBatis ä½¿ç”¨åœºæ™¯ï¼š é€šè¿‡ä¸Šé¢çš„å…¥é—¨ç¨‹åºï¼Œä¸éš¾çœ‹å‡ºåœ¨è¿›è¡Œ MyBatis å¼€å‘æ—¶ï¼Œæˆ‘ä»¬çš„å¤§éƒ¨åˆ†ç²¾åŠ›éƒ½æ”¾åœ¨äº† SQL æ˜ å°„æ–‡ä»¶ä¸Šã€‚ MyBatis çš„ç‰¹ç‚¹å°±æ˜¯ä»¥ SQL è¯­å¥ä¸ºæ ¸å¿ƒçš„ä¸å®Œå…¨çš„ ORMï¼ˆå…³ç³»å‹æ˜ å°„ï¼‰æ¡†æ¶ã€‚ä¸ Hibernate ç›¸æ¯”ï¼ŒHibernate çš„å­¦ä¹ æˆæœ¬æ¯”è¾ƒé«˜ï¼Œè€Œ SQL è¯­å¥å¹¶ä¸éœ€è¦å¼€å‘äººå‘˜å®Œæˆï¼Œåªéœ€è¦è°ƒç”¨ç›¸å…³ API å³å¯ã€‚è¿™å¯¹äºå¼€å‘æ•ˆç‡æ˜¯ä¸€ä¸ªä¼˜åŠ¿ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯æ²¡åŠæ³•å¯¹ SQL è¯­å¥è¿›è¡Œä¼˜åŒ–å’Œä¿®æ”¹ã€‚è€Œ MyBatis è™½ç„¶éœ€è¦å¼€å‘äººå‘˜è‡ªå·±é…ç½® SQL è¯­å¥ï¼ŒMyBatis æ¥å®ç°æ˜ å°„å…³ç³»ï¼Œä½†æ˜¯è¿™æ ·çš„é¡¹ç›®å¯ä»¥é€‚åº”ç»å¸¸å˜åŒ–çš„é¡¹ç›®éœ€æ±‚ã€‚æ‰€ä»¥ä½¿ç”¨ MyBatis çš„åœºæ™¯æ˜¯ï¼šå¯¹ SQL ä¼˜åŒ–è¦æ±‚æ¯”è¾ƒé«˜ï¼Œæˆ–æ˜¯é¡¹ç›®éœ€æ±‚æˆ–ä¸šåŠ¡ç»å¸¸å˜åŠ¨ã€‚ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring MVC + MyBatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜ã€‹ How2j-MyBatis ç³»åˆ—æ•™ç¨‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://www.wmyskxz.com/tags/MyBatis/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Spring MVCã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","slug":"Spring-MVCã€å…¥é—¨ã€‘å°±è¿™ä¸€ç¯‡ï¼","date":"2018-04-14T00:29:00.000Z","updated":"2020-08-03T08:48:02.636Z","comments":true,"path":"2018/04/14/spring-mvc-ru-men-jiu-zhe-yi-pian/","link":"","permalink":"http://www.wmyskxz.com/2018/04/14/spring-mvc-ru-men-jiu-zhe-yi-pian/","excerpt":"","text":"MVC è®¾è®¡æ¦‚è¿°åœ¨æ—©æœŸ Java Web çš„å¼€å‘ä¸­ï¼Œç»Ÿä¸€æŠŠæ˜¾ç¤ºå±‚ã€æ§åˆ¶å±‚ã€æ•°æ®å±‚çš„æ“ä½œå…¨éƒ¨äº¤ç»™ JSP æˆ–è€… JavaBean æ¥è¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Model1ï¼š å‡ºç°çš„å¼Šç«¯ï¼š JSP å’Œ Java Bean ä¹‹é—´ä¸¥é‡è€¦åˆï¼ŒJava ä»£ç å’Œ HTML ä»£ç ä¹Ÿè€¦åˆåœ¨äº†ä¸€èµ· è¦æ±‚å¼€å‘è€…ä¸ä»…è¦æŒæ¡ Java ï¼Œè¿˜è¦æœ‰é«˜è¶…çš„å‰ç«¯æ°´å¹³ å‰ç«¯å’Œåç«¯ç›¸äº’ä¾èµ–ï¼Œå‰ç«¯éœ€è¦ç­‰å¾…åç«¯å®Œæˆï¼Œåç«¯ä¹Ÿä¾èµ–å‰ç«¯å®Œæˆï¼Œæ‰èƒ½è¿›è¡Œæœ‰æ•ˆçš„æµ‹è¯• ä»£ç éš¾ä»¥å¤ç”¨ æ­£å› ä¸ºä¸Šé¢çš„ç§ç§å¼Šç«¯ï¼Œæ‰€ä»¥å¾ˆå¿«è¿™ç§æ–¹å¼å°±è¢« Servlet + JSP + Java Bean æ‰€æ›¿ä»£äº†ï¼Œæ—©æœŸçš„ MVC æ¨¡å‹ï¼ˆModel2ï¼‰å°±åƒä¸‹å›¾è¿™æ ·ï¼š é¦–å…ˆç”¨æˆ·çš„è¯·æ±‚ä¼šåˆ°è¾¾ Servletï¼Œç„¶åæ ¹æ®è¯·æ±‚è°ƒç”¨ç›¸åº”çš„ Java Beanï¼Œå¹¶æŠŠæ‰€æœ‰çš„æ˜¾ç¤ºç»“æœäº¤ç»™ JSP å»å®Œæˆï¼Œè¿™æ ·çš„æ¨¡å¼æˆ‘ä»¬å°±ç§°ä¸º MVC æ¨¡å¼ã€‚ M ä»£è¡¨ æ¨¡å‹ï¼ˆModelï¼‰æ¨¡å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¨¡å‹å°±æ˜¯æ•°æ®ï¼Œå°±æ˜¯ dao,bean V ä»£è¡¨ è§†å›¾ï¼ˆViewï¼‰è§†å›¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å°±æ˜¯ç½‘é¡µ, JSPï¼Œç”¨æ¥å±•ç¤ºæ¨¡å‹ä¸­çš„æ•°æ® C ä»£è¡¨ æ§åˆ¶å™¨ï¼ˆcontroller)æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ æ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯æŠŠä¸åŒçš„æ•°æ®(Model)ï¼Œæ˜¾ç¤ºåœ¨ä¸åŒçš„è§†å›¾(View)ä¸Šï¼ŒServlet æ‰®æ¼”çš„å°±æ˜¯è¿™æ ·çš„è§’è‰²ã€‚ æ‰©å±•é˜…è¯»ï¼šWebå¼€å‘æ¨¡å¼ Spring MVC çš„æ¶æ„ä¸ºè§£å†³æŒä¹…å±‚ä¸­ä¸€ç›´æœªå¤„ç†å¥½çš„æ•°æ®åº“äº‹åŠ¡çš„ç¼–ç¨‹ï¼Œåˆä¸ºäº†è¿åˆ NoSQL çš„å¼ºåŠ¿å´›èµ·ï¼ŒSpring MVC ç»™å‡ºäº†æ–¹æ¡ˆï¼š ä¼ ç»Ÿçš„æ¨¡å‹å±‚è¢«æ‹†åˆ†ä¸ºäº†ä¸šåŠ¡å±‚(Service)å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAO,Data Access Objectï¼‰ã€‚ åœ¨ Service ä¸‹å¯ä»¥é€šè¿‡ Spring çš„å£°æ˜å¼äº‹åŠ¡æ“ä½œæ•°æ®è®¿é—®å±‚ï¼Œè€Œåœ¨ä¸šåŠ¡å±‚ä¸Šè¿˜å…è®¸æˆ‘ä»¬è®¿é—® NoSQL ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³å¼‚å†›çªèµ·çš„ NoSQL çš„ä½¿ç”¨äº†ï¼Œå®ƒå¯ä»¥å¤§å¤§æé«˜äº’è”ç½‘ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ç‰¹ç‚¹ï¼šç»“æ„æ¾æ•£ï¼Œå‡ ä¹å¯ä»¥åœ¨ Spring MVC ä¸­ä½¿ç”¨å„ç±»è§†å›¾æ¾è€¦åˆï¼Œå„ä¸ªæ¨¡å—åˆ†ç¦»ä¸ Spring æ— ç¼é›†æˆ Hello Spring MVCè®©æˆ‘ä»¬æ¥å†™ä¸€ä¸‹æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Spring MVC ç¨‹åºï¼š ç¬¬ä¸€æ­¥ï¼šåœ¨ IDEA ä¸­æ–°å»º Spring MVC é¡¹ç›® å¹¶ä¸”å–åä¸º ã€HelloSpringMVCã€‘ï¼Œç‚¹å‡»ã€Finishã€‘ï¼š IDEA ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ä¸‹è½½å¥½å¿…è¦çš„ jar åŒ…ï¼Œå¹¶ä¸”ä¸ºæˆ‘ä»¬åˆ›å»ºå¥½ä¸€äº›é»˜è®¤çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œåˆ›å»ºå¥½ä»¥åé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ web.xmlæˆ‘ä»¬æ‰“å¼€ web.xml ï¼ŒæŒ‰ç…§ä¸‹å›¾å®Œæˆä¿®æ”¹ï¼š æŠŠ&lt;url-pattern&gt;å…ƒç´ çš„å€¼æ”¹ä¸º / ï¼Œè¡¨ç¤ºè¦æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ï¼Œå¹¶äº¤ç”±Spring MVCçš„åå°æ§åˆ¶å™¨æ¥å¤„ç†ï¼Œæ”¹å®Œä¹‹åï¼š &lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;ç¬¬ä¸‰æ­¥ï¼šç¼–è¾‘ dispatcher-servlet.xmlè¿™ä¸ªæ–‡ä»¶åçš„å¼€å¤´ dispatcher ä¸ä¸Šé¢ web.xml ä¸­çš„ &lt;servlet-name&gt; å…ƒç´ é…ç½®çš„ dispatcher å¯¹åº”ï¼Œè¿™æ˜¯ Spring MVC çš„æ˜ å°„é…ç½®æ–‡ä»¶ï¼ˆxxx-servlet.xmlï¼‰ï¼Œæˆ‘ä»¬ç¼–è¾‘å¦‚ä¸‹ï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;bean id=&quot;simpleUrlHandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt; &lt;property name=&quot;mappings&quot;&gt; &lt;props&gt; &lt;!-- /hello è·¯å¾„çš„è¯·æ±‚äº¤ç»™ id ä¸º helloController çš„æ§åˆ¶å™¨å¤„ç†--&gt; &lt;prop key=&quot;/hello&quot;&gt;helloController&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;helloController&quot; class=&quot;controller.HelloController&quot;&gt;&lt;/bean&gt; &lt;/beans&gt;ç¬¬å››æ­¥ï¼šç¼–å†™ HelloControlleråœ¨ Packageã€controllerã€‘ä¸‹åˆ›å»º ã€HelloControllerã€‘ç±»ï¼Œå¹¶å®ç° org.springframework.web.servlet.mvc.Controller æ¥å£ï¼š package controller; import org.springframework.web.servlet.ModelAndView; import org.springframework.web.servlet.mvc.Controller; public class HelloController implements Controller{ @Override public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { return null; } } å‡ºç°äº†é—®é¢˜ï¼š javax.servlet åŒ…æ‰¾ä¸åˆ° è§£å†³ï¼š å°†æœ¬åœ° Tomcat æœåŠ¡å™¨çš„ç›®å½•ä¸‹ã€libã€‘æ–‡ä»¶å¤¹ä¸‹çš„ servlet-api.jar åŒ…æ‹·è´åˆ°å·¥ç¨‹ã€libã€‘æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ ä¾èµ– Spring MVC é€šè¿‡ ModelAndView å¯¹è±¡æŠŠæ¨¡å‹å’Œè§†å›¾ç»“åˆåœ¨ä¸€èµ· ModelAndView mav = new ModelAndView(\"index.jsp\"); mav.addObject(\"message\", \"Hello Spring MVC\"); è¿™é‡Œè¡¨ç¤ºè§†å›¾çš„æ˜¯index.jspæ¨¡å‹æ•°æ®çš„æ˜¯ messageï¼Œå†…å®¹æ˜¯ â€œHello Spring MVCâ€ package controller; import org.springframework.web.servlet.ModelAndView; import org.springframework.web.servlet.mvc.Controller; public class HelloController implements Controller { public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { ModelAndView mav = new ModelAndView(\"index.jsp\"); mav.addObject(\"message\", \"Hello Spring MVC\"); return mav; } } ç¬¬äº”æ­¥ï¼šå‡†å¤‡ index.jspå°† index.jsp çš„å†…å®¹ä¿®æ”¹ä¸ºï¼š &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt; &lt;h1&gt;${message}&lt;/h1&gt;å†…å®¹å¾ˆç®€å•ï¼Œç”¨Elè¡¨è¾¾å¼æ˜¾ç¤º message çš„å†…å®¹ã€‚ ç¬¬å…­æ­¥ï¼šéƒ¨ç½² Tomcat åŠç›¸å…³ç¯å¢ƒåœ¨ã€Runã€‘èœå•é¡¹ä¸‹æ‰¾åˆ°ã€Edit Configurationsã€‘ é…ç½® Tomcat ç¯å¢ƒï¼š é€‰æ‹©å¥½æœ¬åœ°çš„ Tomcat æœåŠ¡å™¨ï¼Œå¹¶æ”¹å¥½åå­—ï¼š åœ¨ Deployment æ ‡ç­¾é¡µä¸‹å®Œæˆå¦‚ä¸‹æ“ä½œï¼š ç‚¹å‡» OK å°±å¥½äº†ï¼Œæˆ‘ä»¬ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰è§’å½¢å°† Tomcat æœåŠ¡å™¨è¿è¡Œèµ·æ¥ã€‚ å‡ºç°çš„é—®é¢˜ï¼š Tomcat æœåŠ¡å™¨æ— æ³•æ­£å¸¸å¯åŠ¨ åŸå› ï¼š Tomcat æœåŠ¡å™¨æ‰¾ä¸åˆ°ç›¸å…³çš„ jar åŒ… è§£å†³æ–¹æ³•ï¼š å°†ã€libã€‘æ–‡ä»¶å¤¹æ•´ä¸ªå‰ªè´´åˆ°ã€WEB-INFã€‘ä¸‹ï¼Œå¹¶é‡æ–°å»ºç«‹ä¾èµ–ï¼š ç¬¬ä¸ƒæ­¥ï¼šé‡å¯æœåŠ¡å™¨é‡å¯æœåŠ¡å™¨ï¼Œè¾“å…¥åœ°å€ï¼šlocalhost/hello å‚è€ƒèµ„æ–™ï¼šSpring MVC æ•™ç¨‹(how2j.cn) è·Ÿè¸ª Spring MVC çš„è¯·æ±‚æ¯å½“ç”¨æˆ·åœ¨ Web æµè§ˆå™¨ä¸­ç‚¹å‡»é“¾æ¥æˆ–è€…æäº¤è¡¨å•çš„æ—¶å€™ï¼Œè¯·æ±‚å°±å¼€å§‹å·¥ä½œäº†ï¼Œåƒæ˜¯é‚®é€’å‘˜ä¸€æ ·ï¼Œä»ç¦»å¼€æµè§ˆå™¨å¼€å§‹åˆ°è·å–å“åº”è¿”å›ï¼Œå®ƒä¼šç»å†å¾ˆå¤šç«™ç‚¹ï¼Œåœ¨æ¯ä¸€ä¸ªç«™ç‚¹éƒ½ä¼šç•™ä¸‹ä¸€äº›ä¿¡æ¯åŒæ—¶ä¹Ÿä¼šå¸¦ä¸Šå…¶ä»–ä¿¡æ¯ï¼Œä¸‹å›¾ä¸º Spring MVC çš„è¯·æ±‚æµç¨‹ï¼š ç¬¬ä¸€ç«™ï¼šDispatcherServletä»è¯·æ±‚ç¦»å¼€æµè§ˆå™¨ä»¥åï¼Œç¬¬ä¸€ç«™åˆ°è¾¾çš„å°±æ˜¯ DispatcherServletï¼Œçœ‹åå­—è¿™æ˜¯ä¸€ä¸ª Servletï¼Œé€šè¿‡ J2EE çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ Servlet å¯ä»¥æ‹¦æˆªå¹¶å¤„ç† HTTP è¯·æ±‚ï¼ŒDispatcherServlet ä¼šæ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ï¼Œå¹¶ä¸”å°†è¿™äº›è¯·æ±‚å‘é€ç»™ Spring MVC æ§åˆ¶å™¨ã€‚ &lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;!-- æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; DispatcherServlet çš„ä»»åŠ¡å°±æ˜¯æ‹¦æˆªè¯·æ±‚å‘é€ç»™ Spring MVC æ§åˆ¶å™¨ã€‚ ç¬¬äºŒç«™ï¼šå¤„ç†å™¨æ˜ å°„ï¼ˆHandlerMappingï¼‰ é—®é¢˜ï¼š å…¸å‹çš„åº”ç”¨ç¨‹åºä¸­å¯èƒ½ä¼šæœ‰å¤šä¸ªæ§åˆ¶å™¨ï¼Œè¿™äº›è¯·æ±‚åˆ°åº•åº”è¯¥å‘ç»™å“ªä¸€ä¸ªæ§åˆ¶å™¨å‘¢ï¼Ÿ æ‰€ä»¥ DispatcherServlet ä¼šæŸ¥è¯¢ä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†å™¨æ˜ å°„æ¥ç¡®å®šè¯·æ±‚çš„ä¸‹ä¸€ç«™åœ¨å“ªé‡Œï¼Œå¤„ç†å™¨æ˜ å°„ä¼šæ ¹æ®è¯·æ±‚æ‰€æºå¸¦çš„ URL ä¿¡æ¯æ¥è¿›è¡Œå†³ç­–ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é…ç½® simpleUrlHandlerMapping æ¥å°† /hello åœ°å€äº¤ç»™ helloController å¤„ç†ï¼š &lt;bean id=&quot;simpleUrlHandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt; &lt;property name=&quot;mappings&quot;&gt; &lt;props&gt; &lt;!-- /hello è·¯å¾„çš„è¯·æ±‚äº¤ç»™ id ä¸º helloController çš„æ§åˆ¶å™¨å¤„ç†--&gt; &lt;prop key=&quot;/hello&quot;&gt;helloController&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;helloController&quot; class=&quot;controller.HelloController&quot;&gt;&lt;/bean&gt;ç¬¬ä¸‰ç«™ï¼šæ§åˆ¶å™¨ä¸€æ—¦é€‰æ‹©äº†åˆé€‚çš„æ§åˆ¶å™¨ï¼Œ DispatcherServlet ä¼šå°†è¯·æ±‚å‘é€ç»™é€‰ä¸­çš„æ§åˆ¶å™¨ï¼Œåˆ°äº†æ§åˆ¶å™¨ï¼Œè¯·æ±‚ä¼šå¸ä¸‹å…¶è´Ÿè½½ï¼ˆç”¨æˆ·æäº¤çš„è¯·æ±‚ï¼‰ç­‰å¾…æ§åˆ¶å™¨å¤„ç†å®Œè¿™äº›ä¿¡æ¯ï¼š public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { // å¤„ç†é€»è¾‘ .... } ç¬¬å››ç«™ï¼šè¿”å› DispatcherServletå½“æ§åˆ¶å™¨åœ¨å®Œæˆé€»è¾‘å¤„ç†åï¼Œé€šå¸¸ä¼šäº§ç”Ÿä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å°±æ˜¯éœ€è¦è¿”å›ç»™ç”¨æˆ·å¹¶åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå®ƒä»¬è¢«ç§°ä¸ºæ¨¡å‹ï¼ˆModelï¼‰ã€‚ä»…ä»…è¿”å›åŸå§‹çš„ä¿¡æ¯æ—¶ä¸å¤Ÿçš„â€”â€”è¿™äº›ä¿¡æ¯éœ€è¦ä»¥ç”¨æˆ·å‹å¥½çš„æ–¹å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œä¸€èˆ¬ä¼šæ˜¯ HTMLï¼Œæ‰€ä»¥ï¼Œä¿¡æ¯éœ€è¦å‘é€ç»™ä¸€ä¸ªè§†å›¾ï¼ˆviewï¼‰ï¼Œé€šå¸¸ä¼šæ˜¯ JSPã€‚ æ§åˆ¶å™¨æ‰€åšçš„æœ€åä¸€ä»¶äº‹å°±æ˜¯å°†æ¨¡å‹æ•°æ®æ‰“åŒ…ï¼Œå¹¶ä¸”è¡¨ç¤ºå‡ºç”¨äºæ¸²æŸ“è¾“å‡ºçš„è§†å›¾åï¼ˆé€»è¾‘è§†å›¾åï¼‰ã€‚å®ƒæ¥ä¸‹æ¥ä¼šå°†è¯·æ±‚è¿åŒæ¨¡å‹å’Œè§†å›¾åå‘é€å› DispatcherServletã€‚ public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { // å¤„ç†é€»è¾‘ .... // è¿”å›ç»™ DispatcherServlet return mav; } ç¬¬äº”ç«™ï¼šè§†å›¾è§£æå™¨è¿™æ ·ä»¥æ¥ï¼Œæ§åˆ¶å™¨å°±ä¸ä¼šå’Œç‰¹å®šçš„è§†å›¾ç›¸è€¦åˆï¼Œä¼ é€’ç»™ DispatcherServlet çš„è§†å›¾åå¹¶ä¸ç›´æ¥è¡¨ç¤ºæŸä¸ªç‰¹å®šçš„ JSPã€‚ï¼ˆå®é™…ä¸Šï¼Œå®ƒç”šè‡³ä¸èƒ½ç¡®å®šè§†å›¾å°±æ˜¯ JSPï¼‰ç›¸åï¼Œå®ƒä¼ é€’çš„ä»…ä»…æ˜¯ä¸€ä¸ªé€»è¾‘åç§°ï¼Œè¿™ä¸ªåç§°å°†ä¼šç”¨æ¥æŸ¥æ‰¾äº§ç”Ÿç»“æœçš„çœŸæ­£è§†å›¾ã€‚ DispatcherServlet å°†ä¼šä½¿ç”¨è§†å›¾è§£æå™¨ï¼ˆview resolverï¼‰æ¥å°†é€»è¾‘è§†å›¾ååŒ¹é…ä¸ºä¸€ä¸ªç‰¹å®šçš„è§†å›¾å®ç°ï¼Œå®ƒå¯èƒ½æ˜¯ä¹Ÿå¯èƒ½ä¸æ˜¯ JSP ä¸Šé¢çš„ä¾‹å­æ˜¯ç›´æ¥ç»‘å®šåˆ°äº† index.jsp è§†å›¾ ç¬¬å…­ç«™ï¼šè§†å›¾æ—¢ç„¶ DispatcherServlet å·²ç»çŸ¥é“ç”±å“ªä¸ªè§†å›¾æ¸²æŸ“ç»“æœäº†ï¼Œé‚£è¯·æ±‚çš„ä»»åŠ¡åŸºæœ¬ä¸Šä¹Ÿå°±å®Œæˆäº†ã€‚ å®ƒçš„æœ€åä¸€ç«™æ˜¯è§†å›¾çš„å®ç°ï¼Œåœ¨è¿™é‡Œå®ƒäº¤ä»˜æ¨¡å‹æ•°æ®ï¼Œè¯·æ±‚çš„ä»»åŠ¡ä¹Ÿå°±å®Œæˆäº†ã€‚è§†å›¾ä½¿ç”¨æ¨¡å‹æ•°æ®æ¸²æŸ“å‡ºç»“æœï¼Œè¿™ä¸ªè¾“å‡ºç»“æœä¼šé€šè¿‡å“åº”å¯¹è±¡ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚ &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt; &lt;h1&gt;${message}&lt;/h1&gt; ä½¿ç”¨æ³¨è§£é…ç½® Spring MVCä¸Šé¢æˆ‘ä»¬å·²ç»å¯¹ Spring MVC æœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œå¹¶ä¸”é€šè¿‡ XML é…ç½®çš„æ–¹å¼åˆ›å»ºäº†ç¬¬ä¸€ä¸ª Spring MVC ç¨‹åºï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åŸºäºæ³¨è§£åº”è¯¥æ€ä¹ˆå®Œæˆä¸Šè¿°ç¨‹åºçš„é…ç½®ï¼š ç¬¬ä¸€æ­¥ï¼šä¸º HelloController æ·»åŠ æ³¨è§£package controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.servlet.ModelAndView; @Controller public class HelloController{ @RequestMapping(\"/hello\") public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { ModelAndView mav = new ModelAndView(\"index.jsp\"); mav.addObject(\"message\", \"Hello Spring MVC\"); return mav; } } æŠŠå®ç°çš„æ¥å£ä¹Ÿç»™å»æ‰ã€‚ ç®€å•è§£é‡Šä¸€ä¸‹ï¼š @Controller æ³¨è§£ï¼šå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ³¨è§£æ˜¯ç”¨æ¥å£°æ˜æ§åˆ¶å™¨çš„ï¼Œä½†å®é™…ä¸Šè¿™ä¸ªæ³¨è§£å¯¹ Spring MVC æœ¬èº«çš„å½±å“å¹¶ä¸å¤§ã€‚ï¼ˆSpring å®æˆ˜è¯´å®ƒä»…ä»…æ˜¯è¾…åŠ©å®ç°ç»„ä»¶æ‰«æï¼Œå¯ä»¥ç”¨ @Component æ³¨è§£ä»£æ›¿ï¼Œä½†æˆ‘è‡ªå·±å°è¯•äº†ä¸€ä¸‹å¹¶ä¸è¡Œï¼Œå› ä¸ºä¸Šè¿°ä¾‹å­æ²¡æœ‰é…ç½® JSP è§†å›¾è§£æå™¨æˆ‘è¿˜è‡ªå·±é…äº†ä¸€ä¸ªä»æ²¡æœ‰æˆåŠŸâ€¦ï¼‰ @RequestMapping æ³¨è§£ï¼šå¾ˆæ˜¾ç„¶ï¼Œè¿™å°±è¡¨ç¤ºè·¯å¾„ /hello ä¼šæ˜ å°„åˆ°è¯¥æ–¹æ³•ä¸Š ç¬¬äºŒæ­¥ï¼šå–æ¶ˆä¹‹å‰çš„ XML æ³¨é‡Šåœ¨ dispatcher-servlet.xml æ–‡ä»¶ä¸­ï¼Œæ³¨é‡Šæ‰ä¹‹å‰çš„é…ç½®ï¼Œç„¶åå¢åŠ ä¸€å¥ç»„ä»¶æ‰«æï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--&lt;bean id=&quot;simpleUrlHandlerMapping&quot;--&gt; &lt;!--class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;--&gt; &lt;!--&lt;property name=&quot;mappings&quot;&gt;--&gt; &lt;!--&lt;props&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash; /hello è·¯å¾„çš„è¯·æ±‚äº¤ç»™ id ä¸º helloController çš„æ§åˆ¶å™¨å¤„ç†&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;prop key=&quot;/hello&quot;&gt;helloController&lt;/prop&gt;--&gt; &lt;!--&lt;/props&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;/bean&gt;--&gt; &lt;!--&lt;bean id=&quot;helloController&quot; class=&quot;controller.HelloController&quot;&gt;&lt;/bean&gt;--&gt; &lt;!-- æ‰«æcontrollerä¸‹çš„ç»„ä»¶ --&gt; &lt;context:component-scan base-package=&quot;controller&quot;/&gt; &lt;/beans&gt;ç¬¬ä¸‰æ­¥ï¼šé‡å¯æœåŠ¡å™¨å½“é…ç½®å®Œæˆï¼Œé‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œè¾“å…¥ localhost/hello åœ°å€ä»ç„¶èƒ½çœ‹åˆ°æ•ˆæœï¼š @RequestMapping æ³¨è§£ç»†èŠ‚å¦‚æœ @RequestMapping ä½œç”¨åœ¨ç±»ä¸Šï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæ˜¯ç»™è¯¥ç±»æ‰€æœ‰é…ç½®çš„æ˜ å°„åœ°å€å‰åŠ ä¸Šäº†ä¸€ä¸ªåœ°å€ï¼Œä¾‹å¦‚ï¼š @Controller @RequestMapping(\"/wmyskxz\") public class HelloController { @RequestMapping(\"/hello\") public ModelAndView handleRequest(....) throws Exception { .... } } åˆ™è®¿é—®åœ°å€ï¼š localhost/wmyskxz/hello é…ç½®è§†å›¾è§£æå™¨è¿˜è®°å¾—æˆ‘ä»¬ Spring MVC çš„è¯·æ±‚æµç¨‹å—ï¼Œè§†å›¾è§£æå™¨è´Ÿè´£å®šä½è§†å›¾ï¼Œå®ƒæ¥å—ä¸€ä¸ªç”± DispaterServlet ä¼ é€’è¿‡æ¥çš„é€»è¾‘è§†å›¾åæ¥åŒ¹é…ä¸€ä¸ªç‰¹å®šçš„è§†å›¾ã€‚ éœ€æ±‚ï¼š æœ‰ä¸€äº›é¡µé¢æˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·ç”¨æˆ·ç›´æ¥è®¿é—®åˆ°ï¼Œä¾‹å¦‚æœ‰é‡è¦æ•°æ®çš„é¡µé¢ï¼Œä¾‹å¦‚æœ‰æ¨¡å‹æ•°æ®æ”¯æ’‘çš„é¡µé¢ã€‚ é€ æˆçš„é—®é¢˜ï¼šæˆ‘ä»¬å¯ä»¥åœ¨ã€webã€‘æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªã€test.jspã€‘æ¨¡æ‹Ÿä¸€ä¸ªé‡è¦æ•°æ®çš„é¡µé¢ï¼Œæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸ç”¨åšï¼Œé‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼Œç½‘é¡µä¸­è¾“å…¥ localhost/test.jsp å°±èƒ½å¤Ÿç›´æ¥è®¿é—®åˆ°äº†ï¼Œè¿™ä¼šé€ æˆæ•°æ®æ³„éœ²â€¦å¦å¤–æˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥ localhost/index.jsp è¯•è¯•ï¼Œæ ¹æ®æˆ‘ä»¬ä¸Šé¢çš„ç¨‹åºï¼Œè¿™ä¼šæ˜¯ä¸€ä¸ªç©ºç™½çš„é¡µé¢ï¼Œå› ä¸ºå¹¶æ²¡æœ‰è·å–åˆ° ${message} å‚æ•°å°±ç›´æ¥è®¿é—®äº†ï¼Œè¿™ä¼šå½±å“ç”¨æˆ·ä½“éªŒ è§£å†³æ–¹æ¡ˆæˆ‘ä»¬å°†æˆ‘ä»¬çš„ JSP æ–‡ä»¶é…ç½®åœ¨ã€WEB-INFã€‘æ–‡ä»¶å¤¹ä¸­çš„ã€pageã€‘æ–‡ä»¶å¤¹ä¸‹ï¼Œã€WEB-INFã€‘æ˜¯ Java Web ä¸­é»˜è®¤çš„å®‰å…¨ç›®å½•ï¼Œæ˜¯ä¸å…è®¸ç”¨æˆ·ç›´æ¥è®¿é—®çš„ï¼ˆä¹Ÿå°±æ˜¯ä½ è¯´ä½ é€šè¿‡ localhost/WEB-INF/ è¿™æ ·çš„æ–¹å¼æ˜¯æ°¸è¿œè®¿é—®ä¸åˆ°çš„ï¼‰ ä½†æ˜¯æˆ‘ä»¬éœ€è¦å°†è¿™å‘Šè¯‰ç»™è§†å›¾è§£æå™¨ï¼Œæˆ‘ä»¬åœ¨ dispatcher-servlet.xml æ–‡ä»¶ä¸­åšå¦‚ä¸‹é…ç½®ï¼š &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt;è¿™é‡Œé…ç½®äº†ä¸€ä¸ª Spring MVC å†…ç½®çš„ä¸€ä¸ªè§†å›¾è§£æå™¨ï¼Œè¯¥è§£æå™¨æ˜¯éµå¾ªç€ä¸€ç§çº¦å®šï¼šä¼šåœ¨è§†å›¾åä¸Šæ·»åŠ å‰ç¼€å’Œåç¼€ï¼Œè¿›è€Œç¡®å®šä¸€ä¸ª Web åº”ç”¨ä¸­è§†å›¾èµ„æºçš„ç‰©ç†è·¯å¾„çš„ã€‚è®©æˆ‘ä»¬å®é™…æ¥çœ‹çœ‹æ•ˆæœï¼š ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹ HelloControlleræˆ‘ä»¬å°†ä»£ç ä¿®æ”¹ä¸€ä¸‹ï¼š ç¬¬äºŒæ­¥ï¼šé…ç½®è§†å›¾è§£æå™¨ï¼šæŒ‰ç…§ä¸Šè¿°çš„é…ç½®ï¼Œå®Œæˆï¼š &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--&lt;bean id=&quot;simpleUrlHandlerMapping&quot;--&gt; &lt;!--class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;--&gt; &lt;!--&lt;property name=&quot;mappings&quot;&gt;--&gt; &lt;!--&lt;props&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash; /hello è·¯å¾„çš„è¯·æ±‚äº¤ç»™ id ä¸º helloController çš„æ§åˆ¶å™¨å¤„ç†&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;prop key=&quot;/hello&quot;&gt;helloController&lt;/prop&gt;--&gt; &lt;!--&lt;/props&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;/bean&gt;--&gt; &lt;!--&lt;bean id=&quot;helloController&quot; class=&quot;controller.HelloController&quot;&gt;&lt;/bean&gt;--&gt; &lt;!-- æ‰«æcontrollerä¸‹çš„ç»„ä»¶ --&gt; &lt;context:component-scan base-package=&quot;controller&quot;/&gt; &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt; &lt;/beans&gt;ç¬¬ä¸‰æ­¥ï¼šå‰ªè´´ index.jsp æ–‡ä»¶åœ¨ã€WEB-INFã€‘æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªã€pageã€‘æ–‡ä»¶å¤¹ï¼Œå¹¶å°†ã€index.jspã€‘æ–‡ä»¶å‰ªè´´åˆ°é‡Œé¢ï¼š ç¬¬å››æ­¥ï¼šæ›´æ–°èµ„æºé‡å¯æœåŠ¡å™¨è®¿é—® localhost/hello è·¯å¾„ï¼Œçœ‹åˆ°æ­£ç¡®æ•ˆæœï¼š åŸç†ï¼š æˆ‘ä»¬ä¼ å…¥çš„é€»è¾‘è§†å›¾åä¸º index ï¼Œå†åŠ ä¸Š â€œ/WEB-INF/page/â€ å‰ç¼€å’Œ â€œ.jspâ€ åç¼€ï¼Œå°±èƒ½ç¡®å®šç‰©ç†è§†å›¾çš„è·¯å¾„äº†ï¼Œè¿™æ ·æˆ‘ä»¬ä»¥åå°±å¯ä»¥å°†æ‰€æœ‰çš„è§†å›¾æ”¾å…¥ã€pageã€‘æ–‡ä»¶å¤¹ä¸‹äº†ï¼ æ³¨æ„ï¼šæ­¤æ—¶çš„é…ç½®ä»…æ˜¯ dispatcher-servlet.xml ä¸‹çš„ æ§åˆ¶å™¨æ¥æ”¶è¯·æ±‚æ•°æ®ä½¿ç”¨æ§åˆ¶å™¨æ¥æ”¶å‚æ•°å¾€å¾€æ˜¯ Spring MVC å¼€å‘ä¸šåŠ¡é€»è¾‘çš„ç¬¬ä¸€æ­¥ï¼Œä¸ºæ¢ç´¢ Spring MVC çš„ä¼ å‚æ–¹å¼ï¼Œä¸ºæ­¤æˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨å•ç”¨äºæäº¤æ•°æ®ï¼š &lt;!DOCTYPE html&gt; &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; import=&quot;java.util.*&quot; isELIgnored=&quot;false&quot;%&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Spring MVC ä¼ å‚æ–¹å¼&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;/param&quot; role=&quot;form&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=&quot;text&quot; name=&quot;password&quot;&gt;&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;æ äº¤&quot;&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;ä¸‘å°±ä¸‘ç‚¹å„¿å§ï¼Œæˆ‘ä»¬å°±æ˜¯æ¥æµ‹è¯•ä¸€ä¸‹ï¼š ä½¿ç”¨ Servlet åŸç”Ÿ API å®ç°ï¼šæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼Œè¡¨å•ä¼šæäº¤åˆ° /param è¿™ä¸ªç›®å½•ï¼Œæˆ‘ä»¬å…ˆæ¥ä½¿ç”¨ Servlet åŸç”Ÿçš„ API æ¥çœ‹çœ‹èƒ½ä¸èƒ½è·å–åˆ°æ•°æ®ï¼š @RequestMapping(&quot;/param&quot;) public ModelAndView getParam(HttpServletRequest request, HttpServletResponse response) { String userName = request.getParameter(&quot;userName&quot;); String password = request.getParameter(&quot;password&quot;); System.out.println(userName); System.out.println(password); return null; }æµ‹è¯•æˆåŠŸï¼š ä½¿ç”¨åŒååŒ¹é…è§„åˆ™æˆ‘ä»¬å¯ä»¥æŠŠæ–¹æ³•å®šä¹‰çš„å½¢å‚åå­—è®¾ç½®æˆå’Œå‰å°ä¼ å…¥å‚æ•°åä¸€æ ·çš„æ–¹æ³•ï¼Œæ¥è·å–åˆ°æ•°æ®ï¼ˆåŒååŒ¹é…è§„åˆ™ï¼‰ï¼š @RequestMapping(\"/param\") public ModelAndView getParam(String userName, String password) { System.out.println(userName); System.out.println(password); return null; } æµ‹è¯•æˆåŠŸï¼š é—®é¢˜ï¼š è¿™æ ·åˆä¼šå’Œå‰å°äº§ç”Ÿå¾ˆå¼ºçš„è€¦åˆï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çš„ è§£å†³ï¼š ä½¿ç”¨ @RequestParam(&quot;å‰å°å‚æ•°å&quot;) æ¥æ³¨å…¥ï¼š @RequestParam æ³¨è§£ç»†èŠ‚ï¼šè¯¥æ³¨è§£æœ‰ä¸‰ä¸ªå˜é‡ï¼švalueã€requiredã€defaultvalue value ï¼šæŒ‡å®š name å±æ€§çš„åç§°æ˜¯ä»€ä¹ˆï¼Œvalue å±æ€§éƒ½å¯ä»¥é»˜è®¤ä¸å†™ required ï¼šæ˜¯å¦å¿…é¡»è¦æœ‰è¯¥å‚æ•°ï¼Œå¯ä»¥è®¾ç½®ä¸ºã€trueã€‘æˆ–è€…ã€falseã€‘ defaultvalue ï¼šè®¾ç½®é»˜è®¤å€¼ ä½¿ç”¨æ¨¡å‹ä¼ å‚ è¦æ±‚ï¼š å‰å°å‚æ•°åå­—å¿…é¡»å’Œæ¨¡å‹ä¸­çš„å­—æ®µåä¸€æ · è®©æˆ‘ä»¬å…ˆæ¥ä¸ºæˆ‘ä»¬çš„è¡¨å•åˆ›å»ºä¸€ä¸ª User æ¨¡å‹ï¼š package pojo; public class User { String userName; String password; /* getter and setter */ } ç„¶åæµ‹è¯•ä»ç„¶æˆåŠŸï¼š ä¸­æ–‡ä¹±ç é—®é¢˜ æ³¨æ„ï¼š è·Ÿ Servlet ä¸­çš„ä¸€æ ·ï¼Œè¯¥æ–¹æ³•åªå¯¹ POST æ–¹æ³•æœ‰æ•ˆï¼ˆå› ä¸ºæ˜¯ç›´æ¥å¤„ç†çš„ requestï¼‰ æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® Spring MVC å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨æ¥å®Œæˆï¼Œåœ¨ web.xml ä¸­æ·»åŠ ï¼š &lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;!-- è®¾ç½®ç¼–ç æ ¼å¼ --&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; æ§åˆ¶å™¨å›æ˜¾æ•°æ®é€šè¿‡ä¸Šé¢ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ€ä¹ˆæ¥å—è¯·æ±‚æ•°æ®ï¼Œå¹¶èƒ½è§£å†³ POST ä¹±ç çš„é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå›æ˜¾æ•°æ®å‘¢ï¼Ÿä¸ºæ­¤æˆ‘ä»¬åœ¨ã€pageã€‘ä¸‹åˆ›å»ºä¸€ä¸ªã€test2.jspã€‘ï¼š &lt;!DOCTYPE html&gt; &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; import=&quot;java.util.*&quot; isELIgnored=&quot;false&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Spring MVC æ•°æ®å›æ˜¾&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;å›æ˜¾æ•°æ®ï¼š${message}&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;ä½¿ç”¨ Servlet åŸç”Ÿ API æ¥å®ç°æˆ‘ä»¬å…ˆæ¥æµ‹è¯•ä¸€ä¸‹ Servlet åŸç”Ÿçš„ API æ˜¯å¦èƒ½å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼š @RequestMapping(\"/value\") public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) { request.setAttribute(\"message\",\"æˆåŠŸï¼\"); return new ModelAndView(\"test1\"); } åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ï¼šlocalhost/value æµ‹è¯• ä½¿ç”¨ Spring MVC æ‰€æä¾›çš„ ModelAndView å¯¹è±¡ ä½¿ç”¨ Model å¯¹è±¡åœ¨ Spring MVC ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½æ˜¯ä½¿ç”¨è¿™æ ·çš„æ–¹å¼æ¥ç»‘å®šæ•°æ®ï¼Œ ä½¿ç”¨ @ModelAttribute æ³¨è§£ï¼š @ModelAttribute public void model(Model model) { model.addAttribute(&quot;message&quot;, &quot;æ³¨è§£æˆåŠŸ&quot;); } @RequestMapping(&quot;/value&quot;) public String handleRequest() { return &quot;test1&quot;; }è¿™æ ·å†™å°±ä¼šåœ¨è®¿é—®æ§åˆ¶å™¨æ–¹æ³• handleRequest() æ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨ model() æ–¹æ³•å°† message æ·»åŠ è¿›é¡µé¢å‚æ•°ä¸­å»ï¼Œåœ¨è§†å›¾ä¸­å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä½†æ˜¯è¿™æ ·å†™ä¼šå¯¼è‡´è¯¥æ§åˆ¶å™¨æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¼šé¦–å…ˆè°ƒç”¨ model() æ–¹æ³•ï¼Œä½†åŒæ ·çš„ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå¯ä»¥åŠ å…¥å„ç§å„æ ·çš„æ•°æ®ã€‚ å®¢æˆ·ç«¯è·³è½¬å‰é¢ä¸ç®¡æ˜¯åœ°å€ /hello è·³è½¬åˆ° index.jsp è¿˜æ˜¯ /test è·³è½¬åˆ° test.jspï¼Œè¿™äº›éƒ½æ˜¯æœåŠ¡ç«¯çš„è·³è½¬ï¼Œä¹Ÿå°±æ˜¯ request.getRequestDispatcher(&quot;åœ°å€&quot;).forward(request, response); é‚£æˆ‘ä»¬å¦‚ä½•è¿›è¡Œå®¢æˆ·ç«¯è·³è½¬å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­åœ¨ HelloController ä¸­ç¼–å†™ï¼š @RequestMapping(\"/hello\") public ModelAndView handleRequest(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse) throws Exception { ModelAndView mav = new ModelAndView(\"index\"); mav.addObject(\"message\", \"Hello Spring MVC\"); return mav; } @RequestMapping(\"/jump\") public ModelAndView jump() { ModelAndView mav = new ModelAndView(\"redirect:/hello\"); return mav; } æˆ‘ä»¬ä½¿ç”¨ redirect:/hello å°±è¡¨ç¤ºæˆ‘ä»¬è¦è·³è½¬åˆ° /hello è¿™ä¸ªè·¯å¾„ï¼Œæˆ‘ä»¬é‡å¯æœåŠ¡å™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥ï¼šlocalhost/jump ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ° /hello è·¯å¾„ä¸‹ï¼š ä¹Ÿå¯ä»¥è¿™æ ·ç”¨ï¼š @RequestMapping(\"/jump\") public String jump() { return \"redirect: ./hello\"; } æ–‡ä»¶ä¸Šä¼ æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ä¼ ç»Ÿçš„æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ï¼šè¿™é‡Œ æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹åœ¨ Spring MVC ä¸­å¦‚ä½•å®ç°æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ æ³¨æ„ï¼š éœ€è¦å…ˆå¯¼å…¥ commons-io-1.3.2.jar å’Œ commons-fileupload-1.2.1.jar ä¸¤ä¸ªåŒ… ç¬¬ä¸€æ­¥ï¼šé…ç½®ä¸Šä¼ è§£æå™¨åœ¨ dispatcher-servlet.xml ä¸­æ–°å¢ä¸€å¥ï¼š &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;/&gt;å¼€å¯å¯¹ä¸Šä¼ åŠŸèƒ½çš„æ”¯æŒ ç¬¬äºŒæ­¥ï¼šç¼–å†™ JSPæ–‡ä»¶åä¸º upload.jspï¼Œä»åˆ›å»ºåœ¨ã€pageã€‘ä¸‹ï¼š &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;æµ‹è¯•æ–‡ä»¶ä¸Šä¼ &lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input type=&quot;file&quot; name=&quot;picture&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;ä¸Š ä¼ &quot;&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æ§åˆ¶å™¨åœ¨ Packageã€controllerã€‘ä¸‹æ–°å»ºã€UploadControllerã€‘ç±»ï¼š package controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.multipart.MultipartFile; import org.springframework.web.servlet.ModelAndView; @Controller public class UploadController { @RequestMapping(\"/upload\") public void upload(@RequestParam(\"picture\") MultipartFile picture) throws Exception { System.out.println(picture.getOriginalFilename()); } @RequestMapping(\"/test2\") public ModelAndView upload() { return new ModelAndView(\"upload\"); } } ç¬¬å››æ­¥ï¼šæµ‹è¯•åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ï¼šlocalhost/test2 ï¼Œé€‰æ‹©æ–‡ä»¶ç‚¹å‡»ä¸Šä¼ ï¼Œæµ‹è¯•æˆåŠŸï¼š å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring å®æˆ˜ã€‹ How2j Spring MVC ç³»åˆ—æ•™ç¨‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring MVC","slug":"JavaWebåŸºç¡€/Spring-MVC","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring-MVC/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring MVC","slug":"Spring-MVC","permalink":"http://www.wmyskxz.com/tags/Spring-MVC/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Springå­¦ä¹ (5)â€”â€”Springå’Œæ•°æ®åº“ç¼–ç¨‹","slug":"Springå­¦ä¹ -5-â€”â€”Springå’Œæ•°æ®åº“ç¼–ç¨‹","date":"2018-04-12T01:38:00.000Z","updated":"2020-08-03T08:45:49.128Z","comments":true,"path":"2018/04/12/spring-xue-xi-5-spring-he-shu-ju-ku-bian-cheng/","link":"","permalink":"http://www.wmyskxz.com/2018/04/12/spring-xue-xi-5-spring-he-shu-ju-ku-bian-cheng/","excerpt":"","text":"ä¼ ç»Ÿ JDBC å›é¡¾JDBC æˆ‘ä»¬ä¸€å®šä¸é™Œç”Ÿï¼Œåˆšå¼€å§‹å­¦ä¹ çš„æ—¶å€™ï¼Œæˆ‘ä»¬å†™è¿‡å¾ˆå¤šå¾ˆå¤šé‡å¤çš„æ¨¡æ¿ä»£ç ï¼š public Student getOne(int id) { String sql = \"SELECT id,name FROM student WHERE id = ?\"; Student student = null; // å£°æ˜ JDBC å˜é‡ Connection con = null; PreparedStatement ps = null; ResultSet rs = null; try { // æ³¨å†Œé©±åŠ¨ç¨‹åº Class.forName(\"com.myql.jdbc.Driver\"); // è·å–è¿æ¥ con = DriverManager.getConnection(\"jdbc://mysql://localhost:\" + \"3306/student\", \"root\", \"root\"); // é¢„ç¼–è¯‘SQL ps = con.prepareStatement(sql); // è®¾ç½®å‚æ•° ps.setInt(1, id); // æ‰§è¡ŒSQL rs = ps.executeQuery(); // ç»„è£…ç»“æœé›†è¿”å› POJO if (rs.next()) { student = new Student(); student.setId(rs.getInt(1)); student.setName(rs.getString(1)); } } catch (ClassNotFoundException | SQLException e) { e.printStackTrace(); } finally { // å…³é—­æ•°æ®åº“è¿æ¥èµ„æº try { if (rs != null &amp;&amp; !rs.isClosed()) { rs.close(); } } catch (SQLException e) { e.printStackTrace(); } try { if (ps != null &amp;&amp; !ps.isClosed()) { ps.close(); } } catch (SQLException e) { e.printStackTrace(); } try { if (con != null &amp;&amp; con.isClosed()) { con.close(); } } catch (SQLException e) { e.printStackTrace(); } } return student; } ç°åœ¨å…‰æ˜¯çœ‹ç€å°±å¤´å¤§ï¼Œå¹¶ä¸”æˆ‘è¿˜æŠŠå®ƒå®Œæ•´çš„å†™äº†å‡ºæ¥..çœŸæ¶å¿ƒï¼ è¿™è¿˜ä»…ä»…æ˜¯ä¸€ä¸ª JDBC çš„æ–¹æ³•ï¼Œå¹¶ä¸”æœ€ä¸»è¦çš„ä»£ç åªæœ‰ps = con.prepareStatement(sql);è¿™ä¹ˆä¸€å¥ï¼Œè€Œä¸”æœ‰å¾ˆå¤šæ¨¡æ¿åŒ–çš„ä»£ç ï¼ŒåŒ…æ‹¬å»ºç«‹è¿æ¥ä»¥åŠå…³é—­è¿æ¥..æˆ‘ä»¬å¿…é¡»æƒ³åŠæ³•è§£å†³ä¸€ä¸‹ï¼ ä¼˜åŒ–ä¼ ç»Ÿçš„ JDBCç¬¬ä¸€æ­¥ï¼šåˆ›å»º DBUtil ç±»æˆ‘æƒ³ç¬¬ä¸€æ­¥æˆ‘ä»¬å¯ä»¥æŠŠé‡å¤çš„æ¨¡æ¿ä»£ç æå‡ºæ¥åˆ›å»ºä¸€ä¸ªã€DBUtilã€‘æ•°æ®åº“å·¥å…·ç±»ï¼š package util; import java.sql.Connection; import java.sql.DriverManager; import java.sql.SQLException; public class DBUtil { static String ip = \"127.0.0.1\"; static int port = 3306; static String database = \"student\"; static String encoding = \"UTF-8\"; static String loginName = \"root\"; static String password = \"root\"; static { try { Class.forName(\"com.mysql.jdbc.Driver\"); } catch (ClassNotFoundException e) { e.printStackTrace(); } } public static Connection getConnection() throws SQLException { String url = String.format(\"jdbc:mysql://%s:%d/%s?characterEncoding=%s\", ip, port, database, encoding); return DriverManager.getConnection(url, loginName, password); } } è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠä¸Šé¢çš„æ¶å¿ƒçš„ä»£ç å˜æˆè¿™æ ·ï¼š public Student getOne(int id) { String sql = \"SELECT id,name FROM student WHERE id = ?\"; Student student = null; // å£°æ˜ JDBC å˜é‡ Connection con = null; PreparedStatement ps = null; ResultSet rs = null; try { // è·å–è¿æ¥ con = DBUtil.getConnection(); // é¢„ç¼–è¯‘SQL ps = con.prepareStatement(sql); // è®¾ç½®å‚æ•° ps.setInt(1, id); // æ‰§è¡ŒSQL rs = ps.executeQuery(); // ç»„è£…ç»“æœé›†è¿”å› POJO .... } catch (SQLException e) { e.printStackTrace(); } finally { // å…³é—­æ•°æ®åº“è¿æ¥èµ„æº .... } return student; } ä¹Ÿåªæ˜¯å°‘å†™äº†ä¸€å¥æ³¨å†Œé©±åŠ¨ç¨‹åºå°‘å¤„ç†äº†ä¸€ä¸ªå¼‚å¸¸è€Œå·²ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¤§çš„å˜åŒ–ï¼Œå¿…é¡»å†ä¼˜åŒ–ä¸€ä¸‹ ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ try-catch è¯­å¥è‡ªåŠ¨å…³é—­èµ„æºè‡ªåŠ¨èµ„æºå…³é—­æ˜¯ JDK 7 ä¸­æ–°å¼•å…¥çš„ç‰¹æ€§ï¼Œä¸äº†è§£çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç« ï¼šJDK 7 æ–°ç‰¹æ€§ äºæ˜¯ä»£ç å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æˆè¿™æ ·ï¼š public Student getOne(int id) { String sql = \"SELECT id,name FROM student WHERE id = ?\"; Student student = null; // å°† JDBC å£°æ˜å˜é‡åŒ…å«åœ¨ try(..) é‡Œå°†è‡ªåŠ¨å…³é—­èµ„æº try (Connection con = DBUtil.getConnection(); PreparedStatement ps = con.prepareStatement(sql)) { // è®¾ç½®å‚æ•° ps.setInt(1, id); // æ‰§è¡ŒSQL ResultSet rs = ps.executeQuery(); // ç»„è£…ç»“æœé›†è¿”å› POJO if (rs.next()) { student = new Student(); student.setId(rs.getInt(1)); student.setName(rs.getString(1)); } } catch (SQLException e) { e.printStackTrace(); } return student; } è¿™æ ·çœ‹ç€å¥½å¤ªå¤šäº†ï¼Œä½†ä»ç„¶ä¸å¤ªæ»¡æ„ï¼Œå› ä¸ºæˆ‘ä»¬æœ€æ ¸å¿ƒçš„ä»£ç ä¹Ÿå°±åªæ˜¯æ‰§è¡Œ SQL è¯­å¥å¹¶æ‹¿åˆ°è¿”å›é›†ï¼Œå†æ¥å†æ¥ å†è¿›ä¸€æ­¥æ”¹è¿› DBUtil ç±»ï¼šåœ¨ DBUtil ç±»ä¸­æ–°å¢ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥ç›´æ¥è¿”å›ç»“æœé›†ï¼š public static ResultSet getResultSet(String sql, Object[] objects) throws SQLException { ResultSet rs = null; try (Connection con = getConnection(); PreparedStatement ps = con.prepareStatement(sql)) { // æ ¹æ®ä¼ é€’è¿›æ¥çš„å‚æ•°ï¼Œè®¾ç½® SQL å ä½ç¬¦çš„å€¼ for (int i = 0; i &lt; objects.length; i++) { ps.setObject(i + 1, objects[i]); } // æ‰§è¡Œ SQL è¯­å¥å¹¶æ¥å—ç»“æœé›† rs = ps.executeQuery(); } // è¿”å›ç»“æœé›† return rs; } è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæˆ‘ä»¬æœ€å¼€å§‹çš„ä»£ç ä¼˜åŒ–æˆè¿™æ ·äº†ï¼š public Student getOne(int id) { String sql = \"SELECT id,name FROM student WHERE id = ?\"; Object[] objects = {id}; Student student = null; try (ResultSet rs = DBUtil.getResultSet(sql, objects);) { student.setId(rs.getInt(1)); student.setName(rs.getString(1)); } catch (SQLException e) { // å¤„ç†å¼‚å¸¸ e.printStackTrace(); } return student; } wooh!çœ‹ç€çˆ½å¤šäº†ï¼Œä½†ç¾ä¸­ä¸è¶³çš„å°±æ˜¯æ²¡æœ‰æŠŠ try-catch è¯­å¥å»æ‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸è¿›è¡Œå¼‚å¸¸å¤„ç†ç›´æ¥æŠŠ SQLException æŠ›å‡ºå»ï¼š public Student getOne(int id) throws SQLException { String sql = \"SELECT id,name FROM student WHERE id = ?\"; Object[] objects = {id}; Student student = null; try (ResultSet rs = DBUtil.getResultSet(sql, objects);) { student.setId(rs.getInt(1)); student.setName(rs.getString(1)); } return student; } å…¶å®ä¸Šé¢çš„ç‰ˆæœ¬å·²ç»å¤Ÿå¥½äº†ï¼Œè¿™æ ·åšåªæ˜¯æœ‰äº›å¼ºè¿«ç—‡ã€‚ æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ DBUtil å·¥å…·å·²ç»å¾ˆå®ç”¨äº†ï¼Œå› ä¸ºæ˜¯ä»æ¨¡æ¿åŒ–çš„ä»£ç ä¸­æŠ½ç¦»å‡ºæ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸€ç›´ä½¿ç”¨ Spring ä¸­çš„ JDBCè¦æƒ³ä½¿ç”¨ Spring ä¸­çš„ JDBC æ¨¡å—ï¼Œå°±å¿…é¡»å¼•å…¥ç›¸åº”çš„ jar æ–‡ä»¶ï¼š éœ€è¦å¼•å…¥çš„ jar åŒ…ï¼š spring-jdbc-4.3.16.RELEASE.jar spring-tx-4.3.16.RELEASE.jar å¥½åœ¨ IDEA åœ¨åˆ›å»º Spring é¡¹ç›®çš„æ—¶å€™å·²ç»ä¸ºæˆ‘ä»¬è‡ªåŠ¨éƒ¨ç½²å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®é™…åœ¨ Spring ä¸­ä½¿ç”¨ä¸€ä¸‹ JDBCï¼š é…ç½®æ•°æ®åº“èµ„æºå°±åƒæˆ‘ä»¬åˆ›å»º DBUtil ç±»ï¼Œå°†å…¶ä¸­è¿æ¥çš„ä¿¡æ¯å°è£…åœ¨é‡Œé¢ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›æ•°æ®åº“èµ„æºé…ç½®èµ·æ¥ é…ç½®æ–¹å¼ï¼š ä½¿ç”¨ç®€å•æ•°æ®åº“é…ç½® ä½¿ç”¨ç¬¬ä¸‰æ–¹æ•°æ®åº“è¿æ¥æ±  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Spring å†…ç½®çš„ç±»æ¥é…ç½®ï¼Œä½†å¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ•°æ®åº“è¿æ¥æ± æ¥è¿›è¡Œé…ç½®ï¼Œç”±äºä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ç±»ï¼Œä¸€èˆ¬é‡‡ç”¨ XML æ–‡ä»¶é…ç½®çš„æ–¹å¼ï¼Œæˆ‘ä»¬è¿™é‡Œä¹Ÿä½¿ç”¨ XML æ–‡ä»¶é…ç½®çš„å½¢å¼ï¼š ä½¿ç”¨ç®€å•æ•°æ®åº“é…ç½®é¦–å…ˆæˆ‘ä»¬æ¥è¯•è¯• Spring çš„å†…ç½®ç±» org.springframework.jdbc.datasource.SimpleDriverDataSourceï¼š &lt;bean id=\"dateSource\" class=\"org.springframework.jdbc.datasource.SimpleDriverDataSource\"> &lt;property name=\"username\" value=\"root\"/> &lt;property name=\"password\" value=\"root\"/> &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\"/> &lt;property name=\"url\" value=\"jdbc://mysql://locolhost:3306/student\"/> &lt;/bean> æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œå…ˆæŠŠæˆ‘ä»¬çš„ JDBC æ“ä½œç±»å†™æˆè¿™ä¸ªæ ·å­ï¼š package jdbc; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; import pojo.Student; import javax.sql.DataSource; import java.sql.*; @Component(\"jdbc\") public class JDBCtest { @Autowired private DataSource dataSource; public Student getOne(int stuID) throws SQLException { String sql = \"SELECT id, name FROM student WHERE id = \" + stuID; Student student = new Student(); Connection con = dataSource.getConnection(); Statement st = con.createStatement(); ResultSet rs = st.executeQuery(sql); if (rs.next()) { student.setId(rs.getInt(\"id\")); student.setName(rs.getString(\"name\")); } return student; } } ç„¶åç¼–å†™æµ‹è¯•ç±»ï¼š ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); JDBCtest jdbc = (JDBCtest) context.getBean(\"jdbc\"); Student student = jdbc.getOne(123456789); System.out.println(student.getId()); System.out.println(student.getName()); æˆåŠŸå–å‡ºæ•°æ®åº“ä¸­çš„æ•°æ®ï¼š ä½¿ç”¨ç¬¬ä¸‰æ–¹æ•°æ®åº“è¿æ¥æ± ä¸Šé¢é…ç½®çš„è¿™ä¸ªç®€å•çš„æ•°æ®æºä¸€èˆ¬ç”¨äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ï¼ŒçŸ¥è¯†ä¸€ä¸ªå¾ˆç®€å•çš„æ•°æ®åº“è¿æ¥çš„åº”ç”¨ã€‚åœ¨æ›´å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥ï¼Œæ¯”å¦‚ä½¿ç”¨ C3P0æ•°æ®åº“è¿æ¥æ± ï¼š &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"> &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\">&lt;/property> &lt;property name=\"jdbcUrl\" value=\"jdbc:mysql:///hib_demo\">&lt;/property> &lt;property name=\"user\" value=\"root\">&lt;/property> &lt;property name=\"password\" value=\"root\">&lt;/property> &lt;property name=\"initialPoolSize\" value=\"3\">&lt;/property> &lt;property name=\"maxPoolSize\" value=\"10\">&lt;/property> &lt;property name=\"maxStatements\" value=\"100\">&lt;/property> &lt;property name=\"acquireIncrement\" value=\"2\">&lt;/property> &lt;/bean> è·Ÿä¸Šé¢çš„æµ‹è¯•å·®ä¸å¤šï¼Œä¸åŒçš„æ˜¯éœ€è¦å¼•å…¥ç›¸å…³æ”¯æŒ C3P0 æ•°æ®åº“è¿æ¥æ± çš„ jar åŒ…è€Œå·²ã€‚ Jdbc TemplateSpring ä¸­æä¾›äº†ä¸€ä¸ª Jdbc Template ç±»ï¼Œå®ƒè‡ªå·±å·²ç»å°è£…äº†ä¸€ä¸ª DataSource ç±»å‹çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"> &lt;bean id=\"dataSrouce\" class=\"org.springframework.jdbc.datasource.SimpleDriverDataSource\"> &lt;property name=\"username\" value=\"root\"/> &lt;property name=\"password\" value=\"root\"/> &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\"/> &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/student\"/> &lt;/bean> &lt;context:component-scan base-package=\"jdbc\" /> &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"> &lt;property name=\"dataSource\" ref=\"dataSrouce\"/> &lt;/bean> &lt;/beans> æˆ‘ä»¬æ¥æ”¹å†™ä¸€ä¸‹ JDBC æ“ä½œçš„ç±»ï¼š package jdbc; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.jdbc.core.RowMapper; import org.springframework.stereotype.Component; import pojo.Student; import java.sql.*; @Component(\"jdbc\") public class JDBCtest { @Autowired private JdbcTemplate jdbcTemplate; public Student getOne(int stuID) throws SQLException { String sql = \"SELECT id, name FROM student WHERE id = ?\"; Student student = jdbcTemplate.queryForObject(sql, new RowMapper&lt;Student>() { @Override public Student mapRow(ResultSet resultSet, int i) throws SQLException { Student stu = new Student(); stu.setId(resultSet.getInt(\"id\")); stu.setName(resultSet.getString(\"name\")); return stu; } }, 123456789); return student; } } æµ‹è¯•ç±»ä¸å˜ï¼Œè¿è¡Œå¯ä»¥è·å¾—æ­£ç¡®çš„ç»“æœï¼š ä½†æ˜¯å¥½åƒå¹¶æ²¡æœ‰ç®€å•å¤šå°‘çš„æ ·å­ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä»– CRUD çš„ä¾‹å­ï¼š /** * å¢åŠ ä¸€æ¡æ•°æ® * * @param student */ public void add(Student student) { this.jdbcTemplate.update(\"INSERT INTO student(id,name) VALUES(?,?)\", student.getId(), student.getName()); } /** * æ›´æ–°ä¸€æ¡æ•°æ® * * @param student */ public void update(Student student) { this.jdbcTemplate.update(\"UPDATE student SET name = ? WHERE id = ?\", student.getName(), student.getId()); } /** * åˆ é™¤ä¸€æ¡æ•°æ® * * @param id */ public void delete(int id) { this.jdbcTemplate.update(\"DELETE FROM student WHERE id = ?\", id); } ç°åœ¨åº”è¯¥ç®€å•å¤šäº†å§ï¼Œè¿”å›é›†åˆçš„è¯åªéœ€è¦ç¨å¾®æ”¹å†™ä¸€ä¸‹ä¸Šé¢çš„ getOne() æ–¹æ³•å°±å¯ä»¥äº† æ‰©å±•é˜…è¯»ï¼šå®˜æ–¹æ–‡æ¡£ ã€ Spring ä¸­ JdbcTemplate å®ç°å¢åˆ æ”¹æŸ¥ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠSpring å®æˆ˜ã€‹ å…¨èƒ½çš„ç™¾åº¦å’Œä¸‡èƒ½çš„å¤§è„‘ æ‰©å±•é˜…è¯»ï¼šâ‘  å½»åº•ç†è§£æ•°æ®åº“äº‹åŠ¡ã€â‘¡ Springäº‹åŠ¡ç®¡ç†è¯¦è§£ã€â‘¢ Spring äº‹åŠ¡ç®¡ç†ï¼ˆè¯¦è§£+å®ä¾‹ï¼‰ã€â‘£ å…¨é¢åˆ†æ Spring çš„ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†åŠå£°æ˜å¼äº‹åŠ¡ç®¡ç† æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"},{"name":"Spring","slug":"Java-Web/Spring","permalink":"http://www.wmyskxz.com/categories/Java-Web/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Springå­¦ä¹ (4)â€”â€”é¢å‘åˆ‡é¢ç¼–ç¨‹(AOPæ¨¡å—)","slug":"Springå­¦ä¹ -4-â€”â€”é¢å‘åˆ‡é¢ç¼–ç¨‹-AOPæ¨¡å—","date":"2018-04-12T01:36:00.000Z","updated":"2020-08-03T08:45:17.364Z","comments":true,"path":"2018/04/12/spring-xue-xi-4-mian-xiang-qie-mian-bian-cheng-aop-mo-kuai/","link":"","permalink":"http://www.wmyskxz.com/2018/04/12/spring-xue-xi-4-mian-xiang-qie-mian-bian-cheng-aop-mo-kuai/","excerpt":"","text":"Spring AOP ç®€ä»‹å¦‚æœè¯´ IoC æ˜¯ Spring çš„æ ¸å¿ƒï¼Œé‚£ä¹ˆé¢å‘åˆ‡é¢ç¼–ç¨‹å°±æ˜¯ Spring æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ä¹‹ä¸€äº†ï¼Œåœ¨æ•°æ®åº“äº‹åŠ¡ä¸­åˆ‡é¢ç¼–ç¨‹è¢«å¹¿æ³›ä½¿ç”¨ã€‚ AOP å³ Aspect Oriented Program é¢å‘åˆ‡é¢ç¼–ç¨‹é¦–å…ˆï¼Œåœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ€æƒ³é‡Œé¢ï¼ŒæŠŠåŠŸèƒ½åˆ†ä¸ºæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼Œå’Œå‘¨è¾¹åŠŸèƒ½ã€‚ æ‰€è°“çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œæ¯”å¦‚ç™»é™†ï¼Œå¢åŠ æ•°æ®ï¼Œåˆ é™¤æ•°æ®éƒ½å«æ ¸å¿ƒä¸šåŠ¡ æ‰€è°“çš„å‘¨è¾¹åŠŸèƒ½ï¼Œæ¯”å¦‚æ€§èƒ½ç»Ÿè®¡ï¼Œæ—¥å¿—ï¼Œäº‹åŠ¡ç®¡ç†ç­‰ç­‰ å‘¨è¾¹åŠŸèƒ½åœ¨ Spring çš„é¢å‘åˆ‡é¢ç¼–ç¨‹AOPæ€æƒ³é‡Œï¼Œå³è¢«å®šä¹‰ä¸ºåˆ‡é¢ åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹AOPçš„æ€æƒ³é‡Œé¢ï¼Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å’Œåˆ‡é¢åŠŸèƒ½åˆ†åˆ«ç‹¬ç«‹è¿›è¡Œå¼€å‘ï¼Œç„¶åæŠŠåˆ‡é¢åŠŸèƒ½å’Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ â€œç¼–ç»‡â€ åœ¨ä¸€èµ·ï¼Œè¿™å°±å«AOP AOP çš„ç›®çš„AOPèƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»ï¼ˆä¾‹å¦‚äº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ AOP å½“ä¸­çš„æ¦‚å¿µï¼š åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰åœ¨å“ªäº›ç±»ï¼Œå“ªäº›æ–¹æ³•ä¸Šåˆ‡å…¥ï¼ˆwhereï¼‰ é€šçŸ¥ï¼ˆAdviceï¼‰åœ¨æ–¹æ³•æ‰§è¡Œçš„ä»€ä¹ˆå®é™…ï¼ˆwhen:æ–¹æ³•å‰/æ–¹æ³•å/æ–¹æ³•å‰åï¼‰åšä»€ä¹ˆï¼ˆwhat:å¢å¼ºçš„åŠŸèƒ½ï¼‰ åˆ‡é¢ï¼ˆAspectï¼‰åˆ‡é¢ = åˆ‡å…¥ç‚¹ + é€šçŸ¥ï¼Œé€šä¿—ç‚¹å°±æ˜¯ï¼šåœ¨ä»€ä¹ˆæ—¶æœºï¼Œä»€ä¹ˆåœ°æ–¹ï¼Œåšä»€ä¹ˆå¢å¼ºï¼ ç»‡å…¥ï¼ˆWeavingï¼‰æŠŠåˆ‡é¢åŠ å…¥åˆ°å¯¹è±¡ï¼Œå¹¶åˆ›å»ºå‡ºä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ï¼ˆç”± Spring æ¥å®Œæˆï¼‰ ä¸€ä¸ªä¾‹å­ä¸ºäº†æ›´å¥½çš„è¯´æ˜ AOP çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªå®é™…ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼š åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒåŒ…ç§Ÿå©†çš„æ ¸å¿ƒä¸šåŠ¡å°±æ˜¯ç­¾åˆåŒï¼Œæ”¶æˆ¿ç§Ÿï¼Œé‚£ä¹ˆè¿™å°±å¤Ÿäº†ï¼Œç°è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†éƒ½æ˜¯é‡å¤ä¸”è¾¹ç¼˜çš„äº‹ï¼Œäº¤ç»™ä¸­ä»‹å•†å°±å¥½äº†ï¼Œè¿™å°±æ˜¯ AOP çš„ä¸€ä¸ªæ€æƒ³ï¼šè®©å…³æ³¨ç‚¹ä»£ç ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼ å®é™…çš„ä»£ç æˆ‘ä»¬æ¥å®é™…çš„ç”¨ä»£ç æ„Ÿå—ä¸€ä¸‹ 1.åœ¨ Packageã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€Landlordã€‘ç±»ï¼ˆæˆ‘ç™¾åº¦ç¿»è¯‘çš„åŒ…ç§Ÿå©†çš„è‹±æ–‡ï¼‰ï¼š package pojo; import org.springframework.stereotype.Component; @Component(\"landlord\") public class Landlord { public void service() { // ä»…ä»…åªæ˜¯å®ç°äº†æ ¸å¿ƒçš„ä¸šåŠ¡åŠŸèƒ½ System.out.println(\"ç­¾åˆåŒ\"); System.out.println(\"æ”¶æˆ¿ç§Ÿ\"); } } 2.åœ¨ Packageã€aspectã€‘ä¸‹æ–°å»ºä¸€ä¸ªä¸­ä»‹å•†ã€Brokerã€‘ç±»ï¼ˆæˆ‘è¿˜æ˜¯ç”¨çš„ç¿»è¯‘â€¦ï¼‰ï¼š package aspect; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.springframework.stereotype.Component; @Component @Aspect class Broker { @Before(\"execution(* pojo.Landlord.service())\") public void before(){ System.out.println(\"å¸¦ç§Ÿå®¢çœ‹æˆ¿\"); System.out.println(\"è°ˆä»·æ ¼\"); } @After(\"execution(* pojo.Landlord.service())\") public void after(){ System.out.println(\"äº¤é’¥åŒ™\"); } } 3.åœ¨ applicationContext.xml ä¸­é…ç½®è‡ªåŠ¨æ³¨å…¥ï¼Œå¹¶å‘Šè¯‰ Spring IoC å®¹å™¨å»å“ªé‡Œæ‰«æè¿™ä¸¤ä¸ª Beanï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"> &lt;context:component-scan base-package=\"aspect\" /> &lt;context:component-scan base-package=\"pojo\" /> &lt;aop:aspectj-autoproxy/> &lt;/beans> 4.åœ¨ Packageã€testã€‘ä¸‹ç¼–å†™æµ‹è¯•ä»£ç ï¼š package test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; import pojo.Landlord; public class TestSpring { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); Landlord landlord = (Landlord) context.getBean(\"landlord\", Landlord.class); landlord.service(); } } 5.æ‰§è¡Œçœ‹åˆ°æ•ˆæœï¼š è¿™ä¸ªä¾‹å­ä½¿ç”¨äº†ä¸€äº›æ³¨è§£ï¼Œç°åœ¨çœ‹ä¸æ‡‚æ²¡æœ‰å…³ç³»ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ Landlord çš„ service() æ–¹æ³•ä¸­ä»…ä»…å®ç°äº†æ ¸å¿ƒçš„ä¸šåŠ¡ä»£ç ï¼Œå…¶ä½™çš„å…³æ³¨ç‚¹åŠŸèƒ½æ˜¯æ ¹æ®æˆ‘ä»¬è®¾ç½®çš„åˆ‡é¢è‡ªåŠ¨è¡¥å…¨çš„ã€‚ ä½¿ç”¨æ³¨è§£æ¥å¼€å‘ Spring AOPä½¿ç”¨æ³¨è§£çš„æ–¹å¼å·²ç»é€æ¸æˆä¸ºäº†ä¸»æµï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨ä¸Šé¢çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•ç”¨æ³¨è§£æ¥å¼€å‘ Spring AOP ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©è¿æ¥ç‚¹Spring æ˜¯æ–¹æ³•çº§åˆ«çš„ AOP æ¡†æ¶ï¼Œæˆ‘ä»¬ä¸»è¦ä¹Ÿæ˜¯ä»¥æŸä¸ªç±»é¢æŸä¸ªæ–¹æ³•ä½œä¸ºè¿æ¥ç‚¹ï¼Œå¦ä¸€ç§è¯´æ³•å°±æ˜¯ï¼šé€‰æ‹©å“ªä¸€ä¸ªç±»çš„å“ªä¸€æ–¹æ³•ç”¨ä»¥å¢å¼ºåŠŸèƒ½ã€‚ .... public void service() { // ä»…ä»…åªæ˜¯å®ç°äº†æ ¸å¿ƒçš„ä¸šåŠ¡åŠŸèƒ½ System.out.println(\"ç­¾åˆåŒ\"); System.out.println(\"æ”¶æˆ¿ç§Ÿ\"); } .... æˆ‘ä»¬åœ¨è¿™é‡Œå°±é€‰æ‹©ä¸Šè¿° Landlord ç±»ä¸­çš„ service() æ–¹æ³•ä½œä¸ºè¿æ¥ç‚¹ã€‚ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåˆ‡é¢é€‰æ‹©å¥½äº†è¿æ¥ç‚¹å°±å¯ä»¥åˆ›å»ºåˆ‡é¢äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåˆ‡é¢ç†è§£ä¸ºä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œå½“ç¨‹åºè¿è¡Œåˆ°è¿æ¥ç‚¹çš„æ—¶å€™ï¼Œè¢«æ‹¦æˆªä¸‹æ¥ï¼Œåœ¨å¼€å¤´åŠ å…¥äº†åˆå§‹åŒ–çš„æ–¹æ³•ï¼Œåœ¨ç»“å°¾ä¹ŸåŠ å…¥äº†é”€æ¯çš„æ–¹æ³•è€Œå·²ï¼Œåœ¨ Spring ä¸­åªè¦ä½¿ç”¨ @Aspect æ³¨è§£ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆ Spring IoC å®¹å™¨å°±ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªåˆ‡é¢äº†ï¼š package aspect; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.springframework.stereotype.Component; @Component @Aspect class Broker { @Before(\"execution(* pojo.Landlord.service())\") public void before(){ System.out.println(\"å¸¦ç§Ÿå®¢çœ‹æˆ¿\"); System.out.println(\"è°ˆä»·æ ¼\"); } @After(\"execution(* pojo.Landlord.service())\") public void after(){ System.out.println(\"äº¤é’¥åŒ™\"); } } æ³¨æ„ï¼š è¢«å®šä¹‰ä¸ºåˆ‡é¢çš„ç±»ä»ç„¶æ˜¯ä¸€ä¸ª Bean ï¼Œéœ€è¦ @Component æ³¨è§£æ ‡æ³¨ ä»£ç éƒ¨åˆ†ä¸­åœ¨æ–¹æ³•ä¸Šé¢çš„æ³¨è§£çœ‹åå­—ä¹Ÿèƒ½çŒœå‡ºä¸ªå¤§æ¦‚ï¼Œä¸‹é¢æ¥åˆ—ä¸¾ä¸€ä¸‹ Spring ä¸­çš„ AspectJ æ³¨è§£ï¼š æ³¨è§£ è¯´æ˜ @Before å‰ç½®é€šçŸ¥ï¼Œåœ¨è¿æ¥ç‚¹æ–¹æ³•å‰è°ƒç”¨ @Around ç¯ç»•é€šçŸ¥ï¼Œå®ƒå°†è¦†ç›–åŸæœ‰æ–¹æ³•ï¼Œä½†æ˜¯å…è®¸ä½ é€šè¿‡åå°„è°ƒç”¨åŸæœ‰æ–¹æ³•ï¼Œåé¢ä¼šè®² @After åç½®é€šçŸ¥ï¼Œåœ¨è¿æ¥ç‚¹æ–¹æ³•åè°ƒç”¨ @AfterReturning è¿”å›é€šçŸ¥ï¼Œåœ¨è¿æ¥ç‚¹æ–¹æ³•æ‰§è¡Œå¹¶æ­£å¸¸è¿”å›åè°ƒç”¨ï¼Œè¦æ±‚è¿æ¥ç‚¹æ–¹æ³•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ @AfterThrowing å¼‚å¸¸é€šçŸ¥ï¼Œå½“è¿æ¥ç‚¹æ–¹æ³•å¼‚å¸¸æ—¶è°ƒç”¨ æœ‰äº†ä¸Šè¡¨ï¼Œæˆ‘ä»¬å°±çŸ¥é“ before() æ–¹æ³•æ˜¯è¿æ¥ç‚¹æ–¹æ³•è°ƒç”¨å‰è°ƒç”¨çš„æ–¹æ³•ï¼Œè€Œ after() æ–¹æ³•åˆ™ç›¸åï¼Œè¿™äº›æ³¨è§£ä¸­é—´ä½¿ç”¨äº†å®šä¹‰åˆ‡ç‚¹çš„æ­£åˆ™å¼ï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰ Spring AOP éœ€è¦æ‹¦æˆªä»€ä¹ˆå¯¹è±¡çš„ä»€ä¹ˆæ–¹æ³•ï¼Œä¸‹é¢è®²åˆ°ã€‚ ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰åˆ‡ç‚¹åœ¨ä¸Šé¢çš„æ³¨è§£ä¸­å®šä¹‰äº† execution çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒSpring é€šè¿‡è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼åˆ¤æ–­å…·ä½“è¦æ‹¦æˆªçš„æ˜¯å“ªä¸€ä¸ªç±»çš„å“ªä¸€ä¸ªæ–¹æ³•ï¼š execution(* pojo.Landlord.service()) ä¾æ¬¡å¯¹è¿™ä¸ªè¡¨è¾¾å¼ä½œå‡ºåˆ†æï¼š executionï¼šä»£è¡¨æ‰§è¡Œæ–¹æ³•çš„æ—¶å€™ä¼šè§¦å‘ * ï¼šä»£è¡¨ä»»æ„è¿”å›ç±»å‹çš„æ–¹æ³• pojo.Landlordï¼šä»£è¡¨ç±»çš„å…¨é™å®šå service()ï¼šè¢«æ‹¦æˆªçš„æ–¹æ³•åç§° é€šè¿‡ä¸Šé¢çš„è¡¨è¾¾å¼ï¼ŒSpring å°±ä¼šçŸ¥é“åº”è¯¥æ‹¦æˆª pojo.Lnadlord ç±»ä¸‹çš„ service() æ–¹æ³•ã€‚ä¸Šé¢çš„æ¼”ç¤ºç±»è¿˜å¥½ï¼Œå¦‚æœå¤šå‡ºéƒ½éœ€è¦å†™è¿™æ ·çš„è¡¨è¾¾å¼éš¾å…ä¼šæœ‰äº›å¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ @Pointcut æ³¨è§£æ¥å®šä¹‰ä¸€ä¸ªåˆ‡ç‚¹æ¥é¿å…è¿™æ ·çš„éº»çƒ¦ï¼š package aspect; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.aspectj.lang.annotation.Pointcut; import org.springframework.stereotype.Component; @Component @Aspect class Broker { @Pointcut(\"execution(* pojo.Landlord.service())\") public void lService() { } @Before(\"lService()\") public void before() { System.out.println(\"å¸¦ç§Ÿå®¢çœ‹æˆ¿\"); System.out.println(\"è°ˆä»·æ ¼\"); } @After(\"lService()\") public void after() { System.out.println(\"äº¤é’¥åŒ™\"); } } ç¬¬å››æ­¥ï¼šæµ‹è¯• AOPç¼–å†™æµ‹è¯•ä»£ç ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œå› ä¸º JDK ç‰ˆæœ¬ä¸å…¼å®¹å‡ºç°äº† BUGâ€¦.ï¼ˆå°´å°¬â€¦ï¼‰ è¿™å°±å‘Šè¯‰æˆ‘ä»¬ï¼šç¯å¢ƒé…ç½®å¾ˆé‡è¦â€¦ä¸ç„¶è«åå…¶å¦™çš„ BUG è®©ä½ å´©æºƒâ€¦ ç¯ç»•é€šçŸ¥æˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹ç¯ç»•é€šçŸ¥ï¼Œè¿™æ˜¯ Spring AOP ä¸­æœ€å¼ºå¤§çš„é€šçŸ¥ï¼Œå› ä¸ºå®ƒé›†æˆäº†å‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥ï¼Œå®ƒä¿ç•™äº†è¿æ¥ç‚¹åŸæœ‰çš„æ–¹æ³•çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å®ƒåŠå¼ºå¤§åˆçµæ´»ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ï¼š package aspect; import org.aspectj.lang.ProceedingJoinPoint; import org.aspectj.lang.annotation.Around; import org.aspectj.lang.annotation.Aspect; import org.springframework.stereotype.Component; @Component @Aspect class Broker { // æ³¨é‡Šæ‰ä¹‹å‰çš„ @Before å’Œ @After æ³¨è§£ä»¥åŠå¯¹åº”çš„æ–¹æ³• // @Before(\"execution(* pojo.Landlord.service())\") // public void before() { // System.out.println(\"å¸¦ç§Ÿå®¢çœ‹æˆ¿\"); // System.out.println(\"è°ˆä»·æ ¼\"); // } // // @After(\"execution(* pojo.Landlord.service())\") // public void after() { // System.out.println(\"äº¤é’¥åŒ™\"); // } // ä½¿ç”¨ @Around æ³¨è§£æ¥åŒæ—¶å®Œæˆå‰ç½®å’Œåç½®é€šçŸ¥ @Around(\"execution(* pojo.Landlord.service())\") public void around(ProceedingJoinPoint joinPoint) { System.out.println(\"å¸¦ç§Ÿå®¢çœ‹æˆ¿\"); System.out.println(\"è°ˆä»·æ ¼\"); try { joinPoint.proceed(); } catch (Throwable throwable) { throwable.printStackTrace(); } System.out.println(\"äº¤é’¥åŒ™\"); } } è¿è¡Œæµ‹è¯•ä»£ç ï¼Œç»“æœä»ç„¶æ­£ç¡®ï¼š ä½¿ç”¨ XML é…ç½®å¼€å‘ Spring AOPæ³¨è§£æ˜¯å¾ˆå¼ºå¤§çš„ä¸œè¥¿ï¼Œä½†åŸºäº XML çš„å¼€å‘æˆ‘ä»¬ä»ç„¶éœ€è¦äº†è§£ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ AOP ä¸­å¯ä»¥é…ç½®çš„å…ƒç´ ï¼š AOP é…ç½®å…ƒç´  ç”¨é€” å¤‡æ³¨ aop:advisor å®šä¹‰ AOP çš„é€šçŸ¥å…¶ ä¸€ç§å¾ˆå¤è€çš„æ–¹å¼ï¼Œå¾ˆå°‘ä½¿ç”¨ aop:aspect å®šä¹‰ä¸€ä¸ªåˆ‡é¢ â€”â€” aop:before å®šä¹‰å‰ç½®é€šçŸ¥ â€”â€” aop:after å®šä¹‰åç½®é€šçŸ¥ â€”â€” aop:around å®šä¹‰ç¯ç»•é€šçŸ¥ â€”â€” aop:after-returning å®šä¹‰è¿”å›é€šçŸ¥ â€”â€” aop:after-throwing å®šä¹‰å¼‚å¸¸é€šçŸ¥ â€”â€” aop:config é¡¶å±‚çš„ AOP é…ç½®å…ƒç´  AOP çš„é…ç½®æ˜¯ä»¥å®ƒä¸ºå¼€å§‹çš„ aop:declare-parents ç»™é€šçŸ¥å¼•å…¥æ–°çš„é¢å¤–æ¥å£ï¼Œå¢å¼ºåŠŸèƒ½ â€”â€” aop:pointcut å®šä¹‰åˆ‡ç‚¹ â€”â€” æœ‰äº†ä¹‹å‰é€šè¿‡æ³¨è§£æ¥ç¼–å†™çš„ç»éªŒï¼Œå¹¶ä¸”æœ‰äº†ä¸Šé¢çš„è¡¨ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¾‹å­æ”¹å†™æˆ XML é…ç½®å¾ˆå®¹æ˜“ï¼ˆå»æ‰æ‰€æœ‰çš„æ³¨è§£ï¼‰ï¼š &lt;!-- è£…é… Bean--> &lt;bean name=\"landlord\" class=\"pojo.Landlord\"/> &lt;bean id=\"broker\" class=\"aspect.Broker\"/> &lt;!-- é…ç½®AOP --> &lt;aop:config> &lt;!-- whereï¼šåœ¨å“ªäº›åœ°æ–¹ï¼ˆåŒ….ç±».æ–¹æ³•ï¼‰åšå¢åŠ  --> &lt;aop:pointcut id=\"landlordPoint\" expression=\"execution(* pojo.Landlord.service())\"/> &lt;!-- what:åšä»€ä¹ˆå¢å¼º --> &lt;aop:aspect id=\"logAspect\" ref=\"broker\"> &lt;!-- when:åœ¨ä»€ä¹ˆæ—¶æœºï¼ˆæ–¹æ³•å‰/å/å‰åï¼‰ --> &lt;aop:around pointcut-ref=\"landlordPoint\" method=\"around\"/> &lt;/aop:aspect> &lt;/aop:config> è¿è¡Œæµ‹è¯•ç¨‹åºï¼Œçœ‹åˆ°æ­£ç¡®ç»“æœï¼š æ‰©å±•é˜…è¯»ï¼šSpringã€AOPæ¨¡å—ã€‘å°±è¿™ä¹ˆç®€å• ã€ å…³äº Spring AOP(AspectJ)ä½ è¯¥çŸ¥æ™“çš„ä¸€åˆ‡ï¼ˆæ…ç‹¬è¯»ï¼Œæœ‰äº›æ·±åº¦â€¦ï¼‰ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠJava å®æˆ˜ï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ ä¸‡èƒ½çš„ç™¾åº¦ and ä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"},{"name":"Spring","slug":"Java-Web/Spring","permalink":"http://www.wmyskxz.com/categories/Java-Web/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Springå­¦ä¹ (3)â€”â€”è£…é…Spring Beanè¯¦è§£","slug":"Springå­¦ä¹ -3-â€”â€”è£…é…Spring-Beanè¯¦è§£","date":"2018-04-12T01:34:00.000Z","updated":"2020-08-03T08:45:00.341Z","comments":true,"path":"2018/04/12/spring-xue-xi-3-zhuang-pei-spring-bean-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/12/spring-xue-xi-3-zhuang-pei-spring-bean-xiang-jie/","excerpt":"","text":"è£…é… Bean çš„æ¦‚è¿°å‰é¢å·²ç»ä»‹ç»äº† Spring IoC çš„ç†å¿µå’Œè®¾è®¡ï¼Œè¿™ä¸€ç¯‡æ–‡ç« å°†ä»‹ç»çš„æ˜¯å¦‚ä½•å°†è‡ªå·±å¼€å‘çš„ Bean è£…é…åˆ° Spring IoC å®¹å™¨ä¸­ã€‚ å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ ApplicationContext çš„å…·ä½“å®ç°ç±»ï¼Œå› ä¸ºå¯¹åº”çš„ Spring IoC å®¹å™¨åŠŸèƒ½ç›¸å¯¹å¼ºå¤§ã€‚ è€Œåœ¨ Spring ä¸­æä¾›äº† 3 ç§æ–¹æ³•è¿›è¡Œé…ç½®ï¼š åœ¨ XML æ–‡ä»¶ä¸­æ˜¾å¼é…ç½® åœ¨ Java çš„æ¥å£å’Œç±»ä¸­å®ç°é…ç½® éšå¼ Bean çš„å‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…åŸåˆ™ æ–¹å¼é€‰æ‹©çš„åŸåˆ™åœ¨ç°å®çš„å·¥ä½œä¸­ï¼Œè¿™ 3 ç§æ–¹å¼éƒ½ä¼šè¢«ç”¨åˆ°ï¼Œå¹¶ä¸”åœ¨å­¦ä¹ å’Œå·¥ä½œä¹‹ä¸­å¸¸å¸¸æ··åˆä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºä¸€äº›å…³äºè¿™ 3 ç§ä¼˜å…ˆçº§çš„å»ºè®®ï¼š 1.æœ€ä¼˜å…ˆï¼šé€šè¿‡éšå¼ Bean çš„å‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…çš„åŸåˆ™ã€‚åŸºäºçº¦å®šç”±äºé…ç½®çš„åŸåˆ™ï¼Œè¿™ç§æ–¹å¼åº”è¯¥æ˜¯æœ€ä¼˜å…ˆçš„ å¥½å¤„ï¼š å‡å°‘ç¨‹åºå¼€å‘è€…çš„å†³å®šæƒï¼Œç®€å•åˆä¸å¤±çµæ´»ã€‚ 2.å…¶æ¬¡ï¼šJava æ¥å£å’Œç±»ä¸­é…ç½®å®ç°é…ç½®åœ¨æ²¡æœ‰åŠæ³•ä½¿ç”¨è‡ªåŠ¨è£…é…åŸåˆ™çš„æƒ…å†µä¸‹åº”è¯¥ä¼˜å…ˆè€ƒè™‘æ­¤ç±»æ–¹æ³• å¥½å¤„ï¼š é¿å… XML é…ç½®çš„æ³›æ»¥ï¼Œä¹Ÿæ›´ä¸ºå®¹æ˜“ã€‚ å…¸å‹åœºæ™¯ï¼š ä¸€ä¸ªçˆ¶ç±»æœ‰å¤šä¸ªå­ç±»ï¼Œæ¯”å¦‚å­¦ç”Ÿç±»æœ‰ä¸¤ä¸ªå­ç±»ï¼Œä¸€ä¸ªç”·å­¦ç”Ÿç±»å’Œå¥³å­¦ç”Ÿç±»ï¼Œé€šè¿‡ IoC å®¹å™¨åˆå§‹åŒ–ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œå®¹å™¨å°†æ— æ³•çŸ¥é“ä½¿ç”¨å“ªä¸ªå­ç±»å»åˆå§‹åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ Java çš„æ³¨è§£é…ç½®å»æŒ‡å®šã€‚ 3.æœ€åï¼šXML æ–¹å¼é…ç½®åœ¨ä¸Šè¿°æ–¹æ³•éƒ½æ— æ³•ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆä¹Ÿåªèƒ½é€‰æ‹© XML é…ç½®çš„æ–¹å¼ã€‚ å¥½å¤„ï¼š ç®€å•æ˜“æ‡‚ï¼ˆå½“ç„¶ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåˆå­¦è€…ï¼‰ å…¸å‹åœºæ™¯ï¼š å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»çš„æ—¶å€™ï¼Œæœ‰äº›ç±»å¹¶ä¸æ˜¯æˆ‘ä»¬å¼€å‘çš„ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹é‡Œé¢çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™å°±é€šè¿‡ XML çš„æ–¹å¼é…ç½®ä½¿ç”¨äº†ã€‚ é€šè¿‡ XML é…ç½®è£…é… Beanä½¿ç”¨ XML è£…é… Bean éœ€è¦å®šä¹‰å¯¹åº”çš„ XMLï¼Œè¿™é‡Œéœ€è¦å¼•å…¥å¯¹åº”çš„ XML æ¨¡å¼ï¼ˆXSDï¼‰æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šå®šä¹‰é…ç½® Spring Bean çš„ä¸€äº›å…ƒç´ ï¼Œå½“æˆ‘ä»¬åœ¨ IDEA ä¸­åˆ›å»º XML æ–‡ä»¶æ—¶ï¼Œä¼šæœ‰å‹å¥½çš„æç¤ºï¼š ä¸€ä¸ªç®€å•çš„ XML é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> &lt;/beans> è¿™å°±åªæ˜¯ä¸€ä¸ªæ ¼å¼æ–‡ä»¶ï¼Œå¼•å…¥äº†ä¸€ä¸ª beans çš„å®šä¹‰ï¼Œå¼•å…¥äº† xsd æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œè¿™æ ·å®ƒæ‰€å®šä¹‰çš„å…ƒç´ å°†å¯ä»¥å®šä¹‰å¯¹åº”çš„ Spring Bean è£…é…ç®€æ˜“å€¼å…ˆæ¥ä¸€ä¸ªæœ€ç®€å•çš„è£…é…ï¼š &lt;bean id=\"c\" class=\"pojo.Category\"> &lt;property name=\"name\" value=\"æµ‹è¯•\" /> &lt;/bean> ç®€å•è§£é‡Šä¸€ä¸‹ï¼š id å±æ€§æ˜¯ Spring èƒ½æ‰¾åˆ°å½“å‰ Bean çš„ä¸€ä¸ªä¾èµ–çš„ç¼–å·ï¼Œéµå®ˆ XML è¯­æ³•çš„ ID å”¯ä¸€æ€§çº¦æŸã€‚å¿…é¡»ä»¥å­—æ¯å¼€å¤´ï¼Œå¯ä»¥ä½¿ç”¨å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦ã€ä¸‹åˆ’çº¿ã€å¥å·ã€å†’å·ï¼Œä¸èƒ½ä»¥ / å¼€å¤´ã€‚ä¸è¿‡ id å±æ€§ä¸æ˜¯ä¸€ä¸ªå¿…éœ€çš„å±æ€§ï¼Œname å±æ€§ä¹Ÿå¯ä»¥å®šä¹‰ bean å…ƒç´ çš„åç§°ï¼Œèƒ½ä»¥é€—å·æˆ–ç©ºæ ¼éš”å¼€èµ·å¤šä¸ªåˆ«åï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¾ˆå¤šçš„ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚åœ¨ Spring å’Œ Spring MVC çš„æ•´åˆä¸­ï¼Œå°±å¾—ä½¿ç”¨ name å±æ€§æ¥å®šä¹‰ bean çš„åç§°ï¼Œå¹¶ä¸”ä½¿ç”¨ / å¼€å¤´ã€‚ æ³¨æ„ï¼š ä» Spring 3.1 å¼€å§‹ï¼Œid å±æ€§ä¹Ÿå¯ä»¥æ˜¯ String ç±»å‹äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ id å±æ€§ä¹Ÿå¯ä»¥ä½¿ç”¨ / å¼€å¤´ï¼Œè€Œ bean å…ƒç´ çš„ id çš„å”¯ä¸€æ€§ç”±å®¹å™¨è´Ÿè´£æ£€æŸ¥ã€‚å¦‚æœ id å’Œ name å±æ€§éƒ½æ²¡æœ‰å£°æ˜çš„è¯ï¼Œé‚£ä¹ˆ Spring å°†ä¼šé‡‡ç”¨ â€œå…¨é™å®šå#{number}â€ çš„æ ¼å¼ç”Ÿæˆç¼–å·ã€‚ ä¾‹å¦‚è¿™é‡Œï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ â€œid=&quot;c&quot;â€ çš„è¯ï¼Œé‚£ä¹ˆ Spring ä¸ºå…¶ç”Ÿæˆçš„ç¼–å·å°±æ˜¯ â€œpojo.Category#0â€ï¼Œå½“å®ƒç¬¬äºŒæ¬¡å£°æ˜æ²¡æœ‰ id å±æ€§çš„ Bean æ—¶ï¼Œç¼–å·å°±æ˜¯ â€œpojo.Category#1â€ï¼Œä»¥æ­¤ç±»æ¨ã€‚ class å±æ€§æ˜¾ç„¶å°±æ˜¯ä¸€ä¸ªç±»çš„å…¨é™å®šå property å…ƒç´ æ˜¯å®šä¹‰ç±»çš„å±æ€§ï¼Œå…¶ä¸­çš„ name å±æ€§å®šä¹‰çš„æ˜¯å±æ€§çš„åç§°ï¼Œè€Œ value æ˜¯å®ƒçš„å€¼ã€‚ è¿™æ ·çš„å®šä¹‰å¾ˆç®€å•ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦æ³¨å…¥ä¸€äº›è‡ªå®šä¹‰çš„ç±»ï¼Œæ¯”å¦‚ä¹‹å‰é¥®å“åº—çš„ä¾‹å­ï¼ŒJuickMaker éœ€è¦ç”¨æˆ·æä¾›åŸæ–™ä¿¡æ¯æ‰èƒ½å®Œæˆ juice çš„åˆ¶ä½œï¼š &lt;!-- é…ç½® srouce åŸæ–™ --> &lt;bean name=\"source\" class=\"pojo.Source\"> &lt;property name=\"fruit\" value=\"æ©™å­\"/> &lt;property name=\"sugar\" value=\"å¤šç³–\"/> &lt;property name=\"size\" value=\"è¶…å¤§æ¯\"/> &lt;/bean> &lt;bean name=\"juickMaker\" class=\"pojo.JuiceMaker\"> &lt;!-- æ³¨å…¥ä¸Šé¢é…ç½®çš„idä¸ºsrouceçš„Srouceå¯¹è±¡ --> &lt;property name=\"source\" ref=\"source\"/> &lt;/bean> è¿™é‡Œå…ˆå®šä¹‰äº†ä¸€ä¸ª name ä¸º source çš„ Beanï¼Œç„¶åå†åˆ¶é€ å™¨ä¸­é€šè¿‡ ref å±æ€§å»å¼•ç”¨å¯¹åº”çš„ Beanï¼Œè€Œ source æ­£æ˜¯ä¹‹å‰å®šä¹‰çš„ Bean çš„ name ï¼Œè¿™æ ·å°±å¯ä»¥ç›¸äº’å¼•ç”¨äº†ã€‚ æ³¨å…¥å¯¹è±¡ï¼šä½¿ç”¨ ref å±æ€§ è£…é…é›†åˆæœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦è£…é…ä¸€äº›å¤æ‚çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ Setã€Mapã€Listã€Array å’Œ Properties ç­‰ï¼Œä¸ºæ­¤æˆ‘ä»¬åœ¨ Packgeã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ª ComplexAssembly ç±»ï¼š package pojo; import java.util.List; import java.util.Map; import java.util.Properties; import java.util.Set; public class ComplexAssembly { private Long id; private List&lt;String> list; private Map&lt;String, String> map; private Properties properties; private Set&lt;String> set; private String[] array; /* setter and getter */ } è¿™ä¸ª Bean æ²¡æœ‰ä»»ä½•çš„å®é™…æ„ä¹‰ï¼ŒçŸ¥è¯†ä¸ºäº†ä»‹ç»å¦‚ä½•è£…é…è¿™äº›å¸¸ç”¨çš„é›†åˆç±»ï¼š &lt;bean id=\"complexAssembly\" class=\"pojo.ComplexAssembly\"> &lt;!-- è£…é…Longç±»å‹çš„id --> &lt;property name=\"id\" value=\"1\"/> &lt;!-- è£…é…Listç±»å‹çš„list --> &lt;property name=\"list\"> &lt;list> &lt;value>value-list-1&lt;/value> &lt;value>value-list-2&lt;/value> &lt;value>value-list-3&lt;/value> &lt;/list> &lt;/property> &lt;!-- è£…é…Mapç±»å‹çš„map --> &lt;property name=\"map\"> &lt;map> &lt;entry key=\"key1\" value=\"value-key-1\"/> &lt;entry key=\"key2\" value=\"value-key-2\"/> &lt;entry key=\"key3\" value=\"value-key-2\"/> &lt;/map> &lt;/property> &lt;!-- è£…é…Propertiesç±»å‹çš„properties --> &lt;property name=\"properties\"> &lt;props> &lt;prop key=\"prop1\">value-prop-1&lt;/prop> &lt;prop key=\"prop2\">value-prop-2&lt;/prop> &lt;prop key=\"prop3\">value-prop-3&lt;/prop> &lt;/props> &lt;/property> &lt;!-- è£…é…Setç±»å‹çš„set --> &lt;property name=\"set\"> &lt;set> &lt;value>value-set-1&lt;/value> &lt;value>value-set-2&lt;/value> &lt;value>value-set-3&lt;/value> &lt;/set> &lt;/property> &lt;!-- è£…é…String[]ç±»å‹çš„array --> &lt;property name=\"array\"> &lt;array> &lt;value>value-array-1&lt;/value> &lt;value>value-array-2&lt;/value> &lt;value>value-array-3&lt;/value> &lt;/array> &lt;/property> &lt;/bean> æ€»ç»“ï¼š List å±æ€§ä¸ºå¯¹åº”çš„ &lt;list&gt; å…ƒç´ è¿›è¡Œè£…é…ï¼Œç„¶åé€šè¿‡å¤šä¸ª &lt;value&gt; å…ƒç´ è®¾å€¼ Map å±æ€§ä¸ºå¯¹åº”çš„ &lt;map&gt; å…ƒç´ è¿›è¡Œè£…é…ï¼Œç„¶åé€šè¿‡å¤šä¸ª &lt;entry&gt; å…ƒç´ è®¾å€¼ï¼Œåªæ˜¯ entry åŒ…å«ä¸€ä¸ªé”®å€¼å¯¹(key-value)çš„è®¾ç½® Properties å±æ€§ä¸ºå¯¹åº”çš„ &lt;properties&gt; å…ƒç´ è¿›è¡Œè£…é…ï¼Œé€šè¿‡å¤šä¸ª &lt;property&gt; å…ƒç´ è®¾å€¼ï¼Œåªæ˜¯ properties å…ƒç´ æœ‰ä¸€ä¸ªå¿…å¡«å±æ€§ key ï¼Œç„¶åå¯ä»¥è®¾ç½®å€¼ Set å±æ€§ä¸ºå¯¹åº”çš„ &lt;set&gt; å…ƒç´ è¿›è¡Œè£…é…ï¼Œç„¶åé€šè¿‡å¤šä¸ª &lt;value&gt; å…ƒç´ è®¾å€¼ å¯¹äºæ•°ç»„è€Œè¨€ï¼Œå¯ä»¥ä½¿ç”¨ &lt;array&gt; è®¾ç½®å€¼ï¼Œç„¶åé€šè¿‡å¤šä¸ª &lt;value&gt; å…ƒç´ è®¾å€¼ã€‚ ä¸Šé¢çœ‹åˆ°äº†å¯¹ç®€å• String ç±»å‹çš„å„ä¸ªé›†åˆçš„è£…è½½ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™å¯èƒ½éœ€è¦æ›´ä¸ºå¤æ‚çš„è£…è½½ï¼Œæ¯”å¦‚ä¸€ä¸ª List å¯ä»¥æ˜¯ä¸€ä¸ªç³»åˆ—ç±»çš„å¯¹è±¡ï¼Œä¸ºæ­¤éœ€è¦å®šä¹‰æ³¨å…¥çš„ç›¸å…³ä¿¡æ¯ï¼Œå…¶å®è·Ÿä¸Šé¢çš„é…ç½®æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œåªä¸è¿‡åŠ å…¥äº† ref è¿™ä¸€ä¸ªå±æ€§è€Œå·²ï¼š é›†åˆæ³¨å…¥æ€»ç»“ï¼š List å±æ€§ä½¿ç”¨ &lt;list&gt; å…ƒç´ å®šä¹‰æ³¨å…¥ï¼Œä½¿ç”¨å¤šä¸ª &lt;ref&gt; å…ƒç´ çš„ Bean å±æ€§å»å¼•ç”¨ä¹‹å‰å®šä¹‰å¥½çš„ Bean &lt;property name=\"list\"> &lt;list> &lt;ref bean=\"bean1\"/> &lt;ref bean=\"bean2\"/> &lt;/list> &lt;/property> Map å±æ€§ä½¿ç”¨ &lt;map&gt; å…ƒç´ å®šä¹‰æ³¨å…¥ï¼Œä½¿ç”¨å¤šä¸ª &lt;entry&gt; å…ƒç´ çš„ key-ref å±æ€§å»å¼•ç”¨ä¹‹å‰å®šä¹‰å¥½çš„ Bean ä½œä¸ºé”®ï¼Œè€Œç”¨ value-ref å±æ€§å¼•ç”¨ä¹‹å‰å®šä¹‰å¥½çš„ Bean ä½œä¸ºå€¼ &lt;property name=\"map\"> &lt;map> &lt;entry key-ref=\"keyBean\" value-ref=\"valueBean\"/> &lt;/map> &lt;/property> Set å±æ€§ä½¿ç”¨ &lt;set&gt; å…ƒç´ å®šä¹‰æ³¨å…¥ï¼Œä½¿ç”¨å¤šä¸ª &lt;ref&gt; å…ƒç´ çš„ bean å»å¼•ç”¨ä¹‹å‰å®šä¹‰å¥½çš„ Bean &lt;property name=\"set\"> &lt;set> &lt;ref bean=\"bean\"/> &lt;/set> &lt;/property> å‘½åç©ºé—´è£…é…é™¤äº†ä¸Šè¿°çš„é…ç½®ä¹‹å¤–ï¼Œ Spring è¿˜æä¾›äº†å¯¹åº”çš„å‘½åç©ºé—´çš„å®šä¹‰ï¼Œåªæ˜¯åœ¨ä½¿ç”¨å‘½åç©ºé—´çš„æ—¶å€™è¦å…ˆå¼•å…¥å¯¹åº”çš„å‘½åç©ºé—´å’Œ XML æ¨¡å¼ï¼ˆXSDï¼‰æ–‡ä»¶ã€‚ â€”â€”ã€â‘  c-å‘½åç©ºé—´ã€‘â€”â€”c-å‘½åç©ºé—´æ˜¯åœ¨ Spring 3.0 ä¸­å¼•å…¥çš„ï¼Œå®ƒæ˜¯åœ¨ XML ä¸­æ›´ä¸ºç®€æ´åœ°æè¿°æ„é€ å™¨å‚æ•°çš„æ–¹å¼ï¼Œè¦ä½¿ç”¨å®ƒçš„è¯ï¼Œå¿…é¡»è¦åœ¨ XML çš„é¡¶éƒ¨å£°æ˜å…¶æ¨¡å¼ï¼š æ³¨æ„ï¼šæ˜¯é€šè¿‡æ„é€ å™¨å‚æ•°çš„æ–¹å¼ ç°åœ¨å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªç±»ï¼š package pojo; public class Student { int id; String name; public Student(int id, String name) { this.id = id; this.name = name; } // setter and getter } åœ¨ c-å‘½åç©ºé—´å’Œæ¨¡å¼å£°æ˜ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒæ¥å£°æ˜æ„é€ å™¨å‚æ•°äº†ï¼š &lt;!-- å¼•å…¥ c-å‘½åç©ºé—´ä¹‹å‰ --> &lt;bean name=\"student1\" class=\"pojo.Student\"> &lt;constructor-arg name=\"id\" value=\"1\" /> &lt;constructor-arg name=\"name\" value=\"å­¦ç”Ÿ1\"/> &lt;/bean> &lt;!-- å¼•å…¥ c-å‘½åç©ºé—´ä¹‹å --> &lt;bean name=\"student2\" class=\"pojo.Student\" c:id=\"2\" c:name=\"å­¦ç”Ÿ2\"/> c-å‘½åç©ºé—´å±æ€§åä»¥ â€œc:â€ å¼€å¤´ï¼Œä¹Ÿå°±æ˜¯å‘½åç©ºé—´çš„å‰ç¼€ã€‚æ¥ä¸‹æ¥å°±æ˜¯è¦è£…é…çš„æ„é€ å™¨å‚æ•°åï¼Œåœ¨æ­¤ä¹‹åå¦‚æœéœ€è¦æ³¨å…¥å¯¹è±¡çš„è¯åˆ™è¦è·Ÿä¸Š -refï¼ˆå¦‚c:card-ref=&quot;idCard1&quot;ï¼Œåˆ™å¯¹ card è¿™ä¸ªæ„é€ å™¨å‚æ•°æ³¨å…¥ä¹‹å‰é…ç½®çš„åä¸º idCard1 çš„ beanï¼‰ å¾ˆæ˜¾ç„¶ï¼Œä½¿ç”¨ c-å‘½åç©ºé—´å±æ€§è¦æ¯”ä½¿ç”¨ &lt;constructor-arg&gt; å…ƒç´ ç²¾ç®€ï¼Œå¹¶ä¸”ä¼šç›´æ¥å¼•ç”¨æ„é€ å™¨ä¹‹ä¸­å‚æ•°çš„åç§°ï¼Œè¿™æœ‰åˆ©äºæˆ‘ä»¬ä½¿ç”¨çš„å®‰å…¨æ€§ã€‚ æˆ‘ä»¬æœ‰å¦å¤–ä¸€ç§æ›¿ä»£æ–¹å¼ï¼š &lt;bean name=\"student2\" class=\"pojo.Student\" c:_0=\"3\" c:_1=\"å­¦ç”Ÿ3\"/> æˆ‘ä»¬å°†å‚æ•°çš„åç§°æ›¿æ¢æˆäº† â€œ0â€ å’Œ â€œ1â€ ï¼Œä¹Ÿå°±æ˜¯å‚æ•°çš„ç´¢å¼•ã€‚å› ä¸ºåœ¨ XML ä¸­ä¸å…è®¸æ•°å­—ä½œä¸ºå±æ€§çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå› æ­¤å¿…é¡»è¦æ·»åŠ ä¸€ä¸ªä¸‹åˆ’çº¿æ¥ä½œä¸ºå‰ç¼€ã€‚ â€”â€”ã€â‘¡ p-å‘½åç©ºé—´ã€‘â€”â€”c-å‘½åç©ºé—´é€šè¿‡æ„é€ å™¨æ³¨å…¥çš„æ–¹å¼æ¥é…ç½® beanï¼Œp-å‘½åç©ºé—´åˆ™æ˜¯ç”¨setterçš„æ³¨å…¥æ–¹å¼æ¥é…ç½® bean ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å£°æ˜ï¼š ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ p-å‘½åç©ºé—´æ¥è®¾ç½®å±æ€§ï¼š &lt;!-- å¼•å…¥p-å‘½åç©ºé—´ä¹‹å‰ --> &lt;bean name=\"student1\" class=\"pojo.Student\"> &lt;property name=\"id\" value=\"1\" /> &lt;property name=\"name\" value=\"å­¦ç”Ÿ1\"/> &lt;/bean> &lt;!-- å¼•å…¥p-å‘½åç©ºé—´ä¹‹å --> &lt;bean name=\"student2\" class=\"pojo.Student\" p:id=\"2\" p:name=\"å­¦ç”Ÿ2\"/> æˆ‘ä»¬éœ€è¦å…ˆåˆ æ‰ Student ç±»ä¸­çš„æ„é€ å‡½æ•°ï¼Œä¸ç„¶ XML çº¦æŸä¼šæç¤ºæˆ‘ä»¬é…ç½® &lt;constructor-arg&gt; å…ƒç´ ã€‚ åŒæ ·çš„ï¼Œå¦‚æœå±æ€§éœ€è¦æ³¨å…¥å…¶ä»– Bean çš„è¯ä¹Ÿå¯ä»¥åœ¨åé¢è·Ÿä¸Š -refï¼š &lt;bean name=\"student2\" class=\"pojo.Student\" p:id=\"2\" p:name=\"å­¦ç”Ÿ2\" p:cdCard-ref=\"cdCard1\"/> â€”â€”ã€â‘¢ util-å‘½åç©ºé—´ã€‘â€”â€”å·¥å…·ç±»çš„å‘½åç©ºé—´ï¼Œå¯ä»¥ç®€åŒ–é›†åˆç±»å…ƒç´ çš„é…ç½®ï¼ŒåŒæ ·çš„æˆ‘ä»¬éœ€è¦å¼•å…¥å…¶å£°æ˜ï¼ˆæ— éœ€æ‹…å¿ƒæ€ä¹ˆå£°æ˜çš„é—®é¢˜ï¼ŒIDEAä¼šæœ‰å¾ˆå‹å¥½çš„æç¤ºï¼‰ï¼š æˆ‘ä»¬æ¥çœ‹çœ‹å¼•å…¥å‰åçš„å˜åŒ–ï¼š &lt;!-- å¼•å…¥util-å‘½åç©ºé—´ä¹‹å‰ --> &lt;property name=\"list\"> &lt;list> &lt;ref bean=\"bean1\"/> &lt;ref bean=\"bean2\"/> &lt;/list> &lt;/property> &lt;!-- å¼•å…¥util-å‘½åç©ºé—´ä¹‹å --> &lt;util:list id=\"list\"> &lt;ref bean=\"bean1\"/> &lt;ref bean=\"bean2\"/> &lt;/util:list> &lt;util:list&gt; åªæ˜¯ util-å‘½åç©ºé—´ä¸­çš„å¤šä¸ªå…ƒç´ ä¹‹ä¸€ï¼Œä¸‹è¡¨æä¾›äº† util-å‘½åç©ºé—´æä¾›çš„æ‰€æœ‰å…ƒç´ ï¼š å…ƒç´  æè¿° &lt;util:constant&gt; å¼•ç”¨æŸä¸ªç±»å‹çš„ public static åŸŸï¼Œå¹¶å°†å…¶æš´éœ²ä¸º bean &lt;util:list&gt; åˆ›å»ºä¸€ä¸ª java.util.List ç±»å‹çš„ beanï¼Œå…¶ä¸­åŒ…å«å€¼æˆ–å¼•ç”¨ &lt;util:map&gt; åˆ›å»ºä¸€ä¸ª java.util.map ç±»å‹çš„ beanï¼Œå…¶ä¸­åŒ…å«å€¼æˆ–å¼•ç”¨ &lt;util:properties&gt; åˆ›å»ºä¸€ä¸ª java.util.Properties ç±»å‹çš„ bean &lt;util:property-path&gt; å¼•ç”¨ä¸€ä¸ª bean çš„å±æ€§ï¼ˆæˆ–å†…åµŒå±æ€§ï¼‰ï¼Œå¹¶å°†å…¶æš´éœ²ä¸º bean &lt;util:set&gt; åˆ›å»ºä¸€ä¸ª java.util.Set ç±»å‹çš„ beanï¼Œå…¶ä¸­åŒ…å«å€¼æˆ–å¼•ç”¨ å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶åœ¨å®é™…å¼€å‘ä¸­ï¼Œéšç€åº”ç”¨ç¨‹åºè§„æ¨¡çš„å¢åŠ ï¼Œç³»ç»Ÿä¸­ &lt;bean&gt; å…ƒç´ é…ç½®çš„æ•°é‡ä¹Ÿä¼šå¤§å¤§å¢åŠ ï¼Œå¯¼è‡´ applicationContext.xml é…ç½®æ–‡ä»¶å˜å¾—éå¸¸è‡ƒè‚¿éš¾ä»¥ç»´æŠ¤ã€‚ è§£å†³æ–¹æ¡ˆï¼šè®© applicationContext.xml æ–‡ä»¶åŒ…å«å…¶ä»–é…ç½®æ–‡ä»¶å³å¯ä½¿ç”¨ &lt;import&gt; å…ƒç´ å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶ 1.åœ¨ã€srcã€‘æ–‡ä»¶ä¸‹æ–°å»ºä¸€ä¸ª bean.xml æ–‡ä»¶ï¼Œå†™å¥½åŸºç¡€çš„çº¦æŸï¼ŒæŠŠ applicationContext.xml æ–‡ä»¶ä¸­é…ç½®çš„ &lt;bean&gt; å…ƒç´ å¤åˆ¶è¿›å» 2.åœ¨ applicationContext.xml æ–‡ä»¶ä¸­å†™å…¥ï¼š &lt;import resource=\"bean.xml\" /> 3.è¿è¡Œæµ‹è¯•ä»£ç ï¼Œä»ç„¶èƒ½æ­£ç¡®è·å–åˆ° bean: é€šè¿‡æ³¨è§£è£…é… Beanä¸Šé¢ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ XML çš„æ–¹å¼å»è£…é… Beanï¼Œä½†æ˜¯æ›´å¤šçš„æ—¶å€™å·²ç»ä¸å†æ¨èä½¿ç”¨ XML çš„æ–¹å¼å»è£…é… Beanï¼Œæ›´å¤šçš„æ—¶å€™å›è€ƒè™‘ä½¿ç”¨æ³¨è§£ï¼ˆannotationï¼‰ çš„æ–¹å¼å»è£…é… Beanã€‚ ä¼˜åŠ¿ï¼š 1.å¯ä»¥å‡å°‘ XML çš„é…ç½®ï¼Œå½“é…ç½®é¡¹å¤šçš„æ—¶å€™ï¼Œè‡ƒè‚¿éš¾ä»¥ç»´æŠ¤2.åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œæ—¢èƒ½å®ç° XML çš„åŠŸèƒ½ï¼Œä¹Ÿæä¾›äº†è‡ªåŠ¨è£…é…çš„åŠŸèƒ½ï¼Œé‡‡ç”¨äº†è‡ªåŠ¨è£…é…åï¼Œç¨‹åºçŒ¿æ‰€éœ€è¦åšçš„å†³æ–­å°±å°‘äº†ï¼Œæ›´åŠ æœ‰åˆ©äºå¯¹ç¨‹åºçš„å¼€å‘ï¼Œè¿™å°±æ˜¯â€œçº¦å®šç”±äºé…ç½®â€çš„å¼€å‘åŸåˆ™ åœ¨ Spring ä¸­ï¼Œå®ƒæä¾›äº†ä¸¤ç§æ–¹å¼æ¥è®© Spring IoC å®¹å™¨å‘ç° beanï¼š ç»„ä»¶æ‰«æï¼šé€šè¿‡å®šä¹‰èµ„æºçš„æ–¹å¼ï¼Œè®© Spring IoC å®¹å™¨æ‰«æå¯¹åº”çš„åŒ…ï¼Œä»è€ŒæŠŠ bean è£…é…è¿›æ¥ã€‚ è‡ªåŠ¨è£…é…ï¼šé€šè¿‡æ³¨è§£å®šä¹‰ï¼Œä½¿å¾—ä¸€äº›ä¾èµ–å…³ç³»å¯ä»¥é€šè¿‡æ³¨è§£å®Œæˆã€‚ ä½¿ç”¨@Compoent è£…é… Beanæˆ‘ä»¬æŠŠä¹‹å‰åˆ›å»ºçš„ Student ç±»æ”¹ä¸€ä¸‹ï¼š package pojo; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; @Component(value = \"student1\") public class Student { @Value(\"1\") int id; @Value(\"student_name_1\") String name; // getter and setter } è§£é‡Šä¸€ä¸‹ï¼š @Componentæ³¨è§£ï¼šè¡¨ç¤º Spring IoC ä¼šæŠŠè¿™ä¸ªç±»æ‰«ææˆä¸€ä¸ª bean å®ä¾‹ï¼Œè€Œå…¶ä¸­çš„ value å±æ€§ä»£è¡¨è¿™ä¸ªç±»åœ¨ Spring ä¸­çš„ idï¼Œè¿™å°±ç›¸å½“äºåœ¨ XML ä¸­å®šä¹‰çš„ Bean çš„ idï¼š&lt;bean id=&quot;student1&quot; class=&quot;pojo.Student&quot; /&gt;ï¼Œä¹Ÿå¯ä»¥ç®€å†™æˆ @Component(&quot;student1&quot;)ï¼Œç”šè‡³ç›´æ¥å†™æˆ @Component ï¼Œå¯¹äºä¸å†™çš„ï¼ŒSpring IoC å®¹å™¨å°±é»˜è®¤ä»¥ç±»åæ¥å‘½åä½œä¸º idï¼Œåªä¸è¿‡é¦–å­—æ¯å°å†™ï¼Œé…ç½®åˆ°å®¹å™¨ä¸­ã€‚ @Valueæ³¨è§£ï¼šè¡¨ç¤ºå€¼çš„æ³¨å…¥ï¼Œè·Ÿåœ¨ XML ä¸­å†™ value å±æ€§æ˜¯ä¸€æ ·çš„ã€‚ è¿™æ ·æˆ‘ä»¬å°±å£°æ˜å¥½äº†æˆ‘ä»¬è¦åˆ›å»ºçš„ä¸€ä¸ª Beanï¼Œå°±åƒåœ¨ XML ä¸­å†™ä¸‹äº†è¿™æ ·ä¸€å¥è¯ï¼š &lt;bean name=\"student1\" class=\"pojo.Student\"> &lt;property name=\"id\" value=\"1\" /> &lt;property name=\"name\" value=\"student_name_1\"/> &lt;/bean> ä½†æ˜¯ç°åœ¨æˆ‘ä»¬å£°æ˜äº†è¿™ä¸ªç±»ï¼Œå¹¶ä¸èƒ½è¿›è¡Œä»»ä½•çš„æµ‹è¯•ï¼Œå› ä¸º Spring IoC å¹¶ä¸çŸ¥é“è¿™ä¸ª Bean çš„å­˜åœ¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª StudentConfig ç±»å»å‘Šè¯‰ Spring IoC ï¼š package pojo; import org.springframework.context.annotation.ComponentScan; @ComponentScan public class StudentConfig { } è¿™ä¸ªç±»ååˆ†ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•é€»è¾‘ï¼Œä½†æ˜¯éœ€è¦è¯´æ˜ä¸¤ç‚¹ï¼š è¯¥ç±»å’Œ Student ç±»ä½äºåŒä¸€åŒ…åä¸‹ @ComponentScanæ³¨è§£ï¼šä»£è¡¨è¿›è¡Œæ‰«æï¼Œé»˜è®¤æ˜¯æ‰«æå½“å‰åŒ…çš„è·¯å¾„ï¼Œæ‰«ææ‰€æœ‰å¸¦æœ‰ @Component æ³¨è§£çš„ POJOã€‚ è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ Spring å®šä¹‰å¥½çš„ Spring IoC å®¹å™¨çš„å®ç°ç±»â€”â€”AnnotationConfigApplicationContext å»ç”Ÿæˆ IoC å®¹å™¨äº†ï¼š ApplicationContext context = new AnnotationConfigApplicationContext(StudentConfig.class); Student student = (Student) context.getBean(\"student1\", Student.class); student.printInformation(); è¿™é‡Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨äº† AnnotationConfigApplicationContext ç±»å»åˆå§‹åŒ– Spring IoC å®¹å™¨ï¼Œå®ƒçš„é…ç½®é¡¹æ˜¯ StudentConfig ç±»ï¼Œè¿™æ · Spring IoC å°±ä¼šæ ¹æ®æ³¨è§£çš„é…ç½®å»è§£æå¯¹åº”çš„èµ„æºï¼Œæ¥ç”Ÿæˆ IoC å®¹å™¨äº†ã€‚ æ˜æ˜¾çš„å¼Šç«¯ï¼š å¯¹äº @ComponentScan æ³¨è§£ï¼Œå®ƒåªæ˜¯æ‰«ææ‰€åœ¨åŒ…çš„ Java ç±»ï¼Œä½†æ˜¯æ›´å¤šçš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›çš„æ˜¯å¯ä»¥æ‰«ææˆ‘ä»¬æŒ‡å®šçš„ç±» ä¸Šé¢çš„ä¾‹å­åªæ˜¯æ³¨å…¥äº†ä¸€äº›ç®€å•çš„å€¼ï¼Œæµ‹è¯•å‘ç°ï¼Œé€šè¿‡ @Value æ³¨è§£å¹¶ä¸èƒ½æ³¨å…¥å¯¹è±¡ @Component æ³¨è§£å­˜åœ¨ç€ä¸¤ä¸ªé…ç½®é¡¹ï¼š basePackagesï¼šå®ƒæ˜¯ç”± base å’Œ package ä¸¤ä¸ªå•è¯ç»„æˆçš„ï¼Œè€Œ package è¿˜æ˜¯ç”¨äº†å¤æ•°ï¼Œæ„å‘³ç€å®ƒå¯ä»¥é…ç½®ä¸€ä¸ª Java åŒ…çš„æ•°ç»„ï¼ŒSpring ä¼šæ ¹æ®å®ƒçš„é…ç½®æ‰«æå¯¹åº”çš„åŒ…å’Œå­åŒ…ï¼Œå°†é…ç½®å¥½çš„ Bean è£…é…è¿›æ¥ basePackageClassesï¼šå®ƒç”± baseã€package å’Œ class ä¸‰ä¸ªå•è¯ç»„æˆï¼Œé‡‡ç”¨å¤æ•°ï¼Œæ„å‘³ç€å®ƒå¯ä»¥é…ç½®å¤šä¸ªç±»ï¼Œ Spring ä¼šæ ¹æ®é…ç½®çš„ç±»æ‰€åœ¨çš„åŒ…ï¼Œä¸ºåŒ…å’Œå­åŒ…è¿›è¡Œæ‰«æè£…é…å¯¹åº”é…ç½®çš„ Bean æˆ‘ä»¬æ¥è¯•ç€é‡æ„ä¹‹å‰å†™çš„ StudentConfig ç±»æ¥éªŒè¯ä¸Šé¢ä¸¤ä¸ªé…ç½®é¡¹ï¼š package pojo; import org.springframework.context.annotation.ComponentScan; @ComponentScan(basePackages = \"pojo\") public class StudentConfig { } // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ã€ å®‡å®™è¶…çº§æ— æ•Œåˆ†å‰²çº¿ã€‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” package pojo; import org.springframework.context.annotation.ComponentScan; @ComponentScan(basePackageClasses = pojo.Student.class) public class StudentConfig { } éªŒè¯éƒ½èƒ½é€šè¿‡ï¼Œbingoï¼ å¯¹äº ã€basePackagesã€‘ å’Œ ã€basePackageClassesã€‘ çš„é€‰æ‹©é—®é¢˜ï¼šã€basePackagesã€‘ çš„å¯è¯»æ€§ä¼šæ›´å¥½ä¸€äº›ï¼Œæ‰€ä»¥åœ¨é¡¹ç›®ä¸­ä¼šä¼˜å…ˆé€‰æ‹©ä½¿ç”¨å®ƒï¼Œä½†æ˜¯åœ¨éœ€è¦å¤§é‡é‡æ„çš„å·¥ç¨‹ä¸­ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€basePackagesã€‘ï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™é‡æ„ä¿®æ”¹åŒ…åéœ€è¦åå¤åœ°é…ç½®ï¼Œè€Œ IDE ä¸ä¼šç»™ä½ ä»»ä½•çš„æç¤ºï¼Œè€Œé‡‡ç”¨ã€basePackageClassesã€‘ä¼šæœ‰é”™è¯¯æç¤ºã€‚ è‡ªåŠ¨è£…é…â€”â€”@Autowiredä¸Šé¢æåˆ°çš„ä¸¤ä¸ªå¼Šç«¯ä¹‹ä¸€å°±æ˜¯æ²¡æœ‰åŠæ³•æ³¨å…¥å¯¹è±¡ï¼Œé€šè¿‡è‡ªåŠ¨è£…é…æˆ‘ä»¬å°†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æ‰€è°“è‡ªåŠ¨è£…é…æŠ€æœ¯æ˜¯ä¸€ç§ç”± Spring è‡ªå·±å‘ç°å¯¹åº”çš„ Beanï¼Œè‡ªåŠ¨å®Œæˆè£…é…å·¥ä½œçš„æ–¹å¼ï¼Œå®ƒä¼šåº”ç”¨åˆ°ä¸€ä¸ªååˆ†å¸¸ç”¨çš„æ³¨è§£ @Autowired ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ Spring ä¼šæ ¹æ®ç±»å‹å»å¯»æ‰¾å®šä¹‰çš„ Bean ç„¶åå°†å…¶æ³¨å…¥ï¼Œå¬èµ·æ¥å¾ˆç¥å¥‡ï¼Œè®©æˆ‘ä»¬å®é™…æ¥çœ‹ä¸€çœ‹ï¼š 1.å…ˆåœ¨ Packageã€serviceã€‘ä¸‹åˆ›å»ºä¸€ä¸ª StudentService æ¥å£ï¼š package service; public interface StudentService { public void printStudentInfo(); } ä½¿ç”¨æ¥å£æ˜¯ Spring æ¨èçš„æ–¹å¼ï¼Œè¿™æ ·å¯ä»¥æ›´ä¸ºçµæ´»ï¼Œå¯ä»¥å°†å®šä¹‰å’Œå®ç°åˆ†ç¦» 2.ä¸ºä¸Šé¢çš„æ¥å£åˆ›å»ºä¸€ä¸ª StudentServiceImp å®ç°ç±»ï¼š package service; import org.springframework.beans.factory.annotation.Autowired; import pojo.Student; @Component(\"studentService\") public class StudentServiceImp implements StudentService { @Autowired private Student student = null; // getter and setter public void printStudentInfo() { System.out.println(\"å­¦ç”Ÿçš„ id ä¸ºï¼š\" + student.getName()); System.out.println(\"å­¦ç”Ÿçš„ name ä¸ºï¼š\" + student.getName()); } } è¯¥å®ç°ç±»å®ç°äº†æ¥å£çš„ printStudentInfo() æ–¹æ³•ï¼Œæ‰“å°å‡ºæˆå‘˜å¯¹è±¡ student çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™é‡Œçš„ @Autowired æ³¨è§£ï¼Œè¡¨ç¤ºåœ¨ Spring IoC å®šä½æ‰€æœ‰çš„ Bean åï¼Œè¿™ä¸ªå­—æ®µéœ€è¦æŒ‰ç±»å‹æ³¨å…¥ï¼Œè¿™æ · IoC å®¹å™¨å°±ä¼šå¯»æ‰¾èµ„æºï¼Œç„¶åå°†å…¶æ³¨å…¥ã€‚ 3.ç¼–å†™æµ‹è¯•ç±»ï¼š // ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹ StudentConfig ç±»ï¼Œå‘Šè¯‰ Spring IoC åœ¨å“ªé‡Œå»æ‰«æå®ƒï¼š package pojo; import org.springframework.context.annotation.ComponentScan; @ComponentScan(basePackages = {\"pojo\", \"service\"}) public class StudentConfig { } // æˆ–è€…ä¹Ÿå¯ä»¥åœ¨ XML æ–‡ä»¶ä¸­å£°æ˜å»å“ªé‡Œåšæ‰«æ &lt;context:component-scan base-package=\"pojo\" /> &lt;context:component-scan base-package=\"service\" /> // ç¬¬äºŒæ­¥ï¼šç¼–å†™æµ‹è¯•ç±»ï¼š package test; import org.springframework.context.ApplicationContext; import org.springframework.context.annotation.AnnotationConfigApplicationContext; import pojo.StudentConfig; import service.StudentService; import service.StudentServiceImp; public class TestSpring { public static void main(String[] args) { // é€šè¿‡æ³¨è§£çš„æ–¹å¼åˆå§‹åŒ– Spring IoC å®¹å™¨ ApplicationContext context = new AnnotationConfigApplicationContext(StudentConfig.class); StudentService studentService = context.getBean(\"studentService\", StudentServiceImp.class); studentService.printStudentInfo(); } } è¿è¡Œä»£ç ï¼š å†æ¬¡ç†è§£ï¼š @Autowired æ³¨è§£è¡¨ç¤ºåœ¨ Spring IoC å®šä½æ‰€æœ‰çš„ Bean åï¼Œå†æ ¹æ®ç±»å‹å¯»æ‰¾èµ„æºï¼Œç„¶åå°†å…¶æ³¨å…¥ã€‚ è¿‡ç¨‹ï¼š å®šä¹‰ Bean â€”â€”ã€‹ åˆå§‹åŒ– Beanï¼ˆæ‰«æï¼‰ â€”â€”ã€‹ æ ¹æ®å±æ€§éœ€è¦ä» Spring IoC å®¹å™¨ä¸­æœå¯»æ»¡è¶³è¦æ±‚çš„ Bean â€”â€”ã€‹ æ»¡è¶³è¦æ±‚åˆ™æ³¨å…¥ é—®é¢˜ï¼š IoC å®¹å™¨å¯èƒ½ä¼šå¯»æ‰¾å¤±è´¥ï¼Œæ­¤æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring IoC å®¹å™¨ä¼šè®¤ä¸ºä¸€å®šè¦æ‰¾åˆ°å¯¹åº”çš„ Bean æ¥æ³¨å…¥åˆ°è¿™ä¸ªå­—æ®µï¼Œä½†æœ‰äº›æ—¶å€™å¹¶ä¸æ˜¯ä¸€å®šéœ€è¦ï¼Œæ¯”å¦‚æ—¥å¿—ï¼‰ è§£å†³ï¼š é€šè¿‡é…ç½®é¡¹ required æ¥æ”¹å˜ï¼Œæ¯”å¦‚ @Autowired(required = false) @Autowired æ³¨è§£ä¸ä»…ä»…èƒ½é…ç½®åœ¨å±æ€§ä¹‹ä¸Šï¼Œè¿˜å…è®¸æ–¹æ³•é…ç½®ï¼Œå¸¸è§çš„ Bean çš„ setter æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥å®Œæˆæ³¨å…¥ï¼Œæ€»ä¹‹ä¸€åˆ‡éœ€è¦ Spring IoC å»å¯»æ‰¾ Bean èµ„æºçš„åœ°æ–¹éƒ½å¯ä»¥ç”¨åˆ°ï¼Œä¾‹å¦‚ï¼š /* åŒ…åå’Œimport */ public class JuiceMaker { ...... @Autowired public void setSource(Source source) { this.source = source; } } åœ¨å¤§éƒ¨åˆ†çš„é…ç½®ä¸­éƒ½æ¨èä½¿ç”¨è¿™æ ·çš„è‡ªåŠ¨æ³¨å…¥æ¥å®Œæˆï¼Œè¿™æ˜¯ Spring IoC å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨è£…é…å®Œæˆçš„ï¼Œè¿™æ ·ä½¿å¾—é…ç½®å¤§å¹…åº¦å‡å°‘ï¼Œæ»¡è¶³çº¦å®šä¼˜äºé…ç½®çš„åŸåˆ™ï¼Œå¢å¼ºç¨‹åºçš„å¥å£®æ€§ã€‚ è‡ªåŠ¨è£…é…çš„æ­§ä¹‰æ€§ï¼ˆ@Primaryå’Œ@Qualifierï¼‰åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ä½¿ç”¨ @Autowired æ³¨è§£æ¥è‡ªåŠ¨æ³¨å…¥ä¸€ä¸ª Source ç±»å‹çš„ Bean èµ„æºï¼Œä½†å¦‚æœæˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ª Srouce ç±»å‹çš„èµ„æºï¼ŒSpring IoC å°±ä¼šä¸çŸ¥æ‰€æªï¼Œä¸çŸ¥é“ç©¶ç«Ÿè¯¥å¼•å…¥å“ªä¸€ä¸ª Beanï¼š &lt;bean name=\"source1\" class=\"pojo.Source\"> &lt;property name=\"fruit\" value=\"æ©™å­\"/> &lt;property name=\"sugar\" value=\"å¤šç³–\"/> &lt;property name=\"size\" value=\"è¶…å¤§æ¯\"/> &lt;/bean> &lt;bean name=\"source2\" class=\"pojo.Source\"> &lt;property name=\"fruit\" value=\"æ©™å­\"/> &lt;property name=\"sugar\" value=\"å°‘ç³–\"/> &lt;property name=\"size\" value=\"å°æ¯\"/> &lt;/bean> æˆ‘ä»¬å¯ä»¥ä¼šæƒ³åˆ° Spring IoC æœ€åº•å±‚çš„å®¹å™¨æ¥å£â€”â€”BeanFactory çš„å®šä¹‰ï¼Œå®ƒå­˜åœ¨ä¸€ä¸ªæŒ‰ç…§ç±»å‹è·å– Bean çš„æ–¹æ³•ï¼Œæ˜¾ç„¶é€šè¿‡ Source.class ä½œä¸ºå‚æ•°æ— æ³•åˆ¤æ–­ä½¿ç”¨å“ªä¸ªç±»å®ä¾‹è¿›è¡Œè¿”å›ï¼Œè¿™å°±æ˜¯è‡ªåŠ¨è£…é…çš„æ­§ä¹‰æ€§ã€‚ ä¸ºäº†æ¶ˆé™¤æ­§ä¹‰æ€§ï¼ŒSpring æä¾›äº†ä¸¤ä¸ªæ³¨è§£ï¼š @Primary æ³¨è§£ï¼šä»£è¡¨é¦–è¦çš„ï¼Œå½“ Spring IoC æ£€æµ‹åˆ°æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„ Bean èµ„æºçš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆæ³¨å…¥ä½¿ç”¨è¯¥æ³¨è§£çš„ç±»ã€‚ é—®é¢˜ï¼šè¯¥æ³¨è§£åªæ˜¯è§£å†³äº†é¦–è¦çš„é—®é¢˜ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰é€‰æ‹©æ€§çš„é—®é¢˜ @Qualifier æ³¨è§£ï¼šä¸Šé¢æ‰€è°ˆåŠçš„æ­§ä¹‰æ€§ï¼Œä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯ Spring åœ¨å¯»æ‰¾ä¾èµ–æ³¨å…¥çš„æ—¶å€™æ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥å¼•èµ·çš„ã€‚é™¤äº†æŒ‰ç±»å‹æŸ¥æ‰¾ Beanï¼ŒSpring IoC å®¹å™¨æœ€åº•å±‚çš„æ¥å£ BeanFactory è¿˜æä¾›äº†æŒ‰åå­—æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œå¦‚æœæŒ‰ç…§åå­—æ¥æŸ¥æ‰¾å’Œæ³¨å…¥ä¸å°±èƒ½æ¶ˆé™¤æ­§ä¹‰æ€§äº†å—ï¼Ÿ ä½¿ç”¨æ–¹æ³•ï¼š æŒ‡å®šæ³¨å…¥åç§°ä¸º â€œsource1â€ çš„ Bean èµ„æº /* åŒ…åå’Œimport */ public class JuiceMaker { ...... @Autowired @Qualifier(\"source1\") public void setSource(Source source) { this.source = source; } } ä½¿ç”¨@Bean è£…é… Bean é—®é¢˜ï¼š ä»¥ä¸Šéƒ½æ˜¯é€šè¿‡ @Component æ³¨è§£æ¥è£…é… Bean ï¼Œå¹¶ä¸”åªèƒ½æ³¨è§£åœ¨ç±»ä¸Šï¼Œå½“ä½ éœ€è¦å¼•ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„ï¼ˆjar æ–‡ä»¶ï¼‰ï¼Œè€Œä¸”å¾€å¾€å¹¶æ²¡æœ‰è¿™äº›åŒ…çš„æºç ï¼Œè¿™æ—¶å€™å°†æ— æ³•ä¸ºè¿™äº›åŒ…çš„ç±»åŠ å…¥ @Component æ³¨è§£ï¼Œè®©å®ƒä»¬å˜æˆå¼€å‘ç¯å¢ƒä¸­çš„ Bean èµ„æºã€‚ è§£å†³æ–¹æ¡ˆï¼š 1.è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»æ¥æ‰©å±•åŒ…é‡Œçš„ç±»ï¼Œç„¶åå†æ–°ç±»ä¸Šä½¿ç”¨ @Component æ³¨è§£ï¼Œä½†è¿™æ ·å¾ˆ low2.ä½¿ç”¨ @Bean æ³¨è§£ï¼Œæ³¨è§£åˆ°æ–¹æ³•ä¹‹ä¸Šï¼Œä½¿å…¶æˆä¸º Spring ä¸­è¿”å›å¯¹è±¡ä¸º Spring çš„ Bean èµ„æºã€‚ æˆ‘ä»¬åœ¨ Packageã€pojoã€‘ ä¸‹æ–°å»ºä¸€ä¸ªç”¨æ¥æµ‹è¯• @Bean æ³¨è§£çš„ç±»ï¼š package pojo; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class BeanTester { @Bean(name = \"testBean\") public String test() { String str = \"æµ‹è¯•@Beanæ³¨è§£\"; return str; } } æ³¨æ„ï¼š @Configuration æ³¨è§£ç›¸å½“äº XML æ–‡ä»¶çš„æ ¹å…ƒç´ ï¼Œå¿…é¡»è¦ï¼Œæœ‰äº†æ‰èƒ½è§£æå…¶ä¸­çš„ @Bean æ³¨è§£ ç„¶åæˆ‘ä»¬åœ¨æµ‹è¯•ç±»ä¸­ç¼–å†™ä»£ç ï¼Œä» Spring IoC å®¹å™¨ä¸­è·å–åˆ°è¿™ä¸ª Bean ï¼š // åœ¨ pojo åŒ…ä¸‹æ‰«æ ApplicationContext context = new AnnotationConfigApplicationContext(\"pojo\"); // å› ä¸ºè¿™é‡Œè·å–åˆ°çš„ Bean å°±æ˜¯ String ç±»å‹æ‰€ä»¥ç›´æ¥è¾“å‡º System.out.println(context.getBean(\"testBean\")); @Bean çš„é…ç½®é¡¹ä¸­åŒ…å« 4 ä¸ªé…ç½®é¡¹ï¼š nameï¼š æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…è®¸é…ç½®å¤šä¸ª BeanName autowireï¼š æ ‡å¿—æ˜¯å¦æ˜¯ä¸€ä¸ªå¼•ç”¨çš„ Bean å¯¹è±¡ï¼Œé»˜è®¤å€¼æ˜¯ Autowire.NO initMethodï¼š è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³• destroyMethodï¼š è‡ªå®šä¹‰é”€æ¯æ–¹æ³• ä½¿ç”¨ @Bean æ³¨è§£çš„å¥½å¤„å°±æ˜¯èƒ½å¤ŸåŠ¨æ€è·å–ä¸€ä¸ª Bean å¯¹è±¡ï¼Œèƒ½å¤Ÿæ ¹æ®ç¯å¢ƒä¸åŒå¾—åˆ°ä¸åŒçš„ Bean å¯¹è±¡ã€‚æˆ–è€…è¯´å°† Spring å’Œå…¶ä»–ç»„ä»¶åˆ†ç¦»ï¼ˆå…¶ä»–ç»„ä»¶ä¸ä¾èµ– Springï¼Œä½†æ˜¯åˆæƒ³ Spring ç®¡ç†ç”Ÿæˆçš„ Beanï¼‰ Bean çš„ä½œç”¨åŸŸåœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒSpring IoC å®¹å™¨åªä¼šå¯¹ä¸€ä¸ª Bean åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ Spring IoC å®¹å™¨è·å–å¤šä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ @Scope æ³¨è§£æˆ–è€… &lt;bean&gt; å…ƒç´ ä¸­çš„ scope å±æ€§æ¥è®¾ç½®ï¼Œä¾‹å¦‚ï¼š // XML ä¸­è®¾ç½®ä½œç”¨åŸŸ &lt;bean id=\"\" class=\"\" scope=\"prototype\" /> // ä½¿ç”¨æ³¨è§£è®¾ç½®ä½œç”¨åŸŸ @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE) Spring æä¾›äº† 5 ç§ä½œç”¨åŸŸï¼Œå®ƒä¼šæ ¹æ®æƒ…å†µæ¥å†³å®šæ˜¯å¦ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼š ä½œç”¨åŸŸç±»åˆ« æè¿° singleton(å•ä¾‹) åœ¨Spring IoCå®¹å™¨ä¸­ä»…å­˜åœ¨ä¸€ä¸ªBeanå®ä¾‹ ï¼ˆé»˜è®¤çš„scopeï¼‰ prototype(å¤šä¾‹) æ¯æ¬¡ä»å®¹å™¨ä¸­è°ƒç”¨Beanæ—¶ï¼Œéƒ½è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå³æ¯æ¬¡è°ƒç”¨getBean()æ—¶ ï¼Œç›¸å½“äºæ‰§è¡Œnew XxxBean()ï¼šä¸ä¼šåœ¨å®¹å™¨å¯åŠ¨æ—¶åˆ›å»ºå¯¹è±¡ request(è¯·æ±‚) ç”¨äºwebå¼€å‘ï¼Œå°†Beanæ”¾å…¥requestèŒƒå›´ ï¼Œrequest.setAttribute(â€œxxxâ€) ï¼Œ åœ¨åŒä¸€ä¸ªrequest è·å¾—åŒä¸€ä¸ªBean session(ä¼šè¯) ç”¨äºwebå¼€å‘ï¼Œå°†Bean æ”¾å…¥SessionèŒƒå›´ï¼Œåœ¨åŒä¸€ä¸ªSession è·å¾—åŒä¸€ä¸ªBean globalSession(å…¨å±€ä¼šè¯) ä¸€èˆ¬ç”¨äº Porlet åº”ç”¨ç¯å¢ƒ , åˆ†å¸ƒå¼ç³»ç»Ÿå­˜åœ¨å…¨å±€ session æ¦‚å¿µï¼ˆå•ç‚¹ç™»å½•ï¼‰ï¼Œå¦‚æœä¸æ˜¯ porlet ç¯å¢ƒï¼ŒglobalSession ç­‰åŒäº Session åœ¨å¼€å‘ä¸­ä¸»è¦ä½¿ç”¨ scope=&quot;singleton&quot;ã€scope=&quot;prototype&quot;ï¼Œå¯¹äºMVCä¸­çš„Actionä½¿ç”¨prototypeç±»å‹ï¼Œå…¶ä»–ä½¿ç”¨singletonï¼ŒSpringå®¹å™¨ä¼šç®¡ç† Action å¯¹è±¡çš„åˆ›å»º,æ­¤æ—¶æŠŠ Action çš„ä½œç”¨åŸŸè®¾ç½®ä¸º prototype. æ‰©å±•é˜…è¯»ï¼š@Profile æ³¨è§£ ã€ æ¡ä»¶åŒ–è£…é… Bean Spring è¡¨è¾¾å¼è¯­è¨€ç®€è¦è¯´æ˜Spring è¿˜æä¾›äº†æ›´çµæ´»çš„æ³¨å…¥æ–¹å¼ï¼Œé‚£å°±æ˜¯ Spring è¡¨è¾¾å¼ï¼Œå®é™…ä¸Š Spring EL è¿œæ¯”ä»¥ä¸Šæ³¨å…¥æ–¹å¼éƒ½è¦å¼ºå¤§ï¼Œå®ƒæ‹¥æœ‰å¾ˆå¤šåŠŸèƒ½ï¼š ä½¿ç”¨ Bean çš„ id æ¥å¼•ç”¨ Bean è°ƒç”¨æŒ‡å®šå¯¹è±¡çš„æ–¹æ³•å’Œè®¿é—®å¯¹è±¡çš„å±æ€§ è¿›è¡Œè¿ç®— æä¾›æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é… é›†åˆé…ç½® æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä½¿ç”¨ Spring è¡¨è¾¾å¼çš„ä¾‹å­ï¼š package pojo; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; @Component(\"elBean\") public class ElBean { // é€šè¿‡ beanName è·å– beanï¼Œç„¶åæ³¨å…¥ @Value(\"#{role}\") private Role role; // è·å– bean çš„å±æ€§ id @Value(\"#{role.id}\") private Long id; // è°ƒç”¨ bean çš„ getNote æ–¹æ³• @Value(\"#{role.getNote().toString()}\") private String note; /* getter and setter */ } ä¸å±æ€§æ–‡ä»¶ä¸­è¯»å–ä½¿ç”¨çš„ â€œ$â€ ä¸åŒï¼Œåœ¨ Spring EL ä¸­åˆ™ä½¿ç”¨ â€œ#â€ æ‰©å±•é˜…è¯»ï¼š Spring è¡¨è¾¾å¼è¯­è¨€ å‚è€ƒèµ„æ–™ï¼š ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ ã€ŠJava å®æˆ˜ï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ ä¸‡èƒ½çš„ç™¾åº¦ and ä¸‡èƒ½çš„å¤§è„‘ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"},{"name":"Spring","slug":"Java-Web/Spring","permalink":"http://www.wmyskxz.com/categories/Java-Web/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Springå­¦ä¹ (2)â€”â€”Spring IoCè¯¦è§£","slug":"Springå­¦ä¹ -2-â€”â€”Spring-IoCè¯¦è§£","date":"2018-04-11T01:32:00.000Z","updated":"2020-08-03T08:44:49.744Z","comments":true,"path":"2018/04/11/spring-xue-xi-2-spring-ioc-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/11/spring-xue-xi-2-spring-ioc-xiang-jie/","excerpt":"","text":"Spring IoC æ¦‚è¿°IoCï¼šInverse of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰ è¯»ä½œ â€œåè½¬æ§åˆ¶â€ï¼Œæ›´å¥½ç†è§£ï¼Œä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±Springæ¡†æ¶æ¥ç®¡ç†ã€‚ æ­£æ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»º åæ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä» Spring å®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†Springæ¡†æ¶ å¥½è±åæ³•åˆ™ï¼š Donâ€™t call me ,Iâ€™ll call you ä¸€ä¸ªä¾‹å­æ§åˆ¶åè½¬æ˜¾ç„¶æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªé²œæ˜çš„ä¾‹å­æ¥è¯´æ˜ã€‚ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œäººä»¬è¦ç”¨åˆ°ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯å»æ‰¾åˆ°è¿™ä»¶ä¸œè¥¿ï¼Œæ¯”å¦‚æƒ³å–æ–°é²œæ©™æ±ï¼Œåœ¨æ²¡æœ‰é¥®å“åº—çš„æ—¥å­é‡Œï¼Œæœ€ç›´è§‚çš„åšæ³•å°±æ˜¯ï¼šä¹°æœæ±æœºã€ä¹°æ©™å­ï¼Œç„¶åå‡†å¤‡å¼€æ°´ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™äº›éƒ½æ˜¯ä½ è‡ªå·±â€œä¸»åŠ¨â€åˆ›é€ çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¯æ©™æ±éœ€è¦ä½ è‡ªå·±åˆ›é€ ã€‚ ç„¶è€Œåˆ°äº†ä»Šæ—¶ä»Šæ—¥ï¼Œç”±äºé¥®å“åº—çš„ç››è¡Œï¼Œå½“æˆ‘ä»¬æƒ³å–æ©™æ±æ—¶ï¼Œç¬¬ä¸€æƒ³æ³•å°±è½¬æ¢æˆäº†æ‰¾åˆ°é¥®å“åº—çš„è”ç³»æ–¹å¼ï¼Œé€šè¿‡ç”µè¯ç­‰æ¸ é“æè¿°ä½ çš„éœ€è¦ã€åœ°å€ã€è”ç³»æ–¹å¼ç­‰ï¼Œä¸‹è®¢å•ç­‰å¾…ï¼Œè¿‡ä¸€ä¼šå„¿å°±ä¼šæœ‰äººé€æ¥æ©™æ±äº†ã€‚ è¯·æ³¨æ„ä½ å¹¶æ²¡æœ‰â€œä¸»åŠ¨â€å»åˆ›é€ æ©™æ±ï¼Œæ©™æ±æ˜¯ç”±é¥®å“åº—åˆ›é€ çš„ï¼Œè€Œä¸æ˜¯ä½ ï¼Œç„¶è€Œä¹Ÿå®Œå…¨è¾¾åˆ°äº†ä½ çš„è¦æ±‚ï¼Œç”šè‡³æ¯”ä½ åˆ›é€ çš„è¦å¥½ä¸Šé‚£ä¹ˆä¸€äº›ã€‚ Spring IoC é˜è¿°è¿™å°±æ˜¯ä¸€ç§æ§åˆ¶åè½¬çš„ç†å¿µï¼Œä¸Šè¿°çš„ä¾‹å­å·²ç»å¾ˆå¥½çš„è¯´æ˜äº†é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥æè¿°ä¸€ä¸‹æ§åˆ¶åè½¬çš„æ¦‚å¿µï¼šæ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆåœ¨ Java ä¸­å¯ä»¥æ˜¯ XML æˆ–è€…æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹ï¼ˆSpringï¼‰å»äº§ç”Ÿæˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚ å¥½å¤„ï¼šé™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆæˆ‘ä»¬ä¸éœ€è¦ç†è§£ä¸€ä¸ªç±»çš„å…·ä½“å®ç°ï¼Œåªéœ€è¦çŸ¥é“å®ƒæœ‰ä»€ä¹ˆç”¨å°±å¥½äº†ï¼ˆç›´æ¥å‘ IoC å®¹å™¨æ‹¿ï¼‰ ä¸»åŠ¨åˆ›å»ºçš„æ¨¡å¼ä¸­ï¼Œè´£ä»»å½’äºå¼€å‘è€…ï¼Œè€Œåœ¨è¢«åŠ¨çš„æ¨¡å¼ä¸‹ï¼Œè´£ä»»å½’äº IoC å®¹å™¨ï¼ŒåŸºäºè¿™æ ·çš„è¢«åŠ¨å½¢å¼ï¼Œæˆ‘ä»¬å°±è¯´å¯¹è±¡è¢«æ§åˆ¶åè½¬äº†ã€‚ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯åè½¬äº†æ§åˆ¶ï¼‰ Spring IoC å®¹å™¨Spring ä¼šæä¾› IoC å®¹å™¨æ¥ç®¡ç†å’Œå®¹çº³æˆ‘ä»¬æ‰€å¼€å‘çš„å„ç§å„æ ·çš„ Beanï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ä»ä¸­è·å–å„ç§å‘å¸ƒåœ¨ Spring IoC å®¹å™¨é‡Œçš„ Beanï¼Œå¹¶ä¸”é€šè¿‡æè¿°å¯ä»¥å¾—åˆ°å®ƒã€‚ Spring IoC å®¹å™¨çš„è®¾è®¡Spring IoC å®¹å™¨çš„è®¾è®¡ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹ä¸¤ä¸ªæ¥å£ï¼š BeanFactory ApplicationContext å…¶ä¸­ ApplicationContext æ˜¯ BeanFactory çš„å­æ¥å£ä¹‹ä¸€ï¼Œæ¢å¥è¯è¯´ï¼šBeanFactory æ˜¯ Spring IoC å®¹å™¨æ‰€å®šä¹‰çš„æœ€åº•å±‚æ¥å£ï¼Œè€Œ ApplicationContext æ˜¯å…¶æœ€é«˜çº§æ¥å£ä¹‹ä¸€ï¼Œå¹¶å¯¹ BeanFactory åŠŸèƒ½åšäº†è®¸å¤šçš„æ‰©å±•ï¼Œæ‰€ä»¥åœ¨ç»å¤§éƒ¨åˆ†çš„å·¥ä½œåœºæ™¯ä¸‹ï¼Œéƒ½ä¼šä½¿ç”¨ ApplicationContext ä½œä¸º Spring IoC å®¹å™¨ã€‚ BeanFactoryä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥å‡ ä¹çœ‹åˆ°ï¼Œ BeanFactory ä½äºè®¾è®¡çš„æœ€åº•å±‚ï¼Œå®ƒæä¾›äº† Spring IoC æœ€åº•å±‚çš„è®¾è®¡ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¯¥ç±»ä¸­æä¾›äº†å“ªäº›æ–¹æ³•ï¼š ç”±äºè¿™ä¸ªæ¥å£çš„é‡è¦æ€§ï¼Œæ‰€ä»¥æœ‰å¿…è¦åœ¨è¿™é‡Œä½œä¸€ä¸‹ç®€çŸ­çš„è¯´æ˜ï¼š ã€getBeanã€‘ å¯¹åº”äº†å¤šä¸ªæ–¹æ³•æ¥è·å–é…ç½®ç»™ Spring IoC å®¹å™¨çš„ Beanã€‚â‘  æŒ‰ç…§ç±»å‹æ‹¿ beanï¼šbean = (Bean) factory.getBean(Bean.class); æ³¨æ„ï¼š è¦æ±‚åœ¨ Spring ä¸­åªé…ç½®äº†ä¸€ä¸ªè¿™ç§ç±»å‹çš„å®ä¾‹ï¼Œå¦åˆ™æŠ¥é”™ã€‚ï¼ˆå¦‚æœæœ‰å¤šä¸ªé‚£ Spring å°±æ‡µäº†ï¼Œä¸çŸ¥é“è¯¥è·å–å“ªä¸€ä¸ªï¼‰â‘¡ æŒ‰ç…§ bean çš„åå­—æ‹¿ bean:bean = (Bean) factory.getBean(&quot;beanName&quot;);æ³¨æ„ï¼š è¿™ç§æ–¹æ³•ä¸å¤ªå®‰å…¨ï¼ŒIDE ä¸ä¼šæ£€æŸ¥å…¶å®‰å…¨æ€§ï¼ˆå…³è”æ€§ï¼‰â‘¢ æŒ‰ç…§åå­—å’Œç±»å‹æ‹¿ beanï¼šï¼ˆæ¨èï¼‰bean = (Bean) factory.getBean(&quot;beanName&quot;, Bean.class); ã€isSingletonã€‘ ç”¨äºåˆ¤æ–­æ˜¯å¦å•ä¾‹ï¼Œå¦‚æœåˆ¤æ–­ä¸ºçœŸï¼Œå…¶æ„æ€æ˜¯è¯¥ Bean åœ¨å®¹å™¨ä¸­æ˜¯ä½œä¸ºä¸€ä¸ªå”¯ä¸€å•ä¾‹å­˜åœ¨çš„ã€‚è€Œã€isPrototypeã€‘åˆ™ç›¸åï¼Œå¦‚æœåˆ¤æ–­ä¸ºçœŸï¼Œæ„æ€æ˜¯å½“ä½ ä»å®¹å™¨ä¸­è·å– Beanï¼Œå®¹å™¨å°±ä¸ºä½ ç”Ÿæˆä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚ æ³¨æ„ï¼š åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œã€isSingletonã€‘ä¸º tureï¼Œè€Œã€isPrototypeã€‘ä¸º false å…³äº type çš„åŒ¹é…ï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‰ Java ç±»å‹åŒ¹é…çš„æ–¹å¼ ã€getAliasesã€‘æ–¹æ³•æ˜¯è·å–åˆ«åçš„æ–¹æ³• è¿™å°±æ˜¯ Spring IoC æœ€åº•å±‚çš„è®¾è®¡ï¼Œæ‰€æœ‰å…³äº Spring IoC çš„å®¹å™¨å°†ä¼šéµå®ˆå®ƒæ‰€å®šä¹‰çš„æ–¹æ³•ã€‚ ApplicationContextæ ¹æ® ApplicationContext çš„ç±»ç»§æ‰¿å…³ç³»å›¾ï¼Œå¯ä»¥çœ‹åˆ° ApplicationContext æ¥å£æ‰©å±•äº†è®¸è®¸å¤šå¤šçš„æ¥å£ï¼Œå› æ­¤å®ƒçš„åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œæ‰€ä»¥åœ¨å®é™…åº”ç”¨ä¸­å¸¸å¸¸ä¼šä½¿ç”¨åˆ°çš„æ˜¯ ApplicationContext æ¥å£ï¼Œå› ä¸º BeanFactory çš„æ–¹æ³•å’ŒåŠŸèƒ½è¾ƒå°‘ï¼Œè€Œ ApplicationContext çš„æ–¹æ³•å’ŒåŠŸèƒ½è¾ƒå¤šã€‚ é€šè¿‡ä¸Šä¸€ç¯‡ IoC çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸ª ApplicationContext çš„å­ç±»â€”â€”ClassPathXmlApplicationContextã€‚ å…ˆåœ¨ã€srcã€‘ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª ã€bean.xmlã€‘ æ–‡ä»¶ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> &lt;!-- é€šè¿‡ xml æ–¹å¼è£…é… bean --> &lt;bean name=\"source\" class=\"pojo.Source\"> &lt;property name=\"fruit\" value=\"æ©™å­\"/> &lt;property name=\"sugar\" value=\"å¤šç³–\"/> &lt;property name=\"size\" value=\"è¶…å¤§æ¯\"/> &lt;/bean> &lt;/beans> è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ª bean ï¼Œè¿™æ · Spring IoC å®¹å™¨åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±èƒ½æ‰¾åˆ°å®ƒä»¬ï¼Œç„¶åä½¿ç”¨ ClassPathXmlApplicationContext å®¹å™¨å°±å¯ä»¥å°†å…¶åˆå§‹åŒ–ï¼š ApplicationContext context = new ClassPathXmlApplicationContext(\"bean.xml\"); Source source = (Source) context.getBean(\"source\", Source.class); System.out.println(source.getFruit()); System.out.println(source.getSugar()); System.out.println(source.getSize()); è¿™æ ·å°±ä¼šä½¿ç”¨ Application çš„å®ç°ç±» ClassPathXmlApplicationContext å»åˆå§‹åŒ– Spring IoC å®¹å™¨ï¼Œç„¶åå¼€å‘è€…å°±å¯ä»¥é€šè¿‡ IoC å®¹å™¨æ¥è·å–èµ„æºäº†å•¦ï¼ å…³äº Spring Bean çš„è£…é…ä»¥åŠä¸€äº›ç»†èŠ‚ï¼Œä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®²åˆ° ApplicationContext å¸¸è§å®ç°ç±»ï¼š1.ClassPathXmlApplicationContextï¼šè¯»å–classpathä¸­çš„èµ„æº ApplicationContext ctx = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); 2:FileSystemXmlApplicationContext:-è¯»å–æŒ‡å®šè·¯å¾„çš„èµ„æº ApplicationContext ac = new FileSystemXmlApplicationContext(\"c:/applicationContext.xml\"); 3.XmlWebApplicationContext:éœ€è¦åœ¨Webçš„ç¯å¢ƒä¸‹æ‰å¯ä»¥è¿è¡Œ XmlWebApplicationContext ac = new XmlWebApplicationContext(); // è¿™æ—¶å¹¶æ²¡æœ‰åˆå§‹åŒ–å®¹å™¨ ac.setServletContext(servletContext); // éœ€è¦æŒ‡å®šServletContextå¯¹è±¡ ac.setConfigLocation(\"/WEB-INF/applicationContext.xml\"); // æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¼€å¤´çš„æ–œçº¿è¡¨ç¤ºWebåº”ç”¨çš„æ ¹ç›®å½• ac.refresh(); // åˆå§‹åŒ–å®¹å™¨ BeanFactory å’Œ ApplicationContext çš„åŒºåˆ«ï¼š BeanFactoryï¼š æ˜¯Springä¸­æœ€åº•å±‚çš„æ¥å£ï¼Œåªæä¾›äº†æœ€ç®€å•çš„IoCåŠŸèƒ½,è´Ÿè´£é…ç½®ï¼Œåˆ›å»ºå’Œç®¡ç†beanã€‚åœ¨åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨ BeanFactoryï¼Œè€Œæ¨èä½¿ç”¨ApplicationContextï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰ï¼ŒåŸå› å¦‚ä¸‹ã€‚ ApplicationContextï¼š 1.ç»§æ‰¿äº† BeanFactoryï¼Œæ‹¥æœ‰äº†åŸºæœ¬çš„ IoC åŠŸèƒ½ï¼›2.é™¤æ­¤ä¹‹å¤–ï¼ŒApplicationContext è¿˜æä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼šâ‘  æ”¯æŒå›½é™…åŒ–ï¼›â‘¡ æ”¯æŒæ¶ˆæ¯æœºåˆ¶ï¼›â‘¢ æ”¯æŒç»Ÿä¸€çš„èµ„æºåŠ è½½ï¼›â‘£ æ”¯æŒAOPåŠŸèƒ½ï¼› Spring IoC çš„å®¹å™¨çš„åˆå§‹åŒ–å’Œä¾èµ–æ³¨å…¥è™½ç„¶ Spring IoC å®¹å™¨çš„ç”Ÿæˆååˆ†çš„å¤æ‚ï¼Œä½†æ˜¯å¤§ä½“äº†è§£ä¸€ä¸‹ Spring IoC åˆå§‹åŒ–çš„è¿‡ç¨‹è¿˜æ˜¯å¿…è¦çš„ã€‚è¿™å¯¹äºç†è§£ Spring çš„ä¸€ç³»åˆ—è¡Œä¸ºæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ æ³¨æ„ï¼š Bean çš„å®šä¹‰å’Œåˆå§‹åŒ–åœ¨ Spring IoC å®¹å™¨æ˜¯ä¸¤å¤§æ­¥éª¤ï¼Œå®ƒæ˜¯å…ˆå®šä¹‰ï¼Œç„¶ååˆå§‹åŒ–å’Œä¾èµ–æ³¨å…¥çš„ã€‚ Bean çš„å®šä¹‰åˆ†ä¸º 3 æ­¥ï¼š 1.Resource å®šä½Spring IoC å®¹å™¨å…ˆæ ¹æ®å¼€å‘è€…çš„é…ç½®ï¼Œè¿›è¡Œèµ„æºçš„å®šä½ï¼Œåœ¨ Spring çš„å¼€å‘ä¸­ï¼Œé€šè¿‡ XML æˆ–è€…æ³¨è§£éƒ½æ˜¯ååˆ†å¸¸è§çš„æ–¹å¼ï¼Œå®šä½çš„å†…å®¹æ˜¯ç”±å¼€å‘è€…æä¾›çš„ã€‚2.BeanDefinition çš„è½½å…¥è¿™ä¸ªæ—¶å€™åªæ˜¯å°† Resource å®šä½åˆ°çš„ä¿¡æ¯ï¼Œä¿å­˜åˆ° Bean å®šä¹‰ï¼ˆBeanDefinitionï¼‰ä¸­ï¼Œæ­¤æ—¶å¹¶ä¸ä¼šåˆ›å»º Bean çš„å®ä¾‹3.BeanDefinition çš„æ³¨å†Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å°† BeanDefinition çš„ä¿¡æ¯å‘å¸ƒåˆ° Spring IoC å®¹å™¨ä¸­æ³¨æ„ï¼šæ­¤æ—¶ä»ç„¶æ²¡æœ‰å¯¹åº”çš„ Bean çš„å®ä¾‹ã€‚ åšå®Œäº†ä»¥ä¸Š 3 æ­¥ï¼ŒBean å°±åœ¨ Spring IoC å®¹å™¨ä¸­è¢«å®šä¹‰äº†ï¼Œè€Œæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œæ›´æ²¡æœ‰å®Œæˆä¾èµ–æ³¨å…¥ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ³¨å…¥å…¶é…ç½®çš„èµ„æºç»™ Beanï¼Œé‚£ä¹ˆå®ƒè¿˜ä¸èƒ½å®Œå…¨ä½¿ç”¨ã€‚ å¯¹äºåˆå§‹åŒ–å’Œä¾èµ–æ³¨å…¥ï¼ŒSpring Bean è¿˜æœ‰ä¸€ä¸ªé…ç½®é€‰é¡¹â€”â€”ã€lazy-initã€‘ï¼Œå…¶å«ä¹‰å°±æ˜¯æ˜¯å¦åˆå§‹åŒ– Spring Beanã€‚åœ¨æ²¡æœ‰ä»»ä½•é…ç½®çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„é»˜è®¤å€¼ä¸º defaultï¼Œå®é™…å€¼ä¸º falseï¼Œä¹Ÿå°±æ˜¯ Spring IoC é»˜è®¤ä¼šè‡ªåŠ¨åˆå§‹åŒ– Beanã€‚å¦‚æœå°†å…¶è®¾ç½®ä¸º trueï¼Œé‚£ä¹ˆåªæœ‰å½“æˆ‘ä»¬ä½¿ç”¨ Spring IoC å®¹å™¨çš„ getBean æ–¹æ³•è·å–å®ƒæ—¶ï¼Œå®ƒæ‰ä¼šè¿›è¡Œ Bean çš„åˆå§‹åŒ–ï¼Œå®Œæˆä¾èµ–æ³¨å…¥ã€‚ IoC æ˜¯å¦‚ä½•å®ç°çš„æœ€åæˆ‘ä»¬ç®€å•è¯´è¯´IoCæ˜¯å¦‚ä½•å®ç°çš„ã€‚æƒ³è±¡ä¸€ä¸‹å¦‚æœæˆ‘ä»¬è‡ªå·±æ¥å®ç°è¿™ä¸ªä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ€ä¹ˆæ¥åšï¼Ÿ æ— å¤–ä¹ï¼š è¯»å–æ ‡æ³¨æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œçœ‹çœ‹JuiceMakerä¾èµ–çš„æ˜¯å“ªä¸ªSourceï¼Œæ‹¿åˆ°ç±»å ä½¿ç”¨åå°„çš„APIï¼ŒåŸºäºç±»åå®ä¾‹åŒ–å¯¹åº”çš„å¯¹è±¡å®ä¾‹ å°†å¯¹è±¡å®ä¾‹ï¼Œé€šè¿‡æ„é€ å‡½æ•°æˆ–è€… setterï¼Œä¼ é€’ç»™ JuiceMaker æˆ‘ä»¬å‘ç°å…¶å®è‡ªå·±æ¥å®ç°ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼ŒSpringå®é™…ä¹Ÿå°±æ˜¯è¿™ä¹ˆåšçš„ã€‚è¿™ä¹ˆçœ‹çš„è¯å…¶å®IoCå°±æ˜¯ä¸€ä¸ªå·¥å‚æ¨¡å¼çš„å‡çº§ç‰ˆï¼å½“ç„¶è¦åšä¸€ä¸ªæˆç†Ÿçš„IoCæ¡†æ¶ï¼Œè¿˜æ˜¯éå¸¸å¤šç»†è‡´çš„å·¥ä½œè¦åšï¼ŒSpringä¸ä»…æä¾›äº†ä¸€ä¸ªå·²ç»æˆä¸ºä¸šç•Œæ ‡å‡†çš„Java IoCæ¡†æ¶ï¼Œè¿˜æä¾›äº†æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¤§å®¶å°±åˆ«å»é€ è½®å­å•¦ï¼å¸Œæœ›äº†è§£IoCæ›´å¤šå®ç°ç»†èŠ‚ä¸å¦¨é€šè¿‡å­¦ä¹ Springçš„æºç æ¥åŠ æ·±ç†è§£ï¼ å¼•ç”¨åœ°å€ï¼šè¿™é‡Œã€å‚è€ƒèµ„æ–™ã€‘:ã€ŠJava EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ã€‹ã€ã€ŠSpring å®æˆ˜ï¼ˆç¬¬å››ç‰ˆï¼‰ã€‹ã€å¥½æ–‡æ¨èã€‘ï¼šâ‘ Spring çš„æœ¬è´¨ç³»åˆ—(1) â€“ ä¾èµ–æ³¨å…¥ã€ â‘¡Springçš„IoCåŸç† æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring","slug":"JavaWebåŸºç¡€/Spring","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Springå­¦ä¹ (1)â€”â€”å¿«é€Ÿå…¥é—¨","slug":"Springå­¦ä¹ -1-â€”â€”å¿«é€Ÿå…¥é—¨","date":"2018-04-10T01:29:00.000Z","updated":"2020-08-03T08:43:39.498Z","comments":true,"path":"2018/04/10/spring-xue-xi-1-kuai-su-ru-men/","link":"","permalink":"http://www.wmyskxz.com/2018/04/10/spring-xue-xi-1-kuai-su-ru-men/","excerpt":"","text":"è®¤è¯† Spring æ¡†æ¶Spring æ¡†æ¶æ˜¯ Java åº”ç”¨æœ€å¹¿çš„æ¡†æ¶ï¼Œå®ƒçš„æˆåŠŸæ¥æºäºç†å¿µï¼Œè€Œä¸æ˜¯æŠ€æœ¯æœ¬èº«ï¼Œå®ƒçš„ç†å¿µåŒ…æ‹¬ IoC (Inversion of Controlï¼Œæ§åˆ¶åè½¬) å’Œ AOP(Aspect Oriented Programmingï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹)ã€‚ ä»€ä¹ˆæ˜¯ Springï¼š Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ DI / IoC å’Œ AOP å®¹å™¨çš„å¼€æºæ¡†æ¶ï¼Œæ¥æºäº Rod Johnson åœ¨å…¶è‘—ä½œ ã€ŠExpert one on one J2EE design and developmentã€‹ ä¸­é˜è¿°çš„éƒ¨åˆ†ç†å¿µå’ŒåŸå‹è¡ç”Ÿè€Œæ¥ã€‚ Spring æå€¡ä»¥ â€œæœ€å°‘ä¾µå…¥â€ çš„æ–¹å¼æ¥ç®¡ç†åº”ç”¨ä¸­çš„ä»£ç ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥éšæ—¶å®‰è£…æˆ–è€…å¸è½½ Spring é€‚ç”¨èŒƒå›´ï¼šä»»ä½• Java åº”ç”¨ Spring çš„æ ¹æœ¬ä½¿å‘½ï¼šç®€åŒ– Java å¼€å‘ å°½ç®¡ J2EE èƒ½å¤Ÿèµ¶ä¸Š Spring çš„æ­¥ä¼ï¼Œä½† Spring å¹¶æ²¡æœ‰åœæ­¢å‰è¿›ï¼Œ Spring ç»§ç»­åœ¨å…¶ä»–é¢†åŸŸå‘å±•ï¼Œè€Œ J2EE åˆ™åˆšåˆšå¼€å§‹æ¶‰åŠè¿™äº›é¢†åŸŸï¼Œæˆ–è€…è¿˜æ²¡æœ‰å®Œå…¨å¼€å§‹åœ¨è¿™äº›é¢†åŸŸçš„åˆ›æ–°ã€‚ç§»åŠ¨å¼€å‘ã€ç¤¾äº¤ API é›†æˆã€NoSQL æ•°æ®åº“ã€äº‘è®¡ç®—ä»¥åŠå¤§æ•°æ®éƒ½æ˜¯ Spring æ­£åœ¨æ¶‰è¶³å’Œåˆ›æ–°çš„é¢†åŸŸã€‚Spring çš„å‰æ™¯ä¾ç„¶ä¼šå¾ˆç¾å¥½ã€‚ Spring ä¸­å¸¸ç”¨æœ¯è¯­ï¼š æ¡†æ¶ï¼šæ˜¯èƒ½å®Œæˆä¸€å®šåŠŸèƒ½çš„åŠæˆå“ã€‚æ¡†æ¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®Œæˆçš„æ˜¯ï¼šé¡¹ç›®çš„æ•´ä½“æ¡†æ¶ã€ä¸€äº›åŸºç¡€åŠŸèƒ½ã€è§„å®šäº†ç±»å’Œå¯¹è±¡å¦‚ä½•åˆ›å»ºï¼Œå¦‚ä½•åä½œç­‰ï¼Œå½“æˆ‘ä»¬å¼€å‘ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œæ¡†æ¶å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘ä»¬è‡ªå·±å†å®Œæˆä¸€éƒ¨åˆ†ï¼Œé‚£è¿™ä¸ªé¡¹ç›®å°±å®Œæˆäº†ã€‚ éä¾µå…¥å¼è®¾è®¡ï¼šä»æ¡†æ¶çš„è§’åº¦å¯ä»¥ç†è§£ä¸ºï¼šæ— éœ€ç»§æ‰¿æ¡†æ¶æä¾›çš„ä»»ä½•ç±»è¿™æ ·æˆ‘ä»¬åœ¨æ›´æ¢æ¡†æ¶æ—¶ï¼Œä¹‹å‰å†™è¿‡çš„ä»£ç å‡ ä¹å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚ è½»é‡çº§å’Œé‡é‡çº§ï¼šè½»é‡çº§æ˜¯ç›¸å¯¹äºé‡é‡çº§è€Œè¨€çš„ï¼Œè½»é‡çº§ä¸€èˆ¬å°±æ˜¯éå…¥ä¾µæ€§çš„ã€æ‰€ä¾èµ–çš„ä¸œè¥¿éå¸¸å°‘ã€èµ„æºå ç”¨éå¸¸å°‘ã€éƒ¨ç½²ç®€å•ç­‰ç­‰ï¼Œå…¶å®å°±æ˜¯æ¯”è¾ƒå®¹æ˜“ä½¿ç”¨ï¼Œè€Œé‡é‡çº§æ­£å¥½ç›¸åã€‚ JavaBeanï¼šå³ç¬¦åˆ JavaBean è§„èŒƒçš„ Java ç±» POJOï¼šå³ Plain Old Java Objectsï¼Œç®€å•è€å¼ Java å¯¹è±¡å®ƒå¯ä»¥åŒ…å«ä¸šåŠ¡é€»è¾‘æˆ–æŒä¹…åŒ–é€»è¾‘ï¼Œä½†ä¸æ‹…å½“ä»»ä½•ç‰¹æ®Šè§’è‰²ä¸”ä¸ç»§æ‰¿æˆ–ä¸å®ç°ä»»ä½•å…¶å®ƒJavaæ¡†æ¶çš„ç±»æˆ–æ¥å£ã€‚ æ³¨æ„ï¼šbean çš„å„ç§åç§°â€”â€”è™½ç„¶ Spring ç”¨ bean æˆ–è€… JavaBean æ¥è¡¨ç¤ºåº”ç”¨ç»„ä»¶ï¼Œä½†å¹¶ä¸æ„å‘³ç€ Spring ç»„ä»¶å¿…é¡»éµå¾ª JavaBean è§„èŒƒï¼Œä¸€ä¸ª Spring ç»„ä»¶å¯ä»¥æ˜¯ä»»æ„å½¢å¼çš„ POJOã€‚ å®¹å™¨ï¼šåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­å®¹å™¨å°±æ˜¯ä¸€ç§ç››æ”¾ä¸œè¥¿çš„å™¨å…·ï¼Œä»ç¨‹åºè®¾è®¡è§’åº¦çœ‹å°±æ˜¯è£…å¯¹è±¡çš„çš„å¯¹è±¡ï¼Œå› ä¸ºå­˜åœ¨æ”¾å…¥ã€æ‹¿å‡ºç­‰æ“ä½œï¼Œæ‰€ä»¥å®¹å™¨è¿˜è¦ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚ Spring çš„ä¼˜åŠ¿ ä½ä¾µå…¥ / ä½è€¦åˆ ï¼ˆé™ä½ç»„ä»¶ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå®ç°è½¯ä»¶å„å±‚ä¹‹é—´çš„è§£è€¦ï¼‰ å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼ˆåŸºäºåˆ‡é¢å’Œæƒ¯ä¾‹ï¼‰ æ–¹ä¾¿é›†æˆå…¶ä»–æ¡†æ¶ï¼ˆå¦‚MyBatisã€Hibernateï¼‰ é™ä½ Java å¼€å‘éš¾åº¦ Spring æ¡†æ¶ä¸­åŒ…æ‹¬äº† J2EE ä¸‰å±‚çš„æ¯ä¸€å±‚çš„è§£å†³æ–¹æ¡ˆï¼ˆä¸€ç«™å¼ï¼‰ Spring èƒ½å¸®æˆ‘ä»¬åšä»€ä¹ˆâ‘ .Spring èƒ½å¸®æˆ‘ä»¬æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºåŠç»„è£…å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚â‘¡.Spring é¢å‘åˆ‡é¢ç¼–ç¨‹èƒ½å¸®åŠ©æˆ‘ä»¬æ— è€¦åˆçš„å®ç°æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ã€‚â‘¢.Spring èƒ½éå¸¸ç®€å•çš„å¸®æˆ‘ä»¬ç®¡ç†æ•°æ®åº“äº‹åŠ¡ã€‚â‘£.Spring è¿˜æä¾›äº†ä¸ç¬¬ä¸‰æ–¹æ•°æ®è®¿é—®æ¡†æ¶ï¼ˆå¦‚Hibernateã€JPAï¼‰æ— ç¼é›†æˆï¼Œè€Œä¸”è‡ªå·±ä¹Ÿæä¾›äº†ä¸€å¥—JDBCè®¿é—®æ¨¡æ¿æ¥æ–¹ä¾¿æ•°æ®åº“è®¿é—®ã€‚â‘¤.Spring è¿˜æä¾›ä¸ç¬¬ä¸‰æ–¹Webï¼ˆå¦‚Struts1/2ã€JSFï¼‰æ¡†æ¶æ— ç¼é›†æˆï¼Œè€Œä¸”è‡ªå·±ä¹Ÿæä¾›äº†ä¸€å¥—Spring MVCæ¡†æ¶ï¼Œæ¥æ–¹ä¾¿webå±‚æ­å»ºã€‚â‘¥.Spring èƒ½æ–¹ä¾¿çš„ä¸Java EEï¼ˆå¦‚Java Mailã€ä»»åŠ¡è°ƒåº¦ï¼‰æ•´åˆï¼Œä¸æ›´å¤šæŠ€æœ¯æ•´åˆï¼ˆæ¯”å¦‚ç¼“å­˜æ¡†æ¶ï¼‰ã€‚ Spring çš„æ¡†æ¶ç»“æ„ Data Access/Integrationå±‚åŒ…å«æœ‰JDBCã€ORMã€OXMã€JMSå’ŒTransactionæ¨¡å—ã€‚ Webå±‚åŒ…å«äº†Webã€Web-Servletã€WebSocketã€Web-Porletæ¨¡å—ã€‚ AOPæ¨¡å—æä¾›äº†ä¸€ä¸ªç¬¦åˆAOPè”ç›Ÿæ ‡å‡†çš„é¢å‘åˆ‡é¢ç¼–ç¨‹çš„å®ç°ã€‚ Core Container(æ ¸å¿ƒå®¹å™¨)ï¼š åŒ…å«æœ‰Beansã€Coreã€Contextå’ŒSpELæ¨¡å—ã€‚ Testæ¨¡å—æ”¯æŒä½¿ç”¨JUnitå’ŒTestNGå¯¹Springç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚ Spring IoC å’Œ DI ç®€ä»‹IoCï¼šInverse of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰ è¯»ä½œ â€œåè½¬æ§åˆ¶â€ï¼Œæ›´å¥½ç†è§£ï¼Œä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±Springæ¡†æ¶æ¥ç®¡ç†ã€‚ æ­£æ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œéœ€è¦è‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»º åæ§ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä» Spring å®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†Springæ¡†æ¶ å¥½è±åæ³•åˆ™ï¼š Donâ€™t call me ,Iâ€™ll call you ä¸€ä¸ªä¾‹å­æ§åˆ¶åè½¬æ˜¾ç„¶æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªé²œæ˜çš„ä¾‹å­æ¥è¯´æ˜ã€‚ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œäººä»¬è¦ç”¨åˆ°ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯å»æ‰¾åˆ°è¿™ä»¶ä¸œè¥¿ï¼Œæ¯”å¦‚æƒ³å–æ–°é²œæ©™æ±ï¼Œåœ¨æ²¡æœ‰é¥®å“åº—çš„æ—¥å­é‡Œï¼Œæœ€ç›´è§‚çš„åšæ³•å°±æ˜¯ï¼šä¹°æœæ±æœºã€ä¹°æ©™å­ï¼Œç„¶åå‡†å¤‡å¼€æ°´ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™äº›éƒ½æ˜¯ä½ è‡ªå·±â€œä¸»åŠ¨â€åˆ›é€ çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¯æ©™æ±éœ€è¦ä½ è‡ªå·±åˆ›é€ ã€‚ ç„¶è€Œåˆ°äº†ä»Šæ—¶ä»Šæ—¥ï¼Œç”±äºé¥®å“åº—çš„ç››è¡Œï¼Œå½“æˆ‘ä»¬æƒ³å–æ©™æ±æ—¶ï¼Œç¬¬ä¸€æƒ³æ³•å°±è½¬æ¢æˆäº†æ‰¾åˆ°é¥®å“åº—çš„è”ç³»æ–¹å¼ï¼Œé€šè¿‡ç”µè¯ç­‰æ¸ é“æè¿°ä½ çš„éœ€è¦ã€åœ°å€ã€è”ç³»æ–¹å¼ç­‰ï¼Œä¸‹è®¢å•ç­‰å¾…ï¼Œè¿‡ä¸€ä¼šå„¿å°±ä¼šæœ‰äººé€æ¥æ©™æ±äº†ã€‚è¯·æ³¨æ„ä½ å¹¶æ²¡æœ‰â€œä¸»åŠ¨â€å»åˆ›é€ æ©™æ±ï¼Œæ©™æ±æ˜¯ç”±é¥®å“åº—åˆ›é€ çš„ï¼Œè€Œä¸æ˜¯ä½ ï¼Œç„¶è€Œä¹Ÿå®Œå…¨è¾¾åˆ°äº†ä½ çš„è¦æ±‚ï¼Œç”šè‡³æ¯”ä½ åˆ›é€ çš„è¦å¥½ä¸Šé‚£ä¹ˆä¸€äº›ã€‚ ç¼–å†™ç¬¬ä¸€ä¸ª Spring ç¨‹åº æ–°å»ºä¸€ä¸ªç©ºçš„ Java é¡¹ç›®ï¼Œå‘½åä¸ºã€springã€‘ æ–°å»ºä¸€ä¸ªåä¸ºã€libã€‘çš„ç›®å½•ï¼Œå¹¶æ·»åŠ è¿›å¿…è¦çš„ jar åŒ…ï¼Œå¯¼å…¥é¡¹ç›® åœ¨ Packgeã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€Sourceã€‘ç±»ï¼š package pojo; public class Source { private String fruit; // ç±»å‹ private String sugar; // ç³–åˆ†æè¿° private String size; // å¤§å°æ¯ /* setter and getter */ } åœ¨ ã€srcã€‘ ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª ã€applicationContext.xmlã€‘ æ–‡ä»¶ï¼Œé€šè¿‡ xml æ–‡ä»¶é…ç½®çš„æ–¹å¼è£…é…æˆ‘ä»¬çš„ bean åœ¨ Packgeã€testã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€TestSpringã€‘ç±»ï¼š package test; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; import pojo.Source; public class TestSpring { @Test public void test(){ ApplicationContext context = new ClassPathXmlApplicationContext( new String[]{\"applicationContext.xml\"} ); Source source = (Source) context.getBean(\"source\"); System.out.println(source.getFruit()); System.out.println(source.getSugar()); System.out.println(source.getSize()); } } è¿è¡Œæµ‹è¯•ä»£ç ï¼Œå¯ä»¥æ­£å¸¸æ‹¿åˆ° xml é…ç½®çš„ bean æ€»ç»“ï¼š ä¼ ç»Ÿçš„æ–¹å¼ï¼šé€šè¿‡new å…³é”®å­—ä¸»åŠ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ IOCæ–¹å¼ï¼šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç”±Springæ¥ç®¡ç†ï¼Œç›´æ¥ä»Springé‚£é‡Œå»è·å–ä¸€ä¸ªå¯¹è±¡ã€‚ IOCæ˜¯åè½¬æ§åˆ¶ (Inversion Of Control)çš„ç¼©å†™ï¼Œå°±åƒæ§åˆ¶æƒä»æœ¬æ¥åœ¨è‡ªå·±æ‰‹é‡Œï¼Œäº¤ç»™äº†Springã€‚ å‚è€ƒåœ°å€ï¼šè¿™é‡Œ DIï¼šDependency Injectionï¼ˆä¾èµ–æ³¨å…¥ï¼‰ æŒ‡ Spring åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼Œå°†å¯¹è±¡ä¾èµ–å±æ€§ï¼ˆç®€å•å€¼ï¼Œé›†åˆï¼Œå¯¹è±¡ï¼‰é€šè¿‡é…ç½®è®¾å€¼ç»™è¯¥å¯¹è±¡ ç»§ç»­ä¸Šé¢çš„ä¾‹å­ åœ¨ Packgeã€pojoã€‘ä¸‹æ–°å»ºä¸€ä¸ªã€JuiceMakerã€‘ç±»ï¼š package pojo; public class JuiceMaker { // å”¯ä¸€å…³è”äº†ä¸€ä¸ª Source å¯¹è±¡ private Source source = null; /* setter and getter */ public String makeJuice(){ String juice = \"xxxç”¨æˆ·ç‚¹äº†ä¸€æ¯\" + source.getFruit() + source.getSugar() + source.getSize(); return juice; } } åœ¨ xml æ–‡ä»¶ä¸­é…ç½® JuiceMaker å¯¹è±¡ï¼š æ³¨æ„ï¼šè¿™é‡Œè¦ä½¿ç”¨ ref æ¥æ³¨å…¥å¦ä¸€ä¸ªå¯¹è±¡ &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> &lt;bean name=\"source\" class=\"pojo.Source\"> &lt;property name=\"fruit\" value=\"æ©™å­\"/> &lt;property name=\"sugar\" value=\"å¤šç³–\"/> &lt;property name=\"size\" value=\"è¶…å¤§æ¯\"/> &lt;/bean> &lt;bean name=\"juickMaker\" class=\"pojo.JuiceMaker\"> &lt;property name=\"source\" ref=\"source\" /> &lt;/bean> &lt;/beans> åœ¨ ã€TestSpringã€‘ ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š package test; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; import pojo.JuiceMaker; import pojo.Source; public class TestSpring { @Test public void test(){ ApplicationContext context = new ClassPathXmlApplicationContext( new String[]{\"applicationContext.xml\"} ); Source source = (Source) context.getBean(\"source\"); System.out.println(source.getFruit()); System.out.println(source.getSugar()); System.out.println(source.getSize()); JuiceMaker juiceMaker = (JuiceMaker) context.getBean(\"juickMaker\"); System.out.println(juiceMaker.makeJuice()); } } è¿è¡Œæµ‹è¯•ä»£ç ï¼š æ€»ç»“ï¼š IoC å’Œ DI å…¶å®æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè§’åº¦æè¿°ï¼ŒDI ç›¸å¯¹ IoC è€Œè¨€ï¼Œæ˜ç¡®æè¿°äº†â€œè¢«æ³¨å…¥å¯¹è±¡ä¾èµ– IoC å®¹å™¨é…ç½®ä¾èµ–å¯¹è±¡â€ IoC å¦‚ä½•å®ç°çš„æœ€åæˆ‘ä»¬ç®€å•è¯´è¯´IoCæ˜¯å¦‚ä½•å®ç°çš„ã€‚æƒ³è±¡ä¸€ä¸‹å¦‚æœæˆ‘ä»¬è‡ªå·±æ¥å®ç°è¿™ä¸ªä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ€ä¹ˆæ¥åšï¼Ÿ æ— å¤–ä¹ï¼š è¯»å–æ ‡æ³¨æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œçœ‹çœ‹JuiceMakerä¾èµ–çš„æ˜¯å“ªä¸ªSourceï¼Œæ‹¿åˆ°ç±»å ä½¿ç”¨åå°„çš„APIï¼ŒåŸºäºç±»åå®ä¾‹åŒ–å¯¹åº”çš„å¯¹è±¡å®ä¾‹ å°†å¯¹è±¡å®ä¾‹ï¼Œé€šè¿‡æ„é€ å‡½æ•°æˆ–è€… setterï¼Œä¼ é€’ç»™ JuiceMaker æˆ‘ä»¬å‘ç°å…¶å®è‡ªå·±æ¥å®ç°ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼ŒSpringå®é™…ä¹Ÿå°±æ˜¯è¿™ä¹ˆåšçš„ã€‚è¿™ä¹ˆçœ‹çš„è¯å…¶å®IoCå°±æ˜¯ä¸€ä¸ªå·¥å‚æ¨¡å¼çš„å‡çº§ç‰ˆï¼å½“ç„¶è¦åšä¸€ä¸ªæˆç†Ÿçš„IoCæ¡†æ¶ï¼Œè¿˜æ˜¯éå¸¸å¤šç»†è‡´çš„å·¥ä½œè¦åšï¼ŒSpringä¸ä»…æä¾›äº†ä¸€ä¸ªå·²ç»æˆä¸ºä¸šç•Œæ ‡å‡†çš„Java IoCæ¡†æ¶ï¼Œè¿˜æä¾›äº†æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¤§å®¶å°±åˆ«å»é€ è½®å­å•¦ï¼å¸Œæœ›äº†è§£IoCæ›´å¤šå®ç°ç»†èŠ‚ä¸å¦¨é€šè¿‡å­¦ä¹ Springçš„æºç æ¥åŠ æ·±ç†è§£ï¼ å¼•ç”¨åœ°å€ï¼šè¿™é‡Œ Spring AOP ç®€ä»‹å¦‚æœè¯´ IoC æ˜¯ Spring çš„æ ¸å¿ƒï¼Œé‚£ä¹ˆé¢å‘åˆ‡é¢ç¼–ç¨‹å°±æ˜¯ Spring æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ä¹‹ä¸€äº†ï¼Œåœ¨æ•°æ®åº“äº‹åŠ¡ä¸­åˆ‡é¢ç¼–ç¨‹è¢«å¹¿æ³›ä½¿ç”¨ã€‚ AOP å³ Aspect Oriented Program é¢å‘åˆ‡é¢ç¼–ç¨‹é¦–å…ˆï¼Œåœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ€æƒ³é‡Œé¢ï¼ŒæŠŠåŠŸèƒ½åˆ†ä¸ºæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼Œå’Œå‘¨è¾¹åŠŸèƒ½ã€‚ æ‰€è°“çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œæ¯”å¦‚ç™»é™†ï¼Œå¢åŠ æ•°æ®ï¼Œåˆ é™¤æ•°æ®éƒ½å«æ ¸å¿ƒä¸šåŠ¡ æ‰€è°“çš„å‘¨è¾¹åŠŸèƒ½ï¼Œæ¯”å¦‚æ€§èƒ½ç»Ÿè®¡ï¼Œæ—¥å¿—ï¼Œäº‹åŠ¡ç®¡ç†ç­‰ç­‰ å‘¨è¾¹åŠŸèƒ½åœ¨ Spring çš„é¢å‘åˆ‡é¢ç¼–ç¨‹AOPæ€æƒ³é‡Œï¼Œå³è¢«å®šä¹‰ä¸ºåˆ‡é¢ åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹AOPçš„æ€æƒ³é‡Œé¢ï¼Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½å’Œåˆ‡é¢åŠŸèƒ½åˆ†åˆ«ç‹¬ç«‹è¿›è¡Œå¼€å‘ï¼Œç„¶åæŠŠåˆ‡é¢åŠŸèƒ½å’Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ â€œç¼–ç»‡â€ åœ¨ä¸€èµ·ï¼Œè¿™å°±å«AOP AOP çš„ç›®çš„AOPèƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»ï¼ˆä¾‹å¦‚äº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ AOP å½“ä¸­çš„æ¦‚å¿µï¼š åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰åœ¨å“ªäº›ç±»ï¼Œå“ªäº›æ–¹æ³•ä¸Šåˆ‡å…¥ï¼ˆwhereï¼‰ é€šçŸ¥ï¼ˆAdviceï¼‰åœ¨æ–¹æ³•æ‰§è¡Œçš„ä»€ä¹ˆå®é™…ï¼ˆwhen:æ–¹æ³•å‰/æ–¹æ³•å/æ–¹æ³•å‰åï¼‰åšä»€ä¹ˆï¼ˆwhat:å¢å¼ºçš„åŠŸèƒ½ï¼‰ åˆ‡é¢ï¼ˆAspectï¼‰åˆ‡é¢ = åˆ‡å…¥ç‚¹ + é€šçŸ¥ï¼Œé€šä¿—ç‚¹å°±æ˜¯ï¼šåœ¨ä»€ä¹ˆæ—¶æœºï¼Œä»€ä¹ˆåœ°æ–¹ï¼Œåšä»€ä¹ˆå¢å¼ºï¼ ç»‡å…¥ï¼ˆWeavingï¼‰æŠŠåˆ‡é¢åŠ å…¥åˆ°å¯¹è±¡ï¼Œå¹¶åˆ›å»ºå‡ºä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚ï¼ˆç”± Spring æ¥å®Œæˆï¼‰ AOP ç¼–ç¨‹ åœ¨ Packgeã€serviceã€‘ä¸‹åˆ›å»º ã€ProductServiceã€‘ç±»ï¼š package service; public class ProductService { public void doSomeService(){ System.out.println(\"doSomeService\"); } } åœ¨ xml æ–‡ä»¶ä¸­è£…é…è¯¥ beanï¼š &lt;bean name=\"productService\" class=\"service.ProductService\" /> åœ¨ã€TestSpringã€‘ä¸­ç¼–å†™æµ‹è¯•ä»£ç ï¼Œè¿è¡Œï¼š åœ¨ Packgeã€aspectã€‘ä¸‹å‡†å¤‡æ—¥å¿—åˆ‡é¢ ã€LoggerAspectã€‘ç±»ï¼š package aspect; import org.aspectj.lang.ProceedingJoinPoint; public class LoggerAspect { public Object log(ProceedingJoinPoint joinPoint) throws Throwable { System.out.println(\"start log:\" + joinPoint.getSignature().getName()); Object object = joinPoint.proceed(); System.out.println(\"end log:\" + joinPoint.getSignature().getName()); return object; } } åœ¨ xml æ–‡ä»¶ä¸­å£°æ˜ä¸šåŠ¡å¯¹è±¡å’Œæ—¥å¿—åˆ‡é¢ï¼š &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?> &lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\"> &lt;bean name=\"productService\" class=\"service.ProductService\" /> &lt;bean id=\"loggerAspect\" class=\"aspect.LoggerAspect\"/> &lt;!-- é…ç½®AOP --> &lt;aop:config> &lt;!-- whereï¼šåœ¨å“ªäº›åœ°æ–¹ï¼ˆåŒ….ç±».æ–¹æ³•ï¼‰åšå¢åŠ  --> &lt;aop:pointcut id=\"loggerCutpoint\" expression=\"execution(* service.ProductService.*(..)) \"/> &lt;!-- what:åšä»€ä¹ˆå¢å¼º --> &lt;aop:aspect id=\"logAspect\" ref=\"loggerAspect\"> &lt;!-- when:åœ¨ä»€ä¹ˆæ—¶æœºï¼ˆæ–¹æ³•å‰/å/å‰åï¼‰ --> &lt;aop:around pointcut-ref=\"loggerCutpoint\" method=\"log\"/> &lt;/aop:aspect> &lt;/aop:config> &lt;/beans> å†æ¬¡è¿è¡Œ TestSpring ä¸­çš„æµ‹è¯•ä»£ç ï¼Œä»£ç å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯åœ¨ä¸šåŠ¡æ–¹æ³•è¿è¡Œä¹‹å‰å’Œè¿è¡Œä¹‹åï¼Œéƒ½åˆ†åˆ«è¾“å‡ºäº†æ—¥å¿—ä¿¡æ¯ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring","slug":"JavaWebåŸºç¡€/Spring","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(9)â€”â€”å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ(ç®€æ˜“ç‰ˆ)æ€»ç»“","slug":"åˆå­¦Java-Web-9-â€”â€”å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ-ç®€æ˜“ç‰ˆ-æ€»ç»“","date":"2018-04-09T01:12:00.000Z","updated":"2020-08-03T08:01:02.848Z","comments":true,"path":"2018/04/09/chu-xue-java-web-9-xue-sheng-guan-li-xi-tong-jian-yi-ban-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/09/chu-xue-java-web-9-xue-sheng-guan-li-xi-tong-jian-yi-ban-zong-jie/","excerpt":"","text":"é¡¹ç›®å¼€å§‹æ—¶é—´ï¼š2018å¹´4æœˆ8æ—¥14:37:47é¡¹ç›®å®Œæˆæ—¶é—´ï¼š2018å¹´4æœˆ9æ—¥10:03:30 æŠ€æœ¯å‡†å¤‡ è¿™ä¸ªé¡¹ç›®æ˜¯è‡ªå·±ç”¨äºå·©å›º J2EE ç›¸å…³çŸ¥è¯†çš„ç»ƒæ‰‹é¡¹ç›®ï¼Œéå¸¸ç®€å•ï¼Œä½†æ˜¯ç›¸å…³çš„åŠŸèƒ½å´éå¸¸å®ç”¨ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹ ä¸ºäº†å®Œæˆè¿™ä¸ªé¡¹ç›®ï¼Œéœ€è¦æŒæ¡å¦‚ä¸‹æŠ€æœ¯ï¼š JavaåŸºç¡€çŸ¥è¯† å‰ç«¯ï¼šHTML, CSS, JAVASCRIPT, JQUERY J2EEï¼šTomcat, Servlet, JSP, Filter æ•°æ®åº“ï¼šMySQL å¼€å‘æµç¨‹é¡¹ç›®è™½ç„¶å¾ˆç®€å•ï¼Œå¾ˆå°ï¼Œä½†æ˜¯ä¸ºäº†å¼€å‘çš„æœ‰æ¡ä¸ç´Šï¼Œè¿˜æ˜¯æŒ‰ç…§å•†ä¸šé¡¹ç›®çš„å¼€å‘æ¥å®Œæˆã€‚ â‘  éœ€æ±‚åˆ†æé¦–å…ˆè¦ç¡®å®šè¦åšå“ªäº›åŠŸèƒ½ ä½¿ç”¨æ•°æ®åº“æ¥ä¿å­˜æ•°æ® èƒ½å¢åˆ æ”¹æŸ¥å­¦ç”Ÿçš„ä¿¡æ¯ï¼ˆå­¦å·ï¼Œåç§°ï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼Œå‡ºç”Ÿæ—¥æœŸï¼‰ â‘¡ è¡¨ç»“æ„è®¾è®¡æ ¹æ®éœ€æ±‚ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸€ä¸ª student è¡¨å°±èƒ½å¤Ÿå®ŒæˆåŠŸèƒ½äº†ã€‚ åˆ›å»ºæ•°æ®åº“ï¼šstudentå°†æ•°æ®åº“ç¼–ç æ ¼å¼è®¾ç½®ä¸º UTF-8 ï¼Œä¾¿äºå­˜å–ä¸­æ–‡æ•°æ® DROP DATABASE IF EXISTS student; CREATE DATABASE student DEFAULT CHARACTER SET utf8; åˆ›å»ºå­¦ç”Ÿè¡¨ï¼šstudentä¸ç”¨å­¦ç”Ÿå­¦å·(studentID)ä½œä¸ºä¸»é”®çš„åŸå› æ˜¯ï¼šä¸æ–¹ä¾¿æ“ä½œï¼Œä¾‹å¦‚åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿè¦æ›´æ”¹å­¦å·ï¼Œé‚£è¿™æ ·çš„æ“ä½œæ€ä¹ˆåŠå‘¢ï¼Ÿæ‰€ä»¥æˆ‘ä»¬åŠ äº†ä¸€ä¸ª id ç”¨æ¥å”¯ä¸€è¡¨ç¤ºå½“å‰æ•°æ®ã€‚ CREATE TABLE student( id int(11) NOT NULL AUTO_INCREMENT, studentID int(11) NOT NULL UNIQUE, name varchar(255) NOT NULL, age int(11) NOT NULL, sex varchar(255) NOT NULL, birthday date DEFAULT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; â‘¢ åŸå‹è®¾è®¡å°±æ˜¯è®¾è®¡ç•Œé¢ï¼Œåœ¨å•†ä¸šé¡¹ç›®ä¸­ï¼Œè¿™æ˜¯å¾ˆé‡è¦çš„ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥è§£é™¤ç•Œé¢åŸå‹ï¼Œä½æˆæœ¬ã€é«˜æ•ˆç‡çš„ä¸å®¢æˆ·è¾¾æˆéœ€æ±‚çš„ä¸€è‡´æ€§ã€‚ è¿™ä¸ªé¡¹ç›®ä¸€å…±å°±åˆ†ä¸ºä¸¤ä¸ªé¡µé¢ï¼š ä¸»é¡µé¢ï¼š å­¦ç”Ÿç¼–è¾‘é¡µé¢ï¼š â‘£ å®ä½“ç±»çš„è®¾è®¡å®ä½“ç±»ä»…ä»…æ˜¯å¯¹æ•°æ®åº“ä¸­è¡¨çš„ä¸€ä¸€æ˜ å°„ï¼ŒåŒæ—¶å¯èƒ½è¿˜éœ€è¦å…¼é¡¾å¯¹ä¸šåŠ¡èƒ½åŠ›çš„æ”¯æŒã€‚ åœ¨ Packge[bean]ä¸‹åˆ›å»º Student ç±»ï¼špackage bean; import java.util.Date; public class Student { private int id; // åœ¨æ•°æ®åº“ä¸­çš„ID private int studentID; // å­¦å·ï¼Œè·ŸIDåŒºåˆ†å¼€ä¸ºäº†æ–¹ä¾¿æ•°æ®åº“æ“ä½œ private String name; // å§“å private int age; // å¹´é¾„ private String sex; // æ€§åˆ« private Date birthday; // å‡ºç”Ÿæ—¥æœŸ // setter å’Œ getter (ä¸ºèŠ‚çº¦ç¯‡å¹…æ²¡åˆ—å‡ºæ¥)} #### â‘¤ DAO ç±»çš„è®¾è®¡ DAOï¼Œå³ Date Access Objectï¼Œæ•°æ®åº“è®¿é—®å¯¹è±¡ï¼Œå°±æ˜¯å¯¹æ•°æ®åº“ç›¸å…³æ“ä½œçš„å°è£…ï¼Œè®©å…¶ä»–åœ°æ–¹çœ‹ä¸åˆ° JDBC çš„ä»£ç ã€‚ é¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ•°æ®åº“æ“ä½œçš„å·¥å…·ç±»ï¼š - åœ¨ Packge[util]ä¸‹åˆ›å»º DBUtil ç±»ï¼š ```java /** * æ•°æ®åº“å·¥å…·ç±»ï¼Œè¿™ä¸ªç±»çš„ä½œç”¨æ˜¯åˆå§‹åŒ–é©±åŠ¨ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªgetConnectionç”¨äºè·å–è¿æ¥ã€‚ */ package util; import java.sql.Connection; import java.sql.DriverManager; import java.sql.SQLException; public class DBUtil { static String ip = &quot;127.0.0.1&quot;; static int port = 3306; static String database = &quot;student&quot;; static String encoding = &quot;UTF-8&quot;; static String loginName = &quot;root&quot;; static String password = &quot;root&quot;; static { try { Class.forName(&quot;com.mysql.jdbc.Driver&quot;); } catch (ClassNotFoundException e) { e.printStackTrace(); } } public static Connection getConnection() throws SQLException { String url = String.format(&quot;jdbc:mysql://%s:%d/%s?characterEncoding=%s&quot;, ip, port, database, encoding); return DriverManager.getConnection(url, loginName, password); } public static void main(String[] args) throws SQLException { System.out.println(getConnection()); } } å†™å·¥å…·ç±»çš„å¥½å¤„ï¼š ä¾¿äºç»Ÿä¸€ç»´æŠ¤ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ ç„¶åæ˜¯ DAO ç±»ï¼Œé™¤äº†è¿›è¡Œå…¸å‹çš„ ORM æ”¯æŒåŠŸèƒ½ä¹‹å¤–ï¼Œä¹Ÿéœ€è¦æä¾›å„ç§ä¸šåŠ¡æ–¹æ³•ã€‚ åœ¨ Packge[dao]ä¸‹åˆ›å»º StudentDAO ç±»ï¼špackage dao; import bean.Student;import util.DBUtil; import java.sql.*;import java.util.ArrayList;import java.util.List; public class StudentDAO { public int getTotal() { int total = 0; String sql = &quot;SELECT COUNT(*) FROM student&quot;; try (Connection c = DBUtil.getConnection(); Statement st = c.createStatement()) { ResultSet rs = st.executeQuery(sql); while (rs.next()) { total = rs.getInt(1); } } catch (SQLException e) { e.printStackTrace(); } return total; } public void add(Student student) { String sql = &quot;INSERT INTO student VALUES(NULL,?,?,?,?,?)&quot;; try (Connection c = DBUtil.getConnection(); PreparedStatement ps = c.prepareStatement(sql)) { ps.setInt(1, student.getStudentID()); ps.setString(2, student.getName()); ps.setInt(3, student.getAge()); ps.setString(4, student.getSex()); ps.setDate(5, new java.sql.Date(student.getBirthday().getTime())); ps.execute(); } catch (SQLException e) { e.printStackTrace(); } } public void delete(int id) { String sql = &quot;DELETE FROM student WHERE ID = ?&quot;; try (Connection c = DBUtil.getConnection(); PreparedStatement ps = c.prepareStatement(sql)) { ps.setInt(1, id); ps.execute(); } catch (SQLException e) { e.printStackTrace(); } } public void update(Student student) { String sql = &quot;update student set student_id = ?, name = ?, age = ?, sex = ?, birthday = ? where id = ? &quot;; try (Connection c = DBUtil.getConnection(); PreparedStatement ps = c.prepareStatement(sql)) { ps.setInt(1, student.getStudentID()); ps.setString(2, student.getName()); ps.setInt(3, student.getAge()); ps.setString(4, student.getSex()); ps.setDate(5, new java.sql.Date(student.getBirthday().getTime())); ps.setInt(6, student.getId()); ps.execute(); } catch (SQLException e) { e.printStackTrace(); } } public Student get(int id) { Student student = new Student(); String sql = &quot;SELECT * FROM student WHERE ID = &quot; + id; try (Connection c = DBUtil.getConnection(); Statement st = c.createStatement()) { ResultSet rs = st.executeQuery(sql); if (rs.next()) { int student_id = rs.getInt(&quot;student_id&quot;); String name = rs.getString(&quot;name&quot;); int age = rs.getInt(&quot;age&quot;); String sex = rs.getString(&quot;sex&quot;); Date birthday = rs.getDate(&quot;birthday&quot;); student.setStudentID(student_id); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); student.setId(id); } } catch (SQLException e) { e.printStackTrace(); } return student; } public List&lt;Student&gt; list() { return list(0, Short.MAX_VALUE); } public List&lt;Student&gt; list(int start, int count) { List&lt;Student&gt; students = new ArrayList&lt;&gt;(); String sql = &quot;SELECT * FROM student ORDER BY student_id desc limit ?,?&quot;; try (Connection c = DBUtil.getConnection(); PreparedStatement ps = c.prepareStatement(sql)) { ps.setInt(1, start); ps.setInt(2, count); ResultSet rs = ps.executeQuery(); while (rs.next()) { Student student = new Student(); int id = rs.getInt(&quot;id&quot;); int studentID = rs.getInt(&quot;student_id&quot;); String name = rs.getString(&quot;name&quot;); int age = rs.getInt(&quot;age&quot;); String sex = rs.getString(&quot;sex&quot;); Date birthday = rs.getDate(&quot;birthday&quot;); student.setId(id); student.setStudentID(studentID); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); students.add(student); } rs.close(); } catch (SQLException e) { e.printStackTrace(); } return students; }} - è¯¥ç±»ä¸­ï¼Œæ—¢æä¾›äº†**å¢åˆ æ”¹æŸ¥**è¿™äº›åŸºæœ¬çš„ **CRUD** æ“ä½œ 1.å¢åŠ ï¼š`public void add(Student student)` 2.åˆ é™¤ï¼š`public void delete(int id)` 3.ä¿®æ”¹ï¼š`public void update(Student student)` 4.æŸ¥è¯¢æ‰€æœ‰ï¼š`public List&lt;Student&gt; list()` - åˆæä¾›äº†ä¸€äº›é **CRUD** æ–¹æ³• 1.è·å–æ€»æ•°ï¼š`public int getTotal()` 2.æ ¹æ® id è·å–ï¼š`public Student get(int id)` #### â‘¥ ä¸šåŠ¡ç±»ä»‹ç» ä½œä¸º J2EE Web åº”ç”¨ï¼Œä¸€èˆ¬éƒ½ä¼šæŒ‰ç…§å¦‚å›¾æ‰€ç¤ºçš„è®¾è®¡æµç¨‹è¿›è¡Œï¼š Servlet -&gt; Serviceï¼ˆä¸šåŠ¡ç±»ï¼‰ -&gt; DAO -&gt; database å½“æµè§ˆå™¨æäº¤è¯·æ±‚åˆ° Tomcat Web æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¯¹åº”çš„ Servlet çš„doGet/doPost æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œæ¥ç€åœ¨ Servlet ä¸­è°ƒç”¨ Serviceç±»ï¼Œç„¶ååœ¨ Service ç±»ä¸­è°ƒç”¨DAOç±»ï¼Œæœ€ååœ¨ DAO ä¸­è®¿é—®æ•°æ®åº“è·å–ç›¸åº”çš„æ•°æ®ã€‚ ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Web(9)â€”â€”å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼ˆç®€æ˜“ç‰ˆï¼‰æ€»ç»“/7896890-7e224d06d164441a.png) å•æœ¬é¡¹ç›®æ²¡æœ‰ä½¿ç”¨ Service è¿™ä¸€å±‚ï¼ŒåŸå› æ˜¯åœ¨å¯¹ DAO ç±»è¿›è¡Œå¼€å‘ä¸­ï¼Œå·²ç»æä¾›äº†å¾ˆå¥½çš„æ”¯æŒä¸šåŠ¡çš„æ–¹æ³•ï¼Œæ²¡æœ‰å¿…è¦å†åŒ…æ‹¬ä¸Šä¸€å±‚ Service ä¸šåŠ¡ç±»ã€‚ &gt; å‚è€ƒé“¾æ¥ï¼š[è¿™é‡Œ](http://how2j.cn/k/tmall-j2ee/tmall-j2ee-995/995.html) #### â‘¦ åŠŸèƒ½å¼€å‘ éœ€è¦æŒ‰ç…§æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œé¡ºåºå¼€å‘ã€‚ - é¦–å…ˆä¸ºé¡¹ç›®æ·»åŠ [å¿…è¦çš„ jar åŒ…](https://pan.baidu.com/s/19EXWcsi1DUMdUrCXgPeqVg)ï¼š jstl.jar mysql-connector-java-5.0.8-bin.jar servlet-api.jar standard.jar è¿™ä¹Ÿæ˜¯ Web å¼€å‘ä¸­æœ€åŸºæœ¬çš„ 4 ä¸ªåŒ… #### â€”â€”ã€1.ç¼–å†™ Filterã€‘â€”â€” ç”±äºé¡¹ç›®ä¸­è®¾è®¡è¡¨å• POST æ–¹å¼çš„æäº¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥ç¼–å†™å¥½ç›¸å…³ç¼–ç çš„è¿‡æ»¤å™¨ï¼Œå¥½æ”¯æŒä¸­æ–‡çš„å­˜å– - åœ¨ Packge[filter] ä¸‹ç¼–å†™ EncodingFilter ç±»ï¼š ```java package filter; import javax.servlet.*; import javax.servlet.annotation.WebFilter; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebFilter(&quot;/*&quot;) public class EncodingFilter implements Filter { public void destroy() { } public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws ServletException, IOException { HttpServletRequest request = (HttpServletRequest) req; HttpServletResponse response = (HttpServletResponse) resp; // è®¾ç½®ç¼–ç æ ¼å¼ä¸º UTF-8 request.setCharacterEncoding(&quot;UTF-8&quot;); chain.doFilter(request, response); } public void init(FilterConfig config) throws ServletException { } }â€”â€”ã€2. ç¼–å†™ Servlet ã€‘â€”â€”æŒ‰ç…§ä¼ ç»Ÿçš„æ–¹å¼ï¼Œæˆ‘ä»¬é¡¹ç›®çš„ä¸šåŠ¡ä¸ºå¢åˆ æ”¹æŸ¥ï¼Œæ‰€ä»¥å¯¹åº”å››ä¸ªè·¯å¾„ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ç¼–å†™å››ä¸ª Servlet æ‰å¯ä»¥ AddServletï¼špackage servlet; import bean.Student;import dao.StudentDAO; import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.text.ParseException;import java.text.SimpleDateFormat;import java.util.Date; @WebServlet(â€œ/addStudentâ€)public class AddServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { Student student = new Student(); // ç›´æ¥ä»è¡¨å•ä¸­è·å–æ•°æ® int studentID = Integer.parseInt(req.getParameter(&quot;studentID&quot;)); String name = req.getParameter(&quot;name&quot;); int age = Integer.parseInt(req.getParameter(&quot;age&quot;)); String sex = req.getParameter(&quot;radio&quot;); Date birthday = null; // String ç±»å‹æŒ‰ç…§ yyyy-MM-dd çš„æ ¼å¼è½¬æ¢ä¸º java.util.Date ç±» SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); try { birthday = simpleDateFormat.parse(req.getParameter(&quot;birthday&quot;)); } catch (ParseException e) { e.printStackTrace(); } student.setStudentID(studentID); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); new StudentDAO().add(student); resp.sendRedirect(&quot;/listStudent&quot;); // è¿™é‡Œå¯ä»¥ç†è§£ä¸ºåˆ·æ–°ï¼Œé‡æ–°è¯·æ±‚ }} - **DeleteServletï¼š**package servlet; import dao.StudentDAO; import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException; @WebServlet(â€œ/deleteStudentâ€)public class DeleteServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { int id = Integer.parseInt(req.getParameter(&quot;id&quot;)); new StudentDAO().delete(id); resp.sendRedirect(&quot;/listStudent&quot;); }} - **EditServletï¼š** ```java package servlet; import bean.Student; import dao.StudentDAO; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(&quot;/editStudent&quot;) public class EditServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { int id = Integer.parseInt(req.getParameter(&quot;id&quot;)); Student student = new StudentDAO().get(id); req.setAttribute(&quot;student&quot;, student); req.getRequestDispatcher(&quot;/editStudent.jsp&quot;).forward(req, resp); } } ListServletï¼špackage servlet; import bean.Student;import dao.StudentDAO;import util.Page; import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.util.List; @WebServlet(â€œ/listStudentâ€)public class ListServlet extends HttpServlet { private StudentDAO studentDAO = new StudentDAO(); protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(req.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(req.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } Page page = new Page(start, count); List&lt;Student&gt; students = studentDAO.list(page.getStart(), page.getCount()); int total = studentDAO.getTotal(); page.setTotal(total); req.setAttribute(&quot;students&quot;, students); req.setAttribute(&quot;page&quot;, page); req.getRequestDispatcher(&quot;/listStudent.jsp&quot;).forward(req, resp); }} - **UpdateServletï¼š** ```java package servlet; import bean.Student; import dao.StudentDAO; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.text.ParseException; import java.text.SimpleDateFormat; import java.util.Date; @WebServlet(&quot;/updateStudent&quot;) public class UpdateServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { Student student = new Student(); int id = Integer.parseInt(req.getParameter(&quot;id&quot;)); int studentID = Integer.parseInt(req.getParameter(&quot;studentID&quot;)); String name = req.getParameter(&quot;name&quot;); int age = Integer.parseInt(req.getParameter(&quot;age&quot;)); String sex = req.getParameter(&quot;radio&quot;); SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); Date birthday = null; try { birthday = simpleDateFormat.parse(req.getParameter(&quot;birthday&quot;)); } catch (ParseException e) { e.printStackTrace(); } student.setId(id); student.setStudentID(studentID); student.setName(name); student.setAge(age); student.setSex(sex); student.setBirthday(birthday); new StudentDAO().update(student); resp.sendRedirect(&quot;/listStudent&quot;); } }â€”â€”ã€3. JSP çš„ç¼–å†™ã€‘â€”â€”æˆ‘ä»¬æŠŠé»˜è®¤çš„ index.jsp ä¿®æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š å¼•å…¥ JQ å’Œ Bootstrapä¸ºäº†ç®€åŒ–æ“ä½œï¼Œå¼•å…¥äº† JQuery å’Œ Bootstrap ç¼–å†™ listStudent.jspå…¶å®ä¸»è¦è¿˜æ˜¯åˆ©ç”¨ Bootstrap ç¼–å†™å¥½æ•´ä¸ªé¡µé¢ï¼Œæˆ‘å†™çš„æ—¶å€™ä¹Ÿæ˜¯å¯¹ç…§è¿™é‡Œå†™çš„ &lt;!DOCTYPE html&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; %&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;%-- å¼•å…¥JQå’ŒBootstrap --%&gt; &lt;script src=&quot;js/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/bootstrap/3.3.6/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;script src=&quot;js/bootstrap/3.3.6/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/style.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;title&gt;å­¦ç”Ÿç®¡ç†é¡µé¢ - é¦–é¡µ&lt;/title&gt; &lt;script&gt; $(function () { $(&quot;ul.pagination li.disabled a&quot;).click(function () { return false; }); }); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;listDIV&quot;&gt; &lt;table class=&quot;table table-striped table-bordered table-hover table-condensed&quot;&gt; &lt;caption&gt;å­¦ç”Ÿåˆ—è¡¨ - å…±${page.total}äºº&lt;/caption&gt; &lt;thead&gt; &lt;tr class=&quot;success&quot;&gt; &lt;th&gt;å­¦å·&lt;/th&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th&gt;å¹´é¾„&lt;/th&gt; &lt;th&gt;æ€§åˆ«&lt;/th&gt; &lt;th&gt;å‡ºç”Ÿæ—¥æœŸ&lt;/th&gt; &lt;th&gt;ç¼–è¾‘&lt;/th&gt; &lt;th&gt;åˆ é™¤&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;c:forEach items=&quot;${students}&quot; var=&quot;s&quot; varStatus=&quot;status&quot;&gt; &lt;tr&gt; &lt;td&gt;${s.studentID}&lt;/td&gt; &lt;td&gt;${s.name}&lt;/td&gt; &lt;td&gt;${s.age}&lt;/td&gt; &lt;td&gt;${s.sex}&lt;/td&gt; &lt;td&gt;${s.birthday}&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;/editStudent?id=${s.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-edit&quot;&gt;&lt;/span&gt; &lt;/a&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;/deleteStudent?id=${s.id}&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-trash&quot;&gt;&lt;/span&gt; &lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;nav class=&quot;pageDIV&quot;&gt; &lt;ul class=&quot;pagination&quot;&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;c:if test=&quot;${status.count*page.count-page.start&lt;=30 &amp;&amp; status.count*page.count-page.start&gt;=-10}&quot;&gt; &lt;li &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;current&quot;&lt;/c:if&gt; &gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:if&gt; &lt;/c:forEach&gt; &lt;li &lt;c:if test=&quot;${!page.hasNext}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start+page.count}&quot;&gt; &lt;span&gt;â€º&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasNext}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.last}&quot;&gt; &lt;span&gt;Â»&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;div class=&quot;addDIV&quot;&gt; &lt;div class=&quot;panel panel-success&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt;å¢åŠ å­¦ç”Ÿ&lt;/h3&gt; &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;/addStudent&quot; role=&quot;form&quot;&gt; &lt;table class=&quot;addTable&quot;&gt; &lt;tr&gt; &lt;td&gt;å­¦å·ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;studentID&quot; id=&quot;studentID&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å­¦å·&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å§“åï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥åå­—&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å¹´é¾„ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot; id=&quot;age&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å¹´é¾„&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æ€§åˆ«ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;radio&quot; value=&quot;ç”·&quot;&gt; ç”· &lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;radio&quot; value=&quot;å¥³&quot;&gt; å¥³ &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å‡ºç”Ÿæ—¥æœŸï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;date&quot; name=&quot;birthday&quot; id=&quot;birthday&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å‡ºç”Ÿæ—¥æœŸ&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr class=&quot;submitTR&quot;&gt; &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;æ äº¤&lt;/button&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; eidtStudent.jspç¼–è¾‘è¡¨å•å¯¹ç…§ç€é¦–é¡µçš„å¢åŠ è¡¨å•ç¨å¾®æ”¹ä¸€æ”¹å‚æ•°å°±å¥½äº†&lt;!DOCTYPE html&gt; &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; %&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; &lt;%-- å¼•å…¥JQå’ŒBootstrap --%&gt; &lt;script src=&quot;js/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/bootstrap/3.3.6/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;script src=&quot;js/bootstrap/3.3.6/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;link href=&quot;css/style.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;title&gt;å­¦ç”Ÿç®¡ç†é¡µé¢ - ç¼–è¾‘é¡µé¢&lt;/title&gt; &lt;div class=&quot;panel panel-success&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt;ç¼–è¾‘å­¦ç”Ÿ&lt;/h3&gt; &lt;/div&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;form method=&quot;post&quot; action=&quot;/updateStudent&quot; role=&quot;form&quot;&gt; &lt;table class=&quot;editTable&quot;&gt; &lt;tr&gt; &lt;td&gt;å­¦å·ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;studentID&quot; id=&quot;studentID&quot; value=&quot;${student.studentID}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å­¦å·&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å§“åï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; value=&quot;${student.name}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥åå­—&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å¹´é¾„ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;age&quot; id=&quot;age&quot; value=&quot;${student.age}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å¹´é¾„&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;æ€§åˆ«ï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;radio&quot; value=&quot;ç”·&quot;&gt; ç”· &lt;input type=&quot;radio&quot; class=&quot;radio radio-inline&quot; name=&quot;radio&quot; value=&quot;å¥³&quot;&gt; å¥³ &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å‡ºç”Ÿæ—¥æœŸï¼š&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;date&quot; name=&quot;birthday&quot; id=&quot;birthday&quot; value=&quot;${student.birthday}&quot; placeholder=&quot;è¯·åœ¨è¿™é‡Œè¾“å…¥å‡ºç”Ÿæ—¥æœŸ&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr class=&quot;submitTR&quot;&gt; &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${student.id}&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;æ äº¤&lt;/button&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; ``` style.css æ–‡ä»¶ï¼šbody { padding-top: 60px; } div.listDIV { width: 600px; margin: 0 auto;} div.editDIV { width: 400px; margin: 0 auto;} nav.pageDIV { text-align: center;} div.addDIV { width: 300px; margin: 0 auto;} table.addTable { width: 100%; padding: 5px;} table.addTable td { padding: 5px;} table.editTable { width: 100%; padding: 5px;} table.editTable td { padding: 5px;} #### â€”â€”ã€4. é¡¹ç›®ç»†èŠ‚ã€‘â€”â€” - é¡¹ç›®çš„æ•´ç†ç»“æ„ï¼š ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Web(9)â€”â€”å­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼ˆç®€æ˜“ç‰ˆï¼‰æ€»ç»“/7896890-e95ffeefc9bfbeca.png) #### åˆ†é¡µåŠŸèƒ½ - é¦–é¡µåœ¨ Packge[util] ä¸‹åˆ›å»ºä¸€ä¸ª Page å·¥å…·ç±»ï¼š ```java package util; public class Page { int start; // å¼€å§‹æ•°æ® int count; // æ¯ä¸€é¡µçš„æ•°é‡ int total; // æ€»å…±çš„æ•°æ®é‡ public Page(int start, int count) { super(); this.start = start; this.count = count; } public boolean isHasPreviouse(){ if(start==0) return false; return true; } public boolean isHasNext(){ if(start==getLast()) return false; return true; } public int getTotalPage(){ int totalPage; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰10é¡µ if (0 == total % count) totalPage = total /count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆå°±æœ‰11é¡µ else totalPage = total / count + 1; if(0==totalPage) totalPage = 1; return totalPage; } public int getLast(){ int last; // å‡è®¾æ€»æ•°æ˜¯50ï¼Œæ˜¯èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯40 if (0 == total % count) last = total - count; // å‡è®¾æ€»æ•°æ˜¯51ï¼Œä¸èƒ½å¤Ÿè¢«5æ•´é™¤çš„ï¼Œé‚£ä¹ˆæœ€åä¸€é¡µçš„å¼€å§‹å°±æ˜¯50 else last = total - total % count; last = last&lt;0?0:last; return last; } // å„ç§ setter å’Œ getter } totalPage æ˜¯è®¡ç®—å¾—æ¥çš„æ•°ï¼Œç”¨æ¥è¡¨ç¤ºé¡µç ä¸€å…±çš„æ•°é‡ åœ¨é¦–é¡µæ˜¾ç¤ºçš„ StudentList ç”¨ page çš„å‚æ•°æ¥è·å–ï¼š List&lt;Student&gt; students = studentDAO.list(page.getStart(), page.getCount());å¹¶ä¸”åœ¨ DAO ç±»ä¸­ç”¨ LIMIT å…³é”®å­—ï¼š String sql = &quot;SELECT * FROM student ORDER BY student_id desc limit ?,?&quot;; ç¬¬ä¸€ä¸ªå‚æ•°ä¸º startï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º countè¿™æ ·å°±èƒ½æ ¹æ®åˆ†é¡µçš„ä¿¡æ¯æ¥è·å–åˆ°å“åº”çš„æ•°æ® ç¼–å†™åˆ†é¡µæ ï¼š 1.å†™å¥½å¤´å’Œå°¾ &lt;nav class=&quot;pageDIV&quot;&gt; &lt;ul class=&quot;pagination&quot;&gt; ..... &lt;/ul&gt; &lt;/nav&gt;2.å†™å¥½Â« â€¹è¿™ä¸¤ä¸ªåŠŸèƒ½æŒ‰é’®ä½¿ç”¨ &lt;c:if&gt;æ ‡ç­¾æ¥å¢åŠ è¾¹ç•Œåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰å‰é¢çš„é¡µç äº†åˆ™è®¾ç½®ä¸ºdisableçŠ¶æ€ &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=0&quot;&gt; &lt;span&gt;Â«&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li &lt;c:if test=&quot;${!page.hasPreviouse}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${page.start-page.count}&quot;&gt; &lt;span&gt;â€¹&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;å†é€šè¿‡ JavaScrip ä»£ç æ¥å®Œæˆç¦ç”¨åŠŸèƒ½ï¼š &lt;script&gt; $(function () { $(&quot;ul.pagination li.disabled a&quot;).click(function () { return false; }); }); &lt;/script&gt;3.å®Œæˆä¸­é—´é¡µç çš„ç¼–å†™ä» 0 å¾ªç¯åˆ° page.totalPage - 1 ï¼ŒvarStatus ç›¸å½“äºæ˜¯å¾ªç¯å˜é‡ status.count æ˜¯ä»1å¼€å§‹éå† status.index æ˜¯ä»0å¼€å§‹éå† è¦æ±‚ï¼šæ˜¾ç¤ºå½“å‰é¡µç çš„å‰ä¸¤ä¸ªå’Œåä¸¤ä¸ªå°±å¯ï¼Œä¾‹å¦‚å½“å‰é¡µç ä¸º3çš„æ—¶å€™ï¼Œå°±æ˜¾ç¤º 1 2 3(å½“å‰é¡µ) 4 5 çš„é¡µç  ç†è§£æµ‹è¯•æ¡ä»¶ï¼š 10 &lt;= å½“å‰é¡µ*æ¯ä¸€é¡µæ˜¾ç¤ºçš„æ•°ç›® - å½“å‰é¡µå¼€å§‹çš„æ•°æ®ç¼–å· &lt;= 30 åªè¦ç†è§£äº†è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå…¶ä»–çš„å°±éƒ½å¥½ç†è§£äº† &lt;c:forEach begin=&quot;0&quot; end=&quot;${page.totalPage-1}&quot; varStatus=&quot;status&quot;&gt; &lt;c:if test=&quot;${status.count*page.count-page.start&lt;=30 &amp;&amp; status.count*page.count-page.start&gt;=-10}&quot;&gt; &lt;li &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;disabled&quot;&lt;/c:if&gt;&gt; &lt;a href=&quot;?page.start=${status.index*page.count}&quot; &lt;c:if test=&quot;${status.index*page.count==page.start}&quot;&gt;class=&quot;current&quot;&lt;/c:if&gt; &gt;${status.count}&lt;/a&gt; &lt;/li&gt; &lt;/c:if&gt; &lt;/c:forEach&gt; 4.åœ¨ Servlet ä¸­è·å–å‚æ•° // è·å–åˆ†é¡µå‚æ•° int start = 0; int count = 10; try { start = Integer.parseInt(req.getParameter(&quot;page.start&quot;)); count = Integer.parseInt(req.getParameter(&quot;page.count&quot;)); } catch (Exception e) { } .... // å…±äº« page æ•°æ® req.setAttribute(&quot;page&quot;, page);Date è½¬æ¢çš„é—®é¢˜ /** * Dateç±»å‹è½¬ä¸ºæŒ‡å®šæ ¼å¼çš„Stringç±»å‹ * * @param source * @param pattern * @return */ public static String DateToString(Date source, String pattern) { simpleDateFormat = new SimpleDateFormat(pattern); return simpleDateFormat.format(source); } /** * * å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”æ—¥æœŸ * * @param source * @param pattern * @return */ public static Date stringToDate(String source, String pattern) { simpleDateFormat = new SimpleDateFormat(pattern); Date date = null; try { date = simpleDateFormat.parse(source); } catch (Exception e) { } return date; } é¡¹ç›®æ€»ç»“è¿™ä¸€ä¸ªé¡¹ç›®å®åœ¨æœ‰äº›å¤ªç®€å•äº†ï¼Œå¯èƒ½æœ€éœ€è¦ç†è§£çš„ä¸€ä¸ªåŠŸèƒ½å°±å±äºã€åˆ†é¡µåŠŸèƒ½ã€‘äº†å§ ä¸è¿‡è¿˜æ˜¯å€ŸåŠ©è¿™ä¸ªé¡¹ç›®ï¼Œè¿›ä¸€æ­¥å·©å›ºäº† J2EE å¼€å‘çš„ç›¸å…³çŸ¥è¯†ï¼Œä¹Ÿå¯¹å¼€å‘çš„æµç¨‹æ„ˆå‘ç†Ÿæ‚‰ï¼Œæ•´ä¸ªé¡¹ç›®ç¼–å†™æ—¶é—´ä¸è¶…è¿‡ 8 ä¸ªå°æ—¶ï¼Œå¯¹äºæˆ‘è‡ªå·±æ¥è¯´ï¼Œä¸ç®—å¿«ï¼Œä½†è¿˜ç®—æ¯”è¾ƒé¡ºç•…çš„ éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼š ç™»å½•éªŒè¯æœ¬é¡¹ç›®æ²¡æœ‰å¢åŠ ç™»å½•éªŒè¯ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªç™»å½•é¡µé¢å¹¶ç»“åˆ session æ¥å®ŒæˆéªŒè¯ ä»£ç é‡æ„æœ¬é¡¹ç›®ä»…ä»…å®Œæˆçš„æ˜¯ä¸€ä¸ªå­¦ç”Ÿè¡¨çš„å¢åˆ æ”¹æŸ¥ï¼Œå´æœ‰ä»¥ä¸‹çš„äº”ä¸ª Servlet ï¼š å¦‚æœé¡¹ç›®å¤§èµ·æ¥ï¼Œé‚£å¯æƒ³è€ŒçŸ¥ï¼ŒServlet æœ‰å¤šè‡ƒè‚¿ï¼Œç»´æŠ¤æˆæœ¬æœ‰å¤šé«˜ æ”¹è¿›æ–¹æ³•ï¼šç”¨ä¸€ä¸ª StudentServlet ä»£æ›¿ å…·ä½“åšæ³•ï¼šä½¿ç”¨ Filter + Servlet å®Œæˆ â‘  é¦–å…ˆç¼–å†™ä¸€ä¸ªè¿‡æ»¤æ‰€æœ‰åœ°å€çš„ Filterï¼Œå¹¶è§£æåœ°å€æ çš„åœ°å€ï¼Œæå–å‡ºå…¶ä¸­çš„æ–¹æ³•ä¼ é€’ç»™ StudentServlet ï¼ˆè¿™ä¸ªæ—¶å€™éœ€è¦ç»Ÿä¸€çš„åœ°å€ï¼Œå¦‚ï¼šstudent_listã€student_editã€student_deleteã€student_updateï¼‰ request.setAttribute(&quot;method&quot;, method); â‘¡ åœ¨ Servlet ä¸­è·å– method æ–¹æ³•ï¼Œå¹¶è°ƒç”¨ // è·å–åˆ°å¯¹åº”çš„æ–¹æ³• String method = (String) request.getAttribute(&quot;method&quot;); // å¯¹ method ä½œåˆ¤æ–­ï¼Œè°ƒç”¨å¯¹åº”çš„æ–¹æ³• æ²¡æœ‰å¯¹è¾“å…¥çš„æ•°æ®çš„æ­£ç¡®æ€§è¿›è¡ŒéªŒè¯è¿™æ˜¾ç„¶ä¼šå¯¼è‡´è®¸å¤šé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ js ä»£ç æ¥å®ŒæˆéªŒè¯ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/%E9%A1%B9%E7%9B%AE/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(8)â€”â€”è¿‡æ»¤å™¨å’Œç›‘å¬å™¨","slug":"åˆå­¦Java-Web-8-â€”â€”è¿‡æ»¤å™¨å’Œç›‘å¬å™¨","date":"2018-04-08T01:11:00.000Z","updated":"2020-08-03T08:43:14.289Z","comments":true,"path":"2018/04/08/chu-xue-java-web-8-guo-lu-qi-he-jian-ting-qi/","link":"","permalink":"http://www.wmyskxz.com/2018/04/08/chu-xue-java-web-8-guo-lu-qi-he-jian-ting-qi/","excerpt":"","text":"ä»€ä¹ˆæ˜¯è¿‡æ»¤å™¨è¿‡æ»¤å™¨å°±æ˜¯ Servlet çš„é«˜çº§ç‰¹æ€§ä¹‹ä¸€ï¼Œå°±æ˜¯ä¸€ä¸ªå…·æœ‰æ‹¦æˆª/è¿‡æ»¤åŠŸèƒ½çš„ä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨ç”Ÿæ´»ä¸­è¿‡æ»¤å™¨å¯ä»¥æ˜¯é¦™çƒŸæ»¤å˜´ï¼Œæ»¤çº¸ï¼Œå‡€æ°´å™¨ï¼Œç©ºæ°”å‡€åŒ–å™¨ç­‰ï¼Œåœ¨ Web ä¸­ä»…ä»…æ˜¯ä¸€ä¸ªå®ç°äº† Filter æ¥å£çš„ Java ç±»è€Œå·²ã€‚ ç‰¹ç‚¹ï¼šåŒå‘ï¼Œæ‹¦æˆªè¯·æ±‚ï¼Œæ‹¦æˆªå“åº” ä½œç”¨ï¼šè¿‡æ»¤å™¨å¯ä»¥å¯¹æ‰€æœ‰çš„è¯·æ±‚æˆ–è€…å“åº”åšæ‹¦æˆªæ“ä½œ ä¸ºä»€ä¹ˆåœ¨ Web å¼€å‘ä¸­éœ€è¦ç”¨åˆ°è¿‡æ»¤å™¨ï¼Ÿ é—®é¢˜ï¼šä¸ºä»€ä¹ˆéå¾—ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œæˆ‘ç›´æ¥åœ¨ Servlet ä¸­ä½œåˆ¤æ–­ä¸è¡Œå—ï¼Ÿ å¼€å‘éµå¾ªçš„åŸåˆ™ï¼š 1.DRYåŸåˆ™ï¼ˆDonâ€™t Reeat Yourselfï¼Œä¸è¦é‡å¤ä½ è‡ªå·±ï¼‰ï¼šé‡å¤ï¼Œæ„å‘³ç€ç»´æŠ¤çš„æˆæœ¬å¾ˆé«˜ã€‚2.è´£ä»»åˆ†ç¦»åŸåˆ™ï¼šè°æ“…é•¿ä»€ä¹ˆåŠŸèƒ½å°±åšä»€ä¹ˆåŠŸèƒ½ï¼ŒServlet æ“…é•¿çš„æ˜¯é€»è¾‘è€Œä¸æ˜¯å¤„ç†è¯·æ±‚ ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼šï¼ˆå¤„ç† POST è¯·æ±‚ä¸­æ–‡ç¼–ç çš„é—®é¢˜ï¼‰ Web ä¸­è¿‡æ»¤å™¨çš„ä½œç”¨ï¼š 1.å¯ä»¥åœ¨è¯·æ±‚èµ„æºä¹‹å‰è®¾ç½®è¯·æ±‚çš„ç¼–ç 2.å¯ä»¥è¿›è¡Œç™»å½•æ ¡éªŒ3.å¯ä»¥è¿›è¡Œè¯·æ±‚å‚æ•°çš„å†…å®¹çš„è¿‡æ»¤4.æ•°æ®å‹ç¼© / æ•°æ®åŠ å¯† / æ•°æ®æ ¼å¼çš„è½¬æ¢5.å¯ä»¥è®¾ç½®æµè§ˆå™¨ç›¸å…³çš„æ•°æ® Filter çš„å¼€å‘å’Œä½¿ç”¨å¯¹åº”äº Servlet çš„å¼€å‘æ­¥éª¤ï¼š å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç° Filter æ¥å£ åœ¨ doFilter() æ–¹æ³•ä¸­å¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œè¿‡æ»¤ åœ¨ web.xml æ–‡ä»¶ä¸­è¿›è¡Œ Filter çš„é…ç½®ï¼ˆå‘Šè¯‰æœåŠ¡å™¨æ¥ç®¡ç†å½“å‰çš„ Filterï¼‰&lt;!-- web.xml --&gt; &lt;filter&gt; &lt;filter-name&gt;filterçš„åç§°&lt;/filter-name&gt; &lt;filter-class&gt;filterç±»çš„å…¨é™å®šå&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;æŒ‡å®šå¯¹å“ªä¸€ä¸ªfilteråšçš„æ˜ å°„&lt;/filter-name&gt; &lt;url-pattern&gt;æŒ‡å®šå¯¹å“ªäº›èµ„æºè¿›è¡Œè¿‡æ»¤&lt;/url-pattern&gt; &lt;/filter-mapping&gt; æ³¨æ„ï¼šæ­¤æ—¶ &lt;url-pattern&gt; è¡¨ç¤ºå¯¹å“ªäº›èµ„æºåšè¿‡æ»¤/æ‹¦æˆªã€‚ä¾‹å¦‚ï¼š /hello.jspå½“å‰ Filter å°±ä»…ä»…åªå¯¹ hello.jsp èµ„æºåšæ‹¦æˆª. /indexå½“å‰ Filter å°±ä»…ä»…åªå¯¹ /index èµ„æºåšæ‹¦æˆª. /*å½“å‰ Filter å°±å¯¹æ‰€æœ‰èµ„æºåšæ‹¦æˆª.è®¿é—®ä»»æ„çš„èµ„æº,éƒ½ä¼šå…ˆè¿›å…¥è¯¥è¿‡æ»¤å™¨å™¨. /system/*å½“å‰ Filter å°±å¯¹ä»¥ /system/ æ‰“å¤´çš„èµ„æºåšæ‹¦æˆª.å¦‚/system , /system/a, /system/a/b/c, /systema Filter æ˜ å°„ç»†èŠ‚ åœ¨å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå°±åˆ›å»ºäº† Filter å¯¹è±¡å¹¶æ‰§è¡Œäº†åˆå§‹åŒ–æ–¹æ³• init()ã€‚Filter å…ˆäº Servlet å­˜åœ¨äºæœåŠ¡ç«¯ åœ¨åº”ç”¨ä¸­å…è®¸å­˜åœ¨å¤šä¸ª Filter ï¼Œåˆ°åº•å“ªä¸€ä¸ª Filter å…ˆæ‰§è¡Œå“ªä¸€ä¸ªåæ‰§è¡Œï¼Œè¿™å–å†³äºåœ¨ web.xml ä¸­å®šä¹‰çš„å…ˆåæ¬¡åº ï¼ˆå¦‚æœä½¿ç”¨æ³¨è§£é…ç½®ï¼Œåˆ™ Filter çš„æ‰§è¡Œé¡ºåºç”± Filter çš„ç±»åçš„å­—æ¯çš„é¡ºåºæ¥å†³å®šï¼Œå¦‚ AFilter å’Œ BFilterï¼Œåˆ™å…ˆæ‰§è¡Œ AFilterï¼‰ ä¸€ä¸ª Filter å¯ä»¥é…ç½®å¤šä¸ª &lt;url-pattern&gt; ä¹Ÿå¯ä»¥å¯¹æŒ‡å®šçš„ Servlet åšè¿‡æ»¤ï¼ˆæ³¨è§£é€šè¿‡ servletNames æŒ‡å®šï¼Œé…ç½®ç”± &lt;servlet-name&gt; æŒ‡å®šï¼‰ é»˜è®¤æƒ…å†µä¸‹ï¼ŒFilter åªå¯¹æ–°çš„è¯·æ±‚åšæ‹¦æˆªï¼Œå¦‚æœæ˜¯è¯·æ±‚è½¬å‘ï¼Œåˆ™ä¸ä¼šè¿‡æ»¤ã€‚ &lt;dispatcher&gt;é…ç½®é¡¹æŒ‡å®šäº† Filter çš„è¿‡æ»¤æ—¶é—´ï¼š REQUESTï¼šåªå¯¹è¯·æ±‚åšè¿‡æ»¤ï¼Œé»˜è®¤é€‰é¡¹ï¼Œå¦‚æœæœ‰è¯¥é…ç½®é¡¹åˆ™å¿…é¡»æ˜¾å¼å†™æ˜ FORWARDï¼šåªå¯¹è¯·æ±‚è½¬å‘(forword)æ–¹å¼åšè¿‡æ»¤ ERRORï¼šåªå¯¹è·³è½¬åˆ°å…¨å±€çš„é”™è¯¯é¡µé¢åšè¿‡æ»¤ INCLUDEï¼šåªå¯¹è¯·æ±‚åŒ…å«(include)æ–¹å¼åšè¿‡æ»¤ å¯¹åº”çš„æ³¨è§£å±æ€§ä¸º:dispatcherTypes è¿‡æ»¤å™¨å®ä¾‹ æˆ³è¿™é‡Œ ç›‘å¬å™¨ ä½œç”¨ï¼š 1.ç›‘å¬ web åº”ç”¨çš„åˆ›å»ºå’Œé”€æ¯2.attributeå‘ç”Ÿçš„å˜åŒ–ã€‚ web åº”ç”¨ï¼šå³ServletContextå¯¹è±¡(jspçš„éšå¼å¯¹è±¡application) é™¤äº†å¯¹webåº”ç”¨çš„ç›‘å¬å¤–ï¼Œè¿˜èƒ½ç›‘å¬sessionå’Œrequestçš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠä»–ä»¬çš„attributeå‘ç”Ÿçš„å˜åŒ–ã€‚ äº†è§£è¯¦æƒ…æˆ³è¿™é‡Œ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(7)â€”â€”æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½","slug":"åˆå­¦Java-Web-7-â€”â€”æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½","date":"2018-04-08T01:08:00.000Z","updated":"2020-08-03T08:00:00.327Z","comments":true,"path":"2018/04/08/chu-xue-java-web-7-wen-jian-de-shang-chuan-he-xia-zai/","link":"","permalink":"http://www.wmyskxz.com/2018/04/08/chu-xue-java-web-7-wen-jian-de-shang-chuan-he-xia-zai/","excerpt":"","text":"æ–‡ä»¶ä¸Šä¼ æ–‡ä»¶ä¸Šä¼ å‰çš„å‡†å¤‡ åœ¨è¡¨å•ä¸­å¿…é¡»æœ‰ä¸€ä¸ªä¸Šä¼ çš„æ§ä»¶&lt;input type=&quot;file&quot; name=&quot;testImg&quot;/&gt; å› ä¸º GET æ–¹å¼æœ‰è¯·æ±‚å¤§å°çš„é™åˆ¶ï¼Œæ‰€ä»¥è¡¨å•çš„æäº¤æ–¹å¼å¿…é¡»æ˜¯ POST&lt;form action=&quot;/upload&quot; method=&quot;post&quot;&gt; è¡¨å•é»˜è®¤çš„ç¼–ç æ–¹å¼ä¸º application/x-www-form-urlencoded ï¼Œåº”è¯¥ä¿®æ”¹ä¸º multipart/form-data ï¼Œä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¿›è¡Œæ•°æ®çš„ä¼ è¾“&lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; æ³¨æ„ï¼šæ­¤æ—¶ Servlet ä¸­å°±ä¸èƒ½å†ä½¿ç”¨ requestå¯¹è±¡.getParameter(String name) æ¥è·å–è¯·æ±‚å‚æ•° ä¸Šä¼ ç»„ä»¶è¦å®ç°æ–‡ä»¶çš„ä¸Šä¼ ï¼Œéœ€è¦åŸºäºä»¥ä¸‹ä¸¤ç§ç»„ä»¶çš„ä¸€ç§ï¼š Apache FileUpload ç»„ä»¶ã€æ“ä½œæ¯”è¾ƒå¤æ‚ã€‘ SmartUpload ç»„ä»¶ã€æ“ä½œæ¯”è¾ƒç®€å•ï¼Œä½†å­˜åœ¨ä¸€äº›é—®é¢˜ã€‘ åŸºäº FileUpload ç»„ä»¶ä½¿ç”¨åŸºäºApache FileUploadä¸Šä¼ ç»„ä»¶å®ç°æ–‡ä»¶çš„ä¸Šä¼ ï¼Œæ­¥éª¤ï¼š å°†å¿…è¦çš„ jar åŒ…å¯¼å…¥åˆ°é¡¹ç›®ä¸­commons-fileupload-1.2.2.jarcommons-io-1.4.jar ç®€å•å†™å¥½ upload.jsp ä¸Šä¼ é¡µé¢ï¼š &lt;!DOCTYPE html> &lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" import=\"java.util.*\" %> &lt;html> &lt;head> &lt;title>æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½&lt;/title> &lt;/head> &lt;body> æ–‡ä»¶ä¸Šä¼ ï¼š &lt;form action=\"/upload\" method=\"post\" enctype=\"multipart/form-data\"> &lt;input type=\"file\" name=\"testImg\"/> &lt;br> &lt;input type=\"submit\"/> &lt;/form> &lt;/body> &lt;/html> ç¼–å†™ UploadServlet å¤„ç†ç›¸å…³è¯·æ±‚ï¼š package servlet; import org.apache.commons.fileupload.FileItem; import org.apache.commons.fileupload.FileItemFactory; import org.apache.commons.fileupload.disk.DiskFileItemFactory; import org.apache.commons.fileupload.servlet.ServletFileUpload; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.File; import java.io.IOException; import java.util.List; @WebServlet(\"/upload\") public class UploadServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // éªŒè¯è¯·æ±‚æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼ˆpost è¯·æ±‚ / enctype æ˜¯å¦ä»¥multipartæ‰“å¤´ boolean isMultipart = ServletFileUpload.isMultipartContent(req); // å¦‚æœä¸æ»¡è¶³è¦æ±‚å°±ç«‹å³ç»“æŸå¯¹è¯¥è¯·æ±‚çš„å¤„ç† if (!isMultipart) { return; } try { // FileItem æ˜¯è¡¨å•ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„å°è£… // åˆ›å»ºä¸€ä¸ª FileItem çš„å·¥å‚ç±» FileItemFactory factory = new DiskFileItemFactory(); // åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ å¤„ç†å™¨ï¼ˆè£…é¥°è®¾è®¡æ¨¡å¼ï¼‰ ServletFileUpload upload = new ServletFileUpload(factory); // è§£æè¯·æ±‚ List&lt;FileItem> items = upload.parseRequest(req); for (FileItem fileItem : items) { // åˆ¤æ–­ç©ºé—´æ˜¯å¦æ˜¯æ™®é€šæ§ä»¶ if (fileItem.isFormField()) { // æ™®é€šæ§ä»¶ } else { // ä¸Šä¼ æ§ä»¶ // å°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨ fileItem.write(new File(\"C:/\", \"testImg.jpg\")); } } } catch (Exception e) { e.printStackTrace(); } } } æ–‡ä»¶ä¸Šä¼ çš„ç»†èŠ‚ä¸Šé¢å·²ç»èƒ½å®ç°ç®€å•çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½äº†ï¼Œä½†æ–‡ä»¶ä¸Šä¼ æœ‰å¾ˆå¤šéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ ç¼“å­˜å¤§å°å’Œä¸´æ—¶ç›®å½•åœ¨ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™,å¦‚æœæ–‡ä»¶è¿‡å¤§,è€Œä¸”æ˜¯å°†æ–‡ä»¶æ”¾åœ¨ç¼“å­˜ä¸­,å°±å¯èƒ½é€ æˆå†…å­˜æº¢å‡ºé»˜è®¤çš„ç¼“å­˜å¤§å°ä¸º 10 kbï¼Œä¸´æ—¶ç›®å½•çš„é»˜è®¤å€¼ä¸º tomcat/temp è§£å†³æ–¹æ¡ˆï¼šå°†æ“ä½œç¼“å­˜å¤§å°çš„æ–‡ä»¶æ”¾åœ¨æœåŠ¡å™¨çš„ç£ç›˜(ä¸´æ—¶ç›®å½•)ä¸­,åœ¨æ–‡ä»¶çš„å¤§å°è¶…è¿‡è®¾å®šçš„ç¼“å­˜å¤§å°çš„æ—¶å€™å°±ä¼šä½¿ç”¨åˆ°ä¸´æ—¶ç›®å½•// è®¾ç½®ç¼“å­˜å¤§å° 500kb factory.setSizeThreshold(1024*500); // è®¾ç½®ä¸´æ—¶ç›®å½• factory.setRepository(new File(\"C:/\")); é€šå¸¸ä¸éœ€è¦è®¾ç½® å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚æœç”¨æˆ· A ä¸Šä¼ äº†ä¸€ä¸ªæ–‡ä»¶åå«xxxï¼Œç”¨æˆ· B ä¹Ÿä¸Šä¼ äº†ä¸€ä¸ªæ–‡ä»¶åå« xxxï¼Œé‚£ä¹ˆæ­¤æ—¶ç”¨æˆ· B çš„æ–‡ä»¶ä¼šæŠŠç”¨æˆ· A çš„æ–‡ä»¶ç»™è¦†ç›–æ‰ã€‚ æ–‡ä»¶åç§°çš„å¤„ç†ç›¸åŒæ–‡ä»¶åç§°çš„æ–‡ä»¶ï¼Œåé¢çš„æ–‡ä»¶ä¼šæŠŠå‰é¢çš„æ–‡ä»¶è¦†ç›–æ‰ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨UUIDæ¥ç”Ÿæˆä¸€ä¸ªéšæœºçš„è€Œä¸”ä¸é‡å¤å­—ç¬¦ä¸²ä½œä¸ºæ–‡ä»¶çš„åç§°ï¼Œè·å–çœŸå®æ–‡ä»¶çš„åç¼€åéœ€è¦ç”¨åˆ° FilenameUtils è¿™ä¸ªå·¥å…·ç±» è¯­æ³•ï¼š String fileName = UUID.randomUUID().toString()+\".\"+FilenameUtils.getExtension(fileItem.getName()); æ–‡ä»¶ç±»å‹çš„çº¦æŸä¸Šä¼ æ–‡ä»¶çš„ç±»å‹åº”è¯¥éœ€è¦åšä¸€äº›çº¦æŸçš„ï¼Œæ¯”å¦‚åœ¨ä¸Šä¼ å¤´åƒçš„æ—¶å€™å°±åªå…è®¸ä¸Šä¼ å›¾ç‰‡ï¼Œå…¶ä»–ç±»å‹çš„æ–‡ä»¶éƒ½ä¸åº”è¯¥å…è®¸ä¸Šä¼ ï¼Œå¹¶ä¸”å¦‚æœç±»å‹ä¸æ­£ç¡®çš„æ—¶å€™ï¼Œåº”è¯¥ç»™ç”¨æˆ·ä¸€ä¸ªé”™è¯¯çš„æç¤ºã€‚ jsp æ–‡ä»¶å¢åŠ æ˜¾ç¤ºé”™è¯¯æç¤ºä¿¡æ¯ï¼š æˆ‘ä»¬ç»™æˆ‘ä»¬çš„ jsp å¼€å¤´å¢åŠ ä¸€ä¸ª &lt;span&gt; æ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ &lt;!DOCTYPE html> &lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" import=\"java.util.*\" %> &lt;html> &lt;head> &lt;title>æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½&lt;/title> &lt;/head> &lt;body> æ–‡ä»¶ä¸Šä¼ ï¼š&lt;span>${errorMsg}&lt;/span> &lt;form action=\"/upload\" method=\"post\" enctype=\"multipart/form-data\"> &lt;input type=\"file\" name=\"testImg\"/> &lt;br> &lt;input type=\"submit\"/> &lt;/form> &lt;/body> &lt;/html> åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹ï¼šé™åˆ¶æ–‡ä»¶ç±»å‹é‚£ä¹ˆå°±éœ€è¦å¯¹æ–‡ä»¶ç±»å‹è¿›è¡Œåˆ¤æ–­ è¯­æ³•ï¼šString contentType = fileItem.getContentType(); Servlet æºç ï¼špackage servlet; import org.apache.commons.fileupload.FileItem;import org.apache.commons.fileupload.FileItemFactory;import org.apache.commons.fileupload.disk.DiskFileItemFactory;import org.apache.commons.fileupload.servlet.ServletFileUpload;import org.apache.commons.io.FilenameUtils; import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.File;import java.io.IOException;import java.util.List;import java.util.UUID; @WebServlet(â€œ/uploadâ€)public class UploadServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // éªŒè¯è¯·æ±‚æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼ˆpost è¯·æ±‚ / enctype æ˜¯å¦ä»¥multipartæ‰“å¤´ boolean isMultipart = ServletFileUpload.isMultipartContent(req); // å¦‚æœä¸æ»¡è¶³è¦æ±‚å°±ç«‹å³ç»“æŸå¯¹è¯¥è¯·æ±‚çš„å¤„ç† if (!isMultipart) { return; } try { // FileItem æ˜¯è¡¨å•ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„å°è£… // åˆ›å»ºä¸€ä¸ª FileItem çš„å·¥å‚ç±» FileItemFactory factory = new DiskFileItemFactory(); // åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ å¤„ç†å™¨ï¼ˆè£…é¥°è®¾è®¡æ¨¡å¼ï¼‰ ServletFileUpload upload = new ServletFileUpload(factory); // è§£æè¯·æ±‚ List&lt;FileItem&gt; items = upload.parseRequest(req); for (FileItem fileItem : items) { // åˆ¤æ–­ç©ºé—´æ˜¯å¦æ˜¯æ™®é€šæ§ä»¶ if (fileItem.isFormField()) { // æ™®é€šæ§ä»¶ } else { // ä¸Šä¼ æ§ä»¶ String contentType = fileItem.getContentType(); if (!contentType.startsWith(&quot;image/&quot;)) { // å®ç°ç®€å•çš„é”™è¯¯æç¤º req.setAttribute(&quot;errorMsg&quot;, &quot;äº²ï¼Œæ‚¨ä¸Šä¼ çš„æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼&quot;); req.getRequestDispatcher(&quot;upload.jsp&quot;).forward(req, resp); return; // å¦‚æœä¸æ˜¯å›¾ç‰‡ç±»å‹åˆ™ä¸å†å¯¹è¯·æ±‚è¿›è¡Œå¤„ç† } // éšæœºå‘½åæ–‡ä»¶å String fileName = UUID.randomUUID().toString() + &quot;.&quot; + FilenameUtils.getExtension(fileItem.getName()); // å°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨ fileItem.write(new File(&quot;C:/&quot;, fileName)); } } } catch (Exception e) { e.printStackTrace(); } }} #### è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ - è§£å†³ä¸­æ–‡æ–‡ä»¶åä¹±ç ï¼ˆäº‹å®ä¸Šæˆ‘åœ¨æœ¬åœ°æµ‹è¯•å¹¶æ²¡æœ‰å‡ºç°ä¹±ç ï¼‰ï¼Œå¾—åˆ°è§£æå™¨ä»¥åï¼Œå°±**ç›´æ¥è®¾ç½®è§£æå™¨çš„ç¼–ç ä¸ºUTF-8å°±è¡Œäº†** fileUpload.setHeaderEncoding(â€œUTF-8â€); - è§£å†³è¡¨å•æ•°æ®ä¹±ç ï¼Œåœ¨è·å–è¡¨å•å€¼çš„æ—¶å€™ï¼ŒæŒ‰ç…§UTF-8ç¼–ç æ¥è·å–String value = fileItem.getString(â€œUTF-8â€); #### æ–‡ä»¶å¤§å°çº¦æŸ - å•ä¸ªæ–‡ä»¶æ•°æ®çš„å¤§å°çº¦æŸ å³æ•´ä¸ªè¡¨å•ä¹‹ä¸­åªæœ‰ä¸€ä¸ªä¸Šä¼ æ§ä»¶ - è¯­æ³•ï¼š`upload.setFileSizeMax(1024 * 500); // å•ä¸ªæ–‡ä»¶ä¸èƒ½è¶…è¿‡500 kb` - ä¸€æ¬¡è¯·æ±‚æ•°æ®çš„å¤§å°çº¦æŸ é™åˆ¶æ•´ä¸ªè¯·æ±‚ä¹‹ä¸­çš„æ•°æ®å¤§å° - è¯­æ³•ï¼š`upload.setSizeMax(1024 * 750); // æ•´ä¸ªè¯·æ±‚æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 750 kb` #### ä½¿ç”¨ Map å°è£…è¯·æ±‚ä¿¡æ¯ ä¸Šé¢æåˆ°ï¼Œæˆ‘ä»¬å·²ç»æ— æ³•ç”¨ requestå¯¹è±¡æ­£å¸¸è·å–åˆ°å‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç©¶ç«Ÿåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ &gt; - ä½¿ç”¨ Map å°è£…ä¸€ä¸‹å°±å¥½äº†ï¼Œç­‰åˆ°è¦ç”¨çš„æ—¶å€™å†ä» Map ä¸­å–å‡º ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Web(7)â€”â€”æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½/7896890-4e09be236b365217.png) --- ## SmartUpload ä¸Šé¢å·²ç»åŸºäº FileUpload å®ç°äº†æ–‡ä»¶çš„ä¸Šä¼ ï¼Œäº‹å®ä¸Šä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆå¤æ‚ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ SmartUpload è¦ä½¿ç”¨SmartUploadç»„ä»¶ï¼Œå°±éœ€è¦å¯¼å…¥smartupload.jarå¼€å‘åŒ… #### å¿«é€Ÿå…¥é—¨ ``` java //å®ä¾‹åŒ–ç»„ä»¶ SmartUpload smartUpload = new SmartUpload(); //åˆå§‹åŒ–ä¸Šä¼ æ“ä½œ smartUpload.initialize(this.getServletConfig(), request, response); try { //ä¸Šä¼ å‡†å¤‡ smartUpload.upload(); //å¯¹äºæ™®é€šæ•°æ®ï¼Œå•çº¯åˆ°requestå¯¹è±¡æ˜¯æ— æ³•è·å–å¾—åˆ°æäº¤å‚æ•°çš„ã€‚ä¹Ÿæ˜¯éœ€è¦ä¾èµ–smartUpload String password = smartUpload.getRequest().getParameter(&quot;password&quot;); System.out.println(password); //ä¸Šä¼ åˆ°uploadFileæ–‡ä»¶å¤¹ä¸­ smartUpload.save(&quot;uploadFile&quot;); } catch (SmartUploadException e) { e.printStackTrace(); } æ‘˜è‡ªï¼šè¿™é‡Œ ä¸Šé¢é“¾æ¥æåˆ° SmartUpload ç»„ä»¶åœ¨è§£å†³ä¸­æ–‡ä¹±ç ä¸­æœ‰ä¸€äº›å°é—®é¢˜ï¼Œæˆ‘æ²¡æœ‰æµ‹è¯•è¿‡ï¼Œä½†æˆ‘è§‰å¾—è‡ªå·±å†™ä¸€ä¸ª FileUpload å·¥å…·ç±»å·²ç»è¶³å¤Ÿä½¿ç”¨äº† æ–‡ä»¶ä¸‹è½½ å†™ä¸€ä¸ªç®€å•çš„ jsp é¡µé¢ï¼š åœ¨ WEB-INF ä¸‹åˆ›å»º download æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾å…¥ä¸€ä¸ª test.zip ç¼–å†™ Servlet å¤„ç†ç›¸å…³è¯·æ±‚ package servlet; import javax.servlet.ServletException; import javax.servlet.ServletOutputStream; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.File; import java.io.IOException; import java.net.URLEncoder; import java.nio.file.Files; import java.nio.file.Paths; @WebServlet(\"/download\") public class DownloadServlet extends HttpServlet { protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // è®¾ç½®å“åº”æ•°æ®çš„ MIME ç±»å‹ resp.setContentType(\"application/x-msdownload\"); // è·å–æ–‡ä»¶åç§° String fileName = req.getParameter(\"fileName\"); // åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ˜¯ IE String userAgent = req.getHeader(\"User-Agent\"); if (userAgent.contains(\"MSIE\")) { // IE // è®¾ç½®æ–‡ä»¶çš„åç§° resp.setHeader(\"Content-Disposition\", \"attachment; fileName=\" + URLEncoder.encode(fileName, \"UTF-8\")); } else { // éIE resp.setHeader(\"Content-Disposition\", \"attachment; fileName=\" + new String(fileName.getBytes(\"UTF-8\"), \"ISO-8859-1\")); } // è·å–æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ String path = req.getServletContext().getRealPath(\"/WEB-INF/download\"); // è·å–æŒ‡å®šçš„æ–‡ä»¶å¯¹è±¡ File f = new File(path, fileName); ServletOutputStream out = resp.getOutputStream(); // å°†æ–‡ä»¶å¤åˆ¶åˆ°è¾“å‡ºæµä¸­ï¼Œå“åº”ç»™æµè§ˆå™¨ Files.copy(Paths.get(f.getAbsolutePath()), out); } } æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(6)â€”â€”JSPå­¦ä¹ æ€»ç»“","slug":"åˆå­¦Java-Web-6-â€”â€”JSPå­¦ä¹ æ€»ç»“","date":"2018-04-07T01:03:00.000Z","updated":"2020-08-03T08:42:53.189Z","comments":true,"path":"2018/04/07/chu-xue-java-web-6-jsp-xue-xi-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/07/chu-xue-java-web-6-jsp-xue-xi-zong-jie/","excerpt":"","text":"ä¸ºä»€ä¹ˆè¦å­¦ä¹  JSPServlet çš„çŸ­æ¿ï¼šServlet çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†è§£å†³åŠ¨æ€è¾“å‡ºç½‘é¡µçš„é—®é¢˜ã€‚ è™½ç„¶è¿™æ ·åšç›®çš„èƒ½è¾¾åˆ°ï¼Œä½†æ˜¯å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼š åœ¨ Servlet è¾“å‡ºç½‘é¡µç‰‡æ®µéå¸¸æ¶å¿ƒï¼ˆå¯è¯»æ€§å·®ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦ï¼‰ æ²¡æœ‰ä½“ç°è´£ä»»åˆ†ç¦»çš„åŸåˆ™ï¼ˆåšè‡ªå·±æ“…é•¿åšçš„äº‹ï¼‰ è´£ä»»åˆ†ç¦» Servlet èƒ½å¤Ÿå¾ˆå¥½åœ°ç»„ç»‡ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä½†æ˜¯åœ¨ Java æºæ–‡ä»¶ä¸­é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ç”ŸæˆåŠ¨æ€ HTML å†…å®¹ä¼šå¯¼è‡´ä»£ç ç»´æŠ¤å›°éš¾ã€å¯è¯»æ€§å·® JSP è™½ç„¶è§„é¿äº† Servlet åœ¨ç”Ÿæˆ HTML å†…å®¹æ–¹é¢çš„åŠ£åŠ¿ï¼Œä½†æ˜¯åœ¨ HTML ä¸­æ··å…¥å¤§é‡ã€å¤æ‚çš„ä¸šåŠ¡é€»è¾‘åŒæ ·ä¹Ÿæ˜¯ä¸å¯å–çš„ å‚è€ƒï¼šçŸ¥ä¹@David æ³¨æ„ï¼šJSPå®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet MVC æ¨¡å¼æ—¢ç„¶ Servlet å’Œ JSP éƒ½æœ‰å„è‡ªçš„ä¼˜åŠ¿å’ŒçŸ­æ¿ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç»“åˆèµ·æ¥æ‰¬é•¿é¿çŸ­å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„â€”â€”MVC(Model-View-Controller)æ¨¡å¼éå¸¸é€‚åˆè§£å†³è¿™ä¸€é—®é¢˜ã€‚ MVCæ¨¡å¼ï¼ˆModel-View-Controllerï¼‰æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­çš„ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼ŒæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼š Controllerâ€”â€”è´Ÿè´£è½¬å‘è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç† Viewâ€”â€”è´Ÿè´£ç•Œé¢æ˜¾ç¤º Modelâ€”â€”ä¸šåŠ¡åŠŸèƒ½ç¼–å†™ï¼ˆä¾‹å¦‚ç®—æ³•å®ç°ï¼‰ã€æ•°æ®åº“è®¾è®¡ä»¥åŠæ•°æ®å­˜å–æ“ä½œå®ç° åœ¨JSP/Servletå¼€å‘çš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œè¿™ä¸‰ä¸ªéƒ¨åˆ†çš„æè¿°å¦‚ä¸‹æ‰€ç¤ºï¼š 1.Webæµè§ˆå™¨å‘é€HTTPè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œè¢«Controller(Servlet)è·å–å¹¶è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚å‚æ•°è§£æã€è¯·æ±‚è½¬å‘ï¼‰2.Controller(Servlet)è°ƒç”¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘â€”â€”Modeléƒ¨åˆ†ï¼Œè·å¾—ç»“æœ3.Controller(Servlet)å°†é€»è¾‘å¤„ç†ç»“æœäº¤ç»™Viewï¼ˆJSPï¼‰ï¼ŒåŠ¨æ€è¾“å‡ºHTMLå†…å®¹4.åŠ¨æ€ç”Ÿæˆçš„HTMLå†…å®¹è¿”å›åˆ°æµè§ˆå™¨æ˜¾ç¤º MVCæ¨¡å¼åœ¨Webå¼€å‘ä¸­çš„å¥½å¤„æ˜¯éå¸¸æ˜æ˜¾ï¼Œå®ƒè§„é¿äº†JSPä¸Servletå„è‡ªçš„çŸ­æ¿ï¼ŒServletåªè´Ÿè´£ä¸šåŠ¡é€»è¾‘è€Œä¸ä¼šé€šè¿‡out.append()åŠ¨æ€ç”ŸæˆHTMLä»£ç ï¼›JSPä¸­ä¹Ÿä¸ä¼šå……æ–¥ç€å¤§é‡çš„ä¸šåŠ¡ä»£ç ã€‚è¿™å¤§å¤§æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ å‚è€ƒï¼šçŸ¥ä¹@David JSP çš„æ‰§è¡ŒåŸç† æ€»ç»“ï¼šå½“è®¿é—®ä¸€ä¸ª JSP é¡µé¢æ—¶ï¼Œè¯¥é¡µé¢è¯·æ±‚å°†ä¼šè®²ç»™æœåŠ¡å™¨ä¸­çš„ JSP å¼•æ“å»å¤„ç†ï¼Œå®ƒè´Ÿè´£è§£é‡Šå’Œæ‰§è¡Œ JSP é¡µé¢ï¼Œæ¯ä¸ª JSP é¡µé¢åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒJSP å¼•æ“å°±ä¼šå°†å®ƒç¿»è¯‘æˆä¸€ä¸ªç»§æ‰¿è‡ª org.apache.jasper.runtime.HttpJspBaseç±»çš„ Servlet æºç¨‹åºï¼Œæ¥ç€å†ç¼–è¯‘æˆ class ç±»æ–‡ä»¶ï¼Œå†ç”± Web å®¹å™¨åƒè°ƒç”¨æ™®é€š Servlet ç¨‹åºä¸€æ ·çš„æ–¹å¼æ¥è£…è½½å’Œè§£é‡Šæ‰§è¡Œè¿™ä¸ªç”± JSP é¡µé¢ç¿»è¯‘æˆçš„ Servlet ç¨‹åºã€‚ è¯¦ç»†èµ„æ–™åœ¨è¿™é‡Œï¼Œæ„Ÿå…´è¶£çš„æˆ³æˆ‘ JSP çš„è¯­æ³•åƒè¿™æ ·å†—æ‚ç¹å¤çš„çŸ¥è¯†ç‚¹ï¼Œç›´æ¥ç»™ä¸¤ä¸ªå¥½ä¸€ç‚¹çš„é“¾æ¥è®°ä¸‹å°±å¥½äº†ï¼š1.W3Cschool2.èœé¸Ÿæ•™ç¨‹ JSP ä¸‰å¤§æŒ‡ä»¤ ç‰¹ç‚¹ï¼šå¹¶ä¸å‘å®¢æˆ·ç«¯äº§ç”Ÿä»»ä½•è¾“å‡ºï¼ŒæŒ‡ä»¤åœ¨ JSP æ•´ä¸ªæ–‡ä»¶èŒƒå›´å†…æœ‰æ•ˆï¼Œå¹¶ä¸”ä¸ºç¿»è¯‘é˜¶æ®µæä¾›äº†å…¨å±€ä¿¡æ¯ æŒ‡ä»¤çš„è¯­æ³•æ ¼å¼ï¼š &lt;%@ æŒ‡ä»¤åç§° å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼%&gt; â€”â€”ã€pageæŒ‡ä»¤ã€‘â€”â€” ä½œç”¨ï¼šå®šä¹‰ JSP é¡µé¢çš„å„ç§å±æ€§ å±æ€§ï¼š 1.languageï¼šæŒ‡ç¤ºJSPé¡µé¢ä¸­ä½¿ç”¨è„šæœ¬è¯­è¨€ã€‚é»˜è®¤å€¼javaï¼Œç›®å‰åªæ”¯æŒjavaã€‚2.extendsï¼šæŒ‡ç¤º JSP å¯¹åº”çš„ Servlet ç±»çš„çˆ¶ç±»ã€‚ä¸è¦ä¿®æ”¹ã€‚3.*importï¼šå¯¼å…¥JSPä¸­çš„Javaè„šæœ¬ä½¿ç”¨åˆ°çš„ç±»æˆ–åŒ…ã€‚ï¼ˆå¦‚åŒJavaä¸­çš„importè¯­å¥ï¼‰JSP å¼•æ“è‡ªåŠ¨å¯¼å…¥ä»¥ä¸‹åŒ…ä¸­çš„ç±»ï¼šjavax.servlet.*javax.servlet.http.*javax.servlet.jsp.*æ³¨æ„ï¼šä¸€ä¸ªimportå±æ€§å¯ä»¥å¯¼å…¥å¤šä¸ªåŒ…ï¼Œç”¨é€—å·åˆ†éš”ã€‚4.*sessioinï¼šæŒ‡ç¤ºJSPé¡µé¢æ˜¯å¦åˆ›å»º HttpSession å¯¹è±¡ã€‚é»˜è®¤å€¼æ˜¯trueï¼Œåˆ›å»º5.*bufferï¼šæŒ‡ç¤º JSP ç”¨çš„è¾“å‡ºæµçš„ç¼“å­˜å¤§å°.é»˜è®¤å€¼æ˜¯8Kbã€‚6.autoFlushï¼šè‡ªåŠ¨åˆ·æ–°è¾“å‡ºæµçš„ç¼“å­˜ã€‚7.isThreadSafeï¼šæŒ‡ç¤ºé¡µé¢æ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆè¿‡æ—¶çš„ï¼‰ã€‚é»˜è®¤æ˜¯trueã€‚trueï¼šä¸å®‰å…¨çš„ã€‚falseï¼šå®‰å…¨çš„ã€‚æŒ‡ç¤º JSP å¯¹åº”çš„ Servlet å®ç° SingleThreadModel æ¥å£ã€‚8.*errorPage:æŒ‡ç¤ºå½“å‰é¡µé¢å‡ºé”™åè½¬å‘ï¼ˆè½¬å‘ï¼‰çš„é¡µé¢ã€‚ &gt; é…ç½®å…¨å±€é”™è¯¯æç¤ºé¡µé¢ï¼š &gt; web.xml æ–‡ä»¶ä¸­æ·»åŠ ï¼š &lt;error-page&gt; &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt; &lt;location&gt;/error.jsp&lt;/location&gt; &lt;/error-page&gt; &lt;error-page&gt; &lt;error-code&gt;404&lt;/error-code&gt; &lt;location&gt;/404.jsp&lt;/location&gt; &lt;/error-page&gt;9.*isErrorPage:æŒ‡ç¤ºå½“å‰é¡µé¢æ˜¯å¦äº§ç”Ÿ Exception å¯¹è±¡ã€‚10.*contentTypeï¼šæŒ‡å®šå½“å‰é¡µé¢çš„ MIME ç±»å‹ã€‚ä½œç”¨ä¸ Servlet ä¸­çš„response.setContentType() ä½œç”¨å®Œå…¨ä¸€è‡´11.*pageEncodingï¼šé€šçŸ¥å¼•æ“è¯»å– JSP æ—¶é‡‡ç”¨çš„ç¼–ç ï¼ˆå› ä¸ºè¦ç¿»è¯‘ï¼‰12.*isELIgnoredï¼šæ˜¯å¦å¿½ç•¥ELè¡¨è¾¾å¼ã€‚${1+1}ã€‚é»˜è®¤å€¼æ˜¯falseã€‚ page æŒ‡ä»¤æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼ï¼š&lt;%@ page pageEncoding=&quot;UTF-8&quot;%&gt; â€”â€”ã€includeã€‘â€”â€” ä½œç”¨ï¼šåŒ…å«å…¶ä»–çš„ç»„ä»¶ è¯­æ³•ï¼š&lt;%@include file=&quot;&quot;%&gt;file æŒ‡å®šè¦åŒ…å«çš„ç›®æ ‡ç»„ä»¶ã€‚è·¯å¾„å¦‚æœä»¥ â€œ/â€œï¼ˆå½“å‰åº”ç”¨ï¼‰å°±æ˜¯ç»å¯¹è·¯å¾„ã€‚ åŸç†ï¼šæŠŠç›®æ ‡ç»„ä»¶çš„å†…å®¹åŠ åˆ°æºç»„ä»¶ä¸­ï¼Œè¾“å‡ºç»“æœã€‚ é™æ€åŒ…å«å’ŒåŠ¨æ€åŒ…å«çš„åŒºåˆ«ï¼š é™æ€åŒ…å«ï¼š&lt;%@include file=&quot;è¢«åŒ…å«çš„é¡µé¢çš„è·¯å¾„&quot;%&gt; åŒ…å«çš„æ—¶æœºï¼šåœ¨ JSP æ–‡ä»¶è¢«ç¿»è¯‘çš„æ—¶å€™åˆå¹¶åœ¨ä¸€èµ·æœ€ç»ˆä¼šè¢«ç¿»è¯‘æˆä¸€ä¸ª class æ–‡ä»¶ åŠ¨æ€åŒ…å«ï¼š&lt;jsp:include page=&quot;è¢«åŒ…å«é¡µé¢çš„è·¯å¾„&quot;&gt;&lt;/jsp:include&gt; åŒ…å«çš„æ—¶æœºï¼šåœ¨è¿è¡Œé˜¶æ®µåˆå¹¶ä»£ç æœ€ç»ˆå°†å¾—åˆ°ä¸¤ä¸ª class æ–‡ä»¶ æ€»ç»“ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œèƒ½ç”¨é™çš„å°±åˆ«ç”¨åŠ¨çš„ â€”â€”ã€taglibã€‘â€”â€” ä½œç”¨ï¼šå¼•å…¥å¤–éƒ¨çš„æ ‡ç­¾ è¯­æ³•ï¼š&lt;%@taglib uri=&quot;æ ‡ç­¾åç§°ç©ºé—´&quot; prefix=&quot;å‰ç¼€&quot;%&gt;ä¾‹å¦‚ï¼š&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt; JSP ä¹å¤§å†…ç½®å¯¹è±¡å†…ç½®å¯¹è±¡ï¼šJSP ä¸­äº‹å…ˆåˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ åç§° ç±»å‹ æè¿° pageContext PageContext è¡¨ç¤ºå½“å‰çš„JSPå¯¹è±¡ request HttpServletRequest è¡¨ç¤ºä¸€æ¬¡è¯·æ±‚å¯¹è±¡ session HttpSession è¡¨ç¤ºä¸€æ¬¡ä¼šè¯å¯¹è±¡,session=â€trueâ€ application ServletContext è¡¨ç¤ºå½“å‰åº”ç”¨å¯¹è±¡ response HttpServletResponse è¡¨ç¤ºä¸€æ¬¡å“åº”å¯¹è±¡ exception Throwable è¡¨ç¤ºå¼‚å¸¸å¯¹è±¡,isErrorPage=â€trueâ€ config ServletConfig è¡¨ç¤ºå½“å‰JSPçš„é…ç½®å¯¹è±¡ out JspWriter è¡¨ç¤ºä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡ page Object è¡¨ç¤ºå½“å‰é¡µé¢ JSP å››å¤§ä½œç”¨åŸŸ åç§° ç±»å‹ æè¿° pageContext PageContext è¡¨ç¤ºå½“å‰çš„JSPå¯¹è±¡ request HttpServletRequest è¡¨ç¤ºä¸€æ¬¡è¯·æ±‚å¯¹è±¡ session HttpSession è¡¨ç¤ºä¸€æ¬¡ä¼šè¯å¯¹è±¡,session=â€trueâ€ application ServletContext è¡¨ç¤ºå½“å‰åº”ç”¨å¯¹è±¡ ELï¼ˆè¡¨è¾¾å¼è¯­è¨€ï¼‰ éœ€æ±‚ï¼šä»ä½œç”¨åŸŸä¸­è·å–å…±äº«æ•°æ®,å¦‚æœæ²¡æœ‰å¯¹åº”çš„æ•°æ®,è¿”å›ç©ºå­—ç¬¦ä¸²åœ¨PageContextä¸­æä¾›äº†ä¸‹é¢çš„æ–¹æ³•:abstract Object findAttribute(String name)æ¥è·å–å…±äº«æ•°æ®ï¼Œä»pageï¼Œrequestï¼Œsessionï¼Œapplicationä½œç”¨åŸŸä¸­æŒ‰é¡ºåºæœç´¢,å¦‚æœæ‰¾åˆ°ç«‹å³è¿”å›,åä¹‹,è¿”å›null æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å®Œæˆè¦æ±‚ï¼š&lt;%=pageContext.findAttribute(&quot;msg&quot;)==null?&quot;&quot;:pageContext.findAttribute(&quot;msg&quot;) %&gt;è¿™æ ·çš„ä»£ç è™½ç„¶èƒ½å¤Ÿå®Œæˆéœ€æ±‚ï¼Œä½†æ˜¯æ€»çš„æ¥è¯´ï¼šå¤ªéº»çƒ¦ï¼ å¦‚æœæˆ‘ä»¬ä½¿ç”¨ EL è¡¨è¾¾å¼ï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ${msg}ç­‰ä»·äº&lt;%=pageContext.findAttribute(&quot;msg&quot;)==null?&quot;&quot;:pageContext.findAttribute(&quot;msg&quot;) %&gt;è¿™æ ·çœ‹èµ·æ¥å°±ç®€å•å¤šäº†ï¼ ELçš„ç‰¹ç‚¹ï¼š 1.ä»ä½œç”¨åŸŸä¸­è·å–å…±äº«æ•°æ®2.ä»page,request,session,applicationä½œç”¨åŸŸä¸­æŒ‰é¡ºåºæœç´¢3.å¦‚æœå…±äº«æ•°æ®ä¸ºnull,å°±è¾“å‡ºç©ºå­—ç¬¦ä¸²ï¼ˆè¿™æ˜¯ELæœ€é‡è¦çš„ç‰¹ç‚¹ï¼‰ ä½¿ç”¨ELè¡¨è¾¾å¼ä»æŒ‡å®šçš„ä½œç”¨åŸŸä¸­è·å–å…±äº«æ•°æ®: ä½¿ç”¨ELè¡¨è¾¾å¼è®¿é—®å¯¹è±¡çš„å±æ€§çš„ä¸¤ç§æ–¹å¼ï¼š 1.${å¯¹è±¡.å±æ€§å} :é€šå¸¸ä½¿ç”¨è¿™ç§æ–¹å¼,å±æ€§åæ¯”è¾ƒè§„èŒƒ2.${å¯¹è±¡[â€œå±æ€§åâ€]} :å½“å±æ€§åä¸è§„èŒƒçš„æ—¶å€™ä½¿ç”¨è¿™ç§æ–¹å¼,æ¯”å¦‚:name-age ä½¿ç”¨Elè¡¨è¾¾å¼è·å–åº”ç”¨çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼šåœ¨ELè¡¨è¾¾å¼ä¸­æœ‰ä¸€ä¸ªéšå«çš„å¯¹è±¡pageContextè€Œåœ¨pageContextä¸­æœ‰ä¸€ä¸ªrequestå±æ€§,åœ¨requestå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªcontextPathå±æ€§,é‚£ä¹ˆè·å–contextPageçš„æ–¹æ³•:${pageContext.request.contextPath}åœ¨ Tomcat 7 ä»¥å,ELè¡¨è¾¾å¼ä¸ä»…æ”¯æŒå±æ€§çš„è®¿é—®,è€Œä¸”è¿˜æ”¯æŒè®¿é—®æ–¹æ³•${pageContext.getRequest().getContextPath()} empty è¿ç®—ç¬¦ï¼šempty è¿ç®—ç¬¦ä¸»è¦ç”¨æ¥åˆ¤æ–­å€¼æ˜¯å¦ä¸ºç©ºï¼ˆNULL,ç©ºå­—ç¬¦ä¸²ï¼Œç©ºé›†åˆï¼‰ï¼Œè¿”å› true / false JSTL ä½œç”¨ï¼šæ¶ˆé™¤ JSP ä¸­çš„ Java ä»£ç  åœ¨ JSP ä¸­ä½¿ç”¨ JSTL çš„æ­¥éª¤ï¼š 1.å¼•å…¥å…¥jaråŒ…ï¼šåœ¨ Tomcat ä¸­çš„å®ä¾‹é¡¹ç›® examples ä¸­æ‰¾åˆ°å¯¹åº”çš„ä¸¤ä¸ªjaråŒ…standard-1.1.2.jar ï¼Œjstl-1.1.2.jar2.åœ¨å¯¹åº”çš„ JSP é¡µé¢ä¸­å¼•å…¥è¦ä½¿ç”¨çš„æ ‡ç­¾åº“,æ¯”å¦‚å¼•å…¥æ ¸å¿ƒæ ‡ç­¾åº“&lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt; ä¸‹é¢åˆ—å‡º JSTL ä¸»è¦æä¾›çš„ 5 å¤§ç±»æ ‡ç­¾åº“ï¼ˆæ¬è‡ªèœé¸Ÿæ•™ç¨‹ï¼‰ï¼Œå…ˆå¯¹è¿™äº›æ ‡ç­¾åˆæ­¥æœ‰ä¸€ä¸ªå°è±¡ï¼Œç„¶åä¸‹é¢ç»™ä¸€äº›å¸¸ç”¨çš„æ ‡ç­¾çš„ä¸€äº›ç”¨æ³•ã€‚ JSTL æ ¸å¿ƒæ ‡ç­¾ æ ¸å¿ƒæ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„JSTLæ ‡ç­¾ã€‚å¼•ç”¨æ ¸å¿ƒæ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; æ ‡ç­¾ æè¿° &lt;c:out&gt; ç”¨äºåœ¨JSPä¸­æ˜¾ç¤ºæ•°æ®ï¼Œå°±åƒ&lt;%= â€¦ &gt; &lt;c:set&gt; ç”¨äºä¿å­˜æ•°æ® &lt;c:remove&gt; ç”¨äºåˆ é™¤æ•°æ® &lt;c:catch&gt; ç”¨æ¥å¤„ç†äº§ç”Ÿé”™è¯¯çš„å¼‚å¸¸çŠ¶å†µï¼Œå¹¶ä¸”å°†é”™è¯¯ä¿¡æ¯å‚¨å­˜èµ·æ¥ &lt;c:if&gt; ä¸æˆ‘ä»¬åœ¨ä¸€èˆ¬ç¨‹åºä¸­ç”¨çš„ifä¸€æ · &lt;c:choose&gt; æœ¬èº«åªå½“åš&lt;c:when&gt;å’Œ&lt;c:otherwise&gt;çš„çˆ¶æ ‡ç­¾ &lt;c:when&gt; &lt;c:choose&gt;çš„å­æ ‡ç­¾ï¼Œç”¨æ¥åˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ &lt;c:otherwise&gt; &lt;c:choose&gt;çš„å­æ ‡ç­¾ï¼Œæ¥åœ¨&lt;c:when&gt;æ ‡ç­¾åï¼Œå½“&lt;c:when&gt;æ ‡ç­¾åˆ¤æ–­ä¸ºfalseæ—¶è¢«æ‰§è¡Œ &lt;c:import&gt; æ£€ç´¢ä¸€ä¸ªç»å¯¹æˆ–ç›¸å¯¹ URLï¼Œç„¶åå°†å…¶å†…å®¹æš´éœ²ç»™é¡µé¢ &lt;c:forEach&gt; åŸºç¡€è¿­ä»£æ ‡ç­¾ï¼Œæ¥å—å¤šç§é›†åˆç±»å‹ &lt;c:forTokens&gt; æ ¹æ®æŒ‡å®šçš„åˆ†éš”ç¬¦æ¥åˆ†éš”å†…å®¹å¹¶è¿­ä»£è¾“å‡º &lt;c:param&gt; ç”¨æ¥ç»™åŒ…å«æˆ–é‡å®šå‘çš„é¡µé¢ä¼ é€’å‚æ•° &lt;c:redirect&gt; é‡å®šå‘è‡³ä¸€ä¸ªæ–°çš„URL. &lt;c:url&gt; ä½¿ç”¨å¯é€‰çš„æŸ¥è¯¢å‚æ•°æ¥åˆ›é€ ä¸€ä¸ªURL #### æ ¼å¼åŒ–æ ‡ç­¾ JSTLæ ¼å¼åŒ–æ ‡ç­¾ç”¨æ¥æ ¼å¼åŒ–å¹¶è¾“å‡ºæ–‡æœ¬ã€æ—¥æœŸã€æ—¶é—´ã€æ•°å­—ã€‚å¼•ç”¨æ ¼å¼åŒ–æ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š ``` &lt;%@ taglib prefix=â€fmtâ€ uri=â€http://java.sun.com/jsp/jstl/fmt&quot; %&gt; ``` æ ‡ç­¾ æè¿° :- :- fmt:formatNumber ä½¿ç”¨æŒ‡å®šçš„æ ¼å¼æˆ–ç²¾åº¦æ ¼å¼åŒ–æ•°å­— fmt:parseNumber è§£æä¸€ä¸ªä»£è¡¨ç€æ•°å­—ï¼Œè´§å¸æˆ–ç™¾åˆ†æ¯”çš„å­—ç¬¦ä¸² fmt:formatDate ä½¿ç”¨æŒ‡å®šçš„é£æ ¼æˆ–æ¨¡å¼æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ fmt:parseDate è§£æä¸€ä¸ªä»£è¡¨ç€æ—¥æœŸæˆ–æ—¶é—´çš„å­—ç¬¦ä¸² fmt:bundle ç»‘å®šèµ„æº fmt:setLocale æŒ‡å®šåœ°åŒº fmt:setBundle ç»‘å®šèµ„æº fmt:timeZone æŒ‡å®šæ—¶åŒº fmt:setTimeZone æŒ‡å®šæ—¶åŒº fmt:message æ˜¾ç¤ºèµ„æºé…ç½®æ–‡ä»¶ä¿¡æ¯ fmt:requestEncoding è®¾ç½®requestçš„å­—ç¬¦ç¼–ç  SQLæ ‡ç­¾JSTL SQLæ ‡ç­¾åº“æä¾›äº†ä¸å…³ç³»å‹æ•°æ®åº“ï¼ˆOracleï¼ŒMySQLï¼ŒSQL Serverç­‰ç­‰ï¼‰è¿›è¡Œäº¤äº’çš„æ ‡ç­¾ã€‚å¼•ç”¨SQLæ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š &lt;%@ taglib prefix=&quot;sql&quot; uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; %&gt; æ ‡ç­¾ æè¿° sql:setDataSource æŒ‡å®šæ•°æ®æº sql:query è¿è¡ŒSQLæŸ¥è¯¢è¯­å¥ sql:update è¿è¡ŒSQLæ›´æ–°è¯­å¥ sql:param å°†SQLè¯­å¥ä¸­çš„å‚æ•°è®¾ä¸ºæŒ‡å®šå€¼ sql:dateParam å°†SQLè¯­å¥ä¸­çš„æ—¥æœŸå‚æ•°è®¾ä¸ºæŒ‡å®šçš„java.util.Date å¯¹è±¡å€¼ sql:transaction åœ¨å…±äº«æ•°æ®åº“è¿æ¥ä¸­æä¾›åµŒå¥—çš„æ•°æ®åº“è¡Œä¸ºå…ƒç´ ï¼Œå°†æ‰€æœ‰è¯­å¥ä»¥ä¸€ä¸ªäº‹åŠ¡çš„å½¢å¼æ¥è¿è¡Œ XML æ ‡ç­¾JSTL XMLæ ‡ç­¾åº“æä¾›äº†åˆ›å»ºå’Œæ“ä½œXMLæ–‡æ¡£çš„æ ‡ç­¾ã€‚å¼•ç”¨XMLæ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š &lt;%@ taglib prefix=&quot;x&quot; uri=&quot;http://java.sun.com/jsp/jstl/xml&quot; %&gt;åœ¨ä½¿ç”¨xmlæ ‡ç­¾å‰ï¼Œä½ å¿…é¡»å°†XML å’Œ XPath çš„ç›¸å…³åŒ…æ‹·è´è‡³ä½ çš„&lt;Tomcat å®‰è£…ç›®å½•&gt;\\libä¸‹: XercesImpl.jar ä¸‹è½½åœ°å€ï¼š http://www.apache.org/dist/xerces/j/ xalan.jar ä¸‹è½½åœ°å€ï¼š http://xml.apache.org/xalan-j/index.html æ ‡ç­¾ æè¿° &lt;x:out&gt; ä¸&lt;%= â€¦ &gt;,ç±»ä¼¼ï¼Œä¸è¿‡åªç”¨äºXPathè¡¨è¾¾å¼ &lt;x:parse&gt; è§£æ XML æ•°æ® &lt;x:set&gt; è®¾ç½®XPathè¡¨è¾¾å¼ &lt;x:if&gt; åˆ¤æ–­XPathè¡¨è¾¾å¼ï¼Œè‹¥ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œæœ¬ä½“ä¸­çš„å†…å®¹ï¼Œå¦åˆ™è·³è¿‡æœ¬ä½“ &lt;x:forEach&gt; è¿­ä»£XMLæ–‡æ¡£ä¸­çš„èŠ‚ç‚¹ &lt;x:choose&gt; &lt;x:when&gt;å’Œ&lt;x:otherwise&gt;çš„çˆ¶æ ‡ç­¾ &lt;x:when&gt; &lt;x:choose&gt;çš„å­æ ‡ç­¾ï¼Œç”¨æ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­ &lt;x:otherwise&gt; &lt;x:choose&gt;çš„å­æ ‡ç­¾ï¼Œå½“&lt;x:when&gt;åˆ¤æ–­ä¸ºfalseæ—¶è¢«æ‰§è¡Œ &lt;x:transform&gt; å°†XSLè½¬æ¢åº”ç”¨åœ¨XMLæ–‡æ¡£ä¸­ &lt;x:param&gt; ä¸&lt;x:transform&gt;å…±åŒä½¿ç”¨ï¼Œç”¨äºè®¾ç½®XSLæ ·å¼è¡¨ JSTLå‡½æ•°JSTLåŒ…å«ä¸€ç³»åˆ—æ ‡å‡†å‡½æ•°ï¼Œå¤§éƒ¨åˆ†æ˜¯é€šç”¨çš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•°ã€‚å¼•ç”¨JSTLå‡½æ•°åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š &lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt; å‡½æ•° æè¿° fn:contains() æµ‹è¯•è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­ä¸² fn:containsIgnoreCase() æµ‹è¯•è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­ä¸²ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ fn:endsWith() æµ‹è¯•è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾ fn:escapeXml() è·³è¿‡å¯ä»¥ä½œä¸ºXMLæ ‡è®°çš„å­—ç¬¦ fn:indexOf() è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨è¾“å…¥å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ä½ç½® fn:join() å°†æ•°ç»„ä¸­çš„å…ƒç´ åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ç„¶åè¾“å‡º fn:length() è¿”å›å­—ç¬¦ä¸²é•¿åº¦ fn:replace() å°†è¾“å…¥å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„ä½ç½®æ›¿æ¢ä¸ºæŒ‡å®šçš„å­—ç¬¦ä¸²ç„¶åè¿”å› fn:split() å°†å­—ç¬¦ä¸²ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”ç„¶åç»„æˆä¸€ä¸ªå­å­—ç¬¦ä¸²æ•°ç»„å¹¶è¿”å› fn:startsWith() æµ‹è¯•è¾“å…¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹ fn:substring() è¿”å›å­—ç¬¦ä¸²çš„å­é›† fn:substringAfter() è¿”å›å­—ç¬¦ä¸²åœ¨æŒ‡å®šå­ä¸²ä¹‹åçš„å­é›† fn:substringBefore() è¿”å›å­—ç¬¦ä¸²åœ¨æŒ‡å®šå­ä¸²ä¹‹å‰çš„å­é›† fn:toLowerCase() å°†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦è½¬ä¸ºå°å†™ fn:toUpperCase() å°†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦è½¬ä¸ºå¤§å†™ fn:trim() ç§»é™¤é¦–ä½çš„ç©ºç™½ç¬¦ JSTL ä¸­å¸¸ç”¨çš„æ ‡ç­¾1.é€»è¾‘åˆ¤æ–­æ ‡ç­¾(if,choose-when-otherwise) &lt;c:if&gt; æ ‡ç­¾ è¯­æ³•æ ¼å¼&lt;c:if test=&quot;&lt;boolean&gt;&quot; var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;&gt; ... &lt;/c:if&gt; å±æ€§&lt;c:if&gt;æ ‡ç­¾æœ‰å¦‚ä¸‹å±æ€§ï¼š å±æ€§ æè¿° æ˜¯å¦å¿…è¦ é»˜è®¤å€¼ test æ¡ä»¶ æ˜¯ æ—  var ç”¨äºå­˜å‚¨æ¡ä»¶ç»“æœçš„å˜é‡ å¦ æ—  scope varå±æ€§çš„ä½œç”¨åŸŸ å¦ page - æ¼”ç¤ºå®ä¾‹ï¼š ``` &lt;%@ page language=â€javaâ€ contentType=â€text/html; charset=UTF-8â€ pageEncoding=â€UTF-8â€%&gt; &lt;%@ taglib uri=â€http://java.sun.com/jsp/jstl/core&quot; prefix=â€câ€ %&gt; c:if æ ‡ç­¾å®ä¾‹ &lt;c:set var=â€salaryâ€ scope=â€sessionâ€ value=â€${2000*2}â€/&gt; &lt;c:if test=â€${salary &gt; 2000}â€&gt; æˆ‘çš„å·¥èµ„ä¸º: &lt;c:out value=â€${salary}â€/&gt; ``` è¿è¡Œç»“æœå¦‚ä¸‹ï¼š ``` æˆ‘çš„å·¥èµ„ä¸º: 4000 ``` &lt;c:choose&gt;, &lt;c:when&gt;, &lt;c:otherwise&gt; æ ‡ç­¾&lt;c:choose&gt;æ ‡ç­¾ä¸ Java switch è¯­å¥çš„åŠŸèƒ½ä¸€æ ·ï¼Œç”¨äºåœ¨ä¼—å¤šé€‰é¡¹ä¸­åšå‡ºé€‰æ‹©ã€‚switch è¯­å¥ä¸­æœ‰ case ï¼Œè€Œ&lt;c:choose&gt;æ ‡ç­¾ä¸­å¯¹åº”æœ‰ &lt;c:when&gt;ï¼Œswitchè¯­å¥ä¸­æœ‰ defaultï¼Œè€Œ&lt;c:choose&gt;æ ‡ç­¾ä¸­æœ‰&lt;c:otherwise&gt;ã€‚ è¯­æ³•æ ¼å¼&lt;c:choose&gt; &lt;c:when test=&quot;&lt;boolean&gt;&quot;&gt; ... &lt;/c:when&gt; &lt;c:when test=&quot;&lt;boolean&gt;&quot;&gt; ... &lt;/c:when&gt; ... ... &lt;c:otherwise&gt; ... &lt;/c:otherwise&gt; &lt;/c:choose&gt; å±æ€§&lt;c:choose&gt;æ ‡ç­¾æ²¡æœ‰å±æ€§ã€‚&lt;c:when&gt;æ ‡ç­¾åªæœ‰ä¸€ä¸ªå±æ€§ï¼Œåœ¨ä¸‹è¡¨ä¸­æœ‰ç»™å‡ºã€‚&lt;c:otherwise&gt;æ ‡ç­¾æ²¡æœ‰å±æ€§ã€‚&lt;c:when&gt;æ ‡ç­¾çš„å±æ€§å¦‚ä¸‹ï¼š å±æ€§ æè¿° æ˜¯å¦å¿…è¦ é»˜è®¤å€¼ test æ¡ä»¶ æ˜¯ æ—  å®ä¾‹æ¼”ç¤º&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt; &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;c:choose æ ‡ç­¾å®ä¾‹&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;c:set var=&quot;salary&quot; scope=&quot;session&quot; value=&quot;${2000*2}&quot;/&gt; &lt;p&gt;ä½ çš„å·¥èµ„ä¸º : &lt;c:out value=&quot;${salary}&quot;/&gt;&lt;/p&gt; &lt;c:choose&gt; &lt;c:when test=&quot;${salary &lt;= 0}&quot;&gt; å¤ªæƒ¨äº†ã€‚ &lt;/c:when&gt; &lt;c:when test=&quot;${salary &gt; 1000}&quot;&gt; ä¸é”™çš„è–ªæ°´ï¼Œè¿˜èƒ½ç”Ÿæ´»ã€‚ &lt;/c:when&gt; &lt;c:otherwise&gt; ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚ &lt;/c:otherwise&gt; &lt;/c:choose&gt; &lt;/body&gt; &lt;/html&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼šä½ çš„å·¥èµ„ä¸º : 4000 ä¸é”™çš„è–ªæ°´ï¼Œè¿˜èƒ½ç”Ÿæ´»ã€‚ **2.å¾ªç¯éå†æ ‡ç­¾(foreach)** - **&lt;c:forEach&gt;æ ‡ç­¾** - è¯­æ³•æ ¼å¼&lt;c:forEach items=â€â€œ begin=â€â€œ end=â€â€œ step=â€â€œ var=â€â€œ varStatus=â€â€œ&gt; ...- å±æ€§ `&lt;c:forEach&gt;`æ ‡ç­¾æœ‰å¦‚ä¸‹å±æ€§ï¼š å±æ€§ | æè¿° | æ˜¯å¦å¿…è¦| é»˜è®¤å€¼ :- | :- | :- | :- | items | è¦è¢«å¾ªç¯çš„ä¿¡æ¯ | å¦ | æ—  begin | å¼€å§‹çš„å…ƒç´ ï¼ˆ0=ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ1=ç¬¬äºŒä¸ªå…ƒç´ ï¼‰| å¦ | 0 end | æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆ0=ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ1=ç¬¬äºŒä¸ªå…ƒç´ ï¼‰| å¦ | Last element step | æ¯ä¸€æ¬¡è¿­ä»£çš„æ­¥é•¿| å¦ | 1 var | ä»£è¡¨å½“å‰æ¡ç›®çš„å˜é‡åç§° | å¦ | æ—  varStatus | ä»£è¡¨å¾ªç¯çŠ¶æ€çš„å˜é‡åç§° | å¦ | æ—  - å®ä¾‹æ¼”ç¤º&lt;%@ page language=â€javaâ€ contentType=â€text/html; charset=UTF-8â€ pageEncoding=â€UTF-8â€%&gt;&lt;%@ taglib uri=â€http://java.sun.com/jsp/jstl/core&quot; prefix=â€câ€ %&gt; c:forEach æ ‡ç­¾å®ä¾‹ Item ``` è¿è¡Œç»“æœå¦‚ä¸‹ï¼š ``` Item 1 Item 2 Item 3 Item 4 Item 5 ``` 3.åœ¨ JSP ä¸­å®ç°æ—¥æœŸçš„æ ¼å¼åŒ–: fmt:formatDate æ ‡ç­¾ è¯­æ³•æ ¼å¼&lt;fmt:formatDate value=&quot;&lt;string&gt;&quot; type=&quot;&lt;string&gt;&quot; dateStyle=&quot;&lt;string&gt;&quot; timeStyle=&quot;&lt;string&gt;&quot; pattern=&quot;&lt;string&gt;&quot; timeZone=&quot;&lt;string&gt;&quot; var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;/&gt; å±æ€§&lt;fmt:formatDate&gt;æ ‡ç­¾æœ‰å¦‚ä¸‹å±æ€§ï¼š å±æ€§ æè¿° æ˜¯å¦å¿…è¦ é»˜è®¤å€¼ value è¦æ˜¾ç¤ºçš„æ—¥æœŸ æ˜¯ æ—  type DATE, TIME, æˆ– BOTH å¦ date dateStyle FULL, LONG, MEDIUM, SHORT, æˆ– DEFAULT å¦ default timeStyle FULL, LONG, MEDIUM, SHORT, æˆ– DEFAULT å¦ default pattern è‡ªå®šä¹‰æ ¼å¼æ¨¡å¼ å¦ æ—  timeZone æ˜¾ç¤ºæ—¥æœŸçš„æ—¶åŒº å¦ é»˜è®¤æ—¶åŒº var å­˜å‚¨æ ¼å¼åŒ–æ—¥æœŸçš„å˜é‡å å¦ æ˜¾ç¤ºåœ¨é¡µé¢ scope å­˜å‚¨æ ¼å¼åŒ–æ—¥å¿—å˜é‡çš„èŒƒå›´ å¦ é¡µé¢ å®ä¾‹æ¼”ç¤º&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt; &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; &lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt; JSTL fmt:dateNumber æ ‡ç­¾ æ—¥æœŸæ ¼å¼åŒ–: æ—¥æœŸæ ¼å¼åŒ– (1): æ—¥æœŸæ ¼å¼åŒ– (2): æ—¥æœŸæ ¼å¼åŒ– (3): æ—¥æœŸæ ¼å¼åŒ– (4): æ—¥æœŸæ ¼å¼åŒ– (5): æ—¥æœŸæ ¼å¼åŒ– (6): æ—¥æœŸæ ¼å¼åŒ– (7): ``` ä»¥ä¸Šå®ä¾‹è¿è¡Œç»“æœï¼š ``` æ—¥æœŸæ ¼å¼åŒ–: æ—¥æœŸæ ¼å¼åŒ– (1): 11:19:43 æ—¥æœŸæ ¼å¼åŒ– (2): 2016-6-26 æ—¥æœŸæ ¼å¼åŒ– (3): 2016-6-26 11:19:43 æ—¥æœŸæ ¼å¼åŒ– (4): 16-6-26 ä¸Šåˆ11:19 æ—¥æœŸæ ¼å¼åŒ– (5): 2016-6-26 11:19:43 æ—¥æœŸæ ¼å¼åŒ– (6): 2016å¹´6æœˆ26æ—¥ ä¸Šåˆ11æ—¶19åˆ†43ç§’ æ—¥æœŸæ ¼å¼åŒ– (7): 2016-06-26 --- &gt; æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ &gt; ç®€ä¹¦IDï¼š[@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„](https://www.jianshu.com/u/a40d61a49221) &gt; githubï¼š[wmyskxz](https://github.com/wmyskxz/) &gt; æ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz &gt; åˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´» &gt; æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(5)â€”â€”Cookie-Sessionå­¦ä¹ ","slug":"åˆå­¦Java-Web-5-â€”â€”Cookie-Sessionå­¦ä¹ ","date":"2018-04-07T01:01:00.000Z","updated":"2020-08-03T08:42:42.786Z","comments":true,"path":"2018/04/07/chu-xue-java-web-5-cookie-session-xue-xi/","link":"","permalink":"http://www.wmyskxz.com/2018/04/07/chu-xue-java-web-5-cookie-session-xue-xi/","excerpt":"","text":"HTTP åè®®Web æµè§ˆå™¨ä¸ Web æœåŠ¡å™¨ä¹‹é—´çš„ä¸€é—®ä¸€ç­”çš„äº¤äº’è¿‡ç¨‹å¿…é¡»éµå®ˆä¸€å®šçš„è§„åˆ™ï¼Œè¿™æ ·çš„è§„åˆ™å°±æ˜¯ HTTP åè®®ã€‚ HTTP æ˜¯ hypertext transfer protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç®€å†™ï¼Œå®ƒæ˜¯ TCP/IP åè®®ä¹‹ä¸Šçš„ä¸€ä¸ªåº”ç”¨å±‚çš„åè®®ï¼Œç”¨äºå®šä¹‰ Web æµè§ˆå™¨ä¸ Web æœåŠ¡å™¨ä¹‹é—´äº¤äº’æ•°æ®çš„è¿‡ç¨‹ä»¥åŠæ•°æ®æœ¬èº«çš„æ ¼å¼ã€‚ ç‰¹ç‚¹ï¼šæ— çŠ¶æ€ï¼Œé»˜è®¤ç«¯å£ 80 HTTP åè®®åˆ°åº•çº¦æŸäº†ä»€ä¹ˆï¼Ÿ çº¦æŸäº†æµè§ˆå™¨ä»¥ä½•ç§æ ¼å¼å‘æœåŠ¡ç«¯å‘é€æ•°æ® çº¦æŸäº†æœåŠ¡å™¨åº”è¯¥ä»¥ä½•ç§æ ¼å¼æ¥æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„æ•°æ® çº¦æŸäº†æœåŠ¡å™¨åº”è¯¥ä»¥ä½•ç§æ ¼å¼æ¥åé¦ˆæ•°æ®ç»™æµè§ˆå™¨ çº¦æŸäº†æµè§ˆå™¨åº”è¯¥ä»¥ä½•ç§æ ¼å¼æ¥æ¥æ”¶æœåŠ¡å™¨çš„åé¦ˆæ•°æ® æ€»ç»“ï¼šæµè§ˆå™¨ç»™æœåŠ¡å™¨å‘é€æ•°æ®:ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨ç»™æµè§ˆå™¨åé¦ˆæ•°æ®:ä¸€æ¬¡å“åº” HTTP æ— çŠ¶æ€åè®®HTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è®°å¿†åŠ›ï¼Œè¿™æ„å‘³ç€æ¯ä¸€æ¬¡çš„è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»è¦é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±å¾ˆå¿«ã€‚ HTTP çš„è¿™ç§ç‰¹æ€§æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šè§£æ”¾äº†æœåŠ¡å™¨ï¼Œæ¯ä¸€æ¬¡çš„è¯·æ±‚â€œç‚¹åˆ°ä¸ºæ­¢â€ï¼Œä¸ä¼šé€ æˆä¸å¿…è¦çš„è¿æ¥å ç”¨ã€‚ ç¼ºç‚¹ï¼šæ¯æ¬¡è¯·æ±‚ä¼šä¼ è¾“å¤§é‡é‡å¤çš„å†…å®¹ä¿¡æ¯ï¼Œå¹¶ä¸”ï¼Œåœ¨è¯·æ±‚ä¹‹é—´æ— æ³•å®ç°æ•°æ®çš„å…±äº«ã€‚ ä¸»è¦é—®é¢˜ï¼šè¯·æ±‚ä¹‹é—´æ— æ³•å®ç°æ•°æ®çš„å…±äº« è§£å†³æ–¹æ¡ˆï¼š 1.ä½¿ç”¨å‚æ•°ä¼ é€’æœºåˆ¶ï¼šå°†å‚æ•°æ‹¼æ¥åœ¨è¯·æ±‚çš„ URL åé¢ï¼Œå®ç°æ•°æ®çš„ä¼ é€’ï¼ˆGETæ–¹å¼ï¼‰ï¼Œä¾‹å¦‚ï¼š/param/list?username=wmyskxzé—®é¢˜ï¼šå¯ä»¥è§£å†³æ•°æ®å…±äº«çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸€ä¸å®‰å…¨ï¼ŒäºŒæ•°æ®å…è®¸ä¼ è¾“é‡åªæœ‰1kb2.ä½¿ç”¨CookieæŠ€æœ¯3.ä½¿ç”¨SessionæŠ€æœ¯ Cookie æŠ€æœ¯ ç‰¹ç‚¹ï¼šå®¢æˆ·ç«¯çš„æŠ€æœ¯ï¼Œå°†å…±äº«æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¸­ è‹±æ–‡ç›´æ¥ç¿»è¯‘è¿‡æ¥å°±æ˜¯å°ç”œå“ï¼ŒCookie çš„ä½œç”¨å‘¢ï¼Œé€šä¿—çš„è¯´å°±æ˜¯å½“ä¸€ä¸ªç”¨æˆ·é€šè¿‡ HTTP è®¿é—®ä¸€ä¸ªæœåŠ¡å™¨æ—¶ï¼Œè¿™ä¸ªæœåŠ¡å™¨ä¼šå°†ä¸€äº› Key/Value é”®å€¼å¯¹è¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œå¹¶ç»™è¿™äº›æ•°æ®åŠ ä¸Šä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œåœ¨æ¡ä»¶ç¬¦åˆæ—¶è¿™ä¸ªç”¨æˆ·ä¸‹æ¬¡è®¿é—®è¿™ä¸ªæœåŠ¡å™¨æ—¶ï¼Œæ•°æ®åˆè¢«å®Œæ•´åœ°å¸¦å›ç»™æœåŠ¡å™¨ã€‚ è¿™ä¸ªä½œç”¨å°±åƒæ˜¯ä½ å»è¶…å¸‚è´­ç‰©æ—¶ï¼Œç¬¬ä¸€æ¬¡ç»™ä½ åŠäº†ä¸€å¼ è´­ç‰©å¡ï¼Œåœ¨è¿™ä¸ªè´­ç‰©å¡é‡Œå­˜æ”¾äº†ä¸€äº›ä½ çš„ä¸ªäººä¿¡æ¯ï¼Œä¸‹æ¬¡ä½ å†æ¥è¿™ä¸ªè¶…å¸‚çš„æ—¶å€™ï¼Œä½ å°±åªéœ€è¦å¸¦ä¸Šä½ çš„è´­ç‰©å¡ï¼Œç›´æ¥è´­ç‰©å°±å¥½äº†ã€‚ Cookie æ“ä½œ åˆ›å»º Cookie å¯¹è±¡ï¼Œè®¾ç½®å…±äº«æ•°æ®Cookie c = new Cookie(String name,String value); // ç›¸å½“äºåŠå¡ æ³¨æ„ï¼šä¸€ä¸ªCookieåªèƒ½å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®,ä¸èƒ½å­˜å‚¨å…¶ä»–ç±»å‹çš„æ•°æ® å°† Cookie å“åº”ç»™æµè§ˆå™¨responseå¯¹è±¡.addCookie(cookieå¯¹è±¡) // ç›¸å½“äºæŠŠå¡äº¤ç»™ç”¨æˆ· è·å–è¯·æ±‚ä¸­çš„ Cookie ä¿¡æ¯Cookie[] cs = requestå¯¹è±¡.getCookies(); for(Cookie c : cs){ if(â€œusernameâ€.equals(c.getName())){ String value = c.getValue(); } } ä¿®æ”¹ Cookie ä¸­çš„å…±äº«æ•°æ® é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ Cookieï¼Œåç§°è¦å’Œè¦ä¿®æ”¹çš„æ•°æ®ä¸€è‡´ ç°è·å–åˆ°è¦ä¿®æ”¹çš„ Cookie å¯¹è±¡ï¼Œå†è°ƒç”¨ setValue(String newValue) é‡æ–°è®¾ç½® æ³¨æ„ï¼šä¿®æ”¹ Cookie ä¸­çš„æ•°æ®ï¼Œéœ€è¦å†æ¬¡å‘é€ç»™æµè§ˆå™¨ï¼ˆç¬¬2ç‚¹ï¼‰ æ“ä½œ Cookie çš„ç”Ÿå‘½å‘¨æœŸ é»˜è®¤ï¼šåœ¨å…³é—­æµè§ˆå™¨çš„æ—¶å€™é”€æ¯ Cookie å¯¹è±¡ è¯­æ³•ï¼švoid setMaxAge(int expiry)expiry &gt; 0ï¼šè®¾ç½® Cookie å¯¹è±¡èƒ½å¤Ÿå­˜æ´» expiry ç§’ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨ï¼Œä¹Ÿä¸å½±å“ Cookie ä¸­çš„å…±äº«æ•°æ®ï¼Œæ¯”å¦‚è®¾ç½®ä¸€ä¸ªæœˆï¼šsetMaxAge(60*60*24*30);expiry = 0ï¼šç«‹å³åˆ é™¤å½“å‰çš„ Cookie ä¿¡æ¯expiry &lt; 0ï¼šå…³é—­æµè§ˆå™¨æ—¶é”€æ¯ åˆ é™¤ Cookie ä¸­çš„å…±äº«æ•°æ®é€šè¿‡setMaxAge(0)æ¥å®ç° Cookie ä¸­çš„ key å’Œ value ä¸æ”¯æŒä¸­æ–‡è®¾ç½® Cookie æ—¶éœ€è¦å¯¹ä¸­æ–‡å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ï¼š Cookie c = new Cookie(\"username\", URLEncoder.encode(username,\"UTF-8\")); åœ¨è·å– Cookie æ•°æ®çš„æ—¶å€™å†è¿›è¡Œè§£ç ï¼š username = URLDecoder.decode(value, \"UTF-8\"); Cookie çš„è·¯å¾„å’ŒåŸŸèŒƒå›´ Cookie çš„è·¯å¾„Cookie åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šæ ¹æ®å½“å‰çš„Servletçš„ç›¸å¯¹è·¯å¾„æ¥è®¾ç½®è‡ªå·±çš„è·¯å¾„ï¼Œæ¯”å¦‚ Servlet çš„url-patternä¸º /cookie/loginï¼Œç›¸å¯¹è·¯å¾„åˆ™ä¸ºï¼š/cookie/ å‡ºç°çš„é—®é¢˜ï¼šåªæœ‰åœ¨è®¿é—®è·¯å¾„ä¸º /cookie/ ä¸‹é¢çš„èµ„æºçš„æ—¶å€™ï¼Œæ‰ä¼šå°†è¯¥ Cookie å‘é€åˆ°æœåŠ¡å™¨ è§£å†³æ–¹æ¡ˆï¼šè®¾ç½® Cookie çš„è·¯å¾„ï¼švoid setPath(String uri)Cookieå¯¹è±¡.setPath(&quot;/&quot;); è¡¨ç¤ºå½“å‰åº”ç”¨ä¸­çš„æ‰€æœ‰çš„èµ„æºéƒ½èƒ½å¤Ÿå…±äº«è¯¥Cookieä¿¡æ¯ åŸŸèŒƒå›´ï¼šï¼ˆäº†è§£ï¼‰åœ¨å¤šä¸ªåº”ç”¨ä¹‹é—´å®ç°æ•°æ®çš„å…±äº«ï¼Œé‚£ä¹ˆå°±éœ€è¦è®¾ç½®åŸŸèŒƒå›´ï¼Œæ¯”å¦‚ï¼šwww.baidu.com / news.baidu.com / map.baidu.com è¯­æ³•ï¼šCookieå¯¹è±¡.setDomain(&quot;baidu.com&quot;); Cookie çš„ç¼ºé™·Cookie çš„ä½œç”¨å…¶å®å°±æ˜¯ä¸€ç§ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼Œä½†å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼š è·å– Cookie ä¿¡æ¯æ¯”è¾ƒéº»çƒ¦ Cookie ä¸æ”¯æŒä¸­æ–‡ ä¸€ä¸ª Cookie åªèƒ½å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ® Cookie åœ¨æµè§ˆå™¨ä¸­æœ‰å¤§å°å’Œæ•°é‡ä¸Šçš„é™åˆ¶ï¼ˆä¸åŒæµè§ˆå™¨å­˜åœ¨ä¸åŒçš„é™åˆ¶ï¼Œä¾‹å¦‚FireFoxä¸€ä¸ªç«™ç‚¹æœ€å¤šå­˜å‚¨50ä¸ª Cookie ï¼Œæµè§ˆå™¨æœ€å¤šå­˜å‚¨ 4097ä¸ªå­—å¤§å°çš„ Cookieï¼‰ å…±äº«æ•°æ®æ—¶ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œå®¹æ˜“é€ æˆæ•°æ®çš„æ³„éœ²ï¼Œä¸å®‰å…¨ æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼šå°†æ•°æ®ä¿å­˜åœ¨æœåŠ¡ç«¯ï¼ˆsessionï¼‰ Session æŠ€æœ¯Sessionï¼šä¼šè¯ï¼Œä»æµè§ˆå™¨æ‰“å¼€å¼€å§‹ï¼Œç›´åˆ°æµè§ˆå™¨å…³é—­ç»“æŸï¼Œæ— è®ºåœ¨è¿™ä¸ªç½‘ç«™ä¸­è®¿é—®äº†å¤šå°‘é¡µé¢ï¼Œç‚¹å‡»äº†å¤šå°‘é“¾æ¥ï¼Œéƒ½å±äºåŒä¸€ä¸ªä¼šè¯ã€‚Session ä¹Ÿå¯ä»¥ç§°ä¸ºä¼šè¯ Cookie ç‰¹ç‚¹ï¼šæœåŠ¡ç«¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ ç†è§£ Sessionå‰é¢å·²ç»ä»‹ç»äº† Cookie å¯ä»¥è®©æœåŠ¡ç«¯ç¨‹åºè·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ç«¯çš„è®¿é—®ï¼Œä½†æ˜¯æ¯æ¬¡å®¢æˆ·ç«¯çš„è®¿é—®éƒ½å¿…é¡»ä¼ å›è¿™äº› Cookieï¼Œå¦‚æœ Cookie å¾ˆå¤šï¼Œåˆ™æ— å½¢å¢åŠ äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ•°æ®ä¼ è¾“é‡ï¼Œè€Œ Session çš„å‡ºç°æ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åŒä¸€ä¸ªå®¢æˆ·ç«¯æ¯æ¬¡å’ŒæœåŠ¡ç«¯äº¤äº’æ—¶ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½ä¼ å›æ‰€æœ‰çš„ Cookie å€¼ï¼Œè€Œæ˜¯åªè¦ä¼ å›ä¸€ä¸ª IDï¼Œè¿™ä¸ª ID å°±æ˜¯å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨ç”Ÿæˆçš„ï¼Œè€Œä¸”æ¯ä¸ªå®¢æˆ·ç«¯æ˜¯å”¯ä¸€çš„ã€‚è¿™æ ·æ¯ä¸ªå®¢æˆ·ç«¯å°±æœ‰äº†ä¸€ä¸ªå”¯ä¸€çš„ IDï¼Œå®¢æˆ·ç«¯åªè¦ä¼ å›è¿™ä¸ª ID å°±è¡Œäº†ï¼Œè¿™ä¸ª ID é€šå¸¸æ˜¯ NAME ä¸º JSESIONID çš„ä¸€ä¸ª Cookieã€‚ Session åŸºæœ¬æ“ä½œ è·å– Session å¯¹è±¡requestå¯¹è±¡.getSession()å’Œå‚æ•°ä¸ºtrueçš„ä¸€æ ·requestå¯¹è±¡.getSession(true)è·å–Sessionå¯¹è±¡,å¦‚æœæ²¡æœ‰Sessionå¯¹è±¡,ç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„è¿”å›,ç¼ºçœå€¼requestå¯¹è±¡.getSession(false)è·å–Sessionå¯¹è±¡,å¦‚æœæ²¡æœ‰è¿”å›null è®¾ç½®å…±äº«æ•°æ®Sessionå¯¹è±¡.setAttribute(String name, Object value) æ³¨æ„ï¼šSession å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®,æ¯”å¦‚ç™»é™†ç”¨æˆ·çš„ä¿¡æ¯,å¯ä»¥å°è£…åˆ°Userå¯¹è±¡ä¸­ ä¿®æ”¹å…±äº«æ•°æ®é‡æ–°è®¾ç½®ä¸€ä¸ªåŒåçš„å…±äº«æ•°æ® è·å–å…±äº«æ•°æ® Object value = Sessionå¯¹è±¡.getAttribute(String name); åˆ é™¤ Session ä¸­çš„å…±äº«æ•°æ® Sessionå¯¹è±¡.removeAttribute(String name); é”€æ¯ Session void invalidate() Session çš„è¶…æ—¶ç®¡ç† è¶…æ—¶ï¼šåœ¨è®¿é—®å½“å‰çš„èµ„æºçš„è¿‡ç¨‹ä¸­,ä¸å’Œç½‘é¡µè¿›è¡Œä»»ä½•çš„äº¤äº’,è¶…è¿‡è®¾å®šçš„æ—¶é—´å°±æ˜¯è¶…æ—¶åœ¨ Tomcat æœåŠ¡å™¨ä¸­æœ‰é»˜è®¤çš„é…ç½®ä¸º30åˆ†é’Ÿï¼Œä¸€èˆ¬ä¸éœ€è¦å»ä¿®æ”¹ è¯­æ³•ï¼švoid setMaxInactiveInterval(int interval) Session æ‰©å±• Seesion ä¸­çš„å…±äº«æ•°æ®çš„å±æ€§åçš„å‘½åè§„èŒƒï¼šé€šå¸¸ä¸ºï¼šXXX_IN_SESSIONï¼Œä¾‹å¦‚ï¼šSessionå¯¹è±¡.setAttribute(â€œUSER_IN_SESSIONâ€,user) åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼šSession ä¸­å­˜å‚¨çš„å¯¹è±¡é€šå¸¸éœ€è¦å®ç°åºåˆ—åŒ–æ¥å£ï¼Œå› ä¸ºåœ¨ç½‘ç»œä¹‹é—´ä¼ è¾“çš„æ•°æ®æ ¼å¼ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼š åºåˆ—åŒ–ï¼šå°†å¯¹è±¡è½¬æ¢æˆäºŒè¿›åˆ¶æ•°æ® ååºåˆ—åŒ–:å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢æˆå¯¹è±¡ URL é‡å†™ å‡ºç°çš„é—®é¢˜ï¼šå½“æµè§ˆå™¨ç¦ç”¨Cookieä¹‹å,é‚£ä¹ˆæˆ‘ä»¬çš„jsessionidå°±ä¸èƒ½åœ¨æµè§ˆå™¨ä¸­ä¿å­˜,é‚£ä¹ˆåé¢çš„è¯·æ±‚ä¸­å°±ä¸ä¼šå°† jsessionid å‘é€åˆ°æœåŠ¡å™¨,æœåŠ¡å™¨è¿™é¢å°±æ‰¾ä¸åˆ°æ•°æ®è§£å†³æ–¹æ¡ˆï¼š1.åœ¨urlåæ‰‹åŠ¨çš„æ‹¼æ¥ä¸Š jsessionidä¼ é€’æ ¼å¼å¦‚ /path/Servlet;jsessionid=sessionid2.ä½¿ç”¨å“åº”å¯¹è±¡ä¸­çš„encodeURL(String path)å®ç° jsessionid çš„è‡ªåŠ¨æ‹¼æ¥String path = resp.encodeURL(&quot;path/Servlet&quot;); æ¨èæ–¹å¼ï¼šâ‘¡ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(4)â€”â€”Servletå­¦ä¹ æ€»ç»“","slug":"åˆå­¦Java-Web-4-â€”â€”Servletå­¦ä¹ æ€»ç»“","date":"2018-04-06T01:00:00.000Z","updated":"2020-08-03T07:58:47.373Z","comments":true,"path":"2018/04/06/chu-xue-java-web-4-servlet-xue-xi-zong-jie/","link":"","permalink":"http://www.wmyskxz.com/2018/04/06/chu-xue-java-web-4-servlet-xue-xi-zong-jie/","excerpt":"","text":"ç»è¿‡ä¸€æ®µæ—¶é—´çš„å­¦ä¹ ï¼Œå¯¹äºServletæœ‰äº†æ–°çš„ä¸ä¸€æ ·çš„è§è§£ï¼Œåœ¨è¿™é‡Œåšä¸€ä¸‹æ€»ç»“ï¼Œå°†è¿‘æ¥å­¦ä¹ åˆ°çš„çŸ¥è¯†æ€»ç»“ä¸€ä¸‹ã€‚ Servlet çš„è¯·æ±‚æµç¨‹ æµè§ˆå™¨å‘å‡ºè¯·æ±‚ï¼šhttp://localhost:80/xxx1/xxx2 ï¼ˆ80ç«¯å£å¯ä»¥é»˜è®¤ä¸å†™ï¼Œå› ä¸ºè¿™æ˜¯httpåè®®é»˜è®¤çš„ç«¯å£ï¼Œå¹³æ—¶æˆ‘ä»¬è®¿é—®https://www.baidu.com/ æ—¶å…¶å®è®¿é—®çš„æ˜¯https://www.baidu.com:80/ï¼‰ æœåŠ¡å™¨è§£æè¯·æ±‚ä¿¡æ¯ï¼š http:åè®®åç§° localhost:è®¿é—®çš„æ˜¯äº’è”ç½‘ä¸­çš„å“ªä¸€å°è®¡ç®—æœº 80:ä»ä¸»æœºå½“ä¸­æ‰¾åˆ°å¯¹åº” 80 ç«¯å£çš„ç¨‹åº **ï¼ˆè¿™é‡Œå³ä¸º Tomcat æœåŠ¡å™¨**ï¼‰ /xxx1:å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„ ï¼ˆå³åœ¨ server.xml ä¸­é…ç½®ä¸»æœºæ—¶é…ç½®çš„ pathå±æ€§ï¼‰ /xxx2:å½“å‰è¯·æ±‚çš„èµ„æºå è§£æ Tomcat æœåŠ¡å™¨æ ¹ç›®å½•ä¸‹çš„ /config/server.xml æ–‡ä»¶ï¼š&lt;Context docBase=&quot;D:\\javaPros\\test\\webapp&quot; path=&quot;xxx1&quot; /&gt;åˆ¤æ–­å“ªä¸€ä¸ª&lt;Context /&gt;```å…ƒç´ çš„ **pathå±æ€§** å±æ€§ä¸º ```xxx1 è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› 404é”™è¯¯ è‹¥æ‰¾åˆ°äº†ï¼Œåˆ™è§£æè¯¥&lt;Context /&gt;å…ƒç´ ï¼Œå¾—åˆ°docBaseå±æ€§ï¼Œè·å–å½“å‰è®¿é—® Web é¡¹ç›®çš„è·Ÿçš„ç»å¯¹è·¯å¾„ï¼šD:\\javaPros\\test\\webapp ä»D:\\javaPros\\test\\webappä¸‹çš„ WEB-INF ä¸‹æ‰¾åˆ° web.xml æ–‡ä»¶åˆ¤æ–­ web.xml æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ &lt;url-pattern&gt; çš„æ–‡æœ¬å†…å®¹ä¸º /xxx2 è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å› 404é”™è¯¯ è‹¥æ‰¾åˆ°äº†ï¼Œåˆ™ç»§ç»­è·å–è¯¥èµ„æºå¯¹åº” Servlet ç±»çš„å…¨é™åç§°ï¼š xxx.xxx åˆ¤æ–­ Servlet å®ä¾‹ç¼“å­˜æ±  ä¸­æ˜¯å¦æœ‰ xxx.xxx çš„å¯¹è±¡ Map&lt;String,Servlet> cache = ......(Tomcatæä¾›çš„); key:å­˜Servletç±»çš„å…¨é™å®šåç§° value:è¯¥Servletç±»çš„å¯¹è±¡. Servlet obj = cache.get(\"xxx.xxx\"); if(obj==null){ //Servletå®ä¾‹ç¼“å­˜ä¸­æ²¡æœ‰è¯¥ç±»çš„å¯¹è±¡,ç¬¬ä¸€æ¬¡. GOTO 6: }else{ //æœ‰å¯¹è±¡,éç¬¬ä¸€æ¬¡. GOTO 8: } } ä½¿ç”¨åå°„è°ƒç”¨æ„é€ å™¨ï¼Œåˆ›å»ºå¯¹åº”çš„å¯¹è±¡ obj = Class.forName(&quot;xxx.xxx&quot;).newInstance(); æŠŠå½“å‰åˆ›å»ºçš„ Servlet å¯¹è±¡ï¼Œå­˜æ”¾åœ¨ç¼“å­˜ä¹‹ä¸­ï¼Œä¾›ç»™ä¸‹ä¸€æ¬¡çš„ä½¿ç”¨. cache.put(&quot;xxx.xxx&quot;,obj); åˆ›å»º ServletConfig å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ init() æ–¹æ³• obj.init(config); åˆ›å»º ServletRequest å¯¹è±¡å’Œ ServletResponse å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ service()æ–¹æ³• obj.service(req,resp); åœ¨ service() æ–¹æ³•ä¸­å¯¹æµè§ˆå™¨ä½œå‡ºå“åº”æ“ä½œã€‚ Servlet ç”Ÿå‘½å‘¨æœŸåœ¨ Web å®¹å™¨ä¸­ï¼ŒServlet ä¸»è¦ç»å† 4 ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹å›¾ï¼š åŠ è½½ Servletï¼šå½“ Tomcat ç¬¬ä¸€æ¬¡è®¿é—® Servlet çš„æ—¶å€™ï¼ŒTomcat ä¼šè´Ÿè´£åˆ›å»º Servlet çš„å®ä¾‹ã€‚ åˆå§‹åŒ– Servletï¼šå½“ Servlet è¢«å®ä¾‹åŒ–ä¹‹åï¼ŒTomcat ä¼šè°ƒç”¨ init() æ–¹æ³•æ¥åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡ã€‚ å¤„ç†æœåŠ¡ï¼šå½“æµè§ˆå™¨è®¿é—® Servlet çš„æ—¶å€™ï¼ŒServlet ä¼šè°ƒç”¨ service() æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚ é”€æ¯ï¼šå½“ Tomcat å…³é—­æˆ–è€…æ£€æµ‹åˆ° Servlet è¦ä» Tomcat åˆ é™¤çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ destroy() æ–¹æ³•ï¼Œè®©è¯¥å®ä¾‹æ‰€å ç”¨çš„èµ„æºé‡Šæ”¾æ‰ã€‚ä¸€ä¸ª Servlet å¦‚æœé•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„è¯ï¼Œä¹Ÿä¼šè¢« Tomcat è‡ªåŠ¨é”€æ¯ã€‚ ç®€å•æ€»ç»“ï¼šåªè¦è®¿é—® Servlet ï¼Œå°±ä¼šè°ƒç”¨å…¶å¯¹åº”çš„ service() æ–¹æ³•ï¼Œinit() æ–¹æ³•åªä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—® Serlvet çš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚ è¿™ä¸€éƒ¨åˆ†å‚è€ƒæ–‡ç« ï¼šè¿™é‡Œæ˜¯é“¾æ¥ Servlet æä¾›å¤„ç†è¯·æ±‚çš„æ–¹æ³•å‰é¢çš„æ–‡ç« é‡Œé¢æåˆ°è¿‡ï¼Œå¹¿ä¹‰ä¸Šï¼ŒServlet å³å®ç°äº† Servlet æ¥å£ çš„ç±»ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œå®ç° Servlet æ¥å£ çš„æ—¶å€™ï¼Œä¼šå‘ç°æœ‰ 5 ä¸ªæ–¹æ³•éœ€è¦é‡å†™ï¼Œæœ‰initã€åˆå§‹åŒ–ã€‘ï¼Œdestroyã€é”€æ¯ã€‘,serviceã€æœåŠ¡ã€‘,ServletConfigã€Servleté…ç½®ã€‘,getServletInfoã€Serlvetä¿¡æ¯ã€‘ã€‚ è¿™æ ·åšçš„è¯ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦å®ç° 5 ä¸ªæ–¹æ³•ï¼Œå¤ªéº»çƒ¦äº†ï¼ æˆ‘ä»¬å¯ä»¥ç›´æ¥ç»§æ‰¿ HttpServlet ç±»ï¼Œè¯¥ç±»å·²ç»é»˜è®¤å®ç°äº† Servlet æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œåœ¨ç¼–å†™ Servlet çš„æ—¶å€™ï¼Œä½ åªéœ€è¦é‡å†™ä½ éœ€è¦çš„æ–¹æ³•å°±å¥½äº†ï¼Œå¹¶ä¸”è¯¥ç±»è¿˜åœ¨åŸæœ‰ Servlet æ¥å£ä¸Šæ·»åŠ äº†ä¸€äº›ä¸ HTTP åè®®å¤„ç†ç›¸å…³çš„æ–¹æ³•ï¼Œæ¯” Servlet æ¥å£çš„åŠŸèƒ½æ›´å¼ºå¤§ã€‚ Servlet å¤„ç†è¯·æ±‚çš„æ–¹æ³•ä¸€å…±æœ‰ä¸‰ç§ï¼šâ‘  å®ç° service() æ–¹æ³•ã€‚â‘¡ é‡å†™ doGet() å’Œ doPost() æ–¹æ³•ï¼Œå¹¶åœ¨ doGet() ä¸­æ·»åŠ ä¸€å¥this.doPost(req, resp);ï¼ˆå› ä¸ºæ— è®ºæ˜¯getæˆ–postè¯·æ±‚æäº¤çš„æ•°æ®ï¼Œå¤„ç†æ–¹å¼éƒ½åŸºæœ¬ç›¸åŒï¼Œä¸‹åŒï¼‰â‘¢ é‡å†™ doGet() å’Œ doPost() æ–¹æ³•ï¼Œå¹¶åœ¨ doPost() ä¸­æ·»åŠ ä¸€å¥this.doGet()(req, resp); æ¨èæ–¹å¼â‘ ã€‚ Servlet æ˜¯å•ä¾‹çš„ä¸ºä»€ä¹ˆServletæ˜¯å•ä¾‹çš„æµè§ˆå™¨å¤šæ¬¡å¯¹Servletçš„è¯·æ±‚ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åªåˆ›å»ºä¸€ä¸ªServletå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒServletå¯¹è±¡ä¸€æ—¦åˆ›å»ºäº†ï¼Œå°±ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„è¯·æ±‚åšæœåŠ¡ï¼Œç›´åˆ°æœåŠ¡å™¨å…³é—­ã€‚ æ¯æ¬¡è®¿é—®è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡éƒ½æ˜¯æ–°çš„å¯¹äºæ¯æ¬¡è®¿é—®è¯·æ±‚ï¼ŒServletå¼•æ“éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„HttpServletRequestè¯·æ±‚å¯¹è±¡å’Œä¸€ä¸ªæ–°çš„HttpServletResponseå“åº”å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒè°ƒç”¨çš„Servletçš„service()æ–¹æ³•ï¼Œserviceæ–¹æ³•å†æ ¹æ®è¯·æ±‚æ–¹å¼åˆ†åˆ«è°ƒç”¨doXXXæ–¹æ³•ã€‚ çº¿ç¨‹å®‰å…¨é—®é¢˜å½“å¤šä¸ªç”¨æˆ·è®¿é—®Servletçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚å½“å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®Servletå…±äº«èµ„æºçš„æ—¶å€™å°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ åŸåˆ™ï¼š 1. å¦‚æœä¸€ä¸ªå˜é‡éœ€è¦å¤šä¸ªç”¨æˆ·å…±äº«ï¼Œåˆ™åº”å½“åœ¨è®¿é—®è¯¥å˜é‡çš„æ—¶å€™ï¼ŒåŠ åŒæ­¥æœºåˆ¶synchronized (å¯¹è±¡){} 2. å¦‚æœä¸€ä¸ªå˜é‡ä¸éœ€è¦å…±äº«ï¼Œåˆ™ç›´æ¥åœ¨ doGet() æˆ–è€… doPost()å®šä¹‰.è¿™æ ·ä¸ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ è¿™ä¸€éƒ¨åˆ†å‚è€ƒæ–‡ç« ï¼šè¿™é‡Œæ˜¯é“¾æ¥ HttpServletRequest å’Œ HttpServletResponse å¯¹è±¡å¯¹äºæ¯æ¬¡è®¿é—®è¯·æ±‚ï¼ŒServletå¼•æ“éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„HttpServletRequestè¯·æ±‚å¯¹è±¡å’Œä¸€ä¸ªæ–°çš„HttpServletResponseå“åº”å¯¹è±¡ï¼Œå³ request å’Œ response å¯¹è±¡ã€‚ æ—¢ç„¶ request å¯¹è±¡ä»£è¡¨ http è¯·æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬è·å–æµè§ˆå™¨æäº¤è¿‡æ¥çš„æ•°æ®ï¼Œå°±æ‰¾ request å¯¹è±¡ å³å¯ã€‚response å¯¹è±¡ä»£è¡¨ http å“åº”ï¼Œé‚£ä¹ˆæˆ‘ä»¬å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®ï¼Œæ‰¾ response å¯¹è±¡å³å¯ã€‚ HttpServletRequest å¸¸ç”¨æ–¹æ³• String getContextPath():è·å–ä¸Šä¸‹æ–‡è·¯å¾„,&lt;Context path=â€ä¸Šä¸‹æ–‡â€ ../&gt; String getHeader(String headName):æ ¹æ®æŒ‡å®šçš„è¯·æ±‚å¤´è·å–å¯¹åº”çš„è¯·æ±‚å¤´çš„å€¼. String getRequestURI():è¿”å›å½“æœŸè¯·æ±‚çš„èµ„æºåç§°. ä¸Šä¸‹æ–‡è·¯å¾„/èµ„æºå StringBuffer getRequestURL():è¿”å›æµè§ˆå™¨åœ°å€æ çš„å†…å®¹ String getRemoteAddr():è¿”å›è¯·æ±‚æœåŠ¡å™¨çš„å®¢æˆ·ç«¯çš„IP è·å–è¯·æ±‚å‚æ•°çš„æ–¹æ³•ï¼š String getParameter(String name):æ ¹æ®å‚æ•°åç§°,è·å–å¯¹åº”å‚æ•°çš„å€¼. String[] getParameterValues(String name):æ ¹æ®å‚æ•°åç§°,è·å–è¯¥å‚æ•°çš„å¤šä¸ªå€¼. Enumeration getParameterNames():è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°çš„åå­— Map&lt;String,String[]&gt; getParameterMap():è¿”å›è¯·æ±‚å‚æ•°ç»„æˆçš„Mapé›†åˆ. key:å‚æ•°åç§°value:å‚æ•°å€¼,å°è£…åœ¨Stringæ•°ç»„ä¸­. HttpServletResponse å¸¸ç”¨æ–¹æ³• OutputStream getOutputStream():è·å–å­—èŠ‚è¾“å‡ºæµ:æ–‡ä»¶ä¸‹è½½ Writer getWriter():è·å–å­—ç¬¦è¾“å‡ºæµ:è¾“å‡ºå†…å®¹è®¾ç½®æ–‡ä»¶è¾“å‡ºçš„ç¼–ç æ ¼å¼å’Œå†…å®¹ç±»å‹ï¼šresp.setContentType(&quot;text/html;charset=utf-8&quot;); GET å’Œ POST çš„åŒºåˆ«è¦çŸ¥é“ï¼ŒGET å’Œ POST éƒ½æ˜¯è¯·æ±‚æ–¹å¼ GETï¼šæµè§ˆå™¨å™¨åœ°å€æ ï¼šhttp://localhost/test.html?name=wmyskxz&amp;sex=maleè¿™é‡Œæäº¤äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯nameå±æ€§å€¼ä¸ºwmyskxzï¼Œå¦ä¸€ä¸ªæ˜¯sexå±æ€§å€¼ä¸ºmaleï¼Œè¿™æ˜¯ä¸€ç§ç›´æ¥çš„è¯·æ±‚æ–¹å¼ï¼Œåœ¨è¯·æ±‚èµ„æºåé¢è·Ÿä¸Š ? ç¬¦å·ä¸å‚æ•°è¿æ¥ï¼Œå…¶ä»–çš„å‚æ•°ä½¿ç”¨ &amp; ç¬¦å·è¿æ¥ã€‚ ç¼ºç‚¹ï¼š 1.æš´éœ²è¯·æ±‚ä¿¡æ¯ï¼Œä¸å®‰å…¨2.è¯·æ±‚ä¿¡æ¯ä¸èƒ½è¶…è¿‡1kbï¼Œå¯ä¼ è¾“çš„ä¿¡æ¯æœ‰é™ï¼Œä¸èƒ½ä¸Šä¼ å›¾ç‰‡ POSTï¼šæµè§ˆå™¨åœ°å€æ ï¼šhttp://localhost/test.html# ä¼˜ç‚¹ï¼š 1.éšè—äº†è¯·æ±‚ä¿¡æ¯ï¼Œè¾ƒå®‰å…¨ï¼ˆä½†ä»å¯ä»¥é€šè¿‡ç›¸å…³å·¥å…·è®¿é—®åˆ°æ•°æ®ï¼‰2.POST æ–¹å¼æ²¡æœ‰é™åˆ¶è¯·æ±‚çš„æ•°æ®å¤§å°ï¼Œå¯ä»¥åšå›¾ç‰‡çš„ä¸Šä¼  ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦ä½¿ç”¨ POST è¯·æ±‚æ¥å®Œæˆï¼Œäº‹å®ä¸Šï¼ŒGET è¯·æ±‚æ–¹å¼ä¼šæ¯” POST è¯·æ±‚æ›´å¿«ï¼Œå½“æ•°æ®å°å¹¶ä¸”å®‰å…¨æ€§è¦æ±‚ä¸æ˜¯é‚£ä¹ˆé«˜çš„æ—¶å€™ï¼ŒGET ä»ç„¶æ˜¯å¾ˆå¥½çš„é€‰æ‹©.(å¹¶ä¸” GET ç›¸è¾ƒ POST ç®€å•) è¯·æ±‚ä¸­æ–‡ä¹±ç çš„å¤„ç†åœ¨ Tomcat æœåŠ¡å™¨ä¸­ï¼Œæ¥å—è¯·æ±‚çš„æ—¶å€™ï¼Œé»˜è®¤çš„ç¼–ç æ–¹å¼ä¸º ISO-8859-1ï¼Œè€Œè¯¥ç¼–ç æ–¹å¼åªå ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ”¯æŒä¸­æ–‡ï¼ˆä¸¤ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åšè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ è§£å†³æ–¹æ¡ˆï¼š 1.å¯¹ä¹±ç ä½¿ç”¨ ISO-8859-1 è§£ç ï¼Œè½¬æ¢æˆbyteæ•°ç»„ï¼Œæ¢å¤ä¸ºäºŒè¿›åˆ¶byte[] data = name.getBytes(&quot;ISO-8859-1&quot;);2.å¯¹byteæ•°ç»„é‡æ–°è¿›è¡Œ UTF-8 ç¼–ç ï¼šname = new String(data,&quot;UTF-8&quot;);ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å½“è¡¨å•æ•°æ®å¤ªå¤šçš„æ—¶å€™ï¼Œè¿™æ ·åå¤è§£ç -ç¼–ç ï¼Œä¼šå¾ˆç¹çã€‚ ç»ˆæè§£å†³æ–¹æ¡ˆï¼š 1.å¯¹äº POST è¯·æ±‚ï¼šè®¾ç½®è¯·æ±‚çš„ç¼–ç æ–¹å¼ï¼šrequest.setCharacterEncoding(&quot;UTF-8&quot;);æ³¨æ„ï¼šå¿…é¡»åœ¨è·å–ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹å‰è®¾ç½®ï¼Œå¹¶ä¸”è¯¥æ–¹å¼åªå¯¹ POST æ–¹å¼æœ‰æ•ˆã€‚2.å¯¹äº GET è¯·æ±‚ï¼šé‡æ–°è®¾ç½® Tomcat çš„ç¼–ç æ–¹å¼ï¼Œä¿®æ”¹ Tomcat çš„é…ç½®æ–‡ä»¶:Tomcatæ ¹ç›®å½•/conf/server.xml(ä¿®æ”¹ç«¯å£çš„é‚£ä¸€è¡Œ) Servlet ç»†èŠ‚ 1.ä¸€ä¸ª Servlet å¯ä»¥æœ‰å¤šä¸ª &lt;url-pattern&gt; ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªèµ„æºåç§°æ‰¾åˆ°å½“å‰çš„ Servlet 2.é…ç½® Servlet å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼ˆï¼‰*è¡¨ç¤ºä»»æ„å­—ç¬¦/*ï¼šå¯ä»¥ä½¿ç”¨ä»»æ„çš„å­—ç¬¦è®¿é—®å½“å‰çš„ Servlet`.xxx`ï¼šå¦‚ wmyskxz.wudi 3.è‡ªå®šä¹‰çš„ Servlet çš„ &lt;servlet-name&gt; ä¸èƒ½å¤Ÿä¸º default ï¼Œä½¿ç”¨å®ƒä¼šé€ æˆé¡¹ç›®ä¸‹é¢çš„é™æ€èµ„æºæ‰¾ä¸åˆ°ï¼Œåœ¨ Tomcat/conf/web.xml æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸ªåå­—ä¸ºdefaultçš„Servlet,è¯¥Servletåœ¨è´Ÿè´£è®¿é—®é¡¹ç›®ä¸‹çš„é™æ€èµ„æº 4.å…³äº Servlet çš„åˆå§‹åŒ–æ“ä½œï¼Œå¦‚æœåˆå§‹åŒ–æ“ä½œéå¸¸çš„è€—æ—¶ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªè¯·æ±‚çš„ç”¨æˆ·çš„ç”¨æˆ·ä½“éªŒå°±éå¸¸å·® è§£å†³æ€è·¯ï¼šå°†åˆå§‹åŒ–æ“ä½œå‘å‰ç§»,åœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œ Servlet çš„åˆå§‹åŒ– é€šè¿‡æ³¨è§£é…ç½® Servletè¿™æ˜¯ Servlet 3.0 æå‡ºçš„æ–°ç‰¹æ€§ï¼Œæ”¯æŒæ³¨è§£é…ç½®ï¼Œè¿™å¤§å¤§ç®€åŒ–äº†æˆ‘ä»¬çš„å·¥ä½œã€‚ åœ¨ä¹‹å‰çš„å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å» web.xml æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œè‡³å°‘ä¼šå‡ºç°8è¡Œï¼š è€Œå½“ä¸€ä¸ªé¡¹ç›®ä¸­å­˜åœ¨å¾ˆå¤š Servlet **ï¼Œé‚£ä¹ˆé…ç½®æ–‡ä»¶å°±ä¼šå˜å¾—éå¸¸è‡ƒè‚¿ï¼Œä¸ä¾¿äºåæœŸçš„ç»´æŠ¤ï¼Œåœ¨ Servlet 3.0 æ¨å‡ºä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥é…ç½® Servletï¼Œ**ä¸Šé¢ 8 è¡Œçš„é…ç½®å¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢çš„ç®€å•çš„æ³¨è§£ï¼š æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨å±æ€§ value å®šä¹‰è®¿é—®çš„ URLï¼Œåªæœ‰ URL è¿™ä¸ªå±æ€§æ˜¯å¿…è¦çš„ï¼Œname æ˜¯å¯ä»¥ç¼ºçœçš„å€¼ï¼Œè€Œé»˜è®¤çš„ value ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼Œæ‰€ä»¥å¯ä»¥ç®€å†™æˆï¼š @WebServlet(\"/foreServlet\") Web ç»„ä»¶ä¹‹é—´çš„è·³è½¬æ–¹å¼1.è¯·æ±‚è½¬å‘ï¼ˆforwardï¼‰åˆå«åšç›´æ¥è½¬å‘æ–¹å¼ï¼Œå®¢æˆ·ç«¯å’Œæµè§ˆå™¨åªå‘å‡ºä¸€æ¬¡è¯·æ±‚ï¼ŒServletã€HTMLã€JSPæˆ–å…¶å®ƒä¿¡æ¯èµ„æºï¼Œç”±ç¬¬äºŒä¸ªä¿¡æ¯èµ„æºå“åº”è¯¥è¯·æ±‚ï¼Œåœ¨è¯·æ±‚å¯¹è±¡requestä¸­ï¼Œä¿å­˜çš„å¯¹è±¡å¯¹äºæ¯ä¸ªä¿¡æ¯èµ„æºæ˜¯å…±äº«çš„ã€‚ æ¯”å¦‚ï¼šä» AServlet è¯·æ±‚è½¬å‘åˆ° BServlet è¯­æ³•ï¼š request.getRequestDispatcher(path).forward(request, response); å‚æ•°ï¼špathï¼Œè¦è·³è½¬åˆ°çš„èµ„æºè·¯å¾„ï¼šä¸Šä¸‹æ–‡è·¯å¾„ / èµ„æºè·¯å¾„ ç‰¹ç‚¹ï¼š 1.åœ°å€æ ä¸­çš„åœ°å€ã€ä¸ä¼šã€‘æ”¹å˜é€šå¸¸çœ‹ä½œæ˜¯æœåŠ¡ç«¯çš„è·³è½¬2.åªæœ‰ä¸€ä¸ªè¯·æ±‚3.èµ„æºæ˜¯å…±äº«çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸¤ä¸ª Servlet ä¸­å¯ä»¥å…±äº«è¯·æ±‚çš„èµ„æºå¯ä»¥é€šè¿‡request.setAttribute(String var1,Object var2)è®¾ç½®è¦å…±äº«çš„æ•°æ®èµ„æºï¼Œå¹¶é€šè¿‡request.getAttribute(String var1);æ¥è·å–ä¼ é€’çš„èµ„æº4.ã€å¯ä»¥ã€‘è®¿é—® WEB-INF ä¸­çš„èµ„æºWEB-INF æ–‡ä»¶å¤¹æ˜¯ Java Web åº”ç”¨çš„é»˜è®¤å®‰å…¨ç›®å½•ï¼Œå³å®¢æˆ·ç«¯æ— æ³•ç›´æ¥è®¿é—®ï¼Œåªæœ‰æœåŠ¡ç«¯å¯ä»¥è®¿é—®çš„ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚æ³¨æ„ï¼šåœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¯ä»¥æŠŠä¸å¸Œæœ›ç”¨æˆ·ç›´æ¥è®¿é—®åˆ°ï¼ˆé€šè¿‡æµè§ˆå™¨è¾“å…¥åœ°å€æ ï¼‰çš„ç½‘é¡µæ”¾åœ¨æ–‡ä»¶å¤¹ä¸­é€šè¿‡æ­¤æ–¹å¼è®¿é—®ã€‚5.è¯·æ±‚è½¬å‘ã€ä¸èƒ½ã€‘è·¨åŸŸè®¿é—®æ‰€è°“çš„åŒåŸŸï¼Œæ˜¯æŒ‡åŸŸåï¼Œåè®®ï¼Œç«¯å£å‡ç›¸åŒ 2.URl é‡å®šå‘ï¼ˆredirectï¼‰åˆå«åšé—´æ¥è½¬å‘æ–¹å¼ï¼ˆRedirectï¼‰å®é™…æ˜¯ä¸¤æ¬¡HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯åœ¨å“åº”ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œè®©æµè§ˆå™¨å†å‘å¦å¤–ä¸€ä¸ªURLå‘å‡ºè¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°è½¬å‘çš„ç›®çš„ã€‚ æ¯”å¦‚:ä»AServleté‡å®šå‘åˆ°BServlet è¯­æ³•ï¼š response.sendRedirect(String location); å‚æ•°ï¼šlocationï¼Œè½¬å‘åˆ°çš„èµ„æºè·¯å¾„ ç‰¹ç‚¹ï¼š 1.åœ°å€æ ä¸­çš„åœ°å€ã€ä¼šã€‘å‘ç”Ÿæ”¹å˜é€šå¸¸çœ‹ä½œæ˜¯å®¢æˆ·ç«¯è·³è½¬2.æœ‰ä¸¤ä¸ªè¯·æ±‚3.åœ¨ä¸¤ä¸ª Servlet ä¸­ä¸å¯ä»¥å…±äº«è¯·æ±‚ä¸­çš„æ•°æ®4.æœ€ç»ˆçš„å“åº”ç”± BServlet æ¥å†³å®šï¼Œå’Œ AServlet æ²¡æœ‰å…³ç³»5.ã€ä¸å¯ä»¥ã€‘è®¿é—® WEB-INF ä¸­çš„èµ„æº6.è¯·æ±‚è½¬å‘ã€èƒ½ã€‘è·¨åŸŸè®¿é—®å°±åƒæ˜¯åœ¨ç½‘é¡µä¸­ç‚¹å¼€äº†æ–°çš„é“¾æ¥ä¸€æ · æ€»ç»“ï¼šURL é‡å®šå‘ç›¸å½“äºæ˜¯å°†é‡å®šå‘çš„èµ„æºè·¯å¾„ï¼Œé‡æ–°å¤åˆ¶åˆ°æµè§ˆå™¨åœ°å€æ ä¸­æŒ‰ä¸‹å›è½¦ä¸€æ ·ï¼Œé‡æ–°å‘é€ä¸€æ¬¡æ–°çš„è¯·æ±‚ã€‚ 3.è¯·æ±‚åŒ…å«ï¼ˆincludeï¼‰ MVC æ¨¡å¼MVC æ˜¯ä¸€ç§åˆ†å±‚çš„è®¾è®¡æ¨¡å¼ ã€‚ M ä»£è¡¨ æ¨¡å‹ï¼ˆModelï¼‰æ¨¡å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¨¡å‹å°±æ˜¯æ•°æ®ï¼Œå°±æ˜¯dao,bean V ä»£è¡¨ è§†å›¾ï¼ˆViewï¼‰è§†å›¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å°±æ˜¯ç½‘é¡µ, JSPï¼Œç”¨æ¥å±•ç¤ºæ¨¡å‹ä¸­çš„æ•°æ® C ä»£è¡¨ æ§åˆ¶å™¨ï¼ˆcontroller)æ§åˆ¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ æ§åˆ¶å™¨çš„ä½œç”¨å°±æ˜¯æŠŠä¸åŒçš„æ•°æ®(Model)ï¼Œæ˜¾ç¤ºåœ¨ä¸åŒçš„è§†å›¾(View)ä¸Šã€‚ è¿™éƒ¨åˆ†å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™é‡Œ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(3)â€”â€”ç¬¬ä¸€ä¸ªServlet","slug":"åˆå­¦Java-Web-3-â€”â€”ç¬¬ä¸€ä¸ªServlet","date":"2018-03-21T00:59:00.000Z","updated":"2020-08-03T08:42:21.556Z","comments":true,"path":"2018/03/21/chu-xue-java-web-3-di-yi-ge-servlet/","link":"","permalink":"http://www.wmyskxz.com/2018/03/21/chu-xue-java-web-3-di-yi-ge-servlet/","excerpt":"","text":"è¿™å­¦æœŸ Java Web è¯¾ç¨‹çš„ç¬¬ä¸€èŠ‚è¯¾å°±ç®€çŸ­å¤ä¹ äº†ä¸€ä¸‹ Java çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œæ‰€ä»¥è§‰å¾— Java çš„åŸºç¡€çŸ¥è¯†è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œä½†å½“æˆ‘æƒ³è¦å»å†™ä¸€ç¯‡ Java å›é¡¾çš„æ–‡ç« çš„æ—¶å€™å‘ç°å¾ˆéš¾ï¼Œå› ä¸ºå‘å®åœ¨å¤ªå¤šäº†ï¼ˆä¸€ä¸ªå¤´ï¼Œä¸¤ä¸ªå¤§ï¼‰ï¼Œåªèƒ½å¦å¤–æ‰¾ä¸€äº›æ—¶é—´å»å†™é¡ºä¾¿å·©å›ºå·©å›ºè‡ªå·±çš„åŸºç¡€ã€‚ â€”â€”ã€1. ä»€ä¹ˆæ˜¯ Servlet ã€‘â€”â€”å­¦ä¹ ä¸€ä¸ªä¸œè¥¿å°±è¦å…ˆå»äº†è§£å®ƒæ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚ Servlet å–è‡ªä¸¤ä¸ªå•è¯ï¼šServerã€Applet ï¼ˆå¾ˆç¬¦åˆ sun å…¬å¸çš„å‘½åç‰¹ç‚¹ï¼‰ï¼Œ Java Servlet çš„ç®€ç§°ï¼Œå…¶å®è´¨å°±æ˜¯è¿è¡Œåœ¨ Web åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ Java ç¨‹åºï¼Œä¸æ™®é€š Java ç¨‹åºä¸åŒï¼Œå®ƒæ˜¯ä½äº Web æœåŠ¡å™¨å†…éƒ¨çš„æœåŠ¡å™¨ç«¯çš„ Java åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¯¹ Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯ç¨‹åºå‘é€çš„è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚ ç‹­ä¹‰çš„Servletæ˜¯æŒ‡Javaè¯­è¨€å®ç°çš„ä¸€ä¸ªæ¥å£ï¼Œå¹¿ä¹‰çš„Servletæ˜¯æŒ‡ä»»ä½•å®ç°äº†è¿™ä¸ªServletæ¥å£çš„ç±»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å°†Servletç†è§£ä¸ºåè€…ã€‚Servletè¿è¡Œäºæ”¯æŒJavaçš„åº”ç”¨æœåŠ¡å™¨ä¸­ã€‚ä»åŸç†ä¸Šè®²ï¼ŒServletå¯ä»¥å“åº”ä»»ä½•ç±»å‹çš„è¯·æ±‚ï¼Œä½†ç»å¤§å¤šæ•°æƒ…å†µä¸‹Servletåªç”¨æ¥æ‰©å±•åŸºäºHTTPåè®®çš„WebæœåŠ¡å™¨ã€‚ å®é™…ä¸Šï¼ŒServlet å°±åƒæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œæƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬çš„ USB æ¥å£ï¼Œå®ƒä¸ä»…çº¦æŸäº†Uç›˜çš„å¤§å°å’Œå½¢çŠ¶ï¼ŒåŒæ ·ä¹Ÿçº¦æŸäº†ç”µè„‘çš„æ’æ§½ï¼ŒServlet ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå®ƒä¸ä»…çº¦æŸäº†æœåŠ¡å™¨ç«¯å¦‚ä½•å®ç°è§„èŒƒï¼Œä¹Ÿçº¦æŸç€ Java Web é¡¹ç›®çš„ç»“æ„ï¼Œä¸ºä»€ä¹ˆè¿™æ ·è¯´ï¼Œæˆ‘ä»¬ä¸‹é¢å†æ¥è®²ï¼Œç¼–å†™ä¸€ä¸ª Servlet å…¶å®å°±æ˜¯æŒ‰ç…§ Servlet è§„èŒƒç¼–å†™ä¸€ä¸ª Java ç±»ã€‚ â€”â€”ã€2. Servlet ä¸ Servlet å®¹å™¨ ã€‘â€”â€”Servlet å¯¹è±¡ä¸æ™®é€šçš„ Java å¯¹è±¡ä¸åŒï¼Œå®ƒå¯ä»¥å¤„ç† Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯ç¨‹åºå‘é€çš„ HTTP è¯·æ±‚ï¼Œä½†å‰ææ˜¯æŠŠ Servlet å¯¹è±¡å¸ƒç½®åˆ° Servlet å®¹å™¨ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶è¿è¡Œéœ€è¦ Servlet å®¹å™¨çš„æ”¯æŒã€‚ Servlet å®¹å™¨ä¹Ÿå«åš Servlet å¼•æ“ï¼Œæ˜¯ Web æœåŠ¡å™¨æˆ–åº”ç”¨ç¨‹åºæœåŠ¡å™¨çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨å‘é€çš„è¯·æ±‚å’Œå“åº”ä¹‹ä¸Šæä¾›ç½‘ç»œæœåŠ¡ï¼Œè§£ç åŸºäº MIME çš„è¯·æ±‚ï¼Œæ ¼å¼åŒ–åŸºäº MIME çš„å“åº”ã€‚Servlet æ²¡æœ‰ main æ–¹æ³•ï¼Œä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå®ƒå¿…é¡»è¢«éƒ¨ç½²åˆ° Servlet å®¹å™¨ä¸­ï¼Œç”±å®¹å™¨æ¥å®ä¾‹åŒ–å’Œè°ƒç”¨ Servlet çš„æ–¹æ³•ï¼ˆå¦‚ doGet() å’Œ doPost() æ–¹æ³•ï¼‰ï¼ŒServlet å®¹å™¨åœ¨ Servlet çš„ç”Ÿå‘½å‘¨æœŸå†…åŒ…å®¹å’Œç®¡ç† Servlet ã€‚åœ¨ JSP æŠ€æœ¯ æ¨å‡ºåï¼Œç®¡ç†å’Œè¿è¡Œ Servlet / JSP çš„å®¹å™¨ä¹Ÿç§°ä¸º Web å®¹å™¨ã€‚ æœ‰äº† Servlet ä¹‹åï¼Œç”¨æˆ·é€šè¿‡å•å‡»æŸä¸ªé“¾æ¥æˆ–è€…ç›´æ¥åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ URL æ¥è®¿é—® Servlet ï¼ŒWeb æœåŠ¡å™¨æ¥æ”¶åˆ°è¯¥è¯·æ±‚åï¼Œå¹¶ä¸æ˜¯å°†è¯·æ±‚ç›´æ¥äº¤ç»™ Servlet ï¼Œè€Œæ˜¯äº¤ç»™ Servlet å®¹å™¨ã€‚Servlet å®¹å™¨å®ä¾‹åŒ– Servlet ï¼Œè°ƒç”¨ Servlet çš„ä¸€ä¸ªç‰¹å®šæ–¹æ³•å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œ å¹¶äº§ç”Ÿä¸€ä¸ªå“åº”ã€‚è¿™ä¸ªå“åº”ç”± Servlet å®¹å™¨è¿”å›ç»™ Web æœåŠ¡å™¨ï¼ŒWeb æœåŠ¡å™¨åŒ…è£…è¿™ä¸ªå“åº”ï¼Œä»¥ HTTP å“åº”çš„å½¢å¼å‘é€ç»™ Web æµè§ˆå™¨ã€‚ Servlet å®¹å™¨èƒ½æä¾›ä»€ä¹ˆï¼Ÿä¸Šé¢æˆ‘ä»¬çŸ¥é“äº†éœ€è¦ç”± Servlet å®¹å™¨æ¥ç®¡ç†å’Œè¿è¡Œ Servlet ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿä½¿ç”¨ Servlet å®¹å™¨çš„åŸå› æœ‰ï¼š é€šä¿¡æ”¯æŒï¼šåˆ©ç”¨å®¹å™¨æä¾›çš„æ–¹æ³•ï¼Œä½ èƒ½è½»æ¾çš„è®© Servlet ä¸ web æœåŠ¡å™¨å¯¹è¯ï¼Œè€Œä¸ç”¨è‡ªå·±å»ºç«‹ serversocket ã€ç›‘å¬æŸä¸ªç«¯å£ã€åˆ›å»ºæµç­‰ã€‚å®¹å™¨çŸ¥é“è‡ªå·±ä¸ web æœåŠ¡å™¨ä¹‹é—´çš„åè®®ï¼Œæ‰€ä»¥ä½ çš„ Servlet ä¸ç”¨æ‹…å¿ƒ web æœåŠ¡å™¨ï¼ˆå¦‚Apacheï¼‰å’Œä½ è‡ªå·±çš„ web ä»£ç ä¹‹é—´çš„ API ï¼Œåªéœ€è¦è€ƒè™‘å¦‚ä½•åœ¨ Servlet ä¸­å®ç°ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚å¤„ç†ä¸€ä¸ªè®¢å•ï¼‰ã€‚ ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š Servlet å®¹å™¨æ§åˆ¶ç€ Servlet çš„ç”Ÿä¸æ­»ï¼Œå®ƒè´Ÿè´£åŠ è½½ç±»ã€å®ä¾‹åŒ–å’Œåˆå§‹åŒ– Servlet ï¼Œè°ƒç”¨ Servlet æ–¹æ³•ï¼Œä»¥åŠä½¿ Servlet å®ä¾‹è¢«åƒåœ¾å›æ”¶ï¼Œæœ‰äº† Servlet å®¹å™¨ï¼Œä½ ä¸éœ€è¦å¤ªå¤šçš„è€ƒè™‘èµ„æºç®¡ç†ã€‚ å¤šçº¿ç¨‹æ”¯æŒï¼šå®¹å™¨ä¼šè‡ªåŠ¨ä¸ºå®ƒæ‰€æ¥æ”¶çš„æ¯ä¸ª Servlet è¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°çš„ java çº¿ç¨‹ã€‚é’ˆå¯¹ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¦‚æœ Servlet å·²ç»è¿è¡Œå®Œç›¸åº”çš„httpæœåŠ¡æ–¹æ³•ï¼Œè¿™ä¸ªçº¿ç¨‹å°±ä¼šç»“æŸã€‚è¿™å¹¶ä¸æ˜¯è¯´ä½ ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨æ€§ï¼Œå…¶å®ä½ è¿˜ä¼šé‡åˆ°åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡è¿™æ ·èƒ½ä½¿ä½ å°‘åšå¾ˆå¤šå·¥ä½œã€‚ å£°æ˜æ–¹å¼å®ç°å®‰å…¨ï¼šåˆ©ç”¨ Servlet å®¹å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ xml éƒ¨ç½²æè¿°æ–‡ä»¶æ¥é…ç½®å’Œä¿®æ”¹å®‰å…¨æ€§ï¼Œè€Œä¸å¿…å°†å…¶ç¡¬ç¼–ç å†™åˆ° Servlet ç±»ä»£ç ä¸­ã€‚ JSPæ”¯æŒï¼š Servletå®¹å™¨è´Ÿè´£å°† jsp ä»£ç ç¿»è¯‘ä¸ºçœŸæ­£çš„ java ä»£ç ã€‚ Servlet ç”Ÿå‘½å‘¨æœŸé€šå¸¸æƒ…å†µä¸‹ï¼ŒServlet å®¹å™¨ä¹Ÿå°±æ˜¯æŒ‡ Web å®¹å™¨ï¼Œå¦‚ Tomcatã€Jbossã€Resinã€Weblogic ç­‰ï¼Œå®ƒä»¬å¯¹ Servlet è¿›è¡Œæ§åˆ¶ã€‚å½“ä¸€ä¸ªå®¢æˆ·ç«¯å‘é€ HTTP è¯·æ±‚æ—¶ï¼Œç”±å®¹å™¨åŠ è½½ Servlet å¯¹å…¶è¿›è¡Œå¤„ç†å¹¶åšå‡ºå“åº”ã€‚åœ¨ Web å®¹å™¨ä¸­ï¼ŒServlet ä¸»è¦ç»å† 4 ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹å›¾ï¼š Servlet ä¸ Web å®¹å™¨çš„å…³ç³»æ˜¯éå¸¸å¯†åˆ‡çš„ï¼Œåœ¨ Web å®¹å™¨ä¸­ Servlet ä¸»è¦ç»å†äº† 4 ä¸ªé˜¶æ®µï¼Œè¿™ 4 ä¸ªé˜¶æ®µå®è´¨æ˜¯ Servlet çš„ç”Ÿå‘½å‘¨æœŸï¼Œç”±å®¹å™¨è¿›è¡Œç®¡ç†ã€‚ ï¼ˆ1ï¼‰åœ¨ Web å®¹å™¨å¯åŠ¨æˆ–è€…å®¢æˆ·æœºç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡æ—¶ï¼Œå®¹å™¨å°†åŠ è½½ Servlet ç±»å¹¶å°†å…¶æ”¾å…¥åˆ° Servlet å®ä¾‹æ± ã€‚ ï¼ˆ2ï¼‰å½“ Servlet å®ä¾‹åŒ–åï¼Œå®¹å™¨å°†è°ƒç”¨ Servlet å¯¹è±¡çš„ init() æ–¹æ³•å®Œæˆ Servlet çš„åˆå§‹åŒ–æ“ä½œï¼Œä¸»è¦æ˜¯ä¸ºäº†è®© Servlet åœ¨å¤„ç†è¯·æ±‚ä¹‹å‰åšä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚ ï¼ˆ3ï¼‰å®¹å™¨é€šè¿‡ Servlet çš„ service() æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚åœ¨ Service() æ–¹æ³•ä¸­ï¼ŒServlet å®ä¾‹æ ¹æ®ä¸åŒçš„ HTTP è¯·æ±‚ç±»å‹ä½œå‡ºä¸åŒå¤„ç†ï¼Œå¹¶åœ¨å¤„ç†ä¹‹åä½œå‡ºç›¸åº”çš„å“åº”ã€‚ ï¼ˆ4ï¼‰åœ¨ Web å®¹å™¨å…³é—­æ—¶ï¼Œå®¹å™¨è°ƒç”¨ Servlet å¯¹è±¡çš„ destroy() æ–¹æ³•å¯¹èµ„æºè¿›è¡Œé‡Šæ”¾ã€‚åœ¨è°ƒç”¨æ­¤æ–¹æ³•åï¼ŒServlet å¯¹è±¡å°†è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚ â€”â€”ã€3. ç¬¬ä¸€ä¸ª Servlet ã€‘â€”â€”â‘  æ­å»º Java Web é¡¹ç›® åˆ›å»º ä¸€ä¸ª Java é¡¹ç›®ï¼Œå¹¶å‘½åä¸º HelloServletï¼› ï¼ˆæ³¨æ„ï¼šè¿™æ˜¯æ™®é€šçš„ Java é¡¹ç›®è€Œä¸æ˜¯åŠ¨æ€ Web é¡¹ç›®ï¼‰ åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ webappï¼Œè¡¨ç¤º Web é¡¹ç›®çš„æ ¹ï¼› åœ¨ webapp ä¸­åˆ›å»º WEB-INF æ–‡ä»¶å¤¹ï¼› åœ¨ WEB-INF æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–‡ä»¶å¤¹ï¼šclasses,libï¼› åœ¨ WEB-INF æ–‡ä»¶ä¸­æ·»åŠ  Tomcat æ ¹ç›®å½•ä¸‹ conf æ–‡ä»¶å¤¹ä¸­çš„ web.xml æ–‡ä»¶ï¼›ï¼ˆåªä¿ç•™æ ¹å…ƒç´ ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼‰ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt; &lt;/web-app&gt; æŠŠå½“å‰é¡¹ç›®çš„ classpath è·¯å¾„æ”¹æˆ webapp/WEB-INF ä¸‹çš„ classes ä¸­ã€‚ â‘¡ ç¼–å†™ Servlet ä¸ºè¯¥é¡¹ç›®å¢åŠ Servletçš„æ”¯æŒ. 1.1. æŠŠTomcatæ ¹/libä¸­servlet-api.jaræ–‡ä»¶æ‹·è´åˆ°é¡¹ç›®ä¸‹WEB-INFä¸‹çš„libä¸­ 1.2. åœ¨é¡¹ç›®ä¸­é€‰æ‹©servlet-api.jar,é¼ æ ‡å³é”®,build pathâ€“&gt;add to build path å¼€å‘Servletç¨‹åº: 2.1:å®šä¹‰ä¸€ä¸ªç±»HelloServlet,å¹¶è®©è¯¥ç±»å»å®ç°javax.servlet.Servletæ¥å£; 2.2:å®ç°Servletæ¥å£ä¸­çš„init,service,destoryç­‰æ–¹æ³•. import java.io.IOException; import javax.servlet.Servlet; import javax.servlet.ServletConfig; import javax.servlet.ServletException; import javax.servlet.ServletRequest; import javax.servlet.ServletResponse; public class HelloServlet implements Servlet{ @Override public void init(ServletConfig config) throws ServletException { } @Override public ServletConfig getServletConfig() { return null; } @Override public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException { System.out.println(&quot;æµ‹è¯•ä¸€ä¸‹ï¼&quot;); // å…ˆåœ¨è¿™é‡Œå†™ä¸‹æµ‹è¯•ä»£ç  } @Override public String getServletInfo() { return null; } @Override public void destroy() { } }æ³¨æ„:è‹¥ç”Ÿæˆæ–¹æ³•ä¸­çš„å‚æ•°æ˜¯ arg0 æˆ–åˆ™ arg1 ç­‰æ ¼å¼çš„,åŸå› æ˜¯è¿˜æ²¡æœ‰å…³è”æºä»£ç çš„é—®é¢˜: å…³è”ä¸Š tomcat src æ–‡ä»¶å³å¯ â‘¢ é…ç½® Servletä¸Šé¢ç¼–å†™å¥½çš„ HelloServlet ç±»ä»…ä»…æ˜¯ä¸€ä¸ªæ™®é€šçš„å®ç°ç±»è€Œå·²ï¼Œè€Œç°åœ¨æˆ‘æƒ³è¦å®ƒè¿è¡Œåœ¨æˆ‘è‡ªå·±çš„ Tomcat æœåŠ¡å™¨ä¸­ï¼Œæ‰€ä»¥åº”è¯¥é€šçŸ¥ Tomcat æœåŠ¡å™¨æ¥ç®¡ç†æˆ‘çš„ HelloServlet ç±»ï¼Œå…·ä½“çš„åšæ³•å¦‚ä¸‹ï¼š æ‰¾åˆ°é¡¹ç›®æ ¹ä¸‹çš„WEB-INFä¸‹çš„web.xmlæ–‡ä»¶: åœ¨æ ¹å…ƒç´ web-appä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç´ èŠ‚ç‚¹:servlet åœ¨æ ¹å…ƒç´ web-appä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç´ èŠ‚ç‚¹:servlet-mappingï¼ˆServlet çš„æ˜ å°„ï¼‰ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt; &lt;servlet&gt; &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;lt.HelloServlet&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/hello&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt; ``` &gt; web.xml æä¾›è·¯å¾„å’Œservletæ˜ å°„å…³ç³»ï¼Œè¿™æ„æ€æ˜¯æŠŠ/helloè¿™ä¸ªè·¯å¾„ï¼Œæ˜ å°„åˆ° HelloServlet è¿™ä¸ªç±»ä¸Šï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š**&lt; servlet&gt; æ ‡ç­¾ä¸‹çš„ &lt; servlet-name&gt;ä¸ &lt; servlet-mapping&gt; æ ‡ç­¾ä¸‹çš„ &lt; servlet-name&gt; å¿…é¡»ä¸€æ ·**ï¼ˆå› ä¸ºæ ‡ç­¾è¢«ç¼–è¾‘å™¨è¯†åˆ«æ•…&lt;ååŠ äº†ä¸€ä¸ªç©ºæ ¼ï¼‰ é…ç½® Tomcat æœåŠ¡å™¨ï¼š 4.1. ä¿®æ”¹é»˜è®¤ç«¯å£ä¸º 80 ç«¯å£ï¼š é¦–å…ˆè¿›å…¥åˆ° Tomcat æœåŠ¡å™¨çš„æ ¹è·¯å¾„ä¸‹æ‰¾åˆ° conf æ–‡ä»¶å¤¹ä¸‹çš„ server.xml æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯åœ¨ç¬¬ 70 è¡Œï¼Œæ‰¾åˆ° Connector å…ƒç´ çš„ port å±æ€§ï¼Œä¿®æ”¹ä¸º 80 ï¼Œé‡å¯ Tomcat å³å¯ã€‚ ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Webï¼ˆ3ï¼‰â€”â€”ç¬¬ä¸€ä¸ªServlet/7896890-7812541ce51b78e5.png) Tomcat çš„é»˜è®¤ç«¯å£ä¸º8080ï¼Œè€Œ HTTP åè®®çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œé…ç½® 80 ç«¯å£çš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬å¹³æ—¶è¾“å…¥çš„ç±»ä¼¼äº http://baidu.com å…¶å®æ˜¯é»˜è®¤çœç•¥äº†å†™ 80ç«¯å£çš„ï¼Œå®ƒå…¶å®ç­‰ä»·äºï¼šhttp://baidu.com:80/ ï¼Œæ‰€ä»¥ä»¥åæˆ‘ä»¬å°±ä¸ç”¨å†å†™å†’å·ç›´æ¥è¾“å…¥ locahost å°±èƒ½è¿›å…¥åˆ° Tomcat çš„é…ç½®é¡µé¢äº†ã€‚ 4.2 éƒ¨ç½² Java é¡¹ç›®ï¼ˆå‘Šè¯‰ Tomcat æœåŠ¡å™¨æ¥ç®¡ç†æˆ‘ä»¬çš„é¡¹ç›®ï¼‰ï¼š è¿™é‡Œç›´æ¥å¼•ç”¨ how2j.cn çš„æ•™ç¨‹å•¦ï¼š ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Webï¼ˆ3ï¼‰â€”â€”ç¬¬ä¸€ä¸ªServlet/7896890-9b8a876c38379a5a.png) æ‰€ä»¥åŠ ä¸Š&lt;Context path=&quot;&quot; docBase=&quot;F:\\\\Projects\\\\JavaProject\\\\HelloServlet\\\\webapp&quot; /&gt;è¿™ä¸€å¥é‡å¯ Tomcat æœåŠ¡å™¨ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ localhost/helloï¼Œå›è½¦ï¼Œå³å¯åœ¨ Tomcat æœåŠ¡å™¨ä¸Šçœ‹åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè‡³æ­¤ç¬¬ä¸€ä¸ª Servlet å°±ç¼–å†™æˆåŠŸäº† â€”â€”ã€4. Servlet è¯·æ±‚è¿‡ç¨‹ã€‘â€”â€”å­¦ä¹  Servlet æŠ€æœ¯ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ª Servlet è¿è¡Œç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯éœ€è¦æœ‰ä¸€ä¸ª Servlet å®¹å™¨ï¼Œå¦‚è¿™é‡Œä½¿ç”¨çš„ã€Tomcatã€‘ã€‚ Tomcat æœåŠ¡å™¨æ¥å—å®¢æˆ·è¯·æ±‚å¹¶åšå‡ºå“åº”çš„è¿‡ç¨‹å¦‚ä¸‹ï¼ˆä»¥ä¸Šé¢æ­å»ºçš„é¡¹ç›®ä¸ºä¾‹ï¼‰ï¼š â‘  æ‰“å¼€æµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼šhttp://localhost:80/hello/index.html ï¼ˆå‡è®¾æœ‰ä¸€ä¸ª index.html æ–‡ä»¶ï¼‰ â‘¡ æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åå¤„ç†è¯·æ±‚ï¼š htppï¼šæ‰€ä½¿ç”¨çš„åè®®localhostï¼šipåœ°å€ï¼Œç¡®å®šè®¿é—®çš„ä¸»æœº80ï¼šç«¯å£å·helloï¼šä¸Šä¸‹æ–‡è·¯å¾„ï¼Œç¡®å®šè®¿é—®é¡¹ç›®çš„æ ¹è·¯å¾„index.htmlï¼šç¡®å®šè®¿é—®é¡¹ç›®ä¸­çš„å…·ä½“å“ªä¸€ä¸ªèµ„æº â‘¢ æ ¹æ® hello å» tomcat/conf/server.xml æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å…³é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®ä¸Šä¸‹æ–‡è·¯å¾„æ‰¾åˆ°é¡¹ç›®çš„æ ¹è·¯å¾„ï¼š&lt;Context path=&quot;&quot; docBase=&quot;F:\\\\Projects\\\\JavaProject\\\\HelloServlet\\\\webapp&quot; /&gt;å¦‚æœæ‰¾ä¸åˆ°æ ¹è·¯å¾„ï¼ˆå› ä¸ºè¿™é‡Œé»˜è®¤ä¸Šä¸‹æ–‡è·¯å¾„ä¸ºç©ºï¼‰ï¼Œè¿”å› 404 â‘£ æ ¹æ®èµ„æºåç§°å»é¡¹ç›®ä¸­çš„ web.xml æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å…³çš„é…ç½®ï¼Œæ‰¾åˆ°é…ç½®ä¸­çš„&lt;url-pattern&gt; å¦‚æœæ‰¾ä¸åˆ° hello çš„èµ„æºåç§°ï¼Œåˆ™è¿”å› 404 â‘¤ æ ¹æ®èµ„æºåç§°æ‰¾åˆ° Servlet çš„å…¨é™å®šåï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™åœ¨å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™æŠ¥é”™java.lang.IllegalArgumentException: Servlet mapping specifies an unknown servlet name HelloServlet â‘¥ æ ¹æ®æ‰¾åˆ°çš„å…¨é™å®šååˆ›å»ºå¯¹è±¡ï¼Œåœ¨åˆ›å»ºå¯¹è±¡ä¹‹å‰éœ€è¦åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œä½¿ç”¨ Tomcat ä¸­ä½¿ç”¨ Servlet å®ä¾‹ç¼“å­˜æ± æ¥å®ç°ï¼Œè‹¥æ˜¯ç¬¬ä¸€æ¬¡åˆ™è°ƒç”¨å¯¹è±¡çš„ init æ–¹æ³•ã€‚ â‘¦ åˆ›å»º req,resp å¯¹è±¡ï¼Œæ‰§è¡Œ service æ–¹æ³•ï¼› â‘§ ä½¿ç”¨ resp å¯¹è±¡ç»™æµè§ˆå™¨å“åº”ä¿¡æ¯ã€‚ å‘ç°ä¸€è¾¹å­¦ä¸€è¾¹å†™èµ·æ¥å¤ªéº»çƒ¦äº†ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºè‡ªå·±çš„æ°´å¹³ï¼Œå¦ä¸€æ–¹é¢æ˜¯è§‰å¾—è¿™æ ·å¤ªè´¹æ—¶é—´äº†ï¼Œä¹Ÿè¦å¼€å§‹æ‰¾å®ä¹ äº†ï¼Œæ‰€ä»¥æ—¶é—´æœ‰äº›å®è´µï¼Œå¯èƒ½è¿™ä¸ä¼šä½œä¸ºä¸€ä¸ªè¿ç»­çš„ç³»åˆ—ï¼Œåè€Œæ˜¯ä¸€äº›å­¦ä¹ çš„åˆ†äº«å’Œæ„Ÿæ‚Ÿï¼Œemmmâ€¦.äº‹å®ä¸Šï¼ŒServletä¹Ÿè¿˜æœ‰å¥½å¤šä¸œè¥¿ï¼ŒåŒ…æ‹¬æœ€æ–°æ”¯æŒæ³¨è§£æ–¹å¼é…ç½®ç­‰â€¦.å‚è€ƒèµ„æ–™ï¼šã€ŠJava Webç¨‹åºè®¾è®¡ æ…•è¯¾ç‰ˆâ€”â€”æ˜æ—¥ç§‘æŠ€ã€‹how2j.cnç†è§£Servletå’ŒServletå®¹å™¨ã€WebæœåŠ¡å™¨ç­‰æ¦‚å¿µ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"åˆå­¦Java Web(2)â€”â€”æ­å»ºJava Webå¼€å‘ç¯å¢ƒ","slug":"åˆå­¦Java-Web-2-â€”â€”æ­å»ºJava-Webå¼€å‘ç¯å¢ƒ","date":"2018-03-14T00:57:00.000Z","updated":"2020-08-03T07:57:03.618Z","comments":true,"path":"2018/03/14/chu-xue-java-web-2-da-jian-java-web-kai-fa-huan-jing/","link":"","permalink":"http://www.wmyskxz.com/2018/03/14/chu-xue-java-web-2-da-jian-java-web-kai-fa-huan-jing/","excerpt":"","text":"è™½ç„¶è¯´ html å’Œ css ç­‰å‰ç«¯æŠ€æœ¯ï¼Œæ˜¯å¯¹äº Web æ¥è¯´ä¸å¯æˆ–ç¼ºçš„æŠ€æœ¯ï¼Œä½†æ˜¯æ¯•ç«Ÿæ›´ä¸ºç®€å•ä¸€äº›ï¼Œæ‰€ä»¥å°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæ²¡æœ‰åŸºç¡€çš„åŒå­¦å¯ä»¥å»èœé¸Ÿæ•™ç¨‹æˆ–è€…W3schoolè¿›è¡Œè‡ªä¸»å­¦ä¹ ï¼Œæœ€å¥½çš„æ–¹å¼è¿˜æ˜¯åšä¸€åšç®€å•çš„é¡¹ç›®ï¼Œç›¸ä¿¡ä½ å¾ˆå¿«å°±å¯ä»¥ä¸Šæ‰‹å•¦ã€‚(æœ‰ç©ºæŠŠæˆ‘ä»¿çš„å¤©çŒ«ç»™å¤§å®¶æ‹¿å‡ºæ¥..) â€”â€”ã€1. JDK çš„å®‰è£…ã€‘â€”â€”åœ¨æ­å»ºç¯å¢ƒä¹‹å‰å‘¢ï¼Œè¿˜æ˜¯ç»™æ¬ä¸€ä¸‹ä¸€äº›åè¯çš„ä»‹ç»å’Œè§£é‡Šï¼š æœ¯è¯­å ç¼©å†™ è§£é‡Š Java Development Kit JDK ç¼–å†™Javaç¨‹åºçš„ä»ç¨‹åºå‘˜ä½¿ç”¨çš„è½¯ä»¶ Java Runtime Environment JRE è¿è¡ŒJavaç¨‹åºçš„ç”¨æˆ·ä½¿ç”¨çš„è½¯ä»¶ Standard Edition SE ç”¨äºæ¡Œé¢æˆ–ç®€å•çš„æœåŠ¡å™¨åº”ç”¨çš„Javaå¹³å° Enterprise Edition EE ç”¨äºå¤æ‚çš„æœåŠ¡å™¨åº”ç”¨çš„Javaå¹³å° Micro Edition ME ç”¨äºæ‰‹æœºå’Œå…¶ä»–å°å‹è®¾å¤‡çš„Javaå¹³å° Java 2 J2 ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œç”¨äºæè¿°1998å¹´~2006å¹´ä¹‹é—´çš„Javaç‰ˆæœ¬ Software Development Kit SDK ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œç”¨äºæè¿°1998å¹´~2006å¹´ä¹‹é—´çš„JDK å†æ¥å¼•ç”¨ä¸€å¼ å›¾ç‰‡æ¥è¯´æ˜ Java SE å’Œ Jave EE çš„åŒºåˆ«ï¼š JDK çš„ä¸‹è½½JDKçš„å®˜æ–¹ä¸‹è½½åœ°å€åœ¨è¿™ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/index.htmlæœ€æ–°çš„JDKå·²ç»å‡çº§åˆ°äº†9.0ï¼Œè€Œä¸”æ®è¯´10.0éƒ½å¿«å‡ºæ¥äº†ï¼Œå¯èƒ½å¯¹äºä¸€äº›æ–°å­¦ Java çš„åŒå­¦æ¥è¯´ï¼Œ8çš„ç‰¹æ€§è¿˜æ²¡ç†Ÿæ‚‰ï¼Œ9ä¸çŸ¥é“æ˜¯å•¥ï¼Œ10.0 çœ¼çœ‹ç€éƒ½è¦å‡ºæ¥äº†â€¦æ²¡å…³ç³»ï¼Œæˆ‘ä¹Ÿæ˜¯å·®ä¸å¤šè¿™æ ·çš„æ„Ÿå—â€¦ JDK çš„å®‰è£…ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªJDKçš„ä¸‹è½½è¿‡ç¨‹ï¼Œå®‰è£…å¾ˆç®€å•ï¼Œæˆ‘å°±ç›´æ¥ç²˜ç½‘ä¸Šçš„å›¾äº†ï¼ˆé‡è¦çš„æ˜¯è®°ä½JDKå®‰è£…çš„è·¯å¾„ç”¨äºé…ç½®ç¯å¢ƒå˜é‡ï¼‰ï¼š JDK ç¯å¢ƒå˜é‡çš„é…ç½®Javaç¯å¢ƒå˜é‡æ¶‰åŠåˆ°ä¸‰ä¸ªåè¯ï¼šJAVA_HOMEã€pathã€classpathã€‚ JAVA_HOMEä»£è¡¨JDKå®‰è£…ä¸»ç›®å½•ï¼Œpathä»£è¡¨JDKä¸‹å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•ï¼Œclasspathä»£è¡¨è¿è¡Œjavaç¨‹åºæ—¶éœ€è¦æŸ¥æ‰¾classæ–‡ä»¶çš„ç›®å½•ã€‚ ä¾æ®ä¸Šé¢çš„å®‰è£…æ­¥éª¤ï¼š JAVA_HOMEåº”è¯¥è®¾ç½®ä¸ºï¼šD:\\DevelopTools\\JAVA\\JDK pathåº”è¯¥è®¾ç½®ä¸ºï¼š%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;ï¼ˆæ³¨æ„å…¶ä¸­çš„åˆ†å·ï¼‰ classpathåº”è¯¥è®¾ç½®ä¸ºï¼š.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar;ï¼ˆæ³¨æ„æœ€å‰é¢çš„ç‚¹ä»£è¡¨å½“å‰è·¯å¾„ï¼ŒJDK1.5ä¹‹åè¿™é¡¹ä¸ç”¨è®¾ç½®äº†ï¼‰ è®¾ç½®æ–¹å¼å¦‚ä¸‹ï¼š åˆ°æ­¤å°±å·²ç»æˆåŠŸé…ç½®å¥½äº† JDK æ‰€éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬ä¸‹é¢æ¥éªŒè¯ä¸€ä¸‹ã€‚ éªŒè¯ JDK æ˜¯å¦å®‰è£…æˆåŠŸæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ŒWINDOWS ä¸‹çš„å¿«æ·é”®ä¸ºã€Win + Rã€‘ï¼Œç„¶åè¾“å…¥ cmd ï¼Œè¾“å…¥ã€java -versionã€‘æŸ¥çœ‹æ˜¯å¦è¾“å‡ºæ­£ç¡®åœ°ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™ JRE é…ç½®æˆåŠŸã€‚ï¼ˆæˆ‘ç›´æ¥è´´çš„è€å›¾å•¦ï¼Œæ‰€ä»¥â€¦.ï¼‰ è¾“å…¥ã€javacã€‘çœ‹æ˜¯å¦è¾“å‡ºç¼–è¯‘ä¿¡æ¯ï¼Œè‹¥æœ‰ï¼Œåˆ™ JDK é…ç½®æˆåŠŸï¼š è‡³æ­¤ï¼ŒJDK å°±å½»åº•å®‰è£…æˆåŠŸäº†ã€‚ â€”â€”ã€2.å®‰è£…å’Œé…ç½® Tomcat æœåŠ¡å™¨ã€‘â€”â€”æ­£å¦‚ä¸Šä¸€ç¯‡è¯´åˆ°çš„ï¼ŒTomcat æ˜¯ä½¿ç”¨ Java è¯­è¨€ç¼–å†™çš„ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç¨‹åºï¼‰ï¼Œæ‰€ä»¥è¦è¿è¡Œ Tomcat ï¼Œå¿…é¡»é…ç½®å¥½ç›¸å…³çš„ JDK æˆ– JREã€‚Tomcat çš„å®˜æ–¹ç½‘ç«™æ˜¯ï¼šhttp://tomcat.apache.org/ ä½ å¯ä»¥å»å®˜ç½‘ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½æˆ‘æä¾›çš„ç»¿è‰²ç‰ˆæœ¬ï¼ˆv8.5.5ï¼‰ï¼šhttps://pan.baidu.com/s/1gROPZCovNrsMxkWLFbZ9IQï¼ˆå¯†ç :142qï¼‰ ä»¥æˆ‘æä¾›çš„ç»¿è‰²ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š â‘  è§£å‹æä¾›çš„ Tomcat åˆ° D ç›˜å¹¶è®°å½•ä¸‹å…¶è·¯å¾„ï¼Œå¦‚ D:\\apache-tomcat-8.5.5. â‘¡ é…ç½® CATALINA_HOME ç¯å¢ƒå˜é‡åˆ°ä¸Šé¢è®°ä¸‹çš„è·¯å¾„ï¼š â‘¢ å¯åŠ¨ Tomcat æœåŠ¡å™¨æ‰¾åˆ° D:\\apache-tomcat-8.5.5 è·¯å¾„ä¸‹çš„ bin ç›®å½•ä¸­çš„ startup.bat æ–‡ä»¶ï¼ŒåŒå‡»è¿è¡Œï¼Œå¦‚æœè¾“å‡ºå¯åŠ¨ä¿¡æ¯ï¼Œå¹¶æœªè¾“å‡ºä»»ä½•å¼‚å¸¸ï¼Œåˆ™ Tomcat å®‰è£…æ­£ç¡®ï¼ˆæ³¨æ„ï¼Œå¼¹å‡ºçš„å‘½ä»¤æç¤ºç¬¦çª—å£ä¸èƒ½å…³é—­ï¼Œå¦åˆ™æœåŠ¡å™¨å°†åœæ­¢è¿è¡Œï¼ï¼‰ â‘£ æ‰“å¼€æµè§ˆå™¨éªŒè¯ Tomcatæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ è¾“å…¥åœ°å€ï¼šhttp://localhost:8080/ æˆ–è€… http://127.0.0.1:8080/ ï¼Œå¦‚æœèƒ½å¤Ÿæ‰“å¼€ Tomcat é…ç½®é¡µé¢ï¼Œåˆ™è¯´æ˜ Tomcat é…ç½®æˆåŠŸï¼š å…³é—­ Tomcat æœåŠ¡å™¨åœ¨ Tomcat å¼€å¯çš„å‘½ä»¤æç¤ºç¬¦ç•Œé¢æŒ‰ä¸‹ã€Ctrl + Cã€‘é”®ï¼Œå°†å…³é—­ Tomcat æœåŠ¡å™¨ã€‚å†æ¬¡å°è¯•è®¿é—® Tomcat é…ç½®é¡µé¢ï¼Œè‹¥å‡ºç°ç½‘é¡µä¸èƒ½è®¿é—®æç¤ºï¼Œåˆ™è¯´æ˜ Tomcat å…³é—­æˆåŠŸï¼š åœ¨ Tomcat ä¸­æ–°å»º Web å·¥ç¨‹æ­¥éª¤å¦‚ä¸‹ï¼šï¼ˆä¸‹è½½æ–‡ä»¶-å¯†ç klhkï¼‰â‘  æ‰¾åˆ° Tomcat ç›®å½•ä¸‹çš„ webapps ç›®å½•ã€‚â‘¡ åœ¨ webapps ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼š first_webappã€‚ï¼ˆæ³¨æ„ first å’Œ webapp ä¸­é—´ä¸ºä¸‹åˆ’çº¿ï¼‰â‘¢ åœ¨ first_webapp ä¸­å»ºç«‹ä¸€ä¸ªç›®å½•ï¼š WEB-INFã€‚ï¼ˆæ³¨æ„å¤§å°å†™ï¼ŒWEB å’Œ INF ä¹‹é—´ä¸ºæ¨ªçº¿ï¼‰â‘£ å°†ä¸Šé¢çš„ä¸‹è½½æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ä»¥åï¼Œå°†æä¾›çš„ web.xml æ–‡ä»¶å¤åˆ¶åˆ° WEB-INF ç›®å½•ä¸­ã€‚â‘¤ å°†æä¾›çš„ index.html æ–‡ä»¶å¤åˆ¶åˆ° first_webapp ç›®å½•ä¸‹ã€‚â‘¥ å¯åŠ¨ Tomcatã€‚â‘¦ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€ï¼šhttp://localhose:8080/first_webapp ï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®è®¿é—®ï¼Œå¦‚æœå¯ä»¥æ­£ç¡®æ˜¾ç¤ºé¡µé¢ï¼Œåˆ™è¡¨ç¤º Tomcat ä¸­åˆ›å»ºæ–°é¡¹ç›®æˆåŠŸã€‚ â€”â€”ã€3.å®‰è£…é…ç½® MySql æœåŠ¡å™¨ã€‘â€”â€”ä¸ç®¡æ€æ ·ï¼ŒæœåŠ¡å™¨ç«¯æ€»æ˜¯è¦æœ‰æ•°æ®åº“çš„ï¼Œè¿™é‡Œå°±ç»™å‡ºä¸¤ä¸ªç»¿è‰²ç‰ˆæœ¬çš„å·¥å…·ï¼Œæ¥å»ºç«‹ä¸€ä¸ª Web å¼€å‘æ‰€éœ€è¦çš„ MySql æœåŠ¡å™¨ï¼šé“¾æ¥ï¼šhttps://pan.baidu.com/s/1i-H4SUMcn2y5_arluK923A å¯†ç ï¼š1n04 xampp æ˜¯ä¸€å¥— Web å¼€å‘å¥—ä»¶ï¼Œé‡Œé¢åŒ…å«äº† mysqlã€apacheã€tomcat ç­‰å¸¸ç”¨ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦åˆ©ç”¨å…¶ä¸­çš„ mysql ç»„ä»¶æ¥å®Œæˆæ•°æ®åº“çš„å¼€å‘ã€‚ heidiSQL æ˜¯ä¸€æ¬¾ç»¿è‰²ç‰ˆçš„ SQL ç®¡ç†è½¯ä»¶ï¼Œèƒ½å®ç°æ•°æ®åº“çš„ä¸€äº›å¸¸ç”¨åŠŸèƒ½ã€‚ æ­¥éª¤å¦‚ä¸‹ï¼šâ‘  å°†æä¾›çš„ xampp å·¥å…·è§£å‹åˆ° D ç›˜æ ¹ç›®å½•ä¸‹ã€‚ï¼ˆæ³¨æ„ xampp ä¸€å®šè¦è§£å‹åˆ°æ ¹ç›®å½•ä¸‹æ‰æœ‰æ•ˆã€‚æ‰€è°“æ ¹ç›®å½•æ˜¯æŒ‡D:\\xampp\\ç›®å½•ä¸‹ä¸èƒ½å†åµŒå¥— xampp ç›®å½•ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ D:\\xampp\\ç›®å½•ä¸‹èƒ½å¤Ÿæ‰¾åˆ° mysql ç›®å½•ã€‚åˆ‡è®°ï¼ï¼ï¼‰â‘¡ åŒå‡» xampp ç›®å½•ä¸‹çš„ xampp-control.exe æ–‡ä»¶è¿è¡Œï¼Œå¹¶æ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š â‘¢ ä¸ºäº†é¿å…å’Œæœ¬æœºä¸Šå·²ç»å®‰è£…çš„ MySql æœåŠ¡å™¨å†²çªï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹ xampp çš„æœåŠ¡åç§°ï¼šå•æœºç•Œé¢ä¸Šçš„ Config æŒ‰é’®ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š â‘£ ç‚¹å‡»â€œService and Port Settingsâ€æŒ‰é’®ï¼Œå°†å‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š â‘¤ ç‚¹å‡» MySQL æ ‡ç­¾é¡µï¼Œé…ç½® MySqlï¼Œå°† MySql çš„ Service Name ä» mysql æ›´æ”¹ä¸º mysql-xamppï¼Œç„¶åä¿å­˜ï¼š â‘¥ å…³é—­ xamppã€‚ï¼ˆ æ³¨æ„ å¦‚æœé—­ å…³é—­ xampp åï¼Œxampp ã€‚ ä»»ç„¶åœ¨åå°è¿è¡Œï¼Œå¿…é¡»ä»å³ä¸‹è§’ç³»ç»Ÿæ‰˜ç›˜å¤„å®Œå…¨å…³é—­ã€‚ï¼‰ç„¶åé‡æ–°æ‰“å¼€ xampp-control.exe æ–‡ä»¶ï¼š â‘¦ ç‚¹å‡» MySql å¯¹åº”çš„ Start æŒ‰é’®ã€‚å¦‚æœ MySql æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œåˆ™æ˜¾ç¤ºå¦‚ä¸‹ï¼š å…¶ä¸­ï¼ŒMySql å­—ç¬¦çš„èƒŒæ™¯è‰²å˜ä¸ºç»¿è‰²è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼ŒPID è¡¨ç¤º MySql åœ¨æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹å·ï¼ŒPort è¡¨ç¤º MySql è¿›ç¨‹æ‰€ç›‘å¬çš„ç«¯å£å·ã€‚ â‘§ æ‰“å¼€æä¾›çš„ heidiSQL å·¥å…·ï¼ˆç»¿è‰²è½¯ä»¶ï¼‰ï¼Œå°†æ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š â‘¨ ç‚¹å‡» New æŒ‰é’®ï¼Œæ–°å»º MySql è¿æ¥ï¼š â‘© åœ¨ hostname/IP å¤„å¡«å†™ï¼š127.0.0.1 æˆ–è€… localhostã€‚åœ¨ User å¤„å¡«å†™ï¼šrootï¼ˆè¿™æ˜¯ MySql çš„ç™»å½•ç”¨æˆ·åï¼‰ã€‚åœ¨ Password å¤„å¡«å†™ï¼šrootï¼ˆè¿™æ˜¯ MySql çš„ç™»å½•å¯†ç ã€‚ æ³¨æ„ï¼šå¦‚æœæ˜¯è‡ªå·±ä¸‹è½½çš„ xampp å·¥å…·ï¼Œåˆ™å¯†ç ä¸ºç©ºã€‚ä½¿ç”¨çš„æˆ‘æä¾›çš„ xampp å·¥å…·ï¼Œåˆ™ MySql ç™»å½•å¯†ç è¢«æˆ‘æ”¹æˆ root ï¼‰åœ¨ Port å¤„å¡«å†™ï¼š3306ï¼ˆè¿™æ˜¯ MySql é»˜è®¤çš„ç›‘å¬ç«¯å£ï¼‰ï¼Œéšåç‚¹å‡»ã€Openã€‘æŒ‰é’®ï¼Œå°†æ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ï¼š å·¦è¾¹åˆ—å‡ºäº†ç›®å‰ MySql ä¸­çš„æ‰€æœ‰æ•°æ®åº“ï¼Œå³è¾¹æ˜¯å½“å‰æ•°æ®åº“çš„å†…å®¹ã€‚ï¼ˆè¯·å‹¿æ›´æ”¹å’Œåˆ é™¤é»˜è®¤æ•°æ®åº“çš„å†…å®¹ï¼‰ åœ¨ Tomcat ä¸­è¿æ¥æ•°æ®åº“å°†æä¾›çš„ MySql çš„ JDBC é©±åŠ¨æ–‡ä»¶ mysql-connector-java-xxxx-bin.jar æ–‡ä»¶å¤åˆ¶åˆ° Tomcat ç›®å½•ä¸‹çš„ lib ç›®å½•ä¸­ è‡³æ­¤ï¼Œå°±æˆåŠŸæ­å»ºå¥½äº† MySql æœåŠ¡å™¨ã€‚ â€”â€”ã€4.å®‰è£… Eclipse-JEEã€‘â€”â€”â‘  ä¸‹è½½ Eclipse - Jeeè¿›å…¥å®˜ç½‘ http://www.eclipse.org/downloads/eclipse-packages é€‰æ‹©Eclipse IDE for Java EE Developersï¼Œæ ¹æ®è‡ªå·±ç”µè„‘æƒ…å†µé€‰æ‹©32ä½æˆ–è€…64ä½ï¼š ä¸‹å¥½ä»¥åç›´æ¥è§£å‹åˆ°ç›¸åº”ä½ç½®ï¼Œå¹¶æ‰¾åˆ° eclipse.exeï¼Œå³é”® â€“&gt; å‘é€åˆ° â€“&gt; æ¡Œé¢å¿«æ·æ–¹å¼å°±è¡Œäº†ã€‚ â‘¡ é¦–æ¬¡æ‰“å¼€è®¾ç½®å·¥ä½œç©ºé—´ç”±äºæˆ‘ä»¬å·²ç»é…ç½®å¥½äº† JDK çš„ç›¸å…³ä¿¡æ¯ï¼Œæ‰€ä»¥è¿™é‡Œçš„ Eclipse å¯ä»¥ç›´æ¥æ‰“å¼€ï¼š å·¥ä½œç©ºé—´å¤§å®¶è®¾ç½®æˆè‡ªå·±å–œæ¬¢ã€‚ç†Ÿæ‚‰çš„è·¯å¾„å³å¯ï¼Œä»¥åå»ºç«‹çš„å·¥ç¨‹æ–‡ä»¶éƒ½åœ¨è®¾ç½®çš„å·¥ä½œç©ºé—´é‡Œé¢ã€‚ â‘¢ è¿›è¡Œç®€å•é…ç½® é…ç½® Tomcat æœåŠ¡å™¨ï¼š1.è¿›å…¥ Eclipse åé¦–å…ˆå°† Tomcat æœåŠ¡å™¨ä½ç½®é€šçŸ¥ Eclipseã€‚é€‰æ‹©èœå•é¡¹â€œWindowâ€â†’â€œPreferencesâ€2.æ‰“å¼€â€œPreferencesâ€å¯¹è¯æ¡†ï¼Œåœ¨å·¦è¾¹æ‰¾åˆ°â€œServerâ€é€‰é¡¹ï¼Œå¹¶å±•å¼€ï¼Œé€‰ä¸­å…¶ä¸­â€œRuntime Environmentsâ€é¡¹ç›®ï¼š 3.ç‚¹å‡»å³è¾¹ç•Œé¢ä¸­â€œAddâ€æŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­æ‰¾åˆ°â€œApache Tomcat 8.5â€é¡¹ç›®å¹¶é€‰ä¸­ï¼š 4.ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå¹¶åœ¨ Name å¤„è¾“å…¥ï¼šApache Tomcat v8.5ã€‚ç„¶åå°†ç›®æ ‡ç›®å½•é€‰å®šä¸ºåˆšåˆšå®‰è£…çš„ Tomcat ç›®å½• 5.æœ€åç‚¹å‡»â€œFinishâ€æŒ‰é’®å®ŒæˆæœåŠ¡å™¨çš„é…ç½® é…ç½®é»˜è®¤çš„æ ¼å¼ï¼š1.é€‰æ‹©èœå•é¡¹â€œWindowâ€â†’â€œPreferencesâ€ï¼Œæ‰¾åˆ°ä¸‹æ–¹çš„â€œWebâ€ï¼Œå°†å…¶ä¸­çº¢è‰²æ¡†æ ‡è®°çš„é€‰é¡¹é‡Œçš„ã€Encodingï¼ˆç¼–ç æ ¼å¼ï¼‰ã€‘å‡æ”¹ä¸º UTF-8ï¼Œæ˜¯ä¸ºé˜²æ­¢ä½¿ç”¨ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚ 2.ç‚¹å‡»â€œApply and Closeâ€å®Œæˆé…ç½®ã€‚ â‘£ åˆ›å»ºä¸€ä¸ªåŠ¨æ€ç½‘é¡µé¡¹ç›®æµ‹è¯• 1.é€‰ä¸­ Eclipse èœå•é¡¹â€œNewâ€â†’â€œDynamic Web Projectâ€ï¼Œæ–°å»ºä¸€ä¸ªåŠ¨æ€ç½‘é¡µé¡¹ç›® 2.åœ¨æ–°å»ºé¡¹ç›®ç•Œé¢ä¸­ project name å¤„è¾“å…¥å·¥ç¨‹åç§° second_webappï¼ˆæ³¨æ„ second å’Œ webapp ä¸­é—´ä¸ºä¸‹åˆ’çº¿ï¼‰ã€‚å¹¶è®°ä½æ­¤åå­—ã€‚åœ¨ Runtime ä¸­é€‰æ‹©åˆšåˆšé…ç½®çš„ Tomatã€‚ 3.ç‚¹å‡»â€œNextâ€æŒ‰é’®ï¼Œå¹¶å¯¹é…ç½®ä¸åšä¿®æ”¹ï¼Œå†æ¬¡ç‚¹å‡»â€œNextâ€æŒ‰é’®ï¼Œåœ¨ä¸‹ä¸€ä¸ªç•Œé¢ä¸­ï¼Œé€‰ä¸­â€œGenerate web.xmlâ€é€‰é¡¹ã€‚æœ€åç‚¹å‡»â€œFinishâ€æŒ‰é’®åˆ›å»ºå·¥ç¨‹ã€‚ 4.åœ¨ second_webapp ä¸Šç‚¹å‡»å³é”®ï¼Œå¹¶é€‰ä¸­â€œPropertiesâ€èœå•é¡¹ï¼Œè‹¥çœ‹åˆ°å·¥ç¨‹é»˜è®¤ç¼–ç ä¸º GBKï¼Œåˆ™åœ¨å¯¹è¯æ¡†ä¸­å°†å·¥ç¨‹çš„ç¼–ç æ–¹å¼æ”¹ä¸º UTF-8ï¼Œç›®çš„æ˜¯é¿å…ä»¥åä¸­æ–‡å‡ºç°ä¹±ç ï¼š 5.å±•å¼€ second_webapp å·¥ç¨‹ï¼Œå¹¶åœ¨â€œWebContentâ€é¡¹ç›®ä¸Šç‚¹å‡»é¼ æ ‡å³é”®ï¼Œå¹¶é€‰ä¸­èœå•é¡¹ç›®â€œNewâ€â†’â€œHTMLFileâ€ï¼Œç„¶åè¾“å…¥ç½‘é¡µçš„åå­— index.htmlï¼Œå¹¶ç‚¹å‡»â€œFinishâ€æŒ‰é’®ï¼š 6.æ­¤æ—¶å°†æ˜¾ç¤º HTML æ–‡ä»¶å†…å®¹ï¼ˆé»˜è®¤ä¸º HTML 5 æ ¼å¼ï¼‰ï¼Œç¼–è¾‘ index.html æ–‡ä»¶ï¼Œæˆå¦‚ä¸‹å†…å®¹ï¼š&lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;title>æˆ‘çš„ç¬¬äºŒä¸ªç½‘é¡µ&lt;/title> &lt;/head> &lt;body> Java EE ç¯å¢ƒéƒ¨ç½²æˆåŠŸï¼ &lt;/body> &lt;/html> - 7.ç¼–è¾‘å®Œæˆåï¼Œç‚¹å‡» Eclipse èœå•ï¼šâ€œRunâ€â†’â€œRun Asâ€â†’â€œRun on Serverâ€**ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶åœ¨ Eclipse å¤–é¢ä¸èƒ½å¯åŠ¨Tomcat æœåŠ¡å™¨ï¼Œå³ Tomcat çš„å‘½ä»¤æç¤ºçª—å£ä¸èƒ½å·²ç»æ‰“å¼€ï¼‰**ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©ï¼Œåˆšåˆšé…ç½®çš„ Tomcat ç¯å¢ƒï¼Œè¾¹ç‚¹å‡»â€œFinishâ€æŒ‰é’®å¯åŠ¨ Tomcat æœåŠ¡å™¨ï¼š ![](https://cdn.jsdelivr.net/gh/wmyskxz/img/img/åˆå­¦Java-Webï¼ˆ2ï¼‰â€”â€”æ­å»ºJava-Webå¼€å‘ç¯å¢ƒ/7896890-1e386be820188f6e.png) - 8.ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨å®Œæˆã€‚ç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€ï¼šhttp://localhost:8080/second_webapp/index.htmlï¼ŒæŸ¥çœ‹ç½‘é¡µã€‚å¦‚æœèƒ½æ­£ç¡®æ˜¾ç¤ºé¡µé¢ï¼Œåˆ™ Eclipse æ–°å»ºé¡¹ç›®æˆåŠŸã€‚ ---- è‡³æ­¤ï¼ŒJava Web çš„å¼€å‘ç¯å¢ƒå°±å·²ç»å…¨éƒ¨æ­å»ºå¥½äº†ï¼Œå…³äºä¸ºä»€ä¹ˆé€‰æ‹© Eclipse è€Œä¸é€‰æ‹© IDEA ï¼Œæ˜¯å› ä¸ºè¿™å­¦æœŸå¼€çš„ Java Web è¯¾ç¨‹ä¸­ä½¿ç”¨çš„ä¹Ÿæ˜¯ Eclipse ï¼Œä¸ºäº†é¿å…éº»çƒ¦ï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨ Eclipse å§ã€‚ #### å‚è€ƒèµ„æ–™ï¼š &gt; [1.è¿·è·¯çš„å›½ç‹åšå®¢](http://www.cnblogs.com/kangjianwei101/p/5621750.html) &gt; 2.æœ¬å­¦æ ¡çš„å®éªŒè¯´æ˜ --- &gt; æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ &gt; ç®€ä¹¦IDï¼š[@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„](https://www.jianshu.com/u/a40d61a49221) &gt; githubï¼š[wmyskxz](https://github.com/wmyskxz/) &gt; æ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz &gt; åˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´» &gt; æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java 8â€”â€”å‡½æ•°å¼æ•°æ®å¤„ç†ï¼ˆæµï¼‰","slug":"Java-8â€”â€”å‡½æ•°å¼æ•°æ®å¤„ç†ï¼ˆæµï¼‰","date":"2018-01-01T15:54:00.000Z","updated":"2020-08-03T07:52:12.546Z","comments":true,"path":"2018/01/01/java-8-han-shu-shi-shu-ju-chu-li-liu/","link":"","permalink":"http://www.wmyskxz.com/2018/01/01/java-8-han-shu-shi-shu-ju-chu-li-liu/","excerpt":"","text":"æœ¬ç¯‡å†…å®¹å¤§éƒ¨åˆ†æ¥è‡ªã€ŠJava 8å®æˆ˜ã€‹ æµæ˜¯ä»€ä¹ˆï¼Ÿæµæ˜¯Java APIçš„æ–°æˆå‘˜ï¼Œå®ƒå…è®¸ä½ ä»¥å£°æ˜æ€§æ–¹å¼å¤„ç†æ•°æ®é›†åˆï¼ˆé€šè¿‡æŸ¥è¯¢è¯­å¥æ¥è¡¨è¾¾ï¼Œè€Œä¸æ˜¯ä¸´æ—¶å†™ä¸€ä¸ªå®ç°ï¼‰ã€‚ å°±ç°åœ¨æ¥è¯´ï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬çœ‹æˆéå†æ•°æ®é›†åˆçš„é«˜çº§è¿­ä»£å™¨ã€‚æ­¤å¤–ï¼Œæµè¿˜å¯ä»¥é€æ˜åœ°å¹¶è¡Œå¤„ç†ï¼Œä½ æ— éœ€å†™ä»»ä½•å¤šçº¿ç¨‹ä»£ç ï¼ ä¸‹é¢ä¸¤æ®µä»£ç éƒ½æ˜¯ç”¨æ¥è¿”å›ä½çƒ­é‡çš„èœè‚´åç§°çš„ï¼Œå¹¶æŒ‰ç…§å¡è·¯é‡Œæ’åºï¼Œä¸€ä¸ªä½¿ç”¨java 7å†™çš„ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨java 8çš„æµå†™çš„ï¼Œæ¯”è¾ƒä¸€ä¸‹ï¼Œä¸ç”¨å¤ªå…³å¿ƒjava 8çš„è¯­æ³•ï¼š ç°åœ¨ï¼Œä½ å¯ä»¥çœ‹å‡ºï¼Œä»è½¯ä»¶å·¥ç¨‹å¸ˆçš„è§’åº¦æ¥çœ‹ï¼Œæ–°çš„æ–¹æ³•æœ‰å‡ ä¸ªæ˜¾è€Œæ˜“è§çš„å¥½å¤„ã€‚ ä»£ç æ˜¯ä»¥å£°æ˜æ€§æ–¹å¼å†™çš„ï¼šè¯´æ˜æƒ³è¦å®Œæˆä»€ä¹ˆï¼ˆç­›é€‰çƒ­é‡ä½çš„èœè‚´ï¼‰è€Œä¸æ˜¯è¯´æ˜å¦‚ä½•å®ç°ä¸€ä¸ªæ“ä½œï¼ˆåˆ©ç”¨å¾ªç¯å’Œifæ¡ä»¶ç­‰æ§åˆ¶æµè¯­å¥ï¼‰ã€‚è¿™ç§æ–¹æ³•åŠ ä¸Šè¡Œä¸ºå‚æ•°åŒ–è®©ä½ å¯ä»¥è½»æ¾åº”å¯¹å˜åŒ–çš„éœ€æ±‚ï¼šä½ å¾ˆå®¹æ˜“åˆ›å»ºä¸€ä¸ªä»£ç ç‰ˆæœ¬ï¼Œåˆ©ç”¨Lambdaè¡¨è¾¾å¼æ¥ç­›é€‰é«˜å¡è·¯é‡Œçš„èœè‚´ï¼Œè€Œç”¨ä¸ç€å»å¤åˆ¶ç²˜è´´ä»£ç ã€‚ ä½ å¯ä»¥æŠŠå‡ ä¸ªåŸºç¡€æ“ä½œé“¾æ¥èµ·æ¥ï¼Œæ¥è¡¨è¾¾å¤æ‚çš„æ•°æ®å¤„ç†æµæ°´çº¿ï¼ˆåœ¨filteråé¢æ¥ä¸Šsortedã€mapå’Œcollectæ“ä½œï¼‰ï¼ŒåŒæ—¶ä¿æŒä»£ç æ¸…æ™°å¯è¯»ã€‚ å› ä¸ºfilterã€sortedã€mapå’Œcoleectç­‰æ“ä½œæ˜¯ä¸å…·ä½“çº¿ç¨‹æ¨¡å‹æ— å…³çš„é«˜å±‚æ¬¡æ„ä»¶ï¼Œæ‰€ä»¥å®ƒä»¬çš„å†…éƒ¨å®ç°å¯ä»¥æ˜¯å•çº¿ç¨‹çš„ï¼Œä¹Ÿå¯èƒ½é€æ˜åœ°å……åˆ†åˆ©ç”¨ä½ çš„å¤šæ ¸æ¶æ„ï¼åœ¨å®è·µä¸­ï¼Œè¿™æ„å‘³ç€ä½ ç”¨ä¸ç€ä¸ºäº†è®©æŸäº›æ•°æ®å¤„ç†ä»»åŠ¡å¹¶è¡Œè€Œå»æ“å¿ƒçº¿ç¨‹å’Œé”äº†ï¼ŒSteam APIéƒ½æ›¿ä½ åšå¥½äº†ï¼ å¹¶ä¸”æ–°çš„Steam APiè¡¨è¾¾èƒ½åŠ›éå¸¸å¼ºï¼Œèƒ½å†™å‡ºä¾‹å¦‚ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š Map&lt;Dish.Type, List&lt;Dish>> dishesByType = menu.steam().collect(groupingBy(Dish::getType)); æµç®€ä»‹è¦è®¨è®ºæµï¼Œå°±è¦å…ˆæ¥è®¨è®ºé›†åˆï¼Œè¿™æ˜¯æœ€å®¹æ˜“ä¸Šæ‰‹çš„æ–¹å¼äº†ã€‚Java 8ä¸­çš„é›†åˆæ”¯æŒä¸€ä¸ªæ–°çš„streamæ–¹æ³•ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæµï¼ˆæ¥å£å®šä¹‰åœ¨java.util,steam.Steamé‡Œï¼‰ã€‚ é‚£ä¹ˆï¼Œæµåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®€çŸ­çš„å®šä¹‰å°±æ˜¯â€œä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºï¼Œç”Ÿæˆçš„å…ƒç´ åºåˆ—â€ã€‚Ohï¼Œå¬ä¸Šå»å°±è®©äººå¤´å¤§ã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ¥å‰–æè¿™ä¸ªå®šä¹‰ï¼š è®©æˆ‘ä»¬æ¥çœ‹ä¸€æ®µèƒ½å¤Ÿä½“ç°æ‰€æœ‰è¿™äº›æ¦‚å¿µçš„ä»£ç ï¼š åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆæ˜¯å¯¹menuè°ƒç”¨steamæ–¹æ³•ï¼Œç”±èœå•å¾—åˆ°ä¸€ä¸ªæµã€‚æ•°æ®æºæ˜¯èœè‚´åˆ—è¡¨ï¼ˆèœå•ï¼‰ï¼Œå®ƒç»™æµæä¾›ä¸€ä¸ªå…ƒç´ åºåˆ—ã€‚æ¥ä¸‹æ¥ï¼Œå¯¹æµåº”ç”¨ä¸€ç³»åˆ—æ•°æ®å¤„ç†æ“ä½œï¼šfilterã€mapã€limitå’Œcollectã€‚ é™¤äº†collectä¹‹å¤–ï¼Œæ‰€æœ‰è¿™äº›æ“ä½œéƒ½ä¼šè¿”å›å¦ä¸€ä¸ªæµï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥ç«­è¯šä¸€æ¡æµæ°´çº¿ï¼Œäºæ˜¯å°±å¯ä»¥çœ‹ä½œå¯¹æºçš„ä¸€ä¸ªæŸ¥è¯¢ã€‚æœ€åï¼Œcollectæ“ä½œå¼€å§‹å¤„ç†æµæ°´çº¿ï¼Œå¹¶è¿”å›ç»“æœã€‚ä¸‹å›¾å±•ç¤ºäº†è¯¥æµæ“ä½œçš„æ¯ä¸ªæ“ä½œçš„ç®€ä»‹ï¼š æ„Ÿè§‰åƒä¸åƒå˜é­”æœ¯å‘¢ï¼Ÿä¸è¿‡è‡³å°‘çœ‹èµ·æ¥ï¼Œæ˜¯æŒºé…·çš„ã€‚ é›†åˆä¸æµ ä¸Šå›¾å¾ˆå¥½çš„è¯´æ˜äº†åœ¨Java 8ä¸­çš„é›†åˆä¸æµçš„å…³ç³»ï¼Œé›†åˆå°±åƒæ˜¯DVDä¸€æ ·ï¼Œä¿å­˜äº†å®Œæ•´çš„æ•°æ®ç»“æ„å’Œæ‰€æœ‰çš„å€¼ï¼Œè€Œæµåˆ™åƒæ˜¯ç°åœ¨è§†é¢‘ç½‘ç«™ä¸­çš„è§†é¢‘é‚£æ ·ï¼Œä¸å¿…æå‰ä¸‹å¥½å®Œæ•´çš„è§†é¢‘ï¼Œåªéœ€è¦æå‰ä¸‹è½½å¥½ç”¨æˆ·æ’­æ”¾ä½ç½®çš„é‚£å‡ å¸§å°±å¥½äº†ã€‚ è¯·æ³¨æ„ï¼šæµå’Œè¿­ä»£å™¨ä¸€æ ·ï¼Œéƒ½åªèƒ½éå†ä¸€æ¬¡ã€‚ æµæ“ä½œjava.util.steam.Steamä¸­çš„Steamæ¥å£å®šä¹‰äº†è®¸å¤šæ“ä½œã€‚å®ƒä»¬å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç±»æ˜¯ä¸­é—´æ“ä½œï¼Œå¦ä¸€ç±»æ˜¯ç»ˆç«¯æ“ä½œã€‚ ä¸ºäº†æ–¹ä¾¿ï¼Œä¸‹é¢æ€»ç»“äº†ä¸€äº›Steam APIæä¾›çš„æ“ä½œï¼š æµçš„ä½¿ç”¨ä¸€èˆ¬åŒ…æ‹¬ä¸‰ä»¶äº‹ï¼š ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚é›†åˆï¼‰æ¥æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼› ä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå½¢æˆä¸€æ¡æµçš„æµæ°´çº¿ï¼› ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œæ‰§è¡Œæµæ°´çº¿ï¼Œå¹¶èƒ½ç”Ÿæˆç»“æœ æµçš„æµæ°´çº¿èƒŒåçš„ç†å¿µæœ‰ç‚¹ç±»ä¼¼äºæ„å»ºå™¨æ¨¡å¼ã€‚ è‡³æ­¤ï¼Œæµçš„åŸºæœ¬æ“ä½œå°±å·²ç»é˜è¿°å®Œå…¨äº†ï¼Œç›¸ä¿¡ä½ å·²ç»åŒæˆ‘ä¸€æ ·å¯¹Java 8çš„æ–°ç‰¹æ€§æ„Ÿåˆ°å…´å¥‹äº†å§ï¼Œä¸å¯é¿å…ï¼Œå› ä¸ºè¿™å®åœ¨æ˜¯å¤ªé…·å•¦ï¼ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java 8â€”â€”Lambdaè¡¨è¾¾å¼","slug":"Java-8â€”â€”Lambdaè¡¨è¾¾å¼","date":"2017-12-27T15:53:00.000Z","updated":"2020-08-03T07:51:47.501Z","comments":true,"path":"2017/12/27/java-8-lambda-biao-da-shi/","link":"","permalink":"http://www.wmyskxz.com/2017/12/27/java-8-lambda-biao-da-shi/","excerpt":"","text":"æœ¬æ–‡å†…å®¹å¤§éƒ¨åˆ†æ¥è‡ªã€ŠJava 8å®æˆ˜ã€‹ä¸€ä¹¦ å‰è¨€åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº†åˆ©ç”¨è¡Œä¸ºå‚æ•°åŒ–æ¥ä¼ é€’ä»£ç æœ‰åŠ©äºåº”å¯¹ä¸æ–­å˜åŒ–çš„éœ€æ±‚ï¼Œå®ƒå…è®¸ä½ å®šä¹‰ä¸€ä¸ªä»£ç å—æ¥è¡¨ç¤ºä¸€ä¸ªè¡Œä¸ºï¼Œç„¶åä¼ é€’å®ƒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ©ç”¨è¿™ä¸ªæ¦‚å¿µï¼Œä½ å°±å¯ä»¥ç¼–å†™æ›´ä¸ºçµæ´»ä¸”å¯é‡å¤ä½¿ç”¨çš„ä»£ç äº†ã€‚ ä½†æ˜¯ä½ åŒæ—¶ä¹Ÿçœ‹åˆ°ï¼Œä½¿ç”¨åŒ¿åç±»æ¥è¡¨ç¤ºä¸åŒçš„è¡Œä¸ºå¹¶ä¸ä»¤äººæ»¡æ„ï¼šä»£ç ååˆ†å•°å—¦ï¼Œè¿™ä¼šå½±å“ç¨‹åºå‘˜åœ¨æ—¶é—´ä¸­ä½¿ç”¨è¡Œä¸ºå‚æ•°åŒ–çš„ç§¯ææ€§ã€‚Lambdaè¡¨è¾¾å¼å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå¯ä»¥è®©ä½ å¾ˆç®€æ´åœ°è¡¨ç¤ºä¸€ä¸ªè¡Œä¸ºæˆ–ä¼ é€’ä»£ç ã€‚ç°åœ¨ä½ å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼çœ‹ä½œåŒ¿ååŠŸèƒ½ï¼Œå®ƒåŸºæœ¬ä¸Šå°±æ˜¯æ²¡æœ‰å£°æ˜åç§°çš„æ–¹æ³•ï¼Œä½†å’ŒåŒ¿åç±»ä¸€æ ·ï¼Œå®ƒä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•ã€‚ Lambdaç®¡ä¸­çª¥è±¹å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºç®€æ´åœ°è¡¨ç¤ºå¯ä¼ é€’çš„åŒ¿åå‡½æ•°çš„ä¸€ç§æ–¹å¼ï¼šå®ƒæ²¡æœ‰åç§°ï¼Œä½†å®ƒç”±å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªæŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚ Lambdaè¡¨è¾¾å¼é¼“åŠ±ä½ é‡‡ç”¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„è¡Œä¸ºå‚æ•°åŒ–é£æ ¼ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯ä½ çš„é¢ä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€æ›´åŠ çµæ´»ã€‚æ¯”å¦‚ï¼Œåˆ©ç”¨Lambdaè¡¨è¾¾å¼ï¼Œä½ å¯ä»¥æ›´ä¸ºç®€æ´åœ°è‡ªå®šä¹‰ä¸€ä¸ªComparatorå¯¹è±¡ï¼š ä¸å¾—ä¸æ‰¿è®¤ï¼Œä»£ç çœ‹èµ·æ¥æ›´æ¸…æ™°äº†ã€‚è¦æ˜¯ç°åœ¨è§‰å¾—Lambdaè¡¨è¾¾å¼çœ‹èµ·æ¥ä¸€å¤´é›¾æ°´çš„è¯ä¹Ÿæ²¡å…³ç³»ï¼Œå¾ˆå¿«å°±ä¼šä¸€ç‚¹ç‚¹çš„è§£é‡Šæ¸…æ¥šçš„ã€‚ç°åœ¨ï¼Œè¯·æ³¨æ„ä½ åŸºæœ¬ä¸Šåªä¼ é€’äº†æ¯”è¾ƒä¸¤ä¸ªè‹¹æœé‡é‡æ‰€éœ€è¦çš„ä»£ç ã€‚çœ‹èµ·æ¥å°±åƒåªä¼ é€’äº†compareæ–¹æ³•çš„ä¸»ä½“ã€‚ä½ å¾ˆå¿«å°±ä¼šå­¦åˆ°ï¼Œä½ ç”šè‡³è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚ ä¸ºäº†è¿›ä¸€æ­¥è¯´æ˜ï¼Œä¸‹é¢ç»™å‡ºäº†Java 8äº”ä¸ªæœ‰æ•ˆçš„Lambdaè¡¨è¾¾å¼çš„ä¾‹å­ï¼š Javaè¯­è¨€è®¾è®¡è€…é€‰æ‹©è¿™æ ·çš„è¯­æ³•ï¼Œæ˜¯å› ä¸ºC#å’ŒScalaç­‰è¯­è¨€ä¸­çš„ç±»ä¼¼åŠŸèƒ½å¹¿å—æ¬¢è¿ã€‚Lambdaçš„åŸºæœ¬è¯­æ³•æ˜¯ï¼š (parameters) -> expression æˆ–ï¼ˆè¯·æ³¨æ„è¯­å¥çš„èŠ±æ‹¬å·ï¼‰ (parameters) -> { statements; } ä½ å¯ä»¥çœ‹åˆ°ï¼ŒLambdaè¡¨è¾¾å¼çš„è¯­æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬ä¸‹æ¥æ¥æµ‹è¯•ä¸€ä¸‹ä½ å¯¹è¿™ä¸ªæ¨¡å¼çš„äº†è§£ç¨‹åº¦ï¼š åœ¨å“ªé‡Œä»¥åŠå¦‚ä½•ä½¿ç”¨Lambdaç°åœ¨ä½ å¯èƒ½åœ¨æƒ³ï¼Œåœ¨å“ªé‡Œå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼ã€‚ç›´æ¥å…¬å¸ƒç­”æ¡ˆï¼šä½ å¯ä»¥åœ¨å‡½æ•°å¼æ¥å£ä¸Šä½¿ç”¨Lambdaè¡¨è¾¾å¼ã€‚ å‡½æ•°å¼æ¥å£è¿˜è®°å¾—ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œä¸ºäº†å‚æ•°åŒ–filteræ–¹æ³•çš„è¡Œä¸ºè€Œåˆ›å»ºçš„Predicateæ¥å£å—ï¼Ÿå®ƒå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºPredicateä»…ä»…å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼š public interface Predicate&lt;T>{ boolean test(T t); } ä¸€è¨€ä»¥è”½ä¹‹ï¼Œå‡½æ•°å¼æ¥å£å°±æ˜¯ä¹‹å®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚ä½ å·²ç»çŸ¥é“äº†Java APIä¸­çš„ä¸€äº›å…¶ä»–å‡½æ•°å¼æ¥å£ï¼Œå¦‚Comparatorå’ŒRunnable public interface Comparator&lt;T>{ int compare(T o1, T o2); } public interface Runnable{ void run(); } æ¥å£ç°åœ¨è¿˜å¯ä»¥æ‹¥æœ‰é»˜è®¤æ–¹æ³•ï¼ˆå³åœ¨ç±»æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡Œæ˜¯ç°å®æ—¶ï¼Œå…¶ä¸»ä½“ä¸ºæ–¹æ³•æä¾›é»˜è®¤å®ç°çš„æ–¹æ³•ï¼Œå¦‚Listçš„sortæ–¹æ³•ï¼‰ã€‚å“ªæ€•æœ‰å¾ˆå¤šé»˜è®¤æ–¹æ³•ï¼Œåªè¦æ¥å£åªå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®ƒå°±ä»ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚ ä¸ºäº†æ£€æµ‹æ˜¯å¦æŒæ¡äº†å‡½æ•°å¼æ¥å£çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå°æµ‹è¯•ï¼š ç”¨å‡½æ•°å¼æ¥å£å¯ä»¥å¹²ä»€ä¹ˆå‘¢ï¼ŸLambdaè¡¨è¾¾å¼å…è®¸ä½ ç›´æ¥ä»¥å†…è”çš„å½¢å¼ä¸ºå‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•æä¾›å®ç°ï¼Œå¹¶æŠŠæ•´ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å¼æ¥å£çš„å®ä¾‹ã€‚è¿™å¬ä¸Šå»å¯èƒ½æœ‰äº›ç»•å£ï¼Œä½†æ˜¯è”æƒ³åˆ°ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„Lambdaè¡¨è¾¾å¼æ”¹é€ çš„è¯­å¥ï¼Œæˆ–è®¸å°±ä¼šæ¸…æ™°è®¸å¤šï¼Œå®ƒä¸åŒäºä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¥å®Œæˆæ—¶çš„ç¬¨æ‹™ï¼Œè€Œæ˜¯æ›´åŠ æ¸…æ™°ç›´æ¥ï¼š ä½ å¯èƒ½ä¼šæƒ³ï¼šâ€œä¸ºä»€ä¹ˆåªæœ‰åœ¨éœ€è¦å‡½æ•°å¼æ¥å£çš„æ—¶å€™æ‰å¯ä»¥ä¼ é€’Lambdaå‘¢ï¼Ÿâ€è¯­è¨€çš„è®¾è®¡è€…ä¹Ÿè€ƒè™‘è¿‡å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ç»™Javaæ·»åŠ å‡½æ•°ç±»å‹ï¼Œä½†æœ€ç»ˆä»–ä»¬é€‰æ‹©äº†ç°åœ¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºè¿™ç§æ–¹å¼è‡ªç„¶ä¸”èƒ½é¿å…è¯­è¨€å˜å¾—æ›´åŠ å¤æ‚ã€‚æ­¤å¤–ï¼Œå¤§å¤šæ•°Javaç¨‹åºå‘˜éƒ½å·²ç»ç†Ÿæ‚‰äº†å…·æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£çš„ç†å¿µï¼ˆä¾‹å¦‚äº‹ä»¶å¤„ç†ï¼‰ã€‚ æŠŠLambdaä»˜è¯¸å®è·µï¼šç¯ç»•æ‰§è¡Œæ¨¡å¼è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œçœ‹çœ‹åœ¨å®è·µä¸­å¦‚ä½•åˆ©ç”¨Lambdaå’Œè¡Œä¸ºå‚æ•°åŒ–æ¥è®©ä»£ç æ›´ä¸ºçµæ´»ï¼Œæ›´ä¸ºç®€æ´ã€‚èµ„æºå¤„ç†ï¼ˆä¾‹å¦‚å¤„ç†æ–‡ä»¶æˆ–æ•°æ®åº“ï¼‰æ—¶ä¸€ä¸ªå¸¸è§çš„æ¨¡å¼å°±æ˜¯æ‰“å¼€ä¸€ä¸ªèµ„æºï¼Œåšä¸€äº›å¤„ç†ï¼Œç„¶åå…³é—­èµ„æºã€‚è¿™ä¸ªè®¾ç½®å’Œæ¸…ç†é˜¶æ®µæ€»æ˜¯å¾ˆç›¸ä¼¼ï¼Œå¹¶ä¸”ä¼šå›´ç»•ç€æ‰§è¡Œå¤„ç†çš„é‚£äº›é‡è¦ä»£ç ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ç¯ç»•æ‰§è¡Œï¼ˆexecute aroundï¼‰æ¨¡å¼ï¼š ç¬¬ä¸€æ­¥ï¼šè®°å¾—è¡Œä¸ºå‚æ•°åŒ–ç°åœ¨è¿™æ®µä»£ç æ—¶æœ‰å±€é™çš„ã€‚ä½ åªèƒ½è¯»æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚å¦‚æœä½ æƒ³è¦è¿”å›å¤´ä¸¤è¡Œï¼Œç”šè‡³è¿”å›ä½¿ç”¨æœ€é¢‘ç¹çš„è¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿåœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œä½ è¦é‡ç”¨æ‰§è¡Œè®¾ç½®å’Œæ¸…ç†çš„ä»£ç ï¼Œå¹¶å‘Šè¯‰processFileæ–¹æ³•å¯¹æ–‡ä»¶æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚è¿™å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆè€³ç†Ÿï¼Ÿæ˜¯çš„ï¼Œä½ éœ€è¦æŠŠprocessFileçš„è¡Œä¸ºå‚æ•°åŒ–ã€‚ä½ éœ€è¦ä¸€ç§æ–¹æ³•æŠŠè¡Œä¸ºä¼ é€’ç»™processFileï¼Œä»¥ä¾¿å®ƒå¯ä»¥åˆ©ç”¨BufferedReaderæ‰§è¡Œä¸åŒçš„è¡Œä¸ºã€‚ ä¼ é€’è¡Œä¸ºæ­£æ˜¯Lambdaçš„æ‹¿æ‰‹å¥½æˆã€‚é‚£è¦æ˜¯æƒ³ä¸€æ¬¡è¯»ä¸¤è¡Œï¼Œè¿™ä¸ªæ–°çš„processFileæ–¹æ³•çœ‹èµ·æ¥åˆè¯¥æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼ŸåŸºæœ¬ä¸Šï¼Œä½ éœ€è¦ä¸€ä¸ªæ¥å—BufferedReaderå¹¶è¿”å›Stringçš„Lambdaã€‚ä¾‹å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä»BufferedReaderä¸­æ‰“å°ä¸¤è¡Œçš„å†™æ³•ï¼š String result = processFile((BufferedReader br) -> br.readLine() + br.readLine()); ç¬¬äºŒæ­¥ï¼šä½¿ç”¨å‡½æ•°å¼æ¥å£æ¥ä¼ é€’è¡Œä¸ºå‰é¢å·²ç»è§£é‡Šè¿‡äº†ï¼ŒLambdaä»…å¯ç”¨äºä¸Šä¸‹æ–‡æ˜¯å‡½æ•°å¼æ¥å£çš„æƒ…å†µã€‚ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªèƒ½åŒ¹é…BufferedReader -&gt; Stringï¼Œè¿˜å¯ä»¥æŠ›å‡ºIOExceptionå¼‚å¸¸çš„æ¥å£ã€‚è®©æˆ‘ä»¬æŠŠè¿™ä¸€æ¥å£å«åšBufferedReaderProcessorå§ã€‚ @FunctionalInterface public interface BufferedReaderProcessor{ String process(BufferedReader b) throws IOException; } @FunctionalInterface æ ‡æ³¨è¡¨ç¤ºè¯¥æ¥å£ä¼šè®¾è®¡æˆä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚å¦‚æœä½ ç”¨æ­¤æ ‡æ³¨å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œè€Œå®ƒå´ä¸æ˜¯å‡½æ•°å¼æ¥å£çš„è¯ï¼Œç¼–è¯‘å™¨å°†è¿”å›ä¸€ä¸ªæç¤ºåŸå› çš„é”™è¯¯ã€‚ ç°åœ¨ä½ å°±å¯ä»¥æŠŠè¿™ä¸ªæ¥å£ä½œä¸ºæ–°çš„processFileæ–¹æ³•çš„å‚æ•°äº†ï¼š public static String processFile(BufferedReaderProcessor p) throws IOException{ ... } ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œä¸€ä¸ªè¡Œä¸ºä»»ä½•BufferedRader -&gt; Stringå½¢å¼çš„Lambdaéƒ½å¯ä»¥ä½œä¸ºå‚æ•°æ¥ä¼ é€’ï¼Œå› ä¸ºå®ƒä»¬ç¬¦åˆBufferedReaderProcessoræ¥å£ä¸­å®šä¹‰çš„processæ–¹æ³•çš„ç­¾åã€‚ç°åœ¨ä½ åªéœ€è¦ä¸€ç§æ–¹æ³•åœ¨processFileä¸»ä½“å†…æ‰§è¡ŒLambdaæ‰€ä»£è¡¨çš„ä»£ç ã€‚è¯·è®°ä½ï¼ŒLambdaè¡¨è¾¾å¼å…è®¸ä½ ç›´æ¥å†…è”ï¼Œä¸ºå‡½æ•°å¼æ¥å£çš„æŠ½è±¡æ–¹æ³•æä¾›å®ç°ï¼Œå¹¶ä¸”å°†æ•´ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹ã€‚å› æ­¤ï¼Œä½ å¯ä»¥åœ¨processFileä¸»ä½“å†…ï¼Œå¯¹å¾—åˆ°çš„BufferedReaderProcessorå¯¹è±¡è°ƒç”¨processæ–¹æ³•æ‰§è¡Œå¤„ç†ï¼š public static String processFile(BufferedReaderProcesssor p) throws IOException{ try(BufferedReader br = new BufferedReader(new FileReader(\"data.txt\"))){ return p.process(br); } } ç¬¬å››æ­¥ï¼šä¼ é€’Lambdaç°åœ¨ä½ å°±å¯ä»¥é€šè¿‡ä¼ é€’ä¸åŒçš„Lambdaé‡ç”¨processFileæ–¹æ³•ï¼Œå¹¶ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†æ–‡ä»¶äº†ï¼š ä¸‹é¢çš„å›¾ç‰‡æ€»ç»“äº†æ‰€é‡‡å–çš„ä½¿processFileæ–¹æ³•æ›´åŠ çµæ´»çš„å››ä¸ªæ­¥éª¤ï¼š ä½¿ç”¨å‡½æ•°å¼æ¥å£å¦‚ä½ æ‰€è§çš„ï¼Œå‡½æ•°å¼æ¥å£å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºæŠ½è±¡æ–¹æ³•çš„ç­¾åå¯ä»¥æè¿°Lambdaè¡¨è¾¾å¼çš„ç­¾åã€‚Java 8çš„åº“è®¾è®¡å¸ˆå¸®ä½ åœ¨java.util.functionåŒ…ä¸­å¼•å…¥äº†å‡ ä¸ªæ–°çš„å‡½æ•°å¼æ¥å£ã€‚ Predicatejava.util.function.Predicateæ¥å£å®šä¹‰äº†ä¸€ä¸ªåå«testçš„æŠ½è±¡æ–¹æ³•ï¼Œå®ƒæ¥å—æ³›å‹Tå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªbooleanã€‚åœ¨ä½ éœ€è¦ä¸€ä¸ªæ¶‰åŠç±»å‹Tçš„å¸ƒå°”è¡¨è¾¾å¼æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼š Consumerjava.util.function.Consumerå®šä¹‰äº†ä¸€ä¸ªåå«acceptçš„æŠ½è±¡æ–¹æ³•ï¼Œå®ƒæ¥å—æ³›å‹Tçš„å¯¹è±¡ï¼Œæ²¡æœ‰è¿”å›ï¼ˆvoidï¼‰ã€‚ä½ å¦‚æœéœ€è¦è®¿é—®ç±»å‹Tçš„å¯¹è±¡ï¼Œå¹¶å¯¹å…¶æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼š Functionjava.util.function.Function&lt;T,R&gt;æ¥å£å®šä¹‰äº†ä¸€ä¸ªå«åšapplyçš„æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ³›å‹Tçš„å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ³›å‹Rçš„å¯¹è±¡ã€‚å¦‚æœä½ éœ€è¦å®šä¹‰ä¸€ä¸ªLambdaï¼Œå°†è¾“å…¥å¯¹è±¡çš„ä¿¡æ¯æ˜ å°„åˆ°è¾“å‡ºï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥å£ï¼ˆæ¯”å¦‚æå–è‹¹æœçš„é‡é‡ï¼Œæˆ–æŠŠå­—ç¬¦ä¸²æ˜ å°„ä¸ºå®ƒçš„é•¿åº¦ï¼‰ï¼š è¿˜æœ‰æ›´ä¸ºä¸°å¯Œçš„ä¸€äº›å‡½æ•°å¼æ¥å£ï¼Œè¿™é‡Œåˆ—ä¸¾äº†ä¸‰ä¸ªæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ã€‚ æ–¹æ³•å¼•ç”¨æ–¹æ³•å¼•ç”¨è®©ä½ å¯ä»¥é‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬ã€‚åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæ¯”èµ·ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼¼ä¹æ›´æ˜“è¯»ï¼Œæ„Ÿè§‰ä¹Ÿæ›´è‡ªç„¶ã€‚ä¸‹é¢å°±æ˜¯å€ŸåŠ©Java 8APIï¼Œç”¨æ–¹æ³•å¼•ç”¨å†™çš„ä¸€ä¸ªæ’åºçš„ä¾‹å­ï¼š æ˜¯ä¸æ˜¯æ›´é…·äº†ï¼Ÿå¿µèµ·æ¥å°±æ˜¯â€œç»™åº“å­˜æ’åºï¼Œæ¯”è¾ƒè‹¹æœçš„é‡é‡â€ï¼Œè¿™æ ·çš„ä»£ç è¯»èµ·æ¥ç®€ç›´å°±åƒæ˜¯åœ¨æè¿°é—®é¢˜æœ¬èº«ï¼Œå¤ªé…·äº†ã€‚ ä¸ºä»€ä¹ˆè¦å…³å¿ƒæ–¹æ³•å¼•ç”¨å‘¢ï¼Ÿæ–¹æ³•å¼•ç”¨å¯ä»¥è¢«çœ‹ä½œè°ƒç”¨ç‰¹å®šæ–¹æ³•çš„Lambdaçš„ä¸€ç§å¿«æ·å†™æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå¦‚æœä¸€ä¸ªLambdaä»£è¡¨çš„çŸ¥è¯†â€œç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•â€ï¼Œæ‹¿æœ€å¥½è¿˜æ˜¯ç”¨åç§°æ¥è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯å»æè¿°å¦‚ä½•è°ƒç”¨å®ƒã€‚ äº‹å®ä¸Šï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯è®©ä½ æ ¹æ®å·²æœ‰çš„æ–¹æ³•å®ç°æ¥åˆ›å»ºLambdaè¡¨è¾¾å¼ï¼Œä½†æ˜¯ï¼Œæ˜¾å¼åœ°æŒ‡æ˜æ–¹æ³•çš„åç§°ï¼Œä½ çš„ä»£ç å¯è¯»æ€§ä¼šæ›´å¥½ã€‚ å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿå½“ä½ éœ€è¦ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ—¶ï¼Œç›®æ ‡å¼•ç”¨æ”¾åœ¨åˆ†éš”ç¬¦** :: **å‰ï¼Œæ–¹æ³•çš„åç§°æ”¾åœ¨åé¢ã€‚ä¾‹å¦‚ï¼ŒApple::getWeightå°±æ˜¯å¼•ç”¨äº†Appleç±»ä¸­å®šä¹‰çš„æ–¹æ³•getWeightã€‚è¯·è®°ä½ï¼Œä¸éœ€è¦æ‹¬å·ï¼Œå› ä¸ºä½ æ²¡æœ‰å®é™…è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯Lambdaè¡¨è¾¾å¼(Apple a) -&gt; a.getWeight()çš„å¿«æ·å†™æ³•ã€‚ ä¸‹é¢ç»™å‡ºä¸€äº›åœ¨Java 8ä¸­æ–¹æ³•å¼•ç”¨çš„ä¾‹å­æ¥è®©ä½ æ›´åŠ äº†è§£ï¼š ä½ å¯ä»¥æŠŠæ–¹æ³•å¼•ç”¨çœ‹ä½œé’ˆå¯¹ä»…ä»…æ¶‰åŠå•ä¸€æ–¹æ³•çš„Lambdaçš„è¯­æ³•ç³–ï¼Œå› ä¸ºä½ è¡¨è¾¾åŒæ ·çš„äº‹æƒ…æ—¶å†™çš„ä»£ç æ›´å°‘äº†ã€‚ Lambda å’Œæ–¹æ³•å¼•ç”¨å®æˆ˜æˆ‘ä»¬ç»§ç»­æ¥ç ”ç©¶å¼€å§‹çš„é‚£ä¸ªé—®é¢˜â€”â€”ç”¨ä¸åŒçš„æ’åºç­–ç•¥ç»™ä¸€ä¸ªAppleåˆ—è¡¨æ’åºï¼Œå¹¶å±•ç¤ºå¦‚ä½•æŠŠä¸€ä¸ªåŸå§‹ç²—æš´çš„è§£å†³æ–¹æ¡ˆè½¬å˜å¾—æ›´ä¸ºç®€æ˜ï¼šinventory.sort(comparing(Apple::getWeight)); ç¬¬ä¸€æ­¥ï¼šä¼ é€’ä»£ç å¾ˆå¹¸è¿ï¼ŒJava 8çš„APIå·²ç»ä¸ºä½ æä¾›äº†ä¸€ä¸ªListå¯ç”¨çš„sortæ–¹æ³•ï¼Œä½ ä¸ç”¨è‡ªå·±å»å®ç°å®ƒã€‚é‚£ä¹ˆæœ€å›°éš¾çš„éƒ¨åˆ†å·²ç»æå®šäº†ï¼ä½†æ˜¯ï¼Œå¦‚ä½•æŠŠæ’åºçš„ç­–ç•¥ä¼ é€’ç»™sortæ–¹æ³•å‘¢ï¼Ÿä½ çœ‹ï¼Œsortæ–¹æ³•çš„ç­¾åæ˜¯è¿™æ ·çš„ï¼š void sort(Comparator&lt;? super E&gt; c) å®ƒéœ€è¦ä¸€ä¸ªComparatorå¯¹è±¡æ¥æ¯”è¾ƒä¸¤ä¸ªAppleï¼è¿™å°±æ˜¯åœ¨Javaä¸­ä¼ é€’ç­–ç•¥çš„æ–¹å¼ï¼šå®ƒä»¬å¿…é¡»åŒ…è£¹åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œã€‚æˆ‘ä»¬è¯´sortçš„è¡Œä¸ºè¢«å‚æ•°åŒ–äº†ï¼šä¼ é€’ç»™å®ƒçš„æ’åºç­–ç•¥ä¸åŒï¼Œå…¶è¡Œä¸ºä¹Ÿä¼šä¸åŒã€‚ ä½ çš„ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆçœ‹ä¸Šå»æ˜¯è¿™æ ·çš„ï¼š public class AppleComparator implements Comparator&lt;Apple>{ public int compare(Apple a1, Apple a2){ return a1.getWeigh().compareTo(a2.getWeight()); } } inventory.sort(new AppleComparator()); ç¬¬äºŒæ­¥ï¼šä½¿ç”¨åŒ¿åç±»ä½ å¯ä»¥ä½¿ç”¨åŒ¿åç±»æ¥æ”¹è¿›è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯å®ç°ä¸€ä¸ªComparatorå´åªå®ä¾‹åŒ–ä¸€æ¬¡ï¼š inventory.sort(new Comparator&lt;Apple>(){ public int compare(Apple a1, Apple a2){ return a1.getWeight().compareTo(a2.getWeight()); } }); ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨Lambdaè¡¨è¾¾å¼ä½†ä½ çš„è§£å†³æ–¹æ¡ˆä»ç„¶æŒºå•°å—¦çš„ã€‚ä½¿ç”¨Java 8å¼•å…¥çš„Lambdaæ”¹è¿›åçš„ä»£ç å¦‚ä¸‹ï¼š inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight())); ä½ çš„ä»£ç è¿˜èƒ½å˜å¾—æ›´æ˜“è¯»ä¸€ç‚¹å—ï¼ŸComparatorå…·æœ‰ä¸€ä¸ªå«åšcomparingçš„é™æ€è¾…åŠ©æ–¹æ³•ï¼Œå®ƒå¯ä»¥æ¥å—ä¸€ä¸ªFunctionæ¥æå–Comparableé”®å€¼ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªComparatorå¯¹è±¡ã€‚å®ƒå¯ä»¥åƒä¸‹é¢è¿™æ ·ç”¨ï¼š Comparator&lt;Apple&gt; c = Comparator.comparing((Apple a1) -&gt; a.getWeight()); ç°åœ¨ä½ å¯ä»¥æŠŠä»£ç å†æ”¹å¾—ç´§å‡‘ä¸€ç‚¹äº†ï¼š import static java.util.Comparator.comparing; inventory.sort(comparing((a) -> a.getWeight())); ç¬¬å››æ­¥ï¼šä½¿ç”¨æ–¹æ³•å¼•ç”¨å‰é¢è§£é‡Šè¿‡ï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯æ›¿ä»£é‚£äº›è½¬å‘å‚æ•°çš„Lambdaè¡¨è¾¾å¼çš„è¯­æ³•ç³–ã€‚ä½ å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨è®©ä½ çš„ä»£ç æ›´åŠ ç®€æ´ï¼ˆå‡è®¾ä½ å·²ç»é™æ€å¯¼å…¥äº†java.util.Comparator.comparingï¼‰ï¼š inventory.sort(comparing(Apple::getWeight)); æ­å–œä½ ï¼Œè¿™å°±æ˜¯ä½ çš„æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼è¿™ç¬”Java 8ä¹‹å‰çš„ä»£ç å¥½åœ¨å“ªå„¿å‘¢ï¼Ÿå®ƒæ¯”è¾ƒçŸ­ï¼›å®ƒçš„æ„æ€ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¹¶ä¸”ä»£ç è¯»èµ·æ¥å’Œé—®é¢˜æè¿°å·®ä¸å¤šï¼šâ€œå¯¹åº“å­˜è¿›è¡Œæ’åºï¼Œæ¯”è¾ƒè‹¹æœçš„é‡é‡ã€‚â€ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java 8â€”â€”è¡Œä¸ºå‚æ•°åŒ–","slug":"Java-8â€”â€”è¡Œä¸ºå‚æ•°åŒ–","date":"2017-12-26T15:52:00.000Z","updated":"2020-08-03T07:50:35.683Z","comments":true,"path":"2017/12/26/java-8-xing-wei-can-shu-hua/","link":"","permalink":"http://www.wmyskxz.com/2017/12/26/java-8-xing-wei-can-shu-hua/","excerpt":"","text":"å‰è¨€ã€ŠJava8å®æˆ˜ã€‹ä¸å¾—ä¸è¯´æ˜¯ä¸€æœ¬å¥½ä¹¦ï¼Œæ§èµ·æ¥çœ‹èµ·æ¥å°±å…´å¥‹å¾—ä¸æƒ³æ”¾ä¸‹ï¼Œå…¶ä¸­ä»‹ç»çš„å‡½æ•°å¼ç¼–ç¨‹å®åœ¨æ˜¯å¤ªä»¤äººå…´å¥‹äº†ï¼Œä¸ä»…ä»…å¤§å¤§æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œè€Œä¸”æé«˜äº†ä»£ç çš„é‡ç”¨æ€§ï¼Œå¹¶ä¸”è¯­æ³•ç®€å•ã€‚ Java 8ä¸­æ–°å¢çš„åŠŸèƒ½æ˜¯è‡ªJava 1.0å‘å¸ƒä»¥æ¥18å¹´ä»¥æ¥ï¼Œå‘ç”Ÿå˜åŒ–æœ€å¤§çš„ä¸€æ¬¡ã€‚æˆ‘æœ¬èº«æ²¡æœ‰å¤ªå¤§çš„ä½“ä¼šï¼Œä½†æ–°å¢çš„è¿™äº›åŠŸèƒ½ï¼Œæ¯ä¸€ä¸ªéƒ½è®©æˆ‘å…´å¥‹ï¼Œè¿™é‡Œå°±ä¹¦ä¸­çš„å†…å®¹ç®€å•çš„ä»‹ç»ä¸€ä¸‹Java 8çš„è¿™äº›æ–°ç‰¹æ€§ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¿«ï¼Œä½ ä¹Ÿä¼šæœ‰è·Ÿæˆ‘ä¸€æ ·çš„æ„Ÿå—ã€‚ ï¼ˆ1ï¼‰ç”¨è¡Œä¸ºå‚æ•°åŒ–æŠŠä»£ç ä¼ é€’ç»™æ–¹æ³•Java 8ä¸­å¢åŠ äº†é€šè¿‡APIæ¥ä¼ é€’ä»£ç çš„èƒ½åŠ›ï¼Œä½†è¿™å®åœ¨å¬èµ·æ¥å¤ªç»•äº†ï¼Œè¿™åˆ°åº•åœ¨è¯´ä»€ä¹ˆï¼æ‰“ä¸ªæ¯”æ–¹æˆ–è®¸è¦å®¹æ˜“ç†è§£ä¸€äº›ï¼Œä½ æƒ³è¦å†™ä¸¤ä¸ªåªæœ‰å‡ è¡Œä»£ç ä¸åŒçš„æ–¹æ³•ï¼Œé‚£ç°åœ¨ä½ åªéœ€è¦æŠŠä¸åŒçš„é‚£éƒ¨åˆ†ä»£ç ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»å°±å¯ä»¥äº†ã€‚ åœ¨Java 8ä¸­ï¼Œè¿™æ ·åšèµ·æ¥ï¼ˆä¸æ­¢äºåŒ¿åç±»ï¼‰è¿œè¿œæ¯”ä½ æƒ³è±¡çš„è¦æ¥å¾—æ›´åŠ æ¸…æ™°ã€ç®€æ´ã€‚è¡Œä¸ºå‚æ•°åŒ– æˆ‘ä»¬ç°åœ¨æ¥è€ƒè™‘è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼šæœ‰ä¸ªåº”ç”¨ç¨‹åºæ˜¯å¸®åŠ©å†œæ°‘äº†è§£è‡ªå·±çš„åº“å­˜çš„ï¼Œè¿™ä½å†œæ°‘å¯èƒ½æƒ³æœ‰ä¸€ä¸ªæŸ¥æ‰¾åº“å­˜ä¸­æ‰€æœ‰ç»¿è‰²è‹¹æœçš„åŠŸèƒ½ã€‚ä½†åˆ°äº†ç¬¬äºŒå¤©ï¼Œä»–å¯èƒ½ä¼šå‘Šè¯‰ä½ ï¼šâ€œå…¶å®æˆ‘è¿˜æƒ³æ‰¾å‡ºæ‰€æœ‰é‡é‡è¶…è¿‡150å…‹çš„è‹¹æœâ€ã€‚åˆè¿‡äº†ä¸¤å¤©ï¼Œä»–å¯èƒ½ä¼šç»§ç»­è¡¥å……é“ï¼šâ€œè¦æ˜¯æˆ‘å¯ä»¥æ‰¾å‡ºæ‰€æœ‰æ—¢æ˜¯ç»¿è‰²ï¼Œé‡é‡ä¹Ÿè¶…è¿‡150å…‹çš„è‹¹æœï¼Œé‚£å°±å¤ªæ£’äº†ã€‚â€ æƒ³ä¸€ä¸‹ä½ åº”è¯¥å¦‚ä½•åº”å¯¹è¿™æ ·ä¸æ–­å˜åŒ–çš„éœ€æ±‚å‘¢ï¼Ÿç†æƒ³çš„çŠ¶æ€ä¸‹ï¼Œä½ åº”è¯¥æŠŠä½ çš„å·¥ä½œé‡é™åˆ°æœ€å°ï¼Œæ­¤å¤–ç±»ä¼¼çš„æ–°åŠŸèƒ½å®ç°èµ·æ¥è¿˜åº”è¯¥å¾ˆç®€å•ï¼Œè€Œä¸”æ˜“äºé•¿æœŸç»´æŠ¤ã€‚ ç¬¬ä¸€æ¬¡å°è¯•ï¼šç­›é€‰ç»¿è‹¹æœç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·çš„: public static List&lt;Apple> filterGreenApples(List&lt;Apple> inventory){ List&lt;Apple> result = new ArrayList&lt;>(); for(Apple apple: inventory){ if( â€œgreenâ€.equals(apple.getColor()) { result.add(apple); } } // end for return result; } è¿™æ ·çš„ä»£ç çœ‹èµ·æ¥ä¼¼ä¹ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿå¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œä½†æ˜¯ç°åœ¨å†œæ°‘æ”¹ä¸»æ„äº†ï¼Œä»–è¿˜æƒ³è¦ç­›é€‰çº¢è‹¹æœï¼Œåˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿç®€å•çš„æ–¹æ³•å°±æ˜¯å¤åˆ¶è¿™ä¸ªæ–¹æ³•ï¼Œç„¶åæŠŠå‡½æ•°åç§°å’Œifåˆ¤æ–­çš„æ¡ä»¶æ¥åˆ†åˆ«åŒ¹é…åˆ°çº¢è‹¹æœä¸Šå°±å¯ä»¥äº†ã€‚ç„¶è€Œï¼Œè¦æ˜¯å†œæ°‘æƒ³è¦ç­›é€‰å‡ºå¤šç§é¢œè‰²ï¼šæµ…ç»¿è‰²ï¼Œæš—çº¢è‰²ã€é»„è‰²ç­‰ï¼Œè¿™ç§æ–¹æ³•å°±åº”ä»˜ä¸äº†äº†ã€‚ä¸€ä¸ªè‰¯å¥½çš„åŸåˆ™æ˜¯åœ¨ç¼–å†™ç±»ä¼¼çš„ä»£ç ä¹‹åï¼Œå°è¯•å°†å…¶æŠ½è±¡åŒ–ã€‚ ç¬¬äºŒæ¬¡å°è¯•ï¼šæŠŠé¢œè‰²ä½œä¸ºå‚æ•°ä¸€ç§åšæ³•æ˜¯ç»™æ–¹æ³•åŠ ä¸€ä¸ªå‚æ•°ï¼ŒæŠŠé¢œè‰²å˜æˆå‚æ•°ï¼Œè¿™æ ·å°±çµæ´»åœ°é€‚åº”äº†å˜åŒ–ï¼š public static List&lt;Apple> filterApplesByColor(List&lt;Apple> inventory,String color){ List&lt;Apple> result = new ArrayList&lt;>(); for(Apple apple: inventory){ if(apple.getColor().equals(color)){ result.add(apple); } } // end for return result; } ç°åœ¨ï¼Œåªè¦åƒä¸‹é¢è¿™æ ·è°ƒç”¨æ–¹æ³•ï¼Œå†œæ°‘æœ‹å‹å°±ä¼šæ»¡æ„äº†ï¼š List&lt;Apple&gt; greenApples = filterApplesByColor(inventory,&quot;green&quot;); List&lt;Apple&gt; greenApples = filterApplesByColor(inventory,&quot;red&quot;); ....å¤ªç®€å•äº†å¯¹å§ï¼Ÿè®©æˆ‘ä»¬æŠŠæ¡ˆä¾‹å˜å¾—å¤æ‚ä¸€ç‚¹ã€‚è¿™ä½å†œæ°‘åˆè·‘å›æ¥å’Œä½ è¯´ï¼šâ€œè¦æ˜¯èƒ½åŒºåˆ†è½»çš„è‹¹æœå’Œé‡çš„è‹¹æœå°±å¤ªå¥½äº†ã€‚é‡çš„è‹¹æœä¸€èˆ¬å¤§äº150å…‹ã€‚â€ ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä½ æ—©å°±æƒ³å¥½äº†å†œæ°‘å¯èƒ½ä¼šè¦æ”¹å˜é‡é‡ï¼Œäºæ˜¯ä½ å†™äº†ä¸‹é¢çš„æ–¹æ³•ï¼Œç”¨å¦ä¸€ä¸ªå‚æ•°æ¥åº”å¯¹ä¸åŒçš„é‡é‡ï¼š public static List&lt;Apple> filterApplesByColor(List&lt;Apple> inventory,int weight){ List&lt;Apple> result = new ArrayList&lt;>(); for(Apple apple: inventory){ if(apple.getWeight() > weight){ result.add(apple); } } // end for return result; } è§£å†³æ–¹æ¡ˆä¸é”™ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œä½ èµ‹å€¼äº†å¤§éƒ¨åˆ†çš„ä»£ç æ¥å®ç°éå†åº“å­˜ï¼Œå¹¶å¯¹æ¯ä¸ªè‹¹æœåº”ç”¨ç­›é€‰æ¡ä»¶ã€‚è¿™æœ‰ç‚¹å„¿ä»¤äººå¤±æœ›ï¼Œå› ä¸ºå®ƒæ‰“ç ´äº†DRYï¼ˆDonâ€™t Repeat Yourself,ä¸è¦é‡å¤ä½ è‡ªå·±ï¼‰çš„è½¯ä»¶å·¥ç¨‹åŸåˆ™ã€‚ å¦‚æœä½ æƒ³è¦æ”¹å˜ç­›é€‰éå†æ–¹å¼æ¥æå‡æ€§èƒ½å‘¢ï¼Ÿé‚£å°±å¾—ä¿®æ”¹æ‰€æœ‰æ–¹æ³•çš„å®ç°ï¼Œè€Œä¸æ˜¯åªæ”¹å˜ä¸€ä¸ªã€‚ä»å·¥ç¨‹å·¥ä½œé‡çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ä»£ä»·å¤ªå¤§äº†ã€‚ ä½ å¯ä»¥å°†é¢œè‰²å’Œé‡é‡ç»“åˆä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œç§°ä¸ºfilterã€‚ä¸è¿‡å°±ç®—è¿™æ ·ï¼Œä½ è¿˜æ˜¯éœ€è¦ä¸€ç§æ–¹å¼æ¥åŒºåˆ†æƒ³è¦ç­›é€‰å“ªä¸ªå±æ€§ã€‚ä½ å¯ä»¥åŠ ä¸Šä¸€ä¸ªæ ‡å¿—ä½æ¥åŒºåˆ†å¯¹é¢œè‰²å’Œé‡é‡çš„æŸ¥è¯¢ï¼ˆä½†ç»ä¸è¦è¿™æ ·åšï¼å¾ˆå¿«ä½ å°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆï¼‰ã€‚ ç¬¬ä¸‰æ¬¡å°è¯•ï¼šå¯¹ä½ æƒ³åˆ°çš„æ¯ä¸ªå±æ€§åšç­›é€‰ä¸€ç§æŠŠæ‰€æœ‰å±æ€§ç»“åˆèµ·æ¥çš„ç¬¨æ‹™å°è¯•å¦‚ä¸‹ï¼š public static List&lt;Apple> filterApples(List&lt;Apple> inventory, String color, int weight, boolean flag){ List&lt;Apple> result = new ArrayList&lt;>(); for(Apple apple: inventory){ if((flag &amp;&amp; apple.getColor.equals(color)) || (!flag &amp;&amp; apple.getWeight() > weight)){ result.add(apple); } } // end for return result; } ä½ å¯ä»¥è¿™ä¹ˆç”¨ï¼ˆä½†çœŸçš„å¾ˆç¬¨æ‹™ï¼‰: List&lt;Apple> greenApples = filterApples(inventory, \"green\", 0, ture); List&lt;Apple> heavyApples = filterApples(inventory, \"\", 150, false); è¿™æ ·çš„è§£å†³æ–¹æ¡ˆå†å·®ä¸è¿‡äº†ã€‚ é¦–å…ˆï¼Œå®¢æˆ·ç«¯ä»£ç çœ‹ä¸Šå»ç³Ÿç³•é€äº†ï¼Œtureå’Œfalseæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ­¤å¤–ï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆè¿˜æ˜¯ä¸èƒ½å¾ˆå¥½çš„åº”å¯¹å˜åŒ–çš„éœ€æ±‚ã€‚å¦‚æœè¿™ä½å†œè¦æ±‚ä½ å¯¹è‹¹æœçš„ä¸åŒå±æ€§åšç­›é€‰ï¼Œæ¯”å¦‚å¤§å°ã€å½¢çŠ¶ã€äº§åœ°ç­‰ï¼Œåˆæ€ä¹ˆåŠï¼Ÿè€Œä¸”ï¼Œå¦‚æœå†œæ°‘è¦æ±‚ä½ ç»„åˆå±æ€§ï¼Œåšæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œæ¯”å¦‚ç»¿è‰²çš„ç§è‹¹æœï¼Œåˆæ”¹æ€ä¹ˆåŠï¼Ÿä½ ä¼šæœ‰å¥½å¤šä¸ªé‡å¤çš„filteræ–¹æ³•ï¼Œæˆ–è€…ä¸€ä¸ªå·¨å¤§çš„éå¸¸å¤æ‚çš„æ–¹æ³•ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»ç»™filterApplesæ–¹æ³•åŠ ä¸Šäº†å€¼ï¼ˆå¦‚Stringã€Integeræˆ–booleanï¼‰çš„å‚æ•°ã€‚è¿™å¯¹äºæŸäº›ç¡®å®šæ€§é—®é¢˜å¯èƒ½è¿˜ä¸é”™ï¼Œä½†å¦‚ä»Šè¿™ç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦ä¸€ç§æ›´å¥½çš„æ–¹å¼ï¼Œæ¥æŠŠè‹¹æœçš„é€‰æ‹©æ ‡å‡†å‘Šè¯‰ä½ çš„filterApplesæ–¹æ³•ã€‚ è¿™å°±æ˜¯éœ€è¦è¡Œä¸ºå‚æ•°åŒ–ç™»åœºå‘æŒ¥ä½œç”¨çš„åœ°æ–¹äº†ã€‚è®©æˆ‘ä»¬åé€€ä¸€æ­¥æ¥çœ‹çœ‹æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹ä½ çš„é€‰æ‹©æ ‡å‡†å»ºæ¨¡ï¼šä½ è€ƒè™‘çš„æ˜¯è‹¹æœï¼Œéœ€è¦æ ¹æ®Appleçš„æŸäº›å±æ€§ï¼ˆæ¯”å¦‚å®ƒæ˜¯ç»¿è‰²çš„å—ï¼Ÿé‡é‡è¶…è¿‡150å…‹å—ï¼Ÿï¼‰æ¥è¿”å›ä¸€ä¸ªbooleanå€¼ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºè°“è¯ï¼ˆå³ä¸€ä¸ªè¿”å›booleanå€¼å¾—å‡½æ•°ï¼‰ã€‚ ç¬¬å››æ¬¡å°è¯•ï¼šæ ¹æ®æŠ½è±¡æ¡ä»¶ç­›é€‰è®©æˆ‘ä»¬å…ˆæ¥å®šä¹‰ä¸€ä¸ªæ¥å£å¯¹é€‰æ‹©æ ‡å‡†å»ºæ¨¡ï¼š public interface ApplePredicate{ boolean test (Apple apple); } ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ApplePredicateçš„å¤šä¸ªå®ç°ä»£è¡¨ ä¸åŒçš„é€‰æ‹©æ ‡å‡†äº†ï¼Œæ¯”å¦‚ï¼š ä½ å¯ä»¥æŠŠè¿™äº›æ ‡å‡†çœ‹ä½œfilteræ–¹æ³•çš„ä¸åŒè¡Œä¸ºã€‚ä½ åˆšåšçš„è¿™äº›å’Œâ€œç­–ç•¥è®¾è®¡æ¨¡å¼â€ç›¸å…³ï¼Œå®ƒè®©ä½ å®šä¹‰ä¸€æ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬å°è£…èµ·æ¥ï¼ˆç§°ä¸ºâ€œç­–ç•¥â€ï¼‰ï¼Œç„¶ååœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸€ä¸ªç®—æ³•ã€‚åœ¨è¿™é‡Œç®—æ³•ç°‡å°±æ˜¯ApplePredicateï¼Œä¸åŒçš„ç­–ç•¥å°±æ˜¯AppleHeavyWeightPredicateå’ŒAppleGreenColorPredicateã€‚ ä½†æ˜¯ï¼Œè¯¥æ€ä¹ˆåˆ©ç”¨ApplePredicateçš„ä¸åŒå®ç°å‘¢ï¼Ÿä½ éœ€è¦filterApplesæ–¹æ³•æ¥å—ApplePredicateå¯¹è±¡ï¼Œå¯¹Appleåšæ¡ä»¶æµ‹è¯•ã€‚è¿™å°±æ˜¯è¡Œä¸ºå‚æ•°åŒ–ï¼šè®©æ–¹æ³•æ¥å—å¤šç§è¡Œä¸ºï¼ˆæˆ–æˆ˜ç•¥ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œå®Œæˆä¸åŒçš„è¡Œä¸ºã€‚ åˆ©ç”¨ApplePredicateæ”¹è¿‡ä¹‹åï¼Œfilteræ–¹æ³•çœ‹èµ·æ¥å°±æ˜¯è¿™æ ·çš„ï¼š public static List&lt;Apple> filterApples(List&lt;Apple> inventory, ApplePredicate p){ List&lt;Apple> result = new ArrayList&lt;>(); for(Apple apple:inventory){ if(p.test(apple)){ result.add(apple); } // end if } // end for return result; } è¿™é‡Œå€¼å¾—æš‚åœä¸‹æ¥å°å°åœ°åº†ç¥ä¸€ä¸‹ã€‚è¿™æ®µä»£ç æ¯”æˆ‘ä»¬ç¬¬ä¸€æ¬¡å°è¯•çš„æ—¶å€™çµæ´»å¤šäº†ï¼Œè¯»èµ·æ¥ã€ç”¨èµ·æ¥ä¹Ÿæ›´å®¹æ˜“ï¼ç°åœ¨ä½ å¯ä»¥åˆ›å»ºä¸åŒçš„ApplePredicateå¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬ä¼ é€’ç»™filterApplesæ–¹æ³•ã€‚å…è´¹çš„çµæ´»æ€§ï¼æ¯”å¦‚ï¼Œå¦‚æœå†œæ°‘è®©ä½ æ‰¾å‡ºæ‰€æœ‰é‡é‡è¶…è¿‡150å…‹çš„çº¢è‹¹æœï¼Œä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªç±»æ¥å®ç°ApplePredicacteå¯¹è±¡å°±å¯ä»¥äº†ï¼Œä½ çš„ä»£ç ç°åœ¨è¶³å¤Ÿçµæ´»ï¼Œå¯ä»¥åº”å¯¹ä»»ä½•æ¶‰åŠè‹¹æœå±æ€§çš„éœ€æ±‚å˜æ›´äº†ã€‚ ä½ å·²ç»åšæˆäº†ä¸€ä»¶å¾ˆé…·çš„äº‹ï¼šfilterApplesæ–¹æ³•çš„è¡Œä¸ºå–å†³äºä½ é€šè¿‡ApplePredicateå¯¹è±¡ä¼ é€’çš„ä»£ç ï¼Œæ¢å¥è¯è¯´ï¼Œä½ æŠŠfilterApplesæ–¹æ³•çš„è¡Œä¸ºå‚æ•°åŒ–äº†ï¼ ç¬¬äº”æ¬¡å°è¯•ï¼šä½¿ç”¨åŒ¿åç±»è¿™æ ·åšèµ·æ¥å·²ç»å¾ˆæ£’äº†ï¼Œè¿˜æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œäººä»¬éƒ½ä¸æ„¿æ„ç”¨é‚£äº›å¾ˆéº»çƒ¦çš„åŠŸèƒ½æˆ–è€…æ¦‚å¿µï¼Œç›®å‰ï¼Œå½“è¦æŠŠæ–°çš„è¡Œä¸ºä¼ é€’ç»™filterApplesæ–¹æ³•çš„æ—¶å€™ï¼Œä½ ä¸å¾—ä¸å£°æ˜å¥½å‡ ä¸ªå®ç°ApplePredicateæ¥å£çš„ç±»ï¼Œç„¶åå®ä¾‹åŒ–å¥½å‡ ä¸ªåªä¼šæåˆ°ä¸€æ¬¡çš„ApplePredicateå¯¹è±¡ã€‚ä¸‹é¢è¿™æ®µç¨‹åºæ€»ç»“äº†ä½ ç›®å‰çœ‹åˆ°çš„ä¸€åˆ‡ï¼Œè¿™çœŸçš„å¾ˆå•°å—¦è€Œä¸”è´¹æ—¶é—´ï¼š è´¹è¿™ä¹ˆå¤§åŠ²å„¿ï¼ŒçœŸçš„æ²¡ä»€ä¹ˆå¿…è¦ã€‚èƒ½ä¸èƒ½åšå¾—æ›´å¥½å‘¢ï¼ŸJavaæœ‰ä¸€ä¸ªæœºåˆ¶ç§°ä¸ºåŒ¿åç±»ï¼Œå®ƒå¯ä»¥è®©ä½ åŒæ—¶å£°æ˜å’Œå®ä¾‹åŒ–ä¸€ä¸ªç±»ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è¿›ä¸€æ­¥æ”¹å–„ä»£ç ï¼Œè®©å®ƒå˜å¾—æ›´ç®€æ´ï¼š List&lt;Apple> redApples = filterApples(inventory, new Applepredicate(){ public boolean test(Apple apple){ return \"red\".equals(apple.getColor()); } }); GUIåº”ç”¨ç¨‹åºä¸­ç»å¸¸ä½¿ç”¨åŒ¿åç±»æ¥åˆ›å»ºäº‹ä»¶å¤„ç†å™¨å¯¹è±¡ï¼ˆä¸‹é¢çš„ä¾‹å­ä½¿ç”¨çš„æ˜¯JavaFX API,ä¸€ç§ç°ä»£çš„Java UIå¹³å°ï¼‰ï¼š button.setOnAction(new EventHandler&lt;ActionEvent>(){ public void handle(ActionEvent event){ System.out.println(\"Woooo a click!\"); } }); ä½†æ˜¯åŒ¿åç±»ä»ç„¶ä¸å¤Ÿå¥½ã€‚ ç¬¬ä¸€ï¼Œå®ƒå¾€å¾€å¾ˆç¬¨é‡ï¼Œå› ä¸ºå®ƒå ç”¨äº†å¾ˆå¤šç©ºé—´ï¼Œè¿˜æ‹¿å‰é¢çš„ä¾‹å­æ¥è¯´ï¼š ç¬¬äºŒï¼Œå¾ˆå¤šç¨‹åºå‘˜è§‰å¾—å®ƒç”¨èµ·æ¥å¾ˆè®©äººè´¹è§£ï¼Œæ¯”å¦‚è¿™é‡Œæœ‰ä¸€é“ç»å…¸çš„Javaè°œé¢˜ï¼Œå®ƒè®©å¤§å¤šæ•°ç¨‹åºå‘˜éƒ½æªæ‰‹ä¸åŠï¼Œæ¥è¯•è¯•çœ‹ï¼š ç­”æ¡ˆæ˜¯5ï¼Œå› ä¸ºthisæŒ‡çš„æ˜¯åŒ…å«å®ƒçš„Runnableï¼Œè€Œä¸æ˜¯å¤–é¢çš„ç±»MeaningOfThisã€‚ æ•´ä½“æ¥è¯´ï¼Œå•°å—¦å°±ä¸å¥½ã€‚å®ƒè®©äººä¸æ„¿æ„ä½¿ç”¨è¯­è¨€çš„æŸç§åŠŸèƒ½ï¼Œå› ä¸ºç¼–å†™å’Œç»´æŠ¤å•°å—¦çš„ä»£ç éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œè€Œä¸”ä»£ç ä¹Ÿä¸æ˜“è¯»ã€‚å¥½çš„ä»£ç åº”è¯¥ä¸€ç›®äº†ç„¶ã€‚ å³ä½¿åŒ¿åç±»å¤„ç†åœ¨æŸç§ç¨‹åº¦ä¸Šæ”¹å–„äº†ä¸ºä¸€ä¸ªæ¥å£å£°æ˜å¥½å‡ ä¸ªå®ä½“ç±»çš„å•°å—¦é—®é¢˜ï¼Œä½†å®ƒä»ç„¶ä¸èƒ½è®©äººæ»¡æ„ã€‚åœ¨åªéœ€è¦ä¼ é€’ä¸€æ®µç®€å•çš„ä»£ç æ—¶ï¼ˆä¾‹å¦‚è¡¨ç¤ºé€‰æ‹©æ ‡å‡†çš„booleanè¡¨è¾¾å¼ï¼‰ï¼Œä½ è¿˜æ˜¯è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ˜ç¡®åœ°å®ç°ä¸€ä¸ªæ–¹æ³•æ¥å®šä¹‰ä¸€ä¸ªæ–°çš„è¡Œä¸ºï¼ˆä¾‹å¦‚Predicateä¸­çš„testæ–¹æ³•æˆ–è€…æ˜¯EventHandlerä¸­çš„handleræ–¹æ³•ï¼‰ã€‚ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³é¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¡Œä¸ºå‚æ•°åŒ–æ¨¡å¼ï¼Œå› ä¸ºæ­£å¦‚ä½ åœ¨å‰é¢çœ‹åˆ°çš„ï¼Œå®ƒè®©ä»£ç æ›´èƒ½é€‚åº”éœ€æ±‚çš„å˜åŒ–ï¼Œä½†ä¹ŸåŒæ ·çš„ï¼Œå•°å—¦ä¸å¯é¿å…ã€‚è¿™ä¹Ÿæ­£æ˜¯Java 8çš„è¯­è¨€è®¾è®¡è€…å¼•å…¥Lambdaè¡¨è¾¾å¼çš„åŸå› â€”â€”ä»–è®©ä¼ é€’ä»£ç çš„æ–¹å¼å˜å¾—æ›´åŠ ç®€æ´ã€å¹²å‡€ã€‚ ç¬¬å…­æ¬¡å°è¯•ï¼šä½¿ç”¨Lambdaè¡¨è¾¾å¼ä¸Šé¢çš„ä»£ç åœ¨Java 8é‡Œå¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼é‡å†™ä¸ºä¸‹é¢çš„æ ·å­ï¼š List&lt;Apple> result = filterApples(inventory, (Apple apple) -> \"red\".equals(apple.getColor())); ä¸å¾—ä¸æ‰¿è®¤è¿™ä»£ç çœ‹ä¸Šå»æ¯”å…ˆå‰å¹²å‡€å¾ˆå¤šï¼Œè¿™å¾ˆå¥½ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥æ›´åƒé—®é¢˜é™ˆè¿°æœ¬èº«äº†ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»è§£å†³äº†å•°å—¦çš„é—®é¢˜ï¼Œä¸‹å›¾æ€»ç»“äº†åˆ°ç›®å‰ä¸ºæ­¢çš„å·¥ä½œï¼š ç¬¬ä¸ƒæ¬¡å°è¯•ï¼šå°†Listç±»å‹æŠ½è±¡åŒ–åœ¨é€šå¾€æŠ½è±¡çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ›´è¿‘ä¸€æ­¥ã€‚ç›®å‰filterApplesæ–¹æ³•è¿˜åªé€‚ç”¨äºAppleã€‚ä½ è¿˜å¯ä»¥å°†Listç±»å‹æŠ½è±¡ç”»ï¼Œä»è€Œè¶…è¶Šä½ çœ¼å‰è¦å¤„ç†çš„é—®é¢˜ï¼š public interface Predicate&lt;T>{ boolean test(T t); } public static &lt;T> List&lt;T> filter(List&lt;T> list, Predicate&lt;T> p){ List&lt;T> result = new ArrayList&lt;>(); for(T e:list){ if(p.test(e)){ result.add(e); } // end if } // end for return result; } ç°åœ¨ä½ å¯ä»¥æŠŠfilteræ–¹æ³•ç”¨åœ¨é¦™è•‰ã€æ¡”å­ã€Integeræˆ–è€…æ˜¯Stringçš„åˆ—è¡¨ä¸Šäº†ã€‚è¿™é‡Œæœ‰ä¸€äº›ä½¿ç”¨Lambdaè¡¨è¾¾å¼çš„ä¾‹å­ï¼š List&lt;Apple> redApples = filter(inventory, (Apple apple) -> \"red\".equals(apple.getColor())); List&lt;Integer> evenNumbers = filter(numbers, (Integer i) -> i % 2 == 0); é…·ä¸é…·ï¼Ÿä½ ç°åœ¨åœ¨çµæ´»æ€§å’Œç®€æ´æ€§ä¹‹é—´æ‰¾åˆ°äº†æœ€ä½³å¹³è¡¡ç‚¹ï¼Œè¿™åœ¨Java 8ä¹‹å‰æ˜¯ä¸å¯èƒ½åšåˆ°çš„ï¼ åº”ç”¨è¡Œä¸ºå‚æ•°åŒ–çš„å…¸å‹ä¾‹å­ ä¸€ä¸ªæ˜¯ç”¨Runnableæ‰§è¡Œä»£ç å—ï¼Œç”¨Lambdaè¡¨è¾¾å¼çš„è¯ï¼Œçœ‹èµ·æ¥å°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š Thread t = new Thread(() -> System.out.println(\"Hello world\")); å¦ä¸€ä¸ªå°±æ˜¯GUIäº‹ä»¶å¤„ç†ï¼š button.setOnAction((ActionEvent event) -> label.setText(\"Sent!!\")); çœ‹èµ·æ¥é…·æäº†å§ï¼Ÿä¸è¿‡æƒ³è¦ç†Ÿç»ƒåœ°è¿ç”¨ï¼Œå°±è¦è¶³å¤Ÿäº†è§£Lambdaè¡¨è¾¾å¼ï¼Œè¿™å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­å†æ¥è¯´ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"Java 7çš„æ–°ç‰¹æ€§","slug":"Java-7çš„æ–°ç‰¹æ€§","date":"2017-11-20T15:51:00.000Z","updated":"2020-08-03T07:50:18.293Z","comments":true,"path":"2017/11/20/java-7-de-xin-te-xing/","link":"","permalink":"http://www.wmyskxz.com/2017/11/20/java-7-de-xin-te-xing/","excerpt":"","text":"å‰è¨€ çœ‹å¤§ä½¬æ¨èçš„ä¹¦å•ä¹°äº†ä¸€æœ¬ã€ŠJava 8å®æˆ˜ã€‹ï¼Œæ€»è§‰å¾—åœ¨äº†è§£Java 8ä¹‹å‰ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿåº”è¯¥å»äº†è§£äº†è§£ä¸€ä¸‹Java 7çš„ä¸€äº›ç‰¹æ€§ï¼Ÿæ‰€ä»¥å°±è‡ªå·±ç™¾åº¦äº†ä¸€äº›èµ„æ–™æ¥å­¦ä¹ ã€‚ å½“ç„¶è¿˜æ˜¯è¦å…ˆçœ‹çœ‹å®˜æ–¹æ–‡æ¡£å•¦ è¿™é‡Œæ˜¯è¯¦ç»†ä»‹ç»ï¼ˆç¼ºç‚¹æ˜¯å…¨è‹±æ–‡çš„ï¼Œè²Œä¼¼è¿˜ä¸æ˜¯å®˜æ–¹çš„ï¼Œä¸è¿‡å¾ˆè¯¦ç»†ï¼‰ï¼šhttps://www.oreilly.com/learning/java7-featuresä¸‹é¢å¤§éƒ¨åˆ†å†…å®¹å‡æ¥è‡ªè¿™ä¸€ç¯‡æ–‡ç« ï¼Œç¿»è¯‘ä¸€ä¸‹è€Œå·²ã€‚ æˆ³è¿›å»çœ‹çœ‹ï¼Œå¤§æ¦‚è¿˜æ˜¯èƒ½çœ‹æ‡‚çš„ï¼Œçœ‹åˆ°æœ‰åšå®¢è¯´Java 7å¤§éƒ¨åˆ†çš„ç‰¹æ€§éƒ½æ˜¯è¯­æ³•ç³–ã€‚ 1.Diamond Operatorç±»å‹åˆ¤æ–­æ˜¯ä¸€ä¸ªäººç‰¹æ®Šçš„çƒ¦æ¼ï¼Œå…¥ä¸‹é¢çš„ä»£ç ï¼š Map&lt;String,List&lt;String>> anagrams = new HashMap&lt;String,List&lt;String>>(); é€šè¿‡ç±»å‹æ¨æ–­åå˜æˆï¼š Map&lt;String,List&lt;String>> anagrams = new HashMap&lt;>(); æ³¨ï¼šè¿™ä¸ª&lt;&gt;è¢«å«åšdiamond(é’»çŸ³)è¿ç®—ç¬¦ï¼ŒJava 7åè¿™ä¸ªè¿ç®—ç¬¦ä»å¼•ç”¨çš„å£°æ˜ä¸­æ¨æ–­ç±»å‹ã€‚ 2.åœ¨switchè¯­å¥ä¸­ä½¿ç”¨å­—ç¬¦ä¸²switchè¯­å¥å¯ä»¥ä½¿ç”¨åŸå§‹ç±»å‹æˆ–æšä¸¾ç±»å‹ã€‚Javaå¼•å…¥äº†å¦ä¸€ç§ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨switchè¯­å¥ä¸­ä½¿ç”¨ï¼šå­—ç¬¦ä¸²ç±»å‹ã€‚ è¯´æˆ‘ä»¬æœ‰ä¸€ä¸ªæ ¹æ®å…¶åœ°ä½æ¥å¤„ç†è´¸æ˜“çš„è¦æ±‚ã€‚ç›´åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨if-å…¶ä»–è¯­å¥æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ private voidprocessTrade(Trade t){ String status = t.getStatus(); if(status.equalsIgnoreCase(NEW)) { newTrade(t); } else if(status.equalsIgnoreCase(EXECUTE)) { executeTrade(t); } else if(status.equalsIgnoreCase(PENDING)) { pendingTrade(t); } } è¿™ç§å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•æ˜¯ç²—ç³™çš„ã€‚åœ¨Javaä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¢å¼ºçš„switchè¯­å¥æ¥æ”¹è¿›ç¨‹åºï¼Œè¯¥è¯­å¥ä»¥Stringç±»å‹ä½œä¸ºå‚æ•°ã€‚ public voidprocessTrade(Trade t) { String status = t.getStatus(); switch(status) { caseNEW: newTrade(t); break; caseEXECUTE: executeTrade(t); break; casePENDING: pendingTrade(t); break; default: break; } } åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼ŒçŠ¶æ€å­—æ®µæ€»æ˜¯é€šè¿‡ä½¿ç”¨ String.equals() ä¸æ¡ˆä¾‹æ ‡ç­¾æ¥è¿›è¡Œæ¯”è¾ƒã€‚ 3.è‡ªåŠ¨èµ„æºç®¡ç†Javaä¸­æœ‰ä¸€äº›èµ„æºéœ€è¦æ‰‹åŠ¨å…³é—­ï¼Œä¾‹å¦‚Connectionsï¼ŒFilesï¼ŒInput/OutStreamsç­‰ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ try-finally æ¥å…³é—­èµ„æºï¼š public voidoldTry() { try{ fos= newFileOutputStream(\"movies.txt\"); dos= newDataOutputStream(fos); dos.writeUTF(\"Java 7 Block Buster\"); } catch(IOException e) { e.printStackTrace(); } finally{ try{ fos.close(); dos.close(); } catch(IOException e) { // log the exception } } } ç„¶è€Œï¼Œåœ¨Java 7ä¸­å¼•å…¥äº†å¦ä¸€ä¸ªå¾ˆé…·çš„ç‰¹æ€§ï¼Œå¯ä»¥è‡ªåŠ¨ç®¡ç†èµ„æºã€‚å®ƒçš„æ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯åœ¨ try å—ä¸­ç”³æ˜èµ„æºå¦‚ä¸‹ï¼š try(resources_to_be_cleant){ // your code } ä»¥ä¸Šæ–¹æ³•ä¸æ—§çš„ try-finally èƒ½æœ€ç»ˆå†™æˆä¸‹é¢çš„ä»£ç ï¼š public voidnewTry() { try(FileOutputStream fos = newFileOutputStream(\"movies.txt\"); DataOutputStream dos = newDataOutputStream(fos)) { dos.writeUTF(\"Java 7 Block Buster\"); } catch(IOException e) { // log the exception } } ä¸Šé¢çš„ä»£ç ä¹Ÿä»£è¡¨äº†è¿™ä¸ªç‰¹æ€§çš„å¦ä¸€ä¸ªæ–¹é¢ï¼šå¤„ç†å¤šä¸ªèµ„æºã€‚FileOutputStream å’Œ DataOutputStream åœ¨tryè¯­å¥ä¸­ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å«åœ¨è¯­å¥ä¸­ï¼Œæ¯ä¸€ä¸ªéƒ½ç”¨åˆ†å·(;)åˆ†éš”ç¬¦åˆ†éš”å¼€ã€‚æˆ‘ä»¬ä¸å¿…æ‰‹åŠ¨å–æ¶ˆæˆ–å…³é—­æµï¼Œå› ä¸ºå½“ç©ºé—´å­˜åœ¨tryå—æ—¶ï¼Œå®ƒä»¬å°†è‡ªåŠ¨å…³é—­ã€‚ åœ¨åå°ï¼Œåº”è¯¥è‡ªåŠ¨å…³é—­çš„èµ„æºå¿…é¡»è¯•éªŒ java.lang.AutoCloseable æ¥å£ã€‚ ä»»ä½•å®ç° AutoCloseable æ¥å£çš„èµ„æºéƒ½å¯ä»¥ä½œä¸ºè‡ªåŠ¨èµ„æºç®¡ç†çš„å€™é€‰ã€‚AutoCloseable æ˜¯ java.io.Closeable æ¥å£çš„çˆ¶ç±»ï¼ŒJVMä¼šåœ¨ç¨‹åºé€€å‡ºtryå—åè°ƒç”¨ä¸€ä¸ªæ–¹æ³• close()ã€‚ 4.å¸¦ä¸‹åˆ’çº¿çš„æ•°å­—æ–‡æœ¬æ•°å­—æ–‡å­—ç»å¯¹æ˜¯å¯¹çœ¼ç›çš„ä¸€ç§è€ƒéªŒã€‚æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœä½ ç»™äº†ä¸€ä¸ªæ•°å­—ï¼Œæ¯”å¦‚è¯´ï¼Œåä¸ªé›¶ï¼Œä½ å°±ä¼šåƒæˆ‘ä¸€æ ·æ•°é›¶ã€‚å¦‚æœä¸è®¡ç®—ä»å³åˆ°å·¦çš„ä½ç½®ï¼Œè¯†åˆ«ä¸€ä¸ªæ–‡å­—çš„è¯ï¼Œå°±å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”å¾ˆéº»çƒ¦ã€‚Not anymoreã€‚Javaåœ¨è¯†åˆ«ä½ç½®æ—¶å¼•å…¥äº†ä¸‹åˆ’çº¿ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å£°æ˜1000ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š int thousand = 1_000; æˆ–1000000(ä¸€ç™¾ä¸‡)å¦‚ä¸‹: int million = 1_000_000 è¯·æ³¨æ„ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸­ä¹Ÿå¼•å…¥äº†äºŒè¿›åˆ¶æ–‡å­—-ä¾‹å¦‚â€œ0b1â€-å› æ­¤å¼€å‘äººå‘˜ä¸å¿…å†å°†å®ƒä»¬è½¬æ¢ä¸ºåå…­è¿›åˆ¶ã€‚ 5.æ”¹è¿›çš„å¼‚å¸¸å¤„ç†åœ¨å¼‚å¸¸å¤„ç†åŒºåŸŸæœ‰å‡ å¤„æ”¹è¿›ã€‚Javaå¼•å…¥äº†å¤šä¸ªcatchåŠŸèƒ½ï¼Œä»¥ä½¿ç”¨å•ä¸ªæŠ“åˆ°å—æ•è·å¤šä¸ªå¼‚å¸¸ç±»å‹ã€‚ å‡è®¾æ‚¨æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæŠ›å‡ºä¸‰ä¸ªå¼‚å¸¸ã€‚åœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œæ‚¨å°†åˆ†åˆ«å¤„ç†å®ƒä»¬ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š public voidoldMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne e) { // log and deal with ExceptionOne } catch(ExceptionTwo e) { // log and deal with ExceptionTwo } catch(ExceptionThree e) { // log and deal with ExceptionThree } } åœ¨ä¸€ä¸ªcatchå—ä¸­é€ä¸ªæ•è·ä¸€ä¸ªè¿ç»­çš„å¼‚å¸¸ï¼Œçœ‹èµ·æ¥å¾ˆæ··ä¹±ã€‚æˆ‘è¿˜çœ‹åˆ°äº†æ•è·åå‡ ä¸ªå¼‚å¸¸çš„ä»£ç ã€‚è¿™æ˜¯éå¸¸ä½æ•ˆå’Œå®¹æ˜“å‡ºé”™çš„ã€‚Javaä¸ºè§£å†³è¿™åªä¸‘å°é¸­å¸¦æ¥äº†æ–°çš„è¯­è¨€å˜åŒ–ã€‚è¯·å‚é˜…ä¸‹é¢çš„æ–¹æ³•oldMultiCatchæ–¹æ³•çš„æ”¹è¿›ç‰ˆæœ¬ï¼š public voidnewMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne | ExceptionTwo | ExceptionThree e) { // log and deal with all Exceptions } } å¤šä¸ªå¼‚å¸¸é€šè¿‡ä½¿ç”¨ â€œ|â€æ“ä½œç¬¦åœ¨ä¸€ä¸ªcatchå—ä¸­æ•è·ã€‚è¿™æ ·ï¼Œæ‚¨ä¸å¿…ç¼–å†™æ•°åä¸ªå¼‚å¸¸æ•è·ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æœ‰è®¸å¤šå±äºä¸åŒç±»å‹çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨â€œå¤šä¸ªcatchå—â€å—ã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µè¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š public voidnewMultiMultiCatch() { try{ methodThatThrowsThreeExceptions(); } catch(ExceptionOne e) { // log and deal with ExceptionOne } catch(ExceptionTwo | ExceptionThree e) { // log and deal with ExceptionTwo and ExceptionThree } } åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåœ¨å’ŒExceptionThreeå±äºä¸åŒçš„å±‚æ¬¡ç»“æ„ï¼Œå› æ­¤æ‚¨å¸Œæœ›ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†å®ƒä»¬ï¼Œä½†ä½¿ç”¨ä¸€ä¸ªæŠ“åˆ°å—ã€‚ 6.New file system API(NIO 2.0)é‚£äº›ä½¿ç”¨Javaçš„äººå¯èƒ½è¿˜è®°å¾—æ¡†æ¶å¼•èµ·çš„å¤´ç—›ã€‚åœ¨æ“ä½œç³»ç»Ÿæˆ–å¤šæ–‡ä»¶ç³»ç»Ÿä¹‹é—´æ— ç¼åœ°å·¥ä½œä»æ¥éƒ½ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ….ã€‚æœ‰äº›æ–¹æ³•ï¼Œä¾‹å¦‚åˆ é™¤æˆ–é‡å‘½åï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å‡ºä¹æ„æ–™çš„ã€‚ä½¿ç”¨ç¬¦å·é“¾æ¥æ˜¯å¦ä¸€ä¸ªé—®é¢˜ã€‚å®è´¨ä¸ŠAPIéœ€è¦å¤§ä¿®ã€‚ ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒJavaå¼•å…¥äº†ä¸€ä¸ªæ–°çš„APIï¼Œå¹¶åœ¨è®¸å¤šæƒ…å†µä¸‹å¼•å…¥äº†æ–°çš„apiã€‚ åœ¨NIO2.0æå‡ºäº†è®¸å¤šå¢å¼ºåŠŸèƒ½ã€‚åœ¨å¤„ç†å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œå®ƒè¿˜å¼•å…¥äº†æ–°çš„ç±»æ¥ç®€åŒ–å¼€å‘äººå‘˜çš„ç”Ÿæ´»ã€‚ Working With Pathï¼ˆä½¿ç”¨è·¯å¾„ï¼‰æ–°çš„ java.nio.file ç”±åŒ…å’Œæ¥å£ç»„æˆä¾‹å¦‚ï¼šPath,Paths,FileSystem,FileSystemsç­‰ç­‰ã€‚ è·¯å¾„åªæ˜¯å¯¹æ–‡ä»¶è·¯å¾„çš„ç®€å•å¼•ç”¨ã€‚å®ƒä¸java.io.Fileç­‰ä»·(å¹¶å…·æœ‰æ›´å¤šçš„ç‰¹æ€§)ã€‚ä¸‹é¢çš„ä»£ç æ®µæ˜¾ç¤ºäº†å¦‚ä½•è·å–å¯¹â€œä¸´æ—¶â€æ–‡ä»¶å¤¹çš„è·¯å¾„å¼•ç”¨ï¼š public voidpathInfo() { Path path= Paths.get(\"c:\\Temp\\temp\"); System.out.println(\"Number of Nodes:\"+ path.getNameCount()); System.out.println(\"File Name:\"+ path.getFileName()); System.out.println(\"File Root:\"+ path.getRoot()); System.out.println(\"File Parent:\"+ path.getParent()); } æœ€ç»ˆæ§åˆ¶å°çš„è¾“å‡ºå°†æ˜¯: Number of Nodes:2 File Name:temp.txt File Root:c: File Parent:c:Temp åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•å°±åƒåœ¨æ–‡ä»¶ä¸­è°ƒç”¨deleteæ–¹æ³•(æ³¨æ„å¤æ•°)ä¸€æ ·ç®€å•ã€‚åœ¨ç±»å…¬å¼€ä¸¤ä¸ªåˆ é™¤æ–¹æ³•ï¼Œä¸€ä¸ªæŠ›å‡ºNoSuchFileExceptionï¼Œå¦ä¸€ä¸ªä¸æŠ›ã€‚ ä¸‹é¢çš„deleteæ–¹æ³•è°ƒç”¨æŠ›å‡ºNoSuchFileExceptionï¼Œå› æ­¤æ‚¨å¿…é¡»å¤„ç†å®ƒï¼š Files.delete(path); Where as Files.deleteIfExists(path) does not throw exception (as expected) if the file/directory does not exist. ä½¿ç”¨ Files.deteleIfExists(path) åˆ™ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–å®ç”¨ç¨‹åºæ–¹æ³•ï¼Œä¾‹å¦‚Files.copy(.)å’ŒFiles.move(.)æ¥æœ‰æ•ˆåœ°å¯¹æ–‡ä»¶ç³»ç»Ÿæ‰§è¡Œæ“ä½œã€‚ç±»ä¼¼åœ°ï¼Œä½¿ç”¨ createSymbolicLink(..) æ–¹æ³•ä½¿ç”¨ä»£ç åˆ›å»ºç¬¦å·é“¾æ¥ã€‚ æ–‡ä»¶æ›´æ”¹é€šçŸ¥JDK 7ä¸­æœ€å¥½çš„æ”¹å–„ç®—æ˜¯File change notificationsï¼ˆæ–‡ä»¶æ›´æ”¹é€šçŸ¥ï¼‰äº†ã€‚è¿™æ˜¯ä¸€ä¸ªé•¿æœŸç­‰å¾…çš„ç‰¹æ€§ï¼Œå®ƒæœ€ç»ˆè¢«åˆ»åœ¨NIO 2.0ä¸­ã€‚WatchService API å…è®¸æ‚¨åœ¨å¯¹ä¸»é¢˜(ç›®å½•æˆ–æ–‡ä»¶)è¿›è¡Œæ›´æ”¹æ—¶æ¥æ”¶é€šçŸ¥äº‹ä»¶ã€‚ å…·ä½“çš„åˆ›å»ºæ­¥éª¤å°±ä¸ç»™äº†ï¼Œæ€»ä¹‹å®ƒçš„åŠŸèƒ½å°±è·Ÿå®ƒçš„åå­—ä¸€èˆ¬ï¼Œå½“æ–‡ä»¶å‘ç”Ÿæ›´æ”¹çš„æ—¶å€™ï¼Œèƒ½åŠæ—¶ä½œå‡ºåé¦ˆã€‚ 7.Fork and Joinï¼ˆFork/Joinæ¡†æ¶ï¼‰åœ¨ä¸€ä¸ªjavaç¨‹åºä¸­æœ‰æ•ˆåœ°ä½¿ç”¨å¹¶è¡Œå†…æ ¸ä¸€ç›´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å¾ˆå°‘æœ‰å›½å†…å¼€å‘çš„æ¡†æ¶å°†å·¥ä½œåˆ†é…åˆ°å¤šä¸ªæ ¸å¿ƒï¼Œç„¶ååŠ å…¥å®ƒä»¬æ¥è¿”å›ç»“æœé›†ã€‚Javaå·²ç»å°†è¿™ä¸ªç‰¹æ€§ä½œä¸ºFork/Joinæ¡†æ¶ç»“åˆäº†èµ·æ¥ã€‚ åŸºæœ¬ä¸Šï¼Œåœ¨æŠŠæ‰‹å¤´çš„ä»»åŠ¡å˜æˆäº†å°ä»»åŠ¡ï¼Œç›´åˆ°å°ä»»åŠ¡ç®€å•åˆ°å¯ä»¥ä¸è¿›ä¸€æ­¥åˆ†æ‰‹çš„æƒ…å†µä¸‹è§£å†³ã€‚è¿™å°±åƒä¸€ä¸ªåˆ†è€Œæ²»ä¹‹çš„ç®—æ³•.ã€‚åœ¨è¿™ä¸ªæ¡†æ¶ä¸­éœ€è¦æ³¨æ„çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µæ˜¯ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å·¥ä½œçº¿ç¨‹æ˜¯ç©ºé—²çš„ã€‚ä»–ä»¬å®ç°äº†ä¸€ä¸ª work-stealing ç®—æ³•ï¼Œåœ¨ç©ºé—²çš„å·¥äººâ€œå·â€å·¥ä½œä»é‚£äº›å·¥äººè°æ˜¯å¿™ã€‚ æ”¯æŒFork-Joinæœºåˆ¶çš„æ ¸å¿ƒç±»æ˜¯ForkJoinPoolå’ŒForkJoinTaskã€‚ è¿™é‡Œæ˜¯Java 7çš„æ–°ç‰¹æ€§ä¸€è§ˆè¡¨ï¼šhttp://www.oschina.net/news/20119/new-features-of-java-7 æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°(3)","slug":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°-3","date":"2017-11-19T15:49:00.000Z","updated":"2020-08-03T07:49:37.438Z","comments":true,"path":"2017/11/19/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-3/","link":"","permalink":"http://www.wmyskxz.com/2017/11/19/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-3/","excerpt":"","text":"å»ºè®®125ï¼šä¼˜å…ˆé€‰æ‹©çº¿ç¨‹æ± åœ¨Java1.5ä¹‹å‰ï¼Œå®ç°å¤šçº¿ç¨‹æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦è‡ªå·±å¯åŠ¨çº¿ç¨‹ï¼Œå¹¶å…³æ³¨åŒæ­¥èµ„æºï¼Œé˜²æ­¢å‡ºç°çº¿ç¨‹æ­»é”ç­‰é—®é¢˜ï¼Œåœ¨1.5ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†å¹¶è¡Œè®¡ç®—æ¡†æ¶ï¼Œå¤§å¤§ç®€åŒ–äº†å¤šçº¿ç¨‹å¼€å‘ã€‚æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªçº¿ç¨‹æœ‰äº”ä¸ªçŠ¶æ€ï¼šæ–°å»ºçŠ¶æ€(NEW)ã€å¯è¿è¡ŒçŠ¶æ€(Runnableï¼Œä¹Ÿå«ä½œè¿è¡ŒçŠ¶æ€)ã€é˜»å¡çŠ¶æ€(Blocked)ã€ç­‰å¾…çŠ¶æ€(Waiting)ã€ç»“æŸçŠ¶æ€(Terminated)ï¼Œçº¿ç¨‹çš„çŠ¶æ€åªèƒ½ç”±æ–°å»ºè½¬å˜ä¸ºäº†è¿è¡ŒçŠ¶æ€åæ‰èƒ½è¢«é˜»å¡æˆ–ç­‰å¾…ï¼Œæœ€åç»ˆç»“ï¼Œä¸å¯èƒ½äº§ç”Ÿæœ¬æœ«å€’ç½®çš„æƒ…å†µï¼Œæ¯”å¦‚æŠŠä¸€ä¸ªç»“æŸçŠ¶æ€çš„çº¿ç¨‹è½¬å˜ä¸ºæ–°å»ºçŠ¶æ€ï¼Œåˆ™ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¾‹å¦‚å¦‚ä¸‹ä»£ç ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š public static void main(String[] args) throws InterruptedException { // åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œæ–°å»ºçŠ¶æ€ Thread t = new Thread(new Runnable() { @Override public void run() { System.out.println(\"çº¿ç¨‹æ­£åœ¨è¿è¡Œ\"); } }); // è¿è¡ŒçŠ¶æ€ t.start(); // æ˜¯å¦æ˜¯è¿è¡ŒçŠ¶æ€ï¼Œè‹¥ä¸æ˜¯åˆ™ç­‰å¾…10æ¯«ç§’ while (!t.getState().equals(Thread.State.TERMINATED)) { TimeUnit.MICROSECONDS.sleep(10); } // ç›´æ¥ç”±ç»“æŸè½¬å˜ä¸ºäº‘å¿ƒæ€ t.start(); } æ­¤æ®µç¨‹åºè¿è¡Œæ—¶ä¼šæŠ¥java.lang.IllegalThreadStateExceptionå¼‚å¸¸ï¼ŒåŸå› å°±æ˜¯ä¸èƒ½ä»ç»“æŸçŠ¶æ€ç›´æ¥è½¬å˜ä¸ºè¿è¡ŒçŠ¶æ€ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œæ—¶é—´åˆ†ä¸º3éƒ¨åˆ†ï¼šT1ä¸ºçº¿ç¨‹å¯åŠ¨æ—¶é—´ï¼ŒT2ä¸ºçº¿ç¨‹çš„è¿è¡Œæ—¶é—´ï¼ŒT3ä¸ºçº¿ç¨‹é”€æ¯æ—¶é—´ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸èƒ½è¢«é‡å¤ä½¿ç”¨ï¼Œæ¯æ¬¡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹éƒ½éœ€è¦ç»è¿‡å¯åŠ¨ã€è¿è¡Œã€é”€æ¯æ—¶é—´ï¼Œè¿™åŠ¿å¿…å¢å¤§ç³»ç»Ÿçš„å“åº”æ—¶é—´ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•é™ä½çº¿ç¨‹çš„è¿è¡Œæ—¶é—´å‘¢ï¼Ÿ T2æ˜¯æ— æ³•é¿å…çš„ï¼Œåªæœ‰é€šè¿‡ä¼˜åŒ–ä»£ç æ¥å®ç°é™ä½è¿è¡Œæ—¶é—´ã€‚T1å’ŒT2éƒ½å¯ä»¥é€šè¿‡çº¿ç¨‹æ± (Thread Pool)æ¥ç¼©å‡æ—¶é—´ï¼Œæ¯”å¦‚åœ¨å®¹å™¨(æˆ–ç³»ç»Ÿ)å¯åŠ¨æ—¶ï¼Œåˆ›å»ºè¶³å¤Ÿå¤šçš„çº¿ç¨‹ï¼Œå½“å®¹å™¨(æˆ–ç³»ç»Ÿ)éœ€è¦æ—¶ç›´æ¥ä»çº¿ç¨‹æ± ä¸­è·å¾—çº¿ç¨‹ï¼Œè¿ç®—å‡ºç»“æœï¼Œå†æŠŠçº¿ç¨‹è¿”å›åˆ°çº¿ç¨‹æ± ä¸­___ExecutorServiceå°±æ˜¯å®ç°äº†çº¿ç¨‹æ± çš„æ‰§è¡Œå™¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š public static void main(String[] args) throws InterruptedException { // 2ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ±  ExecutorService es = Executors.newFixedThreadPool(2); // å¤šæ¬¡æ‰§è¡Œçº¿ç¨‹ä½“ for (int i = 0; i &lt; 4; i++) { es.submit(new Runnable() { @Override public void run() { System.out.println(Thread.currentThread().getName()); } }); } // å…³é—­æ‰§è¡Œå™¨ es.shutdown(); } æ­¤æ®µä»£ç é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œç„¶ååœ¨çº¿ç¨‹æ± ä¸­å¤šæ¬¡è¿è¡Œçº¿ç¨‹ä½“ï¼Œè¾“å‡ºè¿è¡Œæ—¶çš„çº¿ç¨‹åç§°ï¼Œç»“æœå¦‚ä¸‹ï¼š** pool-1-thread-1 pool-1-thread-2 pool-1-thread-1 pool-1-thread-2** æœ¬æ¬¡ä»£ç æ‰§è¡Œäº†4éçº¿ç¨‹ä½“ï¼ŒæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰é˜è¿°çš„â€ ä¸€ä¸ªçº¿ç¨‹ä¸å¯èƒ½ä»ç»“æŸçŠ¶æ€è½¬å˜ä¸ºå¯è¿è¡ŒçŠ¶æ€ â€œï¼Œé‚£ä¸ºä»€ä¹ˆæ­¤å¤„çš„2ä¸ªçº¿ç¨‹å¯ä»¥åå¤ä½¿ç”¨å‘¢ï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦ææ¸…æ¥šçš„é‡ç‚¹ã€‚ çº¿ç¨‹æ± æ¶‰åŠä»¥ä¸‹å‡ ä¸ªåè¯ï¼š å·¥ä½œçº¿ç¨‹(Worker)ï¼šçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ï¼Œåªæœ‰ä¸¤ä¸ªçŠ¶æ€ï¼šå¯è¿è¡ŒçŠ¶æ€å’Œç­‰å¾…çŠ¶æ€ï¼Œæ²¡æœ‰ä»»åŠ¡æ—¶å®ƒä»¬å¤„äºç­‰å¾…çŠ¶æ€ï¼Œè¿è¡Œæ—¶å®ƒä»¬å¾ªç¯çš„æ‰§è¡Œä»»åŠ¡ã€‚ ä»»åŠ¡æ¥å£(Task)ï¼šè¿™æ˜¯æ¯ä¸ªä»»åŠ¡å¿…é¡»å®ç°çš„æ¥å£ï¼Œä»¥ä¾›å·¥ä½œçº¿ç¨‹è°ƒåº¦å™¨è°ƒåº¦ï¼Œå®ƒä¸»è¦è§„å®šäº†ä»»åŠ¡çš„å…¥å£ã€ä»»åŠ¡æ‰§è¡Œå®Œçš„åœºæ™¯å¤„ç†ï¼Œä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ç­‰ã€‚è¿™é‡Œæœ‰ä¸¤ç§ç±»å‹çš„ä»»åŠ¡ï¼šå…·æœ‰è¿”å›å€¼(å¼‚å¸¸)çš„Callableæ¥å£ä»»åŠ¡å’Œæ— è¿”å›å€¼å¹¶å…¼å®¹æ—§ç‰ˆæœ¬çš„Runnableæ¥å£ä»»åŠ¡ã€‚ ä»»åŠ¡å¯¹åˆ—(Work Quene)ï¼šä¹Ÿå«ä½œå·¥ä½œé˜Ÿåˆ—ï¼Œç”¨äºå­˜æ”¾ç­‰å¾…å¤„ç†çš„ä»»åŠ¡ï¼Œä¸€èˆ¬æ˜¯BlockingQueneçš„å®ç°ç±»ï¼Œç”¨æ¥å®ç°ä»»åŠ¡çš„æ’é˜Ÿå¤„ç†ã€‚ æˆ‘ä»¬é¦–å…ˆä»çº¿ç¨‹æ± çš„åˆ›å»ºè¯´èµ·ï¼ŒExecutors.newFixedThreadPool(2)è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œæºä»£ç å¦‚ä¸‹ï¼š public class Executors { //ç”Ÿæˆä¸€ä¸ªæœ€å¤§ä¸ºnThreadsçš„çº¿ç¨‹æ± æ‰§è¡Œå™¨ public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable>()); } } è¿™é‡Œä½¿ç”¨äº†LinkedBlockingQueueä½œä¸ºé˜Ÿåˆ—ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ‰€æœ‰ç­‰å¾…å¤„ç†çš„ä»»åŠ¡éƒ½ä¼šæ”¾åœ¨è¯¥å¯¹åˆ—ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤é˜Ÿåˆ—æ˜¯ä¸€ä¸ªé˜»å¡å¼çš„å•ç«¯é˜Ÿåˆ—ã€‚çº¿ç¨‹æ± å»ºç«‹å¥½äº†ï¼Œé‚£å°±éœ€è¦çº¿ç¨‹åœ¨å…¶ä¸­è¿è¡Œäº†ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ˜¯åœ¨submitç¬¬ä¸€æ¬¡æäº¤ä»»åŠ¡æ—¶å»ºç«‹çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š public Future&lt;?> submit(Runnable task) { //æ£€æŸ¥ä»»åŠ¡æ˜¯å¦ä¸ºnull if (task == null) throw new NullPointerException(); //æŠŠRunnableä»»åŠ¡åŒ…è£…æˆå…·æœ‰è¿”å›å€¼çš„ä»»åŠ¡å¯¹è±¡ï¼Œä¸è¿‡æ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œåªæ˜¯åŒ…è£… RunnableFuture&lt;Object> ftask = newTaskFor(task, null); //æ‰§è¡Œæ­¤ä»»åŠ¡ execute(ftask); //è¿”å›ä»»åŠ¡é¢„æœŸæ‰§è¡Œç»“æœ return ftask; } æ­¤å¤„çš„ä»£ç å…³é”®æ˜¯executeæ–¹æ³•ï¼Œå®ƒå®ç°äº†ä¸‰ä¸ªèŒè´£ã€‚ åˆ›å»ºè¶³å¤Ÿå¤šçš„å·¥ä½œçº¿ç¨‹æ•°ï¼Œæ•°é‡ä¸è¶…è¿‡æœ€å¤§çº¿ç¨‹æ•°é‡ï¼Œå¹¶ä¿æŒçº¿ç¨‹å¤„äºè¿è¡Œæˆ–ç­‰å¾…çŠ¶æ€ã€‚ æŠŠç­‰å¾…å¤„ç†çš„ä»»åŠ¡æ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œ å…¶ä¸­æ­¤å¤„çš„å…³é”®æ˜¯å·¥ä½œçº¿ç¨‹çš„åˆ›å»ºï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡new Threadæ–¹å¼åˆ›å»ºçš„ä¸€ä¸ªçº¿ç¨‹ï¼Œåªæ˜¯å®ƒåˆ›å»ºçš„å¹¶ä¸æ˜¯æˆ‘ä»¬çš„ä»»åŠ¡çº¿ç¨‹(è™½ç„¶æˆ‘ä»¬çš„ä»»åŠ¡å®ç°äº†Runnableæ¥å£ï¼Œä½†å®ƒåªæ˜¯èµ·äº†ä¸€ä¸ªæ ‡å¿—æ€§çš„ä½œç”¨)ï¼Œè€Œæ˜¯ç»è¿‡åŒ…è£…çš„Workerçº¿ç¨‹ï¼Œä»£ç å¦‚ä¸‹ï¼š private final class Worker implements Runnable { // è¿è¡Œä¸€æ¬¡ä»»åŠ¡ private void runTask(Runnable task) { /* è¿™é‡Œçš„taskæ‰æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰å®ç°Runnableæ¥å£çš„ä»»åŠ¡ */ task.run(); /* è¯¥æ–¹æ³•å…¶å®ƒä»£ç ç•¥ */ } // å·¥ä½œçº¿ç¨‹ä¹Ÿæ˜¯çº¿ç¨‹ï¼Œå¿…é¡»å®ç°runæ–¹æ³• public void run() { try { Runnable task = firstTask; firstTask = null; while (task != null || (task = getTask()) != null) { runTask(task); task = null; } } finally { workerDone(this); } } // ä»»åŠ¡é˜Ÿåˆ—ä¸­è·å¾—ä»»åŠ¡ Runnable getTask() { /* å…¶å®ƒä»£ç ç•¥ */ for (;;) { return r = workQueue.take(); } } } æ­¤å¤„ä¸ºç¤ºæ„ä»£ç ï¼Œåˆ é™¤äº†å¤§é‡çš„åˆ¤æ–­æ¡ä»¶å’Œé”èµ„æºã€‚executeæ–¹æ³•æ˜¯é€šè¿‡Workerç±»å¯åŠ¨çš„ä¸€ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œæ‰§è¡Œçš„æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åæ”¹çº¿ç¨‹é€šè¿‡getTaskæ–¹æ³•ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡ï¼Œä¹‹åå†ç»§ç»­æ‰§è¡Œï¼Œä½†é—®é¢˜æ˜¯ä»»åŠ¡é˜Ÿåˆ—æ˜¯ä¸€ä¸ªBlockingQueneï¼Œæ˜¯é˜»å¡å¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœè¯¥é˜Ÿåˆ—çš„å…ƒç´ ä¸º0ï¼Œåˆ™ä¿æŒç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°æœ‰ä»»åŠ¡è¿›å…¥ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ¥çœ‹LinkedBlockingQueneçš„takeæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š public E take() throws InterruptedException { E x; int c = -1; final AtomicInteger count = this.count; final ReentrantLock takeLock = this.takeLock; takeLock.lockInterruptibly(); try { try { // å¦‚æœé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸º0ï¼Œåˆ™ç­‰å¾… while (count.get() == 0) notEmpty.await(); } catch (InterruptedException ie) { notEmpty.signal(); // propagate to a non-interrupted thread throw ie; } // ç­‰å¾…çŠ¶æ€ç»“æŸï¼Œå¼¹å‡ºå¤´å…ƒç´  x = extract(); c = count.getAndDecrement(); // å¦‚æœé˜Ÿåˆ—æ•°é‡è¿˜å¤šäºä¸€ä¸ªï¼Œå”¤é†’å…¶å®ƒçº¿ç¨‹ if (c > 1) notEmpty.signal(); } finally { takeLock.unlock(); } if (c == capacity) signalNotFull(); // è¿”å›å¤´å…ƒç´  return x; } åˆ†æåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æ˜ç™½äº†çº¿ç¨‹æ± çš„åˆ›å»ºè¿‡ç¨‹ï¼šåˆ›å»ºä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ä»¥å®¹çº³ä»»åŠ¡ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œä»»åŠ¡æ—¶åˆ›å»ºåšå¤Ÿå¤šçš„çº¿ç¨‹(ä¸è¶…è¿‡è®¸å¯çº¿ç¨‹æ•°)ï¼Œå¹¶å¤„ç†ä»»åŠ¡ï¼Œä¹‹åæ¯ä¸ªå·¥ä½œçº¿ç¨‹è‡ªè¡Œä»ä»»åŠ¡å¯¹åˆ—ä¸­è·å¾—ä»»åŠ¡ï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ•°é‡ä¸º0ä¸ºæ­¢ï¼Œæ­¤æ—¶ï¼Œçº¿ç¨‹å°†å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä¸€æ—¦æœ‰ä»»åŠ¡å†åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œå³å¬å”¤é†’å·¥ä½œçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå®ç°çº¿ç¨‹çš„å¯å¤ç”¨æ€§ã€‚ ä½¿ç”¨çº¿ç¨‹æ± å‡å°‘çš„æ˜¯çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æ—¶é—´ï¼Œè¿™å¯¹äºå¤šçº¿ç¨‹åº”ç”¨æ¥è¯´éå¸¸æœ‰å¸®åŠ©ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„Servletå®¹å™¨ï¼Œæ¯æ¬¡è¯·æ±‚å¤„ç†çš„éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœä¸é‡‡ç”¨çº¿ç¨‹æ± æŠ€æœ¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè¿™ä¼šå¯¼è‡´ç³»ç»Ÿçš„æ€§èƒ½ç¬¦åˆåŠ å¤§ï¼Œå“åº”æ•ˆç‡ä¸‹é™ï¼Œé™ä½äº†ç³»ç»Ÿçš„å‹å¥½æ€§ã€‚ çœç•¥äº†å¾ˆå¤šä¸œè¥¿ï¼Œå› ä¸ºæœ‰ä¸€äº›ä¸œè¥¿ç°åœ¨å¯¹äºè‡ªå·±æ¥è¯´è¿˜ä¸æ˜¯é‚£ä¹ˆå®ç”¨ï¼Œåè¾¹è¿˜æœ‰å‡ ä¸ªç« èŠ‚çš„å†…å®¹ä¹Ÿæ²¡æœ‰æ•´ç†ï¼Œæ˜¯å› ä¸ºæ„Ÿè§‰æ˜¯ä¸€äº›æ›´åŠ å¹¿æ³›çš„ä¸œè¥¿ã€‚æœ‰ä¸€äº›ä¸œè¥¿ä»ç„¶å¾ˆæœ‰é’ˆå¯¹æ€§ï¼Œä½†æ˜¯åœ¨è¿™é‡Œå°±ä¸ç»™å‡ºäº†ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Javaè¿›é˜¶","slug":"å­¦ä¹ ç¬”è®°/Javaè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°(2)","slug":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°-2","date":"2017-11-18T15:48:00.000Z","updated":"2020-08-03T07:49:11.506Z","comments":true,"path":"2017/11/18/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-2/","link":"","permalink":"http://www.wmyskxz.com/2017/11/18/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-2/","excerpt":"","text":"å†™ç€å†™ç€å‘ç°ç®€ä¹¦æé†’æˆ‘æ–‡ç« æ¥è¿‘å­—æ•°æé™ï¼Œå»ºè®®æˆ‘æ¢ä¸€ç¯‡å†™äº†ã€‚ å»ºè®®52ï¼šæ¨èä½¿ç”¨Stringç›´æ¥é‡èµ‹å€¼ä¸€èˆ¬å¯¹è±¡éƒ½æ˜¯é€šè¿‡newå…³é”®å­—ç”Ÿæˆçš„ï¼Œä½†æ˜¯Stringè¿˜æœ‰ç¬¬äºŒç§ç”Ÿæˆæ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ç›´æ¥å£°æ˜æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯æåŠ›æ¨èçš„ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨new Stringï¼ˆâ€Aâ€ï¼‰çš„æ–¹å¼èµ‹å€¼ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬çœ‹å¦‚ä¸‹ä»£ç ï¼š public class Client58 { public static void main(String[] args) { String str1 = \"è©¹å§†æ–¯\"; String str2 = \"è©¹å§†æ–¯\"; String str3 = new String(\"è©¹å§†æ–¯\"); String str4 = str3.intern(); // ä¸¤ä¸ªç›´æ¥é‡æ˜¯å¦ç›¸ç­‰ System.out.println(str1 == str2); // ç›´æ¥é‡å’Œå¯¹è±¡æ˜¯å¦ç›¸ç­‰ System.out.println(str1 == str3); // ç»è¿‡internå¤„ç†åçš„å¯¹è±¡ä¸ç›´æ¥é‡æ˜¯å¦ç›¸ç­‰ System.out.println(str1 == str4); } } æ³¨æ„çœ‹ä¸Šé¢çš„ç¨‹åºï¼Œæˆ‘ä»¬ä½¿ç”¨â€==â€åˆ¤æ–­çš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨åœ°å€æ˜¯å¦ç›¸åŒï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰“å°çš„ç»“æœæ˜¯true,false,trueã€‚å³æœ‰ä¸¤ä¸ªç›´æ¥é‡æ˜¯åŒä¸€ä¸ªå¯¹è±¡(è¿›è¿‡internå¤„ç†åçš„Stringä¸ç›´æ¥é‡æ˜¯åŒä¸€ä¸ªå¯¹è±¡)ï¼Œä½†ç›´æ¥é€šè¿‡newç”Ÿæˆçš„å¯¹è±¡å´ä¸ä¹‹ä¸ç­‰ï¼ŒåŸå› ä½•åœ¨ï¼Ÿ åŸå› æ˜¯Javaä¸ºäº†é¿å…åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­å¤§é‡äº§ç”ŸStringå¯¹è±¡(ä¸ºä»€ä¹ˆä¼šå¤§é‡äº§ç”Ÿï¼Œå› ä¸ºStringå­—ç¬¦ä¸²æ˜¯ç¨‹åºä¸­æœ€ç»å¸¸ä½¿ç”¨çš„ç±»å‹)ï¼Œäºæ˜¯å°±è®¾è®¡äº†ä¸€ä¸ªå­—ç¬¦ä¸²æ± (ä¹Ÿå«ä½œå­—ç¬¦ä¸²å¸¸é‡æ± ï¼ŒString poolæˆ–String Constant Poolæˆ–String Literal Pool),åœ¨å­—ç¬¦ä¸²æ± ä¸­å®¹çº³çš„éƒ½æ˜¯Stringå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå®ƒçš„åˆ›å»ºæœºåˆ¶æ˜¯è¿™æ ·çš„ï¼šåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ± ä¸­æ˜¯å¦æœ‰å­—é¢å€¼ç›¸ç­‰çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¸å†åˆ›å»ºï¼Œç›´æ¥è¿”å›æ± ä¸­è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œè‹¥æ²¡æœ‰åˆ™åˆ›å»ºä¹‹ï¼Œç„¶åæ”¾åˆ°æ± ä¸­ï¼Œå¹¶è¿”å›æ–°å»ºå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ä¸ªæ± å’Œæˆ‘ä»¬å¹³å¸¸è¯´çš„æ± éå¸¸æ¥è¿‘ã€‚å¯¹äºæ­¤ä¾‹å­æ¥è¯´ï¼Œå°±æ˜¯åˆ›å»ºç¬¬ä¸€ä¸ªâ€è©¹å§†æ–¯â€å­—ç¬¦ä¸²æ—¶ï¼Œå…ˆæ£€æŸ¥å­—ç¬¦ä¸²æ± ä¸­æœ‰æ²¡æœ‰è¯¥å¯¹è±¡ï¼Œå‘ç°æ²¡æœ‰ï¼Œäºæ˜¯å°±åˆ›å»ºäº†â€è©¹å§†æ–¯â€è¿™ä¸ªå­—ç¬¦ä¸²å¹¶æ”¾åˆ°æ± ä¸­ï¼Œå¾…åˆ›å»ºstr2å­—ç¬¦ä¸²æ—¶ï¼Œç”±äºæ± ä¸­å·²ç»æœ‰äº†è¯¥å­—ç¬¦ä¸²ï¼Œäºæ˜¯å°±ç›´æ¥è¿”å›äº†è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œæ­¤æ—¶ï¼Œstr1å’Œstr2æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥ä½¿ç”¨â€==â€æ¥åˆ¤æ–­é‚£å½“ç„¶æ˜¯ç›¸ç­‰çš„äº†ã€‚ é‚£ä¸ºä»€ä¹ˆä½¿ç”¨new String(â€œè©¹å§†æ–¯â€)å°±ä¸ç›¸ç­‰äº†å‘¢ï¼Ÿå› ä¸ºç›´æ¥å£°æ˜ä¸€ä¸ªStringå¯¹è±¡æ˜¯ä¸æ£€æŸ¥å­—ç¬¦ä¸²æ± çš„ï¼Œä¹Ÿä¸ä¼šæŠŠå¯¹è±¡æ”¾åˆ°å­—ç¬¦ä¸²æ± ä¸­ï¼Œé‚£å½“ç„¶â€==â€ä¸ºfalseäº†ã€‚ é‚£ä¸ºä»€ä¹ˆinternæ–¹æ³•å¤„ç†åå³åˆç›¸ç­‰äº†å‘¢ï¼Ÿå› ä¸ºinternä¼šæ£€æŸ¥å½“å‰å¯¹è±¡åœ¨å¯¹è±¡æ± ä¸­æ˜¯å¦å­˜åœ¨å­—é¢å€¼ç›¸åŒçš„å¼•ç”¨å¯¹è±¡ï¼Œå¦‚æœæœ‰åˆ™è¿”å›æ± ä¸­çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ”¾ç½®åˆ°å¯¹è±¡æ± ä¸­ï¼Œå¹¶è¿”å›å½“å‰å¯¹è±¡ã€‚ å¯èƒ½æœ‰äººè¦é—®äº†ï¼Œæ”¾åˆ°æ± ä¸­ï¼Œæ˜¯ä¸æ˜¯è¦è€ƒè™‘åƒåœ¾å›æ”¶é—®é¢˜å‘€ï¼Ÿä¸ç”¨è€ƒè™‘äº†ï¼Œè™½ç„¶Javaçš„æ¯ä¸ªå¯¹è±¡éƒ½ä¿å­˜åœ¨å †å†…å­˜ä¸­ä½†æ˜¯å­—ç¬¦ä¸²éå¸¸ç‰¹æ®Šï¼Œå®ƒåœ¨ç¼–è¯‘æœŸå·²ç»å†³å®šäº†å…¶å­˜åœ¨JVMçš„å¸¸é‡æ± (Constant Pool),åƒåœ¾å›æ”¶ä¸ä¼šå¯¹å®ƒè¿›è¡Œå›æ”¶çš„ã€‚ é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å‘ç°Javaåœ¨å­—ç¬¦ä¸²çš„åˆ›å»ºæ–¹é¢ç¡®å®æä¾›äº†éå¸¸å¥½çš„æœºåˆ¶ï¼Œåˆ©ç”¨å¯¹è±¡æ± ä¸ä»…å¯ä»¥æé«˜æ•ˆç‡ï¼ŒåŒæ—¶å‡å°‘äº†å†…å­˜ç©ºé—´çš„å ç”¨ï¼Œå»ºè®®å¤§å®¶åœ¨å¼€å‘ä¸­ä½¿ç”¨ç›´æ¥é‡èµ‹å€¼æ–¹å¼ï¼Œé™¤éå¿…è¦æ‰å»ºç«‹ä¸€ä¸ªStringå¯¹è±¡ã€‚ å»ºè®®54ï¼šæ­£ç¡®ä½¿ç”¨Stringã€StringBufferã€StringBuilderCharSequenceæ¥å£æœ‰ä¸‰ä¸ªå®ç°ç±»ä¸å­—ç¬¦ä¸²æœ‰å…³ï¼ŒStringã€StringBufferã€StringBuilderï¼Œè™½ç„¶å®ƒä»¬éƒ½ä¸å­—ç¬¦ä¸²æœ‰å…³ï¼Œä½†å…¶å¤„ç†æœºåˆ¶æ˜¯ä¸åŒçš„ã€‚ Stringç±»æ˜¯ä¸å¯å˜çš„é‡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºåå°±ä¸èƒ½å†ä¿®æ”¹äº†ï¼Œæ¯”å¦‚åˆ›å»ºäº†ä¸€ä¸ªâ€abcâ€è¿™æ ·çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒåœ¨å†…å­˜ä¸­æ°¸è¿œéƒ½ä¼šæ˜¯â€abcâ€è¿™æ ·å…·æœ‰å›ºå®šè¡¨é¢å€¼çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½è¢«ä¿®æ”¹ï¼Œå³ä½¿æƒ³é€šè¿‡Stringæä¾›çš„æ–¹æ³•æ¥å°è¯•ä¿®æ”¹ï¼Œä¹Ÿæ˜¯è¦ä¹ˆåˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¦ä¹ˆè¿”å›è‡ªå·±ï¼Œæ¯”å¦‚ï¼š String str = \"abc\"; String str1 = str.substring(1); å…¶ä¸­stræ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå…¶å€¼æ˜¯â€abcâ€,é€šè¿‡substringæ–¹æ³•åˆé‡æ–°ç”Ÿæˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²str1ï¼Œå®ƒçš„å€¼æ˜¯â€bcâ€,ä¹Ÿå°±æ˜¯è¯´strå¼•ç”¨çš„å¯¹è±¡ä¸€ä½†äº§ç”Ÿå°±æ°¸è¿œä¸ä¼šå˜ã€‚ä¸ºä»€ä¹ˆä¸Šé¢è¿˜è¯´æœ‰å¯èƒ½ä¸åˆ›å»ºå¯¹è±¡è€Œè¿”å›è‡ªå·±å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºé‡‡ç”¨substring(0)å°±ä¸ä¼šåˆ›å»ºå¯¹è±¡ã€‚JVMä»å­—ç¬¦ä¸²æ± ä¸­è¿”å›strçš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è‡ªèº«çš„å¼•ç”¨ã€‚ StringBufferæ˜¯ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œå®ƒä¸Stringä¸€æ ·ï¼Œåœ¨å†…å­˜ä¸­ä¿å­˜çš„éƒ½æ˜¯ä¸€ä¸ªæœ‰åºçš„å­—ç¬¦åºåˆ—(char ç±»å‹çš„æ•°ç»„)ï¼Œä¸åŒç‚¹æ˜¯StringBufferå¯¹è±¡çš„å€¼æ˜¯å¯æ”¹å˜çš„ï¼Œä¾‹å¦‚ï¼š StringBuffer sb = new StringBuffer(\"a\"); sb.append(\"b\"); ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºsbçš„å€¼åœ¨æ”¹å˜ï¼Œåˆå§‹åŒ–çš„æ—¶å€™æ˜¯â€aâ€ ï¼Œç»è¿‡appendæ–¹æ³•åï¼Œå…¶å€¼å˜æˆäº†â€abâ€ã€‚å¯èƒ½æœ‰äººä¼šé—®äº†ï¼Œè¿™ä¸Stringç±»é€šè¿‡ â€œ+â€ è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä¾‹å¦‚ï¼š String s = \"a\"; s = s + \"b\"; æœ‰åŒºåˆ«ï¼Œå­—ç¬¦ä¸²å˜é‡såˆå§‹åŒ–æ—¶æ˜¯ â€œaâ€ å¯¹è±¡çš„å¼•ç”¨ï¼Œç»è¿‡åŠ å·è®¡ç®—åï¼Œså˜é‡å°±ä¿®æ”¹ä¸ºäº† â€œabâ€ çš„å¼•ç”¨ï¼Œä½†æ˜¯åˆå§‹åŒ–çš„ â€œaâ€ å¯¹è±¡è¿˜æ²¡æœ‰æ”¹å˜ï¼Œåªæ˜¯å˜é‡sæŒ‡å‘äº†æ–°çš„å¼•ç”¨åœ°å€ï¼Œå†çœ‹çœ‹StringBufferçš„å¯¹è±¡ï¼Œå®ƒçš„å¼•ç”¨åœ°å€è™½ä¸å˜ï¼Œä½†å€¼åœ¨æ”¹å˜ã€‚ StringBufferå’ŒStringBuilderåŸºæœ¬ç›¸åŒï¼Œéƒ½æ˜¯å¯å˜å­—ç¬¦åºåˆ—ï¼Œä¸åŒç‚¹æ˜¯ï¼šStringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒStringBuilderæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œç¿»ç¿»ä¸¤è€…çš„æºä»£ç ï¼Œå°±ä¼šå‘ç°åœ¨StringBufferçš„æ–¹æ³•å‰éƒ½æœ‰å…³é”®å­—syschronized,è¿™ä¹Ÿæ˜¯StringBufferåœ¨æ€§èƒ½ä¸Šè¿œè¿œä½äºStringBufferçš„åŸå› ã€‚ åœ¨æ€§èƒ½æ–¹é¢ï¼Œç”±äºStringç±»çš„æ“ä½œéƒ½æ˜¯äº§ç”ŸStringçš„å¯¹è±¡ï¼Œè€ŒStringBuilderå’ŒStringBufferåªæ˜¯ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„å†æ‰©å®¹è€Œå·²ï¼Œæ‰€ä»¥Stringç±»çš„æ“ä½œè¦è¿œæ…¢äºStringBuffer å’Œ StringBuilderã€‚ å¼„æ¸…æ¥šäº†ä¸‰è€…ä¹‹é—´çš„åŸç†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ä½¿ç”¨ä¸åŒçš„å­—ç¬¦åºåˆ—äº†ï¼š ä½¿ç”¨Stringç±»çš„åœºæ™¯ï¼šåœ¨å­—ç¬¦ä¸²ä¸ç»å¸¸å˜åŒ–çš„åœºæ™¯ä¸­å¯ä»¥ä½¿ç”¨Stringç±»ï¼Œä¾‹å¦‚å¸¸é‡çš„å£°æ˜ã€å°‘é‡çš„å˜é‡è¿ç®—ç­‰ï¼› ä½¿ç”¨StringBufferçš„åœºæ™¯ï¼šåœ¨é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—(å¦‚æ‹¼æ¥ã€æ›¿æ¢ã€åˆ é™¤ç­‰)ï¼Œå¹¶ä¸”è¿è¡Œåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨StringBufferï¼Œä¾‹å¦‚XMLè§£æã€HTTPå‚æ•°è§£æå’Œå°è£…ç­‰ï¼› ä½¿ç”¨StringBuilderçš„åœºæ™¯ï¼šåœ¨é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—(å¦‚æ‹¼æ¥ã€æ›¿æ¢ã€åˆ é™¤ç­‰)ï¼Œå¹¶ä¸”è¿è¡Œåœ¨å•çº¿ç¨‹çš„ç¯å¢ƒä¸­ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨StringBuilderï¼Œå¦‚SQLè¯­å¥çš„æ‹¼æ¥ï¼ŒJSONå°è£…ç­‰ã€‚ *æ³¨æ„ï¼šåœ¨é€‚å½“çš„åœºæ™¯é€‰ç”¨å­—ç¬¦ä¸²ç±»å‹ * äº‹å®ä¸Šè¿™ä¸ªé—®é¢˜è¢«å¤šä¸ªåœ°æ–¹ç ”ç©¶äº†å¾ˆå¤šæ¬¡ï¼Œæˆ‘è‡ªå·±ä¹Ÿå†™äº†ä¸€ç¯‡ä¸“é—¨çš„æ–‡ç« æ¥ä»‹ç»Stringç±»ï¼šhttp://www.jianshu.com/p/e494552f2cf0 å»ºè®®55ï¼šæ³¨æ„å­—ç¬¦ä¸²çš„ä½ç½®çœ‹ä¸‹é¢ä¸€æ®µç¨‹åºï¼š public class Client55 { public static void main(String[] args) { String str1 = 1 + 2 + \"apples\"; String str2 = \"apples\" + 1 + 2; System.out.println(str1); System.out.println(str2); } } æƒ³æƒ³ä¸¤ä¸ªå­—ç¬¦ä¸²è¾“å‡ºçš„ç»“æœçš„è‹¹æœæ•°é‡æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œä¼šæ˜¯å‡ å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ä¸€è‡´ï¼Œstr1çš„å€¼æ˜¯â€3applesâ€ ,str2çš„å€¼æ˜¯â€œapples12â€ï¼Œè¿™ä¸­é—´æ‚¬æ®Šå¾ˆå¤§ï¼Œåªæ˜¯æŠŠâ€œapplesâ€ è°ƒæ¢äº†ä¸€ä¸‹ä½ç½®ï¼Œä¸ºä½•ä¼šå‘ç”Ÿå¦‚æ­¤å¤§çš„å˜åŒ–å‘¢ï¼Ÿ è¿™éƒ½æºäºjavaå¯¹äºåŠ å·çš„å¤„ç†æœºåˆ¶ï¼šåœ¨ä½¿ç”¨åŠ å·è¿›è¡Œè®¡ç®—çš„è¡¨è¾¾å¼ä¸­ï¼Œåªè¦é‡åˆ°Stringå­—ç¬¦ä¸²ï¼Œåˆ™æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šè½¬æ¢ä¸ºStringç±»å‹è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœæ˜¯åŸå§‹æ•°æ®ï¼Œåˆ™ç›´æ¥æ‹¼æ¥ï¼Œå¦‚æ˜¯æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨toStringæ–¹æ³•çš„è¿”å›å€¼ç„¶åæ‹¼æ¥ï¼Œå¦‚ï¼š str = str + new ArrayList(); ä¸Šé¢å°±æ˜¯è°ƒç”¨ArrayListå¯¹è±¡çš„toStringæ–¹æ³•è¿”å›å€¼è¿›è¡Œæ‹¼æ¥çš„ã€‚å†å›åˆ°å‰é¢çš„é—®é¢˜ä¸Šï¼Œå¯¹ä¸str1 å­—ç¬¦ä¸²ï¼ŒJavaçš„æ‰§è¡Œé¡ºåºæ˜¯ä»å·¦åˆ°å³ï¼Œå…ˆæ‰§è¡Œ1+2ï¼Œä¹Ÿå°±æ˜¯ç®—æœ¯åŠ æ³•è¿ç®—ï¼Œç»“æœç­‰äº3ï¼Œç„¶åå†ä¸å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œç»“æœå°±æ˜¯ â€œ3 applesâ€,å…¶å®ƒå½¢å¼ç±»ä¼¼äºå¦‚ä¸‹è®¡ç®—ï¼š String str1 = (1 + 2 ) + \"apples\" ; è€Œå¯¹äºstr2å­—ç¬¦ä¸²ï¼Œç”±äºç¬¬ä¸€ä¸ªå‚ä¸è¿ç®—çš„æ˜¯Stringç±»å‹ï¼ŒåŠ 1åçš„ç»“æœæ˜¯â€œapples 1â€ ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åå†ä¸2ç›¸åŠ ï¼Œç»“æœè¿˜æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯â€œapples12â€ã€‚è¿™è¯´æ˜å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Stringï¼Œåˆ™åç»­çš„æ‰€æœ‰è®¡ç®—éƒ½ä¼šè½¬å˜ä¸ºStringç±»å‹ï¼Œè°è®©å­—ç¬¦ä¸²æ˜¯è€å¤§å‘¢ï¼ æ³¨æ„ï¼š åœ¨â€œ+â€ è¡¨è¾¾å¼ä¸­ï¼ŒStringå­—ç¬¦ä¸²å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ã€‚ å»ºè®®57ï¼šæ¨èåœ¨å¤æ‚å­—ç¬¦ä¸²æ“ä½œä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ è¿™æ˜¯ä¸€ä¸ªå¾ˆè‡ªç„¶çš„é€‰æ‹©ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼å®åœ¨æ˜¯å¤ªå¼ºå¤§äº†ã€‚ å»ºè®®58ï¼šå¼ºçƒˆå»ºè®®ä½¿ç”¨UTFç¼–ç Javaçš„ä¹±ç é—®é¢˜ç”±æ¥å·²ä¹…ï¼Œæœ‰ç»éªŒçš„å¼€å‘äººå‘˜è‚¯å®šé‡åˆ°è¿‡ä¹±ç ï¼Œæœ‰æ—¶ä»Webæ¥æ”¶çš„ä¹±ç ï¼Œæœ‰æ—¶ä»æ•°æ®åº“ä¸­è¯»å–çš„ä¹±ç ï¼Œæœ‰æ—¶æ˜¯åœ¨å¤–éƒ¨æ¥å£ä¸­æ¥æ”¶çš„ä¹±ç æ–‡ä»¶ï¼Œè¿™äº›éƒ½è®©æˆ‘ä»¬å›°æƒ‘ä¸å·²ï¼Œç”šè‡³æ˜¯ç—›è‹¦ä¸å ªï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š public class Client58 { public static void main(String[] args) throws UnsupportedEncodingException { String str = \"æ±‰å­—\"; // è¯»å–å­—èŠ‚ byte b[] = str.getBytes(\"UTF-8\"); // é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² System.out.println(new String(b)); } } Javaæ–‡ä»¶æ˜¯é€šè¿‡IDEå·¥å…·é»˜è®¤åˆ›å»ºçš„ï¼Œç¼–ç æ ¼å¼æ˜¯GBKï¼Œå¤§å®¶æƒ³æƒ³çœ‹ä¸Šé¢çš„è¾“å‡ºç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿå¯èƒ½æ˜¯ä¹±ç å§ï¼Ÿä¸¤ä¸ªç¼–ç æ ¼å¼ä¸åŒã€‚æˆ‘ä»¬æš‚æ—¶ä¸è¯´ç»“æœï¼Œå…ˆè§£é‡Šä¸€ä¸‹Javaä¸­çš„ç¼–ç è§„åˆ™ã€‚Javaç¨‹åºæ¶‰åŠçš„ç¼–ç åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š (1)ã€Javaæ–‡ä»¶ç¼–ç ï¼šå¦‚æœæˆ‘ä»¬ä½¿ç”¨è®°äº‹æœ¬åˆ›å»ºä¸€ä¸ª.javaåç¼€çš„æ–‡ä»¶ï¼Œåˆ™æ–‡ä»¶çš„ç¼–ç æ ¼å¼å°±æ˜¯æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ ¼å¼ã€‚å¦‚æœæ˜¯ä½¿ç”¨IDEå·¥å…·åˆ›å»ºçš„ï¼Œå¦‚Eclipseï¼Œåˆ™ä¾èµ–äºIDEçš„è®¾ç½®ï¼ŒEclipseé»˜è®¤æ˜¯æ“ä½œç³»ç»Ÿç¼–ç ï¼ˆWindowsä¸€èˆ¬ä¸ºGBKï¼‰ï¼› (2)ã€Classæ–‡ä»¶ç¼–ç ï¼šé€šè¿‡javacå‘½ä»¤ç”Ÿæˆçš„åç¼€åä¸º.classçš„æ–‡ä»¶æ˜¯UTF-8ç¼–ç çš„UNICODEæ–‡ä»¶ï¼Œè¿™åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªè¦æ˜¯.classæ–‡ä»¶å°±ä¼šä½¿UNICODEæ ¼å¼ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒUTFæ˜¯UNICODEçš„å­˜å‚¨å’Œä¼ è¾“æ ¼å¼ï¼Œå®ƒæ˜¯ä¸ºäº†è§£å†³UNICODEçš„é«˜ä½å ç”¨å†—ä½™ç©ºé—´è€Œäº§ç”Ÿçš„ï¼Œä½¿ç”¨UTFç¼–ç å°±æ„å‘³ç€å­—ç¬¦é›†ä½¿ç”¨çš„æ˜¯UNICODE. å†å›åˆ°æˆ‘ä»¬çš„ä¾‹å­ä¸Šï¼ŒgetBytesæ–¹æ³•ä¼šæ ¹æ®æŒ‡å®šçš„å­—ç¬¦é›†å–å‡ºå­—èŠ‚æ•°ç»„(è¿™é‡ŒæŒ‰ç…§UNICODEæ ¼å¼æ¥æå–)ï¼Œç„¶åç¨‹åºåˆé€šè¿‡new String(byte [] bytes)é‡æ–°ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¥çœ‹çœ‹Stringçš„è¿™ä¸ªæ„é€ å‡½æ•°ï¼šé€šè¿‡æ“ä½œç³»ç»Ÿé»˜è®¤çš„å­—ç¬¦é›†è§£ç æŒ‡å®šçš„byteæ•°ç»„ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„Stringï¼Œç»“æœå·²ç»å¾ˆæ¸…æ¥šäº†ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿæ˜¯UTF-8çš„è¯ï¼Œè¾“å‡ºå°±æ˜¯æ­£ç¡®çš„ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¼šæ˜¯ä¹±ç ã€‚ç”±äºè¿™é‡Œä½¿ç”¨çš„æ˜¯é»˜è®¤ç¼–ç GBKï¼Œé‚£ä¹ˆè¾“å‡ºçš„ç»“æœä¹Ÿå°±æ˜¯ä¹±ç äº†ã€‚æˆ‘ä»¬å†è¯¦ç»†åˆ†è§£ä¸€ä¸‹è¿è¡Œæ­¥éª¤ï¼š æ­¥éª¤1ï¼šåˆ›å»ºClient58.javaæ–‡ä»¶ï¼šè¯¥æ–‡ä»¶çš„é»˜è®¤ç¼–ç æ ¼å¼GBKï¼ˆå¦‚æœæ˜¯Eclipseï¼Œåˆ™å¯ä»¥åœ¨å±æ€§ä¸­æŸ¥çœ‹åˆ°ï¼‰ã€‚ æ­¥éª¤2ï¼šç¼–å†™ä»£ç (å¦‚ä¸Š)ï¼› æ­¥éª¤3ï¼šä¿å­˜ï¼Œä½¿ç”¨javacç¼–è¯‘ï¼Œæ³¨æ„æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨â€javac -encoding GBK Client58.javaâ€ æ˜¾ç¤ºå£°æ˜Javaçš„ç¼–ç æ–¹å¼ï¼Œjavacä¼šè‡ªåŠ¨æŒ‰ç…§æ“ä½œç³»ç»Ÿçš„ç¼–ç (GBK)è¯»å–Client58.javaæ–‡ä»¶ï¼Œç„¶åå°†å…¶ç¼–è¯‘æˆ.classæ–‡ä»¶ã€‚ æ­¥éª¤4ï¼šç”Ÿæˆ.classæ–‡ä»¶ã€‚ç¼–è¯‘ç»“æŸï¼Œç”Ÿæˆ.classæ–‡ä»¶ï¼Œå¹¶ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œæ­¤æ—¶ .classæ–‡ä»¶ä½¿ç”¨çš„UTF-8æ ¼å¼ç¼–ç çš„UNICODEå­—ç¬¦é›†ï¼Œå¯ä»¥é€šè¿‡javap å‘½ä»¤é˜…è¯»classæ–‡ä»¶ï¼Œå…¶ä¸­â€ æ±‰å­—â€å˜é‡ä¹Ÿå·²ç»ç”±GBKè½¬å˜æˆUNICODEæ ¼å¼äº†ã€‚ æ­¥éª¤5ï¼šè¿è¡Œmainæ–¹æ³•ï¼Œæå–â€æ±‰å­—â€çš„å­—èŠ‚æ•°ç»„ã€‚â€æ±‰å­—â€ åŸæœ¬æ˜¯æŒ‰ç…§UTF-8æ ¼å¼ä¿å­˜çš„ï¼Œè¦å†æå–å‡ºæ¥å½“ç„¶æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ã€‚ æ­¥éª¤6ï¼šé‡ç»„å­—ç¬¦ä¸²ï¼Œè¯»å–æ“ä½œç³»ç»Ÿé»˜è®¤çš„ç¼–ç GBKï¼Œç„¶åé‡æ–°ç¼–ç å˜é‡bçš„æ‰€æœ‰å­—èŠ‚ã€‚é—®é¢˜å°±åœ¨è¿™é‡Œäº§ç”Ÿäº†ï¼šå› ä¸ºUNICODEçš„å­˜å‚¨æ ¼å¼æ˜¯ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦(æ³¨æ„ï¼šè¿™é‡Œæ˜¯æŒ‡UCS-2æ ‡å‡†)ï¼Œè™½ç„¶GBKä¹Ÿæ˜¯ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œä½†ä¸¤è€…ä¹‹é—´æ²¡æœ‰æ˜ å°„å…³ç³»ï¼Œåªè¦åšè½¬æ¢åªèƒ½è¯»å–æ˜ å°„è¡¨ï¼Œä¸èƒ½å®ç°è‡ªåŠ¨è½¬æ¢â€”-äºæ˜¯JVMå°±æŒ‰ç…§é»˜è®¤çš„ç¼–ç æ–¹å¼(GBK)è¯»å–äº†UNICODEçš„ä¸¤ä¸ªå­—èŠ‚ã€‚ æ­¥éª¤7ï¼šè¾“å‡ºä¹±ç ï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œé—®é¢˜æ¸…æ¥šäº†ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿéšä¹‹äº§ç”Ÿï¼Œæ–¹æ¡ˆæœ‰ä¸¤ä¸ªã€‚ æ­¥éª¤8ï¼šä¿®æ”¹ä»£ç ï¼Œæ˜ç¡®æŒ‡å®šç¼–ç å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼šSystem.out.println(new String(b,&quot;UTF-8&quot;)); æ­¥éª¤9ï¼šä¿®æ”¹æ“ä½œç³»ç»Ÿçš„ç¼–ç æ–¹å¼ï¼Œå„ä¸ªæ“ä½œç³»ç»Ÿçš„ä¿®æ”¹æ–¹å¼ä¸åŒï¼Œä¸å†èµ˜è¿°ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠå­—ç¬¦ä¸²è¯»å–å­—èŠ‚çš„è¿‡ç¨‹çœ‹åšæ˜¯æ•°æ®ä¼ è¾“çš„éœ€è¦(æ¯”å¦‚ç½‘ç»œã€å­˜å‚¨)ï¼Œè€Œé‡ç»„å­—ç¬¦ä¸²åˆ™æ˜¯ä¸šåŠ¡é€»è¾‘çš„éœ€æ±‚ï¼Œè¿™æ ·å°±å¯ä»¥æ˜¯ä¹±ç é‡ç°ï¼šé€šè¿‡JDBCè¯»å–çš„å­—èŠ‚æ•°ç»„æ˜¯GBKçš„ï¼Œè€Œä¸šåŠ¡é€»è¾‘ç¼–ç æ—¶é‡‡ç”¨çš„æ˜¯UTF-8ï¼Œäºæ˜¯ä¹±ç å°±äº§ç”Ÿäº†ã€‚å¯¹äºæ­¤ç±»é—®é¢˜ï¼Œæœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨ç»Ÿä¸€çš„ç¼–ç æ ¼å¼ï¼Œè¦ä¹ˆéƒ½ç”¨GBKï¼Œè¦ä¹ˆéƒ½ç”¨UTF-8ï¼Œå„ä¸ªç»„ä»¶ã€æ¥å£ã€é€»è¾‘å±‚ã€éƒ½ç”¨UTF-8ï¼Œæ‹’ç»ç‹¬æ ‘ä¸€å¸œçš„æƒ…å†µã€‚ é—®é¢˜æ¸…æ¥šäº†ï¼Œæˆ‘ä»¬çœ‹çœ‹ä»¥ä¸‹ä»£ç ï¼š public class Client58 { public static void main(String[] args) throws UnsupportedEncodingException { String str = \"æ±‰å­—\"; // è¯»å–å­—èŠ‚ byte b[] = str.getBytes(\"GB2312\"); // é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² System.out.println(new String(b)); } } ä»…ä»…ä¿®æ”¹äº†è¯»å–å­—èŠ‚çš„ç¼–ç æ–¹å¼(ä¿®æ”¹æˆäº†GB2312)ï¼Œç»“æœä¼šæ€æ ·å‘¢ï¼Ÿåˆæˆ–è€…å°†å…¶ä¿®æ”¹æˆGB18030ï¼Œç»“æœåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿç»“æœéƒ½æ˜¯â€æ±‰å­—â€ï¼Œä¸æ˜¯ä¹±ç ã€‚è¿™æ˜¯å› ä¸ºGB2312æ˜¯ä¸­æ–‡å­—ç¬¦é›†çš„V1.0ç‰ˆæœ¬ï¼ŒGBKæ˜¯V2.0ç‰ˆæœ¬ï¼ŒGB18030æ˜¯V3.0ç‰ˆæœ¬ï¼Œç‰ˆæœ¬æ˜¯å‘ä¸‹å…¼å®¹çš„ï¼Œåªæ˜¯å®ƒä»¬åŒ…å«çš„æ±‰å­—æ•°é‡ä¸åŒè€Œå·²ï¼Œæ³¨æ„UNICODEå¯ä¸åœ¨è¿™ä¸ªåºåˆ—ä¹‹å†…ã€‚ æ³¨æ„ï¼šä¸€ä¸ªç³»ç»Ÿä½¿ç”¨ç»Ÿä¸€çš„ç¼–ç ã€‚ å»ºè®®60ï¼šæ€§èƒ½è€ƒè™‘ï¼Œæ•°ç»„æ˜¯é¦–é€‰æ•°ç»„åœ¨å®é™…çš„ç³»ç»Ÿå¼€å‘ä¸­ç”¨çš„è¶Šæ¥è¶Šå°‘äº†ï¼Œæˆ‘ä»¬é€šå¸¸åªæœ‰åœ¨é˜…è¯»ä¸€äº›å¼€æºé¡¹ç›®æ—¶æ‰ä¼šçœ‹åˆ°å®ƒä»¬çš„èº«å½±ï¼Œåœ¨Javaä¸­å®ƒç¡®å®æ²¡æœ‰Listã€Setã€Mapè¿™äº›é›†åˆç±»ç”¨èµ·æ¥æ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨åŸºæœ¬ç±»å‹å¤„ç†æ–¹é¢ï¼Œæ•°ç»„è¿˜æ˜¯å ä¼˜åŠ¿çš„ï¼Œè€Œä¸”é›†åˆç±»çš„åº•å±‚ä¹Ÿéƒ½æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œæ¯”å¦‚å¯¹ä¸€æ•°æ®é›†æ±‚å’Œè¿™æ ·çš„è®¡ç®—ï¼š //å¯¹æ•°ç»„æ±‚å’Œ public static int sum(int datas[]) { int sum = 0; for (int i = 0; i &lt; datas.length; i++) { sum += datas[i]; } return sum; } å¯¹ä¸€ä¸ªintç±»å‹ çš„æ•°ç»„æ±‚å’Œï¼Œå–å‡ºæ‰€æœ‰æ•°ç»„å…ƒç´ å¹¶ç›¸åŠ ï¼Œæ­¤ç®—æ³•ä¸­å¦‚æœæ˜¯åŸºæœ¬ç±»å‹åˆ™ä½¿ç”¨æ•°ç»„æ•ˆç‡æ˜¯æœ€é«˜çš„ï¼Œä½¿ç”¨é›†åˆåˆ™æ•ˆç‡æ¬¡ä¹‹ã€‚å†çœ‹ä½¿ç”¨Listæ±‚å’Œï¼š // å¯¹åˆ—è¡¨æ±‚å’Œè®¡ç®— public static int sum(List&lt;Integer> datas) { int sum = 0; for (int i = 0; i &lt; datas.size(); i++) { sum += datas.get(i); } return sum; } æ³¨æ„çœ‹sum += datas.get(i);è¿™è¡Œä»£ç ï¼Œè¿™é‡Œå…¶å®å·²ç»åšäº†ä¸€ä¸ªæ‹†ç®±åŠ¨ä½œï¼ŒIntegerå¯¹è±¡é€šè¿‡intValueæ–¹æ³•è‡ªåŠ¨è½¬æ¢æˆäº†ä¸€ä¸ªintåŸºæœ¬ç±»å‹ï¼Œå¯¹äºæ€§èƒ½æ¿’äºä¸´ç•Œçš„ç³»ç»Ÿæ¥è¯´è¯¥æ–¹æ¡ˆæ˜¯æ¯”è¾ƒå±é™©çš„ï¼Œç‰¹åˆ«æ˜¯å¤§æ•°é‡çš„æ—¶å€™ï¼Œé¦–å…ˆï¼Œåœ¨åˆå§‹åŒ–Listæ•°ç»„æ—¶è¦è¿›è¡Œè£…ç®±æ“ä½œï¼ŒæŠŠä¸€ä¸ªintç±»å‹åŒ…è£…æˆä¸€ä¸ªIntegerå¯¹è±¡ï¼Œè™½ç„¶æœ‰æ•´å‹æ± åœ¨ï¼Œä½†ä¸åœ¨æ•´å‹æ± èŒƒå›´å†…çš„éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„Integerå¯¹è±¡ï¼Œè€Œä¸”ä¼—æ‰€å‘¨çŸ¥ï¼ŒåŸºæœ¬ç±»å‹æ˜¯åœ¨æ ˆå†…å­˜ä¸­æ“ä½œçš„ï¼Œè€Œå¯¹è±¡æ˜¯å †å†…å­˜ä¸­æ“ä½œçš„ï¼Œæ ˆå†…å­˜çš„ç‰¹ç‚¹æ˜¯ï¼šé€Ÿåº¦å¿«ï¼Œå®¹é‡å°ï¼›å †å†…å­˜çš„ç‰¹ç‚¹æ˜¯ï¼šé€Ÿåº¦æ…¢ï¼Œå®¹é‡å¤§ï¼ˆä»æ€§èƒ½ä¸Šè®²ï¼ŒåŸºæœ¬ç±»å‹çš„å¤„ç†å ä¼˜åŠ¿ï¼‰ã€‚å…¶æ¬¡ï¼Œåœ¨è¿›è¡Œæ±‚å’Œè¿ç®—æ—¶(æˆ–è€…å…¶å®ƒéå†è®¡ç®—)æ—¶è¦åšæ‹†ç®±åŠ¨ä½œï¼Œå› æ­¤æ— è°“çš„æ€§èƒ½æ¶ˆè€—ä¹Ÿå°±äº§ç”Ÿäº†ã€‚åœ¨å®é™…æµ‹è¯•ä¸­å‘ç°ï¼šå¯¹åŸºæœ¬ç±»å‹è¿›è¡Œæ±‚å’Œè¿ç®—æ—¶ï¼Œæ•°ç»„çš„æ•ˆç‡æ˜¯é›†åˆçš„10å€ã€‚ æ³¨æ„ï¼šæ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ä¸­ä½¿ç”¨æ•°ç»„ä»£æ›¿é›†åˆã€‚ å»ºè®®64ï¼šå¤šç§æœ€å€¼ç®—æ³•ï¼Œé€‚æ—¶é€‰æ‹©å¯¹ä¸€æ‰¹æ•°æ®è¿›è¡Œæ’åºï¼Œç„¶åæ‰¾å‡ºå…¶ä¸­çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œè¿™æ˜¯åŸºæœ¬çš„æ•°æ®ç»“æ„çŸ¥è¯†ã€‚åœ¨Javaä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™ç®—æ³•çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„å…ˆæ’åºå†å–å€¼çš„æ–¹å¼æ¥å®ç°ï¼Œä¸‹é¢ä»¥æ±‚æœ€å¤§å€¼ä¸ºä¾‹ï¼Œè§£é‡Šä¸€ä¸‹å¤šç§ç®—æ³•ï¼š *(1)ã€è‡ªè¡Œå®ç°ï¼Œå¿«é€ŸæŸ¥æ‰¾æœ€å¤§å€¼ *å…ˆçœ‹çœ‹ç”¨å¿«é€ŸæŸ¥æ‰¾æ³•å–æœ€å¤§å€¼çš„ç®—æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š public static int max(int[] data) { int max = data[0]; for (int i : data) { max = max > i ? max : i; } return max; } è¿™æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æœ€å¤§å€¼ç®—æ³•ï¼Œä¹Ÿæ˜¯é€Ÿåº¦æœ€å¿«çš„ç®—æ³•ã€‚å®ƒä¸è¦æ±‚æ’åºï¼Œåªè¦éå†ä¸€éæ•°ç»„å³å¯æ‰¾å‡ºæœ€å¤§å€¼ã€‚ (2)ã€å…ˆæ’åºï¼Œåå–å€¼å¯¹äºæ±‚æœ€å¤§å€¼ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨å…ˆæ’åºåå–å€¼çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š public static int max(int[] data) { Arrays.sort(data); return data[data.length - 1]; } ä»æ•ˆç‡ä¸Šè®²ï¼Œå½“ç„¶æ˜¯è‡ªå·±å†™å¿«é€ŸæŸ¥æ‰¾æ³•æ›´å¿«ä¸€äº›äº†ï¼Œåªç”¨éå†ä¸€éå°±å¯ä»¥è®¡ç®—å‡ºæœ€å¤§å€¼ï¼Œä½†åœ¨å®é™…æµ‹è¯•ä¸­å‘ç°ï¼Œå¦‚æœæ•°ç»„é‡å°‘äº10000ï¼Œä¸¤ä¸ªåŸºæœ¬ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œä½†åœ¨åŒä¸€ä¸ªæ¯«ç§’çº§åˆ«é‡Œï¼Œæ­¤æ—¶å°±å¯ä»¥ä¸ç”¨è‡ªå·±å†™ç®—æ³•äº†ï¼Œç›´æ¥ä½¿ç”¨æ•°ç»„å…ˆæ’åºåå–å€¼çš„æ–¹å¼ã€‚ å¦‚æœæ•°ç»„å…ƒç´ è¶…è¿‡10000ï¼Œå°±éœ€è¦ä¾æ®å®é™…æƒ…å†µæ¥è€ƒè™‘ï¼šè‡ªå·±å®ç°ï¼Œå¯ä»¥æé«˜æ€§èƒ½ï¼›å…ˆæ’åºåå–å€¼ï¼Œç®€å•ï¼Œé€šä¿—æ˜“æ‡‚ã€‚æ’é™¤æ€§èƒ½ä¸Šçš„å·®å¼‚ï¼Œä¸¤è€…éƒ½å¯ä»¥é€‰æ‹©ï¼Œç”šè‡³åè€…æ›´æ–¹ä¾¿ä¸€äº›ï¼Œä¹Ÿæ›´å®¹æ˜“æƒ³åˆ°ã€‚ ç°åœ¨é—®é¢˜æ¥äº†ï¼Œåœ¨ä»£ç ä¸­ä¸ºä»€ä¹ˆå…ˆä½¿ç”¨data.cloneæ‹·è´å†æ’åºå‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºæ•°ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ‹·è´å°±æ”¹å˜äº†åŸæœ‰çš„æ•°ç»„å…ƒç´ çš„é¡ºåºå—ï¼Ÿé™¤éæ•°ç»„å…ƒç´ çš„é¡ºåºæ— å…³ç´§è¦ã€‚é‚£å¦‚æœè¦æŸ¥æ‰¾ä»…æ¬¡äºæœ€å¤§å€¼çš„å…ƒç´ (ä¹Ÿå°±æ˜¯è€äºŒ)ï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿè¦æ³¨æ„ï¼Œæ•°ç»„çš„å…ƒç´ æ—¶å¯ä»¥é‡å¤çš„ï¼Œæœ€å¤§å€¼å¯èƒ½æ˜¯å¤šä¸ªï¼Œæ‰€ä»¥å•å•ä¸€ä¸ªæ’åºç„¶åå–å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ æ—¶è§£å†³ä¸äº†é—®é¢˜çš„ã€‚ æ­¤æ—¶ï¼Œå°±éœ€è¦ä¸€ä¸ªç‰¹æ®Šçš„æ’åºç®—æ³•äº†ï¼Œå…ˆè¦å‰”é™¤é‡å¤æ•°æ®ï¼Œç„¶åå†æ’åºï¼Œå½“ç„¶ï¼Œè‡ªå·±å†™ç®—æ³•ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯é›†åˆç±»å·²ç»æä¾›äº†éå¸¸å¥½çš„æ–¹æ³•ï¼Œè¦æ˜¯å†ä½¿ç”¨è‡ªå·±å†™ç®—æ³•å°±æ˜¾å¾—æœ‰ç‚¹é‡å¤é€ è½®å­äº†ã€‚æ•°ç»„ä¸èƒ½å‰”é™¤é‡å¤æ•°æ®ï¼Œä½†Seté›†åˆå´æ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”Setçš„å­ç±»TreeSetè¿˜èƒ½è‡ªåŠ¨æ’åºï¼Œä»£ç å¦‚ä¸‹ï¼š public static int getSecond(Integer[] data) { //è½¬æ¢ä¸ºåˆ—è¡¨ List&lt;Integer> dataList = Arrays.asList(data); //è½¬æ¢ä¸ºTreeSetï¼Œå‰”é™¤é‡å¤å…ƒç´ å¹¶å‡åºæ’åˆ— TreeSet&lt;Integer> ts = new TreeSet&lt;Integer>(dataList); //å–å¾—æ¯”æœ€å¤§å€¼å°çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯è€äºŒäº† return ts.lower(ts.last()); } å‰”é™¤é‡å¤å…ƒç´ å¹¶å‡åºæ’åˆ—ï¼Œè¿™éƒ½æ˜¯ç”±TreeSetç±»å®ç°çš„ï¼Œç„¶åå¯å†ä½¿ç”¨loweræ–¹æ³•å¯»æ‰¾å°äºæœ€å¤§å€¼çš„å€¼ï¼Œå¤§å®¶çœ‹ï¼Œä¸Šé¢çš„ç¨‹åºéå¸¸ç®€å•å§?é‚£å¦‚æœæ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™ä»£ç ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿé‚£è‡³å°‘è¦éå†æ•°ç»„ä¸¤éæ‰èƒ½è®¡ç®—å‡ºè€äºŒçš„å€¼ï¼Œä»£ç å¤æ‚åº¦å°†å¤§å¤§æå‡ã€‚å› æ­¤åœ¨å®é™…åº”ç”¨ä¸­æ±‚æœ€å€¼ï¼ŒåŒ…æ‹¬æœ€å¤§å€¼ã€æœ€å°å€¼ã€å€’æ•°ç¬¬äºŒå°å€¼ç­‰ï¼Œä½¿ç”¨é›†åˆæ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œå½“ç„¶ä»æ€§èƒ½æ–¹é¢æ¥è€ƒè™‘ï¼Œæ•°ç»„æ‰æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ æ³¨æ„ï¼šæœ€å€¼è®¡ç®—æ—¶ä½¿ç”¨é›†åˆæœ€ç®€å•ï¼Œä½¿ç”¨æ•°ç»„æ€§èƒ½æœ€ä¼˜ã€‚ å»ºè®®82ï¼šç”±ç‚¹åŠé¢ï¼Œé›†åˆå¤§å®¶æ—æ€»ç»“Javaä¸­çš„é›†åˆç±»å®åœ¨æ˜¯å¤ªä¸°å¯Œäº†ï¼Œæœ‰å¸¸ç”¨çš„ArrayListã€HashMap,ä¹Ÿæœ‰ä¸å¸¸ç”¨çš„Stackã€Queueï¼Œæœ‰çº¿ç¨‹å®‰å…¨çš„Vectorã€HashTableï¼Œä¹Ÿæœ‰çº¿ç¨‹ä¸å®‰å…¨çš„LinkedListã€TreeMapï¼Œæœ‰é˜»å¡å¼çš„ArrayBlockingQueueï¼Œä¹Ÿæœ‰éé˜»å¡å¼çš„PriorityQueueç­‰ï¼Œæ•´ä¸ªé›†åˆå¤§å®¶æ—éå¸¸åºå¤§ï¼Œå¯ä»¥åˆ’åˆ†ä»¥ä¸‹å‡ ç±»ï¼š (1)ã€Listï¼šå®ç°Listæ¥å£çš„é›†åˆä¸»è¦æœ‰ï¼šArrayListã€LinkedListã€Vectorã€Stackï¼Œå…¶ä¸­ArrayListæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼ŒLinkedListæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼ŒVectoræ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åŠ¨æ€æ•°ç»„ï¼ŒStackæ˜¯ä¸€ä¸ªå¯¹è±¡æ ˆï¼Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™ã€‚ (2)ã€Setï¼šSetæ˜¯ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆï¼Œå…¶ä¸»è¦å®ç°ç±»æœ‰ï¼šEnumSetã€HashSetã€TreeSetï¼Œå…¶ä¸­EnumSetæ˜¯æšä¸¾ç±»å‹ä¸“ç”¨Setï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯æšä¸¾ç±»å‹ï¼›HashSetæ˜¯ä»¥å“ˆå¸Œç å†³å®šå…¶å…ƒç´ ä½ç½®çš„Setï¼Œå…¶åŸç†ä¸HashMapç›¸ä¼¼ï¼Œå®ƒæä¾›å¿«é€Ÿçš„æ’å…¥å’ŒæŸ¥æ‰¾æ–¹æ³•ï¼›TreeSetæ˜¯ä¸€ä¸ªè‡ªåŠ¨æ’åºçš„Setï¼Œå®ƒå®ç°äº†SortedSetæ¥å£ã€‚ (3)ã€Mapï¼šMapæ˜¯ä¸€ä¸ªå¤§å®¶æ—ï¼Œä»–å¯ä»¥åˆ†ä¸ºæ’åºMapå’Œéæ’åºMapï¼Œæ’åºMapä¸»è¦æ˜¯TreeMapç±»ï¼Œä»–æ ¹æ®keyå€¼è¿›è¡Œè‡ªåŠ¨æ’åºï¼›éæ’åºMapä¸»è¦åŒ…æ‹¬ï¼šHashMapã€HashTableã€Propertiesã€EnumMapç­‰ï¼Œå…¶ä¸­Propertiesæ˜¯HashTableçš„å­ç±»ï¼Œå®ƒçš„ä¸»è¦ç”¨é€”æ˜¯ä»Propertyæ–‡ä»¶ä¸­åŠ è½½æ•°æ®ï¼Œå¹¶æä¾›æ–¹ä¾¿çš„æ“ä½œï¼ŒEnumMapåˆ™æ˜¯è¦æ±‚å…¶Keyå¿…é¡»æ˜¯æŸä¸€ä¸ªæšä¸¾ç±»å‹ã€‚Mapä¸­è¿˜æœ‰ä¸€ä¸ªWeakHashMapç±»éœ€è¦è¯´æ˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªé‡‡ç”¨å¼±é”®æ–¹å¼å®ç°çš„Mapç±»ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šWeakHashMapå¯¹è±¡çš„å­˜åœ¨å¹¶ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶å™¨å¯¹é”®å€¼å¯¹çš„å›æ”¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨WeakHashMapè£…è½½æ•°æ®ä¸ç”¨æ‹…å¿ƒå†…å­˜æº¢å‡ºçš„é—®é¢˜ï¼ŒGCä¼šè‡ªåŠ¨åˆ é™¤ä¸ç”¨çš„é”®å€¼å¯¹ï¼Œè¿™æ˜¯å¥½äº‹ã€‚ä½†ä¹Ÿå­˜åœ¨ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼šGCæ˜¯é™æ‚„æ‚„çš„å›æ”¶çš„(ä½•æ—¶å›æ”¶ï¼ŒGodï¼ŒKnowsï¼)æˆ‘ä»¬çš„ç¨‹åºæ— æ³•çŸ¥æ™“è¯¥åŠ¨ä½œï¼Œå­˜åœ¨ç€é‡å¤§çš„éšæ‚£ã€‚ (4)ã€Queueï¼šå¯¹åˆ—ï¼Œå®ƒåˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯é˜»å¡å¼é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—æ»¡äº†ä»¥åå†æ’å…¥å…ƒç´ ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¸»è¦åŒ…æ‹¬ï¼šArrayBlockingQueueã€PriorityQueueã€LinkedBlockingQueueï¼Œå…¶ä¸­ArrayBlockingQueueæ˜¯ä¸€ä¸ªä»¥æ•°ç»„æ–¹å¼å®ç°çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼›å¦ä¸€ç±»æ˜¯éé˜»å¡é˜Ÿåˆ—ï¼Œæ— è¾¹ç•Œçš„ï¼Œåªè¦å†…å­˜å…è®¸ï¼Œéƒ½å¯ä»¥æŒç»­è¿½åŠ å…ƒç´ ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æ˜¯PriorityQueneç±»ã€‚è¿˜æœ‰ä¸€ç§é˜Ÿåˆ—ï¼Œæ˜¯åŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒåœ¨å¤´ã€å°¾ä¸¤ç«¯æ’å…¥å’Œç§»é™¤å…ƒç´ ï¼Œå®ƒçš„ä¸»è¦å®ç°ç±»æ˜¯ï¼šArrayDequeã€LinkedBlockingDequeã€LinkedListã€‚ (5)ã€æ•°ç»„ï¼šæ•°ç»„ä¸é›†åˆçš„æœ€å¤§åŒºåˆ«å°±æ˜¯æ•°ç»„èƒ½å¤Ÿå®¹çº³åŸºæœ¬ç±»å‹ï¼Œè€Œé›†åˆå°±ä¸è¡Œï¼Œæ›´é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ‰€æœ‰çš„é›†åˆåº•å±‚å­˜å‚¨çš„éƒ½æ˜¯æ•°ç»„ã€‚ (6)ã€å·¥å…·ç±»ï¼šæ•°ç»„çš„å·¥å…·ç±»æ˜¯java.util.Arrayså’Œjava.lang.reflect.Arrayï¼Œé›†åˆçš„å·¥å…·ç±»æ˜¯java.util.Collectionsï¼Œæœ‰äº†è¿™ä¸¤ä¸ªå·¥å…·ç±»ï¼Œæ“ä½œæ•°ç»„å’Œé›†åˆå°±ä¼šæ˜“å¦‚åæŒï¼Œå¾—å¿ƒåº”æ‰‹ã€‚ (7)ã€æ‰©å±•ç±»ï¼šé›†åˆç±»å½“ç„¶å¯ä»¥è‡ªè¡Œæ‰©å±•äº†ï¼Œæƒ³å†™ä¸€ä¸ªè‡ªå·±çš„Listï¼Ÿæ²¡é—®é¢˜ï¼Œä½†æœ€å¥½çš„åŠæ³•è¿˜æ˜¯â€æ‹¿æ¥ä¸»ä¹‰â€ï¼Œå¯ä»¥ä½¿ç”¨Apacheçš„common-collectionsæ‰©å±•åŒ…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Googleçš„google-collectionsæ‰©å±•åŒ…ï¼Œè¿™äº›è¶³ä»¥åº”å¯¹æˆ‘ä»¬çš„å¼€å‘éœ€è¦ã€‚ å»ºè®®83ï¼šæ¨èä½¿ç”¨æšä¸¾å®šä¹‰å¸¸é‡å¸¸é‡å£°æ˜æ˜¯æ¯ä¸€ä¸ªé¡¹ç›®éƒ½ä¸å¯æˆ–ç¼ºçš„ï¼Œåœ¨Java1.5ä¹‹å‰ï¼Œæˆ‘ä»¬åªæœ‰ä¸¤ç§æ–¹å¼çš„å£°æ˜ï¼šç±»å¸¸é‡å’Œæ¥å£å¸¸é‡ï¼Œè‹¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯Java1.5ä¹‹å‰çš„ç‰ˆæœ¬ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å¦‚æ­¤å®šä¹‰çš„ã€‚ä¸è¿‡ï¼Œåœ¨1.5ç‰ˆæœ¬ä»¥åæœ‰äº†æ”¹è¿›ï¼Œå³æ–°å¢äº†ä¸€ç§å¸¸é‡å£°æ˜æ–¹å¼ï¼šæšä¸¾å£°æ˜å¸¸é‡ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š enum Season { Spring, Summer, Autumn, Winter; } è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æšä¸¾å¸¸é‡å‘½åï¼Œæ¸…æ™°åˆç®€å•ã€‚é¡ºä¾¿æä¸€å¥ï¼ŒJLS(Java Language Specificationï¼ŒJavaè¯­è¨€è§„èŒƒ)æå€¡æšä¸¾é¡¹å…¨éƒ¨å¤§å†™ï¼Œå­—æ¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿åˆ†å‰²ï¼Œè¿™ä¹Ÿæ˜¯ä»å¸¸é‡çš„è§’åº¦è€ƒè™‘çš„(å½“ç„¶ï¼Œä½¿ç”¨ç±»ä¼¼ç±»åçš„å‘½åæ–¹å¼ä¹Ÿæ˜¯æ¯”è¾ƒå‹å¥½çš„)ã€‚ é‚£ä¹ˆæšä¸¾å¸¸é‡ä¸æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ç±»å¸¸é‡å’Œé™æ€å¸¸é‡ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿé—®å¾—å¥½ï¼Œæšä¸¾çš„ä¼˜ç‚¹ä¸»è¦è¡¨ç°åœ¨å››ä¸ªæ–¹é¢ï¼š 1.æšä¸¾å¸¸é‡ç®€å•ï¼šç®€ä¸ç®€å•ï¼Œæˆ‘ä»¬æ¥å¯¹æ¯”ä¸€ä¸‹ä¸¤è€…çš„å®šä¹‰å’Œä½¿ç”¨æƒ…å†µå°±çŸ¥é“äº†ã€‚å…ˆæŠŠSeasonæšä¸¾ç¿»å†™æˆæ¥å£å¸¸é‡ï¼Œä»£ç å¦‚ä¸‹ï¼š interface Season { int SPRING = 0; int SUMMER = 1; int AUTUMN = 2; int WINTER = 3; } æ­¤å¤„å®šä¹‰äº†æ˜¥å¤ç§‹å†¬å››ä¸ªå­£èŠ‚ï¼Œç±»å‹éƒ½æ˜¯intï¼Œè¿™ä¸Seasonæšä¸¾çš„æ’åºå€¼æ˜¯ç›¸åŒçš„ã€‚é¦–å…ˆå¯¹æ¯”ä¸€ä¸‹ä¸¤è€…çš„å®šä¹‰ï¼Œæšä¸¾å¸¸é‡åªéœ€å®šä¹‰æ¯ä¸ªæšä¸¾é¡¹ï¼Œä¸éœ€è¦å®šä¹‰æšä¸¾å€¼ï¼Œè€Œæ¥å£å¸¸é‡(æˆ–ç±»å¸¸é‡)åˆ™å¿…é¡»å®šä¹‰å€¼ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ï¼Œå³ä½¿æˆ‘ä»¬ä¸éœ€è¦å…³æ³¨å…¶å€¼æ˜¯å¤šå°‘ä¹Ÿå¿…é¡»å®šä¹‰ï¼›å…¶æ¬¡ï¼Œè™½ç„¶ä¸¤è€…è¢«å¼•ç”¨çš„æ–¹å¼ç›¸åŒ(éƒ½æ˜¯ â€œç±»å . å±æ€§â€ï¼Œå¦‚Season.SPRING),ä½†æ˜¯æšä¸¾è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæšä¸¾é¡¹ï¼Œå­—é¢å«ä¹‰æ˜¯æ˜¥å¤©ï¼Œè€Œæ¥å£å¸¸é‡ç¡®æ˜¯ä¸€ä¸ªintç±»å‹ï¼Œè™½ç„¶å…¶å­—é¢å«ä¹‰ä¹Ÿæ˜¯æ˜¥å¤©ï¼Œä½†åœ¨è¿ç®—ä¸­æˆ‘ä»¬åŠ¿å¿…è¦å…³æ³¨å…¶intå€¼ã€‚ 2.æšä¸¾å¸¸é‡å±äºç¨³æ€å‹:ä¾‹å¦‚æˆ‘ä»¬è¦æè¿°ä¸€ä¸‹æ˜¥å¤ç§‹å†¬æ˜¯ä»€ä¹ˆæ ·å­ï¼Œä½¿ç”¨æ¥å£å¸¸é‡åº”è¯¥æ˜¯è¿™æ ·å†™ã€‚ public void describe(int s) { // så˜é‡ä¸èƒ½è¶…è¶Šè¾¹ç•Œï¼Œæ ¡éªŒæ¡ä»¶ if (s >= 0 &amp;&amp; s &lt; 4) { switch (s) { case Season.SPRING: System.out.println(\"this is spring\"); break; case Season.SUMMER: System.out.println(\"this is summer\"); break; ...... } } } å¾ˆç®€å•ï¼Œå…ˆä½¿ç”¨switchè¯­å¥åˆ¤æ–­å“ªä¸€ä¸ªæ˜¯å¸¸é‡ï¼Œç„¶åè¾“å‡ºã€‚ä½†é—®é¢˜æ˜¯æˆ‘ä»¬å¾—å¯¹è¾“å…¥å€¼è¿›è¡Œæ£€æŸ¥ï¼Œç¡®å®šæ˜¯å¦è¶Šç•Œï¼Œå¦‚æœå¸¸é‡éå¸¸åºå¤§ï¼Œæ ¡éªŒè¾“å…¥å°±æˆäº†ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹æƒ…ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªä¸å¯é€ƒé¿çš„è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæˆ‘ä»¬çš„æ ¡éªŒæ¡ä»¶ä¸ä¸¥æ ¼ï¼Œè™½ç„¶ç¼–è¯‘èƒ½ç…§æ ·é€šè¿‡ï¼Œä½†æ˜¯è¿è¡ŒæœŸå°±ä¼šäº§ç”Ÿæ— æ³•é¢„çŸ¥çš„åæœã€‚ æˆ‘ä»¬å†æ¥çœ‹çœ‹æšä¸¾å¸¸é‡æ˜¯å¦èƒ½å¤Ÿé¿å…æ ¡éªŒçš„é—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š public void describe(Season s){ switch(s){ case Spring: System.out.println(\"this is \"+Season.Spring); break; case Summer: System.out.println(\"this is summer\"+Season.Summer); break; ...... } } ä¸ç”¨æ ¡éªŒï¼Œå·²ç»é™å®šäº†æ˜¯Seasonæšä¸¾ï¼Œæ‰€ä»¥åªèƒ½æ˜¯Seasonç±»çš„å››ä¸ªå®ä¾‹ï¼Œå³æ˜¥å¤ç§‹å†¬4ä¸ªæšä¸¾é¡¹ï¼Œæƒ³è¾“å…¥ä¸€ä¸ªintç±»å‹æˆ–å…¶å®ƒç±»å‹ï¼Ÿé—¨éƒ½æ²¡æœ‰ï¼è¿™æ˜¯æˆ‘ä»¬æœ€çœ‹é‡æšä¸¾çš„åœ°æ–¹ï¼šåœ¨ç¼–è¯‘æœŸé—´é™å®šç±»å‹ï¼Œä¸å…è®¸å‘ç”Ÿè¶Šç•Œçš„æƒ…å†µã€‚ 3.æšä¸¾å…·æœ‰å†…ç½®æ–¹æ³•ï¼šæœ‰ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šå¦‚æœè¦åˆ—å‡ºæ‰€æœ‰çš„å­£èŠ‚å¸¸é‡ï¼Œå¦‚ä½•å®ç°å‘¢ï¼Ÿæ¥å£å¸¸é‡æˆ–ç±»å¸¸é‡å¯ä»¥é€šè¿‡åå°„æ¥å®ç°ï¼Œè¿™æ²¡é”™ï¼Œåªæ˜¯è™½ç„¶èƒ½å®ç°ï¼Œä½†ä¼šéå¸¸ç¹çï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªåå°„ç±»å®ç°æ­¤åŠŸèƒ½(å½“ç„¶ï¼Œä¸€ä¸ªä¸€ä¸ªåœ°åŠ¨æ‰‹æ‰“å°å‡ºè¾“å‡ºå¸¸é‡ï¼Œä¹Ÿå¯ä»¥ç®—æ˜¯åˆ—å‡º)ã€‚å¯¹äºæ­¤ç±»é—®é¢˜å¯ä»¥éå¸¸ç®€å•çš„è§£å†³ï¼Œä»£ç å¦‚ä¸‹ï¼š public void query() { for (Season s : Season.values()) { System.out.println(s); } } é€šè¿‡valuesæ–¹æ³•è·å¾—æ‰€æœ‰çš„æšä¸¾é¡¹ï¼Œç„¶åæ‰“å°å‡ºæ¥å³å¯ã€‚å¦‚æ­¤ç®€å•ï¼Œå¾—ç›Šäºæšä¸¾å†…ç½®çš„æ–¹æ³•ï¼Œæ¯ä¸ªæšä¸¾éƒ½æ˜¯java.lang.Enumçš„å­ç±»ï¼Œè¯¥åŸºç±»æä¾›äº†è¯¸å¦‚è·å¾—æ’åºå€¼çš„ordinalæ–¹æ³•ã€compareToæ¯”è¾ƒæ–¹æ³•ç­‰ï¼Œå¤§å¤§ç®€åŒ–äº†å¸¸é‡çš„è®¿é—®ã€‚ 4.æšä¸¾å¯ä»¥è‡ªå®šä¹‰çš„æ–¹æ³•ï¼šè¿™ä¸€ç‚¹ä¼¼ä¹å¹¶ä¸æ˜¯æšä¸¾çš„ä¼˜ç‚¹ï¼Œç±»å¸¸é‡ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•å‘€ï¼Œä½†å…³é”®æ˜¯æšä¸¾å¸¸é‡ä¸ä»…å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ï¼Œè¿˜å¯ä»¥å®šä¹‰éé™æ€æ–¹æ³•ï¼Œè€Œä¸”è¿˜èƒ½å¤Ÿä»æ ¹æœ¬ä¸Šæœç»å¸¸é‡ç±»è¢«å®ä¾‹åŒ–ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åœ¨å¸¸é‡å®šä¹‰ä¸­è·å¾—æœ€èˆ’æœå­£èŠ‚çš„æ–¹æ³•ï¼Œä½¿ç”¨å¸¸é‡æšä¸¾çš„ä»£ç å¦‚ä¸‹ï¼š enum Season { Spring, Summer, Autumn, Winter; public static Season getComfortableSeason(){ return Spring; } } æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸ªæšä¸¾é¡¹éƒ½æ˜¯è¯¥æšä¸¾çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¯¹äºæˆ‘ä»¬çš„ä¾‹å­æ¥è¯´ï¼Œä¹Ÿå°±è¡¨ç¤ºSpringå…¶å®æ˜¯Seasonçš„ä¸€ä¸ªå®ä¾‹ï¼ŒSummerä¹Ÿæ˜¯å…¶ä¸­ä¸€ä¸ªå®ä¾‹ï¼Œé‚£æˆ‘ä»¬åœ¨æšä¸¾ä¸­å®šä¹‰çš„é™æ€æ–¹æ³•æ—¢å¯ä»¥åœ¨ç±»(ä¹Ÿå°±æ˜¯æšä¸¾Season)ä¸­å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å®ä¾‹(ä¹Ÿå°±æ˜¯æšä¸¾é¡¹Springã€Summerã€Autumnã€Winter)ä¸­å¼•ç”¨ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š public static void main(String[] args) { System.out.println(\"The most comfortable season is \"+Season.getComfortableSeason()); } é‚£å¦‚æœä½¿ç”¨ç±»å¸¸é‡è¦å¦‚ä½•å®ç°å‘¢ï¼Ÿä»£ç å¦‚ä¸‹ï¼š class Season { public final static int SPRING = 0; public final static int SUMMER = 1; public final static int AUTUMN = 2; public final static int WINTER = 3; public static int getComfortableSeason(){ return SPRING; } } æƒ³æƒ³çœ‹ï¼Œæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½æ‰“å°å‡ºâ€The most comfortable season is Springâ€ è¿™å¥è¯å‘¢ï¼Ÿé™¤äº†ä½¿ç”¨switchå’Œifåˆ¤æ–­ä¹‹å¤–æ²¡æœ‰å…¶å®ƒåŠæ³•äº†ã€‚ è™½ç„¶æšä¸¾åœ¨å¾ˆå¤šæ–¹é¢æ¯”æ¥å£å¸¸é‡å’Œç±»å¸¸é‡å¥½ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹å®ƒæ˜¯æ¯”ä¸ä¸Šæ¥å£å¸¸é‡å’Œç±»å¸¸é‡çš„ï¼Œé‚£å°±æ˜¯ç»§æ‰¿ï¼Œæšä¸¾ç±»å‹æ˜¯ä¸èƒ½ç»§æ‰¿çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæšä¸¾å¸¸é‡å®šä¹‰å®Œæ¯•åï¼Œé™¤éä¿®æ”¹é‡æ„ï¼Œå¦åˆ™æ— æ³•åšæ‰©å±•ï¼Œè€Œæ¥å£å¸¸é‡å’Œç±»å¸¸é‡åˆ™å¯ä»¥é€šè¿‡ç»§æ‰¿è¿›è¡Œæ‰©å±•ã€‚ä½†æ˜¯ï¼Œä¸€èˆ¬å¸¸é‡åœ¨é¡¹ç›®æ„å»ºæ—¶å°±å®šä¹‰å®Œæ¯•äº†ï¼Œå¾ˆå°‘ä¼šå‡ºç°å¿…é¡»é€šè¿‡æ‰©å±•æ‰èƒ½å®ç°ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚ æ³¨æ„ï¼š åœ¨é¡¹ç›®ä¸­æ¨èä½¿ç”¨æšä¸¾å¸¸é‡ä»£æ›¿æ¥å£å¸¸é‡æˆ–ç±»å¸¸é‡ã€‚ å»ºè®®88ï¼šç”¨æšä¸¾å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼æ›´ç®€æ´å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method Pattern)æ˜¯â€ åˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ï¼Œå¹¶ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å®ƒå­ç±»â€ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼åœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­ç»å¸¸ä¼šç”¨åˆ°ã€‚ä¸‹é¢ä»¥æ±½è½¦åˆ¶é€ ä¸ºä¾‹ï¼Œçœ‹çœ‹ä¸€èˆ¬çš„å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š //æŠ½è±¡äº§å“ interface Car{ } //å…·ä½“äº§å“ç±» class FordCar implements Car{ } //å…·ä½“äº§å“ç±» class BuickCar implements Car{ } //å·¥å‚ç±» class CarFactory{ //ç”Ÿäº§æ±½è½¦ public static Car createCar(Class&lt;? extends Car> c){ try { return c.newInstance(); } catch (InstantiationException | IllegalAccessException e) { e.printStackTrace(); } return null; } } è¿™æ˜¯æœ€åŸå§‹çš„å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæœ‰ä¸¤ä¸ªäº§å“ï¼šç¦ç‰¹æ±½è½¦å’Œåˆ«å…‹æ±½è½¦ï¼Œç„¶åé€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼æ¥ç”Ÿäº§ã€‚æœ‰äº†å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæˆ‘ä»¬å°±ä¸ç”¨å…³å¿ƒä¸€è¾†è½¦å…·ä½“æ˜¯æ€ä¹ˆç”Ÿæˆçš„äº†ï¼Œåªè¦å‘Šè¯‰å·¥å‚â€ ç»™æˆ‘ç”Ÿäº§ä¸€è¾†ç¦ç‰¹æ±½è½¦ â€œå°±å¯ä»¥äº†ï¼Œä¸‹é¢æ˜¯äº§å‡ºä¸€è¾†ç¦ç‰¹æ±½è½¦æ—¶å®¢æˆ·ç«¯çš„ä»£ç ï¼š public static void main(String[] args) { //ç”Ÿäº§è½¦è¾† Car car = CarFactory.createCar(FordCar.class); } è¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œä½†ç»å¸¸ä½¿ç”¨å¹¶ä¸ä»£è¡¨å°±æ˜¯æœ€ä¼˜ç§€ã€æœ€ç®€æ´çš„ã€‚æ­¤å¤„å†ä»‹ç»ä¸€ç§é€šè¿‡æšä¸¾å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼çš„æ–¹æ¡ˆï¼Œè°ä¼˜è°åŠ£ä½ è‡ªè¡Œè¯„ä»·ã€‚æšä¸¾å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ä¸¤ç§æ–¹æ³•ï¼š (1)ã€æšä¸¾éé™æ€æ–¹æ³•å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼ æˆ‘ä»¬çŸ¥é“æ¯ä¸ªæšä¸¾é¡¹éƒ½æ˜¯è¯¥æšä¸¾çš„å®ä¾‹å¯¹è±¡ï¼Œé‚£æ˜¯ä¸æ˜¯å®šä¹‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç”Ÿæˆæ¯ä¸ªæšä¸¾é¡¹å¯¹åº”äº§å“æ¥å®ç°æ­¤æ¨¡å¼å‘¢ï¼Ÿä»£ç å¦‚ä¸‹ï¼š enum CarFactory { // å®šä¹‰ç”Ÿäº§ç±»èƒ½ç”Ÿäº§æ±½è½¦çš„ç±»å‹ FordCar, BuickCar; // ç”Ÿäº§æ±½è½¦ public Car create() { switch (this) { case FordCar: return new FordCar(); case BuickCar: return new BuickCar(); default: throw new AssertionError(\"æ— æ•ˆå‚æ•°\"); } } } createæ˜¯ä¸€ä¸ªéé™æ€æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯åªæœ‰é€šè¿‡FordCarã€BuickCaræšä¸¾é¡¹æ‰èƒ½è®¿é—®ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼å®ç°å·¥å‚æ–¹æ³•æ¨¡å¼æ—¶ï¼Œå®¢æˆ·ç«¯è¦ç”Ÿäº§ä¸€è¾†æ±½è½¦å°±å¾ˆç®€å•äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š public static void main(String[] args) { // ç”Ÿäº§è½¦è¾† Car car = CarFactory.BuickCar.create(); } (2)ã€é€šè¿‡æŠ½è±¡æ–¹æ³•ç”Ÿæˆäº§å“ æšä¸¾ç±»å‹è™½ç„¶ä¸èƒ½ç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥ç”¨abstractä¿®é¥°å…¶æ–¹æ³•ï¼Œæ­¤æ—¶å°±è¡¨ç¤ºè¯¥æšä¸¾æ˜¯ä¸€ä¸ªæŠ½è±¡æšä¸¾ï¼Œéœ€è¦æ¯ä¸ªæšä¸¾é¡¹è‡ªè¡Œå®ç°è¯¥æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æšä¸¾é¡¹çš„ç±»å‹æ˜¯è¯¥æšä¸¾çš„ä¸€ä¸ªå­ç±»ï¼Œæˆ‘ä»¬ä¿©çœ‹ä»£ç ï¼š enum CarFactory { // å®šä¹‰ç”Ÿäº§ç±»èƒ½ç”Ÿäº§æ±½è½¦çš„ç±»å‹ FordCar{ public Car create(){ return new FordCar(); } }, BuickCar{ public Car create(){ return new BuickCar(); } }; //æŠ½è±¡ç”Ÿäº§æ–¹æ³• public abstract Car create(); } é¦–å…ˆå®šä¹‰ä¸€ä¸ªæŠ½è±¡åˆ¶é€ æ–¹æ³•createï¼Œç„¶åæ¯ä¸ªæšä¸¾é¡¹è‡ªè¡Œå®ç°ï¼Œè¿™ç§æ–¹å¼ç¼–è¯‘åä¼šäº§ç”ŸCarFactoryçš„åŒ¿åå­ç±»ï¼Œå› ä¸ºæ¯ä¸ªæšä¸¾é¡¹éƒ½è¦å®ç°createæŠ½è±¡æ–¹æ³•ã€‚å®¢æˆ·ç«¯è°ƒç”¨ä¸ä¸Šä¸€ä¸ªæ–¹æ¡ˆç›¸åŒï¼Œä¸å†èµ˜è¿°ã€‚ å¤§å®¶å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨æšä¸¾ç±»å‹çš„å·¥å‚æ–¹æ³•æ¨¡å¼å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºä½¿ç”¨æšä¸¾ç±»å‹çš„å·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ä»¥ä¸‹ä¸‰ä¸ªä¼˜ç‚¹ï¼š é¿å…é”™è¯¯è°ƒç”¨çš„å‘ç”Ÿï¼šä¸€èˆ¬å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­çš„ç”Ÿäº§æ–¹æ³•(ä¹Ÿå°±æ˜¯createCaræ–¹æ³•)ï¼Œå¯ä»¥æ¥æ”¶ä¸‰ç§ç±»å‹çš„å‚æ•°ï¼šç±»å‹å‚æ•°(å¦‚æˆ‘ä»¬çš„ä¾‹å­)ã€Stringå‚æ•°(ç”Ÿäº§æ–¹æ³•ä¸­åˆ¤æ–­Stringå‚æ•°æ˜¯éœ€è¦ç”Ÿäº§ä»€ä¹ˆäº§å“)ã€intå‚æ•°(æ ¹æ®intå€¼åˆ¤æ–­éœ€è¦ç”Ÿäº§ä»€ä¹ˆç±»å‹çš„çš„äº§å“)ï¼Œè¿™ä¸‰ç§å‚æ•°éƒ½æ˜¯å®½æ³›çš„æ•°æ®ç±»å‹ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿé”™è¯¯(æ¯”å¦‚è¾¹ç•Œé—®é¢˜ã€nullå€¼é—®é¢˜)ï¼Œè€Œä¸”å‡ºç°è¿™ç±»é”™è¯¯ç¼–è¯‘å™¨è¿˜ä¸ä¼šæŠ¥è­¦ï¼Œä¾‹å¦‚ï¼š public static void main(String[] args) { // ç”Ÿäº§è½¦è¾† Car car = CarFactory.createCar(Car.class); } Caræ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®Œå…¨åˆä¹createCarçš„è¦æ±‚ï¼Œæ‰€ä»¥å®ƒåœ¨ç¼–è¯‘æ—¶ä¸ä¼šæŠ¥ä»»ä½•é”™è¯¯ï¼Œä½†ä¸€è¿è¡Œå°±ä¼šæŠ¥å‡ºInstantiationExceptionå¼‚å¸¸ï¼Œè€Œä½¿ç”¨æšä¸¾ç±»å‹çš„å·¥å‚æ–¹æ³•æ¨¡å¼å°±ä¸å­˜åœ¨è¯¥é—®é¢˜äº†ï¼Œä¸éœ€è¦ä¼ é€’ä»»ä½•å‚æ•°ï¼Œåªéœ€è¦é€‰æ‹©å¥½ç”Ÿäº§ä»€ä¹ˆç±»å‹çš„äº§å“å³å¯ã€‚ æ€§èƒ½å¥½ï¼Œä½¿ç”¨ç®€æ´ï¼šæšä¸¾ç±»å‹çš„è®¡ç®—æ—¶ä»¥intç±»å‹çš„è®¡ç®—ä¸ºåŸºç¡€çš„ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„æ“ä½œï¼Œæ€§èƒ½å½“ç„¶ä¼šå¿«ï¼Œè‡³äºä½¿ç”¨ä¾¿æ·ï¼Œæ³¨æ„çœ‹å®¢æˆ·ç«¯çš„è°ƒç”¨ï¼Œä»£ç çš„å­—é¢æ„æ€å°±æ˜¯â€ æ±½è½¦å·¥å‚ï¼Œæˆ‘è¦ä¸€è¾†åˆ«å…‹æ±½è½¦ï¼Œèµ¶å¿«ç”Ÿäº§â€ã€‚ é™ä½ç±»é—´è€¦åˆï¼šä¸ç®¡ç”Ÿäº§æ–¹æ³•æ¥æ”¶çš„æ˜¯Classã€Stringè¿˜æ˜¯intçš„å‚æ•°ï¼Œéƒ½ä¼šæˆä¸ºå®¢æˆ·ç«¯ç±»çš„è´Ÿæ‹…ï¼Œè¿™äº›ç±»å¹¶ä¸æ˜¯å®¢æˆ·ç«¯éœ€è¦çš„ï¼Œè€Œæ˜¯å› ä¸ºå·¥å‚æ–¹æ³•çš„é™åˆ¶å¿…é¡»è¾“å…¥çš„ï¼Œä¾‹å¦‚Classå‚æ•°ï¼Œå¯¹å®¢æˆ·ç«¯mainæ–¹æ³•æ¥è¯´ï¼Œä»–éœ€è¦ä¼ é€’ä¸€ä¸ªFordCar.classå‚æ•°æ‰èƒ½ç”Ÿäº§ä¸€è¾†ç¦ç‰¹æ±½è½¦ï¼Œé™¤äº†åœ¨createæ–¹æ³•ä¸­ä¼ é€’å‚æ•°å¤–ï¼Œä¸šåŠ¡ç±»ä¸éœ€è¦æ”¹Carçš„å®ç°ç±»ã€‚è¿™ä¸¥é‡è¿èƒŒäº†è¿ªç±³ç‰¹åŸåˆ™(Law of Demeter ç®€ç§°LoD),ä¹Ÿå°±æ˜¯æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼šä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶å®ƒå¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ã€‚ è€Œæšä¸¾ç±»å‹çš„å·¥å‚æ–¹æ³•å°±æ²¡æœ‰è¿™ç§é—®é¢˜äº†ï¼Œå®ƒåªéœ€è¦ä¾èµ–å·¥å‚ç±»å°±å¯ä»¥ç”Ÿäº§ä¸€è¾†ç¬¦åˆæ¥å£çš„æ±½è½¦ï¼Œå®Œå…¨å¯ä»¥æ— è§†å…·ä½“æ±½è½¦ç±»çš„å­˜åœ¨ã€‚ å»ºè®®93ï¼šJavaçš„æ³›å‹æ˜¯å¯ä»¥æ“¦é™¤çš„Javaæ³›å‹(Generic) çš„å¼•å…¥åŠ å¼ºäº†å‚æ•°ç±»å‹çš„å®‰å…¨æ€§ï¼Œå‡å°‘äº†ç±»å‹çš„è½¬æ¢ï¼Œå®ƒä¸C++ä¸­çš„æ¨¡æ¿(Temeplates) æ¯”è¾ƒç±»ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒçš„æ˜¯ï¼šJavaçš„æ³›å‹åœ¨ç¼–è¯‘å™¨æœ‰æ•ˆï¼Œåœ¨è¿è¡ŒæœŸè¢«åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„æ³›å‹å‚æ•°ç±»å‹åœ¨ç¼–è¯‘åä¼šè¢«æ¸…é™¤æ‰ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š public class Foo { //arrayMethodæ¥æ”¶æ•°ç»„å‚æ•°ï¼Œå¹¶è¿›è¡Œé‡è½½ public void arrayMethod(String[] intArray) { } public void arrayMethod(Integer[] intArray) { } //listMethodæ¥æ”¶æ³›å‹Listå‚æ•°ï¼Œå¹¶è¿›è¡Œé‡è½½ public void listMethod(List&lt;String> stringList) { } public void listMethod(List&lt;Integer> intList) { } } ç¨‹åºå¾ˆç®€å•ï¼Œç¼–å†™äº†4ä¸ªæ–¹æ³•ï¼ŒarrayMethodæ–¹æ³•æ¥æ”¶Stringæ•°ç»„å’ŒIntegeræ•°ç»„ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„é‡è½½ï¼ŒlistMethodæ¥æ”¶å…ƒç´ ç±»å‹ä¸ºStringå’ŒIntegerçš„listå˜é‡ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œè¿™æ®µç¨‹åºæ˜¯å¦èƒ½ç¼–è¯‘ï¼Ÿå¦‚æœä¸èƒ½ï¼Ÿé—®é¢˜å‡ºåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ äº‹å®ä¸Šï¼Œè¿™æ®µç¨‹åºæ—¶æ— æ³•ç¼–è¯‘çš„ï¼Œç¼–è¯‘æ—¶æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š è¿™æ®µé”™è¯¯çš„æ„æ€ï¼šç®€å•çš„çš„è¯´å°±æ˜¯æ–¹æ³•ç­¾åé‡å¤ï¼Œå…¶å®å°±æ˜¯è¯´listMethod(List intList)æ–¹æ³•åœ¨ç¼–è¯‘æ—¶æ“¦é™¤ç±»å‹åæ˜¯listMethod(List intList)ä¸å¦ä¸€ä¸ªæ–¹æ³•é‡å¤ã€‚è¿™å°±æ˜¯Javaæ³›å‹æ“¦é™¤å¼•èµ·çš„é—®é¢˜ï¼šåœ¨ç¼–è¯‘åæ‰€æœ‰çš„æ³›å‹ç±»å‹éƒ½ä¼šåšç›¸åº”çš„è½¬åŒ–ã€‚è½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š Listã€Listã€Listæ“¦é™¤åçš„ç±»å‹ä¸ºList List[] æ“¦é™¤åçš„ç±»å‹ä¸ºList[]. List&lt;? extends E&gt; ã€List&lt;? super E&gt; æ“¦é™¤åçš„ç±»å‹ä¸ºList. List&lt;T extends Serializable &amp; Cloneable &gt;æ“¦é™¤åçš„ç±»å‹ä¸ºList&lt; Serializable&gt;. æ˜ç™½äº†è¿™äº›è§„åˆ™ï¼Œå†çœ‹å¦‚ä¸‹ä»£ç ï¼š public static void main(String[] args) { List&lt;String> list = new ArrayList&lt;String>(); list.add(\"abc\"); String str = list.get(0); } è¿›è¿‡ç¼–è¯‘åçš„æ“¦é™¤å¤„ç†ï¼Œä¸Šé¢çš„ä»£ç å’Œä¸‹é¢çš„ç¨‹åºæ—¶ä¸€è‡´çš„ï¼š public static void main(String[] args) { List list = new ArrayList(); list.add(\"abc\"); String str = (String) list.get(0); } Javaç¼–è¯‘åå­—èŠ‚ç ä¸­å·²ç»æ²¡æœ‰æ³›å‹çš„ä»»ä½•ä¿¡æ¯äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ³›å‹ç±»å’Œä¸€ä¸ªæ™®é€šç±»åœ¨ç»è¿‡ç¼–è¯‘åéƒ½æŒ‡å‘äº†åŒä¸€å­—èŠ‚ç ï¼Œæ¯”å¦‚Fooç±»ï¼Œç»è¿‡ç¼–è¯‘åå°†åªæœ‰ä¸€ä»½Foo.classç±»ï¼Œä¸ç®¡æ˜¯Fooè¿˜æ˜¯Fooå¼•ç”¨çš„éƒ½æ˜¯åŒä¸€å­—èŠ‚ç ã€‚Javaä¹‹æ‰€ä»¥å¦‚æ­¤å¤„ç†ï¼Œæœ‰ä¸¤ä¸ªåŸå› ï¼š é¿å…JVMçš„å¤§æ¢è¡€ã€‚C++æ³›å‹ç”Ÿå‘½æœŸå»¶ç»­åˆ°äº†è¿è¡ŒæœŸï¼Œè€ŒJavaæ˜¯åœ¨ç¼–è¯‘æœŸæ“¦é™¤æ‰çš„ï¼Œæˆ‘ä»¬æƒ³æƒ³ï¼Œå¦‚æœJVMä¹ŸæŠŠæ³›å‹ç±»å‹å»¶ç»­åˆ°è¿è¡ŒæœŸï¼Œé‚£ä¹ˆJVMå°±éœ€è¦è¿›è¡Œå¤§é‡çš„é‡æ„å·¥ä½œäº†ã€‚ ç‰ˆæœ¬å…¼å®¹ï¼šåœ¨ç¼–è¯‘æœŸæ“¦é™¤å¯ä»¥æ›´å¥½çš„æ”¯æŒåŸç”Ÿç±»å‹(Raw Type)ï¼Œåœ¨Java1.5æˆ–1.6â€¦å¹³å°ä¸Šï¼Œå³ä½¿å£°æ˜ä¸€ä¸ªListè¿™æ ·çš„åŸç”Ÿç±»å‹ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘é€šè¿‡çš„ï¼Œåªæ˜¯ä¼šäº§ç”Ÿè­¦å‘Šä¿¡æ¯è€Œå·²ã€‚ æ˜ç™½äº†Javaæ³›å‹æ˜¯ç±»å‹æ“¦é™¤çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£é‡Šç±»ä¼¼å¦‚ä¸‹çš„é—®é¢˜äº†ï¼š 1.æ³›å‹çš„classå¯¹è±¡æ˜¯ç›¸åŒçš„ï¼šæ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªclasså±æ€§ï¼Œæ³›å‹åŒ–ä¸ä¼šæ”¹å˜classå±æ€§çš„è¿”å›å€¼ï¼Œä¾‹å¦‚ï¼š public static void main(String[] args) { List&lt;String> list = new ArrayList&lt;String>(); List&lt;Integer> list2 = new ArrayList&lt;Integer>(); System.out.println(list.getClass()==list2.getClass()); } ä»¥ä¸Šä»£ç è¿”å›trueï¼ŒåŸå› å¾ˆç®€å•ï¼ŒListå’ŒListæ“¦é™¤åçš„ç±»å‹éƒ½æ˜¯Listï¼Œæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ *2.æ³›å‹æ•°ç»„åˆå§‹åŒ–æ—¶ä¸èƒ½å£°æ˜æ³›å‹ï¼Œå¦‚ä¸‹ä»£ç ç¼–è¯‘æ—¶é€šä¸è¿‡ï¼š * List&lt;String>[] listArray = new List&lt;String>[]; åŸå› å¾ˆç®€å•ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ªå¸¦æœ‰æ³›å‹å‚æ•°çš„æ•°ç»„ï¼Œä½†ä¸èƒ½åˆå§‹åŒ–è¯¥æ•°ç»„ï¼Œå› ä¸ºæ‰§è¡Œäº†ç±»å‹æ“¦é™¤æ“ä½œï¼ŒList[]ä¸List[] å°±æ˜¯åŒä¸€å›äº‹äº†ï¼Œç¼–è¯‘å™¨æ‹’ç»å¦‚æ­¤å£°æ˜ã€‚ 3.instanceofä¸å…è®¸å­˜åœ¨æ³›å‹å‚æ•°:ä»¥ä¸‹ä»£ç ä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼ŒåŸå› ä¸€æ ·ï¼Œæ³›å‹ç±»å‹è¢«æ“¦é™¤äº†ï¼š List&lt;String> list = new ArrayList&lt;String>(); System.out.println(list instanceof List&lt;String>); å»ºè®®98ï¼šå»ºè®®çš„é‡‡ç”¨é¡ºåºæ˜¯Listä¸­æ³›å‹é¡ºåºä¾æ¬¡ä¸ºTã€?ã€ObjectListã€Listã€Listè¿™ä¸‰è€…éƒ½å¯ä»¥å®¹çº³æ‰€æœ‰çš„å¯¹è±¡ï¼Œä½†ä½¿ç”¨çš„é¡ºåºåº”è¯¥æ˜¯é¦–é€‰Listï¼Œæ¬¡ä¹‹Listï¼Œæœ€åé€‰æ‹©Listï¼ŒåŸå› å¦‚ä¸‹ï¼š (1)ã€Listæ˜¯ç¡®å®šçš„æŸä¸€ä¸ªç±»å‹ Listè¡¨ç¤ºçš„æ˜¯Listé›†åˆä¸­çš„å…ƒç´ éƒ½ä¸ºTç±»å‹ï¼Œå…·ä½“ç±»å‹åœ¨è¿è¡ŒæœŸå†³å®šï¼›List&lt;ï¼Ÿ&gt;è¡¨ç¤ºçš„æ˜¯ä»»æ„ç±»å‹ï¼Œä¸Listç±»ä¼¼ï¼Œè€ŒListåˆ™è¡¨ç¤ºListé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ä¸ºObjectç±»å‹ï¼Œå› ä¸ºObjectæ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œæ‰€ä»¥Listä¹Ÿå¯ä»¥å®¹çº³æ‰€æœ‰çš„ç±»ç±»å‹ï¼Œä»è¿™ä¸€å­—é¢æ„ä¹‰ä¸Šåˆ†æï¼ŒListæ›´ç¬¦åˆä¹ æƒ¯ï¼šç¼–ç è€…çŸ¥é“å®ƒæ˜¯æŸä¸€ä¸ªç±»å‹ï¼Œåªæ˜¯åœ¨è¿è¡ŒæœŸæ‰ç¡®å®šè€Œå·²ã€‚ (2)Listå¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œ Listå¯ä»¥è¿›è¡Œè¯¸å¦‚addï¼Œremoveç­‰æ“ä½œï¼Œå› ä¸ºå®ƒçš„ç±»å‹æ˜¯å›ºå®šçš„Tç±»å‹ï¼Œåœ¨ç¼–ç æœŸä¸éœ€è¦è¿›è¡Œä»»ä½•çš„è½¬å‹æ“ä½œã€‚ Listæ˜¯åªè¯»ç±»å‹çš„ï¼Œä¸èƒ½è¿›è¡Œå¢åŠ ã€ä¿®æ”¹æ“ä½œï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“Listä¸­å®¹çº³çš„æ˜¯ä»€ä¹ˆç±»å‹çš„å…ƒç´ ï¼Œä¹Ÿå°±æ— æ³•æ ¡éªŒç±»å‹æ˜¯å¦å®‰å…¨äº†ï¼Œè€Œä¸”List&lt;?&gt;è¯»å–å‡ºçš„å…ƒç´ éƒ½æ˜¯Objectç±»å‹çš„ï¼Œéœ€è¦ä¸»åŠ¨è½¬å‹ï¼Œæ‰€ä»¥å®ƒç»å¸¸ç”¨äºæ³›å‹æ–¹æ³•çš„è¿”å›å€¼ã€‚æ³¨æ„List&lt;ï¼Ÿ&gt;è™½ç„¶æ— æ³•å¢åŠ ï¼Œä¿®æ”¹å…ƒç´ ï¼Œä½†æ˜¯å´å¯ä»¥åˆ é™¤å…ƒç´ ï¼Œæ¯”å¦‚æ‰§è¡Œremoveã€clearç­‰æ–¹æ³•ï¼Œé‚£æ˜¯å› ä¸ºå®ƒçš„åˆ é™¤åŠ¨ä½œä¸æ³›å‹ç±»å‹æ— å…³ã€‚ List ä¹Ÿå¯ä»¥è¯»å†™æ“ä½œï¼Œä½†æ˜¯å®ƒæ‰§è¡Œå†™å…¥æ“ä½œæ—¶éœ€è¦å‘ä¸Šè½¬å‹(Up cast)ï¼Œåœ¨è¯»å–æ•°æ®çš„æ—¶å€™éœ€è¦å‘ä¸‹è½¬å‹ï¼Œè€Œæ­¤æ—¶å·²ç»å¤±å»äº†æ³›å‹å­˜åœ¨çš„æ„ä¹‰äº†ã€‚ æ‰“ä¸ªæ¯”æ–¹ï¼Œæœ‰ä¸€ä¸ªç¯®å­ç”¨æ¥å®¹çº³ç‰©å“ï¼Œæ¯”å¦‚è¥¿ç“œï¼Œç•ªèŒ„ç­‰.Listçš„æ„æ€æ˜¯è¯´ï¼Œâ€œå˜¿ï¼Œæˆ‘è¿™é‡Œæœ‰ä¸€ä¸ªç¯®å­ï¼Œå¯ä»¥å®¹çº³å›ºå®šç±»åˆ«çš„ä¸œè¥¿ï¼Œæ¯”å¦‚è¥¿ç“œï¼Œç•ªèŒ„ç­‰â€ã€‚Listçš„æ„æ€æ˜¯è¯´ï¼šâ€œå˜¿ï¼Œæˆ‘æœ‰ä¸€ä¸ªç¯®å­ï¼Œæˆ‘å¯ä»¥å®¹çº³ä»»ä½•ä¸œè¥¿ï¼Œåªè¦æ˜¯ä½ æƒ³å¾—åˆ°çš„â€ã€‚è€ŒListå°±æ›´æœ‰æ„æ€äº†ï¼Œå®ƒè¯´â€ å˜¿ï¼Œæˆ‘ä¹Ÿæœ‰ä¸€ä¸ªç¯®å­ï¼Œæˆ‘å¯ä»¥å®¹çº³æ‰€æœ‰ç‰©è´¨ï¼Œåªè¦ä½ è®¤ä¸ºæ˜¯ç‰©è´¨çš„ä¸œè¥¿éƒ½å¯ä»¥å®¹çº³è¿›æ¥ â€œã€‚ æ¨è€Œå¹¿ä¹‹ï¼ŒDaoåº”è¯¥æ¯”Dao&lt;ï¼Ÿ&gt;ã€Daoæ›´å…ˆé‡‡ç”¨ï¼ŒDescåˆ™æ¯”Desc&lt;ï¼Ÿ&gt;ã€Descæ›´ä¼˜å…ˆé‡‡ç”¨ã€‚ å»ºè®®101ï¼šæ³¨æ„Classç±»çš„ç‰¹æ®Šæ€§Javaè¯­è¨€æ˜¯å…ˆæŠŠJavaæºæ–‡ä»¶ç¼–è¯‘æˆåç¼€ä¸ºclassçš„å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åå†é€šè¿‡ClassLoaderæœºåˆ¶æŠŠè¿™äº›ç±»æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæœ€åç”Ÿæˆå®ä¾‹æ‰§è¡Œçš„ï¼Œè¿™æ˜¯Javaå¤„ç†çš„åŸºæœ¬æœºåˆ¶ï¼Œä½†æ˜¯åŠ è½½åˆ°å†…å­˜ä¸­çš„æ•°æ®çš„å¦‚ä½•æè¿°ä¸€ä¸ªç±»çš„å‘¢ï¼Ÿæ¯”å¦‚åœ¨Dog.classæ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªDogç±»ï¼Œé‚£å®ƒåœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å±•ç°çš„å‘¢ï¼Ÿ Javaä½¿ç”¨ä¸€ä¸ªå…ƒç±»(MetaClass)æ¥æè¿°åŠ è½½åˆ°å†…å­˜ä¸­çš„ç±»æ•°æ®ï¼Œè¿™å°±æ˜¯Classç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªæè¿°ç±»çš„ç±»å¯¹è±¡ï¼Œæ¯”å¦‚Dog.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­åå°±ä¼šæœ‰ä¸€ä¸ªclassçš„å®ä¾‹å¯¹è±¡æè¿°ä¹‹ã€‚å› ä¸ºæ˜¯Classç±»æ˜¯â€œç±»ä¸­ç±»â€ï¼Œä¹Ÿå°±æœ‰é¢„ç¤ºç€å®ƒæœ‰å¾ˆå¤šç‰¹æ®Šçš„åœ°æ–¹ï¼š 1.æ— æ„é€ å‡½æ•°ï¼šJavaä¸­çš„ç±»ä¸€èˆ¬éƒ½æœ‰æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œä½†æ˜¯Classç±»å´æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼ŒClasså¯¹è±¡æ˜¯åœ¨åŠ è½½ç±»æ—¶ç”±Javaè™šæ‹Ÿæœºé€šè¿‡è°ƒç”¨ç±»åŠ è½½å™¨ä¸­çš„difineClassæ–¹æ³•è‡ªåŠ¨æ„é€ çš„ã€‚ 2.å¯ä»¥æè¿°åŸºæœ¬ç±»å‹ï¼šè™½ç„¶8ä¸ªåŸºæœ¬ç±»å‹åœ¨JVMä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¸€èˆ¬å­˜åœ¨äºæ ˆå†…å­˜ä¸­ï¼Œä½†æ˜¯Classç±»ä»ç„¶å¯ä»¥æè¿°å®ƒä»¬ï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨int.classè¡¨ç¤ºintç±»å‹çš„ç±»å¯¹è±¡ã€‚ 3.å…¶å¯¹è±¡éƒ½æ˜¯å•ä¾‹æ¨¡å¼ï¼šä¸€ä¸ªClassçš„å®ä¾‹å¯¹è±¡æè¿°ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”åªæè¿°ä¸€ä¸ªç±»ï¼Œåè¿‡æ¥ä¹Ÿæˆç«‹ã€‚ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså®ä¾‹å¯¹è±¡ï¼Œå¦‚ä¸‹ä»£ç è¿”å›çš„ç»“æœéƒ½ä¸ºtrueï¼š // ç±»çš„å±æ€§classæ‰€å¼•ç”¨çš„å¯¹è±¡ä¸å®ä¾‹å¯¹è±¡çš„getClassè¿”å›å€¼ç›¸åŒ boolean b1=String.class.equals(new String().getClass()); boolean b2=\"ABC\".getClass().equals(String.class); // classå®ä¾‹å¯¹è±¡ä¸åŒºåˆ†æ³›å‹ boolean b3=ArrayList.class.equals(new ArrayList&lt;String>().getClass()); Classç±»æ˜¯Javaçš„åå°„å…¥å£ï¼Œåªæœ‰åœ¨è·å¾—äº†ä¸€ä¸ªç±»çš„æè¿°å¯¹è±¡åæ‰èƒ½åŠ¨æ€çš„åŠ è½½ã€è°ƒç”¨ï¼Œä¸€èˆ¬è·å¾—ä¸€ä¸ªClasså¯¹è±¡æœ‰ä¸‰ç§é€”å¾„ï¼š ç±»å±æ€§æ–¹å¼ï¼šå¦‚String.class å¯¹è±¡çš„getClassæ–¹æ³•ï¼Œå¦‚new String().getClass() forNameæ–¹æ³•åŠ è½½ï¼šå¦‚Class.forName(â€œ java.lang.Stringâ€) è·å¾—äº†Classå¯¹è±¡åï¼Œå°±å¯ä»¥é€šè¿‡getAnnotations()è·å¾—æ³¨è§£ï¼Œé€šè¿‡getMethods()è·å¾—æ–¹æ³•ï¼Œé€šè¿‡getConstructors()è·å¾—æ„é€ å‡½æ•°ç­‰ï¼Œè¿™ä½åç»­çš„åå°„ä»£ç é“ºå¹³äº†é“è·¯ã€‚ å»ºè®®106ï¼šåŠ¨æ€ä»£ç†å¯ä»¥ä½¿ä»£ç†æ¨¡å¼æ›´åŠ çµæ´»Javaçš„åå°„æ¡†æ¶æä¾›äº†åŠ¨æ€ä»£ç†(Dynamic Proxy)æœºåˆ¶ï¼Œå…è®¸åœ¨è¿è¡ŒæœŸå¯¹ç›®æ ‡ç±»ç”Ÿæˆä»£ç†ï¼Œé¿å…é‡å¤å¼€å‘ã€‚æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªé™æ€ä»£ç†æ˜¯é€šè¿‡ä¸»é¢˜è§’è‰²(Proxy)å’Œå…·ä½“ä¸»é¢˜è§’è‰²(Real Subject)å…±åŒå®ç°ä¸»é¢˜è§’è‰²(Subject)çš„é€»è¾‘çš„ï¼Œåªæ˜¯ä»£ç†è§’è‰²æŠŠç›¸å…³çš„æ‰§è¡Œé€»è¾‘å§”æ‰˜ç»™äº†å…·ä½“è§’è‰²è€Œå·²ï¼Œä¸€ä¸ªç®€å•çš„é™æ€ä»£ç†å¦‚ä¸‹æ‰€ç¤ºï¼š interface Subject { // å®šä¹‰ä¸€ä¸ªæ–¹æ³• public void request(); } // å…·ä½“ä¸»é¢˜è§’è‰² class RealSubject implements Subject { // å®ç°æ–¹æ³• @Override public void request() { // å®ç°å…·ä½“ä¸šåŠ¡é€»è¾‘ } } class Proxy implements Subject { // è¦ä»£ç†é‚£ä¸ªå®ç°ç±» private Subject subject = null; // é»˜è®¤è¢«ä»£ç†è€… public Proxy() { subject = new RealSubject(); } // é€šè¿‡æ„é€ å‡½æ•°ä¼ é€’è¢«ä»£ç†è€… public Proxy(Subject _subject) { subject = _subject; } @Override public void request() { before(); subject.request(); after(); } // é¢„å¤„ç† private void after() { // doSomething } // å–„åå¤„ç† private void before() { // doSomething } } è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é™æ€ä»£ç†ã€‚Javaè¿˜æä¾›äº†java.lang.reflect.Proxyç”¨äºå®ç°åŠ¨æ€ä»£ç†ï¼šåªè¦æä¾›ä¸€ä¸ªæŠ½è±¡ä¸»é¢˜è§’è‰²å’Œå…·ä½“ä¸»é¢˜è§’è‰²ï¼Œå°±å¯ä»¥åŠ¨æ€å®ç°å…¶é€»è¾‘çš„ï¼Œå…¶å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š interface Subject { // å®šä¹‰ä¸€ä¸ªæ–¹æ³• public void request(); } // å…·ä½“ä¸»é¢˜è§’è‰² class RealSubject implements Subject { // å®ç°æ–¹æ³• @Override public void request() { // å®ç°å…·ä½“ä¸šåŠ¡é€»è¾‘ } } class SubjectHandler implements InvocationHandler { // è¢«ä»£ç†çš„å¯¹è±¡ private Subject subject; public SubjectHandler(Subject _subject) { subject = _subject; } @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { // é¢„å¤„ç† System.out.println(\"é¢„å¤„ç†...\"); //ç›´æ¥è°ƒç”¨è¢«ä»£ç†çš„æ–¹æ³• Object obj = method.invoke(subject, args); // åå¤„ç† System.out.println(\"åå¤„ç†...\"); return obj; } } æ³¨æ„è¿™é‡Œæ²¡æœ‰ä»£ç†ä¸»é¢˜è§’è‰²ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯SubjectHandler ä½œä¸ºä¸»è¦çš„é€»è¾‘å§”æ‰˜å¤„ç†ï¼Œå…¶ä¸­invokeæ–¹æ³•æ˜¯æ¥å£InvocationHandlerå®šä¹‰å¿…é¡»å®ç°çš„ï¼Œå®ƒå®Œæˆäº†å¯¹çœŸå®æ–¹æ³•çš„è°ƒç”¨ã€‚ æˆ‘ä»¬æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹InvocationHandleræ¥å£ï¼ŒåŠ¨æ€ä»£ç†æ˜¯æ ¹æ®è¢«ä»£ç†çš„æ¥å£ç”Ÿæˆçš„æ‰€æœ‰æ–¹æ³•çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç»™å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼ŒåŠ¨æ€ä»£ç†ä¼šå®£ç§°â€œæˆ‘å·²ç»å®ç°è¯¥æ¥å£ä¸‹çš„æ‰€æœ‰æ–¹æ³•äº†â€ï¼Œé‚£å¤§å®¶æƒ³æƒ³çœ‹ï¼ŒåŠ¨æ€ä»£ç†æ˜¯æ€ä¹ˆæ‰èƒ½å®ç°æ¥å£ä¸­çš„æ–¹æ³•å‘¢ï¼Ÿåœ¨é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰æ–¹æ³•çš„è¿”å›å€¼éƒ½æ˜¯ç©ºçš„ï¼Œæ˜¯çš„ï¼Œè™½ç„¶ä»£ç†å·²ç»å®ç°äº†å®ƒï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•çš„é€»è¾‘å«ä¹‰ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿå¥½åŠï¼Œé€šè¿‡InvocationHandleræ¥å£çš„å®ç°ç±»æ¥å®ç°ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ç”±è¯¥Handlerè¿›è¡Œå¤„ç†çš„ï¼Œå³æ‰€æœ‰è¢«ä»£ç†çš„æ–¹æ³•éƒ½ç”±InvocationHandleræ¥ç®¡å®é™…çš„å¤„ç†ä»»åŠ¡ã€‚ æˆ‘ä»¬å¼€çœ‹çœ‹åŠ¨æ€ä»£ç†çš„åœºæ™¯ï¼Œä»£ç å¦‚ä¸‹ï¼š public static void main(String[] args) { //å…·ä½“ä¸»é¢˜è§’è‰²ï¼Œä¹Ÿå°±æ˜¯è¢«ä»£ç†ç±» Subject subject = new RealSubject(); //ä»£ç†å®ä¾‹çš„å¤„ç†Handler InvocationHandler handler =new SubjectHandler(subject); //å½“å‰åŠ è½½å™¨ ClassLoader cl = subject.getClass().getClassLoader(); //åŠ¨æ€ä»£ç† Subject proxy = (Subject) Proxy.newProxyInstance(cl,subject.getClass().getInterfaces(),handler); //æ‰§è¡Œå…·ä½“ä¸»é¢˜è§’è‰²æ–¹æ³• proxy.request(); } æ­¤æ—¶å°±å®ç°äº†ï¼Œä¸ç”¨æ˜¾å¼åˆ›å»ºä»£ç†ç±»å³å®ç°ä»£ç†çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å¯ä»¥åœ¨è¢«ä»£ç†çš„è§’è‰²æ‰§è¡Œå‰è¿›è¡Œæƒé™åˆ¤æ–­ï¼Œæˆ–è€…æ‰§è¡Œåè¿›è¡Œæ•°æ®æ ¡éªŒã€‚ åŠ¨æ€ä»£ç†å¾ˆå®¹æ˜“å®ç°é€šç”¨çš„ä»£ç†ç±»ï¼Œåªè¦åœ¨InvocationHandlerçš„invokeæ–¹æ³•ä¸­è¯»å–æŒä¹…åŒ–çš„æ•°æ®å³å¯å®ç°ï¼Œè€Œä¸”è¿˜èƒ½å®ç°åŠ¨æ€åˆ‡å…¥çš„æ•ˆæœï¼Œè¿™ä¹Ÿæ˜¯AOP(Aspect Oriented Programming)å˜æˆç†å¿µã€‚ å»ºè®®110ï¼šæå€¡å¼‚å¸¸å°è£…Javaè¯­è¨€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶å¯ä»¥å»ç¡®ä¿ç¨‹åºçš„å¥å£®æ€§ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç”¨ç‡ï¼Œä½†æ˜¯Java APIæä¾›çš„å¼‚å¸¸éƒ½æ˜¯æ¯”è¾ƒä½çº§çš„(è¿™é‡Œçš„ä½çº§æ˜¯æŒ‡ â€œ ä½çº§åˆ«çš„ â€œ å¼‚å¸¸)ï¼Œåªæœ‰å¼€å‘äººå‘˜æ‰èƒ½çœ‹çš„æ‡‚ï¼Œæ‰æ˜ç™½å‘ç”Ÿäº†ä»€ä¹ˆé—®é¢˜ã€‚è€Œå¯¹äºç»ˆç«¯ç”¨æˆ·æ¥è¯´ï¼Œè¿™äº›å¼‚å¸¸åŸºæœ¬ä¸Šå°±æ˜¯å¤©ä¹¦ï¼Œä¸ä¸šåŠ¡æ— å…³ï¼Œæ˜¯çº¯è®¡ç®—æœºè¯­è¨€çš„æè¿°ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼Ÿè¿™å°±éœ€è¦æˆ‘ä»¬å¯¹å¼‚å¸¸è¿›è¡Œå°è£…äº†ã€‚å¼‚å¸¸å°è£…æœ‰ä¸‰æ–¹é¢çš„ä¼˜ç‚¹ï¼š (1)ã€æé«˜ç³»ç»Ÿçš„å‹å¥½æ€§ä¾‹å¦‚ï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™å›æŠ¥FileNotFoundExceptionå¼‚å¸¸ï¼Œå¦‚æœè¯¥æ–¹æ³•çš„ç¼–å†™è€…ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥æŠ›åˆ°ä¸Šå±‚ï¼Œåˆ™ä¼šé™ä½ç³»ç»Ÿçš„å‹å¥½æ€§ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š public static void doStuff() throws FileNotFoundException { InputStream is = new FileInputStream(\"æ— æ•ˆæ–‡ä»¶.txt\"); /* æ–‡ä»¶æ“ä½œ */ } æ­¤æ—¶doStuffçš„å‹å¥½æ€§æå·®ï¼Œå‡ºç°å¼‚å¸¸æ—¶(å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨)ï¼Œè¯¥æ–¹æ³•ç›´æ¥æŠŠFileNotFoundExceptionå¼‚å¸¸æŠ›åˆ°ä¸Šå±‚åº”ç”¨ä¸­(æˆ–è€…æ˜¯æœ€ç»ˆç”¨æˆ·)ï¼Œè€Œä¸Šå±‚åº”ç”¨(æˆ–ç”¨æˆ·è¦ä¹ˆè‡ªå·±å¤„ç†)ï¼Œè¦ä¹ˆæ¥ç€æŠ›ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯è®©ç”¨æˆ·é¢å¯¹ç€â€ å¤©ä¹¦ â€œ å¼çš„æ–‡å­—å‘å‘†ï¼Œç”¨æˆ·ä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œåªæ˜¯çŸ¥é“ç³»ç»Ÿå‘Šè¯‰ä»–â€ å“¦ï¼Œæˆ‘å‡ºé”™äº†ï¼Œä»€ä¹ˆé”™è¯¯ï¼Ÿä½ è‡ªå·±çœ‹ç€åŠå§ â€œã€‚ è§£å†³åŠæ³•å°±æ˜¯å°è£…å¼‚å¸¸ï¼Œå¯ä»¥æŠŠå¼‚å¸¸çš„é˜…è¯»è€…åˆ†ä¸ºä¸¤ç±»ï¼šå¼€å‘äººå‘˜å’Œç”¨æˆ·ã€‚å¼€å‘äººå‘˜æŸ¥æ‰¾é—®é¢˜ï¼Œéœ€è¦æ‰“å°å‡ºå †æ ˆä¿¡æ¯ï¼Œè€Œç”¨æˆ·åˆ™éœ€è¦äº†è§£å…·ä½“çš„ä¸šåŠ¡åŸå› ï¼Œæ¯”å¦‚æ–‡ä»¶å¤ªå¤§ã€ä¸èƒ½åŒæ—¶ç¼–å†™æ–‡ä»¶ç­‰ï¼Œä»£ç å¦‚ä¸‹ï¼š public static void doStuff2() throws MyBussinessException{ try { InputStream is = new FileInputStream(\"æ— æ•ˆæ–‡ä»¶.txt\"); } catch (FileNotFoundException e) { //æ–¹ä¾¿å¼€å‘äººå‘˜å’Œç»´æŠ¤äººå‘˜è€Œè®¾ç½®çš„å¼‚å¸¸ä¿¡æ¯ e.printStackTrace(); //æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸ throw new MyBussinessException(); } /* æ–‡ä»¶æ“ä½œ */ } (2)ã€æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§çœ‹å¦‚ä¸‹ä»£ç ï¼š public void doStuff3(){ try{ //doSomething }catch(Exception e){ e.printStackTrace(); } } è¿™æ˜¯å¤§å®¶å¾ˆå®¹æ˜“çŠ¯çš„é”™è¯¯ï¼ŒæŠ›å‡ºå¼‚å¸¸æ˜¯å§?åˆ†ç±»å¤„ç†å¤šéº»çƒ¦ï¼Œå°±å†™ä¸€ä¸ªcatchå—æ¥å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸å§ï¼Œè€Œä¸”è¿˜ä¿¡èª“æ—¦æ—¦çš„è¯´â€ JVMä¼šæ‰“å°å‡ºæ ˆä¸­çš„é”™è¯¯ä¿¡æ¯ â€œï¼Œè™½ç„¶è¿™æ²¡é”™ï¼Œä½†æ˜¯è¯¥ä¿¡æ¯åªæœ‰å¼€å‘äººå‘˜è‡ªå·±çœ‹çš„æ‡‚ï¼Œç»´æŠ¤äººå‘˜çœ‹åˆ°è¿™æ®µå¼‚å¸¸æ—¶åŸºæœ¬ä¸Šæ— æ³•å¤„ç†ï¼Œå› ä¸ºéœ€è¦åˆ°ä»£ç é€»è¾‘ä¸­å»åˆ†æé—®é¢˜ã€‚ æ­£ç¡®çš„åšæ³•æ˜¯å¯¹å¼‚å¸¸è¿›è¡Œåˆ†ç±»å¤„ç†ï¼Œå¹¶è¿›è¡Œå°è£…è¾“å‡ºï¼Œä»£ç å¦‚ä¸‹ï¼š public void doStuff4(){ try{ //doSomething }catch(FileNotFoundException e){ log.info(\"æ–‡ä»¶æœªæ‰¾åˆ°ï¼Œä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶....\"); e.printStackTrace(); }catch(SecurityException e1){ log.info(\" æ— æƒè®¿é—®ï¼Œå¯èƒ½åŸå› æ˜¯......\"); e1.printStackTrace(); } } å¦‚æ­¤åŒ…è£…åï¼Œç»´æŠ¤äººå‘˜çœ‹åˆ°è¿™æ ·çš„å¼‚å¸¸å°±æœ‰äº†åˆæ­¥çš„åˆ¤æ–­ï¼Œæˆ–è€…æ£€æŸ¥é…ç½®ï¼Œæˆ–è€…åˆå§‹åŒ–ç¯å¢ƒï¼Œä¸éœ€è¦ç›´æ¥åˆ°ä»£ç å±‚çº§å»åˆ†æäº†ã€‚ (3)ã€è§£å†³Javaå¼‚å¸¸æœºåˆ¶è‡ªèº«çš„ç¼ºé™·Javaä¸­çš„å¼‚å¸¸ä¸€æ¬¡åªèƒ½æŠ›å‡ºä¸€ä¸ªï¼Œæ¯”å¦‚doStuffæ–¹æ³•æœ‰ä¸¤ä¸ªé€»è¾‘ä»£ç ç‰‡æ®µï¼Œå¦‚æœåœ¨ç¬¬ä¸€ä¸ªé€»è¾‘ç‰‡æ®µä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ç¬¬äºŒä¸ªé€»è¾‘ç‰‡æ®µå°±ä¸å†æ‰§è¡Œäº†ï¼Œä¹Ÿå°±æ— æ³•æŠ›å‡ºç¬¬äºŒä¸ªå¼‚å¸¸äº†ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯ï¼šå¦‚ä½•æ‰èƒ½ä¸€æ¬¡æŠ›å‡ºä¸¤ä¸ª(æˆ–å¤šä¸ª)å¼‚å¸¸å‘¢ï¼Ÿ å…¶å®ï¼Œä½¿ç”¨è‡ªè¡Œå°è£…çš„å¼‚å¸¸å¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š class MyException extends Exception { // å®¹çº³æ‰€æœ‰çš„å¼‚å¸¸ private List&lt;Throwable> causes = new ArrayList&lt;Throwable>(); // æ„é€ å‡½æ•°ï¼Œä¼ é€’ä¸€ä¸ªå¼‚å¸¸åˆ—è¡¨ public MyException(List&lt;? extends Throwable> _causes) { causes.addAll(_causes); } // è¯»å–æ‰€æœ‰çš„å¼‚å¸¸ public List&lt;Throwable> getExceptions() { return causes; } } MyExceptionå¼‚å¸¸åªæ˜¯ä¸€ä¸ªå¼‚å¸¸å®¹å™¨ï¼Œå¯ä»¥å®¹çº³å¤šä¸ªå¼‚å¸¸ï¼Œä½†å®ƒæœ¬èº«å¹¶ä¸ä»£è¡¨ä»»ä½•å¼‚å¸¸å«ä¹‰ï¼Œå®ƒæ‰€è§£å†³çš„æ˜¯ä¸€æ¬¡æŠ›å‡ºå¤šä¸ªå¼‚å¸¸çš„é—®é¢˜ï¼Œå…·ä½“è°ƒç”¨å¦‚ä¸‹ï¼š public void doStuff() throws MyException { List&lt;Throwable> list = new ArrayList&lt;Throwable>(); // ç¬¬ä¸€ä¸ªé€»è¾‘ç‰‡æ®µ try { // Do Something } catch (Exception e) { list.add(e); } // ç¬¬äºŒä¸ªé€»è¾‘ç‰‡æ®µ try { // Do Something } catch (Exception e) { list.add(e); } // æ£€æŸ¥æ˜¯å¦æœ‰å¿…è¦æŠ›å‡ºå¼‚å¸¸ if (list.size() > 0) { throw new MyException(list); } } è¿™æ ·ä¸€æ¥ï¼ŒDoStuffæ–¹æ³•çš„è°ƒç”¨è€…å°±å¯ä»¥ä¸€æ¬¡è·å¾—å¤šä¸ªå¼‚å¸¸äº†ï¼Œä¹Ÿèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å®Œæ•´çš„ä¾‹å¤–æƒ…å†µè¯´æ˜ã€‚å¯èƒ½æœ‰äººä¼šé—®ï¼šè¿™ç§æƒ…å†µä¼šå‡ºç°å—ï¼Ÿæ€ä¹ˆå›è¦æ±‚ä¸€ä¸ªæ–¹æ³•æŠ›å‡ºå¤šä¸ªå¼‚å¸¸å‘¢ï¼Ÿ ç»å¯¹æœ‰å¯èƒ½å‡ºç°ï¼Œä¾‹å¦‚Webç•Œé¢æ³¨å†Œæ—¶ï¼Œå±•ç°å±‚ä¾æ¬¡æŠŠUserå¯¹è±¡ä¼ é€’åˆ°é€»è¾‘å±‚ï¼ŒRegisteræ–¹æ³•éœ€è¦å¯¹å„ä¸ªFieldè¿›è¡Œæ ¡éªŒå¹¶æ³¨å†Œï¼Œä¾‹å¦‚ç”¨æˆ·åä¸èƒ½é‡å¤ï¼Œå¯†ç å¿…é¡»ç¬¦åˆå¯†ç ç­–ç•¥ç­‰ï¼Œä¸è¦å‡ºç°ç”¨æˆ·ç¬¬ä¸€æ¬¡æäº¤æ—¶ç³»ç»Ÿæ˜¾ç¤ºâ€ ç”¨æˆ·åé‡å¤ â€œï¼Œåœ¨ç”¨æˆ·ä¿®æ”¹ç”¨æˆ·åå†æ¬¡æäº¤åï¼Œç³»ç»Ÿåˆæç¤ºâ€ å¯†ç é•¿åº¦å°äº6ä½ â€œ çš„æƒ…å†µï¼Œè¿™ç§æ“ä½œæ¨¡å¼ä¸‹çš„ç”¨æˆ·ä½“éªŒéå¸¸ç³Ÿç³•ï¼Œæœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯å¼‚å¸¸å°è£…ï¼Œå»ºç«‹å¼‚å¸¸å®¹å™¨ï¼Œä¸€æ¬¡æ€§åœ°å¯¹Userå¯¹è±¡è¿›è¡Œæ ¡éªŒï¼Œç„¶åè¿”å›æ‰€æœ‰çš„å¼‚å¸¸ã€‚ å»ºè®®114ï¼šä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸Javaå¼‚å¸¸çš„æœºåˆ¶æœ‰ä¸‰ç§ï¼š Errorç±»åŠå…¶å­ç±»è¡¨ç¤ºçš„æ˜¯é”™è¯¯ï¼Œå®ƒæ˜¯ä¸éœ€è¦ç¨‹åºå‘˜å¤„ç†ä¹Ÿä¸èƒ½å¤„ç†çš„å¼‚å¸¸ï¼Œæ¯”å¦‚VirtualMachineErrorè™šæ‹Ÿæœºé”™è¯¯ï¼ŒThreadDeathçº¿ç¨‹åƒµæ­»ç­‰ã€‚ RunTimeExceptionç±»åŠå…¶å­ç±»è¡¨ç¤ºçš„æ˜¯éå—æ£€å¼‚å¸¸ï¼Œæ˜¯ç³»ç»Ÿå¯èƒ½ä¼šæŠ›å‡ºçš„å¼‚å¸¸ï¼Œç¨‹åºå‘˜å¯ä»¥å»å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ï¼Œæœ€ç»å…¸çš„å°±æ˜¯NullPointExceptionç©ºæŒ‡é’ˆå¼‚å¸¸å’ŒIndexOutOfBoundsExceptionè¶Šç•Œå¼‚å¸¸ã€‚ Exceptionç±»åŠå…¶å­ç±»(ä¸åŒ…å«éå—æ£€å¼‚å¸¸)ï¼Œè¡¨ç¤ºçš„æ˜¯å—æ£€å¼‚å¸¸ï¼Œè¿™æ˜¯ç¨‹åºå‘˜å¿…é¡»å¤„ç†çš„å¼‚å¸¸ï¼Œä¸å¤„ç†åˆ™ç¨‹åºä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼Œæ¯”å¦‚IOExceptionè¡¨ç¤ºçš„æ˜¯I/Oå¼‚å¸¸ï¼ŒSQLExceptionè¡¨ç¤ºçš„æ•°æ®åº“è®¿é—®å¼‚å¸¸ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ç»è¿‡å†…å­˜åˆ†é…ï¼Œé™æ€ä»£ç åˆå§‹åŒ–ã€æ„é€ å‡½æ•°æ‰§è¡Œç­‰è¿‡ç¨‹ï¼Œå¯¹è±¡ç”Ÿæˆçš„å…³é”®æ­¥éª¤æ˜¯æ„é€ å‡½æ•°ï¼Œé‚£æ˜¯ä¸æ˜¯ä¹Ÿå…è®¸åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸å‘¢ï¼Ÿä»Javaè¯­æ³•ä¸Šæ¥è¯´ï¼Œå®Œå…¨å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œä¸‰ç±»å¼‚å¸¸éƒ½å¯ä»¥ï¼Œä½†æ˜¯ä»ç³»ç»Ÿè®¾è®¡å’Œå¼€å‘çš„è§’åº¦æ¥åˆ†æï¼Œåˆ™å°½é‡ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œæˆ‘ä»¬ä»¥ä¸‰ç§ä¸åŒç±»å‹çš„å¼‚å¸¸æ¥è¯´æ˜ä¹‹ã€‚ (1)ã€æ„é€ å‡½æ•°ä¸­æŠ›å‡ºé”™è¯¯æ˜¯ç¨‹åºå‘˜æ— æ³•å¤„ç†çš„åœ¨æ„é€ å‡½æ•°æ‰§è¡Œæ—¶ï¼Œè‹¥å‘ç”Ÿäº†VirtualMachineErrorè™šæ‹Ÿæœºé”™è¯¯ï¼Œé‚£å°±æ²¡æ‹›äº†ï¼Œåªèƒ½æŠ›å‡ºï¼Œç¨‹åºå‘˜ä¸èƒ½é¢„çŸ¥æ­¤ç±»é”™è¯¯çš„å‘ç”Ÿï¼Œä¹Ÿå°±ä¸èƒ½æ•æ‰å¤„ç†ã€‚ (2)ã€æ„é€ å‡½æ•°ä¸åº”è¯¥æŠ›å‡ºéå—æ£€å¼‚å¸¸æˆ‘ä»¬æ¥çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š class Person { public Person(int _age) { // ä¸æ»¡18å²çš„ç”¨æˆ·å¯¹è±¡ä¸èƒ½å»ºç«‹ if (_age &lt; 18) { throw new RuntimeException(\"å¹´é¾„å¿…é¡»å¤§äº18å².\"); } } public void doSomething() { System.out.println(\"doSomething......\"); } } è¿™æ®µä»£ç çš„æ„å›¾å¾ˆæ˜æ˜¾ï¼Œå¹´é¾„ä¸æ»¡18å²çš„ç”¨æˆ·ä¸ä¼šç”Ÿæˆä¸€ä¸ªPersonå®ä¾‹å¯¹è±¡ï¼Œæ²¡æœ‰å¯¹è±¡ï¼Œç±»è¡Œä¸ºdoSomethingæ–¹æ³•å°±ä¸å¯æ‰§è¡Œï¼Œæƒ³æ³•å¾ˆå¥½ï¼Œä½†è¿™ä¼šå¯¼è‡´ä¸å¯é¢„æµ‹çš„ç»“æœï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™æ ·å¼•ç”¨Personç±»ï¼š public static void main(String[] args) { Person p = new Person(17); p.doSomething(); /*å…¶å®ƒçš„ä¸šåŠ¡é€»è¾‘*/ } å¾ˆæ˜¾ç„¶ï¼Œpå¯¹è±¡ä¸èƒ½å»ºç«‹ï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªRunTimeExceptionå¼‚å¸¸ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ•æ‰ä¹Ÿå¯ä»¥ä¸æ•æ‰ï¼Œä»£ç çœ‹ä¸Šå»é€»è¾‘å¾ˆæ­£ç¡®ï¼Œæ²¡æœ‰ä»»ä½•ç‘•ç–µï¼Œä½†æ˜¯äº‹å®ä¸Šï¼Œè¿™æ®µç¨‹åºä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ— æ³•æ‰§è¡Œã€‚è¿™æ®µä»£ç ç»™äº†æˆ‘ä»¬ä¸¤ä¸ªè­¦ç¤ºï¼š 1.åŠ é‡äº†ä¸Šå±‚ä»£ç ç¼–å†™è€…çš„è´Ÿæ‹…ï¼šæ•æ‰è¿™ä¸ªRuntimeExceptionå¼‚å¸¸å§ï¼Œé‚£è°æ¥å‘Šè¯‰æˆ‘æœ‰è¿™ä¸ªå¼‚å¸¸å‘¢ï¼Ÿåªæœ‰é€šè¿‡æ–‡æ¡£çº¦æŸäº†ï¼Œä¸€æ—¦Personç±»çš„æ„é€ å‡½æ•°ç»è¿‡é‡æ„åå†æŠ›å‡ºå…¶å®ƒéå—æ£€å¼‚å¸¸ï¼Œé‚£mainæ–¹æ³•ä¸ç”¨ä¿®æ”¹ä¹Ÿæ˜¯å¯ä»¥æµ‹è¯•é€šè¿‡çš„ï¼Œä½†æ˜¯è¿™é‡Œå°±å¯èƒ½ä¼šäº§ç”Ÿéšè—çš„ç¼ºé™·ï¼Œè€Œå†™è¿˜æ˜¯å¾ˆéš¾é‡ç°çš„ç¼ºé™·ã€‚ä¸æ•æ‰è¿™ä¸ªRuntimeExceptionå¼‚å¸¸ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬é€šå¸¸çš„æƒ³æ³•ï¼Œæ—¢ç„¶å·²ç»å†™æˆäº†éå—æ£€å¼‚å¸¸ï¼Œmainæ–¹æ³•çš„ç¼–ç è€…å®Œå…¨å¯ä»¥ä¸å¤„ç†è¿™ä¸ªå¼‚å¸¸å˜›ï¼Œå¤§ä¸äº†ä¸æ‰§è¡ŒPersonçš„æ–¹æ³•ï¼è¿™æ˜¯éå¸¸å±é™©çš„ï¼Œä¸€æ—¦äº§ç”Ÿå¼‚å¸¸ï¼Œæ•´ä¸ªçº¿ç¨‹éƒ½ä¸å†ç»§ç»­æ‰§è¡Œï¼Œæˆ–è€…é“¾æ¥æ²¡æœ‰å…³é—­ï¼Œæˆ–è€…æ•°æ®æ²¡æœ‰å†™å…¥æ•°æ®åº“ï¼Œæˆ–è€…äº§ç”Ÿå†…å­˜å¼‚å¸¸ï¼Œè¿™äº›éƒ½æ˜¯ä¼šå¯¹æ•´ä¸ªç³»ç»Ÿäº§ç”Ÿå½±å“ã€‚ 2.åç»­ä»£ç ä¸ä¼šæ‰§è¡Œï¼šmainæ–¹æ³•çš„å®ç°è€…åŸæœ¬æ˜¯æƒ³æŠŠpå¯¹è±¡çš„å»ºç«‹ä½œä¸ºå…¶ä»£ç é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œæ‰§è¡Œå®ŒdoSomethingæ–¹æ³•åè¿˜éœ€è¦å®Œæˆå…¶å®ƒé€»è¾‘ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰å¯¹éå—æ£€å¼‚å¸¸è¿›è¡Œæ•æ‰ï¼Œå¼‚å¸¸æœ€ç»ˆä¼šæŠ›å‡ºåˆ°JVMä¸­ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸåï¼Œåé¢æ‰€æœ‰çš„ä»£ç éƒ½ä¸ä¼šç»§ç»­æ‰§è¡Œäº†ï¼Œè¿™å°±å¯¹ä¸šåŠ¡é€»è¾‘äº§ç”Ÿäº†è‡´å‘½çš„å½±å“ã€‚ (3)ã€æ„é€ å‡½æ•°å°½å¯èƒ½ä¸è¦æŠ›å‡ºå—æ£€å¼‚å¸¸æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š //çˆ¶ç±» class Base { // çˆ¶ç±»æŠ›å‡ºIOException public Base() throws IOException { throw new IOException(); } } //å­ç±» class Sub extends Base { // å­ç±»æŠ›å‡ºExceptionå¼‚å¸¸ public Sub() throws Exception { } } å°±è¿™ä¹ˆä¸€æ®µç®€å•çš„ä»£ç ï¼Œå±•ç¤ºäº†åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå—æ£€å¼‚å¸¸çš„ä¸‰ä¸ªä¸åˆ©æ–¹é¢ï¼š 1.å¯¼è‡´å­ç±»è†¨èƒ€ï¼šåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­å­ç±»çš„æ— å‚æ„é€ å‡½æ•°ä¸èƒ½çœç•¥ï¼ŒåŸå› æ˜¯çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°æŠ›å‡ºäº†IOExceptionå¼‚å¸¸ï¼Œå­ç±»çš„æ— å‚æ„é€ å‡½æ•°é»˜è®¤è°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥å­ç±»æ— å‚æ„é€ å‡½æ•°ä¹Ÿå¿…é¡»æŠ›å‡ºIOExceptionæˆ–å…¶çˆ¶ç±»ã€‚ 2.è¿èƒŒäº†é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šâ€é‡Œæ°æ›¿æ¢åŸåˆ™â€ æ˜¯è¯´çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±å¯ä»¥å‡ºç°ï¼Œè€Œä¸”å°†çˆ¶ç±»æ›¿æ¢ä¸ºå­ç±»ä¹Ÿä¸ä¼šäº§ç”Ÿä»»ä½•å¼‚å¸¸ã€‚é‚£æˆ‘ä»¬å›å¤´çœ‹çœ‹Subç±»æ˜¯å¦å¯ä»¥æ›¿æ¢Baseç±»ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¸Šå±‚ä»£ç æ˜¯è¿™æ ·å†™çš„ï¼špublic static void main(String[] args) { try { Base base = new Base(); } catch (Exception e) { e.printStackTrace(); } } ç„¶åï¼Œæˆ‘ä»¬æœŸæœ›æŠŠnew Base()æ›¿æ¢æˆnew Sub()ï¼Œè€Œä¸”ä»£ç èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘å’Œè¿è¡Œã€‚éå¸¸å¯æƒœï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼ŒåŸå› æ˜¯Subçš„æ„é€ å‡½æ•°æŠ›å‡ºäº†Exceptionå¼‚å¸¸ï¼Œå®ƒæ¯”çˆ¶ç±»çš„æ„é€ å‡½æ•°æŠ›å‡ºæ›´å¤šçš„å¼‚å¸¸èŒƒå›´è¦å®½ï¼Œå¿…é¡»å¢åŠ æ–°çš„catchå—æ‰èƒ½è§£å†³ã€‚ å¯èƒ½å¤§å®¶è¦é—®äº†ï¼Œä¸ºä»€ä¹ˆJavaçš„æ„é€ å‡½æ•°å…è®¸å­ç±»çš„æ„é€ å‡½æ•°æŠ›å‡ºæ›´å¹¿æ³›çš„å¼‚å¸¸ç±»å‘¢ï¼Ÿè¿™æ­£å¥½ä¸ç±»æ–¹æ³•çš„å¼‚å¸¸æœºåˆ¶ç›¸åï¼Œç±»æ–¹æ³•çš„å¼‚å¸¸æ˜¯è¿™æ ·è¦æ±‚çš„ï¼š // çˆ¶ç±» class Base { // çˆ¶ç±»æ–¹æ³•æŠ›å‡ºException public void testMethod() throws Exception { } } // å­ç±» class Sub extends Base { // çˆ¶ç±»æ–¹æ³•æŠ›å‡ºException @Override public void testMethod() throws IOException { } } å­ç±»çš„æ–¹æ³•å¯ä»¥æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ï¼Œä½†éƒ½å¿…é¡»æ˜¯è¦†å†™æ–¹æ³•çš„å­ç±»å‹ï¼Œå¯¹æˆ‘ä»¬çš„ä¾‹å­æ¥è¯´ï¼ŒSubç±»çš„testMethodæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸å¿…é¡»æ˜¯Exceptionçš„å­ç±»æˆ–Exceptionç±»ï¼Œè¿™æ˜¯Javaè¦†å†™çš„è¦æ±‚ã€‚æ„é€ å‡½æ•°ä¹‹æ‰€ä»¥äºæ­¤ç›¸åï¼Œæ˜¯å› ä¸ºæ„é€ å‡½æ•°æ²¡æœ‰è¦†å†™çš„æ¦‚å¿µï¼Œåªæ˜¯æ„é€ å‡½æ•°é—´çš„å¼•ç”¨è°ƒç”¨è€Œå·²ï¼Œæ‰€ä»¥åœ¨æ„é€ å‡½æ•°ä¸­æŠ›å‡ºå—æ£€å¼‚å¸¸ä¼šè¿èƒŒé‡Œæ°æ›¿æ¢åŸåˆ™åŸåˆ™ï¼Œä½¿æˆ‘ä»¬çš„ç¨‹åºç¼ºä¹çµæ´»æ€§ã€‚ 3.å­ç±»æ„é€ å‡½æ•°æ‰©å±•å—é™ï¼šå­ç±»å­˜åœ¨çš„åŸå› å°±æ˜¯æœŸæœ›å®ç°æ‰©å±•çˆ¶ç±»çš„é€»è¾‘ï¼Œä½†çˆ¶ç±»æ„é€ å‡½æ•°æŠ›å‡ºå¼‚å¸¸å´ä¼šè®©å­ç±»æ„é€ å‡½æ•°çš„çµæ´»æ€§å¤§å¤§é™ä½ï¼Œä¾‹å¦‚æˆ‘ä»¬æœŸæœ›è¿™æ ·çš„æ„é€ å‡½æ•°ã€‚ // çˆ¶ç±» class Base { public Base() throws IOException{ } } // å­ç±» class Sub extends Base { public Sub() throws Exception{ try{ super(); }catch(IOException e){ //å¼‚å¸¸å¤„ç†åå†æŠ›å‡º throw e; }finally{ //æ”¶å°¾å¤„ç† } } } å¾ˆä¸å¹¸ï¼Œè¿™æ®µä»£ç ç¼–è¯‘ä¸é€šè¿‡ï¼ŒåŸå› æ˜¯æ„é€ å‡½æ•°Subæ²¡æœ‰æŠŠsuper()æ”¾åœ¨ç¬¬ä¸€å¥è¯ä¸­ï¼Œæƒ³æŠŠçˆ¶ç±»çš„å¼‚å¸¸é‡æ–°åŒ…è£…å†æŠ›å‡ºæ˜¯ä¸å¯è¡Œçš„(å½“ç„¶ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šç§ â€œæ›²çº¿â€ çš„å®ç°æ‰‹æ®µï¼Œæ¯”å¦‚é‡æ–°å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç„¶åçˆ¶å­ç±»çš„æ„é€ å‡½æ•°éƒ½è°ƒç”¨è¯¥æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»æ„é€ å‡½æ•°å°±å¯ä»¥è‡ªç”±å¤„ç†å¼‚å¸¸äº†)ï¼Œè¿™æ˜¯Javaè¯­æ³•æœºåˆ¶ã€‚ å°†ä»¥ä¸Šä¸‰ç§å¼‚å¸¸ç±»å‹æ±‡æ€»èµ·æ¥ï¼Œå¯¹äºæ„é€ å‡½æ•°ï¼Œé”™è¯¯åªèƒ½æŠ›å‡ºï¼Œè¿™æ˜¯ç¨‹åºäººå‘˜æ— èƒ½ä¸ºåŠ›çš„äº‹æƒ…ï¼›éå—æ£€å¼‚å¸¸ä¸è¦æŠ›å‡ºï¼ŒæŠ›å‡ºäº† â€œ å¯¹å·±å¯¹äºº â€œ éƒ½æ˜¯æœ‰å®³çš„ï¼›å—æ£€å¼‚å¸¸å°½é‡ä¸æŠ›å‡ºï¼Œèƒ½ç”¨æ›²çº¿çš„æ–¹å¼å®ç°å°±ç”¨æ›²çº¿æ–¹å¼å®ç°ï¼Œæ€»ä¹‹ä¸€å¥è¯ï¼šåœ¨æ„é€ å‡½æ•°ä¸­å°½å¯èƒ½ä¸å‡ºç°å¼‚å¸¸ã€‚ æ³¨æ„ ï¼šåœ¨æ„é€ å‡½æ•°ä¸­ä¸è¦æŠ›å‡ºå¼‚å¸¸ï¼Œå°½é‡æ›²çº¿å®ç°ã€‚ å»ºè®®117ï¼šå¤šä½¿ç”¨å¼‚å¸¸ï¼ŒæŠŠæ€§èƒ½é—®é¢˜æ”¾ä¸€è¾¹æˆ‘ä»¬çŸ¥é“å¼‚å¸¸æ˜¯ä¸»é€»è¾‘çš„ä¾‹å¤–é€»è¾‘ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´ï¼Œæ¯”å¦‚æˆ‘åœ¨é©¬è·¯ä¸Šèµ°(è¿™æ˜¯ä¸»é€»è¾‘)ï¼Œçªç„¶å¼€è¿‡ä¸€è¾†è½¦ï¼Œæˆ‘è¦é¿è®©(è¿™æ˜¯å—æ£€å¼‚å¸¸ï¼Œå¿…é¡»å¤„ç†)ï¼Œç»§ç»­èµ°ç€ï¼Œçªç„¶ä¸€æ¶é£æœºä»æˆ‘å¤´é¡¶é£è¿‡(éå—æ£€å¼‚å¸¸)ï¼Œæˆ‘ä»¬å¯ä»¥é€‰åœ¨ç»§ç»­è¡Œèµ°(ä¸æ•æ‰)ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æŒ‡è´£å…¶å™ªéŸ³æ±¡æŸ“(æ•æ‰ï¼Œä¸»é€»è¾‘çš„è¡¥å……å¤„ç†)ï¼Œå†ç»§ç»­èµ°ç€ï¼Œçªç„¶ä¸€é¢—æµæ˜Ÿç ¸ä¸‹æ¥ï¼Œè¿™æ²¡æœ‰é€‰æ‹©ï¼Œå±äºé”™è¯¯ï¼Œä¸èƒ½åšä»»ä½•å¤„ç†ã€‚è¿™æ ·å…·å¤‡å®Œæ•´ä¾‹å¤–åœºæ™¯çš„é€»è¾‘å°±å…·å¤‡äº†OOçš„å‘³é“ï¼Œä»»ä½•ä¸€ä¸ªäº‹åŠ¡çš„å¤„ç†éƒ½å¯èƒ½äº§ç”Ÿéé¢„æœŸçš„æ•ˆæœï¼Œé—®é¢˜æ˜¯éœ€è¦ä»¥ä½•ç§æ‰‹æ®µæ¥å¤„ç†ï¼Œå¦‚æœä¸ä½¿ç”¨å¼‚å¸¸å°±éœ€è¦ä¾é è¿”å›å€¼çš„ä¸åŒæ¥è¿›è¡Œå¤„ç†äº†ï¼Œè¿™ä¸¥é‡å¤±å»äº†é¢å‘å¯¹è±¡çš„é£æ ¼ã€‚ æˆ‘ä»¬åœ¨ç¼–å†™ç”¨ä¾‹æ–‡æ¡£ï¼ˆUser case Specificationï¼‰æ—¶ï¼Œå…¶ä¸­æœ‰ä¸€é¡¹å«åš â€œ ä¾‹å¤–äº‹ä»¶ â€œï¼Œæ˜¯ç”¨æ¥æè¿°ä¸»åœºæ™¯å¤–çš„ä¾‹å¤–åœºæ™¯çš„ï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•çš„ç”¨ä¾‹ï¼Œå°±ä¼šåœ¨â€ ä¾‹å¤–äº‹ä»¶ â€œä¸­è¯´æ˜â€ è¿ç»­3æ­¤ç™»å½•å¤±è´¥å³é”å®šç”¨æˆ·è´¦å· â€œï¼Œè¿™å°±æ˜¯ç™»å½•äº‹ä»¶çš„ä¸€ä¸ªå¼‚å¸¸å¤„ç†ï¼Œå…·ä½“åˆ°æˆ‘ä»¬çš„ç¨‹åºä¸­å°±æ˜¯ï¼š public void login(){ try{ //æ­£å¸¸ç™»é™† }catch(InvalidLoginException lie){ // ç”¨æˆ·åæ— æ•ˆ }catch(InvalidPasswordException pe){ //å¯†ç é”™è¯¯çš„å¼‚å¸¸ }catch(TooMuchLoginException){ //å¤šæ¬¡ç™»é™†å¤±è´¥çš„å¼‚å¸¸ } } å¦‚æ­¤è®¾è®¡åˆ™å¯ä»¥è®©æˆ‘ä»¬çš„loginæ–¹æ³•æ›´ç¬¦åˆå®é™…çš„å¤„ç†é€»è¾‘ï¼ŒåŒæ—¶ä½¿ä¸»é€»è¾‘(æ­£å¸¸ç™»å½•ï¼Œtryä»£ç å—)æ›´åŠ æ¸…æ™°ã€‚å½“ç„¶äº†ï¼Œä½¿ç”¨å¼‚å¸¸è¿˜æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œå¯ä»¥è®©æ­£å¸¸ä»£ç å’Œå¼‚å¸¸ä»£ç åˆ†ç¦»ã€èƒ½å¿«é€ŸæŸ¥æ‰¾é—®é¢˜(æ ˆä¿¡æ¯å¿«ç…§)ç­‰ï¼Œä½†æ˜¯å¼‚å¸¸æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šæ€§èƒ½æ¯”è¾ƒæ…¢ã€‚ Javaçš„å¼‚å¸¸æœºåˆ¶ç¡®å®æ¯”è¾ƒæ…¢ï¼Œè¿™ä¸ªâ€æ¯”è¾ƒæ…¢â€æ˜¯ç›¸å¯¹äºè¯¸å¦‚Stringã€Integerç­‰å¯¹è±¡æ¥è¯´çš„ï¼Œå•å•ä»å¯¹è±¡çš„åˆ›å»ºä¸Šæ¥è¯´ï¼Œnewä¸€ä¸ªIOExceptionä¼šæ¯”Stringæ…¢5å€ï¼Œè¿™ä»å¼‚å¸¸çš„å¤„ç†æœºåˆ¶ä¸Šä¹Ÿå¯ä»¥è§£é‡Šï¼šå› ä¸ºå®ƒè¦æ‰§è¡ŒfillInStackTraceæ–¹æ³•ï¼Œè¦è®°å½•å½“å‰æ ˆçš„å¿«ç…§ï¼Œè€ŒStringç±»åˆ™æ˜¯ç›´æ¥ç”³è¯·ä¸€ä¸ªå†…å­˜åˆ›å»ºå¯¹è±¡ï¼Œå¼‚å¸¸ç±»æ…¢ä¸€ç­¹ä¹Ÿå°±åœ¨æ‰€éš¾å…äº†ã€‚ è€Œä¸”ï¼Œå¼‚å¸¸ç±»æ˜¯ä¸èƒ½ç¼“å­˜çš„ï¼ŒæœŸæœ›å…ˆå»ºç«‹å¤§é‡çš„å¼‚å¸¸å¯¹è±¡ä»¥æé«˜å¼‚å¸¸æ€§èƒ½ä¹Ÿæ˜¯ä¸ç°å®çš„ã€‚ éš¾é“å¼‚å¸¸çš„æ€§èƒ½é—®é¢˜å°±æ²¡æœ‰ä»»ä½•å¯ä»¥æé«˜çš„åŠæ³•äº†ï¼Ÿç¡®å®æ²¡æœ‰ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å› ä¸ºæ€§èƒ½é—®é¢˜è€Œæ”¾å¼ƒä½¿ç”¨å¼‚å¸¸ï¼Œè€Œä¸”ç»è¿‡æµ‹è¯•ï¼Œåœ¨JDK1.6ä¸‹ï¼Œä¸€ä¸ªå¼‚å¸¸å¯¹è±¡çš„åˆ›å»ºæ—¶é—´åªéœ€1.4æ¯«ç§’å·¦å³(æ³¨æ„æ˜¯æ¯«ç§’ï¼Œé€šå¸¸ä¸€ä¸ªäº¤æ˜“æ˜¯åœ¨100æ¯«ç§’å·¦å³)ï¼Œéš¾é“æˆ‘ä»¬çš„ç³»ç»Ÿè¿å¦‚æ­¤å¾®å°çš„æ€§èƒ½æ¶ˆè€—éƒ½ä¸äºˆè®¸å—ï¼Ÿ ** æ³¨æ„ï¼šæ€§èƒ½é—®é¢˜ä¸æ˜¯æ‹’ç»å¼‚å¸¸çš„å€Ÿå£ã€‚** å»ºè®®121ï¼šçº¿ç¨‹ä¼˜å…ˆçº§åªä½¿ç”¨ä¸‰ä¸ªç­‰çº§çº¿ç¨‹çš„ä¼˜å…ˆçº§(Priority)å†³å®šäº†çº¿ç¨‹è·å¾—CPUè¿è¡Œçš„æœºä¼šï¼Œä¼˜å…ˆçº§è¶Šé«˜è·å¾—çš„è¿è¡Œæœºä¼šè¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šä½è·å¾—çš„æœºä¼šè¶Šå°ã€‚Javaçš„çº¿ç¨‹æœ‰10ä¸ªçº§åˆ«(å‡†ç¡®çš„è¯´æ˜¯11ä¸ªçº§åˆ«ï¼Œçº§åˆ«ä¸º0çš„çº¿ç¨‹æ˜¯JVMçš„ï¼Œåº”ç”¨ç¨‹åºä¸èƒ½è®¾ç½®è¯¥çº§åˆ«)ï¼Œé‚£æ˜¯ä¸æ˜¯è¯´çº§åˆ«æ˜¯10çš„çº¿ç¨‹è‚¯å®šæ¯”çº§åˆ«æ˜¯9çš„çº¿ç¨‹å…ˆè¿è¡Œå‘¢?æˆ‘ä»¬æ¥çœ‹å¦‚ä¸‹ä¸€ä¸ªå¤šçº¿ç¨‹ç±»ï¼š class TestThread implements Runnable { public void start(int _priority) { Thread t = new Thread(this); // è®¾ç½®ä¼˜å…ˆçº§åˆ« t.setPriority(_priority); t.start(); } @Override public void run() { // æ¶ˆè€—CPUçš„è®¡ç®— for (int i = 0; i &lt; 100000; i++) { Math.hypot(924526789, Math.cos(i)); } // è¾“å‡ºçº¿ç¨‹ä¼˜å…ˆçº§ System.out.println(\"Priorityï¼š\" + Thread.currentThread().getPriority()); } } è¯¥å¤šçº¿ç¨‹å®ç°äº†Runnableæ¥å£ï¼Œå®ç°äº†runæ–¹æ³•ï¼Œæ³¨æ„åœ¨runæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒå ç”¨CPUçš„è®¡ç®—ï¼Œè¯¥è®¡ç®—æ¯«æ— æ„ä¹‰ï¼Œ public static void main(String[] args) { //å¯åŠ¨20ä¸ªä¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ for (int i = 0; i &lt; 20; i++) { new TestThread().start(i % 10 + 1); } } è¿™é‡Œåˆ›å»ºäº†20ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨è¿è¡Œæ—¶éƒ½è€—å°½äº†CPUçš„èµ„æºï¼Œå› ä¸ºä¼˜å…ˆçº§ä¸åŒï¼Œçº¿ç¨‹è°ƒåº¦åº”è¯¥æ˜¯å…ˆå¤„ç†ä¼˜å…ˆçº§é«˜çš„ï¼Œç„¶åå¤„ç†ä¼˜å…ˆçº§ä½çš„ï¼Œä¹Ÿå°±æ˜¯å…ˆæ‰§è¡Œ2ä¸ªä¼˜å…ˆçº§ä¸º10çš„çº¿ç¨‹ï¼Œç„¶åæ‰§è¡Œ2ä¸ªä¼˜å…ˆçº§ä¸º9çš„çº¿ç¨‹ï¼Œ2ä¸ªä¼˜å…ˆçº§ä¸º8çš„çº¿ç¨‹â€¦â€¦ä½†æ˜¯ç»“æœå´å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚** Priorityï¼š5 Priorityï¼š7 Priorityï¼š10 Priorityï¼š6 Priorityï¼š9 Priorityï¼š6 Priorityï¼š5 Priorityï¼š7 Priorityï¼š10 Priorityï¼š3 Priorityï¼š4 Priorityï¼š8 Priorityï¼š8 Priorityï¼š9 Priorityï¼š4 Priorityï¼š1 Priorityï¼š3 Priorityï¼š1 Priorityï¼š2 Priorityï¼š2** printlnæ–¹æ³•è™½ç„¶æœ‰è¾“å‡ºæŸè€—ï¼Œå¯èƒ½ä¼šå½±å“åˆ°è¾“å‡ºç»“æœï¼Œä½†æ˜¯ä¸ç®¡è¿è¡Œå¤šå°‘æ¬¡ï¼Œä½ éƒ½ä¼šå‘ç°ä¸¤ä¸ªä¸äº‰çš„äº‹å®ï¼š(1)ã€å¹¶ä¸æ˜¯ä¸¥æ ¼æŒ‰ç…§çº¿ç¨‹ä¼˜å…ˆçº§æ¥æ‰§è¡Œçš„æ¯”å¦‚çº¿ç¨‹ä¼˜å…ˆçº§ä¸º5çš„çº¿ç¨‹æ¯”ä¼˜å…ˆçº§ä¸º7çš„çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œä¼˜å…ˆçº§ä¸º1çš„çº¿ç¨‹æ¯”ä¼˜å…ˆçº§ä¸º2çš„çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå¾ˆå°‘å‡ºç°ä¼˜å…ˆçº§ä¸º2çš„çº¿ç¨‹æ¯”ä¼˜å…ˆçº§ä¸º10çš„çº¿ç¨‹å…ˆæ‰§è¡Œ(æ³¨æ„ï¼Œè¿™é‡Œæ˜¯â€ å¾ˆå°‘ â€œï¼Œæ˜¯è¯´ç¡®å®æœ‰å¯èƒ½å‡ºç°ï¼Œåªæ˜¯å‡ ç‡ä½ï¼Œå› ä¸ºä¼˜å…ˆçº§åªæ˜¯è¡¨ç¤ºçº¿ç¨‹è·å¾—CPUè¿è¡Œçš„æœºä¼šï¼Œå¹¶ä¸ä»£è¡¨å¼ºåˆ¶çš„æ’åºå·)ã€‚(2)ã€ä¼˜å…ˆçº§å·®åˆ«è¶Šå¤§ï¼Œè¿è¡Œæœºä¼šå·®åˆ«è¶Šæ˜æ˜¾æ¯”å¦‚ä¼˜å…ˆçº§ä¸º10çš„çº¿ç¨‹é€šå¸¸ä¼šæ¯”ä¼˜å…ˆçº§ä¸º2çš„çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œä½†æ˜¯ä¼˜å…ˆçº§ä¸º6çš„çº¿ç¨‹å’Œä¼˜å…ˆçº§ä¸º5çš„çº¿ç¨‹å·®åˆ«å°±ä¸å¤ªæ˜æ˜¾äº†ï¼Œæ‰§è¡Œå¤šæ¬¡ï¼Œä½ ä¼šå‘ç°æœ‰ä¸åŒçš„é¡ºåºã€‚ è¿™ä¸¤ä¸ªç°è±¡æ˜¯çº¿ç¨‹ä¼˜å…ˆçº§çš„ä¸€ä¸ªé‡è¦è¡¨ç°ï¼Œä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸ºçº¿ç¨‹è¿è¡Œæ˜¯éœ€è¦è·å¾—CPUèµ„æºçš„ï¼Œé‚£è°èƒ½å†³å®šå“ªä¸ªçº¿ç¨‹å…ˆè·å¾—å“ªä¸ªçº¿ç¨‹åè·å¾—å‘¢ï¼Ÿè¿™æ˜¯ä¾ç…§æ“ä½œç³»ç»Ÿè®¾ç½®çš„çº¿ç¨‹ä¼˜å…ˆçº§æ¥åˆ†é…çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªçº¿ç¨‹è¦è¿è¡Œï¼Œéœ€è¦æ“ä½œç³»ç»Ÿåˆ†é…ä¼˜å…ˆçº§å’ŒCPUèµ„æºï¼Œå¯¹äºJAVAæ¥è¯´ï¼ŒJVMè°ƒç”¨æ“ä½œç³»ç»Ÿçš„æ¥å£è®¾ç½®ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚windowsæ“ä½œç³»ç»Ÿä¼˜å…ˆçº§éƒ½ç›¸åŒå—ï¼Ÿ äº‹å®ä¸Šï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿçº¿ç¨‹ä¼˜å…ˆçº§æ˜¯ä¸åŒçš„ï¼ŒWindowsæœ‰7ä¸ªä¼˜å…ˆçº§ï¼ŒLinuxæœ‰140ä¸ªä¼˜å…ˆçº§ï¼ŒFreebsdåˆ™ç”±255ä¸ª(æ­¤å¤„æŒ‡çš„ä¼˜å…ˆçº§ä¸ªæ•°ï¼Œä¸åŒæ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„åˆ†ç±»ï¼Œå¦‚ä¸­æ–­çº§çº¿ç¨‹ï¼Œæ“ä½œç³»ç»Ÿçº§ç­‰ï¼Œå„ä¸ªæ“ä½œç³»ç»Ÿå…·ä½“ç”¨æˆ·å¯ç”¨çš„çº¿ç¨‹æ•°é‡ä¹Ÿä¸ç›¸åŒ)ã€‚Javaæ˜¯è·¨å¹³å°çš„ç³»ç»Ÿï¼Œéœ€è¦æŠŠè¿™10ä¸ªä¼˜å…ˆçº§æ˜ å°„æˆä¸åŒçš„æ“ä½œç³»ç»Ÿçš„ä¼˜å…ˆçº§ï¼Œäºæ˜¯ç•Œå®šäº†Javaçš„ä¼˜å…ˆçº§åªæ˜¯ä»£è¡¨æŠ¢å CPUçš„æœºä¼šå¤§å°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼ŒæŠ¢å CPUçš„æœºä¼šè¶Šå¤§ï¼Œè¢«ä¼˜å…ˆæ‰§è¡Œçš„å¯èƒ½æ€§è¶Šé«˜ï¼Œä¼˜å…ˆçº§ç›¸å·®ä¸å¤§ï¼Œåˆ™æŠ¢å CPUçš„æœºä¼šå·®åˆ«ä¹Ÿä¸å¤§ï¼Œè¿™å°±æ˜¯å¯¼è‡´äº†ä¼˜å…ˆçº§ä¸º9çš„çº¿ç¨‹å¯èƒ½æ¯”ä¼˜å…ˆçº§ä¸º10çš„çº¿ç¨‹å…ˆè¿è¡Œã€‚ Javaçš„ç¼”é€ è€…ä»¬ä¹Ÿè§‰å¯Ÿåˆ°äº†çº¿ç¨‹ä¼˜å…ˆé—®é¢˜ï¼Œäºæ˜¯Threadç±»ä¸­è®¾ç½®äº†ä¸‰ä¸ªä¼˜å…ˆçº§ï¼Œæ­¤æ„å°±æ˜¯å‘Šè¯‰å¼€å‘è€…ï¼Œå»ºè®®ä½¿ç”¨ä¼˜å…ˆçº§å¸¸é‡ï¼Œè€Œä¸æ˜¯1åˆ°10çš„éšæœºæ•°å­—ã€‚å¸¸é‡ä»£ç å¦‚ä¸‹ï¼š public class Thread implements Runnable { /** * The minimum priority that a thread can have. */ public final static int MIN_PRIORITY = 1; /** * The default priority that is assigned to a thread. */ public final static int NORM_PRIORITY = 5; /** * The maximum priority that a thread can have. */ public final static int MAX_PRIORITY = 10; } åœ¨ç¼–ç æ—¶ç›´æ¥ä½¿ç”¨è¿™äº›ä¼˜å…ˆçº§å¸¸é‡ï¼Œå¯ä»¥è¯´åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹MAX_PRIORITYçš„çº¿ç¨‹å›æ¯”MIN_PRIORITYçš„çº¿ç¨‹ä¼˜å…ˆè¿è¡Œï¼Œä½†æ˜¯ä¸èƒ½è®¤ä¸ºæ˜¯å¿…ç„¶ä¼šå…ˆè¿è¡Œï¼Œä¸èƒ½æŠŠè¿™ä¸ªä¼˜å…ˆçº§åšä¸ºæ ¸å¿ƒä¸šåŠ¡çš„å¿…ç„¶æ¡ä»¶ï¼ŒJavaæ— æ³•ä¿è¯ä¼˜å…ˆçº§é«˜è‚¯å®šä¼šå…ˆæ‰§è¡Œï¼Œåªèƒ½ä¿è¯é«˜ä¼˜å…ˆçº§æœ‰æ›´å¤šçš„æ‰§è¡Œæœºä¼šã€‚å› æ­¤ï¼Œå»ºè®®åœ¨å¼€å‘æ—¶åªä½¿ç”¨æ­¤ä¸‰ç±»ä¼˜å…ˆçº§ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨å…¶ä»–7ä¸ªæ•°å­—ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥ä¿è¯åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šä¼˜å…ˆçº§çš„è¡¨ç°åŸºæœ¬ç›¸åŒã€‚ å¤§å®¶ä¹Ÿè®¸ä¼šé—®ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒå‘¢ï¼Ÿè¿™å¾ˆå¥½åŠï¼Œä¹Ÿæ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šçš„ã€‚åŸºæœ¬ä¸Šæ˜¯æŒ‰ç…§FIFOåŸåˆ™(å…ˆå…¥å…ˆå‡ºï¼ŒFirst Input First Output)ï¼Œä½†ä¹Ÿæ˜¯ä¸èƒ½å®Œå…¨ä¿è¯ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Javaè¿›é˜¶","slug":"å­¦ä¹ ç¬”è®°/Javaè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°(1)","slug":"ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ã€‹å­¦ä¹ ç¬”è®°-1","date":"2017-11-15T15:33:00.000Z","updated":"2020-08-03T10:39:50.603Z","comments":true,"path":"2017/11/15/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-1/","link":"","permalink":"http://www.wmyskxz.com/2017/11/15/bian-xie-gao-zhi-liang-dai-ma-xue-xi-bi-ji-1/","excerpt":"","text":"å‰è¨€çœ‹å¤§ç¥æ¨èçš„ä¹¦å•ä¸­å…¥é—¨æœ‰è¿™ä¹ˆä¸€æœ¬ä¹¦ï¼Œæ‰€ä»¥å†³å®šæŠŠè¿™æœ¬ä¹¦çš„ç²¾åï¼ˆè‡ªè®¤ä¸ºå¾ˆæœ‰ç”¨çš„ç‚¹ï¼‰ï¼Œæˆ–è®¸æ˜¯æˆ‘è‡ªå·±ç°åœ¨èƒ½ç”¨åˆ°çš„ç‚¹éƒ½æç‚¼å‡ºæ¥ï¼Œä¾›å¤§å®¶å‚è€ƒå­¦ä¹ ã€‚ ä»¥ä¸‹å†…å®¹å‡å‡ºè‡ªã€Šç¼–å†™é«˜è´¨é‡ä»£ç  æ”¹å–„Javaç¨‹åºçš„151ä¸ªå»ºè®®ã€‹â€”â€”ç§¦å°æ³¢ è‘—ä¸€ä¹¦ã€‚ å»ºè®®1ï¼šä¸è¦åœ¨å¸¸é‡å’Œå˜é‡ä¸­å‡ºç°æ˜“æ··æ·†çš„å­—æ¯åŒ…åå…¨å°å†™ï¼Œç±»åé¦–å­—æ¯å…¨å¤§å†™ï¼Œå¸¸é‡å…¨éƒ¨å¤§å†™å¹¶ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼Œå˜é‡é‡‡ç”¨é©¼å³°å‘½åæ³•å‘½åç­‰ï¼Œè¿™äº›éƒ½æ˜¯æœ€åŸºæœ¬çš„Javaç¼–ç è§„èŒƒï¼Œæ˜¯æ¯ä¸ªJavaeréƒ½åº”ç†ŸçŸ¥çš„è§„åˆ™ï¼Œä½†æ˜¯åœ¨å˜é‡çš„å£°æ˜ä¸­è¯æ³¨æ„ä¸è¦å¼•å…¥å®¹æ˜“æ··æ·†çš„å­—æ¯ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œè¯·æ€è€ƒä»¥ä¸‹ç¨‹åºæ‰“å°çš„iç­‰äºå¤šå°‘ï¼š public class Client{ public static void main(String[] args){ long i = 1l; System.out.println(â€œi çš„ä¸¤å€æ˜¯ï¼šâ€ + (i + i)); }} è‚¯å®šæœ‰äººä¼šè¯´ï¼Œè¿™ä¹ˆç®€å•çš„ä¾‹å­è¿˜èƒ½å‡ºé”™ï¼Ÿè¿è¡Œç»“æœè‚¯å®šæ˜¯22ï¼å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ï¼Œå°†è¿™ä¸€æ®µç¨‹åºæ‹·è´åˆ°ä»»ä¸€ç¼–è¯‘å™¨ä¸­ï¼Œrunä»¥ä¸‹ï¼Œä½ ä¼šå‘ç°è¿è¡Œç»“æœæ˜¯2ï¼Œè€Œä¸æ˜¯22ï¼Œéš¾é“æ˜¯ç¼–è¯‘å™¨æ˜¾ç¤ºæœ‰é—®é¢˜ï¼Ÿå°‘äº†ä¸€ä¸ªâ€œ2â€ï¼Ÿ å› ä¸ºèµ‹å€¼ç»™içš„å€¼å°±æ˜¯â€œ1â€ï¼Œåªæ˜¯åé¢åŠ äº†é•¿æ•´å‹å˜é‡çš„æ ‡ç¤ºå­—æ¯â€œlâ€ï¼ˆLçš„å°å†™ï¼‰è€Œå·²ã€‚ **å¦‚æœå­—æ¯å’Œæ•°å­—å¿…é¡»æ··åˆä½¿ç”¨ï¼Œå­—æ¯â€œlâ€åŠ¡å¿…å¤§å†™ï¼Œå­—æ¯â€œOâ€åˆ™å¢åŠ æ³¨é‡Šã€‚** *** ## å»ºè®®9ï¼šå°‘ç”¨é™æ€å¯¼å…¥ ä»Java 5å¼€å§‹å¼•å…¥äº†é™æ€å¯¼å…¥è¯­æ³•ï¼ˆimport staticï¼‰ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å‡å°‘å­—ç¬¦è¾“å…¥é‡ï¼Œæé«˜ä»£ç çš„å¯é˜…è¯»æ€§ï¼Œä»¥ä¾¿æ›´å¥½çš„ç†è§£ç¨‹åºã€‚å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š ```java public class MathUtils{ //è®¡ç®—åœ†é¢ç§¯ public static double calCircleArea(double r){ return Math.PI ï¼Š r ï¼Š r; } //è®¡ç®—çƒé¢ç§¯ public static double calBallArea(double r){ return 4ï¼Š Math.PI ï¼Š r ï¼Š r; } }è¿™æ˜¯å¾ˆç®€å•çš„æ•°å­¦å·¥å…·ç±»ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸¤ä¸ªè®¡ç®—é¢ç§¯çš„æ–¹æ³•ä¸­éƒ½å¼•å…¥äº†java.lang.Mathç±»ï¼ˆè¯¥ç±»æ˜¯é»˜è®¤å¯¼å…¥çš„ï¼‰ä¸­çš„PIï¼ˆåœ†å‘¨ç‡ï¼‰å¸¸é‡ï¼Œè€ŒMathè¿™ä¸ªç±»å†™åœ¨è¿™é‡Œæœ‰ç‚¹å¤šä½™ï¼Œç‰¹åˆ«æ˜¯å¦‚æœMathUtilsä¸­çš„æ–¹æ³•æ¯”è¾ƒå¤šæ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦æ•²å…¥Mathè¿™ä¸ªç±»ï¼Œç¹çä¸”å¤šä½™ï¼Œé™æ€å¯¼å…¥å¯è§£å†³æ­¤ç±»é—®é¢˜ï¼Œä½¿ç”¨é™æ€å¯¼å…¥åçš„ç¨‹åºå¦‚ä¸‹ï¼š import static java.lang.Math.PI; public class MathUtils{ //è®¡ç®—åœ†é¢ç§¯ public static double calCircleArea(double r){ return PI ï¼Š r ï¼Š r; } //è®¡ç®—çƒé¢ç§¯ public static double calBallArea(double r){ return 4 ï¼Š PI ï¼Š r ï¼Š r; } } é™æ€å¯¼å…¥çš„ä½œç”¨æ˜¯æŠŠMathç±»ä¸­çš„PIå¸¸é‡å¼•å…¥åˆ°æœ¬ç±»ä¸­ï¼Œè¿™ä¼šä½¿ç¨‹åºæ›´ç®€å•ï¼Œæ›´å®¹æ˜“é˜…è¯»ï¼Œåªè¦çœ‹åˆ°PIå°±çŸ¥é“è¿™æ˜¯åœ†å‘¨ç‡ï¼Œä¸ç”¨æ¯æ¬¡éƒ½è¦æŠŠç±»åå†™å…¨äº†ã€‚è¿™æ˜¯çœ‹ä¸Šå»å¾ˆå¥½ç”¨çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆè¦å°‘ç”¨å‘¢ï¼Ÿ æ»¥ç”¨é™æ€å¯¼å…¥ä¼šä½¿ç¨‹åºæ›´éš¾é˜…è¯»ï¼Œæ›´éš¾ç»´æŠ¤ã€‚é™æ€å¯¼å…¥åï¼Œä»£ç ä¸­å°±ä¸ç”¨å†å†™ç±»åäº†ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ç±»æ˜¯â€œä¸€ç±»äº‹ç‰©çš„æè¿°â€ï¼Œç¼ºå°‘äº†ç±»åçš„ä¿®é¥°ï¼Œé™æ€å±æ€§å’Œé™æ€æ–¹æ³•çš„è¡¨è±¡æ„ä¹‰å¯ä»¥è¢«æ— é™æ”¾å¤§ï¼Œè¿™ä¼šè®©é˜…è¯»è€…å¾ˆéš¾å¼„æ¸…æ¥šå…¶å±æ€§æˆ–æ–¹æ³•ä»£è¡¨ä½•æ„ï¼Œç”šè‡³æ˜¯å“ªä¸€ä¸ªç±»çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰éƒ½è¦æ€è€ƒä¸€ç•ªï¼ˆå½“ç„¶ï¼ŒIDEå‹å¥½æç¤ºåŠŸèƒ½æ˜¯å¦è¯´ï¼‰ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æœ‰å¤šä¸ªé™æ€å¯¼å…¥è¯­å¥æ—¶ï¼Œè‹¥è¿˜ä½¿ç”¨äº†*ï¼ˆæ˜Ÿå·ï¼‰é€šé…ç¬¦ï¼ŒæŠŠä¸€ä¸ªç±»çš„æ‰€æœ‰é™æ€å…ƒç´ éƒ½å¯¼å…¥è¿›æ¥äº†ï¼Œé‚£ç®€ç›´å°±æ˜¯æ¶æ¢¦ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä¾‹å­ï¼š import static java.lang.Double.ï¼Š; import static java.lang.Math.ï¼Š; import static java.lang.Integer.ï¼Š; import static java.text.NumberFormat.ï¼Š; public class Client { //è¾“å…¥åŠå¾„å’Œç²¾åº¦è¦æ±‚ï¼Œè®¡ç®—é¢ç§¯ public static void main(String[] args) { double s = PI ï¼Š parseDouble(args[0]); NumberFormat nf = getInstance(); nf.setMaximumFractionDigits(parseInt(args[1])); formatMessage(nf.format(s)); } //æ ¼å¼åŒ–æ¶ˆæ¯è¾“å‡º public static void formatMessage(String s){ System.out.println(\"åœ†é¢ç§¯æ˜¯ï¼š\"+s); } } å°±è¿™ä¹ˆä¸€æ®µç¨‹åºï¼Œçœ‹ç€å°±è®©äººç«å¤§ï¼šå¸¸é‡PIï¼Œè¿™çŸ¥é“ï¼Œæ˜¯åœ†å‘¨ç‡ï¼›parseDoubleæ–¹æ³•å¯èƒ½æ˜¯Doubleç±»çš„ä¸€ä¸ªè½¬æ¢æ–¹æ³•ï¼Œè¿™çœ‹åç§°ä¹Ÿèƒ½çŒœæµ‹åˆ°ã€‚é‚£ç´§æ¥ç€çš„getInstanceæ–¹æ³•æ˜¯å“ªä¸ªç±»çš„ï¼Ÿæ˜¯Clientæœ¬åœ°ç±»ï¼Ÿä¸å¯¹å‘€ï¼Œæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå“¦ï¼ŒåŸæ¥æ˜¯NumberFormateç±»çš„æ–¹æ³•ï¼Œè¿™å’ŒformateMessageæœ¬åœ°æ–¹æ³•æ²¡æœ‰ä»»ä½•åŒºåˆ«äº†â€”è¿™ä»£ç ä¹Ÿå¤ªéš¾é˜…è¯»äº†ï¼Œéæœºå™¨ä¸å¯é˜…è¯»ã€‚ æ‰€ä»¥ï¼Œå¯¹äºé™æ€å¯¼å…¥ï¼Œä¸€å®šè¦éµå¾ªä¸¤ä¸ªè§„åˆ™ï¼š ä¸ä½¿ç”¨*ï¼ˆæ˜Ÿå·ï¼‰é€šé…ç¬¦ï¼Œé™¤éæ˜¯å¯¼å…¥é™æ€å¸¸é‡ç±»ï¼ˆåªåŒ…å«å¸¸é‡çš„ç±»æˆ–æ¥å£ï¼‰ã€‚ æ–¹æ³•åæ˜¯å…·æœ‰æ˜ç¡®ã€æ¸…æ™°è¡¨è±¡æ„ä¹‰çš„å·¥å…·ç±»ã€‚ ä½•ä¸ºå…·æœ‰æ˜ç¡®ã€æ¸…æ™°è¡¨è±¡æ„ä¹‰çš„å·¥å…·ç±»ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹JUnit 4ä¸­ä½¿ç”¨çš„é™æ€å¯¼å…¥çš„ä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š import static org.junit.Assert.ï¼Š; public class DaoTest { @Test public void testInsert(){ //æ–­è¨€ assertEquals(\"foo\", \"foo\"); assertFalse(Boolean.FALSE); } } æˆ‘ä»¬ä»ç¨‹åºä¸­å¾ˆå®¹æ˜“åˆ¤æ–­å‡ºassertEqualsæ–¹æ³•æ˜¯ç”¨æ¥æ–­è¨€ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰çš„ï¼ŒassertFalseæ–¹æ³•åˆ™æ˜¯æ–­è¨€è¡¨è¾¾å¼ä¸ºå‡ï¼Œå¦‚æ­¤ç¡®å®å‡å°‘äº†ä»£ç é‡ï¼Œè€Œä¸”ä»£ç çš„å¯è¯»æ€§ä¹Ÿæé«˜äº†ï¼Œè¿™ä¹Ÿæ˜¯é™æ€å¯¼å…¥ç”¨åˆ°æ­£ç¡®åœ°æ–¹æ‰€å¸¦æ¥çš„å¥½å¤„ã€‚ å»ºè®®16ï¼šæ˜“å˜ä¸šåŠ¡ä½¿ç”¨è„šæœ¬è¯­è¨€ç¼–å†™Javaä¸–ç•Œä¸€ç›´åœ¨é­å—ç€å¼‚ç§è¯­è¨€çš„å…¥ä¾µï¼Œæ¯”å¦‚PHPï¼ŒRubyï¼ŒGroovyã€Javascriptç­‰ï¼Œè¿™äº›å…¥ä¾µè€…éƒ½æœ‰ä¸€ä¸ªå…±åŒç‰¹å¾ï¼šå…¨æ˜¯åŒä¸€ç±»è¯­è¨€â€”â€“è„šæœ¬è¯­è¨€ï¼Œå®ƒä»¬éƒ½æ˜¯åœ¨è¿è¡ŒæœŸè§£é‡Šæ‰§è¡Œçš„ã€‚ä¸ºä»€ä¹ˆJavaè¿™ç§å¼ºç¼–è¯‘å‹è¯­è¨€ä¼šéœ€è¦è¿™äº›è„šæœ¬è¯­è¨€å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºè„šæœ¬è¯­è¨€çš„ä¸‰å¤§ç‰¹å¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š çµæ´»ï¼šè„šæœ¬è¯­è¨€ä¸€èˆ¬éƒ½æ˜¯åŠ¨æ€ç±»å‹ï¼Œå¯ä»¥ä¸ç”¨å£°æ˜å˜é‡ç±»å‹è€Œç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥å†è¿è¡ŒæœŸæ”¹å˜ç±»å‹ã€‚ ä¾¿æ·ï¼šè„šæœ¬è¯­è¨€æ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€ï¼Œä¸éœ€è¦ç¼–è¯‘æˆäºŒè¿›åˆ¶ä»£ç ï¼Œä¹Ÿä¸éœ€è¦åƒJavaä¸€æ ·ç”Ÿæˆå­—èŠ‚ç ã€‚å®ƒçš„æ‰§è¡Œæ—¶ä¾é è§£é‡Šå™¨è§£é‡Šçš„ï¼Œå› æ­¤åœ¨è¿è¡ŒæœŸé—´å˜æ›´ä»£ç å¾ˆå®¹æ˜“ï¼Œè€Œä¸”ä¸ç”¨åœæ­¢åº”ç”¨ï¼› ç®€å•ï¼šåªèƒ½è¯´éƒ¨åˆ†è„šæœ¬è¯­è¨€ç®€å•ï¼Œæ¯”å¦‚Groovyï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ²¡æœ‰å¤šå¤§çš„é—¨æ§›ã€‚ è„šæœ¬è¯­è¨€çš„è¿™äº›ç‰¹æ€§æ˜¯Javaç¼ºå°‘çš„ï¼Œå¼•å…¥è„šæœ¬è¯­è¨€å¯ä»¥ä½¿Javaæ›´å¼ºå¤§ï¼Œäºæ˜¯Java6å¼€å§‹æ­£å¼æ”¯æŒè„šæœ¬è¯­è¨€ã€‚ä½†æ˜¯å› ä¸ºè„šæœ¬è¯­è¨€æ¯”è¾ƒå¤šï¼ŒJavaçš„å¼€å‘è€…ä¹Ÿå¾ˆéš¾ç¡®å®šè¯¥æ”¯æŒå“ªç§è¯­è¨€ï¼Œäºæ˜¯JSCPï¼ˆJava Community ProCessï¼‰å¾ˆèªæ˜çš„æå‡ºäº†JSR233è§„èŒƒï¼Œåªè¦ç¬¦åˆè¯¥è§„èŒƒçš„è¯­è¨€éƒ½å¯ä»¥åœ¨Javaå¹³å°ä¸Šè¿è¡Œï¼ˆå®ƒå¯¹JavaScriptæ˜¯é»˜è®¤æ”¯æŒçš„ï¼‰ã€‚ å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š function formual(var1, var2){ return var1 + var2 * factor; } è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„è„šæœ¬è¯­è¨€å‡½æ•°ï¼Œå¯èƒ½ä½ ä¼šå¾ˆç–‘æƒ‘:factor(å› å­)è¿™ä¸ªå˜é‡æ˜¯ä»é‚£å„¿æ¥çš„ï¼Ÿå®ƒæ˜¯ä»ä¸Šä¸‹æ–‡æ¥çš„ï¼Œç±»ä¼¼äºä¸€ä¸ªè¿è¡Œçš„ç¯å¢ƒå˜é‡ã€‚è¯¥jsä¿å­˜åœ¨C:/model.jsä¸­ï¼Œä¸‹ä¸€æ­¥éœ€è¦è°ƒç”¨JavaScriptå…¬å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š import java.io.FileNotFoundException; import java.io.FileReader; import java.util.Scanner; import javax.script.Bindings; import javax.script.Invocable; import javax.script.ScriptContext; import javax.script.ScriptEngine; import javax.script.ScriptEngineManager; import javax.script.ScriptException; public class Client16 { public static void main(String[] args) throws FileNotFoundException, ScriptException, NoSuchMethodException { // è·å¾—ä¸€ä¸ªJavaScriptæ‰§è¡Œå¼•æ“ ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"javascript\"); // å»ºç«‹ä¸Šä¸‹æ–‡å˜é‡ Bindings bind = engine.createBindings(); bind.put(\"factor\", 1); // ç»‘å®šä¸Šä¸‹æ–‡ï¼Œä½œç”¨äºæ˜¯å½“å‰å¼•æ“èŒƒå›´ engine.setBindings(bind, ScriptContext.ENGINE_SCOPE); Scanner input =new Scanner(System.in); while(input.hasNextInt()){ int first = input.nextInt(); int second = input.nextInt(); System.out.println(\"è¾“å…¥å‚æ•°æ˜¯ï¼š\"+first+\",\"+second); // æ‰§è¡ŒJsä»£ç  engine.eval(new FileReader(\"C:/model.js\")); // æ˜¯å¦å¯è°ƒç”¨æ–¹æ³• if (engine instanceof Invocable) { Invocable in = (Invocable) engine; // æ‰§è¡ŒJsä¸­çš„å‡½æ•° Double result = (Double) in.invokeFunction(\"formula\", first, second); System.out.println(\"è¿ç®—ç»“æœæ˜¯ï¼š\" + result.intValue()); } } } } ä¸Šæ®µä»£ç ä½¿ç”¨Scannerç±»æ¥å—é”®ç›˜è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ï¼Œç„¶åè°ƒç”¨JavaScriptè„šæœ¬çš„formulaå‡½æ•°è®¡ç®—å…¶ç»“æœï¼Œæ³¨æ„ï¼Œé™¤éè¾“å…¥äº†ä¸€ä¸ªéintæ•°å­—ï¼Œå¦åˆ™å½“å‰JVMä¼šä¸€ç›´è¿è¡Œï¼Œè¿™ä¹Ÿæ˜¯æ¨¡æ‹Ÿç”Ÿæˆç³»ç»Ÿçš„åœ¨çº¿å˜æ›´æƒ…å†µã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š è¾“å…¥å‚æ•°æ˜¯;1,2 è¿ç®—ç»“æœæ˜¯ï¼š3 æ­¤æ—¶ï¼Œä¿æŒJVMçš„è¿è¡ŒçŠ¶æ€ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹formulaå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š function formual(var1, var2){ return var1 + var2 - factor; } å…¶ä¸­,ä¹˜å·å˜æˆäº†å‡å·ï¼Œè®¡ç®—å…¬å¼å‘ç”Ÿäº†é‡å¤§æ”¹å˜ã€‚å›åˆ°JVMä¸­ç»§ç»­è¾“å…¥ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š è¾“å…¥å‚æ•°ï¼š1,2 è¿è¡Œç»“æœæ˜¯ï¼š2 ä¿®æ”¹Jsä»£ç ï¼ŒJVMæ²¡æœ‰é‡å¯ï¼Œè¾“å…¥å‚æ•°ä¹Ÿæ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œä»…ä»…æ”¹å˜è„šæœ¬å‡½æ•°å³å¯äº§ç”Ÿä¸åŒçš„æ•ˆæœã€‚è¿™å°±æ˜¯è„šæœ¬è¯­è¨€å¯¹ç³»ç»Ÿè®¾è®¡æœ€æœ‰åˆ©çš„åœ°æ–¹ï¼šå¯ä»¥éšæ—¶å‘å¸ƒè€Œä¸ç”¨éƒ¨ç½²ï¼›è¿™ä¹Ÿæ˜¯æˆ‘ä»¬javaeræœ€å–œçˆ±å®ƒçš„åœ°æ–¹â€”-å³ä½¿è¿›è¡Œå˜æ›´ï¼Œä¹Ÿèƒ½æä¾›ä¸é—´æ–­çš„ä¸šåŠ¡æœåŠ¡ã€‚ Java6ä¸ä»…ä»…æä¾›äº†ä»£ç çº§çš„è„šæœ¬å†…ç½®ï¼Œè¿˜æä¾›äº†jrunscriptå‘½ä»¤å·¥å…·ï¼Œå®ƒå¯ä»¥å†æ‰¹å¤„ç†ä¸­å‘æŒ¥æœ€å¤§æ•ˆèƒ½ï¼Œè€Œä¸”ä¸éœ€è¦é€šè¿‡JVMè§£é‡Šè„šæœ¬è¯­è¨€ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è¯¥å·¥å…·è¿è¡Œè„šæœ¬ã€‚æƒ³æƒ³çœ‹ã€‚è¿™æ˜¯å¤šä¹ˆå¤§çš„è¯±æƒ‘åŠ›å‘€ï¼è€Œä¸”è¿™ä¸ªå·¥å…·æ˜¯å¯ä»¥è·¨æ“ä½œç³»ç»Ÿçš„ï¼Œè„šæœ¬ç§»æ¤å°±æ›´å®¹æ˜“äº†ã€‚ å»ºè®®17ï¼šæ…ç”¨åŠ¨æ€ç¼–è¯‘åŠ¨æ€ç¼–è¯‘ä¸€ç›´æ˜¯javaçš„æ¢¦æƒ³ï¼Œä»Java6å¼€å§‹æ”¯æŒåŠ¨æ€ç¼–è¯‘äº†ï¼Œå¯ä»¥å†è¿è¡ŒæœŸç›´æ¥ç¼–è¯‘.javaæ–‡ä»¶ï¼Œæ‰§è¡Œ.classï¼Œå¹¶ä¸”è·å¾—ç›¸å…³çš„è¾“å…¥è¾“å‡ºï¼Œç”šè‡³è¿˜èƒ½ç›‘å¬ç›¸å…³çš„äº‹ä»¶ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬æœ€æœŸæœ›çš„è¿˜æ˜¯å®šä¸€æ®µä»£ç ï¼Œç›´æ¥ç¼–è¯‘ï¼Œç„¶åè¿è¡Œï¼Œä¹Ÿå°±æ˜¯ç©ºä¸­ç¼–è¯‘æ‰§è¡Œï¼ˆon-the-flyï¼‰ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š import java.io.IOException; import java.lang.reflect.Method; import java.net.URI; import java.util.ArrayList; import java.util.Arrays; import java.util.List; import javax.tools.JavaCompiler; import javax.tools.JavaFileObject; import javax.tools.SimpleJavaFileObject; import javax.tools.StandardJavaFileManager; import javax.tools.ToolProvider; public class Client17 { public static void main(String[] args) throws Exception { // Javaæºä»£ç  String sourceStr = \"public class Hello { public String sayHello (String name) {return \\\"Hello,\\\"+name+\\\"!\\\";}}\"; // ç±»ååŠæ–‡ä»¶å String clsName = \"Hello\"; // æ–¹æ³•å String methodName = \"sayHello\"; // å½“å‰ç¼–è¯‘å™¨ JavaCompiler cmp = ToolProvider.getSystemJavaCompiler(); // Javaæ ‡å‡†æ–‡ä»¶ç®¡ç†å™¨ StandardJavaFileManager fm = cmp.getStandardFileManager(null, null, null); // Javaæ–‡ä»¶å¯¹è±¡ JavaFileObject jfo = new StringJavaObject(clsName, sourceStr); // ç¼–è¯‘å‚æ•°ï¼Œç±»ä¼¼äºjavac &lt;options>ä¸­çš„options List&lt;String> optionsList = new ArrayList&lt;String>(); // ç¼–è¯‘æ–‡ä»¶çš„å­˜æ”¾åœ°æ–¹ï¼Œæ³¨æ„ï¼šæ­¤å¤„æ˜¯ä¸ºEclipseå·¥å…·ç‰¹è®¾çš„ optionsList.addAll(Arrays.asList(\"-d\", \"./bin\")); // è¦ç¼–è¯‘çš„å•å…ƒ List&lt;JavaFileObject> jfos = Arrays.asList(jfo); // è®¾ç½®ç¼–è¯‘ç¯å¢ƒ JavaCompiler.CompilationTask task = cmp.getTask(null, fm, null, optionsList, null, jfos); // ç¼–è¯‘æˆåŠŸ if (task.call()) { // ç”Ÿæˆå¯¹è±¡ Object obj = Class.forName(clsName).newInstance(); Class&lt;? extends Object> cls = obj.getClass(); // è°ƒç”¨sayHelloæ–¹æ³• Method m = cls.getMethod(methodName, String.class); String str = (String) m.invoke(obj, \"Dynamic Compilation\"); System.out.println(str); } } } class StringJavaObject extends SimpleJavaFileObject { // æºä»£ç  private String content = \"\"; // éµå¾ªJavaè§„èŒƒçš„ç±»ååŠæ–‡ä»¶ public StringJavaObject(String _javaFileName, String _content) { super(_createStringJavaObjectUri(_javaFileName), Kind.SOURCE); content = _content; } // äº§ç”Ÿä¸€ä¸ªURLèµ„æºè·¯å¾„ private static URI _createStringJavaObjectUri(String name) { // æ³¨æ„ï¼Œæ­¤å¤„æ²¡æœ‰è®¾ç½®åŒ…å return URI.create(\"String:///\" + name + Kind.SOURCE.extension); } // æ–‡æœ¬æ–‡ä»¶ä»£ç  @Override public CharSequence getCharContent(boolean ignoreEncodingErrors) throws IOException { return content; } } ä¸Šé¢ä»£ç è¾ƒå¤šï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªåŠ¨æ€ç¼–è¯‘çš„æ¨¡æ¿ç¨‹åºã€‚åªè¦æ˜¯åœ¨æœ¬åœ°é™æ€ç¼–è¯‘èƒ½å¤Ÿå®ç°çš„ä»»åŠ¡ï¼Œæ¯”å¦‚ç¼–è¯‘å‚æ•°ï¼Œè¾“å…¥è¾“å‡ºï¼Œé”™è¯¯ç›‘æ§ç­‰ï¼ŒåŠ¨æ€ç¼–è¯‘éƒ½èƒ½å®ç°ã€‚ Javaçš„åŠ¨æ€ç¼–è¯‘å¯¹æºæä¾›äº†å¤šä¸ªæ¸ é“ã€‚æ¯”å¦‚ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæ–‡æœ¬æ–‡ä»¶ï¼Œå­—èŠ‚ç æ–‡ä»¶ï¼Œè¿˜æœ‰å­˜æ”¾åœ¨æ•°æ®åº“ä¸­çš„æ˜æ–‡ä»£ç æˆ–è€…å­—èŠ‚ç ã€‚**æ±‡æ€»ä¸€å¥è¯ï¼Œåªè¦ç¬¦åˆJavaè§„èŒƒçš„å°±å¯ä»¥åœ¨è¿è¡ŒæœŸåŠ¨æ€åŠ è½½ï¼Œ**å…¶å®ç°æ–¹å¼å°±æ˜¯å®ç°JavaFileObjectæ¥å£ï¼Œé‡å†™getCharContentã€openInputStreamã€openOutputStreamï¼Œæˆ–è€…å®ç°JDKå·²ç»æä¾›çš„ä¸¤ä¸ªSimpleJavaFileObjectã€ForwardingJavaFileObject,å…·ä½“ä»£ç å¯ä»¥å‚è€ƒä¸Šä¸ªä¾‹å­ã€‚ åŠ¨æ€ç¼–è¯‘è™½ç„¶æ˜¯å¾ˆå¥½çš„å·¥å…·ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´åŠ è‡ªå¦‚çš„æ§åˆ¶ç¼–è¯‘è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ç›®å‰æ‰€æ¥è§¦çš„é¡¹ç›®ä¸­è¿˜æ˜¯ä½¿ç”¨è¾ƒå°‘ã€‚åŸå› å¾ˆç®€å•ï¼Œé™æ€ç¼–è¯‘å·²ç»èƒ½å¤Ÿå¸®æˆ‘ä»¬å¤„ç†å¤§éƒ¨åˆ†çš„å·¥ä½œï¼Œç”šè‡³æ˜¯å…¨éƒ¨çš„å·¥ä½œï¼Œå³ä½¿çœŸçš„éœ€è¦åŠ¨æ€ç¼–è¯‘ï¼Œä¹Ÿæœ‰å¾ˆå¥½çš„æ›¿ä»£æ–¹æ¡ˆï¼Œæ¯”å¦‚Jrubyã€Groovyç­‰æ— ç¼çš„è„šæœ¬è¯­è¨€ã€‚å¦å¤–ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨åŠ¨æ€ç¼–è¯‘æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š åœ¨æ¡†æ¶ä¸­è°¨æ…ä½¿ç”¨ï¼šæ¯”å¦‚è¦åœ¨strutsä¸­ä½¿ç”¨åŠ¨æ€ç¼–è¯‘ï¼ŒåŠ¨æ€å®ç°ä¸€ä¸ªç±»ï¼Œå®ƒè‹¥ç»§æ‰¿è‡ªActionSupportå°±å¸Œæœ›å®ƒæˆä¸ºä¸€ä¸ªActionã€‚èƒ½åšåˆ°ï¼Œä½†æ˜¯debugå¾ˆå›°éš¾ï¼›å†æ¯”å¦‚åœ¨Springä¸­ï¼Œå†™ä¸€ä¸ªåŠ¨æ€ç±»ï¼Œè¦è®©å®ƒæ³¨å…¥åˆ°Springå®¹å™¨ä¸­ï¼Œè¿™æ˜¯éœ€è¦èŠ±è´¹è€å¤§åŠŸå¤«çš„ã€‚ ä¸è¦åœ¨è¦æ±‚æ€§èƒ½é«˜çš„é¡¹ç›®ä¸­ä½¿ç”¨ï¼šå¦‚æœä½ åœ¨webç•Œé¢ä¸Šæä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå…è®¸ä¸Šä¼ ä¸€ä¸ªjavaæ–‡ä»¶ç„¶åè¿è¡Œï¼Œé‚£å°±ç­‰äºè¯´:â€æˆ‘çš„æœºå™¨æ²¡æœ‰å¯†ç ï¼Œå¤§å®¶éƒ½å¯ä»¥çœ‹çœ‹â€ï¼Œè¿™æ˜¯éå¸¸å…¸å‹çš„æ³¨å…¥æ¼æ´ï¼Œåªè¦ä¸Šä¼ ä¸€ä¸ªæ¶æ„Javaç¨‹åºå°±å¯ä»¥è®©ä½ æ‰€æœ‰çš„å®‰å…¨å·¥ä½œæ¯äºä¸€æ—¦ã€‚ åŠ¨æ€ç¼–è¯‘è¦è€ƒè™‘å®‰å…¨é—®é¢˜ï¼šå¦‚æœä½ åœ¨Webç•Œé¢ä¸Šæä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå…è®¸ä¸Šä¼ ä¸€ä¸ªJavaæ–‡ä»¶ç„¶åè¿è¡Œï¼Œé‚£å°±ç­‰äºè¯´ï¼šâ€œæˆ‘çš„æœºå™¨æ²¡æœ‰å¯†ç ï¼Œå¤§å®¶éƒ½æ¥çœ‹æˆ‘çš„éšç§å§â€ï¼Œè¿™å°±æ˜¯éå¸¸å…¸å‹çš„æ³¨å…¥æ¼æ´ï¼Œåªè¦ä¸Šä¼ ä¸€ä¸ªè€Œå·²Javaç¨‹åºå°±å¯ä»¥è®©ä½ æ‰€æœ‰çš„å®‰å…¨å·¥ä½œæ¯äºä¸€æ—¦ã€‚ è®°å½•åŠ¨æ€ç¼–è¯‘è¿‡ç¨‹ï¼šå»ºè®®è®°å½•æºæ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶ï¼Œç¼–è¯‘è¿‡ç¨‹ï¼Œæ‰§è¡Œè¿‡ç¨‹ç­‰æ—¥å¿—ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†è¯Šæ–­ï¼Œè¿˜æ˜¯ä¸ºäº†å®‰å…¨å’Œå®¡è®¡ï¼Œå¯¹Javaé¡¹ç›®æ¥è¯´ï¼Œç©ºä¸­ç¼–è¯‘å’Œè¿è¡Œæ—¶å¾ˆä¸è®©äººæ”¾å¿ƒçš„ï¼Œç•™ä¸‹è¿™äº›ä¾æ®å¯ä»¥å¾ˆå¥½åœ°ä¼˜åŒ–ç¨‹åºã€‚ å»ºè®®21ï¼šç”¨å¶åˆ¤æ–­ï¼Œä¸ç”¨å¥‡åˆ¤æ–­åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°æ˜¯å°å­¦é‡Œçš„åŸºæœ¬çŸ¥è¯†ï¼Œèƒ½å¤Ÿè¢«2æ•´é™¤çš„æ•´æ•°æ˜¯å¶æ•°ï¼Œä¸èƒ½è¢«2æ•´é™¤çš„æ•°æ˜¯å¥‡æ•°ï¼Œè¿™è§„åˆ™ç®€å•æ˜äº†ï¼Œè¿˜æœ‰ä»€ä¹ˆå¯è€ƒè™‘çš„ï¼Ÿå¥½ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š import java.util.Scanner; public class Client21 { public static void main(String[] args) { // æ¥æ”¶é”®ç›˜è¾“å…¥å‚æ•° Scanner input = new Scanner(System.in); System.out.println(\"è¾“å…¥å¤šä¸ªæ•°å­—åˆ¤æ–­å¥‡å¶ï¼š\"); while (input.hasNextInt()) { int i = input.nextInt(); String str = i + \"-->\" + (i % 2 == 1 ? \"å¥‡æ•°\" : \"å¶æ•°\"); System.out.println(str); } } } è¾“å…¥å¤šä¸ªæ•°å­—ï¼Œç„¶ååˆ¤æ–­æ¯ä¸ªæ•°å­—çš„å¥‡å¶æ€§ï¼Œä¸èƒ½è¢«2æ•´é™¤çš„å°±æ˜¯å¥‡æ•°ï¼Œå…¶å®ƒçš„éƒ½æ˜¯å¶æ•°ï¼Œå®Œå…¨æ˜¯æ ¹æ®å¥‡å¶æ•°çš„å®šä¹‰ç¼–å†™çš„ç¨‹åºï¼Œæˆ‘ä»¬å¼€çœ‹çœ‹æ‰“å°çš„ç»“æœï¼š è¾“å…¥å¤šä¸ªæ•°å­—åˆ¤æ–­å¥‡å¶ï¼š1 2 0 -1 -2 1--&gt;å¥‡æ•° 2--&gt;å¶æ•° 0--&gt;å¶æ•° -1--&gt;å¶æ•° -2--&gt;å¶æ•°å‰ä¸‰ä¸ªè¿˜å¾ˆé è°±ï¼Œç¬¬å››ä¸ªå‚æ•°-1æ€ä¹ˆå¯èƒ½æ˜¯å¶æ•°å‘¢ï¼Œè¿™Javaä¹Ÿå¤ªå·®åŠ²äº†å§ã€‚å¦‚æ­¤ç®€å•çš„è®¡ç®—ä¹Ÿä¼šå‡ºé”™ï¼åˆ«å¿™ç€ä¸‹ç»“è®ºï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹Javaä¸­çš„å–ä½™(%æ ‡è¯†ç¬¦)ç®—æ³•ï¼Œæ¨¡æ‹Ÿä»£ç å¦‚ä¸‹ï¼š // æ¨¡æ‹Ÿå–ä½™è®¡ç®—ï¼Œdividendè¢«é™¤æ•°ï¼Œdivisoré™¤æ•° public static int remainder(int dividend, int divisor) { return dividend - dividend / divisor * divisor; } çœ‹åˆ°è¿™æ®µç¨‹åºï¼Œå¤§å®¶éƒ½ä¼šå¿ƒçš„ç¬‘äº†ï¼ŒåŸæ¥Javaè¿™ä¹ˆå¤„ç†å–ä½™è®¡ç®—çš„å‘€ï¼Œæ ¹æ®ä¸Šé¢çš„æ¨¡æ‹Ÿå–ä½™å¯çŸ¥ï¼Œå½“è¾“å…¥-1çš„æ—¶å€™ï¼Œè¿ç®—ç»“æœä¸º-1ï¼Œå½“ç„¶ä¸ç­‰äº1äº†ï¼Œæ‰€ä»¥å®ƒå°±è¢«åˆ¤å®šä¸ºå¶æ•°äº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„åˆ¤æ–­å¤±è¯¯äº†ã€‚é—®é¢˜æ˜ç™½äº†ï¼Œä¿®æ­£ä¹Ÿå¾ˆç®€å•ï¼Œæ”¹ä¸ºåˆ¤æ–­æ˜¯å¦æ˜¯å¶æ•°å³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š i % 2 == 0 ? \"å¶æ•°\" : \"å¥‡æ•°\"; æ³¨æ„ï¼šå¯¹äºåŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬åº”è¯¥â€çŸ¥å…¶ç„¶ï¼Œå¹¶çŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚ å»ºè®®22ï¼šç”¨æ•´æ•°ç±»å‹å¤„ç†è´§å¸åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ€å®¹æ˜“æ¥è§¦åˆ°çš„å°æ•°å°±æ˜¯è´§å¸ï¼Œæ¯”å¦‚ï¼Œä½ ä»˜ç»™å”®è´§å‘˜10å…ƒé’±è´­ä¹°ä¸€ä¸ª9.6å…ƒçš„é›¶é£Ÿï¼Œå”®è´§å‘˜åº”è¯¥æ‰¾ä½ 0.4å…ƒï¼Œä¹Ÿå°±æ˜¯4æ¯›é’±æ‰å¯¹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ç¨‹åºï¼š public class Client22 { public static void main(String[] args) { System.out.println(10.00-9.60); } } æˆ‘ä»¬çš„æœŸæœ›ç»“æœæ˜¯0.4ï¼Œä¹Ÿåº”è¯¥æ˜¯è¿™ä¸ªæ•°å­—ï¼Œä½†æ˜¯æ‰“å°å‡ºæ¥çš„å´æ˜¯:0.40000000000000036,è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºåœ¨è®¡ç®—æœºä¸­æµ®ç‚¹æ•°æœ‰å¯èƒ½ï¼ˆæ³¨æ„æ˜¯æœ‰å¯èƒ½ï¼‰æ˜¯ä¸å‡†ç¡®çš„ï¼Œå®ƒåªèƒ½æ— é™æ¥è¿‘å‡†ç¡®å€¼ï¼Œè€Œä¸èƒ½å®Œå…¨ç²¾ç¡®ã€‚ä¸ºä»€ä¹ˆä¼šå¦‚æ­¤å‘¢ï¼Ÿè¿™æ˜¯ç”±æµ®ç‚¹æ•°çš„å­˜å‚¨è§„åˆ™æ‰€å†³å®šçš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹0.4è¿™ä¸ªåè¿›åˆ¶å°æ•°å¦‚ä½•è½¬æ¢æˆäºŒè¿›åˆ¶å°æ•°ï¼Œä½¿ç”¨â€ä¹˜2å–æ•´ï¼Œé¡ºåºæ’åˆ—â€æ³•ï¼ˆä¸æ‡‚ï¼Œè¿™å°±æ²¡æ‹›äº†ï¼Œè¿™å¤ªåŸºç¡€äº†ï¼‰ï¼Œæˆ‘ä»¬å‘ç°0.4ä¸èƒ½ä½¿ç”¨äºŒè¿›åˆ¶å‡†ç¡®çš„è¡¨ç¤ºï¼Œåœ¨äºŒè¿›åˆ¶æ•°ä¸–ç•Œé‡Œå®ƒæ˜¯ä¸€ä¸ªæ— é™å¾ªç¯çš„å°æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œâ€å±•ç¤ºâ€ éƒ½ä¸èƒ½ â€œå±•ç¤ºâ€ï¼Œæ›´åˆ«è¯´åœ¨å†…å­˜ä¸­å­˜å‚¨äº†(æµ®ç‚¹æ•°çš„å­˜å‚¨åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šç¬¦å·ä½ã€æŒ‡æ•°ä½ã€å°¾æ•°ï¼Œå…·ä½“ä¸å†ä»‹ç»)ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨åè¿›åˆ¶çš„ä¸–ç•Œé‡Œæ²¡æœ‰åŠæ³•å”¯ä¸€å‡†ç¡®è¡¨ç¤º1/3ï¼Œé‚£ä¹ˆåœ¨äºŒè¿›åˆ¶çš„ä¸–ç•Œé‡Œå½“ç„¶ä¹Ÿæ— æ³•å‡†ç¡®è¡¨ç¤º1/5(å¦‚æœäºŒè¿›åˆ¶ä¹Ÿæœ‰åˆ†æ•°çš„è¯å€’æ˜¯å¯ä»¥è¡¨ç¤º)ï¼Œåœ¨äºŒè¿›åˆ¶çš„ä¸–ç•Œé‡Œ1/5æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯çš„å°æ•°ã€‚ å¤§å®¶å¯èƒ½è¦è¯´äº†ï¼Œé‚£æˆ‘å¯¹ç»“æœå–æ•´ä¸å°±å¯¹äº†å—ï¼Ÿä»£ç å¦‚ä¸‹: public class Client22 { public static void main(String[] args) { NumberFormat f = new DecimalFormat(\"#.##\"); System.out.println(f.format(10.00-9.60)); } } æ‰“å°å‡ºçš„ç»“æœæ˜¯0.4ï¼Œçœ‹ä¼¼è§£å†³äº†ã€‚ä½†æ˜¯éšè—äº†ä¸€ä¸ªå¾ˆæ·±çš„é—®é¢˜ã€‚æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹é‡‘èè¡Œä¸šçš„è®¡ç®—æ–¹æ³•ï¼Œä¼šè®¡ç³»ç»Ÿä¸€èˆ¬è®°å½•å°æ•°ç‚¹åçš„4ä¸ºå°æ•°ï¼Œä½†æ˜¯åœ¨æ±‡æ€»ã€å±•ç°ã€æŠ¥è¡¨ä¸­ã€åˆ™åªè®°å½•å°æ•°ç‚¹åçš„2ä½å°æ•°ï¼Œå¦‚æœä½¿ç”¨æµ®ç‚¹æ•°æ¥è®¡ç®—è´§å¸ï¼Œæƒ³æƒ³çœ‹ï¼Œåœ¨å¤§æ‰¹é‡åŠ å‡ä¹˜é™¤åç»“æœä¼šæœ‰å¾ˆå¤§çš„å·®è·(å…¶ä¸­è¿˜æ¶‰åŠåˆ°å››èˆäº”å…¥çš„é—®é¢˜)ï¼ä¼šè®¡ç³»ç»Ÿè¦æ±‚çš„å°±æ˜¯å‡†ç¡®ï¼Œä½†æ˜¯å› ä¸ºè®¡ç®—æœºçš„ç¼˜æ•…ä¸å‡†ç¡®äº†ï¼Œé‚£çœŸæ˜¯ç½ªè¿‡ï¼Œè¦è§£å†³æ­¤é—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š (1)ä½¿ç”¨BigDecimal BigDecimalæ˜¯ä¸“é—¨ä¸ºå¼¥è¡¥æµ®ç‚¹æ•°æ— æ³•ç²¾ç¡®è®¡ç®—çš„ç¼ºæ†¾è€Œè®¾è®¡çš„ç±»ï¼Œå¹¶ä¸”å®ƒæœ¬èº«ä¹Ÿæä¾›äº†åŠ å‡ä¹˜é™¤çš„å¸¸ç”¨æ•°å­¦ç®—æ³•ã€‚ç‰¹åˆ«æ˜¯ä¸æ•°æ®åº“Decimalç±»å‹çš„å­—æ®µæ˜ å°„æ—¶ï¼ŒBigDecimalæ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚ (2)ä½¿ç”¨æ•´å‹ æŠŠå‚ä¸è¿ç®—çš„å€¼æ‰©å¤§100å€ï¼Œå¹¶è½¬ä¸ºæ•´å‹ï¼Œç„¶ååœ¨å±•ç°æ—¶å†ç¼©å°100å€ï¼Œè¿™æ ·å¤„ç†çš„å¥½å¤„æ˜¯è®¡ç®—ç®€å•ï¼Œå‡†ç¡®ï¼Œä¸€èˆ¬åœ¨éé‡‘èè¡Œä¸š(å¦‚é›¶å”®è¡Œä¸š)åº”ç”¨è¾ƒå¤šã€‚æ­¤æ–¹æ³•è¿˜ä¼šç”¨äºæŸäº›é›¶å”®POSæœºï¼Œä»–ä»¬è¾“å…¥å’Œè¾“å‡ºçš„å…¨éƒ¨æ˜¯æ•´æ•°ï¼Œé‚£è¿ç®—å°±æ›´ç®€å•äº†ã€‚ å»ºè®®23ï¼šä¸è¦è®©ç±»å‹é»˜é»˜è½¬æ¢æˆ‘ä»¬åšä¸€ä¸ªå°å­¦ç”Ÿçš„é¢˜ç›®ï¼Œå…‰é€Ÿæ¯ç§’30ä¸‡å…¬é‡Œï¼Œæ ¹æ®å…‰çº¿çš„æ—…è¡Œæ—¶é—´ï¼Œè®¡ç®—æœˆçƒå’Œåœ°çƒï¼Œå¤ªé˜³å’Œåœ°çƒä¹‹é—´çš„è·ç¦»ã€‚ä»£ç å¦‚ä¸‹ï¼š public class Client23 { // å…‰é€Ÿæ˜¯30ä¸‡å…¬é‡Œ/ç§’ï¼Œå¸¸é‡ public static final int LIGHT_SPEED = 30 * 10000 * 1000; public static void main(String[] args) { System.out.println(\"é¢˜ç›®1ï¼šæœˆçƒç…§å°„åˆ°åœ°çƒéœ€è¦ä¸€ç§’ï¼Œè®¡ç®—æœˆäº®å’Œåœ°çƒçš„è·ç¦»ã€‚\"); long dis1 = LIGHT_SPEED * 1; System.out.println(\"æœˆçƒä¸åœ°çƒçš„è·ç¦»æ˜¯ï¼š\" + dis1 + \" ç±³ \"); System.out.println(\"-------------------------------\"); System.out.println(\"é¢˜ç›®2ï¼šå¤ªé˜³å…‰ç…§å°„åˆ°åœ°çƒéœ€è¦8åˆ†é’Ÿï¼Œè®¡ç®—å¤ªé˜³åˆ°åœ°çƒçš„è·ç¦».\"); // å¯èƒ½è¦è¶…å‡ºæ•´æ•°èŒƒå›´ï¼Œä½¿ç”¨longå‹ long dis2 = LIGHT_SPEED * 60 * 8; System.out.println(\"å¤ªé˜³ä¸åœ°çƒä¹‹é—´çš„è·ç¦»æ˜¯ï¼š\" + dis2 + \" ç±³\"); } } ä¼°è®¡æœ‰äººé„™è§†äº†ï¼Œè¿™ç§å°å­¦ç”Ÿçš„ä¹˜æ³•æœ‰ç¥ä¹ˆå¯åšçš„ï¼Œä¸é”™ï¼Œå°±æ˜¯ä¸€ä¸ªä¹˜æ³•è¿ç®—ï¼Œæˆ‘ä»¬è¿è¡Œä¹‹åçš„ç»“æœå¦‚ä¸‹ï¼š é¢˜ç›®1ï¼šæœˆçƒç…§å°„åˆ°åœ°çƒéœ€è¦ä¸€ç§’ï¼Œè®¡ç®—æœˆäº®å’Œåœ°çƒçš„è·ç¦»ã€‚ æœˆçƒä¸åœ°çƒçš„è·ç¦»æ˜¯ï¼š300000000 ç±³ ------------------------------- é¢˜ç›®2ï¼šå¤ªé˜³å…‰ç…§å°„åˆ°åœ°çƒéœ€è¦8åˆ†é’Ÿï¼Œè®¡ç®—å¤ªé˜³åˆ°åœ°çƒçš„è·ç¦». å¤ªé˜³ä¸åœ°çƒä¹‹é—´çš„è·ç¦»æ˜¯ï¼š-2028888064 ç±³ å¤ªé˜³å’Œåœ°çƒçš„è·ç¦»ç«Ÿç„¶æ˜¯è´Ÿçš„ï¼Œè¯¡å¼‚ã€‚dis2ä¸æ˜¯å·²ç»è€ƒè™‘åˆ°intç±»å‹å¯èƒ½è¶Šç•Œçš„é—®é¢˜ï¼Œå¹¶ä½¿ç”¨äº†longå‹å—ï¼Œæ€ä¹ˆè¿˜ä¼šå‡ºç°è´Ÿå€¼å‘¢ï¼Ÿ é‚£æ˜¯å› ä¸ºJavaæ˜¯å…ˆè¿ç®—ç„¶åè¿›è¡Œç±»å‹è½¬æ¢çš„ï¼Œå…·ä½“çš„è¯´å°±æ˜¯å› ä¸ºdis2çš„ä¸‰ä¸ªè¿ç®—å‚æ•°éƒ½æ˜¯intå‹ï¼Œä¸‰è€…ç›¸ä¹˜çš„ç»“æœè™½ç„¶ä¹Ÿæ˜¯intå‹ï¼Œä½†æ˜¯å·²ç»è¶…è¿‡äº†intçš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥å…¶å€¼å°±æ˜¯è´Ÿå€¼äº†(ä¸ºä»€ä¹ˆæ˜¯è´Ÿå€¼ï¼Œå› ä¸ºè¿‡ç•Œäº†å°±ä¼šé‡å¤´å¼€å§‹)ï¼Œå†è½¬æ¢ä¸ºlongå‹ï¼Œç»“æœè¿˜æ˜¯è´Ÿå€¼ã€‚ é—®é¢˜çŸ¥é“äº†ï¼Œè§£å†³èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åŠ ä¸ªå°å°çš„Lå³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š long dis2 = LIGHT_SPEED * 60L * 8; 60Læ˜¯ä¸€ä¸ªé•¿æ•´å‹ï¼Œä¹˜å‡ºæ¥çš„ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªé•¿æ•´å‹çš„ï¼ˆæ­¤ä¹ƒJavaçš„åŸºæœ¬è½¬æ¢è§„åˆ™ï¼Œå‘æ•°æ®èŒƒå›´å¤§çš„æ–¹å‘è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯åŠ å®½ç±»å‹ï¼‰ï¼Œåœ¨è¿˜æ²¡æœ‰è¶…è¿‡intç±»å‹çš„èŒƒå›´æ—¶å°±å·²ç»è½¬æ¢ä¸ºlongå‹äº†ï¼Œå½»åº•è§£å†³äº†è¶Šç•Œé—®é¢˜ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ›´é€šç”¨çš„åšæ³•æ˜¯ä¸»åŠ¨å£°æ˜ç±»å‹è½¬åŒ–(æ³¨æ„ï¼Œä¸æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢)ï¼Œä»£ç å¦‚ä¸‹ï¼š long dis2 = 1L * LIGHT_SPEED * 60L * 8 æ—¢ç„¶æœŸæœ›çš„ç»“æœæ˜¯longå‹ï¼Œé‚£å°±è®©ç¬¬ä¸€ä¸ªå‚ä¸çš„å‚æ•°ä¹Ÿæ˜¯Long(1L)å§ï¼Œä¹Ÿå°±è¯´æ˜â€å—¨â€æˆ‘å·²ç»æ˜¯é•¿æ•´å‹äº†ï¼Œä½ ä»¬éƒ½è·Ÿç€æˆ‘ä¸€å—è½¬ä¸ºé•¿æ•´å‹å§ã€‚ æ³¨æ„ï¼šåŸºæœ¬ç±»å‹è½¬æ¢æ—¶ï¼Œä½¿ç”¨ä¸»åŠ¨å£°æ˜æ–¹å¼å‡å°‘ä¸å¿…è¦çš„Bug. å»ºè®®25ï¼šä¸è¦è®©å››èˆäº”å…¥äºäº†ä¸€æ–¹æœ¬å»ºè®®è¿˜æ˜¯æ¥é‡æ¸©ä¸€ä¸ªå°å­¦æ•°å­¦é—®é¢˜ï¼šå››èˆäº”å…¥ã€‚å››èˆäº”å…¥æ˜¯ä¸€ç§è¿‘ä¼¼ç²¾ç¡®çš„è®¡ç®—æ–¹æ³•ï¼Œåœ¨Java5ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯é€šè¿‡Math.roundæ¥è·å¾—æŒ‡å®šç²¾åº¦çš„æ•´æ•°æˆ–å°æ•°çš„ï¼Œè¿™ç§æ–¹æ³•ä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œä»£ç å¦‚ä¸‹ï¼š public class Client25 { public static void main(String[] args) { System.out.println(\"10.5è¿‘ä¼¼å€¼: \"+Math.round(10.5)); System.out.println(\"-10.5è¿‘ä¼¼å€¼: \"+Math.round(-10.5)); } } è¾“å‡ºç»“æœä¸ºï¼š10.5è¿‘ä¼¼å€¼: 11 -10.5è¿‘ä¼¼å€¼: -10 è¿™æ˜¯å››èˆäº”å…¥çš„ç»å…¸æ¡ˆä¾‹ï¼Œä¹Ÿæ˜¯åˆçº§é¢è¯•å®˜å¾ˆä¹æ„é€‰æ‹©çš„è€ƒé¢˜ï¼Œç»å¯¹å€¼ç›¸åŒçš„ä¸¤ä¸ªæ•°å­—ï¼Œè¿‘ä¼¼å€¼ä¸ºä»€ä¹ˆå°±ä¸åŒäº†å‘¢ï¼Ÿè¿™æ˜¯ç”±Math.roundé‡‡ç”¨çš„èˆå…¥è§„åˆ™å†³å®šçš„(é‡‡ç”¨çš„æ˜¯æ­£æ— ç©·æ–¹å‘èˆå…¥è§„åˆ™)ï¼Œæˆ‘ä»¬çŸ¥é“å››èˆäº”å…¥æ˜¯æœ‰è¯¯å·®çš„ï¼šå…¶è¯¯å·®å€¼æ˜¯èˆå…¥çš„ä¸€åŠã€‚æˆ‘ä»¬ä»¥èˆå…¥è¿ç”¨æœ€é¢‘ç¹çš„é“¶è¡Œåˆ©æ¯è®¡ç®—ä¸ºä¾‹æ¥é˜è¿°æ­¤é—®é¢˜ã€‚ æˆ‘ä»¬çŸ¥é“é“¶è¡Œçš„ç›ˆåˆ©æ¸ é“ä¸»è¦æ˜¯åˆ©æ¯å·®ï¼Œä»å‚¨æˆ·æ‰‹é‡Œæ”¶æ‹¢èµ„é‡‘ï¼Œç„¶åæˆ¿è´·å‡ºå»ï¼ŒæœŸé—´çš„åˆ©æ¯å·®é¢ä¾¿æ˜¯æ‰€è·å¾—åˆ©æ¶¦ï¼Œå¯¹ä¸€ä¸ªé“¶è¡Œæ¥è¯´ï¼Œå¯¹ä»˜ç»™å‚¨æˆ·çš„åˆ©æ¯è®¡ç®—éå¸¸é¢‘ç¹ï¼Œäººæ°‘é“¶è¡Œè§„å®šæ¯ä¸ªå­£åº¦æœ«æœˆçš„20æ—¥ä¸ºé“¶è¡Œç»“æ¯æ—¥ï¼Œä¸€å¹´æœ‰4æ¬¡çš„ç»“æ¯æ—¥ã€‚ åœºæ™¯ä»‹ç»å®Œæ¯•ï¼Œæˆ‘ä»¬å›å¤´æ¥çœ‹çœ‹å››èˆäº”å…¥ï¼Œå°äº5çš„æ•°å­—è¢«èˆå»ï¼Œå¤§äº5çš„æ•°å­—è¿›ä½åèˆå»ï¼Œç”±äºå•ä½ä¸Šçš„æ•°å­—éƒ½æ˜¯è‡ªç„¶è®¡ç®—å‡ºæ¥çš„ï¼ŒæŒ‰ç…§åˆ©ç‡è®¡ç®—å¯çŸ¥ï¼Œè¢«èˆå»çš„æ•°å­—éƒ½åˆ†å¸ƒåœ¨0~9ä¹‹é—´ï¼Œä¸‹é¢ä»¥10ç¬”å­˜æ¬¾åˆ©æ¯è®¡ç®—ä½œä¸ºæ¨¡å‹ï¼Œä»¥é“¶è¡Œå®¶çš„èº«ä»½æ¥æ€è€ƒè¿™ä¸ªç®—æ³•ï¼š å››èˆï¼šèˆå¼ƒçš„æ•°å€¼æ˜¯ï¼š0.000ã€0.001ã€0.002ã€0.003ã€0.004å› ä¸ºæ˜¯èˆå¼ƒçš„ï¼Œå¯¹äºé“¶è¡Œå®¶æ¥è¯´å°±ä¸éœ€è¦ä»˜æ¬¾ç»™å‚¨æˆ·äº†ï¼Œé‚£æ¯èˆä¸€ä¸ªæ•°å­—å°±ä¼šèµšå–ç›¸åº”çš„é‡‘é¢ï¼š0.000ã€0.001ã€0.002ã€0.003ã€0.004. äº”å…¥ï¼šè¿›ä½çš„æ•°å€¼æ˜¯ï¼š0.005ã€0.006ã€0.007ã€0.008ã€0.009ï¼Œå› ä¸ºæ˜¯è¿›ä½ï¼Œå¯¹é“¶è¡Œå®¶æ¥è¯´ï¼Œæ¯è¿›ä¸€ä½å°±ä¼šå¤šä»˜æ¬¾ç»™å‚¨æˆ·ï¼Œä¹Ÿå°±æ˜¯äºæŸäº†ï¼Œé‚£äºæŸéƒ¨åˆ†å°±æ˜¯å…¶å¯¹åº”çš„10è¿›åˆ¶è¡¥æ•°ï¼š0.005ã€.0004ã€0.003ã€0.002ã€0.001. å› ä¸ºèˆå¼ƒå’Œè¿›ä½çš„æ•°å­—æ˜¯å‡åŒ€åˆ†å¸ƒåœ¨0~9ä¹‹é—´ï¼Œå¯¹äºé“¶è¡Œå®¶æ¥è¯´ï¼Œæ²¡10ç¬”å­˜æ¬¾çš„åˆ©æ¯å› é‡‡ç”¨å››èˆäº”å…¥è€Œè·å¾—çš„ç›ˆåˆ©æ˜¯ï¼š0.000 + 0.001 + 0.002 + 0.003 + 0.004 - 0.005 - 0.004 - 0.003 - 0.002 - 0.001 = - 0.005ï¼› ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯10ç¬”åˆ©æ¯è®¡ç®—ä¸­å°±æŸå¤±0.005å…ƒï¼Œå³æ¯ç¬”åˆ©æ¯è®¡ç®—å°±æŸå¤±0.0005å…ƒï¼Œè¿™å¯¹ä¸€å®¶æœ‰5åƒä¸‡å‚¨æˆ·çš„é“¶è¡Œå®¶æ¥è¯´(å¯¹å›½å†…é“¶è¡Œæ¥è¯´ï¼Œ5åƒä¸‡æ˜¯ä¸ªå°æ•°å­—)ï¼Œæ¯å¹´ä»…ä»…å› ä¸ºå››èˆäº”å…¥çš„è¯¯å·®è€ŒæŸå¤±çš„é‡‘é¢æ˜¯ï¼š5000100000.00054=100000.0ï¼›å³ï¼Œæ¯å¹´å› ä¸ºä¸€ä¸ªç®—æ³•è¯¯å·®å°±æŸå¤±äº†10ä¸‡å…ƒï¼Œäº‹å®ä¸Šä»¥ä¸Šçš„å‡è®¾æ¡ä»¶éƒ½æ˜¯éå¸¸ä¿å®ˆçš„ï¼Œå®é™…æƒ…å†µå¯èƒ½æŸå¤±çš„æ›´å¤šã€‚é‚£å„ä½å¯èƒ½è¦è¯´äº†ï¼Œé“¶è¡Œè¿˜è¦æ”¾è´·å‘€ï¼Œæ”¾å‡ºå»è¿™ç¬”è®¡ç®—è¯¯å·®ä¸å°±æŠµæ¶ˆäº†å—ï¼Ÿä¸ä¼šæŠµæ¶ˆï¼Œé“¶è¡Œçš„è´·æ¬¾æ•°é‡æ˜¯éå¸¸æœ‰é™çš„å…¶æ•°é‡çº§æ ¹æœ¬æ— æ³•å’Œå­˜æ¬¾ç›¸æ¯”ã€‚ è¿™ä¸ªç®—æ³•è¯¯å·®æ˜¯ç”±ç¾å›½é“¶è¡Œå®¶å‘ç°çš„(é‚£å¯æ˜¯ç§äººé“¶è¡Œï¼Œé’±æ˜¯è‡ªå·±çš„ï¼Œç™½ç™½æŸå¤±äº†å¯ä¸è¡Œ)ï¼Œå¹¶ä¸”å¯¹æ­¤æå‡ºäº†ä¸€ä¸ªä¿®æ­£ç®—æ³•ï¼Œå«åšé“¶è¡Œå®¶èˆå…¥(Bankerâ€™s Round)çš„è¿‘ä¼¼ç®—æ³•ï¼Œå…¶è§„åˆ™å¦‚ä¸‹ï¼š èˆå»ä½çš„æ•°å€¼å°äº5æ—¶ï¼Œç›´æ¥èˆå»ï¼› èˆå»ä½çš„æ•°å€¼å¤§äºç­‰äº6æ—¶ï¼Œè¿›ä½åèˆå»ï¼› å½“èˆå»ä½çš„æ•°å€¼ç­‰äº5æ—¶ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š5åé¢è¿˜æœ‰å…¶å®ƒæ•°å­—(é0)ï¼Œåˆ™è¿›ä½åèˆå»ï¼›è‹¥5åé¢æ˜¯0(å³5æ˜¯æœ€åä¸€ä¸ªæ•°å­—)ï¼Œåˆ™æ ¹æ®5å‰ä¸€ä½æ•°çš„å¥‡å¶æ€§æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›ä½ï¼Œå¥‡æ•°è¿›ä½ï¼Œå¶æ•°èˆå»ã€‚ ä»¥ä¸Šè§„åˆ™æ±‡æ€»æˆä¸€å¥è¯ï¼šå››èˆå…­å…¥äº”è€ƒè™‘ï¼Œäº”åéé›¶å°±è¿›ä¸€ï¼Œäº”åä¸ºé›¶çœ‹å¥‡å¶ï¼Œäº”å‰ä¸ºå¶åº”èˆå»ï¼Œäº”å‰ä¸ºå¥‡è¦è¿›ä¸€ã€‚æˆ‘ä»¬ä¸¾ä¾‹è¯´æ˜ï¼Œå–2ä½ç²¾åº¦ï¼š round(10.5551) = 10.56 round(10.555) = 10.56 round(10.545) = 10.56 è¦åœ¨Java5ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨é“¶è¡Œå®¶çš„èˆå…¥æ³•åˆ™éå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨RoundingModeç±»æä¾›çš„Roundæ¨¡å¼å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š import java.math.BigDecimal; import java.math.RoundingMode; public class Client25 { public static void main(String[] args) { // å­˜æ¬¾ BigDecimal d = new BigDecimal(888888); // æœˆåˆ©ç‡ï¼Œä¹˜3è®¡ç®—å­£åˆ©ç‡ BigDecimal r = new BigDecimal(0.001875*3); //è®¡ç®—åˆ©æ¯ BigDecimal i =d.multiply(r).setScale(2,RoundingMode.HALF_EVEN); System.out.println(\"å­£åˆ©æ¯æ˜¯ï¼š\"+i); } } åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†BigDecimalç±»ï¼Œå¹¶ä¸”é‡‡ç”¨äº†setScaleæ–¹æ³•è®¾ç½®äº†ç²¾åº¦ï¼ŒåŒæ—¶ä¼ é€’äº†ä¸€ä¸ªRoundingMode.HALF_EVENå‚æ•°è¡¨ç¤ºä½¿ç”¨é“¶è¡Œå®¶æ³•åˆ™è¿›è¡Œè¿‘ä¼¼è®¡ç®—ï¼ŒBigDecimalå’ŒRoundingModeæ˜¯ä¸€ä¸ªç»é…ï¼Œæƒ³è¦é‡‡ç”¨ä»€ä¹ˆæ–¹å¼ä½¿ç”¨RoundingModeè®¾ç½®å³å¯ã€‚ç›®å‰Javaæ”¯æŒä»¥ä¸‹ä¸ƒç§èˆå…¥æ–¹å¼ï¼š ROUND_UPï¼šåŸç†é›¶æ–¹å‘èˆå…¥ã€‚å‘è¿œç¦»0çš„æ–¹å‘èˆå…¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‘ç»å¯¹å€¼æœ€å¤§çš„æ–¹å‘èˆå…¥ï¼Œåªè¦èˆå¼ƒä½é0å³è¿›ä½ã€‚ ROUND_DOWNï¼šè¶‹å‘0æ–¹å‘èˆå…¥ã€‚å‘0æ–¹å‘é æ‹¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‘ç»å¯¹å€¼æœ€å°çš„æ–¹å‘è¾“å…¥ï¼Œæ³¨æ„ï¼šæ‰€æœ‰çš„ä½éƒ½èˆå¼ƒï¼Œä¸å­˜åœ¨è¿›ä½æƒ…å†µã€‚ ROUND_CEILINGï¼šå‘æ­£æ— ç©·æ–¹å‘èˆå…¥ã€‚å‘æ­£æœ€å¤§æ–¹å‘é æ‹¢ï¼Œå¦‚æœæ˜¯æ­£æ•°ï¼Œèˆå…¥è¡Œä¸ºç±»ä¼¼äºROUND_UPï¼›å¦‚æœä¸ºè´Ÿæ•°ï¼Œåˆ™èˆå…¥è¡Œä¸ºç±»ä¼¼äºROUND_DOWN.æ³¨æ„ï¼šMath.roundæ–¹æ³•ä½¿ç”¨çš„å³ä¸ºæ­¤æ¨¡å¼ã€‚ ROUND_FLOORï¼šå‘è´Ÿæ— ç©·æ–¹å‘èˆå…¥ã€‚å‘è´Ÿæ— ç©·æ–¹å‘é æ‹¢ï¼Œå¦‚æœæ˜¯æ­£æ•°ï¼Œåˆ™èˆå…¥è¡Œä¸ºç±»ä¼¼ROUND_DOWNï¼Œå¦‚æœæ˜¯è´Ÿæ•°ï¼Œèˆå…¥è¡Œä¸ºç±»ä¼¼ä»¥ROUND_UPã€‚ HALF_UPï¼šæœ€è¿‘æ•°å­—èˆå…¥(5èˆ)ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç»å…¸çš„å››èˆäº”å…¥ã€‚ HALF_DOWNï¼šæœ€è¿‘æ•°å­—èˆå…¥(5èˆ)ã€‚åœ¨å››èˆäº”å…¥ä¸­ï¼Œ5æ˜¯è¿›ä½çš„ï¼Œåœ¨HALF_DOWNä¸­å´æ˜¯èˆå¼ƒä¸è¿›ä½ã€‚ HALF_EVENï¼šé“¶è¡Œå®¶ç®—æ³•ï¼Œåœ¨æ™®é€šçš„é¡¹ç›®ä¸­èˆå…¥æ¨¡å¼ä¸ä¼šæœ‰å¤ªå¤šå½±å“ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Math.roundæ–¹æ³•ï¼Œä½†åœ¨å¤§é‡ä¸è´§å¸æ•°å­—äº¤äº’çš„é¡¹ç›®ä¸­ï¼Œä¸€å®šè¦é€‰æ‹©å¥½è¿‘ä¼¼çš„è®¡ç®—æ¨¡å¼ï¼Œå°½é‡å‡å°‘å› ç®—æ³•ä¸åŒè€Œé€ æˆçš„æŸå¤±ã€‚ æ³¨æ„ï¼šæ ¹æ®ä¸åŒçš„åœºæ™¯ï¼Œæ…é‡é€‰æ‹©ä¸åŒçš„èˆå…¥æ¨¡å¼ï¼Œä»¥æé«˜é¡¹ç›®çš„ç²¾å‡†åº¦ï¼Œå‡å°‘ç®—æ³•æŸå¤±ã€‚ å»ºè®®28ï¼šä¼˜å…ˆä½¿ç”¨æ•´å‹æ± é¦–å…ˆçœ‹çœ‹å¦‚ä¸‹ä»£ç ï¼š import java.util.Scanner; public class Client28 { public static void main(String[] args) { Scanner input = new Scanner(System.in); while (input.hasNextInt()) { int tempInt = input.nextInt(); System.out.println(\"\\n=====\" + tempInt + \" çš„ç›¸ç­‰åˆ¤æ–­=====\"); // ä¸¤ä¸ªé€šè¿‡newäº§ç”Ÿçš„å¯¹è±¡ Integer i = new Integer(tempInt); Integer j = new Integer(tempInt); System.out.println(\" new äº§ç”Ÿçš„å¯¹è±¡ï¼š\" + (i == j)); // åŸºæœ¬ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»å‹åæ¯”è¾ƒ i = tempInt; j = tempInt; System.out.println(\" åŸºæœ¬ç±»å‹è½¬æ¢çš„å¯¹è±¡ï¼š\" + (i == j)); // é€šè¿‡é™æ€æ–¹æ³•ç”Ÿæˆä¸€ä¸ªå®ä¾‹ i = Integer.valueOf(tempInt); j = Integer.valueOf(tempInt); System.out.println(\" valueOfäº§ç”Ÿçš„å¯¹è±¡ï¼š\" + (i == j)); } } } è¾“å…¥å¤šä¸ªæ•°å­—ï¼Œç„¶åæŒ‰ç…§3ä¸­ä¸åŒçš„æ–¹å¼äº§ç”ŸIntegerå¯¹è±¡ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ç›¸ç­‰ï¼Œæ³¨æ„è¿™é‡Œä½¿ç”¨äº†â€==â€ï¼Œè¿™è¯´æ˜åˆ¤æ–­çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬è¾“å…¥ä¸‰ä¸ªæ•°å­—127ã€128ã€555ï¼Œç»“æœå¦‚ä¸‹ï¼š 127 =====127 çš„ç›¸ç­‰åˆ¤æ–­===== new äº§ç”Ÿçš„å¯¹è±¡ï¼šfalse åŸºæœ¬ç±»å‹è½¬æ¢çš„å¯¹è±¡ï¼štrue valueOfäº§ç”Ÿçš„å¯¹è±¡ï¼štrue 128 =====128 çš„ç›¸ç­‰åˆ¤æ–­===== new äº§ç”Ÿçš„å¯¹è±¡ï¼šfalse åŸºæœ¬ç±»å‹è½¬æ¢çš„å¯¹è±¡ï¼šfalse valueOfäº§ç”Ÿçš„å¯¹è±¡ï¼šfalse 555 =====555 çš„ç›¸ç­‰åˆ¤æ–­===== new äº§ç”Ÿçš„å¯¹è±¡ï¼šfalse åŸºæœ¬ç±»å‹è½¬æ¢çš„å¯¹è±¡ï¼šfalse valueOfäº§ç”Ÿçš„å¯¹è±¡ï¼šfalse å¾ˆä¸å¯æ€è®®å‘€ï¼Œæ•°å­—127çš„æ¯”è¾ƒç»“æœç«Ÿç„¶å’Œå…¶å®ƒä¸¤ä¸ªæ•°å­—ä¸åŒï¼Œå®ƒçš„è£…ç®±åŠ¨ä½œæ‰€äº§ç”Ÿçš„å¯¹è±¡ç«Ÿç„¶æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ŒvalueOfäº§ç”Ÿçš„ä¹Ÿæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¤§äº127çš„æ•°å­—å’Œ128å’Œ555çš„æ¯”è¾ƒè¿‡ç¨‹ä¸­äº§ç”Ÿçš„å´ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ¥ä¸€ä¸ªä¸€ä¸ªè§£é‡Šã€‚ (1)newäº§ç”Ÿçš„Integerå¯¹è±¡newå£°æ˜çš„å°±æ˜¯è¦ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ²¡äºŒè¯ï¼Œè¿™æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œåœ°å€è‚¯å®šä¸ç­‰ï¼Œæ¯”è¾ƒç»“æœä¸ºfalseã€‚ (2)è£…ç®±ç”Ÿæˆçš„å¯¹è±¡å¯¹äºè¿™ä¸€ç‚¹ï¼Œé¦–å…ˆè¦è¯´æ˜çš„æ˜¯è£…ç®±åŠ¨ä½œæ˜¯é€šè¿‡valueOfæ–¹æ³•å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åä¸¤ä¸ªç®—æ³•ç›¸åŒçš„ï¼Œé‚£ç»“æœè‚¯å®šä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç°åœ¨é—®é¢˜æ˜¯ï¼švalueOfæ˜¯å¦‚ä½•ç”Ÿæˆå¯¹è±¡çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥é˜…è¯»ä»¥ä¸‹Integer.valueOfçš„æºç  /** * Returns an {@code Integer} instance representing the specified * {@code int} value. If a new {@code Integer} instance is not * required, this method should generally be used in preference to * the constructor {@link #Integer(int)}, as this method is likely * to yield significantly better space and time performance by * caching frequently requested values. * * This method will always cache values in the range -128 to 127, * inclusive, and may cache other values outside of this range. * * @param i an {@code int} value. * @return an {@code Integer} instance representing {@code i}. * @since 1.5 */ public static Integer valueOf(int i) { assert IntegerCache.high >= 127; if (i >= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i); } è¿™æ®µä»£ç çš„æ„æ€å·²ç»å¾ˆæ˜äº†äº†ï¼Œå¦‚æœæ˜¯-128åˆ°127ä¹‹é—´çš„intç±»å‹è½¬æ¢ä¸ºIntegerå¯¹è±¡ï¼Œåˆ™ç›´æ¥ä»cacheæ•°ç»„ä¸­è·å¾—ï¼Œé‚£cacheæ•°ç»„é‡Œæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼ŒJDK7çš„æºä»£ç å¦‚ä¸‹ï¼š /** * Cache to support the object identity semantics of autoboxing for values between * -128 and 127 (inclusive) as required by JLS. * * The cache is initialized on first usage. The size of the cache * may be controlled by the -XX:AutoBoxCacheMax=&lt;size> option. * During VM initialization, java.lang.Integer.IntegerCache.high property * may be set and saved in the private system properties in the * sun.misc.VM class. */ private static class IntegerCache { static final int low = -128; static final int high; static final Integer cache[]; static { // high value may be configured by property int h = 127; String integerCacheHighPropValue = sun.misc.VM.getSavedProperty(\"java.lang.Integer.IntegerCache.high\"); if (integerCacheHighPropValue != null) { int i = parseInt(integerCacheHighPropValue); i = Math.max(i, 127); // Maximum array size is Integer.MAX_VALUE h = Math.min(i, Integer.MAX_VALUE - (-low)); } high = h; cache = new Integer[(high - low) + 1]; int j = low; for(int k = 0; k &lt; cache.length; k++) cache[k] = new Integer(j++); } private IntegerCache() {} } cacheæ˜¯IntegerCacheå†…éƒ¨ç±»çš„ä¸€ä¸ªé™æ€æ•°ç»„ï¼Œå®¹çº³çš„æ˜¯-128åˆ°127ä¹‹é—´çš„Integerå¯¹è±¡ã€‚é€šè¿‡valueOfäº§ç”ŸåŒ…è£…å¯¹è±¡æ—¶ï¼Œå¦‚æœintå‚æ•°åœ¨-128åˆ°127ä¹‹é—´ï¼Œåˆ™ç›´æ¥ä»æ•´å‹æ± ä¸­è·å¾—å¯¹è±¡ï¼Œä¸åœ¨è¯¥èŒƒå›´å†…çš„intç±»å‹åˆ™é€šè¿‡newç”ŸæˆåŒ…è£…å¯¹è±¡ã€‚ æ˜ç™½äº†è¿™ä¸€ç‚¹ï¼Œè¦ç†è§£ä¸Šé¢çš„è¾“å‡ºç»“æœå°±è¿åˆƒè€Œè§£äº†ï¼Œ127çš„åŒ…è£…å¯¹è±¡æ˜¯ç›´æ¥ä»æ•´å‹æ± ä¸­è·å¾—çš„ï¼Œä¸ç®¡ä½ è¾“å…¥å¤šå°‘æ¬¡127è¿™ä¸ªæ•°å­—ï¼Œè·å¾—çš„å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªï¼Œé‚£åœ°å€è‡ªç„¶æ˜¯ç›¸ç­‰çš„ã€‚è€Œ128ã€555è¶…å‡ºäº†æ•´å‹æ± èŒƒå›´ï¼Œæ˜¯é€šè¿‡newäº§ç”Ÿä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œåœ°å€ä¸åŒï¼Œå½“ç„¶ä¹Ÿå°±ä¸ç›¸ç­‰äº†ã€‚ ä»¥ä¸Šçš„ç†è§£ä¹Ÿæ˜¯æ•´å‹æ± çš„åŸç†ï¼Œæ•´å‹æ± çš„å­˜åœ¨ä¸ä»…ä»…æé«˜äº†ç³»ç»Ÿæ€§èƒ½ï¼ŒåŒæ—¶ä¹ŸèŠ‚çº¦äº†å†…å­˜ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨æ•´å‹æ± çš„åŸå› ï¼Œä¹Ÿå°±æ˜¯åœ¨å£°æ˜åŒ…è£…å¯¹è±¡çš„æ—¶å€™ä½¿ç”¨valueOfç”Ÿæˆï¼Œè€Œä¸æ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥ç”Ÿæˆçš„åŸå› ã€‚é¡ºä¾¿æé†’å¤§å®¶ï¼Œåœ¨åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ—¶å€™ï¼Œæœ€å¥½ä½¿ç”¨equalsæ–¹æ³•ï¼Œé¿å…ä½¿ç”¨â€==â€äº§ç”Ÿéé¢„æœŸæ•ˆæœã€‚ æ³¨æ„ï¼šé€šè¿‡åŒ…è£…ç±»å‹çš„valueOfç”Ÿæˆçš„åŒ…è£…å®ä¾‹å¯ä»¥æ˜¾è‘—æé«˜ç©ºé—´å’Œæ—¶é—´æ€§èƒ½ã€‚ å»ºè®®29ï¼šä¼˜å…ˆé€‰æ‹©åŸºæœ¬ç±»å‹åŒ…è£…ç±»å‹æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒæä¾›äº†è¯¸å¦‚æ„é€ æ–¹æ³•ï¼Œç±»å‹è½¬æ¢ï¼Œæ¯”è¾ƒç­‰éå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œè€Œä¸”åœ¨Java5ä¹‹ååˆå®ç°äº†ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢ï¼Œè¿™ä½¿åŒ…è£…ç±»å‹å¦‚è™æ·»ç¿¼ï¼Œæ›´æ˜¯åº”ç”¨å¹¿æ³›äº†ï¼Œåœ¨å¼€å‘ä¸­åŒ…è£…ç±»å‹å·²ç»éšå¤„å¯è§ï¼Œä½†æ— è®ºæ˜¯ä»å®‰å…¨æ€§ã€æ€§èƒ½æ–¹é¢æ¥è¯´ï¼Œè¿˜æ˜¯ä»ç¨³å®šæ€§æ–¹é¢æ¥è¯´ï¼ŒåŸºæœ¬ç±»å‹éƒ½æ˜¯é¦–é€‰æ–¹æ¡ˆã€‚æˆ‘ä»¬çœ‹ä¸€æ®µä»£ç ï¼š public class Client29 { public static void main(String[] args) { Client29 c = new Client29(); int i = 140; // åˆ†åˆ«ä¼ é€’intç±»å‹å’ŒIntegerç±»å‹ c.testMethod(i); c.testMethod(new Integer(i)); } public void testMethod(long a) { System.out.println(\" åŸºæœ¬ç±»å‹çš„æ–¹æ³•è¢«è°ƒç”¨\"); } public void testMethod(Long a) { System.out.println(\" åŒ…è£…ç±»å‹çš„æ–¹æ³•è¢«è°ƒç”¨\"); } } åœ¨ä¸Šé¢çš„ç¨‹åºä¸­é¦–å…ˆå£°æ˜äº†ä¸€ä¸ªintå˜é‡iï¼Œç„¶ååŠ å®½è½¬å˜æˆlongå‹ï¼Œå†è°ƒç”¨testMethod()æ–¹æ³•,åˆ†åˆ«ä¼ é€’intå’Œlongçš„åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹ï¼Œè¯¸ä½æƒ³æƒ³è¯¥ç¨‹åºæ˜¯å¦èƒ½å¤Ÿç¼–è¯‘ï¼Ÿå¦‚æœèƒ½ç¼–è¯‘ï¼Œè¾“å‡ºç»“æœåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ é¦–å…ˆï¼Œè¿™æ®µç¨‹åºç»å¯¹æ˜¯èƒ½å¤Ÿç¼–è¯‘çš„ã€‚ä¸è¿‡ï¼Œè¯´ä¸èƒ½ç¼–è¯‘çš„åŒå­¦è¿˜æ˜¯åŠ¨äº†ä¸€ç•ªè„‘ç­‹çš„ï¼Œä½ å¯èƒ½çŒœæµ‹ä»¥ä¸‹è¿™äº›åœ°æ–¹ä¸èƒ½ç¼–è¯‘ï¼š (1)testMethodæ–¹æ³•é‡è½½é—®é¢˜ã€‚å®šä¹‰çš„ä¸¤ä¸ªtestMethod()æ–¹æ³•å®ç°äº†é‡è½½ï¼Œä¸€ä¸ªå½¢å‚æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¸€ä¸ªå½¢å‚æ˜¯åŒ…è£…ç±»å‹ï¼Œè¿™ç±»é‡è½½å¾ˆæ­£å¸¸ã€‚è™½ç„¶åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹æœ‰è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±åŠŸèƒ½ï¼Œä½†å¹¶ä¸å½±å“å®ƒä»¬çš„é‡è½½ï¼Œè‡ªåŠ¨æ‹†ç®±(è£…ç®±)åªæœ‰åœ¨èµ‹å€¼æ—¶æ‰ä¼šå‘ç”Ÿï¼Œå’Œç¼–è¯‘é‡è½½æ²¡æœ‰å…³ç³»ã€‚ (2)c.testMethod(i) æŠ¥é”™ã€‚i æ˜¯intç±»å‹ï¼Œä¼ é€’åˆ°testMethod(long a)æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠ i çš„ç±»å‹åŠ å®½ï¼Œå¹¶å°†å…¶è½¬å˜ä¸ºlongå‹ï¼Œè¿™æ˜¯åŸºæœ¬ç±»å‹çš„è½¬æ¢æ³•åˆ™ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ (3)c.testMethod(new Integer(i))æŠ¥é”™ã€‚ä»£ç ä¸­æ²¡æœ‰testMethod(Integer i)æ–¹æ³•ï¼Œä¸å¯èƒ½æ¥æ”¶ä¸€ä¸ªIntegerç±»å‹çš„å‚æ•°ï¼Œè€Œä¸”Integerå’ŒLongä¸¤ä¸ªåŒ…è£…ç±»å‹æ˜¯å…„å¼Ÿå…³ç³»ï¼Œä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼Œé‚£å°±æ˜¯è¯´è‚¯å®šç¼–è¯‘å¤±è´¥äº†ï¼Ÿä¸ï¼Œç¼–è¯‘æ—¶æˆåŠŸçš„ï¼Œç¨åå†è§£é‡Šä¸ºä»€ä¹ˆè¿™é‡Œç¼–è¯‘æˆåŠŸã€‚ æ—¢ç„¶ç¼–è¯‘é€šè¿‡äº†ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹è¾“å‡ºï¼š åŸºæœ¬ç±»å‹çš„æ–¹æ³•è¢«è°ƒç”¨ åŸºæœ¬ç±»å‹çš„æ–¹æ³•è¢«è°ƒç”¨c.testMethod(i)çš„è¾“å‡ºæ˜¯æ­£å¸¸çš„ï¼Œæˆ‘ä»¬å·²ç»è§£é‡Šè¿‡äº†ï¼Œé‚£ç¬¬äºŒä¸ªè¾“å‡ºå°±è®©äººå›°æƒ‘äº†ï¼Œä¸ºä»€ä¹ˆä¼šè°ƒç”¨testMethodï¼ˆlong aï¼‰æ–¹æ³•å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè‡ªåŠ¨è£…ç®±æœ‰ä¸€ä¸ªé‡è¦åŸåˆ™ï¼šåŸºæœ¬ç±»å‹å¯ä»¥å…ˆåŠ å®½ï¼Œå†è½¬å˜æˆå®½ç±»å‹çš„åŒ…è£…ç±»å‹ï¼Œä½†ä¸èƒ½ç›´æ¥è½¬å˜æˆå®½ç±»å‹çš„åŒ…è£…ç±»å‹ã€‚è¿™å¥è¯æ¯”è¾ƒæ‹—å£ï¼Œç®€å•çš„è¯´å°±æ˜¯ï¼Œintå¯ä»¥åŠ å®½è½¬å˜æˆlongï¼Œç„¶åå†è½¬å˜æˆLongå¯¹è±¡ï¼Œä½†ä¸èƒ½ç›´æ¥è½¬å˜æˆåŒ…è£…ç±»å‹ï¼Œæ³¨æ„è¿™é‡ŒæŒ‡çš„éƒ½æ˜¯è‡ªåŠ¨è½¬æ¢ï¼Œä¸æ˜¯é€šè¿‡æ„é€ å‡½æ•°ç”Ÿæˆï¼Œä¸ºäº†è§£é‡Šè¿™ä¸ªåŸåˆ™ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š public class Client29 { public static void main(String[] args) { Client29 c = new Client29(); int i = 140; c.testMethod(i); } public void testMethod(Long a) { System.out.println(\" åŒ…è£…ç±»å‹çš„æ–¹æ³•è¢«è°ƒç”¨\"); } } è¿™æ®µç¨‹åºçš„ç¼–è¯‘æ˜¯ä¸é€šè¿‡çš„ï¼Œå› ä¸ºiæ˜¯ä¸€ä¸ªintç±»å‹ï¼Œä¸èƒ½è‡ªåŠ¨è½¬å˜ä¸ºLongå‹ï¼Œä½†æ˜¯ä¿®æ”¹æˆä»¥ä¸‹ä»£ç å°±å¯ä»¥é€šè¿‡äº†ï¼šint i = 140; long a =ï¼ˆlongï¼‰iï¼› c.testMethod(a);è¿™å°±æ˜¯intå…ˆåŠ å®½è½¬å˜æˆä¸ºlongå‹ï¼Œç„¶åè‡ªåŠ¨è½¬æ¢æˆLongå‹ï¼Œè§„åˆ™è¯´æ˜äº†ï¼Œæˆ‘ä»¬ç»§ç»­æ¥çœ‹testMethod(Integer.valueOf(i))æ˜¯å¦‚ä½•è°ƒç”¨çš„ï¼ŒInteger.valueOf(i)è¿”å›çš„æ˜¯ä¸€ä¸ªIntegerå¯¹è±¡ï¼Œè¿™æ²¡é”™ï¼Œä½†æ˜¯Integerå’Œintæ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ã€‚æ²¡æœ‰testMethod(Integer i)æ–¹æ³•ï¼Ÿæ²¡å…³ç³»ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•è½¬æ¢æˆintç±»å‹çš„å®å‚è°ƒç”¨ï¼ŒOkï¼Œè¿™æ¬¡æˆåŠŸäº†ï¼Œä¸testMethodï¼ˆiï¼‰ç›¸åŒäº†ï¼Œäºæ˜¯ä¹è¢«åŠ å®½è½¬å˜æˆlongå‹â€”ç»“æœä¹Ÿå¾ˆæ˜æ˜¾äº†ã€‚æ•´ä¸ªtestMethod(Integer.valueOf(i))çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š (1)i é€šè¿‡valueOfæ–¹æ³•åŒ…è£…æˆä¸€ä¸ªIntegerå¯¹è±¡ (2)ç”±äºæ²¡æœ‰testMethod(Integer i)æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šâ€èªæ˜â€çš„æŠŠIntegerå¯¹è±¡è½¬æ¢æˆintã€‚ (3)intè‡ªåŠ¨æ‹“å®½ä¸ºlongï¼Œç¼–è¯‘ç»“æŸ ä½¿ç”¨åŒ…è£…ç±»å‹ç¡®å®æœ‰æ–¹ä¾¿çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¹Ÿå¼•èµ·ä¸€äº›ä¸å¿…è¦çš„å›°æƒ‘ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªä¾‹å­ï¼Œå¦‚æœtestMethod()çš„ä¸¤ä¸ªé‡è½½æ–¹æ³•ä½¿ç”¨çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œè€Œä¸”å®å‚ä¹Ÿæ˜¯åŸºæœ¬ç±»å‹ï¼Œå°±ä¸ä¼šäº§ç”Ÿä»¥ä¸Šé—®é¢˜ï¼Œè€Œä¸”ç¨‹åºçš„å¯è¯»æ€§æ›´å¼ºã€‚è‡ªåŠ¨è£…ç®±(æ‹†ç®±)è™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†å¼•èµ·çš„é—®é¢˜ä¹Ÿéå¸¸ä¸¥é‡ï¼Œæˆ‘ä»¬ç”šè‡³éƒ½ä¸çŸ¥é“æ‰§è¡Œçš„æ˜¯å“ªä¸ªæ–¹æ³•ã€‚ æ³¨æ„ï¼šé‡ç”³ï¼ŒåŸºæœ¬ç±»å‹ä¼˜å…ˆè€ƒè™‘ã€‚ å»ºè®®31ï¼šåœ¨æ¥å£ä¸­ä¸è¦å­˜åœ¨å®ç°ä»£ç çœ‹åˆ°è¿™æ ·çš„æ ‡é¢˜ï¼Œå¤§å®¶æ˜¯å¦æ„Ÿåˆ°éƒé—·å‘¢ï¼Ÿæ¥å£ä¸­æœ‰å®ç°ä»£ç å—ï¼Ÿè¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼Ÿç¡®å®ï¼Œæ¥å£ä¸­å¯ä»¥å£°æ˜å¸¸é‡ï¼Œå£°æ˜æŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥ç»§æ‰¿çˆ¶æ¥å£ï¼Œä½†å°±æ˜¯ä¸èƒ½æœ‰å…·ä½“å®ç°ï¼Œå› ä¸ºæ¥å£æ˜¯ä¸€ç§å¥‘çº¦(Contract),æ˜¯ä¸€ç§æ¡†æ¶æ€§åè®®ï¼Œè¿™è¡¨æ˜å®ƒçš„å®ç°ç±»éƒ½æ˜¯åŒä¸€ç§ç±»å‹ï¼Œæˆ–è€…å…·å¤‡ç›¸ä¼¼ç‰¹å¾çš„ä¸€ä¸ªé›†åˆä½“ã€‚å¯¹äºä¸€èˆ¬ç¨‹åºï¼Œæ¥å£ç¡®å®æ²¡æœ‰ä»»ä½•å®ç°ï¼Œä½†æ˜¯åœ¨é‚£äº›ç‰¹æ®Šçš„ç¨‹åºä¸­å°±ä¾‹å¤–äº†ï¼Œé˜…è¯»å¦‚ä¸‹ä»£ç ï¼š public class Client31 { public static void main(String[] args) { //è°ƒç”¨æ¥å£çš„å®ç° B.s.doSomeThing(); } } // åœ¨æ¥å£ä¸­å­˜åœ¨å®ç°ä»£ç  interface B { public static final S s = new S() { public void doSomeThing() { System.out.println(\"æˆ‘åœ¨æ¥å£ä¸­å®ç°äº†\"); } }; } // è¢«å®ç°çš„æ¥å£ interface S { public void doSomeThing(); } ä»”ç»†çœ‹mainæ–¹æ³•ï¼Œæ³¨æ„é‚£ä¸ªBæ¥å£ã€‚å®ƒè°ƒç”¨äº†æ¥å£å¸¸é‡ï¼Œåœ¨æ²¡æœ‰å®ç°ä»»ä½•æ˜¾ç¤ºå®ç°ç±»çš„æƒ…å†µä¸‹ï¼Œå®ƒç«Ÿç„¶æ‰“å°å‡ºäº†ç»“æœï¼Œé‚£Bæ¥å£ä¸­çš„så¸¸é‡(æ¥å£æ˜¯S)æ˜¯åœ¨ä»€ä¹ˆåœ°æ–¹è¢«å®ç°çš„å‘¢ï¼Ÿç­”æ¡ˆåœ¨Bæ¥å£ä¸­ã€‚ åœ¨Bæ¥å£ä¸­å£°æ˜äº†ä¸€ä¸ªé™æ€å¸¸é‡sï¼Œå…¶å€¼æ˜¯ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»(Anonymous Inner Class)çš„å®ä¾‹å¯¹è±¡ï¼Œå°±æ˜¯è¯¥åŒ¿åå†…éƒ¨ç±»ï¼ˆå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨åŒ¿åï¼Œç›´æ¥åœ¨æ¥å£ä¸­æ˜¯å®ç°å†…éƒ¨ç±»ä¹Ÿæ˜¯å…è®¸çš„ï¼‰å®ç°äº†Sæ¥å£ã€‚ä½ çœ‹ï¼Œåœ¨æ¥å£ä¸­ä¹Ÿå­˜åœ¨ç€å®ç°ä»£ç å§ï¼ è¿™ç¡®å®å¾ˆå¥½ï¼Œå¾ˆå¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä¸€èˆ¬çš„é¡¹ç›®ä¸­ï¼Œæ­¤ç±»ä»£ç æ˜¯ä¸¥ç¦å‡ºç°çš„ï¼ŒåŸå› å¾ˆç®€å•ï¼šè¿™æ˜¯ä¸€ç§éå¸¸ä¸å¥½çš„ç¼–ç ä¹ æƒ¯ï¼Œæ¥å£æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Ÿæ¥å£æ˜¯ä¸€ä¸ªå¥‘çº¦ï¼Œä¸ä»…ä»…çº¦æŸç€å®ç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªä¿è¯ï¼Œä¿è¯æä¾›çš„æœåŠ¡(å¸¸é‡å’Œæ–¹æ³•)æ˜¯ç¨³å®šçš„ã€å¯é çš„ï¼Œå¦‚æœæŠŠå®ç°ä»£ç å†™åˆ°æ¥å£ä¸­ï¼Œé‚£æ¥å£å°±ç»‘å®šäº†å¯èƒ½å˜åŒ–çš„å› ç´ ï¼Œè¿™ä¼šå¯¼è‡´å®ç°ä¸å†ç¨³å®šå’Œå¯é ï¼Œæ˜¯éšæ—¶éƒ½å¯èƒ½è¢«æŠ›å¼ƒã€è¢«æ›´æ”¹ã€è¢«é‡æ„çš„ã€‚æ‰€ä»¥ï¼Œæ¥å£ä¸­è™½ç„¶å¯ä»¥æœ‰å®ç°ï¼Œä½†åº”é¿å…ä½¿ç”¨ã€‚ æ³¨æ„ï¼šæ¥å£ä¸­ä¸èƒ½å‡ºç°å®ç°ä»£ç ã€‚ å»ºè®®32ï¼šé™æ€å˜é‡ä¸€å®šè¦å…ˆå£°æ˜åèµ‹å€¼è¿™ä¸ªæ ‡é¢˜æ˜¯å¦åƒä¸Šä¸€ä¸ªå»ºè®®çš„æ ‡é¢˜ä¸€æ ·è®©äººéƒé—·å‘¢ï¼Ÿä»€ä¹ˆå«åšå˜é‡ä¸€å®šè¦å…ˆå£°æ˜åèµ‹å€¼ï¼ŸJavaä¸­çš„å˜é‡ä¸éƒ½æ˜¯å…ˆå£°æ˜åä½¿ç”¨çš„å—ï¼Ÿéš¾é“è¿˜èƒ½å…ˆä½¿ç”¨åå£°æ˜?èƒ½ä¸èƒ½æš‚ä¸”ä¸è¯´ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š public class Client32 { public static int i = 1; static { i = 100; } public static void main(String[] args) { System.out.println(i); } } è¿™æ®µç¨‹åºå¾ˆç®€å•ï¼Œè¾“å‡º100å˜›ï¼Œå¯¹ï¼Œç¡®å®æ˜¯100ï¼Œæˆ‘ä»¬ç¨ç¨ä¿®æ”¹ä¸€ä¸‹ï¼Œä»£ç å¦‚ä¸‹ï¼š public class Client32 { static { i = 100; } public static int i = 1; public static void main(String[] args) { System.out.println(i); } } æ³¨æ„å˜é‡ i çš„å£°æ˜å’Œèµ‹å€¼è°ƒæ¢äº†ä½ç½®ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯ï¼šè¿™æ®µç¨‹åºèƒ½å¦ç¼–è¯‘ï¼Ÿå¦‚è¿‡å¯ä»¥ç¼–è¯‘ï¼Œè¾“å‡ºæ˜¯å¤šå°‘ï¼Ÿè¿˜è¦æ³¨æ„ï¼Œè¿™ä¸ªå˜é‡iå¯æ˜¯å…ˆä½¿ç”¨(ä¹Ÿå°±æ˜¯èµ‹å€¼)åå£°æ˜çš„ã€‚ ç­”æ¡ˆæ˜¯ï¼šå¯ä»¥ç¼–è¯‘ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¾“å‡ºç»“æœä¸º1ã€‚å¯¹ï¼Œè¾“å‡ºæ˜¯ 1 ä¸æ˜¯100.ä»…ä»…è°ƒæ¢äº†ä½ç½®ï¼Œè¾“å‡ºå°±å˜äº†ï¼Œè€Œä¸”å˜é‡ i è¿˜æ˜¯å…ˆä½¿ç”¨åå£°æ˜çš„ï¼Œéš¾é“é¢ å€’äº†ï¼Ÿ è¿™è¦ä»é™æ€å˜é‡çš„è¯ç”Ÿè¯´èµ·ï¼Œé™æ€å˜é‡æ˜¯ç±»åŠ è½½æ—¶è¢«åˆ†é…åˆ°æ•°æ®åŒº(Data Area)çš„ï¼Œå®ƒåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªæ‹·è´ï¼Œä¸ä¼šè¢«åˆ†é…å¤šæ¬¡ï¼Œå…¶åçš„æ‰€æœ‰èµ‹å€¼æ“ä½œéƒ½æ˜¯å€¼æ”¹å˜ï¼Œåœ°å€åˆ™ä¿æŒä¸å˜ã€‚æˆ‘ä»¬çŸ¥é“JVMåˆå§‹åŒ–å˜é‡æ˜¯å…ˆå£°æ˜ç©ºé—´ï¼Œç„¶åå†èµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šåœ¨JVMä¸­æ˜¯åˆ†å¼€æ‰§è¡Œçš„ï¼Œç­‰ä»·äºï¼š int i ; //åˆ†é…ç©ºé—´ i = 100; //èµ‹å€¼ é™æ€å˜é‡æ˜¯åœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™é¦–å…ˆè¢«åŠ è½½çš„ï¼ŒJVMä¼šå»æŸ¥æ‰¾ç±»ä¸­æ‰€æœ‰çš„é™æ€å£°æ˜ï¼Œç„¶ååˆ†é…ç©ºé—´ï¼Œæ³¨æ„è¿™æ—¶å€™åªæ˜¯å®Œæˆäº†åœ°å€ç©ºé—´çš„åˆ†é…ï¼Œè¿˜æ²¡æœ‰èµ‹å€¼ï¼Œä¹‹åJVMä¼šæ ¹æ®ç±»ä¸­é™æ€èµ‹å€¼(åŒ…æ‹¬é™æ€ç±»èµ‹å€¼å’Œé™æ€å—èµ‹å€¼)çš„å…ˆåé¡ºåºæ¥æ‰§è¡Œã€‚å¯¹äºç¨‹åºæ¥è¯´ï¼Œå°±æ˜¯å…ˆå£°æ˜äº†intç±»å‹çš„åœ°å€ç©ºé—´ï¼Œå¹¶æŠŠåœ°å€ä¼ é€’ç»™äº†iï¼Œç„¶åæŒ‰ç…§ç±»çš„å…ˆåé¡ºåºæ‰§è¡Œèµ‹å€¼æ“ä½œï¼Œé¦–å…ˆæ‰§è¡Œé™æ€å—ä¸­i = 100,æ¥ç€æ‰§è¡Œ i = 1,é‚£æœ€åçš„ç»“æœå°±æ˜¯ i =1äº†ã€‚ å“¦ï¼Œå¦‚æ­¤è€Œå·²ï¼Œå¦‚æœæœ‰å¤šä¸ªé™æ€å—å¯¹ i ç»§ç»­èµ‹å€¼å‘¢ï¼Ÿi å½“ç„¶è¿˜æ˜¯ç­‰äº1äº†ï¼Œè°çš„ä½ç½®æœ€é åè°æœ‰æœ€ç»ˆçš„å†³å®šæƒã€‚ æœ‰äº›ç¨‹åºå‘˜å–œæ¬¢æŠŠå˜é‡å®šä¹‰æ”¾åˆ°ç±»æœ€åº•éƒ¨ï¼Œå¦‚æœè¿™æ˜¯å®ä¾‹å˜é‡è¿˜å¥½è¯´ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†å¦‚æœæ˜¯é™æ€å˜é‡ï¼Œè€Œä¸”è¿˜åœ¨é™æ€å—ä¸­èµ‹å€¼äº†ï¼Œé‚£è¿™ç»“æœå°±å’ŒæœŸæœ›çš„ä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥éµå¾ªJavaé€šç”¨çš„å¼€å‘è§„èŒƒâ€å˜é‡å…ˆå£°æ˜åèµ‹å€¼ä½¿ç”¨â€ï¼Œæ˜¯ä¸€ä¸ªè‰¯å¥½çš„ç¼–ç é£æ ¼ã€‚ æ³¨æ„ï¼šå†æ¬¡é‡ç”³å˜é‡è¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¿™ä¸æ˜¯ä¸€å¥åºŸè¯ã€‚ å»ºè®®35ï¼šé¿å…åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–å…¶å®ƒç±»æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªç±»åˆå§‹åŒ–å¿…é¡»æ‰§è¡Œçš„ä»£ç ï¼Œå®ƒå†³å®šç€ç±»åˆå§‹åŒ–çš„æ•ˆç‡ï¼Œå¦‚æœæ„é€ å‡½æ•°æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”è¿˜å…³è”äº†å…¶å®ƒç±»ï¼Œåˆ™å¯èƒ½äº§ç”Ÿæƒ³ä¸åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä¸‹ä»£ç ï¼š public class Client35 { public static void main(String[] args) { Son son = new Son(); son.doSomething(); } } // çˆ¶ç±» class Father { public Father() { new Other(); } } // ç›¸å…³ç±» class Other { public Other() { new Son(); } } // å­ç±» class Son extends Father { public void doSomething() { System.out.println(\"Hi, show me Something!\"); } } è¿™æ®µä»£ç å¹¶ä¸å¤æ‚ï¼Œåªæ˜¯åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–äº†å…¶å®ƒç±»ï¼Œæƒ³æƒ³çœ‹è¿™æ®µä»£ç çš„è¿è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¼šæ‰“å°å‡ºâ€Hi ï¼Œshow me Something!â€å—ï¼Ÿ ç­”æ¡ˆæ˜¯è¿™æ®µä»£ç ä¸èƒ½è¿è¡Œï¼ŒæŠ¥StatckOverflowErrorå¼‚å¸¸ï¼Œæ ˆ(Stack)å†…å­˜æº¢å‡ºï¼Œè¿™æ˜¯å› ä¸ºå£°æ˜å˜é‡sonæ—¶ï¼Œè°ƒç”¨äº†Sonçš„æ— å‚æ„é€ å‡½æ•°ï¼ŒJVMåˆé»˜è®¤è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ¥ç€Fatheråˆåˆå§‹åŒ–äº†Otherç±»ï¼Œè€ŒOtherç±»åˆè°ƒç”¨äº†Sonç±»ï¼Œäºæ˜¯ä¸€ä¸ªæ­»å¾ªç¯å°±è¯ç”Ÿäº†ï¼ŒçŸ¥é“å†…å­˜è¢«æ¶ˆè€—å®Œåœæ­¢ã€‚ å¤§å®¶å¯èƒ½è§‰å¾—è¿™æ ·çš„åœºæ™¯ä¸ä¼šå‡ºç°åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ¥æ€è€ƒè¿™æ ·çš„åœºæ™¯ï¼ŒFatheræ˜¯ç”±æ¡†æ¶æä¾›çš„ï¼ŒSonç±»æ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„æ‰©å±•ä»£ç ï¼Œè€ŒOtherç±»åˆ™æ˜¯æ¡†æ¶è¦æ±‚çš„æ‹¦æˆªç±»(Interceptorç±»æˆ–è€…Handleç±»æˆ–è€…Hookæ–¹æ³•)ï¼Œå†æ¥çœ‹çœ‹é—®é¢˜ï¼Œè¿™ç§åœºæ™¯ä¸å¯èƒ½å‡ºç°å—? å¯èƒ½å¤§å®¶ä¼šè§‰å¾—è¿™æ ·çš„åœºæ™¯ä¸ä¼šå‡ºç°ï¼Œè¿™ç§é—®é¢˜åªè¦ç³»ç»Ÿä¸€è¿è¡Œå°±ä¼šå‘ç°ï¼Œä¸å¯èƒ½å¯¹é¡¹ç›®äº§ç”Ÿå½±å“ã€‚ é‚£æ˜¯å› ä¸ºæˆ‘ä»¬è¿™é‡Œå±•ç¤ºçš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œå¾ˆå®¹æ˜“ä¸€çœ¼æ´ç©¿ï¼Œä¸€ä¸ªé¡¹ç›®ä¸­çš„æ„é€ å‡½æ•°å¯ä¸æ­¢ä¸€ä¸¤ä¸ªï¼Œç±»ä¹‹é—´çš„å…³ç³»ä¹Ÿä¸ä¼šè¿™ä¹ˆç®€å•ï¼Œè¦æƒ³ç¥ä¸€çœ¼å°±èƒ½æ˜ç™½æ˜¯å¦æœ‰ç¼ºé™·è¿™å¯¹æ‰€æœ‰äººå‘˜æ¥è¯´éƒ½æ˜¯ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œè§£å†³æ­¤ç±»é—®é¢˜æœ€å¥½çš„åŠæ³•å°±æ˜¯ï¼šä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­å£°æ˜åˆå§‹åŒ–å…¶ä»–ç±»ï¼Œå…»æˆè‰¯å¥½ä¹ æƒ¯ã€‚ å»ºè®®36ï¼šä½¿ç”¨æ„é€ ä»£ç å—ç²¾ç®€ç¨‹åºä»€ä¹ˆå«åšä»£ç å—(Code Block)ï¼Ÿç”¨å¤§æ‹¬å·æŠŠå¤šè¡Œä»£ç å°è£…åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ä½“ï¼Œå®ç°ç‰¹å®šç®—æ³•çš„ä»£ç é›†åˆå³ä¸ºä»£ç å—ï¼Œä¸€èˆ¬æ¥è¯´ä»£ç å¿«ä¸èƒ½å•ç‹¬è¿è¡Œçš„ï¼Œå¿…é¡»è¦æœ‰è¿è¡Œä¸»ä½“ã€‚åœ¨Javaä¸­ä¸€å…±æœ‰å››ç§ç±»å‹çš„ä»£ç å—ï¼š æ™®é€šä»£ç å—ï¼šå°±æ˜¯åœ¨æ–¹æ³•åé¢ä½¿ç”¨â€{}â€æ‹¬èµ·æ¥çš„ä»£ç ç‰‡æ®µï¼Œå®ƒä¸èƒ½å•ç‹¬è¿è¡Œï¼Œå¿…é¡»é€šè¿‡æ–¹æ³•åè°ƒç”¨æ‰§è¡Œï¼› é™æ€ä»£ç å—ï¼šåœ¨ç±»ä¸­ä½¿ç”¨staticä¿®é¥°ï¼Œå¹¶ç”¨â€{}â€æ‹¬èµ·æ¥çš„ä»£ç ç‰‡æ®µï¼Œç”¨äºé™æ€å˜é‡åˆå§‹åŒ–æˆ–å¯¹è±¡åˆ›å»ºå‰çš„ç¯å¢ƒåˆå§‹åŒ–ã€‚ åŒæ­¥ä»£ç å—ï¼šä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°ï¼Œå¹¶ä½¿ç”¨â€{}â€æ‹¬èµ·æ¥çš„ä»£ç ç‰‡æ®µï¼Œå®ƒè¡¨ç¤ºåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åˆ°è¯¥æ–¹æ³•å—ä¸­ï¼Œæ˜¯ä¸€ç§å¤šçº¿ç¨‹ä¿æŠ¤æœºåˆ¶ã€‚ æ„é€ ä»£ç å—ï¼šåœ¨ç±»ä¸­æ²¡æœ‰ä»»ä½•å‰ç¼€å’Œåç¼€,å¹¶ä½¿ç”¨â€{}â€æ‹¬èµ·æ¥çš„ä»£ç ç‰‡æ®µï¼› æˆ‘ä¹ˆçŸ¥é“ä¸€ä¸ªç±»ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°(å¦‚æœæ²¡æœ‰ï¼Œç¼–è¯‘å™¨ä¼šæ— ç§çš„ä¸ºå…¶åˆ›å»ºä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°)ï¼Œæ„é€ å‡½æ•°æ˜¯åœ¨å¯¹è±¡ç”Ÿæˆæ—¶è°ƒç”¨çš„ï¼Œé‚£ç°åœ¨ä¸ºä½ æ¥äº†ï¼šæ„é€ å‡½æ•°å’Œä»£ç å—æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œæ„é€ ä»£ç å—æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼Ÿåœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ç¼–è¯‘å™¨æ˜¯å¦‚ä½•å¤„ç†æ„é€ ä»£ç å—çš„ï¼Œçœ‹å¦‚ä¸‹ä»£ç ï¼š public class Client36 { { // æ„é€ ä»£ç å— System.out.println(\"æ‰§è¡Œæ„é€ ä»£ç å—\"); } public Client36() { System.out.println(\"æ‰§è¡Œæ— å‚æ„é€ \"); } public Client36(String name) { System.out.println(\"æ‰§è¡Œæœ‰å‚æ„é€ \"); } } è¿™æ˜¯ä¸€æ®µéå¸¸ç®€å•çš„ä»£ç ï¼Œå®ƒåŒ…å«äº†æ„é€ ä»£ç å—ã€æ— å‚æ„é€ ã€æœ‰å‚æ„é€ ï¼Œæˆ‘ä»¬çŸ¥é“ä»£ç å—ä¸å…·æœ‰ç‹¬ç«‹æ‰§è¡Œèƒ½åŠ›ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨æ˜¯å¦‚ä½•å¤„ç†æ„é€ ä»£ç å—çš„å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œç¼–è¯‘å™¨ä¼šæŠŠæ„é€ ä»£ç å—æ’å…¥åˆ°æ¯ä¸ªæ„é€ å‡½æ•°çš„æœ€å‰ç«¯ï¼Œä¸Šé¢çš„ä»£ç ç­‰ä»·äºï¼š public class Client36 { public Client36() { System.out.println(\"æ‰§è¡Œæ„é€ ä»£ç å—\"); System.out.println(\"æ‰§è¡Œæ— å‚æ„é€ \"); } public Client36(String name) { System.out.println(\"æ‰§è¡Œæ„é€ ä»£ç å—\"); System.out.println(\"æ‰§è¡Œæœ‰å‚æ„é€ \"); } } æ¯ä¸ªæ„é€ å‡½æ•°çš„æœ€å‰ç«¯éƒ½è¢«æ’å…¥äº†æ„é€ ä»£ç å—ï¼Œå¾ˆæ˜¾ç„¶ï¼Œåœ¨é€šè¿‡newå…³é”®å­—ç”Ÿæˆä¸€ä¸ªå®ä¾‹æ—¶ä¼šå…ˆæ‰§è¡Œæ„é€ ä»£ç å—ï¼Œç„¶åå†æ‰§è¡Œå…¶ä»–ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šæ„é€ ä»£ç å—ä¼šåœ¨æ¯ä¸ªæ„é€ å‡½æ•°å†…é¦–å…ˆæ‰§è¡Œï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ„é€ ä»£ç å—ä¸æ˜¯åœ¨æ„é€ å‡½æ•°ä¹‹å‰è¿è¡Œçš„ï¼Œå®ƒä¾æ‰˜äºæ„é€ å‡½æ•°çš„æ‰§è¡Œï¼‰ï¼Œæ˜ç™½äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ„é€ ä»£ç å—åº”ç”¨åˆ°å¦‚ä¸‹åœºæ™¯ä¸­ï¼š åˆå§‹åŒ–å®ä¾‹å˜é‡(Instance Variable):å¦‚æœæ¯ä¸ªæ„é€ å‡½æ•°éƒ½è¦åˆå§‹åŒ–å˜é‡ï¼Œå¯ä»¥é€šè¿‡æ„é€ ä»£ç å—æ¥å®ç°ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç„¶ååœ¨æ¯ä¸ªæ„é€ å‡½æ•°ä¸­è°ƒç”¨è¯¥æ–¹æ³•æ¥å®ç°ï¼Œæ²¡é”™ï¼Œå¯ä»¥è§£å†³ï¼Œä½†æ˜¯è¦åœ¨æ¯ä¸ªæ„é€ å‡½æ•°ä¸­éƒ½è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè€Œè¿™å°±æ˜¯å…¶ç¼ºç‚¹ï¼Œè‹¥é‡‡ç”¨æ„é€ ä»£ç å—çš„æ–¹å¼åˆ™ä¸ç”¨å®šä¹‰å’Œè°ƒç”¨ï¼Œä¼šç›´æ¥ç”±ç¼–è¯‘å™¨å†™å…¥åˆ°æ¯ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œè¿™æ‰æ˜¯è§£å†³æ­¤é—®é¢˜çš„ç»ä½³æ–¹å¼ã€‚ åˆå§‹åŒ–å®ä¾‹ç¯å¢ƒï¼šä¸€ä¸ªå¯¹è±¡å¿…é¡»åœ¨é€‚å½“çš„åœºæ™¯ä¸‹æ‰èƒ½å­˜åœ¨ï¼Œå¦‚æœæ²¡æœ‰é€‚å½“çš„åœºæ™¯ï¼Œåˆ™å°±éœ€è¦åœ¨åˆ›å»ºè¯¥å¯¹è±¡çš„æ—¶å€™åˆ›å»ºæ¬¡åœºæ™¯ï¼Œä¾‹å¦‚åœ¨JEEå¼€å‘ä¸­ï¼Œè¦äº§ç”ŸHTTP Requestå¿…é¡»é¦–å…ˆå»ºç«‹HTTP Sessionï¼Œåœ¨åˆ›å»ºHTTP Requestæ—¶å°±å¯ä»¥é€šè¿‡æ„é€ ä»£ç å—æ¥æ£€æŸ¥HTTP Sessionæ˜¯å¦å·²ç»å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºä¹‹ã€‚ ä»¥ä¸Šä¸¤ä¸ªåœºæ™¯åˆ©ç”¨äº†æ„é€ ä»£ç å—çš„ä¸¤ä¸ªç‰¹æ€§ï¼šåœ¨æ¯ä¸ªæ„é€ å‡½æ•°ä¸­éƒ½è¿è¡Œå’Œåœ¨æ„é€ å‡½æ•°ä¸­å®ƒä¼šé¦–å…ˆè¿è¡Œã€‚å¾ˆå¥½çš„åˆ©ç”¨æ„é€ ä»£ç å—çš„è¿™è¿ä¸ªç‰¹æ€§ä¸ä»…å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œè¿˜å¯ä»¥è®©ç¨‹åºæ›´å®¹æ˜“é˜…è¯»ï¼Œç‰¹åˆ«æ˜¯å½“æ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½è¦å®ç°é€»è¾‘ï¼Œè€Œä¸”è¿™éƒ¨åˆ†é€»è¾‘æœ‰å¾ˆå¤æ‚æ—¶ï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡ç¼–å†™å¤šä¸ªæ„é€ ä»£ç å—æ¥å®ç°ã€‚æ¯ä¸ªä»£ç å—å®Œæˆä¸åŒçš„ä¸šåŠ¡é€»è¾‘ï¼ˆå½“ç„¶äº†æ„é€ å‡½æ•°å°½é‡ç®€å•ï¼Œè¿™æ˜¯åŸºæœ¬åŸåˆ™ï¼‰ï¼ŒæŒ‰ç…§ä¸šåŠ¡é¡ºåºä¸€æ¬¡å­˜æ”¾ï¼Œè¿™æ ·åœ¨åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶JVMå°±ä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œå®ç°å¤æ‚å¯¹è±¡çš„æ¨¡å—åŒ–åˆ›å»ºã€‚ å»ºè®®37ï¼šæ„é€ ä»£ç å—ä¼šæƒ³ä½ æ‰€æƒ³ä¸Šä¸€å»ºè®®ä¸­æˆ‘ä»¬æè®®ä½¿ç”¨æ„é€ ä»£ç å—æ¥ç®€åŒ–ä»£ç ï¼Œå¹¶ä¸”ä¹Ÿäº†è§£åˆ°ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠæ„é€ ä»£ç å—æ’å…¥åˆ°å„ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œé‚£æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹ï¼Œç¼–è¯‘å™¨æ˜¯ä¸æ˜¯è¶³å¤Ÿèªæ˜ï¼Œèƒ½ä¸ºæˆ‘ä»¬è§£å†³çœŸå®çš„å¼€å‘é—®é¢˜ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæ¡ˆä¾‹ï¼Œç»Ÿè®¡ä¸€ä¸ªç±»çš„å®ä¾‹å˜é‡æ•°ã€‚ä½ å¯è¦è¯´äº†ï¼Œè¿™å¾ˆç®€å•ï¼Œåœ¨æ¯ä¸ªæ„é€ å‡½æ•°ä¸­åŠ å…¥ä¸€ä¸ªå¯¹è±¡è®¡æ•°å™¨è¡¥æ•‘è§£å†³äº†å˜›ï¼Ÿæˆ–è€…æˆ‘ä»¬ä½¿ç”¨ä¸Šä¸€å»ºè®®ä»‹ç»çš„ï¼Œä½¿ç”¨æ„é€ ä»£ç å—ä¹Ÿå¯ä»¥ï¼Œç¡®å®å¦‚æ­¤ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä¸‹ä»£ç æ˜¯å¦å¯è¡Œï¼š public class Client37 { public static void main(String[] args) { new Student(); new Student(\"å¼ ä¸‰\"); new Student(10); System.out.println(\"å®ä¾‹å¯¹è±¡æ•°é‡ï¼š\"+Student.getNumOfObjects()); } } class Student { // å¯¹è±¡è®¡æ•°å™¨ private static int numOfObjects = 0; { // æ„é€ ä»£ç å—ï¼Œè®¡ç®—äº§ç”Ÿçš„å¯¹è±¡æ•°é‡ numOfObjects++; } public Student() { } // æœ‰å‚æ„é€ è°ƒç”¨æ— å‚æ„é€  public Student(String stuName) { this(); } // æœ‰å‚æ„é€ ä¸è°ƒç”¨æ— å‚æ„é€  public Student(int stuAge) { } //è¿”å›åœ¨ä¸€ä¸ªJVMä¸­ï¼Œåˆ›å»ºäº†å¤šå°‘å®ä¾‹å¯¹è±¡ public static int getNumOfObjects(){ return numOfObjects; } } è¿™æ®µä»£ç å¯è¡Œå—ï¼Ÿèƒ½è®¡ç®—å‡ºå®ä¾‹å¯¹è±¡çš„æ•°é‡å—ï¼Ÿå¦‚æœç¼–è¯‘å™¨æŠŠæ„é€ ä»£ç å—æ’å…¥åˆ°å„ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œé‚£å¸¦æœ‰Stringå½¢å‚çš„æ„é€ å‡½æ•°å°±å¯èƒ½æœ‰é—®é¢˜ï¼Œå®ƒä¼šè°ƒç”¨æ— å‚æ„é€ ï¼Œé‚£é€šè¿‡å®ƒç”Ÿæˆçš„Studentå¯¹è±¡å°±ä¼šæ‰§è¡Œä¸¤æ¬¡æ„é€ ä»£ç å—ï¼šä¸€æ¬¡æ˜¯æ— å‚æ„é€ å‡½æ•°è°ƒç”¨æ„é€ ä»£ç å—ï¼Œä¸€æ¬¡æ˜¯æ‰§è¡Œè‡ªèº«çš„æ„é€ ä»£ç å—ï¼Œè¿™æ ·çš„è¯è®¡ç®—å°±ä¸å‡†ç¡®äº†ï¼Œmainå‡½æ•°å®é™…åœ¨å†…å­˜ä¸­äº§ç”Ÿäº†3ä¸ªå¯¹è±¡ï¼Œä½†ç»“æœç¡®æ˜¯4ã€‚ä¸è¿‡çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿæˆ‘ä»¬è¿è¡Œä¹‹åï¼Œç»“æœæ˜¯ï¼š å®ä¾‹å¯¹è±¡æ•°é‡ï¼š3ï¼› å®ä¾‹å¯¹è±¡çš„æ•°é‡è¿˜æ˜¯3ï¼Œç¨‹åºæ²¡æœ‰é—®é¢˜ï¼Œå¥‡æ€ªå—ï¼Ÿä¸å¥‡æ€ªï¼Œä¸Šä¸€å»ºè®®æ˜¯è¯´ç¼–è¯‘å™¨ä¼šæŠŠæ„é€ ä»£ç å—æ’å…¥åˆ°æ¯ä¸€ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–çš„æƒ…å†µæ²¡æœ‰è¯´æ˜ï¼šå¦‚æœé‡åˆ°thiså…³é”®å­—(ä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°è°ƒç”¨è‡ªèº«çš„å…¶å®ƒæ„é€ å‡½æ•°æ—¶)ï¼Œåˆ™ä¸æ’å…¥æ„é€ ä»£ç å—ï¼Œå¯¹äºæˆ‘ä»¬çš„ä¾‹å­æ¥è¯´ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å‘ç°Stringå½¢å‚çš„æ„é€ å‡½æ•°è°ƒç”¨äº†æ— å‚æ„é€ ï¼Œäºæ˜¯æ”¾å¼ƒæ’å…¥æ„é€ ä»£ç å—ï¼Œæ‰€ä»¥åªæ‰§è¡Œäº†ä¸€æ¬¡æ„é€ ä»£ç å—ã€‚ é‚£Javaç¼–è¯‘å™¨ä¸ºä½•å¦‚æ­¤èªæ˜ï¼Ÿè¿™è¿˜è¦ä»æ„é€ ä»£ç å—çš„è¯ç”Ÿè¯´èµ·ï¼Œæ„é€ ä»£ç å—æ˜¯ä¸ºäº†æå–æ„é€ å‡½æ•°çš„å…±åŒé‡ï¼Œå‡å°‘å„ä¸ªæ„é€ å‡½æ•°çš„ä»£ç äº§ç”Ÿçš„ï¼Œå› æ­¤ï¼ŒJavaå°±å¾ˆèªæ˜çš„è®¤ä¸ºæŠŠä»£ç æ’å…¥åˆ°thisæ–¹æ³•çš„æ„é€ å‡½æ•°ä¸­å³å¯ï¼Œè€Œè°ƒç”¨å…¶å®ƒçš„æ„é€ å‡½æ•°åˆ™ä¸æ’å…¥ï¼Œç¡®ä¿æ¯ä¸ªæ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡æ„é€ ä»£ç å—ã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼Œå¤§å®¶åƒä¸‡ä¸è¦ä»¥ä¸ºthisæ˜¯ç‰¹æ®Šæƒ…å†µï¼Œé‚£superä¹Ÿä¼šç±»ä¼¼å¤„ç†äº†ï¼Œå…¶å®ä¸ä¼šï¼Œåœ¨æ„é€ å—çš„å¤„ç†ä¸Šï¼Œsuperæ–¹æ³•æ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„åœ°æ–¹ï¼Œç¼–è¯‘å™¨åªæŠŠæ„é€ ä»£ç å—æ’å…¥åˆ°superæ–¹æ³•ä¹‹åæ‰§è¡Œè€Œå·²ã€‚ä»…æ­¤ä¸åŒã€‚ æ³¨æ„ï¼šæ”¾å¿ƒçš„ä½¿ç”¨æ„é€ ä»£ç å—å§ï¼ŒJavaå·²ç»æƒ³ä½ æ‰€æƒ³äº†ã€‚ å»ºè®®38ï¼šä½¿ç”¨é™æ€å†…éƒ¨ç±»æé«˜å°è£…æ€§Javaä¸­çš„åµŒå¥—ç±»(Nested Class)åˆ†ä¸ºä¸¤ç§ï¼šé™æ€å†…éƒ¨ç±»(ä¹Ÿå«é™æ€åµŒå¥—ç±»ï¼ŒStatic Nested Class)å’Œå†…éƒ¨ç±»(Inner Class)ã€‚æœ¬æ¬¡ä¸»è¦çœ‹çœ‹é™æ€å†…éƒ¨ç±»ã€‚ä»€ä¹ˆæ˜¯é™æ€å†…éƒ¨ç±»å‘¢ï¼Ÿæ˜¯å†…éƒ¨ç±»ï¼Œå¹¶ä¸”æ˜¯é™æ€(staticä¿®é¥°)çš„å³ä¸ºé™æ€å†…éƒ¨ç±»ï¼Œåªæœ‰åœ¨æ˜¯é™æ€å†…éƒ¨ç±»çš„æƒ…å†µä¸‹æ‰èƒ½æŠŠstaticä¿®é¥°ç¬¦æ”¾åœ¨ç±»å‰ï¼Œå…¶å®ƒä»»ä½•æ—¶å€™staticéƒ½æ˜¯ä¸èƒ½ä¿®é¥°ç±»çš„ã€‚ é™æ€å†…éƒ¨ç±»çš„å½¢å¼å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆéœ€è¦é™æ€å†…éƒ¨ç±»å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºé™æ€å†…éƒ¨ç±»æœ‰ä¸¤ä¸ªä¼˜ç‚¹ï¼šåŠ å¼ºäº†ç±»çš„å°è£…å’Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢ä»£ç æ¥è§£é‡Šè¿™ä¸¤ä¸ªä¼˜ç‚¹ã€‚ public class Person { // å§“å private String name; // å®¶åº­ private Home home; public Person(String _name) { name = _name; } /* homeã€nameçš„setterå’Œgetteræ–¹æ³•ç•¥ */ public static class Home { // å®¶åº­åœ°å€ private String address; // å®¶åº­ç”µè¯ private String tel; public Home(String _address, String _tel) { address = _address; tel = _tel; } /* addressã€telçš„setterå’Œgetteræ–¹æ³•ç•¥ */ } } å…¶ä¸­ï¼ŒPersonç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªé™æ€å†…éƒ¨ç±»Home,å®ƒè¡¨ç¤ºçš„æ„æ€æ˜¯â€äººçš„å®¶åº­ä¿¡æ¯â€ï¼Œç”±äºHomeç±»å°è£…äº†å®¶åº­ä¿¡æ¯ï¼Œä¸ç”¨å†Personä¸­å†å®šä¹‰homeAddr,homeTelç­‰å±æ€§ï¼Œè¿™å°±ä½¿å°è£…æ€§æé«˜äº†ã€‚åŒæ—¶æˆ‘ä»¬ä»…ä»…é€šè¿‡ä»£ç å°±å¯ä»¥åˆ†æå‡ºPersonå’ŒHomeä¹‹é—´çš„å¼ºå…³è”å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´è¯­ä¹‰å¢å¼ºäº†ï¼Œå¯è¯»æ€§æé«˜äº†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨æ—¶å°±ä¼šéå¸¸æ¸…æ¥šå®ƒè¡¨è¾¾çš„å«ä¹‰ã€‚ public static void main(String[] args) { // å®šä¹‰å¼ ä¸‰è¿™ä¸ªäºº Person p = new Person(\"å¼ ä¸‰\"); // è®¾ç½®å¼ ä¸‰çš„å®¶åº­ä¿¡æ¯ p.setHome(new Home(\"åŒ—äº¬\", \"010\")); } å®šä¹‰å¼ ä¸‰è¿™ä¸ªäººï¼Œç„¶åé€šè¿‡Person.Homeç±»è®¾ç½®å¼ ä¸‰çš„å®¶åº­ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸æ˜¯å°±å’Œæˆ‘ä»¬çœŸæ˜¯ä¸–ç•Œçš„æƒ…å½¢ç›¸åŒäº†ï¼Ÿå…ˆç™»è®°äººçš„ä¸»è¦ä¿¡æ¯ï¼Œç„¶åç™»è®°äººå‘˜çš„åˆ†ç±»ä¿¡æ¯ã€‚å¯èƒ½ä½ ç”±è¦é—®äº†ï¼Œè¿™å’Œæˆ‘ä»¬ä¸€èˆ¬å®šä¹‰çš„ç±»æœ‰ç¥ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåˆæœ‰ä»€ä¹ˆå¸å¼•äººçš„åœ°æ–¹å‘¢ï¼Ÿå¦‚ä¸‹æ‰€ç¤ºï¼š 1.æé«˜å°è£…æ€§ï¼šä»ä»£ç çš„ä½ç½®ä¸Šæ¥è®²ï¼Œé™æ€å†…éƒ¨ç±»æ”¾ç½®åœ¨å¤–éƒ¨ç±»å†…ï¼Œå…¶ä»£ç å±‚æ„ä¹‰å°±æ˜¯ï¼Œé™æ€å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»çš„å­è¡Œä¸ºæˆ–å­å±æ€§ï¼Œä¸¤è€…ä¹‹é—´ä¿æŒç€ä¸€å®šçš„å…³ç³»ï¼Œæ¯”å¦‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œçœ‹åˆ°Homeç±»å°±çŸ¥é“å®ƒæ˜¯Personçš„homeä¿¡æ¯ã€‚ 2.æé«˜ä»£ç çš„å¯è¯»æ€§ï¼šç›¸å…³è”çš„ä»£ç æ”¾åœ¨ä¸€èµ·ï¼Œå¯è¯»æ€§è‚¯å®šæé«˜äº†ã€‚ 3.å½¢ä¼¼å†…éƒ¨ï¼Œç¥ä¼¼å¤–éƒ¨ï¼šé™æ€å†…éƒ¨ç±»è™½ç„¶å­˜åœ¨äºå¤–éƒ¨ç±»å†…ï¼Œè€Œä¸”ç¼–è¯‘åçš„ç±»æ–‡ä»¶ä¹ŸåŒ…å«å¤–éƒ¨ç±»(æ ¼å¼æ˜¯ï¼šå¤–éƒ¨ç±»+$+å†…éƒ¨ç±»)ï¼Œä½†æ˜¯å®ƒå¯ä»¥è„±ç¦»å¤–éƒ¨ç±»å­˜åœ¨ï¼Œä¹Ÿå°±è¯´æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡new Home()å£°æ˜ä¸€ä¸ªhomeå¯¹è±¡ï¼Œåªæ˜¯éœ€è¦å¯¼å…¥â€Person.Homeâ€è€Œå·²ã€‚ è§£é‡Šäº†è¿™ä¹ˆå¤šï¼Œå¤§å®¶å¯èƒ½ä¼šè§‰å¾—å¤–éƒ¨ç±»å’Œé™æ€å†…éƒ¨ç±»ä¹‹é—´æ˜¯ç»„åˆå…³ç³»(Composition)äº†ï¼Œè¿™æ˜¯é”™è¯¯çš„ï¼Œå¤–éƒ¨ç±»å’Œé™æ€å†…éƒ¨ç±»ä¹‹é—´æœ‰å¼ºå…³è”å…³ç³»ï¼Œè¿™ä»…ä»…è¡¨ç°åœ¨â€å­—é¢ä¸Šâ€ï¼Œè€Œæ·±å±‚æ¬¡çš„æŠ½è±¡æ„ä¹‰åˆ™ä¾ç±»çš„è®¾è®¡. é‚£é™æ€ç±»å†…éƒ¨ç±»å’Œæ™®é€šå†…éƒ¨ç±»æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä¸‹é¢å°±æ¥è¯´æ˜ä¸€ä¸‹ï¼š é™æ€å†…éƒ¨ç±»ä¸æŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼šåœ¨æ™®é€šå†…éƒ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å±æ€§ã€æ–¹æ³•ï¼Œå³ä½¿æ˜¯privateç±»å‹ä¹Ÿå¯ä»¥è®¿é—®ï¼Œè¿™æ˜¯å› ä¸ºå†…éƒ¨ç±»æŒæœ‰ä¸€ä¸ªå¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œå¯ä»¥è‡ªç”±è®¿é—®ã€‚è€Œé™æ€å†…éƒ¨ç±»ï¼Œåˆ™åªå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æ–¹æ³•å’Œé™æ€å±æ€§(å¦‚æœæ˜¯privateæƒé™ä¹Ÿèƒ½è®¿é—®ï¼Œè¿™æ˜¯ç”±å…¶ä»£ç ä½ç½®å†³å®šçš„)ï¼Œå…¶å®ƒçš„åˆ™ä¸èƒ½è®¿é—®ã€‚ é™æ€å†…éƒ¨ç±»ä¸ä¾èµ–å¤–éƒ¨ç±»ï¼šæ™®é€šå†…éƒ¨ç±»ä¸å¤–éƒ¨ç±»ä¹‹é—´æ˜¯ç›¸äº’ä¾èµ–å…³ç³»ï¼Œå†…éƒ¨ç±»å®ä¾‹ä¸èƒ½è„±ç¦»å¤–éƒ¨ç±»å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬ä¼šåŒç”Ÿå…±æ­»ï¼Œä¸€èµ·å£°æ˜ï¼Œä¸€èµ·è¢«åƒåœ¾å›æ”¶ï¼Œè€Œé™æ€å†…éƒ¨ç±»æ˜¯å¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„ï¼Œå³ä½¿å¤–éƒ¨ç±»æ¶ˆäº¡äº†ï¼Œé™æ€å†…éƒ¨ç±»ä¹Ÿæ˜¯å¯ä»¥å­˜åœ¨çš„ã€‚ æ™®é€šå†…éƒ¨ç±»ä¸èƒ½å£°æ˜staticçš„æ–¹æ³•å’Œå˜é‡ï¼šæ™®é€šå†…éƒ¨ç±»ä¸èƒ½å£°æ˜staticçš„æ–¹æ³•å’Œå˜é‡ï¼Œæ³¨æ„è¿™é‡Œè¯´çš„æ˜¯å˜é‡ï¼Œå¸¸é‡(ä¹Ÿå°±æ˜¯final static ä¿®é¥°çš„å±æ€§)è¿˜æ˜¯å¯ä»¥çš„ï¼Œè€Œé™æ€å†…éƒ¨ç±»å½¢ä¼¼å¤–éƒ¨ç±»ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚ å»ºè®®39ï¼šä½¿ç”¨åŒ¿åç±»çš„æ„é€ å‡½æ•°é˜…è¯»å¦‚ä¸‹ä»£ç ï¼Œçœ‹ä¸Šæ˜¯å¦å¯ä»¥ç¼–è¯‘ï¼š public static void main(String[] args) { List list1=new ArrayList(); List list2=new ArrayList(){}; List list3=new ArrayList(){{}}; System.out.println(list1.getClass() == list2.getClass()); System.out.println(list2.getClass() == list3.getClass()); System.out.println(list1.getClass() == list3.getClass()); } æ³¨æ„ArrayListåé¢çš„ä¸é€šç‚¹ï¼šlist1å˜é‡åé¢ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œlist2åé¢æœ‰ä¸€å¯¹{},list3åé¢æœ‰ä¸¤ä¸ªåµŒå¥—çš„{},è¿™æ®µç¨‹åºèƒ½å¦ç¼–è¯‘å‘¢ï¼Ÿè‹¥èƒ½ç¼–è¯‘ï¼Œé‚£è¾“ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯èƒ½ç¼–è¯‘ï¼Œè¾“å‡ºçš„æ˜¯3ä¸ªfalseã€‚list1å¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯ç”Ÿå‘½äº†ArrayListçš„å®ä¾‹å¯¹è±¡ï¼Œé‚£list2å’Œlist3ä»£è¡¨çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ (1)ã€list2 = new ArrayList(){}ï¼šlist2ä»£è¡¨çš„æ˜¯ä¸€ä¸ªåŒ¿åç±»çš„å£°æ˜å’Œèµ‹å€¼ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç»§æ‰¿äºArrayListçš„åŒ¿åç±»ï¼Œåªæ˜¯æ²¡æœ‰ä»»ä½•è¦†å†™çš„æ–¹æ³•è€Œå·²ï¼Œå…¶ä»£ç ç±»ä¼¼äºï¼š // å®šä¹‰ä¸€ä¸ªç»§æ‰¿ArrayListçš„å†…éƒ¨ç±» class Sub extends ArrayList { } // å£°æ˜å’Œèµ‹å€¼ List list2 = new Sub(); (2)ã€list3 = new ArrayList(){ {} }ï¼šè¿™ä¸ªè¯­å¥å°±æœ‰ç‚¹å¥‡æ€ªäº†ï¼Œå¸¦äº†ä¸¤å¯¹{}ï¼Œæˆ‘ä»¬åˆ†å¼€è§£é‡Šå°±æ˜ç™½äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªåŒ¿åç±»çš„å®šä¹‰ï¼Œå®ƒçš„ä»£ç ç±»ä¼¼äºï¼š // å®šä¹‰ä¸€ä¸ªç»§æ‰¿ArrayListçš„å†…éƒ¨ç±» class Sub extends ArrayList { { //åˆå§‹åŒ–ä»£ç å— } } // å£°æ˜å’Œèµ‹å€¼ List list3 = new Sub(); çœ‹åˆ°äº†å§ï¼Œå°±æ˜¯å¤šäº†ä¸€ä¸ªåˆå§‹åŒ–å—è€Œå·²ï¼Œèµ·åˆ°æ„é€ å‡½æ•°çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªç±»è‚¯å®šæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè€Œä¸”æ„é€ å‡½æ•°çš„åç§°å’Œç±»åç›¸åŒï¼Œé‚£é—®é¢˜æ¥äº†ï¼šåŒ¿åç±»çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ²¡æœ‰åå­—å‘€ï¼å¾ˆæ˜¾ç„¶ï¼Œåˆå§‹åŒ–å—å°±æ˜¯å®ƒçš„æ„é€ å‡½æ•°ã€‚å½“ç„¶ï¼Œä¸€ä¸ªç±»ä¸­çš„æ„é€ å‡½æ•°å—å¯ä»¥æ˜¯å¤šä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šå‡ºç°å¦‚ä¸‹ä»£ç ï¼š List list4 = new ArrayList(){{} {} {} {} {}}; ä¸Šé¢çš„ä»£ç æ˜¯æ­£ç¡®æ— è¯¯ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œç°åœ¨æ¸…æ¥šäº†ï¼ŒåŒ¿åç±»è™½ç„¶æ²¡æœ‰åå­—ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥æœ‰æ„é€ å‡½æ•°çš„ï¼Œå®ƒç”¨æ„é€ å‡½æ•°å—æ¥ä»£æ›¿æ„é€ å‡½æ•°ï¼Œé‚£ä¸Šé¢çš„3ä¸ªè¾“å‡ºå°±å¾ˆæ˜æ˜¾äº†ï¼šè™½ç„¶çˆ¶ç±»ç›¸åŒï¼Œä½†æ˜¯ç±»è¿˜æ˜¯ä¸åŒçš„ã€‚ å»ºè®®45ï¼šè¦†å†™equalsæ–¹æ³•æ—¶ä¸è¦è¯†åˆ«ä¸å‡ºè‡ªå·±æˆ‘ä»¬åœ¨å†™ä¸€ä¸ªJavaBeanæ—¶ï¼Œç»å¸¸ä¼šè¦†å†™equalsæ–¹æ³•ï¼Œå…¶ç›®çš„æ˜¯æ ¹æ®ä¸šåŠ¡è§„åˆ™åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œæ¯”å¦‚æˆ‘ä»¬å†™ä¸€ä¸ªPersonç±»ï¼Œç„¶åæ ¹æ®å§“ååˆ¤æ–­ä¸¤ä¸ªå®ä¾‹å¯¹è±¡æ˜¯å¦ç›¸åŒæ—¶ï¼Œè¿™åœ¨DAOï¼ˆData Access Objectsï¼‰å±‚æ˜¯ç»å¸¸ç”¨åˆ°çš„ã€‚å…·ä½“æ“ä½œæ—¶å…ˆä»æ•°æ®åº“ä¸­è·å¾—ä¸¤ä¸ªDTO(Data Transfer Object,æ•°æ®ä¼ è¾“å¯¹è±¡)ï¼Œç„¶ååˆ¤æ–­ä»–ä»¬æ˜¯å¦ç›¸ç­‰çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š public class Person { private String name; public Person(String _name) { name = _name; } public String getName() { return name; } public void setName(String name) { this.name = name; } @Override public boolean equals(Object obj) { if(obj instanceof Person){ Person p = (Person) obj; return name.equalsIgnoreCase(p.getName().trim()); } return false; } } è¦†å†™çš„equalsæ–¹æ³•åšäº†å¤šä¸ªæ ¡éªŒï¼Œè€ƒè™‘åˆ°Webä¸Šä¼ é€’è¿‡æ¥çš„å¯¹è±¡æœ‰å¯èƒ½è¾“å…¥äº†å‰åç©ºæ ¼ï¼Œæ‰€ä»¥ç”¨trimæ–¹æ³•å‰ªåˆ‡äº†ä¸€ä¸‹ï¼Œçœ‹çœ‹ä»£ç æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªmainï¼š public static void main(String[] args) { Person p1= new Person(\"å¼ ä¸‰\"); Person p2= new Person(\"å¼ ä¸‰ \"); List&lt;Person> list= new ArrayList&lt;Person>(); list.add(p1); list.add(p2); System.out.println(\"åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«å¼ ä¸‰ï¼š\"+list.contains(p1)); System.out.println(\"åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«å¼ ä¸‰ï¼š\"+list.contains(p2)); } ä¸Šé¢çš„ä»£ç äº§ç”Ÿäº†ä¸¤ä¸ªPersonå¯¹è±¡(æ³¨æ„p2å˜é‡ä¸­çš„é‚£ä¸ªå¼ ä¸‰åé¢æœ‰ä¸€ä¸ªç©ºæ ¼)ï¼Œç„¶åæ”¾åˆ°listä¸­ï¼Œæœ€ååˆ¤æ–­listæ˜¯å¦åŒ…å«äº†è¿™ä¸¤ä¸ªå¯¹è±¡ã€‚çœ‹ä¸Šå»æ²¡æœ‰é—®é¢˜ï¼Œåº”è¯¥æ‰“å°å‡ºä¸¤ä¸ªtrueæ‰å¯¹ï¼Œä½†æ˜¯ç»“æœå´æ˜¯ï¼š åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«å¼ ä¸‰ï¼štrue åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«å¼ ä¸‰ï¼šfalse åˆšåˆšæ”¾åˆ°listä¸­çš„å¯¹è±¡ç«Ÿç„¶è¯´æ²¡æœ‰ï¼Œè¿™å¤ªè®©äººå¤±æœ›äº†ï¼ŒåŸå› ä½•åœ¨å‘¢ï¼Ÿlistç±»æ£€æŸ¥æ˜¯å¦åŒ…å«å…ƒç´ æ—¶æ—¶é€šè¿‡è°ƒç”¨å¯¹è±¡çš„equalsæ–¹æ³•æ¥åˆ¤æ–­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ contains(p2)ä¼ é€’è¿›å»ï¼Œä¼šä¾æ¬¡æ‰§è¡Œp2.equals(p1),p2.equals(p2),åªæœ‰ä¸€ä¸ªè¿”å›trueï¼Œç»“æœéƒ½æ˜¯trueï¼Œå¯æƒœ çš„æ˜¯æ¯”è¾ƒç»“æœéƒ½æ˜¯falseï¼Œé‚£é—®é¢˜å‡ºæ¥äº†ï¼šéš¾é“ p2.equals(p2)å› ä¸ºfalseä¸æˆï¼Ÿ è¿˜çœŸè¯´å¯¹äº†ï¼Œp2.equals(p2)ç¡®å®æ˜¯falseï¼Œçœ‹çœ‹æˆ‘ä»¬çš„equalsæ–¹æ³•ï¼Œå®ƒæŠŠç¬¬äºŒä¸ªå‚æ•°è¿›è¡Œäº†å‰ªåˆ‡ï¼ä¹Ÿå°±æ˜¯è¯´æ¯”è¾ƒçš„å¦‚ä¸‹ç­‰å¼ï¼š &quot;å¼ ä¸‰ &quot;.equalsIgnoreCase(&quot;å¼ ä¸‰&quot;); æ³¨æ„å‰é¢çš„é‚£ä¸ªå¼ ä¸‰ï¼Œæ˜¯æœ‰ç©ºæ ¼çš„ï¼Œé‚£ç»“æœè‚¯å®šæ˜¯falseäº†ï¼Œé”™è¯¯ä¹Ÿå°±æ­¤äº§ç”Ÿäº†ï¼Œè¿™æ˜¯ä¸€ä¸ªæƒ³åšå¥½äº‹å´åŠæˆäº† â€œåäº‹â€ çš„å…¸å‹æ¡ˆä¾‹ï¼Œå®ƒè¿èƒŒäº†equlasæ–¹æ³•çš„è‡ªåæ€§åŸåˆ™ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨xï¼Œx.equals(x)åº”è¯¥è¿”å›trueï¼Œé—®é¢˜ç›´åˆ°äº†ï¼Œè§£å†³éå¸¸ç®€å•ï¼Œåªè¦æŠŠtrim()å»æ‰å³å¯ã€‚æ³¨æ„è§£å†³çš„åªæ˜¯å½“å‰é—®é¢˜ï¼Œè¯¥equalsæ–¹æ³•è¿˜å­˜åœ¨å…¶å®ƒé—®é¢˜ã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxz_javawebåˆ†äº«è‡ªå·±çš„Java Webå­¦ä¹ ä¹‹è·¯ä»¥åŠå„ç§Javaå­¦ä¹ èµ„æ–™","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Javaè¿›é˜¶","slug":"å­¦ä¹ ç¬”è®°/Javaè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E8%BF%9B%E9%98%B6/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"author":"æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„"},{"title":"ã€ç¿»è¯‘ã€‘çº¿ç¨‹å’Œè¿›ç¨‹åŸºç¡€","slug":"ã€ç¿»è¯‘ã€‘çº¿ç¨‹å’Œè¿›ç¨‹åŸºç¡€","date":"2017-11-06T01:48:00.000Z","updated":"2020-08-03T07:47:11.932Z","comments":true,"path":"2017/11/06/fan-yi-xian-cheng-he-jin-cheng-ji-chu/","link":"","permalink":"http://www.wmyskxz.com/2017/11/06/fan-yi-xian-cheng-he-jin-cheng-ji-chu/","excerpt":"","text":"å‰è¨€ æ‰€æœ‰çš„å†…å®¹å‡æ¥è‡ªï¼šhttp://www.qnx.com/developers/docs/6.4.1/neutrino/getting_started/s1_procs.htmlè¿™æ˜¯ä¸€ç¯‡å¾ˆæ£’çš„ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹çš„æ–‡ç« ï¼Œæœ¬æ–‡å±äºè‡ªå·±æ„Ÿå…´è¶£ç¿»è¯‘è¿‡æ¥çš„æ–‡ç« ï¼Œæœ‰å…´è¶£çš„è¯»è€…ä¹Ÿå¯ä»¥å»æ‹œè¯»ä¸€ä¸‹åŸæ–‡ã€‚ è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€åœ¨æˆ‘ä»¬å¼€å§‹è®¨è®ºçº¿ç¨‹ï¼Œè¿›ç¨‹ï¼Œæ—¶é—´ç‰‡ä»¥åŠå„ç§ç¥å¥‡çš„â€œè°ƒåº¦æœºåˆ¶â€ä¹‹å‰ï¼Œå…ˆæ¥å»ºç«‹ä¸€ä¸ªç±»æ¯”ã€‚ æˆ‘é¦–å…ˆè¦åšçš„å°±æ˜¯è¯´æ˜çº¿ç¨‹å’Œè¿›ç¨‹æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æˆ‘èƒ½æƒ³åˆ°çš„æœ€å¥½çš„æ–¹å¼ï¼ˆä¸æ¶‰åŠå®æ—¶ç³»ç»Ÿçš„è®¾è®¡ï¼‰å°±æ˜¯æŠŠçº¿ç¨‹å’Œè¿›ç¨‹æƒ³è±¡æˆä¸€äº›å®é™…çš„æƒ…å½¢ã€‚ è¿›ç¨‹å°±åƒæ˜¯ä¸€ä¸ªæˆ¿å­è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªå¸¸è§„çš„ã€æ—¥å¸¸çš„ç‰©å“æ¥æ¨¡æ‹Ÿè¿›ç¨‹å’Œçº¿ç¨‹â€”â€”æˆ¿å­ã€‚ æˆ¿å­å®é™…ä¸Šæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå…·æœ‰ä¸€å®šçš„å±æ€§ï¼ˆä¾‹å¦‚æ¥¼é¢é¢ç§¯ï¼Œæˆ¿é—´æ•°ç›®ç­‰ç­‰ï¼‰ã€‚ å¦‚æœä½ èƒ½è¿™æ ·çœ‹å¾…ï¼Œé‚£ä¹ˆä½ å°±ä¼šå‘ç°æˆ¿å­ä¸ä¼šè‡ªå·±ä¸»åŠ¨å»åšä»»ä½•äº‹â€”â€”å®ƒåªæ˜¯ä¸€ä¸ªè¢«åŠ¨çš„ç‰©ä½“ã€‚è¿™å°±æ˜¯è¿›ç¨‹å®é™…ä¸Šæ‰€æ‹…ä»»çš„è§’è‰²ã€‚æˆ‘ä»¬å¾…ä¼šå„¿ä¼šè®¨è®ºåˆ°ã€‚ çº¿ç¨‹å°±åƒå±…ä½è€…ä½åœ¨æˆ¿å­é‡Œçš„äººä»¬æ˜¯æ´»è·ƒçš„å¯¹è±¡â€”â€”ä»–ä»¬ä½¿ç”¨ä¸åŒçš„æˆ¿é—´ï¼Œçœ‹ç”µè§†ï¼Œåšé¥­ï¼Œæ´—æ¾¡ç­‰ç­‰ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå‘ç°è¿™å°±æ˜¯çº¿ç¨‹çš„è¡Œä¸ºæ¨¡å¼ã€‚ å•çº¿ç¨‹å¦‚æœä½ æ›¾ç»ä¸€ä¸ªäººç”Ÿæ´»è¿‡ï¼Œé‚£ä¹ˆä½ å°±ä¼šçŸ¥é“è¿™æ˜¯ä¸€ç§ä»€ä¹ˆæ„Ÿè§‰â€”â€”ä½ çŸ¥é“ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åœ¨å®¶é‡Œåšä»»ä½•ä½ æƒ³åšçš„äº‹ï¼Œå› ä¸ºæˆ¿å­é‡Œæ²¡æœ‰å…¶ä»–äººã€‚å¦‚æœä½ æƒ³æ‰“å¼€ç«‹ä½“å£°éŸ³å“ï¼Œä½¿ç”¨æ´—æ‰‹é—´ï¼Œåƒæ™šé¤ï¼Œéšä¾¿ä½ ï¼Œä½ åªè¦ç»§ç»­åšå°±è¡Œäº†ã€‚ å¤šçº¿ç¨‹å½“ä½ æŠŠå¦ä¸€ä¸ªäººåŠ å…¥æˆ¿å­æ—¶ï¼Œäº‹æƒ…ä¼šå‘ç”Ÿæˆå‰§æ€§çš„å˜åŒ–ã€‚å‡è®¾ä½ ç»“å©šäº†ï¼Œæ‰€ä»¥ç°åœ¨ä½ çš„é…å¶ä¹Ÿä½åœ¨é‚£é‡Œã€‚ä½ ä¸èƒ½åœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´è¿›å…¥æ´—æ‰‹é—´ï¼Œä½ éœ€è¦å…ˆæ£€æŸ¥ä¸€ä¸‹ï¼Œç¡®ä¿ä½ çš„é…å¶ä¸åœ¨é‡Œé¢ï¼ å¦‚æœä½ æœ‰ä¸¤ä¸ªè´Ÿè´£ä»»çš„æˆå¹´äººä½åœ¨ä¸€æ‰€æˆ¿å­é‡Œï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½ å¯èƒ½ä¼šå¯¹â€œå®‰å…¨â€ç›¸å½“æ¾æ‡ˆ-å› ä¸ºä½ çŸ¥é“å¦ä¸€ä¸ªå¤§äººä¼šå°Šé‡ä½ çš„ç©ºé—´ï¼Œä¸ä¼šè¯•å›¾æ”¾ç«çƒ§å¨æˆ¿(æ•…æ„ï¼)ç­‰ç­‰ã€‚ ç°åœ¨ï¼ŒæŠŠå‡ ä¸ªå­©å­æ‰”åˆ°ä¸€èµ·ï¼Œçªç„¶ä¹‹é—´äº‹æƒ…å˜å¾—æœ‰è¶£å¤šäº†ã€‚ å›åˆ°è¿›ç¨‹å’Œçº¿ç¨‹å°±åƒæˆ¿å­å æ®äº†æˆ¿åœ°äº§çš„ä¸€éƒ¨åˆ†ä¸€æ ·ï¼Œè¿›ç¨‹ä¹Ÿä¼šå æ®ä¸€å®šçš„å†…å­˜ã€‚å°±åƒæˆ¿å­çš„ä½æˆ·å¯ä»¥è‡ªç”±è¿›å…¥ä»»ä½•ä»–ä»¬æƒ³è¦çš„æˆ¿é—´ä¸€æ ·ï¼Œä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®è¿™ä¸ªå†…å­˜ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹åˆ†é…äº†ä¸€äº›ä¸œè¥¿(å¦ˆå¦ˆå‡ºå»ä¹°äº†ä¸€ä¸ªæ¸¸æˆ)ï¼Œæ‰€æœ‰å…¶ä»–çš„çº¿ç¨‹éƒ½èƒ½ç«‹å³è®¿é—®å®ƒ(å› ä¸ºå®ƒå­˜åœ¨äºå…¬å…±åœ°å€ç©ºé—´-å®ƒåœ¨æˆ¿å­é‡Œ)ã€‚åŒæ ·ï¼Œå¦‚æœè¿›ç¨‹åˆ†é…å†…å­˜ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°å†…å­˜ä¹Ÿå¯ä»¥ç”¨äºæ‰€æœ‰çº¿ç¨‹ã€‚è¿™é‡Œçš„æŠ€å·§æ˜¯ï¼Œç¡®è®¤å†…å­˜æ˜¯å¦åº”è¯¥å¯¹è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½å¯ç”¨ã€‚å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦è®©æ‰€æœ‰çº¿ç¨‹åŒæ­¥å®ƒä»¬å¯¹å®ƒçš„è®¿é—®ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å‡è®¾å®ƒæ˜¯ç‰¹å®šäºç‰¹å®šçº¿ç¨‹çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå› ä¸ºåªæœ‰è¯¥çº¿ç¨‹æ‰èƒ½è®¿é—®å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡å®šä¸éœ€è¦åŒæ­¥-çº¿ç¨‹ä¸ä¼šè‡ªè¡Œå¯åŠ¨ï¼ æ­£å¦‚æˆ‘ä»¬ä»æ—¥å¸¸ç”Ÿæ´»ä¸­æ‰€çŸ¥é“çš„ï¼Œäº‹æƒ…å¹¶ä¸é‚£ä¹ˆç®€å•ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†åŸºæœ¬ç‰¹æ€§(è¦ç‚¹ï¼šæ‰€æœ‰å†…å®¹éƒ½æ˜¯å…±äº«çš„)ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹äº‹æƒ…å˜å¾—æ›´æœ‰è¶£çš„åœ°æ–¹ï¼Œä»¥åŠä¸ºä»€ä¹ˆã€‚ ä¸‹å›¾æ˜¾ç¤ºäº†æˆ‘ä»¬å°†ä»£è¡¨çº¿ç¨‹å’Œè¿›ç¨‹çš„æ–¹å¼ã€‚è¿›ç¨‹æ˜¯åœ†ï¼Œè¡¨ç¤ºâ€œå®¹å™¨â€æ¦‚å¿µ(åœ°å€ç©ºé—´)ï¼Œä¸‰ä¸ªsquigley linesï¼ˆä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼‰æ˜¯çº¿ç¨‹ã€‚ä½ ä¼šåœ¨ä¹¦ä¸­çœ‹åˆ°è¿™æ ·çš„å›¾è¡¨ã€‚ ç›¸äº’æ’æ–¥å¦‚æœä½ æƒ³æ´—ä¸ªæ¾¡ï¼Œè€Œä¸”æœ‰äººå·²ç»åœ¨ç”¨æµ´å®¤ï¼Œä½ å°±å¾—ç­‰ç€ã€‚çº¿ç¨‹æ˜¯å¦‚ä½•å¤„ç†è¿™ä¸ªçš„ï¼Ÿ å®ƒç”¨çš„æ˜¯ä¸€ç§å«åšäº’æ–¥çš„æ“ä½œã€‚å®ƒå‡ ä¹æ„å‘³ç€ä½ æ‰€æƒ³çš„-å½“æ¶‰åŠåˆ°ç‰¹å®šçš„èµ„æºæ—¶ï¼Œè®¸å¤šçº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚ å¦‚æœä½ æ­£åœ¨æ´—æ¾¡ï¼Œä½ æƒ³è¦ç‹¬å æµ´å®¤ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ é€šå¸¸ä¼šè¿›å…¥æµ´å®¤å¹¶æŠŠé—¨ä»é‡Œé¢é”èµ·æ¥ã€‚ä»»ä½•æƒ³ä½¿ç”¨æµ´å®¤çš„äººéƒ½ä¼šè¢«é”ä¸Šçš„ã€‚å½“ä½ å®Œæˆä»»åŠ¡æ—¶ï¼Œä½ ä¼šæ‰“å¼€é—¨ï¼Œè®©å…¶ä»–äººè¿›å…¥ã€‚ è¿™å°±æ˜¯çº¿ç¨‹æ‰€åšçš„ã€‚çº¿ç¨‹ä½¿ç”¨ä¸€ä¸ªåä¸ºäº’æ–¥çš„å¯¹è±¡(ç›¸äº’æ’æ–¥çš„ç¼©å†™)ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒé—¨ä¸Šçš„é”-ä¸€æ—¦çº¿ç¨‹æ‹¥æœ‰äº’æ–¥é”ï¼Œæ²¡æœ‰å…¶ä»–çº¿ç¨‹å¯ä»¥è·å¾—äº’æ–¥é”ï¼Œç›´åˆ°æ‹¥æœ‰çš„çº¿ç¨‹é‡Šæ”¾(è§£é”)å®ƒã€‚å°±åƒé—¨é”ä¸€æ ·ï¼Œç­‰å¾…è·å¾—äº’æ–¥é”çš„çº¿ç¨‹å°†è¢«ç¦æ­¢ã€‚ äº’æ–¥é”å’Œé—¨é”çš„å¦ä¸€ä¸ªæœ‰è¶£çš„ç›¸åŒç‚¹æ˜¯äº’æ–¥é”å®é™…ä¸Šæ˜¯ä¸€ä¸ªâ€œå’¨è¯¢â€é”ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹ä¸ç¬¦åˆä½¿ç”¨äº’æ–¥é”çš„çº¦å®šï¼Œé‚£ä¹ˆä¿æŠ¤å°±æ²¡æœ‰ç”¨äº†ã€‚åœ¨æˆ‘ä»¬çš„æˆ¿å­æ¯”å–»ä¸­ï¼Œè¿™å°±åƒæœ‰äººé€šè¿‡å¢™å£é—¯è¿›å•æ‰€ï¼Œæ— è§†äº†é—¨å’Œé”çš„çº¦å®šã€‚ ä¼˜å…ˆçº§å¦‚æœæµ´å®¤ç°åœ¨é”ç€ï¼Œæœ‰è®¸å¤šäººåœ¨ç­‰ç€ä½¿ç”¨å®ƒï¼Œé‚£è¯¥æ€ä¹ˆåšï¼Ÿæ˜¾ç„¶ï¼Œæ‰€æœ‰çš„äººéƒ½ååœ¨å¤–é¢ï¼Œç­‰ç€åœ¨æµ´å®¤é‡Œçš„äººå‡ºå»ã€‚çœŸæ­£çš„é—®é¢˜æ˜¯ï¼Œâ€œå½“é—¨æ‰“å¼€æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿè°èƒ½ä¸‹ä¸€ä¸ªè¿›å…¥ï¼Ÿâ€œ ä½ ä¼šè®¤ä¸ºï¼Œè®©ç­‰äº†æœ€é•¿çš„æ—¶é—´å¾—é‚£ä¸ªæˆä¸ºä¸‹ä¸€ä¸ªæ˜¯â€œå…¬å¹³çš„â€ã€‚æˆ–è€…ï¼Œè®©æœ€å¹´é•¿çš„äººæˆä¸ºä¸‹ä¸€ä¸ªæ˜¯â€œå…¬å¹³â€çš„ã€‚æˆ–è€…æœ€é«˜çš„ã€‚æˆ–è€…æœ€é‡è¦çš„ã€‚æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥ç¡®å®šä»€ä¹ˆæ˜¯â€œå…¬å¹³â€ã€‚ æˆ‘ä»¬é€šè¿‡çº¿ç¨‹çš„ä¸¤ä¸ªå› ç´ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šä¼˜å…ˆçº§å’Œç­‰å¾…é•¿åº¦ã€‚ å‡è®¾ä¸¤ä¸ªäººåŒæ—¶å‡ºç°åœ¨(ä¸Šé”çš„)å«ç”Ÿé—´çš„é—¨å‰ã€‚å…¶ä¸­ä¸€äººæœ‰ä¸€ä¸ªç´§è¿«çš„äº‹æƒ…(ä»–ä»¬å¼€ä¼šå·²ç»å¾ˆæ™šäº†)ï¼Œè€Œå¦ä¸€ä¸ªå´æ²¡æœ‰ã€‚è®©é‚£ä¸ªæ—¶é—´ç´§è¿«çš„äººä¸‹ä¸€æ¬¡è¿›å»ï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰é“ç†å‘¢ï¼Ÿå½“ç„¶ä¼šäº†ã€‚å”¯ä¸€çš„é—®é¢˜æ˜¯ä½ å¦‚ä½•å†³å®šè°æ›´â€œé‡è¦â€ã€‚è¿™å¯ä»¥é€šè¿‡åˆ†é…ä¼˜å…ˆçº§æ¥å®Œæˆ(è®©æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåƒä¸­å¾®å­ï¼ˆNeutrinoï¼‰è¿™æ ·çš„æ•°å­—ï¼Œæ˜¯æœ€ä½çš„å¯ç”¨ä¼˜å…ˆçº§ï¼Œ255æ˜¯è¿™ä¸ªç‰ˆæœ¬ä¸­çš„æœ€é«˜å€¼)ã€‚æˆ¿å­é‡Œæœ‰ç´§è¿«äº‹æƒ…çš„äººå°†è¢«ç»™äºˆæ›´é«˜çš„ä¼˜å…ˆæƒï¼Œè€Œé‚£äº›ä¸è¢«ä¼˜å…ˆè€ƒè™‘çš„äººå°†è¢«ç»™äºˆè¾ƒä½çš„ä¼˜å…ˆæƒã€‚ å’Œçº¿ç¨‹ä¸€æ ·ã€‚çº¿ç¨‹ç»§æ‰¿å…¶çˆ¶çº¿ç¨‹çš„è°ƒåº¦ç®—æ³•ï¼Œä½†å¯ä»¥è°ƒç”¨pthread_setschedparam()æ¥æ›´æ”¹å…¶è°ƒåº¦ç­–ç•¥å’Œä¼˜å…ˆçº§(å¦‚æœå®ƒæœ‰æƒé™è¿™æ ·åš)ã€‚ å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œå¹¶ä¸”äº’æ–¥é”è¢«è§£é”ï¼Œæˆ‘ä»¬å°†æŠŠäº’æ–¥é”ç»™äºˆç­‰å¾…çº¿ç¨‹ä¸­æœ€é«˜ä¼˜å…ˆçº§çš„é‚£ä¸ªã€‚ä½†æ˜¯ï¼Œå‡è®¾ä¸¤ä¸ªäººéƒ½å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ã€‚ç°åœ¨ä½ è¦åšä»€ä¹ˆï¼Ÿå¥½å§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®©ç­‰å¾…æœ€é•¿çš„äººä¸‹ä¸€ä¸ªæˆ–è®¸æ˜¯â€œå…¬å¹³çš„â€ã€‚è¿™ä¸ä»…æ˜¯â€œå…¬å¹³çš„â€ï¼Œè€Œä¸”ä¹Ÿæ˜¯åœ¨å†…æ ¸æ‰€åšçš„ã€‚åœ¨ä¸€å †çº¿ç¨‹ç­‰å¾…çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é¦–å…ˆæ˜¯æŒ‰ä¼˜å…ˆçº§ç­‰çº§æ¥å†³å®šï¼Œå…¶æ¬¡æ˜¯ç­‰å¾…é•¿åº¦ã€‚ äº’æ–¥é‡è‚¯å®šä¸æ˜¯æˆ‘ä»¬å°†é‡åˆ°çš„å”¯ä¸€çš„åŒæ­¥å¯¹è±¡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä»–çš„ã€‚ ä¿¡å·é‡è®©æˆ‘ä»¬ä»æµ´å®¤æ¬åˆ°å¨æˆ¿ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªåœ¨ç¤¾ä¼šä¸Šå¯ä»¥æ¥å—åŒæ—¶å®¹çº³ä¸€ä¸ªäººä»¥ä¸Šçš„åœ°ç‚¹ã€‚åœ¨å¨æˆ¿é‡Œï¼Œä½ å¯èƒ½ä¸æƒ³è®©æ¯ä¸ªäººéƒ½åœ¨é‡Œé¢ã€‚äº‹å®ä¸Šï¼Œä½ å¯èƒ½æƒ³è¦é™åˆ¶ä½ çš„å¨æˆ¿é‡Œæ‰€èƒ½å®¹çº³çš„äººæ•°(å¤ªå¤šçš„å¨å¸ˆï¼Œç­‰ç­‰)ã€‚ å‡è®¾ä½ ä¸æƒ³åŒæ—¶æ‹¥æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„äººã€‚ä½ èƒ½ç”¨äº’æ–¥ä½“æ¥å®ç°å—ï¼Ÿè¿™ä¸æ˜¯æˆ‘ä»¬å®šä¹‰çš„ã€‚ä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬æŠŠå®ƒåˆ†æˆå‡ ä¸ªæ­¥éª¤ã€‚ æ•°é‡ä¸º1çš„ä¿¡å·é‡æµ´å®¤å¯ä»¥æœ‰ä¸¤ç§æƒ…å†µä¸­çš„ä¸€ç§ï¼Œä¸¤ç§çŠ¶æ€ç›¸äº’è”ç³»ï¼ˆwith two states that go hand-in-hand with each otherï¼‰ï¼š é—¨æ²¡æœ‰é”ï¼Œæˆ¿é—´é‡Œæ²¡æœ‰äºº é—¨æ˜¯é”ç€çš„ï¼Œæˆ¿é—´é‡Œæœ‰ä¸€ä¸ªäºº æ²¡æœ‰å…¶ä»–çš„ç»„åˆæ˜¯å¯èƒ½çš„-å½“æˆ¿é—´é‡Œæ²¡äººçš„æ—¶å€™ä¸èƒ½ä¸Šé”(ä¸ç„¶æˆ‘ä»¬æ€ä¹ˆè§£é”ï¼Ÿ)ï¼Œè€Œä¸”å½“æœ‰äººåœ¨æˆ¿é—´é‡Œæ—¶ä¸èƒ½è§£é”(ä»–ä»¬æ€ä¹ˆä¿è¯ä»–ä»¬çš„éšç§ï¼Ÿ)ã€‚è¿™æ˜¯ä¸€ä¸ªä¿¡å·é‡çš„ç¤ºä¾‹ï¼Œå…¶è®¡æ•°ä¸º1-æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªäººåœ¨è¯¥æˆ¿é—´ï¼Œæˆ–è€…ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ä¿¡å·é‡ã€‚ è¿™é‡Œçš„å…³é”®ï¼ˆkeyï¼‰(è¯·åŸè°…åŒå…³è¯­)æ˜¯æˆ‘ä»¬æè¿°é”çš„æ–¹å¼ã€‚åœ¨å…¸å‹çš„æµ´å®¤é”ä¸­ï¼Œä½ å¯ä»¥é”å®šå’Œè§£é”å®ƒåªæœ‰ä»å†…éƒ¨-æ²¡æœ‰å¤–éƒ¨å¯è®¿é—®çš„é’¥åŒ™ã€‚å®é™…ä¸Šï¼Œè¿™æ„å‘³ç€äº’æ–¥å¯¹è±¡çš„æ‰€æœ‰æƒæ˜¯ä¸€ä¸ªåŸå­æ“ä½œ-åœ¨è·å–äº’æ–¥é”çš„è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å¯èƒ½æœ‰å…¶ä»–çº¿ç¨‹å¾—åˆ°å®ƒï¼Œç»“æœæ˜¯ä½ ä¸€ç›´æ‹¥æœ‰äº’æ–¥é”ã€‚åœ¨æˆ‘ä»¬çš„æˆ¿å­æ¯”å–»ä¸­ï¼Œè¿™æ˜¯ä¸å¤ªæ˜æ˜¾çš„ï¼Œå› ä¸ºäººç±»æ¯”è®¡ç®—æœºèªæ˜å¤ªå¤šï¼ˆsmarter than ones and zerosï¼‰ã€‚ æ•°é‡å¤§äº1çš„ä¿¡å·é‡å‡è®¾æˆ‘ä»¬åœ¨å¨æˆ¿å®‰è£…äº†ä¼ ç»Ÿçš„é’¥åŒ™é”ã€‚è¿™ä¸ªé”çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªé’¥åŒ™ï¼Œä½ å¯ä»¥æ‰“å¼€é—¨å¹¶è¿›å…¥ã€‚ä»»ä½•ä½¿ç”¨è¿™ä¸ªé”çš„äººéƒ½åŒæ„ï¼Œå½“ä»–ä»¬è¿›å»æ—¶ï¼Œä»–ä»¬ä¼šç«‹å³æŠŠé—¨ä»é‡Œé¢é”èµ·æ¥ï¼Œè¿™æ ·å¤–é¢çš„äººæ€»æ˜¯éœ€è¦é’¥åŒ™ã€‚ ç°åœ¨ï¼Œæ§åˆ¶æˆ‘ä»¬æƒ³è¦å¤šå°‘äººåœ¨å¨æˆ¿é‡Œ-æŠŠä¸¤ä¸ªé’¥åŒ™æŒ‚åœ¨é—¨å¤–ï¼Œè¿™å°±å˜æˆäº†ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼å¨æˆ¿æ€»æ˜¯é”ç€çš„ã€‚å½“æœ‰äººæƒ³èµ°è¿›å¨æˆ¿æ—¶ï¼Œä»–ä»¬ä¼šå‘ç°é—¨å¤–æœ‰ä¸€æŠŠé’¥åŒ™ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œä»–ä»¬å°±å¸¦ç€å®ƒï¼Œæ‰“å¼€å¨æˆ¿çš„é—¨ï¼Œè¿›å»ï¼Œç”¨é’¥åŒ™é”ä¸Šé—¨ã€‚ å› ä¸ºè¿›å…¥å¨æˆ¿çš„äººåœ¨å¨æˆ¿çš„æ—¶å€™ä¸€å®šè¦å¸¦é’¥åŒ™ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡é™åˆ¶é—¨ä¸Šçš„é’¥åŒ™çš„æ•°é‡æ¥ç›´æ¥æ§åˆ¶è¿›å…¥å¨æˆ¿çš„äººæ•°ã€‚ å¯¹äºçº¿ç¨‹ï¼Œè¿™å°±éœ€è¦é€šè¿‡ä¿¡å·é‡æ¥å®Œæˆäº†ã€‚â€œæ™®é€šâ€ä¿¡å·é‡å°±åƒä¸€ä¸ªäº’æ–¥ä½“ä¸€æ ·å·¥ä½œ-ä½ è¦ä¹ˆæ‹¥æœ‰äº’æ–¥é‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è®¿é—®èµ„æºï¼Œæˆ–è€…ä½ æ²¡æœ‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ²¡æœ‰è®¿é—®æƒé™ã€‚æˆ‘ä»¬åˆšæ‰åœ¨å¨æˆ¿æè¿°çš„ä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°ä¿¡å·ï¼Œå®ƒä¿æŒè®¡æ•°çš„è®°å½•(çº¿ç¨‹æ‰€å…è®¸çš„keysæ•°é‡)ã€‚ äº’æ–¥çš„ä¿¡å·é‡æˆ‘ä»¬åªæ˜¯é—®äº†ä¸€ä¸ªé—®é¢˜â€œä½ èƒ½ç”¨ä¸€ä¸ªäº’æ–¥é‡æ¥åšå—ï¼Ÿâ€å…³äºç”¨è®¡æ•°å®ç°ä¸€ä¸ªé”ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œåè¿‡æ¥å‘¢ï¼Ÿæˆ‘ä»¬èƒ½ç”¨ä¿¡å·é‡ä½œä¸ºäº’æ–¥é‡å—ï¼Ÿ æ˜¯çš„ã€‚äº‹å®ä¸Šï¼Œåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™æ­£æ˜¯ä»–ä»¬æ‰€åšçš„-ä»–ä»¬æ²¡æœ‰äº’æ–¥é”ï¼Œåªæœ‰ä¿¡å·é‡ï¼é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦éº»çƒ¦äº’æ–¥é”å‘¢ï¼Ÿ è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œçœ‹çœ‹ä½ çš„æ´—æ‰‹é—´ã€‚ä½ çš„æˆ¿å­çš„å»ºé€ è€…æ˜¯å¦‚ä½•å®ç°â€œäº’æ–¥â€çš„ï¼Ÿæˆ‘çŒœä½ æ²¡æœ‰æŒ‚åœ¨å¢™ä¸Šçš„é’¥åŒ™ï¼ äº’æ–¥é”ï¼ˆMutexesï¼‰æ˜¯ä¸€ä¸ªâ€œç‰¹æ®Šç”¨é€”â€ä¿¡å·é‡ã€‚å¦‚æœæ‚¨å¸Œæœ›ä¸€ä¸ªçº¿ç¨‹åœ¨ç‰¹å®šçš„ä»£ç æ®µä¸­è¿è¡Œï¼Œé‚£ä¹ˆäº’æ–¥é”æ˜¯è¿„ä»Šä¸ºæ­¢æœ€æœ‰æ•ˆçš„å®ç°ã€‚ ç»“æŸè¯­ è¿™ç¯‡æ–‡ç« çœŸçš„å¯è°“æ˜¯ç”ŸåŠ¨æœ‰è¶£ï¼ŒæŠŠçº¿ç¨‹å’Œè¿›ç¨‹ç”¨äº†ç”Ÿæ´»ä¸­çš„æ¯”å–»æ¥æè¿°ï¼Œå¾ˆæ˜¯æ·±åˆ»ã€‚åŸæ–‡ä¸­çš„æè¿°è™½ç„¶ç®€å•ï¼Œä½†æœ‰äº›å•è¯è¿˜æ˜¯æœ‰äº›æ‹¿ä¸å‡†ï¼Œæˆ‘éƒ½æ‰“å‡ºæ¥äº†ï¼Œç”šè‡³æœ‰ä¸€äº›æè¿°æœ‰äº›ç”Ÿç¡¬ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡å‡ºã€‚ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"ç¿»è¯‘","slug":"ç¿»è¯‘","permalink":"http://www.wmyskxz.com/tags/%E7%BF%BB%E8%AF%91/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}],"author":"wmyskxz"},{"title":"Javaå­¦ä¹ ç¬”è®°(4)â€”â€”å¹¶å‘åŸºç¡€","slug":"Javaå­¦ä¹ ç¬”è®°-4-â€”â€”å¹¶å‘åŸºç¡€","date":"2017-10-31T05:50:00.000Z","updated":"2020-08-03T07:45:14.860Z","comments":true,"path":"2017/10/31/java-xue-xi-bi-ji-4-bing-fa-ji-chu/","link":"","permalink":"http://www.wmyskxz.com/2017/10/31/java-xue-xi-bi-ji-4-bing-fa-ji-chu/","excerpt":"","text":"å‰è¨€å½“æˆ‘ä»¬ä½¿ç”¨è®¡ç®—æœºæ—¶ï¼Œå¯ä»¥åŒæ—¶åšè®¸å¤šäº‹æƒ…ï¼Œä¾‹å¦‚ä¸€è¾¹æ‰“æ¸¸æˆä¸€è¾¹å¬éŸ³ä¹ã€‚è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿæ”¯æŒå¹¶å‘ä»»åŠ¡ï¼Œä»è€Œä½¿å¾—è¿™äº›å·¥ä½œå¾—ä»¥åŒæ—¶è¿›è¡Œã€‚ é‚£ä¹ˆæå‡ºä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªç¨‹åºèƒ½ä¸€è¾¹å¬éŸ³ä¹ä¸€è¾¹ç©æ¸¸æˆæ€ä¹ˆå®ç°å‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨äº†å¾ªç¯æ¥æ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œå› ä¸ºæ’­æ”¾éŸ³ä¹å’Œæ‰“æ¸¸æˆéƒ½æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯ç»“æœå´ä¸å°½äººæ„ï¼Œå› ä¸ºå‡½æ•°ä½“æ€»æ˜¯è¦æ‰§è¡Œå®Œä¹‹åæ‰èƒ½è¿”å›ã€‚é‚£ä¹ˆåˆ°åº•æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿä¸‹é¢æ¥è¯´ã€‚ å¹¶è¡Œä¸å¹¶å‘å¹¶è¡Œæ€§å’Œå¹¶å‘æ€§æ˜¯æ—¢ç›¸ä¼¼åˆæœ‰åŒºåˆ«çš„ä¸¤ä¸ªæ¦‚å¿µã€‚ å¹¶è¡Œæ€§æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿã€‚è€Œå¹¶å‘æ€§æ˜¯æŒ‡è¿ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿã€‚åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œå¹¶å‘æ€§æ˜¯æŒ‡åœ¨ä¸€æ®µæ—¶é—´å†…å®è§‚ä¸Šæœ‰å¤šä¸ªç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†åœ¨å•å¤„ç†æœºç¯å¢ƒä¸‹ï¼ˆä¸€ä¸ªå¤„ç†å™¨ï¼‰ï¼Œæ¯ä¸€æ—¶åˆ»å´ä»…èƒ½æœ‰ä¸€é“ç¨‹åºæ‰§è¡Œï¼Œæ•…å¾®è§‚ä¸Šè¿™äº›ç¨‹åºåªèƒ½æ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨1ç§’é’Ÿæ—¶é—´å†…ï¼Œ0-15msç¨‹åºAè¿è¡Œï¼›15-30msç¨‹åºBè¿è¡Œï¼›30-45msç¨‹åºCè¿è¡Œï¼›45-60msç¨‹åºDè¿è¡Œï¼Œå› æ­¤å¯ä»¥è¯´ï¼Œåœ¨1ç§’é’Ÿæ—¶é—´é—´éš”å†…ï¼Œå®è§‚ä¸Šæœ‰å››é“ç¨‹åºåœ¨åŒæ—¶è¿è¡Œï¼Œä½†å¾®è§‚ä¸Šï¼Œç¨‹åºAã€Bã€Cã€Dæ˜¯åˆ†æ—¶åœ°äº¤æ›¿æ‰§è¡Œçš„ã€‚ å¦‚æœåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­æœ‰å¤šä¸ªå¤„ç†æœºï¼Œè¿™äº›å¯ä»¥å¹¶å‘æ‰§è¡Œçš„ç¨‹åºå°±å¯ä»¥è¢«åˆ†é…åˆ°å¤šä¸ªå¤„ç†æœºä¸Šï¼Œå®ç°å¹¶å‘æ‰§è¡Œï¼Œå³åˆ©ç”¨æ¯ä¸ªå¤„ç†æœºçˆ±å¤„ç†ä¸€ä¸ªå¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºã€‚è¿™æ ·ï¼Œå¤šä¸ªç¨‹åºä¾¿å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä»¥æ­¤å°±èƒ½æé«˜ç³»ç»Ÿä¸­çš„èµ„æºåˆ©ç”¨ç‡ï¼Œå¢åŠ ç³»ç»Ÿçš„ååé‡ã€‚ è¿›ç¨‹å’Œçº¿ç¨‹è¿›ç¨‹æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆä¸Šé¢çš„é—®é¢˜å°±æœ‰äº†è§£å†³çš„æ€è·¯ï¼šæˆ‘ä»¬å¯åŠ¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªç”¨æ¥æ‰“æ¸¸æˆï¼Œä¸€ä¸ªç”¨æ¥æ’­æ”¾éŸ³ä¹ã€‚è¿™å½“ç„¶æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡éå¸¸å¤šï¼Œä¾‹å¦‚LOLæ¸¸æˆå§ï¼Œå…‰æ˜¯éœ€è¦æ’­æ”¾çš„éŸ³ä¹å°±æœ‰éå¸¸å¤šï¼Œäººç‰©æœ¬èº«çš„è¯­éŸ³ï¼ŒæŠ€èƒ½çš„éŸ³æ•ˆï¼Œæ¸¸æˆçš„èƒŒæ™¯éŸ³ä¹ï¼Œå¡”æ”»å‡»çš„å£°éŸ³ç­‰ç­‰ç­‰ï¼Œè¿˜ä¸ç”¨è¯´æ¸¸æˆæœ¬èº«ï¼Œå°±å…‰æ’­æ”¾éŸ³ä¹å°±éœ€è¦åˆ›å»ºè®¸å¤šè®¸å¤šçš„è¿›ç¨‹ï¼Œè€Œè¿›ç¨‹æœ¬èº«æ˜¯ä¸€ç§éå¸¸æ¶ˆè€—èµ„æºçš„ä¸œè¥¿ï¼Œè¿™æ ·çš„è®¾è®¡æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚æ›´ä½•å†µå¤§å¤šæ•°çš„æ“ä½œç³»ç»Ÿéƒ½ä¸éœ€è¦ä¸€ä¸ªè¿›ç¨‹è®¿é—®å…¶ä»–è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å¾ˆä¸æ–¹ä¾¿ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¾—å¼•å…¥â€œçº¿ç¨‹â€è¿™é—¨æŠ€æœ¯ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ çº¿ç¨‹æ˜¯æŒ‡è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œä»»åŠ¡ï¼ˆæ§åˆ¶å•å…ƒï¼‰ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å¹¶å‘è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚æ‰“å¼€æˆ‘ä»¬çš„ä»»åŠ¡ç®¡ç†å™¨ï¼Œåœ¨ã€æŸ¥çœ‹ã€‘é‡Œé¢ç‚¹å‡»ã€é€‰æ‹©åˆ—ã€‘ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ•°çš„å‹¾é€‰é¡¹ï¼Œæ‰¾åˆ°å¹¶å‹¾é€‰ï¼Œå¯ä»¥çœ‹åˆ°ï¼š è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼šè¿›ç¨‹ï¼šæœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¸­çš„æ•°æ®å­˜æ”¾ç©ºé—´ï¼ˆå †ç©ºé—´å’Œæ ˆç©ºé—´ï¼‰æ˜¯ç‹¬ç«‹çš„ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ çº¿ç¨‹ï¼šå †ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ ˆç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œçº¿ç¨‹æ¶ˆè€—çš„èµ„æºä¹Ÿæ¯”è¿›ç¨‹å°ï¼Œç›¸äº’ä¹‹é—´å¯ä»¥å½±å“çš„ï¼Œåˆç§°ä¸ºè½»å‹è¿›ç¨‹æˆ–è¿›ç¨‹å…ƒã€‚ å› ä¸ºä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹æ˜¯å¹¶å‘è¿è¡Œçš„ï¼Œé‚£ä¹ˆä»å¾®è§‚è§’åº¦ä¸Šè€ƒè™‘ä¹Ÿæ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼Œé‚£ä¹ˆå“ªä¸ªçº¿ç¨‹æ‰§è¡Œå®Œå…¨å–å†³äºCPUè°ƒåº¦å™¨(JVMæ¥è°ƒåº¦)ï¼Œç¨‹åºå‘˜æ˜¯æ§åˆ¶ä¸äº†çš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå¤šçº¿ç¨‹å¹¶å‘æ€§çœ‹ä½œæ˜¯å¤šä¸ªçº¿ç¨‹åœ¨ç¬é—´æŠ¢CPUèµ„æºï¼Œè°æŠ¢åˆ°èµ„æºè°å°±è¿è¡Œï¼Œè¿™ä¹Ÿé€ å°±äº†å¤šçº¿ç¨‹çš„éšæœºæ€§ã€‚ä¸‹é¢æˆ‘ä»¬å°†çœ‹åˆ°æ›´ç”ŸåŠ¨çš„ä¾‹å­ã€‚ Javaç¨‹åºçš„è¿›ç¨‹(Javaçš„ä¸€ä¸ªç¨‹åºè¿è¡Œåœ¨ç³»ç»Ÿä¸­)é‡Œè‡³å°‘åŒ…å«ä¸»çº¿ç¨‹å’Œåƒåœ¾å›æ”¶çº¿ç¨‹(åå°çº¿ç¨‹)ï¼š ä½ å¯ä»¥ç®€å•çš„è¿™æ ·è®¤ä¸ºï¼Œä½†å®é™…ä¸Šæœ‰å››ä¸ªçº¿ç¨‹ï¼ˆäº†è§£å°±å¥½ï¼‰ï¼š[1] mainâ€”â€”mainçº¿ç¨‹ï¼Œç”¨æˆ·ç¨‹åºå…¥å£[2] Reference Handlerâ€”â€”æ¸…é™¤Referenceçš„çº¿ç¨‹[3] Finalizerâ€”â€”è°ƒç”¨å¯¹è±¡finalizeæ–¹æ³•çš„çº¿ç¨‹[4] Signal Dispatcherâ€”â€”åˆ†å‘å¤„ç†å‘é€ç»™JVMä¿¡å·çš„çº¿ç¨‹ å¤šçº¿ç¨‹çš„ä¼˜åŠ¿ï¼šå°½ç®¡é¢ä¸´å¾ˆå¤šæŒ‘æˆ˜ï¼Œå¤šçº¿ç¨‹æœ‰ä¸€äº›ä¼˜ç‚¹ä½¿å¾—å®ƒä¸€ç›´è¢«ä½¿ç”¨ã€‚è¿™äº›ä¼˜ç‚¹æ˜¯ï¼š èµ„æºåˆ©ç”¨ç‡æ›´å¥½ ç¨‹åºè®¾è®¡åœ¨æŸäº›æƒ…å†µä¸‹æ›´ç®€å• ç¨‹åºå“åº”æ›´å¿« ï¼ˆ1ï¼‰èµ„æºåˆ©ç”¨ç‡æ›´å¥½æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–å’Œå¤„ç†æ–‡ä»¶çš„æƒ…æ™¯ã€‚æ¯”æ–¹è¯´ï¼Œä»ç£ç›˜è¯»å–ä¸€ä¸ªæ–‡ä»¶éœ€è¦5ç§’ï¼Œå¤„ç†ä¸€ä¸ªæ–‡ä»¶éœ€è¦2ç§’ã€‚å¤„ç†ä¸¤ä¸ªæ–‡ä»¶åˆ™éœ€è¦ï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 2ç§’å¤„ç†æ–‡ä»¶A 3| 5ç§’è¯»å–æ–‡ä»¶B 4| 2ç§’å¤„ç†æ–‡ä»¶B 5| --------------------- 6| æ€»å…±éœ€è¦14ç§’ ä»ç£ç›˜ä¸­è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„CPUæ—¶é—´ç”¨äºç­‰å¾…ç£ç›˜å»è¯»å–æ•°æ®ã€‚åœ¨è¿™æ®µæ—¶é—´é‡Œï¼ŒCPUéå¸¸çš„ç©ºé—²ã€‚å®ƒå¯ä»¥åšä¸€äº›åˆ«çš„äº‹æƒ…ã€‚é€šè¿‡æ”¹å˜æ“ä½œçš„é¡ºåºï¼Œå°±èƒ½å¤Ÿæ›´å¥½çš„ä½¿ç”¨CPUèµ„æºã€‚çœ‹ä¸‹é¢çš„é¡ºåºï¼š 1| 5ç§’è¯»å–æ–‡ä»¶A 2| 5ç§’è¯»å–æ–‡ä»¶B + 2ç§’å¤„ç†æ–‡ä»¶A 3| 2ç§’å¤„ç†æ–‡ä»¶B 4| --------------------- 5| æ€»å…±éœ€è¦12ç§’ CPUç­‰å¾…ç¬¬ä¸€ä¸ªæ–‡ä»¶è¢«è¯»å–å®Œã€‚ç„¶åå¼€å§‹è¯»å–ç¬¬äºŒä¸ªæ–‡ä»¶ã€‚å½“ç¬¬äºŒæ–‡ä»¶åœ¨è¢«è¯»å–çš„æ—¶å€™ï¼ŒCPUä¼šå»å¤„ç†ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚è®°ä½ï¼Œåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼ŒCPUå¤§éƒ¨åˆ†æ—¶é—´æ˜¯ç©ºé—²çš„ã€‚ æ€»çš„è¯´æ¥ï¼ŒCPUèƒ½å¤Ÿåœ¨ç­‰å¾…IOçš„æ—¶å€™åšä¸€äº›å…¶ä»–çš„äº‹æƒ…ã€‚è¿™ä¸ªä¸ä¸€å®šå°±æ˜¯ç£ç›˜IOã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œçš„IOï¼Œæˆ–è€…ç”¨æˆ·è¾“å…¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œå’Œç£ç›˜çš„IOæ¯”CPUå’Œå†…å­˜çš„IOæ…¢çš„å¤šã€‚ ###ï¼ˆ2ï¼‰ç¨‹åºè®¾è®¡æ›´ç®€å• åœ¨å•çº¿ç¨‹åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœä½ æƒ³ç¼–å†™ç¨‹åºæ‰‹åŠ¨å¤„ç†ä¸Šé¢æ‰€æåˆ°çš„è¯»å–å’Œå¤„ç†çš„é¡ºåºï¼Œä½ å¿…é¡»è®°å½•æ¯ä¸ªæ–‡ä»¶è¯»å–å’Œå¤„ç†çš„çŠ¶æ€ã€‚ç›¸åï¼Œä½ å¯ä»¥å¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªæ–‡ä»¶çš„è¯»å–å’Œæ“ä½œã€‚çº¿ç¨‹ä¼šåœ¨ç­‰å¾…ç£ç›˜è¯»å–æ–‡ä»¶çš„è¿‡ç¨‹ä¸­è¢«é˜»å¡ã€‚åœ¨ç­‰å¾…çš„æ—¶å€™ï¼Œå…¶ä»–çš„çº¿ç¨‹èƒ½å¤Ÿä½¿ç”¨CPUå»å¤„ç†å·²ç»è¯»å–å®Œçš„æ–‡ä»¶ã€‚å…¶ç»“æœå°±æ˜¯ï¼Œç£ç›˜æ€»æ˜¯åœ¨ç¹å¿™åœ°è¯»å–ä¸åŒçš„æ–‡ä»¶åˆ°å†…å­˜ä¸­ã€‚è¿™ä¼šå¸¦æ¥ç£ç›˜å’ŒCPUåˆ©ç”¨ç‡çš„æå‡ã€‚è€Œä¸”æ¯ä¸ªçº¿ç¨‹åªéœ€è¦è®°å½•ä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤è¿™ç§æ–¹å¼ä¹Ÿå¾ˆå®¹æ˜“ç¼–ç¨‹å®ç°ã€‚ ï¼ˆ3ï¼‰ç¨‹åºå“åº”æ›´å¿«æœ‰æ—¶æˆ‘ä»¬ä¼šç¼–å†™ä¸€äº›è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼ˆè¿™é‡Œçš„å¤æ‚ä¸æ˜¯è¯´å¤æ‚çš„ç®—æ³•ï¼Œè€Œæ˜¯å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œä¾‹å¦‚ï¼Œä¸€ç¬”è®¢å•çš„åˆ›å»ºï¼Œå®ƒåŒ…æ‹¬æ’å…¥è®¢å•æ•°æ®ã€ç”Ÿæˆè®¢å•èµ¶å¿«æ‰¾ã€å‘é€é‚®ä»¶é€šçŸ¥å–å®¶å’Œè®°å½•è´§å“é”€å”®æ•°é‡ç­‰ã€‚ç”¨æˆ·ä»å•å‡»â€œè®¢è´­â€æŒ‰é’®å¼€å§‹ï¼Œå°±è¦ç­‰å¾…è¿™äº›æ“ä½œå…¨éƒ¨å®Œæˆæ‰èƒ½çœ‹åˆ°è®¢è´­æˆåŠŸçš„ç»“æœã€‚ä½†æ˜¯è¿™ä¹ˆå¤šä¸šåŠ¡æ“ä½œï¼Œå¦‚ä½•èƒ½å¤Ÿè®©å…¶æ›´å¿«åœ°å®Œæˆå‘¢ï¼Ÿ åœ¨ä¸Šé¢çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå³å°†æ•°æ®ä¸€è‡´æ€§ä¸å¼ºçš„æ“ä½œæ´¾å‘ç»™å…¶ä»–çº¿ç¨‹å¤„ç†ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå¦‚ç”Ÿæˆè®¢å•å¿«ç…§ã€å‘é€é‚®ä»¶ç­‰ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å“åº”ç”¨æˆ·è¯·æ±‚çš„çº¿ç¨‹èƒ½å¤Ÿå°½å¯èƒ½å¿«åœ°å¤„ç†å®Œæˆï¼Œç¼©çŸ­äº†å“åº”æ—¶é—´ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚ ####å¤šçº¿ç¨‹çš„è¿˜æœ‰ä¸€äº›ä¼˜åŠ¿ä¹Ÿæ˜¾è€Œæ˜“è§ï¼š â‘  è¿›ç¨‹ä¹‹å‰ä¸èƒ½å…±äº«å†…å­˜ï¼Œè€Œçº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜(å †å†…å­˜)åˆ™å¾ˆç®€å•ã€‚ â‘¡ ç³»ç»Ÿåˆ›å»ºè¿›ç¨‹æ—¶éœ€è¦ä¸ºè¯¥è¿›ç¨‹é‡æ–°åˆ†é…ç³»ç»Ÿèµ„æº,åˆ›å»ºçº¿ç¨‹åˆ™ä»£ä»·å°å¾ˆå¤š,å› æ­¤å®ç°å¤šä»»åŠ¡å¹¶å‘æ—¶,å¤šçº¿ç¨‹æ•ˆç‡æ›´é«˜. â‘¢ Javaè¯­è¨€æœ¬èº«å†…ç½®å¤šçº¿ç¨‹åŠŸèƒ½çš„æ”¯æŒ,è€Œä¸æ˜¯å•çº¯ç¬¬ä½œä¸ºåº•å±‚ç³»ç»Ÿçš„è°ƒåº¦æ–¹å¼,ä»è€Œç®€åŒ–äº†å¤šçº¿ç¨‹ç¼–ç¨‹. ä¸Šä¸‹æ–‡åˆ‡æ¢å³ä½¿æ˜¯å•æ ¸å¤„ç†å™¨ä¹Ÿæ”¯æŒå¤šçº¿ç¨‹æ‰§è¡Œä»£ç ï¼ŒCPUé€šè¿‡ç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…CPUæ—¶é—´ç‰‡æ¥å®ç°è¿™ä¸ªæœºåˆ¶ã€‚æ—¶é—´ç‰‡æ˜¯CPUåˆ†é…ç»™å„ä¸ªçº¿ç¨‹çš„æ—¶é—´ï¼Œå› ä¸ºæ—¶é—´ç‰‡éå¸¸çŸ­ï¼Œæ‰€ä»¥CPUé€šè¿‡ä¸åœåœ°åˆ‡æ¢çº¿ç¨‹æ‰§è¡Œï¼Œè®©æˆ‘ä»¬æ„Ÿè§‰å¤šä¸ªçº¿ç¨‹æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œæ—¶é—´ç‰‡ä¸€èˆ¬æ˜¯å‡ åæ¯«ç§’ï¼ˆmsï¼‰ã€‚ CPUé€šè¿‡æ—¶é—´ç‰‡åˆ†é…ç®—æ³•æ¥å¾ªç¯æ‰§è¡Œä»»åŠ¡ï¼Œå½“å‰ä»»åŠ¡æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ‡æ¢å‰ä¼šä¿å­˜ä¸Šä¸€ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼Œä»¥ä¾¿ä¸‹æ¬¡åˆ‡æ¢å›è¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥å†åŠ è½½è¿™ä¸ªä»»åŠ¡çš„çŠ¶æ€ã€‚æ‰€ä»¥ä»»åŠ¡ä»ä¿å­˜åˆ°å†åŠ è½½çš„è¿‡ç¨‹å°±æ˜¯ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ è¿™å°±åƒæˆ‘ä»¬åŒæ—¶è¯»ä¸¤æœ¬ä¹¦ï¼Œå½“æˆ‘ä»¬åœ¨è¯»ä¸€æœ¬è‹±æ–‡çš„æŠ€æœ¯ä¹¦æ—¶ï¼Œå‘ç°æŸä¸ªå•è¯ä¸è®¤è¯†ï¼Œäºæ˜¯æ‰“å¼€ä¸­è‹±æ–‡å­—å…¸ï¼Œä½†æ˜¯åœ¨æ”¾ä¸‹è‹±æ–‡æŠ€æœ¯ä¹¦ä¹‹å‰ï¼Œå¤§è„‘å¿…é¡»å…ˆè®°ä½è¿™æœ¬ä¹¦ç‹¬åˆ°äº†å¤šå°‘é¡µçš„å¤šå°‘è¡Œï¼Œç­‰æŸ¥å®Œå•è¯ä¹‹åï¼Œèƒ½å¤Ÿç»§ç»­è¯»è¿™æœ¬ä¹¦ã€‚è¿™æ ·çš„åˆ‡æ¢æ˜¯ä¼šå½±å“è¯»ä¹¦æ•ˆç‡çš„ï¼ŒåŒæ ·ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹Ÿä¼šå½±å“å¤šçº¿ç¨‹çš„æ‰§è¡Œé€Ÿåº¦ã€‚ åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ç»§æ‰¿Theadç±»ï¼š è¿è¡Œç»“æœå‘ç°æ‰“æ¸¸æˆå’Œæ’­æ”¾éŸ³ä¹äº¤æ›¿å‡ºç°ï¼Œè¯´æ˜å·²ç»æˆåŠŸäº†ã€‚ å®ç°Runnableæ¥å£ï¼šä¹Ÿèƒ½å®Œæˆæ•ˆæœã€‚ ä»¥ä¸Šå°±æ˜¯ä¼ ç»Ÿçš„ä¸¤ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œäº‹å®ä¸Šè¿˜æœ‰ç¬¬ä¸‰ç§ï¼Œæˆ‘ä»¬åè¾¹å†è®²ã€‚ å¤šçº¿ç¨‹ä¸€å®šå¿«å—ï¼Ÿå…ˆæ¥ä¸€æ®µä»£ç ï¼Œé€šè¿‡å¹¶è¡Œå’Œä¸²è¡Œæ¥åˆ†åˆ«æ‰§è¡Œç´¯åŠ æ“ä½œï¼Œåˆ†æï¼šä¸‹é¢çš„ä»£ç å¹¶å‘æ‰§è¡Œä¸€å®šæ¯”ä¸²è¡Œæ‰§è¡Œå¿«å—ï¼Ÿ ä»¥ä¸‹æ˜¯æˆ‘æµ‹è¯•çš„ç»“æœï¼Œå¯ä»¥çœ‹å‡ºï¼Œå½“ä¸è¶…è¿‡1ç™¾ä¸‡çš„æ—¶å€™ï¼Œå¹¶è¡Œæ˜¯æ˜æ˜¾æ¯”ä¸²è¡Œè¦æ…¢çš„ï¼Œä¸ºä»€ä¹ˆå¹¶å‘æ‰§è¡Œçš„é€Ÿåº¦ä¼šæ¯”ä¸²è¡Œæ…¢å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºçº¿ç¨‹æœ‰åˆ›å»ºå’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚ ç»§æ‰¿Threadç±»è¿˜æ˜¯å®ç°Runnableæ¥å£ï¼Ÿåƒè‹¹æœæ¯”èµ›æƒ³è±¡ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼šç»™å‡ºä¸€å…±50ä¸ªè‹¹æœï¼Œè®©ä¸‰ä¸ªåŒå­¦ä¸€èµ·æ¥åƒï¼Œå¹¶ä¸”ç»™è‹¹æœç¼–ä¸Šå·ç ï¼Œè®©ä»–ä»¬åƒçš„æ—¶å€™é¡ºä¾¿è¦è¯´å‡ºè‹¹æœçš„ç¼–å·ï¼š è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ç»§æ‰¿æ–¹å¼å®ç°ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½åƒäº†50ä¸ªè‹¹æœã€‚è¿™æ ·çš„ç»“æœæ˜¾è€Œæ˜“è§ï¼šæ˜¯å› ä¸ºæ˜¾å¼åœ°åˆ›å»ºäº†ä¸‰ä¸ªä¸åŒçš„Personå¯¹è±¡ï¼Œè€Œæ¯ä¸ªå¯¹è±¡åœ¨å †ç©ºé—´ä¸­æœ‰ç‹¬ç«‹çš„åŒºåŸŸæ¥ä¿å­˜å®šä¹‰å¥½çš„50ä¸ªè‹¹æœã€‚ è€Œä½¿ç”¨å®ç°æ–¹å¼åˆ™æ»¡è¶³è¦æ±‚ï¼Œè¿™æ˜¯å› ä¸ºä¸‰ä¸ªçº¿ç¨‹å…±äº«äº†åŒä¸€ä¸ªAppleå¯¹è±¡ï¼Œè€Œå¯¹è±¡ä¸­çš„numæ•°é‡æ˜¯ä¸€å®šçš„ã€‚ æ‰€ä»¥å¯ä»¥ç®€å•æ€»ç»“å‡ºç»§æ‰¿æ–¹å¼å’Œå®ç°æ–¹å¼çš„åŒºåˆ«ï¼š å¯¹äºè¿™ä¸¤ç§æ–¹å¼å“ªç§å¥½å¹¶æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç­”æ¡ˆï¼Œå®ƒä»¬éƒ½èƒ½æ»¡è¶³è¦æ±‚ã€‚å°±æˆ‘ä¸ªäººæ„è§ï¼Œæˆ‘æ›´å€¾å‘äºå®ç°Runnableæ¥å£è¿™ç§æ–¹æ³•ã€‚å› ä¸ºçº¿ç¨‹æ± å¯ä»¥æœ‰æ•ˆçš„ç®¡ç†å®ç°äº†Runnableæ¥å£çš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹æ± æ»¡äº†ï¼Œæ–°çš„çº¿ç¨‹å°±ä¼šæ’é˜Ÿç­‰å€™æ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹æ± ç©ºé—²å‡ºæ¥ä¸ºæ­¢ã€‚è€Œå¦‚æœçº¿ç¨‹æ˜¯é€šè¿‡å®ç°Threadå­ç±»å®ç°çš„ï¼Œè¿™å°†ä¼šå¤æ‚ä¸€äº›ã€‚ æœ‰æ—¶æˆ‘ä»¬è¦åŒæ—¶èåˆå®ç°Runnableæ¥å£å’ŒThreadå­ç±»ä¸¤ç§æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå®ç°äº†Threadå­ç±»çš„å®ä¾‹å¯ä»¥æ‰§è¡Œå¤šä¸ªå®ç°äº†Runnableæ¥å£çš„çº¿ç¨‹ã€‚ä¸€ä¸ªå…¸å‹çš„åº”ç”¨å°±æ˜¯çº¿ç¨‹æ± ã€‚ å¸¸è§çš„é”™è¯¯ï¼šè°ƒç”¨run()æ–¹æ³•è€Œéstart()æ–¹æ³•åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªçº¿ç¨‹æ‰€çŠ¯çš„å¸¸è§é”™è¯¯æ˜¯è°ƒç”¨çº¿ç¨‹çš„run()æ–¹æ³•è€Œéstart()æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1| Thread newThread = new Thread(MyRunnable()); 2| newThread.run(); //should be start(); èµ·åˆä½ å¹¶ä¸ä¼šæ„Ÿè§‰åˆ°æœ‰ä»€ä¹ˆä¸å¦¥ï¼Œå› ä¸ºrun()æ–¹æ³•çš„ç¡®å¦‚ä½ æ‰€æ„¿çš„è¢«è°ƒç”¨äº†ã€‚ä½†æ˜¯ï¼Œäº‹å®ä¸Š,run()æ–¹æ³•å¹¶éæ˜¯ç”±åˆšåˆ›å»ºçš„æ–°çº¿ç¨‹æ‰€æ‰§è¡Œçš„ï¼Œè€Œæ˜¯è¢«åˆ›å»ºæ–°çº¿ç¨‹çš„å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œäº†ã€‚ä¹Ÿå°±æ˜¯è¢«æ‰§è¡Œä¸Šé¢ä¸¤è¡Œä»£ç çš„çº¿ç¨‹æ‰€æ‰§è¡Œçš„ã€‚æƒ³è¦è®©åˆ›å»ºçš„æ–°çº¿ç¨‹æ‰§è¡Œrun()æ–¹æ³•ï¼Œå¿…é¡»è°ƒç”¨æ–°çº¿ç¨‹çš„startæ–¹æ³•ã€‚ åƒè‹¹æœæ¯”èµ›çš„é—®é¢˜ï¼šçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜å°½ç®¡ï¼ŒJavaå¹¶ä¸ä¿è¯çº¿ç¨‹çš„é¡ºåºæ‰§è¡Œï¼Œå…·æœ‰éšæœºæ€§ï¼Œä½†åƒè‹¹æœæ¯”èµ›çš„æ¡ˆä¾‹è¿è¡Œå¤šæ¬¡ä¹Ÿå¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ã€‚è¿™å¹¶ä¸æ˜¯å› ä¸ºç¨‹åºæ²¡æœ‰é—®é¢˜ï¼Œè€Œåªæ˜¯é—®é¢˜å‡ºç°çš„ä¸å¤Ÿæ˜æ˜¾ï¼Œä¸ºäº†è®©é—®é¢˜æ›´åŠ æ˜æ˜¾ï¼Œæˆ‘ä»¬ä½¿ç”¨Thread.sleep()æ–¹æ³•ï¼ˆç»å¸¸ç”¨æ¥æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼‰æ¥è®©çº¿ç¨‹ä¼‘æ¯10msï¼Œè®©å…¶ä»–çº¿ç¨‹å»æŠ¢èµ„æºã€‚ï¼ˆæ³¨æ„ï¼šåœ¨ç¨‹åºä¸­å¹¶ä¸æ˜¯ä½¿ç”¨Thread.sleep(10)ä¹‹å,ç¨‹åºæ‰å‡ºç°é—®é¢˜,è€Œæ˜¯ä½¿ç”¨ä¹‹å,é—®é¢˜æ›´æ˜æ˜¾.ï¼‰ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯å‘¢ï¼Ÿ å…ˆæ¥åˆ†æç¬¬ä¸€ç§é”™è¯¯ï¼šä¸ºä»€ä¹ˆä¼šåƒé‡å¤çš„è‹¹æœå‘¢ï¼Ÿå°±æ‹¿Bå’ŒCéƒ½åƒäº†ç¼–å·ä¸º47çš„è‹¹æœä¸ºä¾‹å§ï¼š â‘  Açº¿ç¨‹æ‹¿åˆ°äº†ç¼–å·ä¸º48çš„è‹¹æœï¼Œæ‰“å°è¾“å‡ºç„¶åè®©numå‡1ï¼Œç¡çœ 10msï¼Œæ­¤æ—¶numä¸º47ã€‚ â‘¡ è¿™æ—¶Bå’ŒCåŒæ—¶éƒ½æ‹¿åˆ°äº†ç¼–å·ä¸º47çš„è‹¹æœï¼Œæ‰“å°è¾“å‡ºï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ä½œå‡ºäº†å‡ä¸€æ“ä½œçš„æ—¶å€™ï¼ŒAçº¿ç¨‹ä»ç¡çœ ä¸­é†’è¿‡æ¥ï¼Œæ‹¿åˆ°äº†ç¼–å·ä¸º46çš„è‹¹æœï¼Œç„¶åè¾“å‡ºã€‚åœ¨è¿™æœŸé—´å¹¶æ²¡æœ‰ä»»ä½•æ“ä½œä¸å…è®¸Bå’ŒCçº¿ç¨‹ä¸èƒ½æ‹¿åˆ°åŒä¸€ä¸ªç¼–å·çš„è‹¹æœï¼Œä¹‹å‰æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯ä»…ä»…å¯èƒ½åªæ˜¯å› ä¸ºè¿è¡Œé€Ÿåº¦å¤ªå¿«äº†ã€‚ å†æ¥åˆ†æç¬¬äºŒç§é”™è¯¯ï¼šç…§ç†æ¥è¯´åªåº”è¯¥å­˜åœ¨1-50ç¼–å·çš„è‹¹æœï¼Œå¯æ˜¯0å’Œ-1æ˜¯æ€ä¹ˆå‡ºç°çš„å‘¢ï¼Ÿ â‘  å½“num=1çš„æ—¶å€™ï¼ŒAï¼ŒBï¼ŒCä¸‰ä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥äº†tryè¯­å¥è¿›è¡Œç¡çœ ã€‚ â‘¡ Cçº¿ç¨‹å…ˆé†’è¿‡æ¥ï¼Œè¾“å‡ºäº†ç¼–å·ä¸º1çš„è‹¹æœï¼Œç„¶åè®©numå‡ä¸€ï¼Œå½“Cçº¿ç¨‹é†’è¿‡æ¥çš„æ—¶å€™å‘ç°numä¸º0äº†ã€‚ â‘¢ Açº¿ç¨‹é†’è¿‡æ¥ä¸€çœ‹ï¼Œ0éƒ½æ²¡æœ‰äº†ï¼Œåªæœ‰-1äº†ã€‚ å½’æ ¹ç»“åº•æ˜¯å› ä¸ºæ²¡æœ‰ä»»ä½•æ“ä½œæ¥é™åˆ¶çº¿ç¨‹æ¥è·å–ç›¸åŒçš„èµ„æºå¹¶å¯¹ä»–ä»¬è¿›è¡Œæ“ä½œï¼Œè¿™å°±é€ æˆäº†çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ã€‚ å¦‚æœæˆ‘ä»¬æŠŠæ‰“å°å’Œå‡ä¸€çš„æ“ä½œåˆ†æˆä¸¤ä¸ªæ­¥éª¤ï¼Œä¼šæ›´åŠ æ˜æ˜¾ï¼šABCä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰“å°äº†50çš„è‹¹æœï¼Œç„¶ååŒæ—¶åšå‡ºå‡ä¸€æ“ä½œã€‚ åƒè¿™æ ·çš„åŸå­æ“ä½œï¼Œæ˜¯ä¸å…è®¸åˆ†æ­¥éª¤è¿›è¡Œçš„ï¼Œå¿…é¡»ä¿è¯åŒæ­¥è¿›è¡Œï¼Œä¸ç„¶å¯èƒ½ä¼šå¼•å‘ä¸å¯è®¾æƒ³çš„åæœã€‚ è¦è§£å†³ä¸Šè¿°å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ä¸€ä¸ªèµ„æºçš„å®‰å…¨æ€§é—®é¢˜ï¼Œå°±éœ€è¦å¼•å…¥çº¿ç¨‹åŒæ­¥çš„æ¦‚å¿µã€‚ çº¿ç¨‹åŒæ­¥å¤šä¸ªæ‰§è¡Œçº¿ç¨‹å…±äº«ä¸€ä¸ªèµ„æºçš„æƒ…æ™¯ï¼Œæ˜¯æœ€å¸¸è§çš„å¹¶å‘ç¼–ç¨‹æƒ…æ™¯ä¹‹ä¸€ã€‚ä¸ºäº†è§£å†³è®¿é—®å…±äº«èµ„æºé”™è¯¯æˆ–æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œäººä»¬å¼•å…¥äº†ä¸´ç•ŒåŒºçš„æ¦‚å¿µï¼šç”¨ä»¥è®¿é—®å…±äº«èµ„æºçš„ä»£ç å—ï¼Œè¿™ä¸ªä»£ç å—åœ¨åŒä¸€æ—¶é—´å†…åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚ ä¸ºäº†å¸®åŠ©ç¼–ç¨‹äººå‘˜å®ç°è¿™ä¸ªä¸´ç•ŒåŒºï¼ŒJavaï¼ˆä»¥åŠå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ï¼‰æä¾›äº†åŒæ­¥æœºåˆ¶ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¯•å›¾è®¿é—®ä¸€ä¸ªä¸´ç•ŒåŒºæ—¶ï¼Œå®ƒå°†ä½¿ç”¨ä¸€ç§åŒæ­¥æœºåˆ¶æ¥æŸ¥çœ‹æ˜¯ä¸æ˜¯å·²ç»æœ‰å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºã€‚å¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œä»–å°±å¯ä»¥è¿›å…¥ä¸´ç•ŒåŒºã€‚å¦‚æœå·²ç»æœ‰çº¿ç¨‹è¿›å…¥äº†ä¸´ç•ŒåŒºï¼Œå®ƒå°±è¢«åŒæ­¥æœºåˆ¶æŒ‚èµ·ï¼Œç›´åˆ°è¿›å…¥çš„çº¿ç¨‹ç¦»å¼€è¿™ä¸ªä¸´ç•ŒåŒºã€‚å¦‚æœåœ¨ç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„çº¿ç¨‹ä¸æ­¢ä¸€ä¸ªï¼ŒJVMä¼šé€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªï¼Œå…¶ä½™çš„å°†ç»§ç»­ç­‰å¾…ã€‚ synchronizedå…³é”®å­—å¦‚æœä¸€ä¸ªå¯¹è±¡å·²ç”¨synchronizedå…³é”®å­—å£°æ˜ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹è¢«å…è®¸è®¿é—®å®ƒã€‚ä½¿ç”¨synchronizedçš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼šä¿è¯äº†å¤šçº¿ç¨‹å¹¶å‘è®¿é—®æ—¶çš„åŒæ­¥æ“ä½œï¼Œé¿å…çº¿ç¨‹çš„å®‰å…¨æ€§é—®é¢˜ã€‚ä½†æ˜¯åå¤„æ˜¯ï¼šä½¿ç”¨synchronizedçš„æ–¹æ³•/ä»£ç å—çš„æ€§èƒ½æ¯”ä¸ç”¨è¦ä½ä¸€äº›ã€‚æ‰€ä»¥å¥½çš„åšæ³•æ˜¯ï¼šå°½é‡å‡å°synchronizedçš„ä½œç”¨åŸŸã€‚ æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥è§£å†³åƒè‹¹æœçš„é—®é¢˜ï¼Œè€ƒè™‘ä¸€ä¸‹synchronizedå…³é”®å­—åº”è¯¥åŠ åœ¨å“ªé‡Œå‘¢ï¼Ÿå‘ç°å¦‚æœè¿˜å†æŠŠsynchronizedå…³é”®å­—åŠ åœ¨ifé‡Œé¢çš„è¯ï¼Œ0å’Œ-1åˆä¼šå‡ºæ¥äº†ã€‚è¿™å…¶å®æ˜¯å› ä¸ºå½“ABCåŒæ˜¯è¿›å…¥åˆ°ifè¯­å¥ä¸­ï¼Œç­‰å¾…ä¸´ç•ŒåŒºé‡Šæ”¾çš„æ—¶ï¼Œæ‹¿åˆ°1ç¼–å·çš„çº¿ç¨‹å·²ç»åˆæŠŠnumå‡ä¸€æ“ä½œäº†ï¼Œè€Œæ­¤æ—¶æœ€åä¸€ä¸ªç­‰å¾…ä¸´ç•ŒåŒºçš„è¿›ç¨‹æ‹¿åˆ°çš„å°±ä¼šæ˜¯-1äº†ã€‚ åŒæ­¥é”ï¼ˆLockï¼‰Lockæœºåˆ¶æä¾›äº†æ¯”synchronizedä»£ç å—å’Œsynchronizedæ–¹æ³•æ›´å¹¿æ³›çš„é”å®šæ“ä½œ,åŒæ­¥ä»£ç å—/åŒæ­¥æ–¹æ³•å…·æœ‰çš„åŠŸèƒ½Lockéƒ½æœ‰,é™¤æ­¤ä¹‹å¤–æ›´å¼ºå¤§,æ›´ä½“ç°é¢å‘å¯¹è±¡ã€‚ å‚è€ƒèµ„æ–™ï¼š http://study.163.com/course/courseMain.htm?courseId=1003108028 ã€ŠJavaé›¶åŸºç¡€å…¥é—¨æ•™ç¨‹ã€‹ ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ ã€ŠJava 7å¹¶å‘ç¼–ç¨‹å®æˆ˜æ‰‹å†Œã€‹ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"wmyskxz"},{"title":"Javaå­¦ä¹ ç¬”è®°(3)â€”â€”Stringç±»è¯¦è§£","slug":"Javaå­¦ä¹ ç¬”è®°-3-â€”â€”Stringç±»è¯¦è§£","date":"2017-10-25T03:15:00.000Z","updated":"2020-08-03T07:44:47.465Z","comments":true,"path":"2017/10/25/java-xue-xi-bi-ji-3-string-lei-xiang-jie/","link":"","permalink":"http://www.wmyskxz.com/2017/10/25/java-xue-xi-bi-ji-3-string-lei-xiang-jie/","excerpt":"","text":"å‰è¨€ å› ä¸ºæ²¡æœ‰æˆåŠŸåœ°ä¸ºIDEAé…ä¸Šåç¼–è¯‘å·¥å…·ï¼Œæ‰€ä»¥è‡ªå·±ä¸‹è½½äº†ä¸€ä¸ªXJadå·¥å…·ï¼ŒèƒŒæ™¯æ˜¯ç™½è‰²çš„ï¼Œæ‰€ä»¥å¿ç€å¼ºè¿«ç—‡ç¡¬æ˜¯æŠŠIDEAçš„ä¸»ä½“ä¹Ÿç»™æ¢æˆç™½è‰²äº†ï¼Œæ„Ÿè§‰ä¸ºäº†è¿™ç¯‡æ–‡ç« ä»˜å‡ºäº†è¯¸å¤šå•Šâ€¦. å­—ç¬¦ä¸²ç®€ä»‹ã€ŠThinging in Javaã€‹ä¸­æœ‰ä¸€å¥è¯ï¼šå¯ä»¥è¯æ˜ï¼Œå­—ç¬¦ä¸²æ“ä½œæ˜¯è®¡ç®—æœºç¨‹åºè®¾è®¡ä¸­æœ€å¸¸è§çš„è¡Œä¸ºã€‚ æŠŠå¤šä¸ªå­—ç¬¦æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—èµ·æ¥ï¼Œå°±å«å­—ç¬¦ä¸²ï¼ˆå°±åƒç¾Šè‚‰ä¸²ä¸€æ ·ï¼Œä¸²èµ·æ¥çš„ï¼‰ï¼Œå…·ä½“æ˜¯æ€ä¹ˆæ’åˆ—çš„ï¼Œä½ å¯ä»¥è·Ÿè¿›Stringçš„æºä»£ç å»çœ‹ä¸€ä¸‹ï¼Œä¼šå‘ç°å®ƒå…¶å®å†…éƒ¨ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªcharç±»å‹çš„æ•°ç»„ï¼š // ä¹Ÿå°±æ˜¯è¯´ String str = \"ABCD\"; // å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå…¶å®ç­‰ä»·äºï¼š char[] cr = new char[]{'A','B','C','D'}; å­—ç¬¦ä¸²çš„åˆ†ç±»å…¶å®è¯´èµ·æ¥ä¼šæœ‰äº›åˆ«æ‰­ï¼Œä¸ºä»€ä¹ˆå­—ç¬¦ä¸²ä¼šæœ‰åˆ†ç±»è¿™ç§ä¸œè¥¿ã€‚äº†è§£çš„æœ‹å‹å¯èƒ½ä¼šçŸ¥é“å­—ç¬¦ä¸²çš„æ“ä½œé™¤äº†Stringï¼Œè¿˜æœ‰StringBufferå’ŒStringBuilderï¼ˆåŒºåˆ«æˆ‘ä»¬åœ¨ä¸‹é¢æ¥è¯´ï¼‰ ä¸å¯å˜çš„å­—ç¬¦ä¸²Stringæ˜¯ä¸€ä¸ªå¥‡è‘©ã€‚ Stringå¯¹è±¡ä¸å¯å˜ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å¯¹è±¡åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œè¯¥å¯¹è±¡çš„å†…å®¹ï¼ˆå­—ç¬¦åºåˆ—ï¼‰æ˜¯ä¸å…è®¸æ”¹å˜çš„ï¼Œå¦‚æœå†…å®¹æ”¹å˜åˆ™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ï¼Œè¿”å›åˆ°åŸåœ°å€ä¸­ã€‚ ç»†å¿ƒçš„æœ‹å‹ä¹Ÿè®¸ä¼šå‘ç°ï¼ŒStringç±»ç»´æŠ¤çš„charæ•°ç»„ä¸ä»…è¢«finalæ‰€ä¿®é¥°ï¼Œå¹¶ä¸”æŸ¥çœ‹JDKæºç ä½ å°±ä¼šå‘ç°ï¼ŒStringç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹Stringå€¼å¾—æ–¹æ³•ï¼Œå®é™…ä¸Šéƒ½æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„Stringå¯¹è±¡ï¼Œä»¥åŒ…å«ä¿®æ”¹åçš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚è€Œæœ€åˆçš„Stringå¯¹è±¡åˆ™ä¸æ¯«æœªåŠ¨ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„æ¥çœ‹ä¸€ä¸ªå®ä¾‹ï¼ˆä»æ›¿æ¢æ“ä½œä¸­å°±èƒ½æ˜æ˜¾çœ‹å‡ºï¼‰ï¼š replaceæ–¹æ³•å°±æ˜¯æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼Œå¦‚æœæ›¿æ¢ä¹‹åè·ŸåŸæ¥çš„å­—ç¬¦ä¸²ç›¸åŒåˆ™è¿”å›thisï¼Œå¦‚æœä¸ç›¸åŒåˆ™newä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚è¿™æ˜æ˜¾ä½“ç°äº†å†…å®¹æ”¹å˜åˆ™è¿”å›æ–°å¯¹è±¡è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹Stringå¯¹è±¡çš„å€¼ã€‚ è¡¨é¢çš„é”™è§‰å…³äºStringå¯¹è±¡æ˜¯å¦å¯å˜ï¼Œæœ‰äº›æ“ä½œç¡®å®ä¼šç»™äººé”™è§‰ï¼Œå…ˆæ¥çœ‹ä¸€æ®µç¨‹åºï¼š ä»ç»“æœæ¥çœ‹ï¼Œs1çš„å€¼æœ€åˆæ˜¯â€œAâ€ï¼Œç»è¿‡èµ‹å€¼ä»¥åï¼Œå˜æˆäº†â€œCâ€,ç»è¿‡å­—ç¬¦ä¸²è¿æ¥è¿ç®—å¹¶èµ‹å€¼ä»¥åï¼Œå˜æˆäº†â€œBCâ€ã€‚Stringå¯¹è±¡çš„å†…å®¹çœŸçš„æ”¹å˜äº†å—ï¼Ÿå®é™…ä¸Šï¼Œè¿™åªæ˜¯é”™è§‰è€Œå·²ã€‚æœ‰ç–‘æƒ‘çš„æœ‹å‹å¯ä»¥å»çœ‹æˆ‘çš„ä¸Šä¸€ç¯‡ç¬”è®°ï¼Œä½ å°±èƒ½çŸ¥é“ï¼š Stringå¯¹è±¡â€œAâ€ï¼Œâ€œBâ€ï¼Œâ€œCâ€åœ¨å…¨ç¨‹ä¸­éƒ½æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œæ”¹å˜çš„åªæ˜¯å¼•ç”¨s1æ‰€æŒ‡å‘çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯s1çš„å€¼ã€‚ Stringå¯¹è±¡çš„åˆ›å»ºæœ‰ä¸¤ç§æ–¹å¼ï¼š // ç¬¬ä¸€ç§ï¼šç›´æ¥èµ‹ä¸€ä¸ªå­—é¢é‡ String str1 = \"ABCD\"; // ç¬¬äºŒç§ï¼šé€šè¿‡æ„é€ å™¨åˆ›å»º String str2 = new String(\"ABCD\"); é‚£ä¹ˆè¿™ä¸¤ç§æ–¹å¼æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿè¿™é‡Œå¯èƒ½ä¼šæ¶‰åŠåˆ°ä¸€ä¸ªé¢è¯•é¢˜ï¼š ä¸Šè¿°çš„ä¸¤ç§æ–¹æ³•åˆ†åˆ«åˆ›å»ºäº†å‡ ä¸ªStringå¯¹è±¡ï¼Ÿ å›ç­”è¿™ä¸ªé—®é¢˜ä¹Ÿç‰¹åˆ«ç®€å•ï¼Œé¦–å…ˆä½ éœ€è¦ç›´åˆ°JVMçš„å†…å­˜æ¨¡å‹æ˜¯æ€æ ·çš„ï¼Œåœ¨ä¸Šä¸€ç¯‡ç¬”è®°ä¸­ä¹Ÿæœ‰ç®€å•æåˆ°ï¼Œè¿™é‡Œéœ€è¦è¡¥å……çš„æ˜¯ï¼šå¸¸é‡æ± ï¼ˆä¸“é—¨å­˜å‚¨å¸¸é‡çš„åœ°æ–¹ï¼Œéƒ½æŒ‡çš„æ˜¯æ–¹æ³•åŒºä¸­ï¼‰åˆ†ä¸ºç¼–è¯‘å¸¸é‡æ± ï¼ˆä¸ç ”ç©¶ï¼Œå­˜å‚¨å­—èŠ‚ç çš„ç›¸å…³ä¿¡æ¯ï¼‰å’Œè¿è¡Œå¸¸é‡æ± ï¼ˆå­˜å‚¨å¸¸é‡æ•°æ®ï¼‰ã€‚ å…ˆæ¥çœ‹ä¸€å¼ ç»“æœå›¾ï¼š å½“æ‰§è¡Œç¬¬ä¸€å¥è¯çš„æ—¶å€™ï¼Œä¼šåœ¨å¸¸é‡æ± ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ABCDå­—ç¬¦ï¼Œstr1æŒ‡å‘å¸¸é‡æ± çš„ABCD å½“æ‰§è¡Œç¬¬äºŒå¥è¯çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰newæ“ä½œç¬¦ï¼Œæ‰€ä»¥ä¼šåœ¨å †ç©ºé—´æ–°å¼€è¾Ÿä¸€å—ç©ºé—´ç”¨æ¥å­˜å‚¨æ–°çš„Stringå¯¹è±¡ï¼Œå› ä¸ºæ­¤æ—¶å¸¸é‡æ± ä¸­å·²ç»æœ‰äº†ABCDå­—ç¬¦ï¼Œæ‰€ä»¥å †ä¸­çš„Stringå¯¹è±¡æŒ‡å‘å¸¸é‡æ± ä¸­çš„ABCDï¼Œè€Œstr2åˆ™æŒ‡å‘å †ç©ºé—´ä¸­çš„Stringå¯¹è±¡ã€‚ æ‰€ä»¥ç»“è®ºï¼šString str1 = â€œABCDâ€;æœ€å¤šåˆ›å»ºä¸€ä¸ªStringå¯¹è±¡,æœ€å°‘ä¸åˆ›å»ºStringå¯¹è±¡.å¦‚æœå¸¸é‡æ± ä¸­,å­˜åœ¨â€ABCDâ€,é‚£ä¹ˆstr1ç›´æ¥å¼•ç”¨,æ­¤æ—¶ä¸åˆ›å»ºStringå¯¹è±¡.å¦åˆ™,å…ˆåœ¨å¸¸é‡æ± å…ˆåˆ›å»ºâ€ABCDâ€å†…å­˜ç©ºé—´,å†å¼•ç”¨.String str2 = new String(â€œABCDâ€);æœ€å¤šåˆ›å»ºä¸¤ä¸ªStringå¯¹è±¡ï¼Œè‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚newå…³é”®å­—ç»å¯¹ä¼šåœ¨å †ç©ºé—´åˆ›å»ºä¸€å—æ–°çš„å†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥è‡³å°‘åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚ Stringå¯¹è±¡çš„ç©ºå€¼ä¸€ç§æ˜¯è¡¨ç¤ºå¼•ç”¨ä¸ºç©ºï¼ˆnullï¼‰çš„ç©ºå€¼ï¼š String str1 = null; // æ²¡æœ‰åˆå§‹åŒ–ï¼Œæ²¡æœ‰åˆ†é…å†…å­˜ç©ºé—´ å¦å¤–ä¸€ç§è¡¨ç¤ºå†…å®¹ä¸ºç©ºçš„ç©ºå€¼ï¼š String str2 = \"; // åˆ†é…æœ‰å†…å­˜ç©ºé—´ï¼Œæœ‰å†…å®¹ã€‚ æ‰€ä»¥å½“ä½ éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºçš„æ—¶å€™ï¼Œå®é™…ä¸Šåº”è¯¥è¿™æ ·ï¼š å­—ç¬¦ä¸²çš„æ¯”è¾ƒ ä»ä¸Šå›¾å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œä½¿ç”¨â€œ==â€ï¼Œåªèƒ½æ¯”è¾ƒå¼•ç”¨çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼Œè€Œä½¿ç”¨â€œequalsâ€æ–¹æ³•ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹ã€‚ æˆ‘ä»¬å¯ä»¥è·Ÿåˆ°Stringç±»çš„equalsæ–¹æ³•ï¼š â€œ+â€å·æ˜¯æ€ä¹ˆæ¥è¿æ¥å­—ç¬¦ä¸²çš„å…ˆæ¥ç›´æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œç¨‹åºä¸­åˆ›å»ºäº†ä¸‰ä¸ªStringå¯¹è±¡ï¼Œstræ˜¯helloå’Œwroldä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥èµ‹å€¼åçš„å¯¹è±¡ï¼Œç¨‹åºçš„ç»“æœå¾ˆæ˜æ˜¾ï¼Œä½†æˆ‘ä»¬å…³å¿ƒçš„æ˜¯ï¼Œhelloå’Œworldæ˜¯æ€æ ·è¿æ¥èµ·æ¥çš„å‘¢ï¼Ÿ æˆ‘ä»¬åœ¨XJadï¼ˆJavaåç¼–è¯‘ç¨‹åºï¼ŒæŠŠç”Ÿæˆçš„classåç¼–è¯‘æˆjavaï¼‰ä¸­æ‰“å¼€åˆšåˆšç”Ÿæˆçš„classæ–‡ä»¶ä¼šå‘ç°ï¼š ç¼–è¯‘å™¨è‡ªåŠ¨å¼•å…¥äº†ä¸€ä¸ªjava.lang.StringBuilderç±»ã€‚è™½ç„¶æˆ‘ä»¬åœ¨æºä»£ç ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨StringBuilderç±»ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å´è‡ªä½œä¸»å¼ åœ°ä½¿ç”¨äº†å®ƒï¼Œå› ä¸ºå®ƒæ›´é«˜æ•ˆã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¼–è¯‘å™¨åˆ›å»ºäº†ä¸€ä¸ªStringBuildeå¯¹è±¡ï¼Œç”¨ä»¥æ„é€ æœ€ç»ˆçš„Stringï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦ä¸²è°ƒç”¨äº†ä¸€æ¬¡StringBuilderçš„append()æ–¹æ³•ï¼Œæ€»è®¡ä¸¤æ¬¡ã€‚æœ€åè°ƒç”¨toString()ç”Ÿæˆç»“æœã€‚è¿™æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ä¼˜åŒ–çš„ç»“æœï¼ŒåŒ…æ‹¬è‡ªåŠ¨ç”Ÿæˆçš„Tester()æ— å‚æ•°é»˜è®¤çš„æ„é€ å‡½æ•°ä¹Ÿæ˜¯ã€‚ ç°åœ¨ï¼Œä½ ä¹Ÿè®¸ä¼šè§‰å¾—å¯ä»¥éšæ„ä½¿ç”¨Stringå¯¹è±¡ï¼Œåæ­£ç¼–è¯‘å™¨ä¼šä¸ºä½ è‡ªåŠ¨åœ°ä¼˜åŒ–æ€§èƒ½ã€‚å¯æ˜¯åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦çœ‹çœ‹ç¼–è¯‘å™¨ç©¶ç«Ÿèƒ½ç»™æˆ‘ä»¬ä¼˜åŒ–åˆ°ä»€ä¹ˆç¨‹åº¦ï¼ˆä¸‹é¢å†è¯¦ç»†ä»‹ç»StringBuilderï¼‰ã€‚ å¯å˜çš„å­—ç¬¦ä¸²StringBuilder/StringBufferï¼šå½“å¯¹è±¡åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œè¯¥å¯¹è±¡çš„å†…å®¹å¯ä»¥å‘ç”Ÿæ”¹å˜ï¼Œå½“å†…å®¹å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œå¯¹è±¡ä¿æŒä¸å˜ã€‚ æ¥ç€ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç»§ç»­æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š ç¨‹åºçš„ç»“æœæ˜¾è€Œæ˜“è§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åç¼–è¯‘ä¹‹åçš„ä»£ç ï¼šå¯ä»¥çœ‹åˆ°ï¼Œå¯¹æ¯”ä¸¤ä¸ªå¯¹è±¡ï¼Œåè€…çš„å¾ªç¯éƒ¨åˆ†çš„ä»£ç æ›´ç®€çŸ­ã€æ›´ç®€å•ï¼Œè€Œä¸”å®ƒåªç”Ÿæˆäº†ä¸€ä¸ªStringBuilderå¯¹è±¡ã€‚ ç»“è®ºæ˜¯ï¼šå¦‚æœå­—ç¬¦ä¸²æ“ä½œæ¯”è¾ƒç®€å•ï¼Œé‚£å°±å¯ä»¥ä¿¡èµ–ç¼–è¯‘å™¨ï¼Œå®ƒä¼šä¸ºä½ åˆç†åœ°æ„é€ æœ€ç»ˆçš„å­—ç¬¦ä¸²ç»“æœã€‚ä½†å¦‚æœä½ è¿˜ä½¿ç”¨å¾ªç¯ï¼Œå¤šæ¬¡åœ°æ”¹å˜å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œé‚£å°±æ›´é€‚åˆStringBuilderå¯¹è±¡ã€‚ ä½†æ˜¯å¦‚æœä½ æƒ³è¦èµ°æ·å¾„ï¼Œä¾‹å¦‚append(a+â€:â€+c)ï¼Œåˆ™ç¼–è¯‘å™¨å°±ä¼šè°ƒå…¥é™·é˜±ï¼Œä»è€Œä¸ºä½ å¦å¤–åˆ›å»ºä¸€ä¸ªStringBuilderå¯¹è±¡å¤„ç†æ‹¬å·å†…çš„å­—ç¬¦ä¸²æ“ä½œã€‚ Stringå¯¹è±¡çš„æ¯”è¾ƒStringBuilderæ˜¯Java SE5å¼•å…¥çš„ï¼Œåœ¨è¿™ä¹‹å‰Javaç”¨çš„æ˜¯StringBufferã€‚åè€…çº¿ç¨‹å®‰å…¨ï¼ˆåªéœ€è¦äº†è§£ï¼Œè¯¥å¯¹è±¡æ–¹æ³•ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ç”¨äº†synchronizedä¿®é¥°ç¬¦ï¼‰ï¼Œå› æ­¤å¼€é”€ä¹Ÿä¼šå¤§ã€‚æœ‰æ²¡æœ‰ç”¨synchronizedä¿®é¥°ç¬¦ï¼Œå°±æ˜¯è¿™ä¸¤è€…å”¯ä¸€çš„åŒºåˆ«ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ¥æ¯”è¾ƒä¸€ä¸‹è¿™ä¸‰ä¸ªStringå¯¹è±¡åœ¨æ‹¼æ¥å­—ç¬¦ä¸²ä¸­çš„æ€§èƒ½ï¼š åˆ›å»ºå¥½ä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æµ‹è¯•ä¸‰ä¸ªç±»å‹çš„å¯¹è±¡çš„æ‹¼æ¥æ•ˆç‡ï¼š é¢è¯•é¢˜æœ€åå†æœ‰ä¸€ä¸ªStringçš„é¢è¯•é¢˜ï¼š è¯´è¯´ä¸‹é¢çš„Stringå¯¹è±¡ï¼Œå½¼æ­¤ä¹‹é—´æ˜¯å¦ç›¸ç­‰ï¼Ÿ å¦‚æœä½ è‡ªå·±å†™å‡ ä¸ªåˆ¤æ–­ç›¸ç­‰çš„è¯­å¥ï¼Œåˆ†åˆ«åˆ¤æ–­str1å’Œå¦å¤–äº”ä¸ªæ˜¯å¦ç›¸ç­‰ï¼Œåˆ™ä¼šå‘ç°ï¼šstr1å’Œstr2/str3ç›¸ç­‰ï¼Œå’Œå¦å¤–å‡ ä¸ªéƒ½ä¸ç›¸ç­‰ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åç¼–è¯‘ä¹‹åçš„ä»£ç ï¼š çŸ¥è¯†ç‚¹ï¼ˆçº¯å¹²è´§ï¼‰ï¼š å•ç‹¬ä½¿ç”¨â€â€å¼•å·åˆ›å»ºçš„å­—ç¬¦ä¸²éƒ½æ˜¯ç›´æ¥é‡,ç¼–è¯‘æœŸå°±å·²ç»ç¡®å®šå­˜å‚¨åˆ°å¸¸é‡æ± ä¸­ï¼› ä½¿ç”¨new String(â€œâ€)åˆ›å»ºçš„å¯¹è±¡ä¼šå­˜å‚¨åˆ°å †å†…å­˜ä¸­,æ˜¯è¿è¡ŒæœŸæ‰åˆ›å»ºï¼› ä½¿ç”¨åªåŒ…å«ç›´æ¥é‡çš„å­—ç¬¦ä¸²è¿æ¥ç¬¦å¦‚â€aaâ€ + â€œbbâ€åˆ›å»ºçš„ä¹Ÿæ˜¯ç›´æ¥é‡ç¼–è¯‘æœŸå°±èƒ½ç¡®å®š,å·²ç»ç¡®å®šå­˜å‚¨åˆ°å¸¸é‡æ± ä¸­(str2å’Œstr3)ï¼› ä½¿ç”¨åŒ…å«Stringç›´æ¥é‡(æ— finalä¿®é¥°ç¬¦)çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼(å¦‚â€aaâ€ + s1)åˆ›å»ºçš„å¯¹è±¡æ˜¯è¿è¡ŒæœŸæ‰åˆ›å»ºçš„,å­˜å‚¨åœ¨å †ä¸­ï¼› é€šè¿‡å˜é‡/è°ƒç”¨æ–¹æ³•å»è¿æ¥å­—ç¬¦ä¸²,éƒ½åªèƒ½åœ¨è¿è¡Œæ—¶æœŸæ‰èƒ½ç¡®å®šå˜é‡çš„å€¼å’Œæ–¹æ³•çš„è¿”å›å€¼,ä¸å­˜åœ¨ç¼–è¯‘ä¼˜åŒ–æ“ä½œ. æ–‡ç« ç»“å°¾å…¶å®è¿˜æƒ³å†™å…³äºæ­£åˆ™è¡¨è¾¾çš„ä¸œè¥¿çš„ï¼Œè¿˜æ˜¯æ”¹å¤©æ‰¾æ—¶é—´å¦å¤–ç ”ç©¶ç ”ç©¶å†™ä¸€ç¯‡åƒæ ·çš„å§ã€‚å…³äºStringçš„æ“ä½œï¼Œå°±ç®€å•ç»™ä¸€ä¸‹å›¾å§ï¼Œæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥è‡ªå·±ç™¾åº¦æˆ–è€…è·Ÿè¸ªè¿›æºä»£ç é‡Œé¢å»çœ‹ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼š å‚è€ƒèµ„æ–™ï¼š http://study.163.com/course/courseMain.htm?courseId=1003108028 ã€ŠJavaé›¶åŸºç¡€å…¥é—¨æ•™ç¨‹ã€‹ ã€ŠThinking in Javaã€‹ç¬¬å››ç‰ˆ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"wmyskxz"},{"title":"Javaå­¦ä¹ ç¬”è®°(2)â€”â€”æ•°æ®ç±»å‹","slug":"Javaå­¦ä¹ ç¬”è®°-2-â€”â€”æ•°æ®ç±»å‹","date":"2017-09-19T09:46:00.000Z","updated":"2020-08-03T07:44:07.940Z","comments":true,"path":"2017/09/19/java-xue-xi-bi-ji-2-shu-ju-lei-xing/","link":"","permalink":"http://www.wmyskxz.com/2017/09/19/java-xue-xi-bi-ji-2-shu-ju-lei-xing/","excerpt":"","text":"ç»ˆäºè¦å†™ç‚¹å¹²è´§äº†ï¼Œå…¶å®æ€è€ƒäº†å¾ˆä¹…ä¸‹é¢ä¸€ç¯‡æ–‡ç« è¦å†™ä»€ä¹ˆï¼Œä¸»è¦çš„çº ç»“ç‚¹åœ¨äºï¼Œæ—¢æƒ³è¦åˆ†äº«é‚£äº›ç²¾ç¾çš„çŸ¥è¯†ï¼Œåˆæ€•è¿™äº›çŸ¥è¯†ä¸å¤ªå¥½åš¼ã€‚åæ¥æƒ³æƒ³è¿˜æ˜¯å¯¹åˆå­¦è€…ä¸å¤ªå¥½å‹ç®—äº†..ä¸€æ¥è¿™ç³»åˆ—æ–‡ç« å«åšå­¦ä¹ ç¬”è®°ï¼Œæˆ‘çš„ã€‚å¦å¤–å†™å¾—è¶³å¤Ÿæœ‰æ–™ï¼Œæ‰èƒ½å‘æŒ¥ç¬”è®°çš„ä½œç”¨ï¼Œä¸ç„¶ç´¢ç„¶æ— å‘³çš„ï¼Œè¿æ”¶è—ã€å–œæ¬¢çš„æ„ä¹‰ä¹Ÿæ²¡æœ‰äº†ã€‚ å†™åœ¨æ–‡ç« ä¹‹å‰ç»ˆäºå†™ç‚¹å¹²è´§äº†ï¼Œæƒ³å…ˆç®€å•è°ˆè°ˆè‡ªå·±çš„ä¸€äº›çœ‹æ³•ã€‚å¯¹äºæˆ‘è‡ªå·±è€Œè¨€ï¼Œæˆ‘æ¯”è¾ƒåŒçƒ¦é‚£äº›ç¹ççš„æ— èŠçš„çŸ¥è¯†ç‚¹ï¼Œåè€Œæ›´åœ¨ä¹ä¸€äº›å®é™…åº”ç”¨çš„ä¸œè¥¿ã€‚ä½†äº†è§£ä¸€äº›åº•å±‚çš„ä¸œè¥¿æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ï¼Œå®ƒæœ‰åŠ©äºæˆ‘ä»¬ç†è§£ç¨‹åºã€‚ æ¯ä¸€ç‚¹çŸ¥è¯†çš„ç§¯ç´¯ï¼Œç»ˆä¼šæœ‰ç”¨æ­¦ä¹‹åœ°ã€‚ä¹Ÿè®¸ï¼Œå®ƒä¼šä½¿æ‚¨åœ¨é¢è¯•è¿‡ç¨‹ä¸­æ­£ç¡®åœ°å›ç­”ä¸€é“é¢è¯•é¢˜ï¼›ä¹Ÿè®¸ï¼Œå®ƒä¼šè®©æ‚¨æ›´åŠ æ¸…æ¥šJavaåº•å±‚çš„å®ç°æ–¹å¼ï¼›ä¹Ÿè®¸ï¼Œå®ƒèƒ½è®©æ‚¨åœ¨å­¦ä¸šä¸Šæ„Ÿåˆ°æ›´åŠ å……å®â€¦ï¼ˆä»¥ä¸Šæ‘˜è‡ªæ¢å‹‡è‘—çš„Javaæ·±å…¥è§£æ_å‰è¨€ï¼‰ Javaä¸­çš„æ•°æ®ç±»å‹Javaæ˜¯ä¸€ç§å¼ºç±»å‹çš„è¯­è¨€ã€‚è¿™æ„å‘³ç€å¿…é¡»ä¸ºæ¯ä¸€ä¸ªå˜é‡éƒ½å£°æ˜ä¸€ç§ç±»å‹ã€‚ åœ¨Javaä¸­ï¼Œä½ å¯ä»¥æŠŠæ•°æ®ç±»å‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åŸºæœ¬ç±»å‹ï¼ˆprimitive typeï¼‰ï¼š4ç§æ•´å½¢ã€2ç§æµ®ç‚¹ç±»å‹ã€1ç§ç”¨äºè¡¨ç¤ºUnicodeç¼–ç çš„å­—ç¬¦å•å…ƒçš„å­—ç¬¦ç±»å‹charå’Œ1ç§ç”¨äºè¡¨ç¤ºçœŸå€¼çš„booleanç±»å‹ã€‚ å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å¼•ç”¨ç±»å‹ï¼ˆreference typeï¼‰ï¼Œå¦‚Stringå’ŒListã€‚æ¯ä¸ªåŸºæœ¬ç±»å‹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„å¼•ç”¨ç±»å‹ï¼Œç§°ä½œè£…ç®±åŸºæœ¬ç±»å‹ï¼ˆboxed primitiveï¼‰ã€‚è£…ç®±åŸºæœ¬ç±»ä¸­å¯¹åº”äºintã€doubleã€booleançš„æ˜¯Integerã€Doubleå’ŒBooleanã€‚ Javaä¸­çš„ç‰¹ä¾‹Javaæ˜¯ä¸€ç§å®Œå…¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä»ç†è®ºä¸Šæ¥è¯´ï¼Œåœ¨Javaä¸­åº”è¯¥ä¸å­˜åœ¨å¯¹è±¡ä»¥å¤–çš„äº‹åŠ¡ï¼Œå³æ‰€æœ‰çš„ç±»å‹éƒ½æ˜¯å¯¹è±¡ã€‚ç„¶è€Œï¼Œåœ¨Java8ä¸­çš„8ç§åŸºæœ¬æ•°æ®ç±»å‹ä¸æ˜¯å¯¹è±¡ï¼Œä¹‹æ‰€ä»¥è¿™æ ·è®¾è®¡ï¼Œæ˜¯å› ä¸ºç›¸å¯¹äºå¯¹è±¡æ¥è¯´ï¼ŒåŸºæœ¬æ•°æ®åœ¨ä½¿ç”¨ä¸Šæ›´åŠ æ–¹ä¾¿ï¼Œå¹¶ä¸”åœ¨æ•ˆç‡ä¸Šä¹Ÿé«˜äºå¯¹è±¡ç±»å‹ã€‚æ‰€ä»¥è¿™å°±éœ€è¦å»äº†è§£ä¸€ä¸‹Javaä¸­åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ã€‚ åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ å½“ç¨‹åºè¿è¡Œæ—¶ï¼Œå¯¹è±¡æ˜¯æ€ä¹ˆè¿›è¡Œå®‰æ’æ”¾ç½®çš„å‘¢ï¼Ÿç‰¹åˆ«æ˜¯å†…å­˜æ˜¯æ€æ ·åˆ†é…çš„å‘¢ï¼Ÿ Javaå¤§ä½“ä¸Šä¼šæŠŠå†…å­˜åˆ†ä¸ºå››å—åŒºåŸŸï¼šå †ã€æ ˆã€é™æ€åŒºã€å¸¸é‡åŒºã€‚ å † ï¼š ä½äºRAMä¸­ï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰çš„javaå¯¹è±¡ã€‚ æ ˆ ï¼š ä½äºRAMä¸­ï¼Œå¼•ç”¨å°±å­˜åœ¨äºæ ˆä¸­ã€‚ é™æ€åŒº: ä½äºRAMä¸­ï¼Œè¢«staticä¿®é¥°ç¬¦ä¿®é¥°çš„å˜é‡ä¼šè¢«æ”¾åœ¨è¿™é‡Œ å¸¸é‡åŒºï¼šä½äºROMä¸­ï¼Œ å¾ˆæ˜æ˜¾ï¼Œæ”¾å¸¸é‡çš„ã€‚ï¼ˆå…¶å®å¸¸é‡é€šå¸¸ç›´æ¥å­˜æ”¾åœ¨ç¨‹åºä»£ç çš„å†…éƒ¨ï¼Œå› ä¸ºè¿™æ ·éå¸¸å®‰å…¨ï¼Œå› ä¸ºå®ƒä»¬æ°¸è¿œéƒ½ä¸ä¼šè¢«æ”¹å˜ï¼‰ æ‰€ä»¥å½“æˆ‘ä»¬åˆ›å»ºå¯¹è±¡ï¼Œä¾‹å¦‚å®ä¾‹åŒ–ä¸€ä¸ªPersonç±»ï¼š Person p = new Person() é¦–å…ˆï¼Œä¼šåœ¨å †ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´å­˜æ”¾è¿™ä¸ªæ–°æ¥çš„Personå¯¹è±¡ã€‚ç„¶åï¼Œä¼šåˆ›å»ºä¸€ä¸ªå¼•ç”¨pï¼Œå­˜æ”¾åœ¨æ ˆä¸­ï¼Œè¿™ä¸ªå¼•ç”¨pæŒ‡å‘Personå¯¹è±¡ï¼ˆäº‹å®ä¸Šæ˜¯ï¼Œpçš„å€¼å°±æ˜¯Personå¯¹è±¡çš„å†…å­˜åœ°å€ï¼‰ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬é€šè¿‡è®¿é—®pï¼Œç„¶åå¾—åˆ°äº†Personçš„å†…å­˜åœ°å€ï¼Œè¿›è€Œæ‰¾åˆ°äº†Personå¯¹è±¡ã€‚ ç„¶ååˆæœ‰äº†è¿™æ ·ä¸€å¥ä»£ç ï¼š Person p2 = p; è¿™å¥ä»£ç çš„å«ä¹‰æ˜¯ï¼š åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¼•ç”¨p2ï¼Œä¿å­˜åœ¨æ ˆä¸­ï¼Œå¼•ç”¨çš„åœ°å€ä¹ŸæŒ‡å‘Personçš„åœ°å€ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ é€šè¿‡p2æ¥æ”¹å˜Personå¯¹è±¡çš„çŠ¶æ€ï¼Œä¹Ÿä¼šæ”¹å˜pçš„ç»“æœã€‚å› ä¸ºå®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ï¼ˆStringé™¤å¤–ï¼Œä¹‹åä¼šä¸“é—¨è®²Stringï¼‰ æ­¤æ—¶ï¼Œå†…å­˜ä¸­æ˜¯è¿™æ ·çš„ï¼š æœ‰ä¸€ä¸ªå¾ˆé€šä¿—çš„æ–¹å¼æ¥è®²è§£å¼•ç”¨å’Œå¯¹è±¡ã€‚å¤§å®¶å¯¹äºå¿«æ·æ–¹å¼åº”è¯¥ä¸ä¼šé™Œç”Ÿå§ï¼Ÿæˆ‘ä»¬æ¡Œé¢çš„å›¾æ ‡å¤§éƒ¨åˆ†éƒ½æ˜¯å¿«æ·æ–¹å¼ã€‚å®ƒå¹¶ä¸æ˜¯æˆ‘ä»¬å®‰è£…åœ¨ç”µè„‘ä¸Šçš„åº”ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆä¸æ˜¯.exeæ–‡ä»¶)ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆç‚¹å‡»å®ƒå¯ä»¥æ‰“å¼€åº”ç”¨ç¨‹åºå‘¢ï¼Ÿæ˜¯å› ä¸ºå¿«æ·æ–¹å¼è¿æ¥äº†æ–‡ä»¶ï¼Œè¿™å°±åƒæ˜¯å¼•ç”¨å’Œå¯¹è±¡çš„å…³ç³»äº†ã€‚ æˆ‘ä»¬ä¸ç›´æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œè€Œæ˜¯é€šè¿‡å¿«æ·æ–¹å¼æ¥è¿›è¡Œæ“ä½œã€‚å¿«æ·æ–¹å¼ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼ŒåŒæ ·ï¼Œå¼•ç”¨ä¹Ÿä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼ˆä½ å¯ä»¥åªåˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œä½†æ˜¯å½“ä½ è¦ä½¿ç”¨å®ƒçš„æ—¶å€™å¿…é¡»å¾—ç»™å®ƒèµ‹å€¼ï¼Œå¦åˆ™å®ƒå°†æ¯«æ— ç”¨å¤„ï¼‰ã€‚ ä¸€ä¸ªæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªå¿«æ·æ–¹å¼ï¼ŒåŒæ ·ä¸€ä¸ªå¯¹è±¡ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå¼•ç”¨ã€‚è€Œä¸€ä¸ªå¼•ç”¨åªèƒ½åŒæ—¶å¯¹åº”ä¸€ä¸ªå¯¹è±¡ã€‚ åœ¨javaé‡Œï¼Œâ€œ=â€ä¸èƒ½è¢«çœ‹æˆæ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œå®ƒä¸æ˜¯åœ¨æŠŠä¸€ä¸ªå¯¹è±¡èµ‹ç»™å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ‰§è¡Œè¿‡ç¨‹å®è´¨ä¸Šæ˜¯å°†å³è¾¹å¯¹è±¡çš„åœ°å€ä¼ ç»™äº†å·¦è¾¹çš„å¼•ç”¨ï¼Œä½¿å¾—å·¦è¾¹çš„å¼•ç”¨æŒ‡å‘äº†å³è¾¹çš„å¯¹è±¡ã€‚javaè¡¨é¢ä¸Šçœ‹èµ·æ¥æ²¡æœ‰æŒ‡é’ˆï¼Œä½†å®ƒçš„å¼•ç”¨å…¶å®è´¨å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚åœ¨javaé‡Œï¼Œâ€œ=â€è¯­å¥ä¸åº”è¯¥è¢«ç¿»è¯‘æˆèµ‹å€¼è¯­å¥ï¼Œå› ä¸ºå®ƒæ‰€æ‰§è¡Œçš„ç¡®å®ä¸æ˜¯ä¸€ä¸ªç®€å•çš„èµ‹å€¼è¿‡ç¨‹ï¼Œè€Œæ˜¯ä¸€ä¸ªä¼ åœ°å€çš„è¿‡ç¨‹ï¼Œè¢«è¯‘æˆèµ‹å€¼è¯­å¥ä¼šé€ æˆå¾ˆå¤šè¯¯è§£ï¼Œè¯‘å¾—ä¸å‡†ç¡®ã€‚ ç‰¹ä¾‹ï¼šåŸºæœ¬æ•°æ®ç±»å‹ä¸ºä»€ä¹ˆè¦æœ‰ç‰¹ä¾‹å‘¢ï¼Ÿæ˜¯å› ä¸ºnewå°†å¯¹è±¡å­˜å‚¨åœ¨â€œå †â€é‡Œï¼Œä¸€æ˜¯ç”¨newåˆ›å»ºä¸€ä¸ªå¯¹è±¡â€”â€”ç‰¹åˆ«æ˜¯å°çš„ï¼Œç®€å•çš„å˜é‡ï¼ˆJavaä¸­æ•°æ®å®šé•¿ï¼Œä¸ºäº†å¯ç§»æ¤æ€§ï¼‰å¾€å¾€ä¸æ˜¯å¾ˆæ˜æ™ºè€Œä¸”æœ‰æ•ˆçš„æ–¹æ³•ï¼ŒäºŒæ˜¯å› ä¸ºâ€œå †â€ç©ºé—´æœ¬æ¥å°±æœ‰é™ï¼Œå¦‚æœé¢‘ç¹çš„æ“ä½œä¼šå¯¼è‡´ä¸å¯æƒ³è±¡çš„é”™è¯¯ï¼Œå¹¶ä¸”åˆ«å¿˜äº†ç¬¬ä¸€ç¯‡æ–‡ç« é‡Œé¢æåˆ°çš„ï¼ŒJavaçš„è®¾è®¡åˆè¡·æ˜¯ä»€ä¹ˆã€‚ æ‰€ä»¥é’ˆå¯¹è¿™äº›ç±»å‹ï¼ŒJavaé‡‡å–äº†ä¸Cå’ŒC++ç›¸åŒçš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç”¨newæ¥åˆ›å»ºå˜é‡ï¼ŒäºŒæ˜¯åˆ›å»ºä¸€ä¸ªå¹¶éæ˜¯å¼•ç”¨çš„â€œè‡ªåŠ¨â€å˜é‡ã€‚è¿™ä¸ªå˜é‡ç›´æ¥å­˜å‚¨â€œå€¼â€å¹¶ç½®äºå¸¸é‡åŒºä¸­ï¼Œå› æ­¤æ›´åŠ é«˜æ•ˆã€‚ å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š int i = 2; int j = 2; æˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œåœ¨å¸¸é‡åŒºä¸­ï¼Œç›¸åŒçš„å¸¸é‡åªä¼šå­˜åœ¨ä¸€ä¸ªã€‚å½“æ‰§è¡Œç¬¬ä¸€å¥ä»£ç æ—¶ã€‚å…ˆæŸ¥æ‰¾å¸¸é‡åŒºä¸­æœ‰æ²¡æœ‰2ï¼Œæ²¡æœ‰ï¼Œåˆ™å¼€è¾Ÿä¸€ä¸ªç©ºé—´å­˜æ”¾2ï¼Œç„¶ååœ¨æ ˆä¸­å­˜å…¥ä¸€ä¸ªå˜é‡iï¼Œè®©iæŒ‡å‘2ï¼› æ‰§è¡Œç¬¬äºŒå¥çš„æ—¶å€™ï¼ŒæŸ¥æ‰¾å‘ç°2å·²ç»å­˜åœ¨äº†ï¼Œæ‰€ä»¥å°±ä¸å¼€è¾Ÿæ–°ç©ºé—´äº†ã€‚ç›´æ¥åœ¨æ ˆä¸­ä¿å­˜ä¸€ä¸ªæ–°å˜é‡jï¼Œè®©jæŒ‡å‘2ï¼› å½“ç„¶ï¼Œjavaå †æ¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹éƒ½æä¾›äº†å¯¹åº”çš„åŒ…è£…ç±»ã€‚æˆ‘ä»¬ä¾æ—§å¯ä»¥ç”¨newæ“ä½œç¬¦æ¥åˆ›å»ºæˆ‘ä»¬æƒ³è¦çš„å˜é‡ã€‚ Integer i = new Integer(1); Integer j = new Integer(1); ä½†æ˜¯ï¼Œç”¨newæ“ä½œç¬¦åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶ï¼Œiå’ŒjæŒ‡å‘ä¸åŒçš„å†…å­˜åœ°å€ã€‚å› ä¸ºæ¯æ¬¡è°ƒç”¨newæ“ä½œç¬¦ï¼Œéƒ½ä¼šåœ¨å †å¼€è¾Ÿæ–°çš„ç©ºé—´ã€‚ æ·±å…¥äº†è§£Integeræ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š ç¬¬ä¸€ä¸ªè¿”å›trueå¾ˆå¥½ç†è§£ï¼Œå°±åƒä¸Šé¢è®²çš„ï¼Œaå’ŒbæŒ‡å‘ç›¸åŒçš„åœ°å€ã€‚ç¬¬äºŒä¸ªè¿”å›falseæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢ç»†è¯´ç¬¬ä¸‰ä¸ªè¿”å›falseæ˜¯å› ä¸ºç”¨äº†newå…³é”®å­—æ¥å¼€è¾Ÿäº†æ–°çš„ç©ºé—´ï¼Œiå’Œjä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«æŒ‡å‘å †åŒºä¸­çš„ä¸¤å—å†…å­˜ç©ºé—´ã€‚ æˆ‘ä»¬å¯ä»¥è·Ÿè¸ªä¸€ä¸‹Integerçš„æºç ï¼Œçœ‹çœ‹åˆ°åº•æ€ä¹ˆå›äº‹ã€‚åœ¨IDEAä¸­ï¼Œä½ åªéœ€è¦æŒ‰ä½Ctrlç„¶åç‚¹å‡»Integerï¼Œå°±ä¼šè‡ªåŠ¨è¿›å…¥jaråŒ…ä¸­å¯¹åº”çš„ç±»æ–‡ä»¶ã€‚ è·Ÿè¸ªåˆ°æ–‡ä»¶çš„700å¤šè¡Œï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¹ˆä¸€æ®µï¼Œæ„Ÿå…´è¶£å¯ä»¥ä»”ç»†è¯»ä¸€ä¸‹ï¼Œä¸ç”¨å»è¯»ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºä½ åªéœ€è¦çŸ¥é“è¿™æ˜¯Javaçš„ä¸€ä¸ªç¼“å­˜æœºåˆ¶ã€‚Integerç±»çš„å†…éƒ¨ç±»ç¼“å­˜äº†-128åˆ°127çš„æ‰€æœ‰æ•°å­—ã€‚ï¼ˆäº‹å®ä¸Šï¼ŒIntegerç±»çš„ç¼“å­˜ä¸Šé™æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ¥æ›´æ”¹çš„ã€‚äº†è§£å°±è¡Œäº†ï¼Œä¸å¿…å»æ·±ç©¶ã€‚ï¼‰ ä¸ºä»€ä¹ˆå¼•å…¥ç¼“å­˜æœºåˆ¶è¿™å›åˆ°äº†ä¸ºä»€ä¹ˆå¼•å…¥åŸºç¡€ç±»å‹è¿™ä¸ªç‰¹ä¾‹çš„é—®é¢˜ä¸Šã€‚æˆ‘ä»¬çœ‹çœ‹Javaè¯­è¨€è§„èŒƒæ˜¯æ€ä¹ˆè§„å®šçš„ï¼š If the value p being boxed is an integer literal of type int between -128 and 127 inclusive (Â§3.10.1**), or the boolean literal true or false (Â§3.10.3**), or a character literal between â€˜\\u0000â€™ andâ€™\\u007fâ€™ inclusive (Â§3.10.4**), then let a and b be the results of any two boxing conversions of p. It is always the case that a == b. Ideally, boxing a primitive value would always yield an identical reference. In practice, this may not be feasible using existing implementation techniques. The rule above is a pragmatic compromise, requiring that certain common values always be boxed into indistinguishable objects. The implementation may cache these, lazily or eagerly. For other values, the rule disallows any assumptions about the identity of the boxed values on the programmerâ€™s part. This allows (but does not require) sharing of some or all of these references. Notice that integer literals of type long are allowed, but not required, to be shared. This ensures that in most common cases, the behavior will be the desired one, without imposing an undue performance penalty, especially on small devices. Less memory-limited implementations might, for example, cache all char and short values, as well as int and long values in the range of -32K to +32K. äº‹å®ä¸Šï¼Œä¸å…‰æ˜¯Integerè¿™ä¹ˆç‰¹åˆ«ï¼Œè¿˜åŒ…æ‹¬booleanè¿˜æœ‰charç±»å‹ã€‚å¹¶ä¸”æ–‡ç« çš„æœ€åæåˆ°äº†ä¸ºäº†å®ç°æ›´å°‘å†…å­˜çš„å¯èƒ½ã€‚ å¦ä¸€ä¸ªç‰¹ä¾‹ï¼šStringStringæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ï¼Œå› ä¸ºå®ƒè¢«finalä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œæ˜¯ä¸€ä¸ªä¸å¯æ”¹å˜çš„ç±»ã€‚å½“ç„¶ï¼Œçœ‹è¿‡javaæºç åä½ ä¼šå‘ç°ï¼ŒåŸºæœ¬ç±»å‹çš„å„ä¸ªåŒ…è£…ç±»ä¹Ÿè¢«finalæ‰€ä¿®é¥°ã€‚è¿™é‡Œä»¥Stringä¸ºä¾‹ã€‚ æˆ‘ä»¬æ¥çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼š æ‰§è¡Œç¬¬ä¸€å¥ ï¼š å¸¸é‡åŒºå¼€è¾Ÿç©ºé—´å­˜æ”¾â€œabcâ€ï¼Œs1å­˜æ”¾åœ¨æ ˆä¸­æŒ‡å‘â€œabcâ€æ‰§è¡Œç¬¬äºŒå¥ï¼Œs2 ä¹ŸæŒ‡å‘ â€œabcâ€ï¼Œæ‰§è¡Œç¬¬ä¸‰å¥ï¼Œå› ä¸ºâ€œabcâ€å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥ç›´æ¥æŒ‡å‘å®ƒã€‚æ‰€ä»¥ä¸‰ä¸ªå˜é‡æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ï¼Œç»“æœéƒ½ä¸ºtrueã€‚å½“s1å†…å®¹æ”¹å˜çš„æ—¶å€™ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¸¸é‡åŒºå¼€è¾Ÿæ–°çš„ç©ºé—´å­˜æ”¾â€œbcdâ€ï¼Œs1æŒ‡å‘â€œbcdâ€ï¼Œè€Œs2å’Œs3æŒ‡å‘â€œabcâ€æ‰€ä»¥åªæœ‰s2å’Œs3ç›¸ç­‰ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œs1,s2,s3éƒ½æ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œç±»ä¼¼äºåŸºæœ¬æ•°æ®ç±»å‹ã€‚ï¼ˆå¦‚æœæ‰§è¡Œçš„æ˜¯s1 = â€œabcâ€,é‚£ä¹ˆç»“æœä¼šéƒ½æ˜¯trueï¼‰ æˆ‘ä»¬å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š æ‰§è¡Œç¬¬ä¸€è¡Œä»£ç ï¼š åœ¨å †é‡Œåˆ†é…ç©ºé—´å­˜æ”¾Stringå¯¹è±¡ï¼Œåœ¨å¸¸é‡åŒºå¼€è¾Ÿç©ºé—´å­˜æ”¾å¸¸é‡â€œabcâ€ï¼ŒStringå¯¹è±¡æŒ‡å‘å¸¸é‡ï¼Œs1æŒ‡å‘è¯¥å¯¹è±¡ã€‚æ‰§è¡Œç¬¬äºŒè¡Œä»£ç ï¼šs2æŒ‡å‘ä¸Šä¸€æ­¥newå‡ºæ¥çš„stringå¯¹è±¡ã€‚æ‰§è¡Œç¬¬ä¸‰è¡Œä»£ç ï¼š åœ¨å †é‡Œåˆ†é…æ–°çš„ç©ºé—´å­˜æ”¾Stringå¯¹è±¡ï¼Œæ–°å¯¹è±¡æŒ‡å‘å¸¸é‡â€œabcâ€ï¼Œs3æŒ‡å‘è¯¥å¯¹è±¡ã€‚åˆ°è¿™é‡Œï¼Œå¾ˆæ˜æ˜¾ï¼Œs1å’Œs2æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ æ¥ç€å°±å¾ˆè¯¡å¼‚äº†ï¼Œæˆ‘ä»¬è®©s1 ä¾æ—§= â€œabcâ€,ä½†æ˜¯ç»“æœs1å’Œs2æŒ‡å‘çš„åœ°å€ä¸åŒäº†ã€‚ æ€ä¹ˆå›äº‹å‘¢ï¼Ÿè¿™å°±æ˜¯Stringç±»çš„ç‰¹æ®Šä¹‹å¤„äº†ï¼Œnewå‡ºæ¥çš„Stringä¸å†æ˜¯ä¸Šé¢çš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²å¯¹è±¡ã€‚ ç”±äºStringç±»æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œæ‰€ä»¥Stringå¯¹è±¡ä¹Ÿæ˜¯ä¸å¯æ”¹å˜çš„ï¼Œæˆ‘ä»¬æ¯æ¬¡ç»™Stringèµ‹å€¼éƒ½ç›¸å½“äºæ‰§è¡Œäº†ä¸€æ¬¡new String()ï¼Œç„¶åè®©å˜é‡æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯åœ¨åŸæ¥çš„å¯¹è±¡ä¸Šä¿®æ”¹ã€‚ å½“ç„¶ï¼Œjavaè¿˜æä¾›äº†StringBufferç±»ï¼Œè¿™ä¸ªæ˜¯å¯ä»¥åœ¨åŸå¯¹è±¡ä¸Šåšä¿®æ”¹çš„ã€‚å¦‚æœä½ éœ€è¦ä¿®æ”¹åŸå¯¹è±¡ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨StringBufferç±»ã€‚ å¼•å‘çš„é—®é¢˜ï¼šå€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿjavaæ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’çš„å‘¢ï¼Ÿæ¯«æ— ç–‘é—®ï¼Œjavaæ˜¯å€¼ä¼ é€’çš„ã€‚é‚£ä¹ˆä»€ä¹ˆåˆå«å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’å‘¢ï¼Ÿ æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š è¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¸Œæœ›è°ƒç”¨äº†swapå‡½æ•°ä»¥åï¼Œaå’Œbçš„å€¼å¯ä»¥äº’æ¢ï¼Œä½†æ˜¯äº‹å®ä¸Šå¹¶æ²¡æœ‰ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ è¿™å°±æ˜¯å› ä¸ºjavaæ˜¯å€¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨ä¸€ä¸ªéœ€è¦ä¼ é€’å‚æ•°çš„å‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å¹¶ä¸æ˜¯æˆ‘ä»¬ä¼ è¿›å»çš„å‚æ•°æœ¬èº«ï¼Œè€Œæ˜¯å®ƒçš„å‰¯æœ¬ã€‚è¯´èµ·æ¥æ¯”è¾ƒæ‹—å£ï¼Œä½†æ˜¯å…¶å®åŸç†å¾ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼š ä¸€ä¸ªæœ‰å½¢å‚çš„å‡½æ•°ï¼Œå½“åˆ«çš„å‡½æ•°è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œå¿…é¡»è¦ä¼ é€’æ•°æ®ã€‚æ¯”å¦‚swapå‡½æ•°ï¼Œåˆ«çš„å‡½æ•°è¦è°ƒç”¨swapå°±å¿…é¡»ä¼ ä¸¤ä¸ªæ•´æ•°è¿‡æ¥ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°æŒ‰è€ä¸ä½å¯‚å¯ï¼Œæ‰”äº†ä¸¤ä¸ªæ•´æ•°è¿‡æ¥ï¼Œä½†æ˜¯ï¼Œswapå‡½æ•°æœ‰æ´ç™–ï¼Œå®ƒä¸å–œæ¬¢ç”¨åˆ«äººçš„ä¸œè¥¿ï¼Œäºæ˜¯å®ƒæŠŠä¼ è¿‡æ¥çš„å‚æ•°å¤åˆ¶äº†ä¸€ä»½ï¼Œç„¶åå¯¹å¤åˆ¶çš„æ•°æ®ä¿®ä¿®æ”¹æ”¹ï¼Œè€Œåˆ«äººä¼ è¿‡æ¥çš„å‚æ•°åŠ¨æ ¹æœ¬æ²¡åŠ¨ã€‚ æ‰€ä»¥ï¼Œå½“swapå‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œäº¤æ¢äº†çš„æ•°æ®åªæ˜¯swapè‡ªå·±å¤åˆ¶çš„é‚£ä¸€ä»½ï¼Œè€ŒåŸæ¥çš„æ•°æ®æ²¡å˜ã€‚ ä¹Ÿå¯ä»¥ç†è§£ä¸ºåˆ«çš„å‡½æ•°æŠŠæ•°æ®ä¼ é€’ç»™äº†swapå‡½æ•°çš„å½¢å‚ï¼Œæœ€åæ”¹å˜çš„åªæ˜¯å½¢å‚è€Œå®å‚æ²¡å˜ï¼Œæ‰€ä»¥ä¸ä¼šèµ·åˆ°ä»»ä½•æ•ˆæœã€‚ æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­(Personç±»æ·»åŠ äº†getï¼Œsetæ–¹æ³•)ï¼š å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æŠŠp1ä¼ è¿›å»ï¼Œå®ƒå¹¶æ²¡æœ‰è¢«æ›¿æ¢æˆæ–°çš„å¯¹è±¡ã€‚å› ä¸ºchangeå‡½æ•°æ“ä½œçš„ä¸æ˜¯p1è¿™ä¸ªå¼•ç”¨æœ¬èº«ï¼Œè€Œæ˜¯è¿™ä¸ªå¼•ç”¨çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ ä½ ä¾ç„¶å¯ä»¥ç†è§£ä¸ºï¼Œä¸»å‡½æ•°å°†p1å¤åˆ¶äº†ä¸€ä»½ç„¶åå˜æˆäº†chagneå‡½æ•°çš„å½¢å‚ï¼Œæœ€ç»ˆæŒ‡å‘æ–°Personå¯¹è±¡çš„æ˜¯é‚£ä¸ªå‰¯æœ¬å¼•ç”¨ï¼Œè€Œå®å‚p1å¹¶æ²¡æœ‰æ”¹å˜ã€‚ å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š è¿™æ¬¡ä¸ºä»€ä¹ˆå°±æ”¹å˜äº†å‘¢ï¼Ÿåˆ†æä¸€ä¸‹ã€‚é¦–å…ˆï¼Œnewäº†ä¸€ä¸ªPersonå¯¹è±¡ï¼Œæš‚ä¸”å«ä»–å°æ˜å§ã€‚ç„¶åp1æŒ‡å‘å°æ˜ã€‚å°æ˜10å²äº†ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå°æ˜çš„å¹´é¾„è¦å˜äº†ï¼Œè°ƒç”¨äº†ä¸€ä¸‹changgeAgeæ–¹æ³•ï¼ŒæŠŠå°æ˜çš„å¼•ç”¨ä¼ äº†è¿›å»ã€‚ä¼ é€’çš„è¿‡ç¨‹ä¸­ï¼ŒchanggeAgeä¹Ÿæœ‰æ´ç™–ï¼Œäºæ˜¯å¤åˆ¶äº†ä¸€ä»½å°æ˜çš„å¼•ç”¨ï¼Œè¿™ä¸ªå‰¯æœ¬ä¹ŸæŒ‡å‘å°æ˜ã€‚ç„¶åchanggeAgeé€šè¿‡è‡ªå·±çš„å‰¯æœ¬å¼•ç”¨ï¼Œæ”¹å˜äº†å°æ˜çš„å¹´é¾„ã€‚ç”±äºæ˜¯å°æ˜è¿™ä¸ªå¯¹è±¡è¢«æ”¹å˜äº†ï¼Œæ‰€ä»¥æ‰€æœ‰å°æ˜çš„å¼•ç”¨è°ƒç”¨æ–¹æ³•å¾—åˆ°çš„å¹´é¾„éƒ½ä¼šæ”¹å˜æ‰€ä»¥å°±å˜äº†ã€‚ æœ€åç®€å•çš„æ€»ç»“ä¸€ä¸‹ã€‚ javaçš„ä¼ å€¼è¿‡ç¨‹ï¼Œå…¶å®ä¼ çš„æ˜¯å‰¯æœ¬ï¼Œä¸ç®¡æ˜¯å˜é‡è¿˜æ˜¯å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œä¸è¦æœŸå¾…æŠŠå˜é‡ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æ¥æ”¹å˜å˜é‡æœ¬èº«ã€‚ â€œ+â€æ˜¯æ€ä¹ˆè¿æ¥å­—ç¬¦ä¸²çš„ï¼Ÿ å…ˆæŠ›ä¸ªç –ï¼šå¯¹Javaç¨‹åºå‘˜æ¥è¯´ï¼Œä½¿ç”¨è¿ç®—ç¬¦â€œ+â€æ¥è¿æ¥å­—ç¬¦ä¸²æ˜¯éå¸¸æ™®éçš„ï¼Œå½“â€œ+â€ä¸¤è¾¹çš„æ“ä½œæ•°æ˜¯Stringç±»å‹æ—¶ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯Stringç±»å‹ï¼Œåˆ™ç³»ç»Ÿä¹Ÿä¼šå°†å¦å¤–ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢æˆStringç±»å‹ï¼‰ï¼Œå°±ä¼šæ‰§è¡Œå­—ç¬¦ä¸²è¿æ¥çš„è¿ç®—ã€‚ä½†æ˜¯ï¼Œè¿ç®—ç¬¦â€œ+â€æ˜¯æ€æ ·è¿æ¥Stringå¯¹è±¡çš„å‘¢ï¼Ÿç¼–è¯‘å™¨åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢? ä¹‹åæˆ‘å†æ¥è¡¥è¿™ä¸ªå†…å®¹ï¼Œå…ˆå‘è¡¨å•¦ã€‚ æµ®ç‚¹ç±»å‹ æµ®ç‚¹ç±»å‹ç”¨äºè¡¨ç¤ºæœ‰å°æ•°éƒ¨åˆ†çš„æ•°å€¼ã€‚åœ¨Javaä¸­æœ‰ä¸¤ç§æµ®ç‚¹ç±»å‹ï¼Œä¸€ä¸ªæ˜¯4å­—èŠ‚çš„floatï¼Œä¸€ä¸ªæ˜¯8å­—èŠ‚çš„doubleã€‚æˆ‘ä»¬å¹³æ—¶ç”¨æ¥ç¼–å†™ç¨‹åºç”¨æ¥è¡¨ç¤ºå¢é•¿ç‡ã€ç‰©å“é‡é‡ç­‰æ–¹é¢ä¹Ÿéå¸¸æœ‰ç”¨ã€‚ä¸è¿‡ï¼Œåœ¨ä½¿ç”¨æµ®ç‚¹ç±»å‹æ—¶ï¼Œä¹Ÿéœ€è¦ç•™æ„ä¸€äº›é—®é¢˜ã€‚ æµ®ç‚¹ç±»å‹åªæ˜¯è¿‘ä¼¼çš„å­˜å‚¨è¯·é—®ä¸€ä¸ªé—®é¢˜ï¼š0.1+0.2ç­‰äºå¤šå°‘ï¼Ÿè¯·ä¸è¦æ…Œç€æŠ¥ç­”æ¡ˆï¼Œæˆ‘æ²¡æœ‰å¼€ç©ç¬‘çš„æ„æ€ï¼Œçœ‹ä¸€ä¸‹Javaç»™å‡ºçš„ç­”æ¡ˆä½ å°±çŸ¥é“äº†ï¼š ç»“æœä¼¼ä¹æœ‰äº›ä»¤äººæƒŠè®¶ï¼Œè¿™ä¹ˆç®€å•çš„ç®—æœ¯ç«Ÿç„¶ä¹Ÿä¼šç®—é”™ã€‚ å…¶å®ï¼Œè¿™å¹¶ä¸æ˜¯è®¡ç®—é”™è¯¯ï¼Œè¿™åªæ˜¯æµ®ç‚¹æ•°ç±»å‹å­˜å‚¨çš„é—®é¢˜ã€‚è®¡ç®—æœºä½¿ç”¨äºŒè¿›åˆ¶æ¥å­˜å‚¨æ•°æ®ï¼Œè€ŒäºŒè¿›åˆ¶æ— æ³•å‡†ç¡®çš„è¡¨ç¤ºåˆ†æ•° 1/10 ï¼Œå°±åƒä½¿ç”¨åè¿›åˆ¶æ—¶ï¼Œæ— æ³•å‡†ç¡®åœ°è¡¨ç¤º 1/3 ä¸€æ ·ã€‚ æ•°é‡çº§å·®å¾ˆå¤§çš„æµ®ç‚¹è¿ç®—å½“æµ®ç‚¹æ•°å€¼çš„æ•°é‡çº§ç›¸å·®å¾ˆå¤§çš„æ—¶å€™ï¼Œè¿ç®—åˆä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ åˆå‘ç”Ÿäº†é¢„æœŸå¤–çš„ç»“æœã€‚ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œf3ç«Ÿç„¶å’Œf4æ˜¯ç›¸ç­‰çš„ï¼Œä¹Ÿå°±æ˜¯æ„å‘³ç€å¯¹f3+1å¹¶æ²¡æœ‰æ”¹å˜f3çš„å€¼ã€‚ è¿™åŒæ ·æ˜¯å› ä¸ºæµ®ç‚¹æ•°çš„å­˜å‚¨é€ æˆçš„ï¼ŒäºŒè¿›åˆ¶æ‰€èƒ½è¡¨ç¤ºçš„ä¸¤ä¸ªç›¸é‚»çš„æµ®ç‚¹å€¼ä¹‹é—´å­˜åœ¨ä¸€å®šçš„ç©ºéš™ã€‚æµ®ç‚¹å€¼è¶Šå¤§ï¼Œè¿™ä¸ªé—´éš™ä¹Ÿä¼šè¶Šå¤§ã€‚å½“æµ®ç‚¹å€¼å¤§é“ä¸€å®šç¨‹åº¦çš„æ—¶ï¼Œå¦‚æœå¯¹æµ®ç‚¹å€¼çš„æ”¹å˜å¾ˆå°ï¼ˆä¾‹å¦‚ä¸Šé¢çš„30000000+1ï¼‰ï¼Œå°±ä¸è¶³ä»¥ä½¿æµ®ç‚¹å€¼å‘ç”Ÿæ”¹å˜ã€‚å°±å¥½æ¯”è’¸å‘æ‰å¤§æµ·ä¸­çš„ä¸€æ»´æ°´ï¼Œå¤§æµ·è¿˜æ˜¯å¤§æµ·ï¼Œå‡ ä¹ä¸å­˜åœ¨å˜åŒ–ã€‚ å¦‚æœæƒ³è¦å‡†ç¡®çš„å­˜å‚¨ï¼Œå°±å»ä½¿ç”¨BigDecimalå§ï¼Œæœ‰å¿…è¦äº†è§£çš„å¯ä»¥å»è‡ªè¡Œç™¾åº¦ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œå·²ç»æ˜¯Javaå°è£…å¥½çš„ç±»åº“äº† æŠ›å‡ºä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Javaä¸­ï¼Œlongç±»å‹å ç”¨äº†8ä¸ªå­—èŠ‚ï¼Œfloatç±»å‹å ç”¨äº†4ä¸ªå­—èŠ‚ã€‚ ç…§ç†æ¥è¯´ï¼Œlongç±»å‹çš„å®¹é‡åº”è¯¥æ¯”floatå¤§è®¸å¤šï¼Œç„¶è€Œäº‹å®æ­£å¥½ç›¸åï¼Œfloatåè€Œæ‹¥æœ‰æ¯”8å­—èŠ‚longç±»å‹æ›´å¤§çš„å–å€¼èŒƒå›´ã€‚è¿™åŒæ ·æ˜¯å› ä¸ºæµ®ç‚¹æ•°çš„å­˜å‚¨æ ¼å¼é€ æˆçš„ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»è‡ªè¡Œç™¾åº¦äº†è§£ã€‚ å‚è€ƒèµ„æ–™ï¼šhttp://www.jianshu.com/p/39753aad9a38 ï¼ŒåŸæ–‡ä½œè€…:CleverFanã€ŠJavaæ·±å…¥è§£æã€‹â€”â€”æ¢å‹‡è‘—ã€ŠEffective Javaã€‹â€”â€”ç¬¬äºŒç‰ˆã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·Iã€‹â€”â€”ç¬¬ä¹ç‰ˆã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹â€”â€”ç¬¬å››ç‰ˆ æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"wmyskxz"},{"title":"Javaå­¦ä¹ ç¬”è®°(1)â€”â€”æ­å»ºå¥½æ‰€éœ€è¦çš„ç¯å¢ƒ","slug":"Javaå­¦ä¹ ç¬”è®°-1-â€”â€”æ­å»ºå¥½æ‰€éœ€è¦çš„ç¯å¢ƒ","date":"2017-09-18T14:01:00.000Z","updated":"2020-08-03T07:43:10.802Z","comments":true,"path":"2017/09/18/java-xue-xi-bi-ji-1-da-jian-hao-suo-xu-yao-de-huan-jing/","link":"","permalink":"http://www.wmyskxz.com/2017/09/18/java-xue-xi-bi-ji-1-da-jian-hao-suo-xu-yao-de-huan-jing/","excerpt":"","text":"å‰è¨€ï¼šåæ¥ä»”ç»†æ€è€ƒäº†ä¸€ä¸‹ï¼Œä»é›¶å¼€å§‹å­¦ä¹ Javaçš„ç³»åˆ—æ ‡é¢˜ç•¥é•¿ï¼ˆå®é™…æ”¹è¿‡æ¥çš„ä¹Ÿä¸çŸ­ï¼‰ï¼Œå¹¶ä¸”ä¸èƒ½æ­£ç¡®åæ˜ å†™æ–‡çš„ç›®çš„ï¼Œæ‰€ä»¥å†³å®šä»è¿™ä¸€ç¯‡å¼€å§‹æ”¹ä¸ºJavaå­¦ä¹ ç¬”è®°ã€‚ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« åœ¨ä¸€è§‰é†’æ¥ä»¥åä¹Ÿè§‰å¾—æœ‰äº›ä¸å¤ªå¥½è¿˜æœ‰ä¸€äº›éœ€è¦æ·»åŠ çš„åœ°æ–¹ï¼Œæ‰€ä»¥åæ¥è¿™ä¸€ä¸ªç³»åˆ—æ˜¯æ—¶åˆ»æ›´æ–°çš„ä¸œè¥¿ï¼Œç”¨ç¬”è®°æ¥å‘½åå†å¥½ä¸è¿‡äº†ã€‚ æ­å»ºå¥½æˆ‘ä»¬éœ€è¦çš„ç¯å¢ƒåœ¨æ­å»ºç¯å¢ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥äº†è§£ä»¥ä¸‹ä¸‹é¢çš„è¿™äº›åè¯ï¼š æœ¯è¯­å ç¼©å†™ è§£é‡Š Java Development Kit JDK ç¼–å†™Javaç¨‹åºçš„ä»ç¨‹åºå‘˜ä½¿ç”¨çš„è½¯ä»¶ Java Runtime Environment JRE è¿è¡ŒJavaç¨‹åºçš„ç”¨æˆ·ä½¿ç”¨çš„è½¯ä»¶ Standard Edition SE ç”¨äºæ¡Œé¢æˆ–ç®€å•çš„æœåŠ¡å™¨åº”ç”¨çš„Javaå¹³å° Enterprise Edition EE ç”¨äºå¤æ‚çš„æœåŠ¡å™¨åº”ç”¨çš„Javaå¹³å° Micro Edition ME ç”¨äºæ‰‹æœºå’Œå…¶ä»–å°å‹è®¾å¤‡çš„Javaå¹³å° Java 2 J2 ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œç”¨äºæè¿°1998å¹´~2006å¹´ä¹‹é—´çš„Javaç‰ˆæœ¬ Software Development Kit SDK ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œç”¨äºæè¿°1998å¹´~2006å¹´ä¹‹é—´çš„JDK Update u Oracleçš„æœ¯è¯­ï¼Œç”¨äºå‘å¸ƒä¿®æ”¹çš„bug NetBeans â€” Oracleçš„é›†æˆå¼€å‘ç¯å¢ƒ å®‰è£…Javaé™¤äº†ç›¸å…³çš„é›†æˆå¼€å‘ç¯å¢ƒIDE(Integrated Development Environment )ï¼Œè¿˜éœ€è¦ä¸‹è½½å¥½èƒ½æ”¯æ’‘Javaè¿è¡Œçš„JDKã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„æ•…äº‹æ˜¯ï¼šæ”¯æ’‘Javaè¿è¡Œçš„è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¹ˆä¸€ä¸ªç³»ç»Ÿï¼Œæ°æ°å‘¢å°±æ˜¯Javaè¯­è¨€æœ¬èº«ç¼–å†™çš„ã€‚æ‰€ä»¥å…ˆä¸‹å¥½JDKï¼Œå®˜ç½‘è¿™é‡Œï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/index.html è¿›å»ä»¥åç‚¹å‡»JDKè¿›å…¥ï¼Œç„¶åç‚¹å‡»Accept License Agreementï¼Œç„¶åæ ¹æ®è‡ªå·±çš„ç³»ç»Ÿä¸‹è½½ä¸åŒçš„JDKå°±å¯ä»¥ã€‚ å…³äºEclipseè¿˜æ˜¯IDEAæˆ‘ä¸ªäººè¿˜æ˜¯æ¯”è¾ƒæ¨èIDEAå§ï¼Œä»å®‰è£…è½¯ä»¶çš„å¤§å°ä¸Šé¢å°±èƒ½çœ‹å‡ºæ˜æ˜¾çš„å·®åˆ«â€¦ ä½†ä¹Ÿä¸æ˜¯é‚£ä¹ˆç»å¯¹ï¼ŒIDEAæ®è¯´æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œæˆ‘ç°åœ¨æ²¡æœ‰æ˜æ˜¾å¾—æ„Ÿå—è¿‡ï¼Œä½†æ˜¯åˆšæ‰“å¼€è¿™ä¸ªè½¯ä»¶çš„æ—¶å€™ï¼Œå°±ç•¥å¾®æœ‰ä¸€ç‚¹å¡ï¼Œæ˜¯å› ä¸ºIDEAæœ¬èº«çš„æ£€é”™å·®é”™åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå‡ ä¹æ˜¯å®æ—¶æŸ¥é”™ï¼Œåæ­£æˆ‘æ˜¯ä¸€ç”¨å°±çˆ±ä¸Šäº†ï¼Œæ”¾ä¸Šå‡ å¼ å›¾ä½ ä»¬æ„Ÿå—ä¸‹ï¼š å…³äºIDEAçš„å¼Šç«¯å…¶å®è‡ªå·±æƒ³ä¹Ÿèƒ½æƒ³å¾—åˆ°ï¼Œå½“é¡¹ç›®è¾¾åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå®ƒè‡ªèº«çš„å¼ºå¤§çš„çº é”™åŠŸèƒ½ï¼Œä¼šè®©ç³»ç»Ÿå˜å¾—å¡é¡¿èµ·æ¥ï¼Œè¿˜æœ‰å°±æ˜¯å®ƒå¤ªå¼ºå¤§äº†ï¼Œå¼€è¿‡è½¦çš„äººéƒ½ä¸ä¼šåƒè¦èµ°è·¯ï¼Œå¤§æ¦‚å°±æ˜¯ä¸€æ ·ã€‚å…·ä½“çš„ä¼˜ç‚¹åœ¨ä¸‹é¢åˆ—å‡ºï¼Œè¿™é‡Œæ¨èä¸¤ç¯‡CleverFançš„æ–‡ç« ï¼š IDEAå…¥é—¨çº§æ•™ç¨‹â€”â€”ä½ æ€ä¹ˆè¿˜åœ¨ç”¨Eclipseï¼Ÿ IDEA(jetbrainé€šç”¨)ä¼˜é›…çº§ä½¿ç”¨æ•™ç¨‹ å…³äºIDEAçš„å®‰è£…æ•™ç¨‹ç½‘ä¸Šä¸€æœä¸€å¤§å †..è¿™é‡Œä¸å†èµ˜è¿°.. IDEAçš„ç®€å•ä»‹ç»åŠè®¾ç½®IDEAçš„ç¤¾åŒºç‰ˆæ˜¯å…è´¹çš„ï¼Œæˆ‘è¿˜ä¸€ç›´åœ¨æƒ³ç€è¯¥æ€ä¹ˆç ´è§£â€¦æ¯•ç«Ÿè¿™å°å‡ ç™¾ç¾åˆ€ä¸€å¹´çš„ä»·æ ¼å¯¹äºæˆ‘è¿™æ ·çš„å¹³æ°‘çªŸé“å¤´å¨ƒæ¥è¯´ï¼Œå®åœ¨ä¸å¤ªå‹å¥½ï¼Œç»“æœç”¨äº†åŠå¤©â€¦åŠç‚¹æç¤ºæ²¡æœ‰â€¦ æ®è¯´IDEAçš„ä½¿ç”¨é‡å·²ç»è¶…è¿‡Eclipseå¾ˆä¹…äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆè®©IDEAè¿™ä¹ˆå—æ¬¢è¿å‘¢ï¼Ÿä¸‹é¢æ‘˜äº†ä¸€äº›ä¸Šé¢å¤–é“¾æ–‡ç« çš„ç²¾åè¿˜æœ‰ä¸€äº›æ¥è‡ªäºç™¾åº¦çš„ç²¾åï¼Œæ¥è¯´è¯´æœ€æ™ºèƒ½çš„IDEï¼šIDEAã€‚ æ™ºèƒ½æç¤ºé‡æ„ä»£ç å¦‚æœä½ å†™çš„ä»£ç è¿‡äºå¤æ‚ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„æ–¹å¼æ¥æ›¿ä»£ä½ å†™çš„ä»£ç ï¼Œé‚£ä¹ˆIDEAä¼šç»™ä½ ä¸€ä¸ªæç¤ºï¼Œå‘Šè¯‰ä½ è¿˜å¯ä»¥æœ‰æ›´å¥½çš„æ–¹å¼ã€‚å¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬å­¦javaçš„æ—¶å€™å­¦è¿‡å¢å¼ºçš„forå¾ªç¯ï¼Œå…¶å®å®ƒçš„å­¦åå«åšforeachè¯­å¥ï¼Œä¸Šé¢çš„ä»£ç æˆ‘ä½¿ç”¨äº†æ™®é€šçš„forå¾ªç¯ï¼ŒIDEAå‘Šè¯‰æˆ‘ï¼Œä½¿ç”¨foreachè¯­å¥æ›´å¥½ã€‚ æ›´å‹å¥½çš„ä»£ç æç¤ºåŠŸèƒ½ä½¿ç”¨eclipseçš„éƒ½åº”è¯¥æ¸…æ¥šï¼Œå¦‚æœä½ æƒ³è¦è¾“å…¥StringBufferï¼Œé‚£ä¹ˆä½ å¿…é¡»å¾—æŒ‰ç€é¡ºåºè¾“å…¥ï¼Œç›´æ¥è¾“sbæ˜¯ä¸è¡Œçš„ï¼Œä½†æ˜¯åœ¨IDEAé‡Œä½ å¯ä»¥è¿™æ ·è¾“å…¥ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œçœ‹ä¸‹ä¸€ä¸ªä¾‹å­ è¿˜å¯ä»¥è¿™æ ·æç¤ºã€‚è¿™äº›åªæ˜¯ä¸€äº›å¾ˆç®€å•çš„ä¾‹å­ï¼Œä½†æ˜¯å·²ç»è¶³å¤Ÿå¼ºå¤§äº†ã€‚ ä»€ä¹ˆå«æ™ºèƒ½ï¼Ÿä¸Šé¢çš„å…¶å®éƒ½æ˜¯å¾ˆåŸºç¡€çš„åŠŸèƒ½ï¼ŒIDEAæ­£çœŸæ™ºèƒ½çš„ åœ°æ–¹åœ¨äºå®ƒä¼šä¸æ–­çš„åˆ†æä½ çš„ä»£ç ï¼Œå¹¶ä¸”æ™ºèƒ½çš„è¿›è¡Œåé¦ˆã€‚æˆ‘ä»¬ å†çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚ è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„structsç¨‹åºã€‚åœ¨é…ç½®æ–‡ä»¶é‡Œå®šä¹‰äº†ä¸€ä¸ªactionå¹¶è®¾ç½®äº†ä¸¤ç§ä¸åŒçš„è¿”å›å€¼ã€‚æ‰“å¼€æˆ‘ä»¬çš„actionï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä½ å¯ä»¥ç›´æ¥ä»ä»£ç çš„å·¦ä¾§æ‰¾åˆ°è·³è½¬åˆ°å¯¹åº”é…ç½®æ–‡ä»¶çš„å¿«æ·æŒ‰é’®ã€‚å¦‚æœä½ çš„æŸä¸€ä¸ªæ–¹æ³•æ˜¯è¦†ç›–äº†çˆ¶ç±»æ–¹æ³•ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥çœ‹çˆ¶ç±»æ–¹æ³•ã€‚æ›´äººæ€§åŒ–çš„æ˜¯ï¼ŒIDEAå¯ä»¥åˆ†æå‡ºä½ çš„actionæ–¹æ³•å¯ä»¥è·³è½¬åˆ°å“ªäº›ç•Œé¢ï¼Ÿä½ æ˜¯ä¸æ˜¯ä¹Ÿæœ‰ç‚¹å¿ƒåŠ¨äº†å‘¢ï¼Ÿ å¼ºå¤§çš„çº é”™èƒ½åŠ›æˆ‘ä»¬æ€»æ˜¯ä¼šçŠ¯ä¸€äº›ä½çº§é”™è¯¯ï¼Œæ¯”å¦‚ä¸€ä¸ç•™ç¥æ‰“é”™ä¸€ä¸ªå­—æ¯ï¼Œå¯èƒ½æ‰¾äº†å¥½ä¹…éƒ½æ‰¾ä¸åˆ°é”™è¯¯æ‰€åœ¨ï¼ŒIDEAçš„çº é”™èƒ½åŠ›ä¹Ÿè®¸å¯ä»¥å¸®åˆ°ä½ ï¼Œå†çœ‹ä¸€ä¸ªä¾‹å­ã€‚ æˆ‘ä»¬åªåˆ›å»ºäº†ä¸¤ä¸ªjspï¼Œå½“ä½ çš„è¿”å›å€¼ä¸­å‡ºç°äº†ä½ æ²¡åˆ›å»ºçš„æ–‡ä»¶æ—¶ï¼ŒIDEAä¼šæç¤ºé”™è¯¯ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ä½ å› ä¸ºå†™é”™å•è¯è€Œé€ æˆçš„é”™è¯¯ã€‚ ä»¥ä¸Šå†…å®¹å‡è½¬è‡ªä¸Šæ–‡å¤–é“¾ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚åŸæ–‡ä½œè€…ï¼šCleverFan é…ç½®IDEA æˆ‘åªè®²ä¸€äº›éå¸¸å®ç”¨çš„é…ç½®ï¼Œè¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®ã€‚å¦å¤–æˆ‘åœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°æœ‰æœç‹—è¾“å…¥æ³•å¡åœ¨IDEAç•Œé¢çš„æƒ…å†µï¼Œå‡çº§æœç‹—è¾“å…¥æ³•8.6ä¹‹åå®Œç¾è§£å†³ã€‚å¦‚æœä¸€å¼€å§‹çš„å­—ä½“å¤ªå°ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‰ä½Ctrlæ»šåŠ¨é¼ æ ‡çš„æ»šè½®æ¥è°ƒèŠ‚å­—ä½“å¤§å°å“¦ã€‚ ä½ å¯ä»¥åœ¨Fileèœå•ä¸‹æ‰¾åˆ°Settingï¼Œæˆ–è€…ç›´æ¥æŒ‰ä¸‹å¿«æ·é”®ã€Ctrl+Alt+Sã€‘ å­¦ä¹ ç¼–ç¨‹ä¸€å®šå…»æˆä¹ æƒ¯ä¸è¦å»è£…ä»€ä¹ˆä¸­æ–‡åŒ…ï¼Œå¼ºè¡Œè®©è‡ªå·±ä¹ æƒ¯è‹±æ–‡çš„ç•Œé¢ï¼Œæˆ‘æœ‰ç›´è§‚çš„æ„Ÿå—æ˜¯ï¼Œç°åœ¨çœ‹è¿™äº›ä¸ªèœå•æˆ–è€…å»Javaå®˜æ–¹æŸ¥ä¸€äº›APIå‡½æ•°éƒ½æ¯”è¾ƒå¾—å¿ƒåº”æ‰‹ã€‚ è®¾ç½®è‡ªåŠ¨å¯¼å…¥åŒ… å¦‚ä¸Šå›¾æ ‡æ³¨ 1 å’Œ 2 æ‰€ç¤ºï¼Œé»˜è®¤ IntelliJ IDEA æ˜¯æ²¡æœ‰å¼€å¯è‡ªåŠ¨ import åŒ…çš„åŠŸèƒ½ã€‚ å‹¾é€‰æ ‡æ³¨ 1 é€‰é¡¹ï¼ŒIntelliJ IDEA å°†åœ¨æˆ‘ä»¬ä¹¦å†™ä»£ç çš„æ—¶å€™è‡ªåŠ¨å¸®æˆ‘ä»¬ä¼˜åŒ–å¯¼å…¥çš„åŒ…ï¼Œæ¯”å¦‚è‡ªåŠ¨å»æ‰ä¸€äº›æ²¡æœ‰ç”¨åˆ°çš„åŒ…ã€‚ å‹¾é€‰æ ‡æ³¨ 2 é€‰é¡¹ï¼ŒIntelliJ IDEA å°†åœ¨æˆ‘ä»¬ä¹¦å†™ä»£ç çš„æ—¶å€™è‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥éœ€è¦ç”¨åˆ°çš„åŒ…ã€‚ä½†æ˜¯å¯¹äºé‚£äº›åŒåçš„åŒ…ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨Alt + Enter è¿›è¡Œå¯¼å…¥çš„ï¼ŒIntelliJ IDEA ç›®å‰è¿˜æ— æ³•æ™ºèƒ½åˆ°æ›¿æˆ‘ä»¬åšåˆ¤æ–­ã€‚ å®æ—¶ä»£ç æ¨¡æ¿ï¼ˆLive Templatesï¼‰çœ‹ä»¥ä¸‹çš„å›¾ï¼š å½“æˆ‘ä»¬è¾“å…¥psvmæŒ‰ä¸‹Enterä¼šè‡ªåŠ¨åˆ›å»ºmanå‡½æ•°ï¼ˆäº‹å®ä¸Šä¹Ÿå¯ä»¥é€šè¿‡è¾“å…¥mainç„¶åæŒ‰ä¸‹ã€Ctrl+Jã€‘æ™ºèƒ½æç¤ºåŠŸèƒ½æ¥åˆ›å»ºï¼‰ï¼Œç„¶åè¾“å…¥soutæŒ‰ä¸‹Enterå°±ä¼šè‡ªåŠ¨åˆ›å»ºå¥½System.out.println(â€œâ€);è¿™ä¹ˆä¸€å¥ã€‚åŒæ—¶è¿™ä¹ˆèµçš„åŠŸèƒ½è¿˜å…è®¸ç”¨æˆ·è‡ªå·±å®šä¹‰è‡ªå·±çš„æ¨¡æ¿ï¼Œå…·ä½“çš„è®¾ç½®åœ¨è¿™é‡Œï¼š è¿™é‡Œåˆ›å»ºäº†è‡ªå·±çš„ä¸€ä¸ªæ¨¡æ¿ï¼Œå«åšsysoï¼Œä»£ç åœ¨ä¸‹é¢ï¼Œæ„Ÿå…´è¶£çš„è‡ªå·±å»ç ”ç©¶ä¸‹ï¼š System.out.println(â€œ$val$çš„å€¼æ˜¯ï¼šâ€”â€œ+ $val$ + â€œï¼Œå½“å‰æ–¹æ³•=$CLASS_NAME$.$METHOD_NAME$()â€);$END$ $VAR1$ã€$CLASS_NAME$ã€$METHOD_NAME$ éƒ½ä¸ºè‡ªå·±å®šä¹‰çš„å˜é‡åã€‚è®¾ç½®å˜é‡ååªè¦ç”¨ä¸¤ä¸ª $ åŒ…ä½å³å¯ã€‚ æ¯ä¸ªå˜é‡åœ¨ä»£ç è¾“å‡ºçš„æ—¶å€™éƒ½æ˜¯ä¸€æ¬¡å…‰æ ‡ä½ç½®ï¼Œå…‰æ ‡è·³åŠ¨é¡ºåºä»å·¦åˆ°å³ï¼Œæ¯æ¬¡è·³åŠ¨æŒ‰ Enterã€‚ $END$ï¼Œè¡¨ç¤ºæœ€åéƒ½ç¼–è¾‘å®Œåå…‰æ ‡æ‰€å¤„çš„ä½ç½® $SELECTION$ï¼Œè¡¨ç¤ºè®¾ç½®ç¯ç»•å®æ—¶ä»£ç æ¨¡æ¿ï¼Œç¯ç»•åŠŸèƒ½ä¸‹é¢ä¼šæ¨¡æ¿ä¸“é—¨è¿›è¡Œä»‹ç»ã€‚ é™¤äº†ä¸¤ä¸ªç‰¹ä¾‹ï¼Œå…¶ä»–è¢«$åŒ…è£¹çš„éƒ½æ˜¯è‡ªå®šä¹‰å˜é‡ è¿™é‡Œæœ‰Jetbrainsçš„å®˜ç½‘ä»‹ç»ï¼šhttps://www.jetbrains.com/help/idea/live-template-abbreviation.htmlæœ‰å…´è¶£çš„å¯ä»¥å»äº†è§£ä¸€ä¸‹ï¼Œå˜é‡ä¹Ÿå¯ä»¥è¿™æ ·å®šä¹‰å“¦ã€‚ æ–‡ä»¶ä»£ç æ¨¡æ¿è¿™ä¸ªæˆ‘æƒ³å¤§å®¶éƒ½çŸ¥é“å§ï¼Œä½ æ¯æ¬¡æ–°å»ºä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæ€»ä¼šæœ‰ä¸€äº›å·²ç»å­˜åœ¨çš„ä»£ç æˆ–è€…æ–‡å­—ï¼Œè¿™ä¸ªå°±æ˜¯æ–‡ä»¶ä»£ç æ¨¡æ¿ã€‚ DEA é»˜è®¤æ–°å»ºç±»è‡ªå¸¦çš„ç±»æ³¨é‡Šæ ¼å¼ä¸€èˆ¬ä¸å¤Ÿå‹å¥½æˆ–æ˜¯è§„èŒƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬éœ€è¦è‡ªå·±æ ¹æ®å–œå¥½æˆ–è€…ä¸€äº›è¦æ±‚è®¾ç½®ã€‚ å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š åªéœ€è¦å¦‚ä¸‹è®¾ç½®å°±å¯ä»¥äº†ï¼š è¿™æ ·å°±å¯ä»¥æ¯æ¬¡åœ¨æ–°å»ºç±»çš„æ—¶å€™éƒ½èƒ½è‡ªåŠ¨ç”Ÿæˆå¹³æ—¶çœ‹ä»£ç æ—¶å€™åˆ«äººå†™åœ¨å¼€å¤´é‚£ç§å±Œå±Œçš„è¯´æ˜äº†ã€‚å»ºè®®çš„æ ¼å¼å¦‚ä¸‹ï¼š Postfix Completionå…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š æ€ä¹ˆè®¾ç½®çš„å‘¢ï¼Ÿåœ¨è®¾ç½®çš„åœ°æ–¹å®˜æ–¹ä¹Ÿç»™äº†ç›¸åº”çš„gifåŠ¨å›¾çš„æ¼”ç¤ºï¼Œéå¸¸å‹å¥½ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹ã€‚ ç®€å•ä¸¾å‡ ä¸ªä¾‹å­å¥½äº†ï¼š ä¸€äº›å¿«æ·é”®ã€Ctrl + Dã€‘å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œã€Ctrl + Cã€‘å¤åˆ¶å½“å‰è¡Œã€Ctrl + Vã€‘ç²˜è´´åˆ°å½“å‰è¡Œã€Ctrl + / ã€‘æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œã€Ctrl + Shift + Enterã€‘è¿™ä¸ªåŠŸèƒ½ç‰¹åˆ«æ£’ï¼Œå¯¹äºå¼ºè¿«ç—‡æ‚£è€…æ¥è¯´ç‰¹åˆ«å—ç”¨ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼šï¼ˆä½ ä»¬è‡ªå·±å…·ä½“æ„Ÿå—ä¸‹ï¼‰ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"wmyskxz"},{"title":"Javaå­¦ä¹ ç¬”è®°(0)â€”â€”äº†è§£Java","slug":"Javaå­¦ä¹ ç¬”è®°-0-â€”â€”äº†è§£Java","date":"2017-09-17T15:08:00.000Z","updated":"2020-08-03T07:42:15.907Z","comments":true,"path":"2017/09/17/java-xue-xi-bi-ji-0-liao-jie-java/","link":"","permalink":"http://www.wmyskxz.com/2017/09/17/java-xue-xi-bi-ji-0-liao-jie-java/","excerpt":"","text":"å‰è¨€ï¼š è¿™é‡Œæ˜¯ä¸€äº›å…³äºå†™æ–‡çš„åŸå› ï¼Œç›®çš„å’Œå…¶ä»–çš„æœ‰çš„æ²¡çš„ï¼Œè·ŸJavaæ²¡æœ‰ä¸€ç‚¹å…³ç³»ï¼Œå¦‚æœæ˜¯æƒ³è¦å­¦ä¹ å¹²è´§çš„ç«¥é‹å¯ä»¥ç›´æ¥è·³è¿‡ã€‚ ç³»åˆ—æ–‡ç« æœ€å¼€å§‹çš„åå­—æ˜¯ï¼šä»é›¶å¼€å§‹å­¦ä¹ Javaï¼Œä¸€æ¥æ˜¯è§‰å¾—å¤ªé•¿äº†ï¼ˆæ”¹äº†ä¹‹åä¹Ÿä¸çŸ­ï¼‰ï¼Œå¦å¤–ä¸€ä¸ªä¸€è§‰é†’æ¥è§‰å¾—å¥½åƒè¿™ä¸ªåå­—ä¸èƒ½å‡†ç¡®åæ˜ è‡ªå·±å†™æ–‡çš„ç›®çš„ï¼Œå¹¶ä¸”æˆ‘å‘ç°è¦æŠŠä¸€äº›æ¦‚å¿µè§£é‡Šå¾—ç‰¹åˆ«æ¸…æ¥šç»™æ²¡æœ‰ç¼–ç¨‹åŸºç¡€çš„äººçœ‹ï¼Œå¯¹æˆ‘æ¥è¯´æ˜¯å¾ˆæœ‰éš¾åº¦çš„ä¸€ä»¶äº‹æƒ…ï¼Œæ‰€ä»¥å†³å®šæŠŠåå­—æ”¹äº†ï¼Œç¬”è®°æ˜¯å¯ä»¥æ”¹çš„ï¼Œå°±åƒä»Šå¤©çªç„¶æƒ³èµ·è¿™ä¸€ç¯‡æœ‰äº›ä¸œè¥¿è¿˜éœ€è¦æ·»åŠ å°±æ¥æ”¹äº†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å–œæ¬¢çš„å¹¶ä¹æ„åšçš„äº‹æƒ…ï¼Œshareã€‚â€”â€”17.9.18æ›´æ–° å†™æ–‡çš„å‡ ä¸ªåŸå› ï¼šè¿™å­¦æœŸç¬”è€…ä¹Ÿå¼€äº†Javaçš„è¯¾ï¼Œä¸Šçš„ç¬¬ä¸€èŠ‚è¯¾è€å¸ˆè¯´ï¼šæ•™æï¼Œä½ ä»¬èŠ±ä¸¤ä¸ªæ˜ŸæœŸå¤§æ¦‚çœ‹ä¸€ä¸‹å°±å¯ä»¥æ‰”äº†ã€‚æœ‰äº›åŒå­¦å½“ç¬‘è¯å¬äº†ï¼Œæœ‰äº›åŒå­¦ä¸ä»¥ä¸ºç„¶ï¼Œè€Œæˆ‘å½“çœŸäº†ï¼Œæˆ‘çœŸçš„æŠŠéƒ‘è‰è‘—çš„æ•™æã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹ï¼ˆç¬¬2ç‰ˆï¼‰â€œçœ‹äº†ä¸€éâ€ï¼Œè¿˜ä¸åˆ°ä¸¤ä¸ªæ˜ŸæœŸï¼Œå½“ç„¶å…¶ä¸­æœ‰ä¸€äº›é—®é¢˜æ²¡æœ‰å»æ·±ç©¶ï¼Œæ¯”å¦‚æ•°æ®åº“è¿˜æœ‰çº¿ç¨‹çš„ä¸œè¥¿ï¼Œå› ä¸ºè€å¸ˆè¯´çš„åé¢ä¸€å¥è¯æˆ‘ä¹Ÿè®¤çœŸå¬äº†ï¼šå¯ä»¥ç”³è¯·ä¸æ¥ä¸Šè¯¾ã€‚æ‰€ä»¥å°±ç€ç¬”è€…c++å¾®è–„çš„åŸºç¡€æ‹‰å®Œäº†ä¸€éæ•™æï¼Œå¾ˆæ˜¯ç²—ç³™ï¼Œæƒ³è¦é‡æ–°å­¦ä¹ ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸå› ã€‚ æ˜¨æ™šçœ‹åˆ°ç®€ä¹¦ä¸Šçš„ä¸€ä½åšä¸»ï¼šCleverFanã€‚ä»–å†™ä¸‹çš„é‡æ–°è®¤è¯†Javaç³»åˆ—ï¼Œå¾ˆæ˜¯å—ç”¨ï¼Œæœ¬æ¥ä¿æŒå¾—å¾ˆå¥½çš„ç”Ÿç‰©é’Ÿï¼Œä¹Ÿå› ä¸ºçœ‹åˆ°ä»–çš„æ–‡ç« ï¼Œç¡¬æ˜¯çœ‹åˆ°äº†æ¥è¿‘2ç‚¹ï¼Œï¼ˆåœ¨æ­¤æ¨èä¸€ä¸‹ï¼‰ä¹Ÿç”±æ­¤ä¹Ÿäº§ç”Ÿäº†å†™æ–‡çš„å†²åŠ¨ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªåŸå› ã€‚ ä»Šå¤©å»çœ‹äº†ä¸€ä¸‹å…³äºJavaæ–¹é¢æ¯”è¾ƒæƒå¨çš„ä¸¤æœ¬å„¿ä¹¦ï¼Œä¸€æœ¬ã€ŠThinking in Javaã€‹ã€ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·â… ã€‹ï¼Œè§‰å¾—å†™å¾—ç‰¹åˆ«æ£’ï¼Œä¹Ÿäº§ç”Ÿäº†ä¸€äº›è‡ªå·±çš„æƒ³æ³•ï¼Œæƒ³è¦åˆ†äº«ã€‚ å†™æ–‡çš„ç›®çš„ï¼šé¦–å…ˆéœ€è¦è¯´çš„æ˜¯ç¬”è€…æ˜¯ä¸€åå­¦æ¸£æ¸£ã€‚æˆ‘ä¹Ÿæ˜¯æ­£åœ¨å­¦ä¹ ï¼Œå†™æ–‡æ›´å¤šçš„ç›®çš„æ˜¯åœ¨äºäº¤æµæƒ³æ³•ï¼Œåˆ†äº«å­¦ä¹ æˆæœï¼Œä¹Ÿæ˜¯ç»™è‡ªå·±å¢åŠ ä¸€äº›ç§¯ç´¯ã€‚è¿˜æœ‰å°±æ˜¯è§‰å¾—æœ‰äº›æ•™æè®²å¾—å¤ªç”Ÿæ¶©éš¾æ‡‚ï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ˜¯æˆ‘çœ‹CleverFançš„åšæ–‡æƒ³åˆ°çš„ï¼Œå¸Œæœ›è‡ªå·±èƒ½é€šè¿‡ä¸€äº›æ›´åŠ å¥½ç©çš„æ–¹å¼å†™å‡ºæ¥ã€‚ä¹Ÿå¸Œæœ›æ–‡ç« æœ‰ä»€ä¹ˆé—®é¢˜èƒ½å¤ŸåŠæ—¶åé¦ˆç»™æˆ‘ã€‚ å…³äºæ›´æ–°ï¼šå› ä¸ºä¸ªäººæ€§æ ¼çš„åŸå› ï¼Œæˆ‘æ€»æ˜¯å¸Œæœ›èƒ½æŠŠä¸€ä»¶äº‹æƒ…åšå¾—å¾ˆå¥½ï¼Œæ‰€ä»¥å¦‚æœæœ‰å¾ˆä¹…æ²¡æœ‰æ›´æ–°çš„æƒ…å†µï¼Œé‚£å°±å½“æˆ‘æ­£åœ¨åŠªåŠ›æƒ³æ€ä¹ˆå†™æ–‡å§â€¦hhh æˆ‘ä¼šå°½å¯èƒ½å¿«çš„æ›´æ–°æ–‡ç« ï¼Œä¹Ÿå°½å¯èƒ½ç”¨é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è¯´æ˜ï¼Œä¼šæŠŠè¯»è€…å¤§å¤§ä»¬å½“æˆæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦Javaå»ç»†è‡´çš„è®²è§£ï¼Œä¹Ÿå¸Œæœ›è¯»è€…å¤§å¤§ä»¬èƒ½æ”¯æŒæˆ‘çš„æ–‡ç« ï¼Œå…³äºåæœŸç»´æƒçš„ä¸œè¥¿è¿˜æ²¡æœ‰å»æƒ³ï¼Œæ‰€ä»¥å¸Œæœ›å¦‚æœæœ‰è½¬è½½çš„è¯·æ³¨æ˜ä¸€ä¸‹åŸæ–‡å‡ºå¤„è°¢è°¢ã€‚ æ­£å¼å¼€å§‹ä¹‹å‰å…ˆé—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼šJavaæ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä½ çš„ç­”æ¡ˆä»…ä»…æ˜¯åœç•™åœ¨ï¼šæ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„è¯ï¼Œå¸Œæœ›çœ‹å®Œè¿™ç¯‡æ–‡ç« çš„ä½ ï¼Œå¯¹Javaæœ‰ä¸€ä¸ªæ›´åŠ å…¨é¢æ·±å…¥çš„äº†è§£ã€‚è‡³å°‘åœ¨å­¦ä¹ ä¸€é—¨è¯­è¨€ä¹‹å‰ï¼Œäº†è§£ä¸€ä¸‹è‡ªå·±è¦å­¦çš„æ˜¯ä»€ä¹ˆï¼Œå¯¹å§ï¼Ÿ Javaçš„ç®€å•æè¿° ä»¥ä¸‹å¤§å†…å®¹éƒ¨åˆ†æç‚¼è‡ªJavaæ ¸å¿ƒæŠ€æœ¯ å·â…  ã€‚ Javaæœ€åˆçš„è®¾è®¡åˆè¡·æ˜¯ï¼šèƒ½å¤Ÿç”¨äºåƒæœ‰çº¿ç”µè§†è½¬æ¢ç›’ä¸€ç±»å¤„ç†èƒ½åŠ›å’Œå†…å­˜éƒ½å¾ˆæœ‰é™ï¼Œå¹¶ä¸”CPUå‚å•†å„ä¸ç›¸åŒçš„ä¸€äº›æ¶ˆè´¹è®¾å¤‡ä¸Šã€‚ç„¶è€Œæ—¶è‡³ä»Šæ—¥åœ¨Javaçš„å¼€å‘è€…ç¼–å†™çš„ç™½çš®ä¹¦ä¸­ï¼ˆè¿™æ˜¯Javaè®¾è®¡è€…ç”¨æ¥è§£é‡Šè®¾è®¡çš„åˆè¡·ä»¥åŠå®Œæˆçš„æƒ…å†µçš„ç®€çŸ­æ‘˜è¦ï¼‰ï¼Œå¯¹Javaçš„æè¿°å´æ˜¯è¿™æ ·çš„ï¼š ä½ ä¸å¿…å…¨éƒ¨éƒ½è¯»ä¸€éï¼Œç¬”è€…è¯»æ¥å¤§ä½“çš„æ„Ÿè§‰æ˜¯ï¼šä¸ºä½¿ç”¨è€…åˆ›é€ äº†ä¸€ä¸ªæ›´åŠ å®¹æ˜“ï¼Œç”šè‡³æ˜¯dead simpleçš„é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå¹¶åŒæ—¶å…·æœ‰ç§»æ¤æ€§å¥½ï¼Œå®‰å…¨ï¼Œå¼€å‘å‘¨æœŸçŸ­ç­‰ä¸€ç³»åˆ—ä¼˜ç‚¹ï¼Œä¹Ÿä¸ºä½ åœ¨çƒ¦æ¼c/c++çš„å¤æ‚æ€§çš„æ—¶å€™æä¾›äº†ä¸€ä¸ªæ–°çš„é€‰æ‹©ã€‚ç™½çš®ä¹¦çš„æè¿°æ›´åå‘äºè®²è¿°è¿™æ˜¯ä¸€ä¸ªæ›´åŠ ç®€å•å‹å¥½çš„å·¥å…·ï¼ŒSunå¯¹Javaçš„è®¾è®¡ç›®æ ‡å°±æ˜¯ï¼šå¾®ç¨‹åºå‘˜å‡å°‘å¤æ‚æ€§ã€‚ç”¨ä»–ä»¬çš„è¯è¯´å°±æ˜¯ï¼šæˆ‘ä»¬å…³å¿ƒçš„æ˜¯ï¼Œå‡å°‘å¼€å‘å¥å£®ä»£ç æ‰€éœ€çš„æ—¶é—´ä»¥åŠå›°éš¾ã€‚ äº‹å®ä¸Šï¼ŒJavaçš„æˆåŠŸä¹Ÿæºäºå…¶ç±»åº“èƒ½å¤Ÿè®©äººä»¬è½»æ¾åœ°å®ŒæˆåŸæœ¬æœ‰ä¸€å®šéš¾åº¦çš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼šè”ç½‘å’Œå¤šçº¿ç¨‹ã€‚å°½ç®¡Javaå¯¹äºè§£å†³ä¼ ç»Ÿçš„å•æœºç¨‹åºè®¾è®¡é—®é¢˜éå¸¸æœ‰ç”¨ï¼Œä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œå®ƒè§£å†³äº†åœ¨ä¸‡ç»´ç½‘ï¼ˆWWWï¼‰ä¸Šçš„ç¨‹åºè®¾è®¡é—®é¢˜ï¼ˆæŠŠè¶…æ–‡æœ¬é¡µé¢è½¬æ¢åˆ°å±å¹•ä¸Šçš„æµè§ˆå™¨ï¼‰ã€‚åœ¨ç™½çš®ä¹¦çš„æœ€åæåˆ°äº†HotJava TM Browserï¼Œè¿™æ˜¯Javaå¼€å‘è€…ä½¿ç”¨Javaå¼€å‘çš„ä¸€æ¬¾ç”¨æ¥ç‚«è€€Javaçš„å¼ºå¤§ä¹‹å¤„çš„æµè§ˆå™¨ï¼ŒHotJavaæµè§ˆå™¨å…·æœ‰çš„åœ¨æ‰§è¡Œç½‘é¡µä¸­å†…åµŒä»£ç çš„èƒ½åŠ›åœ¨1995å¹´çš„SunWorldå¤§ä¼šä¸Šï¼Œå¼•å‘äº†äººä»¬å»¶ç»­è‡³ä»Šçš„å¯¹Javaçš„ç‹‚çƒ­è¿½é€ã€‚ Javaçš„æˆåŠŸæºè‡ªè¯­è¨€æœ¬èº«çš„ä¸€äº›ç‰¹æ€§ï¼Œä»¥åŠSunå…¬å¸çš„è¿›ä¸€æ­¥ç ”å‘å’Œæ¨å¹¿ã€‚ç™½çš®ä¹¦ä¸­å¯¹äºJavaçš„11ä¸ªå…³é”®æœ¯è¯­è¿›è¡Œäº†ç»„ç»‡ï¼š å…³äºè¿™ä¸€æ®µçš„æè¿°ï¼Œã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·â… ã€‹æœ‰æœ‰è¶£ç®€å•çš„æè¿°ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»ç™¾åº¦ä¸€ä¸‹ã€‚ç„¶è€Œç¬”è€…è®¤ä¸ºï¼Œäº‹å®ä¸Šï¼Œè¿™äº›ç‰¹æ€§ç°åœ¨æµè§ˆä¸€éï¼Œå¿ƒé‡Œé¢çŸ¥é“å°±è¡Œäº†ï¼Œæ²¡å¿…è¦å»æ·±å…¥ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç”¨ã€‚äº‹å®ä¸Šè¿™ä¸€ç¯‡æ–‡ç« éƒ½æ˜¯ã€‚ Javaä¸å…¶ä»–è¯­è¨€çš„åŒºåˆ« Javaæ˜¯ç”±c++å‘å±•è€Œæ¥çš„ï¼Œå› ä¸ºæœ€åˆå¼€å‘Javaçš„æ˜¯Sunå…¬å¸é‚£ä¸€æ‰¹æ‹¥æœ‰UNIXåº”ç”¨èƒŒæ™¯çš„äººï¼ŒJavaæ›´åƒæ˜¯C++è¯­æ³•çš„ä¸€ä¸ªâ€œçº¯å‡€â€ç‰ˆæœ¬ã€‚è¿™é‡Œæ²¡æœ‰å¤´æ–‡ä»¶ã€æŒ‡é’ˆè¿ç®—ï¼ˆç”šè‡³æŒ‡é’ˆè¯­æ³•ï¼Œä½†å¹¶ä¸ä»£è¡¨å–æ¶ˆäº†æŒ‡é’ˆæœºåˆ¶ï¼Œè¿™åœ¨åé¢ä¼šè®²åˆ°ï¼‰ã€ç»“æ„ã€è”åˆã€æ“ä½œç¬¦é‡è½½ã€è™šåŸºç±»ç­‰ã€‚ç„¶è€Œï¼Œè®¾è®¡è€…å¹¶æ²¡æœ‰è¯•å›¾æ¸…é™¤C++ä¸­æ‰€æœ‰ä¸é€‚å½“çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œswitchè¯­æ³•çš„è¯­æ³•åœ¨Javaä¸­å°±æ²¡æœ‰æ”¹å˜ã€‚äº‹å®ä¸Šï¼ŒJavaè¿˜æœ‰è®¸å¤šå¥‡æ€ªçš„è¯­æ³•ï¼Œåé¢ä¹Ÿä¼šæåˆ°ã€‚ JavaScriptå’ŒJavaé™¤äº†è¯­æ³•ç±»ä¼¼ï¼Œåå­—ç±»ä¼¼ ï¼Œå…¶ä»–å†æ— ä»€ä¹ˆå…³ç³»ã€‚JavaScriptæ˜¯ä¸€ç§åœ¨ç½‘é¡µä¸­ä½¿ç”¨çš„è„šæœ¬è¯­è¨€ï¼Œè€ŒJavaåˆ™æ˜¯ä¸€ç§å¼ºå¤§çš„é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œé‡ç‚¹åœ¨å¯¹è±¡å’Œå¯¹è±¡çš„æ¥å£ä¸Šï¼Œè€Œå¹¶éæ‰€ä½¿ç”¨çš„å·¥å…·ä¸Šã€‚ é¢å‘å¯¹è±¡è®¾è®¡æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æŠ€æœ¯ã€‚ç”¨æœ¨åŒ æ‰“ä¸€ä¸ªæ¯”æ–¹ï¼Œä¸€ä¸ªâ€œé¢å‘å¯¹è±¡çš„â€æœ¨åŒ å§‹ç»ˆå…³æ³¨çš„æ˜¯æ‰€åˆ¶ä½œçš„æ¤…å­ï¼Œç¬¬äºŒä½æ‰æ˜¯ä½¿ç”¨çš„å·¥å…·ï¼›ä¸€ä¸ªâ€œéé¢å‘å¯¹è±¡çš„â€æœ¨åŒ é¦–å…ˆè€ƒè™‘çš„æ˜¯è‡ªå·±çš„å·¥å…·ã€‚ å…³äºJava appletå…¶å®å¾ˆç®€å•ï¼Œç½‘é¡µä¸­è¿è¡Œçš„Javaç¨‹åºå°±æ˜¯appletï¼Œåªä¸è¿‡éœ€è¦ä¸€äº›ç‰¹åˆ«çš„è¯­æ³•æ¥è¯´æ˜ã€‚ç½‘é¡µä¸­çš„åµŒå…¥çš„appletç¨‹åºå°±å¦‚åŒåœ¨ç½‘é¡µä¸­åµŒå…¥äº†ä¸€å‰¯å›¾ç‰‡ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿™å¹…å›¾ç‰‡èƒ½å¤Ÿå¯¹äºç”¨æˆ·çš„æ“ä½œä½œå‡ºå“åº”ï¼Œæ”¹å˜å¤–è§‚ã€ä¼ é€’æ•°æ®ç­‰ã€‚å…³äºè¿™æ–¹é¢å¯ä»¥åšä¸€äº›ç›¸å…³çš„äº†è§£ï¼Œä½†ç¬”è€…å¹¶ä¸æ‰“ç®—æ·±å…¥ç ”ç©¶è¿™æ–¹é¢çš„ä¸œè¥¿ã€‚ äº†è§£é¢å‘å¯¹è±¡æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æä¾›æŠ½è±¡çš„æœºåˆ¶ã€‚å°±åƒæ±‡ç¼–è¯­è¨€æ˜¯å¯¹äºåº•å±‚æœºå™¨çš„è½»å¾®æŠ½è±¡ã€‚æ¥ç€å‡ºç°äº†æ‰€è°“çš„â€œå‘½ä»¤å¼â€è¯­è¨€ï¼ˆå¦‚FORTRANã€BASICã€Cç­‰ï¼‰éƒ½æ˜¯å¯¹æ±‡ç¼–è¯­è¨€çš„æŠ½è±¡ã€‚è¿™äº›è¯­è¨€åœ¨æ±‡ç¼–è¯­è¨€çš„åŸºç¡€ä¸Šæœ‰äº†å¤§å¹…çš„æ”¹è¿›ï¼Œä½†æ˜¯å®ƒä»¬æ‰€ä½œçš„ä¸»è¦æŠ½è±¡ä»è¦æ±‚åœ¨è§£å†³é—®é¢˜çš„æ—¶å€™è¦åŸºäºè®¡ç®—æœºçš„ç»“æ„ï¼Œè€Œä¸æ˜¯åŸºäºæ‰€è¦è§£å†³é—®é¢˜çš„ç»“æ„æ¥è€ƒè™‘ã€‚ç¨‹åºå‘˜å¿…é¡»å»ºç«‹èµ·åœ¨æœºå™¨æ¨¡å‹å’Œå®é™…å¾…è§£é—®é¢˜ä¹‹é—´çš„æ¨¡å‹çš„è”ç³»ã€‚è€Œå»ºç«‹è¿™ç§æ˜ å°„æ˜¯è´¹åŠ›çš„ï¼Œè¿™ä¸æ˜¯å±äºç¼–ç¨‹è¯­è¨€çš„å›ºæœ‰çš„åŠŸèƒ½ï¼Œè¿™ä½¿å¾—ç¨‹åºéš¾ä»¥ç¼–å†™ï¼Œå¹¶ä¸”ç»´æŠ¤ä»£ä»·é«˜æ˜‚ã€‚ é¢å‘å¯¹è±¡çš„æ–¹å¼é€šè¿‡å‘ç¨‹åºå‘˜æä¾›è¡¨ç¤ºé—®é¢˜ç©ºé—´ä¸­çš„å…ƒç´ çš„å·¥å…·è€Œæ›´è¿›ä¸€æ­¥ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡å‘¢ï¼Ÿæ‰€è°“å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯æŠ½è±¡åŒ–çš„æ•°æ®æœ¬èº«ã€‚ä¸‡ç‰©çš†æ˜¯å¯¹è±¡ï¼Œä¸€åªç‹—ï¼Œä¸€ä¸ªäººï¼Œä¸€æ ‹å»ºç­‘ï¼Œè€Œè¿™äº›å¯¹è±¡æ‹¥æœ‰ä»–ä»¬è‡ªå·±çš„ä¸€äº›è¡Œä¸ºï¼Œæ¯”å¦‚ç‹—è¦åƒé¥­ï¼Œè¦è·‘ï¼ŒæŠŠè¿™äº›ç§°ä¸ºå±äºç‹—çš„æ–¹æ³•ï¼Œç„¶åæŠŠç”¨ä¸€ä¸ªå«åšâ€œç±»â€çš„ä¸œè¥¿æ¥æ‰“åŒ…ï¼ˆå°è£…ï¼‰å¥½ç‹—è¿™ä¸ªå¯¹è±¡è¿˜æœ‰å±äºå®ƒçš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å’ŒåŠŸèƒ½ã€‚è¿™å°±æ˜¯é¢å‘å¯¹è±¡ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ï¼šç¨‹åºå¯ä»¥é€šè¿‡æ·»åŠ æ–°ç±»å‹çš„å¯¹è±¡ä½¿è‡ªèº«é€‚ç”¨äºæŸä¸ªç‰¹å®šçš„é—®é¢˜ã€‚ä»…æ­¤è€Œå·²ã€‚ å†™åœ¨æ–‡ç« çš„æœ€åï¼šæ•´ç¯‡æ–‡ç« è¯»äº†å¥½å‡ éï¼Œæœ€å¼€å§‹æœ¬æ¥æ˜¯æ‰“ç®—æŠŠæ•´ä¸€æ®µã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·â… ã€‹å…³äºJavaç®€å²çš„ä¸œè¥¿è´´å‡ºæ¥çš„ï¼Œä½†å‘ç°å¥½åƒç”¨å¤„å¹¶ä¸ä¼šå¾ˆå¤§ï¼Œåªæœ‰å¢åŠ ç¯‡å¹…çš„ä½œç”¨ã€‚æ–‡ç« çš„å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªäºä¸Šæ–‡æåˆ°çš„ä¸¤éƒ¨ç»å…¸æ•™æï¼Œç¬¬ä¸€æ¬¡å†™æ–‡ï¼Œå¸Œæœ›å–œæ¬¢çš„å¤šå¤šæ”¯æŒï¼Œæœ‰ä»€ä¹ˆä¸è¶³ä¹Ÿèƒ½åŠæ—¶æå‡ºï¼Œè°¢è°¢ã€‚ æŒ‰ç…§æƒ¯ä¾‹é»ä¸€ä¸ªå°¾å·´ï¼š æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ç®€ä¹¦IDï¼š@æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„githubï¼šwmyskxzæ¬¢è¿å…³æ³¨å…¬ä¼—å¾®ä¿¡å·ï¼šwmyskxzåˆ†äº«è‡ªå·±çš„å­¦ä¹  &amp; å­¦ä¹ èµ„æ–™ &amp; ç”Ÿæ´»æƒ³è¦äº¤æµçš„æœ‹å‹ä¹Ÿå¯ä»¥åŠ qqç¾¤ï¼š3382693","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"}],"author":"wmyskxz"}],"categories":[{"name":"çŸ¥ä¹é—®ç­”","slug":"çŸ¥ä¹é—®ç­”","permalink":"http://www.wmyskxz.com/categories/%E7%9F%A5%E4%B9%8E%E9%97%AE%E7%AD%94/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/"},{"name":"å¤šçº¿ç¨‹","slug":"MoreThanJava/å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"},{"name":"çŸ¥ä¹é—®é¢˜","slug":"MoreThanJava/çŸ¥ä¹é—®é¢˜","permalink":"http://www.wmyskxz.com/categories/MoreThanJava/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/categories/%E5%89%8D%E7%AB%AF/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"å‰ç«¯/æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/categories/%E5%89%8D%E7%AB%AF/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/"},{"name":"ä¸­é—´ä»¶","slug":"é¢è¯•/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E9%9D%A2%E8%AF%95/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Python","slug":"Python","permalink":"http://www.wmyskxz.com/categories/Python/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"Python/æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/categories/Python/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebè¿›é˜¶","slug":"ä¸­é—´ä»¶/JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/categories/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"ä¸­é—´ä»¶","slug":"JavaWebè¿›é˜¶/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/categories/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"JavaåŸºç¡€/å¹¶å‘ç¼–ç¨‹","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"},{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"http://www.wmyskxz.com/categories/%E7%94%9F%E6%B4%BB/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ¶æ„ä¹‹è·¯","slug":"JavaWebè¿›é˜¶/æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"},{"name":"å…¬ä¼—å·ï¼šwmyskxz","slug":"å…¬ä¼—å·ï¼šwmyskxz","permalink":"http://www.wmyskxz.com/categories/%E5%85%AC%E4%BC%97%E5%8F%B7%EF%BC%9Awmyskxz/"},{"name":"æœ‰è¶£é›†ä¸­è¥","slug":"æœ‰è¶£é›†ä¸­è¥","permalink":"http://www.wmyskxz.com/categories/%E6%9C%89%E8%B6%A3%E9%9B%86%E4%B8%AD%E8%90%A5/"},{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://www.wmyskxz.com/categories/Spring-Cloud/"},{"name":"å¾®æœåŠ¡","slug":"JavaWebè¿›é˜¶/å¾®æœåŠ¡","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"},{"name":"æ¶æ„ä¹‹è·¯","slug":"æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/categories/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"},{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/categories/Ruby/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/categories/Java-Web/"},{"name":"é¡¹ç›®","slug":"JavaWebè¿›é˜¶/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/é¡¹ç›®/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E9%A1%B9%E7%9B%AE/Spring-Boot/"},{"name":"å‰ç«¯","slug":"JavaWebè¿›é˜¶/å‰ç«¯","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%89%8D%E7%AB%AF/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/å‰ç«¯/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/%E5%89%8D%E7%AB%AF/Spring-Boot/"},{"name":"é¢è¯•","slug":"JavaåŸºç¡€/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/Java%E5%9F%BA%E7%A1%80/%E9%9D%A2%E8%AF%95/"},{"name":"é¢è¯•","slug":"ç¼–ç¨‹äººç”Ÿ/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/%E9%9D%A2%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"é¢è¯•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•/é¢è¯•","permalink":"http://www.wmyskxz.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95/"},{"name":"Spring Boot","slug":"JavaWebè¿›é˜¶/Spring-Boot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/"},{"name":"é¡¹ç›®","slug":"JavaWebè¿›é˜¶/Spring-Boot/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E8%BF%9B%E9%98%B6/Spring-Boot/%E9%A1%B9%E7%9B%AE/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/categories/Redis/"},{"name":"ä¸­é—´ä»¶","slug":"Redis/ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/categories/Redis/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SpringBoot","slug":"JavaWebåŸºç¡€/SpringBoot","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SpringBoot/"},{"name":"SSM","slug":"JavaWebåŸºç¡€/SSM","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/SSM/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/SSM/%E9%A1%B9%E7%9B%AE/"},{"name":"Spring","slug":"JavaWebåŸºç¡€/Spring","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Java-Web/å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/categories/Java-Web/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Spring MVC","slug":"JavaWebåŸºç¡€/Spring-MVC","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/Spring-MVC/"},{"name":"Spring","slug":"Java-Web/Spring","permalink":"http://www.wmyskxz.com/categories/Java-Web/Spring/"},{"name":"é¡¹ç›®","slug":"JavaWebåŸºç¡€/é¡¹ç›®","permalink":"http://www.wmyskxz.com/categories/JavaWeb%E5%9F%BA%E7%A1%80/%E9%A1%B9%E7%9B%AE/"},{"name":"Javaè¿›é˜¶","slug":"å­¦ä¹ ç¬”è®°/Javaè¿›é˜¶","permalink":"http://www.wmyskxz.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Java%E8%BF%9B%E9%98%B6/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}],"tags":[{"name":"åŸåˆ›","slug":"åŸåˆ›","permalink":"http://www.wmyskxz.com/tags/%E5%8E%9F%E5%88%9B/"},{"name":"çŸ¥ä¹é—®ç­”","slug":"çŸ¥ä¹é—®ç­”","permalink":"http://www.wmyskxz.com/tags/%E7%9F%A5%E4%B9%8E%E9%97%AE%E7%AD%94/"},{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/Java%E5%9F%BA%E7%A1%80/"},{"name":"MoreThanJava","slug":"MoreThanJava","permalink":"http://www.wmyskxz.com/tags/MoreThanJava/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"ç¿»è¯‘æ–‡","slug":"ç¿»è¯‘æ–‡","permalink":"http://www.wmyskxz.com/tags/%E7%BF%BB%E8%AF%91%E6%96%87/"},{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://www.wmyskxz.com/tags/%E6%80%BB%E7%BB%93/"},{"name":"ç¼–ç¨‹äººç”Ÿ","slug":"ç¼–ç¨‹äººç”Ÿ","permalink":"http://www.wmyskxz.com/tags/%E7%BC%96%E7%A8%8B%E4%BA%BA%E7%94%9F/"},{"name":"çŸ¥ä¹é—®é¢˜","slug":"çŸ¥ä¹é—®é¢˜","permalink":"http://www.wmyskxz.com/tags/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://www.wmyskxz.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"æ‡‚ä¸€ç‚¹ç³»åˆ—","slug":"æ‡‚ä¸€ç‚¹ç³»åˆ—","permalink":"http://www.wmyskxz.com/tags/%E6%87%82%E4%B8%80%E7%82%B9%E7%B3%BB%E5%88%97/"},{"name":"Vue","slug":"Vue","permalink":"http://www.wmyskxz.com/tags/Vue/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://www.wmyskxz.com/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://www.wmyskxz.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"Redis","slug":"Redis","permalink":"http://www.wmyskxz.com/tags/Redis/"},{"name":"Python","slug":"Python","permalink":"http://www.wmyskxz.com/tags/Python/"},{"name":"JavaWebè¿›é˜¶","slug":"JavaWebè¿›é˜¶","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E8%BF%9B%E9%98%B6/"},{"name":"å¥½å¥‡æ˜Ÿäºº","slug":"å¥½å¥‡æ˜Ÿäºº","permalink":"http://www.wmyskxz.com/tags/%E5%A5%BD%E5%A5%87%E6%98%9F%E4%BA%BA/"},{"name":"å–œæ¬¢çš„ä¸‰è§‚","slug":"å–œæ¬¢çš„ä¸‰è§‚","permalink":"http://www.wmyskxz.com/tags/%E5%96%9C%E6%AC%A2%E7%9A%84%E4%B8%89%E8%A7%82/"},{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://www.wmyskxz.com/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"},{"name":"React","slug":"React","permalink":"http://www.wmyskxz.com/tags/React/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.wmyskxz.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Java8","slug":"Java8","permalink":"http://www.wmyskxz.com/tags/Java8/"},{"name":"æ¶æ„ä¹‹è·¯","slug":"æ¶æ„ä¹‹è·¯","permalink":"http://www.wmyskxz.com/tags/%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%B7%AF/"},{"name":"Kafka","slug":"Kafka","permalink":"http://www.wmyskxz.com/tags/Kafka/"},{"name":"å¯¼èˆª","slug":"å¯¼èˆª","permalink":"http://www.wmyskxz.com/tags/%E5%AF%BC%E8%88%AA/"},{"name":"é¢†åŸŸé©±åŠ¨è®¾è®¡","slug":"é¢†åŸŸé©±åŠ¨è®¾è®¡","permalink":"http://www.wmyskxz.com/tags/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/"},{"name":"æœ‰è¶£é›†ä¸­è¥","slug":"æœ‰è¶£é›†ä¸­è¥","permalink":"http://www.wmyskxz.com/tags/%E6%9C%89%E8%B6%A3%E9%9B%86%E4%B8%AD%E8%90%A5/"},{"name":"Spring Cloud","slug":"Spring-Cloud","permalink":"http://www.wmyskxz.com/tags/Spring-Cloud/"},{"name":"å¾®æœåŠ¡","slug":"å¾®æœåŠ¡","permalink":"http://www.wmyskxz.com/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"},{"name":"Docker","slug":"Docker","permalink":"http://www.wmyskxz.com/tags/Docker/"},{"name":"Ruby","slug":"Ruby","permalink":"http://www.wmyskxz.com/tags/Ruby/"},{"name":"ä»£ç è§„èŒƒ","slug":"ä»£ç è§„èŒƒ","permalink":"http://www.wmyskxz.com/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://www.wmyskxz.com/tags/Java-Web/"},{"name":"MongoDB","slug":"MongoDB","permalink":"http://www.wmyskxz.com/tags/MongoDB/"},{"name":"Elasticsearch","slug":"Elasticsearch","permalink":"http://www.wmyskxz.com/tags/Elasticsearch/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://www.wmyskxz.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"Shiro","slug":"Shiro","permalink":"http://www.wmyskxz.com/tags/Shiro/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://www.wmyskxz.com/tags/Spring-Boot/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"http://www.wmyskxz.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"},{"name":"JavaWebåŸºç¡€","slug":"JavaWebåŸºç¡€","permalink":"http://www.wmyskxz.com/tags/JavaWeb%E5%9F%BA%E7%A1%80/"},{"name":"SSM","slug":"SSM","permalink":"http://www.wmyskxz.com/tags/SSM/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://www.wmyskxz.com/tags/MyBatis/"},{"name":"Spring","slug":"Spring","permalink":"http://www.wmyskxz.com/tags/Spring/"},{"name":"Spring MVC","slug":"Spring-MVC","permalink":"http://www.wmyskxz.com/tags/Spring-MVC/"},{"name":"ç¿»è¯‘","slug":"ç¿»è¯‘","permalink":"http://www.wmyskxz.com/tags/%E7%BF%BB%E8%AF%91/"}]}